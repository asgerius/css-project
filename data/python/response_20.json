[{"tags": ["python", "powershell"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1432771075, "post_id": 30495055, "comment_id": 49067647, "body": "Double-check your current working directory, and the directory in which your source code is saved."}, {"owner": {"reputation": 1047, "user_id": 4237058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0e1102b67c00ae039e410c7a784528ba?s=128&d=identicon&r=PG&f=1", "display_name": "Chaker", "link": "https://stackoverflow.com/users/4237058/chaker"}, "edited": false, "score": 0, "creation_date": 1432771353, "post_id": 30495055, "comment_id": 49067718, "body": "Your script is directly in <code>C:</code>??"}, {"owner": {"reputation": 14821, "user_id": 60620, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a4c50597f47ad4cb6e6d945500e7eea9?s=128&d=identicon&r=PG", "display_name": "dan-gph", "link": "https://stackoverflow.com/users/60620/dan-gph"}, "edited": false, "score": 0, "creation_date": 1432775601, "post_id": 30495055, "comment_id": 49068657, "body": "What happens if you do <code>dir ex1.py</code> ? If you get an error, you are in the wrong directory."}, {"owner": {"reputation": 40194, "user_id": 3829407, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DQPor.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3829407/matt"}, "edited": false, "score": 0, "creation_date": 1432784795, "post_id": 30495055, "comment_id": 49070765, "body": "Along with tiger you could check <code>Get-Location</code> to see if it is C:"}], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1432771402, "creation_date": 1432771402, "answer_id": 30495111, "question_id": 30495055, "link": "https://stackoverflow.com/questions/30495055/powershell-not-finding-a-file-with-a-py-extension/30495111#30495111", "title": "Powershell not finding a file with a .py extension", "body": "<p>You need to explicitly indicate that the file is in the current working directory. </p>\n\n<p>Try this: </p>\n\n<pre><code>python ./ex1.py\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4946874, "user_type": "registered", "profile_image": "https://graph.facebook.com/1140064642686177/picture?type=large", "display_name": "Josh Miller", "link": "https://stackoverflow.com/users/4946874/josh-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1432844304, "creation_date": 1432844304, "answer_id": 30516327, "question_id": 30495055, "link": "https://stackoverflow.com/questions/30495055/powershell-not-finding-a-file-with-a-py-extension/30516327#30516327", "title": "Powershell not finding a file with a .py extension", "body": "<p>I got it to work finally, I had it in a folder under the path</p>\n\n<p><code>C:\\Users\\MyUser\\PythonTest\\ex1.py</code></p>\n\n<p>This was wrong, however when I made it</p>\n\n<p><code>C:\\Users\\MyUser\\ex1.py</code></p>\n\n<p>It worked, thanks for all the help!</p>\n"}], "owner": {"reputation": 11, "user_id": 4946874, "user_type": "registered", "profile_image": "https://graph.facebook.com/1140064642686177/picture?type=large", "display_name": "Josh Miller", "link": "https://stackoverflow.com/users/4946874/josh-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432844304, "creation_date": 1432770984, "last_edit_date": 1432773537, "question_id": 30495055, "link": "https://stackoverflow.com/questions/30495055/powershell-not-finding-a-file-with-a-py-extension", "title": "Powershell not finding a file with a .py extension", "body": "<p>I am using Zed Shaw's \"Learn Python the Hard Way\" and have gotten Python to work.  I made a file and saved it as ex1.py.  I type the command</p>\n\n<p><code>python ex1.py</code></p>\n\n<p>This does not recognize the file like it should and instead gives me this</p>\n\n<p><code>can't open file 'ex1.py': [Errno 2] No such file or directory</code></p>\n\n<p>I have checked and double-checked it.  There is definitely a ex1.py file saved in my Local Disk (C:).  None of the common errors on his tutorial include mine.  Any tips?</p>\n"}, {"tags": ["python", "opencv", "raspberry-pi", "opticalflow"], "comments": [{"owner": {"reputation": 8020, "user_id": 1633399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wK6kY.png?s=128&g=1", "display_name": "BConic", "link": "https://stackoverflow.com/users/1633399/bconic"}, "edited": false, "score": 0, "creation_date": 1432796327, "post_id": 30495018, "comment_id": 49075140, "body": "If <code>good_new</code> is the new position and <code>good_old</code> the old position, isn&#39;t the direction of motion of the points simply <code>good_new-good_old</code> (maybe with normalization) ? Or do you mean something else by &quot;the directional movement of the good points to track&quot; ?"}, {"owner": {"reputation": 31, "user_id": 4946676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3ef1756ed460e3ad80909486fbd57b?s=128&d=identicon&r=PG&f=1", "display_name": "eejays", "link": "https://stackoverflow.com/users/4946676/eejays"}, "reply_to_user": {"reputation": 8020, "user_id": 1633399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wK6kY.png?s=128&g=1", "display_name": "BConic", "link": "https://stackoverflow.com/users/1633399/bconic"}, "edited": false, "score": 0, "creation_date": 1433039348, "post_id": 30495018, "comment_id": 49178777, "body": "I am currently printing out to screen the good_new - good_old value and I am getting what seems to be an array that contains two separate values. They are a float type that constantly keep changing between -4 or so to about 4. Where there is minimal movement it is actually on 0. I may be close to what I need. Could you explain what the process of normalization does? Thanks"}, {"owner": {"reputation": 8020, "user_id": 1633399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wK6kY.png?s=128&g=1", "display_name": "BConic", "link": "https://stackoverflow.com/users/1633399/bconic"}, "edited": false, "score": 0, "creation_date": 1433052163, "post_id": 30495018, "comment_id": 49180755, "body": "Well <code>good_new-good_old</code> is the set of vectors from the old points to the new ones. If you just want a direction, you may want to divide these vectors by their norm so that they all have a norm of 1."}, {"owner": {"reputation": 8020, "user_id": 1633399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wK6kY.png?s=128&g=1", "display_name": "BConic", "link": "https://stackoverflow.com/users/1633399/bconic"}, "edited": false, "score": 0, "creation_date": 1433053052, "post_id": 30495018, "comment_id": 49180943, "body": "Of course, you would need to be careful when normalizing a vector whose norm is close to zero."}, {"owner": {"reputation": 1355, "user_id": 1163462, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb5426025e066629df319666ed5dd553?s=128&d=identicon&r=PG", "display_name": "basav", "link": "https://stackoverflow.com/users/1163462/basav"}, "edited": false, "score": 0, "creation_date": 1541911737, "post_id": 30495018, "comment_id": 93376909, "body": "can direction be inferred from the sign of difference between new and old points?If it is negative, it is in r-l direction and vice versa?"}], "owner": {"reputation": 31, "user_id": 4946676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad3ef1756ed460e3ad80909486fbd57b?s=128&d=identicon&r=PG&f=1", "display_name": "eejays", "link": "https://stackoverflow.com/users/4946676/eejays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5427, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1432770691, "creation_date": 1432770691, "question_id": 30495018, "link": "https://stackoverflow.com/questions/30495018/finding-vector-direction-using-optical-flow-in-opencv-python", "title": "Finding vector direction using Optical Flow in OpenCV (Python)", "body": "<p>I am struggling (and trying to learn) with understanding the concept of using the Lucas-Kanade Optical Flow function in OpenCV to find the directional movement of the 'good points to track'. I've been told I need to calculate the direction of vectors from the <code>cv2.calcOpticalFlowPyrLK()</code> function.</p>\n\n<pre><code>import numpy as np\nimport cv2\n\ncap = cv2.VideoCapture(0)\nnamedWindow('OptFlow', cv2.CV_WINDOW_AUTOSIZE)\n\n# params for corner detection\nfeature_params = dict( maxCorners = 100,\n                   qualityLevel = 0.3,\n                   minDistance = 7,\n                   blockSize = 7 )\n\n# LK params\nlk_params = dict( winSize  = (15,15),\n              maxLevel = 2,\n              criteria = (cv2.TERM_CRITERIA_EPS | cv2.TERM_CRITERIA_COUNT,\n10, 0.03))\n\n# Create some random colors\ncolor = np.random.randint(0,255,(100,3))\n\n# Take first frame and find corners in it\nret, old_frame = cap.read()\nold_gray = cv2.cvtColor(old_frame, cv2.COLOR_BGR2GRAY)\np0 = cv2.goodFeaturesToTrack(old_gray, mask = None, **feature_params)\n\nwhile(1):\nret,frame = cap.read()\nframe_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n# calculate optical flow\np1, st, err = cv2.calcOpticalFlowPyrLK(old_gray, frame_gray, p0, None,    **lk_params)\n\n# Select good points\ngood_new = p1[st==1]\ngood_old = p0[st==1]\n\ncv2.imshow('OptFlow',img)\nk = cv2.waitKey(30) &amp; 0xff\nif k == 27:\n    break\n\n# update prev frame with new\nold_gray = frame_gray.copy()\np0 = good_new.reshape(-1,1,2) \ncv2.destroyAllWindows()\ncap.release()\n</code></pre>\n\n<p>The code is from a tutorial I have been following as I am quite new to programming and Python. How would I find the directional movement so I could output a (-1) for movement to left, (0) for no movement and (1) for movement to the right from the optical flow calculation?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user734094"}, "edited": false, "score": 1, "creation_date": 1433229061, "post_id": 30494997, "comment_id": 49248200, "body": "Look at this: <a href=\"http://stackoverflow.com/questions/8142923/how-to-add-rows-using-subqueries-in-sqlalchemy/8149752#8149752\">SO answer</a>  It might give you some ideas."}], "answers": [{"comments": [{"owner": {"reputation": 31114, "user_id": 392975, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a62bcec9b5b35a3cab7c25a44016e0d4?s=128&d=identicon&r=PG", "display_name": "Eli", "link": "https://stackoverflow.com/users/392975/eli"}, "edited": false, "score": 0, "creation_date": 1433116992, "post_id": 30553322, "comment_id": 49199105, "body": "How does this answer my question?  I don&#39;t want to copy any objects."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user554538"}, "is_accepted": false, "score": 2, "last_activity_date": 1433040194, "creation_date": 1433040194, "answer_id": 30553322, "question_id": 30494997, "link": "https://stackoverflow.com/questions/30494997/can-i-add-a-new-item-based-on-another-database-row-in-sqlalchemy/30553322#30553322", "title": "Can I add a new item based on another database row in SQLAlchemy?", "body": "<p>If <code>i0</code> is the object you want to copy, you can remove it from the session to make it transient:</p>\n\n<pre><code>i0 = select\nsession.expunge(i0)\n</code></pre>\n\n<p>Then you set it's <code>id</code> to <code>None</code> so that it's no longer referencing any real database row:</p>\n\n<pre><code>i0.id = None\n</code></pre>\n\n<p>Then you can modify the object:</p>\n\n<pre><code>i0.a = 1\ni0.b = 2\n</code></pre>\n\n<p>And finally, you add the transient object back to the session and flush it to get a new <code>id</code> for it:</p>\n\n<pre><code>session.add(i0)\nsession.flush()\n</code></pre>\n\n<p>You'll find that the object is now a new row:</p>\n\n<pre><code>print i0.id #New ID\n</code></pre>\n\n<p>And if you look things up by the old ID, you'll have another object that's the same as before the changes, with the original ID, too.</p>\n"}], "owner": {"reputation": 31114, "user_id": 392975, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a62bcec9b5b35a3cab7c25a44016e0d4?s=128&d=identicon&r=PG", "display_name": "Eli", "link": "https://stackoverflow.com/users/392975/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1433040194, "creation_date": 1432770548, "question_id": 30494997, "link": "https://stackoverflow.com/questions/30494997/can-i-add-a-new-item-based-on-another-database-row-in-sqlalchemy", "title": "Can I add a new item based on another database row in SQLAlchemy?", "body": "<p>As the title suggests, I want to add a row with an id based on another row in SQLALchemy. Currently, I'm adding an extra <code>select</code>, but I'd like to get rid of this. I know this is possible in MySQL, so I'm just trying to figure out the SQLAlchemy version. Here's what I currently have:</p>\n\n<pre><code>keywords = ['a', 'b', 'c']\nprefix_id = session.query(Prefix.id)\\\n    .filter_by(name=some_prefix).first()[0]\ninventory_item = InventoryItem(\n    item=some_item, prefix_id=prefix_id, address=some_address)\ninventory_item_metas = [InventoryItemMeta(\n    inventory_item=inventory_item,\n    type='keyword',\n    value=keyword) for keyword in keywords]\n</code></pre>\n\n<p>Note that I'm adding more items based off the id returned, so I'd like to do everything in one transaction as efficiently as possible.</p>\n"}, {"tags": ["python", "macos", "bash"], "comments": [{"owner": {"reputation": 5949, "user_id": 1322179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDCxx.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/1322179/ben"}, "edited": false, "score": 7, "creation_date": 1433003319, "post_id": 30494967, "comment_id": 49169337, "body": "Try  pip uninstalling virtualenv and reinstalling it again with pip."}], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 1001646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1320f54d6ef1678d9661c3fddaf5317?s=128&d=identicon&r=PG", "display_name": "Alex K", "link": "https://stackoverflow.com/users/1001646/alex-k"}, "edited": false, "score": 8, "creation_date": 1433420834, "post_id": 30562771, "comment_id": 49351591, "body": "omg. buying brand new computer would &quot;fix&quot; that too.  did you try what @Ben suggested?"}, {"owner": {"reputation": 382, "user_id": 1076791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515c1901adb562e65eb0854d5847e4b3?s=128&d=identicon&r=PG", "display_name": "Rcynic", "link": "https://stackoverflow.com/users/1076791/rcynic"}, "edited": false, "score": 0, "creation_date": 1433534231, "post_id": 30562771, "comment_id": 49411322, "body": "Same thing that Alex K said. The nuclear option can&#39;t be the only solution. You might want to try to reproduce the problem. And virtualenvs are made to allow multiple versions of things."}], "tags": [], "owner": {"reputation": 2289, "user_id": 2516989, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6343b9e889df2a3d09dd87cba9cd38c8?s=128&d=identicon&r=PG", "display_name": "orange1", "link": "https://stackoverflow.com/users/2516989/orange1"}, "is_accepted": true, "score": -2, "last_activity_date": 1433106886, "creation_date": 1433106886, "answer_id": 30562771, "question_id": 30494967, "link": "https://stackoverflow.com/questions/30494967/bad-interpreter-error-when-setting-up-virtualenv-for-python/30562771#30562771", "title": "Bad interpreter error when setting up virtualenv for python", "body": "<p>Looks like this issue had to do with the multiple versions of python that I had, some of which were causing issues. A clean OS install fixed the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 3411, "user_id": 1336292, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/aea6a013e6e53912ced55206b0ef07cc?s=128&d=identicon&r=PG", "display_name": "deeshank", "link": "https://stackoverflow.com/users/1336292/deeshank"}, "is_accepted": false, "score": 1, "last_activity_date": 1433513880, "creation_date": 1433513880, "answer_id": 30668867, "question_id": 30494967, "link": "https://stackoverflow.com/questions/30494967/bad-interpreter-error-when-setting-up-virtualenv-for-python/30668867#30668867", "title": "Bad interpreter error when setting up virtualenv for python", "body": "<p>I would suggest you to go with virtualenv wrapper -</p>\n\n<pre><code>export WORKON_HOME=$HOME/.virtualenvs\nexport PROJECT_HOME=$HOME/Devel\nexport VIRTUALENVWRAPPER_SCRIPT=/usr/local/bin/virtualenvwrapper.sh\nsource /usr/local/bin/virtualenvwrapper_lazy.sh\n</code></pre>\n\n<p><a href=\"http://virtualenvwrapper.readthedocs.org/en/latest/install.html#quick-start\" rel=\"nofollow\">http://virtualenvwrapper.readthedocs.org/en/latest/install.html#quick-start</a></p>\n"}], "owner": {"reputation": 2289, "user_id": 2516989, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6343b9e889df2a3d09dd87cba9cd38c8?s=128&d=identicon&r=PG", "display_name": "orange1", "link": "https://stackoverflow.com/users/2516989/orange1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1755, "favorite_count": 1, "accepted_answer_id": 30562771, "answer_count": 2, "score": 11, "last_activity_date": 1433565668, "creation_date": 1432770327, "last_edit_date": 1433565668, "question_id": 30494967, "link": "https://stackoverflow.com/questions/30494967/bad-interpreter-error-when-setting-up-virtualenv-for-python", "title": "Bad interpreter error when setting up virtualenv for python", "body": "<p>I'm attempting to set up a virtual env, but when I attempt to activate it, I get the following error:</p>\n\n<pre><code> virtualenv hello\n-bash: /usr/local/bin/virtualenv: /usr/local/Cellar/python/2.7.8/Frameworks/Python.framework/Versions/2.7/Resour: bad interpreter: No such file or directory\n</code></pre>\n\n<p>Any thoughts on what might be going wrong? My $PATH is as follows:</p>\n\n<pre><code>Users/me/workspace/google-cloud-sdk/bin:/usr/local/bin:/Users/me/workspace/google-cloud-sdk/bin:/urs/local/bin:/Users/me/workspace/google-cloud-sdk/bin:/urs/local/bin:/Users/me/workspace/google-cloud-sdk/bin:usr/local/python:usr/bin/python:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin: No such file or directory\n</code></pre>\n\n<p>-- the fact that it is returning an error makes me suspect that I've set up my .bash_profile wrong somehow. These are the only modifications I have made:</p>\n\n<pre><code>#Set architecture flags\nexport ARCHFLAGS=\"-arch x86_64\"\n\n#Ensure user-installed binaries take precedence\nexport PATH=/usr/local/bin:$PATH\n\n#Load .bashrc if it exists\ntest -f ~/.bashrc &amp;&amp; source ~/.bashrc\n\n# The next line updates PATH for the Google Cloud SDK.\nsource '/Users/me/workspace/google-cloud-sdk/path.bash.inc'\n\n# The next line enables bash completion for gcloud.\nsource '/Users/me/workspace/google-cloud-sdk/completion.bash.inc' \n</code></pre>\n\n<p>And this is my .bashrc: </p>\n\n<pre><code># pip should only run if there is a virtualenv currently activated\nexport PIP_REQUIRE_VIRTUALENV=true\n# cache pip-installed packages to avoid re-downloading\nexport PIP_DOWNLOAD_CACHE=$HOME/.pip/cache\n</code></pre>\n"}, {"tags": ["python", "multithreading", "parallel-processing"], "comments": [{"owner": {"reputation": 4933, "user_id": 2987253, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa772cdc439443e5243e9d7aa41a9c6a?s=128&d=identicon&r=PG", "display_name": "Loocid", "link": "https://stackoverflow.com/users/2987253/loocid"}, "edited": false, "score": 0, "creation_date": 1432770470, "post_id": 30494957, "comment_id": 49067497, "body": "Why not have 4 static threads, each looking at a single instrument continuously? That way you don&#39;t have to keep creating and joining threads."}, {"owner": {"reputation": 14503, "user_id": 474563, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3f27430d3d162c443506778a01a24dc2?s=128&d=identicon&r=PG", "display_name": "Pithikos", "link": "https://stackoverflow.com/users/474563/pithikos"}, "edited": false, "score": 0, "creation_date": 1432770480, "post_id": 30494957, "comment_id": 49067503, "body": "You could try a threadpool. In that way you don&#39;t get any thread overheads.."}, {"owner": {"reputation": 389, "user_id": 945424, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e383cc690051eeacf5bfcb2b0d6d9d43?s=128&d=identicon&r=PG", "display_name": "Happy", "link": "https://stackoverflow.com/users/945424/happy"}, "reply_to_user": {"reputation": 4933, "user_id": 2987253, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa772cdc439443e5243e9d7aa41a9c6a?s=128&d=identicon&r=PG", "display_name": "Loocid", "link": "https://stackoverflow.com/users/2987253/loocid"}, "edited": false, "score": 0, "creation_date": 1432773216, "post_id": 30494957, "comment_id": 49068165, "body": "@Loocid I&#39;m not sure what you mean by static threads for python, but I need to read the four values at the same time, i.e. even for my best-case scenario I will always be limited by the slowest thread. But that is fine, as long as I don&#39;t have to read from the instruments in a serial manner! =)"}, {"owner": {"reputation": 4933, "user_id": 2987253, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa772cdc439443e5243e9d7aa41a9c6a?s=128&d=identicon&r=PG", "display_name": "Loocid", "link": "https://stackoverflow.com/users/2987253/loocid"}, "edited": false, "score": 0, "creation_date": 1432778272, "post_id": 30494957, "comment_id": 49069231, "body": "@Bjarke I&#39;m saying, rather than spawning new threads each time you want to try and read, instead have 4 threads that stay alive for your entire process."}, {"owner": {"reputation": 14728, "user_id": 2142577, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/820c611835bb6eea4851c318a3b73345?s=128&d=identicon&r=PG", "display_name": "laike9m", "link": "https://stackoverflow.com/users/2142577/laike9m"}, "edited": false, "score": 0, "creation_date": 1432795447, "post_id": 30494957, "comment_id": 49074626, "body": "Your description of the problem has not mentioned callback, do you need a callback or not?"}], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 945424, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e383cc690051eeacf5bfcb2b0d6d9d43?s=128&d=identicon&r=PG", "display_name": "Happy", "link": "https://stackoverflow.com/users/945424/happy"}, "edited": false, "score": 0, "creation_date": 1432773076, "post_id": 30495187, "comment_id": 49068137, "body": "What I would need is probably not 200 threads at once, but 4 threads. When the slowest instrument returns its value, I would then read those values, and spawn 4 new threads."}], "tags": [], "owner": {"reputation": 124, "user_id": 3958224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e94ba1595baace09174a8aa6daa8e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Kristopher Wagner", "link": "https://stackoverflow.com/users/3958224/kristopher-wagner"}, "is_accepted": false, "score": 0, "last_activity_date": 1432772036, "creation_date": 1432772036, "answer_id": 30495187, "question_id": 30494957, "link": "https://stackoverflow.com/questions/30494957/fastest-way-to-handle-threading-with-callback-in-python/30495187#30495187", "title": "Fastest way to handle threading with callback in Python", "body": "<p>Try using the <a href=\"https://docs.python.org/2/library/multiprocessing.html\" rel=\"nofollow\" title=\"multiprocessing module documentation\">multiprocessing</a> module in python. Because of the way the python interpreter is written, the threading module for python actually slows down your application when using multiple threads on a computer with multiple processors. This is due to something called the Global Interpreter Lock (GIL) which only allows one python thread per process to be run at a time. This makes things like memory management and concurrency easier for the interpreter.</p>\n\n<p>I would suggest trying to create a process for each instrument (producer process) and send the results to a shared queue that gets processed by a single process (consumer process).</p>\n\n<p>I would also limit the number of processes that you create to the number of processors on your computer. Creating too many processes introduces a lot of overhead.</p>\n\n<p>If you really feel like you need the 200 threads you suggested in your post, I would program this in Java or C++.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 1974833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9Q7f.png?s=128&g=1", "display_name": "WootyWoodpecker", "link": "https://stackoverflow.com/users/1974833/wootywoodpecker"}, "is_accepted": false, "score": 0, "last_activity_date": 1433344598, "creation_date": 1433344598, "answer_id": 30624178, "question_id": 30494957, "link": "https://stackoverflow.com/questions/30494957/fastest-way-to-handle-threading-with-callback-in-python/30624178#30624178", "title": "Fastest way to handle threading with callback in Python", "body": "<p>I'm not sure if this fits your requirements I'm not too familiar with pyVisa, however have you looked into pypy's stackless examples the speed increase is pretty impressive, and you're able to spawn almost infinite amount of 'threadlets' without much hindrance to your system / program.</p>\n\n<p>pypy is kinda limited in terms of supporting various packages but looks like pyVisa isn't one of them.</p>\n\n<p><a href=\"https://pypi.python.org/pypi/PyVISA\" rel=\"nofollow\">https://pypi.python.org/pypi/PyVISA</a></p>\n"}], "owner": {"reputation": 389, "user_id": 945424, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e383cc690051eeacf5bfcb2b0d6d9d43?s=128&d=identicon&r=PG", "display_name": "Happy", "link": "https://stackoverflow.com/users/945424/happy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433344598, "creation_date": 1432770232, "question_id": 30494957, "link": "https://stackoverflow.com/questions/30494957/fastest-way-to-handle-threading-with-callback-in-python", "title": "Fastest way to handle threading with callback in Python", "body": "<p>I'm playing around with some measurement instruments through PyVisa (Python wrapper for VISA). Specifically I need to read the measurement value from four instruments, similar to this:</p>\n\n<pre><code>current1 = instrument1.ask(\"READ?\")\ncurrent2 = instrument2.ask(\"READ?\")\ncurrent3 = instrument3.ask(\"READ?\")\ncurrent4 = instrument4.ask(\"READ?\")\n</code></pre>\n\n<p>For my application, speed is a must. Individually, I can get between 50 and 200 measurements per second from the four instruments, but unfortunately my current code evaluates the four instruments serially. </p>\n\n<p>From what I've read, there's some options with Threading and Multiprocessing in Python, but it's not obvious what the best, and fastest, option for me. \nBest case scenario I will be spawning ~4x50 threads per second, so overhead is a bit of a concern.</p>\n\n<p>The task is in no way CPU intensive, it is simply a matter of waiting for the readout from the instrument.</p>\n\n<p>Any advice on what the proper course of action might be?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["python", "twitter", "geolocation"], "answers": [{"tags": [], "owner": {"reputation": 6320, "user_id": 4541548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UbJoG.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4541548/kevin"}, "is_accepted": true, "score": 0, "last_activity_date": 1433938979, "creation_date": 1433938979, "answer_id": 30756257, "question_id": 30494954, "link": "https://stackoverflow.com/questions/30494954/filtering-tweets-by-location/30756257#30756257", "title": "Filtering Tweets By Location", "body": "<p>You could try something like checking the length of the string:</p>\n\n<pre><code>if len( jd['coordinates'] ) &gt; 1:\n    self.db.tweets.insert( { 'text' : jd['text'], 'coordinates' : jd['coordinates'], 'lang' : jd['lang'] } )\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "accepted_answer_id": 30756257, "answer_count": 1, "score": 0, "last_activity_date": 1433938979, "creation_date": 1432770202, "question_id": 30494954, "link": "https://stackoverflow.com/questions/30494954/filtering-tweets-by-location", "title": "Filtering Tweets By Location", "body": "<p>I'm trying to modify this script to only save the JSONs of tweets that have a location attached to them and am running into an issue with Python where checking that something isn't null doesn't seem to work. Has Key isn't working correctly, because they all have the key, most of them are just 'null'. Is not None isn't working because Python thinks null and None are different and checking it as text to not be \"null\" also didn't work. Does anyone have a clever idea on how to solve this? </p>\n\n<pre><code>from tweepy.streaming import StreamListener\nfrom tweepy import OAuthHandler\nfrom tweepy import Stream\nimport pymongo\nimport tweepy\nimport json\n\n\n#Variables that contains the user credentials to access Twitter API \naccess_key = '' #redacted for privacy and such\naccess_secret = ''\nconsumer_key = ''\nconsumer_secret = ''\n\n#Runs auth to Twitter API\nauth = tweepy.OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_key, access_secret)\napi = tweepy.API(auth)\n\n\n#This is a basic listener that will print incoming data to stdout\nclass StdOutListener(StreamListener):\n\n    def on_data(self, data):\n        print data\n        return True\n\n    def on_error(self, status):\n        print status\n\n\n#Customizes the stream and saves text and lang to databases \nclass CustomStreamListener(tweepy.StreamListener):\n    def __init__(self, api):\n        self.api = api\n        super(tweepy.StreamListener, self).__init__()\n        self.db = pymongo.MongoClient('localhost', 27017).crime\n\n\n\n    def on_data(self, data):\n        jd = json.loads(data)\n        if jd.has_key('coordinates') :\n            self.db.tweets.insert( { 'text' : jd['text'], 'coordinates' : jd['coordinates'], 'lang' : jd['lang'] } )\n\n\n\n\n    def on_error(self, status_code):\n        return True # Don't kill the stream\n\n    def on_timeout(self):\n        return True # Don't kill the stream\n\n#Calls on StreamListerner and provides specifications of tracking\nl = tweepy.streaming.Stream(auth, CustomStreamListener(api))\nl.filter(track=['guns'])\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 5, "creation_date": 1432770389, "post_id": 30494953, "comment_id": 49067479, "body": "Why <code>dictionary</code> doesn&#39;t work for you?"}, {"owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "edited": false, "score": 0, "creation_date": 1432772569, "post_id": 30494953, "comment_id": 49068024, "body": "Because you are using key/value pairs, dictionaries are probably unavoidable. Could you explain more why dictionary doesn&#39;t seem right?  Could you also explain how fast you prefer to store and retrieve the data, and if it is to disk or to a variable?"}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 2, "creation_date": 1432779515, "post_id": 30494953, "comment_id": 49069524, "body": "I do not understand why this question is being downvoted. It is legitimate"}], "answers": [{"tags": [], "owner": {"reputation": 7695, "user_id": 1881196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b474cd12efa0089277b12d6e6dc43eea?s=128&d=identicon&r=PG", "display_name": "dlask", "link": "https://stackoverflow.com/users/1881196/dlask"}, "is_accepted": true, "score": 1, "last_activity_date": 1432776645, "creation_date": 1432776645, "answer_id": 30495766, "question_id": 30494953, "link": "https://stackoverflow.com/questions/30494953/optimal-way-to-store-data-in-python/30495766#30495766", "title": "Optimal way to store data in python", "body": "<pre><code>d = { \n    'americanexpress': { \n        'maxchar': 30, \n        'special_char': False, \n        'numbers': True, \n        'capital': True \n    }, \n    'discover': { \n        'maxchar': 29, \n        'special_char': True, \n        'numbers': True, \n        'capital': False \n    } \n} \n\n# Yes, it works \nassert d['americanexpress']['maxchar'] == 30 \nassert d['discover']['capital'] is False\n</code></pre>\n\n<p>Please note that even if there are ways have a simpler syntax for the same purpose (like using classes) it's usually just a <a href=\"http://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow\">syntactic sugar</a> so the performance is not improved.</p>\n\n<p>You can use lists but then you lose named items, or you can use individual variables like <code>americanexpress_maxchar</code> but this doesn't seem to be required.</p>\n"}], "owner": {"reputation": 3143, "user_id": 975947, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/372459b974428840f4bc41f20da28693?s=128&d=identicon&r=PG", "display_name": "CodeTalk", "link": "https://stackoverflow.com/users/975947/codetalk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 30495766, "answer_count": 1, "score": -3, "last_activity_date": 1432776645, "creation_date": 1432770190, "question_id": 30494953, "link": "https://stackoverflow.com/questions/30494953/optimal-way-to-store-data-in-python", "title": "Optimal way to store data in python", "body": "<p>I'm trying to figure out the most efficient way to store this information and retrieve it quickly (potentially without much processing).</p>\n\n<p>Example:</p>\n\n<pre><code>'americanexpress'=&gt;{maxchar=&gt;30,special_char=&gt;false,numbers=&gt;true,capital=&gt;true},\n'discover'=&gt;{maxchar=&gt;29,special_char=&gt;true,numbers=&gt;true,capital=&gt;false}\n</code></pre>\n\n<p>I want to be able to access say [americanexpress] or [discover] separately and its associated data.</p>\n\n<p>I thought <code>arrays</code> might work (but single dim. didnt seem too work well), then i thought <code>dictionary</code>, but that didnt seem right either.</p>\n\n<p>Anyone give me a hand? Thank you.</p>\n"}, {"tags": ["python", "validation", "bottle", "middleware", "python-decorators"], "comments": [{"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1432861231, "post_id": 30494936, "comment_id": 49113766, "body": "Just curious (since I use them all over the place) - do you have any references for &quot;decorators... have overhead issues&quot;?"}, {"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "reply_to_user": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1432863426, "post_id": 30494936, "comment_id": 49114278, "body": "Don&#39;t remember exactly when I heard about this, but here&#39;s a blog post about it: <a href=\"http://blog.dscpl.com.au/2014/02/performance-overhead-when-applying.html\" rel=\"nofollow noreferrer\">blog.dscpl.com.au/2014/02/&hellip;</a>"}, {"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1432863683, "post_id": 30494936, "comment_id": 49114346, "body": "Thanks, appreciate the reference."}, {"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1432864053, "post_id": 30494936, "comment_id": 49114416, "body": "FWIW, the consensus <a href=\"http://stackoverflow.com/questions/3545690/how-much-overhead-do-decorators-add-to-python-function-calls\">here</a> (by greater Pythonistas than myself) is that decorators don&#39;t <i>inherently</i> add much overhead, so I guess I&#39;d suggest reconsidering that approach."}, {"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "reply_to_user": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1433481020, "post_id": 30494936, "comment_id": 49379948, "body": "Alright, well I suppose I could add one decorator (that takes a list of functions). See my answer, and comment/vote as you see fit. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1433505509, "last_edit_date": 1433505509, "creation_date": 1433480674, "answer_id": 30658698, "question_id": 30494936, "link": "https://stackoverflow.com/questions/30494936/dry-validation-in-bottle/30658698#30658698", "title": "DRY validation in Bottle?", "body": "<p>Here is my solution to DRY validation, ended up with a decorator:</p>\n\n<pre><code>from itertools import imap, ifilter    \nfrom bottle import Bottle, request, response\n\napp = Bottle()\n\nmiddleware = lambda functions: lambda caller: lambda *args, **kwargs: next(\n    ifilter(None, imap(lambda g: g(*args, **kwargs), functions)),\n    caller(*args, **kwargs)\n)\n\n\ndef has_body(*args, **kwargs):\n    if not request.json:\n        response.status = 400\n        return {'error': 'ValidationError',\n                'error_message': 'Body is required (and must be JSON).'}\n\n\ndef body_req(required):\n    def inner(*args, **kwargs):\n        intersection = required.intersection(set(request.json.keys()))\n        if intersection != required:\n            response.status = 400\n            return {'error': 'ValidationError',\n                   'error_message': 'Key(s): {} are not in JSON payload'.format(\n                    ', '.join(imap(lambda key: \"'{key}'\".format(key=key),\n                              required - intersection)))}\n\n    return inner\n\n\n@app.post('/foo')\n@middleware([has_body, body_req({'id', 'f'})])\ndef get_foo():\n    return {'foo': 'bar'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "is_accepted": true, "score": 3, "last_activity_date": 1435464268, "creation_date": 1435464268, "answer_id": 31096044, "question_id": 30494936, "link": "https://stackoverflow.com/questions/30494936/dry-validation-in-bottle/31096044#31096044", "title": "DRY validation in Bottle?", "body": "<p>Ended up finding Bottle's built-in \"middleware\" called \"plugins\" (<a href=\"http://bottlepy.org/docs/dev/plugindev.html\" rel=\"nofollow\">reference</a>):</p>\n\n<pre><code>from bottle import Bottle, request, response\n\napp = Bottle()\n\n\ndef has_body(f):\n    def inner(*args, **kwargs):\n        if request.json:\n            return f(*args, **kwargs)\n\n        response.status = 400\n        return {'error': 'ValidationError',\n                'error_message': 'Body is required (and must be JSON).'}\n    return inner\n\n\ndef body_req(required):\n    def body_req_middleware(f):\n        def inner(*args, **kwargs):\n            intersection = required.intersection(set(request.json.keys()))\n            if intersection != required:\n                response.status = 400\n                return {'error': 'ValidationError',\n                        'error_message': 'Key(s): {} are not in JSON payload'\n                        ''.format(', '.join('{!r}'.format(k)\n                                            for k in required - intersection))}\n            return f(*args, **kwargs)\n        return inner\n    return body_req_middleware\n\n\n@app.post('/foo', apply=(has_body, body_req({'id', 'f'})))\ndef get_foo():\n    return {'foo': 'bar'}\n</code></pre>\n"}], "owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 2, "accepted_answer_id": 31096044, "answer_count": 2, "score": 5, "last_activity_date": 1435464268, "creation_date": 1432770115, "last_edit_date": 1432772306, "question_id": 30494936, "link": "https://stackoverflow.com/questions/30494936/dry-validation-in-bottle", "title": "DRY validation in Bottle?", "body": "<p>My Bottle apps haven't been very DRY, here's a test-case:</p>\n\n<pre><code>from uuid import uuid4\nfrom bottle import Bottle, response\n\nfoo_app = Bottle()\n\n@foo_app.post('/foo')\ndef create():\n    if not request.json:\n        response.status = 400\n        return {'error': 'ValidationError', 'error_message': 'Body required'}\n    body = request.json\n    body.update({'id': uuid4().get_hex())\n    # persist to db\n    # ORM might set 'id' on the Model layer rather than setting it here\n    # ORM will validate, as will db, so wrap this in a try/catch\n    response.status = 201\n    return body\n\n@foo_app.put('/foo/&lt;id&gt;')\ndef update(id):\n    if not request.json:\n        response.status = 400\n        return {'error': 'ValidationError', 'error_message': 'Body required'}\n    elif 'id' not in request.json:\n        response.status = 400\n        return {'error': 'ValidationError', 'error_message': '`id` required'}\n    db = {} # should be actual db cursor or whatever\n    if 'id' not in db:\n        response.status = 404\n        return {'error': 'Not Found',\n                'error_message': 'Foo `id` \"{id}\" not found'.format(id)}\n    body = request.json\n    # persist to db, return updated object\n    # another try/catch here in case of update error (from ORM and/or db)\n    return body\n</code></pre>\n\n<p>One way of solving this issue is to have a global error handler, and raise errors all over the place.</p>\n\n<p>Another is to use decorators, which also have overhead issues.</p>\n\n<p>Is there a better way of doing the validation side of each route? - I'm thinking of something like:</p>\n\n<pre><code>foo_app.post('/foo', middleware=[HAS_BODY_F, ID_IN_DB_F])\n</code></pre>\n"}, {"tags": ["python", "xml", "subclass", "mixins", "bs4"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1432774649, "post_id": 30494908, "comment_id": 49068458, "body": "You could create subclasses of all of the BS4 classes (potentially using a mixin class to add the extended methods), then monkey-patch these classes into the BS4 module."}, {"owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1436384561, "post_id": 30494908, "comment_id": 50594551, "body": "Just monkey-patching the new methods in seems to be working pretty well. No subclassing at all, just path the original class. That way, any time the original code instantiates a bs4 object, it&#39;s still the right thing."}], "owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432769945, "creation_date": 1432769945, "question_id": 30494908, "link": "https://stackoverflow.com/questions/30494908/subclassing-a-python-class-many-of-whose-methods-create-new-instances-of-the-sa", "title": "Subclassing a Python class, many of whose methods create new instances of the same class", "body": "<p>I'd like to extend a Python (2.7) class that handles HTML or XML structures. At the moment I'm fiddling with bs4, but that's probably not essential to this question.</p>\n\n<p>I want to add a bunch of functions that do higher-level operations; say, manipulating entire table columns, sorting list subelements, etc. So I define a subclass</p>\n\n<pre><code>class myBS4 (bs4.BeautifulSoup):\n    def sortChildren(self, keyPath,...):\n    ...\n</code></pre>\n\n<p>Fine so far. But the original class (and related ones like Tag, NavigableString, etc.) already have various methods that instantiate bs4 objects, such as new_tag() to make a \"Tag\" (Element), new_string() to make a NavigableString (Text node), etc. Same with DOM-based classes, or probably any package that handles recursive data structures.</p>\n\n<p>Does that mean that I have to find every place in every bs4-related class that instantiates a bs4-related object, and subclass and override so they all instantiate my class instead? That seems awfully tedious.</p>\n\n<p>Worse, it seems very prone to subtle bugs. For example, the bs4 constructor constructs a quasi-DOM tree from parsed HTML or XML; but it may or may not call new_tag() while doing so. It may just say something like</p>\n\n<pre><code>x = Tag(\"div\")\n</code></pre>\n\n<p>In which case, I'd get instances of BeautifulSoup and Tag and NavigableString objects, mixed into my tree of myBS4 and myTag and myNavigableString objects. Calls would then fail when asked to do an extended operation on a non-extended node.</p>\n\n<p>So overriding new_tag(), etc. may not suffice; the only way to know if you got all cases is to study (or grep) the entire bs4 implementation. And a bs4 update might be pretty likely to break it even though there's really no conceptual reason to touch bs4 itself at all.</p>\n\n<p>Is there any clean way around this issue? I thought about mixins, but as far as I can tell I'd still have to subclass bs4 to pull in the mixin, so it wouldn't help. Am I completely missing something?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1432769813, "post_id": 30494884, "comment_id": 49067332, "body": "What is your intention with ` S[j: j+NFM[i], :]` ? The comma shouldnt be there"}], "answers": [{"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 1, "last_activity_date": 1432769923, "creation_date": 1432769923, "answer_id": 30494904, "question_id": 30494884, "link": "https://stackoverflow.com/questions/30494884/python-typeerror-with-tuples-and-integers/30494904#30494904", "title": "Python TypeError with tuples and integers", "body": "<p>The correct sintax when working with slices is <code>[start:stop:step]</code></p>\n\n<p>So  <code>S[j: j+NFM[i], :]</code> is incorrect. It should be  <code>S[j: j+NFM[i] :]</code> without the comma.</p>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 4237058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0e1102b67c00ae039e410c7a784528ba?s=128&d=identicon&r=PG&f=1", "display_name": "Chaker", "link": "https://stackoverflow.com/users/4237058/chaker"}, "is_accepted": false, "score": 0, "last_activity_date": 1432770673, "last_edit_date": 1432770673, "creation_date": 1432769991, "answer_id": 30494917, "question_id": 30494884, "link": "https://stackoverflow.com/questions/30494884/python-typeerror-with-tuples-and-integers/30494917#30494917", "title": "Python TypeError with tuples and integers", "body": "<p>Delete the comma:  </p>\n\n<pre><code>  S[j: j+NFM[i], :] = S[i] / 2.0 \n</code></pre>\n\n<p>It should be :</p>\n\n<pre><code>  S[j:j+NFM[i]:] = S[i] / 2.0 \n</code></pre>\n\n<p>And since your aren't using step you can use :</p>\n\n<pre><code>  S[j:j+NFM[i]] = S[i] / 2.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1432775512, "post_id": 30495157, "comment_id": 49068635, "body": "No, the sintax was <b>incorrect</b>. You cannot separate by commas nor pass tuples as &#39;arguments&#39; when slicing."}, {"owner": {"reputation": 227, "user_id": 4468464, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/96a6ff12ca9230e8d5d97455f8410348?s=128&d=identicon&r=PG&f=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/4468464/sparrow"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1432781015, "post_id": 30495157, "comment_id": 49069874, "body": "I am sorry for not being clear. S = np.zeros((totNFM, 4)) with totNFM = 12 is creating a 12 x 4 matrix of zeros. With j = 0, S[j: j+NFM[i], :] is giving you NFM(i) number of rows of that matrix. Like if NFM(i) = 4, S =array([[ 0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.]])  Thus, you are right in your logic."}], "tags": [], "owner": {"reputation": 227, "user_id": 4468464, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/96a6ff12ca9230e8d5d97455f8410348?s=128&d=identicon&r=PG&f=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/4468464/sparrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1432773404, "last_edit_date": 1432773404, "creation_date": 1432771759, "answer_id": 30495157, "question_id": 30494884, "link": "https://stackoverflow.com/questions/30494884/python-typeerror-with-tuples-and-integers/30495157#30495157", "title": "Python TypeError with tuples and integers", "body": "<p>Okay, I think the syntax is correct. <code>S[j: j+NFM[i], :] = S[i] / 2.0</code> This is actually creating a row. The problem was with an arbitrary source declaration, <code>S = [1,1,1]</code> which was really a typo (TypeError). I changed it to <code>S = np.zeros((totNFM,4))</code> and the error vanished. </p>\n"}], "owner": {"reputation": 227, "user_id": 4468464, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/96a6ff12ca9230e8d5d97455f8410348?s=128&d=identicon&r=PG&f=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/4468464/sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 30494904, "answer_count": 3, "score": -1, "last_activity_date": 1432773404, "creation_date": 1432769747, "question_id": 30494884, "link": "https://stackoverflow.com/questions/30494884/python-typeerror-with-tuples-and-integers", "title": "Python TypeError with tuples and integers", "body": "<p>This code is showing me the following error, no idea why:\nTraceback (most recent call last):\n  File \"testSolver.py\", line 24, in \n    S[j: j+NFM[i], :] = S[i] / 2.0 \nTypeError: list indices must be integers, not tuple</p>\n\n<pre><code>import numpy as np\nmu = np.array([ -0.8611363115, -0.3399810435, 0.3399810435, 0.8611363115 ])\nwt = np.array([ 0.3478548451, 0.6521451549, 0.6521451549, 0.3478548451 ])  \nNCM = [0.0,1.0,2.0,3.0]\nNFM = [3,4,5]\nmt = [0,1,2]\nS = [1,1,1]\ntotNFM = np.sum(NFM)\nQ = S\npsi = np.zeros((totNFM + 1 , 4))\nphi = np.zeros(totNFM)\nFMMID = np.zeros((totNFM, 1))\ndelta = np.zeros((totNFM, 1))\nj = 0\n#Compute Discretization##\nfor i in range(0, len(NFM)):\n    delta[j: j+NFM[i]] = (NCM[i+1] - NCM[i])/NFM[i]\n    S[j: j+NFM[i], :] = S[i] / 2.0 \n    FMMID[j: j+NFM[i]] = RegMat[i]\n    j = np.sum[NFM[0:i]]\n</code></pre>\n"}, {"tags": ["python", "twitter", "social-networking", "rate-limiting"], "answers": [{"tags": [], "owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "is_accepted": false, "score": 4, "last_activity_date": 1432893977, "last_edit_date": 1592644375, "creation_date": 1432893596, "answer_id": 30526662, "question_id": 30494882, "link": "https://stackoverflow.com/questions/30494882/maximizing-twitters-rate-limit-to-log-followers/30526662#30526662", "title": "Maximizing Twitter&#39;s rate limit to log followers", "body": "<p>When you access to <code>client.followers</code> in <code>tweepy</code>, you are actually performing this twitter request <a href=\"https://dev.twitter.com/rest/reference/get/followers/list\" rel=\"nofollow noreferrer\">GET followers list</a>. In this request, you have two limitations:</p>\n<p>(1) number of request per 15-min window:</p>\n<blockquote>\n<p>Requests / 15-min window (user auth) 15</p>\n<p>Requests / 15-min window (app auth) 30</p>\n</blockquote>\n<p>(2) number of followers that you can get on each request, see parameter <code>count</code>:</p>\n<blockquote>\n<p>The number of users to return per page, up to a maximum of 200. Defaults to 20.</p>\n</blockquote>\n<p>Thus, just to put an example, imagine for example that all users have 200 followers, you could get the followers of 15 users in a 15 min window, and you would get 3000 followers in total. Another example, if a user has 3000 followers, you would need 15 request to fetch them all, and then you would use the full 15 min window. (I assume you use user auth).</p>\n<p>On the other hand, if your users had only 1 follower, you would get 15 followers on each 15 min window.</p>\n<p>The number 5000 you mention is for another twitter request <a href=\"https://dev.twitter.com/rest/reference/get/followers/ids\" rel=\"nofollow noreferrer\">GET followers ids</a>, which in <code>tweepy</code>is <code>client.followers_ids</code>. In this one, you don't get the full information of the user, only the id, but the rate limits are less strict:</p>\n<p>(1) number of request per 15-min window:</p>\n<blockquote>\n<p>Requests / 15-min window (user auth) 15</p>\n<p>Requests / 15-min window (app auth) 15</p>\n</blockquote>\n<p>(2) number of follower ids that you can get on each request, see parameter <code>count</code>:</p>\n<blockquote>\n<p>Specifies the number of IDs attempt retrieval of, up to a maximum of 5,000 per distinct request.</p>\n</blockquote>\n<p>So, with this request you could get up to 15*5000 = 75000 followers per window (however, I insist, only the id's).</p>\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 833, "user_id": 4072697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/53dfcce14e3aa177bd3cea458a183574?s=128&d=identicon&r=PG&f=1", "display_name": "auto", "link": "https://stackoverflow.com/users/4072697/auto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432893977, "creation_date": 1432769724, "last_edit_date": 1432836159, "question_id": 30494882, "link": "https://stackoverflow.com/questions/30494882/maximizing-twitters-rate-limit-to-log-followers", "title": "Maximizing Twitter&#39;s rate limit to log followers", "body": "<p>Twitter API has a rate limit of 15 requests per 15 minutes. </p>\n\n<p>I am trying to use python to run through and compile a list of my followers, but for some reason, the rate limit maxes when only 300 followers are logged. I've read that the max should be closer to 5,000. Where am I going wrong? </p>\n\n<p>If I have thousands, or even more than 1 million followers and am trying to print a list of <strong>each</strong> follower, how can I maximize the number of followers that Python/twitter returns before hitting the rate limit?</p>\n\n<p>Here is the code I have so far:</p>\n\n<pre><code>followers = tweepy.Cursor(client.followers, id=screenName)\nfor follower in followers.items():\n    info=[]\n    name =follower.name\n    screen_name = follower.screen_name\n\n    userId = userId + 1\n\n    info.append(userId)\n    info.append(name)\n    info.append(screen_name)\n\n    csvFile = open('followers.csv','a')\n    newFile =csv.writer(csvFile) #imported csv\n    newFile.writerow(info)\n    #close file\n    csvFile.close()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "python-imaging-library"], "comments": [{"owner": {"reputation": 13648, "user_id": 1239189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100002412051139/picture?type=large", "display_name": "Ali Gajani", "link": "https://stackoverflow.com/users/1239189/ali-gajani"}, "edited": false, "score": 1, "creation_date": 1432769795, "post_id": 30494869, "comment_id": 49067323, "body": "You can use <code>.flat()</code> in <code>numpy</code>"}, {"owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "reply_to_user": {"reputation": 13648, "user_id": 1239189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100002412051139/picture?type=large", "display_name": "Ali Gajani", "link": "https://stackoverflow.com/users/1239189/ali-gajani"}, "edited": false, "score": 0, "creation_date": 1432838899, "post_id": 30494869, "comment_id": 49104567, "body": "Sorry I&#39;m confused - I thought flat() collapses an array into one dimension - the opposite of what I want."}], "answers": [{"comments": [{"owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "edited": false, "score": 0, "creation_date": 1432838685, "post_id": 30495087, "comment_id": 49104406, "body": "I need to use the seek() function in PIL Image to work with multi-page TIFFs (TIFF stacks)."}], "tags": [], "owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "is_accepted": false, "score": 1, "last_activity_date": 1432772273, "last_edit_date": 1432772273, "creation_date": 1432771183, "answer_id": 30495087, "question_id": 30494869, "link": "https://stackoverflow.com/questions/30494869/after-i-convert-a-2d-grayscale-pil-image-to-a-1d-numpy-array-what-is-the-smooth/30495087#30495087", "title": "After I convert a 2D grayscale PIL image to a 1D numpy array, what is the smoothest way to get to a 2D numpy array (an image/matrix)?", "body": "<p>If you can use scipy:</p>\n\n<pre><code>from scipy import ndimage\nimage = ndimage.imread('image.png')\nimage.shape\n</code></pre>\n"}], "owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1432838564, "creation_date": 1432769672, "last_edit_date": 1432838564, "question_id": 30494869, "link": "https://stackoverflow.com/questions/30494869/after-i-convert-a-2d-grayscale-pil-image-to-a-1d-numpy-array-what-is-the-smooth", "title": "After I convert a 2D grayscale PIL image to a 1D numpy array, what is the smoothest way to get to a 2D numpy array (an image/matrix)?", "body": "<p>My code looks like this:</p>\n\n<pre><code>img = Image.open(path)\npix = np.asarray(img)\n# i tried to access an (x,y) pixel and found the array was one dimensional\nprint str(float(pix[1,1])), \"\\t\",\n</code></pre>\n\n<p>I need to shuffle the 1D array so that it is 2D so I can access (x,y) pixels.  What is the smoothest way to do this?</p>\n\n<p>I get this error for the above:</p>\n\n<pre><code>IndexError: too many indices for array\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Below is some info collected from the terminal after executing the above code.  np.asarray() is clearly doing something, and the information about the dimension of the image is still contained in the ndarray <code>pix</code>  --  <code>array(&lt;PIL.TiffImagePlugin.TiffImageFile image mode=I;16 size=1280x1080 at 0x110CA9F38&gt;, dtype=object)</code>. </p>\n\n<pre><code>&gt;&gt;&gt; img\n&lt;PIL.TiffImagePlugin.TiffImageFile image mode=I;16 size=1280x1080 at 0x110CA9F38&gt;\n&gt;&gt;&gt; pix\narray(&lt;PIL.TiffImagePlugin.TiffImageFile image mode=I;16 size=1280x1080 at 0x110CA9F38&gt;, dtype=object)\n&gt;&gt;&gt; type(img)\n&lt;type 'instance'&gt;\n&gt;&gt;&gt; type(pix)\n&lt;type 'numpy.ndarray'&gt;\n&gt;&gt;&gt; img.size\n(1280, 1080)\n&gt;&gt;&gt; pix.size\n1\n</code></pre>\n"}, {"tags": ["python", "recursion", "turtle-graphics"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1432769572, "post_id": 30494832, "comment_id": 49067257, "body": "every recursive algorithm has a base case."}], "answers": [{"tags": [], "owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "is_accepted": false, "score": 0, "last_activity_date": 1432769766, "creation_date": 1432769766, "answer_id": 30494886, "question_id": 30494832, "link": "https://stackoverflow.com/questions/30494832/cannot-understand-recursion-in-this-python-program-using-turtle/30494886#30494886", "title": "Cannot understand recursion in this python program using turtle", "body": "<blockquote>\n  <p>But this time when it reduces branchLen by 15 shouldn't it now be negative? So now function shouldn't work as its if condition is that branchLen > 5.?</p>\n</blockquote>\n\n<p>That's exactly what happens. When <code>branchLen</code> is smaller than 5 the recursion stops. Otherwise you would have endless recursion calls.</p>\n"}, {"tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1432776005, "last_edit_date": 1432776005, "creation_date": 1432770466, "answer_id": 30494986, "question_id": 30494832, "link": "https://stackoverflow.com/questions/30494832/cannot-understand-recursion-in-this-python-program-using-turtle/30494986#30494986", "title": "Cannot understand recursion in this python program using turtle", "body": "<p>You seem to think that <code>branchLen</code> gets reduced when it really isn't. Calling <code>tree(branchLen-15,t)</code> only reduces <code>branchLen</code> for the recursive call, not in the current call. It's not like <code>branchLen -= 15</code>. So:</p>\n\n<ul>\n<li><code>main</code> calls <code>tree(75,t)</code>.</li>\n<li><code>tree(75,t)</code> calls <code>tree(60,t)</code> and then <code>tree(60,t)</code> again (after rotating). Not <code>tree(45,t)</code>.</li>\n<li>Each <code>tree(60,t)</code> calls <code>tree(45,t)</code> twice (so <code>tree(45,t)</code> gets called four times overall).</li>\n<li>...</li>\n<li>Each <code>tree(15,t)</code> calls <code>tree(0,t)</code> twice.</li>\n<li>Each <code>tree(0,t)</code> does nothing.</li>\n</ul>\n"}], "owner": {"reputation": 57, "user_id": 4868123, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0c3fcab699d67ee9ce46a0038b654c21?s=128&d=identicon&r=PG&f=1", "display_name": "ailhahc", "link": "https://stackoverflow.com/users/4868123/ailhahc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432776005, "creation_date": 1432769405, "question_id": 30494832, "link": "https://stackoverflow.com/questions/30494832/cannot-understand-recursion-in-this-python-program-using-turtle", "title": "Cannot understand recursion in this python program using turtle", "body": "<pre><code>import turtle\n\ndef tree(branchLen,t):\n    if branchLen &gt; 5:\n        t.forward(branchLen)\n        t.right(40)\n        tree(branchLen-15,t)\n        t.left(80) #I don't get what happens after this.\n        tree(branchLen-15,t)\n        t.right(40)\n        t.backward(branchLen)\n\ndef main():\n    t = turtle.Turtle()\n    myWin = turtle.Screen()\n    t.left(90)\n    t.up()\n    t.backward(100)\n    t.down()\n    t.color(\"green\")\n    tree(75,t)\n    myWin.exitonclick()\n\nmain()\n</code></pre>\n\n<p>I cannot understand recursion in this python program. I get that it takes branchLen and if it is greater than 5, it draws forward(branchLen) then changes angle by 40degrees right. Then function is called again with branchLen reduced by 15 and again till branchLen is less than 5. </p>\n\n<p>Then it turns the turtle left by 40 degrees  and calls the function again <strong>But this time when it reduces branchLen by 15 shouldn't it now be negative?</strong> So now function shouldn't work as its if condition is that branchLen > 5.?</p>\n"}, {"tags": ["python", "file", "python-3.x", "encoding", "python-2.x"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1432768427, "creation_date": 1432768427, "answer_id": 30494683, "question_id": 30494664, "link": "https://stackoverflow.com/questions/30494664/reading-bytes-from-file-without-specifying-encoding-in-python-3/30494683#30494683", "title": "Reading bytes from file without specifying encoding in Python 3", "body": "<p>Specify binary mode:</p>\n\n<pre><code>with open(file_name, 'rb') as f:\n</code></pre>\n\n<p>You should do that in Python 2, too, unless you want bugs like CRLFs becoming LFs in your binary file.</p>\n"}], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 30494683, "answer_count": 1, "score": 0, "last_activity_date": 1432768427, "creation_date": 1432768306, "question_id": 30494664, "link": "https://stackoverflow.com/questions/30494664/reading-bytes-from-file-without-specifying-encoding-in-python-3", "title": "Reading bytes from file without specifying encoding in Python 3", "body": "<p>In Python 2, the following will happily load the first two bytes from a binary file:</p>\n\n<pre><code>with open(file_name) as f:\n    b = f.read(2)\n</code></pre>\n\n<p>However, in Python 3, the same might result in e.g.:</p>\n\n<pre><code>UnicodeDecodeError: 'utf-8' codec can't decode byte 2: invalid start byte\n</code></pre>\n\n<p>Which brings me to the question: how to read N raw bytes from a file in Python 3 without specifying an encoding?</p>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 19, "last_activity_date": 1432823819, "last_edit_date": 1432823819, "creation_date": 1432772228, "answer_id": 30495210, "question_id": 30494569, "link": "https://stackoverflow.com/questions/30494569/how-to-force-pandas-read-csv-to-use-float32-for-all-float-columns/30495210#30495210", "title": "How to force pandas read_csv to use float32 for all float columns?", "body": "<p>Try:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n# Sample 100 rows of data to determine dtypes.\ndf_test = pd.read_csv(filename, nrows=100)\n\nfloat_cols = [c for c in df_test if df_test[c].dtype == \"float64\"]\nfloat32_cols = {c: np.float32 for c in float_cols}\n\ndf = pd.read_csv(filename, engine='c', dtype=float32_cols)\n</code></pre>\n\n<p>This first reads a sample of 100 rows of data (modify as required) to determine the type of each column.  </p>\n\n<p>It the creates a list of those columns which are 'float64', and then uses dictionary comprehension to create a dictionary with these columns as the keys and 'np.float32' as the value for each key.</p>\n\n<p>Finally, it reads the whole file using the 'c' engine (required for assigning dtypes to columns) and then passes the float32_cols dictionary as a parameter to dtype.</p>\n\n<pre><code>df = pd.read_csv(filename, nrows=100)\n&gt;&gt;&gt; df\n   int_col  float1 string_col  float2\n0        1     1.2          a     2.2\n1        2     1.3          b     3.3\n2        3     1.4          c     4.4\n\n&gt;&gt;&gt; df.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nInt64Index: 3 entries, 0 to 2\nData columns (total 4 columns):\nint_col       3 non-null int64\nfloat1        3 non-null float64\nstring_col    3 non-null object\nfloat2        3 non-null float64\ndtypes: float64(2), int64(1), object(1)\n\ndf32 = pd.read_csv(filename, engine='c', dtype={c: np.float32 for c in float_cols})\n&gt;&gt;&gt; df32.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nInt64Index: 3 entries, 0 to 2\nData columns (total 4 columns):\nint_col       3 non-null int64\nfloat1        3 non-null float32\nstring_col    3 non-null object\nfloat2        3 non-null float32\ndtypes: float32(2), int64(1), object(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 9479301, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216005314914424/picture?type=large", "display_name": "Bstampe", "link": "https://stackoverflow.com/users/9479301/bstampe"}, "is_accepted": false, "score": 1, "last_activity_date": 1571758820, "creation_date": 1571758820, "answer_id": 58507853, "question_id": 30494569, "link": "https://stackoverflow.com/questions/30494569/how-to-force-pandas-read-csv-to-use-float32-for-all-float-columns/58507853#58507853", "title": "How to force pandas read_csv to use float32 for all float columns?", "body": "<p>@Alexander's is a great answer. Some columns may need to be precise. If so, you may need to stick more conditionals into your list comprehension to exclude some columns the <code>any</code> or <code>all</code> built ins are handy:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>float_cols = [c for c in df_test if all([df_test[c].dtype == \"float64\", \n             not df_test[c].name == 'Latitude', not df_test[c].name =='Longitude'])]           \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1128, "user_id": 4034025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nLzrf.jpg?s=128&g=1", "display_name": "Casimir", "link": "https://stackoverflow.com/users/4034025/casimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1598545645, "creation_date": 1598545645, "answer_id": 63620344, "question_id": 30494569, "link": "https://stackoverflow.com/questions/30494569/how-to-force-pandas-read-csv-to-use-float32-for-all-float-columns/63620344#63620344", "title": "How to force pandas read_csv to use float32 for all float columns?", "body": "<p>If you don't care about column order, there's also <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.select_dtypes.html\" rel=\"nofollow noreferrer\"><code>df.select_dtypes</code></a> which avoids having to <code>read_csv</code> twice:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndf = pd.read_csv(&quot;file.csv&quot;)\n\ndf_float = df.select_dtypes(include=float).astype(&quot;float32&quot;)\ndf_not_float = df.select_dtypes(exclude=float)\n\ndf = df_float.join(df_not_float)\n</code></pre>\n<p>Or, if you want to convert <em>all</em> non-string columns (e.g. integer columns) to float:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndf = pd.read_csv(&quot;file.csv&quot;)\n\ndf_not_str = df.select_dtypes(exclude=object).astype(&quot;float32&quot;)\ndf_str = df.select_dtypes(include=object)\n\ndf = df_not_str.join(df_str)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3773, "user_id": 1838257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540386102f92985c85ced9c6b237dd60?s=128&d=identicon&r=PG", "display_name": "jorijnsmit", "link": "https://stackoverflow.com/users/1838257/jorijnsmit"}, "is_accepted": false, "score": 0, "last_activity_date": 1606396721, "last_edit_date": 1606396721, "creation_date": 1606395132, "answer_id": 65022424, "question_id": 30494569, "link": "https://stackoverflow.com/questions/30494569/how-to-force-pandas-read-csv-to-use-float32-for-all-float-columns/65022424#65022424", "title": "How to force pandas read_csv to use float32 for all float columns?", "body": "<p>Here's a solution which does not depend on <code>.join</code> or does not require reading the file twice:</p>\n<pre><code>float64_cols = df.select_dtypes(include='float64').columns\nmapper = {col_name: np.float32 for col_name in float64_cols}\ndf = df.astype(mapper)\n</code></pre>\n<p>Or for kicks as a one-liner:</p>\n<pre><code>df = df.astype({c: np.float32 for c in df.select_dtypes(include='float64').columns})\n</code></pre>\n"}], "owner": {"reputation": 810, "user_id": 4674418, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7cf3deee8d5d4a572bcdd15e681d721c?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/4674418/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10239, "favorite_count": 2, "accepted_answer_id": 30495210, "answer_count": 4, "score": 21, "last_activity_date": 1606396721, "creation_date": 1432767759, "question_id": 30494569, "link": "https://stackoverflow.com/questions/30494569/how-to-force-pandas-read-csv-to-use-float32-for-all-float-columns", "title": "How to force pandas read_csv to use float32 for all float columns?", "body": "<p>Because</p>\n\n<ul>\n<li>I don't need double precision</li>\n<li>My machine has limited memory and I want to process bigger datasets</li>\n<li>I need to pass the extracted data (as matrix) to BLAS libraries, and BLAS calls for single precision are 2x faster than for double precision equivalence.</li>\n</ul>\n\n<p>Note that not all columns in the raw csv file have float types. I only need to set float32 as the default for float columns.</p>\n"}, {"tags": ["python", "c", "templates", "code-generation"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1432768875, "post_id": 30494547, "comment_id": 49067019, "body": "Why not enlist cpp to do it?"}, {"owner": {"reputation": 6875, "user_id": 2002452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3c2349a8ccc58b9d485eff0095025ae5?s=128&d=identicon&r=PG", "display_name": "michaelmeyer", "link": "https://stackoverflow.com/users/2002452/michaelmeyer"}, "edited": false, "score": 1, "creation_date": 1432770510, "post_id": 30494547, "comment_id": 49067512, "body": "There is Cog in Python (<a href=\"http://nedbatchelder.com/code/cog/\" rel=\"nofollow noreferrer\">nedbatchelder.com/code/cog</a>). But why not generate a file that you then would <code>#include</code> into your main code?"}, {"owner": {"reputation": 18035, "user_id": 1828289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/S6fiE.png?s=128&g=1", "display_name": "Alex I", "link": "https://stackoverflow.com/users/1828289/alex-i"}, "reply_to_user": {"reputation": 6875, "user_id": 2002452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3c2349a8ccc58b9d485eff0095025ae5?s=128&d=identicon&r=PG", "display_name": "michaelmeyer", "link": "https://stackoverflow.com/users/2002452/michaelmeyer"}, "edited": false, "score": 1, "creation_date": 1432772781, "post_id": 30494547, "comment_id": 49068077, "body": "@michaelmeyer: Cog sounds very close to what I was looking for.  Post as an answer?  as for #include, I guess it depends on how many code snippets there are :)  I wanted the result to be a single C file that can be read straight through, partly for maintainability and partly for aesthetics."}, {"owner": {"reputation": 18035, "user_id": 1828289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/S6fiE.png?s=128&g=1", "display_name": "Alex I", "link": "https://stackoverflow.com/users/1828289/alex-i"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1432772840, "post_id": 30494547, "comment_id": 49068082, "body": "@IgnacioVazquez-Abrams: how would you use cpp?  #define stuff in one place and then let it be expanded in another place?  #include?"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1432772941, "post_id": 30494547, "comment_id": 49068105, "body": "I&#39;d have Python generate C code containing defines and invoke cpp with it prepended."}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1432792511, "post_id": 30494547, "comment_id": 49073248, "body": "@Alex: if the &quot;some code&quot; contains preprocessor directives, the #define scheme doesn&#39;t work."}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1432792648, "post_id": 30494547, "comment_id": 49073313, "body": "@Alex:  why is this hard to implement yourself?  Slurp in the C source file as  string.  Implement your function by finding your markers with a string search. Hack in the replacement string. Write the file content. This should be 10-20 lines of code."}], "owner": {"reputation": 18035, "user_id": 1828289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/S6fiE.png?s=128&g=1", "display_name": "Alex I", "link": "https://stackoverflow.com/users/1828289/alex-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1878, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1432791300, "creation_date": 1432767606, "question_id": 30494547, "link": "https://stackoverflow.com/questions/30494547/generating-c-code-from-script-how-to-template", "title": "Generating C code from script: how to template?", "body": "<p>I'm looking for a way to insert some auto-generated code into C source files.  The code generation is in python and that's not a problem, the trick is how to replace/update blocks of code in existing C code with the generated code.  I'm looking for a templating library which is compatible with C syntax (the templating statements can be hidden in comments), and in which the template and expanded template can be one and the same thing.  </p>\n\n<p>Example C file with code to be updated:</p>\n\n<pre><code>// start generated block (blockname)\n... some code here\n// end generated block (blockname)\n</code></pre>\n\n<p>Example python pseudo code:</p>\n\n<pre><code>replace_code_in_c_file(filename, blockname, new_code)\n</code></pre>\n\n<p>After running this the // comments stay in place but the code block would be replaced with the new code.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432767413, "post_id": 30494478, "comment_id": 49066582, "body": "Are you using 64 bit Python?"}, {"owner": {"reputation": 37, "user_id": 4343721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lALkQ.jpg?s=128&g=1", "display_name": "xXxK3vin_Spac3yxXx", "link": "https://stackoverflow.com/users/4343721/xxxk3vin-spac3yxxx"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432767444, "post_id": 30494478, "comment_id": 49066591, "body": "No, 32 bit. I&#39;ll include that in the original post."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4343721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lALkQ.jpg?s=128&g=1", "display_name": "xXxK3vin_Spac3yxXx", "link": "https://stackoverflow.com/users/4343721/xxxk3vin-spac3yxxx"}, "edited": false, "score": 1, "creation_date": 1432809117, "post_id": 30495239, "comment_id": 49083471, "body": "Thank you :) are there any significant differences between 3.4 and 3.2?"}], "tags": [], "owner": {"reputation": 124, "user_id": 3958224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e94ba1595baace09174a8aa6daa8e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Kristopher Wagner", "link": "https://stackoverflow.com/users/3958224/kristopher-wagner"}, "is_accepted": true, "score": 2, "last_activity_date": 1432772430, "creation_date": 1432772430, "answer_id": 30495239, "question_id": 30494478, "link": "https://stackoverflow.com/questions/30494478/python-importerror-dll-load-failed-the-specified-module-could-not-be-found/30495239#30495239", "title": "Python ImportError: DLL load failed: The specified module could not be found", "body": "<p>Pygame doesn't work for Python 3.4. The pygame that you downloaded is for Python 3.2. If you download Python 3.2, you should be able to use pygame.</p>\n"}], "owner": {"reputation": 37, "user_id": 4343721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lALkQ.jpg?s=128&g=1", "display_name": "xXxK3vin_Spac3yxXx", "link": "https://stackoverflow.com/users/4343721/xxxk3vin-spac3yxxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2546, "favorite_count": 0, "accepted_answer_id": 30495239, "answer_count": 1, "score": 0, "last_activity_date": 1432772430, "creation_date": 1432767257, "last_edit_date": 1432767467, "question_id": 30494478, "link": "https://stackoverflow.com/questions/30494478/python-importerror-dll-load-failed-the-specified-module-could-not-be-found", "title": "Python ImportError: DLL load failed: The specified module could not be found", "body": "<p>I recently downloaded and installed pygame. I tested it with the following code.</p>\n\n<pre><code>import pygame\n</code></pre>\n\n<p>I received the following error:</p>\n\n<pre><code>C:\\Python34&gt;python test.py\nTraceback (most recent call last):\nFile \"test.py\", line 1, in &lt;module&gt;\n    import pygame\nFile \"C:\\Python34\\lib\\site-packages\\pygame\\__init__.py\", line 95, in     &lt;module&gt;\n    from pygame.base import *\nImportError: DLL load failed: The specified module could not be found.\n</code></pre>\n\n<p>I currently have Python 3.4 32 bit and have downloaded pygame-1.9.2a0.win32-py3.2 and installed it. I tried uninstalling and reinstalling multiple times. What am I doing wrong?</p>\n"}, {"tags": ["python", "unit-testing", "junit-theory"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1432767169, "post_id": 30494423, "comment_id": 49066508, "body": "It&#39;s my understanding that all the cases will run, but the test will fail (as it should)"}, {"owner": {"reputation": 14743, "user_id": 808804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc54ae5944af5810788795c32ebc815b?s=128&d=identicon&r=PG", "display_name": "Adam Parkin", "link": "https://stackoverflow.com/users/808804/adam-parkin"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1432769166, "post_id": 30494423, "comment_id": 49067111, "body": "@AdamSmith: each tuple within <code>cases</code> is essentially a separate test case.  If the first time through the loop fails, then there will be no more iterations through the loop and as such subsequent cases will not be executed."}], "answers": [{"tags": [], "owner": {"reputation": 3627, "user_id": 1460849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f8e4125e72fd9a100f62da3324a3635?s=128&d=identicon&r=PG", "display_name": "kalhartt", "link": "https://stackoverflow.com/users/1460849/kalhartt"}, "is_accepted": false, "score": 0, "last_activity_date": 1432798295, "creation_date": 1432798295, "answer_id": 30499985, "question_id": 30494423, "link": "https://stackoverflow.com/questions/30494423/unit-test-theories-in-python/30499985#30499985", "title": "Unit test Theories in Python?", "body": "<p>I'm not aware of any builtins for this in any common testing frameworks. The only problem with your solution is that the iteration is inside of the test. Rather it should be outside and generate tests, maybe something like this</p>\n\n<pre><code>import unittest\n\n\ndef _apply(func, args):\n    \"\"\"Return a function with args applied after first argument\"\"\"\n    def wrapped(self):\n        return func(self, *args)\n    return wrapped\n\n\nclass TheoryMeta(type):\n    \"\"\"Metaclass that replaces test methods with multiple methods for each test case\"\"\"\n    def __new__(meta, name, bases, attrs):\n        newattrs = {}\n        cases = attrs.pop('cases', [])\n\n        for name, value in attrs.items():\n            if not name.startswith('test') or not callable(value):\n                newattrs[name] = value\n                continue\n\n            for n, args in enumerate(cases):\n                test_name = '%s_%d' % (name, n)\n                newattrs[test_name] = _apply(value, args)\n\n        return super().__new__(meta, name, bases, newattrs)\n\n\nclass TestCase(unittest.TestCase, metaclass=TheoryMeta):\n    pass\n</code></pre>\n\n<p>Then to use it, create a <code>TestCase</code> subclass that has a <code>cases</code> attribute which is a list of arguments to apply to each test method on the test case.</p>\n\n<pre><code>class TestAdd(TestCase):\n    cases = [\n        # (a, b)\n        (1, 1),\n        (2, 0),\n        (3, 0),\n    ]\n\n    def test_add(self, a, b):\n        self.assertEqual(a + b, 2)\n\n======================================================================\nFAIL: test_add_2 (__main__.__qualname__)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"test.py\", line 7, in wrapped\n    return func(self, *args)\n  File \"test.py\", line 41, in test_add\n    self.assertEqual(a + b, 2)\nAssertionError: 3 != 2\n\n----------------------------------------------------------------------\nRan 3 tests in 0.001s\n</code></pre>\n\n<p>Depending on your needs and testing setup, you may find it better to just monkey-patch generated test methods on a TestCase rather than using a metaclass. Or you could generate them in an overriden <a href=\"https://docs.python.org/3/library/unittest.html#unittest.TestLoader\" rel=\"nofollow\">loadTestsFrom...</a> on the <code>TestLoader</code>. In any case, use the sample data to generate the testing methods.</p>\n"}, {"comments": [{"owner": {"reputation": 14743, "user_id": 808804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc54ae5944af5810788795c32ebc815b?s=128&d=identicon&r=PG", "display_name": "Adam Parkin", "link": "https://stackoverflow.com/users/808804/adam-parkin"}, "edited": false, "score": 0, "creation_date": 1433017261, "post_id": 30517541, "comment_id": 49173921, "body": "That&#39;s exactly what I want.  Now I just have to convince my coworkers to drop nose for py.test. :)  Thanks!"}, {"owner": {"reputation": 1768, "user_id": 2889970, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Od4jO.jpg?s=128&g=1", "display_name": "timmwagener", "link": "https://stackoverflow.com/users/2889970/timmwagener"}, "edited": false, "score": 0, "creation_date": 1518814541, "post_id": 30517541, "comment_id": 84674044, "body": "<code>That&#39;s exactly what I want. Now I just have to convince my coworkers to drop nose for py.test. :)</code> I use pytest heavily at work and private, and it&#39;s about one of the most joyfull experiences when programming in Python. <code>@pytest.mark.parametrize</code> is just one of its great features."}, {"owner": {"reputation": 673, "user_id": 445232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/49a31356e9a88e724730a040e50bced0?s=128&d=identicon&r=PG", "display_name": "NA Slacker", "link": "https://stackoverflow.com/users/445232/na-slacker"}, "edited": false, "score": 1, "creation_date": 1589809329, "post_id": 30517541, "comment_id": 109432173, "body": "The link is dead and the answer doesn&#39;t include an example."}], "tags": [], "owner": {"reputation": 209, "user_id": 754870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4b83e2aa7aa28dcf2e99421146c387c?s=128&d=identicon&r=PG", "display_name": "elbows", "link": "https://stackoverflow.com/users/754870/elbows"}, "is_accepted": true, "score": 2, "last_activity_date": 1589899488, "last_edit_date": 1589899488, "creation_date": 1432849156, "answer_id": 30517541, "question_id": 30494423, "link": "https://stackoverflow.com/questions/30494423/unit-test-theories-in-python/30517541#30517541", "title": "Unit test Theories in Python?", "body": "<p>It looks like pytest can do something like this: <a href=\"https://docs.pytest.org/en/latest/parametrize.html\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/parametrize.html</a></p>\n\n<p>I haven't tried it out myself.</p>\n"}, {"tags": [], "owner": {"reputation": 14743, "user_id": 808804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc54ae5944af5810788795c32ebc815b?s=128&d=identicon&r=PG", "display_name": "Adam Parkin", "link": "https://stackoverflow.com/users/808804/adam-parkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518814307, "creation_date": 1518814307, "answer_id": 48834668, "question_id": 30494423, "link": "https://stackoverflow.com/questions/30494423/unit-test-theories-in-python/48834668#48834668", "title": "Unit test Theories in Python?", "body": "<p>As it turns out, there's something like this built-in as of Python 3.4 -- <code>subTest</code>: <a href=\"https://docs.python.org/3.4/library/unittest.html#distinguishing-test-iterations-using-subtests\" rel=\"nofollow noreferrer\">https://docs.python.org/3.4/library/unittest.html#distinguishing-test-iterations-using-subtests</a></p>\n\n<p>Not quite as elegant as py.test's parameterized tests, or jUnit Theories, but if you want a standard-lib approach &amp; are using a relatively recent version of Python it's an option.</p>\n"}], "owner": {"reputation": 14743, "user_id": 808804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc54ae5944af5810788795c32ebc815b?s=128&d=identicon&r=PG", "display_name": "Adam Parkin", "link": "https://stackoverflow.com/users/808804/adam-parkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 30517541, "answer_count": 3, "score": 6, "last_activity_date": 1589899488, "creation_date": 1432766954, "question_id": 30494423, "link": "https://stackoverflow.com/questions/30494423/unit-test-theories-in-python", "title": "Unit test Theories in Python?", "body": "<p>In a previous life I did a fair bit of Java development, and found <a href=\"http://www.javacodegeeks.com/2013/12/introduction-to-junit-theories.html\" rel=\"noreferrer\">JUnit Theories</a> to be quite useful.  Is there any similar mechanism for Python?</p>\n\n<p>Currently I'm doing something like:</p>\n\n<pre><code>def some_test(self):\n    cases = [('some sample input', 'some expected value'),\n            ('some other input', 'some other expected value')]\n\n    for value, expected in cases:\n        result = method_under_test(value)\n        self.assertEqual(expected, result)\n</code></pre>\n\n<p>But this is rather clunky, if the first \"case\" fails, all others fail to be run.</p>\n"}, {"tags": ["python", "command-prompt", "python-3.4"], "comments": [{"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432767035, "post_id": 30494379, "comment_id": 49066466, "body": "If you add <code>E:\\python34</code> to your system path, you could run the command as <code>python filename.py</code>"}, {"owner": {"reputation": 283, "user_id": 4922544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-UGcFrKeeKDA/AAAAAAAAAAI/AAAAAAAARWM/q5oP174SnVY/photo.jpg?sz=128", "display_name": "Yu Xiong", "link": "https://stackoverflow.com/users/4922544/yu-xiong"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432767863, "post_id": 30494379, "comment_id": 49066722, "body": "After adding that, so I should be able to run like E:\\python filename.py directly? @JakeGriffin"}, {"owner": {"reputation": 283, "user_id": 4922544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-UGcFrKeeKDA/AAAAAAAAAAI/AAAAAAAARWM/q5oP174SnVY/photo.jpg?sz=128", "display_name": "Yu Xiong", "link": "https://stackoverflow.com/users/4922544/yu-xiong"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432770695, "post_id": 30494379, "comment_id": 49067549, "body": "Tested! It works! Thanks!"}, {"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432785387, "post_id": 30494379, "comment_id": 49070887, "body": "The &#39;E:\\&#39; should not be be necessary, just &#39;python&#39;."}, {"owner": {"reputation": 283, "user_id": 4922544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-UGcFrKeeKDA/AAAAAAAAAAI/AAAAAAAARWM/q5oP174SnVY/photo.jpg?sz=128", "display_name": "Yu Xiong", "link": "https://stackoverflow.com/users/4922544/yu-xiong"}, "reply_to_user": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432804170, "post_id": 30494379, "comment_id": 49080009, "body": "but in my Command Prompt it always start with C:\\&gt;User\\Xiongyu&gt; @JakeGriffin"}], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1432767334, "post_id": 30494471, "comment_id": 49066560, "body": "This is not an issue with the Python Path, it is an issue with the System Path"}], "tags": [], "owner": {"reputation": 3, "user_id": 4926620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f799fbcecdb15f28987a4568aa4b4657?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Clark", "link": "https://stackoverflow.com/users/4926620/jason-clark"}, "is_accepted": false, "score": 0, "last_activity_date": 1432767239, "last_edit_date": 1495541665, "creation_date": 1432767239, "answer_id": 30494471, "question_id": 30494379, "link": "https://stackoverflow.com/questions/30494379/can-python-file-be-executed-in-command-prompt-regardless-the-drive-where-you-ins/30494471#30494471", "title": "Can python file be executed in Command Prompt regardless the drive where you installed Python program?", "body": "<p>This post should explain how to set your environment variables.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3701646/how-to-add-to-the-pythonpath-in-windows-7\">How to add to the pythonpath in windows 7?</a></p>\n"}, {"tags": [], "owner": {"reputation": 801, "user_id": 575133, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/554dbba95d80253ee6e334854e991428?s=128&d=identicon&r=PG", "display_name": "ioscode", "link": "https://stackoverflow.com/users/575133/ioscode"}, "is_accepted": true, "score": 0, "last_activity_date": 1432768690, "creation_date": 1432768690, "answer_id": 30494725, "question_id": 30494379, "link": "https://stackoverflow.com/questions/30494379/can-python-file-be-executed-in-command-prompt-regardless-the-drive-where-you-ins/30494725#30494725", "title": "Can python file be executed in Command Prompt regardless the drive where you installed Python program?", "body": "<p>Yes, you always have to tell the computer to use the python executable to execute python programs.  It does not matter if you install to C: or E: drive either, you just always have to start out by specifying python executable.  The program you are running is just an argument passed to it.</p>\n\n<p>You can make it less of a pain by doing what @jake-griffin suggested and adding the location to your system Path variable so you only have to type python instead of the whole path to it.</p>\n"}], "owner": {"reputation": 283, "user_id": 4922544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-UGcFrKeeKDA/AAAAAAAAAAI/AAAAAAAARWM/q5oP174SnVY/photo.jpg?sz=128", "display_name": "Yu Xiong", "link": "https://stackoverflow.com/users/4922544/yu-xiong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2148, "favorite_count": 0, "accepted_answer_id": 30494725, "answer_count": 2, "score": 0, "last_activity_date": 1432768690, "creation_date": 1432766739, "question_id": 30494379, "link": "https://stackoverflow.com/questions/30494379/can-python-file-be-executed-in-command-prompt-regardless-the-drive-where-you-ins", "title": "Can python file be executed in Command Prompt regardless the drive where you installed Python program?", "body": "<p>if I installed Python program in my E drive not C drive, is it the necessary that I must execute python files in the same drive that I installed python program in Command Prompt?</p>\n\n<p>for example, I installed Python Program in my E drive. I can only be allowed to execute python files by following command?</p>\n\n<pre><code>E:\\python34\\python filename.py\n</code></pre>\n\n<p>NOT</p>\n\n<pre><code>C:\\python34\\python filename.py\n</code></pre>\n\n<p>or</p>\n\n<pre><code>E:\\others_direactory\\python filename.py\n</code></pre>\n\n<p>so, I always need to tell computer to use Python program to execute the python.py, otherwise it will alert \"XXX is not recognized as an internal or external command, operable program or batch file\". </p>\n\n<p>is that right?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "function", "lua"], "comments": [{"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 0, "creation_date": 1432766747, "post_id": 30494353, "comment_id": 49066379, "body": "at the top of fileB: <code>from fileA import doThis</code> doesnt work for you? or am i misunderstanding?"}, {"owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "reply_to_user": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 0, "creation_date": 1432766876, "post_id": 30494353, "comment_id": 49066417, "body": "@TehTris It doesn&#39;t work for me as the function needs to be able to read the variables on the fileA as if they were in the same file. Also it is a bit tedious needing to do this for everytime I add a plugin."}, {"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 0, "creation_date": 1432767474, "post_id": 30494353, "comment_id": 49066597, "body": "are you using python 2 or 3?"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1432767152, "post_id": 30494408, "comment_id": 49066506, "body": "I forgot to mention, I need to be able to get a variable from the files, but each file has the variable named the name. (plugin) My current code allows me to get the variable, but still not global. <code>values = {}; execfile(file, values); plugin = values[&#39;plugin&#39;]</code>  I may be able to make a workaround using your answer though."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1432767542, "post_id": 30494408, "comment_id": 49066617, "body": "What you want to do in that case is probably the <code>execfile</code> thing with an empty dictionary, <code>{}</code>. Then fish the same-named object out of the dictionary and put it in one of your own (under the name of the plugin)."}, {"owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1432767859, "post_id": 30494408, "comment_id": 49066721, "body": "Would this work if it was an array with a function in it, and I made a new function in fileA that was equal to the one in fileB, would this allow the function to use the functions and variables in fileA as if it were written in the file?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1432772178, "post_id": 30494408, "comment_id": 49067933, "body": "It&#39;s possible by constructing a new function object. I outlined how to do that as part of <a href=\"http://stackoverflow.com/questions/30061421/change-reference-to-function-in-run-time-in-python/30061978#30061978\">this recent answer</a>. Basically you need to extract the code object from the function from fileB and make a new function that uses fileA&#39;s globals."}, {"owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1432870064, "post_id": 30494408, "comment_id": 49115628, "body": "thank you, I will look at this when I get the chance"}, {"owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "edited": false, "score": 0, "creation_date": 1433000986, "post_id": 30494408, "comment_id": 49168548, "body": "I tried to make a function out of the code you had provided in that answer that would create an exact duplicate function of a function with combined globals of the function and the <code>globals()</code> but it did not work. I&#39;m sorry if I&#39;m sounding like I just want everything handed to me. I am really trying to get this to work."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 0, "last_activity_date": 1432766889, "creation_date": 1432766889, "answer_id": 30494408, "question_id": 30494353, "link": "https://stackoverflow.com/questions/30494353/python-equivalent-of-luas-loadfile/30494408#30494408", "title": "Python equivalent of lua&#39;s loadfile", "body": "<p>You generally shouldn't do this, since wildcard imports can make code harder to debug, but:</p>\n\n<pre><code>from other_module import *\n</code></pre>\n\n<p>This imports everything defined in <code>other_module</code> into the current module's global namespace. It's not exactly the same, but it's as close as you'll get.</p>\n\n<pre><code>execfile(\"other_module.py\", globals())\n</code></pre>\n\n<p>is very similar, except it won't cache the module in <code>sys.modules</code>.</p>\n"}], "owner": {"reputation": 190, "user_id": 3390376, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/avtj6.png?s=128&g=1", "display_name": "Hasan", "link": "https://stackoverflow.com/users/3390376/hasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432767540, "creation_date": 1432766573, "last_edit_date": 1432767540, "question_id": 30494353, "link": "https://stackoverflow.com/questions/30494353/python-equivalent-of-luas-loadfile", "title": "Python equivalent of lua&#39;s loadfile", "body": "<p>In lua there is a function called <code>loadfile</code>, this function allows the program to parse a .lua file into the current project. All the functions and variables work as if they were written in the same file.</p>\n\n<p>This is useful for loading plugins. I am trying to port a telegram bot over to python but cannot find a function that allows me to load a .py file and have the functions be in the context of the file.</p>\n\n<p>I have tried python's <code>execfile</code> and importing the file but that doesn't allow for the functions of the loaded file to be in scope of the initial file.</p>\n\n<p>(i.e. fileA.py loads fileB.py. fileA has function \"doThis\". fileB can't access \"doThis\" using execfile)</p>\n\n<p>How can I achieve the same thing in python as loadfile for lua?</p>\n\n<p>I am using python 2</p>\n"}, {"tags": ["python", "numpy", "dictionary", "pandas"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1432765845, "post_id": 30494167, "comment_id": 49066058, "body": "Can you provide a reproducible example that shows the error?"}, {"owner": {"reputation": 3032, "user_id": 1486196, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/208f40e089107b8150bc72cad744ce7c?s=128&d=identicon&r=PG", "display_name": "chase", "link": "https://stackoverflow.com/users/1486196/chase"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1432767286, "post_id": 30494167, "comment_id": 49066547, "body": "Thank you for the comment! I usually prepare a small compilable sample to try that reproduces the error but this time I could not figure out what was wrong as the small compilable script I wrote would work completely.  Therefore it is something with my specific data type or some mystery that I can&#39;t yet figure out.  My hope is that someone may have experience or insight into this type of problem to suggest something.  I&#39;m adding a small compilable script now."}], "answers": [{"tags": [], "owner": {"reputation": 3032, "user_id": 1486196, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/208f40e089107b8150bc72cad744ce7c?s=128&d=identicon&r=PG", "display_name": "chase", "link": "https://stackoverflow.com/users/1486196/chase"}, "is_accepted": false, "score": 1, "last_activity_date": 1432767766, "creation_date": 1432767766, "answer_id": 30494570, "question_id": 30494167, "link": "https://stackoverflow.com/questions/30494167/dataframe-creation-reindexing/30494570#30494570", "title": "DataFrame creation - reindexing", "body": "<p>Always check if you have 2 Y values for one X value, or two values per index for a data frame.\nI got one of the datasets by hand tracing a graph on plotly and creating the data that way which gave 2 y values for one X.</p>\n\n<p>To illustrate:\nHere is a small script which is compilable:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndef f(i):\n    return np.random.rand(i,)\n\n# number of points in two spectra (two separate spectra of different length)\n# possibly obtained on different equipment such that the pixels/values don't align\nn1 = 450\nn2 = 950\nX1 = np.sort(f(n1))\nX2 = np.sort(f(n2))\nY1 = f(n1)\nY2 = f(n2)\n\n# make dataframe from the spectra\nd = dict()\nd['1'] = pd.Series(Y1, index=X1)\nd['2'] = pd.Series(Y2, index=X2)\nprint(d)\ndf = pd.DataFrame(d)\nprint(df)\n</code></pre>\n\n<p>Here is one that is not, and returns the error I was getting:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndef f(i):\n    return np.random.rand(i,)\n\n# number of points in two spectra (two separate spectra of different length)\n# possibly obtained on different equipment such that the pixels/values don't align\nn1 = 450\nn2 = 950\n# store X array to duplicate a value within it\nX_ = f(n1)\nX1 = np.sort(np.append(X_,X_[0]))\nX2 = np.sort(f(n2))\nY_ = f(n1)\nY1 = np.append(Y_,Y_[0])\nY2 = f(n2)\n\n# make dataframe from the spectra\nd = dict()\nd['1'] = pd.Series(Y1, index=X1)\nd['2'] = pd.Series(Y2, index=X2)\nprint(d)\ndf = pd.DataFrame(d)\nprint(df)\n</code></pre>\n"}], "owner": {"reputation": 3032, "user_id": 1486196, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/208f40e089107b8150bc72cad744ce7c?s=128&d=identicon&r=PG", "display_name": "chase", "link": "https://stackoverflow.com/users/1486196/chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432767766, "creation_date": 1432765638, "last_edit_date": 1432767420, "question_id": 30494167, "link": "https://stackoverflow.com/questions/30494167/dataframe-creation-reindexing", "title": "DataFrame creation - reindexing", "body": "<p>I keep getting this error in pandas:</p>\n\n<pre><code>raise Exception('Reindexing only valid with uniquely valued Index '\nException: Reindexing only valid with uniquely valued Index objects\n</code></pre>\n\n<p>Which I understand will happen if the column names are the same while trying to make a <code>DataFrame</code> from a dictionary.</p>\n\n<p>However, mine are not.</p>\n\n<p>Here is the dictionary I am using - which looks something like this - quite like that given in the tutorial, does not work:</p>\n\n<pre><code>d = {'Sample1': 4.121025    0.306828\n4.119957    0.335473\n4.096208    0.331831\n...\n0.824808    0.366679\n0.745721    0.586742\nLength: 406, 'Sample2': 3.444444    0.937468\n3.315508    0.855920\n...\n0.928144    0.236640\n0.918519    0.232346\nLength: 991}\n</code></pre>\n\n<p>This is the code I am using to generate this dictionary, the details of some of it are not relevant, but the spec.Y and spec.X are just numpy arrays:</p>\n\n<pre><code>d = dict()\nfor tab in self.tab_list:\n    spec = tab.temp_spectra\n    name = str(spec.spectra_name)\n    d[name] = pd.Series(spec.Y, index=spec.X)\n    print(name)\nprint(d)\ndf = pd.DataFrame(d)\nprint(df)\n</code></pre>\n\n<p>Any ideas why this error might be showing up so I can know what to go after to fix?  The column names do not appear to be it, and I was operating under the assumption that the indices can match or not - it shouldn't matter - which is why I am using this package to being with.  I want the 'hashtable' type of feel where the X array can be different or the same and the overlap will put values in the same row or create a new row if needed such that all of it can be viewed together.</p>\n\n<p><strong><em>EDIT:</em></strong> </p>\n\n<p>I figured out the solution had to do with a duplicate entry in the index of one of my datasets (one of my datasets was created on plotly by tracing by hand and therefore got two Y values for one X value).\nI will give a few examples of this in the answer to my own question.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1774, "user_id": 3861449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc5cffc01b789b8262766e32eddbcfd7?s=128&d=identicon&r=PG&f=1", "display_name": "zephyr", "link": "https://stackoverflow.com/users/3861449/zephyr"}, "edited": false, "score": 2, "creation_date": 1432765703, "post_id": 30494157, "comment_id": 49065999, "body": "What&#39;s wrong with outputting to a file?"}, {"owner": {"reputation": 160456, "user_id": 89391, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG", "display_name": "miku", "link": "https://stackoverflow.com/users/89391/miku"}, "edited": false, "score": 0, "creation_date": 1432765842, "post_id": 30494157, "comment_id": 49066056, "body": "Your question is a bit broad. In short: you persist data by writing it to a permanent medium, such as a disk. You can append to a file or use a database - there are a lot of possibilities, and, what will work for you will depend on your use case, which I miss a bit in your question."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 1, "creation_date": 1432765953, "post_id": 30494157, "comment_id": 49066099, "body": "You should take a look at the <a href=\"https://docs.python.org/2/library/persistence.html\" rel=\"nofollow noreferrer\">chapter about data persistence in the standard library documentation</a> or about the <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">JSON module</a>."}, {"owner": {"reputation": 160456, "user_id": 89391, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG", "display_name": "miku", "link": "https://stackoverflow.com/users/89391/miku"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1432766115, "post_id": 30494157, "comment_id": 49066173, "body": "@mkrieger1, Great link, but why not point to the <a href=\"https://docs.python.org/3/library/persistence.html\" rel=\"nofollow noreferrer\">Python 3</a> version?"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1432766214, "post_id": 30494157, "comment_id": 49066210, "body": "Because the Python 2.7 version was above the Python 3 version in the Google results..."}], "answers": [{"tags": [], "owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "is_accepted": true, "score": 2, "last_activity_date": 1432765831, "creation_date": 1432765831, "answer_id": 30494215, "question_id": 30494157, "link": "https://stackoverflow.com/questions/30494157/retaining-hardcoding-data-in-python/30494215#30494215", "title": "Retaining/hardcoding data in Python", "body": "<p>There is no notion of an <strong>image</strong> as smalltalk had it (only heard, never worked with it) in standard python.</p>\n\n<p>Depending on your actual use-case, I can see several approaches:</p>\n\n<ul>\n<li>use configuration-files, reading on start and writing them in intervals.</li>\n<li><code>pickle</code> your relevant data-structures explicitly, and restore whatever graph of objects you have.</li>\n<li>use stackless python, which allows to serialize interpreter state.</li>\n</ul>\n"}], "owner": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1432813828, "accepted_answer_id": 30494215, "answer_count": 1, "score": 0, "last_activity_date": 1432765831, "creation_date": 1432765566, "question_id": 30494157, "link": "https://stackoverflow.com/questions/30494157/retaining-hardcoding-data-in-python", "closed_reason": "Needs more focus", "title": "Retaining/hardcoding data in Python", "body": "<p>I would like to create something like a permanent storage using Python. What I mean is that I will have some variables coming into my code, and every time I execute my script it might be a different input. Let's imagine I am reading some website that is updating in real time. I want to be able to create a permanent storage that will hold on to the information (internalize it). So that when I get back to my script the next day and run it again, I will still have that internalized data available and it will not get re-set unless I specify so. Is that possible in Python? What should I be looking for? Any modules that do that? I really have no idea where to get started with this.  </p>\n"}, {"tags": ["python", "docker"], "comments": [{"owner": {"reputation": 6351, "user_id": 1150462, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/092b20f85f41e56494e4d1fabcb7099c?s=128&d=identicon&r=PG", "display_name": "xuhdev", "link": "https://stackoverflow.com/users/1150462/xuhdev"}, "edited": false, "score": 2, "creation_date": 1432771256, "post_id": 30494148, "comment_id": 49067698, "body": "Have you installed the module in your container?"}], "answers": [{"tags": [], "owner": {"reputation": 1086, "user_id": 4344681, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/879450500/picture?type=large", "display_name": "lingxiao", "link": "https://stackoverflow.com/users/4344681/lingxiao"}, "is_accepted": true, "score": 3, "last_activity_date": 1432889741, "creation_date": 1432889741, "answer_id": 30525302, "question_id": 30494148, "link": "https://stackoverflow.com/questions/30494148/importerror-only-when-i-use-docker/30525302#30525302", "title": "ImportError only when I use docker", "body": "<p>it's possible that the python version you are using inside the container is different from the python version the script is using. And different version of python may have different packages installed. You could check the python version the script is using from the shebang line.\nThe shebang line should look something like the following:</p>\n\n<pre><code>#!/usr/bin/env python\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1270, "user_id": 1023470, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1d68ceedad9a00addf67556bd2175a5e?s=128&d=identicon&r=PG", "display_name": "Lars", "link": "https://stackoverflow.com/users/1023470/lars"}, "edited": false, "score": 0, "creation_date": 1576073364, "post_id": 43954295, "comment_id": 104780371, "body": "this is not very docker specific"}], "tags": [], "owner": {"reputation": 456, "user_id": 7584643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcfb9df813f9a9a3f844e51834c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Lenny Laughter", "link": "https://stackoverflow.com/users/7584643/lenny-laughter"}, "is_accepted": false, "score": 1, "last_activity_date": 1494685781, "last_edit_date": 1495542370, "creation_date": 1494685781, "answer_id": 43954295, "question_id": 30494148, "link": "https://stackoverflow.com/questions/30494148/importerror-only-when-i-use-docker/43954295#43954295", "title": "ImportError only when I use docker", "body": "<p>You are trying to import a module from a package. See <a href=\"https://stackoverflow.com/a/7948504/7584643\">this</a> answer to learn the difference between a module and a package. Your problem may be that your package isn't recognized as a package due to a missing __ init.py__ file. Add an empty one to the c directory if you don't already have one. </p>\n"}], "owner": {"reputation": 1776, "user_id": 3113501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/defc8f3b2a6827502b7099332c4b8c3e?s=128&d=identicon&r=PG&f=1", "display_name": "lars", "link": "https://stackoverflow.com/users/3113501/lars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8050, "favorite_count": 2, "accepted_answer_id": 30525302, "answer_count": 2, "score": 5, "last_activity_date": 1508479974, "creation_date": 1432765514, "question_id": 30494148, "link": "https://stackoverflow.com/questions/30494148/importerror-only-when-i-use-docker", "title": "ImportError only when I use docker", "body": "<p>I can run a script fine without docker, but when I have to use docker I run it and I get an import error: no module named c.H.</p>\n\n<p>In my docker container, I can do: </p>\n\n<p>python</p>\n\n<pre><code> import c.H\n</code></pre>\n\n<p>Everything works fine. But the second I try to run script.py, I get the import error that there is no module named c.H</p>\n\n<p>I do not get this error when I don't use docker.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 1808657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c4531039008a05b073484025a47ede?s=128&d=identicon&r=PG", "display_name": "Arnaud Joly", "link": "https://stackoverflow.com/users/1808657/arnaud-joly"}, "is_accepted": false, "score": 0, "last_activity_date": 1433411391, "creation_date": 1433411391, "answer_id": 30640578, "question_id": 30494067, "link": "https://stackoverflow.com/questions/30494067/does-using-sparse-matrices-make-an-algorithm-slower-or-faster-in-sklearn/30640578#30640578", "title": "Does using sparse matrices make an algorithm slower or faster in Sklearn?", "body": "<p>If your data are sparse, the extra tree classifier will be faster with a csc_matrix. In doubt, I would suggest you to benchmark with both version. </p>\n\n<p>All algorithms should benefit from using the appropriate sparse format if your data are sufficiently sparse. For instance, algorithms based on dot product will be a lot faster with sparse data.</p>\n"}, {"tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": false, "score": 0, "last_activity_date": 1433412337, "creation_date": 1433412337, "answer_id": 30640900, "question_id": 30494067, "link": "https://stackoverflow.com/questions/30494067/does-using-sparse-matrices-make-an-algorithm-slower-or-faster-in-sklearn/30640900#30640900", "title": "Does using sparse matrices make an algorithm slower or faster in Sklearn?", "body": "<h2>Depends on your data</h2>\n\n<h3>Memory consumption.</h3>\n\n<p>If your data is dense, a dense representation needs <code>d*sizeof(double)</code> bytes for your data (i.e. usually <code>d * 8</code> bytes). A sparse representation usually needs <code>sparsity*d*(sizeof(int)+sizeof(double))</code>. Depending on your programming language and code quality, it can also be <em>much</em> more due to memory management overhead. A typical Java implementation adds 8 bytes of overhead, and will round to 8 bytes size; so sparse vectors may easily use <code>16 + sparsity * d * 24</code> bytes. then.</p>\n\n<p>If your sparsity is 1, this means a sparse representation needs 50% <em>more</em> memory. I guess the memory tradeoff in practise will be somewhere around 50% sparsity; and if your implementation isn't carefull optimized, maybe even 30% - so 1 out of 3 values should be a zero.</p>\n\n<p><strong>Memory consumption is usually a key problem.</strong> The more memory you use, the more pagefaults and cache misses your CPU will have, which can have a big impact on performance (which is why e.g. BLAS perform large matrix multiplications in block sizes optimized for your CPU caches).</p>\n\n<h3>Optimizations and SIMD.</h3>\n\n<p>Dense vector code (e.g. BLAS) is usually much better optimized than sparse operations. In particular, SIMD (single instruction, multiple data) CPU instructions usually only work with <em>dense</em> data.</p>\n\n<h3>Random access.</h3>\n\n<p>Many algorithms may need <em>random</em> access to vectors. If your data is represented as a <code>double[]</code> array, random access is <code>O(1)</code>. If your data is a <em>sparse</em> vector, random access usually is <code>O(sparsity*d)</code>, i.e. you will have to scan the vector to check if there is a value present. It may thus be beneficial to transpose the matrix for some operations, and work with sparse columns instead of sparse rows.</p>\n\n<p>On the other hand, some algorithms may exactly benefit from this. But many implementations have such optimizations built in, and will take care of this automatically. Sometimes you also have different choices available. For example APRIORI works on rows, and thus will work well with row-sparse data. Eclat on the other hand is an algorithm to solve the same problem, but it first transforms all data into a row-sparse form, then even computes column <em>differences</em> to further optimize.</p>\n\n<h3>Code complexity.</h3>\n\n<p>Code to process sparse data usually is much more complex. In particular, it cannot make use of SSE and similar fast CPU instructions easily. It is one of the reasons why sparse matrix multiplications are much slower than dense operations - optimizing these operations without knowing certain characteristics of your data is surprisingly hard. :-(</p>\n"}], "owner": {"reputation": 11132, "user_id": 648896, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/075bb9ae37f0660dd0333ed59503db11?s=128&d=identicon&r=PG", "display_name": "erogol", "link": "https://stackoverflow.com/users/648896/erogol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 731, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1433412337, "creation_date": 1432765116, "question_id": 30494067, "link": "https://stackoverflow.com/questions/30494067/does-using-sparse-matrices-make-an-algorithm-slower-or-faster-in-sklearn", "title": "Does using sparse matrices make an algorithm slower or faster in Sklearn?", "body": "<p>I have a large but sparse train data. I would like to use it with ExtraTreeClassifier. I am not sure considering computational time whether I need to use sparse csr_matrix or the raw data. Which version of the data runs faster with that classifier and can we generalize its answer to all sparse capable models?</p>\n"}, {"tags": ["python", "matrix", "sum"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4619528, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-lLuqWt44a_Q/AAAAAAAAAAI/AAAAAAAAAOc/TM6K88_OTQA/photo.jpg?sz=128", "display_name": "homayoun", "link": "https://stackoverflow.com/users/4619528/homayoun"}, "edited": false, "score": 0, "creation_date": 1432768587, "post_id": 30494649, "comment_id": 49066943, "body": "at the end, I want to have scores for all pairs, for example GER-USA, USA-UK and GER-UK and if I want to clarify it better, the scors for GER-USA and USA-UK would be: GER-USA=(300+100)/{(200+300+45)+(100+500)}= 0.27 and for USA-UK= (100+500+240+900)/{(100+500)+(240+900)}=1"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 83, "user_id": 4619528, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-lLuqWt44a_Q/AAAAAAAAAAI/AAAAAAAAAOc/TM6K88_OTQA/photo.jpg?sz=128", "display_name": "homayoun", "link": "https://stackoverflow.com/users/4619528/homayoun"}, "edited": false, "score": 0, "creation_date": 1432769142, "post_id": 30494649, "comment_id": 49067103, "body": "@homayoun If you want to divide by sum of  all Commodities for each country you can just divide by sum of the corresponding value for each key(country name) in <code>hart_dict</code>."}, {"owner": {"reputation": 83, "user_id": 4619528, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-lLuqWt44a_Q/AAAAAAAAAAI/AAAAAAAAAOc/TM6K88_OTQA/photo.jpg?sz=128", "display_name": "homayoun", "link": "https://stackoverflow.com/users/4619528/homayoun"}, "edited": false, "score": 0, "creation_date": 1432776812, "post_id": 30494649, "comment_id": 49068919, "body": "thanks for your help but I think there is a misunderstanding. I want to confine myself to two countries, calculate the score for them and then do the same for two other countries. in this way if we have 3 countries we will have 6 scores and 3 different scores. I also update the last part of my script, maybe it&#39;s more clear now."}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1432768627, "last_edit_date": 1432768627, "creation_date": 1432768206, "answer_id": 30494649, "question_id": 30494062, "link": "https://stackoverflow.com/questions/30494062/using-a-matrix-format-in-python-to-calculate-my-own-similarity-score/30494649#30494649", "title": "Using a matrix format in Python to calculate my own similarity score", "body": "<p>As a more pythonic way you can first create a dictionary of your rows that it could be done with following dict comprehension :</p>\n\n<pre><code>hart_dict={i[0]:map(int,i[1:]) for i in spamreader}\n{' USA': [0, 100, 0, 500], ' GER': [200, 300, 45, 0], ' UK': [0, 240, 0, 900]}\n</code></pre>\n\n<p>Then create your pairs with <code>itertools.combinations</code> :</p>\n\n<pre><code>capirs= list(combinations(next(z),2))\n[(' GER', ' USA'), (' GER', ' UK'), (' USA', ' UK')]\n</code></pre>\n\n<p>And then calculate the sum of commodities :</p>\n\n<pre><code>row_sums=[sum(map(int,i)) for i in z]\n[200, 640, 45, 1400]\n</code></pre>\n\n<p>and at last you can loop over your pairs and calculate your expected result.</p>\n\n<pre><code>import csv\nfrom itertools import combinations,izip\n\ncommodities=['Commodity1' ,'Commodity2', 'Commodity45' ,'Commodity85']\nwith open('ex.csv', 'rb') as csvfile:\n    spamreader = list(csv.reader(csvfile, delimiter=','))\n    chart_dict={i[0]:map(int,i[1:]) for i in spamreader}\n    z=izip(*spamreader)\n    capirs= list(combinations(next(z),2))\n    row_sums=[sum(map(int,i)) for i in z]\n\n    for i,j in capirs:\n      for index,com in enumerate(commodities):\n        print i,j,com,float(chart_dict[i][index]+chart_dict[j][index])/row_sums[index]\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>GER  USA Commodity1 1.0\n GER  USA Commodity2 0.625\n GER  USA Commodity45 1.0\n GER  USA Commodity85 0.357142857143\n GER  UK Commodity1 1.0\n GER  UK Commodity2 0.84375\n GER  UK Commodity45 1.0\n GER  UK Commodity85 0.642857142857\n USA  UK Commodity1 0.0\n USA  UK Commodity2 0.53125\n USA  UK Commodity45 0.0\n USA  UK Commodity85 1.0\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4619528, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-lLuqWt44a_Q/AAAAAAAAAAI/AAAAAAAAAOc/TM6K88_OTQA/photo.jpg?sz=128", "display_name": "homayoun", "link": "https://stackoverflow.com/users/4619528/homayoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1432776657, "creation_date": 1432765089, "last_edit_date": 1432776657, "question_id": 30494062, "link": "https://stackoverflow.com/questions/30494062/using-a-matrix-format-in-python-to-calculate-my-own-similarity-score", "title": "Using a matrix format in Python to calculate my own similarity score", "body": "<p>I have a csv file and that is the values of commodities traded between countries, something like this:</p>\n\n<pre><code>Country  Comm  Value\n GER       1     200\n GER       2     300\n GER       45    354\n USA       2     100\n USA       85    500\n UK        2     240\n UK        85    900\n</code></pre>\n\n<p>I have created a matrix with this data. In this created matrix, rows are countries and columns are commodities' codes and each element shows the value of trade. The number of commodities is 97 and I've used the following code to create that matrix:</p>\n\n<pre><code>rfile = open('file path','r')\nrfile.next()\ndic_c1_products = {}\nfor i in rfile :\n    lns = i.strip().split(',')\n    c1 = lns[0]\n    p = lns[1]\n    value= lns[2]\n    if not dic_c1_products.has_key(c1):\n        dic_c1_products[c1] = [(p,value),]\n    else:\n        dic_c1_products[c1].append((p,value))\n product_count  = 97\n c1_list = dic_c1_products.keys()\n matrix_c1_products = [[0 for col in range(int(product_count)+1)] for row     in range(len(c1_list))]\n for c1 in dic_c1_products:\n      for p, v in dic_c1_products[c1]:\n           matrix_c1_products[c1_list.index(c1)][int(p)] = int(v)\n print 'Matirix Done'\n</code></pre>\n\n<p>Now I want to calculate an index score for each pair of countries (the pair score is: total trade in common over total trade of each country). \nThe created matrix has a form like this:</p>\n\n<pre><code>Countries   Commodity1 Commodity2 Commodity45 Commodity85\n GER           200        300         45          0\n USA            0         100          0         500\n UK             0         240          0         900\n</code></pre>\n\n<p>First I want to sum the total values of the SAME commodities that two countries are trading and then divide this amount to TOTAL trade of those two countries. For example if we consider GER-USA, they both trade commodities number 2, so I want to have summation of these common commodities (300+100)\nover the summation of total trade of Germany and the United States : (Fist Row:200+300+354)+(Second Row: 100+500) \nIn simple words, if we consider the matrix:\nFirst, I want to calculate the total values for GER and USA rows.\nSecond, to calculate the values of the total common commodities which are being traded\nThird, divide the value of stage two to the value of stage one.\nFor doing this, I have written the following code:</p>\n\n<pre><code>for i in range(len(matrix_c1_products)):\n    for j in range(i, len(matrix_c1_products)):\n            dividend=sum([matrix_c1_products[i]])+sum([matrix_c1_products[j]])\n        for k in matrix_c1_products[i]:\n            for l in matrix_c1_products[j]:\n              #  print k,l\n                if int(k)==int(0):\n                    pass\n                if int(l)==int(0):\n                    pass\n                else:\n                    commonone.append(k)\n                    commontwo.append(l)\n             divisor=sum(commonone)+sum(commontwo)\n             shares=int(divisor/dividend)\n             print shares, divisor, dividend\n</code></pre>\n\n<p>but there is a problem with commonone list. I intend to remove zeros from two rows and add the existence values but because of the loop, the same number repeats in the list and the results are not correct.\nAny help would be appreciated.</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 4, "creation_date": 1432765231, "post_id": 30494056, "comment_id": 49065832, "body": "Apart from the <code>pub2.publish(a)</code> there isn\u2019t really anything identical in those functions. Plus, <code>a</code> is not even a variable in the function scope?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1432765432, "post_id": 30494056, "comment_id": 49065906, "body": "I&#39;m assuming the second one is supposed to have <code>pub2.publish(b)</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1432765707, "post_id": 30494056, "comment_id": 49066000, "body": "@poke: There&#39;s a pretty clear parallel structure. They have a different <code>MsgSpam</code> type, a different <code>msg_type_spam</code> type, and a different list of attributes, but otherwise they do the same thing."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1432765796, "post_id": 30494056, "comment_id": 49066038, "body": "@abarnert Of course I see the structure, but it\u2019s hard to tell what exactly is variable about this kind of function (you did a good job in your answer though)."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 3738453, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfc5f2468216dbb6dc7c980e7587f16f?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Wyatt", "link": "https://stackoverflow.com/users/3738453/connor-wyatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1432765214, "creation_date": 1432765214, "answer_id": 30494082, "question_id": 30494056, "link": "https://stackoverflow.com/questions/30494056/how-to-avoid-similar-function-definitions-in-python/30494082#30494082", "title": "How to avoid similar function definitions in Python?", "body": "<p>Sound like you are after classes, they allow you to assign methods and variables to an otherwise identically structured object</p>\n"}, {"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 2, "last_activity_date": 1432765407, "creation_date": 1432765407, "answer_id": 30494121, "question_id": 30494056, "link": "https://stackoverflow.com/questions/30494056/how-to-avoid-similar-function-definitions-in-python/30494121#30494121", "title": "How to avoid similar function definitions in Python?", "body": "<p>There are no macros, but you can create a function that defines another function and returns it:</p>\n\n<pre><code>def make_callback(msg_type, msg_type_func, attrs_to_copy):\n    def callback(msg):\n        m = msg_type(msg)\n        x = msg_type_func()\n        for attr in attrs_to_copy:\n            setattr(x, attr, getattr(m, attr))\n        pub2.publish(x)\n    return callback\n</code></pre>\n\n<p>Then you would do something like:</p>\n\n<pre><code>callback1 = make_callback(MsgX, msg_type_a, ['x'])\ncallback2 = make_callback(MsgY, msg_type_b, ['t', 'u'])\n</code></pre>\n\n<p>Depending on how complicated your logic is and what exactly may vary in the different functions, you may want to instead write a class that breaks the callback functionality down into parts (e.g., a \"set attributes\" step and a \"publish step\") and provides a single \"go\" method to execute them all.  Also, if you know what combinations are meaningful (i.e., you know that <code>MsgX</code> always goes with <code>msg_type_a</code>), then you can make that information explicit in a dictionary somewhere, and use that dictionary to derive various parts of the call from one or a few \"key\" values.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 1902088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb51650628d20babba75b45fd6fbd868?s=128&d=identicon&r=PG", "display_name": "Daniel Eckert", "link": "https://stackoverflow.com/users/1902088/daniel-eckert"}, "edited": false, "score": 1, "creation_date": 1432818940, "post_id": 30494134, "comment_id": 49090867, "body": "I just tested the execution speed. For this specific case there was no noticable difference."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 35, "user_id": 1902088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb51650628d20babba75b45fd6fbd868?s=128&d=identicon&r=PG", "display_name": "Daniel Eckert", "link": "https://stackoverflow.com/users/1902088/daniel-eckert"}, "edited": false, "score": 0, "creation_date": 1433485547, "post_id": 30494134, "comment_id": 49381830, "body": "@DanielEckert: Good; testing is always better than guessing. :)"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 6, "last_activity_date": 1432765770, "last_edit_date": 1432765770, "creation_date": 1432765439, "answer_id": 30494134, "question_id": 30494056, "link": "https://stackoverflow.com/questions/30494056/how-to-avoid-similar-function-definitions-in-python/30494134#30494134", "title": "How to avoid similar function definitions in Python?", "body": "<p>You don't need a macro for this; functions are first-class objects, and can be built dynamically:</p>\n\n<pre><code>def make_callback(m_type, other_type, *attrs):\n    def callback(msg):\n        m = m_type(msg)\n        a = other_type()\n        for attr in attrs:\n            setattr(a, attr, getattr(m, attr))\n        pub2.publish(a)\n    return callback\n\ncallback1 = make_callback(MsgX, msg_type_a, 'x')\ncallback2 = make_callback(MsgY, msg_type_b, 't', 'u')\n</code></pre>\n\n<p>If you're willing to standardize the types in some way, you can make this even simpler. For example, if every one of those <code>other_type</code> things is a <code>namedtuple</code>-ish type (something that has <code>_fields_</code> or <code>__slots__</code> or some other iterable of attribute names):</p>\n\n<pre><code>def make_callback(m_type, other_type):\n    def callback(msg):\n        m = m_type(msg)\n        a = other_type()\n        for attr in other_type._fields_:\n            setattr(a, attr, getattr(m, attr))\n        pub2.publish(a)\n    return callback\n\ncallback1 = make_callback(MsgX, msg_type_a)\ncallback2 = make_callback(MsgY, msg_type_b)\n</code></pre>\n\n<p>Or, if the <code>msg_type</code>s just know how to construct themselves from the <code>MsgTypes</code>:</p>\n\n<pre><code>def make_callback(m_type, other_type):\n    def callback(msg):\n        m = m_type(msg)\n        a = other_type(m)\n        pub2.publish(a)\n    return callback\n\ncallback1 = make_callback(MsgX, msg_type_a)\ncallback2 = make_callback(MsgY, msg_type_b)\n</code></pre>\n\n<p>Or, if the <code>MsgTypes</code> know how to transform themselves into <code>msg_types</code> (possibly even dynamically-generated ones):</p>\n\n<pre><code>def make_callback(m_type):\n    def callback(msg):\n        m = m_type(msg)\n        pub2.publish(m.to_other_type())\n    return callback\n\ncallback1 = make_callback(MsgX, msg_type_a)\ncallback2 = make_callback(MsgY, msg_type_b)\n</code></pre>\n\n<p>And so on. All the basic OO designs are available in Python when they're appropriate (it's hard to know what's appropriate from your toy example), but you have lots of reflective/dynamic features to fall back to when they're not.</p>\n\n<hr>\n\n<p>Will this affect performance?</p>\n\n<p>Well, you are either looping over a list of 2 things or adding an extra function call, which takes a few nanoseconds. But is that really important? If so, you'd almost certainly want to change your design so that the <code>msg_type</code> types can be constructed more cheaply (e.g., in a single call), and so on, and while doing that, you can fit in something that makes this part easier to optimize as well.</p>\n"}], "owner": {"reputation": 35, "user_id": 1902088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb51650628d20babba75b45fd6fbd868?s=128&d=identicon&r=PG", "display_name": "Daniel Eckert", "link": "https://stackoverflow.com/users/1902088/daniel-eckert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 30494134, "answer_count": 3, "score": 2, "last_activity_date": 1432988303, "creation_date": 1432765045, "last_edit_date": 1432988303, "question_id": 30494056, "link": "https://stackoverflow.com/questions/30494056/how-to-avoid-similar-function-definitions-in-python", "title": "How to avoid similar function definitions in Python?", "body": "<p>I have a bunch of very similar functions in my Python code, which look as follows:</p>\n\n<pre><code>def callback1(msg):\n    m = MsgX(msg)\n    a = msg_type_a()\n    a.x = m.x\n    pub2.publish(a)\n\ndef callback2(msg):\n    m = MsgY(msg)\n    b = msg_type_b()\n    b.t = m.t\n    b.u = m.u\n    pub2.publish(b)\n\n# ... and a couple more in the same fashion\n</code></pre>\n\n<p>Is there some way to avoid the repetition in defining these functions without influencing the execution speed?</p>\n"}, {"tags": ["python", "exception-handling", "python-internals"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 3, "creation_date": 1432765444, "post_id": 30494045, "comment_id": 49065909, "body": "The values are gone by the time the line is executed. You are right that the values are stored somewhere, on the stack actually, but they are popped from it right when the <code>+</code> is evaluated, so at that time, the values are gone. You would have to stop the bytecode evaluation in between to access the values. And that\u2019s something a debugger does; it\u2019s definitely not something that has a place in a normal application."}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1432765643, "post_id": 30494045, "comment_id": 49065981, "body": "What @poke said. But: The traceback object that <code>sys.excepthook</code> gets passed has a reference <code>traceback.tb_frame</code> to the stack frame where the exception occurred. On that frame, you can access the frame locals with <code>traceback.tb_frame.f_locals</code>. This doesn&#39;t help in your example where you&#39;re concatenating the <i>results of function calls</i>, but would be of some help for other names that directly reference simple values."}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 2, "creation_date": 1432765978, "post_id": 30494045, "comment_id": 49066110, "body": "You might also be interested in <code>pdb</code>&#39;s port-mortem debugging: See <a href=\"https://docs.python.org/2/library/pdb.html#pdb.post_mortem\" rel=\"nofollow noreferrer\"><code>pdb.post_mortem(tb)</code></a> and <a href=\"https://docs.python.org/2/library/pdb.html#pdb.pm\" rel=\"nofollow noreferrer\"><code>pdb.pm()</code></a>"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1432766193, "post_id": 30494045, "comment_id": 49066200, "body": "Interesting idea: Use a bytecode interpreter written in Python to execute the Python bytecode one-by-one to be able to access the stack directly."}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1432767012, "post_id": 30494045, "comment_id": 49066459, "body": "@poke that sounds like a ton of work to write and execute ;-) If someone held a gun to my head and said &quot;solve this&quot;, I&#39;d probably get the source line from the traceback, turn that into an <a href=\"https://docs.python.org/2/library/ast.html\" rel=\"nofollow noreferrer\"><code>ast</code></a>, break the expression apart and try to evaluate the sub-expressions in the context of the respective stack frame."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1432767136, "post_id": 30494045, "comment_id": 49066501, "body": "@LukasGraf Python bytecode interpreters written in Python do actually exist, so you could use them. But don&#39;t ask me about performance ;D"}, {"owner": {"reputation": 42073, "user_id": 113632, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f0aa6977c75f54ca9033d4f4d0244023?s=128&d=identicon&r=PG", "display_name": "dimo414", "link": "https://stackoverflow.com/users/113632/dimo414"}, "edited": false, "score": 0, "creation_date": 1433351225, "post_id": 30494045, "comment_id": 49318712, "body": "It&#39;s also possible you&#39;re looking for <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow noreferrer\"><code>logging</code></a> - this is the standard way to inspect code as it&#39;s running."}], "answers": [{"comments": [{"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 2, "creation_date": 1432767285, "post_id": 30494435, "comment_id": 49066546, "body": "The OP phrased his question in a way that makes it pretty clear that he&#39;s trying to solve the general case - otherwise he probably wouldn&#39;t be using  <code>sys.excepthook</code>, would he? So this does not answer the question either."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1432767628, "post_id": 30494435, "comment_id": 49066652, "body": "You&#39;re right, but by following proper Python coding practices, this question is moot."}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1432767820, "post_id": 30494435, "comment_id": 49066709, "body": "Huh? What do you mean by that? This question is totally legitimate, and many frameworks do something very similar to what the OP asks, for good reasons."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1432768111, "post_id": 30494435, "comment_id": 49066799, "body": "Python is not a framework, it is a programming language.  Its behavior is similar to most other languages in this case (NPE, anyone?)"}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 3, "creation_date": 1432768296, "post_id": 30494435, "comment_id": 49066856, "body": "You don&#39;t say. What I&#39;m saying is that it&#39;s common practice for <i>Python framworks</i> like Flask, Zope, templating engines like Mako or Jinja, etc. to use <code>sys.excepthook</code> to enrich the stack trace with additional information about the context, frame locals, and so on, in order to have more meaningful traceback in case of <i>unexpected</i> runtime errors. I still have no idea what specifically you&#39;re referring to when you say &quot;proper Python coding practices&quot;."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": -3, "last_activity_date": 1432770933, "last_edit_date": 1432770933, "creation_date": 1432767051, "answer_id": 30494435, "question_id": 30494045, "link": "https://stackoverflow.com/questions/30494045/get-intermediate-value-in-python/30494435#30494435", "title": "Get Intermediate Value in Python?", "body": "<p>Use a pythonic <code>try/except</code> block:</p>\n\n<pre><code>g = greeting()\nn = name()\ntry:\n    g + n\nexcept:\n    raise ValueError('g: %s, n: %s' % (g, n))\n</code></pre>\n\n<p>For @LukasGraf, a reading list on \"proper Python coding practices\":</p>\n\n<ul>\n<li><a href=\"http://doughellmann.com/2009/06/19/python-exception-handling-techniques.html\" rel=\"nofollow\">Python Exception Handling Techniques</a></li>\n<li><a href=\"http://eli.thegreenplace.net/2008/08/21/robust-exception-handling/\" rel=\"nofollow\">Robust exception handling</a></li>\n<li><a href=\"http://www.jeffknupp.com/blog/2013/02/06/write-cleaner-python-use-exceptions/\" rel=\"nofollow\">Write Cleaner Python: Use Exceptions</a></li>\n<li><a href=\"https://google-styleguide.googlecode.com/svn/trunk/pyguide.html#Exceptions\" rel=\"nofollow\">Google Python Style Guide</a></li>\n<li><a href=\"https://www.python.org/dev/peps/pep-0008/#programming-recommendations\" rel=\"nofollow\">PEP 0008 -- Style Guide for Python Code: Programming Recommendations</a></li>\n<li><a href=\"http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#eafp-vs-lbyl\" rel=\"nofollow\">Code Like a Pythonista: Idiomatic Python -- EAFP vs. LBYL</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 17566, "user_id": 901641, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PR8Bl.png?s=128&g=1", "display_name": "ArtOfWarfare", "link": "https://stackoverflow.com/users/901641/artofwarfare"}, "edited": false, "score": 0, "creation_date": 1549339575, "post_id": 54523150, "comment_id": 95857001, "body": "Thanks. What lead to you finding and answering this nearly four years later?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17566, "user_id": 901641, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PR8Bl.png?s=128&g=1", "display_name": "ArtOfWarfare", "link": "https://stackoverflow.com/users/901641/artofwarfare"}, "edited": false, "score": 0, "creation_date": 1549346735, "post_id": 54523150, "comment_id": 95858749, "body": "I found it via an invalid flag I was handling on the other answer."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1549309969, "last_edit_date": 1549309969, "creation_date": 1549308968, "answer_id": 54523150, "question_id": 30494045, "link": "https://stackoverflow.com/questions/30494045/get-intermediate-value-in-python/54523150#54523150", "title": "Get Intermediate Value in Python?", "body": "<p>By the time that <code>sys.exceptionhook()</code> is called, you can't get those intermediary values any more, as they are already gone. Yes, the intermediary results of component expressions are stored somewhere by Python. You can't access that 'somewhere' directly at the time, nor are those kept around at all when an exception occurs.</p>\n\n<p>In CPython, the standard Python implementation, that 'somewhere' is the <em>stack</em> attached to the current frame of execution (each active function has one). Python code is compiled to <em>bytecode</em>, and an evaluation loop then executes that bytecode, and <a href=\"https://docs.python.org/3/library/dis.html#python-bytecode-instructions\" rel=\"nofollow noreferrer\">individual bytecode instructions</a> in bytecode operate on that stack.</p>\n\n<p>You can use the <a href=\"https://docs.python.org/3/library/dis.html#dis.dis\" rel=\"nofollow noreferrer\"><code>dis.dis()</code> function</a> to see what bytecode is used for your example expression:</p>\n\n<pre><code>&gt;&gt;&gt; import dis\n&gt;&gt;&gt; dis.dis(\"greeting() + name()\")\n  1           0 LOAD_NAME                0 (greeting)\n              2 CALL_FUNCTION            0\n              4 LOAD_NAME                1 (name)\n              6 CALL_FUNCTION            0\n              8 BINARY_ADD\n             10 RETURN_VALUE\n</code></pre>\n\n<p>then look up what those bytecode instructions do:</p>\n\n<ul>\n<li><a href=\"https://docs.python.org/3/library/dis.html#opcode-LOAD_NAME\" rel=\"nofollow noreferrer\"><code>LOAD_NAME 0</code></a> finds the object named <code>greeting</code> and puts that on the top of the stack (TOS).</li>\n<li><a href=\"https://docs.python.org/3/library/dis.html#opcode-CALL_FUNCTION\" rel=\"nofollow noreferrer\"><code>CALL_FUNCTION 0</code></a> removes 0 elements from the stack to be the arguments for a call, then takes the next object from the stack to be the callable object, calls that object with the arguments, and puts the result as the new TOS.</li>\n<li><a href=\"https://docs.python.org/3/library/dis.html#opcode-BINARY_ADD\" rel=\"nofollow noreferrer\"><code>BINARY_ADD</code></a> takes the top two elements from the stack, adds them up, and puts the result back on TOS.</li>\n</ul>\n\n<p>So together, <code>LOAD_NAME</code> and <code>CALL_FUNCTION</code> execute a call to a named object, and the top of the stack ends up referencing both results, the <code>name()</code> result on top of the <code>greeting()</code> result. The <code>BINARY_ADD</code> instruction then replaces those two results on the stack with the result of adding them together.</p>\n\n<p>You don't have access to that stack from within Python, because it is the very act of executing Python bytecode that makes Python work in the first place. Any code that <em>could</em> access the stack would have to deal with the fact that stack is currently being used to execute that Python code!</p>\n\n<p>But you have a bigger problem. If you look at the CPython source code, you can search for instruction names in the evaluation loop in <code>ceval.c</code>. When you look at the <a href=\"https://github.com/python/cpython/blob/44467e8ea4cea390b0718702291b4cfe8ddd67ed/Python/ceval.c#L1272-L1296\" rel=\"nofollow noreferrer\"><code>BINARY_ADD</code> instruction implementation</a>, you can see that the two input values are removed from the stack <em>before</em> adding them together:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>TARGET(BINARY_ADD) {\n    PyObject *right = POP();\n    PyObject *left = TOP();\n    PyObject *sum;\n    // code to set sum as the result of addibg left to right\n    SET_TOP(sum);\n    if (sum == NULL)\n        goto error;\n    DISPATCH();\n}\n</code></pre>\n\n<p>If <code>BINARY_ADD</code> fails with an exception, <code>sum == NULL</code> is true and <code>goto error</code> is executed to wind down the call stack and propagate the exception along to the first <code>try</code> block or, failing that, eventually calling the <code>sys.excepthook()</code> function. At that point, the intermediary results are gone from the stack. The local <code>right</code> and <code>left</code> pointers in the above block are also long, long gone (C uses block scope, and when <code>goto error</code> is executed the scope is exited so the variables are lost).</p>\n"}], "owner": {"reputation": 17566, "user_id": 901641, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PR8Bl.png?s=128&g=1", "display_name": "ArtOfWarfare", "link": "https://stackoverflow.com/users/901641/artofwarfare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 54523150, "answer_count": 2, "score": 2, "last_activity_date": 1549310000, "creation_date": 1432765011, "last_edit_date": 1549310000, "question_id": 30494045, "link": "https://stackoverflow.com/questions/30494045/get-intermediate-value-in-python", "title": "Get Intermediate Value in Python?", "body": "<p>I'm trying to write a Python <code>sys.excepthook</code> which, in addition to printing out the stack trace for the code as you wrote it, also prints out the <code>repr</code> for each evaluated value.</p>\n\n<p>For example, if I ran the following code:</p>\n\n<pre><code>def greeting():\n    return 'Hello'\n\ndef name():\n    return\n\ngreeting() + name()\n</code></pre>\n\n<p>Instead of just printing out:</p>\n\n<pre><code>Traceback (most recent call last):\n    File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n        greeting() + name()\nTypeError: cannot concatenate 'str' and 'NoneType' objects\n</code></pre>\n\n<p>It would also print out <code>'Hello' + None</code> so I can immediately see which value was invalid and know the right area of the code to look in (obviously this is a very simple example).</p>\n\n<p>I know that the CPU needs to store these intermediate values in some temporary registers... I suspect that internally Python has to do something similar and I'm hoping that there's some way I can access those temporary values, possibly through the <code>inspect</code> module or something similar.</p>\n"}, {"tags": ["python", "arrays", "numpy", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": false, "score": 3, "last_activity_date": 1432765312, "creation_date": 1432765312, "answer_id": 30494095, "question_id": 30494042, "link": "https://stackoverflow.com/questions/30494042/selecting-rows-from-python-array/30494095#30494095", "title": "Selecting rows from python array", "body": "<p>You can use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_and.html\" rel=\"nofollow\"><code>numpy.logical_and</code></a> here:</p>\n\n<pre><code>&gt;&gt;&gt; np.logical_and(time1[:,0] &gt; time2[0], time1[:,0] &lt; time2[-1] )\narray([False,  True, False], dtype=bool)\n&gt;&gt;&gt; time1[np.logical_and(time1[:,0] &gt; time2[0], time1[:,0] &lt; time2[-1] )]\narray([[4, 5, 6]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 4237058, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0e1102b67c00ae039e410c7a784528ba?s=128&d=identicon&r=PG&f=1", "display_name": "Chaker", "link": "https://stackoverflow.com/users/4237058/chaker"}, "is_accepted": false, "score": 0, "last_activity_date": 1432765754, "creation_date": 1432765754, "answer_id": 30494199, "question_id": 30494042, "link": "https://stackoverflow.com/questions/30494042/selecting-rows-from-python-array/30494199#30494199", "title": "Selecting rows from python array", "body": "<p>Using <code>for</code> and <code>if</code>:</p>\n\n<pre><code>&gt;&gt;&gt; time1 = ((1,2,3),(4,5,6),(7,8,9))\n&gt;&gt;&gt; time2 = (2,4,6)\n&gt;&gt;&gt; for x in time1:\n...  if x[0] in time2:\n...   print x\n... \n(4, 5, 6)\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4208851, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/48d7cc0bc5915494c5b06c0d0dd438cf?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly", "link": "https://stackoverflow.com/users/4208851/kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432765754, "creation_date": 1432765004, "question_id": 30494042, "link": "https://stackoverflow.com/questions/30494042/selecting-rows-from-python-array", "title": "Selecting rows from python array", "body": "<p>I have two arrays. Let's say they look like this:</p>\n\n<pre><code>    time1 = [ 1 2 3 ] and time2 = [ 2 4 6]\n            [ 4 5 6 ]         \n            [ 7 8 9 ]         \n</code></pre>\n\n<p>I would like to select only the rows from time1 for which the first column is within the range of time2. For example, from this data set, I would plot the [4 5 6] row, because 4 is in the range of 2 - 6. I am trying to select the rows from array time1 like this:</p>\n\n<pre><code>selectedtimes = time1(any(time1[:,0] &lt; time2[-1]) and any(time1[:,0] &gt; time2[0]))\n</code></pre>\n\n<p>I am currently receiving the object not callable error (shown below), and am quite stuck. Is there a better way to rewrite this line?</p>\n\n<pre><code>'numpy.ndarray' object is not callable\n</code></pre>\n\n<p>Help appreciated!</p>\n"}, {"tags": ["python", "ansible"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 2807863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df77a69e28acb5de32be2e92fb9828b9?s=128&d=identicon&r=PG", "display_name": "Strofcon", "link": "https://stackoverflow.com/users/2807863/strofcon"}, "is_accepted": true, "score": 1, "last_activity_date": 1432828815, "creation_date": 1432828815, "answer_id": 30511650, "question_id": 30493994, "link": "https://stackoverflow.com/questions/30493994/passing-values-dynamically-to-an-ansible-inventory-python/30511650#30511650", "title": "Passing values dynamically to an Ansible inventory - Python", "body": "<p>This should be as simple as adding one or more of these lines to your script after instantiating your group object and before running your playbook:</p>\n\n<pre><code>group.set_variable(\"foo\", \"BAR\")\n</code></pre>\n"}], "owner": {"reputation": 9123, "user_id": 1040718, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/u0SVy.jpg?s=128&g=1", "display_name": "cybertextron", "link": "https://stackoverflow.com/users/1040718/cybertextron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 30511650, "answer_count": 1, "score": 2, "last_activity_date": 1432828815, "creation_date": 1432764720, "question_id": 30493994, "link": "https://stackoverflow.com/questions/30493994/passing-values-dynamically-to-an-ansible-inventory-python", "title": "Passing values dynamically to an Ansible inventory - Python", "body": "<p>I'm trying to <code>Ansible's Python API</code> in order to write a test API (in <code>Python</code>) which can take advantage of a playbook programmatically and add new nodes to a <code>Hadoop</code> cluster. As we know, at least node in the cluster has to be the <code>Namenode</code> and <code>JobTracker</code> (MRv1). For simplicity lets say the <code>JobTracker</code> and the <code>Namenode</code> are in the same node (<code>namenode_ip</code>).</p>\n\n<p>Thus, in order to use <code>Ansible</code> to create a new node, and have it self registered with the <code>Namenode</code> I've created this following <code>Python</code> utility:</p>\n\n<pre><code>from ansible.playbook import PlayBook                                                                                                                \nfrom ansible.inventory import Inventory                                                                                                              \nfrom ansible.inventory import Group                                                                                                                  \nfrom ansible.inventory import Host                                                                                                                   \nfrom ansible import constants as C                                                                                                                   \nfrom ansible import callbacks                                                                                                                        \nfrom ansible import utils                                                                                                                            \n\nimport os                                                                                                                                            \nimport logging                                                                                                                                       \nimport config \n\ndef run_playbook(ipaddress, namenode_ip, playbook, keyfile):                                                                                                                                                                     \n      utils.VERBOSITY = 0                                                                                                                              \n      playbook_cb = callbacks.PlaybookCallbacks(verbose=utils.VERBOSITY)                                                                               \n      stats = callbacks.AggregateStats()                                                                                                               \n      runner_cb = callbacks.PlaybookRunnerCallbacks(stats, verbose=utils.VERBOSITY)                                                                    \n\n      host = Host(name=ipaddress)                                                                                                                      \n      group = Group(name=\"new-nodes\")                                                                                                                  \n      group.add_host(host)                                                                                                                             \n      inventory = Inventory(host_list=[], vault_password=\"Hello123\")                                                                              \n      inventory.add_group(group)                                                                                                                       \n      key_file = keyfile                                                                  \n      playbook_path = os.path.join(config.ANSIBLE_PLAYBOOKS, playbook)                                                                                 \n      pb = PlayBook(                                                                                                                                   \n              playbook=playbook_path,                                                                                                                  \n              inventory = inventory,                                                                                                                   \n              remote_user='deploy',                                                                                                                    \n              callbacks=playbook_cb,                                                                                                                   \n              runner_callbacks=runner_cb,                                                                                                              \n              stats=stats,                                                                                                                             \n              private_key_file=key_file                                                                                                                \n      )                                                                                                                                                \n\n      results = pb.run()                                                                                                                               \n      print results\n</code></pre>\n\n<p>However, <code>Ansible</code> <a href=\"http://docs.ansible.com/developing_api.html\" rel=\"nofollow\">documentation</a> for the <code>Python API</code> is very poorly written (doesn't give any detail, except for a simple example). What I needed was to have a similar thing as:</p>\n\n<pre><code>ansible-playbook -i hadoop_config -e \"namenode_ip=1.2.3.4\"\n</code></pre>\n\n<p>That's it, pass the value of <code>namenode_ip</code> dynamically to the inventory file using the <code>Python API</code>. How can I do that? </p>\n"}, {"tags": ["python", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "edited": false, "score": 1, "creation_date": 1432764047, "post_id": 30493856, "comment_id": 49065459, "body": "does he need to str() typecast before doing writelines?"}, {"owner": {"reputation": 373, "user_id": 2361820, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/102230012a94b6869a8eb9d9312dc265?s=128&d=identicon&r=PG", "display_name": "user2361820", "link": "https://stackoverflow.com/users/2361820/user2361820"}, "edited": false, "score": 0, "creation_date": 1432764249, "post_id": 30493856, "comment_id": 49065530, "body": "I&#39;ve tried that, but writelines won&#39;t accept ints. Is there another method?"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 373, "user_id": 2361820, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/102230012a94b6869a8eb9d9312dc265?s=128&d=identicon&r=PG", "display_name": "user2361820", "link": "https://stackoverflow.com/users/2361820/user2361820"}, "edited": false, "score": 0, "creation_date": 1432764325, "post_id": 30493856, "comment_id": 49065555, "body": "@user2361820 - the answer was edited, have you tried the edited one?"}], "tags": [], "owner": {"reputation": 11698, "user_id": 166247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c5bd086b49b0b66cf9089d6f7e4d41?s=128&d=identicon&r=PG", "display_name": "Ashalynd", "link": "https://stackoverflow.com/users/166247/ashalynd"}, "is_accepted": false, "score": 2, "last_activity_date": 1432764445, "last_edit_date": 1432764445, "creation_date": 1432763969, "answer_id": 30493856, "question_id": 30493806, "link": "https://stackoverflow.com/questions/30493806/implementing-an-external-merge-sort/30493856#30493856", "title": "Implementing an external merge sort", "body": "<p>Your elements are read by default as strings, you have to do something like:</p>\n\n<pre><code>elements = list(islice(f, 1000))\nelements = [int(elem) for elem in elements]\n</code></pre>\n\n<p>so that they would be interpreted as integers instead.</p>\n\n<p>That would also mean that you need to convert them back to strings when writing, e.g.:</p>\n\n<pre><code>temp_file.writelines([str(elem) for elem in elements])\n</code></pre>\n\n<p>Apart from that, you would need to convert your elements again to int for the final merging. In your case, you probably want to uncomment your <code>merge</code> method (and then convert the result back to strings again, same way as above).</p>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 2361820, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/102230012a94b6869a8eb9d9312dc265?s=128&d=identicon&r=PG", "display_name": "user2361820", "link": "https://stackoverflow.com/users/2361820/user2361820"}, "edited": false, "score": 0, "creation_date": 1432776556, "post_id": 30494835, "comment_id": 49068868, "body": "Thank you,    out.writelines(map(&#39;{}\\n&#39;.format,                        heapq.merge(*(map(int, f)                                      for f in files))))  was the missing piece I was trying to find."}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1432769805, "last_edit_date": 1432769805, "creation_date": 1432769424, "answer_id": 30494835, "question_id": 30493806, "link": "https://stackoverflow.com/questions/30493806/implementing-an-external-merge-sort/30494835#30494835", "title": "Implementing an external merge sort", "body": "<p>Your code doesn't make much sense to me (<code>temp_files.append(elements)</code>? Merging inside the loop?), but here's a way to merge files sorting numerically:</p>\n\n<pre><code>import heapq\nfiles = open('a.txt'), open('b.txt')\nwith open('merged.txt', 'w') as out:\n    out.writelines(map('{}\\n'.format,\n                       heapq.merge(*(map(int, f)\n                                     for f in files))))\n</code></pre>\n\n<p>First the <code>map(int, ...)</code> turns each file's lines into ints. Then those get merged with <code>heapq.merge</code>. Then <code>map('{}\\n'.format</code> turns each of the integers back into a string, with newline. Then <code>writelines</code> writes those lines. In other words, you were already close, just had to convert the ints back to strings before writing them.</p>\n\n<p>A different way to write it (might be clearer for some):</p>\n\n<pre><code>import heapq\nfiles = open('a.txt'), open('b.txt')\nwith open('merged.txt', 'w') as out:\n    int_streams = (map(int, f) for f in files)\n    int_stream = heapq.merge(*int_streams)\n    line_stream = map('{}\\n'.format, int_stream)\n    out.writelines(line_stream)\n</code></pre>\n\n<p>And in any case, do use <code>itertools.imap</code> if you're using Python 2 as otherwise it'll read the whole files into memory at once. In Python 3, you can just use the normal <code>map</code>.</p>\n\n<p>And yes, if you do it right, this will allow you to sort gigantic files with very little memory.</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 2623720, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c30d8427380d2bbf6d96c432324e79d3?s=128&d=identicon&r=PG", "display_name": "melvil james", "link": "https://stackoverflow.com/users/2623720/melvil-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1541516783, "last_edit_date": 1541516783, "creation_date": 1534709276, "answer_id": 51921426, "question_id": 30493806, "link": "https://stackoverflow.com/questions/30493806/implementing-an-external-merge-sort/51921426#51921426", "title": "Implementing an external merge sort", "body": "<p>You are doing <strong>Kway</strong> merge within the loop which will add a lots of <strong>runtimeComplexity</strong> . Better Store the file handles into a spearate list and perform a <strong>Kway</strong> merge </p>\n\n<p>You also don't have to remove and add new line back ,just sort it based on number.</p>\n\n<blockquote>\n  <p>sorted(temp_files,key=lambda no:int(no.strip()))</p>\n</blockquote>\n\n<p>Rest of things are fine.</p>\n\n<p><a href=\"https://github.com/melvilgit/external-Merge-Sort/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/melvilgit/external-Merge-Sort/blob/master/README.md</a></p>\n"}], "owner": {"reputation": 373, "user_id": 2361820, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/102230012a94b6869a8eb9d9312dc265?s=128&d=identicon&r=PG", "display_name": "user2361820", "link": "https://stackoverflow.com/users/2361820/user2361820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2964, "favorite_count": 0, "accepted_answer_id": 30494835, "answer_count": 3, "score": 0, "last_activity_date": 1541516783, "creation_date": 1432763654, "question_id": 30493806, "link": "https://stackoverflow.com/questions/30493806/implementing-an-external-merge-sort", "title": "Implementing an external merge sort", "body": "<p>I'm trying to learn Python and am working on making an external merge sort using an input file with ints. I'm using heapq.merge, and my code almost works, but it seems to be sorting my lines as strings instead of ints. If I try to convert to ints, writelines won't accept the data. Can anyone help me find an alternative? Additionally, am I correct in thinking this will allow me to sort a file bigger than memory (given adequate disk space)</p>\n\n<pre><code>import itertools\nfrom itertools import islice\nimport tempfile\nimport heapq\n\n#converts heapq.merge to ints\n#def merge(*temp_files):\n#    return heapq.merge(*[itertools.imap(int, s) for s in temp_files])\n\nwith open(\"path\\to\\input\", \"r\") as f:\n    temp_file = tempfile.TemporaryFile()\n    temp_files = []\n    elements = []\n    while True:\n        elements = list(islice(f, 1000))\n        if not elements:\n           break\n        elements.sort(key=int)\n        temp_files.append(elements)\n        temp_file.writelines(elements)\n        temp_file.flush()\n        temp_file.seek(0)\n        with open(\"path\\to\\output\", \"w\") as output_file:\n            output_file.writelines(heapq.merge(*temp_files))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tcp", "python-asyncio"], "answers": [{"tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 1, "last_activity_date": 1433103522, "creation_date": 1433103522, "answer_id": 30562243, "question_id": 30493801, "link": "https://stackoverflow.com/questions/30493801/asyncio-start-server-timeout-issue/30562243#30562243", "title": "asyncio start_server timeout issue", "body": "<p>If your clients are waiting for a response from the server, and that response isn't sent until the computation is done, then it's possible the clients could eventually timeout, if the computations took long enough. More likely, though, is that the clients will just hang until the computations are done and the event loop gets unblocked.</p>\n\n<p>In any case, if you're worried about timeouts or hangs, use <a href=\"https://docs.python.org/3.4/library/asyncio-eventloop.html#asyncio.BaseEventLoop.run_in_executor\" rel=\"nofollow\"><code>loop.run_in_executor</code></a> to run your computations in a background process (this is preferable), or thread (probably not a good choice since you're doing CPU-bound computations) without blocking the event loop:</p>\n\n<pre><code>  import asyncio\n  import multiprocessing\n  from concurrent.futures import ProcessPoolExecutor\n\n  def comp_func(arg1, arg2):\n       # Do computation here\n       return output\n\n  def connection_handler_cb(reader, writer):\n       while True:  \n           yield from reader.read()\n           # Do computation in a background process\n           # This won't block the event loop.\n           output = yield from loop.run_in_executor(None, comp_func, arg1, arg2) #\n  if __name__ == \"__main__\":\n      executor = \n      loop = asyncio.get_event_loop()\n      loop.set_default_executor(\n           ProcessPoolExecutor(multiprocessing.cpu_count()))\n      asyncio.async(asyncio.start_server(connect_handler_cb, ...))\n      loop.run_forever()\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 2959585, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PAepQ.jpg?s=128&g=1", "display_name": "eladm26", "link": "https://stackoverflow.com/users/2959585/eladm26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 30562243, "answer_count": 1, "score": 1, "last_activity_date": 1433103522, "creation_date": 1432763631, "last_edit_date": 1433101030, "question_id": 30493801, "link": "https://stackoverflow.com/questions/30493801/asyncio-start-server-timeout-issue", "title": "asyncio start_server timeout issue", "body": "<p>I have a TCP server implemented in Python using asyncio's <code>create_server</code>.<br>\nI call the coroutine <code>start_server</code> with a <code>connection_handler_cb</code>.<br>\nNow my question is this: let's say my <code>connection_handler_cb</code> looks something<br>\nlike this:  </p>\n\n<pre><code>   def connection_handler_cb(reader, writer):\n       while True:  \n           yield from reader.read()\n           --do some computation--  \n</code></pre>\n\n<p>I know that only the <code>yield from</code> coroutines are being run \"concurrently\"  (I know it's not really concurrent), all the \"--do some computation--\" part is being called sequentially and is preventing everything else from running in the loop.  </p>\n\n<p>Let's say we are talking about a TCP server with multiple clients trying to send. Can this situation cause send timeout from the other side - the client side?  </p>\n"}, {"tags": ["python", "tree"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 3, "creation_date": 1432763305, "post_id": 30493664, "comment_id": 49065171, "body": "Please fix your formatting to <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP8 standards</a>, and clarify your question. Your question makes zero sense to me as written: &quot;what is the input value&quot; then at the end: &quot;Input: [1, 2]&quot;. What are you asking really?"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432763372, "post_id": 30493664, "comment_id": 49065200, "body": "Additionally, prefer &quot;is None&quot; to &quot;== None&quot; tests. &quot;== None&quot; probably isn&#39;t doing what you think."}, {"owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432763801, "post_id": 30493664, "comment_id": 49065365, "body": "Thank you. I have revised the question."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432763939, "post_id": 30493664, "comment_id": 49065424, "body": "Not enough, I&#39;m afraid. Example questions I have reading over this: What&#39;s OJ? &quot;What&#39;s the treenode anyway?&quot; -- what are you referring to as &quot;the treenode&quot;? That only appears in your code in comments, so you tell us!"}, {"owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432764292, "post_id": 30493664, "comment_id": 49065540, "body": "I am really sorry I forget the important things, well now I have supplemented the link to the Leetcode Online Judgement page and emphasize out the definition of TreeNode."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432827194, "post_id": 30493664, "comment_id": 49097414, "body": "I think you&#39;re just confused because you&#39;re self-taught and you haven&#39;t had a formal introduction to trees. Specifically, it seems like you&#39;re tripping up on class names using somewhat technical terms referring to parts of trees. The list presentation is a list of lists, where each inner list is all the nodes (elements, the numbers in this case) on one level. The levels are the ones on the same horizontal alignment the way they draw the trees -- it&#39;s their distance from the &quot;root&quot; (the single element at the top the way they draw it, but it could also be at the bottom)."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432827286, "post_id": 30493664, "comment_id": 49097490, "body": "So TreeNode is just a class describing one individual node, storing the info it needs to understand its position in the tree -- what&#39;s on its left? what&#39;s on its right? (Remember we always traverse the tree from the root, so that&#39;s what&#39;s coming up as you descend the tree looking at their pictures.) It&#39;s only left and right because it&#39;s a <i>binary</i> tree. Every element can have at most two things below it."}, {"owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432840533, "post_id": 30493664, "comment_id": 49105586, "body": "Hi, I have supplement my question, which is a little verbose and I hope you can read it. The new edited version refers to another confusion of mine. Thanks for your patience toward a newbie coder."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432842555, "post_id": 30493664, "comment_id": 49106770, "body": "According to the example, [1, 2] is not even a valid representation of a tree. If the tree had a root of 1 and that was the only data in it, the representation would be [[1]]. That&#39;s a list containing a list containing 1. The outer list is the tree itself. The inner list is &quot;level 0&quot; containing only the root. Adding 2 as the root&#39;s <code>.right</code> would produce [[1], [2]]. Adding 3 as the root&#39;s <code>.left</code> would produce [[1], [3, 2]]. The numbers are the values of the node, each inner list is a level, where <code>inner_list[0]</code> == <code>.left</code> and <code>inner_list[1]</code> == <code>.right</code>."}, {"owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1432843570, "post_id": 30493664, "comment_id": 49107326, "body": "Yes, thank you. I think since a tree can&#39;t be represented anyway, the leecode website just compromise on this and make it a list which stands for the three attributes of the TreeNode. I don&#39;t know if I am thinking right but I do know why I produced a wrong result in the first program. Now could you help me checking my new version of code? I really find the Output: [null] a weird one."}], "owner": {"reputation": 321, "user_id": 4011817, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7511be1b04a9cfcab21b58c1cea9416?s=128&d=identicon&r=PG&f=1", "display_name": "tonyabracadabra", "link": "https://stackoverflow.com/users/4011817/tonyabracadabra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432846635, "creation_date": 1432762925, "last_edit_date": 1432840401, "question_id": 30493664, "link": "https://stackoverflow.com/questions/30493664/what-is-the-input-value-of-this-oj-on-leetcodebinary-tree-level-order-traversal", "title": "What is the input value of this OJ on leetcode(Binary Tree Level Order Traversal )?", "body": "<p>It's a question from leetcode as linked here.\n<a href=\"https://leetcode.com/problems/binary-tree-level-order-traversal/\" rel=\"nofollow\">https://leetcode.com/problems/binary-tree-level-order-traversal/</a></p>\n\n<p>So here is my code, but I really don't know what the input is and its relationship to TreeNode defined below.  </p>\n\n<blockquote>\n  <h1>Definition for a binary tree node.</h1>\n\n<pre><code># class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n</code></pre>\n</blockquote>\n\n<pre><code>class Solution:\n    # @param {TreeNode} root\n    # @return {integer[][]}\n    def levelOrder(self, root):\n        if not root:\n            return []\n        else:\n            printout, CurrLevel = [], [root]\n            while CurrLevel:\n                printout.extend(CurrLevel)\n                NextLevel = []\n                for item in CurrLevel:\n                    temp = []\n                    if item.left != None:\n                        temp.append(item.left)\n                    if item.right != None:\n                        temp.append(item.right)\n                    NextLevel = NextLevel.extend(temp)\n                CurrLevel = NextLevel\n            return printout\n</code></pre>\n\n<blockquote>\n  <p>Input:    [1,2] </p>\n  \n  <p>Output:   [[1,2]] </p>\n  \n  <p>Expected: [[1],[2]]</p>\n</blockquote>\n\n<p>So I met this finally, so what's the treenode anyway? Why does it appear like a list?\nWell this is a OJ problem and I am just so unsure about the testing case, as I can't understand how the treenode presented here. As described in the problem, it seems there is only one \"root\" element is input each time.</p>\n\n<p>I am confused because it seems that for each test case (each problem in leetcode contains tens or hundreds of test cases to test the validity of the program), only one TreeNode (named root) is inputted, if so, I could happily reference its .val, its .left or its .right, therefore a tree could be traversed up to down from the \"root\" element. BUT through the test case I see here (once the wrong solution is produced by the program, it produced a report, that's why I show the \"input\" [1, 2] presented here), I see a list, or at least list alike, which contains two elements. What I expected is only one TreeNode called root inputted here, but now I see a list. Clearly I know I am supposed to printout a list of lists, which differs to the confusion I raised up here. \nSo in [1, 2], I can't understand what 1 and 2 represent respectively, an integer? A treenode? <strong>Actually I think [1, 2] itself is a treenode where 1 and 2 stands for its .val, .left.</strong></p>\n\n<p>Importantly, my code is based on the assumption that each input is one node, and leave the [1,2,3](may stands for .val, .left, .right of the TreeNode) whatever input behind. I later found I did do something wrong and revised my code as follows:</p>\n\n<pre><code>class Solution:\n    # @param {TreeNode} root\n    # @return {integer[][]}\n    def levelOrder(self, root):\n        if not root:\n            return []\n        else:\n            printout, CurrLevel = [], [root]\n            while CurrLevel:\n                values = []\n                for node in CurrLevel:\n                    values = values.append(node.val)\n                printout.append(values)\n                NextLevel = []\n                for item in CurrLevel:\n                    temp = []\n                    if item.left != None:\n                        temp.append(item.left)\n                    if item.right != None:\n                        temp.append(item.right)\n                    NextLevel = NextLevel.extend(temp)\n                CurrLevel = NextLevel\n            return printout\n</code></pre>\n\n<p>This time it seems the following bug occurs:</p>\n\n<blockquote>\n  <p>Input:    [1]</p>\n  \n  <p>Output:   [null]</p>\n  \n  <p>Expected: [[1]]</p>\n</blockquote>\n\n<p>Well I have checked my code, and found that node.val produces 1 when Input:[1], while values produces [null]! That's so weird!</p>\n"}, {"tags": ["python", "emacs", "syntax-highlighting", "highlight"], "owner": {"reputation": 21, "user_id": 2285088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b63f1802c1e14c4d09faee22d8d8d20?s=128&d=identicon&r=PG", "display_name": "fred", "link": "https://stackoverflow.com/users/2285088/fred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1432765945, "creation_date": 1432762770, "question_id": 30493623, "link": "https://stackoverflow.com/questions/30493623/highlight-defined-python-module-class-names-in-emacs", "title": "Highlight defined python module/class names in emacs", "body": "<p>I'd like to have all the module/class names defined in my python code to get highlighted. For example, when I have defined a module \"foo\" and I call a function \"bar\" from it using \"foo.bar()\" then I'd like to have foo get highlighted. Similarly I'd like this feature for calling static methods from a class.</p>\n\n<p>The python mode that comes with emacs (GNU emacs 24.3.1) doesn't do this. I've also tried the emacs highlight-defined mode but looks like it only works for lisp language.</p>\n\n<p>I'd appreciate any comment on how to get this work in emacs.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1432764238, "post_id": 30493614, "comment_id": 49065522, "body": "See <a href=\"http://stackoverflow.com/questions/17758023/return-rows-in-a-dataframe-closest-to-a-user-defined-number\" title=\"return rows in a dataframe closest to a user defined number\">stackoverflow.com/questions/17758023/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1432829496, "post_id": 30493936, "comment_id": 49099033, "body": "I didn&#39;t include it in the above example, but if it were there, the <code>join</code> would merge <code>df_b[&#39;N0_DWOC&#39;]</code> as a new column called <code>N0_DWOC_b</code>. If that is not what you want, please update your Q to include the desired output."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1432765041, "last_edit_date": 1432765041, "creation_date": 1432764379, "answer_id": 30493936, "question_id": 30493614, "link": "https://stackoverflow.com/questions/30493614/pandas-merge-dataframes-based-on-closest-match/30493936#30493936", "title": "Pandas merge dataframes based on closest match", "body": "<p>You could find the cutoff values which are midway between the (sorted) values in <code>df_b['N0_YLDF']</code>. Then call <code>pd.cut</code> to categorize the values in <code>df_a['N0_YLDF']</code>, with the cutoff values being the bin edges:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndf_a = pd.DataFrame({ 'N0_YLDF': [11.79, 7.86, 5.78, 5.35, 6.32, 11.79, 6.89, 10.74]})\ndf_b = pd.DataFrame({ 'N0_YLDF':[6.29, 2.32, 9.10, 4.89, 10.22, 3.80, 5.55, 6.36] })\n\nedges, labels = np.unique(df_b['N0_YLDF'], return_index=True)\nedges = np.r_[-np.inf, edges + np.ediff1d(edges, to_end=np.inf)/2]\ndf_a['N0_DWOC'] = pd.cut(df_a['N0_YLDF'], bins=edges, labels=df_b.index[labels])\nprint(df_a)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>In [293]: df_a\nOut[293]: \n   N0_YLDF N0_DWOC\n0    11.79       4\n1     7.86       2\n2     5.78       6\n3     5.35       6\n4     6.32       0\n5    11.79       4\n6     6.89       7\n7    10.74       4\n</code></pre>\n\n<p>To join the two DataFrames on <code>N0_DWOC</code> you could use:</p>\n\n<pre><code>print(df_a.join(df_b, on='N0_DWOC', rsuffix='_b'))\n</code></pre>\n\n<p>which yields</p>\n\n<pre><code>   N0_YLDF N0_DWOC  N0_YLDF_b\n0    11.79       4      10.22\n1     7.86       2       9.10\n2     5.78       6       5.55\n3     5.35       6       5.55\n4     6.32       0       6.29\n5    11.79       4      10.22\n6     6.89       7       6.36\n7    10.74       4      10.22\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "is_accepted": false, "score": 2, "last_activity_date": 1432765384, "creation_date": 1432765384, "answer_id": 30494118, "question_id": 30493614, "link": "https://stackoverflow.com/questions/30493614/pandas-merge-dataframes-based-on-closest-match/30494118#30494118", "title": "Pandas merge dataframes based on closest match", "body": "<p>Another way is to do an subtract all pairs in the cartesian product and get the index of minimum absolute value for each one:</p>\n\n<pre><code>In [47]:ix = abs(np.atleast_2d(df_a['N0_YLDF']).T - df_b['N0_YLDF'].values).argmin(axis=1)\n        ix\nOut[47]: array([4, 2, 6, 6, 0, 4, 7, 4])\n</code></pre>\n\n<p>Then do </p>\n\n<pre><code>df_a['N0_DWOC'] = df_b.ix[ix, 'N0_DWOC'].values\n\nIn [73]: df_a\nOut[73]:\nN0_YLDF N0_DWOC\n0   11.79   4\n1   7.86    4\n2   5.78    3\n3   5.35    3\n4   6.32    4\n5   11.79   4\n6   6.89    3\n7   10.74   4\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2796, "favorite_count": 1, "accepted_answer_id": 30493936, "answer_count": 2, "score": 3, "last_activity_date": 1432765384, "creation_date": 1432762731, "question_id": 30493614, "link": "https://stackoverflow.com/questions/30493614/pandas-merge-dataframes-based-on-closest-match", "title": "Pandas merge dataframes based on closest match", "body": "<p>I have the following 2 dataframes (df_a,df_b):</p>\n\n<pre><code>df_a\n\n    N0_YLDF\n0   11.79\n1   7.86\n2   5.78\n3   5.35\n4   6.32\n5   11.79\n6   6.89\n7   10.74\n\n\ndf_b\n    N0_YLDF N0_DWOC\n0   6.29    4\n1   2.32    4\n2   9.10    4\n3   4.89    4\n4   10.22   4\n5   3.80    3\n6   5.55    3\n7   6.36    3\n</code></pre>\n\n<p>I would like to add a column N0_DWOC in df_a, such that the value in that column is from the row where df_a['N0_YLDF'] is closest to df_b['N0_YLDF'].</p>\n\n<p>Right now, I am doing a simple merge but that does not do what I want</p>\n"}, {"tags": ["python", "django", "postgresql", "views"], "comments": [{"owner": {"reputation": 1997, "user_id": 2079162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9062be775da10788ccdff2c89a33b9ab?s=128&d=identicon&r=PG", "display_name": "warath-coder", "link": "https://stackoverflow.com/users/2079162/warath-coder"}, "edited": false, "score": 0, "creation_date": 1444398031, "post_id": 30493610, "comment_id": 53900322, "body": "any success finding a solution?"}, {"owner": {"reputation": 1997, "user_id": 2079162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9062be775da10788ccdff2c89a33b9ab?s=128&d=identicon&r=PG", "display_name": "warath-coder", "link": "https://stackoverflow.com/users/2079162/warath-coder"}, "edited": false, "score": 0, "creation_date": 1451346336, "post_id": 30493610, "comment_id": 56746775, "body": "you ever get this working?"}, {"owner": {"reputation": 2994, "user_id": 173308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wazgT.jpg?s=128&g=1", "display_name": "David Watson", "link": "https://stackoverflow.com/users/173308/david-watson"}, "reply_to_user": {"reputation": 1997, "user_id": 2079162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9062be775da10788ccdff2c89a33b9ab?s=128&d=identicon&r=PG", "display_name": "warath-coder", "link": "https://stackoverflow.com/users/2079162/warath-coder"}, "edited": false, "score": 1, "creation_date": 1452459646, "post_id": 30493610, "comment_id": 57167560, "body": "No, I did not find a solution."}], "answers": [{"tags": [], "owner": {"reputation": 1621, "user_id": 1782780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2a2c2702f3aefa608cf824fd02ca2f?s=128&d=identicon&r=PG", "display_name": "Brendan Quinn", "link": "https://stackoverflow.com/users/1782780/brendan-quinn"}, "is_accepted": true, "score": 6, "last_activity_date": 1618303015, "last_edit_date": 1618303015, "creation_date": 1512578795, "answer_id": 47679397, "question_id": 30493610, "link": "https://stackoverflow.com/questions/30493610/django-1-8-inspectdb-command-doesnt-see-postgresql-views-as-per-documentation/47679397#47679397", "title": "Django 1.8 inspectdb command doesn&#39;t see PostgreSQL views as per documentation", "body": "<p>As of Django 1.10, you can simply name an individual view as a parameter to your <code>inspectdb</code> command:</p>\n<pre><code>python well/manage.py inspectdb hospitalizations_over_30_days\n</code></pre>\n<p>The default <code>inspectdb</code> will only output models.py for tables, but models for views can be generated individually by naming them.</p>\n<p>In Django 2.1 and above, if you want <code>inspectdb</code> to generate models for all tables <em>and</em> views, <a href=\"https://docs.djangoproject.com/en/3.1/releases/2.1/\" rel=\"nofollow noreferrer\">use the <code>inspectdb --include-views</code></a> option, which I <a href=\"https://docs.djangoproject.com/en/3.1/releases/2.1/\" rel=\"nofollow noreferrer\">contributed to Django 2.1</a> as a result of this question!</p>\n<pre><code>python well/manage.py inspectdb --include-views\n</code></pre>\n<p>To generate models for both tables and views in Django 2.0 and below, you have to edit the Django source code. In Django 2.0, change <a href=\"https://github.com/django/django/blob/85e6a1c634fed55c43090e37b802c721d9e7eaaa/django/core/management/commands/inspectdb.py#L57\" rel=\"nofollow noreferrer\">line 57 in <code>django/core/management/commands/inspectdb.py</code></a> to:</p>\n<pre><code>tables_to_introspect = options['table'] or connection.introspection.table_names(cursor=cursor, include_views=True)\n</code></pre>\n<p>Beware that the generated models won't have fields with <code>primary_key=True</code> set, you will need to add primary keys manually.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 2062507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3148c2a5c06e7d978f9e402e24d1afa2?s=128&d=identicon&r=PG", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/2062507/ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1563724674, "creation_date": 1563724674, "answer_id": 57134800, "question_id": 30493610, "link": "https://stackoverflow.com/questions/30493610/django-1-8-inspectdb-command-doesnt-see-postgresql-views-as-per-documentation/57134800#57134800", "title": "Django 1.8 inspectdb command doesn&#39;t see PostgreSQL views as per documentation", "body": "<p>In recent releases, there is an option to include views by passing it to the command as follows (both tables and views will be inspected):</p>\n\n<pre><code>python manage.py inspectdb --include-views &gt; my_models.py\n</code></pre>\n"}], "owner": {"reputation": 2994, "user_id": 173308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wazgT.jpg?s=128&g=1", "display_name": "David Watson", "link": "https://stackoverflow.com/users/173308/david-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2558, "favorite_count": 0, "accepted_answer_id": 47679397, "answer_count": 2, "score": 7, "last_activity_date": 1618303015, "creation_date": 1432762719, "question_id": 30493610, "link": "https://stackoverflow.com/questions/30493610/django-1-8-inspectdb-command-doesnt-see-postgresql-views-as-per-documentation", "title": "Django 1.8 inspectdb command doesn&#39;t see PostgreSQL views as per documentation", "body": "<p>I have a Django 1.8 application with a PostgreSQL database. I run the django inspectdb from the command line to examine models for the views, but the views don't show up in the model output.</p>\n\n<p>Here's the version output:</p>\n\n<pre><code>17:36 $ python well/manage.py --version\n1.8.2\n</code></pre>\n\n<p>And here's what psql sees:</p>\n\n<pre><code>\\dv\n                List of relations\n Schema |             Name              | Type |  Owner  \n--------+-------------------------------+------+---------\n public | hospitalizations_over_30_days | view | dwatson\n public | interval_30_days              | view | dwatson\n(2 rows)\n</code></pre>\n\n<p>From the django 1.8.2 documentation:</p>\n\n<pre><code>New in Django 1.8:\nA feature to inspect database views was added. In previous versions, only tables (not views) were inspected.\n</code></pre>\n\n<p>How can I get the PostgreSQL views to appear in the Django 1.8.2 inspectdb output?</p>\n"}, {"tags": ["python", "c++", "opencv", "python-3.x", "makefile"], "comments": [{"owner": {"reputation": 825, "user_id": 1092525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9890baebf98867466c153628e4e8abe?s=128&d=identicon&r=PG", "display_name": "Snesticle", "link": "https://stackoverflow.com/users/1092525/snesticle"}, "edited": false, "score": 0, "creation_date": 1438269779, "post_id": 30493592, "comment_id": 51391513, "body": "Did you ever get this to work? I need to use the python 3 pyd for blender but can&#39;t get it to compile. I&#39;ve been trying for 2 days and can get it to complete ONLY if I tell it I don&#39;t want the python 3 module or if I compile in gnu-linux both of which defeat my purpose. They really need to either include the pyd in the download like they do for python 2.7 or fix the plethora of compiling issues."}], "owner": {"reputation": 83, "user_id": 3053341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sMfSM.jpg?s=128&g=1", "display_name": "Grant", "link": "https://stackoverflow.com/users/3053341/grant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1374, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1432762621, "creation_date": 1432762621, "question_id": 30493592, "link": "https://stackoverflow.com/questions/30493592/error-building-opencv-3-0-0-rc1-on-windows-7-64-bit-cannot-compile-link-cv2-p", "title": "Error building OpenCV 3.0.0 rc1 on Windows 7 (64-bit): Cannot compile/link cv2.pyd for Python 3.4", "body": "<p>I am going through some beginner computer vision lessons and I would like to use Python 3.4 instead of 2.7 for the lessons, and I have both versions installed on my computer in <code>C:/Python34</code> and <code>C:/Python27</code>, respectively. I'm able to <code>import cv2</code> into The most recent release of OpenCV, which the lessons require, does support using the cv2 module in Python 3but it has to be built from the source.</p>\n\n<p>To do this, I've used the cmake-gui to create the necessary make files in <code>c:/opencv</code>, and I initiate the build by executing <code>make -j4</code> in the <code>c:/opencv/build</code> directory cmake created. Note that I'm using the mingw32-make command, not visual studios. Both my <code>gcc</code> and <code>g++</code> compilers work fine; I'm using versions 5.1.0 of both. The full configuration of my generated makefiles is pasted below. I have made a few edits to overcome other compiler errors often encountered.</p>\n\n<p>At present, the build is almost successful (getting to \"100%\" before failing). The error occurs at the step <em>Linking CXX shared library ....\\lib\\cv2.pyd</em>, <code>cv2.pyd</code> being the python library I need to compile in order to import opencv. The full error that stops compilation is this:</p>\n\n<p><code>\nLinking CXX shared library ..\\..\\lib\\cv2.pyd\nmodules\\python3\\CMakeFiles\\opencv_python3.dir\\build.make:215: recipe for target 'lib/cv2.pyd' failed\nCMakeFiles\\Makefile2:7114: recipe for target 'modules/python3/CMakeFiles/opencv_python3.dir/all' failed\nmakefile:135: recipe for target 'all' failed\n</code></p>\n\n<p>I've taken a look at the lines specified in the makefiles, but can't see anything that would give me a clue what's going wrong with the linking. I also notice, in the cmake configuration below, that the Python (for build) parameter is set to the pyhon27 executable instead of python34, but haven't been able to find the right parameter to change this, and I'm not certain this is even related to the issue. If anyone has suggestions for how to fix this and make opencv build the pyd for Python 3.4, please chime in.</p>\n\n<h1>CMake configuration</h1>\n\n<blockquote>\n  <p>Detected version of GNU GCC: 51 (501)\n  CUDA compilation is disabled (due to only Visual Studio compiler supported on your platform).\n  Could NOT find Doxygen (missing:  DOXYGEN_EXECUTABLE) \n  To enable PlantUML support, set PLANTUML_JAR environment variable or pass -DPLANTUML_JAR= option to cmake\n  Found PythonInterp: C:/Python27/python.exe (found suitable version \"2.7.6\", minimum required is \"2.7\") \n  Found PythonLibs: C:/Python27/libs/libpython27.a (found suitable exact version \"2.7.6\") \n  Found PythonInterp: C:/Python34/python.exe (found suitable version \"3.4.2\", minimum required is \"3.4\") \n  Found PythonLibs: C:/Python34/libs/python34.lib (found suitable exact version \"3.4.2\") \n  VTK is not found. Please set -DVTK_DIR in CMake to VTK build directory, or to VTK install subdirectory with VTKConfig.cmake file\n   videoio: Removing WinRT API headers by default</p>\n  \n  <p>General configuration for OpenCV 3.0.0-dev =====================================\n   Version control:               3.0.0-rc1-240-g1df244b-dirty</p>\n  \n  <p>Platform:\n     Host:                        Windows 6.1 AMD64\n     CMake:                       3.2.2\n     CMake generator:             MinGW Makefiles\n     CMake build tool:            C:/MinGW/bin/make.exe\n     Configuration:               Release></p>\n  \n  <p>C/C++:\n     Built as dynamic libs?:      YES\n     C++ Compiler:                c:/MinGW/bin/g++.exe  (ver 5.1.0)\n     C++ flags (Release):         -fsigned-char -mstackrealign -W -Wall -Werror=return-type -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wno-narrowing -Wno-delete-non-virtual-dtor -fdiagnostics-show-option -Wno-long-long -fomit-frame-pointer -msse -msse2 -ffunction-sections -fvisibility=hidden -fvisibility-inlines-hidden -O2 -DNDEBUG  -DNDEBUG\n     C++ flags (Debug):           -fsigned-char -mstackrealign -W -Wall -Werror=return-type -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wno-narrowing -Wno-delete-non-virtual-dtor -fdiagnostics-show-option -Wno-long-long -fomit-frame-pointer -msse -msse2 -ffunction-sections -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG\n     C Compiler:                  c:/MinGW/bin/gcc.exe\n     C flags (Release):           -fsigned-char -mstackrealign -W -Wall -Werror=return-type -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wno-narrowing -fdiagnostics-show-option -Wno-long-long -fomit-frame-pointer -msse -msse2 -ffunction-sections -fvisibility=hidden -O2 -DNDEBUG  -DNDEBUG\n     C flags (Debug):             -fsigned-char -mstackrealign -W -Wall -Werror=return-type -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wno-narrowing -fdiagnostics-show-option -Wno-long-long -fomit-frame-pointer -msse -msse2 -ffunction-sections -fvisibility=hidden -g  -O0 -DDEBUG -D_DEBUG\n     Linker flags (Release):<br>\n     Linker flags (Debug):<br>\n     Precompiled headers:         YES\n     Extra dependencies:          comctl32 gdi32 ole32 setupapi ws2_32 avifil32 avicap32 winmm msvfw32\n     3rdparty dependencies:       zlib libjpeg libwebp libpng libtiff libjasper IlmImf></p>\n  \n  <p>OpenCV modules:\n     To be built:                 hal core flann imgproc ml photo video imgcodecs shape videoio highgui objdetect superres ts features2d calib3d stitching videostab python3\n     Disabled:                    python2 world\n     Disabled by dependency:      -\n     Unavailable:                 androidcamera cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java viz</p>\n  \n  <p>Windows RT support:            NO</p>\n  \n  <p>GUI: \n     QT:                          NO\n     Win32 UI:                    YES\n     OpenGL support:              NO\n     VTK support:                 NO</p>\n  \n  <p>Media I/O: \n     ZLib:                        build (ver 1.2.8)\n     JPEG:                        build (ver 90)\n     WEBP:                        build (ver 0.3.1)\n     PNG:                         build (ver 1.5.12)\n     TIFF:                        build (ver 42 - 4.0.2)\n     JPEG 2000:                   build (ver 1.900.1)\n     OpenEXR:                     build (ver 1.7.1)\n     GDAL:                        NO</p>\n  \n  <p>Video I/O:\n     Video for Windows:           YES\n     DC1394 1.x:                  NO\n     DC1394 2.x:                  NO\n     FFMPEG:                      YES (prebuilt binaries)\n       codec:                     YES (ver 55.18.102)\n       format:                    YES (ver 55.12.100)\n       util:                      YES (ver 52.38.100)\n       swscale:                   YES (ver 2.3.100)\n       resample:                  NO\n       gentoo-style:              YES\n     OpenNI:                      NO\n     OpenNI PrimeSensor Modules:  NO\n     OpenNI2:                     NO\n     PvAPI:                       NO\n     GigEVisionSDK:               NO\n     DirectShow:                  YES\n     Media Foundation:            NO\n     XIMEA:                       NO\n     Intel PerC:                  NO</p>\n  \n  <p>Other third-party libraries:\n     Use IPP:                     NO\n     Use IPP Async:               NO\n     Use Eigen:                   NO\n     Use TBB:                     NO\n     Use OpenMP:                  NO\n     Use GCD                      NO\n     Use Concurrency              NO\n     Use C=:                      NO\n     Use Cuda:                    NO\n     Use OpenCL:                  YES</p>\n  \n  <p>OpenCL:\n     Version:                     dynamic\n     Include path:                C:/opencv/3rdparty/include/opencl/1.2\n     Use AMDFFT:                  NO\n     Use AMDBLAS:                 NO</p>\n  \n  <p>Python 2:\n     Interpreter:                 C:/Python27/python.exe (ver 2.7.6)</p>\n  \n  <p>Python 3:\n     Interpreter:                 C:/Python34/python.exe (ver 3.4.2)\n     Libraries:                   C:/Python34/libs/python34.lib (ver 3.4.2)\n     numpy:                       C:/Python34/lib/site-packages/numpy/core/include (ver 1.9.2)\n     packages path:               C:/Python34/Lib/site-packages</p>\n  \n  <p>Python (for build):            C:/Python27/python.exe</p>\n  \n  <p>Java:\n     ant:                         NO\n     JNI:                         C:/Program Files/Java/jdk1.7.0_03/include C:/Program Files/Java/jdk1.7.0_03/include/win32 C:/Program Files/Java/jdk1.7.0_03/include\n     Java wrappers:               NO\n     Java tests:                  NO</p>\n  \n  <p>Matlab:\n     mex:                         C:/Program Files (x86)/MATLAB/R2009a Student/bin/mex.bat\n     Compiler/generator:          Not working (bindings will not be generated)</p>\n  \n  <p>Documentation:\n     Doxygen:                     NO\n     PlantUML:                    NO</p>\n  \n  <p>Tests and samples:\n     Tests:                       YES\n     Performance tests:           YES\n     C/C++ Examples:              NO</p>\n  \n  <p>Install path:                  C:/opencv/build/install</p>\n  \n  <h2> cvconfig.h is in:              C:/opencv/build</h2>\n  \n  <p>Configuring done\n  Generating done</p>\n</blockquote>\n"}, {"tags": ["python", "canvas", "tkinter", "event-handling"], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542220369, "post_id": 30494487, "comment_id": 93494028, "body": "Bryan: I realize this is an old question &amp; answer, but in the linked tk documentation it says that a tag string &quot;may take any form except that of an integer&quot;. However, in Python 3.7.1 using a tag like that (created via a <code>str(intval)</code>) seems to work fine. Are the tk docs out-of-date or just wrong?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542223720, "post_id": 30494487, "comment_id": 93495600, "body": "@martineau: the reason you can\u2019t use an integer is that when you try to use it later the canvas will interpret it as an item id."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542224418, "post_id": 30494487, "comment_id": 93495907, "body": "Hmm, perhaps that&#39;s true with respect to event handling, but in my own code that&#39;s using it later to modify an existing object via a <code>Canvas.itemconfig()</code> call, it appears to work properly."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542238554, "post_id": 30494487, "comment_id": 93501510, "body": "@martineau: you might want to double-check your code. It&#39;s been this way since tk was invented, and they take backwards-compatibility very seriously. Using 3.7.1, I just created a canvas object with an integer as a tag and could not configure it with that tag."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542242725, "post_id": 30494487, "comment_id": 93502615, "body": "I think starting allow it <i>would</i> be backwards compatible, since no one should have been doing so. Not much to review really, as those parts of the code are relatively simple. I&#39;ve upload a copy of the <a href=\"https://pastebin.com/hspLidHs\" rel=\"nofollow noreferrer\">script</a>, if you&#39;d like to see proof\u2014there are only two statements involved\u2014just search for <code>str(index)</code>."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542247468, "post_id": 30494487, "comment_id": 93503630, "body": "@martineau: That code is not doing quite what you think it&#39;s doing, you have a simple off-by-one error. You can see this fairly easy by putting in special code for when index is zero in <code>update_canvas</code>. For example, when it&#39;s zero, unconditionally set the fill color to bright green and you&#39;ll see that no square ever turns green because even though there&#39;s an item with a tag of zero (the upper-left corner), tkinter interprets that as an index and there is no item with an index of zero."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542247608, "post_id": 30494487, "comment_id": 93503652, "body": "@martineau: As for the backwards compatibility issue, the problem is that if you do something like <code>canvas.itemconfigure(12, ...)</code> how would tkinter know if you&#39;re wanting to change the item with an index of 12 or an item with a tag of 12? Tkinter can&#39;t distinguish the two, so it always treats integers as element indexes."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542247973, "post_id": 30494487, "comment_id": 93503720, "body": "We&#39;re talking about starting to support something like <code>canvas.itemconfigure(&quot;12&quot;, ...)</code> (or <code>str(12)</code>). If it never worked before, doesn&#39;t seem like starting to allow it would break anything\u2014old or new."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1542248642, "post_id": 30494487, "comment_id": 93503860, "body": "@martineau: it <i>will</i> break all sorts of things. That&#39;s because <code>canvas.itemconfigure(&quot;12&quot;, ...)</code> already does something - it configures the item with an index of &quot;12&quot; (under the hood, the tcl/tk engine doesn&#39;t distinguish between a string or an integer). If it suddenly changed to configure an item with a tag of &quot;12&quot;, all of the code that depended on it configuring an item with an index of &quot;12&quot; would break."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1432767301, "creation_date": 1432767301, "answer_id": 30494487, "question_id": 30493569, "link": "https://stackoverflow.com/questions/30493569/how-to-modify-tags-in-tkinter-canvas-by-events/30494487#30494487", "title": "How to modify tags in Tkinter Canvas by events", "body": "<p>You can use the tag \"current\", which refers to the \"current\" object. The current object is described like this in the <a href=\"http://tcl.tk/man/tcl8.5/TkCmd/canvas.htm#M8\" rel=\"nofollow\">official tk documentation</a>:</p>\n\n<blockquote>\n  <p>The tag current is managed automatically by Tk; it applies to the\n  current item, which is the topmost item whose drawn area covers the\n  position of the mouse cursor (different item types interpret this in\n  varying ways; see the individual item type documentation for details).\n  If the mouse is not in the canvas widget or is not over an item, then\n  no item has the current tag.</p>\n</blockquote>\n"}], "owner": {"reputation": 197, "user_id": 2269457, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a7e27bbf43795e3112fb79b3b29f13c5?s=128&d=identicon&r=PG", "display_name": "Sacha Viquerat", "link": "https://stackoverflow.com/users/2269457/sacha-viquerat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2847, "favorite_count": 1, "accepted_answer_id": 30494487, "answer_count": 1, "score": 3, "last_activity_date": 1542219427, "creation_date": 1432762523, "last_edit_date": 1542219427, "question_id": 30493569, "link": "https://stackoverflow.com/questions/30493569/how-to-modify-tags-in-tkinter-canvas-by-events", "title": "How to modify tags in Tkinter Canvas by events", "body": "<p>I am programmatically adding tag_binds to all objects on my canvas that have the tag \"tag\":</p>\n\n<pre><code>self.canvas.tag_bind(\"tag\",\"&lt;Button 2&gt;\",self.tag_highlight)\n</code></pre>\n\n<p><code>self.canvas</code> contains all the objects that the user has added (all tagged with \"tag\".</p>\n\n<p>However, in <code>tag_highlight</code>, I would simply like to have a handle on the actual element within the canvas. <code>event.widget</code> doesn't seem to help, its just a tuple of 4 floats that I cannot link to any canvas item. I have tried to use the following, to no avail:</p>\n\n<pre><code>self.canvas.find_closest(event.x,event.y)\n</code></pre>\n\n<p>What I would like to do, is have a handle like:</p>\n\n<pre><code>t=self.canvas.getitem(event.widget)\n</code></pre>\n\n<p>so that I can use it for example in:</p>\n\n<pre><code>self.canvas.Move(t,30,20)\nprint self.canvas.coords(t)\n</code></pre>\n\n<p>and so forth.\nMaybe I am just missing the obvious?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1432764546, "post_id": 30493518, "comment_id": 49065621, "body": "Let&#39;s say <code>currentFile</code> contains the words &#39;hello&#39;, &#39;world&#39;, &#39;banana&#39; and <code>otherFile</code> contains &#39;banana&#39;, &#39;world&#39;, &#39;apple&#39;. What should be the result? &#39;world&#39; or &#39;banana&#39; or both?"}], "answers": [{"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1432764232, "post_id": 30493538, "comment_id": 49065519, "body": "have you tested your post yet?  <code>[word if word in currentFile for word in otherFile]</code> is wrong"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1432765305, "post_id": 30493538, "comment_id": 49065860, "body": "@haifzhan: good catch, thank you for reporting. I fixed it now"}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1432765286, "last_edit_date": 1432765286, "creation_date": 1432762401, "answer_id": 30493538, "question_id": 30493518, "link": "https://stackoverflow.com/questions/30493518/store-value-of-if-any-search/30493538#30493538", "title": "Store value of &quot;if any(&quot; search", "body": "<p>You're not going to be able to store this value directly from <code>any</code>. I'd recommend a for-loop</p>\n\n<pre><code>for word in otherFile:\n    if word in currentFile:\n        break\nelse:\n    word = None\nif word is not None:\n    print word, \"was found in the current file\"\n</code></pre>\n\n<p>Note that this will store only the first relevant value of <code>word</code>. If you would like all relevant values of <code>word</code>, then this should do it:</p>\n\n<pre><code>words = [word for word in otherFile if word in currentFile]\nfor word in words:\n    print word, \"was found in the current file\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1432763154, "post_id": 30493554, "comment_id": 49065115, "body": "if i understand correctly, OP wants to use <code>if any</code> and stores the value of <code>word</code>"}], "tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 1, "last_activity_date": 1432763252, "last_edit_date": 1432763252, "creation_date": 1432762468, "answer_id": 30493554, "question_id": 30493518, "link": "https://stackoverflow.com/questions/30493518/store-value-of-if-any-search/30493554#30493554", "title": "Store value of &quot;if any(&quot; search", "body": "<p>Just a little follow-up:\nYou should consider what is an input to <code>any()</code> function here. Input is a generator. So let's break it down:</p>\n\n<ul>\n<li><code>word in currentFile</code> is a boolean expression - output value is True or False</li>\n<li><code>for word in otherFile</code> performs an iteration over <code>otherFile</code></li>\n</ul>\n\n<p>So the output of <code>any()</code> argument would be in fact generator of boolean values. You can check it by simply executing <code>[word in currentFile for word in otherFile]</code>. Note that brackets means that a list would be created, with all values computed at once. Generator works functionally the same (if what you do is a single loop over all values), but are better memory-wise. The point is - what you feed to <code>any()</code> is a list of booleans. It has no knowledge about actual words - therefore it cannot possibly output one.</p>\n\n<p>No. You'll have to write explicit loop:</p>\n\n<pre><code>def find_first(currentFile, otherFile)\n    for word in currentFile:\n        if word in otherFile:\n            return word\n</code></pre>\n\n<p>If no match is found, function would implicitly return <code>None</code> which may be handled by a caller outside of <code>find_first()</code> function.</p>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1432764949, "post_id": 30493887, "comment_id": 49065753, "body": "Just note that <code>if word in currentFile</code> is going to be very slow, you should read <code>currentFile</code> into a <code>set</code> and use that instead."}, {"owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "edited": false, "score": 0, "creation_date": 1432772475, "post_id": 30493887, "comment_id": 49068002, "body": "This words great, my only issue now is the the formatting of word  it looks like this [&#39;pineapple&#39;], I need it to just be pineapple"}, {"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "reply_to_user": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "edited": false, "score": 0, "creation_date": 1432793713, "post_id": 30493887, "comment_id": 49073770, "body": "@NeonLights86: Then just print the element(s) you want. You know how to work with lists, don&#39;t you?"}, {"owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "edited": false, "score": 0, "creation_date": 1433624288, "post_id": 30493887, "comment_id": 49434500, "body": "Yeah, I&#39;m new at this but figured it out. Thanks again"}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": true, "score": 2, "last_activity_date": 1432764118, "creation_date": 1432764118, "answer_id": 30493887, "question_id": 30493518, "link": "https://stackoverflow.com/questions/30493518/store-value-of-if-any-search/30493887#30493887", "title": "Store value of &quot;if any(&quot; search", "body": "<p>Don't use <code>any</code> if you want the words themselves:</p>\n\n<pre><code>words = [word for word in otherFile if word in currentFile]\n</code></pre>\n\n<p>Then you can truth-test directly (since an empty list is falsy):</p>\n\n<pre><code>if words:\n    # do stuff\n</code></pre>\n\n<p>And also access the words that matched:</p>\n\n<pre><code>print words\n</code></pre>\n\n<p><strong>EDIT</strong>: If you only want the <em>first</em> matching word, you can do that too:</p>\n\n<pre><code>word = next((word for word in otherFile if word in currentFile), None)\nif word:\n    # do stuff with word\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "is_accepted": false, "score": 0, "last_activity_date": 1432765567, "creation_date": 1432765567, "answer_id": 30494158, "question_id": 30493518, "link": "https://stackoverflow.com/questions/30493518/store-value-of-if-any-search/30494158#30494158", "title": "Store value of &quot;if any(&quot; search", "body": "<p>You can get the <em>first</em> word from <code>otherFile</code> that is also in <code>currentFile</code> by <a href=\"https://docs.python.org/2/library/itertools.html#itertools.dropwhile\" rel=\"nofollow\">dropping</a> all words from <code>otherFile</code> that are <em>not</em> in <code>currentFile</code> and then taking the <a href=\"https://docs.python.org/2/library/functions.html#next\" rel=\"nofollow\">next</a> one:</p>\n\n<pre><code>from itertools import dropwhile\nword = next(dropwhile(lambda word: word not in currentFile, otherfile))\n</code></pre>\n\n<p>If there is no such word, this raises <code>StopIteration</code>.</p>\n\n<hr>\n\n<p>You can get <em>all</em> words from <code>otherFile</code> that are also in <code>currentFile</code> by using a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<pre><code>words = [word for word in otherFile if word in currentFile]\n</code></pre>\n\n<p>Or by using a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#sets\" rel=\"nofollow\">set intersection</a>:</p>\n\n<pre><code>words = list(set(otherFile) &amp; set(currentFile))\n</code></pre>\n\n<p>Or by using the <a href=\"https://docs.python.org/2/library/functions.html#filter\" rel=\"nofollow\"><code>filter</code> function</a>:</p>\n\n<pre><code>words = filter(lambda word: word in currentFile, otherFile)\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 30493887, "answer_count": 4, "score": 2, "last_activity_date": 1432765567, "creation_date": 1432762325, "last_edit_date": 1432763415, "question_id": 30493518, "link": "https://stackoverflow.com/questions/30493518/store-value-of-if-any-search", "title": "Store value of &quot;if any(&quot; search", "body": "<p>I'm trying to store the value of word, is there a way to do this?</p>\n\n<pre><code>if any(word in currentFile for word in otherFile):\n</code></pre>\n"}, {"tags": ["python", "environment-variables", "command-prompt"], "comments": [{"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "edited": false, "score": 0, "creation_date": 1432762658, "post_id": 30493504, "comment_id": 49064904, "body": "is this a linux? or what flavor of OS do you use?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432762659, "post_id": 30493504, "comment_id": 49064905, "body": "<code>python2 filename.py</code>? If you are on linux or mac that will already be the case"}, {"owner": {"reputation": 944, "user_id": 4601906, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lt0zk.jpg?s=128&g=1", "display_name": "Matchbox2093", "link": "https://stackoverflow.com/users/4601906/matchbox2093"}, "edited": false, "score": 0, "creation_date": 1432762872, "post_id": 30493504, "comment_id": 49064998, "body": "Updated the question there"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432763064, "post_id": 30493504, "comment_id": 49065080, "body": "You can use the <code>mklink </code> command on windows as far as I know,  <code>mklink python2.exe c:\\python27\\python.exe</code> and <code>mklink python3.exe c:\\python34\\python.exe</code> making sure you do it somewhere that is in your path"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "edited": false, "score": 0, "creation_date": 1432763387, "post_id": 30493504, "comment_id": 49065209, "body": "possible duplicate : <a href=\"http://stackoverflow.com/questions/3701646/how-to-add-to-the-pythonpath-in-windows-7\" title=\"how to add to the pythonpath in windows 7\">stackoverflow.com/questions/3701646/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 944, "user_id": 4601906, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lt0zk.jpg?s=128&g=1", "display_name": "Matchbox2093", "link": "https://stackoverflow.com/users/4601906/matchbox2093"}, "edited": false, "score": 0, "creation_date": 1432764913, "post_id": 30493688, "comment_id": 49065744, "body": "I tried the tutorial and your answer and still won&#39;t recognize it :/"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 944, "user_id": 4601906, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lt0zk.jpg?s=128&g=1", "display_name": "Matchbox2093", "link": "https://stackoverflow.com/users/4601906/matchbox2093"}, "edited": false, "score": 0, "creation_date": 1432772182, "post_id": 30493688, "comment_id": 49067934, "body": "Let me check &amp; get back - i have this same setup at my home."}], "tags": [], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "is_accepted": false, "score": 1, "last_activity_date": 1432763052, "creation_date": 1432763052, "answer_id": 30493688, "question_id": 30493504, "link": "https://stackoverflow.com/questions/30493504/setting-a-variable-name-similar-to-java-and-python-in-cmd/30493688#30493688", "title": "setting a variable name similar to java and python in cmd", "body": "<p>Follow this tutorial (upto step#4): \n<a href=\"http://www.computerhope.com/issues/ch000549.htm\" rel=\"nofollow\">http://www.computerhope.com/issues/ch000549.htm</a></p>\n\n<p>Then click on NEW -> add the 2 paths with their call names</p>\n\n<ul>\n<li>Python2, </li>\n<li>Python3, </li>\n</ul>\n\n<p>While doing this, you may want to add all these to PythonX path : </p>\n\n<p><code>C:\\Python27\\Lib;C:\\Python27\\DLLs;C:\\Python27\\Lib\\lib-tk;</code></p>\n\n<p><code>C:\\other-foolder-on-the-path</code> (other folders)</p>\n"}, {"tags": [], "owner": {"reputation": 944, "user_id": 4601906, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lt0zk.jpg?s=128&g=1", "display_name": "Matchbox2093", "link": "https://stackoverflow.com/users/4601906/matchbox2093"}, "is_accepted": false, "score": 0, "last_activity_date": 1432800789, "last_edit_date": 1495542112, "creation_date": 1432800789, "answer_id": 30500801, "question_id": 30493504, "link": "https://stackoverflow.com/questions/30493504/setting-a-variable-name-similar-to-java-and-python-in-cmd/30500801#30500801", "title": "setting a variable name similar to java and python in cmd", "body": "<p>After snooping about SO, i eventually found my answer, i guess it never came up in my initial searches for some reason</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18058389/how-to-switch-between-python-2-7-to-python-3-from-command-line\">How to switch between python 2.7 to python 3 from command line?</a></p>\n"}], "owner": {"reputation": 944, "user_id": 4601906, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lt0zk.jpg?s=128&g=1", "display_name": "Matchbox2093", "link": "https://stackoverflow.com/users/4601906/matchbox2093"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432800789, "creation_date": 1432762266, "last_edit_date": 1432762852, "question_id": 30493504, "link": "https://stackoverflow.com/questions/30493504/setting-a-variable-name-similar-to-java-and-python-in-cmd", "title": "setting a variable name similar to java and python in cmd", "body": "<p>I currently have  python 2.x and 3.x installed on my windows machine, id like to have both for comparison and also 2.x for pygame.</p>\n\n<p>now i know if i want to run a python script in the command prompt i would use the following:</p>\n\n<blockquote>\n  <p>python filename.py </p>\n</blockquote>\n\n<p>i know java also uses the \"java\" prefix before it if you want to run a java file.</p>\n\n<p>Now in doing this, it automatically sets up python 3.x environment, which i dont mind, but i was wondering is it possible to set up 2.x enviroment by setting a variable called \"Python2\" and another for python 3.x such as \"Python3\" so that i could set up the environment without having to use the trick of adding the environment each time in the .py script?</p>\n\n<p>this might be a silly question, but im not overly familar with command prompt's enviroment variables and its keywords, i did try googling it but alot of people just ended up suggesting either env path in the file or manually change the enviromental path each time.</p>\n\n<p>Update\nMy machine is running windows 8.1</p>\n"}, {"tags": ["python", "web", "tornado", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "is_accepted": false, "score": 0, "last_activity_date": 1432791309, "creation_date": 1432791309, "answer_id": 30497989, "question_id": 30493465, "link": "https://stackoverflow.com/questions/30493465/what-is-the-difference-between-using-partial-and-not-using-partial-for-tornado-o/30497989#30497989", "title": "What is the difference between using partial and not using partial for tornado.options.define?", "body": "<p><code>partial</code> lets you specify certain arguments once and use them repeatedly. In your first example, the <code>thread</code> option has <code>group=\"Web\", hidden=hidden</code>, while in the second example these arguments are not used. </p>\n"}], "owner": {"reputation": 301, "user_id": 4946607, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a3c61982df646f529307e6329c01f9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4946607/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432791309, "creation_date": 1432762078, "question_id": 30493465, "link": "https://stackoverflow.com/questions/30493465/what-is-the-difference-between-using-partial-and-not-using-partial-for-tornado-o", "title": "What is the difference between using partial and not using partial for tornado.options.define?", "body": "<p>I see two ways of setting up define in tornado.</p>\n\n<pre><code>import tornado.options\ndef define_web(hidden=False):\n\n    define = partial(tornado.options.define, group='Web', hidden=hidden)\n    define('thread', False, type=bool,\n        help='threading')\n</code></pre>\n\n<p>and without using partial</p>\n\n<pre><code>from tornado.options import options, define\n\ndef define_web(hidden=False):\n    define('thread', False, type=bool,\n        help='threading')\n</code></pre>\n\n<p>So I was wondering what is the difference, and what is advantage of using partials</p>\n"}, {"tags": ["python", "colors", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 1, "last_activity_date": 1432810125, "creation_date": 1432810125, "answer_id": 30504425, "question_id": 30493441, "link": "https://stackoverflow.com/questions/30493441/kivy-color-change-with-button/30504425#30504425", "title": "Kivy Color Change with Button", "body": "<p>You shouldn't/can't use the variable <code>btn</code> like that. Use <code>self.bind(on_state=self.on_event)</code> then <code>self.color = (1, 0, 0, 1)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 4531234, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8ab490565f4f521c67707605f58bd229?s=128&d=identicon&r=PG&f=1", "display_name": "user4531234", "link": "https://stackoverflow.com/users/4531234/user4531234"}, "edited": false, "score": 0, "creation_date": 1433022341, "post_id": 30533704, "comment_id": 49175350, "body": "Thank you. That worked! Now I am trying to  change the color back if u hit the button again. I tried a conditional where if self.color is one color and u press the button, it switches to the other color and if self.color is the other color and u press the button, it switches back to the first color, but the conditional isn&#39;t working. I know I have my syntax correct and I don&#39;t get any error messages. I don&#39;t know what&#39;s wrong..."}, {"owner": {"reputation": 1506, "user_id": 3630386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FI6xw.png?s=128&g=1", "display_name": "kiok46", "link": "https://stackoverflow.com/users/3630386/kiok46"}, "reply_to_user": {"reputation": 25, "user_id": 4531234, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8ab490565f4f521c67707605f58bd229?s=128&d=identicon&r=PG&f=1", "display_name": "user4531234", "link": "https://stackoverflow.com/users/4531234/user4531234"}, "edited": false, "score": 0, "creation_date": 1433043244, "post_id": 30533704, "comment_id": 49179369, "body": "<code>if self.ids.p.color == [1,0,0,1]: self.ids.p.color = [1,1,0,1] else:             self.ids.p.color = [1,0,0,1]</code> <b>p is id if the button</b>"}], "tags": [], "owner": {"reputation": 1506, "user_id": 3630386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FI6xw.png?s=128&g=1", "display_name": "kiok46", "link": "https://stackoverflow.com/users/3630386/kiok46"}, "is_accepted": false, "score": 0, "last_activity_date": 1433044118, "last_edit_date": 1433044118, "creation_date": 1432914047, "answer_id": 30533704, "question_id": 30493441, "link": "https://stackoverflow.com/questions/30493441/kivy-color-change-with-button/30533704#30533704", "title": "Kivy Color Change with Button", "body": "<p>You should try to reduce the code length, you don't need to use any id in this case.</p>\n\n<p>There could be an easy alternative to inclement's answer.\nIn your .py file (Talk class) add.</p>\n\n<pre><code>class Talk(Button):\n....\ndef on_release(self):\n    self.color = 1,0,0,1\n</code></pre>\n\n<p>and in your .kv file add</p>\n\n<pre><code>Talk:\n    text: \"talk to me\"\n    ....\n    on_release: self.on_release\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>you can do it this way too</p>\n\n<pre><code>class Singularity(BoxLayout):\n    def __init__(self,**kwargs):\n        super(Singularity,self).__init__(**kwargs)\n        self.b = Button(text = \"hello\",on_press = self.on_press)\n        self.add_widget(self.b)\n    def on_press(self,event):\n        if event.color == [1,0,0,1]:\n            event.color = [0,0,1,1]\n        else:\n            event.color=[1,0,0,1]\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4531234, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8ab490565f4f521c67707605f58bd229?s=128&d=identicon&r=PG&f=1", "display_name": "user4531234", "link": "https://stackoverflow.com/users/4531234/user4531234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2179, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433044118, "creation_date": 1432761969, "question_id": 30493441, "link": "https://stackoverflow.com/questions/30493441/kivy-color-change-with-button", "title": "Kivy Color Change with Button", "body": "<p>I am currently working on a bit of code using Kivy and Python. I am trying to make it so when you click a button, the button's text changes color.</p>\n\n<p>When I click on the button, however, the color doesn't like I want it to.</p>\n\n<p>Any ideas how this can be fixed? I am just learning Kivy and perhaps the answer is easier than I think. The .py file is below</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.widget import Widget\nfrom kivy.properties import ObjectProperty\nfrom kivy.uix.button import Button\nfrom kivy.graphics import Color\nclass TextBubbleSample(Widget):\n    bubble = ObjectProperty(None)\n\nclass TextBubble(Widget):\n        pass\n\nclass Talk(Button):\n    btn = Button\n    def button_press(self):\n        btn.bind(on_state = self.on_event)\n\ndef on_event(self):\n        btn.color = 1,0,0,1\n\nclass TextBubbleApp(App):\n    def build(self):\n        return TextBubbleSample()\n\nif __name__ == '__main__':\n    TextBubbleApp().run()\n\n\n\n\nand here is the .kv file\n\n#:kivy 1.0.9\n\n&lt;TextBubbleSample&gt;:\n    bubble: text_bubble\n    btn: click_here\n\n    TextBubble:\n        id: text_bubble\n        x: root.x\n        center_y: root.center_y\n\n    Talk:\n        id: click_here\n        x: 10\n        center_y: 220\n        text: \"Talk to me.\"\n        color: 0,0,1,1\n\n&lt;TextBubble&gt;:\n    canvas:\n        Color:\n            rgba: 1,0,0,1\n        Rectangle:\n            pos: 10, 10\n            size: 780, 150\n\n    Label:\n        color: 0,0,1,1\n        font_size: 35  \n        center_x: 200\n        top: root.top - 200\n        text: \"I am talking\"\n</code></pre>\n"}, {"tags": ["python", "animation", "matplotlib", "ffmpeg"], "comments": [{"owner": {"reputation": 4551, "user_id": 4212158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-MeijoBfHUlw/AAAAAAAAAAI/AAAAAAAAIUo/hFq1fS9ga6U/photo.jpg?sz=128", "display_name": "crypdick", "link": "https://stackoverflow.com/users/4212158/crypdick"}, "edited": false, "score": 0, "creation_date": 1447982939, "post_id": 30493425, "comment_id": 55400739, "body": "Could you clarify what you mean by &quot;I set frames to 1000&quot;? Where did you do that? I&#39;m experiencing this problem."}], "answers": [{"tags": [], "owner": {"reputation": 1494, "user_id": 5962321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kaylT.png?s=128&g=1", "display_name": "Silmathoron", "link": "https://stackoverflow.com/users/5962321/silmathoron"}, "is_accepted": false, "score": 2, "last_activity_date": 1521061743, "last_edit_date": 1521061743, "creation_date": 1488623817, "answer_id": 42594969, "question_id": 30493425, "link": "https://stackoverflow.com/questions/30493425/python-funcanimation-is-saved-only-30/42594969#42594969", "title": "Python FuncAnimation is saved only 30%", "body": "<p>This question is pretty old, but just in case someone stumbles upon it while looking for the answer (like I did), <a href=\"https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/animation.py#L1490\" rel=\"nofollow noreferrer\">this comment</a> made me understand that for custom frame generators, you need to manually set the <code>save_count</code> member of <code>FuncAnimation</code> to make the video save the whole animation.</p>\n\n<p>I.e., if you want to go through an array <code>times</code> with your <code>anim</code> instance of <code>FuncAnimation</code>, you need:</p>\n\n<pre><code># either at instantiation\n# anim = FuncAnimation(..., save_count=len(times))\n# or after some time, if you need to customize it later\nanim.save_count = len(times)\nanim.save('anime.mp4', writer=writer)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4655451, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/49838bfe5b6ecefa066d6d7423bba524?s=128&d=identicon&r=PG&f=1", "display_name": "cvut", "link": "https://stackoverflow.com/users/4655451/cvut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521061743, "creation_date": 1432761897, "last_edit_date": 1432766167, "question_id": 30493425, "link": "https://stackoverflow.com/questions/30493425/python-funcanimation-is-saved-only-30", "title": "Python FuncAnimation is saved only 30%", "body": "<p>I am trying to make a movie out of data I've calculated. I am using ffmpeg writer. When I start the animation in Spyder it is working fine and goes to the end, but when I try to save it it goes only for first 30% of animation. How can I make it to save the whole animation?</p>\n\n<p>Here is a bit of code( it's long); MM is place where the matrices are stored (1200 of them).</p>\n\n<pre><code>import matplotlib\nmatplotlib.use(\"Agg\")\nfrom mpl_toolkits.mplot3d import axes3d\nimport matplotlib.animation as animation\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nnx = 10\nny = 10\nX=np.linspace(0, Lx, nx)\nY=np.linspace(0, Ly, ny)   \nWriter = animation.writers['ffmpeg']\nwriter = Writer(fps=15, metadata=dict(artist='Me'), bitrate=1)\n\nplt.ion()\nfig = plt.figure()\nim = plt.contourf(X, Y, MM[0], np.linspace(T_ok,np.max(MM[-1]),150), cmap =     cm.hot)\nax = fig.add_subplot(111, projection='3d')  \nplt.colorbar(im)\n\ndef anime(i):\n    ax.cla()\n    im = ax.contourf(X, Y, MM[i], np.linspace(T_ok,np.max(MM[-1]),150), cmap = cm.hot)\n    plt.title('%5.3f'%i)\n    return im,\n\nanim = animation.FuncAnimation(fig, anime)\nanim.save('anime.mp4', writer=writer)\n</code></pre>\n\n<p>EDIT: I just set frames to 10000 and it's working, but I would like to know why. There are 1200 matrices that should be plotted. </p>\n"}, {"tags": ["python", "django", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 15679, "user_id": 369450, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5cf82bfcd75a3bd40deaad83f7657c59?s=128&d=identicon&r=PG&f=1", "display_name": "All Workers Are Essential", "link": "https://stackoverflow.com/users/369450/all-workers-are-essential"}, "edited": false, "score": 0, "creation_date": 1432762207, "post_id": 30493449, "comment_id": 49064686, "body": "Shouldn&#39;t <code>class TopTitlesPostPage(models.Model)</code> be <code>class TopTitlesPostPage(TitlePost)</code>?"}, {"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432762303, "post_id": 30493449, "comment_id": 49064735, "body": "@Stefan Bossbaly will the base class still create a table in the database even though it is a meta?"}], "tags": [], "owner": {"reputation": 6294, "user_id": 786489, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/afd6478b35f6094efdf29e87da002d81?s=128&d=identicon&r=PG", "display_name": "Stefan Bossbaly", "link": "https://stackoverflow.com/users/786489/stefan-bossbaly"}, "is_accepted": false, "score": 0, "last_activity_date": 1432762276, "last_edit_date": 1432762276, "creation_date": 1432761990, "answer_id": 30493449, "question_id": 30493391, "link": "https://stackoverflow.com/questions/30493391/django-inheriting-from-classes/30493449#30493449", "title": "Django Inheriting from classes", "body": "<p>You need to have <code>TopTitlesPostPage</code> and <code>NewTitlesPostPage</code> extend the base class of <code>TitlePost</code> like so ...</p>\n\n<pre><code>class TopTitlesPostPage(models.Model)\n</code></pre>\n\n<p>You don't need a <code>OneToOneField</code> if you are inheriting from the base class, since the attributes of <code>TitlePost</code> will be available to you in the subclass. If you want to make <code>TitlePost</code> abstract (you can not declare an instance of that class, only inherit from it) you have to add it to the meta class</p>\n\n<pre><code>class TitlePost(models.Model):\n    class Meta:\n        abstract = True\n</code></pre>\n\n<p>Here is a link to the <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/models/#meta-inheritance\" rel=\"nofollow\">documentation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432762251, "post_id": 30493479, "comment_id": 49064704, "body": "Actually I tried that earlier and it didn&#39;t work for some reason. Maybe I did something wrong."}, {"owner": {"reputation": 2788, "user_id": 1467535, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dfba9abb6e0124bb2ecbaa6a1aafea7d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1467535/abhishek"}, "reply_to_user": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432762319, "post_id": 30493479, "comment_id": 49064748, "body": "Did you define the TitlePost as abstract?"}, {"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432762481, "post_id": 30493479, "comment_id": 49064821, "body": "I did but since it was meta it wouldn&#39;t create table in the data base.  Then again, I didn&#39;t directly inherit like that from the base class after I made it a meta class, and instead used the relation <code>OneToOneField</code> provides.  I&#39;ll try this out!"}, {"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432762656, "post_id": 30493479, "comment_id": 49064902, "body": "Awesome, why didn&#39;t I think of that. That seems to be the best answer! Thanks everyone"}], "tags": [], "owner": {"reputation": 2788, "user_id": 1467535, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dfba9abb6e0124bb2ecbaa6a1aafea7d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1467535/abhishek"}, "is_accepted": false, "score": 1, "last_activity_date": 1432762519, "last_edit_date": 1432762519, "creation_date": 1432762148, "answer_id": 30493479, "question_id": 30493391, "link": "https://stackoverflow.com/questions/30493391/django-inheriting-from-classes/30493479#30493479", "title": "Django Inheriting from classes", "body": "<p>U need to extend the classes like follows:</p>\n\n<pre><code>class TopTitlesPostPage(TitlePost):\n</code></pre>\n\n<p>U can add more and inherit from multiple models just by mentionin g all the models comma separated! This all the fields from the models will be created in the child class as well</p>\n\n<p>EDIT:</p>\n\n<p>The way i would do it is to create an Abstract class which contains all your common fields and extend it into your TitlePost, TopTitlesPostPagea and NewTitlesPostPage</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432763309, "post_id": 30493589, "comment_id": 49065173, "body": "Wow, thanks for all the info; this really helps a lot! I will definitely play around with this method!  So based on efficiency, I take it that making an Abstract class for everything is a better choice than taking the polymorphic route?  What would you chose between the two and why? If you don&#39;t mind answering."}, {"owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "reply_to_user": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432763674, "post_id": 30493589, "comment_id": 49065317, "body": "When it comes to performance, never optimize prematurely. Generally you only want to take that into consideration when you have a database bottleneck.  The polymorphic route enables you to do proper polymorphism, that means programming without if statements and takes full advantage of duck typing and is generally useful when you&#39;re building applications that should be extensible for the future. I&#39;d use it for any project that&#39;s bigger than just a demo, but is not going to have tens of thousands of entries or hundreds of sub models."}, {"owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "edited": false, "score": 0, "creation_date": 1432764146, "post_id": 30493589, "comment_id": 49065499, "body": "Very interesting. I will definitely keep this in mind for future references. Thanks again for the info!"}], "tags": [], "owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "is_accepted": true, "score": 4, "last_activity_date": 1432762608, "creation_date": 1432762608, "answer_id": 30493589, "question_id": 30493391, "link": "https://stackoverflow.com/questions/30493391/django-inheriting-from-classes/30493589#30493589", "title": "Django Inheriting from classes", "body": "<p>The behaviour you would like to see is called <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/models/#multi-table-inheritance\" rel=\"nofollow\">multi table inheritance</a>. Every child class internally ends up with the same thing that you wrote, so with a one to one field to the base class <code>TitlePost</code>, but it's internally managed by django.</p>\n\n<p>If you do multiple inheritance like the code below you will be able to write:</p>\n\n<pre><code>k=TopTitlesPostPage.objects.create(hello=\"Hello\",title_name=\"Heh\")\n</code></pre>\n\n<p>That means the fields will be directly accessible.</p>\n\n<pre><code>from django.db import models\n\nclass TitlePost(models.Model):\n    title_name = models.CharField(max_length=100, unique=True)\n    title_body = models.TextField(max_length=30000)\n    title_why = models.TextField(max_length=250, null=True)\n    title_publication_date = models.DateTimeField('date')\n    likes = models.IntegerField(default=0)\n    dislikes = models.IntegerField(default=0)\n\n\n    def __unicode__(self):\n        return self.title_name\n\n\nclass TopTitlesPostPage(TitlePost):\n    hello = models.CharField(max_length=100, unique=True)\n\n    def __unicode__(self):\n        return self.hello\n\nclass NewTitlesPostPage(TitlePost):\n    hello = models.CharField(max_length=100, unique=True)\n\n    def __unicode__(self):\n        return self.hello\n</code></pre>\n\n<p>In case you are never actually going to reference the base class <code>TitlePost</code>, but only its children it might be more appropriate to make `TitlePost <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/models/#abstract-base-classes\" rel=\"nofollow\">abstract</a>:</p>\n\n<pre><code>  class TitlePost(models.Model):\n    title_name = models.CharField(max_length=100, unique=True)\n    title_body = models.TextField(max_length=30000)\n    title_why = models.TextField(max_length=250, null=True)\n    title_publication_date = models.DateTimeField('date')\n    likes = models.IntegerField(default=0)\n    dislikes = models.IntegerField(default=0)\n\n    class Meta:\n        abstract = True\n    def __unicode__(self):\n        return self.title_name\n</code></pre>\n\n<p>Making <code>TitlePost</code>abstract will omit the creation of the table <code>TitlePost</code>in the database, and the child models will end up with the fields of the base class inserted into their own tables seperately. If the base class is just for factoring out common functionality this is the preferred way to go.</p>\n\n<p>For huge queries this will also make a difference in performance because the ORM will need to do less <code>JOIN</code>operations.</p>\n\n<p>It's not possible to install Foreign Keys to abstract models in Django.\nYou can however install Foreign Keys to a non abstract base class. The only limitation is that the reverse Foreign Key relation will return the base class instances.\nYou can circumvent this limitation by using <a href=\"https://django-polymorphic.readthedocs.org/en/latest/\" rel=\"nofollow\">django-polymorphic</a>.</p>\n\n<p>Django Polymorphic allows you to query the base class objects but retrieves the child class instances:</p>\n\n<pre><code>&gt;&gt;&gt; Project.objects.create(topic=\"Department Party\")\n&gt;&gt;&gt; ArtProject.objects.create(topic=\"Painting with Tim\", artist=\"T. Turner\")\n&gt;&gt;&gt; ResearchProject.objects.create(topic=\"Swallow Aerodynamics\", supervisor=\"Dr. Winter\")\n\n&gt;&gt;&gt; Project.objects.all()\n[ &lt;Project:         id 1, topic \"Department Party\"&gt;,\n  &lt;ArtProject:      id 2, topic \"Painting with Tim\", artist \"T. Turner\"&gt;,\n  &lt;ResearchProject: id 3, topic \"Swallow Aerodynamics\", supervisor \"Dr. Winter\"&gt; ]\n</code></pre>\n\n<p>To use django polymorphic you only need to declare your models with Polymorphic Model as base class:</p>\n\n<pre><code>from django.db import models\nfrom polymorphic import PolymorphicModel\n\nclass ModelA(PolymorphicModel):\n    field1 = models.CharField(max_length=10)\n\nclass ModelB(ModelA):\n    field2 = models.CharField(max_length=10)\n\nclass ModelC(ModelB):\n    field3 = models.CharField(max_length=10)\n</code></pre>\n\n<p>Foreign keys will also return the child class instances, which is really cool if you're trying to be polymorphic.</p>\n\n<pre><code># The model holding the relation may be any kind of model, polymorphic or not\nclass RelatingModel(models.Model):\n    many2many = models.ManyToManyField('ModelA')  # ManyToMany relation to a polymorphic model\n\n&gt;&gt;&gt; o=RelatingModel.objects.create()\n&gt;&gt;&gt; o.many2many.add(ModelA.objects.get(id=1))\n&gt;&gt;&gt; o.many2many.add(ModelB.objects.get(id=2))\n&gt;&gt;&gt; o.many2many.add(ModelC.objects.get(id=3))\n\n&gt;&gt;&gt; o.many2many.all()\n[ &lt;ModelA: id 1, field1 (CharField)&gt;,\n  &lt;ModelB: id 2, field1 (CharField), field2 (CharField)&gt;,\n  &lt;ModelC: id 3, field1 (CharField), field2 (CharField), field3 (CharField)&gt; ]\n</code></pre>\n\n<p>Take into account that these queries will be <a href=\"https://django-polymorphic.readthedocs.org/en/latest/performance.html\" rel=\"nofollow\">slightly less performant</a>.</p>\n"}], "owner": {"reputation": 199, "user_id": 4401416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e135092642f6e2788003f7d93090c49?s=128&d=identicon&r=PG&f=1", "display_name": "thevengefulco", "link": "https://stackoverflow.com/users/4401416/thevengefulco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 30493589, "answer_count": 3, "score": 0, "last_activity_date": 1432762608, "creation_date": 1432761769, "question_id": 30493391, "link": "https://stackoverflow.com/questions/30493391/django-inheriting-from-classes", "title": "Django Inheriting from classes", "body": "<p>I have run into a problem developing my Django site.</p>\n\n<pre><code>from django.db import models\n\nclass TitlePost(models.Model):\n    title_name = models.CharField(max_length=100, unique=True)\n    title_body = models.TextField(max_length=30000)\n    title_why = models.TextField(max_length=250, null=True)\n    title_publication_date = models.DateTimeField('date')\n    likes = models.IntegerField(default=0)\n    dislikes = models.IntegerField(default=0)\n\n\n    def __unicode__(self):\n        return self.title_name\n\n\nclass TopTitlesPostPage(models.Model):\n    title_post = models.OneToOneField(TitlePost)\n    hello = models.CharField(max_length=100, unique=True)\n\n    def __unicode__(self):\n        return self.hello\n\nclass NewTitlesPostPage(models.Model):\n    title_post = models.OneToOneField(TitlePost)\n    hello = models.CharField(max_length=100, unique=True)\n\n    def __unicode__(self):\n        return self.hello\n</code></pre>\n\n<p>Why don't <code>TopTitlesPostPage</code> and <code>NewTitlesPostPage</code> inherit all the attributes from <code>TitlePost</code>? For instance, if I try to call the <code>likes</code> in my template using <code>TopTitlesPostPage</code>, it will not execute because the <code>likes</code> attribute is not inherited. Does <code>OneToOneField</code> have something to do with the problem?  I did read that making <code>TitlePost</code> a meta class will help but I need it to have a table in my database.  I actually want all of them to have a table in my data base. Then again, maybe I am approaching this the wrong way and I should use just <code>TitlePost</code> as a model to generate everything?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4946538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf7d43357fcdbe1d10c5789168c1ac?s=128&d=identicon&r=PG&f=1", "display_name": "fano236", "link": "https://stackoverflow.com/users/4946538/fano236"}, "edited": false, "score": 0, "creation_date": 1432764851, "post_id": 30493802, "comment_id": 49065725, "body": "Thanks, Joe! That definitely solves my big problem, but the keyword list contains quite a bit of phrases with considerable overlap between the words that make up the phrases. Any thoughts about a work around?"}, {"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "reply_to_user": {"reputation": 21, "user_id": 4946538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf7d43357fcdbe1d10c5789168c1ac?s=128&d=identicon&r=PG&f=1", "display_name": "fano236", "link": "https://stackoverflow.com/users/4946538/fano236"}, "edited": false, "score": 0, "creation_date": 1432766139, "post_id": 30493802, "comment_id": 49066181, "body": "Hard to say. Suppose we reduced all phrases to no more than two words and treated each word as a key word. I imagine you could probably infer from the counts, as they have to come in singles or pairs. For example if one was &#39;bombs away&#39; and another &#39;away in a manger&#39; then two &#39;away&#39; + one &#39;bomb&#39; + one &#39;manger&#39; must be one of each. But even this is a lot of work compared with just scanning the original column 300 times. A compromise is to use my solution in so far as it&#39;s possible and then use your original on the phrases that won&#39;t yield to it."}, {"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "reply_to_user": {"reputation": 21, "user_id": 4946538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf7d43357fcdbe1d10c5789168c1ac?s=128&d=identicon&r=PG&f=1", "display_name": "fano236", "link": "https://stackoverflow.com/users/4946538/fano236"}, "edited": false, "score": 0, "creation_date": 1432766210, "post_id": 30493802, "comment_id": 49066206, "body": "Also, if a keyword is in another key phrase, is it counted once or twice? It seems the key words should be &#39;more&#39; unique than they sound."}], "tags": [], "owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "is_accepted": false, "score": 1, "last_activity_date": 1432797081, "last_edit_date": 1432797081, "creation_date": 1432763636, "answer_id": 30493802, "question_id": 30493364, "link": "https://stackoverflow.com/questions/30493364/sum-partial-string-key-word-matches-in-a-pandas-dataframe/30493802#30493802", "title": "Sum partial string (key word) matches in a Pandas DataFrame", "body": "<p>It seems you want to split all the text into a list of individual words and then scan the list just once, using a dict to count the number of occurences. You could start by doing</p>\n\n<pre><code>word_list = (df1.Text + ' ').sum().split()\n</code></pre>\n\n<p>This will give a single list of all words in the column. The addition of the space to each prevents concatenation of consecutive entries. Then scan the list an count the keywords:</p>\n\n<pre><code>word_count = dict((keyword, 0) for keyword in keywords)\nfor word in wordlist:\n     try:\n         word_count += 1\n     except KeyError:\n         pass\n</code></pre>\n\n<p><code>dict</code> look up is O(1) and you just have to scan wordlist once so it's algorithmically sound. The only problem that I can think of now is key words with multiple words. However, you could simply treat the words that make up a key word (phrase) as key words and count them. Then infer the the frequency of the key phrase. This isn't perfect but if there is no overlap between the words that make up key phrases it will work and could still work depending on the overlaps. I imagine it would suffice but I can't know without seeing all the keywords. </p>\n\n<p>EDIT: I thought of a way to do the same thing using just <code>pandas</code>:</p>\n\n<pre><code>word_series = pd.Series((df1.Text + ' ').sum().split())\nword_series.value_counts().loc[key_words]\n</code></pre>\n\n<p>This will give you the number of occurances of each single key word. It still doesn't solve the key phrase problem. </p>\n\n<p>However, here's a solution that works for two-word key phrases:</p>\n\n<pre><code>two_word_series = word_series + ' ' word_series.shift(-1)\n# a series of all consecutive pairs in the word_series\ntwo_word_series.value_counts().loc[two_word_key_phrases]\n</code></pre>\n\n<p>This can be generalised to n-word phrases but get's cumbersome after awhile. It's feasibility depends on the max length of your key phrases. </p>\n"}, {"comments": [{"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "edited": false, "score": 0, "creation_date": 1432797578, "post_id": 30497237, "comment_id": 49075810, "body": "Doesn&#39;t this involves scanning a string (corpus) which is the sum of the text column as many times as there are keywords? If so, it doesn&#39;t seem any better than the OP&#39;s original solution which just to scan the column for each key word (phrase), and probably slower since it&#39;s not vectorized. It&#39;s also way more convoluted."}, {"owner": {"reputation": 21, "user_id": 4946538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf7d43357fcdbe1d10c5789168c1ac?s=128&d=identicon&r=PG&f=1", "display_name": "fano236", "link": "https://stackoverflow.com/users/4946538/fano236"}, "edited": false, "score": 0, "creation_date": 1432850102, "post_id": 30497237, "comment_id": 49110496, "body": "The more general solution worked perfectly, thank you!"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1432787062, "creation_date": 1432787062, "answer_id": 30497237, "question_id": 30493364, "link": "https://stackoverflow.com/questions/30493364/sum-partial-string-key-word-matches-in-a-pandas-dataframe/30497237#30497237", "title": "Sum partial string (key word) matches in a Pandas DataFrame", "body": "<p>If you want a solution which can include specific phrases (which you know before hand) in your count, you could replace the spaces in the the phrases with another character (say \"_\"). For example:</p>\n\n<pre><code>import pandas as pd\nfrom collections import Counter\n\ndf = pd.DataFrame(['Police have discovered an air bomb', 'Air strike the bomb', 'The air strike police are going on strike', 'Air bomb is full of hot air'], columns = ['text'])\nkeywords = ['bomb', 'police', 'air strike']\nkeyword_dict = {w:w.replace(' ', '_') for w in keywords}\n\ncorpus = ' '.join(df.text).lower()\nfor w,w2 in keyword_dict.items():\n   corpus = corpus.replace(w,w2)\n\nall_counts = Counter(corpus.split())\nfinal_counts = {w:all_counts[w2] for w,w2 in keyword_dict.items()}\nprint(final_counts)\n{'police': 1, 'air strike': 1, 'bomb': 2}\n</code></pre>\n\n<p>A more general solution (possibly better practice from a text-mining point of view where you won't necessarily know beforehand what phrases you're looking for), you could extract all bigrams from the text and perform a count over the whole thing:</p>\n\n<pre><code>corpus = ' '.join(df.text).lower()\nwords = corpus.split()\nbigrams = [' '.join([words[i],words[i+1]]) for i in range(len(words) -1)]\nprint(Counter(words + bigrams))\nCounter({'air': 5, 'bomb': 3, 'strike': 3, 'air strike': 2, 'police': 2, 'air bomb': 2, 'the': 2, 'discovered': 1, 'bomb is': 1, 'the bomb': 1, 'have discovered': 1, 'full': 1, 'bomb the': 1, 'going on': 1, 'are going': 1, 'are': 1, 'discovered an': 1, 'the air': 1, 'hot air': 1, 'is full': 1, 'hot': 1, 'on strike': 1, 'is': 1, 'strike the': 1, 'police have': 1, 'bomb air': 1, 'of': 1, 'strike police': 1, 'of hot': 1, 'an': 1, 'strike air': 1, 'on': 1, 'full of': 1, 'police are': 1, 'have': 1, 'going': 1, 'an air': 1})\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4946538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf7d43357fcdbe1d10c5789168c1ac?s=128&d=identicon&r=PG&f=1", "display_name": "fano236", "link": "https://stackoverflow.com/users/4946538/fano236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1432797081, "creation_date": 1432761681, "question_id": 30493364, "link": "https://stackoverflow.com/questions/30493364/sum-partial-string-key-word-matches-in-a-pandas-dataframe", "title": "Sum partial string (key word) matches in a Pandas DataFrame", "body": "<p>Say I have a list of key words (around 300)</p>\n\n<pre><code>Key Word\nabduct\nattack\nairstrike\nbomb\n</code></pre>\n\n<p>And I want to iterate through an entire DataFrame's (df1) column (Text) in order to find  ANY instance in which the key word(s) appear. My ultimate goal is to have total counts for each key word.</p>\n\n<pre><code>Text                                Location     Date \nPolice have just discovered a bomb. New York    4/30/2015, 23:54:27  \n...\n</code></pre>\n\n<p>I know I can use str.contains (see below) to find the totals for each word on an individual basis, but I'm looking for an easy way to calculate the totals all at once.</p>\n\n<pre><code>word_count = df1[df1['Text'].str.contains('Key Word').count()\n</code></pre>\n\n<p>I have also tried to solve my problem with a script that splits all of the data in 'Text' into individual key words and sums the total, but this fails to take into account any key words that have spaces (at least in its current form).</p>\n\n<pre><code> In [31]: df.Text.str.lower().apply(lambda x: pd.value_counts(x.split(\" \"))).sum(axis =0)\n</code></pre>\n\n<p>Any help is greatly appreciated! </p>\n"}, {"tags": ["python", "linux", "windows", "docker", "boot2docker"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 4794170, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9209c356b392b78f395cf8af615c2da3?s=128&d=identicon&r=PG&f=1", "display_name": "user4794170", "link": "https://stackoverflow.com/users/4794170/user4794170"}, "edited": false, "score": 0, "creation_date": 1432776513, "post_id": 30495643, "comment_id": 49068856, "body": "I&#39;ve attempted to run a base Ubuntu image where I&#39;ve mounted the volume like this: <code>docker run -v &quot;&#47;&#47;myshare&#47;folder name&quot;:&quot;&#47;&#47;myshare&#47;folder name&quot;</code>. However, when I enter the container in the interactive mode, the folder is there but none of the files and folders are listed. I suspect this is because the network share is access controlled. My user account above has access to this folder and can navigate the folders when I mount it on a regular Ubuntu VM. Is there anyway for me to use a Docker Volume with an access controlled share?"}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": false, "score": 1, "last_activity_date": 1432775710, "creation_date": 1432775710, "answer_id": 30495643, "question_id": 30493300, "link": "https://stackoverflow.com/questions/30493300/docker-mount-windows-network-share-inside-container/30495643#30495643", "title": "Docker - Mount Windows Network Share Inside Container", "body": "<p>You are correct that you can only use <code>--privileged</code> during <code>docker run</code>.  You cannot perform <code>mount</code> operations without <code>--privileged</code>, ergo, you cannot perform mount operations during the <code>docker build</code> process.</p>\n\n<p>This is probably by design: the goal is that a Dockerfile is largely self contained; anyone should be able to use your <code>Dockerfile</code> and other contents in the same directory to generate the same image; linking things to an external mount would violate this restriction.</p>\n\n<p>However, your question says that you have an application that needs to read some data from a share so it's not clear why you need the share mounted during <code>docker build</code>.  It sounds like you would be better off building an image that will launch your application as part of <code>docker run</code>, and possibly use <a href=\"https://docs.docker.com/userguide/dockervolumes/#mount-a-host-directory-as-a-data-volume\" rel=\"nofollow\">docker volumes</a> to access the share rather than attempting to mount it inside the container.</p>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 1919621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBJCy.jpg?s=128&g=1", "display_name": "Katherine Elizabeth Lightsey", "link": "https://stackoverflow.com/users/1919621/katherine-elizabeth-lightsey"}, "edited": false, "score": 0, "creation_date": 1535492661, "post_id": 30500248, "comment_id": 91083528, "body": "The question was about Docker. Therefore your answer should be relevant to Docker. It is quite frustrating to be searching for an answer to a question and having to sort through answers that begin with, &quot;Well I haven&#39;t used the application you are referring to, and I&#39;m not familiar with it, but here is something that is probably not relevant...&quot;"}, {"owner": {"reputation": 19915, "user_id": 308237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a2f17358d3928b294cc0360f30acb22?s=128&d=identicon&r=PG", "display_name": "Malvineous", "link": "https://stackoverflow.com/users/308237/malvineous"}, "reply_to_user": {"reputation": 847, "user_id": 1919621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBJCy.jpg?s=128&g=1", "display_name": "Katherine Elizabeth Lightsey", "link": "https://stackoverflow.com/users/1919621/katherine-elizabeth-lightsey"}, "edited": false, "score": 0, "creation_date": 1535607771, "post_id": 30500248, "comment_id": 91129664, "body": "@KatherineElizabethLightsey: Sorry, this answer was written three years ago when Docker was very new and experts were not common.  I have since used Docker extensively, so I have updated my answer accordingly.  I hope the improvements are enough to at least earn back the downvote!"}, {"owner": {"reputation": 847, "user_id": 1919621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBJCy.jpg?s=128&g=1", "display_name": "Katherine Elizabeth Lightsey", "link": "https://stackoverflow.com/users/1919621/katherine-elizabeth-lightsey"}, "edited": false, "score": 0, "creation_date": 1535718556, "post_id": 30500248, "comment_id": 91181469, "body": "@Mavineous - Done and thank you!"}], "tags": [], "owner": {"reputation": 19915, "user_id": 308237, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6a2f17358d3928b294cc0360f30acb22?s=128&d=identicon&r=PG", "display_name": "Malvineous", "link": "https://stackoverflow.com/users/308237/malvineous"}, "is_accepted": false, "score": 4, "last_activity_date": 1535607596, "last_edit_date": 1535607596, "creation_date": 1432799037, "answer_id": 30500248, "question_id": 30493300, "link": "https://stackoverflow.com/questions/30493300/docker-mount-windows-network-share-inside-container/30500248#30500248", "title": "Docker - Mount Windows Network Share Inside Container", "body": "<p>Docker only abstracts away applications, whereas mounting filesystems happens at the kernel level and so can't be restricted to only happen inside the container.  When using <code>--privileged</code>, the mount happens on the host and then it's passed through into the container.</p>\n\n<p>Really the only way you can do this is to have the share available on the host (put it in <code>/etc/fstab</code> on a Linux machine, or mount it to a drive letter on a Windows machine) and have the host mount it, then make it available to the container as you would with any other volume.</p>\n\n<p>Also bear in mind that <code>mkdir -p \"//myshare/folder name\"</code> is a semi-invalid path - most shells will condense the <code>//</code> into <code>/</code> so you may not have access to a folder called <code>/myshare/folder name</code> since the root directory of a Linux system is not normally where you put files.  You might have better success using <code>/mnt/myshare-foldername</code> or similar instead.</p>\n\n<p>An alternative could be to find a way to access the files without needing to mount them.  For example you could use the <code>smbclient</code> command to transfer files between the Docker container and the SMB/CIFS share without needing to mount it, and this will work within the Docker container, just as you might use <code>wget</code> or <code>curl</code> to upload or download files, as is also commonly done in Dockerfiles.</p>\n"}], "owner": {"reputation": 173, "user_id": 4794170, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9209c356b392b78f395cf8af615c2da3?s=128&d=identicon&r=PG&f=1", "display_name": "user4794170", "link": "https://stackoverflow.com/users/4794170/user4794170"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12670, "favorite_count": 1, "closed_date": 1432816950, "answer_count": 2, "score": 3, "last_activity_date": 1535607596, "creation_date": 1432761418, "last_edit_date": 1495540777, "question_id": 30493300, "link": "https://stackoverflow.com/questions/30493300/docker-mount-windows-network-share-inside-container", "closed_reason": "Duplicate", "title": "Docker - Mount Windows Network Share Inside Container", "body": "<p>I have a small Python application that I'd like to run on Linux in Docker (using boot2docker for now). This application reads some data from my Windows network share, which works fine on Windows using the network path but fails on Linux. After doing some research I figured out how to mount a Windows share on Ubuntu. I'm attempting to implement the dockerfile so that it sets up the share for me but have been unsuccessful so far. Below is my current approach, which encounters operation not permitted at the mount command during the build process. </p>\n\n<pre><code>#Sample Python functionality\nimport os\nfolders = os.listdir(r\"\\\\myshare\\folder name\")\n\n#Dockerfile\nRUN apt-get install cifs-utils -y\nRUN mkdir -p \"//myshare/folder name\"\nRUN mount -t cifs \"//myshare/folder name\" \"//myshare/folder name\" -o username=MyUserName,password=MyPassword\n\n#Error at mount during docker build\n#\"mount: error(1): Operation not permitted\"\n#Refer to the mount.cifs(8) manual page (e.g. man mount.cifs)\n</code></pre>\n\n<p><strong>Edit</strong>\nNot a duplicate of <a href=\"https://stackoverflow.com/questions/27989751/mount-smb-cifs-share-within-a-docker-container\">Mount SMB/CIFS share within a Docker container</a>. The solution for that question references a fix during <code>docker run</code>. I can't run <code>--privileged</code> if the docker build process fails.</p>\n\n<hr>\n\n<p><strong>Q: What is the correct way to mount a Windows network share inside a Docker container?</strong></p>\n\n<hr>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2788, "user_id": 1467535, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dfba9abb6e0124bb2ecbaa6a1aafea7d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1467535/abhishek"}, "edited": false, "score": 0, "creation_date": 1432763196, "post_id": 30493289, "comment_id": 49065130, "body": "try these apps: <a href=\"https://www.djangopackages.com/grids/g/admin-interface/\" rel=\"nofollow noreferrer\">djangopackages.com/grids/g/admin-interface</a>"}], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "edited": false, "score": 0, "creation_date": 1432762748, "post_id": 30493319, "comment_id": 49064944, "body": "Tried this, but when navigating to localhost:8000/ it just gave me the django default page with the &#39;no urls are configured&#39; type message"}], "tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 0, "last_activity_date": 1432763052, "last_edit_date": 1432763052, "creation_date": 1432761482, "answer_id": 30493319, "question_id": 30493289, "link": "https://stackoverflow.com/questions/30493289/django-1-8-using-admin-app-as-the-main-site/30493319#30493319", "title": "Django 1.8, Using Admin app as the main site", "body": "<p>Just need to remove <code>admin</code></p>\n\n<pre><code>urlpatterns = [\n    url(r'^/$', include(admin.site.urls)),\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "edited": false, "score": 0, "creation_date": 1432762828, "post_id": 30493396, "comment_id": 49064983, "body": "Do you have any resources on a good way to utilize Django&#39;s Auth system for creating my custom admin/user dashboard system?"}, {"owner": {"reputation": 2994, "user_id": 173308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wazgT.jpg?s=128&g=1", "display_name": "David Watson", "link": "https://stackoverflow.com/users/173308/david-watson"}, "reply_to_user": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "edited": false, "score": 0, "creation_date": 1432763556, "post_id": 30493396, "comment_id": 49065272, "body": "We use django rules which is light and easy-to-use: <a href=\"https://github.com/dfunckt/django-rules\" rel=\"nofollow noreferrer\">github.com/dfunckt/django-rules</a>"}, {"owner": {"reputation": 2994, "user_id": 173308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wazgT.jpg?s=128&g=1", "display_name": "David Watson", "link": "https://stackoverflow.com/users/173308/david-watson"}, "reply_to_user": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "edited": false, "score": 0, "creation_date": 1432763626, "post_id": 30493396, "comment_id": 49065295, "body": "I&#39;d also recommend studying RBAC a bit before committing to an auth system. That said, many django extensions will rely on the app using the default django auth system, so there are definite advantages to sticking to vanilla django and avoiding franken-django. <a href=\"http://en.wikipedia.org/wiki/Role-based_access_control\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Role-based_access_control</a>"}, {"owner": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "edited": false, "score": 0, "creation_date": 1432768804, "post_id": 30493396, "comment_id": 49067005, "body": "I think this is good advice, I will probably utilize Django&#39;s user/group for the log in system and the &#39;django-rules&#39; system for more finite controls (like a user only being able to CRUD their documents). Do you have any current information on extending the basic User class to add a few additional fields?"}], "tags": [], "owner": {"reputation": 2994, "user_id": 173308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wazgT.jpg?s=128&g=1", "display_name": "David Watson", "link": "https://stackoverflow.com/users/173308/david-watson"}, "is_accepted": true, "score": 3, "last_activity_date": 1432761781, "creation_date": 1432761781, "answer_id": 30493396, "question_id": 30493289, "link": "https://stackoverflow.com/questions/30493289/django-1-8-using-admin-app-as-the-main-site/30493396#30493396", "title": "Django 1.8, Using Admin app as the main site", "body": "<p>This seems like a bad idea.</p>\n\n<p>Out of the box, the information architecture presented by the admin interface is going to be very flat where views essentially mirror what's in the database 1:1. I can imagine a slim subset of users in internal IT apps or similar where that may be appropriate but the compromises in usability are serious, without modifying the admin interface so much that you'll probably wish you had done your app the traditional way by the time you were done.</p>\n\n<p>If usability and information architecture are not serious concerns or requirements for your app, then you may proceed apace.</p>\n"}], "owner": {"reputation": 513, "user_id": 3287766, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1c874d7613bf932e28e1855d9da28dd3?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyGreyman", "link": "https://stackoverflow.com/users/3287766/ozzygreyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 30493396, "answer_count": 2, "score": 0, "last_activity_date": 1432763052, "creation_date": 1432761382, "question_id": 30493289, "link": "https://stackoverflow.com/questions/30493289/django-1-8-using-admin-app-as-the-main-site", "title": "Django 1.8, Using Admin app as the main site", "body": "<p>I am about to begin work on a project that will use Django to create a system with three tiers of users. Each user will login into the dashboard type interface (each user will have different types of tools on the dashboard). There will be a few CRUD type interfaces for each user tier among other things. Only users with accounts will be able to interact with the system (anyone visiting is greeted with a login screen).</p>\n\n<p>It seems that many people recommend to simply modify the default Admin app to fit the requirements. Is this an ideal solution and if so, how do I set so the admin interface is at the site's root (instead of admin/). Also, any documentation on in-depth and secure modification of the admin interface (along with the addition of different user tiers) would be appreciated.</p>\n"}, {"tags": ["python", "text", "substitution"], "comments": [{"owner": {"reputation": 3271, "user_id": 3393095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXNaj.jpg?s=128&g=1", "display_name": "Rodrigo L&#243;pez", "link": "https://stackoverflow.com/users/3393095/rodrigo-l%c3%b3pez"}, "edited": false, "score": 0, "creation_date": 1432761519, "post_id": 30493287, "comment_id": 49064359, "body": "Just store file 1 records on dictionary, file 2 have the key of dict and you should replace with value ie dict[key]"}], "answers": [{"comments": [{"owner": {"reputation": 2145, "user_id": 4866484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2eeed273cdbbb92e20ab7fdca5110285?s=128&d=identicon&r=PG&f=1", "display_name": "Hyperion", "link": "https://stackoverflow.com/users/4866484/hyperion"}, "edited": false, "score": 0, "creation_date": 1432765936, "post_id": 30493445, "comment_id": 49066091, "body": "Haven&#39;t tried yours but jrmyp&#39;s code worked perfectly. Dunno what&#39;s people&#39;s problem with this downvoting, I got an idea but didn&#39;t knew how to code it, that&#39;s why I ask here! Thank you by the way"}], "tags": [], "owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "is_accepted": false, "score": 0, "last_activity_date": 1432762455, "last_edit_date": 1432762455, "creation_date": 1432761977, "answer_id": 30493445, "question_id": 30493287, "link": "https://stackoverflow.com/questions/30493287/python-multiple-pairs-replace-in-txt-file/30493445#30493445", "title": "Python multiple pairs replace in txt file", "body": "<p>This should do the trick. It reads the first file and stores the <code>k, v</code> pairs in a dict. That dict is the used to output the <code>v</code> for every <code>k</code> you find in the second file.</p>\n\n<p>But.... if you want to prevent these downvotes it is better to post a code snippet of your own to show what you have tried... Right now your question is a red blanket for the horde of SO'ers that downvote everything that has no code in it. Hell, they even downvote answers because there is no code in the question...</p>\n\n<pre><code>lookup = {}\nwith open(\"first.txt\") as fifile:\n    for line in fifile:\n        lookup[line.split[\":\"][0]] = line.split[\":\"][1] \n\nwith open(\"second.txt\") as sifile:\n    with open(\"output.txt\", \"w\") as ofile:\n        for line in sifile:\n            ofile.write(\"{}\\n\".format(lookup[line])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 418, "user_id": 4605788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8a43db6d854e57be28bc5e5aa9a825?s=128&d=identicon&r=PG&f=1", "display_name": "jrmyp", "link": "https://stackoverflow.com/users/4605788/jrmyp"}, "is_accepted": true, "score": 1, "last_activity_date": 1432762369, "creation_date": 1432762369, "answer_id": 30493529, "question_id": 30493287, "link": "https://stackoverflow.com/questions/30493287/python-multiple-pairs-replace-in-txt-file/30493529#30493529", "title": "Python multiple pairs replace in txt file", "body": "<p>As Rodrigo commented. There are many ways to implement it, but storing the names in a dictionary is probably the way to go.</p>\n\n<pre><code># Read the names\nwith open('names.txt') as f_names:\n    names = dict(line.strip().split(':') for line in f_names)\n\n# Read the numbers\nwith open('numbers.txt') as f_numbers:\n    numbers = list(line.strip() for line in f_numbers)\n\n# Replace numbers with names\nwith open('numbers.txt', 'w') as f_output:\n    for n in numbers:\n        f_output.write(names[n] + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 2145, "user_id": 4866484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2eeed273cdbbb92e20ab7fdca5110285?s=128&d=identicon&r=PG&f=1", "display_name": "Hyperion", "link": "https://stackoverflow.com/users/4866484/hyperion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 30493529, "answer_count": 2, "score": -4, "last_activity_date": 1432762455, "creation_date": 1432761375, "question_id": 30493287, "link": "https://stackoverflow.com/questions/30493287/python-multiple-pairs-replace-in-txt-file", "title": "Python multiple pairs replace in txt file", "body": "<p>I've got 2 .txt files, the first one is organized like this:</p>\n\n<pre><code>1:NAME1\n2:NAME2\n3:NAME3\n...\n</code></pre>\n\n<p>and the second one like this:</p>\n\n<pre><code>1\n1\n1\n2\n2\n2\n3\n</code></pre>\n\n<p>What I want to do is to substitute every line in .txt 2 according to pairs in .txt 1, like this:</p>\n\n<pre><code>NAME1\nNAME1\nNAME1\nNAME2\nNAME2\nNAME2\nNAME3\n</code></pre>\n\n<p>Is there a way to do this? I was thinking to organize the first txt deleting the 1: 2: 3: and read it as an array, then make a loop for i in range(1, number of lines in txt 1) and then in the txt 2 find lines containing \"i\" and substituting with the i-element of the array. But of course I've no idea how to do this.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1432860934, "post_id": 30493252, "comment_id": 49113689, "body": "Unlike forum sites, we don&#39;t use &quot;Thanks&quot;, or &quot;Any help appreciated&quot;, or signatures on <a href=\"https://stackoverflow.com\">Stack Overflow</a>. See &quot;<a href=\"http://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\">Should &#39;Hi&#39;, &#39;thanks,&#39; taglines, and salutations be removed from posts?</a>. BTW, it&#39;s &quot;Thanks in advance&quot;, not &quot;Thanks in advanced&quot;."}, {"owner": {"reputation": 1, "user_id": 3322197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d0d161abb201d6a49fbb055394c2cb0?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Schmidt", "link": "https://stackoverflow.com/users/3322197/bobby-schmidt"}, "reply_to_user": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1432862733, "post_id": 30493252, "comment_id": 49114101, "body": "Sorry about that, will remember for next time."}], "owner": {"reputation": 1, "user_id": 3322197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d0d161abb201d6a49fbb055394c2cb0?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Schmidt", "link": "https://stackoverflow.com/users/3322197/bobby-schmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432860927, "creation_date": 1432761193, "last_edit_date": 1432860927, "question_id": 30493252, "link": "https://stackoverflow.com/questions/30493252/how-can-i-decrease-the-length-of-video-outputted-by-matplotlib", "title": "How can I decrease the length of video outputted by Matplotlib", "body": "<p>I am currently trying to animate a plot of a system's response over 60 seconds. I have successfully animated the response but the animation is 20 minutes long instead of the 60 seconds I would like. The following block is the relevant code:</p>\n\n<pre><code>def animate(i):\n    global x, temp_resp_tar, temp_time, temp_resp_tro, temp_resp_pay\n\n    temp_resp_pay = np.append(temp_resp_pay, payload_horiz[i])\n\n    temp_resp_tro = np.append(temp_resp_tro, resp[i,0])\n\n    temp_resp_tar = np.append(temp_resp_tar, resp[i,2])\n\n    temp_time = np.append(temp_time, x[i])\n\n    tar_resp.set_data(temp_time, temp_resp_tar)\n    tro_resp.set_data(temp_time, temp_resp_tro)\n    pay_resp.set_data(temp_time, temp_resp_pay)\n\n\n\nreturn tar_resp, tro_resp, pay_resp\n\ndef init():\n    global x\n    tar_resp.set_data(x, resp[:,2])\n    tro_resp.set_data(x, resp[:,0])\n    pay_resp.set_data(x, payload_horiz[:])\n\nreturn tar_resp, tro_resp, pay_resp\n\n\nani = animation.FuncAnimation(fig, animate, init_func=init, interval=1, frames=6000, blit=False)\n\n\n\nFFwriter = animation.FFMpegWriter()\nani.save('response.mp4', writer = FFwriter, fps = 60, extra_args = ['-vodec', 'libx264'])\n</code></pre>\n\n<p>Sorry if this is not the most pythonic code, still in the process of learning. My reasoning behind using 6000 frames is that there are 6000 time samples in the simulation (<code>np.arange(0,60,0.01)</code>). I have messed with the interval settings and fps settings with no luck.</p>\n"}, {"tags": ["python", "macos", "bash", "github", "dropbox"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432762240, "post_id": 30493244, "comment_id": 49064695, "body": "Is your path correct?"}, {"owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432762384, "post_id": 30493244, "comment_id": 49064782, "body": "Yes, if I do cd &quot;/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME&quot; in terminal, I &quot;land&quot; in the appropriate directory."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 2, "creation_date": 1432761899, "post_id": 30493301, "comment_id": 49064538, "body": "Thanks, that helps. Unfortunately this gets rid of just the first error, i.e. when I fix the space, close the terminal and reopen, the first of the three errors no longer occur, but I&#39;m still getting the latter two errors."}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 0, "creation_date": 1432762364, "post_id": 30493301, "comment_id": 49064772, "body": "@ericthegreat: Is that <i>exactly</i> what you have in your <code>~&#47;.bash_profile</code>?"}, {"owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 0, "creation_date": 1432762630, "post_id": 30493301, "comment_id": 49064888, "body": "Just accepted the answer from @LMNYC - if I change the export PYTHONPATH to be on the same line it works, no idea why."}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 0, "creation_date": 1432763716, "post_id": 30493301, "comment_id": 49065338, "body": "@ericthegreat: It shouldn&#39;t matter if the <code>export</code> is on the same line or not."}, {"owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 0, "creation_date": 1432764245, "post_id": 30493301, "comment_id": 49065527, "body": "you are totally right, and your last question was correct, I was originally doing export ${PYTHONPATH} which was causing the error, and not export PYTHONPATH. Sorry about that, and many thanks."}], "tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": false, "score": 3, "last_activity_date": 1432761421, "creation_date": 1432761421, "answer_id": 30493301, "question_id": 30493244, "link": "https://stackoverflow.com/questions/30493244/updating-pythonpath-variable-pointing-to-a-dropbox-directory-containing-a-space/30493301#30493301", "title": "Updating PYTHONPATH variable pointing to a dropbox directory containing a space", "body": "<p>Yeah, you put a space before the <code>=</code> sign when exporting <code>PYTHONPATH</code>:</p>\n\n<pre><code>PYTHONPATH =\"/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME\"\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>PYTHONPATH=\"/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "edited": false, "score": 1, "creation_date": 1432762534, "post_id": 30493406, "comment_id": 49064843, "body": "Thanks a lot! This worked. Have no idea why, though - why does doing it in one line rather than two solve the problem?"}], "tags": [], "owner": {"reputation": 4703, "user_id": 1290147, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/86960db52bfc0bcf33fa3cc75a7ae9d8?s=128&d=identicon&r=PG", "display_name": "Luis Miguel", "link": "https://stackoverflow.com/users/1290147/luis-miguel"}, "is_accepted": true, "score": 3, "last_activity_date": 1432762819, "last_edit_date": 1432762819, "creation_date": 1432761826, "answer_id": 30493406, "question_id": 30493244, "link": "https://stackoverflow.com/questions/30493244/updating-pythonpath-variable-pointing-to-a-dropbox-directory-containing-a-space/30493406#30493406", "title": "Updating PYTHONPATH variable pointing to a dropbox directory containing a space", "body": "<p>I had a similar problem a while ago. The error message is indicating that the problem lies in the space in the directory path - the bash_profile is being truncated by the space and it is splitting the path into 2. It may be a problem with the way bash handles spaces, but I am not 100% sure. </p>\n\n<p>Here is one solution that worked for me:</p>\n\n<pre><code>export PYTHONPATH=\"/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME\"\n</code></pre>\n\n<p>It is similar to what you have, but  export and PYTHONPATH are in the same line. I don't think this would interfere with Dropbox, Github, Bitbucket, Anaconda (or any other virtualenv like Enthought) etc., as long as you as have a _init__.py' file in each directory where you have your .py files.</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 183, "user_id": 4946504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58051d71d470832234891bd348e6e114?s=128&d=identicon&r=PG&f=1", "display_name": "ericthegreat", "link": "https://stackoverflow.com/users/4946504/ericthegreat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 2, "accepted_answer_id": 30493406, "answer_count": 2, "score": 3, "last_activity_date": 1432765123, "creation_date": 1432761166, "last_edit_date": 1432765123, "question_id": 30493244, "link": "https://stackoverflow.com/questions/30493244/updating-pythonpath-variable-pointing-to-a-dropbox-directory-containing-a-space", "title": "Updating PYTHONPATH variable pointing to a dropbox directory containing a space", "body": "<p>I'm trying to import a module for python that I have written that is contained in a Dropbox folder whose path contains a space. Following the comments <a href=\"http://www.bdnyc.org/2012/09/17/editing-pythonpath-to-import-modules/\" rel=\"nofollow\">here</a>, I don't want to do a sys.path.append(path_to_repository) every time I use python, I'd rather just update my bash profile to point to the correct Dropbox folder once. </p>\n\n<p>I've tried adapting the code from the previous page by appending the following lines to my ~/.bash_profile:</p>\n\n<pre><code>PYTHONPATH =\"/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME\"\nexport ${PYTHONPATH}\n</code></pre>\n\n<p>When I close the terminal window and reopen, I get the following error message:</p>\n\n<pre><code>-bash: PYTHONPATH: command not found\n-bash: export: `/Users/myusername/Dropbox': not a valid identifier\n-bash: export: `(projectname)/REPOSITORY_NAME': not a valid identifier\n</code></pre>\n\n<p>and (not suprisingly) when I then try to import from the repository in python, I get a module not found:</p>\n\n<pre><code>&gt;&gt;&gt; from REPOSITORY_NAME import myfile\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named REPOSITORY_NAME\n</code></pre>\n\n<p>Does anyone have any solutions?\nSome questions/possibilities I'm thinking of - </p>\n\n<p>1) Does it have anything to do with my Anaconda configuration? (Anaconda runs in a virtual env)</p>\n\n<p>2) Does it has anything to do with the folder with python code being installed in Dropbox?</p>\n\n<p>3) Could it be that spaces in pythonpath are not interpreted correctly?</p>\n\n<p>4) Is there any problem with this being the same directory that syncs to github and bitbucket?</p>\n\n<p>Thanks in advance for your help.</p>\n\n<p>*Edit:</p>\n\n<p>The solution seems to be to 1) erase the extra space in the first line and 2) repalce the ${PYTHONPATH} with PYTHONPATH in the second line, i.e. to adjust ~/.bash_profile to have the following line:</p>\n\n<pre><code>PYTHONPATH=\"/Users/myusername/Dropbox (projectname)/REPOSITORY_NAME\"\nexport PYTHONPATH\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1432761146, "post_id": 30493220, "comment_id": 49064186, "body": "Your <code>json_input[&#39;data&#39;]</code> value is <i>still encoded as JSON</i>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432761207, "post_id": 30493220, "comment_id": 49064207, "body": "Whatever encoded this should be altered to not encode partial data structures before assembling."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432761293, "post_id": 30493220, "comment_id": 49064248, "body": "Clarify your <i>original question</i>; we already showed you there you need to decode the nested JSON documents."}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432762038, "post_id": 30493220, "comment_id": 49064618, "body": "@MartijnPieters - The structure that I get is nested as shown in the program.I don&#39;t have control over creating the structure. I have to decode the nested JSON"}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432762414, "post_id": 30493220, "comment_id": 49064796, "body": "@MartijnPieters - I can&#39;t seem to get <code>tdetails</code> out of the structure."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432803487, "post_id": 30493220, "comment_id": 49079496, "body": "So use <code>json.loads(data)[&#39;Message&#39;]</code>. You have nested JSON documents, you need to decode each one you find."}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "closed_date": 1432761260, "answer_count": 0, "score": 0, "last_activity_date": 1432761081, "creation_date": 1432761081, "question_id": 30493220, "link": "https://stackoverflow.com/questions/30493220/python-program-to-decode-json-structure", "closed_reason": "Duplicate", "title": "Python program to decode JSON structure", "body": "<p>I have the JSON structure shown below and the python code shown below to manipulate the JSON structure.</p>\n\n<pre><code>import json\n\njson_input = { \n    \"msgType\": \"0\",\n    \"tid\": \"1\",\n    \"data\": \"[{\\\"Severity\\\":\\\"warn\\\",\\\"Subject\\\":\\\"Reporting \\\",\\\"Message\\\":\\\"tdetails:{\\\\\\\"Product\\\\\\\":\\\\\\\"Gecko\\\\\\\",\\\\\\\"CPUs\\\\\\\":8,\\\\\\\"Language\\\\\\\":\\\\\\\"en-GB\\\\\\\",\\\\\\\"isEvent\\\\\\\":\\\\\\\"&gt;\n    \"Timestamp\": \"1432703193431\",\n    \"Host\": \"myserver.com\",\n    \"Agent\": \"Experience\",\n    \"AppName\": \"undefined\",\n    \"AppInstance\": \"my_server\",\n    \"Group\": \"UndefinedGroup\"\n}\n\n\n\ndata = json_input['data']\ntdetails = data['Message']\nprint('json_input {} \\n\\ndata {} \\n\\n tdetails {}\\n\\n'.format(json_input,data,tdetails))  \n</code></pre>\n\n<p>I am getting the error.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test_json.py\", line 19, in &lt;module&gt;\n    tdetails = data['Message']\nTypeError: string indices must be integers, not str\n</code></pre>\n\n<p>I want to be able to access the different fields inside <code>data</code> such as <code>severity</code>, <code>subject</code> and also fields inside <code>tdetails</code> such as <code>CPUs</code> and <code>Product</code>. How do I do this?</p>\n"}, {"tags": ["python", "powerpoint"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 4974739, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/AiKVP.jpg?s=128&g=1", "display_name": "Drew Bennett", "link": "https://stackoverflow.com/users/4974739/drew-bennett"}, "edited": false, "score": 0, "creation_date": 1535113449, "post_id": 30494326, "comment_id": 90958110, "body": "Can there be an example of how this would look?"}], "tags": [], "owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "is_accepted": true, "score": 3, "last_activity_date": 1432766441, "creation_date": 1432766441, "answer_id": 30494326, "question_id": 30493200, "link": "https://stackoverflow.com/questions/30493200/changing-font-for-part-of-text-in-python-pptx/30494326#30494326", "title": "Changing font for part of text in python-pptx", "body": "<p>In PowerPoint, font properties are applied to a <em>run</em>. In a way, it is what defines a run; a \"run\" of text sharing the same font treatment, including typeface, size, color, bold/italic, etc.</p>\n\n<p>So to make two bits of text look differently, you need to make them separate runs.</p>\n"}], "owner": {"reputation": 107, "user_id": 4213666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/377fa78fb8ea8a2b06eec77ad9896bf3?s=128&d=identicon&r=PG&f=1", "display_name": "PandaZ", "link": "https://stackoverflow.com/users/4213666/pandaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2868, "favorite_count": 1, "accepted_answer_id": 30494326, "answer_count": 1, "score": 3, "last_activity_date": 1432766441, "creation_date": 1432760987, "question_id": 30493200, "link": "https://stackoverflow.com/questions/30493200/changing-font-for-part-of-text-in-python-pptx", "title": "Changing font for part of text in python-pptx", "body": "<p>I'm using the python-pptx module to create presentations. \nHow can I change the font properties only for a part of the text?</p>\n\n<p><strong>I currently change the font like this:</strong></p>\n\n<pre><code># first create text for shape\nft = pres.slides[0].shapes[0].text_frame\nft.clear()\np = ft.paragraphs[0]\nrun = p.add_run()\nrun.text = \"text\"\n\n# change font\nfrom pptx.dml.color import RGBColor\nfrom pptx.util import Pt\n\nfont = run.font\nfont.name = 'Lato'\nfont.size = Pt(32)\nfont.color.rgb = RGBColor(255, 255, 255)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "python", "asp.net", "visual-studio"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 3715992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyW5H.png?s=128&g=1", "display_name": "the_seeker_who", "link": "https://stackoverflow.com/users/3715992/the-seeker-who"}, "is_accepted": false, "score": 0, "last_activity_date": 1432763213, "creation_date": 1432763213, "answer_id": 30493715, "question_id": 30493175, "link": "https://stackoverflow.com/questions/30493175/sending-json-from-an-asp-net-site-to-python-script/30493715#30493715", "title": "Sending JSON from an asp.net site to Python Script", "body": "<p>For part one you could do this:</p>\n\n<pre><code>import urllib2\nresponse = urllib2.urlopen('http://mysite.io?paramOne=ValueOne/')\n</code></pre>\n\n<p>Now the response object will have your JSON so you can do this:</p>\n\n<pre><code>json = response.read()\n</code></pre>\n\n<p><em>urllib2 has a nice way of preparing URL parameters which you might want</em> to look into.</p>\n"}], "owner": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 624, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432763213, "creation_date": 1432760891, "question_id": 30493175, "link": "https://stackoverflow.com/questions/30493175/sending-json-from-an-asp-net-site-to-python-script", "title": "Sending JSON from an asp.net site to Python Script", "body": "<p>I'd like to preface this by saying that I'm feeling a bit overwhelmed at a summer internship, it's a lot of new technologies and concepts I've never used before and finding good resources to explain these things and not just regurgitate situational tutorials are very scarce. Particularly I'd like to talk about ASP.NET.</p>\n\n<p>What I currently have is a simple webpage made using ASP.NET in visual studio. My general task is to access a database, get the info from the database, turn the data into JSON, and send that data to a python script which will then parse the JSON and do stuff with it, etc.</p>\n\n<p>I am able to get as far as making the JSON object. I can get the user to download the json object as a file, but what I really want to do is just pass it through the network by accessing my web site from the python script using <code>urllib2</code>. This is where I have become completely lost. There are so many terms I've never heard of before, things like services, web APIs, controllers, routing and all these things I've spent hours digging around in and following basic tutorials but still cannot find a firm grasp on the <em>concepts</em> let alone how to accomplish it in a practical manner. </p>\n\n<p>To be completely clear here are my goals:</p>\n\n<ol>\n<li>Send 5 parameters using<code>urllib2</code> in python to my asp.net site</li>\n<li>use these parameters to query the database and get a json object (<strong>COMPLETE</strong>)</li>\n<li>return the json to the python script</li>\n</ol>\n\n<p>I have no idea how to set up a \"service\" or how to even go about doing so. I know that I have to attach it to my website somehow but I'm not sure. Any suggestions or good resources would be much appreciated. I'm just looking for some direction and advice on how to go about accomplishing #1 and #3 on my list.</p>\n\n<p>Thank you for taking the time to read through my post!</p>\n"}, {"tags": ["android", "python", "kivy"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432760977, "post_id": 30493126, "comment_id": 49064092, "body": "Is your indentation correct? All your methods are indented too far, and are part of the <code>build()</code> method, not the <code>TutorialApp</code> class."}, {"owner": {"reputation": 193, "user_id": 2428023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8448b7078ff218470904477a88d17f4?s=128&d=identicon&r=PG", "display_name": "Havik IV", "link": "https://stackoverflow.com/users/2428023/havik-iv"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432764630, "post_id": 30493126, "comment_id": 49065645, "body": "I get the same error even if I move the methods out of the build() and even if they are move to before the build()"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 2428023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8448b7078ff218470904477a88d17f4?s=128&d=identicon&r=PG", "display_name": "Havik IV", "link": "https://stackoverflow.com/users/2428023/havik-iv"}, "edited": false, "score": 0, "creation_date": 1432824683, "post_id": 30504401, "comment_id": 49095508, "body": "How do I go about instantiating the screen in the build method? Do I just return the class and define it&#39;s content in the TableScreen Class?"}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 0, "last_activity_date": 1432810035, "creation_date": 1432810035, "answer_id": 30504401, "question_id": 30493126, "link": "https://stackoverflow.com/questions/30493126/nonetype-object-has-no-attribute-generate-ticket/30504401#30504401", "title": "&#39;NoneType&#39; object has no attribute &#39;generate_ticket&#39;", "body": "<p>You instantiate a TableScreen in the build method, before <code>app.root</code> has been set, so app.root.generate_ticket doesn't exist.</p>\n\n<p>One option would be to set the TableScreen content directly in the build method rather than with a kv rule.</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 2428023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8448b7078ff218470904477a88d17f4?s=128&d=identicon&r=PG", "display_name": "Havik IV", "link": "https://stackoverflow.com/users/2428023/havik-iv"}, "is_accepted": true, "score": 0, "last_activity_date": 1433637826, "creation_date": 1433637826, "answer_id": 30688940, "question_id": 30493126, "link": "https://stackoverflow.com/questions/30493126/nonetype-object-has-no-attribute-generate-ticket/30688940#30688940", "title": "&#39;NoneType&#39; object has no attribute &#39;generate_ticket&#39;", "body": "<p>I tried doing it that way inclement suggested but I couldn't properly define the screen in the build method, so I tried to fiddle with the code in kv language and was able to fix the problem. I feel really stupid for not realizing sooner. I just needed to remove root from str(app.root.generate_ticket(app.root.loadTable('SuperLotto'))) and that solved the problem.</p>\n"}], "owner": {"reputation": 193, "user_id": 2428023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8448b7078ff218470904477a88d17f4?s=128&d=identicon&r=PG", "display_name": "Havik IV", "link": "https://stackoverflow.com/users/2428023/havik-iv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 30688940, "answer_count": 2, "score": 0, "last_activity_date": 1433637826, "creation_date": 1432760713, "question_id": 30493126, "link": "https://stackoverflow.com/questions/30493126/nonetype-object-has-no-attribute-generate-ticket", "title": "&#39;NoneType&#39; object has no attribute &#39;generate_ticket&#39;", "body": "<p>I'm not sure why I'm getting this error. I'm fairly new to kivy and the error might be obvious to those more experience with kivy so please impart your knowledge on to me. I'm assuming that I'm not using the function call properly in the kv language or that I didn't define the functions in the right place. If that is the case can anyone give a few pointers how to go about doing that properly.</p>\n\n<p>BTW I know that some of the libraries don't have recipes for python-for-android as of the moment, I'll get to that later. I also know that I'll have to find a workaround for matplotlib/use some other method for graphing once I'm ready to port to my device.</p>\n\n<p>here's my code for main.py:</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.scatter import Scatter\nfrom kivy.uix.label import Label\nfrom kivy.uix.floatlayout import FloatLayout\nfrom kivy.uix.textinput import TextInput\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.uix.screenmanager import ScreenManager, Screen\nfrom kivy.uix.gridlayout import GridLayout\nfrom kivy.uix.relativelayout import RelativeLayout\nfrom kivy.core.window import Window\nfrom kivy.uix.image import Image\nfrom kivy.graphics import BorderImage\nfrom kivy.graphics import Color, Rectangle, Line\n\n\nimport random\nimport matplotlib.pyplot as plt\nimport pandas as pd\n#import pylab as pl\nimport requests\nimport openpyxl as xl\n#from operator import itemgetter\nfrom collections import Counter\nfrom lxml import html\nimport numpy as np\n\nclass HomeScreen(Screen):\n    pass\n\nclass LotterySelcetionScreen(Screen):\n    pass\n\nclass TableScreen(Screen):\n    pass\n\nclass TutorialApp(App):\n\n    screen_manager = None\n\n    def build(self):\n        #Window.clearcolor = (1,1,1,1)\n        self.screen_manager = ScreenManager()\n        self.screen_manager.add_widget(HomeScreen(name='home'))\n        self.screen_manager.add_widget(LotterySelcetionScreen(name='lottery_selection'))\n        self.screen_manager.add_widget(TableScreen(name='table'))\n\n        #function to load the table form the excel file corresponding to the passed sheet name\n        def loadTable(self, sheetName):\n            lotteryData = pd.ExcelFile(\"Lottery databases.xlsx\") #grabs and loads the file into memory\n            df = lotteryData.parse(sheetName) #loads the data table form the corresponding sheetName into the df data frame\n            return df\n\n        #function to display the table\n        def showTable(self, table):\n            #get the number of rows the table has\n            no_of_rows = len(table.index)\n            #display the table\n\n            return table.head(no_of_rows)\n\n        #function to display pie charts of a specific column within the database\n        #table is the database that the function will be working with\n        #and column is a numberical vaule of which column to get the data from\n        def printPieChart(self, table, column):\n            if column == 6:\n                columnList = table.iloc[:, -1:].values.T.ravel()\n            else:\n                columnList = table.iloc[:, (column - 7): (column - 6)].values.T.ravel()\n            countedList = Counter(columnList)\n\n            #set up the size of the pie chart\n            fig = plt.figure(figsize=[10, 10])\n            ax = fig.add_subplot(111)\n            cmap = plt.prism()\n\n            #input variables for pie function\n            slices = [float(v) for v in countedList.values()]\n            colors = cmap(np.linspace(0., 1., len(slices)))\n            labels = [float(k) for k in countedList]\n            columnHeaders = list(table.columns.values)\n\n            #the pie chart\n            pie_wedge_collection = ax.pie(slices, colors = colors, labels = labels, labeldistance = 1.05, autopct = '%1.1f%%')\n            #get rid of the black outlines between the wedges and around the pie\n            for pie_wedge in pie_wedge_collection[0]:\n                pie_wedge.set_edgecolor('white')\n            ax.set_title(columnHeaders[column + 1])\n            #can't display a Legends as there's too many for plt.legends() too handle\n            #return pyplot.pie([float(v) for v in countedList.values()], labels = [float(k) for k in countedList])\n\n        def updateDatabase(self):\n            wb = xl.load_workbook(\"Lottery databases.xlsx\") #load the workbook into memory\n\n            #list of the sheet names within the workbook\n            sheetnames = [\"SuperLotto\", \"MegaMillions\", \"Powerball\"]\n            days = [\"Tue. \", \"Wed. \", \"Fri. \", \"Sat. \"] #days the draws on done on\n            #list of the webpages to use grab the new draws\n            webPages = ['http://www.calottery.com/play/draw-games/superlotto-plus/winning-numbers', 'http://www.calottery.com/play/draw-games/mega-millions/winning-numbers', 'http://www.calottery.com/play/draw-games/powerball/winning-numbers']\n            x = 3\n            while x != 0:\n                ws = wb.get_sheet_by_name(sheetnames[x-1]) # which sheet to update\n                rowIndex = ws.get_highest_row() # gets the highest row index in the sheet\n                lastCellValue = ws.cell(row = rowIndex - 1, column = 0).value #gets the last value in the first column, draw number\n                page = requests.get(webPages[x-1]) #grabs the webpage needed\n                tree = html.fromstring(page.text) #puts the webpage into a tree structure to make it easy to traverse\n                #get the newest draw and date from the webpage for comparasion purposes\n                draw_and_date = tree.xpath('//*[@id=\"objBody_content_0_pagecontent_0_objPastWinningNumbers_rptPast_ctl01_lblDrawDateNumber\"]/text()')\n                #if the table is up to date, it will move on to the next table else it will update it \n                y = int(draw_and_date[0][-4:]) - int(lastCellValue) # checks to see how many draws are missing from the table\n                if y == 0:\n                    #print(\"The table for \" + sheetnames[x-1] + \" is up to date.\")\n                    x -= 1 #decrement x by 1 to move on to the next table\n                else:\n                    #while loop to check if the table needs to be updated or not, if yes it will update it\n                    while y != 0:\n                        #grabs the draw and date of the missing draws from the table\n                        draw_and_date = tree.xpath('//*[@id=\"objBody_content_0_pagecontent_0_objPastWinningNumbers_rptPast_ctl0' + str(y) + '_lblDrawDateNumber\"]/text()')\n                        numbers = tree.xpath(\".//*[@id='content']/div[3]/table/tr[\" + str(y) + \"]/td[2]/span/text()\") #numbers\n                        numbers = [int(x) for x in numbers] # converts the text to integers\n                        numbers.sort() #sort the number from smallest to largest\n                        mega = tree.xpath(\".//*[@id='content']/div[3]/table/tr[\" + str(y) + \"]/td[3]/text()\") #mega number\n                        mega = int(mega[0]) # converts the text to integers\n                        #write to the file\n                        if sheetnames[x-1] == \"MegaMillions\":\n                            d = 0\n                        else:\n                            d = 1\n                        if int(draw_and_date[0][-4:]) % 2 == 0:\n                            # if the draw date is even then the day is a Friday/Saturday\n                            ws.append([int(draw_and_date[0][-4:]), (days[d+2] + draw_and_date[0][:12]), numbers[0], numbers[1], numbers[2], numbers[3], numbers[4], mega]) # print the draw date\n                        else:\n                            # if the draw date is odd then the day is a Tuesday/Wednesday\n                            ws.append([int(draw_and_date[0][-4:]), (days[d] + draw_and_date[0][:12]), numbers[0], numbers[1], numbers[2], numbers[3], numbers[4], mega])\n                        y -= 1 #decrement y by 1 to get the next missing draw\n                    #print(\"Updated the \" + sheetnames[x-1] + \" table successfully!\")\n                    x -= 1 #decrement x by 1 to move on to the next table\n            wb.save(\"Lottery databases.xlsx\") #save the workbook\n            #print(\"Saved the database Sucessfully!\")\n\n        # function to get a list of the occurring numbers in each column\n        # 6 for the first number columns or 1 for the mega/powerball column\n        def getPopularList(self, table, x):\n            popular_list = list()\n            if x != 1:\n                while x != 0:\n                    column_list = table.iloc[:, (0 - x): (1 - x)].values.T.ravel() # the all of the values in the column\n                    counted_list = Counter(column_list) # counts how many time each value occurs within the column\n                    top_five = counted_list.most_common(5) # the top five within the column\n                    top_five.sort() # sorts the top five\n                    popular_list = popular_list + top_five\n                    x -= 1 # decrement x by 1\n            else:\n                column_list = table.iloc[:, (0 - x):].values.T.ravel() # the all of the values in the column\n                counted_list = Counter(column_list) # counts how many time each value occurs within the column\n                top_ten = counted_list.most_common(10) # the top five within the column\n                top_ten.sort() # sorts the top five\n                popular_list = popular_list + top_ten\n            #popular_list is actually a tuple of list which contains the value and how many times that value occured\n            #but we only want the values by themselves\n            popular_list_values = [y[0] for y in popular_list] #this gives us a list of the values\n            return popular_list_values\n\n        # Function to generate a ticket based on the popular numbers in the lottery\n        def generate_ticket(self, table):\n            firstFive = self.getPopularList(table, 6) # get the popular numbers for the first five slots\n            mega = self.getPopularList(table, 1) # gets the popular numbers for the mega/powerball slot\n            five = self.getNumbers(firstFive, 5) # gets first five numbers for the ticket\n            one = self.getNumbers(mega, 1) #gets the mega/powerball for the ticket\n            five.append(one)\n            return five\n\n        #function to get numbers\n        def getNumbers(self, numbers_list, x):\n            numbers = list() #empty list\n            rand_range_list = list(range(0, len(numbers_list))) #list of the numbers to choice from at random\n            if x != 1:\n                while x != 0:\n                    y = random.choice(rand_range_list) #pick a number\n                    #it's not making the list properly at the moment, FIX IT!\n                    #numbers = numbers + numbers_list[y] #add a number to our list to return\n                    numbers.append(numbers_list[y]) #append the number to the end of the list\n                    rand_range_list.remove(y) #remove y from our rand_range_list to prevent any repeats\n                    x -= 1\n            else:\n                numbers = random.choice(numbers_list) # add a number to our list to return\n            return numbers\n\n        # function to print the ticket based on which lottery it's from\n        def printTicket(self, ticket, lottery):\n            #small bubblesort for the first five numbers\n            for x in range(1, 5):\n                for y in range(0, 4):\n                    if ticket[y] &gt; ticket[y + 1]:\n                        temp = ticket[y]\n                        ticket[y] = ticket[y + 1]\n                        ticket[y + 1] = temp\n            #print statements depending on the lottery\n            #print the ticket without any brackets\n            if lottery != \"Powerball\":\n                return str(ticket)[1:-4] + \" Mega \" + str(ticket[-1])\n            else:\n                return str(ticket)[1:-4] + \" Powerball \" + str(ticket[-1])\n\n        return self.screen_manager \n\nif __name__ == '__main__':\n    TutorialApp().run()\n</code></pre>\n\n<p>My tutorial.kv:</p>\n\n<pre><code>&lt;HomeScreen&gt;:\n    RelativeLayout:\n        Image:\n            source: 'images/background3.jpg'\n            size_hint: None, None\n            size: self.texture_size\n            pos: self.pos\n        Button:\n            font_size: sp(30)\n            text: 'Select Lottery'\n            size_hint_x: None\n            width: self.texture_size[0]\n            size_hint_y: None\n            height: self.texture_size[1]\n            pos: root.width / 2 - (self.width / 2), root.height / 2\n            on_press: root.manager.current = 'lottery_selection'\n        Button:\n            size_hint_x: None\n            width: self.texture_size[0]\n            size_hint_y: None\n            height: self.texture_size[1]\n            pos: root.width - self.width, 0\n            font_size: sp(30)\n            text: 'Quit'\n            on_press: app.stop()\n\n&lt;LotterySelcetionScreen&gt;:\n    BoxLayout:\n        orientation: 'vertical'\n        Button:\n            text: 'SuperLotto'\n            on_press: root.manager.current = 'table'\n        Button:\n            text: 'MegaMillions'\n        Button:\n            text: 'Powerball'\n        Button:\n            text: 'Back to home'\n            on_press: root.manager.current = 'home'\n\n&lt;TableScreen&gt;:\n    RelativeLayout:\n        Label:\n            id: label1\n            text: str(app.root.generate_ticket(app.root.loadTable('SuperLotto')))\n            height: 150\n</code></pre>\n\n<p>here's the Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"/home/havik/workspace/kivyapp2.7/main.py\", line 384, in &lt;module&gt;\n     TutorialApp().run()\n   File \"/usr/lib/python2.7/dist-packages/kivy/app.py\", line 798, in run\n     root = self.build()\n   File \"/home/havik/workspace/kivyapp2.7/main.py\", line 207, in build\n     self.screen_manager.add_widget(TableScreen(name='table'))\n   File \"/usr/lib/python2.7/dist-packages/kivy/uix/relativelayout.py\", line 255, in __init__\n     super(RelativeLayout, self).__init__(**kw)\n   File \"/usr/lib/python2.7/dist-packages/kivy/uix/floatlayout.py\", line 66, in __init__\n     super(FloatLayout, self).__init__(**kwargs)\n   File \"/usr/lib/python2.7/dist-packages/kivy/uix/layout.py\", line 66, in __init__\n     super(Layout, self).__init__(**kwargs)\n   File \"/usr/lib/python2.7/dist-packages/kivy/uix/widget.py\", line 271, in __init__\n     Builder.apply(self)\n   File \"/usr/lib/python2.7/dist-packages/kivy/lang.py\", line 1872, in apply\n     self._apply_rule(widget, rule, rule)\n   File \"/usr/lib/python2.7/dist-packages/kivy/lang.py\", line 2018, in _apply_rule\n     e), cause=tb)\n kivy.lang.BuilderException: Parser: File \"/home/havik/workspace/kivyapp2.7/tutorial.kv\", line 45:\n ...\n      43:       Label:\n      44:           id: label1\n &gt;&gt;   45:           text: str(app.root.generate_ticket(app.root.loadTable('SuperLotto')))\n      46:           height: 150\n ...\n BuilderException: Parser: File \"/home/havik/workspace/kivyapp2.7/tutorial.kv\", line 45:\n ...\n      43:       Label:\n      44:           id: label1\n &gt;&gt;   45:           text: str(app.root.generate_ticket(app.root.loadTable('SuperLotto')))\n      46:           height: 150\n ...\n AttributeError: 'NoneType' object has no attribute 'generate_ticket'\n   File \"/usr/lib/python2.7/dist-packages/kivy/lang.py\", line 1649, in create_handler\n     return eval(value, idmap)\n   File \"/home/havik/workspace/kivyapp2.7/tutorial.kv\", line 45, in &lt;module&gt;\n     text: str(app.root.generate_ticket(app.root.loadTable('SuperLotto')))\n\n   File \"/usr/lib/python2.7/dist-packages/kivy/lang.py\", line 2011, in _apply_rule\n     value, rule, rctx['ids'])\n   File \"/usr/lib/python2.7/dist-packages/kivy/lang.py\", line 1654, in create_handler\n     cause=tb)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1432760713, "post_id": 30493095, "comment_id": 49063933, "body": "Can you give a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> about what you want to do? or the code that you have tried so far?"}, {"owner": {"reputation": 4403, "user_id": 2201050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54a421b64c0fa2a710f5275f42133d7?s=128&d=identicon&r=PG", "display_name": "folkol", "link": "https://stackoverflow.com/users/2201050/folkol"}, "edited": false, "score": 2, "creation_date": 1432760791, "post_id": 30493095, "comment_id": 49063976, "body": "If you explain why you would not want to use a &quot;built-in lib&quot;, people might understand what you are actually asking for. If it is just for educational purposes, read this: <a href=\"http://en.wikipedia.org/wiki/BMP_file_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/BMP_file_format</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2813, "user_id": 821093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad71a7b4a9f344b95c9fd3e2e4e41751?s=128&d=identicon&r=PG", "display_name": "Delimitry", "link": "https://stackoverflow.com/users/821093/delimitry"}, "is_accepted": true, "score": 8, "last_activity_date": 1433025485, "last_edit_date": 1433025485, "creation_date": 1432762551, "answer_id": 30493575, "question_id": 30493095, "link": "https://stackoverflow.com/questions/30493095/python-code-without-libraries/30493575#30493575", "title": "python code without libraries", "body": "<p>Using the <a href=\"http://en.wikipedia.org/wiki/BMP_file_format\" rel=\"nofollow noreferrer\">BMP file format</a> you can simply create own BMP file:</p>\n\n<pre><code>import math\nimport struct\n\nwidth = 200\nheight = 200\nbits_per_pixel = 24\n\n# bitmap file header\ndata = 'BM' # Windows 3.1x, 95, NT, ... etc.\ndata += struct.pack('i', 26 + bits_per_pixel / 8 * width * height) # The size of the BMP file in bytes = header + (color bytes * w * h)\ndata += struct.pack('h', 0) # Reserved\ndata += struct.pack('h', 0) # Reserved\ndata += struct.pack('i', 26) # The offset, i.e. starting address, of the byte where the bitmap image data (pixel array) can be found.\n# bitmap header (BITMAPCOREHEADER)\ndata += struct.pack('i', 12) # The size of this header (12 bytes)\ndata += struct.pack('h', width) # width\ndata += struct.pack('h', height) # height\ndata += struct.pack('h', 1) # The number of color planes, must be 1\ndata += struct.pack('h', bits_per_pixel) # The number of bits per pixel, which is the color depth of the image. Typical values are 1, 4, 8, 16, 24 and 32.\n\ndef rgb_to_bmp_data(r, g, b):\n    return chr(b) + chr(g) + chr(r)\n\nrow_bytes = width * (bits_per_pixel / 8)\nrow_padding = int(math.ceil(row_bytes / 4.0)) * 4 - row_bytes\n\nfor y in xrange(height - 1, -1, -1):\n    for x in xrange(width):\n        if (y / 25) % 2:\n            if (x / 25) % 2:\n                data += rgb_to_bmp_data(255, 255, 255)\n            else:\n                data += rgb_to_bmp_data(0, 0, 0)\n        else:\n            if (x / 25) % 2:\n                data += rgb_to_bmp_data(0, 0, 0)\n            else:\n                data += rgb_to_bmp_data(255, 255, 255)\n    # add padding\n    data += '\\x00' * row_padding\n\nwith open('out.bmp', 'wb') as f:\n    f.write(data)\n</code></pre>\n\n<p>The image result is close to what you need:</p>\n\n<p><img src=\"https://i.stack.imgur.com/APtcL.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 351, "user_id": 4565144, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/fef5bd11b6e3d7749f2ca8ccf1da1f70?s=128&d=identicon&r=PG&f=1", "display_name": "Raees Khan", "link": "https://stackoverflow.com/users/4565144/raees-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 1, "closed_date": 1432764665, "accepted_answer_id": 30493575, "answer_count": 1, "score": -1, "last_activity_date": 1433025485, "creation_date": 1432760625, "last_edit_date": 1432764529, "question_id": 30493095, "link": "https://stackoverflow.com/questions/30493095/python-code-without-libraries", "closed_reason": "Needs details or clarity", "title": "python code without libraries", "body": "<p>I want to create a bmp image in python without using any built-in library, the image like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZgrMG.png\" alt=\"enter image description here\"></p>\n\n<p>please tell how can I do this?</p>\n"}, {"tags": ["python", "windows", "module", "installation", "lxml"], "comments": [{"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1432760850, "post_id": 30493031, "comment_id": 49064012, "body": "he, he.  not gonna make any great suggestions, but I had some unpleasantness pip-ing libxml on Ubuntu with Chef.  Or, not installing it, rather as I only needed it for some unit testing, which I could do elsewhere.  What I did find was that lxml, on Linux, has non-PIP dependencies apparently.  Yeah, I know, Windows, not Linux, but maybe you&#39;ll see something of interest @ <a href=\"http://stackoverflow.com/questions/6504810/how-to-install-lxml-on-ubuntu\" title=\"how to install lxml on ubuntu\">stackoverflow.com/questions/6504810/&hellip;</a>  Is there a prereq you need to install manually?"}, {"owner": {"reputation": 891, "user_id": 4933054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11964ac5d0b70fd8ab9255c80bace187?s=128&d=identicon&r=PG", "display_name": "SigmaXD", "link": "https://stackoverflow.com/users/4933054/sigmaxd"}, "reply_to_user": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1432762187, "post_id": 30493031, "comment_id": 49064678, "body": "@JLPeyret - There&#39;s no prerequisites except getting my laptop to work PyCharm with lxml. I just need to get the environment to work. I don&#39;t know why it&#39;s such a pain to get a module installed on Windows. If there&#39;s a better approach, I&#39;ll try anything."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1432765956, "post_id": 30493031, "comment_id": 49066102, "body": "What I meant is that lxml, on Ubuntu, <b>apparently</b> needs to find some packages installed that would be put in via apt-get, not pip.  So you can bang your head into pip all you want in that case, it will blow up if it doesn&#39;t have the right files from those other packages.  I was just pointing the possibility of there being a similar pre-requisite install for lxml on Windows.  Which you then presumably need to install an .exe or .msi file for in advance of running pip.  On Ubuntu at least, it&#39;s not like it was at all obvious from lxml&#39;s pip errors which were all over the place."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1432766237, "post_id": 30493031, "comment_id": 49066218, "body": "See also <a href=\"https://pypi.python.org/pypi/lxml/3.4.0\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/lxml/3.4.0</a> and <a href=\"http://lxml.de/installation.html\" rel=\"nofollow noreferrer\">lxml.de/installation.html</a> notes about using binaries."}], "answers": [{"comments": [{"owner": {"reputation": 17914, "user_id": 1331671, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0b78be3515d4822fcfa907b0f184a288?s=128&d=identicon&r=PG", "display_name": "Ron", "link": "https://stackoverflow.com/users/1331671/ron"}, "edited": false, "score": 0, "creation_date": 1472720510, "post_id": 30494745, "comment_id": 65868858, "body": "You saved my life!"}, {"owner": {"reputation": 172, "user_id": 2382803, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nzxYh.jpg?s=128&g=1", "display_name": "SubhasisM", "link": "https://stackoverflow.com/users/2382803/subhasism"}, "edited": false, "score": 0, "creation_date": 1472759784, "post_id": 30494745, "comment_id": 65894211, "body": "Thanks a toooonnnn!! ....I was working on solving this for the last 5 hrs...tried installing lxml with pip...did not work...then tried its dependencies libxml2 and libxslt individually...did not work...tried installing visual c++ for libxml2...that did not work too...in short none of the googled solution worked, save for this. this is the perfect solution and went exactly as per the steps written above."}, {"owner": {"reputation": 592, "user_id": 3553260, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fbd7dcb2d47ddcd7e6a799bde3ec0ef6?s=128&d=identicon&r=PG&f=1", "display_name": "user3553260", "link": "https://stackoverflow.com/users/3553260/user3553260"}, "edited": false, "score": 0, "creation_date": 1474156162, "post_id": 30494745, "comment_id": 66417079, "body": "Uninstalling Python 3.5.2 and installing Python 3.4.4 worked for me. Didn&#39;t even have this issue in the cmd prompt after doing this. lxml installed right away."}, {"owner": {"reputation": 589, "user_id": 1438076, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65e8c0dbca37d273d59eab316adaf2f4?s=128&d=identicon&r=PG", "display_name": "windsound", "link": "https://stackoverflow.com/users/1438076/windsound"}, "edited": false, "score": 0, "creation_date": 1477279432, "post_id": 30494745, "comment_id": 67684784, "body": "Manually install lxml is God-like solution, saved me hours!"}, {"owner": {"reputation": 3286, "user_id": 2288986, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/56b7378fe29a9f70c7eceab7b5a9865d?s=128&d=identicon&r=PG", "display_name": "Gordon Bean", "link": "https://stackoverflow.com/users/2288986/gordon-bean"}, "edited": false, "score": 0, "creation_date": 1592859993, "post_id": 30494745, "comment_id": 110571329, "body": "When trying to install the wheel, I got an error (<code>lxml-4.5.1-cp38-cp38-win_amd64.whl is not a supported wheel on this platform.</code>) This site had instructions for how to get around the issue (Google Translate for the win!): <a href=\"https://blog.csdn.net/ourjaycn/article/details/106718952\" rel=\"nofollow noreferrer\">blog.csdn.net/ourjaycn/article/details/106718952</a> By renaming the wheel to <code>lxml-4.5.1-cp38-cp38m-win_amd64.whl</code> (note the &#39;m&#39; in &quot;cp38m&quot;), it installed successfully."}], "tags": [], "owner": {"reputation": 891, "user_id": 4933054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11964ac5d0b70fd8ab9255c80bace187?s=128&d=identicon&r=PG", "display_name": "SigmaXD", "link": "https://stackoverflow.com/users/4933054/sigmaxd"}, "is_accepted": true, "score": 61, "last_activity_date": 1432768808, "creation_date": 1432768808, "answer_id": 30494745, "question_id": 30493031, "link": "https://stackoverflow.com/questions/30493031/installing-lxml-libxml2-libxslt-on-windows-8-1/30494745#30494745", "title": "Installing lxml, libxml2, libxslt on Windows 8.1", "body": "<p>I was able to fix the installation with the following steps. I hope others find this helpful.</p>\n\n<p>My installation of \"pip\" was working fine before the problem. I went to the Windows command line and made sure that \"wheel\" was installed.</p>\n\n<pre><code>C:\\Python34&gt;python -m pip install wheel\nRequirement already satisfied (use --upgrade to upgrade): wheel in c:\\python34\\lib\\site-packages\n</code></pre>\n\n<p>After that I downloaded the lxml file from <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml</a> and placed it in my python directory \"C:\\Python34\"</p>\n\n<p>In that directory I ran the following:</p>\n\n<pre><code>C:\\Python34&gt;python -m pip install lxml-3.4.4-cp34-none-win32.whl\n</code></pre>\n\n<p>The results were:</p>\n\n<pre><code>Processing c:\\python34\\lxml-3.4.4-cp34-none-win32.whl\nInstalling collected packages: lxml\nSuccessfully installed lxml-3.4.4\n</code></pre>\n\n<p>I opened PyCharm and lxml module was available. I was able to execute the code without problem.</p>\n\n<p>What I learned (though this may be corrected by others more knowledgeable)</p>\n\n<ol>\n<li>Need to install the desired module (as a \"*.whl\" file) using pip and wheel.</li>\n<li>Using Dropbox to share a code folder with different PyCharm installations causes confusion for the \"workspace.xml\" file. The two computers kept writing over each other, messing up the installation paths. </li>\n</ol>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 6815750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206792815810073/picture?type=large", "display_name": "RockAndRoleCoder", "link": "https://stackoverflow.com/users/6815750/rockandrolecoder"}, "is_accepted": false, "score": 5, "last_activity_date": 1473825443, "last_edit_date": 1473825443, "creation_date": 1473820962, "answer_id": 39481720, "question_id": 30493031, "link": "https://stackoverflow.com/questions/30493031/installing-lxml-libxml2-libxslt-on-windows-8-1/39481720#39481720", "title": "Installing lxml, libxml2, libxslt on Windows 8.1", "body": "<p>My situation was a lot like this. I have Python 3.4 installed on my Laptop for work, and we're in a tight security, so I can't just install 3.5 without getting system admin to do it.</p>\n\n<p>So I hit up Python Extension site here:</p>\n\n<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml\" rel=\"noreferrer\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml</a></p>\n\n<p>Pulled the wheel file for lxml that matched my specs:</p>\n\n<pre><code>lxml-3.6.4-cp34-cp34m-win_amd64.whl\n</code></pre>\n\n<p>And then just typed:</p>\n\n<pre><code>pip install lxml-3.6.4-cp34-cp34m-win_amd64.whl\n</code></pre>\n\n<p>And it installed right away.</p>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 5356599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DDzqr.jpg?s=128&g=1", "display_name": "h3xh4wk", "link": "https://stackoverflow.com/users/5356599/h3xh4wk"}, "is_accepted": false, "score": 0, "last_activity_date": 1506019965, "creation_date": 1506019965, "answer_id": 46351244, "question_id": 30493031, "link": "https://stackoverflow.com/questions/30493031/installing-lxml-libxml2-libxslt-on-windows-8-1/46351244#46351244", "title": "Installing lxml, libxml2, libxslt on Windows 8.1", "body": "<p>I started working with lxml a little while ago, when there was a need to parse some html files. I somehow installed it and then after some time I lost the installation because of PC format. </p>\n\n<p>Installing lxml on Windows from the available binaries/wheels is quite easy. The below link has the binaries/wheels in case you need them.</p>\n\n<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml\" rel=\"nofollow noreferrer\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml</a></p>\n\n<p>After downloading the wheel file as per your Windows you can issue the below command\n<code>pip install &lt;pathtoyourdownloadedwheelfile&gt;\n</code></p>\n\n<p>And In case you are using git-sdk-win32 for Windows, You can first search the <code>libxml2-devel</code>,<code>libxml2-python</code> and <code>libxslt-devel</code>, <code>libxslt-python</code> using <code>pacman</code> by issuing the below command.</p>\n\n<p><code>pacman -Ss libxml2\n</code></p>\n\n<p>and </p>\n\n<p><code>pacman -Ss libxslt\n</code></p>\n\n<p>then you can install lxml using the below command</p>\n\n<p><code>pip install lxml\n</code>\nIt might fail to build the wheel(as it did for me) but will install <code>lxml</code> using the <code>setup.py</code></p>\n\n<p>I simply have started loving this git-win32-sdk. It helps me work on my Windows with what I have learnt on Linux.</p>\n\n<p><a href=\"https://github.com/git-for-windows/build-extra/releases\" rel=\"nofollow noreferrer\">https://github.com/git-for-windows/build-extra/releases</a></p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 859277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OS6us.png?s=128&g=1", "display_name": "Roger Iyengar", "link": "https://stackoverflow.com/users/859277/roger-iyengar"}, "is_accepted": false, "score": 0, "last_activity_date": 1541127214, "creation_date": 1541127214, "answer_id": 53112077, "question_id": 30493031, "link": "https://stackoverflow.com/questions/30493031/installing-lxml-libxml2-libxslt-on-windows-8-1/53112077#53112077", "title": "Installing lxml, libxml2, libxslt on Windows 8.1", "body": "<p>This issue appears to be fixed as of lxml version 4.2.5.</p>\n\n<p>If you're still getting this error and you're specifying a specific version of lxml in a requirements file, try updating the requirements file to specify lxml version 4.2.5 or above.</p>\n\n<p>I had this error with lxml 4.2.1. But it was fixed when I changed the requirement to lxml 4.2.5.</p>\n"}], "owner": {"reputation": 891, "user_id": 4933054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11964ac5d0b70fd8ab9255c80bace187?s=128&d=identicon&r=PG", "display_name": "SigmaXD", "link": "https://stackoverflow.com/users/4933054/sigmaxd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47873, "favorite_count": 12, "protected_date": 1479564134, "accepted_answer_id": 30494745, "answer_count": 4, "score": 25, "last_activity_date": 1541127214, "creation_date": 1432760364, "last_edit_date": 1471133831, "question_id": 30493031, "link": "https://stackoverflow.com/questions/30493031/installing-lxml-libxml2-libxslt-on-windows-8-1", "title": "Installing lxml, libxml2, libxslt on Windows 8.1", "body": "<h2>After additional exploration, I found a solution to installing lxml with pip and wheel. Additional comments on approach welcomed.</h2>\n\n<p>I'm finding the existing Python documentation for Linux distributions excellent. For Windows... not so much. I've configured my Linux system fine but I need some help getting a Windows 8.1 tablet ready as well.</p>\n\n<p>My project requires the lxml module for Python 3.4. I've found many tutorials on how to install lxml but each has failed.</p>\n\n<p><a href=\"https://docs.python.org/3/installing/\">https://docs.python.org/3/installing/</a>\nI've downloaded the \"get-pip.py\" and successfully ran it from the Windows cmd line with the result:</p>\n\n<pre><code>Requirement already up-to-date: pip in c:\\python34\\lib\\site-packages\n</code></pre>\n\n<p>So I don't think that I have a \"pip\" problem. From there I've run the following from the Windows cmd line:</p>\n\n<pre><code>python -m pip install lxml\n</code></pre>\n\n<p>A long list of commands scroll through but there are a couple of lines that appear to be errors that I'm unable to resolve.</p>\n\n<pre><code>  ERROR: b\"'xslt-config' is not recognized as an internal or external command,\\r\\noperable program or batch file.\\r\\n\"\n  ** make sure the development packages of libxml2 and libxslt are installed **\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Failed building wheel for lxml\n</code></pre>\n\n<p>And the last part, all in red</p>\n\n<pre><code>Command \"C:\\Python34\\python.exe -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\Owner\\\\AppData\\\\Local\\\\Temp\\\\pip-build-ya3n6wkd\\\\lxml\\\\setup.py';exec(compi\nle(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record C:\\Users\\Owner\\AppData\\Local\\Temp\\pip-ytybzl9l-r\necord\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\Owner\\AppData\\Local\\Temp\\pip-build-ya3n6wkd\\lxml\n</code></pre>\n\n<p>Any assistance in understanding how this should work, or what I'm doing wrong would be greatly appreciated.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1432760763, "post_id": 30493018, "comment_id": 49063964, "body": "Does it works if you go admin default url <code>http:&#47;&#47;localhost:8000&#47;admin</code> ?"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1432761287, "post_id": 30493018, "comment_id": 49064242, "body": "Try doing the import: <code>from polls import urls as polls_urls</code> and then <code>url(r&#39;^polls&#47;&#39;, include(polls_urls))</code>"}, {"owner": {"reputation": 383, "user_id": 3988270, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xyCmG.png?s=128&g=1", "display_name": "Truth", "link": "https://stackoverflow.com/users/3988270/truth"}, "edited": false, "score": 0, "creation_date": 1567439060, "post_id": 30493018, "comment_id": 101955456, "body": "The real solution: <code>&lt;?php echo &quot;Hello World&quot;; ?&gt;</code>. Has anyone ever gotten stuck on that? Ha! :-)"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 4946492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1fc2f34e8d504ba045a3e50600bfb?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4946492/benjamin"}, "edited": false, "score": 0, "creation_date": 1432760885, "post_id": 30493133, "comment_id": 49064038, "body": "Yes there is a seperate one there... and this is that file.  from django.conf.urls import include, url from django.contrib import admin  urlpatterns = [     url(r&#39;^admin/&#39;, include(admin.site.urls)), ]"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 145, "user_id": 4946492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1fc2f34e8d504ba045a3e50600bfb?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4946492/benjamin"}, "edited": false, "score": 5, "creation_date": 1432761036, "post_id": 30493133, "comment_id": 49064129, "body": "You need to include the <code>polls.urls</code> in <code>mysite&#47;mysite&#47;urls.py</code>. Remove the other <code>mysite&#47;urls.py</code>, it isn&#39;t used by Django so is just confusing things."}, {"owner": {"reputation": 145, "user_id": 4946492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1fc2f34e8d504ba045a3e50600bfb?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4946492/benjamin"}, "edited": false, "score": 0, "creation_date": 1432761355, "post_id": 30493133, "comment_id": 49064270, "body": "That worked.  I must have read the tutorial wrong on where to place that URLS file.  Thank you so much!"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 145, "user_id": 4946492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1fc2f34e8d504ba045a3e50600bfb?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4946492/benjamin"}, "edited": false, "score": 0, "creation_date": 1432761509, "post_id": 30493133, "comment_id": 49064355, "body": "Don&#39;t worry about it - easy mistake to make. At least your question was very clear so it was easy to spot the problem :)"}, {"owner": {"reputation": 329, "user_id": 4077025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef588189ba0585b649b59495f2ae573f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chrostowski", "link": "https://stackoverflow.com/users/4077025/dan-chrostowski"}, "edited": false, "score": 1, "creation_date": 1451622868, "post_id": 30493133, "comment_id": 56849884, "body": "This got me too.  Thank you @Alasdair."}, {"owner": {"user_type": "does_not_exist", "display_name": "user285372"}, "edited": false, "score": 0, "creation_date": 1510503032, "post_id": 30493133, "comment_id": 81452093, "body": "@Alasdair  Bless you for your comment. Saved me from giving up!"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 18, "last_activity_date": 1451655433, "last_edit_date": 1451655433, "creation_date": 1432760726, "answer_id": 30493133, "question_id": 30493018, "link": "https://stackoverflow.com/questions/30493018/404-error-in-writing-your-first-django-app-tutorial/30493133#30493133", "title": "404 Error in &quot;Writing your first Django App&quot; tutorial", "body": "<p>The root urls should be at <code>mysite\\mysite\\urls.py</code>, not <code>mysite\\urls.py</code> as you have it.</p>\n"}], "owner": {"reputation": 145, "user_id": 4946492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada1fc2f34e8d504ba045a3e50600bfb?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4946492/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7759, "favorite_count": 0, "answer_count": 1, "score": 12, "last_activity_date": 1608927644, "creation_date": 1432760309, "question_id": 30493018, "link": "https://stackoverflow.com/questions/30493018/404-error-in-writing-your-first-django-app-tutorial", "title": "404 Error in &quot;Writing your first Django App&quot; tutorial", "body": "<p>I am new to programming and have been working through the \"Writing your first Django App\" Tutorial for version 1.8.  I'm stuck with an error.</p>\n\n<pre><code>Page not found (404)\nRequest Method: GET\nRequest URL:    http://localhost:8000/polls\nUsing the URLconf defined in mysite.urls, Django tried these URL patterns, in this order:\n^admin/\nThe current URL, polls, didn't match any of these.\n</code></pre>\n\n<p>I've seen others with a similar error but did not see a resolution.  I even went so far as to simply copy and paste what is in the tutorial for the files in this section (the top part of section 3) but still haven't seen a resolution.</p>\n\n<p>Mysite\\polls\\urls.py</p>\n\n<pre><code>from django.conf.urls import url\n\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n]\n</code></pre>\n\n<p>Mysite\\urls.py</p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^polls/', include('polls.urls')),\n    url(r'^admin/', include(admin.site.urls)),\n]\n</code></pre>\n\n<p>Mysite\\polls\\views.py</p>\n\n<pre><code>from django.http import HttpResponse\n\n\ndef index(request):\n    return HttpResponse(\"Hello, world. You're at the polls index.\")\n</code></pre>\n\n<p>Mysite\\settings.py</p>\n\n<pre><code>...\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'polls',\n)\n\nMIDDLEWARE_CLASSES = (\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'django.middleware.security.SecurityMiddleware',\n)\n\nROOT_URLCONF = 'mysite.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'mysite.wsgi.application'\n...\n</code></pre>\n\n<p>I have no idea where the disconnect is but my guess based on the error is that it is with the urls.py file in the main mysite directory... it doesn't seem to read the urlpatterns for polls?  How could this be resolvd? (I should note I tried this with and without the final \"/\" after polls for the url in the browser).</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 1, "creation_date": 1432760553, "post_id": 30493004, "comment_id": 49063864, "body": "You should never use <code>x.__len__()</code>... That&#39;s what <code>len(x)</code> is for"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 1, "creation_date": 1432760609, "post_id": 30493004, "comment_id": 49063890, "body": "You should also never use <code>for i in range(0, len(xs)): foo(xs[i])</code>... That&#39;s what <code>for x in xs: foo(x)</code> is for"}], "answers": [{"tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": true, "score": 4, "last_activity_date": 1432768268, "last_edit_date": 1432768268, "creation_date": 1432760459, "answer_id": 30493054, "question_id": 30493004, "link": "https://stackoverflow.com/questions/30493004/within-a-nested-for-loop-how-can-i-print-tab-and-carriage-return-delimited-grou/30493054#30493054", "title": "Within a nested for loop, how can I print tab and carriage return delimited groups of data?", "body": "<p>Use the <code>end</code> argument to print to override the default behavior of printing a newline:</p>\n\n<pre><code>print(video[i][boxes[j]] / video[i+1][boxes[j]], end='\\t')\n</code></pre>\n\n<p>Note that if this is python 3, the <code>float</code> should also be unnecessary. If you're in python 2, you can get all the relevant features with:</p>\n\n<pre><code>from __future__ import print_function, division\n</code></pre>\n\n<hr>\n\n<p>If I were writing this, I'd do it:</p>\n\n<pre><code>s = '\\n'.join(\n    '\\t'.join(\n        str(v1[b] / v2[b])\n        for b in boxes\n    )\n    for v1, v2 in zip(video[0::2], video[1::2])\n)\nprint(s)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 1, "creation_date": 1432768284, "post_id": 30493655, "comment_id": 49066854, "body": "<code>from __future__ import print_function, division</code> and you&#39;re good to go with my code on python 2"}], "tags": [], "owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "is_accepted": false, "score": 1, "last_activity_date": 1432762905, "creation_date": 1432762905, "answer_id": 30493655, "question_id": 30493004, "link": "https://stackoverflow.com/questions/30493004/within-a-nested-for-loop-how-can-i-print-tab-and-carriage-return-delimited-grou/30493655#30493655", "title": "Within a nested for loop, how can I print tab and carriage return delimited groups of data?", "body": "<p>I accepted Eric's answer but I want to point out that for Python 2 having a comma at the end of the print statement prevented python from automatically adding a carriage return.  Also, apparently Python 3.0 uses print() as a function, whereas Python 2 uses print not as a function but rather as a statement.  This means that I could optionally also eliminate the parenthesis after print() in my original code, or add a space: print ().</p>\n\n<p>For my scrappy original code, the above meant simply adding a comma after the print statement</p>\n\n<pre><code>print(\"size of boxes: \", len(boxes))\nfor i in range (0, video.__len__(), 2):\n    for j in range(0, len(boxes)):\n        t0 = time.clock()\n        print str(float(video[i][boxes[j]])/(video[i+1][boxes[j]])), \"\\t\",\n    print ('\\n')\n</code></pre>\n"}], "owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 1, "accepted_answer_id": 30493054, "answer_count": 2, "score": 1, "last_activity_date": 1432768268, "creation_date": 1432760272, "question_id": 30493004, "link": "https://stackoverflow.com/questions/30493004/within-a-nested-for-loop-how-can-i-print-tab-and-carriage-return-delimited-grou", "title": "Within a nested for loop, how can I print tab and carriage return delimited groups of data?", "body": "<p>My code is going through frames in a video, and sampling a set of x,y points that I previously selected in each frame.  The x,y points are contained in <code>boxes</code>. </p>\n\n<p>For each frame in the video, there are <code>len(boxes)</code> pixel values I want printed on one line with tabs between them, followed by carriage return for the next frame.  I'm actually doing some ratioing of pixel values here, but that's not really relevant.  I just need to get output with tabs where I want them and not carriage returns.</p>\n\n<pre><code>print(\"size of boxes: \", len(boxes))\nfor i in range (0, video.__len__(), 2):\n    for j in range(0, len(boxes)):\n        print(str(float(video[i][boxes[j]])/(video[i+1][boxes[j]])) + str('\\t'))\n    print('\\n')\n</code></pre>\n\n<p>I get this instead of the tab delimited groups of 7 that I want:   </p>\n\n<pre><code> ('size of boxes: ', 7)\n    0.485893416928  \n    0.602201257862  \n    0.584277620397  \n    0.759312320917  \n    0.663671373556  \n    0.70249017038   \n    0.724576271186  \n\n\n    0.496379726468  \n    0.632218844985  \n    0.532608695652  \n    0.699738903394  \n    0.731774415406  \n    0.693527080581  \n    0.772058823529  \n</code></pre>\n"}, {"tags": ["python", "bottle"], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 1404135, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/384109811c41e081e517531081b500d3?s=128&d=identicon&r=PG", "display_name": "3z33etm", "link": "https://stackoverflow.com/users/1404135/3z33etm"}, "edited": false, "score": 0, "creation_date": 1432762420, "post_id": 30493015, "comment_id": 49064797, "body": "i did arrive at <a href=\"https://docs.python.org/2/library/stringio.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/stringio.html</a> before posting, but the usage was not obvious to me, and I do not see read() on that page (athough it seems to work).  The string returned by read()  however returns a very ugly encoding, all &quot; and { are replaced with %22%2C+%22.  Is there an elegant way to ingest this as json, or perhaps a stringio &gt; json method?  I&#39;m trying to avoid parsing it with text manipulation...."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "reply_to_user": {"reputation": 873, "user_id": 1404135, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/384109811c41e081e517531081b500d3?s=128&d=identicon&r=PG", "display_name": "3z33etm", "link": "https://stackoverflow.com/users/1404135/3z33etm"}, "edited": false, "score": 0, "creation_date": 1432763298, "post_id": 30493015, "comment_id": 49065169, "body": "@3z33etm The StringIO documentation suggests reading the file-object-documentation. But yes, an example for reading would be nice. File an issue ;) Regarding the encoding issues: it&#39;s probably some form of urlencoding, which can be decoded using urllib or cgi modules. Take a look at the headers of the request. That might be the reason why the <code>request.json</code> doesn&#39;t work."}], "tags": [], "owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "is_accepted": true, "score": 6, "last_activity_date": 1432760305, "creation_date": 1432760305, "answer_id": 30493015, "question_id": 30492897, "link": "https://stackoverflow.com/questions/30492897/how-to-get-request-body-text-using-bottle/30493015#30493015", "title": "how to get request body text using bottle?", "body": "<p>As the bottle documentation states, the request data is \"a file like object\". <a href=\"http://bottlepy.org/docs/dev/tutorial.html#the-raw-request-body\" rel=\"noreferrer\">http://bottlepy.org/docs/dev/tutorial.html#the-raw-request-body</a></p>\n\n<p>So you access the raw body using <code>read()</code>.</p>\n\n<p>Also, <code>dir</code> is not a <em>method</em> of objects, it's a freestanding function which you call <em>passing</em> an object.</p>\n\n<pre><code>dir(request.body)\n</code></pre>\n\n<p>And googling for <code>StringIO</code> should have brought you here: <a href=\"https://docs.python.org/2/library/stringio.html\" rel=\"noreferrer\">https://docs.python.org/2/library/stringio.html</a></p>\n"}], "owner": {"reputation": 873, "user_id": 1404135, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/384109811c41e081e517531081b500d3?s=128&d=identicon&r=PG", "display_name": "3z33etm", "link": "https://stackoverflow.com/users/1404135/3z33etm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7640, "favorite_count": 2, "accepted_answer_id": 30493015, "answer_count": 1, "score": 8, "last_activity_date": 1432827953, "creation_date": 1432759915, "last_edit_date": 1432827953, "question_id": 30492897, "link": "https://stackoverflow.com/questions/30492897/how-to-get-request-body-text-using-bottle", "title": "how to get request body text using bottle?", "body": "<p>I'm using bottle to receive POST webhook from bitbucket. The body of the POST contains info about what changed in the repo, etc. I am able to do this fine with <code>@post('/myroute')</code>, however I'm having trouble getting to the actual POST body data text.</p>\n\n<p>here is an image that shows what I'm doing end to end\n<a href=\"http://i.imgur.com/rWc7Hry.png\" rel=\"noreferrer\">http://i.imgur.com/rWc7Hry.png</a></p>\n\n<p>When printed to console<code>request.body</code> yields:</p>\n\n<blockquote>\n  <p>StringIO.StringIO instance at 0x7fa13341c4d0</p>\n</blockquote>\n\n<p>and <code>request.body.dir()</code> yields:</p>\n\n<blockquote>\n  <p>AttributeError: StringIO instance has no attribute 'dir'</p>\n</blockquote>\n\n<p>I'm wondering how do I get to the actual text of the request body (or inspect the object somehow to find the same)?</p>\n\n<p>the POST request body will look something like this:</p>\n\n<p><a href=\"http://pastebin.com/SWjLrHig\" rel=\"noreferrer\">http://pastebin.com/SWjLrHig</a></p>\n\n<p>I've also tried <code>request.json</code> (no luck)</p>\n\n<p>any advice?</p>\n\n<p>EDIT:\ni ended up using this:</p>\n\n<pre><code>from bottle import get, post, request, run\nimport urllib\nimport json\n\n@post('/bitbucket')\ndef postToJSON():\n    body = request.body.read()\n    body = body.replace(\"+\",\"\").replace(\"payload=\",\"\")\n    parsedBody = urllib.unquote(body).decode('utf8')\n    print parsedBody\n    jsonObj = json.loads(parsedBody)\n    print jsonObj \n</code></pre>\n\n<p>interesting now, parsedBody looks good:</p>\n\n<pre><code>{\"repository\":{\"website\":null,\"fork\":false,\"name\":\"test\",\"scm\":\"git\",\"owner\":\"\ntestName\",\"absolute_url\":\"/testNameTest/test/\",\"slug\":\"test\",\"is_private\":true},\"trunc\nated\":false,\"commits\":[{\"node\":\"04554d6980dd\",\"files\":[{\"type\":\"modified\",\"file\"\n:\"stacker.py\"}],\"raw_author\":\"TestName&lt;testName@testName.info&gt;\",\"utctimestamp\":\"\n2015-05-2815:30:03+00:00\",\"author\":\"testName\",\"timestamp\":\"2015-05-2817:30:03\",\"\nraw_node\":\"04554d6980dd3c5fe4c3712d95b49fcf9b8da4f4\",\"parents\":[\"7f98b4e7532e\"],\n\"branch\":\"master\",\"message\":\"foo\\n\",\"revision\":null,\"size\":-1}],\"canon_url\":\"htt\nps://bitbucket.org\",\"user\":\"testName\"}\n</code></pre>\n\n<p>but jsonObj is not so good:</p>\n\n<pre><code>{u'commits': [{u'node': u'7f98b4e7532e', u'files': [{u'type': u'modified', u'fil\ne': u'stacker.py'}], u'branch': u'master', u'utctimestamp': u'2015-05-2815:24:50\n+00:00', u'author': u'TestName', u'timestamp': u'2015-05-2817:24:50', u'raw_node\n': u'7f98b4e7532e02d53d83a29ec2073c5a5eac58c8', u'parents': [u'019e77d2e0d3'], u\n'raw_author': u'TestNamer&lt;TestName@TestName.info&gt;', u'message': u'foo\\n', u'size'\n: -1, u'revision': None}], u'user': u'TestName', u'canon_url': u'https://bitbuck\net.org', u'repository': {u'website': None, u'fork': False, u'name': u'test', u's\ncm': u'git', u'absolute_url': u'/ericTest/test/', u'owner': u'TestName', u'slug'\n: u'test', u'is_private': True}, u'truncated': False}\n</code></pre>\n\n<p>however, when I do something like</p>\n\n<pre><code>print jsonObj['repository']['name']\n</code></pre>\n\n<p>it works as expected (just prints the name 'test')</p>\n"}, {"tags": ["python", "json", "xml", "ascii", "hebrew"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 4, "creation_date": 1432760032, "post_id": 30492883, "comment_id": 49063594, "body": "You have valid JSON; <code>\\uhhhh</code> are JSON escape sequences used to keep your JSON output ASCII-safe. If you want UTF-8 output, see <a href=\"https://stackoverflow.com/q/18337407\">Saving utf-8 texts in json.dumps as UTF8, not as \\u escape sequence</a>"}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1432760593, "post_id": 30492883, "comment_id": 49063883, "body": "You should not need to decode infile, the encoding should be part of the header. And you don&#39;t need to encode jsontext twice. It should already be a byte-string. The double encode is a nop, and looks like cargo-cult-programing."}, {"owner": {"reputation": 120, "user_id": 1761782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aea74a7be2b5cb522bfd98d3feba0c95?s=128&d=identicon&r=PG", "display_name": "eladc", "link": "https://stackoverflow.com/users/1761782/eladc"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1432760607, "post_id": 30492883, "comment_id": 49063887, "body": "Thank you @MartijnPieters! @deets thank you for your notes !"}], "owner": {"reputation": 120, "user_id": 1761782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aea74a7be2b5cb522bfd98d3feba0c95?s=128&d=identicon&r=PG", "display_name": "eladc", "link": "https://stackoverflow.com/users/1761782/eladc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 1, "closed_date": 1432760902, "answer_count": 0, "score": 0, "last_activity_date": 1432761156, "creation_date": 1432759865, "last_edit_date": 1432761156, "question_id": 30492883, "link": "https://stackoverflow.com/questions/30492883/xml-to-json-with-hebrew-characters-in-python", "closed_reason": "Duplicate", "title": "XML to JSON with Hebrew Characters in Python", "body": "<p>I'm trying to convert an xml with Hebrew characters in it, to json.</p>\n\n<p>here's a piece of the xml:</p>\n\n<pre><code>     &lt;Root&gt;&lt;City&gt;\u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd&lt;/City&gt;&lt;/Root&gt;\n</code></pre>\n\n<p>I've tried several methods and encodings, but I always get this unconvertable ascii code instead of Hebrew characters.: </p>\n\n<blockquote>\n  <p>\\u05e7\\u05e0\\u05d9\\u05d5\\u05df</p>\n</blockquote>\n\n<p>Here's my conversion script:</p>\n\n<pre><code>import xmltodict, json\nimport sys\n\ninfile = open('text.xml','r')\noutfile = open('text.json','w')\nxmltxt = infile.read().decode('utf_16_le')\n\ndecodedXML = xmltodict.parse(xmltxt)\n\njsontext = json.dumps(decodedXML, encoding='utf_8')\n\noutfile.write(jsontext.encode('utf_8'))\ninfile.close()\noutfile.close()\n</code></pre>\n\n<p>Thank you </p>\n\n<p><strong>EDIT - Solution:</strong>\nSolved by adding 'ensure_ascii=False' to json.dumps()</p>\n"}, {"tags": ["c#", "python", "parsing", "yaml", "yamldotnet"], "comments": [{"owner": {"reputation": 1165, "user_id": 2218546, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9890015804f5958559ad9dceb9866f9?s=128&d=identicon&r=PG", "display_name": "Dreamweaver", "link": "https://stackoverflow.com/users/2218546/dreamweaver"}, "edited": false, "score": 0, "creation_date": 1432760808, "post_id": 30492841, "comment_id": 49063989, "body": "<a href=\"http://www.codeproject.com/Articles/28720/YAML-Parser-in-C\" rel=\"nofollow noreferrer\">codeproject.com/Articles/28720/YAML-Parser-in-C</a>"}, {"owner": {"reputation": 8110, "user_id": 1090359, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a1b09fac4a9ec208ea4ed4d663b02ce2?s=128&d=identicon&r=PG", "display_name": "kspearrin", "link": "https://stackoverflow.com/users/1090359/kspearrin"}, "edited": false, "score": 1, "creation_date": 1432761052, "post_id": 30492841, "comment_id": 49064133, "body": "Have you tried YamlDotNet? It seems to provide what you need. <a href=\"https://github.com/aaubry/YamlDotNet\" rel=\"nofollow noreferrer\">github.com/aaubry/YamlDotNet</a>"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1432826881, "post_id": 30492841, "comment_id": 49097151, "body": "Most YAML parsers will discard the extra spaces before the values and loose all of the implicit alignment information.  The parser I know will also interpret the anchor and reference on reading in (and create references to the same data. I can show you how to do most of that in Python (the folded style scalars are a problem), if that is an option, but since this is marked C# I won&#39;t unless you confirm that is ok."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "reply_to_user": {"reputation": 1165, "user_id": 2218546, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9890015804f5958559ad9dceb9866f9?s=128&d=identicon&r=PG", "display_name": "Dreamweaver", "link": "https://stackoverflow.com/users/2218546/dreamweaver"}, "edited": false, "score": 0, "creation_date": 1432842092, "post_id": 30492841, "comment_id": 49106523, "body": "@Dreamweaver Thanks a lot for suggestions but I couldn&#39;t find any sample how to iterate/change through each string."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1432842104, "post_id": 30492841, "comment_id": 49106530, "body": "@Anthon Although I prefer to use a C#, I could use the python solution as an alternative. If there won&#39;t be any answer written in C# then I will accept your solution."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "reply_to_user": {"reputation": 8110, "user_id": 1090359, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a1b09fac4a9ec208ea4ed4d663b02ce2?s=128&d=identicon&r=PG", "display_name": "kspearrin", "link": "https://stackoverflow.com/users/1090359/kspearrin"}, "edited": false, "score": 0, "creation_date": 1432842182, "post_id": 30492841, "comment_id": 49106569, "body": "@kspearrin - thanks a lot for suggestion, but just as in Dreamweaver suggestion I could not find any sample how to iterate yaml file and change string."}], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 2, "last_activity_date": 1432844397, "last_edit_date": 1495541667, "creation_date": 1432844397, "answer_id": 30516351, "question_id": 30492841, "link": "https://stackoverflow.com/questions/30492841/c-parse-and-change-strings-in-yaml/30516351#30516351", "title": "C# parse and change strings in yaml", "body": "<p>The YAML specification has <a href=\"http://www.yaml.org/spec/1.2/spec.html#id2765608\" rel=\"nofollow noreferrer\">this to say</a>:</p>\n\n<blockquote>\n  <p>In the representation model, mapping keys do not have an order. To serialize a mapping, it is necessary to impose an ordering on its keys. This order is a serialization detail and should not be used when composing the representation graph (and hence for the preservation of application data). In every case where node order is significant, a sequence must be used. For example, an ordered mapping can be represented as a sequence of mappings, where each mapping is a single key: value pair. YAML provides convenient compact notation for this case.</p>\n</blockquote>\n\n<p>So you really shouldn\u2019t expect YAML to maintain any order when loading and saving documents.</p>\n\n<p>That being said, I totally understand where you are coming from. Since YAML documents are meant for humans, maintaining a certain order is definitely helpful. Unfortunately, because of the specification, most implementations will use unordered data structures to represent the key/value mappings. In C# and Python, this would be a dictionary; and dictionaries are by design without order.</p>\n\n<p>But both C# and Python do have ordered dictionary types, <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.specialized.ordereddictionary.aspx\" rel=\"nofollow noreferrer\"><code>OrderedDictionary</code></a> and <a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\"><code>OrderedDict</code></a>, and at least for Python, there has been some effort in the past to maintain the key order using ordered dictionaries:</p>\n\n<ul>\n<li>The <a href=\"http://yaml.org/type/omap.html\" rel=\"nofollow noreferrer\"><code>!!omap</code> type</a> is a special ordered mapping. It\u2019s supported in PyYAML.</li>\n<li><a href=\"http://pyyaml.org/ticket/29\" rel=\"nofollow noreferrer\">PyYAML ticket 29</a> talks about possibly including an <code>OrderedLoader</code>. There is also a short workaround using YAML constructors <a href=\"http://pyyaml.org/ticket/29#comment:4\" rel=\"nofollow noreferrer\">in between</a>, and a possible implementation of a loader <a href=\"http://pyyaml.org/ticket/29#comment:11\" rel=\"nofollow noreferrer\">at the end</a>.</li>\n<li><a href=\"http://pyyaml.org/ticket/161\" rel=\"nofollow noreferrer\">PyYAML ticket 161</a> has a <a href=\"http://pyyaml.org/attachment/ticket/161/use_ordered_dict.py\" rel=\"nofollow noreferrer\">recipe</a> which also provides this functionality.</li>\n<li>Finally, there is <a href=\"https://stackoverflow.com/q/5121931/216074\">this other Stack Overflow question</a> that covers loading YAML into <code>OrderedDict</code>s.</li>\n</ul>\n\n<p>That\u2019s the Python side; I\u2019m sure there are similar efforts for C# implementations too.</p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432978354, "post_id": 30524336, "comment_id": 49161710, "body": "Thanks for the solution, however with some more complicated files I am getting: ruamel.yaml.scanner.ScannerError: while scanning a double-quoted scalar   in &quot;&lt;byte string&gt;&quot;, line 116, column 17:               hint: &quot;For a more detailed explanation ...                      ^ found unknown escape character &#39;&amp;&#39;   in &quot;&lt;byte string&gt;&quot;, line 116, column 72:      ... planation,\\n &amp;lt;a data-toggle=\\&amp;quot;modal\\&amp;quot; data-target=\\ ..."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432978444, "post_id": 30524336, "comment_id": 49161735, "body": "the second error I am getting is: ruamel.yaml.scanner.ScannerError: mapping values are not allowed here   in &quot;&lt;byte string&gt;&quot;, line 1, column 7:     --- en:"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432981461, "post_id": 30524336, "comment_id": 49162611, "body": "@wariacik 1) Can I access the exact file that throws the error somewhere? 2) Which version of Python is this on (<code>python --version</code>)? That might be a problem with the Python3 series."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432995878, "post_id": 30524336, "comment_id": 49166935, "body": "Thanks a lot for response. Here you go - simplified yaml <a href=\"https://gist.github.com/anonymous/758c5fedd339ee061b59\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/758c5fedd339ee061b59</a> version  Python 2.6 (r26:66714"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432997552, "post_id": 30524336, "comment_id": 49167438, "body": "@wariacik normally, if you get something after &#39;---&#39; at all it has to be a driective indicator (i.e. what type the following data is).  &#39;en:&#39; is a mapping key and should be on a new line, unindented. What program generated that file? And what about the more complicated file you mentioned in your first comment?"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1432999792, "post_id": 30524336, "comment_id": 49168176, "body": "@wariacik with the example in the first comment I expect that the special character <code>&amp;</code> was not in a quoted string, where it should have been. But that is only a guess from the error message and the small context."}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1433000529, "post_id": 30524336, "comment_id": 49168398, "body": "if you comment #---en, and process file, then you will get the second error that I have mentioned(Unescaped char - line 9)."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1433005898, "post_id": 30524336, "comment_id": 49170189, "body": "The error is in column 72 that is <code>` before &quot;&amp;quot&quot; and the reason being that in double quoted strings you can escape certain characters (such as newline with </code>\\n<code>) but </code>\\q` is not a defined escape sequence. Here are the allowed escaped chars defined <a href=\"http://yaml.org/spec/1.2/spec.html#id2776092\" rel=\"nofollow noreferrer\">yaml.org/spec/1.2/spec.html#id2776092</a>"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "reply_to_user": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1433005954, "post_id": 30524336, "comment_id": 49170218, "body": "So that backslash should not be there, or it should be doubled. What program did generate this file?"}, {"owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "edited": false, "score": 0, "creation_date": 1433022553, "post_id": 30524336, "comment_id": 49175413, "body": "- I&#39;ve sent you an email to anthon@mnt.org with those complicated files. Even if I&#39;ve escaped the file, the result of parsing is not complete. If you would have a little bit time to look at them that would be great. Any help is appreciated"}], "tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": true, "score": 1, "last_activity_date": 1432888117, "last_edit_date": 1432888117, "creation_date": 1432886699, "answer_id": 30524336, "question_id": 30492841, "link": "https://stackoverflow.com/questions/30492841/c-parse-and-change-strings-in-yaml/30524336#30524336", "title": "C# parse and change strings in yaml", "body": "<p>Most YAML parsers are build for reading YAML, either written by other programs or edited by humans, and for writing YAML to be read by other programs. What is notoriously lacking is the ability of parsers to write YAML that is still readable by humans:</p>\n\n<ul>\n<li>the order of mapping keys is undefined</li>\n<li>comments get thrown away </li>\n<li>the scalar literal block style, if any, is dropped</li>\n<li>spacing around scalars is discarded</li>\n<li>the scalar folding information, if any, is dropped</li>\n</ul>\n\n<p>The loading of a dump of a loaded  handcrafted YAML file will result in the same internal data structures as the intial load, but the intermediate dump doesn't normally look like the original (handcrafted) YAML.</p>\n\n<p>If you have a Python program:</p>\n\n<pre><code>import ruamel.yaml as yaml\n\nyaml_str = \"\"\"\\\nreceipt:     Oz-Ware Purchase Invoice\ndate:        2007-08-06\ncustomer:\n    given:   Dorothy\n\nitems:\n    - part_no:   A4786\n      descrip:   Water Bucket (Filled)\n\n    - part_no:   E1628\n      descrip:   High Heeled \"Ruby\" Slippers\n      size:      8\n\nbill-to:  &amp;id001\n    street: |\n            123 Tornado Alley\n            Suite 16\n    city:   East Centerville\n    state:  KS\n\nship-to:  *id001\n\nspecialDelivery:  &gt;\n    Follow the Yellow Brick\n    Road to the Emerald City.\n\"\"\"\n\ndata1 = yaml.load(yaml_str, Loader=yaml.Loader)\ndump_str = yaml.dump(data1, Dumper=yaml.Dumper)\ndata2 = yaml.load(dump_str, Loader=yaml.Loader)\n</code></pre>\n\n<p>Then the following assertions hold:</p>\n\n<pre><code>assert data1 == data2\nassert dump_str != yaml_str\n</code></pre>\n\n<p>The intermediate <code>dump_str</code> looks like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>bill-to: &amp;id001 {city: East Centerville, state: KS, street: '123 Tornado Alley\n\n    Suite 16\n\n    '}\ncustomer: {given: Dorothy}\ndate: 2007-08-06\nitems:\n- {descrip: Water Bucket (Filled), part_no: A4786}\n- {descrip: High Heeled \"Ruby\" Slippers, part_no: E1628, size: 8}\nreceipt: Oz-Ware Purchase Invoice\nship-to: *id001\nspecialDelivery: 'Follow the Yellow Brick Road to the Emerald City.\n\n  '\n</code></pre>\n\n<p>The above is the default behaviour for <a href=\"https://pypi.python.org/pypi/ruamel.yaml\" rel=\"nofollow\">ruamel.yaml</a>, <a href=\"http://pyyaml.org/\" rel=\"nofollow\">PyYAML</a> and for many YAML parsers in other language and online YAML conversion services. For some parsers this is the only behaviour provided.</p>\n\n<p>The reason for me to start ruamel.yaml as an enhancement of PyYAML was to make going from handcrafted YAML to internal data, to YAML, result in something that is better human readable (what I call <em>round-tripping</em>), and preserves more information (especially comments).</p>\n\n<pre><code>data = yaml.load(yaml_str, Loader=yaml.RoundTripLoader)\nprint yaml.dump(data, Dumper=yaml.RoundTripDumper)\n</code></pre>\n\n<p>gives you:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>receipt: Oz-Ware Purchase Invoice\ndate: 2007-08-06\ncustomer:\n  given: Dorothy\nitems:\n- part_no: A4786\n  descrip: Water Bucket (Filled)\n- part_no: E1628\n  descrip: High Heeled \"Ruby\" Slippers\n  size: 8\nbill-to: &amp;id001\n  street: |\n    123 Tornado Alley\n    Suite 16\n  city: East Centerville\n  state: KS\nship-to: *id001\nspecialDelivery: 'Follow the Yellow Brick Road to the Emerald City.\n\n  '\n</code></pre>\n\n<p>My focus has been on comments, key, order and literal block style. Spacing around scalars and folded scalars are not (yet) special.</p>\n\n<hr>\n\n<p>Starting from there (you could also do this in PyYAML, but you would not have the built-in enhancements of ruamel.yaml key order keeping) you can either provide special emitters, or hook into the system at a lower level, overriding some methods in <code>emitter.py</code> (and making sure you can call the \noriginals for the cases you don't need to handle:</p>\n\n<pre><code>def rewrite_write_plain(self, text, split=True):\n    if self.state == self.expect_block_mapping_simple_value:\n        text = '###' + text + '###'\n        while self.column &lt; 20:\n            text = ' ' + text\n            self.column += 1\n    self._org_write_plain(text, split)\n\ndef rewrite_write_literal(self, text):\n    if self.state == self.expect_block_mapping_simple_value:\n        last_nl = False\n        if text and text[-1] == '\\n':\n            last_nl = True\n            text = text[:-1]\n        text = '###' + text + '###'\n        if False:\n            extra_indent = ''\n            while self.column &lt; 15:\n                text = ' ' + text\n                extra_indent += ' '\n                self.column += 1\n            text = text.replace('\\n', '\\n' + extra_indent)\n        if last_nl:\n            text += '\\n'\n    self._org_write_literal(text)\n\ndef rewrite_write_single_quoted(self, text, split=True):\n    if self.state == self.expect_block_mapping_simple_value:\n        last_nl = False\n        if text and text[-1] == u'\\n':\n            last_nl = True\n            text = text[:-1]\n        text = u'###' + text + u'###'\n        if last_nl:\n            text += u'\\n'\n    self.write_folded(text)\n\ndef rewrite_write_indicator(self, indicator, need_whitespace,\n                    whitespace=False, indention=False):\n    if indicator and indicator[0] in u\"*&amp;\":\n        indicator = u'###' + indicator + u'###'\n        while self.column &lt; 20:\n            indicator = ' ' + indicator\n            self.column += 1\n    self._org_write_indicator(indicator, need_whitespace, whitespace,\n                              indention)\n\ndumper._org_write_plain = dumper.write_plain\ndumper.write_plain = rewrite_write_plain\ndumper._org_write_literal = dumper.write_literal\ndumper.write_literal = rewrite_write_literal\ndumper._org_write_single_quoted = dumper.write_single_quoted\ndumper.write_single_quoted = rewrite_write_single_quoted\ndumper._org_write_indicator = dumper.write_indicator\ndumper.write_indicator = rewrite_write_indicator\n\nprint yaml.dump(data, Dumper=dumper, indent=4)\n</code></pre>\n\n<p>gives you:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>receipt:             ###Oz-Ware Purchase Invoice###\ndate:                ###2007-08-06###\ncustomer:\n    given:           ###Dorothy###\nitems:\n-   part_no:         ###A4786###\n    descrip:         ###Water Bucket (Filled)###\n-   part_no:         ###E1628###\n    descrip:         ###High Heeled \"Ruby\" Slippers###\n    size:            ###8###\nbill-to:             ###&amp;id001###\n    street: |\n        ###123 Tornado Alley\n        Suite 16###\n    city:            ###East Centerville###\n    state:           ###KS###\nship-to:             ###*id001###\nspecialDelivery: &gt;\n    ###Follow the Yellow Brick Road to the Emerald City.###\n</code></pre>\n\n<p>which hopefully is acceptable for further processing in C#</p>\n"}], "owner": {"reputation": 305, "user_id": 1092162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d0f86a540e713c36026418de840096d?s=128&d=identicon&r=PG", "display_name": "wariacik", "link": "https://stackoverflow.com/users/1092162/wariacik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 1, "accepted_answer_id": 30524336, "answer_count": 2, "score": 3, "last_activity_date": 1432888117, "creation_date": 1432759688, "last_edit_date": 1432842235, "question_id": 30492841, "link": "https://stackoverflow.com/questions/30492841/c-parse-and-change-strings-in-yaml", "title": "C# parse and change strings in yaml", "body": "<p>I am looking for a way to parse yaml file and change each string then save file without changing structure of original file. In my opinion I should not use Regex for this but some kind of yaml parser.\nSample yaml input bellow:</p>\n\n<pre><code>receipt:     Oz-Ware Purchase Invoice\ndate:        2007-08-06\ncustomer:\n    given:   Dorothy\n\nitems:\n    - part_no:   A4786\n      descrip:   Water Bucket (Filled)\n\n    - part_no:   E1628\n      descrip:   High Heeled \"Ruby\" Slippers\n      size:      8\n\nbill-to:  &amp;id001\n    street: |\n            123 Tornado Alley\n            Suite 16\n    city:   East Centerville\n    state:  KS\n\nship-to:  *id001\n\nspecialDelivery:  &gt;\n    Follow the Yellow Brick\n    Road to the Emerald City.\n...\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>receipt:     ###Oz-Ware Purchase Invoice###\ndate:        ###2007-08-06###\ncustomer:\n    given:   ###Dorothy###\n\nitems:\n    - part_no:   ###A4786###\n      descrip:   ###Water Bucket (Filled)###\n\n    - part_no:   ###E1628###\n      descrip:   ###High Heeled \"Ruby\" Slippers###\n      size:      ###8###\n\nbill-to:  ###&amp;id001###\n    street: |\n            ###123 Tornado Alley\n            Suite 16###\n    city:   ###East Centerville###\n    state:  ###KS###\n\nship-to:  ###*id001###\n\nspecialDelivery:  &gt;\n    ###Follow the Yellow Brick\n    Road to the Emerald City.###\n...\n</code></pre>\n\n<p>Is there a good yaml parser that could handle complicated yaml files, change strings and save that data back without affecting structure of document? Maybe you have other idea how to solve this problem. Basically i would like to iterate through each string from the top of the document and do some modification on the string. \nAny hints appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 1, "creation_date": 1432759766, "post_id": 30492839, "comment_id": 49063473, "body": "Shouldn&#39;t this go on to code review and not stay here on SO?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1432760202, "post_id": 30492839, "comment_id": 49063682, "body": "@Zizouz212 the code is here only as an explanation of the question; it is not a question for a code review."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1432760534, "post_id": 30492839, "comment_id": 49063857, "body": "@AmiTavory <i>Is there a simpler way to do the following?</i> It apparently works..."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1432760643, "post_id": 30492839, "comment_id": 49063907, "body": "@Zizouz212 I see your point, but I think we&#39;re reading the emphasis differently. Guess we&#39;ll agree to disagree on this one."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1432760717, "post_id": 30492839, "comment_id": 49063937, "body": "Ahhh it&#39;s all good. I wouldn&#39;t worry too much about it. If other people step on to this, they can decide. :)"}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1432760011, "post_id": 30492876, "comment_id": 49063580, "body": "You can remove the square brackets if you want - no need to turn the generator into a <code>list</code>."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432760046, "post_id": 30492876, "comment_id": 49063606, "body": "@TigerhawkT3 - removing the brackets produced for me <code>&lt;generator object &lt;genexpr&gt; at 0x7f97bff85410&gt;</code>, not a boolean."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432760213, "post_id": 30492876, "comment_id": 49063695, "body": "Resulted in <code>True</code> for me (using the first example) with <code>any(acceptable_stem in filename for acceptable_stem in acceptable_stems)</code>."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432760333, "post_id": 30492876, "comment_id": 49063751, "body": "@TigerhawkT3 I believe you, but it really doesn&#39;t by me. I&#39;m running antiquated versions of IPython and python2.7 on CentOs6.5 (in a cave). Could that explain the difference?"}, {"owner": {"reputation": 2325, "user_id": 2272638, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4c4d7d86231ea02341f3a868d9d3f8c5?s=128&d=identicon&r=PG", "display_name": "dwanderson", "link": "https://stackoverflow.com/users/2272638/dwanderson"}, "edited": false, "score": 0, "creation_date": 1432760382, "post_id": 30492876, "comment_id": 49063775, "body": "@AmiTavory - when you put that expression <i>inside</i> the <code>any()</code>, it evaluates the generator expression (genexpr) and returns a boolean."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 2325, "user_id": 2272638, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4c4d7d86231ea02341f3a868d9d3f8c5?s=128&d=identicon&r=PG", "display_name": "dwanderson", "link": "https://stackoverflow.com/users/2272638/dwanderson"}, "edited": false, "score": 0, "creation_date": 1432760462, "post_id": 30492876, "comment_id": 49063814, "body": "@dwanderson I cannot tell you how much I agree with your logic, and yet I&#39;m alt-tabbing and seeing this on my IPython Notebook. And just to clarify, it is <i>in</i> the <code>any</code>."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1432760985, "post_id": 30492876, "comment_id": 49064097, "body": "@AmiTavory I find that incredibly hard to imagine."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1432761030, "post_id": 30492876, "comment_id": 49064126, "body": "Did you re-run it? IPynbs tend to keep state even if previous things are changed; restart the interpreter/kernel/whatever-its-called and run it again."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1432761141, "post_id": 30492876, "comment_id": 49064184, "body": "Oh right I originally came here to mention that if the question is about <i>stems</i>, then the asker might prefer using <code>filename.startswith(acceptable_stem)</code>, in case <code>&#39;vudu&#39;</code> or <code>&#39;google&#39;</code> appears somewhere outside of the &quot;stem&quot;."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1432761373, "post_id": 30492876, "comment_id": 49064285, "body": "Funny, I consistently get it in the IPython Notebook, but not in the console. I think I&#39;ll ask a question about it."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 2, "last_activity_date": 1432760012, "last_edit_date": 1432760012, "creation_date": 1432759846, "answer_id": 30492876, "question_id": 30492839, "link": "https://stackoverflow.com/questions/30492839/one-liner-for-partial-string-match-in-list-lookup/30492876#30492876", "title": "One-liner for partial string match in list lookup", "body": "<p>How about using the <a href=\"https://docs.python.org/2/library/functions.html#any\" rel=\"nofollow\"><code>any</code></a> keyword:</p>\n\n<pre><code>any([acceptable_stem in filename for acceptable_stem in acceptable_stems])\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>&gt;&gt; filename = 'vudu_hail_20140101.xml'\n&gt;&gt; acceptable_stems = ['vudu', 'google']\n&gt;&gt; any([acceptable_stem in filename for acceptable_stem in acceptable_stems])\nTrue\n\n&gt;&gt; filename = 'vudu_hail_20140101.xml'\n&gt;&gt; acceptable_stems = ['vuduf', 'google']\n&gt;&gt; any([acceptable_stem in filename for acceptable_stem in acceptable_stems])\nFalse\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 30492876, "answer_count": 1, "score": 2, "last_activity_date": 1432760012, "creation_date": 1432759677, "last_edit_date": 1432759792, "question_id": 30492839, "link": "https://stackoverflow.com/questions/30492839/one-liner-for-partial-string-match-in-list-lookup", "title": "One-liner for partial string match in list lookup", "body": "<p>Is there a simpler way to do the following?</p>\n\n<pre><code>filename = 'vudu_hail_20140101.xml'\nacceptable_stems = ['vudu', 'google']\n\nprocess_file = False\nfor acceptable_stem in acceptable_stems:\n    if acceptable_stem in filename:\n        process_file = True\n</code></pre>\n\n<p>Basically, I'm looking for a Boolean determinant on whether one of the stems is in the filename. How would this be done with a one-liner?</p>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 2451, "user_id": 303182, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1aea114639fb9a8bd5e7d197378170fb?s=128&d=identicon&r=PG", "display_name": "moonstruck", "link": "https://stackoverflow.com/users/303182/moonstruck"}, "edited": false, "score": 0, "creation_date": 1432759941, "post_id": 30492837, "comment_id": 49063546, "body": "share your linker.urls contents."}], "answers": [{"comments": [{"owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 0, "creation_date": 1432760775, "post_id": 30493069, "comment_id": 49063970, "body": "still same error. I have found that there are some problems with using login_required ulrs and reversing them, but i still cannot handle it."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 0, "creation_date": 1432761082, "post_id": 30493069, "comment_id": 49064144, "body": "You are using <code>login_required</code> incorrectly - I&#39;ve updated my answer."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1432760864, "last_edit_date": 1432760864, "creation_date": 1432760508, "answer_id": 30493069, "question_id": 30492837, "link": "https://stackoverflow.com/questions/30492837/how-to-deal-with-my-login-required-url/30493069#30493069", "title": "How to deal with my login_required url?", "body": "<p>Firstly remove the dollar sign when including other url patterns.</p>\n\n<pre><code>url(r'^',\n    include('distributors.urls', namespace='distributors')),\n</code></pre>\n\n<p>Secondly, you are missing a closing bracket where you are using <code>login_required</code>.</p>\n\n<pre><code>url(r'^links/$', login_required(views.LinkListView.as_view()), name='links'),\n</code></pre>\n"}], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30493069, "answer_count": 1, "score": 1, "last_activity_date": 1432760864, "creation_date": 1432759675, "last_edit_date": 1432760070, "question_id": 30492837, "link": "https://stackoverflow.com/questions/30492837/how-to-deal-with-my-login-required-url", "title": "How to deal with my login_required url?", "body": "<p>I have:</p>\n\n<p>Linker urls:</p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^$',\n        include('distributors.urls', namespace='distributors')),\n    url(r'^accounts/', include('allauth.urls')),\n]\n</code></pre>\n\n<p>App urls:</p>\n\n<pre><code>url(r'^$', views.Index.as_view(), name='index'),\nurl(r'^links/$', login_required(views.LinkListView.as_view(), name='links'),\n</code></pre>\n\n<p>in my html i have <code>href=\"{% url 'distributors:index' %}\"</code> and <code>href=\"{% url 'distributors:links' %}\"</code></p>\n\n<p>Views:</p>\n\n<pre><code>class Index(TemplateView):\n    template_name = \"distributors/index.html\"\n\n\nclass LinkListView(ListView):\n    model = Link\n    template_name = \"distributors/links.html\"\n    context_object_name = 'links'\n</code></pre>\n\n<p>When I try to enter <a href=\"http://127.0.0.1:8000/\" rel=\"nofollow\">http://127.0.0.1:8000/</a> I see <code>The included urlconf 'linker.urls' does not appear to have any patterns in it. If you see valid patterns in the file then the issue is probably caused by a circular import.</code></p>\n\n<p>Any ideas how to fix this?</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "ipython", "ipython-notebook"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 2, "creation_date": 1432760348, "post_id": 30492623, "comment_id": 49063757, "body": "related: <a href=\"http://stackoverflow.com/questions/28831854/how-do-i-add-python3-kernel-to-jupyter-ipython\" title=\"how do i add python3 kernel to jupyter ipython\">stackoverflow.com/questions/28831854/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "edited": false, "score": 0, "creation_date": 1432762381, "post_id": 30492913, "comment_id": 49064780, "body": "Your solution looks a lot like the solution I ended up using and in principle I would expect it to work.  Since I already uninstalled anaconda and got this working I won&#39;t be able to verify."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1432763105, "post_id": 30492913, "comment_id": 49065096, "body": "Works on Mac. The new kernel specifications end up in <code>&#47;usr&#47;local&#47;share&#47;jupyter&#47;kernels&#47;kernel2&#47;kernel.json</code> and <code>&#47;usr&#47;local&#47;share&#47;jupyter&#47;kernels&#47;kernel3&#47;kernel.json</code>."}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "edited": false, "score": 0, "creation_date": 1432763925, "post_id": 30492913, "comment_id": 49065417, "body": "@deltap, yes our solutions are very similar. The only difference is that your solution requires root access because it does not use a virtualenv. I personally prefer <code>virtualenvs</code>, but this is a matter of taste I guess. If it works, everything is fine :)"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1432764099, "post_id": 30492913, "comment_id": 49065479, "body": "@MikeM&#252;ller, well good for all searching for this question - but bad for me. I really can&#39;t figure out why it does not work for me :)"}, {"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 9, "creation_date": 1432782655, "post_id": 30492913, "comment_id": 49070277, "body": "If you want to set up the kernelspecs without requiring root, you can do <code>ipython kernelspec install-self --user</code> to install them for the current user."}, {"owner": {"reputation": 538, "user_id": 3266161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/36efad6f5c1f8b6e157ff3cb7fddbeb1?s=128&d=identicon&r=PG", "display_name": "Clever Programmer", "link": "https://stackoverflow.com/users/3266161/clever-programmer"}, "edited": false, "score": 0, "creation_date": 1440472387, "post_id": 30492913, "comment_id": 52274984, "body": "This solution was amazing. Thank you. I got both my ipython notebooks up and running now. However, is there a way when I click the [NEW] button in IPython Notebook, it gives me two options: <b>1. Python 2</b> and <b>2. Python 3</b>? <b>Is that a possibility to have both of the options show in one place</b>? @cel"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 538, "user_id": 3266161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/36efad6f5c1f8b6e157ff3cb7fddbeb1?s=128&d=identicon&r=PG", "display_name": "Clever Programmer", "link": "https://stackoverflow.com/users/3266161/clever-programmer"}, "edited": false, "score": 0, "creation_date": 1440499239, "post_id": 30492913, "comment_id": 52287745, "body": "@Rafeh, can you try to rephrase your question? I am having trouble understanding what &quot;both of the options in one place&quot; refers to."}, {"owner": {"reputation": 538, "user_id": 3266161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/36efad6f5c1f8b6e157ff3cb7fddbeb1?s=128&d=identicon&r=PG", "display_name": "Clever Programmer", "link": "https://stackoverflow.com/users/3266161/clever-programmer"}, "edited": false, "score": 1, "creation_date": 1440499344, "post_id": 30492913, "comment_id": 52287812, "body": "I have figured it out! Your answer helped out!  <a href=\"https://www.dropbox.com/s/6ayqf55ctkv2xgk/Screenshot%202015-08-25%2005.41.41.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/6ayqf55ctkv2xgk/&hellip;</a>"}, {"owner": {"reputation": 538, "user_id": 3266161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/36efad6f5c1f8b6e157ff3cb7fddbeb1?s=128&d=identicon&r=PG", "display_name": "Clever Programmer", "link": "https://stackoverflow.com/users/3266161/clever-programmer"}, "edited": false, "score": 0, "creation_date": 1440545906, "post_id": 30492913, "comment_id": 52315298, "body": "Now when I click [NEW NOTEBOOK] button, in the drop-down menu it shows both, python 2 &amp; python 3. It only works if I am running the ipython notebook through my main installation of Anaconda (not the virtual envs)."}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "reply_to_user": {"reputation": 538, "user_id": 3266161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/36efad6f5c1f8b6e157ff3cb7fddbeb1?s=128&d=identicon&r=PG", "display_name": "Clever Programmer", "link": "https://stackoverflow.com/users/3266161/clever-programmer"}, "edited": false, "score": 0, "creation_date": 1440695788, "post_id": 30492913, "comment_id": 52391292, "body": "Anybody figured out how I need to start <code>jupyter</code>, when I want to run python 2 &amp; 3 side-by-side like @Rafeh mentioned, but I <b>do not</b> want to use <i>Anaconda</i>?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440696885, "post_id": 30492913, "comment_id": 52391984, "body": "@Chris, you can do the same steps but replace the anaconda with simple virtualenvs."}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440698636, "post_id": 30492913, "comment_id": 52393021, "body": "@cel thanks, yes, I can see the two kernels inside <code>jupyter</code>, but I can only run one of them, depending on which env I start <code>jupyter</code> with. However, there should be a way that I can run two notebooks side-by-side, one with the <code>python2</code> kernel and the other one with <code>python3</code>. I just don&#39;t know how to accomplish that. Currently, if I start <code>jupyter</code> from a <code>python2</code> env, the <code>python3</code> notebook opens, but the kernel crashes and the same the other way around. Any ideas what I am doing wrong? Probably related to my <code>$PATH</code> <code>$PYTHONPATH</code> setup?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440699503, "post_id": 30492913, "comment_id": 52393530, "body": "@Chris, that will be too complicated to figure out in the comments. You can instead ask a question and include as much detail as possible."}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "reply_to_user": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1440701056, "post_id": 30492913, "comment_id": 52394362, "body": "@cel thanks, I was about to do that, but I just figured it out the problem and as it turns out - the answer below by @MikeM&#252;ller did help me (spoiler: I had to edit the <code>kernel.json</code> file created by the <code>ipython kernelspec install-self</code> according to the link he provided)"}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1448076868, "post_id": 30492913, "comment_id": 55443929, "body": "Using these instructions on Win8.1, neither anaconda nor ipython was installed in the venv.  This was resolved by removing the  venv and reinstalling by adding <code>anaconda to the end, i.e. </code>conda create -n py27 python=2.7 anaconda`"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1448088937, "post_id": 30492913, "comment_id": 55446127, "body": "@pylang, note that there is no need to remove environments in this case. After activating the environment of your choice, you can add additional packages using <code>conda install &lt;package-name&gt;</code>."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1448122897, "post_id": 30492913, "comment_id": 55455815, "body": "@cel, thanks.  I was unsure if anaconda would link to existing packages.  Also, an edit to my former comment: &quot;...<code>anaconda</code> to the end, i.e. <code>conda create -n py27 python=2.7 anaconda</code>&quot;"}, {"owner": {"reputation": 761, "user_id": 3294677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tCJW4.jpg?s=128&g=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3294677/romain"}, "edited": false, "score": 0, "creation_date": 1454609600, "post_id": 30492913, "comment_id": 58132227, "body": "great answer thanks for that ! You literally saved me."}, {"owner": {"reputation": 641, "user_id": 5094480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/faa005a9fc804f66a8982a4844576825?s=128&d=identicon&r=PG&f=1", "display_name": "leon yin", "link": "https://stackoverflow.com/users/5094480/leon-yin"}, "edited": false, "score": 0, "creation_date": 1463440331, "post_id": 30492913, "comment_id": 62056055, "body": "My root environment is 3.5 and I created a new environment called py35 like above. I lost my pip installed packages, am I able to have this new environment point to the root bin?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 641, "user_id": 5094480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/faa005a9fc804f66a8982a4844576825?s=128&d=identicon&r=PG&f=1", "display_name": "leon yin", "link": "https://stackoverflow.com/users/5094480/leon-yin"}, "edited": false, "score": 0, "creation_date": 1463460966, "post_id": 30492913, "comment_id": 62061155, "body": "@leonyin, if you want to use the root environment in jupyter, you can install another ipython kernel into the root environment. Just do <code>conda install notebook ipykernel</code> and <code>ipython kernel install --user --name root_py3</code> in your root enviroment and choose the <code>root_py3</code> kernel in the notebook."}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 0, "creation_date": 1470159290, "post_id": 30492913, "comment_id": 64829832, "body": "Using Ubuntu I installed Anaconda then followed the instructions to do conda create -n py27 python=2.7 ipykernel conda create -n py35 python=3.5 ipykernel and when I restart the notebook I still only get the python 3 option on the notebook? How can I enable python 2 as a choice for new notebooks?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 0, "creation_date": 1470159422, "post_id": 30492913, "comment_id": 64829924, "body": "@dartdog, as described in the answer there are two cases: Either you have <code>nb_conda_kernel</code>, then this suffices. Else you have to install the kernel manually as described in the second half of the answer."}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 7, "creation_date": 1470161764, "post_id": 30492913, "comment_id": 64831361, "body": "The key item is that you must INSTALL nb_conda_kernels it did not come with my initial Anaconda! Thanks!"}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 0, "creation_date": 1470162240, "post_id": 30492913, "comment_id": 64831624, "body": "So now I have multiple Conda env&#39;s (for p2 and p3) is there an easy way to install all the base anaconda packages in both? In something like a universal requirements text file for scikit learn etal?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 0, "creation_date": 1470172308, "post_id": 30492913, "comment_id": 64837335, "body": "@dartdog, anaconda is a (meta-)package and you can install it as any other package. <code>conda install anaconda</code>."}, {"owner": {"reputation": 738, "user_id": 3822261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UiHmq.jpg?s=128&g=1", "display_name": "Matt Kleinsmith", "link": "https://stackoverflow.com/users/3822261/matt-kleinsmith"}, "edited": false, "score": 0, "creation_date": 1491492610, "post_id": 30492913, "comment_id": 73587684, "body": "Installing nb_conda_kernels: <code>conda install nb_conda_kernels</code>"}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 0, "creation_date": 1494191075, "post_id": 30492913, "comment_id": 74710028, "body": "In case anyone runs across <code>jupyter_environment_kernels</code>; apparently <code>nb_conda_kernels</code> and <code>jupyter_environment_kernels</code> have a similar goal, and maybe even some common code, <a href=\"https://github.com/Cadair/jupyter_environment_kernels/issues/2\" rel=\"nofollow noreferrer\">as discussed by their creators</a>"}, {"owner": {"reputation": 768, "user_id": 1542390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcV3R.jpg?s=128&g=1", "display_name": "Lyle", "link": "https://stackoverflow.com/users/1542390/lyle"}, "edited": false, "score": 0, "creation_date": 1497437359, "post_id": 30492913, "comment_id": 76075628, "body": "installing kernelspec by &quot;ipython kernel install --user&quot; was missing one that I need after adding conda env with a new python version."}, {"owner": {"reputation": 522, "user_id": 3416205, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d469fcc67c230f6e2b24ba61d6796e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Gautier", "link": "https://stackoverflow.com/users/3416205/antoine-gautier"}, "edited": false, "score": 0, "creation_date": 1506353612, "post_id": 30492913, "comment_id": 79775559, "body": "With Anaconda 4.4 it seems you need to install ipykernel manually as discussed here <a href=\"https://stackoverflow.com/a/44786736/3416205\">stackoverflow.com/a/44786736/3416205</a>"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 522, "user_id": 3416205, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d469fcc67c230f6e2b24ba61d6796e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Gautier", "link": "https://stackoverflow.com/users/3416205/antoine-gautier"}, "edited": false, "score": 0, "creation_date": 1506404770, "post_id": 30492913, "comment_id": 79794638, "body": "@AntoineGautier, I am very surprised to hear this. For me this way still seems to work. Are you sure that the environment you start jupyter from has the package nb_conda_kernels? I didn&#39;t find any changes upstream that render this approach unusable."}, {"owner": {"reputation": 522, "user_id": 3416205, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d469fcc67c230f6e2b24ba61d6796e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Gautier", "link": "https://stackoverflow.com/users/3416205/antoine-gautier"}, "edited": false, "score": 1, "creation_date": 1506519750, "post_id": 30492913, "comment_id": 79854561, "body": "@cel, indeed the environment I start jupyter from does not have the package nb_conda_kernels installed by default. I did not take the time to read all the comments: maybe you could edit your answer and include dartdog&#39;s remak."}, {"owner": {"reputation": 2034, "user_id": 1980165, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0e1a38e5deca1c31b3bfa86d531864b2?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/1980165/steve"}, "edited": false, "score": 0, "creation_date": 1529780666, "post_id": 30492913, "comment_id": 89001972, "body": "The auto instructions here didn&#39;t work me me but the manual ones did!  Thanks!"}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1539178702, "post_id": 30492913, "comment_id": 92407842, "body": "Not working for me, when I do <code>source activate py36</code>, it errors out: -bash: /home/jhelmus/workspace/misc/cdh_parcel/anaconda/scripts/par&zwnj;&#8203;cel/tmp/Anaconda-5.1&zwnj;&#8203;.0/etc/profile.d/con&zwnj;&#8203;da.sh: No such file or directory"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1539180495, "post_id": 30492913, "comment_id": 92408979, "body": "@mdivk, does <code>conda activate py36</code> work? It could be that I have to update this for the latest version of conda."}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1539196502, "post_id": 30492913, "comment_id": 92417989, "body": "No it doesn&#39;t work, it&#39;s obviously something leftover in the error: jhelmus, who is most likely the developer of the code. and yes the right command should be <code>conda activate</code>"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1539244463, "post_id": 30492913, "comment_id": 92433200, "body": "@mdivik, I agree with you that it seems to be some leftover of developer code, however I don&#39;t know how to fix it. I guess exporting your environments and reinstalling anaconda with the latest official installer will fix it."}, {"owner": {"reputation": 1533, "user_id": 7592832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/azZDB.jpg?s=128&g=1", "display_name": "Pranzell", "link": "https://stackoverflow.com/users/7592832/pranzell"}, "edited": false, "score": 0, "creation_date": 1561037367, "post_id": 30492913, "comment_id": 99939651, "body": "Works like a charm! Just to add: ipython kernel install --user --name KERNELNAME --display-name KERNELNAME  helps to quickly identify the right kernel version."}], "tags": [], "owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "is_accepted": false, "score": 346, "last_activity_date": 1539244556, "last_edit_date": 1539244556, "creation_date": 1432759976, "answer_id": 30492913, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/30492913#30492913", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>The idea here is to install multiple <code>ipython</code> kernels. Here are instructions for anaconda. If you are not using anaconda, I recently added <a href=\"https://stackoverflow.com/a/34464003/2272172\">instructions</a> using pure virtualenvs.</p>\n\n<h2>Anaconda >= 4.1.0</h2>\n\n<p>Since version 4.1.0, anaconda includes a special package <code>nb_conda_kernels</code> that detects conda environments with notebook kernels and automatically registers them. This makes using a new python version as easy as creating new conda environments:</p>\n\n<pre><code>conda create -n py27 python=2.7 ipykernel\nconda create -n py36 python=3.6 ipykernel\n</code></pre>\n\n<p>After a restart of jupyter notebook, the new kernels are available over the graphical interface. Please note that new packages have to be explicitly installed into the new environments. The <a href=\"http://conda.pydata.org/docs/using/envs.html\" rel=\"noreferrer\">Managing environments</a> section in conda's docs provides further information.</p>\n\n<h2>Manually registering kernels</h2>\n\n<p>Users who do not want to use <code>nb_conda_kernels</code> or still use older versions of anaconda can use the following steps to manually register ipython kernels.</p>\n\n<p>configure the <code>python2.7</code> environment:</p>\n\n<pre><code>conda create -n py27 python=2.7\nconda activate py27\nconda install notebook ipykernel\nipython kernel install --user\n</code></pre>\n\n<p>configure the <code>python3.6</code> environment:</p>\n\n<pre><code>conda create -n py36 python=3.6\nconda activate py36\nconda install notebook ipykernel\nipython kernel install --user\n</code></pre>\n\n<p>After that you should be able to choose between <code>python2</code><br>\nand <code>python3</code> when creating a new notebook in the interface.</p>\n\n<p>Additionally you can pass the <code>--name</code> and <code>--display-name</code> options to <code>ipython kernel install</code> if you want to change the names of your kernels. See <code>ipython kernel install --help</code> for more informations.</p>\n"}, {"comments": [{"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440696001, "post_id": 30493051, "comment_id": 52391421, "body": "Can you please confirm that you can run <code>python2</code> and <code>python3</code> kernel notebooks side-by-side in the same <code>jupyter</code> instance? In this case, how exactly do you start <code>jupyter</code> to not have conflicting paths? I currently can only either run <code>python2</code> or <code>python3</code> code by setting up the appropriate <code>$PATH</code> <code>$PYTHONPATH</code> environment beforehand. Can I avoid this somehow?"}, {"owner": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440698823, "post_id": 30493051, "comment_id": 52393142, "body": "I can run either python2 or python3 kernel notebooks."}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440699221, "post_id": 30493051, "comment_id": 52393378, "body": "How do you start <code>jupyter</code> (given that it is installed for <code>python 2.7</code> and for <code>python 3.4</code>) Have you defined $PYTHONPATH or sourced some virtual environment? Are you just calling <code>ipython notebook</code> ? If so, which <code>ipython</code> is that referring to - the one installed for 2.7 or 3.4?"}, {"owner": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440789911, "post_id": 30493051, "comment_id": 52435556, "body": "I am just calling <code>python notebook</code>.  <code>which ipython</code> shows that it is pointing to <code>&#47;opt&#47;local&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;3.4&#47;&zwnj;&#8203;bin&#47;ipython</code>"}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440861592, "post_id": 30493051, "comment_id": 52452748, "body": "Alright, I figured out my problem and it had to do with a pre-defined <code>$PYTHONPATH</code>, which makes switching kernels difficult. I had to <code>unset PYTHONPATH</code> before starting <code>ipython</code> and now it works."}], "tags": [], "owner": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "is_accepted": true, "score": 22, "last_activity_date": 1440698894, "last_edit_date": 1440698894, "creation_date": 1432760439, "answer_id": 30493051, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/30493051#30493051", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>A solution is available that allows me to keep my MacPorts installation by configuring the Ipython kernelspec.</p>\n\n<p>Requirements:</p>\n\n<ul>\n<li>MacPorts is installed in the usual /opt directory</li>\n<li>python 2.7 is installed through macports</li>\n<li>python 3.4 is installed through macports</li>\n<li>Ipython is installed for python 2.7</li>\n<li>Ipython is installed for python 3.4</li>\n</ul>\n\n<p>For python 2.x:</p>\n\n<pre><code>$ cd /opt/local/Library/Frameworks/Python.framework/Versions/2.7/bin\n$ sudo ./ipython kernelspec install-self\n</code></pre>\n\n<p>For python 3.x:</p>\n\n<pre><code>$ cd /opt/local/Library/Frameworks/Python.framework/Versions/3.4/bin\n$ sudo ./ipython kernelspec install-self\n</code></pre>\n\n<p>Now you can open an Ipython notebook and then choose a python 2.x or a python 3.x notebook.</p>\n\n<p><a href=\"https://i.stack.imgur.com/45bUZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/45bUZ.png\" alt=\"Choose your python!\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440695598, "post_id": 30493155, "comment_id": 52391177, "body": "This is great and I am trying to get that working, but could you specify how you start <code>jupyter</code> in this scenario (I either have to run <code>ipython notebook</code> or <code>ipython3 notebook</code>). Right now I can only run one or the other (with their respective environments, but I do see both kernels listed inside <code>jupyter</code>. Could you maybe expand your answer to include how to start <code>jupyter</code> so that I can run <code>python2</code> and <code>python3</code> side-by-side? Thanks!"}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 1, "creation_date": 1440699645, "post_id": 30493155, "comment_id": 52393619, "body": "Ok, I think I figured it out - I had to adjust the <code>kernel.json</code> file inside <code>~&#47;Library&#47;Jupyter&#47;kernels&#47;python3&#47;</code> (on OS X) and add the arguments mentioned in the linked file."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440826037, "post_id": 30493155, "comment_id": 52444170, "body": "@Chris Yes, while the description behind the link is given in an IPython Notebook, it could be done in an editor. Just create or modify a file with a certain name at a given path and at the the shown content. Glad that you solved your problem."}, {"owner": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 0, "creation_date": 1440861495, "post_id": 30493155, "comment_id": 52452721, "body": "I would recommend to edit your answer to include the details from that link. Answers shouldn&#39;t keep the most important part hidden &quot;behind&quot; a link."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 2845, "user_id": 454063, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8aaea480214fc48e869216f62eb3333?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/454063/chris"}, "edited": false, "score": 1, "creation_date": 1440924237, "post_id": 30493155, "comment_id": 52466377, "body": "@Chris Added the details from the link."}, {"owner": {"reputation": 5746, "user_id": 219153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/je9qW.jpg?s=128&g=1", "display_name": "Paul Jurczak", "link": "https://stackoverflow.com/users/219153/paul-jurczak"}, "edited": false, "score": 0, "creation_date": 1445936653, "post_id": 30493155, "comment_id": 54522192, "body": "Very elegant solution, thank you. Worked for me on Kubuntu 15.10. The kernel shows as <code>IPython (Python 3)</code> instead of <code>Python 3</code>, though."}, {"owner": {"reputation": 680, "user_id": 1216480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b756cb6ae5c5a4fac7675dfb496d6940?s=128&d=identicon&r=PG", "display_name": "Makc", "link": "https://stackoverflow.com/users/1216480/makc"}, "edited": false, "score": 0, "creation_date": 1466940541, "post_id": 30493155, "comment_id": 63515812, "body": "finally you can run  &quot;jupyter kernelspec install ~/.ipython/kernels/python3/ --user&quot; It  will install kernel to ~/.local/share/jupyter/kernels directory. I&#39;m not sure, but maybe that will help avoid compatibility issues in the feature when Jupyter only will be supported! Ubuntu 14.04 x86_64"}, {"owner": {"reputation": 180, "user_id": 1255933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65dde31613dadc0da6c4c1973ca82bb8?s=128&d=identicon&r=PG", "display_name": "user1255933", "link": "https://stackoverflow.com/users/1255933/user1255933"}, "edited": false, "score": 0, "creation_date": 1489284804, "post_id": 30493155, "comment_id": 72603424, "body": "IPython.kernel is throwing a deprecation error. This worked for me: &quot;argv&quot;: [&quot;python3&quot;,&quot;-m&quot;, &quot;ipykernel&quot;,&quot;-f&quot;, &quot;{connection_file}&quot;]"}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 37, "last_activity_date": 1441114904, "last_edit_date": 1441114904, "creation_date": 1432760806, "answer_id": 30493155, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/30493155#30493155", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>With a current version of the Notebook/Jupyter, you can create a <a href=\"http://jupyter.cs.brynmawr.edu/hub/dblank/public/Jupyter%20Help.ipynb#1.4.2-Enable-Python-3-kernel\">Python3 kernel</a>. After starting a new notebook application from the command line with Python 2 you should see an entry \u201ePython 3\u201c in the dropdown menu \u201eNew\u201c. This gives you a notebook that uses Python 3. So you can have two notebooks side-by-side with different Python versions.</p>\n\n<h3>The Details</h3>\n\n<ol>\n<li>Create this directory: <code>mkdir -p ~/.ipython/kernels/python3</code></li>\n<li><p>Create this file <code>~/.ipython/kernels/python3/kernel.json</code> with this content:</p>\n\n<pre><code>{\n    \"display_name\": \"IPython (Python 3)\", \n    \"language\": \"python\", \n    \"argv\": [\n        \"python3\", \n        \"-c\", \"from IPython.kernel.zmq.kernelapp import main; main()\", \n        \"-f\", \"{connection_file}\"\n    ], \n    \"codemirror_mode\": {\n        \"version\": 2, \n        \"name\": \"ipython\"\n    }\n}\n</code></pre></li>\n<li><p>Restart the notebook server.</p></li>\n<li>Select \u201ePython 3\u201c  from the dropdown menu \u201eNew\u201c</li>\n<li>Work with a Python 3 Notebook</li>\n<li>Select \u201ePython 2\u201c  from the dropdown menu \u201eNew\u201c</li>\n<li>Work with a Python 2 Notebook</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 876, "user_id": 1323030, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a82a9d0ed4029cd5144153294b656052?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1323030/joseph"}, "edited": false, "score": 2, "creation_date": 1445365982, "post_id": 33016661, "comment_id": 54290722, "body": "I hate randomly pasting commands into my Ubuntu install, but this did work for me."}, {"owner": {"reputation": 8578, "user_id": 786279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2oMjk.jpg?s=128&g=1", "display_name": "mimoralea", "link": "https://stackoverflow.com/users/786279/mimoralea"}, "reply_to_user": {"reputation": 876, "user_id": 1323030, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a82a9d0ed4029cd5144153294b656052?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1323030/joseph"}, "edited": false, "score": 0, "creation_date": 1445429942, "post_id": 33016661, "comment_id": 54319322, "body": "I hear you! I just added the documentation reference where I found it."}, {"owner": {"reputation": 12955, "user_id": 1054939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uqNUS.jpg?s=128&g=1", "display_name": "e9t", "link": "https://stackoverflow.com/users/1054939/e9t"}, "edited": false, "score": 1, "creation_date": 1453130795, "post_id": 33016661, "comment_id": 57455886, "body": "Should be the chosen answer."}, {"owner": {"reputation": 14246, "user_id": 1655567, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/08d134d1cb7ddb592471df1b356e2bd4?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/1655567/konrad"}, "edited": false, "score": 1, "creation_date": 1460659541, "post_id": 33016661, "comment_id": 60858324, "body": "Brief and the to the point, I&#39;ve applied this solution on Mac OS X, works with no problems."}, {"owner": {"reputation": 1669, "user_id": 6652664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PhfUI.jpg?s=128&g=1", "display_name": "sinsuren", "link": "https://stackoverflow.com/users/6652664/sinsuren"}, "edited": false, "score": 1, "creation_date": 1477074620, "post_id": 33016661, "comment_id": 67633942, "body": "I tried all the answers. But this worked for me. Give it a try if you are on ubuntu."}, {"owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "edited": false, "score": 1, "creation_date": 1492820600, "post_id": 33016661, "comment_id": 74159827, "body": "And where do I get <code>ipython2</code>?"}], "tags": [], "owner": {"reputation": 8578, "user_id": 786279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2oMjk.jpg?s=128&g=1", "display_name": "mimoralea", "link": "https://stackoverflow.com/users/786279/mimoralea"}, "is_accepted": false, "score": 19, "last_activity_date": 1476207870, "last_edit_date": 1476207870, "creation_date": 1444309301, "answer_id": 33016661, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/33016661#33016661", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>From my Linux installation I did:</p>\n\n<p><code>sudo ipython2 kernelspec install-self</code></p>\n\n<p>And now my python 2 is back on the list.</p>\n\n<p><strong>Reference:</strong></p>\n\n<p><a href=\"http://ipython.readthedocs.org/en/latest/install/kernel_install.html\" rel=\"noreferrer\">http://ipython.readthedocs.org/en/latest/install/kernel_install.html</a></p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>The method above is now deprecated and will be dropped in the future. The new method should be:</p>\n\n<p><code>sudo ipython2 kernel install</code></p>\n"}, {"comments": [{"owner": {"reputation": 180, "user_id": 1255933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65dde31613dadc0da6c4c1973ca82bb8?s=128&d=identicon&r=PG", "display_name": "user1255933", "link": "https://stackoverflow.com/users/1255933/user1255933"}, "edited": false, "score": 0, "creation_date": 1489283841, "post_id": 34464003, "comment_id": 72603259, "body": "followed this to the dot, installed pandas, started jupyter, switched to py3 kernel: import pandas failed with &#39;not found&#39; error. It&#39;s driving me bonkers"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "reply_to_user": {"reputation": 180, "user_id": 1255933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65dde31613dadc0da6c4c1973ca82bb8?s=128&d=identicon&r=PG", "display_name": "user1255933", "link": "https://stackoverflow.com/users/1255933/user1255933"}, "edited": false, "score": 1, "creation_date": 1489323319, "post_id": 34464003, "comment_id": 72611969, "body": "@user1255933, this is likely due to a installing with the wrong pip version. This can happen if activating the target environment failed or it does not contain a pip version. You might find my answer here interesting: <a href=\"https://stackoverflow.com/questions/32680081/importerror-after-successful-pip-installation/32680082#32680082\" title=\"importerror after successful pip installation\">stackoverflow.com/questions/32680081/&hellip;</a>."}, {"owner": {"reputation": 2794, "user_id": 1212419, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0dfd482bda37a2237d0e0db6935de140?s=128&d=identicon&r=PG", "display_name": "mdivk", "link": "https://stackoverflow.com/users/1212419/mdivk"}, "edited": false, "score": 0, "creation_date": 1536348947, "post_id": 34464003, "comment_id": 91406904, "body": "Thank you for the instruction on using non-anaconda way to install kernel"}], "tags": [], "owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "is_accepted": false, "score": 44, "last_activity_date": 1451112238, "last_edit_date": 1495540989, "creation_date": 1451056702, "answer_id": 34464003, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/34464003#34464003", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>These instructions explain how to install a python2 and python3 kernel in separate virtual environments for non-anaconda users. If you are using anaconda, please find my <a href=\"https://stackoverflow.com/a/30492913/2272172\">other answer</a> for a solution directly tailored to anaconda. </p>\n\n<p>I assume that you already have <code>jupyter notebook</code> installed.</p>\n\n<hr>\n\n<p>First make sure that you have a <code>python2</code> and a <code>python3</code> interpreter with <code>pip</code> available.</p>\n\n<p>On ubuntu you would install these by:</p>\n\n<pre><code>sudo apt-get install python-dev python3-dev python-pip python3-pip\n</code></pre>\n\n<p>Next prepare and register the kernel environments</p>\n\n<pre><code>python -m pip install virtualenv --user\n\n# configure python2 kernel\npython -m virtualenv -p python2 ~/py2_kernel\nsource ~/py2_kernel/bin/activate\npython -m pip install ipykernel\nipython kernel install --name py2 --user\ndeactivate\n\n# configure python3 kernel\npython -m virtualenv -p python3 ~/py3_kernel\nsource ~/py3_kernel/bin/activate\npython -m pip install ipykernel\nipython kernel install --name py3 --user\ndeactivate\n</code></pre>\n\n<p>To make things easier, you may want to add shell aliases for the activation command to your shell config file. Depending on the system and shell you use, this can be e.g. <code>~/.bashrc</code>, <code>~/.bash_profile</code> or <code>~/.zshrc</code></p>\n\n<pre><code>alias kernel2='source ~/py2_kernel/bin/activate'\nalias kernel3='source ~/py3_kernel/bin/activate'\n</code></pre>\n\n<p>After restarting your shell, you can now install new packages after activating the environment you want to use.</p>\n\n<pre><code>kernel2\npython -m pip install &lt;pkg-name&gt;\ndeactivate\n</code></pre>\n\n<p>or</p>\n\n<pre><code>kernel3\npython -m pip install &lt;pkg-name&gt;\ndeactivate\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2241, "user_id": 601770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a964d8adc8460a430903e7faa76480da?s=128&d=identicon&r=PG", "display_name": "Love and peace - Joe Codeswell", "link": "https://stackoverflow.com/users/601770/love-and-peace-joe-codeswell"}, "is_accepted": false, "score": 1, "last_activity_date": 1465835130, "last_edit_date": 1465835130, "creation_date": 1465833107, "answer_id": 37794154, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/37794154#37794154", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>I looked at this excellent info and then <strong>wondered</strong>, since </p>\n\n<ol>\n<li>i have python2, python3 and IPython all installed,</li>\n<li>i have PyCharm installed,</li>\n<li><a href=\"https://www.jetbrains.com/pycharm/\" rel=\"nofollow\">PyCharm</a> uses IPython for its Python Console,</li>\n</ol>\n\n<p><strong>if</strong> <a href=\"https://www.jetbrains.com/pycharm/\" rel=\"nofollow\">PyCharm</a> would use </p>\n\n<ol>\n<li>IPython-py2 when Menu>File>Settings>Project>Project Interpreter == py2  <strong>AND</strong></li>\n<li>IPython-py3 when Menu>File>Settings>Project>Project Interpreter == py3</li>\n</ol>\n\n<p><strong>ANSWER: Yes!</strong></p>\n\n<p>P.S. i have Python Launcher for Windows installed as well.</p>\n"}, {"comments": [{"owner": {"reputation": 8131, "user_id": 4549682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6WL61uu5PTI/AAAAAAAAAAI/AAAAAAAAAAA/GXg0FQPcuIQ/photo.jpg?sz=128", "display_name": "wordsforthewise", "link": "https://stackoverflow.com/users/4549682/wordsforthewise"}, "edited": false, "score": 55, "creation_date": 1469869625, "post_id": 37857536, "comment_id": 64724632, "body": "Switch the &#39;2&#39; for &#39;3&#39; if you have python2 already setup and need python3.  I don&#39;t understand why this isn&#39;t the top answer, it definitely wins by Occam&#39;s razor and it worked for me."}, {"owner": {"reputation": 1278, "user_id": 588966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f3bab5eb9652024e33e0da9ba3ca009?s=128&d=identicon&r=PG", "display_name": "JSmyth", "link": "https://stackoverflow.com/users/588966/jsmyth"}, "edited": false, "score": 6, "creation_date": 1480739809, "post_id": 37857536, "comment_id": 69099621, "body": "Works perfectly. Should be the first answer indeed."}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "edited": false, "score": 0, "creation_date": 1494186264, "post_id": 37857536, "comment_id": 74708427, "body": "The accepted answer appears to reference <a href=\"http://ipython.readthedocs.io/en/stable/install/kernel_install.html\" rel=\"nofollow noreferrer\">the same help</a> as this answer. I want to understand the difference. I notice the accepted answer uses <code>conda</code> command, whereas this answer uses <code>python2</code> command; moreover the accepted answer uses <code>conda create</code> , which creates a new <b>conda environment</b>; is that right? <b>Both</b> techniques end in <code>python2 -m ipykernel install --user</code>, which is described as &quot;The last command installs a <a href=\"https://jupyter-client.readthedocs.io/en/latest/kernels.html#kernelspecs\" rel=\"nofollow noreferrer\">kernel spec</a> file...&quot;"}, {"owner": {"reputation": 3159, "user_id": 1155409, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0c3517d3810bda202bff11fb50dd5bfe?s=128&d=identicon&r=PG", "display_name": "verystrongjoe", "link": "https://stackoverflow.com/users/1155409/verystrongjoe"}, "edited": false, "score": 2, "creation_date": 1499964271, "post_id": 37857536, "comment_id": 77145588, "body": "python2 command is included in python itself? Please give some explanation of this answer elaborately. :)"}, {"owner": {"reputation": 3095, "user_id": 3429605, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4cab1e2f110ecff055651ca7a94940c1?s=128&d=identicon&r=PG&f=1", "display_name": "Rutger Hofste", "link": "https://stackoverflow.com/users/3429605/rutger-hofste"}, "edited": false, "score": 3, "creation_date": 1500599787, "post_id": 37857536, "comment_id": 77421223, "body": "this works, but it is not linked to my system python 2 with additional packages. Is there a way to link to an existing python binary/executable?"}, {"owner": {"reputation": 1340, "user_id": 1883468, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/591746a250d5f03ab2de686d59c9ffa9?s=128&d=identicon&r=PG", "display_name": "Harry M", "link": "https://stackoverflow.com/users/1883468/harry-m"}, "edited": false, "score": 0, "creation_date": 1504824168, "post_id": 37857536, "comment_id": 79175255, "body": "this should be the first answer! The current first answer didn&#39;t work for me."}, {"owner": {"reputation": 3280, "user_id": 429476, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/V3SVL.jpg?s=128&g=1", "display_name": "Alex Punnen", "link": "https://stackoverflow.com/users/429476/alex-punnen"}, "edited": false, "score": 0, "creation_date": 1510734755, "post_id": 37857536, "comment_id": 81556102, "body": "works , but in ubtuntu 16.04 has to install 1) sudo -E apt-get install python-dev; then in the virtual environment 2) pip2 install ipykernel then 3)python2 -m pip2 install ipykernel"}, {"owner": {"reputation": 4474, "user_id": 1739297, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PG6Q6.png?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1739297/matthias"}, "edited": false, "score": 0, "creation_date": 1522159233, "post_id": 37857536, "comment_id": 86034729, "body": "Running the first line, I get this error: Failed building wheel for scandir ... Command &quot;/usr/local/opt/python/bin/python2.7 -u -c &quot;import setuptool .... Any idea?"}, {"owner": {"reputation": 4474, "user_id": 1739297, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PG6Q6.png?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1739297/matthias"}, "edited": false, "score": 0, "creation_date": 1522159723, "post_id": 37857536, "comment_id": 86035111, "body": "Solved it. Since I&#39;m on MacOS, I had to fun &#39;xcode-select --install&#39; first."}, {"owner": {"reputation": 88, "user_id": 8583134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fmuaw.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/8583134/lucien"}, "edited": false, "score": 1, "creation_date": 1529073606, "post_id": 37857536, "comment_id": 88757635, "body": "Works perfectly in win10, just replace <code>python2</code> with <code>your\\path\\to\\python(2).exe</code>."}, {"owner": {"reputation": 3106, "user_id": 2128265, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3635ed24111729e81a06fcf7e40c3806?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/2128265/marc"}, "edited": false, "score": 0, "creation_date": 1544303515, "post_id": 37857536, "comment_id": 94230432, "body": "I&#39;m using Conda and this solution works with my current conda environment as desired. Thank You!"}], "tags": [], "owner": {"reputation": 3029, "user_id": 3304971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4554ec52f05225b891b68b419f48440d?s=128&d=identicon&r=PG&f=1", "display_name": "Ish", "link": "https://stackoverflow.com/users/3304971/ish"}, "is_accepted": false, "score": 292, "last_activity_date": 1466079761, "last_edit_date": 1466079761, "creation_date": 1466075689, "answer_id": 37857536, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/37857536#37857536", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>If you\u2019re running <a href=\"http://jupyter.org\">Jupyter</a> on Python 3, you can set up a Python 2 kernel like this:</p>\n\n<pre><code>python2 -m pip install ipykernel\n\npython2 -m ipykernel install --user\n</code></pre>\n\n<p><a href=\"http://ipython.readthedocs.io/en/stable/install/kernel_install.html\">http://ipython.readthedocs.io/en/stable/install/kernel_install.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 243872, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a2f1e86b3bac5a4cebc100058a62e5f9?s=128&d=identicon&r=PG", "display_name": "Krischu", "link": "https://stackoverflow.com/users/243872/krischu"}, "is_accepted": false, "score": 0, "last_activity_date": 1467884028, "last_edit_date": 1467884028, "creation_date": 1467881172, "answer_id": 38241104, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/38241104#38241104", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>Under Windows 7 I had anaconda and anaconda3 installed.\nI went into <code>\\Users\\me\\anaconda\\Scripts</code> and executed </p>\n\n<pre><code>sudo .\\ipython kernelspec install-self\n</code></pre>\n\n<p>then I went into <code>\\Users\\me\\anaconda3\\Scripts</code> and executed</p>\n\n<pre><code>sudo .\\ipython kernel install\n</code></pre>\n\n<p>(I got  <code>jupyter kernelspec install-self is DEPRECATED as of 4.0. You probably want 'ipython kernel install' to install the IPython kernelspec.</code>)</p>\n\n<p>After starting <code>jupyter notebook</code> (in anaconda3) I got a neat dropdown menu in the upper right corner under \"New\" letting me choose between Python 2 odr Python 3 kernels.</p>\n"}, {"tags": [], "owner": {"reputation": 1472, "user_id": 2450212, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3Gv2e.jpg?s=128&g=1", "display_name": "sv_jan5", "link": "https://stackoverflow.com/users/2450212/sv-jan5"}, "is_accepted": false, "score": 3, "last_activity_date": 1490879524, "creation_date": 1490879524, "answer_id": 43118932, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/43118932#43118932", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>Use <code>sudo pip3 install jupyter</code> for installing jupyter for python3 and <code>sudo pip install jupyter</code> for installing jupyter notebook for python2. Then, you can call <code>ipython kernel install</code> command to enable both types of notebook to choose from in jupyter notebook.</p>\n"}, {"comments": [{"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1557322836, "post_id": 47884001, "comment_id": 98726272, "body": "This doesn&#39;t add anything beyond what was already clearly stated in <a href=\"https://stackoverflow.com/a/30492913/570918\">@cel&#39;s answer</a>."}], "tags": [], "owner": {"reputation": 305, "user_id": 8259521, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-ZOaNLvd9skU/AAAAAAAAAAI/AAAAAAAACvM/krUoRcavJe8/photo.jpg?sz=128", "display_name": "Akash Chandra", "link": "https://stackoverflow.com/users/8259521/akash-chandra"}, "is_accepted": false, "score": 6, "last_activity_date": 1513676505, "creation_date": 1513676505, "answer_id": 47884001, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/47884001#47884001", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>Following are the steps to add the python2 kernel to jupyter notebook::</p>\n\n<p>open a terminal and create a new python 2 environment: <code>conda create -n py27 python=2.7</code></p>\n\n<p>activate the environment: Linux <code>source activate py27</code> or windows <code>activate py27</code></p>\n\n<p>install the kernel in the env: <code>conda install notebook ipykernel</code></p>\n\n<p>install the kernel for outside the env: <code>ipython kernel install --user</code></p>\n\n<p>close the env: <code>source deactivate</code></p>\n\n<p>Although a late answer hope someone finds it useful :p</p>\n"}, {"tags": [], "owner": {"reputation": 1792, "user_id": 10368811, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I-BvG9MaBhM/AAAAAAAAAAI/AAAAAAAANFs/-34xNagYPgQ/photo.jpg?sz=128", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/10368811/rahul-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1573131279, "last_edit_date": 1573131279, "creation_date": 1563952425, "answer_id": 57177207, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook/57177207#57177207", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<ul>\n<li>If you are running anaconda in virtual environment.</li>\n<li>And when you create a new notebook but i's not showing to select the virtual environment kernel.</li>\n<li>Then you have to set it into the ipykernel using the following command</li>\n</ul>\n\n<pre><code>$ pip install --user ipykernel\n$ python -m ipykernel install --user --name=test2\n</code></pre>\n"}], "owner": {"reputation": 3886, "user_id": 3749393, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20afc19beaf256fa70ebbb40c24df2b6?s=128&d=identicon&r=PG&f=1", "display_name": "deltap", "link": "https://stackoverflow.com/users/3749393/deltap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313713, "favorite_count": 209, "protected_date": 1466456562, "accepted_answer_id": 30493051, "answer_count": 11, "score": 260, "last_activity_date": 1573131279, "creation_date": 1432758881, "last_edit_date": 1444415048, "question_id": 30492623, "link": "https://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook", "title": "Using both Python 2.x and Python 3.x in IPython Notebook", "body": "<p>I use IPython notebooks and would like to be able to select to create a 2.x or 3.x python notebook in IPython.</p>\n\n<p>I initially had Anaconda.  With Anaconda a global environment variable had to be changed to select what version of python you want and then IPython could be started.  This is not what I was looking for so I uninstalled Anaconda and now have set up my own installation using MacPorts and PiP.  It seems that I still have to use</p>\n\n<pre><code>port select --set python &lt;python version&gt; \n</code></pre>\n\n<p>to toggle between python 2.x and 3.x. which is no better than the anaconda solution.</p>\n\n<p>Is there a way to select what version of python you want to use after you start an IPython notebook, preferably with my current MacPorts build?</p>\n"}, {"tags": ["python", "google-sheets", "gdata"], "comments": [{"owner": {"reputation": 101, "user_id": 1211849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aea3036248bfe10a1e19f4b37166350?s=128&d=identicon&r=PG", "display_name": "Dmytro Korduban", "link": "https://stackoverflow.com/users/1211849/dmytro-korduban"}, "edited": false, "score": 0, "creation_date": 1432824353, "post_id": 30492589, "comment_id": 49095235, "body": "Have the same problem since May 27, 2015. gdata 2.0.17"}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 2514498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce799f565e2608aec3bd54a03660a5c?s=128&d=identicon&r=PG", "display_name": "Andr&#233;e B", "link": "https://stackoverflow.com/users/2514498/andr%c3%a9e-b"}, "is_accepted": true, "score": 5, "last_activity_date": 1435237570, "last_edit_date": 1435237570, "creation_date": 1432838816, "answer_id": 30514764, "question_id": 30492589, "link": "https://stackoverflow.com/questions/30492589/gdata-spreadsheet-library-for-python-not-working-anymore/30514764#30514764", "title": "gdata spreadsheet library for python not working anymore?", "body": "<p>Actually here is the answer to the problem: </p>\n\n<blockquote>\n  <p>The use of client login (using username/password instead of oauth2) is\n  likely the cause of the error. That protocol was deprecated 3+ years\n  ago and was just shutdown. If you capture the HTTP response (which\n  appears to have some HTML content), that might confirm if it is\n  related to the shutdown. Migrating to OAuth 2 would get your apps\n  working again.</p>\n</blockquote>\n\n<p>After sending xml for update in spreadsheet google respond with a login page.\nIt means the authentication is not working for gdata now</p>\n\n<p><a href=\"https://code.google.com/a/google.com/p/apps-api-issues/issues/detail?id=3851#c2\" rel=\"nofollow\">https://code.google.com/a/google.com/p/apps-api-issues/issues/detail?id=3851#c2</a></p>\n"}], "owner": {"reputation": 311, "user_id": 1353505, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/arxrZ.jpg?s=128&g=1", "display_name": "ldanielw1", "link": "https://stackoverflow.com/users/1353505/ldanielw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1759, "favorite_count": 1, "accepted_answer_id": 30514764, "answer_count": 1, "score": 5, "last_activity_date": 1435237570, "creation_date": 1432758756, "question_id": 30492589, "link": "https://stackoverflow.com/questions/30492589/gdata-spreadsheet-library-for-python-not-working-anymore", "title": "gdata spreadsheet library for python not working anymore?", "body": "<p>I was trying to run a query for data in one of my google docs, and it's worked for several months. Starting yesterday or the day before, I noticed that my script no longer works. Has Google updated their api for spreadsheets? Has anybody found a workaround?</p>\n\n<p>My error looks like this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"build_packer_image.py\", line 311, in &lt;module&gt;\n    for index, entry in enumerate(client.GetWorksheetsFeed(doc_key).entry):\n  File \"/build/toolchain/mac-10.5-32/lib/python2.7/site-packages/gdata/spreadsheet/service.py\", line 129, in GetWorksheetsFeed\n    converter=gdata.spreadsheet.SpreadsheetsWorksheetsFeedFromString)\n  File \"/build/toolchain/mac-10.5-32/lib/python2.7/site-packages/gdata/service.py\", line 1074, in Get\n    return converter(result_body)\n  File \"/build/toolchain/mac-10.5-32/lib/python2.7/site-packages/gdata/spreadsheet/__init__.py\", line 411, in SpreadsheetsWorksheetsFeedFromString\n    xml_string)\n  File \"/build/toolchain/mac-10.5-32/lib/python2.7/site-packages/atom/__init__.py\", line 93, in optional_warn_function\n    return f(*args, **kwargs)\n  File \"/build/toolchain/mac-10.5-32/lib/python2.7/site-packages/atom/__init__.py\", line 127, in CreateClassFromXMLString\n    tree = ElementTree.fromstring(xml_string.replace('doctype','DOCTYPE'))\n  File \"&lt;string&gt;\", line 125, in XML\ncElementTree.ParseError: no element found: line 1, column 0\nBuild step 'Execute shell' marked build as failure\nFinished: FAILURE\n</code></pre>\n\n<p>I am using:</p>\n\n<ul>\n<li>Python 2.7.5</li>\n<li>gdata 2.0.18</li>\n</ul>\n\n<p>I am just using an document key and no oauth in my code, if that makes a difference (I am passing in the username and password to the ClientLogin method)</p>\n"}, {"tags": ["python", "pandas", "duplicates", "dataframe", "matching"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1432758890, "post_id": 30492556, "comment_id": 49063065, "body": "Sorry are you asking for any matches or rows that match the first row specifically? The following works specifically on matching first row: <code>In [11]:  df1[df1.apply(lambda x: x.abs() == df1.iloc[0], axis=1).all(axis=1)]  Out[11]:     a  b  c  d 0  1  2  3  4 2 -1 -2  3  4</code>"}, {"owner": {"reputation": 51, "user_id": 3538043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c300a091cd88efa7fbdc875b000b558?s=128&d=identicon&r=PG&f=1", "display_name": "user3538043", "link": "https://stackoverflow.com/users/3538043/user3538043"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1432761415, "post_id": 30492556, "comment_id": 49064302, "body": "Hi EdChum, thank you very much for the reply. No, I am not looking to match specifically the first row. Also it&#39;s not about matching absolute values, between 2 matching rows, values in column &quot;a&quot; and &quot;b&quot; must have opposite signs."}], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 4813246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56233e1d00be6692078795fe10ca3b44?s=128&d=identicon&r=PG&f=1", "display_name": "ayan guha", "link": "https://stackoverflow.com/users/4813246/ayan-guha"}, "is_accepted": true, "score": 2, "last_activity_date": 1432775962, "creation_date": 1432775962, "answer_id": 30495671, "question_id": 30492556, "link": "https://stackoverflow.com/questions/30492556/how-to-find-matching-rows-in-pandas-dataframe-with-identical-values-with-same-op/30495671#30495671", "title": "How to find matching rows in Pandas DataFrame with identical values with same/opposite signs in certain columns?", "body": "<p>This idea should work:</p>\n\n<ol>\n<li>Self join DF on c,d</li>\n<li>Apply condition of opposite values...</li>\n</ol>\n\n<p>A quick and dirty code</p>\n\n<pre><code>ndf = merge(left=df1,right=df1,on=('c','d'),how='inner')\nout = ndf[(ndf.a_x == (-1)*ndf.a_y) &amp; (ndf.b_x == (-1)*ndf.b_y)]\n</code></pre>\n\n<p>Please let me know if this works</p>\n"}], "owner": {"reputation": 51, "user_id": 3538043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c300a091cd88efa7fbdc875b000b558?s=128&d=identicon&r=PG&f=1", "display_name": "user3538043", "link": "https://stackoverflow.com/users/3538043/user3538043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1657, "favorite_count": 0, "accepted_answer_id": 30495671, "answer_count": 1, "score": 1, "last_activity_date": 1432775962, "creation_date": 1432758635, "last_edit_date": 1432761364, "question_id": 30492556, "link": "https://stackoverflow.com/questions/30492556/how-to-find-matching-rows-in-pandas-dataframe-with-identical-values-with-same-op", "title": "How to find matching rows in Pandas DataFrame with identical values with same/opposite signs in certain columns?", "body": "<p>For the dataframe below, how can I return first and third row, as they have identical values in column \"c\" and \"d\", and have values opposite of each other in \"a\" and b\"?</p>\n\n<pre><code>df1=pd.DataFrame([ [1,2,3,4],[5,6,7,8], [-1,-2,3,4]], columns=['a', 'b', 'c', 'd'])\n\n   a  b  c  d\n0  1  2  3  4\n1  5  6  7  8\n2 -1 -2  3  4\n</code></pre>\n\n<p>In other words, I want something similar to:</p>\n\n<pre><code>df1.duplicated(subset=['a', 'b', 'c', 'd'])\n</code></pre>\n\n<p>The difference is instead of identical values in 'a' and 'b', the criteria is the values have opposite signs. And I want to return all matching rows.</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["python", "state", "transitions"], "answers": [{"comments": [{"owner": {"reputation": 285, "user_id": 2110265, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0dd1f54d297c6b62ac597a529abfcd66?s=128&d=identicon&r=PG", "display_name": "JoeyD", "link": "https://stackoverflow.com/users/2110265/joeyd"}, "edited": false, "score": 0, "creation_date": 1432792280, "post_id": 30492789, "comment_id": 49073129, "body": "I see, I built my code like this, but then stumbled upon the issue while trying to get the queue to work bidirectionally and sending stuff. Thanks for the help!"}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 4, "last_activity_date": 1432759467, "creation_date": 1432759467, "answer_id": 30492789, "question_id": 30492494, "link": "https://stackoverflow.com/questions/30492494/state-machine-in-python-run-code-in-transition-or-state/30492789#30492789", "title": "State Machine in Python: Run Code in Transition or State?", "body": "<p>I would suggest doing it very differently. At the very least, it should be much easier to debug and maintain it according to this suggestion, in my opinion (explanation below).</p>\n\n<ul>\n<li><p>First, your state machine code should <strong>not</strong> update the queues or listen to the queues directly. Instead it should just update some variable, like so:</p>\n\n<pre><code>next_action = ''\n\nThis is a transition\ndef update_action(self, action):\n    global next_action\n    next_action = action\n</code></pre>\n\n<p>(you should of course try to avoid global variables and work OO, but I'm simplifying as it's not the point of this answer).</p></li>\n<li><p>Next you should have a queue and state-machine manipulator function, run by each of the threads:</p>\n\n<pre><code>while some_condition:\n     get the action from the queue\n     update the state machine\n     obtain the action from next_action\n     push to the queue\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>Explanation - you should always separate your logic code from your system code. Writing a state machine that does not interact with queues, threads, etc., allows you to write code that is much easier to debug and test in unit tests. Only once the logic works, should you connect it to queues and such.</p>\n"}], "owner": {"reputation": 285, "user_id": 2110265, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0dd1f54d297c6b62ac597a529abfcd66?s=128&d=identicon&r=PG", "display_name": "JoeyD", "link": "https://stackoverflow.com/users/2110265/joeyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 1, "accepted_answer_id": 30492789, "answer_count": 1, "score": 5, "last_activity_date": 1432759467, "creation_date": 1432758423, "question_id": 30492494, "link": "https://stackoverflow.com/questions/30492494/state-machine-in-python-run-code-in-transition-or-state", "title": "State Machine in Python: Run Code in Transition or State?", "body": "<p>I am rather new to the python language, please bear with me on this one. </p>\n\n<p>I want to run two state machines in two separate threads, communicating to each other via a queue. I used the <a href=\"https://github.com/tyarkoni/transitions\" rel=\"noreferrer\">transitions</a> package to create the state machine.</p>\n\n<p>My understanding is that all actions/code that performs actions has to be tucked into the transactions. </p>\n\n<p>These lines are taken from the example of the transitions package, showing where to place the code for the transition</p>\n\n<pre><code># escapades. Because the legal department says so.\nself.machine.add_transition('complete_mission', 'saving the world', 'sweaty', \n                         after='update_journal')\ndef update_journal(self):\n        \"\"\" Dear Diary, today I saved Mr. Whiskers. Again. \"\"\"\n        self.kittens_rescued += 1\n</code></pre>\n\n<p>However, how would I watch my queue, once i reached a state, in order to react to messages sent there that would should cause a transition from one state to another? From my basic knowledge, I would expect code in my state to wait for a message that could trigger the transition and call the transition to the following state.</p>\n\n<p>I would have to create a thread inside the state machine, passing the state machine object as a argument in order to be able to trigger transitions. </p>\n\n<p>Am I understanding this package correctly? Or am I using it wrongly?</p>\n"}, {"tags": ["python", "scipy", "minimize"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432758666, "post_id": 30492484, "comment_id": 49062949, "body": "Why are <code>p</code> and <code>p0</code> 2-dimensional? Are you used to a language that doesn&#39;t support arbitrary-dimension arrays?"}, {"owner": {"reputation": 1, "user_id": 4946144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbda765986144d33e1b8d5993ebf84b7?s=128&d=identicon&r=PG&f=1", "display_name": "hyunsu", "link": "https://stackoverflow.com/users/4946144/hyunsu"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1432785554, "post_id": 30492484, "comment_id": 49070922, "body": "p and p0 should be 1-dimensional array? then p =np.array([sigma,k,rup]) is right?"}, {"owner": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1495449685, "post_id": 30492484, "comment_id": 75240808, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/22844347/understanding-the-error-for-scipy-optimize-minimize-function\">Understanding the error for scipy.optimize.minimize() function</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4946144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbda765986144d33e1b8d5993ebf84b7?s=128&d=identicon&r=PG&f=1", "display_name": "hyunsu", "link": "https://stackoverflow.com/users/4946144/hyunsu"}, "edited": false, "score": 0, "creation_date": 1432785954, "post_id": 30492628, "comment_id": 49071023, "body": "Then how can I change Func to scalar fuction?"}], "tags": [], "owner": {"reputation": 8316, "user_id": 4759209, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff821860933d0565fe62aed9fe2132f7?s=128&d=identicon&r=PG&f=1", "display_name": "farhawa", "link": "https://stackoverflow.com/users/4759209/farhawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1432758893, "creation_date": 1432758893, "answer_id": 30492628, "question_id": 30492484, "link": "https://stackoverflow.com/questions/30492484/scipy-minimize-error-setting-an-array-element-with-a-sequence/30492628#30492628", "title": "scipy.minimize error : setting an array element with a sequence", "body": "<p><code>func</code> here takes in a vector but it must be a scalar function of one or more variables as indicated in the <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow\">scipy.optimize.minimize</a> doc</p>\n"}], "owner": {"reputation": 1, "user_id": 4946144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbda765986144d33e1b8d5993ebf84b7?s=128&d=identicon&r=PG&f=1", "display_name": "hyunsu", "link": "https://stackoverflow.com/users/4946144/hyunsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1324, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1432758893, "creation_date": 1432758410, "question_id": 30492484, "link": "https://stackoverflow.com/questions/30492484/scipy-minimize-error-setting-an-array-element-with-a-sequence", "title": "scipy.minimize error : setting an array element with a sequence", "body": "<p>I want to estimate parameters 'k,ru,sigma' that maximumize the function 'func'\n('ru' means r upperba)</p>\n\n<p>The'func'formula is compex, so I want to upload the image to show this fomula, but i have no enough reputation.</p>\n\n<pre><code>    import numpy as np\n\nsigma,k,ru=0.01,0.001,5\n\np0=np.array([[0.01,0.01,6]])\n\np=np.array([[sigma,k,ru]])\n\ndef func(p,r):\n   T=91/365\n   y=1/(np.sqrt(2*(np.pi)*p[0]**2/(2*p[1])*(1-np.exp(-(2*p[1]*T)))))*np.exp((r-p[2]-np.exp(-(p[1]*T))*(r-p[2]))**2/(p[0]**2/((-4)*p[1])*(1-np.exp(-(2*p[1]*T)))))    \n   return -y\n\n\nfrom scipy.optimize import minimize\n\nr=np.array([[1.45,2.5,2.6,1.67,1.2]])\n\n# r has 1350 datas like this\n\nres=minimize(func,p0,args=(r))\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-9-b94a05d2ede8&gt;\", line 1, in &lt;module&gt;\n    res=minimize(func,p0,args=(r))\n\n  File \"C:\\Users\\hyun su\\Anaconda3\\lib\\site-packages\\scipy\\optimize\\_minimize.py\", line 419, in minimize\n    return _minimize_bfgs(fun, x0, args, jac, callback, **options)\n\n  File \"C:\\Users\\hyun su\\Anaconda3\\lib\\site-packages\\scipy\\optimize\\optimize.py\", line 837, in _minimize_bfgs\n    gfk = myfprime(x0)\n\n  File \"C:\\Users\\hyun su\\Anaconda3\\lib\\site-packages\\scipy\\optimize\\optimize.py\", line 282, in function_wrapper\n    return function(*(wrapper_args + args))\n\n  File \"C:\\Users\\hyun su\\Anaconda3\\lib\\site-packages\\scipy\\optimize\\optimize.py\", line 616, in approx_fprime\n    return _approx_fprime_helper(xk, f, epsilon, args=args)\n\n  File \"C:\\Users\\hyun su\\Anaconda3\\lib\\site-packages\\scipy\\optimize\\optimize.py\", line 556, in _approx_fprime_helper\n    grad[k] = (f(*((xk + d,) + args)) - f0) / d[k]\n\nValueError: setting an array element with a sequence.\n</code></pre>\n\n<p>How can i solve this? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1432758280, "post_id": 30492442, "comment_id": 49062779, "body": "&quot;Not working&quot; in what way?"}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1432758471, "post_id": 30492485, "comment_id": 49062866, "body": "Alternatively, <code>if line == &quot;$NETWORK\\n&quot;:</code>."}, {"owner": {"reputation": 2550, "user_id": 4931993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HIOGhudLQzQ/AAAAAAAAAAI/AAAAAAAAAG8/RhqG4yB0Ky0/photo.jpg?sz=128", "display_name": "Eric Appelt", "link": "https://stackoverflow.com/users/4931993/eric-appelt"}, "edited": false, "score": 2, "creation_date": 1432759269, "post_id": 30492485, "comment_id": 49063255, "body": "And if you want to keep any whitespace, and just strip the newlines, <code>line = line.strip(&#39;\\n&#39;)</code>"}, {"owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "edited": false, "score": 0, "creation_date": 1432764213, "post_id": 30492485, "comment_id": 49065513, "body": "That worked! Thank you!"}], "tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": true, "score": 1, "last_activity_date": 1432758412, "creation_date": 1432758412, "answer_id": 30492485, "question_id": 30492442, "link": "https://stackoverflow.com/questions/30492442/python-string-comparison-not-working-for-matching-lines/30492485#30492485", "title": "Python string comparison not working for matching lines", "body": "<p>The lines that you read from <code>skeleton</code> have new lines at the end, so the exact string comparison are probably not going to work.  If you do <code>line = line.strip()</code> as the first line of your loop it will remove whitespace from before and after any text on the line, and might get you closer to what you want.</p>\n"}], "owner": {"reputation": 179, "user_id": 4946417, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-d6MezTzMtKc/AAAAAAAAAAI/AAAAAAAAHJY/wrpsCGrqHwY/photo.jpg?sz=128", "display_name": "Eroji", "link": "https://stackoverflow.com/users/4946417/eroji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3421, "favorite_count": 0, "closed_date": 1515444751, "accepted_answer_id": 30492485, "answer_count": 1, "score": 1, "last_activity_date": 1432758412, "creation_date": 1432758232, "question_id": 30492442, "link": "https://stackoverflow.com/questions/30492442/python-string-comparison-not-working-for-matching-lines", "closed_reason": "Duplicate", "title": "Python string comparison not working for matching lines", "body": "<p>I'm trying to write a small Python script to generate CentOS7 kickstart configs. I have a skeleton config file and based on some user inputs, the script will pop out a custom cfg file by inserting the customized blocks into the skeleton. However, the string comparison is not working for some reason.</p>\n\n<pre><code>#!/usr/bin/python\n\ntype = raw_input(\"Static OR DHCP: \")\ngateway = raw_input(\"Gateway IP: \")\nnameserver = raw_input(\"DNS Server: \")\nhostname = raw_input(\"Hostname: \")\nipaddr = raw_input(\"IP Address: \")\n\nskeleton = open('ks_skeleton.cfg', 'r')\nconfig = open(hostname + '.cfg', 'w')\n\nfor line in skeleton:\n        if line == \"$NETWORK\":\n                print(\"Interting Network values...\");\n                config.write(\"network  --bootproto=\" + type + \" --device=ens192 --gateway=\" + gateway + \" --ip=\" + ipaddr + \" --nameserver=\" + nameserver + \" --netmask=255.255.255.0 --ipv6=auto --activate\\n\");\n                config.write(\"network  --hostname=\" + hostname + \"\\n\");\n        else:\n                config.write(line);\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "oauth-2.0", "google-api", "gdata"], "comments": [{"owner": {"reputation": 1901, "user_id": 373514, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d3a9956dd908f8b796bda0be59315fa0?s=128&d=identicon&r=PG", "display_name": "mwhite", "link": "https://stackoverflow.com/users/373514/mwhite"}, "edited": false, "score": 0, "creation_date": 1432766412, "post_id": 30492319, "comment_id": 49066272, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14742382/how-do-i-authorize-a-gdata-client-without-using-the-gdata-oauth2-workflow\">How do I authorize a gdata client without using the gdata oauth2 workflow?</a>"}, {"owner": {"reputation": 1901, "user_id": 373514, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d3a9956dd908f8b796bda0be59315fa0?s=128&d=identicon&r=PG", "display_name": "mwhite", "link": "https://stackoverflow.com/users/373514/mwhite"}, "edited": false, "score": 0, "creation_date": 1432766446, "post_id": 30492319, "comment_id": 49066281, "body": "It seems you can get an oauth token manually and then hard-code it into your application, assuming you don&#39;t need to do this for arbitrary users."}, {"owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1432768431, "post_id": 30492319, "comment_id": 49066901, "body": "yes it must involve user interaction the first time only (when you get the refresh token). impossible to pass directly username and password (which is great. that old method was insecure)"}, {"owner": {"reputation": 51, "user_id": 2701868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d77d41d98b7b1b26788470c11d1b7f6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hinkle", "link": "https://stackoverflow.com/users/2701868/tom-hinkle"}, "edited": false, "score": 0, "creation_date": 1432777857, "post_id": 30492319, "comment_id": 49069133, "body": "Ok -- updated post to include latest solution. Note that the docs API, like the old authentication method, is now dead, so I&#39;ve updated this to work with the drive API."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2701868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d77d41d98b7b1b26788470c11d1b7f6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hinkle", "link": "https://stackoverflow.com/users/2701868/tom-hinkle"}, "is_accepted": false, "score": 1, "last_activity_date": 1432810330, "creation_date": 1432810330, "answer_id": 30504505, "question_id": 30492319, "link": "https://stackoverflow.com/questions/30492319/how-do-i-do-oauth2-style-authentication-to-google-w-o-user-interaction-to-repla/30504505#30504505", "title": "How do I do OAuth2 style authentication to google w/o user interaction (to replace the abandoned gdata.docs.client.DocsClient API)", "body": "<p>Ok, I found a better solution in the PyDrive library, which already wraps all of this nicely up for you:</p>\n\n<p><a href=\"http://pythonhosted.org/PyDrive/\" rel=\"nofollow\">http://pythonhosted.org/PyDrive/</a></p>\n\n<p>If you set PyDrive to store credentials, it will only make you go through the browser once, then remember the credentials automatically.</p>\n\n<p>You'll need to set up a settings.yaml file that looks like this to work with it:</p>\n\n<pre><code>save_credentials: true\nsave_credentials_backend: file\nsave_credentials_file: credentials.txt\nclient_config_file: client_secrets.json\n</code></pre>\n\n<p>Once you've done that, and installed your secret in client_secrets.json, the login process is as simple as:</p>\n\n<pre><code>from pydrive.auth import GoogleAuth\ngauth = GoogleAuth()\ngauth.LocalWebserverAuth()\n</code></pre>\n\n<p>Then you're working with the PyDrive API, which is pretty friendly to use and well documented here: <a href=\"http://pythonhosted.org/PyDrive/oauth.html#customizing-authentication-with-settings-yaml\" rel=\"nofollow\">http://pythonhosted.org/PyDrive/oauth.html#customizing-authentication-with-settings-yaml</a></p>\n"}], "owner": {"reputation": 51, "user_id": 2701868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d77d41d98b7b1b26788470c11d1b7f6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Hinkle", "link": "https://stackoverflow.com/users/2701868/tom-hinkle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 3, "answer_count": 1, "score": 1, "last_activity_date": 1432810330, "creation_date": 1432757760, "last_edit_date": 1432778320, "question_id": 30492319, "link": "https://stackoverflow.com/questions/30492319/how-do-i-do-oauth2-style-authentication-to-google-w-o-user-interaction-to-repla", "title": "How do I do OAuth2 style authentication to google w/o user interaction (to replace the abandoned gdata.docs.client.DocsClient API)", "body": "<p>Can anyone provide sample code that would be a working replacement for the code that used the now defunct gdata.docs.client API:</p>\n\n<pre><code>import gdata.docs, gdata.docs.client, gdata\npw = file('pw','r').read()\nclient = gdata.docs.client.DocsClient()\nclient.ClientLogin('username@domain.org',pw,None)\n</code></pre>\n\n<p>Until yesterday, that code worked, but google has finally axed the depreceated ClientLogin API (<a href=\"https://developers.google.com/identity/protocols/AuthForInstalledApps\" rel=\"nofollow\">https://developers.google.com/identity/protocols/AuthForInstalledApps</a>). </p>\n\n<p>In reading over the documentation for the OAuth 2.0 library, it looks like the process is supposed to involve user interaction to finish the authentication process, but I need a script to run in a cronjob on a regular basis without user involvement (we update various parts of our google site using a script on a cronjob).</p>\n\n<p>Current Answer:</p>\n\n<p>Hard-coding authentication for the docs API was possible, but that API is also discontinued, so here's the way to do it for the new, preferred DRIVE API.</p>\n\n<pre><code>credentials = OAuth2WebServerFlow(\n    client_id = \"CLIENT ID\",\n    client_secret = \"CLIENT SECRET\",\n    scope = 'https://www.googleapis.com/auth/drive',\n    user_agent = \"HTTP\",\n    access_token = \"ACCESS TOKEN\",\n    refresh_token = \"REFRESH TOKEN\",\n    )\n\n# Create an httplib2.Http object and authorize it with our credentials                                                                            \nhttp = httplib2.Http()\n# Now it gets ugly\n# The authorize method below changes the \"request\" method of http_client\n# Not at all sure why I had to fake this to make it work, but I did -- \n# I believe this must get set somewhere in the normal gdrive flow which\n# we're circumventing with this method. You can see the code that\n# requires this fake client here: \n# https://code.google.com/p/gdata-python client/source/browse/src/gdata/gauth.py\n# at ~line 1324\nClass FakeClient:   \n    request = 'Fake'\nhttp.http_client = FakeClient()\nhttp = credentials.authorize(http)\n\n\n# Create an httplib2.Http object and authorize it with our credentials                                                                            \nhttp = httplib2.Http()\nClass FakeClient:\n    request = 'Fake'\nhttp.http_client = FakeClient()\nhttp = credentials.authorize(http)\n</code></pre>\n\n<p>In order to get those credentials, you can use the standard OAuth method described in the google documentation and then just dig into the variables to find all the right information. Here's some code I wrote myself to print it all out:</p>\n\n<pre><code>if NEED_NEW_CREDENTIALS:                                                                                                                          \n    CLIENT_ID = 'ID'                                                                                                                              \n    CLIENT_SECRET = 'SECRET'                                                                                                                      \n    OAUTH_SCOPE = 'https://www.googleapis.com/auth/drive'                                                                                         \n    REDIRECT_URI = 'urn:ietf:wg:oauth:2.0:oob'                                                                                                    \n    flow = OAuth2WebServerFlow(CLIENT_ID, CLIENT_SECRET, OAUTH_SCOPE,                                                                             \n                               redirect_uri=REDIRECT_URI)                                                                                         \n    authorize_url = flow.step1_get_authorize_url()                                                                                                \n    print 'go to the following link in your browser: ' + authorize_url                                                                            \n    code = raw_input('Enter verification code: ').strip()                                                                                         \n    credentials = flow.step2_exchange(code)                                                                                                       \n    print 'Hey buddy -- you better hardcode these new credentials in.'                                                                            \n    print 'client_id = \"%s\"'%credentials.client_id                                                                                                \n    print 'client_secret = \"%s\"'%credentials.client_secret                                                                                        \n    print 'scope = \"%s\"'%OAUTH_SCOPE                                                                                                              \n    print 'user_agent = \"%s\"'%credentials.user_agent                                                                                              \n    print 'access_token = \"%s\"'%credentials.token_response['access_token']                                                                        \n    print 'refresh_token = \"%s\"'%credentials.token_response['refresh_token']\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "edited": false, "score": 1, "creation_date": 1432758623, "post_id": 30492313, "comment_id": 49062932, "body": "I am not sure if python has a direct tool for this, but you can select a few values of say, z, and do a separate contour plot for each value, giving you a picture of the overall function. See this link for some ideas : <a href=\"http://mathematica.stackexchange.com/questions/25277/visualize-plot-of-a-function-of-3-variables-using-color-and-contours\" title=\"visualize plot of a function of 3 variables using color and contours\">mathematica.stackexchange.com/questions/25277/&hellip;</a>"}, {"owner": {"reputation": 354, "user_id": 547156, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/050efc05cbc871f2bc8c5d7855eacb23?s=128&d=identicon&r=PG", "display_name": "Nat Knight", "link": "https://stackoverflow.com/users/547156/nat-knight"}, "edited": false, "score": 0, "creation_date": 1432758661, "post_id": 30492313, "comment_id": 49062947, "body": "Can you be more specific about what you mean by &quot;plot the countour lines&quot;? If it&#39;s a function of of three variables you&#39;d need a fourth to show x,y,z and V(x,y,z) . . ."}, {"owner": {"reputation": 2358, "user_id": 2542091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/67BL1.jpg?s=128&g=1", "display_name": "Aleksander Lidtke", "link": "https://stackoverflow.com/users/2542091/aleksander-lidtke"}, "edited": false, "score": 0, "creation_date": 1432762505, "post_id": 30492313, "comment_id": 49064829, "body": "I think that plotting four-dimensional data (three arguments and the potential) in 3D space isn&#39;t going to work. Fundamentally. Is there no way to reduce the dimensionality of the problem, e.g. using the Buckingham-Pi theorem, i.e. non-dimensionalising some variables? If not and the <code>X,Y,Z</code> are just mock arguments not Cartesian components, you&#39;ll probably have to resort to multiple series (mentioned by dermen), video, scatter plots with varying sizes, colour-coding, or projecting onto <code>X,Y,Z</code>, so plotting <code>V(X,Y)</code>, <code>V(Y,Z)</code> and <code>V(X,Z)</code> separately."}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 3412058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c39aa308acf21b291ea8018f75275bb?s=128&d=identicon&r=PG&f=1", "display_name": "user3412058", "link": "https://stackoverflow.com/users/3412058/user3412058"}, "edited": false, "score": 0, "creation_date": 1432800359, "post_id": 30493411, "comment_id": 49077482, "body": "Thanks for your answer! It was helpful!"}], "tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": true, "score": 6, "last_activity_date": 1432772569, "last_edit_date": 1432772569, "creation_date": 1432761848, "answer_id": 30493411, "question_id": 30492313, "link": "https://stackoverflow.com/questions/30492313/plotting-a-function-of-three-variables-in-python/30493411#30493411", "title": "Plotting a function of three variables in python", "body": "<p>An error will arise when you try to pass <code>contour</code> three-dimensional arrays, as it expects two-dimensional arrays. </p>\n\n<p>With this in mind, try:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import axes3d\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nimport numpy as np\n\ndef V(x,y,z):\n     return np.cos(10*x) + np.cos(10*y) + np.cos(10*z) + 2*(x**2 + y**2 + z**2)\n\nX,Y = np.mgrid[-1:1:100j, -1:1:100j]\nZ_vals = [ -0.5, 0, 0.9 ]\nnum_subplots = len( Z_vals)\n\nfig = plt.figure( figsize=(10,4 ) )\nfor i,z in enumerate( Z_vals) :\n    ax = fig.add_subplot(1 , num_subplots , i+1, projection='3d', axisbg='gray')\n    ax.contour(X, Y, V(X,Y,z) ,cmap=cm.gnuplot)\n    ax.set_title('z = %.2f'%z,fontsize=30)\nfig.savefig('contours.png', facecolor='grey', edgecolor='none')\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/mseWj.png\" alt=\"enter image description here\"></p>\n\n<p>You can use instead <code>contourf</code> to show the surfaces, which looks nicer in my opinion. </p>\n\n<p><img src=\"https://i.stack.imgur.com/wAPsz.png\" alt=\"enter image description here\"></p>\n\n<p>A little elaboration (which is probably beyond the scope of stack overflow, but might help explain the preceding code):</p>\n\n<p>As you may know, there is no direct way to visualize a function of 3 variables, as it is an object (surface) which lives in 4 dimensions. One instead must play with slices of the function to see whats going on. By a slice, I mean a projection of the function onto a lower dimensional space. A slice is achieved by setting one or more of the function variables as a constant. </p>\n"}], "owner": {"reputation": 155, "user_id": 3412058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c39aa308acf21b291ea8018f75275bb?s=128&d=identicon&r=PG&f=1", "display_name": "user3412058", "link": "https://stackoverflow.com/users/3412058/user3412058"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11537, "favorite_count": 1, "accepted_answer_id": 30493411, "answer_count": 1, "score": 4, "last_activity_date": 1432772569, "creation_date": 1432757741, "last_edit_date": 1432764264, "question_id": 30492313, "link": "https://stackoverflow.com/questions/30492313/plotting-a-function-of-three-variables-in-python", "title": "Plotting a function of three variables in python", "body": "<p>I would like to plot the contour lines for this function, however I cannot find any useful way to do it.</p>\n\n<p>The potential function is :\n<code>V(x,y,z) = cos(10x) + cos(10y) + cos(10z) + 2*(x^2 + y^2 + z^2)</code> </p>\n\n<p>I unsuccessfully attempted something like:</p>\n\n<pre><code>import numpy\nimport matplotlib.pyplot.contour\n\ndef V(x,y,z):\n    return numpy.cos(10*x) + numpy.cos(10*y) + numpy.cos(10*z) + 2*(x**2 + y**2 + z**2)\n\nX, Y, Z = numpy.mgrid[-1:1:100j, -1:1:100j, -1:1:100j]\n</code></pre>\n\n<p>But then, I don't know how to do the next step to plot it?</p>\n\n<pre><code>matplotlib.pyplot.contour(X,Y,Z,V)\n</code></pre>\n"}, {"tags": ["c#", "python", "ironpython", "ironpython-studio"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 3788832, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c6daa6f68ae949153497e48b649e6e65?s=128&d=identicon&r=PG&f=1", "display_name": "nikunjM", "link": "https://stackoverflow.com/users/3788832/nikunjm"}, "edited": false, "score": 0, "creation_date": 1432838909, "post_id": 30506656, "comment_id": 49104576, "body": "Can you please explain in detail or give example.. That will help me to understand. @Jeff Hardy"}, {"owner": {"reputation": 7542, "user_id": 129592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad24799da38da64c3b51b745087d60fd?s=128&d=identicon&r=PG", "display_name": "Jeff Hardy", "link": "https://stackoverflow.com/users/129592/jeff-hardy"}, "reply_to_user": {"reputation": 520, "user_id": 3788832, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c6daa6f68ae949153497e48b649e6e65?s=128&d=identicon&r=PG&f=1", "display_name": "nikunjM", "link": "https://stackoverflow.com/users/3788832/nikunjm"}, "edited": false, "score": 0, "creation_date": 1432910803, "post_id": 30506656, "comment_id": 49138641, "body": "It depends on how are referencing IronPython. If it&#39;s from a NuGet package, then you also need to include the IronPython.StdLib package. If you assume the end user has IronPython installed then <code>C:\\Program Files\\IronPython 2.7\\Lib</code> instead."}, {"owner": {"reputation": 7542, "user_id": 129592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad24799da38da64c3b51b745087d60fd?s=128&d=identicon&r=PG", "display_name": "Jeff Hardy", "link": "https://stackoverflow.com/users/129592/jeff-hardy"}, "reply_to_user": {"reputation": 520, "user_id": 3788832, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c6daa6f68ae949153497e48b649e6e65?s=128&d=identicon&r=PG&f=1", "display_name": "nikunjM", "link": "https://stackoverflow.com/users/3788832/nikunjm"}, "edited": false, "score": 0, "creation_date": 1432910881, "post_id": 30506656, "comment_id": 49138708, "body": "Then check the imports in your user.py script to see if any are of the form &#39;import a.b as c&#39;. If either a or b cannot be found you&#39;ll get this error."}, {"owner": {"reputation": 520, "user_id": 3788832, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c6daa6f68ae949153497e48b649e6e65?s=128&d=identicon&r=PG&f=1", "display_name": "nikunjM", "link": "https://stackoverflow.com/users/3788832/nikunjm"}, "edited": false, "score": 0, "creation_date": 1432928508, "post_id": 30506656, "comment_id": 49149053, "body": "Client is local file and I think when your config python with c# its big headache... I think writing c# lib is better and faster way.. Becoz when you upload it to server,even then you will face lot of problem. So i started with c# and its almost done. But thanks for suggestion, and hopes iron python will improve and also its documentation."}], "tags": [], "owner": {"reputation": 7542, "user_id": 129592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad24799da38da64c3b51b745087d60fd?s=128&d=identicon&r=PG", "display_name": "Jeff Hardy", "link": "https://stackoverflow.com/users/129592/jeff-hardy"}, "is_accepted": false, "score": 2, "last_activity_date": 1432816179, "creation_date": 1432816179, "answer_id": 30506656, "question_id": 30492199, "link": "https://stackoverflow.com/questions/30492199/how-do-i-import-a-third-party-ironpython-module-in-net/30506656#30506656", "title": "How do I import a third-party IronPython module in .NET?", "body": "<ol>\n<li><p>The error is misleading <a href=\"https://github.com/IronLanguages/main/issues/1189\" rel=\"nofollow\">because of a bug in IronPython 2.7.5</a>. It should be an <code>ImportError</code>.</p></li>\n<li><p>Don't add the normal CPython stdlib; it's not compatible with IronPython. Use IronPython's stdlib instead.</p></li>\n</ol>\n\n<p>If you have an import of <code>import a.b as c</code> that's probably the culprit; either a or b does not exist but IronPython mucks up the error reporting.</p>\n"}], "owner": {"reputation": 520, "user_id": 3788832, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c6daa6f68ae949153497e48b649e6e65?s=128&d=identicon&r=PG&f=1", "display_name": "nikunjM", "link": "https://stackoverflow.com/users/3788832/nikunjm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432816179, "creation_date": 1432757318, "last_edit_date": 1432758562, "question_id": 30492199, "link": "https://stackoverflow.com/questions/30492199/how-do-i-import-a-third-party-ironpython-module-in-net", "title": "How do I import a third-party IronPython module in .NET?", "body": "<p>I am C# developer and I have to use an IronPython library in the .NET framework. I tested every class in Python and it's working but I am not sure how to call the library in a C# class.</p>\n\n<p>When I try to call the library, I am getting a <code>'LightException' object has no attribute</code> client error.</p>\n\n<p>I have added lib, -x:Full frame and also all modules in the lib folder.</p>\n\n<p>Here is the C# code I am using to call the Python library:</p>\n\n<pre><code>            Console.WriteLine(\"Press enter to execute the python script!\");\n            Console.ReadLine();\n            var options = new Dictionary&lt;string, object&gt;();\n            options[\"Frames\"] = true;\n            options[\"FullFrames\"] = true;\n            //var py = Python.CreateEngine(options);\n                        //py.SetSearchPaths(paths);\n\n            ScriptEngine engine = Python.CreateEngine(options);\n            ICollection&lt;string&gt; paths = engine.GetSearchPaths();\n            string dir = @\"C:\\Python27\\Lib\\\";\n            paths.Add(dir);\n            string dir2 = @\"C:\\Python27\\Lib\\site-packages\\\";\n            paths.Add(dir2);\n\n            engine.SetSearchPaths(paths);\n            ScriptSource source = engine.CreateScriptSourceFromFile(@\"C:\\Users\\nikunjmange\\Source\\Workspaces\\Visage Payroll\\VisagePayrollSystem\\VisagePayrollSystem\\synapsepayLib\\synapse_pay-python-master\\synapse_pay\\resources\\user.py\");\n            ScriptScope scope = engine.CreateScope();\n            source.Execute(scope);\n\n            dynamic Calculator = scope.GetVariable(\"User\");\n            dynamic calc = Calculator();\n\n            string inputCreate = \"nik12@gmail.com\";\n            string result = calc.create(inputCreate);\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 5, "creation_date": 1432757207, "post_id": 30492148, "comment_id": 49062182, "body": "Why would you want to? They&#39;re called <i>&quot;dependencies&quot;</i> for a reason!"}, {"owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1432757378, "post_id": 30492148, "comment_id": 49062282, "body": "@jonrsharpe, when I run python setup.py install, it gets the dependecies but the I have the latest dependent app already installed."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1432757450, "post_id": 30492148, "comment_id": 49062316, "body": "Well that&#39;s useful information to put in the question. What does the module require, and what do you already have installed? Are you using <code>virtualenv</code>s?"}, {"owner": {"reputation": 1981, "user_id": 4930234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_6d_1aS2VYI/AAAAAAAAAAI/AAAAAAAAAAk/D8VAsXvm1nU/photo.jpg?sz=128", "display_name": "Honza Osobne", "link": "https://stackoverflow.com/users/4930234/honza-osobne"}, "edited": false, "score": 0, "creation_date": 1432757646, "post_id": 30492148, "comment_id": 49062442, "body": "You could use <code>python setup.py develop -N</code> (if you were ok with using <code>develop</code> instead of <code>install</code>)."}, {"owner": {"reputation": 5359, "user_id": 582917, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/98a347823cd1db90af884b227a29c29e?s=128&d=identicon&r=PG", "display_name": "CMCDragonkai", "link": "https://stackoverflow.com/users/582917/cmcdragonkai"}, "reply_to_user": {"reputation": 1981, "user_id": 4930234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_6d_1aS2VYI/AAAAAAAAAAI/AAAAAAAAAAk/D8VAsXvm1nU/photo.jpg?sz=128", "display_name": "Honza Osobne", "link": "https://stackoverflow.com/users/4930234/honza-osobne"}, "edited": false, "score": 0, "creation_date": 1531897457, "post_id": 30492148, "comment_id": 89762201, "body": "@HonzaOsobne Is there an equivalent flag for <code>setup.py install</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 5359, "user_id": 582917, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/98a347823cd1db90af884b227a29c29e?s=128&d=identicon&r=PG", "display_name": "CMCDragonkai", "link": "https://stackoverflow.com/users/582917/cmcdragonkai"}, "edited": false, "score": 3, "creation_date": 1531897151, "post_id": 30496101, "comment_id": 89762027, "body": "Why is <code>--no-deps</code> not recognised in <code>setup.py install</code>?"}, {"owner": {"reputation": 167, "user_id": 2765876, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000382549240/picture?type=large", "display_name": "Rohit Taneja", "link": "https://stackoverflow.com/users/2765876/rohit-taneja"}, "edited": false, "score": 1, "creation_date": 1546452482, "post_id": 30496101, "comment_id": 94858947, "body": "Please be aware that <b>develop and install are different</b> and have their own purposes. Refer <a href=\"https://stackoverflow.com/questions/19048732/python-setup-py-develop-vs-install\">this</a>  for more info"}], "tags": [], "owner": {"reputation": 14029, "user_id": 3562486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Akd4v.jpg?s=128&g=1", "display_name": "skyline75489", "link": "https://stackoverflow.com/users/3562486/skyline75489"}, "is_accepted": true, "score": 24, "last_activity_date": 1432779298, "creation_date": 1432779298, "answer_id": 30496101, "question_id": 30492148, "link": "https://stackoverflow.com/questions/30492148/how-do-you-install-python-package-without-dependencies/30496101#30496101", "title": "how do you install python package without dependencies", "body": "<p>If you are using <code>setup.py</code>, you could use:</p>\n\n<pre><code>python setup.py develop --no-deps\n</code></pre>\n\n<p>If you're using <code>pip</code>, try:</p>\n\n<pre><code>pip install --no-deps\n</code></pre>\n"}], "owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7985, "favorite_count": 1, "accepted_answer_id": 30496101, "answer_count": 1, "score": 13, "last_activity_date": 1432779298, "creation_date": 1432757144, "question_id": 30492148, "link": "https://stackoverflow.com/questions/30492148/how-do-you-install-python-package-without-dependencies", "title": "how do you install python package without dependencies", "body": "<p>I am trying to install a python module without dependencies.</p>\n\n<p>I run:</p>\n\n<pre><code>python setup.py install\n</code></pre>\n\n<p>but this install dependencies, any ideas how could do this?</p>\n"}, {"tags": ["python", "unix"], "comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1432757156, "post_id": 30492121, "comment_id": 49062145, "body": "You need to either ship the code to the data or (effectively) download the data and run the command on it."}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1432757199, "post_id": 30492121, "comment_id": 49062176, "body": "Whether the former is possible will depend on S3&#39;s API&#39;s for uploading arbitrary code, but it seems unlikely that they would let you do that."}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 3, "creation_date": 1432757258, "post_id": 30492121, "comment_id": 49062212, "body": "You may probably use <code>wget</code> or <code>curl</code> to download a file first i.e.: <code>xml .... &lt;(wget -q -O - https:&#47;&#47;s3.aws.com&#47;file)</code> (but you&#39;ll get a local copy). But since its amazon S3, maybe it is easier to mount filesystem i.e. with <a href=\"https://github.com/s3fs-fuse/s3fs-fuse\" rel=\"nofollow noreferrer\">github.com/s3fs-fuse/s3fs-fuse</a> ?"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1432758018, "post_id": 30492121, "comment_id": 49062639, "body": "you&#39;re using the <code>val</code>(idate) option. Do you just want to know the remote file is valid? Run your 2nd cmd and then <code>echo $?</code>. Try with known good and known bad files. Do you get any difference on <code>$?</code>? But it sounds like you want to update the remote file, for that you&#39;d at least have to use the <code>ed</code> but I don&#39;t see a <code>--net</code> option. The <code>tr</code> function does support <code>--net</code>, but I think in all cases, <code>--net</code> is a read-only function. (I&#39;m just getting started with a deep dive in xmlstarlet documentation, so will be happy for a guru to offer a solution. This would be interesting) Good luck."}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1432757072, "creation_date": 1432757072, "question_id": 30492121, "link": "https://stackoverflow.com/questions/30492121/how-to-run-command-on-a-remote-file", "title": "How to run command on a remote-file", "body": "<p>I am running the following command on my local machine:</p>\n\n<pre><code>xml val -e -s file1.xsd.xml file2.xml\n</code></pre>\n\n<p>How would I do that with a file from s3? For example:</p>\n\n<pre><code>xml val -e -s file1.xsd.xml https://s3.aws.com/file\n</code></pre>\n\n<p>Is there a way to stream the contents to the file? I would prefer not to have to download the file and then open it locally.</p>\n"}, {"tags": ["python", "twitter", "encoding", "utf-8", "tweepy"], "comments": [{"owner": {"reputation": 833, "user_id": 4072697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/53dfcce14e3aa177bd3cea458a183574?s=128&d=identicon&r=PG&f=1", "display_name": "auto", "link": "https://stackoverflow.com/users/4072697/auto"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432757402, "post_id": 30492084, "comment_id": 49062292, "body": "I get: &quot;TypeError: &#39;ignore&#39; is an invalid keyword argument for this function&quot;"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432757923, "post_id": 30492084, "comment_id": 49062587, "body": "Try <code>.encode(&#39;utf-8&#39;, errors = &#39;ignore&#39;)</code> @auto"}, {"owner": {"reputation": 833, "user_id": 4072697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/53dfcce14e3aa177bd3cea458a183574?s=128&d=identicon&r=PG&f=1", "display_name": "auto", "link": "https://stackoverflow.com/users/4072697/auto"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432758104, "post_id": 30492084, "comment_id": 49062696, "body": "&quot;newFile.writerow(info) UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 0-4: ordinal not in range(128)&quot;  Should I be adding these somewhere else? I&#39;m only adding them after the bio description, user name and name. Nothing else seems to make sense."}, {"owner": {"reputation": 833, "user_id": 4072697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/53dfcce14e3aa177bd3cea458a183574?s=128&d=identicon&r=PG&f=1", "display_name": "auto", "link": "https://stackoverflow.com/users/4072697/auto"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1432769576, "post_id": 30492084, "comment_id": 49067261, "body": "My workaround is to use Try/Except, leaving the row blank and counting the number of times this happens and printing the row in the IDE. Turns out the issue is not emoticon, but arabic text."}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1432776050, "post_id": 30492084, "comment_id": 49068764, "body": "Do any of the bios or screen names have any characters from Chinese or Japanese? From my experience this will cause the same issue."}], "answers": [{"tags": [], "owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "is_accepted": false, "score": 2, "last_activity_date": 1432850810, "creation_date": 1432850810, "answer_id": 30517878, "question_id": 30492084, "link": "https://stackoverflow.com/questions/30492084/python-tweepy-unicodeencodeerror/30517878#30517878", "title": "Python/Tweepy UnicodeEncodeError", "body": "<p>A major problem is that Python's CSV module is not Unicode safe - See the warnings in <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">https://docs.python.org/2/library/csv.html</a></p>\n\n<p>The work around, as you've found is to encode all values to UTF-8 first:</p>\n\n<pre><code>name = follower.name.encode('UTF-8')\nscreen_name = follower.screen_name.encode('UTF-8')\n</code></pre>\n\n<p>The problem you're hitting now is Python is still trying to encode your values to ASCII. This is due to the way you've opened the file for writing. Add <code>b</code> for binary writing:</p>\n\n<pre><code>csvFile = open('followers.csv','ab')\n</code></pre>\n\n<p>In its complete form:</p>\n\n<pre><code>for follower in followers.items():\ninfo=[]\nname = follower.name.encode('UTF-8')\nscreen_name = follower.screen_name.encode('UTF-8')\n\nuserId = userId + 1\n\n#add values to array\nvalues.append(userId)\nvalues.append(name)\nvalues.append(screen_name)\n\ncsvFile = open('followers.csv','ab')\nnewFile =csv.writer(csvFile) #imported csv\n#add list of headers as a new row\nnewFile.writerow(info)\n#close file\ncsvFile.close()\n</code></pre>\n"}], "owner": {"reputation": 833, "user_id": 4072697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/53dfcce14e3aa177bd3cea458a183574?s=128&d=identicon&r=PG&f=1", "display_name": "auto", "link": "https://stackoverflow.com/users/4072697/auto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3253, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432850810, "creation_date": 1432756959, "last_edit_date": 1432769766, "question_id": 30492084, "link": "https://stackoverflow.com/questions/30492084/python-tweepy-unicodeencodeerror", "title": "Python/Tweepy UnicodeEncodeError", "body": "<p>I am trying to scrape through Twitter bios using the Twitter API with Python. </p>\n\n<p>However I get this error:</p>\n\n<blockquote>\n  <p>newFile.writerow(info)<br>\n  UnicodeEncodeError: 'ascii' codec can't\n  encode characters in position 0-4: ordinal not in range(128)</p>\n</blockquote>\n\n<p>I assume this occurs when someone has an emoji in their bio or screen name, however none of the following solutions seem to stop the error:</p>\n\n<ul>\n<li>.encode('unicode_escape') </li>\n<li>.encode('UTF8') </li>\n<li>.encode('UTF-8')</li>\n</ul>\n\n<p>Here is the current code</p>\n\n<pre><code>for follower in followers.items():\n    info=[]\n    name =follower.name.encode('unicode_escape')\n    screen_name = follower.screen_name.encode('unicode_escape')\n\n    userId = userId + 1\n\n    #add values to array\n    values.append(userId)\n    values.append(name)\n    values.append(screen_name)\n\n    csvFile = open('followers.csv','a')\n    newFile =csv.writer(csvFile) #imported csv\n    #add list of headers as a new row\n    newFile.writerow(info)\n    #close file\n    csvFile.close()\n</code></pre>\n"}, {"tags": ["python", "queue", "task", "celery", "worker"], "answers": [{"tags": [], "owner": {"reputation": 1958, "user_id": 423107, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e91a6185ef1471dfcfc3871cb3ec5af5?s=128&d=identicon&r=PG", "display_name": "kraiz", "link": "https://stackoverflow.com/users/423107/kraiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1432793365, "creation_date": 1432793365, "answer_id": 30498480, "question_id": 30491998, "link": "https://stackoverflow.com/questions/30491998/celery-limit-number-of-specific-task-in-queue/30498480#30498480", "title": "Celery limit number of specific task in queue", "body": "<p>An easy-to-implement solution would be to add the <a href=\"http://celery.readthedocs.org/en/latest/reference/celery.bin.worker.html?highlight=purge#cmdoption-celery-worker--purge\" rel=\"nofollow\">--purge</a> switch to your worker command. It will clear the queue and the worker start with no scheduled jobs.</p>\n\n<p>But beware: that's a kind of job-global, unrecoverable action. When there are other scheduled jobs you depend on, this is not your solution.</p>\n"}, {"tags": [], "owner": {"reputation": 1046, "user_id": 364244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/12901353a59a7653d0acb0fb111d11de?s=128&d=identicon&r=PG", "display_name": "dArignac", "link": "https://stackoverflow.com/users/364244/darignac"}, "is_accepted": true, "score": 0, "last_activity_date": 1432828688, "creation_date": 1432828688, "answer_id": 30511609, "question_id": 30491998, "link": "https://stackoverflow.com/questions/30491998/celery-limit-number-of-specific-task-in-queue/30511609#30511609", "title": "Celery limit number of specific task in queue", "body": "<p>After considering several options I chose to use <a href=\"http://docs.celeryproject.org/en/latest/userguide/workers.html?highlight=revoke#dump-of-scheduled-eta-tasks\" rel=\"nofollow\">app.control.inspect</a>.\nIt's not a really beautiful solution, but it works:</p>\n\n<pre><code># fetch all scheduled tasks\nscheduled_tasks = inspect().scheduled()\n\n# iterate the scheduled task values, see http://docs.celeryproject.org/en/latest/userguide/workers.html?highlight=revoke#dump-of-scheduled-eta-tasks\nfor task_values in iter(scheduled_tasks.values()):\n    # task_values is a list of dicts\n    for task in task_values:\n        if task['request']['name'] == '{}.{}'.format(TaskTwo.__module__, TaskTwo.__name__):\n            logger.info('TaskTwo is already scheduled, skipping additional run')\n                return\n</code></pre>\n"}], "owner": {"reputation": 1046, "user_id": 364244, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/12901353a59a7653d0acb0fb111d11de?s=128&d=identicon&r=PG", "display_name": "dArignac", "link": "https://stackoverflow.com/users/364244/darignac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "accepted_answer_id": 30511609, "answer_count": 2, "score": 2, "last_activity_date": 1432828688, "creation_date": 1432756631, "question_id": 30491998, "link": "https://stackoverflow.com/questions/30491998/celery-limit-number-of-specific-task-in-queue", "title": "Celery limit number of specific task in queue", "body": "<p>I'm using Celery 3.1.x with 2 tasks. The first task (TaskOne) is enqueued when Celery starts up through the celeryd_after_setup signal:</p>\n\n<pre><code>@celeryd_after_setup.connect\ndef celeryd_after_setup(*args, **kwargs):\n    TaskOne().apply_async(countdown=5)\n</code></pre>\n\n<p>When TaskOne is run, it does some calculations and then enqueues TaskTwo. Imagine the following workflow:</p>\n\n<ul>\n<li>I start celery, thus the signal is fired and  TaskOne is enqueued</li>\n<li>after the countdown (5) TaskTwo is enqueued</li>\n<li>then I stop celery (the TaskTwo remains in the queue)</li>\n<li>afterwards I restart celery</li>\n<li>the workflow is run again and TaskTwo is enqueued again</li>\n</ul>\n\n<p>So we have 2 TaskTwo in the queue. That is a problem for my workflow because I only want one TaskTwo within the queue and avoid that a second one is enqueued.</p>\n\n<p>My question: How can I achieve this?</p>\n\n<p>With <code>celery.app.control.Inspect.scheduled()</code> (<a href=\"http://celery.readthedocs.org/en/latest/reference/celery.app.control.html?highlight=inspect#celery.app.control.Control.inspect\" rel=\"nofollow\">Docs</a>) I can get a list of which tasks are scheduled, hidden in a combination of lists and dicts. This is maybe a way, but going through the result of this does not feel right. Is there any better way?</p>\n"}, {"tags": ["python", "json", "rest", "flask", "flask-restful"], "comments": [{"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1432757558, "post_id": 30491841, "comment_id": 49062384, "body": "Looks to me like you&#39;re missing a call to <code>parser.parse_args()</code>. You should have <code>args = parser.parse_args()</code> before you can access the <code>args</code>"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 1, "creation_date": 1432757648, "post_id": 30491841, "comment_id": 49062444, "body": "@junnytony - its a typo from my side, i forgot to copy that line. Editing the question right away!"}, {"owner": {"reputation": 3381, "user_id": 3572366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb8dea69aa80d1cb9b7bbdb8aebadf9?s=128&d=identicon&r=PG&f=1", "display_name": "sirfz", "link": "https://stackoverflow.com/users/3572366/sirfz"}, "edited": false, "score": 0, "creation_date": 1432757993, "post_id": 30491841, "comment_id": 49062625, "body": "Try <code>unicode</code> instead of <code>str</code> for the arguments types"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 3381, "user_id": 3572366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb8dea69aa80d1cb9b7bbdb8aebadf9?s=128&d=identicon&r=PG&f=1", "display_name": "sirfz", "link": "https://stackoverflow.com/users/3572366/sirfz"}, "edited": false, "score": 0, "creation_date": 1432758286, "post_id": 30491841, "comment_id": 49062783, "body": "@Sir_FZ <code>unicode</code> has the same issue, retains <code>None</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": true, "score": 27, "last_activity_date": 1467377196, "last_edit_date": 1467377196, "creation_date": 1432758237, "answer_id": 30492444, "question_id": 30491841, "link": "https://stackoverflow.com/questions/30491841/python-flask-restful-post-not-taking-json-arguments/30492444#30492444", "title": "Python Flask-Restful POST not taking JSON arguments", "body": "<p>According to the documentation for <a href=\"https://flask.readthedocs.org/en/latest/api/#flask.Request.json,\" rel=\"noreferrer\">Request.json</a> and the new <a href=\"https://flask.readthedocs.org/en/latest/api/#flask.Request.get_json\" rel=\"noreferrer\">Request.get_json</a>, you should have the mimetype on your POST request set to <code>application/json</code>. This is the only way flask will automatically parse your JSON data into the <code>Request.json</code> property which (I believe) is what Flask-Restful depends on to retrieve JSON data. </p>\n\n<p>NOTE: The newer <code>get_json</code> function has an option to force the parsing of POST data as JSON irrespective of the mimetype</p>\n"}, {"comments": [{"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1432765736, "post_id": 30493521, "comment_id": 49066014, "body": "Nice :). but I think your code would be even more awesome if you changed the mimetype for your post to be &#39;application/json&#39;. I&#39;m guessing you&#39;re using AJAX for your post. With something like jQuery you can easily add the appropriate mimetype for example <a href=\"http://stackoverflow.com/questions/6323338/jquery-ajax-posting-json-to-webservice\" title=\"jquery ajax posting json to webservice\">stackoverflow.com/questions/6323338/&hellip;</a>"}, {"owner": {"reputation": 1477, "user_id": 929289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RYXUJ.jpg?s=128&g=1", "display_name": "Briford Wylie", "link": "https://stackoverflow.com/users/929289/briford-wylie"}, "edited": false, "score": 0, "creation_date": 1437146466, "post_id": 30493521, "comment_id": 50923701, "body": "Thanks for providing your final code, I have a similar use case."}, {"owner": {"reputation": 464, "user_id": 5575530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83Dc3.jpg?s=128&g=1", "display_name": "KCN", "link": "https://stackoverflow.com/users/5575530/kcn"}, "edited": false, "score": 0, "creation_date": 1497340651, "post_id": 30493521, "comment_id": 76023426, "body": "HI, I am also facing the same issue.As per your suggestion I done but still getting bad request error"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 464, "user_id": 5575530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83Dc3.jpg?s=128&g=1", "display_name": "KCN", "link": "https://stackoverflow.com/users/5575530/kcn"}, "edited": false, "score": 0, "creation_date": 1497379276, "post_id": 30493521, "comment_id": 76050127, "body": "what your exact issue @KCN?"}, {"owner": {"reputation": 464, "user_id": 5575530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83Dc3.jpg?s=128&g=1", "display_name": "KCN", "link": "https://stackoverflow.com/users/5575530/kcn"}, "edited": false, "score": 0, "creation_date": 1497415218, "post_id": 30493521, "comment_id": 76062150, "body": "As per your suggestion I followed like json_dat = request.get_json(force=True)   fname = json_dat[&quot;firstname&quot;]   lname = json_dat[&quot;lastname&quot;]  but while executing this url from rest client getting 400 bad request error"}], "tags": [], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "is_accepted": false, "score": 27, "last_activity_date": 1432762342, "creation_date": 1432762342, "answer_id": 30493521, "question_id": 30491841, "link": "https://stackoverflow.com/questions/30491841/python-flask-restful-post-not-taking-json-arguments/30493521#30493521", "title": "Python Flask-Restful POST not taking JSON arguments", "body": "<p>junnytony's answer gave me a hint, and I went ahead with this approach. <code>get_json</code> seems to have done the trick.   </p>\n\n<pre><code>from flask import Flask, jsonify, request\nfrom flask_restful import reqparse, abort, Api, Resource\n\napp = Flask(__name__)\napi = Api(app)\n\n#parser = reqparse.RequestParser()\n#parser.add_argument('username', type=unicode, location='json')\n#parser.add_argument('password', type=unicode, location='json')\n\nclass HelloWorld(Resource):\n    def post(self):\n        json_data = request.get_json(force=True)\n        un = json_data['username']\n        pw = json_data['password']\n        #args = parser.parse_args()\n        #un = str(args['username'])\n        #pw = str(args['password'])\n        return jsonify(u=un, p=pw)\n\napi.add_resource(HelloWorld, '/testing')\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5444 ,debug=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "is_accepted": false, "score": 5, "last_activity_date": 1548535970, "last_edit_date": 1548535970, "creation_date": 1548535291, "answer_id": 54382536, "question_id": 30491841, "link": "https://stackoverflow.com/questions/30491841/python-flask-restful-post-not-taking-json-arguments/54382536#54382536", "title": "Python Flask-Restful POST not taking JSON arguments", "body": "<p>I ran into a similar issue and here is a solution that works for me. let's say your application looks like this:</p>\n\n<pre><code>from flask import Flask, jsonify\nfrom flask_restful import Api, Resource, reqparse\n\napp = Flask(__name__)\napi = Api(app)\n\n# Define parser and request args\nparser = reqparse.RequestParser()\nparser.add_argument('last_name', type=str)\nparser.add_argument('first_name', type=str)\n# not the type=dict\nparser.add_argument('personal_data', type=dict)\n\n\nclass Item(Resource):\n\n    def post(self):\n\n        args = parser.parse_args()\n\n        ln = args['last_name']\n        fn = args['first_name']\n        # we can also easily parse nested structures\n        age = args['personal_data']['age']\n        nn = args['personal_data']['nicknames']\n\n        return jsonify(fn=fn, ln=ln, age=age, nn=nn)\n\n\napi.add_resource(Item, '/item')\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>Now, you can easily create some JSON data:</p>\n\n<pre><code>import json\n\nd = {'last_name': 'smith', 'first_name': 'john', 'personal_data': {'age': 18, 'height': 180, 'nicknames': ['johnny', 'grandmaster']}}\n\nprint(json.dumps(d, indent=4))\n\n{\n    \"last_name\": \"smith\",\n    \"first_name\": \"john\",\n    \"personal_data\": {\n        \"age\": 18,\n        \"height\": 180,\n        \"nicknames\": [\n            \"johnny\",\n            \"grandmaster\"\n        ]\n    }\n}\n\njson.dumps(d)\n'{\"last_name\": \"smith\", \"first_name\": \"john\", \"personal_data\": {\"age\": 18, \"height\": 180, \"nicknames\": [\"johnny\", \"grandmaster\"]}}'\n</code></pre>\n\n<p>and call the application:</p>\n\n<pre><code>curl http://localhost:5000/item -d '{\"last_name\": \"smith\", \"first_name\": \"john\", \"personal_data\": {\"age\": 18, \"height\": 180, \"nicknames\": [\"johnny\", \"grandmaster\"]}}'\n</code></pre>\n\n<p>This will crash with the error (I shortened the traceback):</p>\n\n<blockquote>\n  <p>age = args['personal_data']['age']<br>\n  TypeError: 'NoneType' object is not subscriptable</p>\n</blockquote>\n\n<p>the reason is that the header is not specified. If we add the </p>\n\n<pre><code>-H \"Content-Type: application/json\"\n</code></pre>\n\n<p>and then call</p>\n\n<pre><code>curl http://localhost:5000/item -H \"Content-Type: application/json\" -d '{\"last_name\": \"smith\", \"first_name\": \"john\", \"personal_data\": {\"age\": 18, \"height\": 180, \"nicknames\": [\"johnny\", \"grandmaster\"]}}'\n</code></pre>\n\n<p>The output looks as expected:</p>\n\n<pre><code>{\n  \"age\": 18, \n  \"fn\": \"john\", \n  \"ln\": \"smith\", \n  \"nn\": [\n    \"johnny\", \n    \"grandmaster\"\n  ]\n}\n</code></pre>\n\n<p>The function can be also further simplified to:</p>\n\n<pre><code>class Item(Resource):\n\n    def post(self):\n\n        json_data = request.get_json()\n        # create your response below\n</code></pre>\n\n<p>as <a href=\"https://stackoverflow.com/a/30493521/1534017\">shown above</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 4768012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffeb1ec0044d1977dee2a11da064e197?s=128&d=identicon&r=PG&f=1", "display_name": "moutaz samir", "link": "https://stackoverflow.com/users/4768012/moutaz-samir"}, "is_accepted": false, "score": 6, "last_activity_date": 1558565473, "creation_date": 1558565473, "answer_id": 56265956, "question_id": 30491841, "link": "https://stackoverflow.com/questions/30491841/python-flask-restful-post-not-taking-json-arguments/56265956#56265956", "title": "Python Flask-Restful POST not taking JSON arguments", "body": "<p>After forcing the request to parse json, it worked with me.\nHere is the code:</p>\n\n<pre><code>from flask import Flask, jsonify, request\nfrom flask_restful import reqparse, abort, Api, Resource\n\napp = Flask(__name__)\napi = Api(app)\n\nparser = reqparse.RequestParser()\nparser.add_argument('username', type=str)\nparser.add_argument('password', type=str)\n\nclass HelloWorld(Resource):\n    def post(self):\n        request.get_json(force=True)\n        args = parser.parse_args()\n        un = str(args['username'])\n        pw = str(args['password'])\n        return jsonify(u=un, p=pw)\n\napi.add_resource(HelloWorld, '/testing')\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5444 ,debug=True)\n</code></pre>\n"}], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57275, "favorite_count": 15, "accepted_answer_id": 30492444, "answer_count": 4, "score": 28, "last_activity_date": 1558565473, "creation_date": 1432756034, "last_edit_date": 1495540937, "question_id": 30491841, "link": "https://stackoverflow.com/questions/30491841/python-flask-restful-post-not-taking-json-arguments", "title": "Python Flask-Restful POST not taking JSON arguments", "body": "<p>I am very new to Flask (&amp; Flask-Restful). </p>\n\n<p>My problem : <code>json</code> arguments for a <code>POST</code> is getting set to <code>NONE</code> (not working).</p>\n\n<p>I am able to take arguments from the <code>form-data</code>, using <code>POSTMAN</code> plugin for chrome. But, when i switch to <code>raw</code> (&amp; feed a <code>json</code>), it fails to read the json &amp; assigns a <code>NONE</code> to all my arguments.</p>\n\n<p>I have read some related stackoverflow posts related to this : <a href=\"https://stackoverflow.com/questions/22273671/flask-restful-post-json-fails\">link1</a>, <a href=\"https://stackoverflow.com/questions/23982151/flask-with-flask-restful-not-parsing-json-payloads\">link2</a>, <a href=\"https://stackoverflow.com/questions/19384526/how-to-parse-the-post-argument-to-a-rest-service\">link3</a> ... none of these helped me.</p>\n\n<p>I am using <code>python-2.6</code>, <code>Flask-Restful-0.3.3</code>, <code>Flask-0.10.1</code>, <code>Chrome</code>, <code>POSTMAN</code> on Oracle Linux 6.5.</p>\n\n<p><strong>Python code</strong> <code>app.py</code> : </p>\n\n<pre><code>from flask import Flask, jsonify\nfrom flask_restful import reqparse, abort, Api, Resource\n\napp = Flask(__name__)\napi = Api(app)\n\nparser = reqparse.RequestParser()\nparser.add_argument('username', type=str)\nparser.add_argument('password', type=str)\n\nclass HelloWorld(Resource):\n    def post(self):\n        args = parser.parse_args()\n        un = str(args['username'])\n        pw = str(args['password'])\n        return jsonify(u=un, p=pw)\n\napi.add_resource(HelloWorld, '/testing')\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5444 ,debug=True)\n</code></pre>\n\n<p><strong>Testing this</strong> using <code>POSTMAN</code> :</p>\n\n<ul>\n<li>Using <code>form-data</code> : works perfectly !</li>\n<li>Using <code>raw</code> -> <code>json</code> : <em>causes this issue</em></li>\n</ul>\n\n<p><strong>Things tried #1</strong> : </p>\n\n<p>Add <code>json</code> parameter to my <code>add_argument()</code> method in <code>app.py</code></p>\n\n<pre><code>parser = reqparse.RequestParser()\nparser.add_argument('username', type=str, location='json') # added json\nparser.add_argument('password', type=str, location='json') # added json\n</code></pre>\n\n<p><code>Input</code> : { \"username\": \"hello\", \"password\": \"world\" }</p>\n\n<p><code>Output</code> : { \"p\": \"None\", \"u\": \"None\" }</p>\n\n<p><strong>Things tried #2</strong> : </p>\n\n<p>Change type to <code>unicode</code> in <code>add_argument()</code> method in <code>app.py</code></p>\n\n<pre><code>parser = reqparse.RequestParser()\nparser.add_argument('username', type=unicode, location='json') # change type to unicode\nparser.add_argument('password', type=unicode, location='json') # change type to unicode\n</code></pre>\n\n<p><code>Input</code> : { \"username\": \"hello\", \"password\": \"world\" }</p>\n\n<p><code>Output</code> : { \"p\": \"None\", \"u\": \"None\" }</p>\n\n<hr>\n\n<p><strong>PS :</strong> \nI will keep updating my question, with every failed attempt. \nPlease let me know if you need any more info to make this question more clear.</p>\n"}, {"tags": ["python", "pyqt", "designer"], "comments": [{"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1432767514, "post_id": 30491824, "comment_id": 49066610, "body": "Read the documentation: <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/designer.html\" rel=\"nofollow noreferrer\">pyqt.sourceforge.net/Docs/PyQt4/designer.html</a> (hint: The generated .py files are not supposed to be immediately runnable)"}, {"owner": {"reputation": 11, "user_id": 4946319, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153393786522376/picture?type=large", "display_name": "Rasmus Troelsen", "link": "https://stackoverflow.com/users/4946319/rasmus-troelsen"}, "reply_to_user": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1432801721, "post_id": 30491824, "comment_id": 49078324, "body": "I&#39;ve looked through the documentation, but I still can&#39;t see exactly what to do. I&#39;ve noticed that maybe I need an <b>init</b> definition, but I&#39;m completely lost on what to do next."}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1432810248, "post_id": 30491824, "comment_id": 49084265, "body": "You have generated a python file with a class in it from the .ui file. Now you must write another python file which uses this class. See the above linked answer (the possible duplicate), or the first example in the tutorial I linked to in my first comment, for how to do this."}], "owner": {"reputation": 11, "user_id": 4946319, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153393786522376/picture?type=large", "display_name": "Rasmus Troelsen", "link": "https://stackoverflow.com/users/4946319/rasmus-troelsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1433837917, "answer_count": 0, "score": 1, "last_activity_date": 1432755995, "creation_date": 1432755995, "question_id": 30491824, "link": "https://stackoverflow.com/questions/30491824/qtdesigner-code-doesnt-work-in-pycharm", "closed_reason": "Duplicate", "title": "QtDesigner code doesn&#39;t work in Pycharm", "body": "<p>So I was fooling around with QtDesigner today, and I got the design I wanted for my program, however, when converting the .ui file to a .py file, the file just seems to close. I can see that I'm missing something here, but I simply have no clue what it is.</p>\n\n<pre><code>/usr/local/bin/python\n# -*- coding: utf-8 -*-\nimport sys\nfrom PyQt4 import QtCore, QtGui\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(845, 620)\n        self.centralwidget = QtGui.QWidget(MainWindow)\n        self.centralwidget.setObjectName(_fromUtf8(\"centralwidget\"))\n        self.gridLayout = QtGui.QGridLayout(self.centralwidget)\n        self.gridLayout.setObjectName(_fromUtf8(\"gridLayout\"))\n        self.pushButton_2 = QtGui.QPushButton(self.centralwidget)\n        font = QtGui.QFont()\n        font.setFamily(_fromUtf8(\"Times New Roman\"))\n        font.setPointSize(24)\n        font.setBold(True)\n        font.setWeight(75)\n        self.pushButton_2.setFont(font)\n        self.pushButton_2.setObjectName(_fromUtf8(\"pushButton_2\"))\n        self.gridLayout.addWidget(self.pushButton_2, 1, 1, 1, 1)\n        self.pushButton_3 = QtGui.QPushButton(self.centralwidget)\n        font = QtGui.QFont()\n        font.setFamily(_fromUtf8(\"Times New Roman\"))\n        font.setPointSize(24)\n        font.setBold(True)\n        font.setWeight(75)\n        self.pushButton_3.setFont(font)\n        self.pushButton_3.setObjectName(_fromUtf8(\"pushButton_3\"))\n        self.gridLayout.addWidget(self.pushButton_3, 1, 2, 1, 1)\n        self.pushButton = QtGui.QPushButton(self.centralwidget)\n        font = QtGui.QFont()\n        font.setFamily(_fromUtf8(\"Times New Roman\"))\n        font.setPointSize(24)\n        font.setBold(True)\n        font.setWeight(75)\n        self.pushButton.setFont(font)\n        self.pushButton.setObjectName(_fromUtf8(\"pushButton\"))\n        self.gridLayout.addWidget(self.pushButton, 1, 0, 1, 1)\n        self.label = QtGui.QLabel(self.centralwidget)\n        font = QtGui.QFont()\n        font.setPointSize(48)\n        font.setBold(True)\n        font.setItalic(False)\n        font.setWeight(75)\n        self.label.setFont(font)\n        self.label.setObjectName(_fromUtf8(\"label\"))\n        self.gridLayout.addWidget(self.label, 0, 1, 1, 1)\n        self.label_2 = QtGui.QLabel(self.centralwidget)\n        font = QtGui.QFont()\n        font.setPointSize(36)\n        font.setBold(True)\n        font.setWeight(75)\n        self.label_2.setFont(font)\n        self.label_2.setObjectName(_fromUtf8(\"label_2\"))\n        self.gridLayout.addWidget(self.label_2, 2, 1, 1, 1)\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtGui.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 845, 21))\n        self.menubar.setObjectName(_fromUtf8(\"menubar\"))\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtGui.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(_fromUtf8(\"statusbar\"))\n        MainWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\", None))\n        self.pushButton_2.setText(_translate(\"MainWindow\", \"Ordrebekr\u00e6ftelse\", None))\n        self.pushButton_3.setText(_translate(\"MainWindow\", \"Tilbud\", None))\n        self.pushButton.setText(_translate(\"MainWindow\", \" Faktura\", None))\n        self.label.setText(_translate(\"MainWindow\", \"Aaskov Gardiner\", None))\n        self.label_2.setText(_translate(\"MainWindow\", \"  v/ Bent H. Troelsen\", None))\n</code></pre>\n\n<p>I'd really appreciate any help given.</p>\n"}, {"tags": ["python", "list", "iterator", "idioms"], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 4, "last_activity_date": 1432756435, "creation_date": 1432756435, "answer_id": 30491953, "question_id": 30491798, "link": "https://stackoverflow.com/questions/30491798/pythonic-way-to-process-multiple-for-loops-with-different-filters-against-the-sa/30491953#30491953", "title": "Pythonic way to process multiple for loops with different filters against the same list?", "body": "<p>A simpler solution would probably be to just iterate over the files first and then apply your checks one by one:</p>\n\n<pre><code>reTest = re.compile(\".*\\.(py|php)\", re.IGNORECASE)\nfor root, dirnames, filenames in os.walk(directory):\n    for filename in filenames:\n        error = None\n        if fnmatch.fnmatch(filename, '*[A-Z]*'):\n            error = 'No capital letters!'\n        elif reTest.search(filename):\n            error = 'Invalid file type!'\n\n        if error:\n            matches.append([os.path.join(root, filename), error])\n</code></pre>\n\n<p>This will not only make the logic a lot simpler since you only ever need to check a single file (instead of having to figure every time out how to call your check method on a sequence of filenames), it will also iterate only once through the list of filenames.</p>\n\n<p>Furthermore, it will also avoid generating multiple matches for a single file name; it just adds one error (the first) at most. If you don\u2019t want this, you could make <code>error</code> a list instead and append to it in your checks\u2014of course you want to change the <code>elif</code> to <code>if</code> then to evaluate all the checks.</p>\n"}, {"comments": [{"owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "reply_to_user": {"reputation": 7673, "user_id": 3004881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lFgVw.jpg?s=128&g=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3004881/dan-getz"}, "edited": false, "score": 0, "creation_date": 1432777856, "post_id": 30492026, "comment_id": 49069131, "body": "Updated with example. Agreed link-only answers aren&#39;t as good."}], "tags": [], "owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "is_accepted": false, "score": -1, "last_activity_date": 1432777723, "last_edit_date": 1432777723, "creation_date": 1432756761, "answer_id": 30492026, "question_id": 30491798, "link": "https://stackoverflow.com/questions/30491798/pythonic-way-to-process-multiple-for-loops-with-different-filters-against-the-sa/30492026#30492026", "title": "Pythonic way to process multiple for loops with different filters against the same list?", "body": "<p>I recommend you look at <a href=\"http://www.dabeaz.com/generators/Generators.pdf\" rel=\"nofollow\">these slides</a>.</p>\n\n<p>David Beazley gives an example of using <code>yield</code> to process log files.</p>\n\n<p>edit: here are two examples from the pdf, one without generator:</p>\n\n<pre><code>wwwlog = open(\"access-log\")\ntotal = 0\nfor line in wwwlog:\n  bytestr = line.rsplit(None,1)[1]\n   if bytestr != '-':\n     total += int(bytestr)\n print \"Total\", total\n</code></pre>\n\n<p>and with generator (can use function with yield for more complex examples)</p>\n\n<pre><code>wwwlog = open(\"access-log\")\nbytecolumn = (line.rsplit(None,1)[1] for line in wwwlog)\nbytes = (int(x) for x in bytecolumn if x != '-')\nprint \"Total\", sum(bytes)\n</code></pre>\n"}], "owner": {"reputation": 5497, "user_id": 168047, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/054a225638b300643d2f78a3e35f1d86?s=128&d=identicon&r=PG", "display_name": "two7s_clash", "link": "https://stackoverflow.com/users/168047/two7s-clash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 1, "accepted_answer_id": 30491953, "answer_count": 2, "score": 6, "last_activity_date": 1432777723, "creation_date": 1432755905, "last_edit_date": 1432756246, "question_id": 30491798, "link": "https://stackoverflow.com/questions/30491798/pythonic-way-to-process-multiple-for-loops-with-different-filters-against-the-sa", "title": "Pythonic way to process multiple for loops with different filters against the same list?", "body": "<p>Here's a bit of a program I'm writing that will create a csv categorizing a directory of files:</p>\n\n<pre><code>matches = []\nfor root, dirnames, filenames in os.walk(directory):\n    for filename in fnmatch.filter(filenames, '*[A-Z]*'):\n        matches.append([os.path.join(root, filename), \"No Capital Letters!\"])\n\n    test = re.compile(\".*\\.(py|php)\", re.IGNORECASE)\n    for filename in filter(test.search, filenames):\n        matches.append([os.path.join(root, filename), \"Invalid File type!\"])\n</code></pre>\n\n<p>Basically, the user picks a folder and the program denotes problem files, which can be of several types (just two listed here: no files with uppercase letters, no php or python files). There will be probably five or six cases.</p>\n\n<p>While this works, I want to refactor. Is it possible to do something like</p>\n\n<pre><code>for filename in itertools.izip(fnmatch.filter(filenames, '*[A-Z]*'), filter(test.search, filenames), ...):\n    matches.append([os.path.join(root, filename), \"Violation\")\n</code></pre>\n\n<p>while being able to keep track of which of original unzipped lists caused the \"violation?\"</p>\n"}, {"tags": ["python", "python-3.x", "gtk", "gtk3"], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 311564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc1d524ab0affe73860d3e3584fdbbc7?s=128&d=identicon&r=PG", "display_name": "xor", "link": "https://stackoverflow.com/users/311564/xor"}, "edited": false, "score": 0, "creation_date": 1432760167, "post_id": 30492359, "comment_id": 49063663, "body": "Thank you. I just created a Button object without any arguments, I thought it would add an empty label to it by default, but nop. I didn&#39;t even need to remove the child from the button. Just created a nice horizontal box like you suggested, added it to the button, and packed the other widgets in the box. It&#39;s working like a charm. ^_^"}], "tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": true, "score": 2, "last_activity_date": 1432757912, "creation_date": 1432757912, "answer_id": 30492359, "question_id": 30491766, "link": "https://stackoverflow.com/questions/30491766/how-do-i-expand-the-children-inside-a-button/30492359#30492359", "title": "How do I expand the children inside a button?", "body": "<p>GtkAlignment itself has been deprecated. From <a href=\"https://developer.gnome.org/gtk3/stable/GtkAlignment.html\" rel=\"nofollow\">the docs</a>:</p>\n\n<blockquote>\n  <p>GtkAlignment has been deprecated in 3.14 and should not be used in newly-written code. The desired effect can be achieved by using the \u201chalign\u201d, \u201cvalign\u201d and \u201cmargin\u201d properties on the child widget.</p>\n</blockquote>\n\n<p>There's not much you can do here. The GtkAlignment is an internal child of the GtkButton, and there is code (such as yours) that relies on this structure. If GtkAlignment is ever removed (such as in GTK+ 4), the internal structure of the GtkButton will change too.</p>\n\n<p>If you <em>really</em> want to avoid using deprecated functions, you can replace the button's child entirely with a horizontal GtkBox, pack the image and a label inside, and set the image's <code>hexpand</code> to <code>True</code> to simulate the <code>xscale</code> of 1.</p>\n\n<p>Take a look at <a href=\"https://developer.gnome.org/gtk3/3.10/ch28s02.html\" rel=\"nofollow\">this</a> for more information on the new properties.</p>\n"}], "owner": {"reputation": 561, "user_id": 311564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc1d524ab0affe73860d3e3584fdbbc7?s=128&d=identicon&r=PG", "display_name": "xor", "link": "https://stackoverflow.com/users/311564/xor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 30492359, "answer_count": 1, "score": 0, "last_activity_date": 1432757912, "creation_date": 1432755838, "question_id": 30491766, "link": "https://stackoverflow.com/questions/30491766/how-do-i-expand-the-children-inside-a-button", "title": "How do I expand the children inside a button?", "body": "<p>I just updated to Fedora 22, and got with it Gnome 3.16.\nI'm running a small app of mine and I get a deprecation warning. The xscale property of the Alignment object is going away. There is a problem however, I can not expand the children of a button without it.</p>\n\n<p>I created this simple test code:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport sys\nfrom gi.repository import Gtk\n\n\nclass Application(Gtk.Application):\n\n    def __init__(self):\n        super().__init__()\n        self.connect('activate', self.on_activate)\n        self.connect('startup', self.on_startup)\n\n    def on_startup(self, app):\n        self.window = Gtk.ApplicationWindow(application=app)\n        self.window.set_position(Gtk.WindowPosition.MOUSE)\n        self.window.set_default_size(600, 200)\n        button = Gtk.Button(label='test')\n        image = Gtk.Image.new_from_file('noimage.png')\n        button.set_always_show_image(True)\n        button.set_image(image)\n        # I can't expand without this property bellow\n        button.get_child().set_property('xscale', 1.0)\n        self.window.add(button)\n\n    def on_activate(self, app):\n        self.window.show_all()\n\n\nif __name__ == '__main__':\n    main_app = Application()\n    exit_status = main_app.run(sys.argv)\n    sys.exit(exit_status)\n</code></pre>\n\n<p>You should see a small wide window, with a button in it, covering all of the window's available space. Inside the button you should see an invalid image icon on the left, and a text label on the right.</p>\n\n<p>I separated the image from the label using the xscale property, this expands the size of the Alignment object inside the button and gives more space for the label and image to expand apart. I'd like to know a way to achieve the same result without it.</p>\n\n<p>I used the gtk inspector (Ctrl+Shift+D while the app is running) and tried every sane, and less sane, property in pretty much all objects in that window, with no success. I tried my trusty search engine but couldn't find anyone with such a specific problem.</p>\n"}, {"tags": ["python", "django", "postgresql"], "comments": [{"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 1, "creation_date": 1432756400, "post_id": 30491739, "comment_id": 49061714, "body": "Please post your model code."}, {"owner": {"reputation": 4589, "user_id": 535884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a53aebc466c2dfc2c62633310465e0?s=128&d=identicon&r=PG", "display_name": "Igor Pomaranskiy", "link": "https://stackoverflow.com/users/535884/igor-pomaranskiy"}, "edited": false, "score": 0, "creation_date": 1432758168, "post_id": 30491739, "comment_id": 49062730, "body": "You should look into migrations code, to find out, which migration and where tries to cast some fields, which are not integer, to int."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 4917236, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/39bab9a9183b8c515c11481fe34197af?s=128&d=identicon&r=PG&f=1", "display_name": "Uasmi Nasser", "link": "https://stackoverflow.com/users/4917236/uasmi-nasser"}, "is_accepted": false, "score": 0, "last_activity_date": 1432756766, "creation_date": 1432756766, "answer_id": 30492029, "question_id": 30491739, "link": "https://stackoverflow.com/questions/30491739/cannot-be-cast-automatically-to-type-integer/30492029#30492029", "title": "Cannot be cast automatically to type integer", "body": "<p>Removing all previous migrations solved the problem</p>\n"}], "owner": {"reputation": 49, "user_id": 4917236, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/39bab9a9183b8c515c11481fe34197af?s=128&d=identicon&r=PG&f=1", "display_name": "Uasmi Nasser", "link": "https://stackoverflow.com/users/4917236/uasmi-nasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1493, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432984408, "creation_date": 1432755768, "last_edit_date": 1432984408, "question_id": 30491739, "link": "https://stackoverflow.com/questions/30491739/cannot-be-cast-automatically-to-type-integer", "title": "Cannot be cast automatically to type integer", "body": "<blockquote>\n  <p>django.db.utils.ProgrammingError: column \"name_id\" cannot be cast automatically to type integer</p>\n</blockquote>\n\n<p>This error continues to appear when I try to make migrations, I tried dropping the database, commenting all models, nothing works.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "tkinter", "tkinter-entry"], "comments": [{"owner": {"reputation": 3649, "user_id": 1133649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/45ec3802ffba5f1deac11a6a568fd4f7?s=128&d=identicon&r=PG", "display_name": "Roman Susi", "link": "https://stackoverflow.com/users/1133649/roman-susi"}, "edited": false, "score": 1, "creation_date": 1432756783, "post_id": 30491721, "comment_id": 49061946, "body": "Duplicate <a href=\"http://stackoverflow.com/questions/27820178/how-to-add-placeholder-in-a-text-field-in-tkinter\" title=\"how to add placeholder in a text field in tkinter\">stackoverflow.com/questions/27820178/&hellip;</a> ?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1432757618, "post_id": 30491721, "comment_id": 49062427, "body": "You didn&#39;t find any option or method to delete data or put cursor in the textbox? Where did you look? It&#39;s documented in many places (eg: <a href=\"http://effbot.org/tkinterbook/entry.htm#Tkinter.Entry.insert-method\" rel=\"nofollow noreferrer\">effbot.org/tkinterbook/entry.htm#Tkinter.Entry.insert-method</a>&zwnj;&#8203;, <a href=\"http://effbot.org/tkinterbook/entry.htm#Tkinter.Entry.delete-method\" rel=\"nofollow noreferrer\">effbot.org/tkinterbook/entry.htm#Tkinter.Entry.delete-method</a>&zwnj;&#8203;)"}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1432767546, "post_id": 30493130, "comment_id": 49066618, "body": "This won&#39;t work if they use the tab key to move focus to the entrt. It would be better to bind on <code>&lt;FocusIn&gt;</code>"}], "tags": [], "owner": {"reputation": 779, "user_id": 4933116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Pov-76Ho5_c/AAAAAAAAAAI/AAAAAAAAABE/UX5RzZlWMnU/photo.jpg?sz=128", "display_name": "pommicket", "link": "https://stackoverflow.com/users/4933116/pommicket"}, "is_accepted": false, "score": 4, "last_activity_date": 1459554810, "last_edit_date": 1459554810, "creation_date": 1432760720, "answer_id": 30493130, "question_id": 30491721, "link": "https://stackoverflow.com/questions/30491721/how-to-insert-a-temporary-text-in-a-tkinter-entry-widget/30493130#30493130", "title": "How to insert a temporary text in a tkinter Entry widget?", "body": "<p>I think this should work:</p>\n\n<pre><code>import Tkinter as tk\n\n\nfirstclick = True\n\ndef on_entry_click(event):\n    \"\"\"function that gets called whenever entry1 is clicked\"\"\"        \n    global firstclick\n\n    if firstclick: # if this is the first time they clicked it\n        firstclick = False\n        entry.delete(0, \"end\") # delete all the text in the entry\n\n\nroot = tk.Tk()\n\nlabel = tk.Label(root, text=\"User: \")\nlabel.pack(side=\"left\")\n\nentry = tk.Entry(root, bd=1)\nentry.insert(0, 'Enter your user name...')\nentry.bind('&lt;FocusIn&gt;', on_entry_click)\nentry.pack(side=\"left\")\n\nroot.mainloop()\n</code></pre>\n\n<p>This will delete <code>Enter your user name...</code> when the user clicks on the Entry <code>entry</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4854276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7113f890de0c61828a7e1909a666c73f?s=128&d=identicon&r=PG&f=1", "display_name": "9jera", "link": "https://stackoverflow.com/users/4854276/9jera"}, "is_accepted": false, "score": 0, "last_activity_date": 1434985726, "creation_date": 1434985726, "answer_id": 30983517, "question_id": 30491721, "link": "https://stackoverflow.com/questions/30491721/how-to-insert-a-temporary-text-in-a-tkinter-entry-widget/30983517#30983517", "title": "How to insert a temporary text in a tkinter Entry widget?", "body": "<p>From Leo's Code <code>entry1.delete</code> should be changed to <code>entry.delete</code>.</p>\n\n<p>Also the Entry widget from his code clears only on first click, but you can make the Entry widget clear only when it is set to the default text. This could be helpful if your code has to repeat itself. </p>\n\n<p>Try this:</p>\n\n<pre><code>import Tkinter as tk\n\n\ndef on_entry_click(event):\n    \"\"\"function that gets called whenever entry is clicked\"\"\"\n    if entry.get() == 'Enter your user name...':\n       entry.delete(0, \"end\") # delete all the text in the entry\n       entry.insert(0, '') #Insert blank for user input\n\n\nroot = tk.Tk()\n\nlabel = tk.Label(root, text=\"User: \")\nlabel.pack(side=\"left\")\n\nentry = tk.Entry(root, bd=1)\nentry.insert(0, 'Enter your user name...')\nentry.bind('&lt;FocusIn&gt;', on_entry_click)\nentry.pack(side=\"left\")\n\nroot.mainloop()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 7623655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0c35cea1baf410727643201e2bf0c9?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Samson", "link": "https://stackoverflow.com/users/7623655/olivier-samson"}, "edited": false, "score": 1, "creation_date": 1532466575, "post_id": 39677021, "comment_id": 89984172, "body": "To get the entry text color, you can use cget as such: <code>entry.cget(&#39;fg&#39;)</code>"}, {"owner": {"reputation": 332, "user_id": 7639174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeBYf.png?s=128&g=1", "display_name": "lone_coder", "link": "https://stackoverflow.com/users/7639174/lone-coder"}, "edited": false, "score": 0, "creation_date": 1585398491, "post_id": 39677021, "comment_id": 107747469, "body": "if entry.get() == &#39;&#39;&quot; #this condition is dangerous, it should&#39;ve been like this =&gt;if len(entry.get()) - entry.get().count(&#39; &#39;) &lt; 1 #aware of space only character"}], "tags": [], "owner": {"reputation": 380, "user_id": 3914393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6269cfbd9fc8000d57025de250ec2e3?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroFunter", "link": "https://stackoverflow.com/users/3914393/zerofunter"}, "is_accepted": true, "score": 10, "last_activity_date": 1532566142, "last_edit_date": 1532566142, "creation_date": 1474724574, "answer_id": 39677021, "question_id": 30491721, "link": "https://stackoverflow.com/questions/30491721/how-to-insert-a-temporary-text-in-a-tkinter-entry-widget/39677021#39677021", "title": "How to insert a temporary text in a tkinter Entry widget?", "body": "<p>I would like to add something to the responses that has not been said. As <a href=\"https://stackoverflow.com/users/4854276/9jera\">9jera</a> said, we can make the Entry widget clear only when it sees the default text instead of the \"firstclick\" method used by <a href=\"https://stackoverflow.com/users/4933116/leo-tenenbaum\">Leo Tenenbaum</a>.</p>\n\n<p>We could also add a second function to refill the Entry widget if the user has turned the focus to another widget without typing in anything.</p>\n\n<p>This can be achieved as follows:</p>\n\n<pre><code>import Tkinter as tk\n\n\ndef on_entry_click(event):\n    \"\"\"function that gets called whenever entry is clicked\"\"\"\n    if entry.get() == 'Enter your user name...':\n       entry.delete(0, \"end\") # delete all the text in the entry\n       entry.insert(0, '') #Insert blank for user input\n       entry.config(fg = 'black')\ndef on_focusout(event):\n    if entry.get() == '':\n        entry.insert(0, 'Enter your username...')\n        entry.config(fg = 'grey')\n\n\nroot = tk.Tk()\n\nlabel = tk.Label(root, text=\"User: \")\nlabel.pack(side=\"left\")\n\nentry = tk.Entry(root, bd=1)\nentry.insert(0, 'Enter your user name...')\nentry.bind('&lt;FocusIn&gt;', on_entry_click)\nentry.bind('&lt;FocusOut&gt;', on_focusout)\nentry.config(fg = 'grey')\nentry.pack(side=\"left\")\n\nroot.mainloop()\n</code></pre>\n\n<p>Finally, I also added grey color to the default text and black to the one written by the user, just for anyone that was wondering about that. The only issue I see here is, if the user actually manually types in there <code>Enter your user name...</code>, focuses out and in again, the text will be deleted even though it was written by the user himself. One solution I thought of is to change the if statement so it gets the color instead of the default text before deleting anything. If the color is grey, it can go ahead and delete it. Else, it will not. Yet, I have not found a way to get the text color. If anyone knows about this, please let me know!</p>\n\n<p>EDIT: Apparently, as <a href=\"https://stackoverflow.com/users/7623655/olivier-samson\">Olivier Samson</a> has pointed out, it is possible to get the color of the entry by using <code>entry.cget('fg')</code>. I guess, after 2 years, I finally figure out how to do this.</p>\n\n<p>Therefore, we can now change the line <code>if entry.get() == 'Enter your user name...':</code> to <code>if entry.cget('fg') == 'grey':</code>. That way, whenever the entry is clicked for the first time and anything is typed inside, the color is changed to black, so next time the user focuses in, it will not delete any text (even if that text is <code>Enter your user name...</code>).</p>\n"}], "owner": {"reputation": 327, "user_id": 4946244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/550095974a94c079f5ce6fc33a730ab6?s=128&d=identicon&r=PG&f=1", "display_name": "Ds Arjun", "link": "https://stackoverflow.com/users/4946244/ds-arjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19351, "favorite_count": 3, "accepted_answer_id": 39677021, "answer_count": 3, "score": 5, "last_activity_date": 1532566142, "creation_date": 1432755731, "last_edit_date": 1504206167, "question_id": 30491721, "link": "https://stackoverflow.com/questions/30491721/how-to-insert-a-temporary-text-in-a-tkinter-entry-widget", "title": "How to insert a temporary text in a tkinter Entry widget?", "body": "<p>How to insert a temporary text in a tkinter <code>Entry</code> widget?</p>\n\n<p>For example, I have a Label <code>User</code> and next to it I have an Entry widget which should have some text <code>\"Enter your username...\"</code> at the beginning of the application, and while putting cursor on the Entry widget, it should remove <code>\"Enter your username...\"</code> and allow user to enter data. </p>\n\n<p>This is my current code:</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\nlabel = tk.Label(root, text=\"User:\")\nlabel.pack()\nentry = tk.Entry(root, bd=1, show=\"Enter your user name...\")\nentry.pack()\n\nroot.mainloop()\n</code></pre>\n\n<p>How can I do that? </p>\n\n<p>I didn't find any option or method to delete data on putting cursor on the Entry widget. </p>\n"}, {"tags": ["python", "c++", "swig"], "answers": [{"tags": [], "owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "is_accepted": true, "score": 3, "last_activity_date": 1432755944, "creation_date": 1432755944, "answer_id": 30491810, "question_id": 30491586, "link": "https://stackoverflow.com/questions/30491586/how-can-i-reuse-code-across-swig-typemaps/30491810#30491810", "title": "How can I reuse code across swig typemaps?", "body": "<p>You can pass code straight through to the generated .c file using <code>%{ %}</code>. The simplest way to re-use code inside a wrapper is therefore to just put it inside those, probably as a static function so that it doesn't clash with anything else in the same module. In your example this would work:</p>\n\n<pre><code>%{\n   #include \"structure_defs.h\"\n%}\n\n%{\nstatic PyObject* Cartesian2PyList(const schrodinger::Cartesian&amp; cartesian)\n{\n  PyObject *o;\n  o = PyList_New(3);\n  PyObject* item = PyFloat_FromDouble(cartesian.x);\n  PyList_SetItem(o, 0, item);\n  item = PyFloat_FromDouble(cartesian.y);\n  PyList_SetItem(o, 1, item);\n  item = PyFloat_FromDouble(cartesian.z);\n  PyList_SetItem(o, 2, item);\n  return o; \n}\n%}\n\n%typemap(out) schrodinger::Cartesian\n{\n  $result = Cartesian2PyList($1);\n}\n%typemap(out) std::vector&lt;schrodinger::Cartesian&gt;\n{\n  PyObject *o;\n  o = PyList_New($1.size());\n  for (uint i=0; i&lt;$1.size(); i++) {\n    PyObject *elem = Cartesian2PyList($1.at(i));\n    PyList_SetItem(o, i, elem);\n  }\n  $result = o;\n}\n\n%include \"cartesian.h\"\n</code></pre>\n\n<p>You could merge the two <code>%{ %}</code> blocks into a single block here if you so wished.</p>\n\n<p>I also removed the <code>%ignore</code> directive there because code inside <code>%{ %}</code> is just output into the generated module and not wrapped, so would be redundant. On the otherhand if you really did want to have it wrapped as well as defined in the generated code you could use <code>%inline %{ ... %}</code>, e.g.:</p>\n\n<pre><code>%inline %{\nstatic PyObject* Cartesian2PyList(const schrodinger::Cartesian&amp; cartesian)\n{\n    //...\n}\n%}\n</code></pre>\n\n<p>There are smarter things you can use if you're writing more generic SWIG code rather than just a single module, see <a href=\"http://www.swig.org/Doc2.0/Typemaps.html#Typemaps_fragments\" rel=\"nofollow\">fragments</a>, <a href=\"http://www.swig.org/Doc2.0/Preprocessor.html#Preprocessor_nn6\" rel=\"nofollow\"><code>%define</code></a> and <a href=\"http://www.swig.org/Doc2.0/Typemaps.html#Typemaps_special_macro_typemap\" rel=\"nofollow\"><code>$typemap</code></a>. In the simple case though just writing code for use inside the module only as shown above is sufficient.</p>\n"}], "owner": {"reputation": 10343, "user_id": 1309332, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2CtHJ.png?s=128&g=1", "display_name": "dbn", "link": "https://stackoverflow.com/users/1309332/dbn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 30491810, "answer_count": 1, "score": 3, "last_activity_date": 1432755944, "creation_date": 1432755299, "question_id": 30491586, "link": "https://stackoverflow.com/questions/30491586/how-can-i-reuse-code-across-swig-typemaps", "title": "How can I reuse code across swig typemaps?", "body": "<p>I have two swig typemaps with a bunch of duplicate code in them. I'd like to consolidate the code as follows:</p>\n\n<pre><code>%{\n   #include \"structure_defs.h\"\n%}\n\n%ignore Cartesian2PyList(const schrodinger::Cartesian&amp;);\nPyObject* Cartesian2PyList(const schrodinger::Cartesian&amp; cartesian)\n{\n  PyObject *o;\n  o = PyList_New(3);\n  PyObject* item = PyFloat_FromDouble(cartesian.x);\n  PyList_SetItem(o, 0, item);\n  item = PyFloat_FromDouble(cartesian.y);\n  PyList_SetItem(o, 1, item);\n  item = PyFloat_FromDouble(cartesian.z);\n  PyList_SetItem(o, 2, item);\n  return o; \n}\n\n%typemap(out) schrodinger::Cartesian\n{\n  $result = Cartesian2PyList($1);\n}\n%typemap(out) std::vector&lt;schrodinger::Cartesian&gt;\n{\n  PyObject *o;\n  o = PyList_New($1.size());\n  for (uint i=0; i&lt;$1.size(); i++) {\n    PyObject *elem = Cartesian2PyList($1.at(i));\n    PyList_SetItem(o, i, elem);\n  }\n  $result = o;\n}\n\n%include \"cartesian.h\"\n</code></pre>\n\n<p>However, this fails to compile, because the definition for Cartesian2PyList cannot be found at compile time. What is the best way to reuse code in multiple typemaps?</p>\n"}, {"tags": ["php", "python", "html"], "comments": [{"owner": {"reputation": 41, "user_id": 7588119, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IQKPJuiBPkY/AAAAAAAAAAI/AAAAAAAAANI/lEoBQ21j4uU/photo.jpg?sz=128", "display_name": "Dave B", "link": "https://stackoverflow.com/users/7588119/dave-b"}, "edited": false, "score": 0, "creation_date": 1511948311, "post_id": 30491531, "comment_id": 82055450, "body": "I use GM <a href=\"https://stackoverflow.com/questions/15040849/how-to-send-data-from-greasemonkey-to-a-php-wamp-server/47493014#47493014\" title=\"how to send data from greasemonkey to a php wamp server\">stackoverflow.com/questions/15040849/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4876334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/407d4583ab392b7ca258058e60d72241?s=128&d=identicon&r=PG&f=1", "display_name": "Alina DW", "link": "https://stackoverflow.com/users/4876334/alina-dw"}, "edited": false, "score": 0, "creation_date": 1432756619, "post_id": 30491629, "comment_id": 49061854, "body": "Thanks! The input portion of my code is not really necessary, so I can actually just remove it completely. In that case, would I still have issues running the script from the html button. Would I format the <code>php</code> differently?"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 101, "user_id": 4876334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/407d4583ab392b7ca258058e60d72241?s=128&d=identicon&r=PG&f=1", "display_name": "Alina DW", "link": "https://stackoverflow.com/users/4876334/alina-dw"}, "edited": false, "score": 0, "creation_date": 1432756708, "post_id": 30491629, "comment_id": 49061913, "body": "You still can\u2019t run server side code from the client\u2019s browser and expect it to be interactive. HTTP works by sending a request to the server, and the server responds. Every interactivity will have to involve multiple requests, which you can\u2019t just do by <code>exec</code>ing some script."}, {"owner": {"reputation": 101, "user_id": 4876334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/407d4583ab392b7ca258058e60d72241?s=128&d=identicon&r=PG&f=1", "display_name": "Alina DW", "link": "https://stackoverflow.com/users/4876334/alina-dw"}, "edited": false, "score": 0, "creation_date": 1432756902, "post_id": 30491629, "comment_id": 49062018, "body": "I see. What I meant is if I take out the interactive portion of my python script, where it ran without promoting the user for any input, it should run smoothly right? I&#39;ve done that to the script now, but the button still does not run the script."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 101, "user_id": 4876334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/407d4583ab392b7ca258058e60d72241?s=128&d=identicon&r=PG&f=1", "display_name": "Alina DW", "link": "https://stackoverflow.com/users/4876334/alina-dw"}, "edited": false, "score": 0, "creation_date": 1432757089, "post_id": 30491629, "comment_id": 49062113, "body": "Yes, if the HTML form launches the php file that contains the <code>exec</code>, and <i>if</i> running the Python script works from within php (permissions might be an issue; your server logs may tell you about that), then the script should run. You can try opening the php file directly in the browser, so you can skip the button-pressing part for test purposes."}], "tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 3, "last_activity_date": 1432755420, "creation_date": 1432755420, "answer_id": 30491629, "question_id": 30491531, "link": "https://stackoverflow.com/questions/30491531/html-button-to-run-python/30491629#30491629", "title": "HTML button to run Python", "body": "<blockquote>\n  <p>Will the python code still ask for input if it is run from a web server?</p>\n</blockquote>\n\n<p>Yes and no. When the Python script is executed and it prompts for input, then yes, it will wait for input. However, it will not ask the user sitting in front of the browser for it; there\u2019s just no way that this can happen. The Python script is executed on your server, by php, and the user just waits for the php script to return some response (HTML) that is then displayed.</p>\n\n<p>If you want to pass information to the Python script, you should pass data from php via command line arguments or the standard input, and then read the script\u2019s output to present it back to the user.</p>\n\n<p>But it will be a lot cleaner, if you just stick to a single language there: Either put the logic into the php script, that way you can interact easily with the user via the webserver, or replace the whole php script by a Python web stack that does the same.</p>\n"}], "owner": {"reputation": 101, "user_id": 4876334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/407d4583ab392b7ca258058e60d72241?s=128&d=identicon&r=PG&f=1", "display_name": "Alina DW", "link": "https://stackoverflow.com/users/4876334/alina-dw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432755420, "creation_date": 1432755138, "last_edit_date": 1495542608, "question_id": 30491531, "link": "https://stackoverflow.com/questions/30491531/html-button-to-run-python", "title": "HTML button to run Python", "body": "<p>This is a follow up question to one that I posted earlier. </p>\n\n<p>I have a html button that I would like to run a python script:</p>\n\n<pre><code>&lt;form name = \"input\" action = \"script.php\" method = \"get\"&gt;\n&lt;input type= \"submit\" name = \"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And the php it accesses looks like:</p>\n\n<pre><code>&lt;?php exec(\"python /c/wamp/www/thursday.py\");?&gt;\n</code></pre>\n\n<p>My problem is that the code is not executing, and I am not receiving anything in my error log. What am I doing wrong?</p>\n\n<p>My python code organizes images in a folder and asks for user input if the file is named incorrectly according to the way it organizes. </p>\n\n<p>Will the python code still ask for input if it is run from a web server?</p>\n\n<p>Sources I've looked at: <a href=\"https://stackoverflow.com/questions/15166941/create-html-button-to-run-python-script?rq=1\">Create HTML button to run Python Script</a> and <a href=\"https://stackoverflow.com/questions/26792899/run-python-script-with-html-button\">run python script with html button</a></p>\n"}, {"tags": ["python", "node.js", "machine-learning", "sentiment-analysis"], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 1497376, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c8436f77d0cd55e9449a319770981844?s=128&d=identicon&r=PG", "display_name": "Rashad", "link": "https://stackoverflow.com/users/1497376/rashad"}, "edited": false, "score": 0, "creation_date": 1432791221, "post_id": 30491984, "comment_id": 49072678, "body": "Thank you. I don&#39;t have a particular reason for why I&#39;m using Node. I&#39;m most familiar with it compared to other frameworks which is why I used it."}, {"owner": {"reputation": 3345, "user_id": 1158241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2c6f0e85e2346b5d9231e55b0ea778?s=128&d=identicon&r=PG", "display_name": "Freek Wiekmeijer", "link": "https://stackoverflow.com/users/1158241/freek-wiekmeijer"}, "reply_to_user": {"reputation": 235, "user_id": 1497376, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c8436f77d0cd55e9449a319770981844?s=128&d=identicon&r=PG", "display_name": "Rashad", "link": "https://stackoverflow.com/users/1497376/rashad"}, "edited": false, "score": 3, "creation_date": 1432791683, "post_id": 30491984, "comment_id": 49072872, "body": "If the node app isn&#39;t doing anything (load balancing, DoS protection, security, other applications, ...), I would get rid of the node app and just expose the Flask interface."}], "tags": [], "owner": {"reputation": 3345, "user_id": 1158241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2c6f0e85e2346b5d9231e55b0ea778?s=128&d=identicon&r=PG", "display_name": "Freek Wiekmeijer", "link": "https://stackoverflow.com/users/1158241/freek-wiekmeijer"}, "is_accepted": false, "score": 2, "last_activity_date": 1432756579, "creation_date": 1432756579, "answer_id": 30491984, "question_id": 30491507, "link": "https://stackoverflow.com/questions/30491507/how-to-connect-a-machine-learning-classifier-to-a-web-app/30491984#30491984", "title": "How to connect a Machine Learning classifier to a Web App?", "body": "<p>Flask is a relatively simple web framework. It will suit your need to get the user-submitted text into a python function, without too much boilerplate code or complexity. There are alternatives, most notably Tornado.</p>\n\n<p>I do wonder why you would stack two REST interfaces on top of eachother. Do you need the node.js application for specific reasons? If not, you can simplify your architecture.</p>\n"}, {"comments": [{"owner": {"reputation": 2458, "user_id": 3899919, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8d6527131c609f6c41101db2aff6ba10?s=128&d=identicon&r=PG&f=1", "display_name": "zthomas.nc", "link": "https://stackoverflow.com/users/3899919/zthomas-nc"}, "edited": false, "score": 0, "creation_date": 1596397172, "post_id": 41322580, "comment_id": 111792520, "body": "Thanks for the answer -- It is recommended to spell out the answer here on SO instead of linking to an external site."}], "tags": [], "owner": {"reputation": 9, "user_id": 7339928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYtXs.jpg?s=128&g=1", "display_name": "JaNe", "link": "https://stackoverflow.com/users/7339928/jane"}, "is_accepted": false, "score": -1, "last_activity_date": 1482683011, "last_edit_date": 1482683011, "creation_date": 1482681625, "answer_id": 41322580, "question_id": 30491507, "link": "https://stackoverflow.com/questions/30491507/how-to-connect-a-machine-learning-classifier-to-a-web-app/41322580#41322580", "title": "How to connect a Machine Learning classifier to a Web App?", "body": "<p>Your two main options are through a web framework, like <code>Flask</code>, or with a <a href=\"https://en.wikipedia.org/wiki/Common_Gateway_Interface\" rel=\"nofollow noreferrer\">CGI bridge</a>, simply speaking it's like writing/reading directly to the terminal.</p>\n\n<p>I wrote a tutorial, where I call the combine work of FullStack and Machine Learning : <a href=\"https://medium.com/@nebiljabari/meteorning-b0c27f42f93c#.s8vu20w9e\" rel=\"nofollow noreferrer\">Smart Stack</a>\nusing <code>Meteor - Angular2</code> and <code>Scikit-learn</code>.</p>\n\n<p>The part which will interest you is the second: 2- Server Side and possibly the third: 3- Model Optimisation</p>\n\n<p>I have some concern about the scalability of this process over <code>REST</code> style <em>(I have to dig deeper into that point)</em>, but for a prototype and/or a small app it should be fine.</p>\n"}], "owner": {"reputation": 235, "user_id": 1497376, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c8436f77d0cd55e9449a319770981844?s=128&d=identicon&r=PG", "display_name": "Rashad", "link": "https://stackoverflow.com/users/1497376/rashad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1482683011, "creation_date": 1432755066, "last_edit_date": 1432755458, "question_id": 30491507, "link": "https://stackoverflow.com/questions/30491507/how-to-connect-a-machine-learning-classifier-to-a-web-app", "title": "How to connect a Machine Learning classifier to a Web App?", "body": "<p>I'm trying to build a sentiment classifier web app, but I don't understand who to connect the machine learning component with the web app. I've built the client-side web app that's running on a NodeJS server, and I've trained a sentiment classifier that saved as a Python script.</p>\n\n<p>My goal is to have users submit text on the web app, send it to the Python script, classify, and send the result back via JSON.</p>\n\n<p>How should I setup the Machine Learning-Web App pipeline?</p>\n\n<p>One suggestion was to load the Python script in Flask, and use Flask as a REST API. It seems as though using Flask would be overkill since I only need to do one task.</p>\n"}, {"tags": ["python", "web-scraping", "scrapy", "scrapy-spider"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1432755809, "creation_date": 1432755809, "answer_id": 30491753, "question_id": 30491498, "link": "https://stackoverflow.com/questions/30491498/getting-scrapy-to-follow-specific-links-on-a-page/30491753#30491753", "title": "Getting scrapy to follow specific links on a page", "body": "<p><code>restrict_xpaths</code> should not point to the <code>@href</code> attribute. It should point to the place where the link extractor would search for links:</p>\n\n<pre><code>Rule(LinkExtractor(restrict_xpaths='//h3'), follow=True)\n</code></pre>\n\n<p>Note that you can specify it as a string instead of a tuple.</p>\n\n<hr>\n\n<p>You can also <code>allow</code> all the links having <code>all*.html</code> in it:</p>\n\n<pre><code>Rule(LinkExtractor(allow=r'all.*?\\.html'), follow=True)\n</code></pre>\n\n<hr>\n\n<p>You should also make sure your spider is actually visiting that  \"Parent Directory\" page. Starting crawling with it sounds logical since this is an index page for the catalog:</p>\n\n<pre><code>start_urls = [\"http://www.ohhla.com/all.html\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6113, "user_id": 4418897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fff1ff90d8926cf3a82823f66943c5?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Pillai", "link": "https://stackoverflow.com/users/4418897/santosh-pillai"}, "is_accepted": false, "score": 0, "last_activity_date": 1476943276, "last_edit_date": 1495540111, "creation_date": 1476943276, "answer_id": 40146563, "question_id": 30491498, "link": "https://stackoverflow.com/questions/30491498/getting-scrapy-to-follow-specific-links-on-a-page/40146563#40146563", "title": "Getting scrapy to follow specific links on a page", "body": "<p>The part two this answer can be useful for crawling specific links in a webpage. <a href=\"https://stackoverflow.com/a/40146522/4418897\">https://stackoverflow.com/a/40146522/4418897</a></p>\n"}], "owner": {"reputation": 2795, "user_id": 2998998, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8424bcd9571a90dee95c219bd6443ecc?s=128&d=identicon&r=PG", "display_name": "Artturi Bj&#246;rk", "link": "https://stackoverflow.com/users/2998998/artturi-bj%c3%b6rk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2212, "favorite_count": 2, "accepted_answer_id": 30491753, "answer_count": 2, "score": 2, "last_activity_date": 1476943276, "creation_date": 1432755039, "last_edit_date": 1432756162, "question_id": 30491498, "link": "https://stackoverflow.com/questions/30491498/getting-scrapy-to-follow-specific-links-on-a-page", "title": "Getting scrapy to follow specific links on a page", "body": "<p>I'm trying to scrape lyrics from The Original Hip Hop Lyrics Archive.</p>\n\n<p>I've managed to write a spider that scrapes the lyrics of an artist if I release it on the artist page such as this: <a href=\"http://www.ohhla.com/anonymous/aesoprck/\" rel=\"nofollow\">http://www.ohhla.com/anonymous/aesoprck/</a>.</p>\n\n<p>but when I release it on this page with links to different artist pages <a href=\"http://www.ohhla.com/all.html\" rel=\"nofollow\">http://www.ohhla.com/all.html</a> I get nothing.</p>\n\n<p>This is the rule that I'm trying to use to follow the links to artist pages:</p>\n\n<pre><code>Rule(LinkExtractor(restrict_xpaths=('//pre/a/@href',)), follow= True)\n</code></pre>\n\n<p>and this is the rule I'm trying to use to follow the links to different pages with links to the artist pages:</p>\n\n<pre><code>Rule(LinkExtractor(restrict_xpaths=('//h3/a/@href',)), follow= True)\n</code></pre>\n\n<p>I modified the tutorial in Scrapy to get this to work since for some reason it didn't work when I started a new project. </p>\n\n<p>Here is my complete working example of the spider: </p>\n\n<pre><code>from scrapy.contrib.spiders import CrawlSpider,Rule\nfrom scrapy.contrib.linkextractors import LinkExtractor\n\n\nclass ohhlaSpider(CrawlSpider):\n    name = \"ohhla\"\n    download_delay = 0.5\n    allowed_domains = [\"ohhla.com\"]\n    start_urls = [\"http://www.ohhla.com/anonymous/aesoprck/\"]\n    rules = (Rule (LinkExtractor(restrict_xpaths=('//h3/a/@href',)), follow= True), # trying to follow links to pages with more links to artist pages\n             Rule (LinkExtractor(restrict_xpaths=('//pre/a/@href',)), follow= True), # trying to follow links to artist pages\n             Rule (LinkExtractor(deny_extensions=(\"txt\"),restrict_xpaths=('//ul/li',)), follow= True), # succeeding in following links to album pages\n             Rule (LinkExtractor(restrict_xpaths=('//ul/li',)), callback=\"extract_text\", follow= False),) # succeeding in extracting lyrics from the songs on album pages\n\n    def extract_text(self, response):\n        \"\"\" extract text from webpage\"\"\"\n        string = response.xpath('//pre/text()').extract()[0]\n        with open(\"lyrics.txt\", 'wb') as f:\n            f.write(string)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 2, "creation_date": 1432754980, "post_id": 30491427, "comment_id": 49060792, "body": "Note that your command-line example uses the path <code>&#47;sys&#47;bus&#47;w1&#47;devices</code>, but your code leaves out the <code>w1</code> component."}, {"owner": {"reputation": 43, "user_id": 4946229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Msw4NtwP48/AAAAAAAAAAI/AAAAAAAAILo/FivC7oK6IKw/photo.jpg?sz=128", "display_name": "Lucas Pi&#241;eiro Maseda", "link": "https://stackoverflow.com/users/4946229/lucas-pi%c3%b1eiro-maseda"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1432755282, "post_id": 30491427, "comment_id": 49060987, "body": "Thanks, i changed but i cant get the complet name."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 3, "creation_date": 1432755456, "post_id": 30491427, "comment_id": 49061118, "body": "What exactly do you expect as the output? I don\u2019t really understand what you mean by \u201cfull name of the directory\u201d."}, {"owner": {"reputation": 4322, "user_id": 1292090, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c1c210dde5f5af4d32fb9feaf2cc80ca?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/1292090/sandman"}, "edited": false, "score": 0, "creation_date": 1432755637, "post_id": 30491427, "comment_id": 49061250, "body": "Your link is broken."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4946229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Msw4NtwP48/AAAAAAAAAAI/AAAAAAAAILo/FivC7oK6IKw/photo.jpg?sz=128", "display_name": "Lucas Pi&#241;eiro Maseda", "link": "https://stackoverflow.com/users/4946229/lucas-pi%c3%b1eiro-maseda"}, "edited": false, "score": 0, "creation_date": 1432757557, "post_id": 30491719, "comment_id": 49062383, "body": "Thank you very much for your hep. I got it. Now i need to get the name   of &quot;28-*&quot; as string.."}, {"owner": {"reputation": 4322, "user_id": 1292090, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c1c210dde5f5af4d32fb9feaf2cc80ca?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/1292090/sandman"}, "reply_to_user": {"reputation": 43, "user_id": 4946229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Msw4NtwP48/AAAAAAAAAAI/AAAAAAAAILo/FivC7oK6IKw/photo.jpg?sz=128", "display_name": "Lucas Pi&#241;eiro Maseda", "link": "https://stackoverflow.com/users/4946229/lucas-pi%c3%b1eiro-maseda"}, "edited": false, "score": 1, "creation_date": 1432758118, "post_id": 30491719, "comment_id": 49062702, "body": "You can do that with os.path.basname() function. I have edited my answer above to reflect this."}, {"owner": {"reputation": 43, "user_id": 4946229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Msw4NtwP48/AAAAAAAAAAI/AAAAAAAAILo/FivC7oK6IKw/photo.jpg?sz=128", "display_name": "Lucas Pi&#241;eiro Maseda", "link": "https://stackoverflow.com/users/4946229/lucas-pi%c3%b1eiro-maseda"}, "edited": false, "score": 0, "creation_date": 1432764011, "post_id": 30491719, "comment_id": 49065447, "body": "Again thanks for your valuable help. I did the changes. They worked but i still have problems. I cant open the directory. I edited in the main question. Thanks for your patience, again."}], "tags": [], "owner": {"reputation": 4322, "user_id": 1292090, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c1c210dde5f5af4d32fb9feaf2cc80ca?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/1292090/sandman"}, "is_accepted": true, "score": 0, "last_activity_date": 1432787690, "last_edit_date": 1432787690, "creation_date": 1432755725, "answer_id": 30491719, "question_id": 30491427, "link": "https://stackoverflow.com/questions/30491427/get-a-complete-name-of-a-directory-in-python/30491719#30491719", "title": "Get a complete name of a directory in Python", "body": "<p>Based on a google search of your link, it seems like your temperature sensor follows a naming pattern of 28-*. You could use this:</p>\n\n<pre><code>import glob, os.path\npaths = glob.glob(\"/sys/bus/w1/devices/28-*\")\npath_names = [os.path.basename(path) for path in paths]\n\nif len(path_names) &gt; 0:\n   first_sensor = os.path.normpath(os.path.join(path_names[0], \"w1_slave\"))\n   while True:\n       # read from sensor file\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4946229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Msw4NtwP48/AAAAAAAAAAI/AAAAAAAAILo/FivC7oK6IKw/photo.jpg?sz=128", "display_name": "Lucas Pi&#241;eiro Maseda", "link": "https://stackoverflow.com/users/4946229/lucas-pi%c3%b1eiro-maseda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 30491719, "answer_count": 1, "score": 4, "last_activity_date": 1432787690, "creation_date": 1432754794, "last_edit_date": 1592644375, "question_id": 30491427, "link": "https://stackoverflow.com/questions/30491427/get-a-complete-name-of-a-directory-in-python", "title": "Get a complete name of a directory in Python", "body": "<p>My SO is Raspbian in a Raspberry Pi 2.\nIm working with nano 2.2.6\nIm a newbie in Python.\nI want to program a temperature sensor D18B20.\nI got a fantastic manual:\n<a href=\"http://www.reuk.co.uk/DS18B20-Temperature-Sensor-with-Raspberry-Pi.htm\" rel=\"nofollow noreferrer\">Raspberry Pi temperature sensor</a>.\nWhen I list the devices with:</p>\n<pre><code>  ls -l /sys/bus/w1/devices/\n</code></pre>\n<p>I would like to get the name of the directory asociated to the thermometer as 28*. I know the name but i need to make a program to get the name.\nI was working with this code. But i can't get the full name of the directory.</p>\n<pre><code>  import os\n  name = os.path.basename (&quot;sys/bus/w1/devices/28*&quot;)\n  print (name)\n</code></pre>\n<p>Thank you very much for your time and patience\nBest regards</p>\n<h1>Edited Version 0.1b</h1>\n<pre><code>import glob, os.path\nimport time\n\npaths = glob.glob(&quot;/sys/bus/w1/devices/28-*&quot;)\npath_names= [os.path.basename(path) for path in paths]\nl = list (path_names)\nname = l[0] \npath_names = &quot;&quot;.join(name)\nprint name\n\nwhile 1:\n    tempfile = open (&quot;/sys/bus/w1/devices/name/w1_slave&quot;)\n    #thetext = tempfile.read()\n    #tempfile.close()\n    #tempdata = thetext.split(&quot;\\n&quot;[1].split(&quot; &quot;)[9]\n    #temperature = float(tempdata[2:])\n    #temperature = temperature / 1000\n    #print temperature\n    #time.sleep (1)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-requests"], "comments": [{"owner": {"reputation": 176, "user_id": 4452480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3827ac4e0c56c3fef11ea4c64e385fa6?s=128&d=identicon&r=PG&f=1", "display_name": "chishui", "link": "https://stackoverflow.com/users/4452480/chishui"}, "edited": false, "score": 1, "creation_date": 1432754613, "post_id": 30491339, "comment_id": 49060586, "body": "try to use an absolute path for image"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1432754671, "post_id": 30491339, "comment_id": 49060619, "body": "But should <code>urllib2.Request</code> save the contents?"}, {"owner": {"reputation": 1180, "user_id": 1827067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b582360f1bb0887cc973299849b52ac7?s=128&d=identicon&r=PG", "display_name": "maggick", "link": "https://stackoverflow.com/users/1827067/maggick"}, "edited": false, "score": 0, "creation_date": 1432755027, "post_id": 30491339, "comment_id": 49060823, "body": "you need to write the object to a file"}, {"owner": {"reputation": 906, "user_id": 3046533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6b24b4eec50542f02ba90ff97a0a91a?s=128&d=identicon&r=PG&f=1", "display_name": "fsimkovic", "link": "https://stackoverflow.com/users/3046533/fsimkovic"}, "edited": false, "score": 0, "creation_date": 1432755117, "post_id": 30491339, "comment_id": 49060881, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14439809/unable-to-save-image-from-web-using-urllib2\">Unable to save image from web using urllib2</a>"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1432755159, "post_id": 30491339, "comment_id": 49060916, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/3042757/downloading-a-picture-via-urllib-and-python\">Downloading a picture via urllib and python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432755661, "post_id": 30491495, "comment_id": 49061264, "body": "Try with the image <a href=\"http://upload.wikimedia.org/wikipedia/commons/8/8c/JPEG_example_JPG_RIP_025.jpg\" rel=\"nofollow noreferrer\">here</a> because I get a weird distortion."}, {"owner": {"reputation": 906, "user_id": 3046533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6b24b4eec50542f02ba90ff97a0a91a?s=128&d=identicon&r=PG&f=1", "display_name": "fsimkovic", "link": "https://stackoverflow.com/users/3046533/fsimkovic"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432755850, "post_id": 30491495, "comment_id": 49061366, "body": "@MalikBrahimi What do you mean? Works perfectly fine for me!"}, {"owner": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1432755908, "post_id": 30491495, "comment_id": 49061404, "body": "Thanks, this does indeed do the trick. One problem i have is that my tested image comes out distorted and green, so its probably something with the image itself, i&#39;m going to try other images to see if it works."}, {"owner": {"reputation": 906, "user_id": 3046533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6b24b4eec50542f02ba90ff97a0a91a?s=128&d=identicon&r=PG&f=1", "display_name": "fsimkovic", "link": "https://stackoverflow.com/users/3046533/fsimkovic"}, "reply_to_user": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1432756123, "post_id": 30491495, "comment_id": 49061550, "body": "@jumpman8947 Odd, it works for me, looks like it is supposed to. Just to confirm, brown leaves, grey stone, bit of green grass top left and bottom right."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432756344, "post_id": 30491495, "comment_id": 49061677, "body": "@Felix_Sim It still is distorted, both blocks of code."}, {"owner": {"reputation": 906, "user_id": 3046533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6b24b4eec50542f02ba90ff97a0a91a?s=128&d=identicon&r=PG&f=1", "display_name": "fsimkovic", "link": "https://stackoverflow.com/users/3046533/fsimkovic"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432756474, "post_id": 30491495, "comment_id": 49061758, "body": "@MalikBrahimi Then I do not know. I cannot reproduce any distortion or colour problem regardless of how many times I am trying. Maybe it&#39;s the OS. I&#39;m on OS X Yosemite 10.10.3 with Python 2.7.6."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432756999, "post_id": 30491495, "comment_id": 49062072, "body": "I&#39;m on Windows 8.1 though I doubt it&#39;s the OS. I mean we&#39;re reading the data and writing it."}, {"owner": {"reputation": 480, "user_id": 3652192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/baeb40c369bed081eb71ef3f89e5273a?s=128&d=identicon&r=PG&f=1", "display_name": "newGIS", "link": "https://stackoverflow.com/users/3652192/newgis"}, "edited": false, "score": 0, "creation_date": 1464760422, "post_id": 30491495, "comment_id": 62609150, "body": "Felix_Sim, i run your exact code- it run with no problem- but where i see the download file?"}], "tags": [], "owner": {"reputation": 906, "user_id": 3046533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6b24b4eec50542f02ba90ff97a0a91a?s=128&d=identicon&r=PG&f=1", "display_name": "fsimkovic", "link": "https://stackoverflow.com/users/3046533/fsimkovic"}, "is_accepted": false, "score": 3, "last_activity_date": 1432756261, "last_edit_date": 1432756261, "creation_date": 1432755032, "answer_id": 30491495, "question_id": 30491339, "link": "https://stackoverflow.com/questions/30491339/python-2-7-download-images/30491495#30491495", "title": "Python 2.7 download images", "body": "<p>This will do the trick. The rest can stay the same, just edit your function to include the two lines I have added.</p>\n\n<pre><code>def download_web_image(url):\n    name = random.randrange(1,1000)\n    full_name = str(name) + \".jpg\"\n    request = urllib2.Request(url)\n    img = urllib2.urlopen(request).read()\n    with open (full_name, 'w') as f: f.write(img)\n</code></pre>\n\n<hr>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>Exact code as requested in comments.</p>\n\n<pre><code>import urllib2\n\ndef download_web_image(url):\n    request = urllib2.Request(url)\n    img = urllib2.urlopen(request).read()\n    with open ('test.jpg', 'w') as f: f.write(img)\n\ndownload_web_image(\"http://upload.wikimedia.org/wikipedia/commons/8/8c/JPEG_example_JPG_RIP_025.jpg\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1432755984, "post_id": 30491526, "comment_id": 49061458, "body": "I&#39;m using python 2.7 so i have to use urllib2"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1432756065, "post_id": 30491526, "comment_id": 49061513, "body": "<code>urllib</code> is contained in both versions of Python. In fact, I&#39;m using 2.7."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1432755626, "last_edit_date": 1432755626, "creation_date": 1432755120, "answer_id": 30491526, "question_id": 30491339, "link": "https://stackoverflow.com/questions/30491339/python-2-7-download-images/30491526#30491526", "title": "Python 2.7 download images", "body": "<p>You are simply creating a <code>Request</code> but you are not downloading the image. Try the following instead:</p>\n\n<pre><code>urllib.urlretrieve(url, os.path.join(os.getcwd(), full_name)) # download and save image\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3612338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09c7ccaca9931647e2e21a961d199f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3612338", "link": "https://stackoverflow.com/users/3612338/user3612338"}, "is_accepted": false, "score": 1, "last_activity_date": 1432755359, "creation_date": 1432755359, "answer_id": 30491603, "question_id": 30491339, "link": "https://stackoverflow.com/questions/30491339/python-2-7-download-images/30491603#30491603", "title": "Python 2.7 download images", "body": "<p>Or try the requests library:</p>\n\n<pre><code>import requests\n\nimage = requests.get(\"www.example.com/page1/picture.jpg\")\nwith open('picture.jpg', 'wb') as f:\n    f.write(image.content)\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4578004, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f279947be4037899ed6111825461e323?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/4578004/jumpman8947"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4511, "favorite_count": 0, "accepted_answer_id": 30491526, "answer_count": 3, "score": 3, "last_activity_date": 1432756261, "creation_date": 1432754464, "last_edit_date": 1432754538, "question_id": 30491339, "link": "https://stackoverflow.com/questions/30491339/python-2-7-download-images", "title": "Python 2.7 download images", "body": "<p>I'm using python 2.7 and pycharm is my editor. What i'm trying to do is have python go to a site and download an image from that site and save it to my directory. Currently I have no errors but i don't think its downloading because the file is not showing in my directory.</p>\n\n<pre><code>import random\nimport urllib2\n\ndef download_web_image(url):\n    name = random.randrange(1,1000)\n    full_name = str(name) + \".jpg\"\n    urllib2.Request(url, full_name)\n\ndownload_web_image(\"www.example.com/page1/picture.jpg\")\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1432754821, "creation_date": 1432754821, "answer_id": 30491439, "question_id": 30491333, "link": "https://stackoverflow.com/questions/30491333/changing-shapes-of-a-numpy-array/30491439#30491439", "title": "changing shapes of a numpy array", "body": "<p><a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.rollaxis.html\" rel=\"nofollow\"><code>numpy.rollaxis</code></a> can shift the position of an axis in a NumPy array:</p>\n\n<pre><code>L = L.reshape([i, P, 3])\nL = numpy.rollaxis(L, 1)\n</code></pre>\n\n<p>It takes 3 arguments, one optional. The first is the array, the second is the axis to move, and the third is confusingly documented as \"The axis is rolled until it lies before this position\". Basically, if you want to move the i<sup>th</sup> axis to the j<sup>th</sup> position and <code>j&lt;i</code>, the third argument should be j. If <code>j&gt;i</code>, the third argument should be j+1. I don't know why it works that way. The third argument defaults to 0.</p>\n"}], "owner": {"reputation": 2238, "user_id": 4159833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9c40168a426e48fa3faa82591351b7de?s=128&d=identicon&r=PG&f=1", "display_name": "Physicist", "link": "https://stackoverflow.com/users/4159833/physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30491439, "answer_count": 1, "score": 0, "last_activity_date": 1432754821, "creation_date": 1432754443, "question_id": 30491333, "link": "https://stackoverflow.com/questions/30491333/changing-shapes-of-a-numpy-array", "title": "changing shapes of a numpy array", "body": "<p>How to change the shape of array from ixMxNx3 to (M*N)xix3?</p>\n\n<p>I have a ixMxNx3 array L. You can think of L as an array containing i images, each image has height=M, width=N, and in each pixel it has a three-dimensional vector (or rgb). Let P = M*N. I can change its shape to ixPx3 by L.reshape(i,P,3). (I hope it is really changing it to the shape I want). How do I change its shape to Pxix3? i.e. an array that contains P points, each point has i images, each image of that point has a three-dimensional vector. </p>\n\n<p>How can this change of shape be accomplished?</p>\n"}, {"tags": ["python", "neural-network", "backpropagation"], "comments": [{"owner": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 3, "creation_date": 1432756263, "post_id": 30491307, "comment_id": 49061637, "body": "since you haven&#39;t hard-coded the topology of the net, here&#39;s a suggestion: try training with zero or one hidden layers (each with one node), one input, and one output, to see if that does what you&#39;d expect."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 6967, "user_id": 915501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b219b646efa3c74061977c39306c1841?s=128&d=identicon&r=PG", "display_name": "Shep", "link": "https://stackoverflow.com/users/915501/shep"}, "edited": false, "score": 0, "creation_date": 1432757369, "post_id": 30491307, "comment_id": 49062272, "body": "@Shep Interestingly, when running on a nnet with shape <code>[2, 1, 1]</code>, the weights are actually trained correctly. Training it to output 1, the weights actually <i>do</i> increase, and the output converges at 1. Interesting test."}, {"owner": {"reputation": 4226, "user_id": 2929337, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0fad97c24fbeec7e953f5d19ddc47a7?s=128&d=identicon&r=PG&f=1", "display_name": "cfh", "link": "https://stackoverflow.com/users/2929337/cfh"}, "edited": false, "score": 0, "creation_date": 1432762243, "post_id": 30491307, "comment_id": 49064697, "body": "1) By &quot;the weights are being trained to zero&quot;, you mean that the weights start out as random numbers, but seem to converge to zero? 2) How large is your actual network? 3) Try scaling your inputs to the range [0, 1]."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 4226, "user_id": 2929337, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0fad97c24fbeec7e953f5d19ddc47a7?s=128&d=identicon&r=PG&f=1", "display_name": "cfh", "link": "https://stackoverflow.com/users/2929337/cfh"}, "edited": false, "score": 0, "creation_date": 1432762996, "post_id": 30491307, "comment_id": 49065055, "body": "@cfh Yeah, weights end up dropping to zero despite being initially random. The network I&#39;m trying to train has the shape <code>[64, 15, 25, 10]</code>. The result doesn&#39;t change when the inputs are scaled to <code>[0,1]</code>."}, {"owner": {"reputation": 2699, "user_id": 3960850, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ab1567a7683f0e4f937150d70b378c69?s=128&d=identicon&r=PG&f=1", "display_name": "matousc", "link": "https://stackoverflow.com/users/3960850/matousc"}, "edited": false, "score": 0, "creation_date": 1434544059, "post_id": 30491307, "comment_id": 49822362, "body": "How do you use the learning rate?"}, {"owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441872832, "post_id": 30491307, "comment_id": 52852797, "body": "How you initialized weights of NN ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441872864, "post_id": 30491307, "comment_id": 52852817, "body": "@YuraZaletskyy The weights were randomized using a normal Gaussian distribution."}, {"owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441873181, "post_id": 30491307, "comment_id": 52853019, "body": "Does weights have different signs and relatively small ( &lt; 1) values ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441873248, "post_id": 30491307, "comment_id": 52853050, "body": "@YuraZaletskyy The weights are all positive values, as are the inputs. The values are frequently less than one, because they follow a Gaussian distribution; however, that isn&#39;t necessarily the case."}, {"owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441874291, "post_id": 30491307, "comment_id": 52853718, "body": "can you please present sample of input -&gt; output vector which you feed to NN?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441874345, "post_id": 30491307, "comment_id": 52853752, "body": "@YuraZaletskyy Truth be told, this question is a bit obsolete. It&#39;s since been resolved through a rewriting of the design spec and subsequent rewriting of the training method, and I no longer have access to the original code. I&#39;m working from memory."}, {"owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441874426, "post_id": 30491307, "comment_id": 52853791, "body": "Oh, that&#39;s sad, I liked to see deeper"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "reply_to_user": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "edited": false, "score": 0, "creation_date": 1441874475, "post_id": 30491307, "comment_id": 52853818, "body": "@YuraZaletskyy Yeah, I understand. Part of me wishes I still had access to this code now that someone is interested in helping solve the problem ;) Thanks anyway, though!"}], "answers": [{"tags": [], "owner": {"reputation": 4537, "user_id": 677824, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/V0zui.jpg?s=128&g=1", "display_name": "Yuriy Zaletskyy", "link": "https://stackoverflow.com/users/677824/yuriy-zaletskyy"}, "is_accepted": true, "score": 1, "last_activity_date": 1441874252, "creation_date": 1441874252, "answer_id": 32496971, "question_id": 30491307, "link": "https://stackoverflow.com/questions/30491307/why-does-this-backpropagation-implementation-fail-to-train-weights-correctly/32496971#32496971", "title": "Why does this backpropagation implementation fail to train weights correctly?", "body": "<p>I suppose your problem is in choice of initial weights and in choice of initialization of weights algorithm. <a href=\"http://www.heatonresearch.com/wiki/Gaussian_Randomization\" rel=\"nofollow\">Jeff Heaton</a> author of <a href=\"https://en.wikipedia.org/wiki/Encog\" rel=\"nofollow\">Encog</a> claims that it as usually performs worse then other initialization method. <a href=\"http://www.heatonresearch.com/wiki/Weight\" rel=\"nofollow\">Here</a> is another results of weights initialization algorithm perfomance. Also from my own experience recommend you to init your weights with different signs values. Even in cases when I had all positive outputs weights with different signs perfomed better then with the same sign. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1131435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 2, "accepted_answer_id": 32496971, "answer_count": 1, "score": 9, "last_activity_date": 1441874252, "creation_date": 1432754360, "last_edit_date": 1432757537, "question_id": 30491307, "link": "https://stackoverflow.com/questions/30491307/why-does-this-backpropagation-implementation-fail-to-train-weights-correctly", "title": "Why does this backpropagation implementation fail to train weights correctly?", "body": "<p>I've written the following backpropagation routine for a neural network, using the code <a href=\"http://neuralnetworksanddeeplearning.com/chap1.html\">here</a> as an example. The issue I'm facing is confusing me, and has pushed my debugging skills to their limit.</p>\n\n<p>The problem I am facing is rather simple: as the neural network trains, its weights are being trained to zero with no gain in accuracy. </p>\n\n<p>I have attempted to fix it many times, verifying that:</p>\n\n<ul>\n<li>the training sets are correct</li>\n<li>the target vectors are correct</li>\n<li>the forward step is recording information correctly</li>\n<li>the backward step deltas are recording properly</li>\n<li>the signs on the deltas are correct</li>\n<li>the weights are indeed being adjusted</li>\n<li>the deltas of the input layer are all zero</li>\n<li>there are no other errors or overflow warnings</li>\n</ul>\n\n<p>Some information:</p>\n\n<ul>\n<li>The training inputs are an 8x8 grid of [0,16) values representing an intensity; this grid represents a numeral digit (converted to a column vector)</li>\n<li>The target vector is an output that is 1 in the position corresponding to the correct number</li>\n<li>The original weights and biases are being assigned by Gaussian distribution</li>\n<li>The activations are a standard sigmoid</li>\n</ul>\n\n<p>I'm not sure where to go from here. I've verified that all things I know to check are operating correctly, and it's still not working, so I'm asking here. The following is the code I'm using to backpropagate:</p>\n\n<pre><code>def backprop(train_set, wts, bias, eta):\n    learning_coef = eta / len(train_set[0])\n\n    for next_set in train_set:\n        # These record the sum of the cost gradients in the batch\n        sum_del_w = [np.zeros(w.shape) for w in wts]\n        sum_del_b = [np.zeros(b.shape) for b in bias]\n\n        for test, sol in next_set:\n            del_w = [np.zeros(wt.shape) for wt in wts]\n            del_b = [np.zeros(bt.shape) for bt in bias]\n            # These two helper functions take training set data and make them useful\n            next_input = conv_to_col(test)\n            outp = create_tgt_vec(sol)\n\n            # Feedforward step\n            pre_sig = []; post_sig = []\n            for w, b in zip(wts, bias):\n                next_input = np.dot(w, next_input) + b\n                pre_sig.append(next_input)\n                post_sig.append(sigmoid(next_input))\n                next_input = sigmoid(next_input)\n\n            # Backpropagation gradient\n            delta = cost_deriv(post_sig[-1], outp) * sigmoid_deriv(pre_sig[-1])\n            del_b[-1] = delta\n            del_w[-1] = np.dot(delta, post_sig[-2].transpose())\n\n            for i in range(2, len(wts)):\n                pre_sig_vec = pre_sig[-i]\n                sig_deriv = sigmoid_deriv(pre_sig_vec)\n                delta = np.dot(wts[-i+1].transpose(), delta) * sig_deriv\n                del_b[-i] = delta\n                del_w[-i] = np.dot(delta, post_sig[-i-1].transpose())\n\n            sum_del_w = [dw + sdw for dw, sdw in zip(del_w, sum_del_w)]\n            sum_del_b = [db + sdb for db, sdb in zip(del_b, sum_del_b)]\n\n        # Modify weights based on current batch            \n        wts = [wt - learning_coef * dw for wt, dw in zip(wts, sum_del_w)]\n        bias = [bt - learning_coef * db for bt, db in zip(bias, sum_del_b)]\n\n    return wts, bias\n</code></pre>\n\n<hr>\n\n<p>By Shep's suggestion, I checked what's happening when training a network of shape <code>[2, 1, 1]</code> to always output 1, and indeed, the network trains properly in that case. My best guess at this point is that the gradient is adjusting too strongly for the 0s and weakly on the 1s, resulting in a net decrease despite an increase at each step - but I'm not sure.</p>\n"}, {"tags": ["python", "multithreading", "pyqt", "multiprocessing", "pyside"], "answers": [{"comments": [{"owner": {"reputation": 771, "user_id": 602117, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f23193ab39941eb3e57a738161d316f5?s=128&d=identicon&r=PG", "display_name": "mr_js", "link": "https://stackoverflow.com/users/602117/mr-js"}, "edited": false, "score": 0, "creation_date": 1433527825, "post_id": 30600314, "comment_id": 49408086, "body": "Not a bad approach. But I fail to see how it handles the case of detecting when the upload hangs."}], "tags": [], "owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "is_accepted": false, "score": 1, "last_activity_date": 1433258851, "creation_date": 1433258851, "answer_id": 30600314, "question_id": 30491282, "link": "https://stackoverflow.com/questions/30491282/threaded-upload-with-timeout-in-python-and-pyside/30600314#30600314", "title": "Threaded upload with timeout in Python and PySide", "body": "<p>The GUI is not responsive because you do all the work in <code>do_upload</code>, never going back to the main loop. </p>\n\n<p>Also, you call <code>Thread.join()</code>, that blocks everything until the thread is done (see <a href=\"https://docs.python.org/2/library/threading.html#threading.Thread.join\" rel=\"nofollow\">https://docs.python.org/2/library/threading.html#threading.Thread.join</a>)</p>\n\n<p>You should use <code>PySide.QtCore.QThread</code> to take advantage of signals and slots.\nHere is a <a href=\"https://fabienpn.wordpress.com/2013/05/01/qt-thread-simple-and-stable-with-sources/\" rel=\"nofollow\">nice example in C++</a>. I implemented it in Python3.4 with PyQt <a href=\"https://github.com/tymoreau/simple-qt-thread\" rel=\"nofollow\">here</a>, but you should be able to use it with PySide too.</p>\n\n<p>You might also want to look at <code>PySide.QtCore.QProcess</code>, to avoid using threads.</p>\n"}, {"comments": [{"owner": {"reputation": 771, "user_id": 602117, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f23193ab39941eb3e57a738161d316f5?s=128&d=identicon&r=PG", "display_name": "mr_js", "link": "https://stackoverflow.com/users/602117/mr-js"}, "edited": false, "score": 0, "creation_date": 1433527610, "post_id": 30640795, "comment_id": 49407979, "body": "Thanks for your input. How does this solve the issue of detecting if the upload hangs?"}, {"owner": {"reputation": 345, "user_id": 4963552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYREH.jpg?s=128&g=1", "display_name": "Nathan Smith", "link": "https://stackoverflow.com/users/4963552/nathan-smith"}, "reply_to_user": {"reputation": 771, "user_id": 602117, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f23193ab39941eb3e57a738161d316f5?s=128&d=identicon&r=PG", "display_name": "mr_js", "link": "https://stackoverflow.com/users/602117/mr-js"}, "edited": false, "score": 0, "creation_date": 1433711509, "post_id": 30640795, "comment_id": 49455188, "body": "Sorry about that - the current code doesn&#39;t implement the timeout feature yet.  Check out <a href=\"http://www.matteomattei.com/pyside-signals-and-slots-with-qthread-example/\" rel=\"nofollow noreferrer\">matteomattei.com/pyside-signals-and-slots-with-qthread-examp&zwnj;&#8203;le</a> though. His code for an example QThread based app implements a timeout feature that works the same as what you need. He doesn&#39;t label it as a timeout anywhere, but check out how his class MyLongThread knows when to close. Good luck &amp; sorry for the slow response"}], "tags": [], "owner": {"reputation": 345, "user_id": 4963552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYREH.jpg?s=128&g=1", "display_name": "Nathan Smith", "link": "https://stackoverflow.com/users/4963552/nathan-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1433411972, "creation_date": 1433411972, "answer_id": 30640795, "question_id": 30491282, "link": "https://stackoverflow.com/questions/30491282/threaded-upload-with-timeout-in-python-and-pyside/30640795#30640795", "title": "Threaded upload with timeout in Python and PySide", "body": "<p>Here, I put some code together that does what I think you want. </p>\n\n<p>For a real project, be sure to keep track of what's uploaded better &amp;/or use something safer than .terminate() to stop the thread on demand.</p>\n\n<pre><code>import sys\nfrom PySide import QtGui, QtCore\nimport time\n\nclass MySigObj(QtCore.QObject):\n    strSig = QtCore.Signal(str)\n    tupSig = QtCore.Signal(tuple)\n\nclass UploadThread(QtCore.QThread):\n\n    def __init__(self, parent=None):\n        super(UploadThread, self).__init__(parent)\n        self.endNow = False\n        self.fileName = None\n        self.sig = MySigObj()\n        self.fileNames = []\n        self.uploaded = []\n\n    @QtCore.Slot(str)\n    def setFileNames(self, t):\n        self.fileNames = list(t)\n\n    def run(self):\n        while self.fileNames:\n            print(self.fileNames)\n            time.sleep(2)\n            name = self.fileNames.pop(0)\n            s = 'uploaded file: ' + name + '\\n'\n            print(s)\n            self.sig.strSig.emit(s)\n            self.uploaded.append(name)\n            if len(self.fileNames) == 0:\n                self.sig.strSig.emit(\"files transmitted: %s\" % str(self.uploaded))\n        else:\n            time.sleep(1)   #if the thread started but no list, wait 1 sec every cycle thru\n                            #that was this thread should release the Python GIL (Global Interpreter Lock)\n\n\nclass ULoadWin(QtGui.QWidget):\n\n    def __init__(self, parent=None):\n        super(ULoadWin, self).__init__(parent)\n        self.upThread = UploadThread()\n        self.sig = MySigObj()\n        self.sig.tupSig.connect(self.upThread.setFileNames)\n        self.upThread.sig.strSig.connect(self.txtMsgAppend)\n        self.sig.tupSig.connect(self.upThread.setFileNames)\n        self.layout = QtGui.QVBoxLayout()\n        self.stButton = QtGui.QPushButton(\"Start\")\n        self.stButton.clicked.connect(self.uploadItems)\n        self.stpButton = QtGui.QPushButton(\"Stop\")\n        self.stpButton.clicked.connect(self.killThread)\n        self.testButton = QtGui.QPushButton(\"write txt\\n not(?) blocked \\nbelow\")\n        self.testButton.setMinimumHeight(28)\n        self.testButton.clicked.connect(self.tstBlking)\n        self.lbl = QtGui.QTextEdit()\n        self.lbl.setMinimumHeight(325)\n        self.lbl.setMinimumWidth(290)\n\n        self.layout.addWidget(self.stButton)\n        self.layout.addWidget(self.stpButton)\n        self.layout.addWidget(self.testButton)\n        self.layout.addWidget(self.lbl)\n\n        self.setLayout(self.layout)\n\n        self.l = ['a', 'list', 'of_files', 'we', 'will_pretend_to_upload', 'st', 'uploading']\n        self.upThread.start()\n\n    def tstBlking(self):\n        self.lbl.append(\"txt not(?) blocked\")\n\n    def uploadItems(self):\n        t = tuple(self.l)\n        self.sig.tupSig.emit(t)\n        self.upThread.start()\n\n    def killThread(self):\n        self.upThread.terminate()\n        time.sleep(.01)\n        self.upThread = UploadThread()\n\n    @QtCore.Slot(str)\n    def txtMsgAppend(self, txt):\n        self.lbl.append(txt + \"  |  \")\n\n\nif __name__ == '__main__':\n    app=QtGui.QApplication(sys.argv)\n    widg=ULoadWin()\n    widg.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 602117, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f23193ab39941eb3e57a738161d316f5?s=128&d=identicon&r=PG", "display_name": "mr_js", "link": "https://stackoverflow.com/users/602117/mr-js"}, "is_accepted": false, "score": 1, "last_activity_date": 1433528465, "creation_date": 1433528465, "answer_id": 30673296, "question_id": 30491282, "link": "https://stackoverflow.com/questions/30491282/threaded-upload-with-timeout-in-python-and-pyside/30673296#30673296", "title": "Threaded upload with timeout in Python and PySide", "body": "<p>In the end I solved this problem by adapting the approach outlined <a href=\"http://eli.thegreenplace.net/2011/12/27/python-threads-communication-and-stopping\" rel=\"nofollow\">here</a>, which I find to be an elegant solution. The class I created is shown below:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class UploadThread(threading.Thread):\n\n    #input_q and result_q are Queue.Queue objects\n    def __init__(self, input_q, result_q):\n        super(UploadThread, self).__init__()\n        self.input_q = input_q\n        self.result_q = result_q\n        self.stoprequest = threading.Event() #threadsafe flag\n\n    def run(self):\n        '''Runs indefinitely until self.join() is called. \n        As soon as items are placed in the input_q, then the thread will process them until the input_q is emptied.\n        '''\n        while not self.stoprequest.isSet(): #stoprequest can be set from the main gui\n            try:\n                # Queue.get with timeout to allow checking self.stoprequest\n                num = self.input_q.get(True, 0.1) #when the queue is empty it waits 100ms before raising the Queue.Empty error\n                print 'In thread, processing', num\n                time.sleep(0.5)\n                self.result_q.put(True) #Indicate to the main thread that an item was successfully processed.\n            except Queue.Empty as e:\n                continue\n\n    def join(self, timeout=None):\n        self.stoprequest.set()\n        super(UploadThread, self).join(timeout)\n</code></pre>\n\n<p>In the main thread, the upload thread is created and the input_q is loaded with the items to upload. A QTimer is created to regularly check on the progress of the upload by checking what has been placed into the result_q. It also update the progress bar. If no progress has been made within a timeout, this indicates the upload connection has failed.</p>\n\n<p>An advantage of using Queue.Queue objects for communicating between threads, is that multiple threads that share the same input and result queue can be created.</p>\n"}], "owner": {"reputation": 771, "user_id": 602117, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f23193ab39941eb3e57a738161d316f5?s=128&d=identicon&r=PG", "display_name": "mr_js", "link": "https://stackoverflow.com/users/602117/mr-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1433528465, "creation_date": 1432754255, "question_id": 30491282, "link": "https://stackoverflow.com/questions/30491282/threaded-upload-with-timeout-in-python-and-pyside", "title": "Threaded upload with timeout in Python and PySide", "body": "<p>I am looking for a design pattern based on threading.Thread, multiprocessing or Queue to upload a list of items with a timeout. The thread allows the GUI to remain responsive. If the connection hangs, then the timeout should trigger and the program should gracefully exit.</p>\n\n<p>The example below works, but the GUI remains blocked. How could this be improved to allow for uploading of the list, manual canceling of the process, timeout of the upload process plus a non-blocking GUI?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>from PySide.QtGui import *\r\nfrom PySide.QtCore import *\r\nimport sys\r\nimport time\r\nimport threading\r\n\r\nclass UploadWindow(QDialog):\r\n\tdef __init__(self, parent=None):\r\n\t\tsuper(UploadWindow, self).__init__(parent)\r\n\t\t\r\n\t\tself.uploadBtn = QPushButton('Upload')\r\n\t\tmainLayout = QVBoxLayout()\r\n\t\tmainLayout.addWidget(self.uploadBtn)\r\n\t\tself.uploadBtn.clicked.connect(self.do_upload)\r\n\r\n\t\tself.progressDialog = QProgressDialog(self)\r\n\t\tself.progressDialog.canceled.connect(self.cancelDownload)\r\n\t\tself.progressDialog.hide()\r\n\t\t\r\n\t\tself.setLayout(mainLayout)\r\n\t\tself.show()\r\n\t\tself.raise_()\r\n\r\n\r\n\tdef do_upload(self):\r\n\t\tself.uploadBtn.setEnabled(False)\r\n\t\tself.progressDialog.setMaximum(10)\r\n\t\tself.progressDialog.show()\r\n\t\tself.upload_thread = UploadThread(self)\r\n\t\tself.upload_thread.start()\r\n\t\tself.upload_thread_stopped = False\r\n\r\n\t\t#List of items to upload\r\n\t\tfor i in range(10):\r\n\t\t\tself.upload_thread = UploadThread(i)\r\n\t\t\tself.upload_thread.start()\r\n\t\t\tself.upload_thread.join(5)\r\n\t\t\tself.progressDialog.setValue(i)\r\n\t\t\tif self.upload_thread_stopped:\r\n\t\t\t\tbreak\r\n\r\n\t\tself.progressDialog.hide()\r\n\t\tself.uploadBtn.setEnabled(True)\r\n\r\n\r\n\tdef cancelDownload(self):\r\n\t\tself.upload_thread_stopped = True\r\n\r\n\r\nclass UploadThread(threading.Thread):\r\n\t\r\n\tdef __init__(self, i):\r\n\t\tsuper(UploadThread, self).__init__()\r\n\t\tself.i = i\r\n\t\tself.setDaemon(True)\r\n\t\t\r\n\r\n\tdef run(self):\r\n\t\ttime.sleep(0.25) #simulate upload time\r\n\t\tprint self.i\r\n\r\n\r\nif __name__ == '__main__':\r\n\tapp = QApplication(sys.argv)\r\n\tw = UploadWindow()\r\n\tsys.exit(app.exec_())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "python-2.7", "argparse"], "answers": [{"comments": [{"owner": {"reputation": 4322, "user_id": 1292090, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c1c210dde5f5af4d32fb9feaf2cc80ca?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/1292090/sandman"}, "edited": false, "score": 0, "creation_date": 1432789514, "post_id": 30492833, "comment_id": 49072030, "body": "Great! Works great for my use case! Thanks."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1432759661, "creation_date": 1432759661, "answer_id": 30492833, "question_id": 30491244, "link": "https://stackoverflow.com/questions/30491244/argparse-pattern-where-input-filenames-are-given-through-a-file-or-a-list-of-fil/30492833#30492833", "title": "Argparse pattern where input filenames are given through a file or a list of filenames on the command line", "body": "<p><code>argparse</code> takes <code>fromfile-prefix-chars</code> parameter</p>\n\n<p><a href=\"https://docs.python.org/3.4/library/argparse.html#fromfile-prefix-chars\" rel=\"nofollow\">https://docs.python.org/3.4/library/argparse.html#fromfile-prefix-chars</a></p>\n\n<p>So if the filenames are in a file, one name per line</p>\n\n<pre><code>&gt;&gt;&gt; parser = argparse.ArgumentParser(fromfile_prefix_chars='@')\n&gt;&gt;&gt; parser.add_argument('files', nargs='*')\n&gt;&gt;&gt; parser.parse_args(['@filenames.txt'])\n</code></pre>\n\n<p>Will read the names from the file.  It puts them in the <code>sys.argv</code> list just as though you had entered them on the command line.</p>\n"}], "owner": {"reputation": 4322, "user_id": 1292090, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c1c210dde5f5af4d32fb9feaf2cc80ca?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/1292090/sandman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 30492833, "answer_count": 1, "score": 0, "last_activity_date": 1432759661, "creation_date": 1432754111, "question_id": 30491244, "link": "https://stackoverflow.com/questions/30491244/argparse-pattern-where-input-filenames-are-given-through-a-file-or-a-list-of-fil", "title": "Argparse pattern where input filenames are given through a file or a list of filenames on the command line", "body": "<p>Does argparse support a pattern such as:</p>\n\n<pre><code>foo.py {-f list_of_filenames.txt|file [file ...]}\n</code></pre>\n\n<p>I achieve this at the moment with the following argparse definition:</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument(\"--file\", \"-f\")\nparser.add_argument(\"files\", nargs=\"*\")\n</code></pre>\n\n<p>and performing the mutual exclusivity + required check in my code rather than letting argparse do the check. </p>\n\n<p>Can argparse handle a pattern of this sort?</p>\n"}, {"tags": ["python", "list", "printing", "coding-style"], "comments": [{"owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 0, "creation_date": 1432753925, "post_id": 30491159, "comment_id": 49060237, "body": "Do you want the information all on the same line?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1432754061, "post_id": 30491159, "comment_id": 49060316, "body": "Do you need them in a particular order? How about <code>for student in student: for key in (&#39;name&#39;, ...): print student[key]</code>?"}, {"owner": {"reputation": 97, "user_id": 4852315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tt0ix.jpg?s=128&g=1", "display_name": "Blitva", "link": "https://stackoverflow.com/users/4852315/blitva"}, "edited": false, "score": 0, "creation_date": 1432754128, "post_id": 30491159, "comment_id": 49060348, "body": "No, I would like for it to be printed out like in the first example, but without writing print multiple times.  Actually, yes, I&#39;m curious to know how I could also print it out in one line. It&#39;s just that the task requires me to print it out in rows."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4852315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tt0ix.jpg?s=128&g=1", "display_name": "Blitva", "link": "https://stackoverflow.com/users/4852315/blitva"}, "edited": false, "score": 0, "creation_date": 1432754514, "post_id": 30491251, "comment_id": 49060544, "body": "Thanks! That looks nice."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1432754763, "post_id": 30491251, "comment_id": 49060670, "body": "Does the order matter? You can just use <code>student.values()</code> because each student dictionary is hashed the same way, so the values will correspond and align, though the values is not necessarily in an order."}, {"owner": {"reputation": 97, "user_id": 4852315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tt0ix.jpg?s=128&g=1", "display_name": "Blitva", "link": "https://stackoverflow.com/users/4852315/blitva"}, "edited": false, "score": 0, "creation_date": 1432755099, "post_id": 30491251, "comment_id": 49060872, "body": "The order does matter, yes. Appreciate your answer as well though."}], "tags": [], "owner": {"reputation": 118129, "user_id": 1357341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vzjkd.jpg?s=128&g=1", "display_name": "arshajii", "link": "https://stackoverflow.com/users/1357341/arshajii"}, "is_accepted": true, "score": 3, "last_activity_date": 1432754150, "creation_date": 1432754150, "answer_id": 30491251, "question_id": 30491159, "link": "https://stackoverflow.com/questions/30491159/can-i-print-list-data-in-a-more-elegant-way/30491251#30491251", "title": "Can I print list data in a more elegant way?", "body": "<p>I would just use a second <code>for</code> loop:</p>\n\n<pre><code>for student in students:\n    for x in (\"name\", \"homework\", \"quizzes\", \"tests\"):\n        print student[x]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1432754881, "creation_date": 1432754881, "answer_id": 30491458, "question_id": 30491159, "link": "https://stackoverflow.com/questions/30491159/can-i-print-list-data-in-a-more-elegant-way/30491458#30491458", "title": "Can I print list data in a more elegant way?", "body": "<p>You can pass each dict to <a href=\"https://docs.python.org/2/library/stdtypes.html#str.format\" rel=\"nofollow\">str.format</a> accessing <a href=\"https://docs.python.org/2/library/string.html#format-examples\" rel=\"nofollow\">arguments by name</a>:</p>\n\n<pre><code>for student in students:\n    print(\"{name}\\n{homework}\\n{quizzes}\\n{tests}\".format(**student))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Lloyd\n[90.0, 97.0, 75.0, 92.0]\n[88.0, 40.0, 94.0]\n[75.0, 90.0]\nAlice\n[100.0, 92.0, 98.0, 100.0]\n[82.0, 83.0, 91.0]\n[89.0, 97.0]\nTyler\n[0.0, 87.0, 75.0, 22.0]\n[0.0, 75.0, 78.0]\n[100.0, 100.0]\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4852315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tt0ix.jpg?s=128&g=1", "display_name": "Blitva", "link": "https://stackoverflow.com/users/4852315/blitva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 30491251, "answer_count": 2, "score": 3, "last_activity_date": 1432754881, "creation_date": 1432753858, "question_id": 30491159, "link": "https://stackoverflow.com/questions/30491159/can-i-print-list-data-in-a-more-elegant-way", "title": "Can I print list data in a more elegant way?", "body": "<p>Is there a cleaner way to structure my print function?</p>\n\n<pre><code>lloyd = {\n    \"name\": \"Lloyd\",\n    \"homework\": [90.0, 97.0, 75.0, 92.0],\n    \"quizzes\": [88.0, 40.0, 94.0],\n    \"tests\": [75.0, 90.0]\n    }\nalice = {\n    \"name\": \"Alice\",\n    \"homework\": [100.0, 92.0, 98.0, 100.0],\n    \"quizzes\": [82.0, 83.0, 91.0],\n    \"tests\": [89.0, 97.0]\n    }\ntyler = {\n    \"name\": \"Tyler\",\n    \"homework\": [0.0, 87.0, 75.0, 22.0],\n    \"quizzes\": [0.0, 75.0, 78.0],\n    \"tests\": [100.0, 100.0]\n    }\n\nstudents = [lloyd, alice, tyler]\n\nfor student in students:\n    print student[\"name\"]\n    print student[\"homework\"]\n    print student[\"quizzes\"]\n    print student[\"tests\"]\n</code></pre>\n\n<p>I tried the following piece of code but got a syntax error:</p>\n\n<pre><code>for student in students:\n    print student[\"name\", \"homework\", \"quizzes\", \"tests\"]\n</code></pre>\n\n<p>I apologize if this has already been answered, but I couldn't find the question.</p>\n"}, {"tags": ["python", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 4986, "user_id": 4763988, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/99abed3bcb05d0b736fa03034ba5aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Kannaj", "link": "https://stackoverflow.com/users/4763988/kannaj"}, "edited": false, "score": 0, "creation_date": 1432754086, "post_id": 30491202, "comment_id": 49060324, "body": "isnt that exactly what bytes(ctime(),&#39;utf-8&#39;) does?"}, {"owner": {"reputation": 12895, "user_id": 1881610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33c1dcf29d614b9366ccc3e08ac793f?s=128&d=identicon&r=PG", "display_name": "Phillip", "link": "https://stackoverflow.com/users/1881610/phillip"}, "reply_to_user": {"reputation": 4986, "user_id": 4763988, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/99abed3bcb05d0b736fa03034ba5aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Kannaj", "link": "https://stackoverflow.com/users/4763988/kannaj"}, "edited": false, "score": 1, "creation_date": 1432754221, "post_id": 30491202, "comment_id": 49060405, "body": "No. <code>bytes(ctime(), &#39;utf-8&#39;)</code> encodes this to bytes. By embedding this into a formatting operation on a string (<code>&quot;%s&quot; % (..)</code>), you again make a string out of it."}, {"owner": {"reputation": 4986, "user_id": 4763988, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/99abed3bcb05d0b736fa03034ba5aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Kannaj", "link": "https://stackoverflow.com/users/4763988/kannaj"}, "edited": false, "score": 0, "creation_date": 1432754435, "post_id": 30491202, "comment_id": 49060505, "body": "ahhh :) thank you. it seems to be working now.  I seem to be getting a response from the server. this is the below output when i type in &#39;hi&#39;  **[b&#39; Thu May 28 00:50:54 2015&#39;] b&#39;hi&#39; **  am i using decode wrong as well?"}, {"owner": {"reputation": 12895, "user_id": 1881610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33c1dcf29d614b9366ccc3e08ac793f?s=128&d=identicon&r=PG", "display_name": "Phillip", "link": "https://stackoverflow.com/users/1881610/phillip"}, "reply_to_user": {"reputation": 4986, "user_id": 4763988, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/99abed3bcb05d0b736fa03034ba5aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Kannaj", "link": "https://stackoverflow.com/users/4763988/kannaj"}, "edited": false, "score": 0, "creation_date": 1432754813, "post_id": 30491202, "comment_id": 49060695, "body": "No, but you don&#39;t understand when to expect <code>bytes</code> and when to expect <code>str</code> yet. Do not worry, <a href=\"http://lucumr.pocoo.org/2014/1/5/unicode-in-2-and-3/\" rel=\"nofollow noreferrer\">this bothers others (and me) as well</a>. If you run into more problems like these, consider using Python 2 while experimenting. I&#39;ll update the answer such that you get what you expect.."}], "tags": [], "owner": {"reputation": 12895, "user_id": 1881610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33c1dcf29d614b9366ccc3e08ac793f?s=128&d=identicon&r=PG", "display_name": "Phillip", "link": "https://stackoverflow.com/users/1881610/phillip"}, "is_accepted": true, "score": 1, "last_activity_date": 1432754833, "last_edit_date": 1432754833, "creation_date": 1432753983, "answer_id": 30491202, "question_id": 30491131, "link": "https://stackoverflow.com/questions/30491131/getting-an-encoding-error-using-sockets-in-python/30491202#30491202", "title": "Getting an encoding error using sockets in Python", "body": "<p>You are trying to send a string, but sockets require you to send bytes. Use</p>\n\n<pre><code>tcpClisoc.send(('[%s]%s' % (ctime(), data.decode(\"UTF-8\"))).encode(\"UTF-8\"))\n</code></pre>\n\n<p>Python 3.5 will support the alternative</p>\n\n<pre><code>tcpClisoc.send(b'[%s]%s' % (bytes(ctime(), 'UTF-8'), data))\n</code></pre>\n"}], "owner": {"reputation": 4986, "user_id": 4763988, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/99abed3bcb05d0b736fa03034ba5aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Kannaj", "link": "https://stackoverflow.com/users/4763988/kannaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "accepted_answer_id": 30491202, "answer_count": 1, "score": 0, "last_activity_date": 1432754833, "creation_date": 1432753769, "question_id": 30491131, "link": "https://stackoverflow.com/questions/30491131/getting-an-encoding-error-using-sockets-in-python", "title": "Getting an encoding error using sockets in Python", "body": "<p>I have created two scripts which establish a client socket and server socket in localhost.</p>\n\n<p>Server socket </p>\n\n<pre><code>import socket\nfrom time import ctime\n\nHOST = ''\nPORT = 21567\nBUFSIZ = 1024\nADDR = (HOST,PORT)\n\ntcpsersoc = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\ntcpsersoc.bind(ADDR)\ntcpsersoc.listen(5)\n\nwhile True:\n    print('waiting for connection .... ')\n    print(ADDR)\n    tcpClisoc,addr = tcpsersoc.accept()\n    print('......connected from', addr)\n\n    while True:\n        data = tcpClisoc.recv(BUFSIZ)\n        if not data:\n            break\n        tcpClisoc.send('[%s]%s'%(bytes(ctime(),'UTF-8'),data))\n\n    tcpClisoc.close()\n\ntcpsersoc.close()\n</code></pre>\n\n<p>Client socket</p>\n\n<pre><code>from socket import *\n\nHOST= '127.0.0.1'\nPORT = 21567\nBUFSIZ = 1024\nADDR = (HOST,PORT)\n\ntcpCliSock = socket(AF_INET,SOCK_STREAM)\ntcpCliSock.connect(ADDR)\n\nwhile True:\n    data = input('&gt;')\n    if not data:\n        break\n    tcpCliSock.send(data.encode('utf-8'))\n    data = tcpCliSock.recv(BUFSIZ)\n    if not data:\n        break\n    print(data.decode('utf-8'))\n\ntcpCliSock.close()\n</code></pre>\n\n<p>I'm still getting the below error despite converting the data into a bytes object. I'm using python 3.x</p>\n\n<p>this is the error raised by the server socket</p>\n\n<pre><code>waiting for connection .... \n('', 21567)\n......connected from ('127.0.0.1', 52859)\nTraceback (most recent call last):\n  File \"&lt;pyshell#9&gt;\", line 1, in &lt;module&gt;\n    import exampletcpserver\n  File \"C:/Python34\\exampletcpserver.py\", line 23, in &lt;module&gt;\n    tcpClisoc.send('[%s]%s'%(bytes(ctime(),'UTF-8'),data))\nTypeError: 'str' does not support the buffer interface\n</code></pre>\n\n<p>Please let me know where i'm going wrong.</p>\n"}, {"tags": ["python", "linux", "user-input", "putty", "user-inactivity"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1432754264, "post_id": 30491072, "comment_id": 49060424, "body": "in linux you can use curses ... but it wont be super cross platform and you will need to change alot of your code"}], "answers": [{"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 1, "last_activity_date": 1432754345, "creation_date": 1432754345, "answer_id": 30491304, "question_id": 30491072, "link": "https://stackoverflow.com/questions/30491072/how-to-detect-user-inactivity-time-in-python-application-linux/30491304#30491304", "title": "How to detect user inactivity time in python application (Linux)?", "body": "<p>It is actually easy to do this in a cross platform way.</p>\n\n<p>You should be able to do this by launching a thread to handle the user input, and monitoring both the thread and the time from the main loop.</p>\n\n<p>Some relevant points:</p>\n\n<ul>\n<li>The threading module's doc can be found <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow\">here</a>.</li>\n</ul>\n\n<p>Your code </p>\n\n<pre><code>res = input('Test result? \"(P)ass,(F)ail,(R)etry,(S)ave and Quit,(Q)uit\": ')\n</code></pre>\n\n<p>should run from the child thread.</p>\n\n<ul>\n<li>For the resolution you need, you can monitor the time via the <a href=\"https://docs.python.org/2/library/time.html\" rel=\"nofollow\"><code>time</code> module</a>.</li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 4946158, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JvcqURIjxAY/AAAAAAAAAAI/AAAAAAAAADY/bC1ZDugIUrI/photo.jpg?sz=128", "display_name": "iso_spitfire", "link": "https://stackoverflow.com/users/4946158/iso-spitfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1152, "favorite_count": 0, "accepted_answer_id": 30491304, "answer_count": 1, "score": 0, "last_activity_date": 1432754345, "creation_date": 1432753564, "question_id": 30491072, "link": "https://stackoverflow.com/questions/30491072/how-to-detect-user-inactivity-time-in-python-application-linux", "title": "How to detect user inactivity time in python application (Linux)?", "body": "<p>I am wondering if there is any way that when I ask for user input, if there is a way to detect how many seconds have passed since asking for user input?</p>\n\n<p>I would like to be able to have some kind of timer, that if the user hasn't entered an answer and pressed enter for 15 minutes, to jump to another function, or set the user input to some default value and continue on.</p>\n\n<p>Here is the input for the user:</p>\n\n<pre><code>res = input('Test result? \"(P)ass,(F)ail,(R)etry,(S)ave and Quit,(Q)uit\": ')\n</code></pre>\n\n<p>after 15 minutes(900 secs), set res = \"S\" and continue on.</p>\n\n<p>Or something similar.</p>\n\n<p>My investigation into something similar has lead me to believe the solution is likely not cross-platform. And I am running this script in Red Hat Linux. Also, I am accessing and executing the script via PuTTY.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "regex", "csv", "pandas", "data-cleaning"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1432753764, "post_id": 30491069, "comment_id": 49060163, "body": "I don&#39;t think so, IMO I think this is the best way as it&#39;s vectorised and should be fast"}, {"owner": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "edited": false, "score": 0, "creation_date": 1432754401, "post_id": 30491069, "comment_id": 49060491, "body": "Can you give the example of what is there and what you want to search using regex ?"}, {"owner": {"reputation": 808, "user_id": 2754854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2fiT.jpg?s=128&g=1", "display_name": "interpolack", "link": "https://stackoverflow.com/users/2754854/interpolack"}, "reply_to_user": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "edited": false, "score": 0, "creation_date": 1432761899, "post_id": 30491069, "comment_id": 49064537, "body": "@apgp88 I updated the question with a more specific scenario."}], "answers": [{"comments": [{"owner": {"reputation": 808, "user_id": 2754854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2fiT.jpg?s=128&g=1", "display_name": "interpolack", "link": "https://stackoverflow.com/users/2754854/interpolack"}, "edited": false, "score": 0, "creation_date": 1432761953, "post_id": 30491745, "comment_id": 49064571, "body": "I updated the question with a more specific scenario. Meanwhile +1 for this alternative."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1432826667, "post_id": 30491745, "comment_id": 49096979, "body": "I was thinking along those same lines, but could that be included as part of <code>sep=</code>?  That is, tell <code>read_csv</code> that <code>IP:</code> is a delimiter along with whitespace.  I don&#39;t quite know how to do that syntax though."}, {"owner": {"reputation": 97, "user_id": 3817801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47535170303474bd46c5d44af9be04e?s=128&d=identicon&r=PG&f=1", "display_name": "Intrepid Traveller", "link": "https://stackoverflow.com/users/3817801/intrepid-traveller"}, "edited": false, "score": 0, "creation_date": 1432834389, "post_id": 30491745, "comment_id": 49101893, "body": "It would be something along the lines of  print(str, sep=&quot;IP:\\s&quot;) for the string str. The \\s is for any white space in python."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1432839591, "post_id": 30491745, "comment_id": 49104991, "body": "It&#39;s not quite that easy though, what you are doing will treat <code>I</code>, <code>P</code>, and <code>:</code> as individual delimiters.  We only want <code>IP:</code> to be a delimiter as a group. I&#39;m not sure how to do that, or even sure that is is possible to be honest."}], "tags": [], "owner": {"reputation": 97, "user_id": 3817801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47535170303474bd46c5d44af9be04e?s=128&d=identicon&r=PG&f=1", "display_name": "Intrepid Traveller", "link": "https://stackoverflow.com/users/3817801/intrepid-traveller"}, "is_accepted": false, "score": 1, "last_activity_date": 1432834676, "last_edit_date": 1432834676, "creation_date": 1432755789, "answer_id": 30491745, "question_id": 30491069, "link": "https://stackoverflow.com/questions/30491069/remove-string-labels-from-every-row/30491745#30491745", "title": "Remove String Labels from every Row", "body": "<p>you could just convert the csv column to a string the use .split(\"IP: \")[1] on the string which will contain everything except for \"IP: \". I'm not sure if this is the best approach but it's what came to mind.</p>\n\n<pre><code>str.split(\"IP\":\\s\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 1, "last_activity_date": 1432825890, "creation_date": 1432825890, "answer_id": 30510500, "question_id": 30491069, "link": "https://stackoverflow.com/questions/30491069/remove-string-labels-from-every-row/30510500#30510500", "title": "Remove String Labels from every Row", "body": "<p>The <code>converters</code> option for <code>read_csv</code> might provide a useful way.  Let's say the file looks like this:</p>\n\n<pre><code>id       address\n 1  IP:123.1.1.1\n 2  IP:456.1.1.1\n 3  IP:789.1.1.1\n</code></pre>\n\n<p>Then you could specify that <code>'IP:'</code> should be converted to <code>''</code> (blank) like this:</p>\n\n<pre><code>dct = { 'address': lambda x: x.replace('IP:','') }\n\ndf = pd.read_csv( 'foo.txt', delimiter=' *', converters=dct )\n\n   id    address\n0   1  123.1.1.1\n1   2  456.1.1.1\n2   3  789.1.1.1\n</code></pre>\n\n<p>I'm ignoring the slight complication that if there is a space after <code>IP:</code> then you might be reading <code>IP:</code> in as it's own column, but you ought to be able to adapt this fairly easily to handle that.</p>\n"}], "owner": {"reputation": 808, "user_id": 2754854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2fiT.jpg?s=128&g=1", "display_name": "interpolack", "link": "https://stackoverflow.com/users/2754854/interpolack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 30510500, "answer_count": 2, "score": 1, "last_activity_date": 1432834676, "creation_date": 1432753556, "last_edit_date": 1432761840, "question_id": 30491069, "link": "https://stackoverflow.com/questions/30491069/remove-string-labels-from-every-row", "title": "Remove String Labels from every Row", "body": "<p>I am using pandas to read in a csv column where every row has the following format:</p>\n\n<p><code>IP: XXX:XX:XX:XXX</code></p>\n\n<p>To get rid of the <code>IP:</code> prefix, I am editing the column after the fact:</p>\n\n<p><code>logs['ip'] = logs['ip'].str[4:]</code></p>\n\n<p>Is there a way to perform this operation within <code>read_csv</code>, maybe with regex, to avoid the post-computation?</p>\n\n<p><strong>Update</strong> |\nConsider this scenario where there are multiple columns that have these prefixes \u2013\u00a0is there a better way?</p>\n\n<p><code>logs['mac'] = logs['mac'].str[5:]\nlogs['id'] = logs['id'].str[4:]\nlogs['lan'] = logs['lan'].str[5:]\nlogs['ip'] = logs['ip'].str[4:]</code></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 1, "creation_date": 1432753753, "post_id": 30490965, "comment_id": 49060154, "body": "Please provide some example data and the desired result. That will make it easier."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1432753854, "post_id": 30490965, "comment_id": 49060210, "body": "It&#39;s quite unclear your description of your dfs, but generally I think the following should work <code>non_bookers[~non_bookers[&#39;customerid&#39;].isin(bookers[&#39;custome&zwnj;&#8203;rid&#39;])]</code>"}, {"owner": {"reputation": 317, "user_id": 4250619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9267a6de384475a9248581be04d0ba93?s=128&d=identicon&r=PG&f=1", "display_name": "daniel3412", "link": "https://stackoverflow.com/users/4250619/daniel3412"}, "edited": false, "score": 0, "creation_date": 1432760747, "post_id": 30490965, "comment_id": 49063956, "body": "Thanks Ed, your code works."}], "owner": {"reputation": 317, "user_id": 4250619, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9267a6de384475a9248581be04d0ba93?s=128&d=identicon&r=PG&f=1", "display_name": "daniel3412", "link": "https://stackoverflow.com/users/4250619/daniel3412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1432757044, "creation_date": 1432753186, "last_edit_date": 1432757044, "question_id": 30490965, "link": "https://stackoverflow.com/questions/30490965/compare-two-differently-sized-data-frames-and-return-the-unique-values", "title": "Compare two differently sized data frames and return the unique values?", "body": "<p>I have two data frames, bookers and non_bookers. Each frame has a common column which acts as a unique identifier for a customer (column is called visitorid). In the bookers frame, each row contains a unique customer however in non_bookers each row does not contain a unique customer, customer x could appear any number of times in this frame.</p>\n\n<p>Both data frames share all the same columns except bookers has 2445 rows and non_bookers has 47555 rows. The image below shows the customer id's in the bookers data frame.</p>\n\n<p><img src=\"https://i.stack.imgur.com/5aqXO.png\" alt=\"bookers dataframe\"></p>\n\n<p>non_bookers contains rows which have the same customer id's that are found in bookers. The image below is a list of customer id's contained in the non_bookers data frame.</p>\n\n<p><img src=\"https://i.stack.imgur.com/AXKIi.png\" alt=\"non_bookers\"></p>\n\n<p>How can I return a data frame which is the non_bookers data frame, but with the customer id's that match those found in bookers removed? So for example, id number 2147090566 in the bookers data frame is also in the non_bookers data frame, I want to return a data frame which will have that id number removed from the non_bookers data frame. Therefore any id in found in bookers, should not be in non_bookers. </p>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["python", "qt", "pyqt"], "answers": [{"tags": [], "owner": {"reputation": 1500, "user_id": 1096296, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/I6Kw1.jpg?s=128&g=1", "display_name": "jugg1es", "link": "https://stackoverflow.com/users/1096296/jugg1es"}, "is_accepted": true, "score": 1, "last_activity_date": 1432754738, "last_edit_date": 1432754738, "creation_date": 1432754080, "answer_id": 30491233, "question_id": 30490955, "link": "https://stackoverflow.com/questions/30490955/qt-event-filter-for-holding-mouse-button-down/30491233#30491233", "title": "QT Event filter for holding mouse button down", "body": "<p>It wasn't that hard once I thought about it, but here it is </p>\n\n<pre><code>def holdable(widget):\n    class Filter(QObject):    \n        clicked = pyqtSignal(QWidget)        \n        def eventFilter(self, obj, event):        \n            if obj == widget:\n                if event.type() == QEvent.MouseButtonPress:\n                    if obj.rect().contains(event.pos()):\n                        obj.heldDown = datetime.datetime.now()\n                        #return True     \n                elif event.type() == QEvent.MouseButtonRelease:\n                    if obj.rect().contains(event.pos()):\n                        if(obj.heldDown):\n                            diff = datetime.datetime.now() - obj.heldDown\n                            obj.heldDown = None\n                            if(diff.total_seconds() &gt; 1):                                \n                                self.clicked.emit(obj)\n                                return True           \n            return False    \n    filter = Filter(widget)\n    widget.installEventFilter(filter)\n    return filter.clicked\n</code></pre>\n\n<p>and you would hook it onto a widget by doing this: </p>\n\n<p><code>holdable(widgetinstance).connect(self.holdingCallback)</code></p>\n"}], "owner": {"reputation": 1500, "user_id": 1096296, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/I6Kw1.jpg?s=128&g=1", "display_name": "jugg1es", "link": "https://stackoverflow.com/users/1096296/jugg1es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 30491233, "answer_count": 1, "score": 0, "last_activity_date": 1432754738, "creation_date": 1432753139, "question_id": 30490955, "link": "https://stackoverflow.com/questions/30490955/qt-event-filter-for-holding-mouse-button-down", "title": "QT Event filter for holding mouse button down", "body": "<p>How would I modify the filter to fire when the user presses and holds rather than just presses? I have something working, but it's not contained entirely in a filter, and it gets messy.  I can't figure out how to determine if the user is holding the button for some set time without blocking the UI thread</p>\n\n<pre><code>def holdable(widget):    \n    class Filter(QObject):    \n        clicked = pyqtSignal()        \n        def eventFilter(self, obj, event):        \n            if obj == widget:\n                if event.type() == QEvent.MouseButtonPress:\n                    if obj.rect().contains(event.pos()):\n                        self.clicked.emit()\n                        return True\n            return False    \n    filter = Filter(widget)\n    widget.installEventFilter(filter)\n    return filter.clicked\n</code></pre>\n"}, {"tags": ["python", "django", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 2298943, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b8541402d9f4ac9ab1a10a2c96fd4879?s=128&d=identicon&r=PG", "display_name": "user2298943", "link": "https://stackoverflow.com/users/2298943/user2298943"}, "is_accepted": false, "score": 2, "last_activity_date": 1432753663, "creation_date": 1432753663, "answer_id": 30491100, "question_id": 30490945, "link": "https://stackoverflow.com/questions/30490945/add-data-to-admin-modelform-inline-object-before-saving/30491100#30491100", "title": "add data to admin modelform inline object before saving", "body": "<p>Alright I found the method, for those interested:</p>\n\n<pre><code>class FooAdmin(admin.ModelAdmin):\n    inlines = (FooInline,)\n\n    def save_formset(self, request, form, formset, change):\n        instances = formset.save(commit=False)\n\n        for instance in instances:\n            if isinstance(instance, FooInlineModel):\n                instance.secret = 'stackoverflow'\n                instance.save()\n</code></pre>\n"}], "owner": {"reputation": 480, "user_id": 2298943, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b8541402d9f4ac9ab1a10a2c96fd4879?s=128&d=identicon&r=PG", "display_name": "user2298943", "link": "https://stackoverflow.com/users/2298943/user2298943"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432753707, "creation_date": 1432753115, "last_edit_date": 1495542608, "question_id": 30490945, "link": "https://stackoverflow.com/questions/30490945/add-data-to-admin-modelform-inline-object-before-saving", "title": "add data to admin modelform inline object before saving", "body": "<p>In relation to the question below, how would I do this for the django admin?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17126983/add-data-to-modelform-object-before-saving\">Add data to ModelForm object before saving</a></p>\n\n<p>Example:</p>\n\n<pre><code>class FooInlineModel(models.Model):\n    bar = models.CharField()\n    secret = models.CharField()\n\n\nclass FooInlineForm(forms.ModelForm):\n    class Meta:\n        model = FooInlineModel\n        exclude = ('secret',)        \n\n\nclass FooInline(admin.TabularInline):\n    pass\n\n\nclass FooAdmin(admin.ModelAdmin):\n    inlines = (FooInline,)\n</code></pre>\n\n<p>This logically triggers an IntegrityError because secret is submitted NULL, how do I manually populate the field in one of the admin methods? e.g.</p>\n\n<pre><code>class ???:\n    def ???:\n        obj = form.save(commit=False)\n        obj.secret = 'stackoverflow'\n        obj.save()\n</code></pre>\n"}, {"tags": ["python", "hadoop", "utf-8", "mapreduce", "hadoop-streaming"], "answers": [{"comments": [{"owner": {"reputation": 1292, "user_id": 2305003, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68544e9a87931f071af88def57d549c0?s=128&d=identicon&r=PG", "display_name": "annunarcist", "link": "https://stackoverflow.com/users/2305003/annunarcist"}, "edited": false, "score": 0, "creation_date": 1433911853, "post_id": 30651873, "comment_id": 49549436, "body": "I am not giving any field number in my argument and AFAI understood, the  issue you mentioned arises only if I provide a field number and if I give less than my intended field number.  I did not understand the part about &quot;fields related to partitioning&quot;. However I was debugging the Hadoop 2.4.0 source code, interestingly, in &quot;PipeMapper.java&quot; : the line <code>mapOutputFieldSeparator = job.get(&quot;stream.map.output.field.separator&quot;, &quot;\\t&quot;).getBytes(&quot;UTF-8&quot;);</code> outputs <code>t</code> omitting \\ character when I give <code>stream.map.output.field.separator=\\t</code> as argument and <code>TAB</code> (white characters) whenwithout argument."}, {"owner": {"reputation": 6120, "user_id": 3590324, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/JXCGe.png?s=128&g=1", "display_name": "Ramzy", "link": "https://stackoverflow.com/users/3590324/ramzy"}, "reply_to_user": {"reputation": 1292, "user_id": 2305003, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68544e9a87931f071af88def57d549c0?s=128&d=identicon&r=PG", "display_name": "annunarcist", "link": "https://stackoverflow.com/users/2305003/annunarcist"}, "edited": false, "score": 0, "creation_date": 1433914283, "post_id": 30651873, "comment_id": 49550212, "body": "Try adding the parameter &quot;stream.map.output.field.separator&quot; value of &quot;\\t&quot;, in you job java code. Not sure why it is having issue picking up from else where"}, {"owner": {"reputation": 1292, "user_id": 2305003, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68544e9a87931f071af88def57d549c0?s=128&d=identicon&r=PG", "display_name": "annunarcist", "link": "https://stackoverflow.com/users/2305003/annunarcist"}, "edited": false, "score": 0, "creation_date": 1433916486, "post_id": 30651873, "comment_id": 49551094, "body": "This is a streaming job. We can only pass mappers/reducers as scripts/executables and I am using python scripts for my mapper and reducer. We cannot access job object here."}], "tags": [], "owner": {"reputation": 6120, "user_id": 3590324, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/JXCGe.png?s=128&g=1", "display_name": "Ramzy", "link": "https://stackoverflow.com/users/3590324/ramzy"}, "is_accepted": false, "score": 1, "last_activity_date": 1433444020, "creation_date": 1433444020, "answer_id": 30651873, "question_id": 30490907, "link": "https://stackoverflow.com/questions/30490907/hadoop-2-4-0-streaming-generic-parser-options-using-tab-as-separator/30651873#30651873", "title": "hadoop 2.4.0 streaming generic parser options using TAB as separator", "body": "<p>You might be having this issue <strong>\"-D stream.map.output.field.separator=.\" specifies \".\" as the field separator for the map outputs, and the prefix up to the fourth \".\" in a line will be the key and the rest of the line (excluding the fourth \".\") will be the value. If a line has less than four \".\"s, then the whole line will be the key and the value will be an empty Text object (like the one created by new Text(\"\")).</strong> <a href=\"https://hadoop.apache.org/docs/r1.2.1/streaming.html#Customizing+How+Lines+are+Split+into+Key%2FValue+Pairs\" rel=\"nofollow\">Here</a> it is clearly mentioned how the separator is being used, and also how many of such separator occurences needs to be considered, when identifying map key and value. Also there are fields related to partitioning, based on which the reducer will be handled. As you want the separator to be changed, I think, you have to verify this also related to partitioning and reducer.  </p>\n"}], "owner": {"reputation": 1292, "user_id": 2305003, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68544e9a87931f071af88def57d549c0?s=128&d=identicon&r=PG", "display_name": "annunarcist", "link": "https://stackoverflow.com/users/2305003/annunarcist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1539, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1433444020, "creation_date": 1432753026, "last_edit_date": 1495541675, "question_id": 30490907, "link": "https://stackoverflow.com/questions/30490907/hadoop-2-4-0-streaming-generic-parser-options-using-tab-as-separator", "title": "hadoop 2.4.0 streaming generic parser options using TAB as separator", "body": "<p>I know that the tab is default input separator for fields : </p>\n\n<pre><code>stream.map.output.field.separator\nstream.reduce.input.field.separator\nstream.reduce.output.field.separator\nmapreduce.textoutputformat.separator\n</code></pre>\n\n<p>but if i try to write the generic parser option :   </p>\n\n<pre><code>stream.map.output.field.separator=\\t (or)  \nstream.map.output.field.separator=\"\\t\"\n</code></pre>\n\n<p>to test how hadoop parses white space characters like \"\\t,\\n,\\f\" when used as separators. I observed that hadoop reads it as \\t character but not \"<code></code>\" tab space itself. I checked it by printing each line in reducer (python) as it reads using : </p>\n\n<pre><code>sys.stdout.write(str(line))\n</code></pre>\n\n<p>My mapper emits key/value pairs as : <code>key        value1         value2</code>    </p>\n\n<p>using <code>print (key,value1,value2,sep='\\t',end='\\n')</code> command.</p>\n\n<p>So I expected my reducer to read each line as : <code>key        value1         value2</code> too, but instead <code>sys.stdout.write(str(line))</code> printed :</p>\n\n<p><code>key        value1         value2      \\\\with trailing space</code> </p>\n\n<p>From <a href=\"https://stackoverflow.com/questions/18133290/hadoop-streaming-remove-trailing-tab-from-reducer-output\">Hadoop streaming - remove trailing tab from reducer output</a>, I understood that the trailing space is due to <code>mapreduce.textoutputformat.separator</code> not being set and left as default. </p>\n\n<p>So, this confirmed my assumption that hadoop considered my total map output :</p>\n\n<p><code>key        value1         value2</code> </p>\n\n<p>as key and value as empty Text object since it read the separator from <code>stream.map.output.field.separator=\\t</code> as \"\\t\" character instead of \"<code></code>\" tab space itself. </p>\n\n<p>Please help me understand this behavior and how can I use \\t as a separator if I want to.</p>\n"}, {"tags": ["python", "sockets", "pickle"], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 1459360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c29c00a2665bce00a67a9f8c27d86e4?s=128&d=identicon&r=PG", "display_name": "hazydev", "link": "https://stackoverflow.com/users/1459360/hazydev"}, "is_accepted": false, "score": 1, "last_activity_date": 1432753256, "last_edit_date": 1592644375, "creation_date": 1432753256, "answer_id": 30490986, "question_id": 30490885, "link": "https://stackoverflow.com/questions/30490885/socket-recvfrom-function-returning-a-tuple-python/30490986#30490986", "title": "socket.recvfrom function returning a tuple (python)", "body": "<p>You probably want to read through <a href=\"https://docs.python.org/2/library/socket.html\" rel=\"nofollow noreferrer\" title=\"socket\">socket</a> and then do something like <code>recv = machine._socketrcv.recvfrom(1024)[0]</code></p>\n<blockquote>\n<p><code>socket.recvfrom(bufsize[, flags])</code></p>\n<p>Receive data from the socket. The return value is a pair (string, address) where string is a string representing the data received and address is the address of the socket sending the data. See the Unix manual page recv(2) for the meaning of the optional argument flags; it defaults to zero. (The format of address depends on the address family \u2014 see above.)</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1432753538, "post_id": 30491004, "comment_id": 49060039, "body": "the second element in the <code>recvfrom</code>  return is a 2 element tuple itself which contains the IP address and the port that the connection was made on. As far as I know this code works fine."}], "tags": [], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": false, "score": 1, "last_activity_date": 1432753326, "creation_date": 1432753326, "answer_id": 30491004, "question_id": 30490885, "link": "https://stackoverflow.com/questions/30490885/socket-recvfrom-function-returning-a-tuple-python/30491004#30491004", "title": "socket.recvfrom function returning a tuple (python)", "body": "<p><code>recvfrom</code> returns a tuple with the data and the address (more info can be found in the <a href=\"https://docs.python.org/3/library/socket.html\" rel=\"nofollow\">socket documentation</a>). Unlike some other languages Python lets you put a tuple on the left hand side of an assignment, so if you do something like this:</p>\n\n<pre><code>data, (address, port) = machine._socketrcv.recvfrom(1024)\n</code></pre>\n\n<p>you will get access to all the information you need in separate named variables. In your case you just need the data:</p>\n\n<pre><code>pickle.loads(data)\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4946154, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SKis66rKe8A/AAAAAAAAAAI/AAAAAAAACYY/gwcpbyYh8Fw/photo.jpg?sz=128", "display_name": "Natassia Tavares", "link": "https://stackoverflow.com/users/4946154/natassia-tavares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2575, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432753326, "creation_date": 1432752969, "question_id": 30490885, "link": "https://stackoverflow.com/questions/30490885/socket-recvfrom-function-returning-a-tuple-python", "title": "socket.recvfrom function returning a tuple (python)", "body": "<p>I'm a python noobie and I must create a Truco (brazillian game, if you don't know) game that connects 4 machines. I'm doing it with classes, using pickles to transfer it to a socket. According to what I could find online, this should work, but my recv is a tuple, and I can't use loads from a tuple. I've tried to convert it to a list, and then to a string, but nothing works!</p>\n\n<pre><code>def recv(self, machine):\n    PORT = 5054\n    HOST = ''\n    orig = (socket.gethostbyname(HOST), PORT)\n    machine._socketrcv.bind(orig)\n    recv = machine._socketrcv.recvfrom(1024)\n    return pickle.loads(recv)\n</code></pre>\n\n<p>And here is my send method:</p>\n\n<pre><code>def sent(self, m, machine):\n    PORT = 5054\n    dest = (machine._host, PORT)\n    self._socketsnd.sendto(m._dados,dest)\n</code></pre>\n\n<p>Where m._dados is self.dados = pickle.dumps(dados, 2)</p>\n\n<p>Can anyone help?</p>\n"}]