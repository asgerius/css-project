[{"tags": ["python", "variables", "request", "substring", "web2py"], "comments": [{"owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "edited": false, "score": 0, "creation_date": 1472831226, "post_id": 39260734, "comment_id": 65926332, "body": "It&#39;s a good idea to explain what&#39;s wrong with your current approach -- in other words, describe what output (including any errors) you are seeing and what you expect instead."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6265602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154233054466929/picture?type=large", "display_name": "Stuart Ayres", "link": "https://stackoverflow.com/users/6265602/stuart-ayres"}, "edited": false, "score": 0, "creation_date": 1472899150, "post_id": 39295714, "comment_id": 65944889, "body": "Of course! Thanks so much, that did it. I didn&#39;t know about.startswith either, brilliant."}], "tags": [], "owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "is_accepted": true, "score": 0, "last_activity_date": 1472829275, "creation_date": 1472829275, "answer_id": 39295714, "question_id": 39260734, "link": "https://stackoverflow.com/questions/39260734/web2py-comparing-part-of-a-request-vars-element/39295714#39295714", "title": "Web2py comparing part of a request.vars element", "body": "<p>In Python, when slicing, the ending index is <em>excluded</em>, so your two slices should be <code>0:10</code> and <code>0:11</code>. To simplify, you can also use <code>.startswith</code> for the first one:</p>\n\n<pre><code>for item in request.vars:\n    if item.startswith('lesson_reg'):\n        enrolment_id = int(item[11:])\n        code = request.vars.item\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6265602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154233054466929/picture?type=large", "display_name": "Stuart Ayres", "link": "https://stackoverflow.com/users/6265602/stuart-ayres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 39295714, "answer_count": 1, "score": 0, "last_activity_date": 1472829275, "creation_date": 1472687615, "question_id": 39260734, "link": "https://stackoverflow.com/questions/39260734/web2py-comparing-part-of-a-request-vars-element", "title": "Web2py comparing part of a request.vars element", "body": "<p>I have a form with a table with rows containing SELECTs with _names with IDs attached, like this:</p>\n\n<pre><code>TD_list.append(TD(SELECT(lesson_reg_list, _name='lesson_reg_' + str(student[4]))))\n</code></pre>\n\n<p>When the form is submitted I want to extract both the student[4] value <em>and</em> the value held by request.vars.lesson_reg_student[4].</p>\n\n<p>I've tried something like:</p>\n\n<pre><code>for item in request.vars:\n    if item[0:9] == \"lesson_reg\":\n        enrolment_id = int(item[10:])\n        code = request.vars.item\n</code></pre>\n\n<p>I also tried treating request.vars like a dictionary by using:</p>\n\n<pre><code>for key, value in request.vars:\n    if key[0:9] == \"lesson_reg\":\n        enrolment_id = int(key[10:])\n        code = value\n</code></pre>\n\n<p>but then I got 'too many values to unpack'. How do I retrieve the value of a request.vars item when the last part of its name could be any number, plus a substring of the item name itself?</p>\n\n<p>Thanks in advance for helping me.</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1472688032, "post_id": 39260728, "comment_id": 65857408, "body": "What is the output? What do you mean by <i>only 2 threads join, sometimes no thread joins</i>?  Does it hang?  Does it not empty the queue?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1472688285, "post_id": 39260728, "comment_id": 65857475, "body": "<code>while not self.queue.empty()</code> - no, no, no! You never use <code>queue.empty()</code> for anything other than debugging purposes. It&#39;s fundamentally thread-unsafe."}, {"owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "edited": false, "score": 0, "creation_date": 1472688359, "post_id": 39260728, "comment_id": 65857495, "body": "According to the code, <code>...Thread joined.</code> is printed when each thread&#39;s <code>worker()</code> function returns. Since I am spawning 4 threads, I&#39;d expect 4 print outs. This does not happen. The output screen hangs i.e. the program does not reach the <code>print(&#39;FINISHED&#39;)</code> statement at the end."}, {"owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472688476, "post_id": 39260728, "comment_id": 65857520, "body": "@user2357112 I thought Queue was meant to be used with multithreading. What should I use instead to check if I have anything left in the queue?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1472688701, "post_id": 39260728, "comment_id": 65857585, "body": "My preferred technique is to put a bunch of shutdown messages in the queue after enqueueing all jobs, and have the workers recognize shutdown messages and shut down when they receive one from the queue."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472688837, "post_id": 39260844, "comment_id": 65857615, "body": "<code>pass</code> is unlikely to be the right way to respond to the queue being empty. Also, it&#39;s worth mentioning that using <code>get_nowait</code> and catching <code>Empty</code> doesn&#39;t work for cases where producers are expected to be populating the queue while workers are dequeueing entries."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472689064, "post_id": 39260844, "comment_id": 65857660, "body": "@user2357112  It&#39;s just a small example.  In this case, <code>return</code> would probably be appropriate.  In the example from the OP, there are no producers, the queue is completely populated at startup."}, {"owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "edited": false, "score": 1, "creation_date": 1472690053, "post_id": 39260844, "comment_id": 65857880, "body": "Just so other readers understand:  exception <code>Empty</code> is <code>Queue.Empty</code> if you haven&#39;t imported it explicitly (<code>from Queue import Empty    # python 2</code> or <code>from queue import Empty    # python 3</code>)."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 2, "last_activity_date": 1472688515, "creation_date": 1472688515, "answer_id": 39260844, "question_id": 39260728, "link": "https://stackoverflow.com/questions/39260728/why-am-i-unable-to-join-this-thread-in-python/39260844#39260844", "title": "Why am I unable to join this thread in python?", "body": "<p>This statement may lead to errors:</p>\n\n<pre><code>while not self.queue.empty():\n    pkg = self.queue.get()\n</code></pre>\n\n<p>With multiple threads pulling items from the queue, there's no guarantee that <code>self.queue.get()</code> will return a valid item, even if you check if the queue is empty beforehand. Here is a possible scenario</p>\n\n<ol>\n<li>Thread 1 checks the queue and the queue is not empty, control proceeds into the <code>while</code> loop.</li>\n<li>Control passes to Thread 2, which also checks the queue, finds it is not empty and enters the <code>while</code> loop.  Thread 2 <code>gets</code> an item from the loop.  The queue is now empty.</li>\n<li>Control passes back to Thread 1, it <code>gets</code> an item from the queue, but the queue is now empty, an <code>Empty</code> Exception should be raised.</li>\n</ol>\n\n<p>You should just use a <code>try/except</code> to get an item from the queue</p>\n\n<pre><code>try:\n    pkg = self.queue.get_nowait()\nexcept Empty:\n    pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "edited": false, "score": 0, "creation_date": 1472690484, "post_id": 39260919, "comment_id": 65857986, "body": "I see a flaw here. Please correct me if I&#39;m wrong. You added <i>n</i> sentinels for <i>n</i> threads. But what guarantee is there that a single thread won&#39;t consume multiple sentinels, thus leaving another thread hanging?"}, {"owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "reply_to_user": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "edited": false, "score": 1, "creation_date": 1472690609, "post_id": 39260919, "comment_id": 65858014, "body": "When a thread sees a sentinel, it does <code>break</code>.  In context, the thread exits soon after the <code>break</code> - the <code>break</code> takes it out of the loop.  Therefore a thread cannot consume more than one sentinel."}, {"owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "edited": false, "score": 0, "creation_date": 1472690650, "post_id": 39260919, "comment_id": 65858024, "body": "Oops! Totally overlooked the <code>break</code> part. Thanks!"}], "tags": [], "owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "is_accepted": false, "score": 2, "last_activity_date": 1472689117, "creation_date": 1472689117, "answer_id": 39260919, "question_id": 39260728, "link": "https://stackoverflow.com/questions/39260728/why-am-i-unable-to-join-this-thread-in-python/39260919#39260919", "title": "Why am I unable to join this thread in python?", "body": "<p>@Brendan Abel identified the cause.  I'd like to suggest a different solution:  <code>queue.join()</code> is usually a Bad Idea too.  Instead, create a unique value to use as a sentinel:</p>\n\n<pre><code>class Parallel:\n    _sentinel = object()\n</code></pre>\n\n<p>At the end of <code>__init__()</code>, add one sentinel to the queue for each thread:</p>\n\n<pre><code>    for i in range(nthreads):\n        self.queue.put(self._sentinel)\n</code></pre>\n\n<p>Change the start of <code>worker()</code> like so:</p>\n\n<pre><code>    while True:\n        pkg = self.queue.get()\n        if pkg is self._sentinel:\n            break\n</code></pre>\n\n<p>By the construction of the queue, it won't be empty until each thread has seen its sentinel value, so there's no need to mess with the unpredictable <code>queue.size()</code>.</p>\n\n<p>Also remove the <code>queue.join()</code> and <code>queue.task_done()</code> cruft.</p>\n\n<p>This will give you reliable code that's easy to modify for fancier scenarios.  For example, if you want to add more work items <em>while</em> the threads are running, fine - just write another method to say \"I'm done adding work items now\", and move the loop adding sentinels into that.</p>\n"}], "owner": {"reputation": 2277, "user_id": 4591810, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61e63df3db53ef926974e7a2dafd3cf7?s=128&d=identicon&r=PG&f=1", "display_name": "hazrmard", "link": "https://stackoverflow.com/users/4591810/hazrmard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 39260844, "answer_count": 2, "score": 3, "last_activity_date": 1472689117, "creation_date": 1472687566, "question_id": 39260728, "link": "https://stackoverflow.com/questions/39260728/why-am-i-unable-to-join-this-thread-in-python", "title": "Why am I unable to join this thread in python?", "body": "<p>I am writing a multithreading class. The class has a <code>parallel_process()</code> function that is overridden with the parallel task. The data to be processed is put in the <code>queue</code>. The <code>worker()</code> function in each thread keeps calling <code>parallel_process()</code> until the <code>queue</code> is empty. Results are put in the <code>results</code> Queue object. The class definition is:  </p>\n\n<pre><code>import threading\ntry:\n    from Queue import Queue\nexcept ImportError:\n    from queue import Queue\n\n\nclass Parallel:\n\n    def __init__(self, pkgs, common=None, nthreads=1):\n        self.nthreads = nthreads\n        self.threads = []\n        self.queue = Queue()\n        self.results = Queue()\n        self.common = common\n        for pkg in pkgs:\n            self.queue.put(pkg)\n\n    def parallel_process(self, pkg, common):\n        pass\n\n    def worker(self):\n        while not self.queue.empty():\n            pkg = self.queue.get()\n            self.results.put(self.parallel_process(pkg, self.common))\n            self.queue.task_done()\n        return\n\n    def start(self):\n        for i in range(self.nthreads):\n            t = threading.Thread(target=self.worker)\n            t.daemon = False\n            t.start()\n            self.threads.append(t)\n\n    def wait_for_threads(self):\n        print('Waiting on queue to empty...')\n        self.queue.join()\n        print('Queue processed. Joining threads...')\n        for t in self.threads:\n            t.join()\n            print('...Thread joined.')\n\n    def get_results(self):\n        results = []\n        print('Obtaining results...')\n        while not self.results.empty():\n            results.append(self.results.get())\n        return results\n</code></pre>\n\n<p>I use it to create a parallel task:  </p>\n\n<pre><code>    class myParallel(Parallel):    # return square of numbers in a list\n            def parallel_process(self, pkg, common):\n                return pkg**2\n\n    p = myParallel(range(50),nthreads=4)\n    p.start()\n    p.wait_for_threads()\n    r = p.get_results()\n    print('FINISHED')\n</code></pre>\n\n<p>However all threads do not join every time the code is run. Sometimes only 2 join, sometimes no thread joins. I do not think I am blocking the threads from finishing. What reason could there be for <code>join()</code> to not work here?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 2, "creation_date": 1472687199, "post_id": 39260653, "comment_id": 65857189, "body": "This is usually done as this: <code>_, func, args = split</code> (which is seen often). But i&#39;m not sure about the internals."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1472687264, "post_id": 39260653, "comment_id": 65857203, "body": "@sascha <code>_</code> preserves in <code>builtins</code> module and certainly consumes memory."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1472687315, "post_id": 39260653, "comment_id": 65857218, "body": "@Kasramvd Thanks for this remark!"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1472687755, "post_id": 39260653, "comment_id": 65857326, "body": "It&#39;s unrelated to your question, but it&#39;s a very bad idea to use <code>str</code> as a variable name, since it masks the builtin type of that name. Shadowing builtin names is permitted in Python, but it is discouraged since it is very bad style. It can cause some obscure errors if you edit this code later and try to use <code>str</code> for its normal meaning, not realizing you&#39;ve given it a different meaning as a local variable."}, {"owner": {"reputation": 415, "user_id": 3680952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65254f6ec9435b8ef4f513c396f24f3d?s=128&d=identicon&r=PG&f=1", "display_name": "monkeyman79", "link": "https://stackoverflow.com/users/3680952/monkeyman79"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1472687773, "post_id": 39260653, "comment_id": 65857329, "body": "@sascha Thanks for your comments. This will do."}, {"owner": {"reputation": 415, "user_id": 3680952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65254f6ec9435b8ef4f513c396f24f3d?s=128&d=identicon&r=PG&f=1", "display_name": "monkeyman79", "link": "https://stackoverflow.com/users/3680952/monkeyman79"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1472687804, "post_id": 39260653, "comment_id": 65857341, "body": "@Blckknght Thanks. I&#39;ll keep that in mind."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1472688105, "post_id": 39260653, "comment_id": 65857429, "body": "@Kasramvd: There is a built-in <code>_</code> variable in interactive mode, but assigning to <code>_</code> won&#39;t use that variable. It <i>will</i> assign to <i>an</i> <code>_</code> variable, and it will take memory."}, {"owner": {"reputation": 415, "user_id": 3680952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65254f6ec9435b8ef4f513c396f24f3d?s=128&d=identicon&r=PG&f=1", "display_name": "monkeyman79", "link": "https://stackoverflow.com/users/3680952/monkeyman79"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472688678, "post_id": 39260653, "comment_id": 65857576, "body": "@user2357112 In my case memory is not an issue. I was more curious what&#39;s the &quot;proper&quot; way to do it. But if it was global variable, if would have it&#39;s bad sides: good - if the function is called recursively, only one instance of global variable exists, bad - when the function returns, global variable remains and can&#39;t be disposed."}], "answers": [{"comments": [{"owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 3, "creation_date": 1472687359, "post_id": 39260685, "comment_id": 65857232, "body": "Note that there is nothing special about <code>_</code>. It is just a preference/style that translates to <i>ignore the variable</i>."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1472691496, "post_id": 39260685, "comment_id": 65858189, "body": "Using <code>_</code> is not the best idea though, as it is very often used as an alias for <code>gettext</code>. This use is even mentionned in the official documentation: <a href=\"https://docs.python.org/3/library/gettext.html#gettext.gettext\" rel=\"nofollow noreferrer\">\u201cThis function is usually aliased as _() in the local namespace\u201d</a>. Use another name, such as <code>unused</code> or <code>dummy</code>."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 1, "creation_date": 1472694469, "post_id": 39260685, "comment_id": 65858835, "body": "@spectras I would argue the reverse, that aliasing <code>gettext</code> to <code>_</code> is not the best idea because <code>_</code> is often used to indicate a throw-away value."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "reply_to_user": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1472695421, "post_id": 39260685, "comment_id": 65859074, "body": "@SethMMorton&gt; afaik the official python documentation does not mention <code>_</code> as a throw-away value. It does explicitly mention it as a <code>gettext</code> alias, however (linked in my previous comment). Using <code>_</code> as a throw-away value also breaks the last-result feature of the interpreter. Sure, you might ignore python&#39;s own conventions, say you don&#39;t care about the interpreter and go with you own, but what&#39;s the point?"}, {"owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1472699047, "post_id": 39260685, "comment_id": 65859868, "body": "@spectras: TL;DR: <code>_</code> is not a python convention at all. 1) You are missing out the fact that <code>_</code> is an manual alias in <b>local namespace</b> (implying you/programmers do it, python doesn&#39;t). Python does not do any magic. 2) Further, it is only in REPL that <code>_</code> stands for last result. In real scripts/programs <code>_</code> means nothing special -- as I said in my first comment. 3) As for <i>throw-away/ignore</i> values, people have been using <code>_</code> for quite some time. As for <code>gettext</code>, I&#39;d personally prefer using <code>t</code> instead of <code>_</code>."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "reply_to_user": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1472724052, "post_id": 39260685, "comment_id": 65871447, "body": "@SuperSaiyan&gt; <code>_</code> has been used as an alias for gettext for 26 years over many languages. On the other hand, <code>_</code> as a throw away is explicitly discouraged in python&#39;s official documentation, and the fact it is used by REPL shows it&#39;s not intended as a normal use for a throw away variable. There is this stackexchange question for further dicsussion: <a href=\"http://programmers.stackexchange.com/questions/147252/is-it-bad-practice-to-name-an-unused-variable-with-a-single-underscore\">is it bad practice to name an unused variable underscore</a>."}], "tags": [], "owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1472687329, "creation_date": 1472687329, "answer_id": 39260685, "question_id": 39260653, "link": "https://stackoverflow.com/questions/39260653/python-is-it-possible-to-skip-values-in-tuple-assignment/39260685#39260685", "title": "Python: Is it possible to skip values in tuple assignment?", "body": "<p>You can use the <code>_</code>, which is used to store unwanted values. Your statement will look like this:</p>\n\n<pre><code>_, func, args = split\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1472687676, "creation_date": 1472687676, "answer_id": 39260742, "question_id": 39260653, "link": "https://stackoverflow.com/questions/39260653/python-is-it-possible-to-skip-values-in-tuple-assignment/39260742#39260742", "title": "Python: Is it possible to skip values in tuple assignment?", "body": "<p>The best way for refusing of consuming extra memory is to handle this within your function. You can use a flag as an argument for your function then based on this flag you can decide to return 2 or 3 items.</p>\n\n<pre><code>def split_on_colon(my_str, flag):\n    colon_ptr = find_separator(my_str, 0, ':')\n    if flag:\n        if colon_ptr == -1:\n            return (my_str, None)\n        return (my_str[:colon_ptr], my_str[colon_ptr+1:])\n    else:\n        if colon_ptr == -1:\n            return (colon_ptr, my_str, None)\n        return (colon_ptr, my_str[:colon_ptr], my_str[colon_ptr+1:])\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 3680952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65254f6ec9435b8ef4f513c396f24f3d?s=128&d=identicon&r=PG&f=1", "display_name": "monkeyman79", "link": "https://stackoverflow.com/users/3680952/monkeyman79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1513, "favorite_count": 0, "accepted_answer_id": 39260685, "answer_count": 2, "score": 0, "last_activity_date": 1472687676, "creation_date": 1472687094, "question_id": 39260653, "link": "https://stackoverflow.com/questions/39260653/python-is-it-possible-to-skip-values-in-tuple-assignment", "title": "Python: Is it possible to skip values in tuple assignment?", "body": "<p>I have a function which splits string in two parts at first encountered colon (skipping parts enclosed in brackets). This function returns tuple of three elements: index where the colon was encountered, part before colon and part after colon:</p>\n\n<pre><code>def split_on_colon(str):\n    colon_ptr = find_separator(str, 0, ':')\n    if colon_ptr == -1:\n        return (colon_ptr, str, None)\n    return (colon_ptr, str[:colon_ptr], str[colon_ptr+1:])\n</code></pre>\n\n<p>I call it this way:</p>\n\n<pre><code>def substitute_expression(expression):\n    # Split function and arguments\n    colon_ptr, func, args = split_on_colon(expression)\n    ...\n</code></pre>\n\n<p>But sometimes it don't care about <code>colon_ptr</code> part.</p>\n\n<p>Is there any simple construction in Python that would allow throwing away part of tuple in assignment, so that it wouldn't waste memory and variables namespace?</p>\n\n<p>Something like this:</p>\n\n<pre><code>Ignore, func, args = split\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472687062, "post_id": 39260619, "comment_id": 65857167, "body": "Why would you use the <code>valide</code> or <code>invalide</code> decorator instead of just assigning <code>False</code> to the appropriate variables directly?"}, {"owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472687309, "post_id": 39260619, "comment_id": 65857213, "body": "There are many reasons and it will take too long explain it here..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1472687680, "post_id": 39260619, "comment_id": 65857307, "body": "That sounds like you&#39;re ascribing a lot more magic to decorators than what they actually do. Decorator syntax does extremely little - sticking <code>@some_deco</code> over the definition of a function <code>foo</code> is equivalent to sticking <code>foo = some_deco(foo)</code> after the definition."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472687803, "post_id": 39260619, "comment_id": 65857340, "body": "If you think your reasons for wanting to use decorators are so complex that you can&#39;t describe them here, then it&#39;s unlikely that decorators have enough complexity to support your complex motivations for wanting them."}, {"owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472687884, "post_id": 39260619, "comment_id": 65857366, "body": "Can you not just add an extra &quot;valid&quot; key to your dictionaries? You can make it the first key listed."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1472687976, "post_id": 39260619, "comment_id": 65857394, "body": "@AkshatMahajan: No, a closure is a function which is defined inside another function and which uses variables from the outer function. It has nothing to do with whether it takes or returns functions. Also, almost all decorators that take functions also return functions."}, {"owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472688599, "post_id": 39260619, "comment_id": 65857552, "body": "@user2357112 Ok...:) here is one scenario to explain why I need them this way. Imagine, that they are generated once with some keys and values. For some dictionaries data might not be available yet in some dB until at a later time(undetermined, later time). In the mean time, I just mark them with &#39;<code>valid, invalide</code> and know to skip or involve them in some action based on their validity. And this is only one reason beside others..Cheers!"}, {"owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "reply_to_user": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472689058, "post_id": 39260619, "comment_id": 65857658, "body": "@friendlydog That was something I thought about too and it might be the backup solution. Let&#39;s see if someone has some elegant solution."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1472689132, "post_id": 39260619, "comment_id": 65857671, "body": "@flamenco: Yeah, it really sounds like you&#39;re misunderstanding decorators. Even if decorators could be applied to things other than functions, &quot;marking&quot; dicts with decorators this way would be exactly equivalent to assigning <code>False</code> to the ones marked with <code>invalide</code>. The decorator syntax doesn&#39;t come with some decorator-specific way of attaching additional metadata to decorated objects."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472694958, "post_id": 39260619, "comment_id": 65858951, "body": "@flamenco: That&#39;s still not even close to doing what you want."}, {"owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472695718, "post_id": 39260619, "comment_id": 65859134, "body": "@user2357112 True, to some degree. But since, <code>dict</code> cannot be decorated what can I do but to go with a crossbreed solution."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472699692, "post_id": 39260619, "comment_id": 65860033, "body": "The thing you ended up doing is an overcomplicated equivalent of just assigning a dict to <code>dict1</code> and <code>False</code> to <code>dict2</code>. <code>run_funct</code> doesn&#39;t even have anything to do with what the name says it does; it doesn&#39;t receive a function as an argument, and it doesn&#39;t run any functions."}, {"owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472704308, "post_id": 39260619, "comment_id": 65861046, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/122356/discussion-between-flamenco-and-user2357112\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "is_accepted": false, "score": 0, "last_activity_date": 1472687182, "creation_date": 1472687182, "answer_id": 39260668, "question_id": 39260619, "link": "https://stackoverflow.com/questions/39260619/is-there-a-way-to-apply-decorators-to-python-data-structures/39260668#39260668", "title": "Is there a way to apply decorators to Python data structures?", "body": "<p>Decorators, to my knowledge, can only be applied to callables (functions, classes etc.)</p>\n\n<p>If I was in your place, I'd probably separate the logic to decide between valid/invalid in its own function.</p>\n"}, {"tags": [], "owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "is_accepted": false, "score": 0, "last_activity_date": 1472697549, "creation_date": 1472697549, "answer_id": 39261880, "question_id": 39260619, "link": "https://stackoverflow.com/questions/39260619/is-there-a-way-to-apply-decorators-to-python-data-structures/39261880#39261880", "title": "Is there a way to apply decorators to Python data structures?", "body": "<p>you could cobble something together with properties and decorators:</p>\n\n<pre><code>def valid(func):\n    return property(lambda self: func(self))\ndef invalid(func):\n    return property(lambda self: False)\n\nclass A:\n    @valid\n    def dict1(self):\n        return dict(a=4, b=5)\n    @invalid\n    def dict2(self):\n        return dict(c=6, d=7)\n</code></pre>\n\n<p>usage would then be:</p>\n\n<pre><code>a = A()\na.dict1\na.dict2\n</code></pre>\n\n<p>i can't say i would recommend doing this, but it should meet your needs.</p>\n"}], "owner": {"reputation": 2252, "user_id": 2736671, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zX3ax.jpg?s=128&g=1", "display_name": "flamenco", "link": "https://stackoverflow.com/users/2736671/flamenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1472697549, "creation_date": 1472686804, "last_edit_date": 1472695352, "question_id": 39260619, "link": "https://stackoverflow.com/questions/39260619/is-there-a-way-to-apply-decorators-to-python-data-structures", "title": "Is there a way to apply decorators to Python data structures?", "body": "<p>From what I got so far, decorators applies to callables(functions and classes).\nWondering if there is a way to apply a decorator to a dictionary?(It can be any data structure, in fact).\nThe problem I try to solve goes along the following lines:\nI have a lot of dictionaries which, from time to time, might be valid or not.</p>\n\n<p>I want to mark them with a <em>decorator-like</em> as shown in the skeleton bellow...:</p>\n\n<pre><code>class Data(object):\n\n    def invalide(self):\n        return False\n\n    def valide(self, some_dict):\n        return some_dict\n\n@Data.invalide  \ndict_1 = {...}\n\n@Data.valide  \ndict_2 = {...}\n\n@Data.valide  \ndict_3 = {...}\n...\n...\n@Data.invalide\ndict_n = {...}\n</code></pre>\n\n<p>...so, when I call <code>some_function(dict_x)</code>, it would know to do one thing or the other based on the <code>valide</code>, <code>invalide</code> marks.</p>\n\n<h2>-------------Later on--------------------</h2>\n\n<p>I ended up implementing the following:</p>\n\n<pre><code>In [2]: class Data(object):\n   ...:     \n   ...:     @classmethod\n   ...:     def valide(self, func):\n   ...:         #print \"Data is valide.\"\n   ...:         return func()\n   ...:     \n   ...:     @classmethod\n   ...:     def invalide(self, func):\n   ...:         #print \"Data is invalide.\"\n   ...:         return False\n   ...:     \n\nIn [3]: @Data.valide\n   ...: def dict1():\n   ...:     return {\"a\": 1, \"b\": 2, \"c\": 3}\n   ...: \n   ...: @Data.invalide\n   ...: def dict2():\n   ...:     return {\"d\": 4, \"e\": 4, \"f\": 6}\n   ...: \n   ...: def run_funct(some_dict):\n   ...:     return some_dict\n   ...: \n\nIn [4]: print(run_funct(dict1))\n   ...: print type(run_funct(dict1))\n   ...: \n{'a': 1, 'c': 3, 'b': 2}\n&lt;type 'dict'&gt;\n\nIn [5]: print(run_funct(dict2))\n   ...: print type(run_funct(dict2))\n   ...: \nFalse\n&lt;type 'bool'&gt;\n</code></pre>\n"}, {"tags": ["python", "date", "numpy", "gaussian", "normal-distribution"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 5, "creation_date": 1472686928, "post_id": 39260616, "comment_id": 65857131, "body": "Convert your dates to ticks or seconds or some other 1-d unit (which is a very common operation for dates; it&#39;s even the natural form internally). Then the location of the normal-dist is for example the middle-element (in your new 1d-form) and you just need to tune the variance/std. Later, you transform the samples back."}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 1640404, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8b81ecfc82befce7d44c558ed68d941f?s=128&d=identicon&r=PG", "display_name": "ChristopherC", "link": "https://stackoverflow.com/users/1640404/christopherc"}, "is_accepted": false, "score": 4, "last_activity_date": 1472699137, "creation_date": 1472699137, "answer_id": 39262071, "question_id": 39260616, "link": "https://stackoverflow.com/questions/39260616/generate-a-normal-distribution-of-dates-within-a-range/39262071#39262071", "title": "Generate a normal distribution of dates within a range", "body": "<p>As per @sascha's comment, a conversion from the dates to a time value does the job:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport time\nimport numpy\n\n_DATE_RANGE = ('1925-01-01', '1992-01-01')\n_DATE_FORMAT = '%Y-%m-%d'\n_EMPIRICAL_SCALE_RATIO = 0.15\n_DISTRIBUTION_SIZE = 1000\n\ndef main():\n    time_range = tuple(time.mktime(time.strptime(d, _DATE_FORMAT))\n                       for d in _DATE_RANGE)\n    distribution = numpy.random.normal(\n        loc=(time_range[0] + time_range[1]) * 0.5,\n        scale=(time_range[1] - time_range[0]) * _EMPIRICAL_SCALE_RATIO,\n        size=_DISTRIBUTION_SIZE\n    )\n    date_range = tuple(time.strftime(_DATE_FORMAT, time.localtime(t))\n                       for t in numpy.sort(distribution))\n    print(date_range)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Note that instead of the <code>_EMPIRICAL_SCALE_RATIO</code>, you could (should?) use <code>scipy.stats.truncnorm</code> to generate a <a href=\"https://en.wikipedia.org/wiki/Truncated_normal_distribution\" rel=\"nofollow\">truncated normal distribution</a>.</p>\n"}], "owner": {"reputation": 1680, "user_id": 1434239, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/6MTcn.png?s=128&g=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/1434239/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1472699137, "creation_date": 1472686775, "last_edit_date": 1592644375, "question_id": 39260616, "link": "https://stackoverflow.com/questions/39260616/generate-a-normal-distribution-of-dates-within-a-range", "title": "Generate a normal distribution of dates within a range", "body": "<p>I have a date range - say between <code>1925-01-01</code> and <code>1992-01-01</code>. I'd like to generate a list of <code>x</code> dates between that range, and have those <code>x</code> dates generated follow a 'normal' (bell curve - see image) distribution.</p>\n<p>There are many many answers on stackoverflow about doing this with integers (using <code>numpy</code>, <code>scipy</code>, etc), but I can't find a solid example with dates</p>\n<p><a href=\"https://i.stack.imgur.com/dC2UB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dC2UB.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 8836, "user_id": 1628638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18a33648679023d6bc1ff825aaddb4f2?s=128&d=identicon&r=PG", "display_name": "Ulrich Stern", "link": "https://stackoverflow.com/users/1628638/ulrich-stern"}, "edited": false, "score": 1, "creation_date": 1472925264, "post_id": 39309727, "comment_id": 65952266, "body": "Was about to answer but Leon was faster.  One thing I wanted to add: <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.errorbar\" rel=\"nofollow noreferrer\"><code>errorbar()</code></a> returns <code>(plotline, caplines, barlinecols)</code>, not the axes."}], "tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": true, "score": 5, "last_activity_date": 1472924844, "creation_date": 1472924844, "answer_id": 39309727, "question_id": 39260561, "link": "https://stackoverflow.com/questions/39260561/attributeerror-errorbarcontainer-object-has-no-attribute-set-ylim/39309727#39309727", "title": "AttributeError: &#39;ErrorbarContainer&#39; object has no attribute &#39;set_ylim&#39;", "body": "<p>Simply use the <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.ylim\" rel=\"noreferrer\">matplotlib.pyplot.ylim()</a> function.</p>\n\n<p>Your example is not self-contained, so I cannot check that the below code actually works, but at least the mentioned error will be fixed:</p>\n\n<pre><code>plt.errorbar(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index, chi_square_y, yerr=chi_square_y_error, fmt = 'o')\nplt.ylim(-.2, .2)\nplt.plot((min(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index), max(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index)), (0, 0), 'r--', linewidth = 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "is_accepted": false, "score": 2, "last_activity_date": 1473157794, "creation_date": 1473157794, "answer_id": 39346791, "question_id": 39260561, "link": "https://stackoverflow.com/questions/39260561/attributeerror-errorbarcontainer-object-has-no-attribute-set-ylim/39346791#39346791", "title": "AttributeError: &#39;ErrorbarContainer&#39; object has no attribute &#39;set_ylim&#39;", "body": "<p>Since this is a bounty question I'll try to get a bit into more detail here. </p>\n\n<p><code>plt.errorbar</code> does not return an Axes object (which has the <code>set_ylim</code> method), but rather a collection of <code>(plotline, caplines, barlinecols)</code>. I suspect you may have expected the Axes object since this is what <code>pandas.DataFrame.plot</code> returns.</p>\n\n<p>When working directly with matplotlib's pyplot you have two options:</p>\n\n<p><strong>Option 1</strong> - use pyplot directly, without dealing with the axes:</p>\n\n<pre><code>plt.errorbar( ... )\nplt.ylim([-.2, .2])\n</code></pre>\n\n<p>Using <code>plt</code> will set properties to the last subplot selected (by default there is only one). You may prefer this method when dealing with a single figure.</p>\n\n<p><strong>Option 2</strong> - get an axes object from <code>subplots</code>:</p>\n\n<pre><code>fig, ax = plt.subplots(1, 1, figsize=(10, 5))\nax.errorbar( ... )\nax.set_ylim([-.2, .2])\n</code></pre>\n\n<p>This is may preferred method, partly because it allows setting the figure size without setting it globally in <code>rcParams</code>. It has a few other advantages which I won't get into here.</p>\n\n<p>Notice that when using <code>plt</code> the method is <code>ylim</code> and when using the Axes object it's <code>set_ylim</code>. This is true for many other properties such as titles, labels, etc.</p>\n"}], "owner": {"reputation": 2882, "user_id": 4995876, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3e3ef09fd46fd8c29fd94e661e2f4327?s=128&d=identicon&r=PG&f=1", "display_name": "helloB", "link": "https://stackoverflow.com/users/4995876/hellob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3556, "favorite_count": 1, "accepted_answer_id": 39309727, "answer_count": 2, "score": 0, "last_activity_date": 1473157794, "creation_date": 1472686330, "question_id": 39260561, "link": "https://stackoverflow.com/questions/39260561/attributeerror-errorbarcontainer-object-has-no-attribute-set-ylim", "title": "AttributeError: &#39;ErrorbarContainer&#39; object has no attribute &#39;set_ylim&#39;", "body": "<p>I am plotting the results of some experiments with error bars. I'd like to be able to set the y limit in the case of results with extreme outliers that aren't interesting. This code:</p>\n\n<pre><code>axes = plt.errorbar(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index, chi_square_y, yerr=chi_square_y_error, fmt = 'o')\naxes.set_ylim([-.2, .2])\nplt.plot((min(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index), max(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index)), (0, 0), 'r--', linewidth = 2)\n</code></pre>\n\n<p>produces this error:</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-79-794286dd3c29&gt; in &lt;module&gt;()\n     18 rcParams['figure.figsize'] = 10, 5\n     19 axes = plt.errorbar(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index, chi_square_y, yerr=chi_square_y_error, fmt = 'o')\n---&gt; 20 axes.set_ylim([-.2, .2])\n     21 plt.plot((min(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index), max(feature_data[feature_data.num_unique[feature_of_interest] &gt; 1].index)), (0, 0), 'r--', linewidth = 2)\n\nAttributeError: 'ErrorbarContainer' object has no attribute 'set_ylim'\n</code></pre>\n\n<p>How can I set the y limits?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "opencv", "cloud9-ide", "cloud9", "c9.io"], "answers": [{"comments": [{"owner": {"reputation": 17167, "user_id": 773263, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e2581b53db32340d7e1b5be6b99c2bb1?s=128&d=identicon&r=PG", "display_name": "Philip Kirkbride", "link": "https://stackoverflow.com/users/773263/philip-kirkbride"}, "edited": false, "score": 0, "creation_date": 1485452961, "post_id": 40911649, "comment_id": 70941503, "body": "Should they run python-opencv command after? Maybe add that to answer."}], "tags": [], "owner": {"reputation": 1876, "user_id": 6568784, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Kk1s7.png?s=128&g=1", "display_name": "baranskistad", "link": "https://stackoverflow.com/users/6568784/baranskistad"}, "is_accepted": false, "score": 1, "last_activity_date": 1505977141, "last_edit_date": 1505977141, "creation_date": 1480598150, "answer_id": 40911649, "question_id": 39260543, "link": "https://stackoverflow.com/questions/39260543/how-can-i-install-opencv-for-python-on-cloud9/40911649#40911649", "title": "How can I install opencv for Python on Cloud9?", "body": "<p>sudo add-apt-repository ppa:mc3man/trusty-media  </p>\n\n<p>Run <a href=\"https://github.com/jayrambhia/Install-OpenCV/blob/master/Ubuntu/opencv_latest.sh\" rel=\"nofollow noreferrer\">this file</a> in your terminal and then run this</p>\n\n<pre><code>sudo apt-get install python-opencv\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505977141, "creation_date": 1472686188, "question_id": 39260543, "link": "https://stackoverflow.com/questions/39260543/how-can-i-install-opencv-for-python-on-cloud9", "title": "How can I install opencv for Python on Cloud9?", "body": "<p>I've been wanting to work more with images, and opencv sounds like a great resource, but I can't figure out how to get it up and running in Python on Cloud9.</p>\n\n<p>I've tried using the terminal commands:</p>\n\n<pre><code>[compiler] sudo apt-get install build-essential\n[required] sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev\n[optional] sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev\n</code></pre>\n\n<p>Which seemed to work until I tried to do <code>import cv2</code> and that failed with the error message \"No module named cv2\".</p>\n\n<p>I then downloaded the latest version of opencv from sourceforge and extracted it into the folder I put my program in. Again, \"No module named cv2\".</p>\n\n<p>How can I check to see if opencv installed correctly?\nHow can I get the <code>import cv</code> line to work?</p>\n"}, {"tags": ["python", "scrapy", "scrapinghub"], "answers": [{"tags": [], "owner": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "is_accepted": true, "score": 5, "last_activity_date": 1472696731, "creation_date": 1472696731, "answer_id": 39261783, "question_id": 39260455, "link": "https://stackoverflow.com/questions/39260455/how-to-pass-data-to-scrapinghub/39261783#39261783", "title": "How to pass data to scrapinghub?", "body": "<p>This <code>job_settings</code> shall be merged directly into the <a href=\"http://doc.scrapy.org/en/latest/topics/settings.html\" rel=\"noreferrer\">Scrapy settings</a>, with a higher precedence (of <code>40</code>, IIRC).</p>\n\n<p>The Scrapy settings could be accessed via a <code>.settings</code> attribute of a spider instance, e.g. you could use <code>self.settings</code> if <code>self</code> is a <code>scrapy.Spider</code> instance.</p>\n"}], "owner": {"reputation": 8373, "user_id": 58109, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f644c55ff071f7a87f335fe5624b5c8f?s=128&d=identicon&r=PG", "display_name": "Sam Lee", "link": "https://stackoverflow.com/users/58109/sam-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 2, "accepted_answer_id": 39261783, "answer_count": 1, "score": 2, "last_activity_date": 1472696731, "creation_date": 1472685522, "question_id": 39260455, "link": "https://stackoverflow.com/questions/39260455/how-to-pass-data-to-scrapinghub", "title": "How to pass data to scrapinghub?", "body": "<p>I'm trying to run a scrapy spider on scrapinghub, and I want to pass in some data. I'm using their API to run the spider:</p>\n\n<p><a href=\"http://doc.scrapinghub.com/api/jobs.html#jobs-run-json\" rel=\"nofollow\">http://doc.scrapinghub.com/api/jobs.html#jobs-run-json</a></p>\n\n<p>They have an option for <code>job_settings</code>, which seems relevant, but I can't figure out how to access the <code>job_settings</code> data in my <code>Spider</code> class. What is the correct approach here?</p>\n"}, {"tags": ["python", "string", "python-2.7", "substring"], "comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1472685537, "post_id": 39260436, "comment_id": 65856789, "body": "All you need is <a href=\"https://docs.python.org/2/library/functions.html#all\" rel=\"nofollow noreferrer\"><code>all</code></a> :))) <code>print all(x in a for x in b)</code>"}, {"owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472685772, "post_id": 39260436, "comment_id": 65856852, "body": "If you split <code>main</code> into a list as well, you can use apply <a href=\"http://stackoverflow.com/a/24017747\">this</a> answer."}, {"owner": {"reputation": 343, "user_id": 6575059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4f0633de89c9bdd21a9bba645cc6ef2?s=128&d=identicon&r=PG&f=1", "display_name": "temo", "link": "https://stackoverflow.com/users/6575059/temo"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 2, "creation_date": 1472686214, "post_id": 39260436, "comment_id": 65856964, "body": "@alfasin all seems to return True even if the order of words is different;      example    a = &quot;I castle believe that  biggest  the in the world is Prague Castle &quot; b= &quot;the biggest castle&quot;.split(&#39; &#39;) is returned as True, it should be false though"}, {"owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "edited": false, "score": 0, "creation_date": 1472686492, "post_id": 39260436, "comment_id": 65857033, "body": "alfasin&#39;s code should be <code>it = iter(a); print all(x in it for x in b)</code> to account for order. See the <a href=\"http://stackoverflow.com/a/24017747\">Q/A</a> I linked earlier."}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1472686632, "post_id": 39260436, "comment_id": 65857068, "body": "for this particular example, you can drop the <code>.split</code> and just do <code>b in a</code>"}, {"owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "reply_to_user": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 1, "creation_date": 1472686859, "post_id": 39260436, "comment_id": 65857120, "body": "@Copperfield that would only check if <code>b</code> is a <i>substring</i> of <code>a</code>, as opposed to a <i>subsequence</i>. The words in <code>b</code> do not have to appear contiguously in <code>a</code>."}, {"owner": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 0, "creation_date": 1472687438, "post_id": 39260436, "comment_id": 65857248, "body": "@temo, the problem you describe is called &quot;sublist&quot; or &quot;subsequence&quot;. Apart from the &quot;trick&quot; of using regex, the underlying type (string here) is unimportant."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1472747191, "post_id": 39260436, "comment_id": 65887785, "body": "If you want to retain order as well, then Dog&#39;s version (here in the comments) should do the trick!"}], "answers": [{"tags": [], "owner": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "is_accepted": false, "score": -1, "last_activity_date": 1472686431, "last_edit_date": 1472686431, "creation_date": 1472686069, "answer_id": 39260527, "question_id": 39260436, "link": "https://stackoverflow.com/questions/39260436/check-if-a-string-contains-all-words-of-another-string-in-the-same-order-python/39260527#39260527", "title": "Check if a string contains all words of another string in the same order python?", "body": "<p>if you just want to check whether there is a word contain in other string, no need to check all. You just need to find one and return true.<br>\nwhen you check the item set is faster O(1)(average)</p>\n\n<pre><code>a = \"I believe that the biggest castle in the world is Prague Castle \"\nb = \"the biggest castle\"\n\ndef check(a,b):\n    setA,lstB = set( a.split() ), b.split() \n    if len(setA) &lt; len(lstB): return False \n    for item in lstB:\n        if item in setA:\n            return True\n    return False\n\nprint check(a,b)\n</code></pre>\n\n<p>if you donot care the speed</p>\n\n<pre><code>def check(a,b):\n    setA,lstB = set( a.split() ), b.split() \n    return len(setA) &gt;= len(lstB) and any( 1 for item in lstB if item in setA) \n</code></pre>\n\n<p>for speed and time complexity: <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 0, "creation_date": 1472687598, "post_id": 39260537, "comment_id": 65857281, "body": "This is a very interesting trick. Yet it is not useful since it is less efficient and less readable than the alternatives."}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 0, "creation_date": 1472687963, "post_id": 39260537, "comment_id": 65857388, "body": "I find the regex perfectly clear and readable.  On the other hand, if you post a superior answer, I will be happy to upvote it."}, {"owner": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 0, "creation_date": 1472688155, "post_id": 39260537, "comment_id": 65857442, "body": "Given the answers <a href=\"http://stackoverflow.com/questions/17996414/data-structure-for-subsequence-queries\">here</a> it might be the case that regex <i>is</i> the fast way."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 1, "last_activity_date": 1472687019, "last_edit_date": 1472687019, "creation_date": 1472686138, "answer_id": 39260537, "question_id": 39260436, "link": "https://stackoverflow.com/questions/39260436/check-if-a-string-contains-all-words-of-another-string-in-the-same-order-python/39260537#39260537", "title": "Check if a string contains all words of another string in the same order python?", "body": "<p>Let's define your <code>a</code> string and reformat your <code>b</code> string into a regex:</p>\n\n<pre><code>&gt;&gt;&gt; a = \"I believe that the biggest castle in the world is Prague Castle \"\n&gt;&gt;&gt; b = r'\\b' + r'\\b.*\\b'.join(re.escape(word) for word in \"the biggest castle\".split(' ')) + r'\\b'\n</code></pre>\n\n<p>This tests to see if the words in b appear in the same order in a:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; bool(re.search(b, a))\nTrue\n</code></pre>\n\n<p>Caveat: If speed is important, a non-regex approach may be faster.</p>\n\n<h3>How it works</h3>\n\n<p>The key thing here is the reformulation of the string into a regex:</p>\n\n<pre><code>&gt;&gt;&gt; b = r'\\b' + r'\\b.*\\b'.join(re.escape(word) for word in \"the biggest castle\".split(' ')) + r'\\b'\n&gt;&gt;&gt; print(b)\n\\bthe\\b.*\\bbiggest\\b.*\\bcastle\\b\n</code></pre>\n\n<p><code>\\b</code> matches only at word boundaries.  This means, for example, that the word <code>the</code> will never be confused with the word <code>there</code>.  Further, this regex requires that all the words be present in the target string in the same order.</p>\n\n<p>If <code>a</code> contains a match to the regex <code>b</code>, then <code>re.search(b, a)</code> returns a match object.  Otherwise, it returns <code>None</code>. Thus, <code>bool(re.search(b, a))</code> returns <code>True</code> only if a match was found.</p>\n\n<h3>Example with punctuation</h3>\n\n<p>Because word boundaries treat punctuation as not word characters, this approach is not confused by punctuation:</p>\n\n<pre><code>&gt;&gt;&gt; a = 'From here, I go there.'\n&gt;&gt;&gt; b = 'here there'\n&gt;&gt;&gt; b = r'\\b' + r'\\b.*\\b'.join(re.escape(word) for word in b.split(' ')) + r'\\b'\n&gt;&gt;&gt; bool(re.search(b, a))\nTrue\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1472688079, "post_id": 39260663, "comment_id": 65857421, "body": "@John1024, true but since the OP was using <i>in</i> I presumed substrings were ok to match, if not then a regex with  word boundaries or an iterator based approach may be needed. There is also the case of punctuation and case but again the OP does not seem to have that in their own code which may be an oversight."}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 1, "creation_date": 1472688250, "post_id": 39260663, "comment_id": 65857468, "body": "You are right: the OP was using <code>in</code>.  In that case, +1."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 1, "creation_date": 1472688329, "post_id": 39260663, "comment_id": 65857484, "body": "@John1024, well between your regex and this they should get what they need."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1472688599, "last_edit_date": 1472688599, "creation_date": 1472687142, "answer_id": 39260663, "question_id": 39260436, "link": "https://stackoverflow.com/questions/39260436/check-if-a-string-contains-all-words-of-another-string-in-the-same-order-python/39260663#39260663", "title": "Check if a string contains all words of another string in the same order python?", "body": "<p>You can simplify your search by passing the index of the previous match + 1 to <em>find</em>, you don't need to slice anything:</p>\n\n<pre><code>def check(main, sub_split):\n    ind = -1\n    for word in sub_split:\n        ind = main.find(word, ind+1)\n        if ind == -1:\n            return False\n    return True\n\na = \"I believe that the biggest castle in the world is Prague Castle \"\nb= \"the biggest castle\".split(' ')\n\nprint check(a, b)\n</code></pre>\n\n<p>If <em>ind</em> is ever <em>-1</em> then you get no match after so you return False, if you get thorough all the words then all words are in the string in order.</p>\n\n<p>For exact words you could do something similar with lists:</p>\n\n<pre><code>def check(main, sub_split):\n    lst, ind = main.split(), -1\n    for word in sub_split:\n        try:\n           ind = lst.index(word, ind + 1)\n        except ValueError:\n            return False\n    return True\n</code></pre>\n\n<p>And to handle punctuation, you could first strip it off:</p>\n\n<pre><code>from string import punctuation\n\ndef check(main, sub_split):\n    ind = -1\n    lst = [w.strip(punctuation) for w in main.split()]\n    for word in (w.strip(punctuation) for w sub_split):\n        try:\n           ind = lst.index(word, ind + 1)\n        except ValueError:\n            return False\n    return True\n</code></pre>\n\n<p>Of course some words are valid with punctuation but that is more a job for nltk or you may actually want to find matches including any punctuation.</p>\n"}], "owner": {"reputation": 343, "user_id": 6575059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e4f0633de89c9bdd21a9bba645cc6ef2?s=128&d=identicon&r=PG&f=1", "display_name": "temo", "link": "https://stackoverflow.com/users/6575059/temo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2501, "favorite_count": 0, "accepted_answer_id": 39260663, "answer_count": 3, "score": 3, "last_activity_date": 1472726853, "creation_date": 1472685364, "last_edit_date": 1472726853, "question_id": 39260436, "link": "https://stackoverflow.com/questions/39260436/check-if-a-string-contains-all-words-of-another-string-in-the-same-order-python", "title": "Check if a string contains all words of another string in the same order python?", "body": "<p>I want to check if a string contains all of the substring's words and retains their order; at the moment I am using the following code; However it is very basic, seems inefficient and likely there is a much better way of doing it. I'd really appreciate if you could tell me what a more efficient solution would be. Sorry for a noob question, I am new to the programming and wasn't able to find a good solution</p>\n\n<pre><code>def check(main, sub_split):\n    n=0\n    while n &lt; len(sub_split):\n        result = True\n        if sub_split[n] in main:\n            the_start =  main.find(sub_split[n])\n            main = main[the_start:]\n\n        else:\n            result=False\n        n += 1\n    return result\n\na = \"I believe that the biggest castle in the world is Prague Castle \"\nb= \"the biggest castle\".split(' ')\n\nprint check(a, b)\n</code></pre>\n\n<p>update: interesting; First of all thank you all for your answers. Also thank you for pointing out some of the spots that my code missed. I have been trying different solutions posted here and in the links, I will add update how they compare and accept the answer then.</p>\n\n<p><strong>update:</strong>\nAgain thank you all for great solutions, every one of them had major improvements compared to my code; I checked the suggestions with my requirements for 100000 checks and got the following results;\nsuggestions by:\nPadraic Cunningham - consistently under 0.4 secs (though gives some false positives when searching for only full words;\ngalaxyan - 0.65 secs; 0.75 secs\nfriendly dog - 0.70 secs\nJohn1024 - 1.3 secs (Highly accurate, but seems to take extra time)</p>\n"}, {"tags": ["python", "c", "arrays", "input"], "comments": [{"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 2, "creation_date": 1472685672, "post_id": 39260427, "comment_id": 65856823, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1450393/how-do-you-read-from-stdin-in-python\">How do you read from stdin in Python?</a>"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1472685713, "post_id": 39260427, "comment_id": 65856836, "body": "If reading from stdin is not what you need to know then please be more specific in describing what it is that you don&#39;t understand how to do."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1472688927, "post_id": 39260427, "comment_id": 65857632, "body": "You could preallocate a 3d list and populate it, but its not very pythonic and difficult to get right. I think you should probably just build the lists as you iterate and it will be far easier to reason about."}], "answers": [{"comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1472764454, "post_id": 39261012, "comment_id": 65896289, "body": "btw, to avoid <code>IndexError</code> on the last line <code>arr[i][j][k]</code> should be <code>arr[k][i][j]</code> to match the order of the loops variables"}], "tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1472779804, "last_edit_date": 1472779804, "creation_date": 1472689889, "answer_id": 39261012, "question_id": 39260427, "link": "https://stackoverflow.com/questions/39260427/input-to-a-three-dimensional-array-in-python/39261012#39261012", "title": "Input to a three dimensional array in python", "body": "<p>you could use numpy. example assuming you want float64s. change types add needed </p>\n\n<pre><code>import numpy as np\n\narr = np.empty([2, 2, 6], np.float64)\nfor k in range(2):\n    for i in range(2):\n        for j in range(6):\n            print(\"Year: \" + str(k) + \" Province: \" + str(i) + \" Month: \" + str(j) + \": \")\n            arr[k][i][j] = np.float64(raw_input())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1472768308, "creation_date": 1472768308, "answer_id": 39281712, "question_id": 39260427, "link": "https://stackoverflow.com/questions/39260427/input-to-a-three-dimensional-array-in-python/39281712#39281712", "title": "Input to a three dimensional array in python", "body": "<p>If you want to do that in just standard, native python this should work:</p>\n\n<pre><code>import pprint # To display \"3d array\" in a recognizable format \nA = [[[0 for _ in range(2)] for _ in range(2)] for _ in range(6)]\n\nfor k in range(2):\n    for i in range(2):\n        for j in range(6):\n            print(\"Year: {0} Province: {1} Month: {2}\".format(k,i,j))\n            A[j][i][k] = raw_input()\n\npprint.pprint(A) # for an easy to read 2x2x6 format display\n</code></pre>\n\n<p>After inputting some numbers (eg. 1-24), gives output:   </p>\n\n<pre><code>[[['1', '13'], ['7', '19']],  \n[['2', '14'], ['8', '20']],  \n[['3', '15'], ['9', '21']],  \n[['4', '16'], ['10', '22']],  \n[['5', '17'], ['11', '23']],  \n[['6', '18'], ['12', '24']]]  \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6780877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472779804, "creation_date": 1472685314, "last_edit_date": 1472686701, "question_id": 39260427, "link": "https://stackoverflow.com/questions/39260427/input-to-a-three-dimensional-array-in-python", "title": "Input to a three dimensional array in python", "body": "<p>I'm new at coding in python and I was wondering if there is some way I can transcript this code in C to python:</p>\n\n<pre><code>for (K=1; K&lt;3; K++)\n    for (I=0; I&lt;3; I++)\n        for (J=0; J&lt;7; J++){\n            printf(\"Year: %d\\tProvince: %d\\tMonth: %d: \", K, I, J);\n            scanf(\"%f\", &amp;A[I][J][K]);\n        }\n</code></pre>\n\n<p>This is all I have done so far, the only thing missing is how to input data in the three dimensional array</p>\n\n<pre><code>for k in range(1,3):\n    for i in range(1,3):\n        for j in range(1,7):\n            print(\"Year: \" + str(k) + \" Province: \" + str(i) + \" Month: \" + str(j) + \": \")\n</code></pre>\n"}, {"tags": ["python", "object", "indexing"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1472685329, "post_id": 39260407, "comment_id": 65856739, "body": "It is the repr output, what happens when you print it?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1472685374, "post_id": 39260407, "comment_id": 65856753, "body": "And here&#39;s a <a href=\"https://docs.python.org/2/library/functions.html#repr\" rel=\"nofollow noreferrer\">link to repr</a>"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1472685424, "post_id": 39260407, "comment_id": 65856759, "body": "Start by locating the source for the <code>Rx</code> object via <code>Thing.thing.stuff.Rx</code> (or whatever the real thing is)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1472685458, "post_id": 39260407, "comment_id": 65856768, "body": "If your the previous person was diligent at writing docstrings for the <code>Rx</code> object, try <code>help(rx[0])</code> and pray for useful documentation. Or just try <code>help(Thing.thing.stuff.Rx)</code>"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1472685816, "post_id": 39260407, "comment_id": 65856861, "body": "Your question doesn&#39;t seem to have anything fundamental to the object being within the list. It is really, &quot;I have some object of some type I don&#39;t know, how should I use it?&quot;."}, {"owner": {"reputation": 6814, "user_id": 1663352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7aae8aa2d2bd58c23ed06da5d3c2cca?s=128&d=identicon&r=PG", "display_name": "Noelkd", "link": "https://stackoverflow.com/users/1663352/noelkd"}, "edited": false, "score": 0, "creation_date": 1472686597, "post_id": 39260407, "comment_id": 65857054, "body": "what do you get if you do <code>dir(rx[0])</code>? Also just do what Moses said."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472689000, "post_id": 39260407, "comment_id": 65857648, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1006169/how-do-i-look-inside-a-python-object\">How do I look inside a Python object?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2126, "user_id": 2297550, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/20092a7b6e8eebf36a9c28951bd2261f?s=128&d=identicon&r=PG", "display_name": "user2297550", "link": "https://stackoverflow.com/users/2297550/user2297550"}, "edited": false, "score": 0, "creation_date": 1540521465, "post_id": 39260637, "comment_id": 92905665, "body": "how to filter out the slot wrappers?"}], "tags": [], "owner": {"reputation": 2996, "user_id": 6085135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lHKnG.png?s=128&g=1", "display_name": "brennan", "link": "https://stackoverflow.com/users/6085135/brennan"}, "is_accepted": false, "score": 5, "last_activity_date": 1472691411, "last_edit_date": 1472691411, "creation_date": 1472686959, "answer_id": 39260637, "question_id": 39260407, "link": "https://stackoverflow.com/questions/39260407/inspecting-python-objects/39260637#39260637", "title": "Inspecting Python Objects", "body": "<p>Start with <a href=\"https://docs.python.org/3/library/functions.html#help\" rel=\"noreferrer\">help</a>: <code>help(rx[0])</code></p>\n\n<pre><code># example python object\nclass Employee:\n    \"\"\"Common base class for all employees.\"\"\"\n    empCount = 0\n\n\nhelp(Employee)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Help on class Employee in module __main__:\n\nclass Employee(builtins.object)\n |  Common base class for all employees.\n |  \n |  Data descriptors defined here:\n |  \n |  __dict__\n |      dictionary for instance variables (if defined)\n |  \n |  __weakref__\n |      list of weak references to the object (if defined)\n |  \n |  ----------------------------------------------------------------------\n |  Data and other attributes defined here:\n |  \n |  empCount = 0\n</code></pre>\n\n<p>If that's not enough info check out the <a href=\"https://docs.python.org/3/library/inspect.html\" rel=\"noreferrer\">inspect module</a>.</p>\n\n<p>Inspect has a lot of methods that might be useful, like <strong>getmembers</strong> and <strong>getdoc</strong>:</p>\n\n<pre><code>import inspect\n\ninspect.getdoc(Employee)  # 'Common base class for all employees.'\n\nfor name, data in inspect.getmembers(Employee):\n    if name == '__builtins__':\n        continue\n    print('%s :' % name, repr(data))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>__class__ : &lt;class 'type'&gt;\n__delattr__ : &lt;slot wrapper '__delattr__' of 'object' objects&gt;\n__dict__ : mappingproxy({'__module__': '__main__', '__dict__': &lt;attribute '__dict__' of 'Employee' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Employee' objects&gt;, 'empCount': 0, '__doc__': 'Common base class for all employees.'})\n__dir__ : &lt;method '__dir__' of 'object' objects&gt;\n__doc__ : 'Common base class for all employees.'\n__eq__ : &lt;slot wrapper '__eq__' of 'object' objects&gt;\n__format__ : &lt;method '__format__' of 'object' objects&gt;\n__ge__ : &lt;slot wrapper '__ge__' of 'object' objects&gt;\n__getattribute__ : &lt;slot wrapper '__getattribute__' of 'object' objects&gt;\n__gt__ : &lt;slot wrapper '__gt__' of 'object' objects&gt;\n__hash__ : &lt;slot wrapper '__hash__' of 'object' objects&gt;\n__init__ : &lt;slot wrapper '__init__' of 'object' objects&gt;\n__le__ : &lt;slot wrapper '__le__' of 'object' objects&gt;\n__lt__ : &lt;slot wrapper '__lt__' of 'object' objects&gt;\n__module__ : '__main__'\n__ne__ : &lt;slot wrapper '__ne__' of 'object' objects&gt;\n__new__ : &lt;built-in method __new__ of type object at 0x108a69d20&gt;\n__reduce__ : &lt;method '__reduce__' of 'object' objects&gt;\n__reduce_ex__ : &lt;method '__reduce_ex__' of 'object' objects&gt;\n__repr__ : &lt;slot wrapper '__repr__' of 'object' objects&gt;\n__setattr__ : &lt;slot wrapper '__setattr__' of 'object' objects&gt;\n__sizeof__ : &lt;method '__sizeof__' of 'object' objects&gt;\n__str__ : &lt;slot wrapper '__str__' of 'object' objects&gt;\n__subclasshook__ : &lt;built-in method __subclasshook__ of type object at 0x7faa994086e8&gt;\n__weakref__ : &lt;attribute '__weakref__' of 'Employee' objects&gt;\nempCount : 0\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 1985211, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/eb5ac36b7bf3e0ac1d494423b48ae907?s=128&d=identicon&r=PG", "display_name": "Darcy", "link": "https://stackoverflow.com/users/1985211/darcy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1472695603, "creation_date": 1472685161, "last_edit_date": 1472695603, "question_id": 39260407, "link": "https://stackoverflow.com/questions/39260407/inspecting-python-objects", "title": "Inspecting Python Objects", "body": "<p>I am looking at a code given to me by a co-worker who no longer works with us.</p>\n\n<p>I have a list variable called rx.</p>\n\n<pre><code>&gt;&gt; type(rx)\n\ntype 'list'\n</code></pre>\n\n<p>When I go to look inside rx[0] I get this:</p>\n\n<pre><code>&gt;&gt; rx[0]\n\n&lt;Thing.thing.stuff.Rx object at 0x10e1e1c10&gt;\n</code></pre>\n\n<p>Can anyone translate what this means? And, more importantly, how can I see what is inside this object within the rx list?</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "python-3.x", "urllib", "http.client"], "comments": [{"owner": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "edited": false, "score": 0, "creation_date": 1472684354, "post_id": 39260276, "comment_id": 65856475, "body": "you should be setting your debug level on HTTPConnection, not on response"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1472684546, "post_id": 39260276, "comment_id": 65856535, "body": "And you should use <code>urllib2.urlopen()</code> since <code>urllib</code> got deprecated in Python3: <a href=\"https://docs.python.org/2/library/urllib.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/urllib.html</a>"}, {"owner": {"reputation": 524, "user_id": 825343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94252da54e33442a1b9122da734150ac?s=128&d=identicon&r=PG", "display_name": "Jakub", "link": "https://stackoverflow.com/users/825343/jakub"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1496778925, "post_id": 39260276, "comment_id": 75797290, "body": "@alfasin That&#39;s wrong per your own link: &quot;Also note that the urllib.request.urlopen() function in Python 3 is equivalent to urllib2.urlopen() and that urllib.urlopen() has been removed.&quot;"}, {"owner": {"reputation": 524, "user_id": 825343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94252da54e33442a1b9122da734150ac?s=128&d=identicon&r=PG", "display_name": "Jakub", "link": "https://stackoverflow.com/users/825343/jakub"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1496779410, "post_id": 39260276, "comment_id": 75797549, "body": "@alfasin That&#39;s exactly what I&#39;m saying, you&#39;re not reading that correctly. It&#39;s saying &quot;the urllib.request.urlopen() function in Python 3 is equivalent to urllib2.urlopen() [in Python 2] and that urllib.urlopen() has been removed [from Python 3].&quot; <code>urllib</code> is absolutely still in python (see: <a href=\"https://docs.python.org/3.6/library/urllib.html\" rel=\"nofollow noreferrer\">docs.python.org/3.6/library/urllib.html</a>) and <code>urllib2</code> isn&#39;t a module in Python 3."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 524, "user_id": 825343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94252da54e33442a1b9122da734150ac?s=128&d=identicon&r=PG", "display_name": "Jakub", "link": "https://stackoverflow.com/users/825343/jakub"}, "edited": false, "score": 0, "creation_date": 1496781260, "post_id": 39260276, "comment_id": 75798554, "body": "@Jakub you&#39;re right - my bad!"}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3382962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1555161369/picture?type=large", "display_name": "William234234", "link": "https://stackoverflow.com/users/3382962/william234234"}, "edited": false, "score": 0, "creation_date": 1472686068, "post_id": 39260376, "comment_id": 65856920, "body": "It gives the debug output shown in the question when I run the python code on my laptop.  I checked the docs you link.  urllib got split into urllib.request, urllib.parse, and urllib.error.  It seems that urllib2 is actually deprecated."}], "tags": [], "owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "is_accepted": false, "score": 2, "last_activity_date": 1496781322, "last_edit_date": 1496781322, "creation_date": 1472684951, "answer_id": 39260376, "question_id": 39260276, "link": "https://stackoverflow.com/questions/39260276/getting-http-debug-info/39260376#39260376", "title": "getting http debug info", "body": "<p>The final command should not give any output, what you probably want is:</p>\n\n<pre><code>print(response.read())\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 3382962, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1555161369/picture?type=large", "display_name": "William234234", "link": "https://stackoverflow.com/users/3382962/william234234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496781322, "creation_date": 1472684156, "question_id": 39260276, "link": "https://stackoverflow.com/questions/39260276/getting-http-debug-info", "title": "getting http debug info", "body": "<p>I'm going through Dive into Python3.  When I get to the chapter on http web services section 14.4, I can't seem to duplicate the following output in the python3 shell.  Here's what the sample code looks like:</p>\n\n<pre><code>from http.client import HTTPConnection\nHTTPConnection.debuglevel = 1\nfrom urllib.request import urlopen\nresponse = urlopen('http://diveintopython3.org/examples/feed.xml')\n\nsend: b'GET /examples/feed.xml HTTP/1.1\nHost: diveintopython3.org\nAccept-Encoding: identity\nUser-Agent: Python-urllib/3.1'\nConnection: close\nreply: 'HTTP/1.1 200 OK'\n\u2026further debugging information omitted\u2026\n</code></pre>\n\n<p>When I enter this in ipython3, the final command gives no output.  So why am I not getting the debug info in the example?  After entering the above code, response.debuglevel == 0.  I'm using python3.5.2.</p>\n"}, {"tags": ["python", "cuda", "shared-libraries", "caffe", "cudnn"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1472687434, "post_id": 39260247, "comment_id": 65857246, "body": "You have CUDA 7.5 installed and the software you are trying to run is linked against CUDA 7.0.  You can either install CUDA 7.0 on your machine and direct your software to use that via environment variables, or you can rebuild the software you are trying to run against CUDA 7.5"}, {"owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1472688162, "post_id": 39260247, "comment_id": 65857445, "body": "I had built the software with CUDA7.5 too"}], "answers": [{"tags": [], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "is_accepted": true, "score": 1, "last_activity_date": 1472688121, "creation_date": 1472688121, "answer_id": 39260794, "question_id": 39260247, "link": "https://stackoverflow.com/questions/39260247/faster-rcnnlibcudart-so-7-0-cannot-open-shared-object-file-no-such-file-or-di/39260794#39260794", "title": "Faster RCNN:libcudart.so.7.0: cannot open shared object file: No such file or directory", "body": "<p>While not a neat solution, I ended up changing the paths to use CUDA 7.0. For whatever reason, seems Faster RCNN currently is not compatible with CUDA 7.5 on Ubuntu 14.04. On Ubuntu 15.10 I had it work with CUDA7.5 with the same exact settings!!!!</p>\n"}, {"tags": [], "owner": {"reputation": 741, "user_id": 5635517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd3488a4085617244c0f5e1a08e2a221?s=128&d=identicon&r=PG&f=1", "display_name": "Jayant Agrawal", "link": "https://stackoverflow.com/users/5635517/jayant-agrawal"}, "is_accepted": false, "score": 1, "last_activity_date": 1472811732, "creation_date": 1472811732, "answer_id": 39290077, "question_id": 39260247, "link": "https://stackoverflow.com/questions/39260247/faster-rcnnlibcudart-so-7-0-cannot-open-shared-object-file-no-such-file-or-di/39290077#39290077", "title": "Faster RCNN:libcudart.so.7.0: cannot open shared object file: No such file or directory", "body": "<p>Try This: Worked for me.</p>\n\n<pre><code>export LD_LIBRARY_PATH=/usr/local/cuda/lib64/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8146968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/335ae5277499420a3b29de80f8993642?s=128&d=identicon&r=PG&f=1", "display_name": "Yexun Zhang", "link": "https://stackoverflow.com/users/8146968/yexun-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1516966425, "creation_date": 1516966425, "answer_id": 48460569, "question_id": 39260247, "link": "https://stackoverflow.com/questions/39260247/faster-rcnnlibcudart-so-7-0-cannot-open-shared-object-file-no-such-file-or-di/48460569#48460569", "title": "Faster RCNN:libcudart.so.7.0: cannot open shared object file: No such file or directory", "body": "<p>A solution may be changing the CUDA_PATH to be your true cuda path in the make.sh file.</p>\n"}], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 39260794, "answer_count": 3, "score": -1, "last_activity_date": 1516966425, "creation_date": 1472683985, "question_id": 39260247, "link": "https://stackoverflow.com/questions/39260247/faster-rcnnlibcudart-so-7-0-cannot-open-shared-object-file-no-such-file-or-di", "title": "Faster RCNN:libcudart.so.7.0: cannot open shared object file: No such file or directory", "body": "<p>I get the following error when I run the demo from <a href=\"https://github.com/rbgirshick/py-faster-rcnn/tree/master\" rel=\"nofollow\">https://github.com/rbgirshick/py-faster-rcnn/tree/master</a> and all the other steps before demo has been done successfully:</p>\n\n<pre><code>mona@pascal:~/computer_vision/py-faster-rcnn$ ./tools/demo.py\nTraceback (most recent call last):\n  File \"./tools/demo.py\", line 18, in &lt;module&gt;\n   m from fast_rcnn.test import im_detect\n  File \"/home/mona/computer_vision/py-faster-rcnn/tools/../lib/fast_rcnn/test.py\", line 17, in &lt;module&gt;\n    from fast_rcnn.nms_wrapper import nms\n  File \"/home/mona/computer_vision/py-faster-rcnn/tools/../lib/fast_rcnn/nms_wrapper.py\", line 9, in &lt;module&gt;\n    from nms.gpu_nms import gpu_nms\nImportError: libcudart.so.7.0: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>I have the following system settings:</p>\n\n<pre><code>CuDNN V4\n$ nvcc --version\nnvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2015 NVIDIA Corporation\nBuilt on Tue_Aug_11_14:27:32_CDT_2015\nCuda compilation tools, release 7.5, V7.5.17\n$ uname -a\nLinux pascal 3.13.0-62-generic #102-Ubuntu SMP Tue Aug 11 14:29:36 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n$ lspci | grep -i nvidia\n03:00.0 3D controller: NVIDIA Corporation GK110BGL [Tesla K40c] (rev a1)\n83:00.0 3D controller: NVIDIA Corporation GK110BGL [Tesla K40c] (rev a1)\n$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.04.5 LTS\nRelease:    14.04\nCodename:   trusty\n$ gcc --version\ngcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4\nCopyright (C) 2013 Free Software Foundation, Inc.\nThis is free software; see the source for copying conditions.  There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n</code></pre>\n\n<p>What is the issue and how can it be solved?</p>\n"}, {"tags": ["python", "session", "flask", "wtforms", "flask-wtforms"], "comments": [{"owner": {"reputation": 2201, "user_id": 3521179, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03e5137ca08082f2d28fe28ec0a7745b?s=128&d=identicon&r=PG", "display_name": "Nolan Conaway", "link": "https://stackoverflow.com/users/3521179/nolan-conaway"}, "edited": false, "score": 0, "creation_date": 1521422542, "post_id": 39260241, "comment_id": 85709412, "body": "I just ended up having to clear my cookies. Could be a quick fix for others reading this."}], "answers": [{"tags": [], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "is_accepted": true, "score": 7, "last_activity_date": 1472705745, "creation_date": 1472705745, "answer_id": 39262931, "question_id": 39260241, "link": "https://stackoverflow.com/questions/39260241/flask-wtf-csrf-token-missing/39262931#39262931", "title": "Flask-WTF: CSRF token missing", "body": "<p>I figured it out.  It appears to be a cookie/session limit (which probably beyond Flask's control) and a silent discarding of session variables when the limit is hit (which seems more like a bug).</p>\n\n<p>Here's an example:</p>\n\n<p><strong>templates/hello.html</strong></p>\n\n<pre><code>&lt;p&gt;{{ message|safe }}&lt;/p&gt;\n&lt;form name=\"loginform\" method=\"POST\"&gt;\n  {{ form.hidden_tag() }}\n  {{ form.submit_button() }}\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>myapp.py</strong></p>\n\n<pre><code>from flask import Flask, make_response, render_template, session\nfrom flask_restful import Resource, Api\nfrom flask_wtf import csrf, Form\nfrom wtforms import SubmitField\n\napp = Flask(__name__)\napp.secret_key = '5accdb11b2c10a78d7c92c5fa102ea77fcd50c2058b00f6e'\napi = Api(app)\n\nnum_elements_to_generate = 500\n\nclass HelloForm(Form):\n    submit_button = SubmitField('Submit This Form')\n\nclass Hello(Resource):\n    def check_session(self):\n        if session.get('big'):\n            message = \"session['big'] contains {} elements&lt;br&gt;\".format(len(session['big']))\n        else:\n            message = \"There is no session['big'] set&lt;br&gt;\"\n        message += \"session['secret'] is {}&lt;br&gt;\".format(session.get('secret'))\n        message += \"session['csrf_token'] is {}&lt;br&gt;\".format(session.get('csrf_token'))\n        return message\n\n    def get(self):\n        myform = HelloForm()\n        session['big'] = list(range(num_elements_to_generate))\n        session['secret'] = \"A secret phrase!\"\n        csrf.generate_csrf()\n        message = self.check_session()\n        return make_response(render_template(\"hello.html\", message=message, form=myform), 200, {'Content-Type': 'text/html'})\n\n    def post(self):\n        csrf.generate_csrf()\n        message = self.check_session()\n        return make_response(\"&lt;p&gt;This is the POST result page&lt;/p&gt;\" + message, 200, {'Content-Type': 'text/html'})\n\napi.add_resource(Hello, '/')\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>Run this with <code>num_elements_to_generate</code> set to 500 and you'll get something like this:</p>\n\n<pre><code>session['big'] contains 500 elements\nsession['secret'] is 'A secret phrase!'\nsession['csrf_token'] is a6acb57eb6e62876a9b1e808aa1302d40b44b945\n</code></pre>\n\n<p>and a \"Submit This Form\" button.  Click the button, and you'll get:</p>\n\n<pre><code>This is the POST result page\nsession['big'] contains 500 elements\nsession['secret'] is 'A secret phrase!'\nsession['csrf_token'] is a6acb57eb6e62876a9b1e808aa1302d40b44b945\n</code></pre>\n\n<p>All well and good.  But now change <code>num_elements_to_generate</code> to 3000, clear your cookies, rerun the app and access the page.  You'll get something like:</p>\n\n<pre><code>session['big'] contains 3000 elements\nsession['secret'] is 'A secret phrase!'\nsession['csrf_token'] is 709b239857fd68a4649deb864868897f0dc0a8fd\n</code></pre>\n\n<p>and a \"Submit This Form\" button.  Click the button, and this time you'll get:</p>\n\n<pre><code>This is the POST result page\nThere is no session['big'] set\nsession['secret'] is 'None'\nsession['csrf_token'] is 13553dce0fbe938cc958a3653b85f98722525465\n</code></pre>\n\n<p>3,000 digits stored in the session variable is too much, so the session variables do not persist between requests.  Interestingly they DO exist in the session on the first page (no matter how many elements you generate), but they will not survive to the next request.  And Flask-WTF, since it does not see a <code>csrf_token</code> in the session when the form is posted, generates a new one.  If this was a form validation step, the CSRF validation would fail.</p>\n\n<p>This seems to be a known Flask (or Werkzeug) bug, <a href=\"https://github.com/pallets/werkzeug/pull/780\" rel=\"noreferrer\">with a pull request here</a>.  I'm not sure why Flask isn't generating a warning here - unless it is somehow technically unfeasible, it's an unexpected and unpleasant surprise that it is silently failing to keep the session variables when the cookie is too big.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9306757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ceb5b8533cd6f4d64c3c59b57945681?s=128&d=identicon&r=PG&f=1", "display_name": "Benson Mathew", "link": "https://stackoverflow.com/users/9306757/benson-mathew"}, "is_accepted": false, "score": 0, "last_activity_date": 1613146751, "creation_date": 1613146751, "answer_id": 66175342, "question_id": 39260241, "link": "https://stackoverflow.com/questions/39260241/flask-wtf-csrf-token-missing/66175342#66175342", "title": "Flask-WTF: CSRF token missing", "body": "<p>Instead of going through the long process mentioned above just add the following jinja code <code>{{ form.csrf_token }}</code> to the html side of the form and that should take care of the &quot;CSRF token missing&quot; error. So on the HTML side it would look something like this:</p>\n<pre><code>&lt;form action=&quot;{{url_for('signup')}}&quot; method=&quot;POST&quot;&gt;\n    {{ form.csrf_token }}\n\n&lt;fieldset class=&quot;name&quot;&gt;\n    {{ form.name.label}}\n    {{ form.name(placeholder='John Doe')}}\n&lt;/fieldset&gt;\n.\n.\n.\n{{ form.submit()}}\n</code></pre>\n"}], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10281, "favorite_count": 3, "accepted_answer_id": 39262931, "answer_count": 2, "score": 7, "last_activity_date": 1613146751, "creation_date": 1472683964, "last_edit_date": 1495535384, "question_id": 39260241, "link": "https://stackoverflow.com/questions/39260241/flask-wtf-csrf-token-missing", "title": "Flask-WTF: CSRF token missing", "body": "<p>What seemed like a simple bug - a form submission that won't go through due to a \"CSRF token missing\" error - has turned into a day of hair pulling.  I have gone through every SO article related to Flask or Flask-WTF and missing CSRF tokens, and nothing seems to be helping.  </p>\n\n<p>Here are the details:</p>\n\n<p>Following <a href=\"https://stackoverflow.com/a/21501593/5578714\" title=\"Martijin&#39;s guidelines\">Martijin's guidelines</a> to an earlier question:</p>\n\n<blockquote>\n  <p>The Flask-WTF CSRF infrastructure rejects a token if:</p>\n  \n  <p>1) the token is missing. Not the case here, you can see the token in the form.</p>\n</blockquote>\n\n<p>The token is definitely present in my form, and being POST'ed successfully</p>\n\n<blockquote>\n  <p>2) it is too old (default expiration is set to 3600 seconds, or an hour).\n  Set the TIME_LIMIT attribute on forms to override this. Probably not the \n  case here.</p>\n</blockquote>\n\n<p>Also OK for me - the token is well within the default expiration time </p>\n\n<blockquote>\n  <p>3) if no 'csrf_token' key is found in the current session. You can \n  apparently see the session token, so that's out too.</p>\n</blockquote>\n\n<p>In my case, session['csrf_token'] is properly set and seen by Flask</p>\n\n<blockquote>\n  <p>4) If the HMAC signature doesn't match; the signature is based on the\n  random value set in the session under the 'csrf_token' key, the\n  server-side secret, and the expiry timestamp in the token.</p>\n</blockquote>\n\n<p><strong>This is my problem</strong>.  The HMAC comparison between the submitted form's CSRF and the session CSRF fails.  And yet I don't know how to solve it.  I've been desperate enough (as with the other questioner) to dig into Flask-WTF code and set debugging messages to find out what's going on.  As best I can tell, it's working like this:</p>\n\n<p>1) <code>generate_csrf_token()</code> in \"form.py\" (Flask-WTF) wants to generates a CSRF token.  So it calls:</p>\n\n<p>2) <code>generate_csrf()</code> in \"csrf.py\".  That function generates a new session['csrf_token'] if one does not exist.  <strong>In my case, this always happens</strong> - although other session variables appear to persist between requests, my debugging shows that I <strong>never</strong> have a 'csrf_token' in my session at the start of a request.  Is this normal?</p>\n\n<p>3) The generated token is returned and presumably incorporated into the form variable when I render hidden fields on the template.  (again, debugging shows that this token is present in the form and properly submitted and received)</p>\n\n<p>4) Next, the form is submitted.</p>\n\n<p>5) Now, <code>validate_csrf</code> in csrf.py is called.  But since another request has taken place, and generate_csrf() has generated a new session CSRF token, the two timestamps for the two tokens (in session and from the form) will not match.  And since the CSRF is made up in part by expiration dates, therefore validation fails.</p>\n\n<p>I suspect the problem is in step #2, where a new token is being generated for every request.  But I have no clue why <strong>other</strong> variables in my session are persisting from request to request, but not \"csrf_token\".</p>\n\n<p>There is no weirdness going on with SECRET_KEY or WTF_CSRF_SECRET_KEY either (they are properly set).</p>\n\n<p>Anyone have any ideas?</p>\n"}, {"tags": ["python", "pytest", "allure"], "comments": [{"owner": {"reputation": 1276, "user_id": 5592286, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206549768696733/picture?type=large", "display_name": "Max Voitko", "link": "https://stackoverflow.com/users/5592286/max-voitko"}, "edited": false, "score": 0, "creation_date": 1503419945, "post_id": 39260159, "comment_id": 78603938, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36260895/pytest-allure-how-to-generate-testcase-description\">Pytest/Allure - How to generate testcase description?</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1472763212, "post_id": 39268514, "comment_id": 65895753, "body": "Thanks for the info; I am OK if they are not there; since I can assign names and descriptions as you mentioned, using pytest.  Allure is a nice framework;I just find a bit hard to adapt tutorials made for JS, into something that works on Python, but it is understandable, considering that most of the work done with web is actually done via JS, not much with python :)"}, {"owner": {"reputation": 340, "user_id": 8808983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sJGi.jpg?s=128&g=1", "display_name": "Rea Haas", "link": "https://stackoverflow.com/users/8808983/rea-haas"}, "edited": false, "score": 0, "creation_date": 1578844521, "post_id": 39268514, "comment_id": 105563428, "body": "Hey, is it possibly to set the test name by a parameter? That is given from parameterized?"}], "tags": [], "owner": {"reputation": 531, "user_id": 853937, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b16cb4aeb41426c7dfa0877b41566744?s=128&d=identicon&r=PG", "display_name": "pupssman", "link": "https://stackoverflow.com/users/853937/pupssman"}, "is_accepted": true, "score": 1, "last_activity_date": 1472724162, "creation_date": 1472724162, "answer_id": 39268514, "question_id": 39260159, "link": "https://stackoverflow.com/questions/39260159/allure-with-pytest-no-decorators-for-title-and-description/39268514#39268514", "title": "Allure with Pytest: no decorators for Title and Description", "body": "<p>author of <code>allure-python</code> here.</p>\n\n<p>You are right, there are no such decorators as <code>description</code> or <code>title</code>.\nThe reason is <code>allure-python</code> collects test title and description from the <code>pytest</code>'s native means -- for bare python tests the are collected from test function title and docstring respectively.</p>\n\n<p>Overally, <code>allure-python</code> is not a 1-to-1 port of Java version of allure but instead an adaptor to convert <code>pytest</code>'s own structures and means for allure report generation. Historically, only those parts of allure that are missing from native pytest (like steps) are implemented explicitly.</p>\n\n<p>However, if you would feel more comfortable with those decorators feel free to open a pull request to add their implementation.</p>\n\n<p>Best, Ivan.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 0, "accepted_answer_id": 39268514, "answer_count": 1, "score": 3, "last_activity_date": 1564656857, "creation_date": 1472683541, "last_edit_date": 1564656857, "question_id": 39260159, "link": "https://stackoverflow.com/questions/39260159/allure-with-pytest-no-decorators-for-title-and-description", "title": "Allure with Pytest: no decorators for Title and Description", "body": "<p>I did try to use these decorators in a test, but the compiler has issues because the decorators for both the Title and Description are not recognized.</p>\n\n<p>I did use</p>\n\n<pre><code>@allure.feature(\"feature1\")\n@allure.story(\"story1\")\n</code></pre>\n\n<p>Without issues, but </p>\n\n<pre><code>@allure.description(\"test\")\n@allure.title(\"The test title\")\n</code></pre>\n\n<p>does not exist. Is this a limitation of the python port of the allure tool? The documentation does not mention that there is neither a description nor a title decorator, but the Allure page shows that these are in fact legit commands that you can use for Allure.</p>\n\n<p>My assumption was that the porting of Allure for Python would include everything; but I start to think that probably it has only the basics, like the story, step and such.</p>\n"}, {"tags": ["python", "css", "web", "scrapy", "web-crawler"], "comments": [{"owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "edited": false, "score": 0, "creation_date": 1472712271, "post_id": 39260143, "comment_id": 65863925, "body": "First thing I&#39;ve noticed is that you&#39;re using <code>self.found_media</code> to control the spider state. What your approach should be with an asynchronious system is to just keep going till you find something and then raise <code>CloseSpider</code> to end."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5340714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37108797dfe884bd1aebfde8dbc90ea5?s=128&d=identicon&r=PG&f=1", "display_name": "twsp", "link": "https://stackoverflow.com/users/5340714/twsp"}, "edited": false, "score": 0, "creation_date": 1473806131, "post_id": 39266767, "comment_id": 66279043, "body": "I know it&#39;s been almost two weeks since I posted this, but I took a short break from this project as school started, and was wondering if you could offer a little more advice. I&#39;m not sure I understand how pipelines work completely, and am trying to reverse the way this code works, so that instead of the .json file containing all the websites that do contain @media tags, it would contain all the sites that do not.  Would this be an easy fix, or would something like cross referencing the list of sites in the json file with a list of all the sites be necessary to find the remaining ones?"}, {"owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "reply_to_user": {"reputation": 21, "user_id": 5340714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37108797dfe884bd1aebfde8dbc90ea5?s=128&d=identicon&r=PG&f=1", "display_name": "twsp", "link": "https://stackoverflow.com/users/5340714/twsp"}, "edited": false, "score": 0, "creation_date": 1473843249, "post_id": 39266767, "comment_id": 66290719, "body": "@twsp if you want to retrieve all websites that do not contain the media match just change <code>if media_match:</code> line to <code>if not media_match:</code>!"}], "tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": false, "score": 1, "last_activity_date": 1472719537, "creation_date": 1472719537, "answer_id": 39266767, "question_id": 39260143, "link": "https://stackoverflow.com/questions/39260143/scrapy-not-executing-in-the-correct-order/39266767#39266767", "title": "Scrapy not executing in the correct order", "body": "<p>I skimed through and couldn't help but make this work. This is fully cleaned up code.\nVery little has changed in terms of logic. \nWhat it does right now is:</p>\n\n<ol>\n<li>Connect to the website</li>\n<li>Get all categories</li>\n<li>Get all websites from categories</li>\n<li>Connect to first page of every website</li>\n<li>Look for <code>.css</code> links</li>\n<li>Connect to <code>.css</code> links\n6.1 If <code>media</code> regex matches yield item with css url and item</li>\n</ol>\n\n<p>The only problem here is because of asynchronious nature of scrapy you end up with lots of duplicates since you might crawl multiple .css files at the time. For that we can use simple pipeline to detect and drop duplicates. \nFor future reference you shouldn't debug with file writes. Take a look at scrapy shell, you can even use it inside of <code>parse</code> to open up shell during the crawl like:</p>\n\n<pre><code>def parse(self, response):\n    inspect_response(response, self)\n</code></pre>\n\n<p>Here's the working spider:</p>\n\n<pre><code>import re\nfrom scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.exceptions import DropItem\nfrom scrapy.linkextractors import LinkExtractor\nfrom twisted.internet.error import TimeoutError\nfrom scrapy import Request\n\n\nclass DupePipeline(object):\n    def __init__(self):\n        self.known_websites = set()\n\n    def process_item(self, item, spider):\n        if item['website'] in self.known_websites:\n            raise DropItem('duplicate')\n        self.known_websites.add(item['website'])\n        return item\n\n\nclass LCCISpider(CrawlSpider):\n    name = \"lcci\"\n    start_urls = [\"http://www.lancasterchamber.com/busdirectory.aspx?mode=category\"]\n    custom_settings = {\n        'ROBOTSTXT_OBEY': False,\n        'ITEM_PIPELINES': {\n            'myproject.spiders.spider.DupePipeline': 666,\n        }\n    }\n    # Calls parse_item for every category link on main page\n    rules = (Rule(LinkExtractor(restrict_xpaths=['//div[@id=\"catListingResults\"]/table/tr']),\n                  callback='parse_item', follow=True),)  # why follow?\n\n    # Called for each category\n    def parse_item(self, response):\n        # For each site on the page, calls parse_website\n        sites = response.xpath('//div[@id=\"busListingResults\"]/table/tr')\n        for site in sites:\n            urls = site.xpath('.//td/a[4]/@href').extract()\n            for url in urls:\n                if not url:\n                    continue\n                new_site = response.urljoin(url)\n                yield Request(new_site,\n                              callback=self.parse_website,\n                              errback=self.errback_website)\n\n    def parse_website(self, response):\n        # for every link in the header, check potential css for @media tag\n        for href in response.css(\"head &gt; link::attr('href')\").extract():\n            if not href.endswith('.css'):  # only css files\n                continue\n            yield Request(response.urljoin(href),\n                          meta={'website': response.url},\n                          callback=self.check_css,\n                          errback=self.errback_website)\n\n    def check_css(self, response):\n        media_match = re.search(r'@media', response.body, flags=0)\n        if media_match:\n            # return item!\n            yield {'url': response.url,\n                   'website': response.meta['website']}\n\n    def errback_website(self, failure):\n        if failure.check(TimeoutError):\n            request = failure.request\n            self.logger.error = ('TimeoutError on %s', request.url)\n</code></pre>\n\n<p>Results after runing for few minutes with <code>scrapy crawl lcci -o test.json</code> I got this: <a href=\"http://pastebin.com/raw/kfsTKqUY\" rel=\"nofollow\">http://pastebin.com/raw/kfsTKqUY</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5340714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37108797dfe884bd1aebfde8dbc90ea5?s=128&d=identicon&r=PG&f=1", "display_name": "twsp", "link": "https://stackoverflow.com/users/5340714/twsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472719537, "creation_date": 1472683453, "question_id": 39260143, "link": "https://stackoverflow.com/questions/39260143/scrapy-not-executing-in-the-correct-order", "title": "Scrapy not executing in the correct order", "body": "<p>I am currently working on a web-crawler that is supposed to visit a list of websites in a directory, visit the sites' CSS stylesheets, check for an @media tag (a basic way of checking for responsive design, I know there are other corner cases to consider), and print all websites that do not use responsive design to a file.</p>\n\n<p>I am fairly certain that my method of actually checking the CSS for an @media tag works fine, but the spider is not visiting all the CSS files before deciding whether or not it has found one with an @media tag. I have a test file that logs debugging output as the program progresses, and it shows odd patterns such as finishing checking all CSS files and then printing out what it found in the files, which shouldn't happen.</p>\n\n<p>I was hoping someone could look at my code and help me determine why this isn't happening in the order I want it to.  For reference, the goal is:</p>\n\n<ol>\n<li>Visit a website from the list</li>\n<li>Visit every CSS file in the head element of that site's HTML</li>\n<li>If an @media tag is found, we're done and the site uses responsive design</li>\n<li>If not, continue checking more CSS files</li>\n<li>If no CSS file contains an @media tag, the site does not use responsive design and should be added to the list</li>\n</ol>\n\n<p>Here's my code (not everything works perfectly - for example, the program times out because I haven't worked out using TimeOutError yet, but for the most part, I feel like this should do it's job of correctly evaluating websites, and it is not doing that):</p>\n\n<pre><code>import scrapy\nimport re\nimport os.path\nfrom scrapy.linkextractors import LinkExtractor\nfrom scrapy.contrib.spiders import CrawlSpider, Rule\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor\nfrom twisted.internet.error import TimeoutError\nimport time\n\nclass LCCISpider(CrawlSpider):\n    name = \"lcci\"\n    start_urls = [\"http://www.lancasterchamber.com/busdirectory.aspx?mode=category\"]\n    #Calls parse_item for every category link on main page\n    rules = (Rule(SgmlLinkExtractor(restrict_xpaths=('//div[@id=\"catListingResults\"]/table/tr')), \n            callback = 'parse_item', follow = True),)\n    website_list = []\n    found_media = False\n\n    #Called for each category\n    def parse_item(self, response):\n        #For each site on the page, calls parse_website\n\n\n        sites = response.xpath('//div[@id=\"busListingResults\"]/table/tr')\n        for site in sites:\n            urls = site.xpath('.//td/a[4]/@href').extract()\n            for url in urls:\n                if len(url) == 0:\n                    continue\n                else:\n                    new_site = response.urljoin(url)\n                    yield scrapy.Request(new_site, callback=self.parse_website,\n                                                    errback=self.errback_website)\n\n\n\n\n    def parse_website(self, response):\n\n        f = open('output2.txt', 'a')\n        f.write(\"NOW VISITING\")\n        f.flush()\n        f.write(response.url)\n        f.flush()\n        f.write(\"\\n\")\n        f.flush()\n        f.close()\n        #reset found_media to false for each website\n        self.found_media = False\n        #for every link in the header, check potential css for @media tag\n        for href in response.css(\"head &gt; link::attr('href')\"):\n            url = response.urljoin(href.extract())\n            #if @media tag has not been found, continue checking css\n            if self.found_media == False:\n                #Call check_css for the url of the css file\n                yield scrapy.Request(url, callback=self.check_css,\n                                          errback=self.errback_website)\n\n                f = open('output2.txt', 'a')\n                f.write(\"step\\n\")\n                f.flush()\n                f.close()\n            else:\n                break\n\n        #if no @media tag is found in any link in the header, add the url to the website_list\n\n        if self.found_media == False:\n            #self.website_list.append(response.url)\n            f = open('output2.txt', 'a')\n            f.write(\"No @media tag in\")\n            f.flush()\n            f.write(response.url)\n            f.flush()\n            f.write(\"\\n\")\n            f.flush()\n            f.close()\n\n            f = open('outputfalse2.txt', 'a')\n            f.write(response.url)\n            f.write(\"\\n\")\n            f.close()\n\n        else:\n            f = open('outputtrue.txt', 'a')\n            f.write(reponse.url)\n            f.write(\"\\n\")\n            f.close()\n\n    def check_css(self, response):\n\n        #Just a way of converting url into a string, the \".txt\" is otherwise meaningless\n        string = str(response.url)\n        f = open('output2.txt', 'a')\n        f.write(\"Checking CSS in \")\n        f.write(response.url)\n        f.write(\"\\n\")\n        f.flush()\n        f.close()\n        #only perform regex search if it's a .css file\n        if (string[-4:] == \".css\"): \n            media_match = re.search(r'@media', response.body, flags=0)\n            if media_match != None:\n                f = open('output2.txt', 'a')\n                f.write(\"found @media tag in \" + response.url + \"\\n\")\n                f.flush()\n                #If an @media tag is found, set found_media to True\n                self.found_media = True\n                f.close()\n        else:\n            f = open('output2.txt', 'a')\n            f.write(\"not css\")\n            f.flush()\n            f.close()\n\n    def errback_website(self, failure):\n        if failure.check(TimeoutError):\n            request = failure.request\n            self.logger.error = ('TimeoutError on %s', request.url)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "gtk3", "pygobject", "wnck"], "answers": [{"tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 1, "last_activity_date": 1472698017, "creation_date": 1472698017, "answer_id": 39261926, "question_id": 39260134, "link": "https://stackoverflow.com/questions/39260134/adding-default-parameter-that-is-object-to-a-function-that-is-inside-a-class/39261926#39261926", "title": "Adding default parameter that is object to a function that is inside a class", "body": "<p>You're missing the reference to <code>self</code> in:</p>\n\n<pre><code>def win_close(Window,Timestamp=DTimestamp):\n    Window.close(Timestamp)\n</code></pre>\n\n<p>as a result an <code>WindowActions</code> instance is passed which doesn't define a close method and your actual selected window is passed to <code>Timestamp</code>.</p>\n\n<p>Add <code>self</code> to your method definition and that should solve it.</p>\n"}], "owner": {"reputation": 37, "user_id": 6778973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1898921e400e5ad3fed0f67c1f86a4d2?s=128&d=identicon&r=PG&f=1", "display_name": "IKRadulov", "link": "https://stackoverflow.com/users/6778973/ikradulov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 39261926, "answer_count": 1, "score": 2, "last_activity_date": 1472718853, "creation_date": 1472683414, "last_edit_date": 1472718853, "question_id": 39260134, "link": "https://stackoverflow.com/questions/39260134/adding-default-parameter-that-is-object-to-a-function-that-is-inside-a-class", "title": "Adding default parameter that is object to a function that is inside a class", "body": "<p>I am trying to make a applet for mate-panel in linux . I have to modules <code>Window.py</code> and <code>Applet.py</code>. I get this error: </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"./Applet.py\", line 37, in WindowButtonsAppletFactory\nWindowButtonsApplet(applet)\nFile \"./Applet.py\", line 23, in WindowButtonsApplet\nCloseButton.connect(\"Clicked\",WindowActions().win_close(SelectedWindow))\nFile \"WindowButtonsApplet/Window.py\", line 23, in win_close\nWindow.close(Timestamp)\nAttributeError: 'WindowActions' object has no attribute 'close'\n\n** (Applet.py:2191): WARNING **: need to free the control here\n</code></pre>\n\n<p>And I don't know why since the wnck librally has atribute named close.\nThe second thing I wan't to ask is why do I need to init the Class every time I call it .</p>\n\n<p>Here is the code from:\nApplet.py</p>\n\n<pre><code>#!/bin/env python3\n\nimport gi\nimport Window\n\ngi.require_version(\"Gtk\",\"3.0\")\ngi.require_version(\"MatePanelApplet\", \"4.0\")\n\nfrom gi.repository import Gtk\nfrom gi.repository import MatePanelApplet\nfrom Window import *\n\n\ndef WindowButtonsApplet(applet):\n\n    Box = Gtk.Box(\"Horizontal\")\n\n    CloseButton = Gtk.Button(\"x\")\n    MinButton = Gtk.Button(\"_\")\n    UmaximizeButton = Gtk.Button(\"[]\")\n\n    SelectedWindow = WindowActions().active_window()\n    CloseButton.connect(\"Clicked\",WindowActions().win_close(SelectedWindow))\n    Box.pack_start(CloseButton)\n\n    applet.add(Box)\n    applet.show_all()\n\n// Hack for transparent background\n\napplet.set_background_widget(applet)\n\ndef WindowButtonsAppletFactory(applet, iid,data):\n    if iid != \"WindowButtonsApplet\":\n        return False\n\n    WindowButtonsApplet(applet)\n\n    return True\n\n //Mate panel procedure to load the applet on panel\n\n MatePanelApplet.Applet.factory_main(\"WindowButtonsAppletFactory\", True,\n                                    MatePanelApplet.Applet.__gtype__,\n                                    WindowButtonsAppletFactory, None)\n</code></pre>\n\n<p>Window.py</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport time\nimport gi\n\ngi.require_version(\"Gtk\",\"3.0\")\ngi.require_version(\"Wnck\",\"3.0\")\n\nfrom gi.repository import Gtk\nfrom gi.repository import Wnck\n\nclass WindowActions:\n\nDefaultScreen = Wnck.Screen.get_default()\nDTimestamp = int(time.time())\n\ndef active_window(self,Screen=DefaultScreen): \n    Screen.force_update()\n    self.ActiveWindow = Screen.get_active_window()\n    return self.ActiveWindow\n\ndef win_close(Window,Timestamp=DTimestamp):\n    Window.close(Timestamp)\n\ndef win_minimize(self,Window):\n    Window.minimize()\n\ndef win_umaximize(self,Window):\n    self.Window.maximize()\n</code></pre>\n"}, {"tags": ["python", "bash", "perl"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 1, "creation_date": 1472684368, "post_id": 39260133, "comment_id": 65856477, "body": "And what have you tried so far?  This seems like a pretty simple shell scripting task.  Maybe a <code>for</code> loop?"}, {"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1472703276, "post_id": 39260133, "comment_id": 65860802, "body": "I posted the sed command I could think of. But it renames all the 1000 to 1001. However, it should be 1002 in file 1002.xml, 1003 in 1003.xml and so on."}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1472703388, "post_id": 39260362, "comment_id": 65860824, "body": "Thanks Padraic. How do I edit the file content in id, count to the file name?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1472730333, "post_id": 39260362, "comment_id": 65875644, "body": "@Metahuman,that is what the second snippet does, follow it with <code>tree.write(fle, encoding=&quot;utf-8&quot;)</code> and it will write the new data, I edited the answer."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1472731020, "post_id": 39260362, "comment_id": 65876099, "body": "Are you just wanting to replace to replace the 1000 with 1001  etc... or use the full filename?"}, {"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1472743920, "post_id": 39260362, "comment_id": 65885832, "body": "Just the number. I found out how to get it done with your solution. Thanks a lot!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1472743969, "post_id": 39260362, "comment_id": 65885865, "body": "No worries, it is just a matter of removing the extension"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1472731140, "last_edit_date": 1472731140, "creation_date": 1472684868, "answer_id": 39260362, "question_id": 39260133, "link": "https://stackoverflow.com/questions/39260133/rename-a-particular-instance-in-multiple-files-with-the-file-name/39260362#39260362", "title": "Rename a particular instance in multiple files with the file name?", "body": "<p>After deciphering your question I see you want to change actual content in the xml file i.e the id or some other node's text to the name of the file so use an xml parser like <a href=\"http://lxml.de/\" rel=\"nofollow\"><em>lxml</em></a></p>\n\n<pre><code>from  glob import iglob\nimport lxml.etree as et\n\nfor fle in iglob(\"[0-9][0-9][0-9][0-9].xml\"):\n    tree = et.parse(fle)\n    id_ = tree.find(\".//id\").text = fle\n    tree.write(fle, encoding=\"utf-8\")\n</code></pre>\n\n<p>If you want to change the count also use:</p>\n\n<pre><code> for fle in iglob(\"[0-9][0-9][0-9][0-9].xml\"):\n        tree = et.parse(fle)\n        id_, count = tree.find(\".//id\"), tree.find(\".//count\")\n        id_.text = count.text = fle\n        tree.write(fle, encoding=\"utf-8\")\n</code></pre>\n\n<p>Whatever text you want to set to the file name just look for the node with find and set the text use the <em>node.text = ...</em> logic. If you want to use the name ignoring the extension just split:</p>\n\n<pre><code>for fle in iglob(\"[0-9][0-9][0-9][0-9].xml\"):\n        tree = et.parse(fle)\n        id_, count = tree.find(\".//id\"), tree.find(\".//count\")\n        id_.text = count.text = fle.split(\".\")[0]\n        tree.write(fle, encoding=\"utf-8\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1472725835, "post_id": 39263222, "comment_id": 65872612, "body": "I&#39;m really not sure this is a good solution. It works, but.... handling XML without parsing it is pretty much always hacky at best."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1473950834, "post_id": 39263222, "comment_id": 66343994, "body": "If you know the context will always include the brokets, maybe do <code>&quot;s&#47;&gt;1000&lt;&#47;&gt;$i&lt;&#47;g&quot;</code>"}], "tags": [], "owner": {"reputation": 1440, "user_id": 6029161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fedb673e6de045bd5db6e515162a7977?s=128&d=identicon&r=PG&f=1", "display_name": "Chem-man17", "link": "https://stackoverflow.com/users/6029161/chem-man17"}, "is_accepted": false, "score": 1, "last_activity_date": 1472707297, "creation_date": 1472707297, "answer_id": 39263222, "question_id": 39260133, "link": "https://stackoverflow.com/questions/39260133/rename-a-particular-instance-in-multiple-files-with-the-file-name/39263222#39263222", "title": "Rename a particular instance in multiple files with the file name?", "body": "<p>Try your sed command in a loop-</p>\n\n<pre><code>for i in {1000..1500} #or whatever your maximum number is\ndo\nsed -i \"s/1000/\"$i\"/g\" \"$i\".xml\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1472725733, "creation_date": 1472725733, "answer_id": 39269104, "question_id": 39260133, "link": "https://stackoverflow.com/questions/39260133/rename-a-particular-instance-in-multiple-files-with-the-file-name/39269104#39269104", "title": "Rename a particular instance in multiple files with the file name?", "body": "<p>You've tagged it <code>perl</code> so here's how I'd do it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n#iterate the files. \nforeach my $xml_file ( glob \"*.xml\" ) { \n    #regex match the number for the XML. \n    my ( $file_num ) = $xml_file =~ m/(\\d+).xml/; \n    #create an XML::Twig, and set it to 'indented' output. \n    XML::Twig -&gt; new ( pretty_print =&gt; 'indented',\n          #matches elements and runs the subroutine on 'it'. ($_) is the \n          #current element in this context. \n                       twig_handlers =&gt; { 'address/id' =&gt; sub { $_ -&gt; set_text($file_num) }, \n                                          'count'      =&gt; sub { $_ -&gt; set_text($file_num) },  \n           #parsefile_inplace reads and writes back any changes to the file\n           #as it goes. \n                                        } ) -&gt; parsefile_inplace($xml_file); \n\n\n}\n</code></pre>\n\n<p>This uses <code>XML::Twig</code>, which allows you do an in place edit. It does this via the element handlers, which upon hitting a suitable match, replaces the content with the right numeric value for the file.</p>\n\n<p>I've opted to replace the defined content for <code>address/id</code> and <code>count</code>, rather than just doing straight search and replace, because then ... you don't have to worry about <code>1000</code> showing up anywhere else in the content. (Like the address). </p>\n"}], "owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "answer_count": 3, "score": -2, "last_activity_date": 1472731140, "creation_date": 1472683408, "last_edit_date": 1472703200, "question_id": 39260133, "link": "https://stackoverflow.com/questions/39260133/rename-a-particular-instance-in-multiple-files-with-the-file-name", "title": "Rename a particular instance in multiple files with the file name?", "body": "<p>I had to create about 500 copies of a xml file in the directory, which I managed to get done. As a part of the next problem is that I want to rename particular text in the file. How can I go about doing it?</p>\n\n<p>This is what I have:\n1000.xml, 1001.xml, 1002.xml...</p>\n\n<p>1000.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;addresses xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:noNamespaceSchemaLocation='test.xsd'&gt;\n&lt;address&gt;\n    &lt;name&gt;Joe Tester&lt;/name&gt;\n    &lt;street&gt;Baker street 5&lt;/street&gt;\n    &lt;id&gt;1000&lt;/id&gt;\n&lt;/address&gt;\n&lt;count&gt;1000&lt;/count&gt;\n</code></pre>\n\n<p></p>\n\n<p>Essentially, this is copied to all the other files, but with a numerical and chronological name. How do I replace this \"1000\" with the \"file name\"? So, the new file should be -\n1001.xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;addresses xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n           xsi:noNamespaceSchemaLocation='test.xsd'&gt;\n    &lt;address&gt;\n        &lt;name&gt;Joe Tester&lt;/name&gt;\n        &lt;street&gt;Baker street 5&lt;/street&gt;\n        &lt;id&gt;1001&lt;/id&gt;\n    &lt;/address&gt;\n    &lt;count&gt;1001&lt;/count&gt;\n&lt;/addresses&gt;\n</code></pre>\n\n<p>I could do only this - <code>sed -i '' -e 's/1000/1001/g' $(find . -type f)</code> which will replace all the 1000 with 1001, but not the file name.</p>\n"}, {"tags": ["python", "python-3.x", "multiprocessing"], "comments": [{"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1472682918, "post_id": 39260030, "comment_id": 65856052, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1268252/python-possible-to-share-in-memory-data-between-2-separate-processes\">Python: Possible to share in-memory data between 2 separate processes</a>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472682933, "post_id": 39260030, "comment_id": 65856055, "body": "No not unless you create the object once in another file and import it from there"}, {"owner": {"reputation": 30181, "user_id": 209629, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3784fe19d5c3d40d66ba91788f9bf007?s=128&d=identicon&r=PG", "display_name": "vz0", "link": "https://stackoverflow.com/users/209629/vz0"}, "edited": false, "score": 0, "creation_date": 1472683196, "post_id": 39260030, "comment_id": 65856138, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14124588/python-multiprocessing-shared-memory\">Python multiprocessing shared memory</a>"}, {"owner": {"reputation": 245, "user_id": 6780382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73878c1da716606a53fbb38d6447bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Deeplearningmaniac", "link": "https://stackoverflow.com/users/6780382/deeplearningmaniac"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472684212, "post_id": 39260030, "comment_id": 65856436, "body": "@PadraicCunningham, can you elaborate on this?"}], "owner": {"reputation": 245, "user_id": 6780382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73878c1da716606a53fbb38d6447bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Deeplearningmaniac", "link": "https://stackoverflow.com/users/6780382/deeplearningmaniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 754, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472682798, "creation_date": 1472682798, "question_id": 39260030, "link": "https://stackoverflow.com/questions/39260030/modifying-a-variable-of-the-parent-process-in-the-child-process-in-python", "title": "modifying a variable of the parent process in the child process in python", "body": "<p>when I define a variable on a module level, start a new subprocess and modify this variable in the child process, should the change be visible in the parent process? From my experiments, it seems that the answer is 'no' but I'm wandering if I am not missing something.</p>\n\n<p>I'm trying to do this since I need to share large volumes of memory between the parent and child processes and <code>multiprocessing.Queue</code> is way too slow for my purposes.</p>\n"}, {"tags": ["python", "html", "regex", "data-cleaning"], "comments": [{"owner": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "edited": false, "score": 3, "creation_date": 1472682703, "post_id": 39259989, "comment_id": 65855975, "body": "further reading on parsing html with regex: <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la\" title=\"why its not possible to use regex to parse html xml a formal explanation in la\">stackoverflow.com/questions/6751105/&hellip;</a>"}, {"owner": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "edited": false, "score": 0, "creation_date": 1472682847, "post_id": 39259989, "comment_id": 65856027, "body": "here&#39;s an article on using a proper html parser in python: <a href=\"http://docs.python-guide.org/en/latest/scenarios/scrape/\" rel=\"nofollow noreferrer\">docs.python-guide.org/en/latest/scenarios/scrape</a>"}, {"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 2, "creation_date": 1472683705, "post_id": 39259989, "comment_id": 65856286, "body": "Have you considered using BeautifulSoup to scrape the HTML tag contents?"}, {"owner": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "reply_to_user": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472754045, "post_id": 39259989, "comment_id": 65891463, "body": "@user2825425  I am using BeautifulSoup. That html is part of my <code>soup</code> object. So my script has this line:  <code>duns_list = soup.findAll(re.compile(&quot;this is where the regex would go&quot;))</code>  Do you know any other way I could accomplish this?"}, {"owner": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "reply_to_user": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "edited": false, "score": 0, "creation_date": 1472754882, "post_id": 39259989, "comment_id": 65891918, "body": "@danyamachine if I use lxml as the parser and say:  <code>duns = tree.xpath(&#39;&#47;&#47;span[@class=&quot;results_body_text&quot;]&#47;text()&#39;)</code> or  <code>duns_list = soup.findAll(&quot;span&quot;: {&quot;class&quot;: &quot;results_body_text&quot;})</code> in beautifulSoup.  it returns both spans in first <code>td</code> and second <code>td</code> since both have <code>class=results_body_text</code>. So it would bring back both <code>012361296</code> and <code>HELLO</code>. I only want the first result. both results have the same classes, the only difference is the text in the first <code>span</code> i.e. <code>DUNS:</code> &amp; <code>CAGE Code:</code>. I only want the results whose first <code>span</code>&#39;s text is <code>DUNS:</code> so i need another qualifier."}, {"owner": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "edited": false, "score": 0, "creation_date": 1472755295, "post_id": 39259989, "comment_id": 65892127, "body": "@tendekai if you know that your result will always be the first match for that selector, then you can refine your selector to only grab the first match. here&#39;s an SO question on selecting one of several matches: <a href=\"https://stackoverflow.com/questions/4117953/get-second-element-text-with-xpath\" title=\"get second element text with xpath\">stackoverflow.com/questions/4117953/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "edited": false, "score": 0, "creation_date": 1472753813, "post_id": 39260413, "comment_id": 65891337, "body": "I don&#39;t want just the <code>012361296</code> result. Like I said, there are multiple rows with the same structure. But the text content of the span itself can be different from <code>012361296</code>"}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "reply_to_user": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "edited": false, "score": 1, "creation_date": 1472754861, "post_id": 39260413, "comment_id": 65891902, "body": "@TendekaiMuchenje <a href=\"http://stackoverflow.com/revisions/39260413/2\">Fixed</a>"}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "reply_to_user": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "edited": false, "score": 0, "creation_date": 1472754957, "post_id": 39260413, "comment_id": 65891959, "body": "Note that you can replace <code>[\\u0000-\\uFFFF]*</code> with <code>[\\x00-\\xFF]*</code> in environments where Unicode isn&#39;t supported."}, {"owner": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "edited": false, "score": 0, "creation_date": 1472756127, "post_id": 39260413, "comment_id": 65892535, "body": "I tried your solution here: <a href=\"https://repl.it/DIrJ\" rel=\"nofollow noreferrer\">link</a> but it&#39;s throwing back an error <code>error: look-behind requires fixed-width pattern</code>"}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "reply_to_user": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "edited": false, "score": 0, "creation_date": 1472759695, "post_id": 39260413, "comment_id": 65894169, "body": "@TendekaiMuchenje <a href=\"http://stackoverflow.com/revisions/39260413/3\">What about two regexes, then?</a>"}], "tags": [], "owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1472759669, "last_edit_date": 1472759669, "creation_date": 1472685198, "answer_id": 39260413, "question_id": 39259989, "link": "https://stackoverflow.com/questions/39259989/using-regex-to-select-html-content/39260413#39260413", "title": "Using regex to select html content", "body": "<p>Use a positive lookbehind. Since positive look(ahead|behind)s aren't included in the resulting match, they come very handy in parsing stuff at specific locations.</p>\n\n<pre><code>(?&lt;=&lt;span class=\"results_title_text\"&gt;\\w*DUNS:\\w*&lt;/span&gt;\\w*)&lt;span class=\"results_body_text\"&gt;\\w*[\\u0000-\\uFFFF]*\\w*&lt;/span&gt;\n</code></pre>\n\n<p>If the existence of the lookbehind throws an error, you can just do it without a lookbehind:</p>\n\n<pre><code>&lt;span class=\"results_title_text\"&gt;\\w*DUNS:\\w*&lt;/span&gt;\\w*&lt;span class=\"results_body_text\"&gt;\\w*[\\u0000-\\uFFFF]*\\w*&lt;/span&gt;\n</code></pre>\n\n<p>and then extract exactly what you want by passing the result(s) to another regex, which is basically a subset of the above regex:</p>\n\n<pre><code>&lt;span class=\"results_body_text\"&gt;\\w*[\\u0000-\\uFFFF]*\\w*&lt;/span&gt;\n</code></pre>\n\n<p>Also, I placed <code>\\w*</code>s at points where one can put an arbitrary amount of whitespace.</p>\n"}, {"tags": [], "owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "is_accepted": false, "score": 0, "last_activity_date": 1472715312, "creation_date": 1472715312, "answer_id": 39265429, "question_id": 39259989, "link": "https://stackoverflow.com/questions/39259989/using-regex-to-select-html-content/39265429#39265429", "title": "Using regex to select html content", "body": "<p>Using pyparsing to process HTML allows you to gloss over things like unexpected whitespace, extra/missing attributes, tags in upper or lower case. Assuming you have read your HTML source into a variable <code>html</code>, this pyparsing code will extract the target value:</p>\n\n<pre><code>from pyparsing import makeHTMLTags, SkipTo\nspan,end_span = makeHTMLTags(\"span\")\n\npatt = span + 'DUNS:' + end_span + span + SkipTo(end_span)(\"results_body\") + end_span\n\nprint(patt.searchString(html)[0].results_body)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>012361296\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 1029902, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/51e15ae7e3ec98d21ac8874c2e93b9d1?s=128&d=identicon&r=PG", "display_name": "Tendekai Muchenje", "link": "https://stackoverflow.com/users/1029902/tendekai-muchenje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472759669, "creation_date": 1472682564, "last_edit_date": 1472754980, "question_id": 39259989, "link": "https://stackoverflow.com/questions/39259989/using-regex-to-select-html-content", "title": "Using regex to select html content", "body": "<p>I have a file with several instances of rows with this structure:</p>\n\n<pre><code>&lt;tr&gt;\n                  &lt;td style=\"width:25%;\"&gt;\n                     &lt;span class=\"results_title_text\"&gt;DUNS:&lt;/span&gt; &lt;span class=\"results_body_text\"&gt; 012361296&lt;/span&gt;\n                  &lt;/td&gt;\n                  &lt;td style=\"width:25%;\"&gt;\n                  &lt;/td&gt;\n                  &lt;!-- label as CAGE when US Territory is listed as Country --&gt;\n                  &lt;td style=\"width:27%;\"&gt;\n                     &lt;span class=\"results_title_text\"&gt;CAGE Code:&lt;/span&gt; &lt;span class=\"results_body_text\"&gt;HELLO&lt;/span&gt;\n                  &lt;/td&gt;\n                  &lt;td style=\"width:15%\" rowspan=\"2\"&gt;\n                     &lt;input type=\"button\" value=\"View Details\" title=\"View Details for Rascal X-Press, Inc.\" class=\"center\" style=\"height:25px; width:90px; vertical-align:middle; margin:7px 3px 7px 3px;\" onClick=\"viewEntry('4420848', '1472652382619')\" /&gt;\n                  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I want to select only those <code>&lt;span class=\"results_body_text\"&gt;</code> that are preceeded by <code>&lt;span class=\"results_title_text\"&gt;DUNS:&lt;/span&gt;</code> so in this case I would only return the span that contains <code>012361296</code> and not the one that contains <code>HELLO</code></p>\n\n<p>How can I do this using a regular expression or anything else? I have tried the \"starts with\" regex format, but I am failing to see what string I would be parsing in that case. I eventually want to parse the regex into a <code>re.compile()</code> compile function in python.</p>\n"}, {"tags": ["python", "sql", "oracle", "cx-oracle"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6780725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00e8dca4075b9c56dea711bac92ad9b?s=128&d=identicon&r=PG&f=1", "display_name": "elmon", "link": "https://stackoverflow.com/users/6780725/elmon"}, "edited": false, "score": 0, "creation_date": 1472687023, "post_id": 39260412, "comment_id": 65857159, "body": "That still wouldn&#39;t explain the real issue here \u2014 different behavior in different clients (they both are connected to the same database)."}, {"owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "reply_to_user": {"reputation": 21, "user_id": 6780725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00e8dca4075b9c56dea711bac92ad9b?s=128&d=identicon&r=PG&f=1", "display_name": "elmon", "link": "https://stackoverflow.com/users/6780725/elmon"}, "edited": false, "score": 1, "creation_date": 1472694646, "post_id": 39260412, "comment_id": 65858878, "body": "@elmon . . . Queries that return results in indeterminate order may do so when run at different times or from different environments."}, {"owner": {"reputation": 21, "user_id": 6780725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00e8dca4075b9c56dea711bac92ad9b?s=128&d=identicon&r=PG&f=1", "display_name": "elmon", "link": "https://stackoverflow.com/users/6780725/elmon"}, "edited": false, "score": 0, "creation_date": 1472716797, "post_id": 39260412, "comment_id": 65866562, "body": "Thank you for your answers. I&#39;m curious, how environment can depend on query result? Are there hidden settings/variables that affect query processing? Results are not purely random \u2014 this behavior was observed for quite a long time for different queries formed same way, and from my point of view was entirely environment-dependent. Optimizator caches his behaviour that was chosen randomly? (that was only wild guess that could make sense)."}, {"owner": {"reputation": 55575, "user_id": 103295, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1bab0ace9c953cc500a28fea281a5c55?s=128&d=identicon&r=PG", "display_name": "Jeffrey Kemp", "link": "https://stackoverflow.com/users/103295/jeffrey-kemp"}, "edited": false, "score": 1, "creation_date": 1472835312, "post_id": 39260412, "comment_id": 65928557, "body": "There are too many things that can affect the order in which results are returned when you omit the <code>order by</code> clause. The answer is, always, if you need them returned in a particular order, add an <code>order by</code> clause; otherwise, accept that they may return in any order, indeterminately."}], "tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": true, "score": 5, "last_activity_date": 1472685196, "creation_date": 1472685196, "answer_id": 39260412, "question_id": 39259912, "link": "https://stackoverflow.com/questions/39259912/cx-oracle-ignores-order-by-clause/39260412#39260412", "title": "cx_Oracle ignores order by clause", "body": "<p>I don't see an <code>ORDER BY</code> clause that would affect the ordering of the results of the query.  In SQL, the only way to guarantee the ordering of a result set is to have an <code>ORDER BY</code> clause for the outer-most <code>SELECT</code>.</p>\n\n<p>In almost all cases, an <code>ORDER BY</code> in a subquery is not necessarily respected (Oracle makes an exception when there are <code>rownum</code> comparisons in the next level of the query -- and even that is now out of date with the support of <code>FETCH FIRST &lt;n&gt; ROWS</code>).</p>\n\n<p>So, there is no reason to expect that an <code>ORDER BY</code> in the <em>innermost</em> subquery would have any effect, particularly with the <code>JOIN</code> that then happens.</p>\n\n<p>Suggestions:</p>\n\n<ul>\n<li>Move the <code>ORDER BY</code> to the outermost query.</li>\n<li>Use <code>FETCH FIRST</code> syntax, if you are using Oracle 12c+.</li>\n<li>Move the <code>ORDER BY</code> <em>after</em> the <code>JOIN</code>.</li>\n<li>Use <code>ROW_NUMBER()</code> instead of <code>rownum</code>.</li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 6780725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00e8dca4075b9c56dea711bac92ad9b?s=128&d=identicon&r=PG&f=1", "display_name": "elmon", "link": "https://stackoverflow.com/users/6780725/elmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 39260412, "answer_count": 1, "score": 2, "last_activity_date": 1472685196, "creation_date": 1472682216, "question_id": 39259912, "link": "https://stackoverflow.com/questions/39259912/cx-oracle-ignores-order-by-clause", "title": "cx_Oracle ignores order by clause", "body": "<p>I've created complex query builder in my project, and during tests stumbled upon strange issue: same query with the same plan produces different results on different clients: cx_Oracle ignores order by clause, while Oracle SQLDeveloper Studio process query correctly, however in both cases order by present in both plans.</p>\n\n<p>Query in question is:</p>\n\n<pre><code>select *\nfrom\n(\n    select \n        a.*,\n        ROWNUM tmp__rnum\n    from\n    (\n        select base.* \n        from\n        (\n            select id\n            from\n            (\n                (\n                    select \n                    profile_id as id,\n                    surname as sort__col \n                    from names\n                )\n                /* here usually are several other subqueries chained by unions */\n            )\n            group by id\n            order by min(sort__col) asc\n        ) tmp\n        left join (profiles) base\n        on tmp.id = base.id\n        where exists \n        (\n            select t.object_id \n            from object_rights t \n            where\n                    t.object_id = base.id \n                and t.subject_id = :a__subject_id \n                and t.rights in ('r','w') \n        )\n    ) a \n    where ROWNUM &lt; :rows_to \n) \nwhere tmp__rnum &gt;= :rows_from\n</code></pre>\n\n<p>and plan from cx_Oracle in case I missed anything:</p>\n\n<pre><code>{'operation': 'SELECT STATEMENT', 'position': 9225, 'cardinality': 2164, 'time': 1, 'cost': 9225, 'depth': 0, 'bytes': 84396, 'optimizer': 'ALL_ROWS', 'id': 0, 'cpu_cost': 1983805801},\n\n    {'operation': 'VIEW', 'position': 1, 'filter_predicates': '\"TMP__RNUM\"&gt;=TO_NUMBER(:ROWS_FROM)', 'parent_id': 0, 'object_instance': 1, 'cardinality': 2164SEL$1', 'projection': '\"from$_subquery$_001\".\"ID\"[NUMBER,22], \"from$_subquery$_001\".\"CREATION_TIME\"[TIMESTAMP,11], \"TMP__RNUM\"[NUMBER,22]', 'time': 1, 'cost': 9225, 'depth': 1, 'bytes': 84396, 'id': 1, 'cpu_cost': 1983805801},\n\n        {'operation': 'COUNT', 'position': 1, 'filter_predicates': 'ROWNUM&lt;TO_NUMBER(:ROWS_TO)', 'parent_id': 1, 'projection': '\"BASE\".\"ID\"[NUMBER,22], \"BASE\".\"CREATION_TIME\"[TIMESTAMP,11], ROWNUM[8]', 'options': 'STOPKEY', 'depth': 2, 'id': 2, \n\n            {'operation': 'HASH JOIN', 'position': 1, 'parent_id': 2, 'access_predicates': '\"TMP\".\"ID\"=\"BASE\".\"ID\"', 'cardinality': 2164, 'projection': '(#keys=1) \"BASE\".\"ID\"[NUMBER,22], \"BASE\".\"CREATION_TIME\"[TIMESTAMP,11]', 'time': 1, 'cost': 9225, 'depth': 3, 'bytes': 86560, 'id': 3, 'cpu_cost': 1983805801},\n\n                {'operation': 'JOIN FILTER', 'position': 1, 'parent_id': 3, 'object_owner': 'SYS', 'cardinality': 2219, 'projection': '\"BASE\".\"ID\"[NUMBER,22], \"BASE\".\"CREATION_TIME\"[TIMESTAMP,11]', 'object_name': ':BF0000', 'time': 1, 'cost': 662, 'options': 'CREATE', 'depth': 4, 'bytes': 59913, 'id': 4, 'cpu_cost': 223290732},\n\n                    {'operation': 'HASH JOIN', 'position': 1, 'parent_id': 4, 'access_predicates': '\"T\".\"OBJECT_ID\"=\"BASE\".\"ID\"', 'cardinality': 2219, 'projection': '(#keys=1) \"BASE\".\"ID\"[NUMBER,22], \"BASE\".\"CREATION_TIME\"[TIMESTAMP,11]', 'time': 1, 'cost': 662, 'options': 'RIGHT SEMI', 'depth': 5, 'bytes': 59913, 'id': 5, 'cpu_cost': 223290732},\n\n                        {'operation': 'TABLE ACCESS', 'position': 1, 'filter_predicates': '\"T\".\"SUBJECT_ID\"=TO_NUMBER(:A__SUBJECT_ID) AND (\"T\".\"RIGHTS\"=\\'r\\' OR \"T\".\"RIGHTS\"=\\'w\\')', 'parent_id': 5, 'object_type': 'TABLE', 'object_instance': 8, 'cardinality': 2219, 'projection': '\"T\".\"OBJECT_ID\"[NUMBER,22]', 'object_name': 'OBJECT_RIGHTS', 'time': 1, 'cost': 5, 'options': 'FULL', 'depth': 6, 'bytes': 24409, 'optimizer': 'ANALYZED', 'id': 6, 'cpu_cost': 1823386},\n\n                        {'operation': 'TABLE ACCESS', 'position': 2, 'parent_id': 5, 'object_type': 'TABLE', 'object_instance': 6, 'cardinality': 753862, 'projection': '\"BASE\".\"ID\"[NUMBER,22], \"BASE\".\"CREATION_TIME\"[TIMESTAMP,11]', 'object_name': 'PROFILES', 'time': 1, 'cost': 654, 'options': 'FULL', 'depth': 6, 'bytes': 12061792, 'optimizer': 'ANALYZED', 'id': 7, 'cpu_cost': 145148296},\n\n                {'operation': 'VIEW', 'position': 2, 'parent_id': 3, 'object_instance': 3, 'cardinality': 735296, 'projection': '\"TMP\".\"ID\"[NUMBER,22]', 'time': 1, 'cost': 8559, 'depth': 4, 'bytes': 9558848, 'id': 8, 'cpu_cost': 1686052619},\n\n                    {'operation': 'SORT', 'position': 1, 'parent_id': 8, 'cardinality': 735296, 'projection': '(#keys=1) MIN(\"SURNAME\")[50], \"PROFILE_ID\"[NUMBER,22]', 'time': 1, 'cost': 8559, 'options': 'ORDER BY', 'temp_space': 18244000, 'depth': 5, 'bytes': 10294144, 'id': 9, 'cpu_cost': 1686052619},\n\n                        {'operation': 'HASH', 'position': 1, 'parent_id': 9, 'cardinality': 735296, 'projection': '(#keys=1; rowset=200) \"PROFILE_ID\"[NUMBER,22], MIN(\"SURNAME\")[50]', 'time': 1, 'cost': 8559, 'options': 'GROUP BY', 'temp_space': 18244000, 'depth': 6, 'bytes': 10294144, 'id': 10, 'cpu_cost': 1686052619},\n\n                            {'operation': 'JOIN FILTER', 'position': 1, 'parent_id': 10, 'object_owner': 'SYS', 'cardinality': 756586, 'projection': '(rowset=200) \"PROFILE_ID\"[NUMBER,22], \"SURNAME\"[VARCHAR2,50]', 'object_name': ':BF0000', 'time': 1, 'cost': 1202, 'options': 'USE', 'depth': 7, 'bytes': 10592204, 'id': 11, 'cpu_cost': 190231639},\n\n                                {'operation': 'TABLE ACCESS', 'position': 1, 'filter_predicates': 'SYS_OP_BLOOM_FILTER(:BF0000,\"PROFILE_ID\")', 'parent_id': 11, 'object_type': 'TABLE', 'object_instance': 5, 'cardinality': 756586, 'projection': '(rowset=200) \"PROFILE_ID\"[NUMBER,22], \"SURNAME\"[VARCHAR2,50]', 'object_name': 'NAMES', 'time': 1, 'cost': 1202, 'options': 'FULL', 'depth': 8, 'bytes': 10592204, 'optimizer': 'ANALYZED', 'id': 12, 'cpu_cost': 190231639}\n</code></pre>\n\n<p>cx_Oracle output (appears to be ordered by id):</p>\n\n<pre><code>ID,    Created,    rownum\n(1829, 2016-08-24, 1)\n(2438, 2016-08-24, 2)\n</code></pre>\n\n<p>SQLDeveloper Output (ordered by surname, as expected):</p>\n\n<pre><code>ID,      Created,    rownum\n(518926, 2016-08-28, 1)\n(565556, 2016-08-29, 2)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1472682256, "post_id": 39259859, "comment_id": 65855830, "body": "This looks like it&#39;s using NumPy or something similar. Go read the NumPy tutorial, or the documentation for whatever the type of <code>features</code> is."}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1472682484, "post_id": 39259859, "comment_id": 65855910, "body": "Nump allows you express basic operations element wise. More <a href=\"https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#basic-operations\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1472682491, "creation_date": 1472682491, "answer_id": 39259974, "question_id": 39259859, "link": "https://stackoverflow.com/questions/39259859/python-language-syntax-usage/39259974#39259974", "title": "Python language/syntax usage", "body": "<p><code>feature</code> appears to be a <a href=\"http://www.numpy.org/\" rel=\"nofollow\">Numpy</a> array. Numpy arrays 'broadcast' scalar operations to the whole array.</p>\n\n<pre><code>import numpy as np\nasd = np.full([10,10], 10, np.int64)\nasd /= 5\nprint asd # prints a 10x10 array of 2s\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1440, "user_id": 3200577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccaca1686173d60eb892233916956c00?s=128&d=identicon&r=PG&f=1", "display_name": "danyamachine", "link": "https://stackoverflow.com/users/3200577/danyamachine"}, "is_accepted": false, "score": 3, "last_activity_date": 1472682546, "creation_date": 1472682546, "answer_id": 39259984, "question_id": 39259859, "link": "https://stackoverflow.com/questions/39259859/python-language-syntax-usage/39259984#39259984", "title": "Python language/syntax usage", "body": "<p>the answer depends on what <code>features[0:]</code> and <code>test[0]</code> evaluate to. \nif <code>test[0]</code> is a number and <code>features[0:]</code> is a numpy array, then you may be using numpy to subtract a number from each element in a list:  </p>\n\n<pre><code>&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; array = numpy.array([49, 51, 53, 56])\n&gt;&gt;&gt; array - 13\narray([36, 38, 40, 43])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6780788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e128a82c07162d395af599690de6a515?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Williams", "link": "https://stackoverflow.com/users/6780788/mike-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1472682546, "creation_date": 1472681929, "last_edit_date": 1472682002, "question_id": 39259859, "link": "https://stackoverflow.com/questions/39259859/python-language-syntax-usage", "title": "Python language/syntax usage", "body": "<p>New to python but ran into something I don't understand.  The following line of code:</p>\n\n<pre><code>diff = features[0:] - test[0]    # &lt;- this is what I don't get\n</code></pre>\n\n<p>is used thusly:</p>\n\n<pre><code>x = diff[i] \n</code></pre>\n\n<p>to return the element-wise difference between <code>features[i]</code> and <code>test[0]</code>.  Can anyone point to a language reference for this or explain it?  I understand how the result can be developed using \"def\" or \"lambda\" but I don't understand the construction.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "telnet", "ethernet"], "comments": [{"owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "edited": false, "score": 0, "creation_date": 1472682302, "post_id": 39259858, "comment_id": 65855848, "body": "<a href=\"http://stackoverflow.com/questions/4528831/python-telnet-connection?rq=1\">Try this</a>. It has sample code."}, {"owner": {"reputation": 3292, "user_id": 2709093, "user_type": "registered", "profile_image": "https://graph.facebook.com/1042262218/picture?type=large", "display_name": "James K", "link": "https://stackoverflow.com/users/2709093/james-k"}, "edited": false, "score": 0, "creation_date": 1472682310, "post_id": 39259858, "comment_id": 65855851, "body": "Welcome to S.O. Have you tried to connect with the telnetlib library? We can&#39;t help unless you have a clear problem to solve. Your question doesn&#39;t explain what your problem is."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 6181752, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S7UZIhKS0RM/AAAAAAAAAAI/AAAAAAAAAxg/_sDh9XcqSlM/photo.jpg?sz=128", "display_name": "Robert Pafford", "link": "https://stackoverflow.com/users/6181752/robert-pafford"}, "is_accepted": true, "score": 1, "last_activity_date": 1472683316, "last_edit_date": 1472683316, "creation_date": 1472682760, "answer_id": 39260021, "question_id": 39259858, "link": "https://stackoverflow.com/questions/39259858/make-telnet-communication-using-python/39260021#39260021", "title": "Make telnet communication using python", "body": "<p>In python they have telnetlib, which allows telnet communication. I'm pretty sure that this is what you're looking for. You can find the docs at <a href=\"https://docs.python.org/2/library/telnetlib.html\" rel=\"nofollow\">https://docs.python.org/2/library/telnetlib.html</a> Here is a basic way to logon to a windows server and get the directory listing (Courtesy of the docs pages above)</p>\n\n<pre><code>import telnetlib\n\nHOST = \"localhost\"\nuser = \"username\"\npassword = \"password\"\n\ntn = telnetlib.Telnet(HOST)\n\ntn.read_until(\"login: \")\ntn.write(user + \"\\n\")\nif password:\n    tn.read_until(\"Password: \")\n    tn.write(password + \"\\n\")\n\ntn.write(\"dir\\n\")\ntn.write(\"exit\\n\")\n\nprint tn.read_all()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6780773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WYCDqk6dx5M/AAAAAAAAAAI/AAAAAAAAAJ0/cAiZ7-UCGY4/photo.jpg?sz=128", "display_name": "Gabriel Schubert", "link": "https://stackoverflow.com/users/6780773/gabriel-schubert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 39260021, "answer_count": 1, "score": 0, "last_activity_date": 1472683316, "creation_date": 1472681913, "question_id": 39259858, "link": "https://stackoverflow.com/questions/39259858/make-telnet-communication-using-python", "title": "Make telnet communication using python", "body": "<p>It is my first question here :D</p>\n\n<p>I have to send some commands from my personal computer (Linux-Red Hat) to a server (Robot Controller). I saw that the controller have a Ethernet protocol that allows sending commands using telnet communication.</p>\n\n<p>My question: is it possible to make telnet connection, send commands and read the output using python? If it is, can you help me?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "arrays", "python-2.7", "oop"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1472684742, "post_id": 39259846, "comment_id": 65856582, "body": "You haven&#39;t explained the goal.  Something cannot be both randomized and consistent - that&#39;s a contradiction in terms.  What does &quot;small pairs&quot; mean?  Also your code has problems: for example, look at the first three lines in the while loop of genLine - you create a one-element dictionary and &quot;iterate&quot; over it (the loop runs only once), then use the key to look up the value that you just explicitly assigned to it, and assign <i>that</i> to two new variables.  None of that code actually does anything.  I suggest you post your code to CodeReview and get help to clean it up."}], "answers": [{"tags": [], "owner": {"reputation": 1120, "user_id": 6642340, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NCelF.jpg?s=128&g=1", "display_name": "DJV", "link": "https://stackoverflow.com/users/6642340/djv"}, "is_accepted": false, "score": 0, "last_activity_date": 1472687070, "last_edit_date": 1472687070, "creation_date": 1472685678, "answer_id": 39260480, "question_id": 39259846, "link": "https://stackoverflow.com/questions/39259846/creating-a-more-consistant-randomly-generated-world-space-for-a-text-based-rpg/39260480#39260480", "title": "Creating a more consistant, randomly generated, world space for a text-based RPG", "body": "<p>Fixed:</p>\n\n<ol>\n<li>Sometimes your <code>a</code> is bigger than your <code>b</code> and forest is not generated.</li>\n<li>All your forests tend to be at the left side of map.</li>\n</ol>\n\n<p>Inline comments are added for changed lines.</p>\n\n<pre><code>def modify_world(self, autogen):\n    if autogen is True:\n        # Forests:\n        count = randint(6, 10)\n        while count &gt; 0:\n            a = randrange(self.col)           # begin of forest\n            width = self.col / randint(2, 6)  # initial width of forest\n            b = int(a + width)                # end of forest\n            row_val = randint(5, self.row)\n            count_val = randint(5, 15)\n            self.genLine_WObj(a, b, row_val, 't', count_val)\n            count -=1\n\n    print('\\n'.join([''.join(['{:1}'.format(item) for item in row])\n      for row in self.world_array]))\n    inp = input('')\n    if inp != '':\n        return\n\n\ndef genLine_WObj(self, a, b, row_val, char, count):\n    # 'genLine_WObj' - Generate Line(like) world object.\n    # Used to place lines of certain characters with psuedo-randomized\n    # width and length onto the world array.\n    while count != 0:\n        row_col_dict = {row_val: (a, b)}\n        for row in row_col_dict.keys():\n            startPos, endPos = row_col_dict[row]\n\n            for i in range(startPos, min(self.col, endPos)):  # added min\n                self.world_array[row][i] = char\n\n        b += choice([0, 1])\n        a += choice([0, 0, 0, 0, 1])\n\n        row_val -= 1\n        count -= 1\n</code></pre>\n\n<p>And I would change <code>width</code> of forest to something mapsize-independent. E. g.:</p>\n\n<pre><code>width = randint(2, 15)\n</code></pre>\n\n<p>But that depends on your goals.</p>\n"}], "owner": {"reputation": 53, "user_id": 6768113, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/dFs8t.jpg?s=128&g=1", "display_name": "classmethod", "link": "https://stackoverflow.com/users/6768113/classmethod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1472687070, "creation_date": 1472681866, "question_id": 39259846, "link": "https://stackoverflow.com/questions/39259846/creating-a-more-consistant-randomly-generated-world-space-for-a-text-based-rpg", "title": "Creating a more consistant, randomly generated, world space for a text-based RPG", "body": "<p>Currently, I can create a randomized world within a 2-D array. However, I feel it is too random. Here is the class I'm currently working with:</p>\n\n<p><code>from random import randint, choice, randrange</code></p>\n\n<pre><code>class WorldSpace(object):\n    def __init__(self, row, col, world_array):\n        self.row = row  # Number of lists to be created.\n        self.col = col  # Number of indexes inside of each row.\n        self.world_array = world_array\n</code></pre>\n\n<p>The <code>WorldSpace</code> method that creates the world:</p>\n\n<pre><code>@classmethod\ndef generate(cls, autogen):\n    print 'Starting world generation...'\n    print\n    if autogen is True:\n        row_amt = 75\n        col_amt = 75\n\n    else:\n        row_amt = input('Please specify row length of world array.: ')\n        col_amt = input('Please specify column length of world array.: ')\n        if (row_amt or col_amt) == 0:\n            print 'Invalid world values!'\n            cls.generateWorld(False)\n\n    world_array = [[' ']*col_amt for _ in xrange(row_amt)]\n    print 'Created world...'\n\n    return cls(row_amt, col_amt, world_array)\n</code></pre>\n\n<p>A method that modifies the world -- currently only creates <code>forests</code> though in my full segment of code, a series of oceans and mountains are formed as well:</p>\n\n<pre><code>def modify_world(self, autogen):\n    if autogen is True:\n        # Forests:\n        count = randint(6, 10)\n        while count &gt; 0:\n            a = randint(1, (self.row / randint(2, 6)))\n            b = randint(1, (self.col / randint(2, 6)))\n            row_val = randint(5, self.row)\n            count_val = randint(5, 15)\n            self.genLine_WObj(a, b, row_val, 't', count_val)\n            count -=1\n\n    print('\\n'.join([''.join(['{:1}'.format(item) for item in row])\n      for row in self.world_array]))\n    inp = input('')\n    if inp != '':\n        return\n</code></pre>\n\n<p>And the method that actually creates the <code>forest</code> tiles:</p>\n\n<pre><code>def genLine_WObj(self, a, b, row_val, char, count):\n    # 'genLine_WObj' - Generate Line(like) world object.\n    # Used to place lines of certain characters with psuedo-randomized\n    # width and length onto the world array.\n    while count != 0:\n        row_col_dict = {row_val: (a, b)}\n        for row in row_col_dict.keys():\n            startPos, endPos = row_col_dict[row]\n\n            for i in range(startPos, endPos):\n                self.world_array[row][i] = char\n\n        b += choice([0, 1])\n        a += choice([0, 0, 0, 0, 1])\n\n        row_val -= 1\n        count -= 1\n</code></pre>\n\n<p>Now to actually run the program:</p>\n\n<pre><code>world = WorldSpace.generate(True)\nworld.modify_world(True)\n</code></pre>\n\n<p>However, while the works ~20-30% of the time, sometimes it will generate small forests, or small pairs of <code>t</code> characters, when it should be creating forests all around the map.  How can I improve my code to make the randomized generation more consistent? </p>\n"}, {"tags": ["python", "regex", "python-2.7", "match"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472682835, "post_id": 39259830, "comment_id": 65856025, "body": "Is that true that you only have a name up to the end of the line? I&#39;d use something like <code>\\S+</code> rather than <code>.*</code> - <code>r&quot;Guest last name: (\\S+)&quot;</code>. Or <code>\\S*</code> if it can be empty. Anyway, check the result before using."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472688649, "post_id": 39259830, "comment_id": 65857566, "body": "anytime something returns a [&#39;something&#39;] that means it&#39;s in an array and you need to access it with [n] where n is the position of the element in the array."}, {"owner": {"reputation": 83, "user_id": 6780779, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-BtX4gA2olrw/AAAAAAAAAAI/AAAAAAAAAoQ/dPOqB0kvEUc/photo.jpg?sz=128", "display_name": "Fabio Mancin", "link": "https://stackoverflow.com/users/6780779/fabio-mancin"}, "edited": false, "score": 0, "creation_date": 1472707262, "post_id": 39259830, "comment_id": 65861818, "body": "Fortunately the exported document I am reading in Python has 1 string per line, so I have a very easy time with regex. However I will still try to make it more accurate, both for the actual code and to learn regex."}], "answers": [{"tags": [], "owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "is_accepted": true, "score": 0, "last_activity_date": 1472681909, "creation_date": 1472681909, "answer_id": 39259856, "question_id": 39259830, "link": "https://stackoverflow.com/questions/39259830/how-to-get-clean-match-results-in-python/39259856#39259856", "title": "How to get &quot;clean&quot; match results in Python", "body": "<p>You need to take the first item in the list</p>\n\n<pre><code>print \"Dear Mr.\", c[0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 6780779, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-BtX4gA2olrw/AAAAAAAAAAI/AAAAAAAAAoQ/dPOqB0kvEUc/photo.jpg?sz=128", "display_name": "Fabio Mancin", "link": "https://stackoverflow.com/users/6780779/fabio-mancin"}, "edited": false, "score": 0, "creation_date": 1472706445, "post_id": 39259890, "comment_id": 65861545, "body": "Thanks, I&#39;ll look into more complex regexes, for now I am just building the skeleton! I tried using re.search, but it returns &quot;&lt;_sre.SRE_Match object at 0x000000000361DBE8&gt;&quot;. I guess that means it found a match and where the match is, but I need the actual match in my output :)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1472682532, "last_edit_date": 1472682532, "creation_date": 1472682118, "answer_id": 39259890, "question_id": 39259830, "link": "https://stackoverflow.com/questions/39259830/how-to-get-clean-match-results-in-python/39259890#39259890", "title": "How to get &quot;clean&quot; match results in Python", "body": "<p>Yes use <code>re.search</code> if you only expect one match:</p>\n\n<pre><code>re.search(r\"Guest last name: (.*)\", string).group(1)`\n</code></pre>\n\n<p>findall is if you expect multiple matches. You probably want to also add <code>?</code> to your regex <code>(.*?)</code> for a non-greedy capture but you also probably want to be a little more specific and capture up to the next possible character after the name/phrase you want.</p>\n"}], "owner": {"reputation": 83, "user_id": 6780779, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-BtX4gA2olrw/AAAAAAAAAAI/AAAAAAAAAoQ/dPOqB0kvEUc/photo.jpg?sz=128", "display_name": "Fabio Mancin", "link": "https://stackoverflow.com/users/6780779/fabio-mancin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 39259856, "answer_count": 2, "score": 0, "last_activity_date": 1472682532, "creation_date": 1472681761, "question_id": 39259830, "link": "https://stackoverflow.com/questions/39259830/how-to-get-clean-match-results-in-python", "title": "How to get &quot;clean&quot; match results in Python", "body": "<p>I am a total noob, coding for the first time and trying to learn by doing. \nI'm using this:</p>\n\n<pre><code>import re\nf = open('aaa.txt', 'r')\nstring=f.read()\nc = re.findall(r\"Guest last name: (.*)\", string)\nprint \"Dear Mr.\", c\n</code></pre>\n\n<p>that returns </p>\n\n<pre><code>Dear Mr. ['XXXX']\n</code></pre>\n\n<p>I was wondering, is there any way to get the result like</p>\n\n<pre><code>Dear Mr. XXXX\n</code></pre>\n\n<p>instead? </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472681936, "post_id": 39259819, "comment_id": 65855730, "body": "Show us the whole error message, including stack trace. Most likely, you forgot your function call parentheses somewhere."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1472681986, "post_id": 39259819, "comment_id": 65855749, "body": "It seems everything should work fine. I guess there are some information missing here"}, {"owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "edited": false, "score": 0, "creation_date": 1472682135, "post_id": 39259819, "comment_id": 65855795, "body": "Added full error message, also the function is defined in the setup.py file"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1472682300, "post_id": 39259819, "comment_id": 65855847, "body": "Please show your <code>setup.py</code>."}, {"owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "edited": false, "score": 0, "creation_date": 1472682471, "post_id": 39259819, "comment_id": 65855905, "body": "Editted to have setup.py file"}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 7, "last_activity_date": 1472682801, "creation_date": 1472682801, "answer_id": 39260031, "question_id": 39259819, "link": "https://stackoverflow.com/questions/39259819/method-object-is-not-iterable-from-calling-splitlines-from-a-read-method/39260031#39260031", "title": "&#39;method&#39; object is not iterable from calling splitlines from a read method", "body": "<p>This line is missing the call parens you need:</p>\n\n<pre><code>packages=find_packages,\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>packages=find_packages(),\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2312, "favorite_count": 0, "accepted_answer_id": 39260031, "answer_count": 1, "score": 1, "last_activity_date": 1472682801, "creation_date": 1472681717, "last_edit_date": 1472682454, "question_id": 39259819, "link": "https://stackoverflow.com/questions/39259819/method-object-is-not-iterable-from-calling-splitlines-from-a-read-method", "title": "&#39;method&#39; object is not iterable from calling splitlines from a read method", "body": "<p>Currently trying to setup my setup.py file for pip installation or simply python setup.py develop installation, however when I run the code, it faults saying that the method is not iterable, regarding to my read function.</p>\n\n<p>The code is as follows for setup.py</p>\n\n<pre><code>from setuptools import setup, find_packages\nimport os\n\ndef read(filename):\n    with open(os.path.join(os.path.dirname(__file__), filename)) as f:\n        return f.read()\n\nsetup(\n    name='example',\n    version='1.0',\n    description='example',\n    url='https://github.com/example',\n    author='Example',\n    author_email='iam@example.com',\n    packages=find_packages,\n    install_requires=read('requirements.txt').splitlines(),\n    zip_safe=False\n)\n</code></pre>\n\n<p>And finally the error I receive is,</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"setup.py\", line 16, in &lt;module&gt;\ninstall_requires=read('requirements.txt').splitlines()\n  File \"C:\\Python35\\lib\\distutils\\core.py\", line 108, in setup\n_setup_distribution = dist = klass(attrs)\n  File \"C:\\Python35\\lib\\site-packages\\setuptools\\dist.py\", line 272, in __init__\n_Distribution.__init__(self,attrs)\n  File \"C:\\Python35\\lib\\distutils\\dist.py\", line 281, in __init__\nself.finalize_options()\n  File \"C:\\Python35\\lib\\site-packages\\setuptools\\dist.py\", line 327, in finalize_options\n    ep.load()(self, ep.name, value)\n  File \"C:\\Python35\\lib\\site-packages\\setuptools\\dist.py\", line 161, in  check_packages\n    for pkgname in value:\nTypeError: 'method' object is not iterable\n</code></pre>\n"}, {"tags": ["python", "pdb"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 1097444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3efed5bfe48ed6f9a40cfc8b35519264?s=128&d=identicon&r=PG", "display_name": "Hem", "link": "https://stackoverflow.com/users/1097444/hem"}, "edited": false, "score": 2, "creation_date": 1472742298, "post_id": 39266060, "comment_id": 65884728, "body": "I did not know about pdbrc. Thank you for the bonus tip."}], "tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 6, "last_activity_date": 1472738305, "last_edit_date": 1472738305, "creation_date": 1472717334, "answer_id": 39266060, "question_id": 39259805, "link": "https://stackoverflow.com/questions/39259805/how-do-i-display-thread-process-id-in-python-pdb/39266060#39266060", "title": "How do I display thread/process Id in Python PDB?", "body": "<pre><code>(pdb) import os,threading; os.getpid(), threading.current_thread().ident\n</code></pre>\n\n<p>If you need to do this often, it would be convenient to add an alias in your <code>.pdbrc</code> file:</p>\n\n<pre><code>alias tid import os,threading;; p os.getpid(), threading.current_thread().ident\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 1097444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3efed5bfe48ed6f9a40cfc8b35519264?s=128&d=identicon&r=PG", "display_name": "Hem", "link": "https://stackoverflow.com/users/1097444/hem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 1, "accepted_answer_id": 39266060, "answer_count": 1, "score": 4, "last_activity_date": 1472738305, "creation_date": 1472681637, "question_id": 39259805, "link": "https://stackoverflow.com/questions/39259805/how-do-i-display-thread-process-id-in-python-pdb", "title": "How do I display thread/process Id in Python PDB?", "body": "<p>In Python, is there a way to display thread/process ID while debugging using PDB?</p>\n\n<p>I was looking at <a href=\"https://docs.python.org/2/library/pdb.html\" rel=\"nofollow\">https://docs.python.org/2/library/pdb.html</a> but could not find anything related to it?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472681332, "post_id": 39259751, "comment_id": 65855492, "body": "Could you please share some code you tried? Questions about whitespace are rather ambiguous without some code to test against."}, {"owner": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "edited": false, "score": 1, "creation_date": 1472681392, "post_id": 39259751, "comment_id": 65855513, "body": "Is your input literally &quot;\\\\r&quot;, or is there a carriage return in your input?"}, {"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472681426, "post_id": 39259751, "comment_id": 65855525, "body": "Yes, My input is literally &quot;\\\\r&quot;"}, {"owner": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "edited": false, "score": 3, "creation_date": 1472681462, "post_id": 39259751, "comment_id": 65855544, "body": "<code>\\\\\\\\r</code> should be sufficient"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 1, "creation_date": 1472681465, "post_id": 39259751, "comment_id": 65855547, "body": "So you are <i>not</i> looking for matching a carriage return\u2026"}, {"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "reply_to_user": {"reputation": 2295, "user_id": 792779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99528e625676b23a593f5a3daa005793?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/792779/john"}, "edited": false, "score": 0, "creation_date": 1472681481, "post_id": 39259751, "comment_id": 65855557, "body": "@Trey : Changed Title of question accordingly. Sorry for the confusion"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1472681529, "post_id": 39259751, "comment_id": 65855574, "body": "So, try <code>r&#39;\\\\\\\\r&#39;</code> / <code>r&#39;\\\\\\\\r\\S*&#39;</code>"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 1, "creation_date": 1472681824, "post_id": 39259751, "comment_id": 65855694, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/4025482/cant-escape-the-backslash-with-regex\">Can&#39;t escape the backslash with regex?</a>"}, {"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472682509, "post_id": 39259751, "comment_id": 65855919, "body": "<a href=\"https://regex101.com/r/wA9iU7/3\" rel=\"nofollow noreferrer\">regex101.com/r/wA9iU7/3</a> Could you please provide the expression to match more than one time(s) [For <code>input 2</code>]"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472684647, "post_id": 39259751, "comment_id": 65856563, "body": "You may use <a href=\"https://regex101.com/r/wA9iU7/5\" rel=\"nofollow noreferrer\"><code>r&#39;\\\\\\\\r\\S*&#39;</code></a>  - one for both."}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472682365, "post_id": 39259790, "comment_id": 65855868, "body": "<a href=\"https://regex101.com/r/wA9iU7/3\" rel=\"nofollow noreferrer\">regex101.com/r/wA9iU7/3</a> Could you please provide the expression to match more than one time(s) [For <code>input 2</code>]"}, {"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "reply_to_user": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472682722, "post_id": 39259790, "comment_id": 65855982, "body": "So you&#39;d like to match anything that starts with <code>\\\\r</code>? Or anything with <code>\\\\r</code> anywhere in the string?"}, {"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "reply_to_user": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472682736, "post_id": 39259790, "comment_id": 65855989, "body": "Are you trying to find the first word in a paragraph?"}, {"owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472682902, "post_id": 39259790, "comment_id": 65856044, "body": "No, my list contains entries beginning with <code>\\\\r</code> or <code>\\\\rWithStrings</code> or both. Just trying to match pattern and replace them."}, {"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "reply_to_user": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "edited": false, "score": 0, "creation_date": 1472686071, "post_id": 39259790, "comment_id": 65856921, "body": "Use the pattern above it will match any of it. Do you need code? It works on Python on my machine using <code>re.sub</code>"}], "tags": [], "owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "is_accepted": true, "score": 7, "last_activity_date": 1472684623, "last_edit_date": 1472684623, "creation_date": 1472681549, "answer_id": 39259790, "question_id": 39259751, "link": "https://stackoverflow.com/questions/39259751/regular-expression-to-match-r/39259790#39259790", "title": "Regular Expression to match &quot;\\\\r&quot;", "body": "<p>Escape the back slashes twice. String's interpret <code>\\</code> as a special character marker.</p>\n\n<p>Use <code>\\\\\\\\r</code> instead. <code>\\\\</code> is actually interpreted as just <code>\\</code>.</p>\n\n<p>EDIT: So as per the comments you want any string that starts with <code>\\\\r</code> with any string after it. The regex pattern is as follows:</p>\n\n<pre><code>(\\\\\\\\r\\S*)\n</code></pre>\n\n<p><code>\\\\\\\\r</code> is the string you want at the start and <code>\\S*</code> says any non-white space (<code>\\S</code>) can come after any number of times (<code>*</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1472685151, "post_id": 39260378, "comment_id": 65856688, "body": "That is how I understand the question and <a href=\"https://regex101.com/r/wA9iU7/3\" rel=\"nofollow noreferrer\">OP&#39;s demo</a> where two literal backslashes are used in the input string. I did not post since I did not have any confirmation on what there is in the input. So, judging by that demo, there are 2 literal backslashes. I cannot be too sure, I know."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1472685098, "last_edit_date": 1472685098, "creation_date": 1472684956, "answer_id": 39260378, "question_id": 39259751, "link": "https://stackoverflow.com/questions/39259751/regular-expression-to-match-r/39260378#39260378", "title": "Regular Expression to match &quot;\\\\r&quot;", "body": "<p>A literal backslash in Python can be matched with <code>r'\\\\'</code> (note the use of the raw string literal!). You have two literal backslashes, thus, you need 4 backslashes (in a raw string literal) before <code>r</code>. </p>\n\n<p>Since you may have any characters after <code>\\\\r</code>, you may use</p>\n\n<pre><code>import re\np = re.compile(r'\\\\\\\\r\\S*')\ntest_str = r\"\\\\r \\\\rtest\"\nprint(p.findall(test_str))\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/kUK56Q\" rel=\"nofollow\">Python demo</a></p>\n\n<p><strong>Pattern description</strong>:</p>\n\n<ul>\n<li><code>\\\\\\\\</code> - 2 backslashes</li>\n<li><code>r</code>  - a literal <code>r</code></li>\n<li><code>\\S*</code> - zero or more non-whitespace characters.</li>\n</ul>\n\n<p><em>Variations</em>:</p>\n\n<ul>\n<li>If the characters after <code>r</code> can only be alphanumerics or underscore, use <code>\\w*</code> instead of <code>\\S*</code></li>\n<li>If you want to only match <code>\\\\r</code> before non-word chars, add a <code>\\B</code> non-word boundary before the backslashes in the pattern.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "is_accepted": false, "score": 0, "last_activity_date": 1472737921, "creation_date": 1472737921, "answer_id": 39273397, "question_id": 39259751, "link": "https://stackoverflow.com/questions/39259751/regular-expression-to-match-r/39273397#39273397", "title": "Regular Expression to match &quot;\\\\r&quot;", "body": "<p>You can fine-tune your <em>regular expressions</em> on-line, e.g. at <a href=\"https://regex101.com/#python\" rel=\"nofollow\">this site</a>.</p>\n"}], "owner": {"reputation": 677, "user_id": 2825425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VC5GC.jpg?s=128&g=1", "display_name": "CyberDuck", "link": "https://stackoverflow.com/users/2825425/cyberduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "accepted_answer_id": 39259790, "answer_count": 3, "score": 0, "last_activity_date": 1472737921, "creation_date": 1472681283, "last_edit_date": 1472681447, "question_id": 39259751, "link": "https://stackoverflow.com/questions/39259751/regular-expression-to-match-r", "title": "Regular Expression to match &quot;\\\\r&quot;", "body": "<p>I'm having trouble writing a regex that matches these inputs: <br>\n1.<code>\\\\r</code><br>\n2.<code>\\\\rSomeString</code>\n<br>\nI need a regex that matches <code>\\\\r</code></p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "for-loop", "list-comprehension"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 6, "creation_date": 1472681359, "post_id": 39259743, "comment_id": 65855501, "body": "Don&#39;t use list comprehensions for side effects, such as printing things."}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 3, "creation_date": 1472681548, "post_id": 39259743, "comment_id": 65855583, "body": "If you can&#39;t glance at a list comprehension and understand what&#39;s happening, you shouldn&#39;t be using that list comprehension (use a explicit loop instead)."}, {"owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 0, "creation_date": 1472683225, "post_id": 39259743, "comment_id": 65856147, "body": "I&#39;m not actually writing any code - I would need this when I&#39;m reading code from advanced coders."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1472683320, "post_id": 39259743, "comment_id": 65856173, "body": "Then use a debugger and step through the code."}, {"owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 0, "creation_date": 1472683413, "post_id": 39259743, "comment_id": 65856196, "body": "Debugger? I&#39;m using Sublime Text 3. Does that have...debugger?"}, {"owner": {"reputation": 2637, "user_id": 853379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd6e23325f7129a26324177a9a86d62?s=128&d=identicon&r=PG", "display_name": "bananafish", "link": "https://stackoverflow.com/users/853379/bananafish"}, "edited": false, "score": 0, "creation_date": 1472683797, "post_id": 39259743, "comment_id": 65856313, "body": "Sublime Text is great, but for a nice debugger experience, try <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/starting-the-debugger-session.html\" rel=\"nofollow noreferrer\">PyCharm</a>."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472684173, "post_id": 39259743, "comment_id": 65856425, "body": "Wait a minute... @jhub1 if you are only applying this when trying to understand code written by someone else then why are you not just converting the list comprehension into the longhand loop you started with? I feel like that would be significantly more helpful then making the original code harder to read so it can print out some extra stuff."}, {"owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 0, "creation_date": 1472684510, "post_id": 39259743, "comment_id": 65856521, "body": "Yup! That&#39;s exactly what I&#39;ve been working on. I&#39;m converting someone else&#39;s list comprehension into longhand loop. My attempt to use print in other people&#39;s list comprehension was an attempt understand what&#39;s going on so that I could convert that to longhand loop."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1472685006, "post_id": 39259743, "comment_id": 65856636, "body": "If you want to understand the relationship (and conversion) between longhand loops and comprehension there are <a href=\"http://treyhunner.com/2015/12/python-list-comprehensions-now-in-color/#colored-comprehension\" rel=\"nofollow noreferrer\">great resources</a> to visually see how the two relate."}], "answers": [{"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 3, "last_activity_date": 1472682018, "last_edit_date": 1472682018, "creation_date": 1472681745, "answer_id": 39259826, "question_id": 39259743, "link": "https://stackoverflow.com/questions/39259743/multiple-print-functions-in-list-comprehension/39259826#39259826", "title": "Multiple print functions in list comprehension", "body": "<p>I think you shouldn't running debug code inside list comprehensions, that said, if you wanted to do so, you could wrap your code inside a function like this:</p>\n\n<pre><code>from __future__ import print_function\n\n\ndef foo(x, y):\n    print('looping through', x, 'then', y)\n    if x == y:\n        print('success', x, y)\n        return (x, y)\n\ncomp = [foo(x, y) for x in [1, 2, 3] for y in [3, 1, 4] if x == y]\nprint(comp)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 0, "creation_date": 1472683709, "post_id": 39259997, "comment_id": 65856288, "body": "Yup I tried this actually - it would be useful if I could retain the original conditional, and also add on a print statement...and as a bonus, add print elsewhere to, to see what happens elsewhere."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 2, "creation_date": 1472683813, "post_id": 39259997, "comment_id": 65856320, "body": "the whole point of my answer is that <b>you can&#39;t add extra print statements</b> because that is not how list comprehension works. and you shouldn&#39;t add print statements like the code I am showing.."}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": false, "score": 1, "last_activity_date": 1472682614, "creation_date": 1472682614, "answer_id": 39259997, "question_id": 39259743, "link": "https://stackoverflow.com/questions/39259743/multiple-print-functions-in-list-comprehension/39259997#39259997", "title": "Multiple print functions in list comprehension", "body": "<p>List comprehension was introduced with <a href=\"https://www.python.org/dev/peps/pep-0202/\" rel=\"nofollow\">PEP 202</a> which states:</p>\n\n<blockquote>\n  <p>It is proposed to allow conditional construction of list literals\n  <strong>using for and if clauses.</strong>  They would nest in the same way for loops\n  and if statements nest now.</p>\n</blockquote>\n\n<p>List comprehension was designed to replace constructs that formed a list using only <code>for</code> loops, <code>if</code> conditionals and <code>.append</code> method once per iteration.  Any additional structure is not possible in list comprehensions so unless you stuck your prints into one of the allowed components you cannot add them.</p>\n\n<p>That being said, putting a print statement in the conditional - while technically possible - is highly <strong>not</strong> recommended.</p>\n\n<pre><code>[a for a in x if print(\"this is a bad way to test\",a)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472688249, "post_id": 39260152, "comment_id": 65857467, "body": "of the three answers posted, this is the only one that actually answers the question asked of &quot;is there any way to put in a bunch of print statements so both code print the same things?&quot;.  Odd that @jhub1 accepted BPL&#39;s answer that doesn&#39;t actually print the same stuff."}, {"owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "edited": false, "score": 0, "creation_date": 1472699162, "post_id": 39260152, "comment_id": 65859895, "body": "i stand corrected. no one mentioned anything wrong in that long discussion so i accepted it figuring it to be the closest to what i was looking for."}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 2, "last_activity_date": 1472687060, "last_edit_date": 1472687060, "creation_date": 1472683506, "answer_id": 39260152, "question_id": 39259743, "link": "https://stackoverflow.com/questions/39259743/multiple-print-functions-in-list-comprehension/39260152#39260152", "title": "Multiple print functions in list comprehension", "body": "<p>You need to evaluate your <code>print</code> function, but the return value isn't useful since it's always <code>None</code>. You can use <code>and</code>/<code>or</code> to combine it with another expression.</p>\n\n<pre><code>comp = [(x,y) for x in [1,2,3] for y in [3,1,4] if (print('looping through',x,'then',y) or x == y) and (print('success', x, y) or True)]\n</code></pre>\n\n<p>I really hope you're only doing this for educational purposes, because it's ugly as heck. Just because you <em>can</em> do something doesn't mean you <em>should</em>.</p>\n"}], "owner": {"reputation": 501, "user_id": 6052503, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tS0UP.jpg?s=128&g=1", "display_name": "jhub1", "link": "https://stackoverflow.com/users/6052503/jhub1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 2, "accepted_answer_id": 39260152, "answer_count": 3, "score": 2, "last_activity_date": 1472851759, "creation_date": 1472681266, "last_edit_date": 1592644375, "question_id": 39259743, "link": "https://stackoverflow.com/questions/39259743/multiple-print-functions-in-list-comprehension", "title": "Multiple print functions in list comprehension", "body": "<p>The goal of this post is to put multiple print functions throughout a list comprehension to visually understand what's happening within.</p>\n<p>Important notes:</p>\n<ul>\n<li>This <strong>should not</strong> be used for anything other than educational purposes and trying to understand code.</li>\n<li>If you are using Python 2.x, you need to add a future import (it's in the code I pasted) or else print won't work. Only functions work in list comprehension. Print in 2.x does not operate as a function. Or...just switch to Python 3.x.</li>\n</ul>\n<p>This was the original question:</p>\n<pre><code>    ## Using future to switch Print to a function\n    from __future__ import print_function \n\n    reg = []\n    for x in [1,2,3]:\n        for y in [3,1,4]:\n            print('looping through',x,'then',y)\n            if x == y:\n                print('success',x,y)\n                reg.append((x,y))\n    print(reg)\n</code></pre>\n<p>Here's the equivalent list comprehension with no print statements.</p>\n<pre><code>    from __future__ import print_function \n    comp = [(x,y) for x in [1,2,3] for y in [3,1,4] if x == y] \n    print(comp)\n</code></pre>\n<p>So is there any way to put in a bunch of print statements so both code print the same things?</p>\n<hr />\n<h3>Edit with solution to original question:</h3>\n<p>Using the methods in the comments - I've figured it out!</p>\n<p>So say you want to convert this.</p>\n<pre><code>    from __future__ import print_function \n\n    x = 1\n    y = 2\n    z = 1\n    n = 2\n\n    [[a,b,c] for a in range(x+1) for b in range(y+1) for c in range(z+1) if a + b + c != n]\n</code></pre>\n<p>Adding print statements to print each loop, showing if it failed or not.</p>\n<pre><code>    from __future__ import print_function \n\n    x = 1\n    y = 2\n    z = 1\n    n = 2\n\n    [\n        [a,b,c] for a in range(x+1) for b in range(y+1) for c in range(z+1) if \n        (print('current loop is',a,b,c) or a + b + c != n)\n        and\n        (print('condition true at',a,b,c) or True)\n    ]\n</code></pre>\n<p>So really the only thing that was changed was the conditional at the end.</p>\n<pre><code>    (a + b + c != n) \n</code></pre>\n<p>to</p>\n<pre><code>    (print('current loop is',a,b,c) or a + b + c != n)\n    and\n    (print('condition true at',a,b,c) or True)\n</code></pre>\n<hr />\n<h3>Additional Information:</h3>\n<p>So there's good stuff in the comment section that I think would help others as well. I'm a visual learner so this website was great.</p>\n<ul>\n<li><a href=\"http://treyhunner.com/2015/12/python-list-comprehensions-now-in-color/#colored-comprehension\" rel=\"nofollow noreferrer\">http://treyhunner.com/2015/12/python-list-comprehensions-now-in-color/#colored-comprehension</a></li>\n</ul>\n<p>(credits to Tadhg McDonald-Jensen)</p>\n"}, {"tags": ["python", "facebook", "facebook-graph-api"], "comments": [{"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1472681079, "post_id": 39259687, "comment_id": 65855388, "body": "You know that a user access token is just valid for a few hours"}, {"owner": {"reputation": 146, "user_id": 4922029, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a979c03781f00069f9a74185c6b465d4?s=128&d=identicon&r=PG&f=1", "display_name": "AMIT", "link": "https://stackoverflow.com/users/4922029/amit"}, "reply_to_user": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 0, "creation_date": 1472687839, "post_id": 39259687, "comment_id": 65857351, "body": "Yeah, But it should work atleast once. I generated many times and tried to use it right away but same error."}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 4922029, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a979c03781f00069f9a74185c6b465d4?s=128&d=identicon&r=PG&f=1", "display_name": "AMIT", "link": "https://stackoverflow.com/users/4922029/amit"}, "is_accepted": false, "score": 0, "last_activity_date": 1472690327, "creation_date": 1472690327, "answer_id": 39261063, "question_id": 39259687, "link": "https://stackoverflow.com/questions/39259687/python-facebook-open-graph-api-error-an-active-access-token-must-be-used-to-q/39261063#39261063", "title": "Python - Facebook Open Graph API Error: An active access token must be used to query information about the current user", "body": "<p>Thank you. Finally I figured out the error in the code. Now I can fetch data with GET requests.</p>\n\n<p>Revised Code:</p>\n\n<pre><code>def fb_crawler():\n    key = 'xyz'\n    parameters = {'access_token': key}\n    r = requests.get('https://graph.facebook.com/rio2016/posts', params = parameters)\n    result = r.json()\n</code></pre>\n\n<p>Error: It is access_token instead of access-token.</p>\n"}], "owner": {"reputation": 146, "user_id": 4922029, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a979c03781f00069f9a74185c6b465d4?s=128&d=identicon&r=PG&f=1", "display_name": "AMIT", "link": "https://stackoverflow.com/users/4922029/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472690327, "creation_date": 1472680956, "question_id": 39259687, "link": "https://stackoverflow.com/questions/39259687/python-facebook-open-graph-api-error-an-active-access-token-must-be-used-to-q", "title": "Python - Facebook Open Graph API Error: An active access token must be used to query information about the current user", "body": "<p>I am trying to fetch the details of a facebook page. For ex: <a href=\"https://graph.facebook.com/rio2016/posts?access-token=xxxxx\" rel=\"nofollow\">https://graph.facebook.com/rio2016/posts?access-token=xxxxx</a>. Now I generated a token in graph API explorer. If I use that token in Graph API explorer then I am able to get the data from above url. In fact, if I type the above url with the generated token in browser, I still get the data. But I am writing a python script in flask to achieve the same and I get the following error:</p>\n\n<pre><code>'message': 'An active access token must be used to query information about the current user.', 'fbtrace_id': 'Hnp1lPb3dXu', 'code': 2500, 'type': 'OAuthException'\n</code></pre>\n\n<p>Following is my python script:</p>\n\n<pre><code>def fb_crawler():\n    key = 'xyz'\n    parameters = {'access-token': key}\n    r = requests.get('https://graph.facebook.com/rio2016/posts', params = parameters)\n    result = r.json()\n    for i, v in result.items():\n        print(i)\n        print(v)\n    return result\n</code></pre>\n\n<p>It should simply be a GET request as in browser same url return desired result but not when used with a python script. Can someone please guide me here, what is going wrong? Thank you.</p>\n"}, {"tags": ["python", "autocomplete", "pyqt", "qsortfilterproxymodel", "qcompleter"], "answers": [{"tags": [], "owner": {"reputation": 2996, "user_id": 2052889, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PMcKO.gif?s=128&g=1", "display_name": "Shuman", "link": "https://stackoverflow.com/users/2052889/shuman"}, "is_accepted": true, "score": 1, "last_activity_date": 1472684097, "creation_date": 1472684097, "answer_id": 39260260, "question_id": 39259659, "link": "https://stackoverflow.com/questions/39259659/pyqt-qsortfilterproxymodel-index-from-wrong-model-passed-to-maptosource/39260260#39260260", "title": "PyQt QSortFilterProxyModel index from wrong model passed to mapToSource?", "body": "<p>paste the correct code here for reference</p>\n\n<pre><code>from PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\n\n\nimport sys\nimport re\nimport signal\nsignal.signal(signal.SIGINT, signal.SIG_DFL)\n\n\nclass MyModel(QStandardItemModel):\n\n    def __init__(self, parent=None):\n        super(MyModel, self).__init__(parent)\n\n    def data(self, index, role):\n\n        symbol = self.symbol_data[index.row()]\n        if role == Qt.DisplayRole:\n            return symbol[1]\n\n        elif role == Qt.UserRole:\n            return symbol[0]\n\n    def setup(self, data):\n        self.symbol_data = data\n        for line, name in data:\n            item = QStandardItem(name)\n            self.appendRow(item)\n\n\nclass MyGui(QDialog):\n\n    def __init__(self, parent=None):\n\n        super(MyGui, self).__init__(parent)\n\n        symbols = [(1, 'cb'), (3, 'cd'), (7, 'ca'), (11, 'aa'), (22, 'bd')]\n\n        model = MyModel()\n        model.setup(symbols)\n\n        layout = QVBoxLayout(self)\n        self.line = QLineEdit(self)\n\n        layout.addWidget(self.line)\n\n        self.setLayout(layout)\n\n        completer = CustomQCompleter()\n\n        completer.setModel(model)\n        completer.setCaseSensitivity(Qt.CaseInsensitive)\n        completer.setCompletionMode(QCompleter.UnfilteredPopupCompletion)\n        completer.setWrapAround(False)\n\n        self.line.setCompleter(completer)\n\n        self.completer = completer\n\n        self.completer.highlighted[QModelIndex].connect(self.test)\n\n        # QTimer.singleShot(0, self.completer.complete)\n        self.line.textChanged[QString].connect(self.pop)\n\n    def pop(self, *x):\n        text = x[0]\n        self.completer.splitPath(text)\n        QTimer.singleShot(0, self.completer.complete)\n\n        self.line.setFocus()\n\n    def test(self, index):\n        print 'row in completion model', index.row()\n        print 'data:', index.data(Qt.UserRole).toPyObject()\n\nclass CustomQCompleter(QCompleter):\n\n    def __init__(self, parent=None):\n        super(CustomQCompleter, self).__init__(parent)\n        self.local_completion_prefix = \"\"\n        self.source_model = None\n        self.first_down = True\n\n    def setModel(self, model):\n        self.source_model = model\n        self._proxy = QSortFilterProxyModel(\n            self, filterCaseSensitivity=Qt.CaseInsensitive)\n        self._proxy.setSourceModel(model)\n        super(CustomQCompleter, self).setModel(self._proxy)\n\n    def splitPath(self, path):\n        self.local_completion_prefix = str(path)\n        self._proxy.setFilterFixedString(path)\n        return \"\"\n\n    def eventFilter(self,  obj,  event):\n\n        if event.type() == QEvent.KeyPress:\n            'This is used to mute the connection to clear lineedit'\n            if event.key() in (Qt.Key_Down, Qt.Key_Up):\n                curIndex = self.popup().currentIndex()\n\n                if event.key() == Qt.Key_Down:\n                    if curIndex.row() == self._proxy.rowCount()-1:\n                        print 'already last row', curIndex.row()\n                        if self._proxy.rowCount() == 1:\n                            pass\n                        else:\n                            return True\n                else:\n                    if curIndex.row() == 0:\n                        print 'already first row'\n                        return True\n\n                if curIndex.row() == 0 and self.first_down:\n                    print 'already row 0 first'\n                    self.popup().setCurrentIndex(curIndex)\n                    self.first_down = False\n                    return True\n\n        super(CustomQCompleter, self).eventFilter(obj,  event)\n        return False\n\n\nif __name__ == '__main__':\n\n    app = QApplication(sys.argv)\n    gui = MyGui()\n    gui.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 2996, "user_id": 2052889, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PMcKO.gif?s=128&g=1", "display_name": "Shuman", "link": "https://stackoverflow.com/users/2052889/shuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 1, "accepted_answer_id": 39260260, "answer_count": 1, "score": 3, "last_activity_date": 1472684097, "creation_date": 1472680780, "last_edit_date": 1472684011, "question_id": 39259659, "link": "https://stackoverflow.com/questions/39259659/pyqt-qsortfilterproxymodel-index-from-wrong-model-passed-to-maptosource", "title": "PyQt QSortFilterProxyModel index from wrong model passed to mapToSource?", "body": "<p>I want to get the integer stored in <code>[(1, 'cb'), (3, 'cd'), (7, 'ca'), (11, 'aa'), (22, 'bd')]</code> when I select the drop down auto complete item. </p>\n\n<p>Because I used a QSortFilterProxyModel, when using down key to select the item, the index is from the proxy model.</p>\n\n<p>I read in the documentation that I should use <code>mapToSource</code> to get the index in original model, but here I got an error message <code>index from wrong model passed to mapToSource</code> and the <code>index.row()</code> is always -1. What am I missing? Thanks!</p>\n\n<p>The error is:</p>\n\n<pre><code>row in proxy model 0\nQSortFilterProxyModel: index from wrong model passed to mapToSource \nrow in original model -1\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>from PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\n\n\nimport sys\nimport re\nimport signal\nsignal.signal(signal.SIGINT, signal.SIG_DFL)\n\n\nclass MyModel(QStandardItemModel):\n\n    def __init__(self, parent=None):\n        super(MyModel, self).__init__(parent)\n\n    def data(self, index, role):\n\n        symbol = self.symbol_data[index.row()]\n        if role == Qt.DisplayRole:\n            return symbol[1]\n\n        elif role == Qt.UserRole:\n            return symbol[0]\n\n    def setup(self, data):\n        self.symbol_data = data\n        for line, name in data:\n            item = QStandardItem(name)\n            self.appendRow(item)\n\n\nclass MyGui(QDialog):\n\n    def __init__(self, parent=None):\n\n        super(MyGui, self).__init__(parent)\n\n        symbols = [(1, 'cb'), (3, 'cd'), (7, 'ca'), (11, 'aa'), (22, 'bd')]\n\n        model = MyModel()\n        model.setup(symbols)\n\n        layout = QVBoxLayout(self)\n        self.line = QLineEdit(self)\n\n        layout.addWidget(self.line)\n\n        self.setLayout(layout)\n\n        completer = CustomQCompleter()\n\n        completer.setModel(model)\n        completer.setCaseSensitivity(Qt.CaseInsensitive)\n        completer.setCompletionMode(QCompleter.UnfilteredPopupCompletion)\n        completer.setWrapAround(False)\n\n        self.line.setCompleter(completer)\n\n        self.completer = completer\n\n        self.completer.highlighted[QModelIndex].connect(self.test)\n\n        # qApp.processEvents()\n        # QTimer.singleShot(0, self.completer.complete)\n        self.line.textChanged[QString].connect(self.pop)\n\n    def pop(self, *x):\n        text = x[0]\n        self.completer.splitPath(text)\n        QTimer.singleShot(0, self.completer.complete)\n\n        self.line.setFocus()\n\n    def test(self, index):\n        print 'row in proxy model', index.row()\n        print 'row in original model', self.completer.model().mapToSource(index).row()\n        # print 'line in original model:',\n        # self.completer.model().sourceModel().symbol_data[x[0].row()][0]\n\n\nclass CustomQCompleter(QCompleter):\n\n    def __init__(self, parent=None):\n        super(CustomQCompleter, self).__init__(parent)\n        self.local_completion_prefix = \"\"\n        self.source_model = None\n        self.first_down = True\n\n    def setModel(self, model):\n        self.source_model = model\n        self._proxy = QSortFilterProxyModel(\n            self, filterCaseSensitivity=Qt.CaseInsensitive)\n        self._proxy.setSourceModel(model)\n        super(CustomQCompleter, self).setModel(self._proxy)\n\n    def splitPath(self, path):\n        self.local_completion_prefix = str(path)\n        self._proxy.setFilterFixedString(path)\n        return \"\"\n\n    def eventFilter(self,  obj,  event):\n\n        if event.type() == QEvent.KeyPress:\n            'This is used to mute the connection to clear lineedit'\n            if event.key() in (Qt.Key_Down, Qt.Key_Up):\n                curIndex = self.popup().currentIndex()\n\n                if event.key() == Qt.Key_Down:\n                    if curIndex.row() == self._proxy.rowCount()-1:\n                        print 'already last row', curIndex.row()\n                        if self._proxy.rowCount() == 1:\n                            pass\n                        else:\n                            return True\n                else:\n                    if curIndex.row() == 0:\n                        print 'already first row'\n                        return True\n\n                if curIndex.row() == 0 and self.first_down:\n                    print 'already row 0 first'\n                    self.popup().setCurrentIndex(curIndex)\n                    self.first_down = False\n                    return True\n\n        super(CustomQCompleter, self).eventFilter(obj,  event)\n        return False\n\n\nif __name__ == '__main__':\n\n    app = QApplication(sys.argv)\n    gui = MyGui()\n    gui.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>update:\nThis is resolved, Thanks for the help from Avaris in #pyqt. It turns out that I can do this to map the index to original model</p>\n\n<pre><code>proxy_index= self.completer.completionModel().mapToSource(index)\nprint 'original row:', self.completer.model().mapToSource(proxy_index).row()\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>print 'data:', index.data(Qt.UserRole).toPyObject()\n</code></pre>\n\n<p>becuase: \"\ncompletionModel() is actually a proxy model on .model()</p>\n\n<p>you don't need to mess with mapToSource for that. index.data(Qt.UserRole) should give you that number regardless of which index is returned</p>\n\n<p>just an fyi, you rarely need to use mapToSource outside of a (proxy) model. it's mostly for internal use. a proper proxy should forward all relevant queries from the source. so you can use the proxy as if you're using the source one\n-Avaris\n\"</p>\n"}, {"tags": ["python", "html", "xpath", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "is_accepted": false, "score": 1, "last_activity_date": 1472696403, "creation_date": 1472696403, "answer_id": 39261738, "question_id": 39259612, "link": "https://stackoverflow.com/questions/39259612/scrapy-indexing-in-order/39261738#39261738", "title": "Scrapy indexing in order", "body": "<p>I guess you could solve the issue with something like this:</p>\n\n<pre><code># Select multiple targeting nodes at once\nsel_raw = '|'.join([\n    \"//div[@class='article']/h2\",\n    \"//div[@class='article']/h3\",\n    # Whatever else you want to select here\n])\nfor sel in sel.xpath(sel_raw):\n    # Extract the texts for later use\n    texts = sel.xpath('self::*//text()').extract()\n    if sel.xpath('self::h2'):\n        # A h2 element. Do something with texts\n        pass\n    elif sel.xpath('self::h3'):\n        # A h3 element. Do something with texts\n        pass\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3993462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WZr7E.jpg?s=128&g=1", "display_name": "nomad", "link": "https://stackoverflow.com/users/3993462/nomad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472696403, "creation_date": 1472680549, "question_id": 39259612, "link": "https://stackoverflow.com/questions/39259612/scrapy-indexing-in-order", "title": "Scrapy indexing in order", "body": "<p>I'm currently creating a cutsom webcrawler with Scrapy and try to index the fetched content with Elasticsearch.\nWorks fine until as of now, but I'm only capable of adding content to the search index in the order the crawler filters html tags.\nSo for example with</p>\n\n<pre><code>sel.xpath(\"//div[@class='article']/h2//text()\").extract()\n</code></pre>\n\n<p>I can get all the content from all h2 tags inside a div with the class \"article\", so far so good. The next elements that get inside the index are from all h3 tags, naturally:</p>\n\n<pre><code>sel.xpath(\"//div[@class='article']/h3//text()\").extract()\n</code></pre>\n\n<p>But the problem here is that the entire order of the text on a site would get messed up like that, since all headlines would get indexed first and only then their child nodes get the chance, which is kind of fatal for a search index.\nDoes have a tip how to properly get all the content from a page in the right order? (doesnt have to be xpath, just with Scrapy)</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472681684, "post_id": 39259570, "comment_id": 65855638, "body": "maybe <code>data = b&#39;Q&#39; * 192</code>?"}, {"owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472689608, "post_id": 39259570, "comment_id": 65857787, "body": "@ Tadhg McDonald-Jensen, I tried data = bytes(192 * &#39;Q&#39;, &#39;utf8&#39;) but the error was: &quot;this_val = ord(source_string[count + 1]) * 256 + ord(source_string[count]) TypeError: ord() expected string of length 1, but int found&quot;"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1472696283, "post_id": 39259570, "comment_id": 65859260, "body": "ah, that is because when <code>bytes</code> is indexed it returns the byte as an integer (the <code>ord</code> of the corresponding character) so you should be able to remove the call to <code>ord</code> entirely if <code>data</code> needs to be <code>bytes</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6411, "user_id": 1911548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89aaf241a35c92275b823a07b995288c?s=128&d=identicon&r=PG", "display_name": "Sergey Gornostaev", "link": "https://stackoverflow.com/users/1911548/sergey-gornostaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1472703856, "creation_date": 1472703856, "answer_id": 39262694, "question_id": 39259570, "link": "https://stackoverflow.com/questions/39259570/porting-a-python-2-code-to-python-3-icmp-scan-with-errors/39262694#39262694", "title": "Porting a python 2 code to Python 3: ICMP Scan with errors", "body": "<pre><code>import random\nimport socket\nimport time\nimport ipaddress\nimport struct\n\nfrom threading import Thread\n\ndef checksum(source_string):\n    sum = 0\n    count_to = (len(source_string) / 2) * 2\n    count = 0\n    while count &lt; count_to:\n        this_val = source_string[count + 1] * 256 + source_string[count]\n        sum = sum + this_val\n        sum = sum &amp; 0xffffffff\n        count = count + 2\n    if count_to &lt; len(source_string):\n        sum = sum + source_string[len(source_string) - 1]\n        sum = sum &amp; 0xffffffff\n    sum = (sum &gt;&gt; 16) + (sum &amp; 0xffff)\n    sum = sum + (sum &gt;&gt; 16)\n    answer = ~sum\n    answer = answer &amp; 0xffff\n    answer = answer &gt;&gt; 8 | (answer &lt;&lt; 8 &amp; 0xff00)\n    return answer\n\n\ndef create_packet(id):\n    header = struct.pack('bbHHh', 8, 0, 0, id, 1)\n    data = 192 * b'Q'\n    my_checksum = checksum(header + data)\n    header = struct.pack('bbHHh', 8, 0, socket.htons(my_checksum), id, 1)\n    return header + data\n\n\ndef ping(addr, timeout=1):\n    try:\n        my_socket = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP)\n    except Exception as e:\n        print (e)\n    packet_id = int((id(timeout) * random.random()) % 65535)\n    packet = create_packet(packet_id)\n    my_socket.connect((addr, 80))\n    my_socket.sendall(packet)\n    my_socket.close()\n\n\ndef rotate(addr, file_name, wait, responses):\n    print (\"Sending Packets\", time.strftime(\"%X %x %Z\"))\n    for ip in addr:\n        ping(str(ip))\n        time.sleep(wait)\n    print (\"All packets sent\", time.strftime(\"%X %x %Z\"))\n\n    print (\"Waiting for all responses\")\n    time.sleep(2)\n\n    # Stoping listen\n    global SIGNAL\n    SIGNAL = False\n    ping('127.0.0.1')  # Final ping to trigger the false signal in listen\n\n    print (len(responses), \"hosts found!\")\n    print (\"Writing File\")\n    hosts = set()\n    for response in sorted(responses):\n        ip = struct.unpack('BBBB', response)\n        ip = str(ip[0]) + \".\" + str(ip[1]) + \".\" + str(ip[2]) + \".\" + str(ip[3])\n        hosts.add(ip)\n    with open(file_name, 'w') as file:\n        file.write('\\n'.join(sorted(hosts, key=lambda item: socket.inet_aton(item))))\n\n    print (\"Done\", time.strftime(\"%X %x %Z\"))\n\n\ndef listen(responses):\n    global SIGNAL\n    s = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP)\n    s.bind(('', 1))\n    print (\"Listening\")\n    while SIGNAL:\n        packet = s.recv(1024)[:20][-8:-4]\n        responses.append(packet)\n    print (\"Stop Listening\")\n    s.close()\n\nSIGNAL = True\n\nresponses = []\n\nips = '192.168.1.0/28' # Internet network\nwait = 0.002  # Adjust this based in your bandwidth (Faster link is Lower wait)\nfile_name = 'log1.txt'\n\nip_network = ipaddress.ip_network(ips, strict=False)\n\nt_server = Thread(target=listen, args=[responses])\nt_server.start()\n\nt_ping = Thread(target=rotate, args=[ip_network, file_name, wait, responses])\nt_ping.start()\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 39262694, "answer_count": 1, "score": 2, "last_activity_date": 1472703856, "creation_date": 1472680333, "question_id": 39259570, "link": "https://stackoverflow.com/questions/39259570/porting-a-python-2-code-to-python-3-icmp-scan-with-errors", "title": "Porting a python 2 code to Python 3: ICMP Scan with errors", "body": "<pre><code>import random\nimport socket\nimport time\nimport ipaddress\nimport struct\n\nfrom threading import Thread\n\n\ndef checksum(source_string):\n    sum = 0\n    count_to = (len(source_string) / 2) * 2\n    count = 0\n    while count &lt; count_to:\n        this_val = ord(source_string[count + 1]) * 256 + ord(source_string[count])\n        sum = sum + this_val\n        sum = sum &amp; 0xffffffff\n        count = count + 2\n    if count_to &lt; len(source_string):\n        sum = sum + ord(source_string[len(source_string) - 1])\n        sum = sum &amp; 0xffffffff\n    sum = (sum &gt;&gt; 16) + (sum &amp; 0xffff)\n    sum = sum + (sum &gt;&gt; 16)\n    answer = ~sum\n    answer = answer &amp; 0xffff\n    answer = answer &gt;&gt; 8 | (answer &lt;&lt; 8 &amp; 0xff00)\n    return answer\n\n\ndef create_packet(id):\n    header = struct.pack('bbHHh', 8, 0, 0, id, 1)\n    data = 192 * 'Q'\n    my_checksum = checksum(header + data)\n    header = struct.pack('bbHHh', 8, 0, socket.htons(my_checksum), id, 1)\n    return header + data\n\n\ndef ping(addr, timeout=1):\n    try:\n        my_socket = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP)\n    except Exception as e:\n        print (e)\n    packet_id = int((id(timeout) * random.random()) % 65535)\n    packet = create_packet(packet_id)\n    my_socket.connect((addr, 80))\n    my_socket.sendall(packet)\n    my_socket.close()\n\n\ndef rotate(addr, file_name, wait, responses):\n    print (\"Sending Packets\", time.strftime(\"%X %x %Z\"))\n    for ip in addr:\n        ping(str(ip))\n        time.sleep(wait)\n    print (\"All packets sent\", time.strftime(\"%X %x %Z\"))\n\n    print (\"Waiting for all responses\")\n    time.sleep(2)\n\n    # Stoping listen\n    global SIGNAL\n    SIGNAL = False\n    ping('127.0.0.1')  # Final ping to trigger the false signal in listen\n\n    print (len(responses), \"hosts found!\")\n    print (\"Writing File\")\n    hosts = []\n    for response in sorted(responses):\n        ip = struct.unpack('BBBB', response)\n        ip = str(ip[0]) + \".\" + str(ip[1]) + \".\" + str(ip[2]) + \".\" + str(ip[3])\n        hosts.append(ip)\n    file = open(file_name, 'w')\n    file.write(str(hosts))\n\n    print (\"Done\", time.strftime(\"%X %x %Z\"))\n\n\ndef listen(responses):\n    global SIGNAL\n    s = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_ICMP)\n    s.bind(('', 1))\n    print (\"Listening\")\n    while SIGNAL:\n        packet = s.recv(1024)[:20][-8:-4]\n        responses.append(packet)\n    print (\"Stop Listening\")\n    s.close()\n\nSIGNAL = True\n\nresponses = []\n\nips = '200.131.0.0/20' # Internet network\nwait = 0.002  # Adjust this based in your bandwidth (Faster link is Lower wait)\nfile_name = 'log1.txt'\n\nip_network = ipaddress.ip_network(unicode(ips), strict=False)\n\nt_server = Thread(target=listen, args=[responses])\nt_server.start()\n\nt_ping = Thread(target=rotate, args=[ip_network, file_name, wait, responses])\nt_ping.start()\n</code></pre>\n\n<p>I tried:</p>\n\n<p><code>ip_network = ipaddress.ip_network( ips, strict=False)</code> instead of <code>ip_network = ipaddress.ip_network(unicode(ips), strict=False)</code></p>\n\n<p>because of the error: \"\"NameError: name 'unicode' is not defined\"</p>\n\n<p>after:</p>\n\n<p>I got: <code>my_checksum = checksum(header + data)</code> -> TypeError: can't concat bytes to str</p>\n\n<p>so I tried:</p>\n\n<p><code>data =  bytes(192 * 'Q').encode('utf8')</code> instead of <code>data =  192 * 'Q'</code></p>\n\n<p>Now, the error is : \"\"data = bytes (192 * 'Q').encode('utf8') TypeError: string argument without an encoding\"</p>\n\n<p>Could anyone help me to port the code to Python 3 ?</p>\n"}, {"tags": ["python", "sparql", "rdflib"], "comments": [{"owner": {"reputation": 80605, "user_id": 1281433, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/O8XCE.png?s=128&g=1", "display_name": "Joshua Taylor", "link": "https://stackoverflow.com/users/1281433/joshua-taylor"}, "edited": false, "score": 0, "creation_date": 1472693444, "post_id": 39259431, "comment_id": 65858602, "body": "The question doesn&#39;t really match the title.  The title is asking about variable madness. The question is asking about (probably) other properties of the values of the variables."}, {"owner": {"reputation": 353, "user_id": 5322959, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6151cdf25df10ccc2979abb9f26eef6f?s=128&d=identicon&r=PG&f=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/5322959/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1472732567, "post_id": 39259431, "comment_id": 65877253, "body": "Thanks for pointing me to this post. A key difference and the reason I did not find the post you suggest is the fact that I am working in RDFLIB in python. Let me try some of this and see if it will work in that library."}, {"owner": {"reputation": 19956, "user_id": 451941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/445f31cee6cbc99490297198c54f2589?s=128&d=identicon&r=PG", "display_name": "Jeen Broekstra", "link": "https://stackoverflow.com/users/451941/jeen-broekstra"}, "edited": false, "score": 0, "creation_date": 1473111126, "post_id": 39259431, "comment_id": 66007002, "body": "@MadProgrammer I don&#39;t see why not - SPARQL is SPARQL (or at least - it should be) :)"}], "owner": {"reputation": 353, "user_id": 5322959, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6151cdf25df10ccc2979abb9f26eef6f?s=128&d=identicon&r=PG&f=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/5322959/madprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1472739815, "answer_count": 0, "score": 0, "last_activity_date": 1472679557, "creation_date": 1472679557, "question_id": 39259431, "link": "https://stackoverflow.com/questions/39259431/return-variable-name-from-sparql-query-in-rdflib-python", "closed_reason": "Duplicate", "title": "Return Variable Name from sparql query in rdflib python", "body": "<p>I am starting out learning about SPARQL and rdflib. I stumbled upon this simple example online:</p>\n\n<pre><code>import rdflib\n# Now we create a graph, a representaiton of the ontology\ng = rdflib.Graph()\n\n# Now define the key words that we will use (the edge weights of the graph)\nhas_border_with = rdflib.URIRef('http://www.example.org/has_border_with')\nlocated_in = rdflib.URIRef('http://www.example.org/located_in')\n\n# define the things - base level objects that will be the nodes\n# In this case first we have countries\ngermany = rdflib.URIRef('http://www.example.org/country1')\nfrance = rdflib.URIRef('http://www.example.org/country2')\nchina = rdflib.URIRef('http://www.example.org/country3')\nmongolia = rdflib.URIRef('http://www.example.org/country4')\n\n# then we have continents\neuropa = rdflib.URIRef('http://www.example.org/part1')\nasia = rdflib.URIRef('http://www.example.org/part2')\n\n# Having defined the things and the edge weights, now assemble the graph\ng.add((germany,has_border_with,france))\ng.add((china,has_border_with,mongolia))\ng.add((germany,located_in,europa))\ng.add((france,located_in,europa))\ng.add((china,located_in,asia))\ng.add((mongolia,located_in,asia))\n\n# now execute a sparql query to search as an example\nq = \"select ?country where { ?country &lt;http://www.example.org/located_in&gt; &lt;http://www.example.org/part1&gt; }\"\nx = g.query(q)\nprint type(x)\nprint list(x)\n</code></pre>\n\n<p>This works fine, but I dont want to retrieve the URIs, I want the actual country names: Germany and France. How do I reference the names from the query URIs?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 2, "creation_date": 1472679613, "post_id": 39259411, "comment_id": 65854881, "body": "What exactly do you mean? do you mean storing the function names, storing the function calls, or storing the function instances? What is meant by <i>rules</i>? Do you mean storing function parameters?"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 1, "creation_date": 1472679716, "post_id": 39259411, "comment_id": 65854925, "body": "in a file?  You are not clear"}, {"owner": {"reputation": 2474, "user_id": 6664305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8bd5952ac4906f4a632e9f6d0129890?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Torba", "link": "https://stackoverflow.com/users/6664305/dmitry-torba"}, "edited": false, "score": 1, "creation_date": 1472679724, "post_id": 39259411, "comment_id": 65854927, "body": "Depends on where you want to store it. In a file? In memory?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1472679752, "post_id": 39259411, "comment_id": 65854940, "body": "You&#39;re going to have to be way more specific. As Mr.goosberry brought up, what exactly do you mean by &quot;function rules?&quot; Are these just function names, objects... what? And what exactly do you plan on doing? What will &quot;managing&quot; these &quot;rules&quot; involve?"}, {"owner": {"reputation": 2172, "user_id": 6368214, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a33c7bc154d558f21f9296b778a221d1?s=128&d=identicon&r=PG&f=1", "display_name": "tensor", "link": "https://stackoverflow.com/users/6368214/tensor"}, "edited": false, "score": 0, "creation_date": 1472682467, "post_id": 39259411, "comment_id": 65855903, "body": "Store function instances in Python memory structure."}], "answers": [{"tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 2, "last_activity_date": 1472679725, "creation_date": 1472679725, "answer_id": 39259467, "question_id": 39259411, "link": "https://stackoverflow.com/questions/39259411/what-is-the-best-way-to-store-a-list-of-functions/39259467#39259467", "title": "What is the best way to store a list of functions?", "body": "<p>Functions are first class objects in Python - you can store them just like you'd store any other variable or value:</p>\n\n<pre><code>def a():\n  pass\n\ndef b():\n  pass\n\nfuncs = [a,b]\nfuncs[0]() # calls `a()`.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1472679882, "post_id": 39259476, "comment_id": 65854986, "body": "This was my original thinking as well; He wanted to store a list of function arguments. But it seems more likely that we wants to store a function instance."}, {"owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1472680064, "post_id": 39259476, "comment_id": 65855045, "body": "I&#39;m not using it to store function arguments but the functions themselves. Using <code>some_args</code> just to show where arguments would go."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1472680185, "post_id": 39259476, "comment_id": 65855090, "body": "Ok, I think i get what your doing now."}], "tags": [], "owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "is_accepted": false, "score": 1, "last_activity_date": 1472680246, "last_edit_date": 1472680246, "creation_date": 1472679804, "answer_id": 39259476, "question_id": 39259411, "link": "https://stackoverflow.com/questions/39259411/what-is-the-best-way-to-store-a-list-of-functions/39259476#39259476", "title": "What is the best way to store a list of functions?", "body": "<p>When you use those rules, you're going to have to reference them <em>somehow</em>. If your example is a hint of the naming convention, then go with a list. Calling them in sequence would be easy via <code>map</code> or in a loop.</p>\n\n<pre><code>rules = [rule1, rule2, ...]\nfor fn in rules:\n    fn(arg1, arg2)  # this calls rule1 and rule2 with args (as an example)\n</code></pre>\n\n<p>If you may also reference them by name, then use a dict, like:</p>\n\n<pre><code>rules = {'rule1': rule1, 'rule2': rule2, ...}\nsomething = rules['rule5'](arg1, arg2)\n# or\nfor rule in rules:  # iterates over the dict's keys\n    rules[rule](arg1, arg2)\n</code></pre>\n"}], "owner": {"reputation": 2172, "user_id": 6368214, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a33c7bc154d558f21f9296b778a221d1?s=128&d=identicon&r=PG&f=1", "display_name": "tensor", "link": "https://stackoverflow.com/users/6368214/tensor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472682388, "creation_date": 1472679472, "last_edit_date": 1472682388, "question_id": 39259411, "link": "https://stackoverflow.com/questions/39259411/what-is-the-best-way-to-store-a-list-of-functions", "title": "What is the best way to store a list of functions?", "body": "<p>I need to store a large numbers of functions rules in Python (around 100000 ), to be used after....</p>\n\n<pre><code>def rule1(x,y) :...\ndef rule2(x,y): ...\n</code></pre>\n\n<p>What is the best way to store, manage those function rules instance into Python structure ? </p>\n\n<p>What about using Numpy dtype=np.object array ?\n(list are bad when they become too large...)</p>\n\n<p>Main goal is to access in the fastest and minimum memory footprint when storing in memory.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 0, "creation_date": 1472679422, "post_id": 39259383, "comment_id": 65854789, "body": "Did you try to write something yourself? Put some code in the question..."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1472680216, "post_id": 39259383, "comment_id": 65855100, "body": "Your <code>c</code> value is a bit of an enigma. You have a list with a single dictionary in that list, but the resulting output is a list with the key-value pairs from that one dictionary transformed to separate dictionaries. What should happen if there are more than one element in that <code>c</code> list? What if there are more lists contained, or objects that are not dictionaries? The same applies to <code>d2</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1472680290, "post_id": 39259383, "comment_id": 65855127, "body": "My solution below results in a <i>nested</i> list, as the single dictionary is transformed to a list of key-value dictionaries. If there is more than one dictionary, that means each of those becomes a separate list inside the master <code>c</code> list. Any other object types are also handled properly this way."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6014215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c0ea25ad78e683857e98ffbec50e794?s=128&d=identicon&r=PG&f=1", "display_name": "Astrea", "link": "https://stackoverflow.com/users/6014215/astrea"}, "edited": false, "score": 0, "creation_date": 1472680448, "post_id": 39259446, "comment_id": 65855176, "body": "So when working with nested dicts you need a recursive function so that when it comes across a nested dict it can loop back into the function and cont. working on the dict in side the dict? Thank you So much for your help it is much appreciated!!!!"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 63, "user_id": 6014215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c0ea25ad78e683857e98ffbec50e794?s=128&d=identicon&r=PG&f=1", "display_name": "Astrea", "link": "https://stackoverflow.com/users/6014215/astrea"}, "edited": false, "score": 0, "creation_date": 1472680540, "post_id": 39259446, "comment_id": 65855211, "body": "Note that you don&#39;t <i>have</i> to use recursion; I just find it easier to write a recursive function for this. You could use a stack and a loop too."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1472680112, "last_edit_date": 1472680112, "creation_date": 1472679652, "answer_id": 39259446, "question_id": 39259383, "link": "https://stackoverflow.com/questions/39259383/how-do-i-create-a-new-dict-of-dicts-from-a-dict-with-nested-dicts-in-python/39259446#39259446", "title": "How do I create a new dict of dicts from a dict with nested dicts in Python", "body": "<p>You can build the output with a recursive function:</p>\n\n<pre><code>def transform(ob):\n    if isinstance(ob, list):\n        return [transform(v) for v in ob]\n    elif not isinstance(ob, dict):\n        return ob\n    return [{'element_name': k, 'value': transform(v)}\n            for k, v in ob.items()]\n\nvalues = {'fields': transform(start_dict)}\n</code></pre>\n\n<p>so each <code>key, value</code> pair is transformed to a <code>{'element_name': key, 'value': value}</code> dictionary in a list, where any value that is itself a list or dictionary is transformed by a recursive call.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; def transform(ob):\n...     if isinstance(ob, list):\n...         return [transform(v) for v in ob]\n...     elif not isinstance(ob, dict):\n...         return ob\n...     return [{'element_name': k, 'value': transform(v)}\n...             for k, v in ob.items()]\n...\n&gt;&gt;&gt; start_dict = {\n...     \"a\": 795,\n...     \"b\": 1337,\n...     \"c\": [\n...         {\n...             \"d1\": 2,\n...             \"d2\": [\n...                  {\n...                       \"e1\": 4\n...                  }\n...         ]\n...         }\n...     ]\n...     }\n&gt;&gt;&gt; pprint({'fields': transform(start_dict)})\n{'fields': [{'element_name': 'a', 'value': 795},\n            {'element_name': 'c',\n             'value': [[{'element_name': 'd1', 'value': 2},\n                        {'element_name': 'd2',\n                         'value': [[{'element_name': 'e1', 'value': 4}]]}]]},\n            {'element_name': 'b', 'value': 1337}]}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6014215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c0ea25ad78e683857e98ffbec50e794?s=128&d=identicon&r=PG&f=1", "display_name": "Astrea", "link": "https://stackoverflow.com/users/6014215/astrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 39259446, "answer_count": 1, "score": 0, "last_activity_date": 1472680112, "creation_date": 1472679319, "last_edit_date": 1472679741, "question_id": 39259383, "link": "https://stackoverflow.com/questions/39259383/how-do-i-create-a-new-dict-of-dicts-from-a-dict-with-nested-dicts-in-python", "title": "How do I create a new dict of dicts from a dict with nested dicts in Python", "body": "<p>I am starting with a dict received from an api </p>\n\n<pre><code>start_dict = { \n    \"a\": 795, \n    \"b\": 1337, \n    \"c\": [\n        {\n            \"d1\": 2,\n            \"d2\": [\n                 {\n                      \"e1\": 4\n                 }\n        ]\n        }\n    ]\n    }\n</code></pre>\n\n<p>I need to create a separate dict from that dict. That has each of the keys and value separated by their key and value into there own dict. While keeping the nested dicts intact.</p>\n\n<pre><code>values =\n{\n\"fields\": [\n  {\n    \"element_name\": \"a\",\n    \"value\": 795\n  },\n  {\n    \"element_name\": \"b\",\n    \"value\": 1337\n  },\n  { \n    \"element_name\": \"c\",\n    \"value\": [\n            {\n                 \"element_name\": \"d1\",\n                 \"value\": 2\n            },\n            {\n                 \"element_name\": \"d2\",\n                 \"value\" : [\n                          {\n                               \"element_name\": \"e1\",\n                               \"value\": 4\n                          }\n                      ]\n            ]\n       }\n    ]\n  }\n</code></pre>\n\n<p>The actual dict is quite a bit larger but there are no more then one two deep nested dicts in the original but many single nested dicts. This is the only way the api will accept new data so I am kinda stuck until I figure it out. Any help is greatly appreciated as I am quite new to Python (3 Weeks) lol so if this is something simple please don't be to harsh.</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "game-loop"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1472679434, "post_id": 39259378, "comment_id": 65854796, "body": "Use <a href=\"http://stackoverflow.com/a/25753719/1222951\"><code>root.after(timeout, callback_func)</code></a>"}, {"owner": {"reputation": 135, "user_id": 6605696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-OEHOKzRdhFQ/AAAAAAAAAAI/AAAAAAAAAR0/pGjp8xp2dQM/photo.jpg?sz=128", "display_name": "Logan Darby", "link": "https://stackoverflow.com/users/6605696/logan-darby"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1472684581, "post_id": 39259378, "comment_id": 65856546, "body": "@Rawing Sorry, could you elaborate? I seem to be getting nothing but errors."}], "owner": {"reputation": 135, "user_id": 6605696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-OEHOKzRdhFQ/AAAAAAAAAAI/AAAAAAAAAR0/pGjp8xp2dQM/photo.jpg?sz=128", "display_name": "Logan Darby", "link": "https://stackoverflow.com/users/6605696/logan-darby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "closed_date": 1472679944, "answer_count": 0, "score": 0, "last_activity_date": 1472679303, "creation_date": 1472679303, "question_id": 39259378, "link": "https://stackoverflow.com/questions/39259378/python-3-x-proper-way-to-make-gameloop-in-tkinter", "closed_reason": "Duplicate", "title": "Python 3.x Proper way to make gameloop in tkinter?", "body": "<p>I am making a game in tkinter, and I was wondering if there was a proper way to make a game loop. With the current gameloop, whenever I update an object's position, It can be blurry. Here is my current gameloop:</p>\n\n<pre><code>self.running = True\n      while self.running:\n          for object1,object2,command,*args in coldetect:\n              self.detectcollision(object1,object2,command,*args)\n\n          self.canvas.delete('all')\n\n          for s in cubes:\n              s.draw()\n\n          self.root.update()\n          self.root.update_idletasks()\n\n          sleep(1/30)\n</code></pre>\n\n<p>where <code>self.root</code> is an object of <code>tkinter.Tk()</code>, and <code>cubes</code> is a list of objects with the function <code>draw()</code></p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 2, "creation_date": 1472691631, "post_id": 39259371, "comment_id": 65858220, "body": "Why did you expect non-integer results in your numpy array, when they weren&#39;t in your list!?"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679436, "creation_date": 1472679436, "answer_id": 39259407, "question_id": 39259371, "link": "https://stackoverflow.com/questions/39259371/np-array-returning-numpy-ndarray-with/39259407#39259407", "title": "np.array returning numpy.ndarray with &quot;...&quot;", "body": "<p>Your array is fine. NumPy just suppresses display of the whole array for large arrays by default.</p>\n\n<p>(If you actually <em>were</em> expecting your array to be short enough not to trigger this behavior, or if you were actually expecting it to have non-integer entries, you'll have to explain why you expected that.)</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2758034"}, "edited": false, "score": 0, "creation_date": 1472679811, "post_id": 39259428, "comment_id": 65854964, "body": "this should show me all the results? i tried and i don&#39;t see any difference."}, {"owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "edited": false, "score": 0, "creation_date": 1472739770, "post_id": 39259428, "comment_id": 65882841, "body": "So increase the precision to the size of your array. Though I think the max might be 999."}], "tags": [], "owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679537, "creation_date": 1472679537, "answer_id": 39259428, "question_id": 39259371, "link": "https://stackoverflow.com/questions/39259371/np-array-returning-numpy-ndarray-with/39259428#39259428", "title": "np.array returning numpy.ndarray with &quot;...&quot;", "body": "<pre><code>numpy.set_printoptions(precision=20)\n</code></pre>\n\n<p>Will give you more displayabilty, set precision as you desire.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1472681937, "creation_date": 1472681937, "answer_id": 39259861, "question_id": 39259371, "link": "https://stackoverflow.com/questions/39259371/np-array-returning-numpy-ndarray-with/39259861#39259861", "title": "np.array returning numpy.ndarray with &quot;...&quot;", "body": "<p>With your sample:</p>\n\n<pre><code>In [574]: dados=[[5.0, 8.0, 10.0, 1.0], [8.0, 9.0, 9.0, 1.0], [7.0, 5.0, 6.0, 1.\n     ...: 0], [5.0, 8.0, 7.0, 0.0], [9.0, 7.0, 10.0, 0.0], [6.0, 7.0, 9.0, 1.0],\n     ...:  [6.0, 9.0, 8.0, 1.0]]\n\nIn [575]: print(dados)\n[[5.0, 8.0, 10.0, 1.0], [8.0, 9.0, 9.0, 1.0], [7.0, 5.0, 6.0, 1.0], [5.0, 8.0, 7.0, 0.0], [9.0, 7.0, 10.0, 0.0], [6.0, 7.0, 9.0, 1.0], [6.0, 9.0, 8.0, 1.0]]\n</code></pre>\n\n<p>convert it to an array, an see the whole thing.  Your input didn't have decimals to numpy display omits those.</p>\n\n<pre><code>In [576]: print(np.array(dados))\n[[  5.   8.  10.   1.]\n [  8.   9.   9.   1.]\n [  7.   5.   6.   1.]\n [  5.   8.   7.   0.]\n [  9.   7.  10.   0.]\n [  6.   7.   9.   1.]\n [  6.   9.   8.   1.]]\n</code></pre>\n\n<p>Replicate the list many times, and print display has this <code>...</code>, rather than show 10,000 lines.  That's nice isn't it?</p>\n\n<pre><code>In [577]: print(np.array(dados*1000))\n[[  5.   8.  10.   1.]\n [  8.   9.   9.   1.]\n [  7.   5.   6.   1.]\n ..., \n [  9.   7.  10.   0.]\n [  6.   7.   9.   1.]\n [  6.   9.   8.   1.]]\n</code></pre>\n\n<p>The full array is still there</p>\n\n<pre><code>In [578]: np.array(dados*1000).shape\nOut[578]: (7000, 4)\n</code></pre>\n\n<p>The default is for numpy to add the  ellipsis when the total number of entries is 1000.  Do you really need to see all those lines?</p>\n\n<p>That print standard can be changed, but I question whether you need to do that.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2758034"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472691610, "creation_date": 1472679278, "last_edit_date": 1472691610, "question_id": 39259371, "link": "https://stackoverflow.com/questions/39259371/np-array-returning-numpy-ndarray-with", "title": "np.array returning numpy.ndarray with &quot;...&quot;", "body": "<p>I created a script to generate a list:</p>\n\n<pre><code>import random\n\nnota1 = range (5, 11)\nnota2 = range (5, 11)\nnota3 = range (5, 11)\nnota4 = range (0, 2)\n\ndados = []\n\nfor i in range(1000):\n\n    dados_dado = []\n\n    n1 = random.choice(nota1)\n    n2 = random.choice(nota2)\n    n3 = random.choice(nota3)\n    n4 = random.choice(nota4)\n\n    n1 = float (n1)\n    n2 = float (n2)\n    n3 = float (n3)\n    n4 = float (n4)\n\n    dados_dado.append (n1)\n    dados_dado.append (n2)\n    dados_dado.append (n3)\n    dados_dado.append (n4)\n\n    dados.append (dados_dado)\n</code></pre>\n\n<p>When i print <code>type (dados)</code> python return: <code>&lt;type 'list'&gt;</code>, a huge list that looks like this:</p>\n\n<pre><code>[[5.0, 8.0, 10.0, 1.0], [8.0, 9.0, 9.0, 1.0], [7.0, 5.0, 6.0, 1.0], [5.0, 8.0, 7.0, 0.0], [9.0, 7.0, 10.0, 0.0], [6.0, 7.0, 9.0, 1.0], [6.0, 9.0, 8.0, 1.0]]\n</code></pre>\n\n<p>I need to transform it to <code>&lt;type 'numpy.ndarray'&gt;</code> so i made :</p>\n\n<pre><code>data = np.array(dados)\n</code></pre>\n\n<p>What i expected to return was something like this:</p>\n\n<pre><code> [[ 6.8  3.2  5.9  2.3]\n [ 6.7  3.3  5.7  2.5]\n [ 6.7  3.   5.2  2.3]\n [ 6.3  2.5  5.   1.9]\n [ 6.5  3.   5.2  2. ]\n [ 6.2  3.4  5.4  2.3]\n [ 5.9  3.   5.1  1.8]]\n</code></pre>\n\n<p>But, what i get instead is:</p>\n\n<pre><code> [[  7.  10.   6.   1.]\n  [  8.   6.   6.   1.]\n  [  6.   9.   5.   0.]\n  ..., \n  [  9.   7.  10.   0.]\n  [  6.   7.   9.   1.]\n  [  6.   9.   8.   1.]]\n</code></pre>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["python", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 5484379, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9JoN_k8jOTc/AAAAAAAAAAI/AAAAAAAAAAA/cg8T5g5YU4o/photo.jpg?sz=128", "display_name": "Doss Gunter", "link": "https://stackoverflow.com/users/5484379/doss-gunter"}, "is_accepted": true, "score": 1, "last_activity_date": 1472781850, "creation_date": 1472781850, "answer_id": 39283290, "question_id": 39259367, "link": "https://stackoverflow.com/questions/39259367/pyqt5-progamically-adding-qwidget-to-layout-doesnt-show-qwidget-when-a-spacer/39283290#39283290", "title": "PyQt5: Progamically adding QWidget to layout, doesn&#39;t show Qwidget when a spacer is added", "body": "<p>I finally fixed this by trying random things over and over until something worked.</p>\n\n<p>It turned out that on my second ui file I did not have a top level layout. (I am not sure if that's what its called.)</p>\n\n<p>To fix this I right clicked on the top level widget and choose layout and selected horizontal layout, although I think any would have worked.</p>\n\n<p>Here is a picture that shows the top level widget with the cancel symbol on it.  Once I added the layout that went away and everything worked!</p>\n\n<p><a href=\"https://i.stack.imgur.com/0UOYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0UOYk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 56, "user_id": 5484379, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9JoN_k8jOTc/AAAAAAAAAAI/AAAAAAAAAAA/cg8T5g5YU4o/photo.jpg?sz=128", "display_name": "Doss Gunter", "link": "https://stackoverflow.com/users/5484379/doss-gunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 39283290, "answer_count": 1, "score": 0, "last_activity_date": 1472781850, "creation_date": 1472679266, "last_edit_date": 1472686002, "question_id": 39259367, "link": "https://stackoverflow.com/questions/39259367/pyqt5-progamically-adding-qwidget-to-layout-doesnt-show-qwidget-when-a-spacer", "title": "PyQt5: Progamically adding QWidget to layout, doesn&#39;t show Qwidget when a spacer is added", "body": "<p><strong>Edit</strong>: I have tried a few more things.  If I move the spacer to a layout below the spacer I am adding to it doesn't exibit the same exact behavior. Its still not optimal, and isn't going to work because my end goal is to have a scrollArea with a spacer inside that i add my widgets to, but this would not look right.  I think the problem is the widgets are getting to a size zero I just do not know why or how to fix it.</p>\n\n<p>I have two ui files made in QtDesigner.  The first file is my main window at the start of the program I load the second ui file and place it into a vertical spacer in the middle of the first one. Additional copies are placed each time a button is clicked.</p>\n\n<p>This all works great until I add a vertical spacer to push the items to the top.  I have tired adding it from Designer and in the code.  Both have the same result.</p>\n\n<p>I have looked on google quite a bit and tried a lot of suggestions.</p>\n\n<p>I tried setting the second ui files parent as a Qwidget I added on the first that contained the vertical layout.</p>\n\n<p>I tried setting the minimum sizes and sizing polices to various things.</p>\n\n<p>Below is my current code, any ideas or suggestions would be appreciated!</p>\n\n<pre><code>#!python3\nimport sys\nfrom PyQt5 import QtWidgets, QtCore, uic\n\nclass TimesheetWidget(QtWidgets.QWidget):\n    def __init__(self, parent=None):\n        super(TimesheetWidget, self).__init__(parent)\n        self.parent = parent\n        self.tableRows = dict()\n\n    def setup(self):\n        self.labelSaved.hide()\n        self.addTableRow()\n\n    def addTableRow(self):\n        thisRow = len(self.tableRows)\n        self.tableRows[thisRow] = uic.loadUi(\"gui/tableRow.ui\")\n        self.tableRows[thisRow].addButton.clicked.connect(self.addTableRow)\n        self.spacer.addWidget(self.tableRows[thisRow])\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    timesheet = TimesheetWidget()\n    Mytimesheet = uic.loadUi(\"gui/timesheet.ui\", baseinstance=timesheet)\n    Mytimesheet.setup()\n    Mytimesheet.show()\n\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>here is a link to the ui files (they are to long to post):\n<a href=\"https://gist.github.com/dossjh/95d14b15c63cee6bb0b5d2db631b755d\" rel=\"nofollow\">gist link for ui files</a></p>\n"}, {"tags": ["python", "recursion", "filenames", "os.walk"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 1, "last_activity_date": 1472679327, "creation_date": 1472679327, "answer_id": 39259384, "question_id": 39259318, "link": "https://stackoverflow.com/questions/39259318/python-search-for-single-filename-recursively-in-directory-tree-return-false-if/39259384#39259384", "title": "Python search for single filename recursively in directory tree. Return false if not found", "body": "<p>Return early when you find the file; that way, after your <code>os.walk()</code> loop has completed you know the file was never found:</p>\n\n<pre><code>import os\n\ndef find_file(name, root):\n    for _, _, filenames in os.walk(root):\n        if name in filenames:\n            return  # found the file, exit early\n    print 'Not found'\n\nrootDir = 'G:\\\\some_top_directory\\\\'\nfile_name = 'fileOFinterest.txt'\nfind_file(file_name, rootDir)\n</code></pre>\n\n<p>I used <code>_</code> for both the dirpath and directories values returned by <code>os.walk()</code> for each iteration; the loop otherwise ignores these and <code>_</code> signals this to the reader.</p>\n"}, {"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679562, "creation_date": 1472679562, "answer_id": 39259432, "question_id": 39259318, "link": "https://stackoverflow.com/questions/39259318/python-search-for-single-filename-recursively-in-directory-tree-return-false-if/39259432#39259432", "title": "Python search for single filename recursively in directory tree. Return false if not found", "body": "<pre><code>if not any(file_name in filenames\n           for dirpath, dirnames, filenames in os.walk(rootDir)):\n    print file_name, 'not found'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1472680361, "post_id": 39259505, "comment_id": 65855151, "body": "This would find multiple files (the search continues after the first file was found), and you didn&#39;t handle the actual requirement of printing when none were found."}], "tags": [], "owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "is_accepted": false, "score": 0, "last_activity_date": 1472680445, "last_edit_date": 1472680445, "creation_date": 1472679967, "answer_id": 39259505, "question_id": 39259318, "link": "https://stackoverflow.com/questions/39259318/python-search-for-single-filename-recursively-in-directory-tree-return-false-if/39259505#39259505", "title": "Python search for single filename recursively in directory tree. Return false if not found", "body": "<p>If you are using Python3.5+ you can use <code>**</code> with the <code>recursive</code> flag:</p>\n\n<pre><code>import glob\nrootDir = 'G:\\\\some_top_directory\\\\'\nfile_name = 'fileOFinterest.txt'\nfound_files = glob.glob(\"{}**\\\\{}\".format(rootDir, file_name), recursive=True)\nif not found_files:\n    # do whatever you need\n    pass\nelse:\n    print('found')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6780606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e05b5939f679d705d6e7adb59afa98?s=128&d=identicon&r=PG&f=1", "display_name": "RebHef", "link": "https://stackoverflow.com/users/6780606/rebhef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472680445, "creation_date": 1472679061, "last_edit_date": 1472679314, "question_id": 39259318, "link": "https://stackoverflow.com/questions/39259318/python-search-for-single-filename-recursively-in-directory-tree-return-false-if", "title": "Python search for single filename recursively in directory tree. Return false if not found", "body": "<p>Using Python, I would like to search a directory tree recursively for a specific file name.</p>\n\n<p>**If found, print nothing.</p>\n\n<p>**If not found print a message stating it was not found.</p>\n\n<p>===== here is what I have so far, no errors, but no message when file not found either=====</p>\n\n<pre><code>import os\nrootDir = 'G:\\\\some_top_directory\\\\'\nfile_name = 'fileOFinterest.txt'\ndef find_file(file_name,rootDir):\n    for dirpath, dirnames, filenames in os.walk(rootDir):\n        if file_name in filenames:\n            print 'found'\n</code></pre>\n"}, {"tags": ["python", "unicode"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1472679009, "post_id": 39259290, "comment_id": 65854624, "body": "What version of python are you using? I printed this using python 3.5 and it worked fine."}, {"owner": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "edited": false, "score": 0, "creation_date": 1472679132, "post_id": 39259290, "comment_id": 65854678, "body": "Are you typing it or are you getting it from a different source? Copying and pasting from SO yields correct results on both 2.7 and 3.5, on my OS."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1472679139, "post_id": 39259290, "comment_id": 65854681, "body": "Using Python 3+ works with print as a function"}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679645, "post_id": 39259290, "comment_id": 65854898, "body": "my python version is 2.7.9"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679422, "post_id": 39259334, "comment_id": 65854788, "body": "yeah try that also , it work if we just print <code>u&quot;pok&#233;mon&quot;</code> but not <code>&quot;Pok&#233;mon GO Vi\u1ec7t Nam&quot;</code>"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "reply_to_user": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679483, "post_id": 39259334, "comment_id": 65854828, "body": "@BrendaMartinez: what encoding is your editor using?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679579, "post_id": 39259334, "comment_id": 65854868, "body": "@BrendaMartinez make sure that both your IDE encoding as well as the project encoding are set to &#39;utf-8&#39;"}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679580, "post_id": 39259334, "comment_id": 65854869, "body": "Utf-8 , notepad++"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679660, "post_id": 39259334, "comment_id": 65854904, "body": "@BrendaMartinez well notepad++ is another problem :) use a proper IDE such as PyCharm: you&#39;ll get all the benefits of IDE such as debugging and inspection capabilities as well as many other goodies."}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679886, "post_id": 39259334, "comment_id": 65854989, "body": "yeah for that i&#39;ve tested sublimetext and i&#39;m getting <code>UnicodeEncodeError: &#39;charmap&#39; codec can&#39;t encode character u&#39;\\u1ec7&#39; in position 13: character maps to &lt;undefined&gt;</code> if i just print &quot;Pok&#233;mon&quot; all good , &quot;Vi\u1ec7t&quot; what causing the problem ."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472680057, "post_id": 39259334, "comment_id": 65855043, "body": "@BrendaMartinez  sublime is NOT an IDE - it&#39;s the same as Notepad++... You can check the default encoding settings of sublime by going to the menu: sublime text --&gt; Preferences --&gt; Settings - Default and then search for: <code>default_encoding</code>"}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472680299, "post_id": 39259334, "comment_id": 65855129, "body": "i&#39;ve just installed pycharm <code>UnicodeEncodeError: &#39;charmap&#39; codec can&#39;t encode character u&#39;\\u1ec7&#39; in position 13: character maps to &lt;undefined&gt;</code> , and i&#39;m using encoding declaration , Pycharm5"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472681067, "post_id": 39259334, "comment_id": 65855383, "body": "@BrendaMartinez I&#39;ve added a screenshot of PyCharm preferences - compare it to yours."}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472681420, "post_id": 39259334, "comment_id": 65855522, "body": "yeah exactly the same , i&#39;m just trying <code>#!&#47;usr&#47;bin&#47;python # -*- coding: utf8 -*- print u&quot;\u1ec7&quot;</code> with no luck , the code works for you ?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1472681512, "post_id": 39259334, "comment_id": 65855567, "body": "Yes, you can see in the screenshot that it does. Maybe there&#39;s some encoding issue with your OS ? can you try a different computer in order to eliminate potential causes ?"}, {"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472681720, "post_id": 39259334, "comment_id": 65855652, "body": "thanks for your effort , that was correct , i&#39;ve test it in my VPS (ubuntu) and worked , Windows is the problem , i&#39;m getting this kind of errors all the time :/"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1472681884, "post_id": 39259334, "comment_id": 65855712, "body": "Sorry I can&#39;t help you with Windows: my Win-machine is back at home and I&#39;m at work... Anyways, glad you pinned the issue to the OS. The following might help: <a href=\"http://stackoverflow.com/questions/6344853/python-unicode-in-windows-terminal-encoding-used\" title=\"python unicode in windows terminal encoding used\">stackoverflow.com/questions/6344853/&hellip;</a>"}], "tags": [], "owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "is_accepted": true, "score": 4, "last_activity_date": 1472681046, "last_edit_date": 1472681046, "creation_date": 1472679129, "answer_id": 39259334, "question_id": 39259290, "link": "https://stackoverflow.com/questions/39259290/unicode-python-error/39259334#39259334", "title": "Unicode python Error", "body": "<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\nprint \"Pok\u00e9mon GO Vi\u1ec7t Nam\"\n</code></pre>\n\n<p>You can find <a href=\"https://www.python.org/dev/peps/pep-0263/\" rel=\"nofollow noreferrer\">here</a> more info</p>\n\n<p>For PyCharm settings, go to the menu: PyCharm --> Preference then use the search to look up \"encoding\", you should reach the following screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ftj8L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftj8L.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "edited": false, "score": 0, "creation_date": 1472679444, "post_id": 39259349, "comment_id": 65854807, "body": "yeah tried that also , it work if we just print u&quot;pok&#233;mon&quot; but not &quot;Pok&#233;mon GO Vi\u1ec7t Nam&quot;"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1472679187, "creation_date": 1472679187, "answer_id": 39259349, "question_id": 39259290, "link": "https://stackoverflow.com/questions/39259290/unicode-python-error/39259349#39259349", "title": "Unicode python Error", "body": "<p>Specify the encoding</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n</code></pre>\n\n<p>in the top of the program</p>\n"}, {"tags": [], "owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "is_accepted": false, "score": 0, "last_activity_date": 1472697478, "creation_date": 1472697478, "answer_id": 39261872, "question_id": 39259290, "link": "https://stackoverflow.com/questions/39259290/unicode-python-error/39261872#39261872", "title": "Unicode python Error", "body": "<p>As an alternative you can encode the unicode string:</p>\n\n<pre><code>print u\"Pok\u00e9mon GO Vi\u1ec7t Nam\".encode('utf-8')\n</code></pre>\n\n<p>The advantage is that the bytes in the resulting string are independent of the encoding of the source file: <code>u\"\u1ec7\".encode('utf-8')</code> is always the same 3 bytes <code>\"\\xe1\\xbb\\x87\"</code>.</p>\n\n<p>It is also consistent with what you'd do if you have an unicode string in a variable.</p>\n\n<pre><code># get text from somewhere...\ntext = u\"Pok\u00e9mon GO Vi\u1ec7t Nam\"\n\n# assuming your terminal expects UTF-8 -- this won't work on Windows.\nprint text.encode('utf-8')\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6780661, "user_type": "registered", "profile_image": "https://graph.facebook.com/171366393294519/picture?type=large", "display_name": "Brenda Martinez", "link": "https://stackoverflow.com/users/6780661/brenda-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 1, "accepted_answer_id": 39259334, "answer_count": 3, "score": 2, "last_activity_date": 1472697478, "creation_date": 1472678897, "last_edit_date": 1472679680, "question_id": 39259290, "link": "https://stackoverflow.com/questions/39259290/unicode-python-error", "title": "Unicode python Error", "body": "<p>i'm trying to print : Pok\u00e9mon GO Vi\u1ec7t Nam</p>\n\n<pre><code>print u\"Pok\u00e9mon GO Vi\u1ec7t Nam\"\n</code></pre>\n\n<p>and i'm getting :</p>\n\n<pre><code>print u\"Pok\u00damon GO Vi?t Nam\"\nSyntaxError: (unicode error) 'utf8' codec can't decode byte 0xe9 in position 0: unexpected end of data\n</code></pre>\n\n<p>i've tried : </p>\n\n<pre><code>.encode(\"utf-8\")\n.decode(\"utf-8\")\n.decode('latin-1').encode(\"utf-8\")\nunicode(str.decode(\"iso-8859-4\"))\n</code></pre>\n\n<p>My python version is 2.7.9 , Notepad++ UTF-8 encoding .\nwith no luck , how can i print it ? and i'm encountering this kind of issues all the time , what's the proper way to debug and get the right encoding ? </p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1472679480, "post_id": 39259264, "comment_id": 65854825, "body": "I don&#39;t believe there is. You can however use the <code>justify</code> parameter to justify your text left, right, or centered."}, {"owner": {"reputation": 51, "user_id": 6780664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c65b566738b4fca58e6ea187b194c?s=128&d=identicon&r=PG&f=1", "display_name": "Raven", "link": "https://stackoverflow.com/users/6780664/raven"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1472685139, "post_id": 39259264, "comment_id": 65856683, "body": "Too bad :/ But justify does the job too, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 6830471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/md0a3.jpg?s=128&g=1", "display_name": "D&#39;Arcy", "link": "https://stackoverflow.com/users/6830471/darcy"}, "is_accepted": false, "score": 2, "last_activity_date": 1473937581, "creation_date": 1473937581, "answer_id": 39509532, "question_id": 39259264, "link": "https://stackoverflow.com/questions/39259264/is-there-an-option-to-edit-the-padding-inside-of-a-tkinter-entrybox/39509532#39509532", "title": "Is there an option to edit the padding inside of a Tkinter EntryBox?", "body": "<p>Technically, yes if you are using <code>.grid()</code>. </p>\n\n<p>Using:</p>\n\n<pre><code>grid(ipadx=HORIZONTAL-PADDING, ipady=VERTICAL-PADDING)\n</code></pre>\n\n<p>Is what the documentation says, however it doesn't seem to dictate how the text bbehaves. I can only get it to work for <code>ipady</code>. <code>ipadx</code> seems to just add extra padding to extend the width of the Entry widget without the text moving right.</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\nentry = Entry(root)\nentry.grid(row=0,column=0,ipadx=10)\n\nroot.mainloop()\n</code></pre>\n\n<p>Reference:\n<a href=\"http://effbot.org/tkinterbook/grid.htm\" rel=\"nofollow\">http://effbot.org/tkinterbook/grid.htm</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6780664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c65b566738b4fca58e6ea187b194c?s=128&d=identicon&r=PG&f=1", "display_name": "Raven", "link": "https://stackoverflow.com/users/6780664/raven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1473937581, "creation_date": 1472678800, "question_id": 39259264, "link": "https://stackoverflow.com/questions/39259264/is-there-an-option-to-edit-the-padding-inside-of-a-tkinter-entrybox", "title": "Is there an option to edit the padding inside of a Tkinter EntryBox?", "body": "<p>Is there an option to edit the padding inside of a Tkinter EntryBox? So that the text that the user inputs starts e.g. 10px from the left border.</p>\n"}, {"tags": ["python", "matplotlib", "heatmap"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472680076, "post_id": 39259225, "comment_id": 65855049, "body": "Could you please elaborate on what you mean? Your question is very unclear. And why did you tag this with [user-experience]?"}, {"owner": {"reputation": 45, "user_id": 4127732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000588743657/picture?type=large", "display_name": "Shirley Du", "link": "https://stackoverflow.com/users/4127732/shirley-du"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472680306, "post_id": 39259225, "comment_id": 65855133, "body": "For example, I have an image and I bound the hat in the image with a bounding box. Now I would like to draw a circular heatmap in this bounding box. i.e., the center of the my heatmap should be the center of the bounding box, and the color of my heatmap fades away as the radius increases until the edge of my heatmap reaches the bounding box."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472680409, "post_id": 39259225, "comment_id": 65855171, "body": "So you want to draw a radial color gradient in a circle? Does &quot;heatmap&quot; really mean something related to data, or do you just want to somehow move from color A to color B? You see, your question is also very broad."}, {"owner": {"reputation": 45, "user_id": 4127732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000588743657/picture?type=large", "display_name": "Shirley Du", "link": "https://stackoverflow.com/users/4127732/shirley-du"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472680655, "post_id": 39259225, "comment_id": 65855254, "body": "Yes, I just need a way to draw a gradient circle within a rectangle given the x and y positions of the rectangle. Sorry for the confusion!"}], "answers": [{"tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 1, "last_activity_date": 1472682459, "creation_date": 1472682459, "answer_id": 39259969, "question_id": 39259225, "link": "https://stackoverflow.com/questions/39259225/how-to-draw-a-circular-heatmap-within-a-rectangle-in-python/39259969#39259969", "title": "How to draw a circular heatmap within a rectangle in Python", "body": "<p>You need to create a new <code>Axes</code> in the desired position, and use a polar <code>pcolor</code> plot to construct a \"heatmap\":</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nfig,ax1 = plt.subplots()\n# plot dummy image\nax1.imshow(np.random.rand(200,200),cmap='viridis')\n\n# create new Axes, position is in figure relative coordinates!\nrelpos = [0.6, 0.6, 0.2, 0.2]\nax2 = fig.add_axes(relpos, polar=True)\nax2.axis('off')\nphi = np.linspace(0,2*np.pi,50)\nr = np.linspace(0,1,50)\ngradient = np.tile(np.linspace(0,1,r.size)[:,None],phi.size)\nax2.pcolor(gradient,cmap='hot_r')\n</code></pre>\n\n<p>The result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EIv0E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIv0E.png\" alt=\"result\"></a></p>\n\n<p>The color gradient samples linearly from the colormap, in the above example named <code>hot_r</code>. You can play around with both the colormap and with the transition of the <code>gradient</code> variable, the result will always be radially dependent.</p>\n\n<p>The only thing you need to take care of is to transform your rectangle (given in units which only you can tell) to relative figure units (where (0,0) is the bottom left corner of the figure, and (1,1) is the top left). The axis positioning works in the way which is usual for box-shaped objects: <code>[left,bottom,width,height]</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 4127732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000588743657/picture?type=large", "display_name": "Shirley Du", "link": "https://stackoverflow.com/users/4127732/shirley-du"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 39259969, "answer_count": 1, "score": 0, "last_activity_date": 1472682475, "creation_date": 1472678631, "last_edit_date": 1472682475, "question_id": 39259225, "link": "https://stackoverflow.com/questions/39259225/how-to-draw-a-circular-heatmap-within-a-rectangle-in-python", "title": "How to draw a circular heatmap within a rectangle in Python", "body": "<p>Say I have an image and I have a bounding box on a part of the image. How can I draw a circular heatmap within this rectangle?</p>\n"}, {"tags": ["python", "filesystems", "shutil"], "comments": [{"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "edited": false, "score": 0, "creation_date": 1472678372, "post_id": 39259136, "comment_id": 65854365, "body": "Are you trying to move a file called <code>[path]\\*_01.png</code> ?"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1472678376, "post_id": 39259136, "comment_id": 65854368, "body": "Have you checked for the names of the files you are trying to move? File names cannot contain &#39;*&#39;."}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1472678378, "post_id": 39259136, "comment_id": 65854369, "body": "<code>i == &#39;*_01.png&#39;</code> is a literal search (i.e. i must be exactly <code>&#39;*_01.png&#39;</code> for it to work). It will not glob the files if that is what you are trying to do."}, {"owner": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "edited": false, "score": 0, "creation_date": 1472678461, "post_id": 39259136, "comment_id": 65854412, "body": "In fact, <code>if i == &#39;*_01.png&#39;:</code> does not make sense. <code>i</code> will contain an actual file name which I suppose will not be &#39;*_01.png&#39;."}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "edited": false, "score": 0, "creation_date": 1472678584, "post_id": 39259136, "comment_id": 65854455, "body": "@MichalFrystacky I&#39;m trying to move all files ending with _01.png."}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1472678613, "post_id": 39259136, "comment_id": 65854466, "body": "@UrielEli yes and I need to enforce regepxs"}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1472678633, "post_id": 39259136, "comment_id": 65854481, "body": "@FamousJameous I&#39;d love to be able to glob here"}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "edited": false, "score": 0, "creation_date": 1472678664, "post_id": 39259136, "comment_id": 65854496, "body": "@BenBeirut as suggested below I&#39;ll try implement regexps"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1472678709, "post_id": 39259136, "comment_id": 65854513, "body": "Use matches. Your current code just tries to check for that specific string."}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "edited": false, "score": 0, "creation_date": 1472678757, "post_id": 39259136, "comment_id": 65854540, "body": "@BenBeirut, I&#39;m still a noob so I&#39;m not sure how to do that, let me try"}], "answers": [{"comments": [{"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "edited": false, "score": 0, "creation_date": 1472679632, "post_id": 39259245, "comment_id": 65854893, "body": "@vanoccupanther I am glad it worked. Don&#39;t forget to accept the answer. :)"}], "tags": [], "owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "is_accepted": true, "score": 1, "last_activity_date": 1472687595, "last_edit_date": 1472687595, "creation_date": 1472678735, "answer_id": 39259245, "question_id": 39259136, "link": "https://stackoverflow.com/questions/39259136/python-moving-file-to-a-newly-created-directory/39259245#39259245", "title": "Python: moving file to a newly created directory", "body": "<p>A simple fix would be to check if '*_01.png' is in the file name <code>i</code> and change the <code>shutil.move</code> to include <code>i</code>, the filename. (It's also worth mentioning that <code>i</code>is not a good name for a filepath</p>\n\n<pre><code>list_of_sub_frames = glob.glob('*.png')\nfor i in list_of_sub_frames:\n    if '*_01.png' in i:\n    shutil.move(os.path.join(os.getcwd(), i), './sub_frame_0/')\n</code></pre>\n\n<blockquote>\n  <p>Additionally is [there some way] to increment both the file endings _01 to _02 etc., and the destn folder ie. from sub_frame_0 to sub_frame_1 to sub_frame_2 and so on.</p>\n</blockquote>\n\n<p>You could create file names doing something as simple as this:</p>\n\n<pre><code>for i in range(10):\n    #simple string parsing\n    file_name = 'sub_frame_'+str(i)\n    folder_name = 'folder_sub_frame_'+str(i)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 6766820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da980a2f4466f05bf026b18c04984d6?s=128&d=identicon&r=PG", "display_name": "Carlos Hernando", "link": "https://stackoverflow.com/users/6766820/carlos-hernando"}, "is_accepted": false, "score": 2, "last_activity_date": 1472679766, "creation_date": 1472679766, "answer_id": 39259472, "question_id": 39259136, "link": "https://stackoverflow.com/questions/39259136/python-moving-file-to-a-newly-created-directory/39259472#39259472", "title": "Python: moving file to a newly created directory", "body": "<p>As you said, the logic of the final loop does not make sense.</p>\n\n<pre><code>if i == '*_01.ng'\n</code></pre>\n\n<p>It would evaluate something like <code>'image_01.png' == '*_01.png'</code> and be always false.</p>\n\n<p>Regexp should be the way to go, but for this simple case you just can slice the number from the file name.</p>\n\n<pre><code>for i in list_of_sub_frames:\n    frame = int(i[-6:-4]) - 1\n    shutil.move(os.path.join(os.getcwd(), i), './sub_frame_{}/'.format(frame))\n</code></pre>\n\n<p>If <code>i = 'image_01.png'</code> then <code>i[-6:-4]</code> would take '01', convert it to integer and then just subtract 1 to follow your schema.</p>\n"}, {"tags": [], "owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "is_accepted": false, "score": 1, "last_activity_date": 1472679998, "creation_date": 1472679998, "answer_id": 39259512, "question_id": 39259136, "link": "https://stackoverflow.com/questions/39259136/python-moving-file-to-a-newly-created-directory/39259512#39259512", "title": "Python: moving file to a newly created directory", "body": "<p>Here is a complete example using regular expressions. This also implements the incrementing of file names/destination folders</p>\n\n<pre><code>import os\nimport glob\nimport shutil\nimport re\n\nnum_sub_frames = 3\n# No need to enumerate range list without start or step\nfor index in range(num_sub_frames+10):\n    path = os.makedirs('./sub_frame_{0:02}'.format(index))\n\n# Slice layers into sub-frames and add to appropriate directory\n\nlist_of_files = glob.glob('*.tif')\nfor fname in list_of_files:\n    image_slicer.slice(fname, num_sub_frames) # Slices the .tif frames into .png sub-frames\n\nlist_of_sub_frames = glob.glob('*.png')\nfor name in list_of_sub_frames:\n    m = re.search('(?P&lt;fname&gt;.+?)_(?P&lt;num&gt;\\d+).png', name)\n    if m:\n        num = int(m.group('num'))+1\n        newname = '{0}_{1:02}.png'.format(m.group('fname'), num)\n        newpath = os.path.join('./sub_frame_{0:02}/'.format(num), newname)\n        print m.group() + ' -&gt; ' + newpath\n        shutil.move(os.path.join(os.getcwd(), m.group()), newpath)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "accepted_answer_id": 39259245, "answer_count": 3, "score": 2, "last_activity_date": 1472687595, "creation_date": 1472678169, "question_id": 39259136, "link": "https://stackoverflow.com/questions/39259136/python-moving-file-to-a-newly-created-directory", "title": "Python: moving file to a newly created directory", "body": "<p>I've got my script creating a bunch of files (size varies depending on inputs) and I want to be certain files in certain folders based on the filenames.</p>\n\n<p>So far I've got the following but although directories are being created no files are being moved, I'm not sure if the logic in the final for loop makes any sense.</p>\n\n<p>In the below code I'm trying to move all .png files ending in _01 into the sub_frame_0 folder.</p>\n\n<p>Additionally is their someway to increment both the file endings _01 to _02 etc., and the destn folder ie. from sub_frame_0 to sub_frame_1 to sub_frame_2 and so on.</p>\n\n<pre><code>for index, i in enumerate(range(num_sub_frames+10)):\n    path = os.makedirs('./sub_frame_{}'.format(index))\n\n# Slice layers into sub-frames and add to appropriate directory\n\nlist_of_files = glob.glob('*.tif')\nfor fname in list_of_files: \n    image_slicer.slice(fname, num_sub_frames) # Slices the .tif frames into .png sub-frames\n\nlist_of_sub_frames = glob.glob('*.png')\nfor i in list_of_sub_frames:\n    if i == '*_01.png':\n        shutil.move(os.path.join(os.getcwd(), '*_01.png'), './sub_frame_0/')\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1472678149, "post_id": 39259089, "comment_id": 65854265, "body": "just reset the index to turn that into a dataframe"}], "answers": [{"comments": [{"owner": {"reputation": 1689, "user_id": 5029589, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lVcu7.jpg?s=128&g=1", "display_name": "arpit joshi", "link": "https://stackoverflow.com/users/5029589/arpit-joshi"}, "edited": false, "score": 0, "creation_date": 1472681389, "post_id": 39259324, "comment_id": 65855512, "body": "no this would give only one column time ..I need two columns,first is the Mode and second column the Mean time"}, {"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1472682579, "post_id": 39259324, "comment_id": 65855938, "body": "call reset_index()"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 1689, "user_id": 5029589, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lVcu7.jpg?s=128&g=1", "display_name": "arpit joshi", "link": "https://stackoverflow.com/users/5029589/arpit-joshi"}, "edited": false, "score": 0, "creation_date": 1472683673, "post_id": 39259324, "comment_id": 65856274, "body": "@asj177 Then you need to reset the index. The result of a groupby aggregation will be indexed by the grouping arguments. See the edit."}, {"owner": {"reputation": 1689, "user_id": 5029589, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lVcu7.jpg?s=128&g=1", "display_name": "arpit joshi", "link": "https://stackoverflow.com/users/5029589/arpit-joshi"}, "edited": false, "score": 0, "creation_date": 1472691460, "post_id": 39259324, "comment_id": 65858185, "body": "yes got it ..reset_index() call did the work ..Thank u"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1472683636, "last_edit_date": 1472683636, "creation_date": 1472679091, "answer_id": 39259324, "question_id": 39259089, "link": "https://stackoverflow.com/questions/39259089/group-by-column-and-get-mean-of-the-the-group-pandas/39259324#39259324", "title": "Group by column and get mean of the the group pandas", "body": "<p>Don't select the column:</p>\n\n<pre><code>&gt;&gt;&gt; df1.groupby('Mode').mean()\n      Time\nMode      \nAir    3.5\nSea    5.0\n&gt;&gt;&gt; \n</code></pre>\n\n<h2>Edit in response to comment</h2>\n\n<pre><code>&gt;&gt;&gt; df1.groupby('Mode').mean().reset_index()\n  Mode  Time\n0  Air   3.5\n1  Sea   5.0\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1689, "user_id": 5029589, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lVcu7.jpg?s=128&g=1", "display_name": "arpit joshi", "link": "https://stackoverflow.com/users/5029589/arpit-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "accepted_answer_id": 39259324, "answer_count": 1, "score": 1, "last_activity_date": 1472683636, "creation_date": 1472677970, "last_edit_date": 1472678214, "question_id": 39259089, "link": "https://stackoverflow.com/questions/39259089/group-by-column-and-get-mean-of-the-the-group-pandas", "title": "Group by column and get mean of the the group pandas", "body": "<p>I have a dataframe like below </p>\n\n<pre><code>Mode   Time\nAir    2\nSea    4\nAir    5\nSea    6\n</code></pre>\n\n<p>So I want to have the output as </p>\n\n<pre><code>Mode   Time \nAir    3.5\nSea    5\n</code></pre>\n\n<p>The output should contain two columns Mode and the Time.</p>\n\n<p>With my Code I dont see the columns coming. Below is my code:</p>\n\n<pre><code>mean_remaining_shipment_time_mode=training_data.groupby('mode')['Time'].mean()\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>Series: mode\nAir        3.813711\nOcean     14.670060\nParcel     3.036790\nTruck      3.097268\nName: remainingShiptime, dtype: float64\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472678165, "post_id": 39259046, "comment_id": 65854270, "body": "Why not just use a <code>ForeignKey</code> relationship between <code>UserProfile</code> and <code>MortgageModel</code>?"}, {"owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "reply_to_user": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472679519, "post_id": 39259046, "comment_id": 65854840, "body": "list is simple to iterate and delete"}, {"owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "reply_to_user": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472681696, "post_id": 39259046, "comment_id": 65855646, "body": "In order to make a ForeignKey relation I would have to use filters to iterate over mortgages. Wouldn&#39;t it be faster to use a list?"}, {"owner": {"reputation": 1472, "user_id": 14508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d247264c4e47fe3f4258b000a2db0aed?s=128&d=identicon&r=PG", "display_name": "ropable", "link": "https://stackoverflow.com/users/14508/ropable"}, "edited": false, "score": 0, "creation_date": 1472695221, "post_id": 39259046, "comment_id": 65859028, "body": "A Django model is a Python representation of a database record. A model&#39;s fields (e.g. CharField) can only include data types that can be saved in database columns (e.g. character, integer, etc.) A Python list is not a data type that is represented in most common databases (ignoring the idea of a list serialised to XML/JSON/etc.)"}], "answers": [{"comments": [{"owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "edited": false, "score": 0, "creation_date": 1472678195, "post_id": 39259118, "comment_id": 65854280, "body": "how to iterate mortgages?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "edited": false, "score": 0, "creation_date": 1472678267, "post_id": 39259118, "comment_id": 65854315, "body": "@user2449761 You can query them out using filters."}, {"owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "edited": false, "score": 0, "creation_date": 1472679829, "post_id": 39259118, "comment_id": 65854971, "body": "Thank you for comprehensive answer!"}, {"owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "edited": false, "score": 0, "creation_date": 1472680221, "post_id": 39259118, "comment_id": 65855104, "body": "Wouldn&#39;t &quot;oldschool&quot; list be faster than filters?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "edited": false, "score": 1, "creation_date": 1472695689, "post_id": 39259118, "comment_id": 65859127, "body": "@user2449761 oldschool list means wrong database modeling ;) Take a look at database normalization (good place to start <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Database_normalization</a>)"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 3, "last_activity_date": 1472678222, "last_edit_date": 1472678222, "creation_date": 1472678095, "answer_id": 39259118, "question_id": 39259046, "link": "https://stackoverflow.com/questions/39259046/django-model-with-a-list/39259118#39259118", "title": "Django model with a list", "body": "<p>You'll have to assign a <code>ForeignKey</code> to <code>User</code> , so that each <code>Mortgate</code> 'belongs' to a user. \nThat is how a <strong><em>One-To-Many relationship</em></strong> is done. Then, if you want to get the list of Mortgages a user have, you'd filter them out like <code>MortgageModel.objects.filter(related_user=user)</code></p>\n\n<p>So, you'd have something like</p>\n\n<h3>Model</h3>\n\n<pre><code>   class MortgageModel(models.Model):\n       bank_name = models.CharField(max_length=128)\n       sum = models.BigIntegerField()\n       related_user = models.ForeignKey(UserProfile)\n\n    class UserProfile(models.Model):\n       user = models.OneToOneField(User, on_delete=models.CASCADE)\n</code></pre>\n\n<h3>View</h3>\n\n<pre><code>list_of_mortages = MortgageModel.objects.filter(related_user=user)\n</code></pre>\n"}], "owner": {"reputation": 969, "user_id": 2449761, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b6ba56b1fad55e985ec2eab81dcfe07c?s=128&d=identicon&r=PG", "display_name": "user2449761", "link": "https://stackoverflow.com/users/2449761/user2449761"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "accepted_answer_id": 39259118, "answer_count": 1, "score": 0, "last_activity_date": 1472678222, "creation_date": 1472677761, "question_id": 39259046, "link": "https://stackoverflow.com/questions/39259046/django-model-with-a-list", "title": "Django model with a list", "body": "<p>How to implement a list in a Django model?</p>\n\n<p>Lets say I have a <code>UserProfile</code> model, and each user can have a list of mortgages (undefined quantity) defined by <code>MortgageModel</code>.</p>\n\n<pre><code>class MortgageModel(models.Model):\n   bank_name = models.CharField(max_length=128)\n   sum = models.BigIntegerField()\n\nclass UserProfile(models.Model):\n   user = models.OneToOneField(User, on_delete=models.CASCADE)\n   # list of morgtages?\n</code></pre>\n\n<p>my only idea is to make a old school list, where every mortgage can point to another one or null, like this:</p>\n\n<pre><code>class MortgageModel(models.Model):\n   bank_name = models.CharField(max_length=128)\n   sum = models.BigIntegerField()\n   next_mortgage = MortgageModel(null=True, default=null)\n\nclass UserProfile(models.Model):\n   user = models.OneToOneField(User, on_delete=models.CASCADE)\n   mortgages = MortgageModel(null=True, default=null)\n</code></pre>\n\n<p>is there any other possibility?</p>\n"}, {"tags": ["python", "machine-learning", "octave", "jupyter", "logistic-regression"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4434808, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/584369617/picture?type=large", "display_name": "Sugetha Chandhrasekar", "link": "https://stackoverflow.com/users/4434808/sugetha-chandhrasekar"}, "edited": false, "score": 0, "creation_date": 1474350384, "post_id": 39260249, "comment_id": 66482557, "body": "I corrected the grad() and constFn() to have &#39;theta&#39; and not &#39;initial_theta&#39;. I managed to get the optimization to return a optimized costfn, but the values of theta that it returns are a bit off. I am supposed to get an accuracy of 83% but instead I am only getting 42%! See my edit! @lejlot"}], "tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": false, "score": 1, "last_activity_date": 1472684000, "creation_date": 1472684000, "answer_id": 39260249, "question_id": 39259026, "link": "https://stackoverflow.com/questions/39259026/fmin-ncg-not-returning-an-optimized-result/39260249#39260249", "title": "fmin_ncg not returning an optimized result", "body": "<p>First of all your gradient is invalid</p>\n\n<pre><code>def grad(theta, X, y, m, lam):\n    h = sigmoid(X.dot(initial_theta))\n    theta0 = initial_theta\n    gg = 1 / m * ((X.T.dot(h-y)) + (lam * theta0))\n    return gg.flatten()\n</code></pre>\n\n<p>this function <strong>never uses theta</strong>, you put <code>initial_theta</code> instead, which is incorrect.</p>\n\n<p>Similar error in the cost</p>\n\n<pre><code>def costFn(theta, X, y, m, lam):\n    h = sigmoid(X.dot(initial_theta))\n    theta0 = theta\n    J = 1 / m * np.sum((-(y * np.log(h))) - ((1-y) * np.log(1-h))) + (lam/(2*m) * theta0.T.dot(theta0))\n    return J.flatten()\n</code></pre>\n\n<p>you have some odd mix of <code>theta</code> and <code>initial_theta</code>, which also does not make sense, there should be only <code>theta</code> inside. As a side note - there should be no need for flattening, your cost function should be <strong>a scalar</strong>, thus if you have to flatten - something is wrong in your computations.</p>\n\n<p>Also worth checking - what is your <code>m</code>? If it is an integer, and you are using python 2.X, then <code>1 / m</code> equals <strong>zero</strong>, since it is <strong>integer division</strong>. You should do <code>1.0 / m</code> instead. (in both functions)</p>\n"}], "owner": {"reputation": 83, "user_id": 4434808, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/584369617/picture?type=large", "display_name": "Sugetha Chandhrasekar", "link": "https://stackoverflow.com/users/4434808/sugetha-chandhrasekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474351476, "creation_date": 1472677668, "last_edit_date": 1474351476, "question_id": 39259026, "link": "https://stackoverflow.com/questions/39259026/fmin-ncg-not-returning-an-optimized-result", "title": "fmin_ncg not returning an optimized result", "body": "<p>I am trying to use fmin_ncg for minimizing my cost function. But, the results that I get back are not minimized. I get the same result I would get without advanced optimization. I know for a fact that it can further be minimized. </p>\n\n<p>PS. I am trying to code assignment 2 of the <a href=\"https://www.coursera.org/learn/machine-learning\" rel=\"nofollow\">Coursera's ML course</a>. </p>\n\n<p>My cost fn:</p>\n\n<pre><code>def costFn(theta, X, y, m, lam):\n    h = sigmoid(X.dot(theta))\n    theta0 = theta\n    J = 1 / m * np.sum((-(y * np.log(h))) - ((1-y) * np.log(1-h))) + (lam/(2*m) * theta0.T.dot(theta0))\n    return J.flatten()\n</code></pre>\n\n<p>X would look something like this:</p>\n\n<pre><code>[[  1.00000000e+00   5.12670000e-02   6.99560000e-01 ...,   6.29470940e-04\n8.58939846e-03   1.17205992e-01]\n [  1.00000000e+00  -9.27420000e-02   6.84940000e-01 ...,   1.89305413e-03\n   -1.39810280e-02   1.03255971e-01]\n [  1.00000000e+00  -2.13710000e-01   6.92250000e-01 ...,   1.04882142e-02\n   -3.39734512e-02   1.10046893e-01]\n ..., \n [  1.00000000e+00  -4.84450000e-01   9.99270000e-01 ...,   2.34007252e-01\n   -4.82684337e-01   9.95627986e-01]\n ....\n</code></pre>\n\n<p>Y is a bunch of 0s and 1s</p>\n\n<pre><code>[[1]\n[1]\n[1]\n[1]\n...\n[0]\n[0]]\n\nX.shape = (118, 28)\ny.shape = (118, 1)\n</code></pre>\n\n<p>My grad function:</p>\n\n<pre><code>def grad(theta, X, y, m, lam):\n    h = sigmoid(X.dot(theta))\n    theta0 = initial_theta\n    gg = 1.0 / m * ((X.T.dot(h-y)) + (lam * theta0))\n    return gg.flatten()\n</code></pre>\n\n<p>Using just my costFn and grad, I get the following:</p>\n\n<pre><code>Cost at initial theta (zeros): 0.69314718056\n</code></pre>\n\n<p>With fmin_ncg:</p>\n\n<pre><code>xopt = fmin_ncg(costFn, fprime=grad, x0=initial_theta, args=(X, y, m, lam), maxiter=400, disp=True, full_output=True )\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Optimization terminated successfully.\n     Current function value: 0.693147\n     Iterations: 1\n     Function evaluations: 2\n     Gradient evaluations: 4\n     Hessian evaluations: 0\n</code></pre>\n\n<p>Using octave, my J after advanced optimization should be:</p>\n\n<pre><code> 0.52900\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<p>EDIT:\nI got my optimization to work:</p>\n\n<pre><code>y1 = y.flatten()\nResult = op.minimize(fun = costFn, \n                x0 = initial_theta, \n                args = (X, y1, m, lam),\n                method = 'CG',\n                options={'disp': True})\n</code></pre>\n\n<p>I get the costFn to be 0.52900, which is what I expected.</p>\n\n<p>But the values of 'theta' are a bit off that the accuracy is only 42%. It's supposed to be 83%.</p>\n\n<p>The values of theta I got:</p>\n\n<pre><code>[ 1.14227089  0.60130664  1.16707559 -1.87187892 -0.91534354 -1.26956697\n0.12663015 -0.36875537 -0.34522652 -0.17363325 -1.42401493 -0.04872243\n-0.60650726 -0.269242   -1.1631064  -0.24319088 -0.20711764 -0.04333854\n-0.28026111 -0.28693582 -0.46918892 -1.03640373  0.02909611 -0.29266766\n 0.01725324 -0.32899144 -0.13795701 -0.93215664]\n</code></pre>\n\n<p>The actual values:</p>\n\n<pre><code>[1.273005 0.624876 1.177376 -2.020142 -0.912616 -1.429907 0.125668 -0.368551\n-0.360033 -0.171068 -1.460894 -0.052499 -0.618889 -0.273745 -1.192301 \n-0.240993 -0.207934 -0.047224 -0.278327 -0.296602 -0.453957 -1.045511 \n0.026463 -0.294330 0.014381 -0.328703 -0.143796 -0.924883]\n</code></pre>\n"}, {"tags": ["python", "xml", "operating-system", "adobe"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6780367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c5048fa76837ba11cac26cc1d4987?s=128&d=identicon&r=PG&f=1", "display_name": "SalesQBs", "link": "https://stackoverflow.com/users/6780367/salesqbs"}, "edited": false, "score": 0, "creation_date": 1472681171, "post_id": 39259124, "comment_id": 65855427, "body": "I tried the <code>-a</code> flag and it still opens with the little welcome window. If it helps at all, in order to open XML in Adobe Captivate you have to go to File &gt; Import &gt; XML. The default file type for Captivate is .cptx which is a Captivate Project file. In order to import XML you have to do it once the application is open."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "reply_to_user": {"reputation": 21, "user_id": 6780367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c5048fa76837ba11cac26cc1d4987?s=128&d=identicon&r=PG&f=1", "display_name": "SalesQBs", "link": "https://stackoverflow.com/users/6780367/salesqbs"}, "edited": false, "score": 0, "creation_date": 1472682312, "post_id": 39259124, "comment_id": 65855853, "body": "I suppose <code>open</code> depends on the individual applications to support opening files from the command line, which they might not."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1472678465, "last_edit_date": 1472678465, "creation_date": 1472678108, "answer_id": 39259124, "question_id": 39258993, "link": "https://stackoverflow.com/questions/39258993/open-file-with-adobe-captivate-from-command-line/39259124#39259124", "title": "Open file with Adobe Captivate from command line", "body": "<p>If Adobe Captivate is registered as the default application for handling XML files, then you can leave out the application name altogether:</p>\n\n<pre><code>os.system(\"open flashcards_template_changed.xml\")\n</code></pre>\n\n<p>Otherwise, specify the application with the <code>-a</code> flag:</p>\n\n<pre><code>os.system(\"open -a captivate flashcards_template_changed.xml\")\n</code></pre>\n\n<p>I don't know for certain that \"captivate\" is a recognized name for Adobe Captivate; I'm just guessing, and I don't have access to a suitable Mac to find out.  If that doesn't work, you could probably use something very similar to what you had in your post:</p>\n\n<pre><code>os.system(\"open -a '/Applications/Adobe Captivate 9/Adobe Captivate.app' flashcards_template_changed.xml\")\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6780367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81c5048fa76837ba11cac26cc1d4987?s=128&d=identicon&r=PG&f=1", "display_name": "SalesQBs", "link": "https://stackoverflow.com/users/6780367/salesqbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1472678465, "creation_date": 1472677523, "last_edit_date": 1472677860, "question_id": 39258993, "link": "https://stackoverflow.com/questions/39258993/open-file-with-adobe-captivate-from-command-line", "title": "Open file with Adobe Captivate from command line", "body": "<p>I am attempting to open an XML file with Adobe Captivate in my script using <code>os.system()</code>. Here is my code:</p>\n\n<p><code>os.system(\"open /Applications/Adobe\\ Captivate\\ 9/Adobe\\ Captivate.app/ \\\"flashcards_template_changed.xml\\\"\")</code></p>\n\n<p>It works fine the issue is with the opening screen on Adobe Captivate. When the program is run one of those 'New Document' windows pops up and asks you whether you want to start a new document, what kind of document, etc. Similar to Microsoft Word.</p>\n\n<p>I was wondering if anyone had any experience bypassing this menu so the file would open. When I open Adobe Captivate and open my XML file it opens perfectly so I know it is in the right format.</p>\n\n<p>Any help would be great! Thanks!   </p>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472678077, "post_id": 39258966, "comment_id": 65854240, "body": "Two notes: it might be more elegant to use <code>scipy.where(X&gt;eps,1&#47;X,1)</code>, and you&#39;re setting this dummy value to 1 instead of 0 (as opposed to your explanation above). Furthermore, if transposing is &quot;not really neeed&quot;, you should avoid it. I think that will need to remap memory, which takes time."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472678283, "post_id": 39258966, "comment_id": 65854322, "body": "Thanks - I knew a command like that existed, but didn&#39;t remember its name offhand.  Will update the explanation (I had changed the 0 to 1 while trying to see if that helped)"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472678831, "post_id": 39258966, "comment_id": 65854565, "body": "So what if this pausing is really due to some singularity in the ODE? In this case odeint might try hard to get a next step, and that might take a while. So is it possible that your system is near-critical or something, and it simply takes long to solve the ODE?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472679257, "post_id": 39258966, "comment_id": 65854722, "body": "@AndrasDeak  No - the system should be really nicely behaved.  But perhaps at 0*0/0, there may be problems if the denominator is getting to zero faster than the numerator because of numerical error.  I&#39;ll add a plot of roughly what it looks like.  Nice and smooth."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472679688, "post_id": 39258966, "comment_id": 65854913, "body": "If <code>XX</code>, <code>XY</code> etc live up to their name, they should go more rapidly to zero than the denominator. Is it not possible to refactor your ODE in a way that doesn&#39;t contain this singularity, for instance by scaling up with <code>X</code> somehow?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472682493, "post_id": 39258966, "comment_id": 65855915, "body": "Haven&#39;t had luck with that.  <code>XX[i,j]</code> will be approximately <code>X[i]X[j]</code>.  So <code>XX[i,j]*XX[j,k]&#47;X[j]</code> should be somewhere &quot;between&quot; 0^4/0 and 0^2/0 (with liberal abuse of notation) as <code>X[j]</code> goes to zero.  But if there&#39;s a little bit of numerical error, it&#39;s conceivable that <code>X[j]</code> goes to zero when it should be very small, while the <code>XX</code>s aren&#39;t yet 0.  If it hits a place really near such an error, then maybe it really struggles to choose a step size."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472683360, "post_id": 39258966, "comment_id": 65856184, "body": "Is there by any chance a clearly written version of the ODE?:) The instability of this formulation is bugging me, and I&#39;m really curious about the paper-based optimization."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1472683950, "post_id": 39258966, "comment_id": 65856354, "body": "@AndrasDeak adding the equations to the question in .png form."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472685097, "post_id": 39258966, "comment_id": 65856669, "body": "Thank you. So here&#39;s my concern: if these are really averages and covariances, then nothing forbids <code>&lt;X_i Y_j&gt;</code> to be nonzero while <code>&lt;X_i&gt;</code> is zero. You could have two correlated random variables with zero mean, for instance if <code>Y_j=X_i</code> with zero mean. Of course this only matters if the notation truly corresponds to means and covariances. But the fact that the <code>X</code>/<code>Y</code> and <code>XX</code>/<code>XY</code>-type variables are independent in the ODE, suggests that this can indeed happen (and not only due to numerical error). What do you think?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472689329, "post_id": 39258966, "comment_id": 65857722, "body": "@AndrasDeak So these are (approximations to) average probabilities: &lt;Xi&gt; represents the average probability that node i is in a given state S.  &lt;XiXj&gt; represents the average probability that in the ij edge the nodes are both in state S.  I can prove (with liberal use of integrating factors) that starting from these equations all of these variables remain positive and that &lt;XiXj&gt; is at most &lt;Xi&gt; as expected in the unapproximated variables.    So it will only happen due to numerical error that one crosses 0.  Some of these are decaying exponentially, so with a tiny error it could well happen."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1472707493, "post_id": 39258966, "comment_id": 65861906, "body": "I&#39;ve gotten it to tell me that it switches to bdf immediately before getting stuck.  I can&#39;t see how to disable the switch."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1472717701, "post_id": 39258966, "comment_id": 65867087, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/122371/discussion-between-andras-deak-and-joel\">continue this discussion in chat</a>."}], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472757395, "creation_date": 1472677391, "last_edit_date": 1472757395, "question_id": 39258966, "link": "https://stackoverflow.com/questions/39258966/integrate-odeint-pausing-perhaps-near-removable-discontinuity", "title": "integrate.odeint pausing (perhaps near removable discontinuity?)", "body": "<p>I have a system of equations that I am trying to integrate with <code>integrate.odeint</code>.  </p>\n\n<p>Within that system are terms like <code>XiXj[i,j]*XiXj[j,k]/X[j]</code>.  It is possible for the denominator to be zero (particularly in the initial condition).  However, both terms in the numerator should go to zero there, and the whole term should be interpreted as zero (and values going into the equations are nonnegative).</p>\n\n<p>What I have done to handle this is to replace  the <code>1/X[j]</code> with <code>Xinv[j]</code> which is set to be <code>1/X[j]</code> when <code>X[j]&gt;eps</code> for some smallish <code>eps</code>, and use <code>1</code> if it is smaller than <code>eps</code>.</p>\n\n<p>However, when I integrate, I find that <code>odeint</code> will sit for a very long time calculating derivatives at what appears to be a single value of <code>t</code>.  I think this is because of it trying to calculate things near a discontinuity in what I've done.</p>\n\n<p>Larger values of <code>eps</code> or assigning a minimum step size reduces the probability of encountering this issue, but it can still happen.  </p>\n\n<p>I'm hoping to figure out how to prevent this from happening.  Unfortunately, I haven't been able to force this to happen in a simple example.  So I've stripped down my example as far as I can.</p>\n\n<p>Some background on what's being solved: I'm thinking about nodes in a networkx network (so running this code will require networkx).  Nodes are susceptible, infected or recovered.  I have equations for the derivatives of the susceptible (X) and infected (Y) states of each node.  As correlations form across edges, I am also tracking the probability each edge is between S and I (XY) or S and S (XX) nodes.</p>\n\n<p>Here's a system of equations.  I've set g_{ij} to be 1 and gamma_i is simply gamma in the code below.\n<a href=\"https://i.stack.imgur.com/YUbBG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YUbBG.png\" alt=\"enter image description here\"></a></p>\n\n<p>It should be possible to just copy and paste the code and it will run it.  As it runs, the derivative function outputs the time and some simple measure of the derivatives.  You'll notice that it pauses for a long time at particular times.  Sometimes it starts up again.  Sometimes I give up waiting.</p>\n\n<p>(note, the network it solves for is random, so if by some unlikely chance you don't see the behavior, run it again.  You may want to pickle the graph and reuse a graph to make things consistent between tests.)</p>\n\n<pre><code>from scipy import integrate\nimport scipy\nimport networkx as nx\n\n\ndef _dSIR_pair_based_(V, t, G, nodelist, index_of_node, tau, gamma):\n    #V is a vector of states\n    #t is time\n    #G is a networkx Graph\n    #nodelist is a list of nodes in G\n    #index_of_node is a dict index_of_node[u] is i such that nodelist[i]=u\n    #    {u:i for i, u in enumerate(nodelist)}\n    #tau is transmission rate\n    #gamma is recovery rate\n\n    N=G.order()\n    X = V[0:N] #probability node is susceptible\n    eps = 0.1**(5)\n    Xinv = scipy.array([1/v if v&gt;eps else 1 for v in X]) #there are places where we divide by X[i] which may == 0.\n                                                         #In those cases the numerator is (very) 0, so it's easier\n                                                         #to set this up as mult by inverse with a dummy value when\n                                                         #it is 1/0.\n    Y = V[N:2*N] #prob node is infected\n    Yinv = scipy.array([1/v if v&gt;eps else 1 for v in Y])\n\n    XY = V[2*N: 2*N+N**2]  #prob edge exists and is from susceptible to infected \n    XX = V[2*N+N**2:]      #prob edge exists and is between two susceptibles.\n\n    #print X.shape, Y.shape, XY.shape, XX.shape, N\n    XY.shape = (N,N)   #get them into the right shape\n    XX.shape = (N,N)\n\n\n    YX = XY.T #not really needed, but helps keep consistent with equations as written in text\n\n    dX = scipy.zeros(N)\n    dY = scipy.zeros(N)\n    dXY = scipy.zeros((N,N))\n    dXX = scipy.zeros((N,N))\n\n\n    #I could make the below more efficient, but I think this sequence of for loops is easier to read, or at least understand.\n    #I expect it to run quickly regardless.  Will avoid (premature) optimization for now.\n    for u in nodelist:\n        i = index_of_node[u]\n        dY[i] += -gamma*Y[i] \n        for v in G.neighbors(u):\n            j = index_of_node[v]\n            dX[i] += -tau*XY[i,j]\n            dY[i] += tau*XY[i,j]\n\n            dXY[i,j] +=  - (tau+gamma)*XY[i,j] \n\n            for w in G.neighbors(u):\n                if w == v: #skip these\n                    continue\n                #so w != v.  \n                k= index_of_node[w]\n                dXY[i,j] += tau * XX[i,j] * XY[j,k]*Xinv[j]  -  tau * YX[k,i] * XY[i,j]*Xinv[i]\n                dXX[i,j] += -tau * XX[i,j] * XY[j,k]*Xinv[j] -  tau * YX[k,i] * XX[i,j]*Xinv[i]  \n\n    dXY.shape = (N**2,1)\n    dXX.shape = (N**2,1)\n\n    dV = scipy.concatenate((dX[:, None], dY[:,None], dXY, dXX), axis=0).T[0]\n    print t, sum(dV)\n    return dV\n\n\n\n\n\ndef SIR_pair_based(G, nodelist, Y0, tau, gamma, tmin = 0, tmax = 100, tcount = 1001):\n\n    times = scipy.linspace(tmin,tmax,tcount)\n    X0 = 1-Y0 #if not initially infected, then initially susceptible\n    N = len(Y0)\n\n    XY0 = X0[:,None]*Y0[None,:]\n    XX0 = X0[:,None]*X0[None,:]\n\n    XY0.shape=(N**2,1)\n    XX0.shape=(N**2,1)\n\n    V0 = scipy.concatenate((X0[:,None], Y0[:,None], XY0, XX0), axis=0).T[0]\n    index_of_node = {node:i for i, node in enumerate(nodelist)}\n\n    V = integrate.odeint(_dSIR_pair_based_, V0, times, args = (G, nodelist, index_of_node, tau, gamma))#, mxstep=10)#(times[1]-times[0])/1000)\n\n\n\n\ndef test_SIR_pair_based():\n    G = nx.fast_gnp_random_graph(100,0.02)\n    nodelist = G.nodes()\n    Y0 = scipy.array([1 if node&lt;10 else 0 for node in nodelist])\n\n    SIR_pair_based(G, nodelist, Y0, 1, 0.5, tmax = 10)\n\n\ntest_SIR_pair_based()\n</code></pre>\n\n<p>If I plot <code>sum(X)</code>, <code>sum(Y)</code> and <code>1-sum(X+Y)</code> I get the following for a larger value of <code>eps=0.01</code> (when the random graph is such that it does get through the process - sometimes it still gets stuck):</p>\n\n<p><a href=\"https://i.stack.imgur.com/i3Odm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3Odm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "jenkins", "centos"], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 4157479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vX9oM.png?s=128&g=1", "display_name": "Aleksandr", "link": "https://stackoverflow.com/users/4157479/aleksandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1472791125, "creation_date": 1472791125, "answer_id": 39284421, "question_id": 39258953, "link": "https://stackoverflow.com/questions/39258953/jenkins-master-slave-windows/39284421#39284421", "title": "Jenkins Master/Slave Windows", "body": "<p>Yes, it will. This is usual Jenkins using - see <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Distributed+builds\" rel=\"nofollow\">documentation</a>.</p>\n"}], "owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472791125, "creation_date": 1472677352, "question_id": 39258953, "link": "https://stackoverflow.com/questions/39258953/jenkins-master-slave-windows", "title": "Jenkins Master/Slave Windows", "body": "<p>Just want a clarification of the following. I am currently in the process of transferring a Bamboo plan into a Jenkins one and everything was working fine up until the point I ran a Python script on my CentOS Virtual Machine. The reason being that Python wants to import a library called <strong>winreg</strong> which is not available on RedHat distributions. </p>\n\n<p>In order to fix this, I wanted to have my Master be a CentOS machine and my slave be a Windows 10 machine. Is that how it works? Will the plan be built on the Windows 10 machine while the output is handled by the CentOS machine?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "json", "content-type", "qualtrics"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472678171, "post_id": 39259011, "comment_id": 65854271, "body": "I am now getting the error:  File &quot;&lt;ipython-input-167-1630c2aa505c&gt;&quot;, line 46     r = requests.post(&#39;<a href=\"https://az1.qualtrics.com/API/v3/mailinglists/\" rel=\"nofollow noreferrer\">az1.qualtrics.com/API/v3/mailinglists</a>&#39; + ContactsID +&#39;/contactimports&#39;,files={&quot;file&quot;:open(&#39;contacts.json&#39;, &#39;rb&#39;)}, headers-headers)                                                                                                                                                   ^ SyntaxError: positional argument follows keyword argument"}, {"owner": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472678253, "post_id": 39259011, "comment_id": 65854308, "body": "corrected the headers=headers ... now getting an error to contact qualtrics. grr"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472678335, "post_id": 39259011, "comment_id": 65854348, "body": "lol, maybe you made too many unsuccessful requests, what is the status code?"}, {"owner": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472678428, "post_id": 39259011, "comment_id": 65854399, "body": "&#39;httpStatus&#39;: &#39;500 - Internal Server Error&#39;, -- is this what you mean?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472680140, "post_id": 39259011, "comment_id": 65855070, "body": "Yes, that is a server error, can you share a link to some api docs?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "edited": false, "score": 0, "creation_date": 1472680694, "post_id": 39259011, "comment_id": 65855265, "body": "Actually after having a quick search, I see that it is actually expecting json, what is the format of your json file?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1472681774, "last_edit_date": 1472681774, "creation_date": 1472677594, "answer_id": 39259011, "question_id": 39258853, "link": "https://stackoverflow.com/questions/39258853/using-python-to-post-json-contact-list-to-qualtrics-api-error-with-content-type/39259011#39259011", "title": "Using Python to Post json contact list to Qualtrics API, error with Content-Type", "body": "<p>You need to use <code>files = ..</code> for a <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#post-a-multipart-encoded-file\" rel=\"nofollow\">multipart</a> request:</p>\n\n<pre><code>Token = 'MyToken' #when running the code I put in my actual token and id\nContactsID = 'MyContactsID'\n\ndata = open('contacts.json', 'rb')\nheaders = {'X-API-TOKEN': Token}\nr = requests.post('https://az1.qualtrics.com/API/v3/mailinglists/' + ContactsID +'/contactimports',files={\"file\":data}, headers=headers)\nr.text\n</code></pre>\n\n<p>Once you do requests will take care of the rest:</p>\n\n<pre><code>In [36]: url = 'http://httpbin.org/post' \nIn [37]: headers = {'X-API-TOKEN': \"123456789\"}    \nIn [38]: files = {'file': open('a.csv', 'rb')}    \nIn [39]: r = requests.post(url, files=files, headers=headers)\n\nIn [40]: print r.text\n{\n  \"args\": {}, \n  \"data\": \"\", \n  \"files\": {\n    \"file\": \"a,b,c\\n1,2,3\"\n  }, \n  \"form\": {}, \n  \"headers\": {\n    \"Accept\": \"*/*\", \n    \"Accept-Encoding\": \"gzip, deflate\", \n    \"Content-Length\": \"152\", \n    \"Content-Type\": \"multipart/form-data; boundary=3830dbe5fa6141f69d3d85dee4ba6e78\", \n    \"Host\": \"httpbin.org\", \n    \"User-Agent\": \"python-requests/2.10.0\", \n    \"X-Api-Token\": \"123456789\"\n  }, \n  \"json\": null, \n  \"origin\": \"51.171.98.185\", \n  \"url\": \"http://httpbin.org/post\"\n}\n\n\nIn [41]: print(r.request.body)\n--3830dbe5fa6141f69d3d85dee4ba6e78\nContent-Disposition: form-data; name=\"file\"; filename=\"a.csv\"\n\na,b,c\n1,2,3\n--3830dbe5fa6141f69d3d85dee4ba6e78--\n</code></pre>\n\n<p>looking at the <a href=\"https://api.qualtrics.com/docs/create-contacts-import\" rel=\"nofollow\">docs</a>, you actually want something closer to:</p>\n\n<pre><code>Token = 'MyToken' #when running the code I put in my actual token and id\nContactsID = 'MyContactsID'\n\ndata = open('contacts.json', 'rb')\n\nfiles = {'file': ('contact', data ,'application/json', {'X-API-TOKEN': Token})}\nr = requests.post('https://az1.qualtrics.com/API/v3/mailinglists/' + ContactsID +'/contactimports',files=files)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "is_accepted": false, "score": 2, "last_activity_date": 1472830696, "creation_date": 1472830696, "answer_id": 39296146, "question_id": 39258853, "link": "https://stackoverflow.com/questions/39258853/using-python-to-post-json-contact-list-to-qualtrics-api-error-with-content-type/39296146#39296146", "title": "Using Python to Post json contact list to Qualtrics API, error with Content-Type", "body": "<p>With the help of Qualtrics Support, I was eventually able to get the following code to work:</p>\n\n<pre><code>Token = 'MyToken' #when running the code I put in my actual token and id\nContactsID = 'MyContactsID'\n\nurl = \"https://az1.qualtrics.com/API/v3/mailinglists/\" + ContactsID + \"/contactimports/\"\nheaders = {\n   'content-type': \"multipart/form-data; boundary=---BOUNDRY\",\n   'x-api-token': \"Token\"\n   } \nfiles = {'contacts': ('contacts', open('contacts.json', 'rb'), 'application/json')}\nrequest = requests.post(url, headers=headers, files=files)\nprint(request.text)\n</code></pre>\n\n<p>Please note that if you want to use this code, you will need to change \"az1\" in the URL to your own Qualtrics datacenter ID.</p>\n"}], "owner": {"reputation": 71, "user_id": 6376479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qs4pwUpOrkI/AAAAAAAAAAI/AAAAAAAAAAA/6EYwlOHb1GM/photo.jpg?sz=128", "display_name": "Megan Hewitt", "link": "https://stackoverflow.com/users/6376479/megan-hewitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1472830696, "creation_date": 1472676936, "question_id": 39258853, "link": "https://stackoverflow.com/questions/39258853/using-python-to-post-json-contact-list-to-qualtrics-api-error-with-content-type", "title": "Using Python to Post json contact list to Qualtrics API, error with Content-Type", "body": "<p>I'm trying to import contacts into a contact list in Qualtrics. I am using python to do this. </p>\n\n<pre><code>Token = 'MyToken' #when running the code I put in my actual token and id\nContactsID = 'MyContactsID'\n\ndata = open('contacts.json', 'rb')\nheaders = {'X-API-TOKEN': Token, 'Content-Type':'application/json',}\nr = requests.post('https://az1.qualtrics.com/API/v3/mailinglists/' + ContactsID +'/contactimports', headers=headers, data=data)\nr.text\n</code></pre>\n\n<p>This code gives me the following error: '{\"meta\":{\"httpStatus\":\"400 - Bad Request\",\"error\":{\"errorMessage\":\"Invalid Content-Type. expected=multipart/form-data found=application/json\",\"errorCode\":\"RP_0.1\"},\"requestId\":null}}'</p>\n\n<p>I changed the content type to multipart/form-data that it says it is expecting and received the response \"413\", which qualtrics explains means \"The request body was too large. This can also happen in cases where a multipart/form-data request is malformed.\"</p>\n\n<p>I have tested my json and verified that it is valid. Also, I don't know why the request body would be too large because it's only 13 contacts that I'm trying to import. Any ideas?</p>\n"}, {"tags": ["python", "json", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473267627, "post_id": 39258987, "comment_id": 66079098, "body": "Thanks so much for the help, you&#39;re definitely right about adding all the shapes to a list, and what you described is working well for me. Now I&#39;m running to the next step in the problem. I need to call those functions (makebox etc) using the values in each nested dict as follows below, and calling those values when not all the same parameters are used by each type of function is proving tricky &#39; P1 = gp_Pnt(centerx, centery, centerz) my_box2 = BRepPrimAPI_MakeBox(P1, lentghx,lengthy,lengthz).Shape() display.DisplayShape(my_box2, update=True) &#39;"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473285382, "post_id": 39258987, "comment_id": 66087080, "body": "@williamwatts I added an update, see if that works for you."}, {"owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473442170, "post_id": 39258987, "comment_id": 66158433, "body": "So I had to add casting the the mypoint arguments to floats as follows mypoint = gp_Pnt(float(kwargs.pop(&#39;centerx&#39;)) to get that to work, but now I&#39;m getting &quot;TypeError: keywords must be strings&quot; on the myshape = function&quot; line which is surprising to me."}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473444114, "post_id": 39258987, "comment_id": 66159423, "body": "@williamwatts That would seem to indicate that the dictionary keys are not always strings. Is that the case? Could you possibly update your question with your current code?"}, {"owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473446109, "post_id": 39258987, "comment_id": 66160381, "body": "Updated with current code and some more info. Thanks!"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473452428, "post_id": 39258987, "comment_id": 66163349, "body": "@williamwatts I updated the last code block to cast all arguments to floats (except &#39;type&#39; of course). I am not sure where that error is coming from since JSON can only have strings for keys. Can you try printing out <code>kwargs</code> before the <code>myshape = function(mypoint, **kwargs).Shape()</code> line?"}, {"owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473453122, "post_id": 39258987, "comment_id": 66163673, "body": "Yeah, I&#39;m not too sure either. I added the print kwargs before the myshape line and got this:  &#39;Display3d class successfully initialized.  ######################################## {u&#39;radius&#39;: 100.0} Traceback (most recent call last):   File &quot;C:/Users/willi_000/Documents/Code/dumbbox.py&quot;, line 32, in &lt;module&gt;     myshape = function(mypoint, **kwargs).Shape() TypeError: __init__() got an unexpected keyword argument &#39;radius&#39;&#39;"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "reply_to_user": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473553816, "post_id": 39258987, "comment_id": 66186749, "body": "@williamwatts That&#39;s a different (and easier to explain) error. After figuring out that this is OpenCascade, I looked at the API and the BRepPrimAPI_Make* functions are defined using <code>*args</code> meaning you can&#39;t use keyword args. I have added an update."}, {"owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "edited": false, "score": 0, "creation_date": 1473697971, "post_id": 39258987, "comment_id": 66231008, "body": "Great! Thanks so much. I still have some tweaking to get this to do all I want but it&#39;s reading in multiple objects (at least of the sphere type for now) and parameters rendering them as desired. I&#39;m off and running now. Thanks again!"}], "tags": [], "owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "is_accepted": false, "score": 2, "last_activity_date": 1473553740, "last_edit_date": 1473553740, "creation_date": 1472677476, "answer_id": 39258987, "question_id": 39258783, "link": "https://stackoverflow.com/questions/39258783/python-pull-values-from-nested-dictionary-for-args-in-function-call/39258987#39258987", "title": "Python pull values from nested dictionary for args in function call", "body": "<p>This will add all of the <code>Shapes</code> to a list. </p>\n\n<pre><code>data ={\n \"objects\" : {\n  \"1\" : {\n    \"type\" : \"sphere\",\n    \"radius\" : \"100\",\n    \"centerx\" : \"30\",\n    \"centery\" : \"40\",\n    \"centerz\" : \"50\"\n},\n  \"2\" : {\n    \"type\" : \"box\",\n    \"lengthx\" : \"30\",\n    \"lengthy\" : \"40\",\n    \"lengthz\" : \"50\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n},\n  \"3\" : {\n    \"type\" : \"cone\",\n    \"length\" : \"30\",\n    \"radius1\" : \"40\",\n    \"radius2\" : \"50\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n},\n  \"4\" : {\n    \"type\" : \"cylinder\",\n    \"length\" : \"30\",\n    \"radius\" : \"40\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n    }\n   }\n}\n\nfuncs = {\n    'sphere': BRepPrimAPI_MakeSphere,\n    'box': BRepPrimAPI_MakeBox,\n    'cone': BRepPrimAPI_MakeCone,\n    'cylinder': BRepPrimAPI_MakeCylinder\n}\nshapes = []\nfor index, kwargs in data['objects'].iteritems():\n    function = funcs[kwargs.pop('type')]\n    shapes.append(function(**kwargs).Shape())\n</code></pre>\n\n<p>I had to fake the functions and the <code>.Shape()</code> part, but it works for me.</p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>As per the comment (by @williamwatts), I think this is what you want. Replace the <code>for</code> loop with this:</p>\n\n<pre><code>for index, kwargs in data['objects'].iteritems():\n    function = funcs[kwargs.pop('type')]\n    kwargs = {k:float(v) for k, v in kwargs.iteritems()}\n    mypoint = gp_Pnt(kwargs.pop('centerx'), kwargs.pop('centery'), kwargs.pop('centerz'))\n    myshape = function(mypoint, **kwargs).Shape()\n    shapes.append(myshape)\n    display.DisplayShape(myshape, update=True)\n</code></pre>\n\n<p>This assumes that all shapes will have <code>centerx</code>, <code>centery</code> and <code>centerz</code> attributes.</p>\n\n<hr>\n\n<h2>Update 2</h2>\n\n<p>Since the functions are defined using *args, you cannot use keyword arguments. You will have to use this instead:</p>\n\n<pre><code>funcs = {\n    'sphere': {\n        'function': BRepPrimAPI_MakeSphere,\n        'argnames': ['radius']\n    },\n    'box': {\n        'function': BRepPrimAPI_MakeBox,\n        'argnames': ['lengthx', 'lengthy', 'lengthz']\n    },\n    'cone': {\n        'function': BRepPrimAPI_MakeCone,\n        'argnames': ['length', 'radius1', 'radius2']\n    },\n    'cylinder': {\n        'function': BRepPrimAPI_MakeCylinder,\n        'argnames': ['length', 'radius']\n    }\n}\nshapes = []\nfor index, kwargs in data['objects'].iteritems():\n    print kwargs\n    shapeinfo = funcs[kwargs.pop('type')]\n    kwargs = {k:float(v) for k, v in kwargs.iteritems()}\n    mypoint = gp_Pnt(kwargs.pop('centerx'), kwargs.pop('centery'), kwargs.pop('centerz'))\n    args = [kwargs[name] for name in shapeinfo['argnames']]\n    myshape = shapeinfo['function'](mypoint, *args).Shape()\n    shapes.append(myshape)\n    display.DisplayShape(myshape, update=True)\n</code></pre>\n\n<p>This makes sure that the args are sent in the correct order.</p>\n"}], "owner": {"reputation": 11, "user_id": 6780051, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IS4h2-LUMNE/AAAAAAAAAAI/AAAAAAAACg0/gTs25ujtSPM/photo.jpg?sz=128", "display_name": "william watts", "link": "https://stackoverflow.com/users/6780051/william-watts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473553740, "creation_date": 1472676703, "last_edit_date": 1473445969, "question_id": 39258783, "link": "https://stackoverflow.com/questions/39258783/python-pull-values-from-nested-dictionary-for-args-in-function-call", "title": "Python pull values from nested dictionary for args in function call", "body": "<p>So I'm writing a bit of Python code to read in JSON data containing object types and parameters. I essentially need to run through this data and call one of a few functions that, using those parameters, creates a new, unique object each time to be used later. The JSON data looks like this:</p>\n\n<pre><code> {\n \"objects\" : {\n  \"1\" : {\n    \"type\" : \"sphere\",\n    \"radius\" : \"100\",\n    \"centerx\" : \"30\",\n    \"centery\" : \"40\",\n    \"centerz\" : \"50\"\n},\n  \"2\" : {\n    \"type\" : \"box\",\n    \"lengthx\" : \"30\",\n    \"lengthy\" : \"40\",\n    \"lengthz\" : \"50\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n},\n  \"3\" : {\n    \"type\" : \"cone\",\n    \"length\" : \"30\",\n    \"radius1\" : \"40\",\n    \"radius2\" : \"50\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n},\n  \"4\" : {\n    \"type\" : \"cylinder\",\n    \"length\" : \"30\",\n    \"radius\" : \"40\",\n    \"centerx\" : \"60\",\n    \"centery\" : \"70\",\n    \"centerz\" : \"80\"\n    }\n   }\n}\n</code></pre>\n\n<p>Here's my updated code as it stands now:</p>\n\n<pre><code>display, start_display, add_menu, add_function_to_menu = init_display()\nwith open('C:\\Users\\willi_000\\Documents\\Code\\document (9).json') as   data_file:\n    data = json.load(data_file)\n\nfuncs = {\n    'sphere': BRepPrimAPI_MakeSphere,\n    'box': BRepPrimAPI_MakeBox,\n    'cone': BRepPrimAPI_MakeCone,\n    'cylinder': BRepPrimAPI_MakeCylinder\n}\nshapes = []\nfor index, kwargs in data['objects'].iteritems():\n    mypoint = gp_Pnt(float(kwargs.pop('centerx')),     float(kwargs.pop('centery')), float(kwargs.pop('centerz')))\n    function = funcs[kwargs.pop('type')]\n    #print mypoint\n    #print function\n    myshape = function(mypoint,float(**kwargs)).Shape()\n    start_display() \n</code></pre>\n\n<p>And night now I'm getting the following error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/willi_000/Documents/Code/dumbbox.py\", line 32, in &lt;module&gt;\n    myshape = function(mypoint,**kwargs).Shape()\nTypeError: keywords must be strings\"\n</code></pre>\n\n<p>For reference, here are two examples of what the make functions are expecting</p>\n\n<pre><code>BRepPrimAPI_MakeSphere::BRepPrimAPI_MakeSphere  (   const gp_Pnt &amp;  Center,\nconst Standard_Real     R )     \n\n\nBRepPrimAPI_MakeBox::BRepPrimAPI_MakeBox    (   const gp_Pnt &amp;  P,\nconst Standard_Real     dx,\nconst Standard_Real     dy,\nconst Standard_Real     dz )    \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 2, "creation_date": 1472676742, "post_id": 39258769, "comment_id": 65853591, "body": "and what does it actually produce?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1472676759, "post_id": 39258769, "comment_id": 65853599, "body": "Don&#39;t use eval on input, cast to float."}, {"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 1, "creation_date": 1472677761, "post_id": 39258769, "comment_id": 65854084, "body": "It looks like you want your print statement to be inside your for loop."}], "answers": [{"tags": [], "owner": {"reputation": 1430, "user_id": 6084928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKTrp.jpg?s=128&g=1", "display_name": "Lex Scarisbrick", "link": "https://stackoverflow.com/users/6084928/lex-scarisbrick"}, "is_accepted": true, "score": 0, "last_activity_date": 1472679318, "creation_date": 1472679318, "answer_id": 39259382, "question_id": 39258769, "link": "https://stackoverflow.com/questions/39258769/modification-of-future-value/39259382#39259382", "title": "Modification of Future Value", "body": "<p>Here's a working example that produces the expected output:</p>\n\n<pre><code>def main(): \n    print(\"Future Value Program - Version 2\")\n    print()\n    principal = float(input(\"Enter Initial Principal: \"))\n    contribution = float(input(\"Enter Annual Contribution: \"))\n    apr = float(input(\"Enter Annual Percentage Rate (decimal): \"))\n    yrs = int(input(\"Enter Number of Years: \"))\n    print()\n    for yr in range(1, yrs + 1):\n        principal += contribution\n        principal = int(((principal * (1 + apr)) * 100) + 0.5) / 100\n        print(\"Year {0}: Amount $ {1}\".format(yr, principal))\n    print()\n    print(\"The value in {0} years is $ {1}\".format(yrs, principal))\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>There were a few problems with the example in the question:</p>\n\n<ol>\n<li>A syntax error in the print statement on line 12. Calling <code>print</code> with parens means all the arguments should be enclosed inside the parens.  Python interpreted the errant paren as the end of arguments passed to <code>print</code>.</li>\n<li>As noted by others, you shouldn't call <code>eval</code> on the inputs. Call <code>float</code> for floating point numbers, <code>int</code> for integers.</li>\n<li>The <code>range</code> operator had an off by one error.</li>\n<li>As noted by others, <code>print</code> is called outside of the loop, so intermediate states of the principal aren't output.</li>\n<li>As far as basic maths, it seems as though adding the contribution was left out.</li>\n<li>As per the expected output, the final <code>print</code> was missing.</li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 6776334, "user_type": "registered", "profile_image": "https://graph.facebook.com/1055748134475042/picture?type=large", "display_name": "Matt Poretsky", "link": "https://stackoverflow.com/users/6776334/matt-poretsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 39259382, "answer_count": 1, "score": 0, "last_activity_date": 1472679318, "creation_date": 1472676643, "last_edit_date": 1472676825, "question_id": 39258769, "link": "https://stackoverflow.com/questions/39258769/modification-of-future-value", "title": "Modification of Future Value", "body": "<p>For this you have to add the annual contribution to the beginning of the year (the principal total) before computing interest for that year.</p>\n\n<p>I am stuck and need help.  This is what I have so far:</p>\n\n<pre><code>def main(): \n\n    print(\"Future Value Program - Version 2\")\n    print()\n    principal = eval(input(\"Enter Initial Principal:\"))\n    contribution = eval(input(\"Enter Annual Contribution:\"))\n    apr = eval(input(\"Enter Annual Percentage Rate (decimal):\"))\n    yrs = eval(input(\"Enter Number of Years:\"))\n    for k in range (1, yrs):\n        principal= principal * (1 + apr)\n    print()\n    print( yrs,) \": Amount $\", int(principal * 100 + 0.5)/100)\n\nmain()\n</code></pre>\n\n<p>It is supposed to look like this:</p>\n\n<pre><code>Future Value Program - Version 2 \n\nEnter Initial Principal: 1000.00\nEnter Annual Contribution: 100.00\nEnter Annual Percentage Rate (decimal): 0.034\nEnter Number of Years: 5 \n\nYear 1: Amount $ 1137.4\nYear 2: Amount $ 1279.47\nYear 3: Amount $ 1426.37\nYear 4: Amount $ 1578.27\nYear 5: Amount $ 1735.33\n\nThe value in 5 years is $ 1735.33\n</code></pre>\n"}, {"tags": ["python", "perl", "python-multiprocessing", "perf"], "owner": {"reputation": 23, "user_id": 6566727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f9cd21a453b262de87c975c4134c7c?s=128&d=identicon&r=PG&f=1", "display_name": "Kestrell", "link": "https://stackoverflow.com/users/6566727/kestrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472743479, "creation_date": 1472676289, "last_edit_date": 1495542766, "question_id": 39258689, "link": "https://stackoverflow.com/questions/39258689/python-high-system-load-from-hpet", "title": "Python High System Load From HPET", "body": "<p>I have a python program that uses many processes to exercise add-in cards for a specified amount of time.  I based it on an old perl program.</p>\n\n<p>The program is not stressing the add-in cards as much as it should.  It results in performance that is is about 60% of the old perl program, and it should be at least 2x the performance of the old perl program because I'm sending data through memory instead of to disc drives.</p>\n\n<p>I noticed that the %system from <code>iostat -c -d -x -t -m /dev/md127 2</code> is around 20-25% on the new python program, and 5-10% on the old perl program, so I ran perf based on this question: <a href=\"https://stackoverflow.com/questions/30245823/high-kernel-cpu-when-running-multiple-python-progams\">High Kernel CPU when running multiple python progams</a></p>\n\n<p>These are the results from <code>perf record -a -g python ...</code> and <code>perf report -g graph</code> on the new python program.  I have tried this on two different systems, and both show a high \"ktime_get\" and \"read_hpet\".  </p>\n\n<p>My program uses multiprocessing.pool to run <code>while time.time() &lt; numberOfMinutes:</code> but the perf results below is from a run where I set the pool size to 1.    </p>\n\n<p>Is something going on where I have a lot of competition for the high precision timer on these systems?</p>\n\n<pre><code>Samples: 388K of event 'cycles', Event count (approx.): 1345230671182                                \n  Children      Self  Command          Shared Object                 Symbol                         \u25c6\n+   35.81%     0.24%  swapper          [kernel.kallsyms]             [k] cpu_startup_entry          \u00a6\n+   29.27%     0.00%  swapper          [kernel.kallsyms]             [k] start_secondary            \u00a6\n-   27.64%     0.15%  swapper          [kernel.kallsyms]             [k] ktime_get                  \u00a6\n   - ktime_get                                                                                      \u00a6\n      + 10.93% clockevents_program_event                                                            \u00a6\n      + 5.23% cpuidle_enter_state                                                                   \u00a6\n      + 4.02% sched_clock_tick                                                                      \u00a6\n      + 3.55% tick_nohz_idle_exit                                                                   \u00a6\n      + 3.35% __tick_nohz_idle_enter                                                                \u00a6\n      + 0.43% tick_check_idle                                                                       \u00a6\n      + 0.05% tick_sched_timer                                                                      \u00a6\n      + 0.04% clockevents_program_min_delta                                                         \u00a6\n      + 0.01% cpuidle_idle_call                                                                     \u00a6\n      + 0.01% tick_program_event                                                                    \u00a6\n      + 0.00% intel_pstate_timer_func                                                               \u00a6\n      + 0.00% tick_nohz_idle_enter                                                                  \u00a6\n      + 0.00% cpu_startup_entry                                                                     \u00a6\n      + 0.00% sched_clock_idle_wakeup_event                                                         \u00a6\n      + 0.00% poll_idle                                                                             \u00a6\n      + 0.00% irq_enter                                                                             \u00a6\n-   27.60%    27.60%  swapper          [kernel.kallsyms]             [k] read_hpet                  \u00a6\n-   27.60%    27.60%  swapper          [kernel.kallsyms]             [k] read_hpet                  \u00a6\n   - read_hpet                                                                                      \u00a6\n      + 27.49% ktime_get                                                                            \u00a6\n      + 0.07% ktime_get_update_offsets_now                                                          \u00a6\n      + 0.01% update_wall_time                                                                      \u00a6\n      + 0.01% __tick_nohz_idle_enter                                                                \u00a6\n      + 0.01% clockevents_program_event                                                             \u00a6\n      + 0.01% cpuidle_enter_state                                                                   \u00a6\n      + 0.00% tick_nohz_idle_exit                                                                   \u00a6\n      + 0.00% sched_clock_tick                                                                      \u00a6\n      + 0.00% hrtimer_interrupt                                                                     \u00a6\n+   13.79%     0.03%  swapper          [kernel.kallsyms]             [k] tick_nohz_idle_exit        \u00a6\n+   11.58%     0.03%  swapper          [kernel.kallsyms]             [k] tick_program_event         \u00a6\n+   11.57%     0.10%  swapper          [kernel.kallsyms]             [k] clockevents_program_event  \u00a6\n+    9.93%     0.01%  swapper          [kernel.kallsyms]             [k] arch_cpu_idle              \u00a6\n+    9.90%     0.08%  swapper          [kernel.kallsyms]             [k] cpuidle_idle_call          \u00a6\n+    9.81%     0.16%  swapper          [kernel.kallsyms]             [k] hrtimer_start_range_ns     \u00a6\n+    9.79%     0.03%  swapper          [kernel.kallsyms]             [k] __tick_nohz_idle_enter     \u00a6\n\n             \u2592\n</code></pre>\n\n<p><strong>Update</strong>\nDiscovered that the high \"read_hpet\" is coming from a multiprocessing.manager list.  I have a function that spawns a process and walks through a directory adding each file to a manager.list().  Without this, `perf record -a -g python ...' shows me the below report.  Now I'm running some experiments to see if I still get slow performance without using a manager.list().  Why does building a manager.list() from os.walk() use the high precision timer so much?</p>\n\n<pre><code>Samples: 118K of event 'cycles', Event count (approx.): 344546484735                                             \n  Children      Self  Command         Shared Object             Symbol                                           \n+   12.80%     0.01%  python          [kernel.kallsyms]         [k] system_call_fastpath\n+    9.45%     0.00%  python          libpython2.7.so.1.0       [.] 0xffff80585ab02ae0\n+    8.88%     0.06%  python          libc-2.17.so              [.] __xstat64\n+    8.81%     0.03%  python          [kernel.kallsyms]         [k] vfs_fstatat\n+    8.43%     0.01%  python          [kernel.kallsyms]         [k] sys_newstat\n+    8.41%     0.02%  python          [kernel.kallsyms]         [k] SYSC_newstat\n+    8.27%     0.01%  python          [kernel.kallsyms]         [k] user_path_at\n+    8.25%     0.03%  python          [kernel.kallsyms]         [k] user_path_at_empty\n+    8.08%     8.05%  python          libpython2.7.so.1.0       [.] PyEval_EvalFrameEx\n+    8.03%     0.00%  python          multiarray.so             [.] 0xffff8058641f12c0\n+    7.89%     0.02%  python          [kernel.kallsyms]         [k] filename_lookup\n+    7.83%     0.10%  python          [kernel.kallsyms]         [k] path_lookupat\n+    6.37%     0.00%  python          libpython2.7.so.1.0       [.] 0xffff80585ab03940\n+    4.36%     0.00%  python          [unknown]                 [.] 0000000000000000\n+    3.94%     0.00%  python          multiarray.so             [.] 0xffff8058641f1120\n+    3.56%     0.03%  swapper         [kernel.kallsyms]         [k] cpu_startup_entry\n+    3.56%     0.90%  python          [kernel.kallsyms]         [k] link_path_walk\n+    3.39%     0.00%  python          [unknown]                 [.] 0x6c2f746573617461\n+    3.10%     0.04%  python          libc-2.17.so              [.] __getdents64\n+    3.08%     0.00%  python          [unknown]                 [.] 0x6d2f746573617461\n+    2.98%     0.02%  python          [kernel.kallsyms]         [k] lookup_slow\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "owner": {"reputation": 511, "user_id": 5071186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d02b6090c488974f3cf89b5e434c7c15?s=128&d=identicon&r=PG", "display_name": "Weit", "link": "https://stackoverflow.com/users/5071186/weit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472676256, "creation_date": 1472676256, "question_id": 39258682, "link": "https://stackoverflow.com/questions/39258682/how-to-get-user-by-token-in-django-rest", "title": "How to get user by Token in django Rest", "body": "<p>Using: </p>\n\n<pre><code>class PostSerializer(serializers.ModelSerializer):\n    author = ExtUserSerializer(required=False, allow_null=True)\n    class Meta:\n        model = Post\n        field = ('title','description','rating','author')\n    def create(self, validated_data):\n        return Post.objects.create(**validated_data)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@api_view(['GET'])\ndef post_list(request, format=None):\nif request.method == 'GET':\n    posts = Post.objects.all()\n    serializer = PostSerializer(posts, many=True)\n\n    return Response(serializer.data)\n</code></pre>\n\n<p>How to modify Serializer and view to fill field author automatically</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1472676523, "post_id": 39258669, "comment_id": 65853494, "body": "This isn&#39;t something that should be done using regexes alone. What language are you working in? (add a language tag to your question)."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472676589, "post_id": 39258669, "comment_id": 65853526, "body": "You formulated it correctly - grab all between the start/end pattern and then split with <code>,</code> (or with <code>&#47;\\s*,\\s*&#47;</code> pattern). What is your regex flavor?"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472713140, "post_id": 39258669, "comment_id": 65864373, "body": "<code>it is looking for ANY match that has Product: and any string ending in a comma before it and any string ending in ReqID: after it.</code>  I think it should include Radio no?"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472714490, "post_id": 39258669, "comment_id": 65865196, "body": "Not in capturing group @A.Lau"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1472722229, "post_id": 39258669, "comment_id": 65870174, "body": "@revo <code>Essentially I need to gather all values before or after a , that are bordered by the start&#47;end pattern.</code> That, to me, seems like he also wants to capture Radio. Just because his regex didn&#39;t include it doesn&#39;t mean he doesn&#39;t want it. You have to remember, that this poster is not very familiar with the language."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472725565, "post_id": 39258669, "comment_id": 65872435, "body": "<i>would find Toys, Books, Clothes individually</i> I can&#39;t see any <i>Radio</i>. If you like to put words into poster&#39;s mouth that&#39;s OK but even if poster vouch for you, your proposed RegEx is not fine at all. @A.Lau"}, {"owner": {"reputation": 1617, "user_id": 3649739, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/754225178da0abf7e31d44221545d64a?s=128&d=identicon&r=PG&f=1", "display_name": "user3649739", "link": "https://stackoverflow.com/users/3649739/user3649739"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473087880, "post_id": 39258669, "comment_id": 65997991, "body": "@revo You are correct on that, I figured I&#39;d solve the larger problem first (grab all the values before comma) and solve the last and easier problem (,.*?ReqID) separately."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1473088225, "post_id": 39258669, "comment_id": 65998169, "body": "I updated my answer but since you added Python tag to your post it doesn&#39;t work for you."}], "answers": [{"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472676763, "post_id": 39258784, "comment_id": 65853600, "body": "And what if the number of groups is dynamic?"}, {"owner": {"reputation": 1529, "user_id": 6711406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb204a87fed156f928c702a4806513?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Grabowski", "link": "https://stackoverflow.com/users/6711406/dave-grabowski"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472683062, "post_id": 39258784, "comment_id": 65856095, "body": "@WiktorStribi\u017cew Sed version will match multiple patterns. However, not sure what OP wants to do with that. If just simple replace then it is good enough."}], "tags": [], "owner": {"reputation": 1529, "user_id": 6711406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb204a87fed156f928c702a4806513?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Grabowski", "link": "https://stackoverflow.com/users/6711406/dave-grabowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1472680281, "last_edit_date": 1472680281, "creation_date": 1472676705, "answer_id": 39258784, "question_id": 39258669, "link": "https://stackoverflow.com/questions/39258669/finding-global-matches-inside-a-pattern/39258784#39258784", "title": "Finding global matches inside a pattern", "body": "<p>You need to create separate groups:</p>\n\n<pre><code>Product: (.*?), (.*?), (.*?), (.*?) ReqID:\n</code></pre>\n\n<p>To match these words. You don't even need <code>?</code> for this pattern.</p>\n\n<p>This is a sed for multiple patterns:</p>\n\n<pre><code>$ cat t1\nProduct: Toys, Books, Clothes, Radios ReqID:\nProduct: Toys, Books, Clothes, Radios ReqID:z\nizProduct: Toys, Books, Clothes, Radios ReqID:\n\n$ sed -e '/^Product:.*ReqID:$/ s/\\(\\w\\+\\)\\(,\\| \\)/REPLACE\\2/g' &lt; t1\nProduct: REPLACE, REPLACE, REPLACE, REPLACE ReqID:\nProduct: Toys, Books, Clothes, Radios ReqID:z\nizProduct: Toys, Books, Clothes, Radios ReqID:\n</code></pre>\n\n<p>It looks for line starting with <code>Product:</code> and ending with <code>ReqID:</code>. For each line it matches <code>\\(\\w\\+\\)\\(,\\| \\)</code></p>\n"}, {"comments": [{"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472692346, "post_id": 39258802, "comment_id": 65858357, "body": "Your one misses the last one &#39;Radio&#39;. Change to this: <code>(?:Product:|(?!\\A)\\G)(\\s+\\w+)[^:]?</code>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1472712477, "post_id": 39258802, "comment_id": 65864031, "body": "If you read original post carefully you will see <i>Radio</i> shouldn&#39;t be caught."}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": false, "score": 0, "last_activity_date": 1473088088, "last_edit_date": 1592644375, "creation_date": 1472676758, "answer_id": 39258802, "question_id": 39258669, "link": "https://stackoverflow.com/questions/39258669/finding-global-matches-inside-a-pattern/39258802#39258802", "title": "Finding global matches inside a pattern", "body": "<p>If you are using PCRE engine (like your demo is made on it) or any of .NET, Java, Ruby or Perl regex flavors then use start match from end of previous one token <code>\\G</code>:</p>\n<pre><code>(?:Product:|(?!\\A)\\G)(\\s+\\w+),\n</code></pre>\n<p><a href=\"https://regex101.com/r/hG6gP8/3\" rel=\"nofollow noreferrer\">Live demo</a></p>\n<h2>Update</h2>\n<p>Based on new requirements:</p>\n<pre><code>(?:Product:|(?!\\A)\\G)\\s*(\\w+)(?:,| \\w+:)\n</code></pre>\n<p><a href=\"https://regex101.com/r/hG6gP8/4\" rel=\"nofollow noreferrer\">Live demo</a></p>\n"}], "owner": {"reputation": 1617, "user_id": 3649739, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/754225178da0abf7e31d44221545d64a?s=128&d=identicon&r=PG&f=1", "display_name": "user3649739", "link": "https://stackoverflow.com/users/3649739/user3649739"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473088088, "creation_date": 1472676201, "last_edit_date": 1473087773, "question_id": 39258669, "link": "https://stackoverflow.com/questions/39258669/finding-global-matches-inside-a-pattern", "title": "Finding global matches inside a pattern", "body": "<p>If I have a pattern like this: (<a href=\"https://regex101.com/r/cR0aG8/12\" rel=\"nofollow\">https://regex101.com/r/cR0aG8/12</a>)</p>\n\n<pre><code>Product:.*?(.*?),.*?ReqID:\n</code></pre>\n\n<p>I assume(d) that</p>\n\n<pre><code>Product.*?(.*?),.*?ReqID:\n</code></pre>\n\n<p>would find <code>Toys</code>, <code>Books</code>, <code>Clothes</code> individually with G(lobal) on since to my (somewhat newbie) eye it is looking for ANY match that has <code>Product:</code> and any string ending in a comma before it and any string ending in <code>ReqID:</code> after it.</p>\n\n<p>But as you can see by the regeg101 global-on gets the exact same result as global-off; the very first ,. Is there a way to structure this so the regex says just that (any string preceded by <code>Product:</code> and a <code>,</code> and followed by a <code>ReqID</code>? </p>\n\n<p>Essentially I need to gather all values before or after a <code>,</code> that are bordered by the start/end pattern.</p>\n"}, {"tags": ["python", "image-processing", "ocr", "pytesser"], "comments": [{"owner": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676325, "post_id": 39258661, "comment_id": 65853413, "body": "Have you heard of captcha codes? The reason why they are used is that it is arbitrarily hard for computers to detect the text if it is distorted like in the logo you want to read. But I would start by trying to convert the logo into at least something similar to black on white text and see what goes from there ;)"}, {"owner": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 1, "creation_date": 1472676418, "post_id": 39258661, "comment_id": 65853458, "body": "When you have the text as binary image you can try extracting the skeleton of the letters. This should work for this image anyway. But for all logos - no way. For example negative space can be really hard to teach to a computer"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676541, "post_id": 39258661, "comment_id": 65853504, "body": "Is there a way to make my program know about only the text and remove the noise (background)?. For example, remove everything from the background except the <code>Sprite</code>. After that it will be easier to transform it to the string."}, {"owner": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676589, "post_id": 39258661, "comment_id": 65853524, "body": "try segmenting by color ;) your text is white everything else is not"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676673, "post_id": 39258661, "comment_id": 65853561, "body": "@meetaig: But that will be for this special case. The tough part is that I want my program to read text from any kind of image i.e any text present within the image"}, {"owner": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676733, "post_id": 39258661, "comment_id": 65853587, "body": "Have you read my other comments? As I said to have a general solution for ALL logos is very hard if not impossible"}, {"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 0, "creation_date": 1472676914, "post_id": 39258661, "comment_id": 65853689, "body": "You can probably try to train a recurrent neural network, though you would need a big training dataset and the success will greatly depend on how diverse the logos are."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 778, "user_id": 6618289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1149829745350f27012281268c37c618?s=128&d=identicon&r=PG&f=1", "display_name": "meetaig", "link": "https://stackoverflow.com/users/6618289/meetaig"}, "edited": false, "score": 0, "creation_date": 1472676944, "post_id": 39258661, "comment_id": 65853706, "body": "@meetaig: I know that, that is why I do not want to write the own algorithm for extracting text. I just wanted to get the idea from others regarding whether they know about any library or tool to achieve this. It doesn&#39;t matter in which language it is, as far as it accomplishes my requirement."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 0, "creation_date": 1472677069, "post_id": 39258661, "comment_id": 65853766, "body": "@EliKorvigo: You mean to store some set of images as dataset, and match the new logo based on my available data sets?"}, {"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 1, "creation_date": 1472677648, "post_id": 39258661, "comment_id": 65854037, "body": "Probably not. As far as I understand, what you describe is something similar to k-nearest neighbours. That is not learning. An RNN actually learns to read new logos, that it hasn&#39;t seen before, but the method has its limits for sure."}], "answers": [{"tags": [], "owner": {"reputation": 2474, "user_id": 6664305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8bd5952ac4906f4a632e9f6d0129890?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Torba", "link": "https://stackoverflow.com/users/6664305/dmitry-torba"}, "is_accepted": false, "score": 3, "last_activity_date": 1472678143, "last_edit_date": 1472678143, "creation_date": 1472677841, "answer_id": 39259062, "question_id": 39258661, "link": "https://stackoverflow.com/questions/39258661/ocr-extract-text-from-image/39259062#39259062", "title": "OCR: Extract text from Image", "body": "<p>How all this word recognition work is machine learning algorithm is fed a lot of images with already interpreted corresponding text. It learns to understand letters from different fonts and appearances it is given.</p>\n\n<p>However, logos are made with very specific font. Almost no two logos use similar one. That makes it very hard, if not impossible, to create a learning data to recognize what is written. </p>\n\n<p>That is possible to train algorithm to recognize Sprite trademark everywhere it sees it. For that, you'd need to use OpenCV and train it on Sprite logos of different qualities, pictures of logos of Sprite on stores, bottles, etc. That way, it will be able to see this particular logo (you also will need a dataset of non-Sprite logos, like Coke logo or picture of something completely irrelevant, like cat).</p>\n\n<p>The reasons humans, unlike computers, can learn to recognize these things is because human brain is so much more powerful that the neural network you can create to understand that kind of things in computer. When computers will be as powerful as humans are in terms of computational capacity, re-ask this question and you will receive automatic answer from human-like machine.</p>\n"}], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6865, "favorite_count": 0, "closed_date": 1472689346, "answer_count": 1, "score": -1, "last_activity_date": 1472678143, "creation_date": 1472676179, "last_edit_date": 1472677247, "question_id": 39258661, "link": "https://stackoverflow.com/questions/39258661/ocr-extract-text-from-image", "closed_reason": "Needs more focus", "title": "OCR: Extract text from Image", "body": "<p>I am working on the program to extract text from the image. For that I tried with <code>Tessaract</code> and <code>Ocropus</code> libraries and I am able to convert simple plain text (black and white with simple font) from image to text string. For example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/t3qWG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t3qWG.png\" alt=\"Example of image 1\"></a></p>\n\n<p>But I am not able to extract texts from complex image. Let's say for example from this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y8EqO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y8EqO.jpg\" alt=\"Example of image 2\"></a></p>\n\n<p><strong><em>Does anyone know how to achieve this? Is there any library available for extract text from complex images (with unpredictable different backgrounds? I will prefer Python, but language is not a bar.</em></strong></p>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1472676096, "post_id": 39258616, "comment_id": 65853300, "body": "Oh hey, it&#39;s this bug again. The <code>start</code>/<code>run</code> name choices have caused so many headaches over the years."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472678194, "post_id": 39258616, "comment_id": 65854279, "body": "@user2357112 If it&#39;s common, surely there&#39;s a dupe?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1472678293, "post_id": 39258616, "comment_id": 65854328, "body": "@jpmc26: Likely, but I didn&#39;t find one in a quick search for <code>Python multiprocessing start run</code>."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1472678367, "post_id": 39258616, "comment_id": 65854361, "body": "@user2357112 Found one that has an answer describing the difference: <a href=\"http://stackoverflow.com/questions/32703083/python-multiprocessing-process-start-with-local-variable\">Python multiprocessing.Process: start with local variable</a>. Or maybe we need a better written/flushed out one?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472676336, "post_id": 39258674, "comment_id": 65853419, "body": "start() does nothing."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472676408, "post_id": 39258674, "comment_id": 65853451, "body": "@YashwantSingh: Are you on Windows? If so, <code>start</code> seems to do nothing because you have another bug: you didn&#39;t use an <code>if __name__ == &#39;__main__&#39;</code> guard, which is mandatory to use <code>multiprocessing</code> on Windows due to a lack of <code>fork</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677172, "post_id": 39258674, "comment_id": 65853812, "body": "@YashwantSingh: Then there must be a problem in some part of your code or your development environment that you haven&#39;t shown us."}, {"owner": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677458, "post_id": 39258674, "comment_id": 65853941, "body": "I&#39;ve edited the code pls see to it, this time with start(), but still only first one executes. using Windows , anaconda"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677530, "post_id": 39258674, "comment_id": 65853973, "body": "@YashwantSingh: I don&#39;t see the edit you&#39;re referring to."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677747, "post_id": 39258674, "comment_id": 65854074, "body": "@YashwantSingh: Why did you move the process creation and <code>start</code> calls into <code>add</code> and <code>sud</code>?"}, {"owner": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677811, "post_id": 39258674, "comment_id": 65854111, "body": "because nothing was happening in main()"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472677899, "post_id": 39258674, "comment_id": 65854146, "body": "Well, you&#39;ve screwed up your code in yet another way by doing that."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "edited": false, "score": 0, "creation_date": 1472678142, "post_id": 39258674, "comment_id": 65854263, "body": "I&#39;m rolling the code back to its original form, since the new version is wrong in an entirely different way that belongs in a new question."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1472678313, "post_id": 39258674, "comment_id": 65854336, "body": "@user2357112 I don&#39;t think the new version would be a good question, either."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1472676211, "creation_date": 1472676211, "answer_id": 39258674, "question_id": 39258616, "link": "https://stackoverflow.com/questions/39258616/running-two-process-simultaneously/39258674#39258674", "title": "running two process simultaneously", "body": "<p>The method you're looking for is <code>start</code>, not <code>run</code>. <code>start</code> starts the process and calls <code>run</code> to perform the work in the new process; if you call <code>run</code>, you run the work in the calling process instead of a new process.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 6169038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TITvb.jpg?s=128&g=1", "display_name": "Brij", "link": "https://stackoverflow.com/users/6169038/brij"}, "is_accepted": true, "score": 5, "last_activity_date": 1472684988, "last_edit_date": 1472684988, "creation_date": 1472684599, "answer_id": 39260326, "question_id": 39258616, "link": "https://stackoverflow.com/questions/39258616/running-two-process-simultaneously/39260326#39260326", "title": "running two process simultaneously", "body": "<p>Below will work for sure but try to run this as a module.Don't try in console or Jupiter notebook as notebook will never satisfy the condition \"if <strong>name</strong> == '<strong>main</strong>'\".\nSave the entire code in a file say process.py and run it from command prompt.\nEdit - \nIt's working fine. Just now I tried - <a href=\"https://i.stack.imgur.com/fOQl0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fOQl0.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import multiprocessing\nimport time\ndef add():\n    while True:\n        print (1)\n        time.sleep(3)\n\ndef sud():\n     while True:\n        print(0)\n        time.sleep(3)\nif __name__ == '__main__':\n    p1 = multiprocessing.Process(name='p1', target=add)\n    p = multiprocessing.Process(name='p', target=sud)\n    p1.start()\n    p.start()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6584287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eff6c6dd883b1b9b25aa8ee6f8de209d?s=128&d=identicon&r=PG&f=1", "display_name": "aja", "link": "https://stackoverflow.com/users/6584287/aja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13711, "favorite_count": 4, "accepted_answer_id": 39260326, "answer_count": 2, "score": 2, "last_activity_date": 1472684988, "creation_date": 1472675993, "last_edit_date": 1472678070, "question_id": 39258616, "link": "https://stackoverflow.com/questions/39258616/running-two-process-simultaneously", "title": "running two process simultaneously", "body": "<p>I'm trying to run 2 processes simultaneously, but only the first one runs </p>\n\n<pre><code>def add():\n    while True:\n        print (1)\n        time.sleep(3)\n\ndef sud():\n     while True:\n        print(0)\n        time.sleep(3)\n\np1 = multiprocessing.Process(target=add) \np1.run()\np = multiprocessing.Process(target=sud)\np.run()\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook", "ipython", "jupyter", "ipywidgets"], "answers": [{"comments": [{"owner": {"reputation": 2272, "user_id": 3830520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f615a2212e4f022a1694d4909fb74db?s=128&d=identicon&r=PG&f=1", "display_name": "atkat12", "link": "https://stackoverflow.com/users/3830520/atkat12"}, "edited": false, "score": 0, "creation_date": 1472749398, "post_id": 39268222, "comment_id": 65888969, "body": "Thank you! This worked great. I added some additional lines in your code just to import everything needed to run it. Thanks again for sharing :)"}, {"owner": {"reputation": 972, "user_id": 841249, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ef25b6b98f3daecff84a0ef4e2fddb72?s=128&d=identicon&r=PG", "display_name": "Tickon", "link": "https://stackoverflow.com/users/841249/tickon"}, "edited": false, "score": 0, "creation_date": 1496397745, "post_id": 39268222, "comment_id": 75656548, "body": "@sweetdream I&#39;m getting this error: &quot;AttributeError: &#39;DateRangePicker&#39; object has no attribute &#39;slider_start_changed&#39;&quot;"}, {"owner": {"reputation": 972, "user_id": 841249, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ef25b6b98f3daecff84a0ef4e2fddb72?s=128&d=identicon&r=PG", "display_name": "Tickon", "link": "https://stackoverflow.com/users/841249/tickon"}, "edited": false, "score": 0, "creation_date": 1496397870, "post_id": 39268222, "comment_id": 75656631, "body": "@sweetdream An image of what the widget looks like would be great."}, {"owner": {"reputation": 1747, "user_id": 2088886, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4254f4feeee792a65ea10391f8a4e74f?s=128&d=identicon&r=PG", "display_name": "David Yang", "link": "https://stackoverflow.com/users/2088886/david-yang"}, "edited": false, "score": 0, "creation_date": 1501708701, "post_id": 39268222, "comment_id": 77903344, "body": "Would you know how to add this to <code>interact(myfunc,w)</code> so that it can be used to change the arguments of my function?"}, {"owner": {"reputation": 1747, "user_id": 2088886, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4254f4feeee792a65ea10391f8a4e74f?s=128&d=identicon&r=PG", "display_name": "David Yang", "link": "https://stackoverflow.com/users/2088886/david-yang"}, "edited": false, "score": 0, "creation_date": 1501766369, "post_id": 39268222, "comment_id": 77931390, "body": "How would you access the value of what the user inputs here? Is there some equivalent of <code>w.value</code>?"}, {"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1600264474, "post_id": 39268222, "comment_id": 113033456, "body": "this is great but how can one use it to plot a data range from a DataFrame?"}], "tags": [], "owner": {"reputation": 1043, "user_id": 1415325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJmjZ.png?s=128&g=1", "display_name": "sweetdream", "link": "https://stackoverflow.com/users/1415325/sweetdream"}, "is_accepted": true, "score": 8, "last_activity_date": 1473261642, "last_edit_date": 1473261642, "creation_date": 1472723362, "answer_id": 39268222, "question_id": 39258580, "link": "https://stackoverflow.com/questions/39258580/ipywidget-with-date-slider/39268222#39268222", "title": "iPyWidget with date slider?", "body": "<p>I had the same issue recently. I had to write my own class to do a daterange picker. Here is my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport ipywidgets as widgets\nfrom IPython.display import display\n\nclass DateRangePicker(object):\n    def __init__(self,start,end,freq='D',fmt='%Y-%m-%d'):\n        \"\"\"\n        Parameters\n        ----------\n        start : string or datetime-like\n            Left bound of the period\n        end : string or datetime-like\n            Left bound of the period\n        freq : string or pandas.DateOffset, default='D'\n            Frequency strings can have multiples, e.g. '5H' \n        fmt : string, defauly = '%Y-%m-%d'\n            Format to use to display the selected period\n\n        \"\"\"\n        self.date_range=pd.date_range(start=start,end=end,freq=freq)\n        options = [(item.strftime(fmt),item) for item in self.date_range]\n        self.slider_start = widgets.SelectionSlider(\n            description='start',\n            options=options,\n            continuous_update=False\n        )\n        self.slider_end = widgets.SelectionSlider(\n            description='end',\n            options=options,\n            continuous_update=False,\n            value=options[-1][1]\n        )\n\n        self.slider_start.on_trait_change(self.slider_start_changed, 'value')\n        self.slider_end.on_trait_change(self.slider_end_changed, 'value')\n\n        self.widget = widgets.Box(children=[self.slider_start,self.slider_end])\n\n    def slider_start_changed(self,key,value):\n        self.slider_end.value=max(self.slider_start.value,self.slider_end.value)\n        self._observe(start=self.slider_start.value,end=self.slider_end.value)\n\n    def slider_end_changed(self,key,value):\n        self.slider_start.value=min(self.slider_start.value,self.slider_end.value)\n        self._observe(start=self.slider_start.value,end=self.slider_end.value)\n\n    def display(self):\n        display(self.slider_start,self.slider_end)\n\n    def _observe(self,**kwargs):\n        if hasattr(self,'observe'):\n            self.observe(**kwargs)\n\ndef fct(start,end):\n    print start,end\n</code></pre>\n\n<p>Using it is relatively straightforward:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>w=DateRangePicker(start='2016-08-02',end=\"2016-09-02\",freq='D',fmt='%Y-%m-%d')\nw.observe=fct\nw.display()\n</code></pre>\n\n<p>Enjoy ;-)</p>\n"}, {"comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1540219804, "post_id": 50506926, "comment_id": 92773512, "body": "how about moving the slider around? <a href=\"https://github.com/jupyter-widgets/ipywidgets/issues/2249\" rel=\"nofollow noreferrer\">github.com/jupyter-widgets/ipywidgets/issues/2249</a>"}], "tags": [], "owner": {"reputation": 629, "user_id": 1557098, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/776c4188b18d63e1e2baa3323a6577c0?s=128&d=identicon&r=PG", "display_name": "fdorssers", "link": "https://stackoverflow.com/users/1557098/fdorssers"}, "is_accepted": false, "score": 20, "last_activity_date": 1527157545, "creation_date": 1527157545, "answer_id": 50506926, "question_id": 39258580, "link": "https://stackoverflow.com/questions/39258580/ipywidget-with-date-slider/50506926#50506926", "title": "iPyWidget with date slider?", "body": "<p>A general purpose range slider widget called <code>SelectionRangeSlider</code> has been added to ipywidgets in <a href=\"https://github.com/jupyter-widgets/ipywidgets/pull/1356\" rel=\"noreferrer\">May 2017</a>. This slider can be used for all sorts of data, including dates.</p>\n\n<p>The code sample below creates a range slider allowing the user to select a date range between April 24 and May 24. </p>\n\n<pre><code>import ipywidgets as widgets\nimport pandas as pd\nfrom datetime import datetime\n\nstart_date = datetime(2018, 4, 24)\nend_date = datetime(2018, 5, 24)\n\ndates = pd.date_range(start_date, end_date, freq='D')\n\noptions = [(date.strftime(' %d %b %Y '), date) for date in dates]\nindex = (0, len(options)-1)\n\nselection_range_slider = widgets.SelectionRangeSlider(\n    options=options,\n    index=index,\n    description='Dates',\n    orientation='horizontal',\n    layout={'width': '500px'}\n)\n\nselection_range_slider\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VVX9M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VVX9M.png\" alt=\"Date range slider with full month selection\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MMn5I.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MMn5I.png\" alt=\"Date range slider with partial month selection\"></a></p>\n\n<p>This slider can easily be combined with the <code>interact</code> functionality from ipywidgets. In that case the widget returns a tuple consisting of the selected upper and lower range.</p>\n\n<pre><code>def print_date_range(date_range):\n    print(date_range)\n\nwidgets.interact(\n    print_date_range,\n    date_range=selection_range_slider\n);\n</code></pre>\n\n<p>The two outputs for the previously selected ranges:</p>\n\n<pre><code>(Timestamp('2018-04-24 00:00:00', freq='D'), Timestamp('2018-05-24 00:00:00', freq='D'))\n(Timestamp('2018-04-30 00:00:00', freq='D'), Timestamp('2018-05-18 00:00:00', freq='D'))\n</code></pre>\n"}], "owner": {"reputation": 2272, "user_id": 3830520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f615a2212e4f022a1694d4909fb74db?s=128&d=identicon&r=PG&f=1", "display_name": "atkat12", "link": "https://stackoverflow.com/users/3830520/atkat12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11700, "favorite_count": 7, "accepted_answer_id": 39268222, "answer_count": 2, "score": 11, "last_activity_date": 1539815207, "creation_date": 1472675801, "last_edit_date": 1539815207, "question_id": 39258580, "link": "https://stackoverflow.com/questions/39258580/ipywidget-with-date-slider", "title": "iPyWidget with date slider?", "body": "<p>I am wondering if there's an easy way to build an iPyWidget with a datetime slider. Right now it is easy to slide over integer or floating point ranges (e.g. numbers 1-10, decimals 0.01, 0.02, ...). </p>\n\n<p>I imagine you could convert dates to floats or integers, build some sort of slider using these, and then convert back to dates for the display labels on the slider. However, this seems clunky. Does anyone have a smoother solution? </p>\n"}, {"tags": ["python", "arrays", "python-2.7", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1472676680, "post_id": 39258755, "comment_id": 65853564, "body": "should be <code>or j != y</code> here"}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1472676872, "post_id": 39258755, "comment_id": 65853669, "body": "...sorry, thinking about it again, probably <code>and j != y</code> instead.  You want  to only avoid the x,y position."}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "reply_to_user": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1472677350, "post_id": 39258755, "comment_id": 65853896, "body": "using <code>and</code> will avoid all the points where i = x or j = y, which means 5 points. keep in mind that <code>(~i==x or ~j==y) == (~(i==x and j==y))</code>"}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1472763670, "last_edit_date": 1472763670, "creation_date": 1472676564, "answer_id": 39258755, "question_id": 39258576, "link": "https://stackoverflow.com/questions/39258576/how-to-identify-the-values-of-indexes-around-a-specific-array-coordinate/39258755#39258755", "title": "How to identify the values of indexes around a specific array coordinate?", "body": "<p>Since you got the x and y and the original array, you should be able to iterate through this points with code like:</p>\n\n<pre><code>tiles_to_move = []\nfor i in range(x-1, x+2):\n    for j in range(y-1, y+2):\n         if i != x or j != y:\n             if array[i][j] != 'm': # depends on how you manage your array\n                 tiles_to_move.append([i, j])\n</code></pre>\n\n<p>and use the tiles stored in <code>tiles_to_move</code> to determine your next optional move.</p>\n"}, {"tags": [], "owner": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "is_accepted": true, "score": 0, "last_activity_date": 1472677239, "creation_date": 1472677239, "answer_id": 39258927, "question_id": 39258576, "link": "https://stackoverflow.com/questions/39258576/how-to-identify-the-values-of-indexes-around-a-specific-array-coordinate/39258927#39258927", "title": "How to identify the values of indexes around a specific array coordinate?", "body": "<p>I think a better solution would be to have a method which tries to move the player in the desired direction and have that method be outside the player class since the player class shouldn't know about the map (code not tested):</p>\n\n<pre><code>def try_to_move_player(direction,map,player):\n    desired_x = player.x\n    desired_y = player.y\n\n    if direction == \"Left\":\n        desired_x -= 1\n    elif direction == \"Right\":\n        desired_x += 1\n    #etc\n\n    #Prevent player from moving off map left or right\n    if desired_x &lt; 0 or desired_x &gt; len(map): #&lt;-- map length might not be right\n        return False\n    #do the same for going above or below\n\n    #Prevent the player from moving into mountains\n    if map[desired_x][desired_y] == \"m\":\n        print \"Tried to walk into a mountain\"\n        return False\n\n    #After all incorrect moving is taken care of\n    player.x = desired_x\n    player.y = desired_y\n    return True\n\nclass Player(object):\n    def __init__(self, x, y, array):\n        self.x = x\n        self.y = y\n        self.userpos = array[x][y] \n\n#Try to move the player left\nmoved_successfully = try_to_move_player(\"Left\",map,player)\nif moved_successfully:\n    print \"The player was moved successfully w/ an updated position\"\nelse:\n    print \"The player was not moved correctly\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6718661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tSynTEp3jJI/AAAAAAAAAAI/AAAAAAAAACU/l12oRKUfqGc/photo.jpg?sz=128", "display_name": "Morgan Saville", "link": "https://stackoverflow.com/users/6718661/morgan-saville"}, "is_accepted": false, "score": 0, "last_activity_date": 1472678460, "creation_date": 1472678460, "answer_id": 39259197, "question_id": 39258576, "link": "https://stackoverflow.com/questions/39258576/how-to-identify-the-values-of-indexes-around-a-specific-array-coordinate/39259197#39259197", "title": "How to identify the values of indexes around a specific array coordinate?", "body": "<p>You can add a method to your <code>Player</code> class which will move a given number of steps vertically and/or horizontally. It could achieve this by calculating what the new coordinates of the <code>Player</code> object would be and checking the matrix at that index to make sure it's not a mountain (I'm also assuming you don't want your <code>Player</code> object to walk into trees).</p>\n\n<pre><code>class Player(object):\n\n    def __init__(self, x, y, array):\n        self.x = x\n        self.y = y\n        self.userpos = array[x][y]\n\n        # Make a list of the different items that can block the player\n        self.obstacles = ['m', 't']\n\n    def move(self xOffset, yOffset, array):\n        newX = self.x + xOffset\n        newY = self.y + yOffset\n\n        # The following two conditionals make sure that the position\n        # that the player is trying to move to is within the actual\n        # bounds of the array\n        if 0 &lt;= newX &lt; len(array):\n            if 0 &lt;= newY &lt; len(array[newX]):\n\n                # Check if the position that the player is trying to\n                # move to is not filled by an obstacle\n                if array[newX][newY] not in self.obstacles:\n                    self.x = newX\n                    self.y = newY\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6768113, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/dFs8t.jpg?s=128&g=1", "display_name": "classmethod", "link": "https://stackoverflow.com/users/6768113/classmethod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 39258927, "answer_count": 3, "score": 0, "last_activity_date": 1472763670, "creation_date": 1472675783, "question_id": 39258576, "link": "https://stackoverflow.com/questions/39258576/how-to-identify-the-values-of-indexes-around-a-specific-array-coordinate", "title": "How to identify the values of indexes around a specific array coordinate?", "body": "<p>If I had a 2-D array, representing a world, that looked something like: </p>\n\n<pre><code>. . . . . . . . . . . . . . .\n. P . . . . . . . . . . . . .\n. . . . . . . . . . . . . . .\n. . . . . t . . . . . . . . .\n. . . . . t . . . . . . . . .\n. . . . . . t . . . . . . . .\n. . . . . . . t . . . . . . .\n. . . . . . . t t . . . . . .\n. . . . . m . . . . . . . . .\n. . . . . . m m . . . . . . .\n. . . . . . . . m m . . . . .\n. . . . . . . . . . m . . . .\n. . . . . . . . . . m . . . .\n. . . . . . . . . . . m . . .\n. . . . . . . . . . . . . . .\n</code></pre>\n\n<p><code>m</code> stands for <code>mountains</code>, <code>t</code> for <code>trees</code> and <code>P</code> for <code>Player</code>.</p>\n\n<p>Now, let's say we have a <code>Player</code> class that tracks the <code>userpos</code> or user position in an array, which is currently <code>(1, 1)</code>:</p>\n\n<pre><code>class Player(object):\n    def __init__(self, x, y, array):\n        self.x = x\n        self.y = y\n        self.userpos = array[x][y] \n</code></pre>\n\n<p>If I were to write a method inside of the <code>Player</code> class that deals with basic movement controls to edit the location of the <code>P</code> value inside of the array, how could I go about tracking the 8 tiles around the <code>P</code> value? For example, we can see all of the tiles around the current <code>player</code> <code>userpos</code> is all <code>.</code>'s. </p>\n\n<p>I want to restrict the player from moving onto <code>m</code> tiles, being that they are mountains. It is easy to identify the current tile with the <code>userpos</code> variable, since the <code>P</code> value is only added to a string version of the map, and not the actual array. However, the issue comes from trying to move the player to a previous position. I want to be able to return the player to the nearest <code>empty</code> or <code>.</code> tile, but do not know how to decide what index inside of the array that the player should be moved to.  </p>\n\n<p>Is there an easier way of doing this, or would tracking the tiles around the player be the easiest way?</p>\n"}, {"tags": ["python", "nlp", "spacy"], "answers": [{"tags": [], "owner": {"reputation": 287, "user_id": 7243806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mDx0HHrVfnY/AAAAAAAAAAI/AAAAAAAAUOU/cmWyW8sbf7k/photo.jpg?sz=128", "display_name": "Vinicius Woloszyn", "link": "https://stackoverflow.com/users/7243806/vinicius-woloszyn"}, "is_accepted": true, "score": 4, "last_activity_date": 1480779094, "creation_date": 1480779094, "answer_id": 40949414, "question_id": 39258476, "link": "https://stackoverflow.com/questions/39258476/collocations-with-spacy/40949414#40949414", "title": "Collocations with spaCy", "body": "<p>Collocations detection also can be based on dependency parsing, but spaCy do not have support to do it. You can use spaCy as part of an approach, but not directly.</p>\n\n<p>may you also consider gensim:\n<a href=\"https://radimrehurek.com/gensim/models/phrases.html\" rel=\"nofollow noreferrer\">https://radimrehurek.com/gensim/models/phrases.html</a></p>\n\n<p>I hope it can help you</p>\n"}], "owner": {"reputation": 1489, "user_id": 4573162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/dIfVh.jpg?s=128&g=1", "display_name": "overcoded", "link": "https://stackoverflow.com/users/4573162/overcoded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2056, "favorite_count": 1, "accepted_answer_id": 40949414, "answer_count": 1, "score": 6, "last_activity_date": 1480779094, "creation_date": 1472675356, "question_id": 39258476, "link": "https://stackoverflow.com/questions/39258476/collocations-with-spacy", "title": "Collocations with spaCy", "body": "<p>I've been using NLTK for finding collocations, or n-grams, and have recently discovered the spaCy module for NLP. I've only just begun familiarizing myself with it and have, thus far, seen little mention for supported collocation functions.</p>\n\n<p>Can spaCy be used to find collocations directly?</p>\n\n<p>I have read through the <a href=\"https://spacy.io/docs/\" rel=\"noreferrer\">documentation</a>, but haven't seen mention.</p>\n"}, {"tags": ["python", "operators"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1472675087, "post_id": 39258378, "comment_id": 65852809, "body": "<a href=\"https://docs.python.org/3/reference/datamodel.html#emulating-numeric-types\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/&hellip;</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1472675203, "post_id": 39258378, "comment_id": 65852872, "body": "@Ryan: I was still searching for the duplicate, you beat me to it :)"}], "owner": {"reputation": 481, "user_id": 6649949, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e07520fe854b60c1f9ebc3ea499a82?s=128&d=identicon&r=PG&f=1", "display_name": "S. Gamgee", "link": "https://stackoverflow.com/users/6649949/s-gamgee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1472675128, "answer_count": 0, "score": 0, "last_activity_date": 1472674910, "creation_date": 1472674910, "question_id": 39258378, "link": "https://stackoverflow.com/questions/39258378/python-2-7-define-basic-operators-for-specific-classes", "closed_reason": "Duplicate", "title": "Python 2.7 - Define Basic Operators for Specific Classes", "body": "<p>I'm creating a module in Python to store and manipulate data as Quaternions (composed of a real element <strong>w</strong> and a vector element <strong>v = xi + yj + zk</strong>. Creating the quaternion class for storing the data is simple:</p>\n\n<pre><code>class quaternion_c:\n\n   def __init__(self, w, x, y, z):\n      self.w = w\n      self.x = x\n      self.y = y\n      self.z = z\n\n   ...\n</code></pre>\n\n<p>What I want to do is, in tandem with using custom methods for performing arithmetic on <code>quaternion_c</code>, I want to be able to use basic operators on the instances themselves in much the same way NumPy Arrays use them. In short, given two example <code>quaternion_c</code> objects:</p>\n\n<pre><code>qtn0 = quaternion_c(0, 1, 2, 3)\nqtn1 = quaternion_c(100, 99, 98, 97)\n</code></pre>\n\n<p>I want <code>qtn0 + qtn1</code> to produce the same results as:</p>\n\n<pre><code>def add(qtn0, qtn1):\n   w_01 = qtn0.w + qtn1.w\n   x_01 = qtn0.x + qtn1.x\n   y_01 = qtn0.y + qtn1.y\n   z_01 = qtn0.z + qtn1.z\n\n   return quaternion_c(w_01, x_01, y_01, z_01)\n\nadd(qtn0, qtn1)\n</code></pre>\n\n<p>I would also like to specify similar changes to other operators, like <code>*</code> for <code>mult()</code> and <code>**</code> for <code>exponent()</code>. Is this doable? Is it possible to change how basic operators handle specific classes?</p>\n"}, {"tags": ["python", "multithreading", "queue", "pyserial"], "comments": [{"owner": {"reputation": 2643, "user_id": 925592, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e3X1a.jpg?s=128&g=1", "display_name": "RufusVS", "link": "https://stackoverflow.com/users/925592/rufusvs"}, "edited": false, "score": 0, "creation_date": 1540222410, "post_id": 39258371, "comment_id": 92775103, "body": "I think you should add more print statements to your code to find out exactly where you are stalling."}], "owner": {"reputation": 808, "user_id": 4463825, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1d305404404727e4c1dc80b8e020547a?s=128&d=identicon&r=PG&f=1", "display_name": "Jesh Kundem", "link": "https://stackoverflow.com/users/4463825/jesh-kundem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472674889, "creation_date": 1472674889, "question_id": 39258371, "link": "https://stackoverflow.com/questions/39258371/pyserial-and-python-multi-threading", "title": "Pyserial and Python Multi Threading", "body": "<p>I have a bunch of code and I am attaching a piece here. \nBasically I have a thread - which is targeted on a function - that has a while loop as following : </p>\n\n<pre><code>    while not stop_event.wait(1): # Continuous Reading Function\n\n        #print \"hello2\"\n        #print (\"working on %s\" % arg)\n        data1 = Read(soa1, bytes1, ser)\n        data2 = Read(soa2, bytes2, ser)\n        data3 = Read(soa3, bytes3, ser)\n\n        data = np.concatenate([data1, data2, data3])\n        print data.size\n        queue_read.put(data)\n        time.sleep(1)\n</code></pre>\n\n<p>I am reading the data from an MCU, through serial communication in this thread and sending it back to my Main program - using queue_read.put(data). This while is ran every 1 second. </p>\n\n<p>In my main program I am reading the output from this thread as ---</p>\n\n<pre><code>data = queue_read.get()\n</code></pre>\n\n<p>After five minutes the values in the MCU are changed (somehow). During the change this thread is still running as it is in while loop. </p>\n\n<p>So after five minutes, the variable \"data\" should have the updated new values fromt he MCU. But to my surprise it does not. It still has the initial values. Is there anything I am missing here? Is using queue, the right way to get data?</p>\n"}, {"tags": ["python", "bash", "ubuntu", "coredump"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1472674903, "post_id": 39258362, "comment_id": 65852711, "body": "Will <code>foo</code> ever return nonzero for non-core-dump reasons?"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1472675292, "creation_date": 1472675292, "answer_id": 39258460, "question_id": 39258362, "link": "https://stackoverflow.com/questions/39258362/how-to-check-ubuntu-program-coredump-in-either-bash-or-python/39258460#39258460", "title": "How to check Ubuntu program coredump in either bash or python?", "body": "<p>If the return code is greater than 127, then the program exited due to a signal. Core dumps only happen as the result of this sort of exit.</p>\n\n<pre><code>./foo file_new\nif (($? &gt; 127)); then\n    echo foo crashed\n    break\nfi\n</code></pre>\n"}], "owner": {"reputation": 2463, "user_id": 734748, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6f4c88df46d0a7ff19707848263339ee?s=128&d=identicon&r=PG", "display_name": "drdot", "link": "https://stackoverflow.com/users/734748/drdot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472675292, "creation_date": 1472674842, "question_id": 39258362, "link": "https://stackoverflow.com/questions/39258362/how-to-check-ubuntu-program-coredump-in-either-bash-or-python", "title": "How to check Ubuntu program coredump in either bash or python?", "body": "<p>I have a binary foo, and i will give a file input to foo which may potentially trigger coredump in Ubuntu. I write a loop to do so and I change the file content in every iteration. But I would like to terminate the loop whenever a coredump appears. Here is the bash code:</p>\n\n<pre><code>while true\ndo\n  change_file file_s &gt; file_new\n  ./foo file_new\n  # need to check coredump to terminate the loop\ndone\n</code></pre>\n\n<p>I can change the script to python if it is easier to do that in python.</p>\n"}, {"tags": ["python", "setuptools"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1472675073, "post_id": 39258333, "comment_id": 65852797, "body": "That&#39;s probably because you don&#39;t have it included in your <code>MANIFEST.in</code> file. Also, I&#39;d use the <a href=\"https://chriswarrick.com/blog/2014/09/15/python-apps-the-right-way-entry_points-and-scripts/\" rel=\"nofollow noreferrer\">entry points</a> option"}, {"owner": {"reputation": 1340, "user_id": 2453606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb4349ca9ebd8084997b4c647f6cb235?s=128&d=identicon&r=PG", "display_name": "GrantD71", "link": "https://stackoverflow.com/users/2453606/grantd71"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1472677904, "post_id": 39258333, "comment_id": 65854149, "body": "Why is it neccesary to include the script in a MANIFEST.in file? I would like for setuptools to stick the content_analysis script into the directory it is putting it, just leave the content of the script untouched. In older versions of setuptools, this was possible"}, {"owner": {"reputation": 1340, "user_id": 2453606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb4349ca9ebd8084997b4c647f6cb235?s=128&d=identicon&r=PG", "display_name": "GrantD71", "link": "https://stackoverflow.com/users/2453606/grantd71"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1472678277, "post_id": 39258333, "comment_id": 65854318, "body": "For reference, I&#39;m attempting to add a script in the <a href=\"http://python-packaging.readthedocs.io/en/latest/command-line-scripts.html\" rel=\"nofollow noreferrer\">first method described here</a>"}, {"owner": {"reputation": 303, "user_id": 4075339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0031299e6173a55b221ec74c84baa7?s=128&d=identicon&r=PG&f=1", "display_name": "kadrlica", "link": "https://stackoverflow.com/users/4075339/kadrlica"}, "edited": false, "score": 0, "creation_date": 1483814354, "post_id": 39258333, "comment_id": 70255997, "body": "Were you ever able to resolve this? I&#39;m having the same problem running <code>conda</code> 4.0.5 and <code>setuptools</code> 27.2.0 on Linux. Strangely, there is no problem installing the same package on Mac with <code>conda</code> 4.2.9 and <code>setuptools</code> 27.2.0. As far as I can tell, the wrapper scripts around the executables are the same."}, {"owner": {"reputation": 1340, "user_id": 2453606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb4349ca9ebd8084997b4c647f6cb235?s=128&d=identicon&r=PG", "display_name": "GrantD71", "link": "https://stackoverflow.com/users/2453606/grantd71"}, "edited": false, "score": 0, "creation_date": 1483825139, "post_id": 39258333, "comment_id": 70259672, "body": "It was a setuptools issue and not a conda issue, see <a href=\"http://stackoverflow.com/questions/39280326/python-entry-point-console-scripts-not-found\">this link</a>. I also had another <a href=\"http://stackoverflow.com/questions/39255544/conda-setuptools-install-changes-shebangs-to-default-python-install\">non-setuptools related issue</a> that contributed to the error"}], "owner": {"reputation": 1340, "user_id": 2453606, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb4349ca9ebd8084997b4c647f6cb235?s=128&d=identicon&r=PG", "display_name": "GrantD71", "link": "https://stackoverflow.com/users/2453606/grantd71"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1472674705, "creation_date": 1472674705, "question_id": 39258333, "link": "https://stackoverflow.com/questions/39258333/setuptools-changes-command-line-script-content", "title": "Setuptools changes command line script content", "body": "<p>Using setuptools version 26.1.1 via anaconda. I'm unable to execute any of my command line scripts I'm including with my package.</p>\n\n<p>Here is what my setup.py looks like:</p>\n\n<pre><code>from setuptools import setup\n\nconfig = {\n    'description': 'Tools to extract information from web links',\n    'author': 'Tailwind',\n    'author_email': 'grantdelozier@gmail.com',\n    'version': '0.1',\n    'install_requires': ['nose'],\n    'packages': ['ContentAnalysis'],\n    'package_data': {\n        'ContentAnalysis': ['data/*/*/*.txt']\n    },\n    'scripts': ['bin/content_analysis'],\n    'name':'ContentAnalysis',\n    'include_package_data':True\n}\n\nsetup(**config)\n</code></pre>\n\n<p>After running <code>python setup.py install</code>, my script is placed in /opt/anaconda2/bin but the content is replaced with:</p>\n\n<pre><code>#!/opt/anaconda2/bin/python\n# EASY-INSTALL-SCRIPT: 'ContentAnalysis==0.1','content_analysis'\n__requires__ = 'ContentAnalysis==0.1'\n__import__('pkg_resources').run_script('ContentAnalysis==0.1', 'content_analysis')\n</code></pre>\n\n<p>which fails with the following error:</p>\n\n<pre><code>grant@DevBox2:/opt/content-analysis$ content_analysis -l 'http://101beauty.org/how-to-use-baking-soda-to-reduce-dark-circles-and-bags-under-the-eyes/'\nTraceback (most recent call last):\n  File \"/opt/anaconda2/bin/content_analysis\", line 4, in &lt;module&gt;\n    __import__('pkg_resources').run_script('ContentAnalysis==0.1', 'content_analysis')\n  File \"/opt/anaconda2/lib/python2.7/site-packages/setuptools-26.1.1-py2.7.egg/pkg_resources/__init__.py\", line 744, in run_script\n  File \"/opt/anaconda2/lib/python2.7/site-packages/setuptools-26.1.1-py2.7.egg/pkg_resources/__init__.py\", line 1491, in run_script\npkg_resources.ResolutionError: No script named 'content_analysis'\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 2, "creation_date": 1472675235, "post_id": 39258329, "comment_id": 65852894, "body": "Is there a reason for each item in the dictionary being a dictionary with a single list? Can those instead just be lists?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472675296, "post_id": 39258329, "comment_id": 65852926, "body": "Wait, so you want to sort the <i>list</i> values of the sub-dictionaries. Dictionaries are unordered, after all..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472675533, "post_id": 39258329, "comment_id": 65853027, "body": "Yea, what you want to do is possible, but is a bit of a headache. I know it&#39;s not always possible, but I would rethink your data structure here... Like FamousJameous points out, why can&#39;t e.g. <code>size</code> simply have a value of <code>[2, 4, 9, 7]</code>?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1472675898, "post_id": 39258329, "comment_id": 65853201, "body": "That&#39;s not a valid dictionary. Can you fix it?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 1, "creation_date": 1472675993, "post_id": 39258329, "comment_id": 65853243, "body": "@ayhan I know you&#39;re just itching to get this into a DataFrame..."}, {"owner": {"reputation": 133, "user_id": 6372996, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f831ea12e5b56131e6dce18167fd9f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6372996/sandy"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472755673, "post_id": 39258329, "comment_id": 65892335, "body": "@Juanpa.Arrivillaga solution is outstanding but the array are not the same when reading, they come in different order. i take FamousJameous solution as reliable.  Thank you all."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472770777, "post_id": 39258329, "comment_id": 65898521, "body": "@Sandy what do you mean the array comes in a different order? What array?"}, {"owner": {"reputation": 133, "user_id": 6372996, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f831ea12e5b56131e6dce18167fd9f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6372996/sandy"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472831805, "post_id": 39258329, "comment_id": 65926649, "body": "@Juanpa.Arrivillaga The Values in the array come out in different Order each time.                                                                                            There is a catch. &quot;{&#39;color&#39;: {1: &quot;can be &quot;{&#39;color&#39;: {12:&quot; or &quot;{&#39;color&#39;: {123:&quot; in that case sorted_values = zip(*sorted(zip(*(to_sort[0][1][k][1] will not work. We have to substitute the whole value sorted_values = zip(*sorted(zip(*(to_sort[0][1][k][&quot;value&quot;]. any idea how to do it"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1472845433, "post_id": 39258329, "comment_id": 65933444, "body": "@Sandy sure, my answer has been edited."}, {"owner": {"reputation": 133, "user_id": 6372996, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f831ea12e5b56131e6dce18167fd9f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6372996/sandy"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1473169510, "post_id": 39258329, "comment_id": 66030910, "body": "@juanpa.arrivillaga Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "is_accepted": true, "score": 1, "last_activity_date": 1472676441, "last_edit_date": 1495540863, "creation_date": 1472676441, "answer_id": 39258731, "question_id": 39258329, "link": "https://stackoverflow.com/questions/39258329/sorting-all-the-sub-dictionary-using-values-of-one-of-the-sub-dictionary/39258731#39258731", "title": "Sorting all the sub Dictionary using values of one of the sub dictionary", "body": "<p>Assuming you are okay with modifying your data structure as mentioned in the comments, this will work for you. This is adapted from this other question: <a href=\"https://stackoverflow.com/q/6618515/3901060\">Sorting list based on values from another list?</a></p>\n\n<pre><code>to_sort = [('Fruits', {\n    'size': [4, 2, 7,9],\n    'name': ['Orange', 'Apple', 'Kiwi', 'Mango'],\n    'color': ['Orange', 'Red', 'Brown','Green'],\n    'order': [2, 1, 4,3]\n    })\n]\n\npostsort = []\nfor category, catdata in to_sort:\n    sorteddata = {}\n    for name, namedata in catdata.iteritems():\n        sorteddata[name] = [x for (y,x) in sorted(zip(catdata['order'], namedata))]\n    postsort.append((category, sorteddata))\nprint postsort\n</code></pre>\n\n<p>Which results in:</p>\n\n<pre><code>[(\n    'Fruits',\n    {\n        'color': ['Red', 'Orange', 'Green', 'Brown'],\n        'size': [2, 4, 9, 7],\n        'order': [1, 2, 3, 4],\n        'name': ['Apple', 'Orange', 'Mango', 'Kiwi']\n    }\n)]\n</code></pre>\n\n<p>This could be modified to work with your existing data structure, but I would recommend making the change if that is possible.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 6372996, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f831ea12e5b56131e6dce18167fd9f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6372996/sandy"}, "edited": false, "score": 0, "creation_date": 1472750844, "post_id": 39258851, "comment_id": 65889738, "body": "There is a catch.  &quot;{&#39;color&#39;: {1: &quot;can be &quot;{&#39;color&#39;: {12:&quot;   or &quot;{&#39;color&#39;: {123:&quot; in that case sorted_values = zip(*sorted(zip(*(to_sort[0][1][k][1] will not work. We have to substitute the whole value sorted_values = zip(*sorted(zip(*(to_sort[0][1][k][&quot;value&quot;]. any idea how to do it."}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1472845461, "last_edit_date": 1495542168, "creation_date": 1472676927, "answer_id": 39258851, "question_id": 39258329, "link": "https://stackoverflow.com/questions/39258329/sorting-all-the-sub-dictionary-using-values-of-one-of-the-sub-dictionary/39258851#39258851", "title": "Sorting all the sub Dictionary using values of one of the sub dictionary", "body": "<h2> How to deal with what you've got</h2>\n\n<p>Your existing data structure is a bit crazy, but here is how I would handle it (<strong>edit</strong> suppose the key for the color list was <code>123</code>):</p>\n\n<pre><code>&gt;&gt;&gt; to_sort = [\n... ('Fruits', \n...     {\n...     'size': {1:[4, 2, 7,9]}, \n...     'name': {1:['Orange', 'Apple', 'Kiwi', 'Mango']},\n...     'color': {123:['Orange', 'Red', 'Brown','Green']},\n...     'order': {1:[2, 1, 4,3]}\n...     }\n... )\n... ]\n&gt;&gt;&gt; d = to_sort[0][1]\n&gt;&gt;&gt; keys = list(d.keys())\n&gt;&gt;&gt; idx = keys.index('order')\n&gt;&gt;&gt; ordered_kv = zip(keys, zip(*sorted(zip(*(d[k][n] for k in keys for n in d[k])), key = lambda t:t[idx])))\n&gt;&gt;&gt; sorted_dict = {k:{n:list(v) for n in d[k]} for k,v in ordered_kv}\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint(sorted_dict)\n{'color': {123: ['Red', 'Orange', 'Green', 'Brown']},\n 'name': {1: ['Apple', 'Orange', 'Mango', 'Kiwi']},\n 'order': {1: [1, 2, 3, 4]},\n 'size': {1: [2, 4, 9, 7]}}\n</code></pre>\n\n<p>Let's break this down: First, I made a canonical list of keys and find the index of <code>'order'</code>:</p>\n\n<pre><code>&gt;&gt;&gt; keys = list(to_sort[0][1].keys())\n&gt;&gt;&gt; idx = keys.index('order')\n</code></pre>\n\n<p>The next step is to <code>zip</code> the internal lists together into tuples where each of the items share the same relative position:</p>\n\n<pre><code>&gt;&gt;&gt; list(zip(*(d[k][n] for k in keys for n in d[k])))\n[(4, 2, 'Orange', 'Orange'), (2, 1, 'Red', 'Apple'), (7, 4, 'Brown', 'Kiwi'), (9, 3, 'Green', 'Mango')]\n</code></pre>\n\n<p>This can be sorted now according the the <code>idx</code> position and then \"unzipped\" (which really just means applying the <a href=\"https://stackoverflow.com/questions/5917522/unzipping-and-the-operator\">zip-splat</a> combination again:</p>\n\n<pre><code>&gt;&gt;&gt; list(zip(*sorted(zip(*(d[k][n] for k in keys for n in d[k])), key=lambda t:t[idx])))\n[(2, 4, 9, 7), (1, 2, 3, 4), ('Red', 'Orange', 'Green', 'Brown'), ('Apple', 'Orange', 'Mango', 'Kiwi')]\n</code></pre>\n\n<p>And finally, you rebuild your crazy dictionary with a dictionary comprehension, making sure to zip up your ordered values with the original keys:</p>\n\n<pre><code>&gt;&gt;&gt; ordered_kv = zip(keys, zip(*sorted(zip(*(d[k][n] for k in keys for n in d[k])), key = lambda t:t[idx])))\n&gt;&gt;&gt; sorted_dict = {k:{n:list(v) for n in d[k]} for k,v in ordered_kv}\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint(sorted_dict)\n{'color': {123: ['Red', 'Orange', 'Green', 'Brown']},\n 'name': {1: ['Apple', 'Orange', 'Mango', 'Kiwi']},\n 'order': {1: [1, 2, 3, 4]},\n 'size': {1: [2, 4, 9, 7]}}\n</code></pre>\n\n<h2> However...</h2>\n\n<p>You should really consider using the <code>pandas</code> library for manipulating data like this. Observe:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; df = pd.DataFrame({k: pd.Series(v[1]) for k,v in to_sort[0][1].items()})\n&gt;&gt;&gt; df\n    color    name  order  size\n0  Orange  Orange      2     4\n1     Red   Apple      1     2\n2   Brown    Kiwi      4     7\n3   Green   Mango      3     9\n</code></pre>\n\n<p>Notice I still had to finagle your original data structure into a <code>pandas</code> DataFrame, but if you start whatever you are doing with a <code>DataFrame</code> to begin with, it will all be much easier. Now you can do cool things like: </p>\n\n<pre><code>&gt;&gt;&gt; df.sort_values('order')\n    color    name  order  size\n1     Red   Apple      1     2\n0  Orange  Orange      2     4\n3   Green   Mango      3     9\n2   Brown    Kiwi      4     7\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 6372996, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f831ea12e5b56131e6dce18167fd9f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/6372996/sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 39258731, "answer_count": 2, "score": 4, "last_activity_date": 1472845461, "creation_date": 1472674698, "last_edit_date": 1472676184, "question_id": 39258329, "link": "https://stackoverflow.com/questions/39258329/sorting-all-the-sub-dictionary-using-values-of-one-of-the-sub-dictionary", "title": "Sorting all the sub Dictionary using values of one of the sub dictionary", "body": "<p>I have data structure like the below and would like to sort the \nall the sub dictionaries to be sorted based on the values of the 'order' column.</p>\n\n<p>Input:</p>\n\n<pre><code>to_sort = [\n('Fruits', \n    {\n    'size': {1:[4, 2, 7,9]}, \n    'name': {1:['Orange', 'Apple', 'Kiwi', 'Mango']},\n    'color': {1:['Orange', 'Red', 'Brown','Green']},\n    'order': {1:[2, 1, 4,3]}\n    }\n)\n]\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[\n('Fruits', \n    {\n    'size': {1:[2, 4, 9, 7]}, \n    'name': {1:['Apple', 'Orange', 'Mango', 'Kiwi']},\n    'color':{1:['Red', 'Orange', 'Green', 'Brown']},\n    'order':{1:[1, 2, 3, 4]}\n    }\n)\n]\n</code></pre>\n\n<p>I tried using the lambda</p>\n\n<pre><code>sort = to_sort[1]\nprint(sorted(sort.items(), key=lambda i: i['order'].values()))\n</code></pre>\n\n<p>i am getting \"tuple indices must be integers or slices, not str\" error</p>\n"}, {"tags": ["python", "datetime", "pandas"], "comments": [{"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472674763, "post_id": 39258290, "comment_id": 65852642, "body": "Try converting the <code>datetime(2015,8,20)</code> to a string, e.g., <code>hf[&#39;SB&#39;][&#39;{}&#39;.format(datetime(2015,8,20)]</code>"}, {"owner": {"reputation": 5, "user_id": 6780383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207522495006768/picture?type=large", "display_name": "Antonio B. Oliveira Junior", "link": "https://stackoverflow.com/users/6780383/antonio-b-oliveira-junior"}, "reply_to_user": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472675382, "post_id": 39258290, "comment_id": 65852967, "body": "Same error: KeyError: &#39;2015-08-20 00:00:00&#39;  I think this error is because when convert to a string you take exact hour and minutes, e.g., 00:00:00. Since my data doesn&#39;t have this exact value, I got this error"}, {"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 0, "creation_date": 1472675832, "post_id": 39258290, "comment_id": 65853169, "body": "Try <code>hf[&#39;SB&#39;][&#39;{}&#39;.format(datetime(2015,8,20).date()]</code>"}, {"owner": {"reputation": 5, "user_id": 6780383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207522495006768/picture?type=large", "display_name": "Antonio B. Oliveira Junior", "link": "https://stackoverflow.com/users/6780383/antonio-b-oliveira-junior"}, "reply_to_user": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 1, "creation_date": 1472682809, "post_id": 39258290, "comment_id": 65856017, "body": "hey, its work... =]   but I didn&#39;t understand why simple &quot;datetime(2015,8,20)&quot; doesn&#39;t work. Last year I use this same idea and worked very well. Maybe the function changed...   Well, thanks for your suggestion"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6780383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207522495006768/picture?type=large", "display_name": "Antonio B. Oliveira Junior", "link": "https://stackoverflow.com/users/6780383/antonio-b-oliveira-junior"}, "edited": false, "score": 0, "creation_date": 1472682649, "post_id": 39258610, "comment_id": 65855956, "body": "Yes, I think you are right. But if I want a slice for a week for example your suggestion fail, cause I need know exact the time of first to last point.  Can you suggest another way to slice this kind of information ??"}, {"owner": {"reputation": 722, "user_id": 6728093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kXeG4.png?s=128&g=1", "display_name": "kekert", "link": "https://stackoverflow.com/users/6728093/kekert"}, "reply_to_user": {"reputation": 5, "user_id": 6780383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207522495006768/picture?type=large", "display_name": "Antonio B. Oliveira Junior", "link": "https://stackoverflow.com/users/6780383/antonio-b-oliveira-junior"}, "edited": false, "score": 0, "creation_date": 1472714679, "post_id": 39258610, "comment_id": 65865299, "body": "if you want to slice, you should know the slice range - check <a href=\"http://stackoverflow.com/questions/28437460/pandas-slice-dataframe-by-datetime-that-may-not-exist-and-return-view\">link</a> for some other examples. also check <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DatetimeIndex.html#pandas.DatetimeIndex\" rel=\"nofollow noreferrer\">link</a> for more info of what attributes and methods are available for DateTimeIndex (week number for example)."}], "tags": [], "owner": {"reputation": 722, "user_id": 6728093, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kXeG4.png?s=128&g=1", "display_name": "kekert", "link": "https://stackoverflow.com/users/6728093/kekert"}, "is_accepted": true, "score": 1, "last_activity_date": 1472676351, "last_edit_date": 1472676351, "creation_date": 1472675966, "answer_id": 39258610, "question_id": 39258290, "link": "https://stackoverflow.com/questions/39258290/datetime-does-not-work-in-my-index-series/39258610#39258610", "title": "Datetime does not work in my index series", "body": "<p>I believe, that you are truing to get value for a key which is not present in index at all. <code>hf['SB']['2015-08-20']</code> will give you all records for that particular date.\nSee example below:</p>\n\n<pre><code>&gt;&gt;&gt; rng = pd.date_range('1/1/2016', periods=10, freq='S')\n&gt;&gt;&gt; ts = pd.Series(np.random.randn(len(rng)), index=rng)\n&gt;&gt;&gt; ts = ts[1:]\n\n&gt;&gt;&gt; ts\n2016-01-01 00:00:01    0.133551\n2016-01-01 00:00:02    1.067772\n2016-01-01 00:00:03    0.591676\n2016-01-01 00:00:04   -2.445586\n2016-01-01 00:00:05    0.700155\n2016-01-01 00:00:06   -0.127861\n2016-01-01 00:00:07    1.116494\n2016-01-01 00:00:08   -0.427959\n2016-01-01 00:00:09    2.115352\nFreq: S, dtype: float64\n\n&gt;&gt;&gt; ts[datetime.date(2016,1,1)]\n....\nKeyError: datetime.date(2016, 1, 1)\n\n&gt;&gt;&gt;  ts['2016-01-01']\n\n2016-01-01 00:00:01    0.133551\n2016-01-01 00:00:02    1.067772\n2016-01-01 00:00:03    0.591676\n2016-01-01 00:00:04   -2.445586\n2016-01-01 00:00:05    0.700155\n2016-01-01 00:00:06   -0.127861\n2016-01-01 00:00:07    1.116494\n2016-01-01 00:00:08   -0.427959\n2016-01-01 00:00:09    2.115352\nFreq: S, dtype: float64\n</code></pre>\n\n<p>so with <code>hf['SB']['2015-08-20']</code> you are getting all records for '2015-08-20', but none for <code>datetime.datetime(2015,8,20,0,0)</code></p>\n\n<p>if you want a slice using datetime, try following:</p>\n\n<pre><code>&gt;&gt;&gt; ts[datetime.datetime(2016,1,1,0,0,1):datetime.datetime(2016,1,1,0,0,3)]\n\n2016-01-01 00:00:01    0.133551\n2016-01-01 00:00:02    1.067772\n2016-01-01 00:00:03    0.591676\nFreq: S, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6780383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207522495006768/picture?type=large", "display_name": "Antonio B. Oliveira Junior", "link": "https://stackoverflow.com/users/6780383/antonio-b-oliveira-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 1, "accepted_answer_id": 39258610, "answer_count": 1, "score": 0, "last_activity_date": 1472676351, "creation_date": 1472674566, "last_edit_date": 1472676054, "question_id": 39258290, "link": "https://stackoverflow.com/questions/39258290/datetime-does-not-work-in-my-index-series", "title": "Datetime does not work in my index series", "body": "<p>I have a hf5 filled with some data. </p>\n\n<p>when I open it in python I have this output</p>\n\n<pre><code>hf['SB'].head()\n\n0_1                     price   cng     \n2015-07-15 07:30:00.087 12.61   4\n2015-07-15 07:30:00.087 12.61   1\n2015-07-15 07:30:00.087 12.61   1\n2015-07-15 07:30:00.087 12.61   2\n2015-07-15 07:30:00.087 12.61   19\n</code></pre>\n\n<p>This file ranges from 2015 to 2016.</p>\n\n<pre><code>hf['SB'].index\n\nDatetimeIndex(['2015-07-15 07:30:00.087000', '2015-07-15 07:30:00.087000',\n               '2015-07-15 07:30:00.087000', '2015-07-15 07:30:00.087000',\n               '2015-07-15 07:30:00.087000', '2015-07-15 07:30:00.087000',\n               '2015-07-15 07:30:00.087000', '2015-07-15 07:30:00.087000',\n               '2015-07-15 07:30:00.087000', '2015-07-15 07:30:00.087000',\n               ...\n               '2016-07-14 16:59:57.670000', '2016-07-14 16:59:58.047000',\n               '2016-07-14 16:59:59.170000', '2016-07-14 16:59:59.170000',\n               '2016-07-14 16:59:59.170000', '2016-07-14 16:59:59.170000',\n               '2016-07-14 16:59:59.170000', '2016-07-14 16:59:59.170000',\n               '2016-07-14 16:59:59.170000', '2016-07-14 16:59:59.957000'],\n              dtype='datetime64[ns]', name=u'0_1', length=3961015, freq=None)\n</code></pre>\n\n<p>Well... My problem is:</p>\n\n<p>when I want a slice, for example, august 20 2015:</p>\n\n<pre><code>hf['SB'][datetime(2015,8,20)]\n</code></pre>\n\n<p>I got this error: <code>KeyError: datetime.datetime(2015, 8, 20, 0, 0)</code></p>\n\n<p>But if I use:</p>\n\n<pre><code>hf['SB']['2015-08-20']\n</code></pre>\n\n<p>its works!!!</p>\n\n<p>There is something wrong in my index file or I'm using <code>datetime</code> function wrong?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1472674564, "post_id": 39258281, "comment_id": 65852549, "body": "Or <a href=\"http://stackoverflow.com/questions/6022764/python-removing-list-element-while-iterating-over-list\" title=\"python removing list element while iterating over list\">stackoverflow.com/questions/6022764/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 863, "user_id": 4929982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ljzEGCRaveo/AAAAAAAAAAI/AAAAAAAAA-8/ZuOV-W19yUY/photo.jpg?sz=128", "display_name": "Sidhin S Thomas", "link": "https://stackoverflow.com/users/4929982/sidhin-s-thomas"}, "is_accepted": false, "score": 2, "last_activity_date": 1472674725, "creation_date": 1472674725, "answer_id": 39258338, "question_id": 39258281, "link": "https://stackoverflow.com/questions/39258281/list-erasing-unexpected-behavior/39258338#39258338", "title": "List erasing unexpected behavior", "body": "<p>The <em>a.remove(i)</em> messed up the indexing is my guess.</p>\n\n<p>instead use</p>\n\n<pre><code>a.clear()\n</code></pre>\n\n<p>Its a good way to clear a list.</p>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 1, "last_activity_date": 1472674886, "creation_date": 1472674886, "answer_id": 39258369, "question_id": 39258281, "link": "https://stackoverflow.com/questions/39258281/list-erasing-unexpected-behavior/39258369#39258369", "title": "List erasing unexpected behavior", "body": "<p>If you want to clear a python list like you're doing, the right way is just using <code>x.clear</code>, docs about that method <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow\">here</a>, now, if you want to remove elements using some fancy conditions, just use <a href=\"https://docs.python.org/2/library/functions.html#filter\" rel=\"nofollow\">filter</a>, example clearing the whole <code>x</code> list:</p>\n\n<pre><code>x = list(range(10000))\nx = filter(lambda x: False, x)\nprint x\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1472674949, "creation_date": 1472674949, "answer_id": 39258384, "question_id": 39258281, "link": "https://stackoverflow.com/questions/39258281/list-erasing-unexpected-behavior/39258384#39258384", "title": "List erasing unexpected behavior", "body": "<p>If you want to implement a list object that erases itself while iterating over it that would be fairly easy:</p>\n\n<pre><code>class ErasingList(list):\n    \"a list implemented as an iterator, iterating over it will .pop() items off\"\n    def __iter__(self):\n        return self\n    def __next__(self):\n        try:\n            return self.pop(0)\n        #or self.pop() to take from the end of the list which is less intuitive but more efficient\n        except IndexError:\n            raise StopIteration\n    next = __next__ #vs2 compatibility.\n\nx = ErasingList(range(100))\n\nfor i in x:\n    print(i)\n\nprint(x)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6720572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4dfc98760ecf123bce0dd78dc12cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Attila", "link": "https://stackoverflow.com/users/6720572/attila"}, "is_accepted": false, "score": 0, "last_activity_date": 1472675986, "creation_date": 1472675986, "answer_id": 39258613, "question_id": 39258281, "link": "https://stackoverflow.com/questions/39258281/list-erasing-unexpected-behavior/39258613#39258613", "title": "List erasing unexpected behavior", "body": "<pre><code>original_list = list(range(1000))\nremove_list_elements = []\n\nfor i in range(0, len(original_list), 2): \n    remove_list_elements.append(original_list[i])\n\n[original_list.remove(i) for i in remove_list_elements] \nprint(len(original_list))\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 1338475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/03415ab76e1aeba98311a52268b71e50?s=128&d=identicon&r=PG", "display_name": "skeeph", "link": "https://stackoverflow.com/users/1338475/skeeph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1472674988, "accepted_answer_id": 39258369, "answer_count": 4, "score": 0, "last_activity_date": 1472675986, "creation_date": 1472674506, "question_id": 39258281, "link": "https://stackoverflow.com/questions/39258281/list-erasing-unexpected-behavior", "closed_reason": "Duplicate", "title": "List erasing unexpected behavior", "body": "<p>I am trying to clear a python list by removing every element in loop by code</p>\n\n<pre><code>x=list(range(10000))\nfor i in x:\n    x.remove(i)\n</code></pre>\n\n<p>I thought that after this code <strong>x</strong> must be <strong>[]</strong>, but instead only every second element of list is removed. <strong>len(x)=5000</strong> instead of <strong>0</strong>. </p>\n\n<p>Why is it so? What am I doing wrong.\nThanks</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1472674582, "post_id": 39258278, "comment_id": 65852558, "body": "<code>if __name__ == &quot;__main__&quot;:</code> needs to be at top-level, not inside <code>def main()</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1472674617, "post_id": 39258278, "comment_id": 65852574, "body": "You indented your <code>if __name__ == &#39;__main__&#39;</code> block inside the <code>main</code> function."}, {"owner": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 0, "creation_date": 1472674769, "post_id": 39258278, "comment_id": 65852647, "body": "You have other indentation problems, e.g. in the last loop - <code>file.close()</code> onward erroneously indented."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1472674870, "post_id": 39258278, "comment_id": 65852697, "body": "You should use <code>with</code> instead of calling <code>file.close()</code> explicitly."}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 1, "creation_date": 1472674893, "post_id": 39258278, "comment_id": 65852708, "body": "wondering why the downvotes.  For a first time question, it looks pretty good"}], "answers": [{"comments": [{"owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "reply_to_user": {"reputation": 16685, "user_id": 2289509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F51FU.jpg?s=128&g=1", "display_name": "Elazar", "link": "https://stackoverflow.com/users/2289509/elazar"}, "edited": false, "score": 1, "creation_date": 1472674754, "post_id": 39258316, "comment_id": 65852633, "body": "Yea, that was awkward. Changed it before you submitted your comment :)"}], "tags": [], "owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "is_accepted": true, "score": 2, "last_activity_date": 1472674666, "creation_date": 1472674666, "answer_id": 39258316, "question_id": 39258278, "link": "https://stackoverflow.com/questions/39258278/python-executes-script-without-error-does-nothing/39258316#39258316", "title": "Python: Executes Script without error, does nothing", "body": "<p>Indentation error, fix as below\n....</p>\n\n<pre><code>        print(\"Program Execution Completed.\")\n\nif __name__ == \"__main__\":\n\n    main()\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6780473, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DH1gvMMkNEc/AAAAAAAAAAI/AAAAAAAAABI/hqhH8vfGiCA/photo.jpg?sz=128", "display_name": "Applesausce", "link": "https://stackoverflow.com/users/6780473/applesausce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "closed_date": 1472682302, "accepted_answer_id": 39258316, "answer_count": 1, "score": 1, "last_activity_date": 1472674666, "creation_date": 1472674488, "last_edit_date": 1472674539, "question_id": 39258278, "link": "https://stackoverflow.com/questions/39258278/python-executes-script-without-error-does-nothing", "closed_reason": "Not suitable for this site", "title": "Python: Executes Script without error, does nothing", "body": "<pre><code>#!/usr/bin/python\nimport turtle\n\nclass GoToCommand:\n    def __init__(self,x,y,width=1,color=\"black\"):\n        self.x = x\n        self.y = y\n        self.color = color\n        self.width = width\n\n    def draw(self,turtle):\n        turtle.width(self.width)\n        turtle.pencolor(self.color)\n        turtle.goto(self.x,self.y)\n\nclass CircleCommand:\n    def __init__(self,radius, width=1,color=\"black\"):\n        self.radius = radius\n        self.width = width\n        self.color = colorO\n\n    def draw(self,turtle):\n        turtle.width(self.width)\n        turtle.pencolor(self.color)\n        turtle.circle(self.radius)\n\nclass BeginFillCommand:\n    def __init__(self,color):\n        self.color = color\n\n    def draw(self,turtle):\n        turtle.fillcolor(self.color)\n        turtle.begin_fill()\n\nclass EndFillCommand:\n    def __init__(self):\n        pass\n\n    def draw(self,turtle):\n        turtle.end_fill()\n\nclass PenUpCommand:\n    def __init__(self):\n        pass\n\n    def draw(self,turtle):\n        turtle.penup()\n\nclass PenDownCommand:\n    def __init__(self):\n        pass\n\n    def draw(self,turtle):\n        turtle.pendown()\n\nclass PyList:\n    def __init__(self):\n        self.items = []\n\n    def append(self,item):\n        self.items = self.items + [item]\n\n    def __iter__(self):\n        for c in self.items:\n            yield c\n\ndef main():\n    filename = input(\"Insert File Name: \")\n\n    t = turtle.Turtle()\n    screen = t.getscreen()\n    file = open(filename, \"r\")\n\n\n    graphicsCommands = PyList()\n\n    command = file.readline().strip()\n\n    while command != \"\":\n\n        if command == \"goto\":\n            x = float(file.readline())\n            y = float(file.readline())\n            width = float(file.readline())\n            color = file.readline().strip()\n            cmd = GoToCommand(x,y,width,color)\n\n        elif command == \"circle\":\n            radius = float(file.readline())\n            width = float(file.readline())\n            color = file.readline().strip()\n            cmd = CircleCommand(radius,width,color)\n\n        elif command == \"beginfill\":\n            color = file.readline().strip()\n            cmd = BeginFillCommand(color)\n\n        elif command == \"endfill\":\n            cmd = EndFillCommand()\n\n        elif command == \"penup\":\n            cmd = PenUpCommand()\n\n        elif command == \"pendown\":\n            cmd = PenDownCommand()\n        else:\n\n        # printed.\n            raise RuntimeError(\"Unknown Command: \" + command)\n\n            graphicsCommands.append(cmd)\n\n            command = file.readline().strip()\n\n        for cmd in graphicsCommands:\n            cmd.draw(t)\n\n            file.close()\n            t.ht()\n            screen.exitonclick()\n            print(\"Program Execution Completed.\")\n\n    if __name__ == \"__main__\":\n\n        main()\n</code></pre>\n\n<p>I've looked up what i need to include, move, add/remove. It's still not operating correctly. It's like the main just doesn't exist.</p>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472674442, "post_id": 39258076, "comment_id": 65852486, "body": "have you tried setting the <code>$HOME</code> environment variable when running your test? The instructions on how to do this change on different operating systems"}, {"owner": {"reputation": 6601, "user_id": 233813, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a863451740595ac1511c5b43120fbaa5?s=128&d=identicon&r=PG", "display_name": "rocksportrocker", "link": "https://stackoverflow.com/users/233813/rocksportrocker"}, "reply_to_user": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472709429, "post_id": 39258076, "comment_id": 65862643, "body": "Yes, this is what I do already. Still I had a wrong test function which circumvented this and my intention is to implement an addtional &quot;meta&quot; test which ensures that my test suite itself is correct. My question is out of cuorisity to learn more about the features of <code>pytest</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6601, "user_id": 233813, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a863451740595ac1511c5b43120fbaa5?s=128&d=identicon&r=PG", "display_name": "rocksportrocker", "link": "https://stackoverflow.com/users/233813/rocksportrocker"}, "edited": false, "score": 1, "creation_date": 1474013625, "post_id": 39515114, "comment_id": 66368349, "body": "I tried something like this but then got a report with a long list of failed test functions instead of one single message + stop in the beginning. I extended this approach with <code>autotest = True</code> so I did not have to inherit from this fixture."}, {"owner": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "reply_to_user": {"reputation": 6601, "user_id": 233813, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a863451740595ac1511c5b43120fbaa5?s=128&d=identicon&r=PG", "display_name": "rocksportrocker", "link": "https://stackoverflow.com/users/233813/rocksportrocker"}, "edited": false, "score": 0, "creation_date": 1476810994, "post_id": 39515114, "comment_id": 67499985, "body": "Fair enough. Here&#39;s an interesting approach: <a href=\"http://stackoverflow.com/a/9122053/324449\">stackoverflow.com/a/9122053/324449</a>"}], "tags": [], "owner": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "is_accepted": false, "score": 1, "last_activity_date": 1473953807, "creation_date": 1473953807, "answer_id": 39515114, "question_id": 39258076, "link": "https://stackoverflow.com/questions/39258076/initial-and-final-check-when-running-pytest-test-suite/39515114#39515114", "title": "Initial and final check when running pytest test suite", "body": "<p>Have you considered writing a session-scoped pytest fixture? Something like:</p>\n\n<pre><code>@pytest.fixture(scope=\"session\")\ndef global_check(request):\n    assert initial_condition\n\n    def final_check(request):\n        assert final_condition\n\n    request.addfinalizer(final_check)\n\n    return request\n</code></pre>\n\n<p>If all of your other fixtures inherit from <code>global_check</code>, then <code>initial_condition</code> will be asserted at the beginning of all of your test runs and <code>final_condition</code> will be asserted at the end of your test runs.</p>\n"}], "owner": {"reputation": 6601, "user_id": 233813, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a863451740595ac1511c5b43120fbaa5?s=128&d=identicon&r=PG", "display_name": "rocksportrocker", "link": "https://stackoverflow.com/users/233813/rocksportrocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1473953807, "creation_date": 1472673735, "last_edit_date": 1473756216, "question_id": 39258076, "link": "https://stackoverflow.com/questions/39258076/initial-and-final-check-when-running-pytest-test-suite", "title": "Initial and final check when running pytest test suite", "body": "<p>I have productive code which creates config files in my <code>$HOME</code> folder and to run my tests in an isolated environment I patch <code>$HOME</code> in <code>conftest.py</code>. Still I'm not sure if this works in general and maybe unthoughtful written test functions might break out.</p>\n\n<p>To ensure the validity of my test suite I'd like to run a preliminary check of the respective files in <code>$HOME</code> and I'd like to run a final check after running the test suite.</p>\n\n<p>How can I achieve this with the \"official\" means of <code>pytest</code> ? I have a dirty hack which works but messes up reporting.</p>\n\n<p>My test suite is correct now and this question is out of curiosity because I'd like to learn more about <code>pytest</code>.</p>\n\n<hr>\n\n<p>Addition: Same question, but different use case: I'd like to check if a 3rd-party plugin fullfills a version requierement. If this is not the case I'd like to show a message and stop py.test. </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1472673896, "post_id": 39258095, "comment_id": 65852195, "body": "Or a set <code>{&#39;n&#39;, &#39;N&#39;}</code>"}, {"owner": {"reputation": 13, "user_id": 6688994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9581803db617cf1659c733db375c4801?s=128&d=identicon&r=PG&f=1", "display_name": "Chemi", "link": "https://stackoverflow.com/users/6688994/chemi"}, "edited": false, "score": 0, "creation_date": 1472673996, "post_id": 39258095, "comment_id": 65852244, "body": "when I tried to use &#39;is not&#39; it didn&#39;t work, why is that?"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "reply_to_user": {"reputation": 13, "user_id": 6688994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9581803db617cf1659c733db375c4801?s=128&d=identicon&r=PG&f=1", "display_name": "Chemi", "link": "https://stackoverflow.com/users/6688994/chemi"}, "edited": false, "score": 0, "creation_date": 1472674158, "post_id": 39258095, "comment_id": 65852334, "body": "Never use <code>is</code> when checking string <i>value</i>. It checks the reference in memory @chemi"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 13, "user_id": 6688994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9581803db617cf1659c733db375c4801?s=128&d=identicon&r=PG&f=1", "display_name": "Chemi", "link": "https://stackoverflow.com/users/6688994/chemi"}, "edited": false, "score": 0, "creation_date": 1472674386, "post_id": 39258095, "comment_id": 65852458, "body": "@Chemi, Please accept this answer if it resolves your question."}], "tags": [], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "is_accepted": true, "score": 5, "last_activity_date": 1472673907, "last_edit_date": 1472673907, "creation_date": 1472673820, "answer_id": 39258095, "question_id": 39258072, "link": "https://stackoverflow.com/questions/39258072/python-shorter-way-of-checking-if-a-string-equals-two-other-strings/39258095#39258095", "title": "Python: Shorter way of checking if a string equals two other strings", "body": "<p>You could check whether it is in a list or set.</p>\n\n<pre><code>input = raw_input(\"question?\")\n\nwhile input not in ['n', 'N']:\n    #ask question again\n</code></pre>\n\n<p>If you are just trying to accept two cases though, you could also just call <code>lower</code> on the input.</p>\n\n<pre><code>while input.lower() != 'n':\n    #ask question again\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 1, "last_activity_date": 1472673944, "creation_date": 1472673944, "answer_id": 39258134, "question_id": 39258072, "link": "https://stackoverflow.com/questions/39258072/python-shorter-way-of-checking-if-a-string-equals-two-other-strings/39258134#39258134", "title": "Python: Shorter way of checking if a string equals two other strings", "body": "<p>If it's a case issue, then you can:</p>\n\n<pre><code>while input.lower() != 'n'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6688994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9581803db617cf1659c733db375c4801?s=128&d=identicon&r=PG&f=1", "display_name": "Chemi", "link": "https://stackoverflow.com/users/6688994/chemi"}, "edited": false, "score": 0, "creation_date": 1472674062, "post_id": 39258162, "comment_id": 65852276, "body": "that helps alot, thanks!"}], "tags": [], "owner": {"reputation": 1360, "user_id": 6051861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d13c8be005a752eb647a920aab42729?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian", "link": "https://stackoverflow.com/users/6051861/vivian"}, "is_accepted": false, "score": 3, "last_activity_date": 1472674095, "last_edit_date": 1472674095, "creation_date": 1472674014, "answer_id": 39258162, "question_id": 39258072, "link": "https://stackoverflow.com/questions/39258072/python-shorter-way-of-checking-if-a-string-equals-two-other-strings/39258162#39258162", "title": "Python: Shorter way of checking if a string equals two other strings", "body": "<p>Perhaps unexpectedly, <code>'a' != input != 'b'</code> works. It resolves the same way as <code>('a' != input) and ('b' != input)</code>. You can do the same thing with <code>==</code>, or with <code>&lt;</code>, <code>&gt;</code>, etc. on numbers, as well.</p>\n\n<p>Oh, but you have to be careful if you chain it longer than three things, or use multiple different comparison operators.</p>\n"}], "owner": {"reputation": 13, "user_id": 6688994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9581803db617cf1659c733db375c4801?s=128&d=identicon&r=PG&f=1", "display_name": "Chemi", "link": "https://stackoverflow.com/users/6688994/chemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1472674359, "accepted_answer_id": 39258095, "answer_count": 3, "score": 0, "last_activity_date": 1472674095, "creation_date": 1472673723, "last_edit_date": 1472673945, "question_id": 39258072, "link": "https://stackoverflow.com/questions/39258072/python-shorter-way-of-checking-if-a-string-equals-two-other-strings", "closed_reason": "Duplicate", "title": "Python: Shorter way of checking if a string equals two other strings", "body": "<p>have just started learning python and this question came up to my mind\nis there a shorter way to determine if a string equals 'something' or 'somethingelse'?</p>\n\n<p>example:</p>\n\n<pre><code>input = raw_input(\"question?\")\n\nwhile input != 'n' and input != 'y':\n    #ask question again\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "edited": false, "score": 0, "creation_date": 1472684672, "post_id": 39258264, "comment_id": 65856572, "body": "I must be doing something wrong.  I am getting this error:      <code>Traceback (most recent call last):       File &quot;htmlextraction.py&quot;, line 10, in &lt;module&gt;         name = [table.find_previous(&quot;strong&quot;).text]     AttributeError: &#39;NoneType&#39; object has no attribute &#39;text&#39;</code>  Even tried adding html5lib"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "edited": false, "score": 0, "creation_date": 1472685055, "post_id": 39258264, "comment_id": 65856655, "body": "@PDGill, can you share a link to the actual page?"}, {"owner": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "edited": false, "score": 0, "creation_date": 1472734050, "post_id": 39258264, "comment_id": 65878373, "body": "sure. [This is an example of one of the pages.]  (<a href=\"http://beamsuntory.desk.com/customer/en/portal/articles/1676001-nutrition-information-cruzan\" rel=\"nofollow noreferrer\">beamsuntory.desk.com/customer/en/portal/articles/&hellip;</a>)  Thank you for helping."}, {"owner": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "edited": false, "score": 0, "creation_date": 1472734644, "post_id": 39258264, "comment_id": 65878820, "body": "Your code works as expected on that page. <a href=\"http://beamsuntory.desk.com/customer/en/portal/articles/1790163-midori-nutrition-information\" rel=\"nofollow noreferrer\">It is the pages that use the bold tag that are throwing the error.</a>. Looking at it with fresh eyes makes a difference sometimes."}, {"owner": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "edited": false, "score": 1, "creation_date": 1472736845, "post_id": 39258264, "comment_id": 65880519, "body": "Works great. Thank you, sir. You are a gentleman and a scholar."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1472735162, "last_edit_date": 1472735162, "creation_date": 1472674432, "answer_id": 39258264, "question_id": 39258047, "link": "https://stackoverflow.com/questions/39258047/python-beautifulsoup-scrape-non-standard-web-table/39258264#39258264", "title": "Python - BeautifulSoup scrape non-standard web table", "body": "<p>Find the tables, then extract the text from the previous strong and take the second <em>td</em> from each <em>tr</em> splitting  the text once to remove the <code>(g)</code> etc..:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nsoup = BeautifulSoup(html)\n\nfor table in soup.find_all(\"table\"):\n    name = [table.find_previous(\"strong\").text]\n    amounts = [td.text.split(None, 1)[0] for  td in table.select(\"tr td + td\")])\n    print(name + amounts)\n</code></pre>\n\n<p>Which would give you:</p>\n\n<pre><code>['Product 1 Name', '8', '122', '0', '0.2', '8.8', '0', '8.8']\n['Product 2 Name', '8', '134', '0', '0.0', '8.4', '0', '8.4']\n</code></pre>\n\n<p><em>select(\"tr td + td\")</em> uses a css selector to get the second <em>td</em> from each <em>tr/row</em>,</p>\n\n<p>Or using <em>find_all</em> and slicing would look like:</p>\n\n<pre><code>for table in soup.find_all(\"table\"):\n    name = [table.find_previous(\"strong\").text]\n    amounts = [td.find_all(\"td\")[1].text.split(None, 1)[0] for  td in table.find_all(\"tr\")]\n    print(name + amounts)\n</code></pre>\n\n<p>Since it is not always a strong but sometimes a bold tag you want, just look for the strong first and fall back to the bold:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nhtml = requests.get(\"http://beamsuntory.desk.com/customer/en/portal/articles/1676001-nutrition-information-cruzan\").content\nsoup = BeautifulSoup(html, \"html.parser\")\nfor table in soup.select(\"div.article-content table\"):\n    name = table.find_previous(\"strong\") or table.find_previous(\"b\")\n    amounts = [td.text.split(None, 1)[0] for  td in table.select(\"tr td + td\")]\n    print([name.text] + amounts)\n</code></pre>\n\n<p>If <em>table.find_previous(\"strong\")</em> finds nothing it will be None so the or will be executed and name will be set to <em>table.find_previous(\"b\")</em>.</p>\n\n<p>Now it will work for both:</p>\n\n<pre><code>In [12]: html = requests.get(\"http://beamsuntory.desk.com/customer/en/portal/articles/1676001-nutrition-information-cruzan\").content\n\nIn [13]: soup = BeautifulSoup(html, \"html.parser\")\n\nIn [14]: for table in soup.select(\"div.article-content table\"):\n   ....:         name = table.find_previous(\"strong\") or table.find_previous(\"b\")\n   ....:         amounts = [td.text.split(None, 1)[0] for  td in table.select(\"tr td + td\")]\n   ....:         print([name.text] + amounts)\n   ....:     \n[u'Cruzan Banana Flavored Rum 42 proof', u'1.5', u'79', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Banana Flavored Rum 55 proof', u'1.5', u'95', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Black Cherry Flavored Rum 42 proof', u'1.5', u'80', u'0', u'0.0', u'6.9', u'0', u'6.9']\n[u'Cruzan Citrus Flavored Rum 42 proof', u'1.5', u'99', u'0', u'0.0', u'2.8', u'0', u'2.6']\n[u'Cruzan Coconut Flavored Rum 42 proof', u'1.5', u'78', u'0', u'0.1', u'6.9', u'0', u'6.5']\n[u'Cruzan Coconut Flavored Rum 55 proof', u'1.5', u'95', u'0', u'0.1', u'6.1', u'0', u'0']\n[u'Cruzan Guaza Flavored Rum 42 proof', u'1.5', u'78', u'0', u'0.1', u'6.5', u'0', u'6.5']\n[u'Cruzan Key Lime Flavored Rum 42 proof', u'1.5', u'81', u'0', u'0.0', u'8.1', u'0', u'6']\n[u'Cruzan Mango Flavored Rum 42 proof', u'1.5', u'85', u'0', u'0.0', u'8.5', u'0', u'8.5']\n[u'Cruzan Mango Flavored Rum 55 proof', u'1.5', u'101', u'0', u'0.0', u'8.5', u'0', u'8.5']\n[u'Cruzan Orange Flavored Rum 42 proof', u'1.5', u'76.77', u'0', u'0', u'6.4', u'0', u'6.4']\n[u'Cruzan Passion Fruit Flavored Rum 42 proof', u'1.5', u'77', u'0', u'0.0', u'6.3', u'0', u'6.3']\n[u'Cruzan Pineapple Flavored Rum 42 proof', u'1.5', u'78', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Pineapple Flavored Rum 55 proof', u'1.5', u'94', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Raspberry Flavored Rum 42 proof', u'1.5', u'92', u'0', u'0.0', u'10.1', u'0', u'10.1']\n[u'Cruzan Raspberry Flavored Rum 55 proof', u'1.5', u'108', u'0', u'0.0', u'10.1', u'0', u'10.1']\n[u'Cruzan Strawberry Flavored Rum 42 proof', u'1.5', u'76', u'0', u'0.0', u'6.1', u'0', u'6']\n[u'Cruzan Vanilla Flavored Rum 42 proof', u'1.5', u'78', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Vanilla Flavored Rum 55 proof', u'1.5', u'94', u'0', u'0.0', u'6.5', u'0', u'6.5']\n[u'Cruzan Estate Dark Rum 80 proof', u'1.5', u'101', u'0', u'0.0', u'0', u'0', u'0']\n[u'Cruzan Estate Light Rum 80 proof', u'1.5', u'101', u'0', u'0.0', u'0', u'0', u'0']\n[u'Cruzan Estate Single Barrel Rum 80 proof', u'1.5', u'99', u'0', u'0.0', u'0.9', u'0', u'0.9']\n</code></pre>\n\n<p>And the bold:</p>\n\n<pre><code>In [20]: html = requests.get(\"http://beamsuntory.desk.com/customer/en/portal/articles/1790163-midori-nutrition-information\").content\n\nIn [21]: soup = BeautifulSoup(html, \"html.parser\")\n\nIn [22]: for table in soup.select(\"div.article-content table\"):\n   ....:         name = table.find_previous(\"strong\") or table.find_previous(\"b\")\n   ....:         amounts = [td.text.split(None, 1)[0] for  td in table.select(\"tr td + td\")]\n   ....:         print([name.text] + amounts)\n   ....:     \n[u'Midori', u'1.0', u'62.1', u'0', u'0.3', u'7.5', u'0', u'7.0']\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5806565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de93210f3fb85be635a9b8b86783a2f5?s=128&d=identicon&r=PG&f=1", "display_name": "PDGill", "link": "https://stackoverflow.com/users/5806565/pdgill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 39258264, "answer_count": 1, "score": 2, "last_activity_date": 1472735162, "creation_date": 1472673563, "question_id": 39258047, "link": "https://stackoverflow.com/questions/39258047/python-beautifulsoup-scrape-non-standard-web-table", "title": "Python - BeautifulSoup scrape non-standard web table", "body": "<p>I am attempting to scrape data from several webpages in order to create a CSV of the data. The data is just nutritional information of products. I have generated code to access the website, but I can't quite get the code to iterate out properly. The problem is, the website uses DIV tags for the product name, and inside of the DIV either  or , it varies between the pages. When I attempt to iterate it out, the product names all show at once, in a list with tags, and then I get the contents of the column I requested, without tags. I am trying to figure out what I am doing wrong. </p>\n\n<p>Source code example:</p>\n\n<pre><code>&lt;div&gt;&lt;strong&gt;Product 1 Name&lt;/strong&gt;&lt;/div&gt;\n\n&lt;table&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Serving Size&lt;/td&gt;\n            &lt;td&gt;8 (fl. Oz.)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Calories&lt;/td&gt;\n            &lt;td&gt;122 Calories&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Fat&lt;/td&gt;\n            &lt;td&gt;0 (g)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Sodium&lt;/td&gt;\n            &lt;td&gt;0.2 (mg)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Carbs&lt;/td&gt;\n            &lt;td&gt;8.8 (mg)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Dietary Fiber&lt;/td&gt;\n            &lt;td&gt;0 (g)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Sugar&lt;/td&gt;\n            &lt;td&gt;8.8 (g)&lt;br /&gt;\n            &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&amp;nbsp;\n\n&lt;div&gt;&lt;strong&gt;Product 2 Name&lt;/strong&gt;&lt;/div&gt;\n\n&lt;table&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Serving Size&lt;/td&gt;\n            &lt;td&gt;8 (fl. Oz.)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Calories&lt;/td&gt;\n            &lt;td&gt;134 Calories&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Fat&lt;/td&gt;\n            &lt;td&gt;0 (g)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Sodium&lt;/td&gt;\n            &lt;td&gt;0.0 (mg)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Carbs&lt;/td&gt;\n            &lt;td&gt;8.4 (mg)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Dietary Fiber&lt;/td&gt;\n            &lt;td&gt;0 (g)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Sugar&lt;/td&gt;\n            &lt;td&gt;8.4 (g)&lt;br /&gt;\n            &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&amp;nbsp;\n</code></pre>\n\n<p>Ideally, I would like to be able to output to a CSV that has \"Product Name\" and Column 1 data in the header row, since it is the same for all of the tables. Then the data rows would be like:\n <code>\"Product 1 Name, 8, 112, 0, 0.2, 8.8, 0, 8.8\"</code></p>\n\n<p>I know there is some manipulation that needs to be done to the data to get it to that point (to remove the size information).</p>\n\n<p>Here is what I have so far that is starting to drive me crazy:</p>\n\n<pre><code>import requests, bs4, urllib2, csv\nfrom bs4 import BeautifulSoup\nfrom collections import defaultdict\n\n\n#Loop on URLs to get Nutritional Information from each one.\nwith open('NutritionalURLs.txt') as f:\n    for line in f:\n        r = requests.get('website' + line)\n        soup=BeautifulSoup(r.text.encode('ascii','ignore'),\"html.parser\")\n\n#TESTING\n        with open('output.txt', 'w') as o:\n            product_list = soup.find_all('b')\n            product_list = soup.find_all('strong')\n            print(product_list)\n            table_list = soup.find_all('table')\n            for tables in table_list:\n                trs = tables.find_all('tr')\n                for tr in trs:\n                    tds = tr.find_all('td')[1:]\n                    if tds:\n                        facts = tds[0].find(text=True)\n                        print(facts)\n#                        o.write(\"Serving Size: %s, Calories: %s, Fat: %s, Sodium: %s, Carbs: %s, Dietary Fiber: %s, Sugar: %s\\n\" % \\\n#                            (facts[0].text, facts[1].text, facts[2].text, facts[3].text, facts[4].text, facts[5].text, facts[6].text)) \n</code></pre>\n\n<p>This gives me an output like this:</p>\n\n<pre><code>[&lt;strong&gt;Product 1 Name&lt;/strong&gt;, &lt;strong&gt;Product 2 Name&lt;/strong&gt;]\n8 (fl. Oz.)\n101 Calories\n0 (g)\n0.0 (mg)\n0 (mg)\n0 (g)\n0 (g)\n8 (fl. Oz.)\n101 Calories\n0 (g)\n0.0 (mg)\n0 (mg)\n0 (g)\n0 (g)\n[]\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7", "loops", "cpython"], "comments": [{"owner": {"reputation": 1704, "user_id": 5978459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmIL.jpg?s=128&g=1", "display_name": "perfect5th", "link": "https://stackoverflow.com/users/5978459/perfect5th"}, "edited": false, "score": 1, "creation_date": 1472673607, "post_id": 39258038, "comment_id": 65852031, "body": "Did you try <code>for x in range(len(list_articles)):</code>? Odds are, you&#39;re getting <code>TypeError</code> because you just did <code>for x in len(list_articles):</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 7, "creation_date": 1472673779, "post_id": 39258038, "comment_id": 65852132, "body": "The bottleneck here isn&#39;t how you&#39;re iterating, and changing to <code>xrange</code> or whatever won&#39;t make it faster - quite the opposite, actually. The problem is much more likely to be in what you&#39;re doing inside the loop, or in some poorly-designed aspect of your code&#39;s overall structure."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 2, "creation_date": 1472673860, "post_id": 39258038, "comment_id": 65852175, "body": "You already have the list, and the method you are using for iterating is the most efficient. Since you say there are a lot of articles, you will need to get rid of the list and the only way to do this is to create a custom iterator which pulls a newspaper article using the api and caches only a few of them to avoid network overhead. This iterator can then provide an article each time it is called in the loop and retrieves some more when it&#39;s cache becomes stale or runs out"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1472674010, "post_id": 39258038, "comment_id": 65852253, "body": "I&#39;m voting to close this question as off-topic because you are asking to optimize iterating over a list which is as efficient as it can get with <code>for x in my_list</code>.  If you need help optimizing other aspects of your code that can be optimized you would be more likely to get help."}], "answers": [{"comments": [{"owner": {"reputation": 8950, "user_id": 1630041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2626d681f792d02ffa74545c3764391?s=128&d=identicon&r=PG", "display_name": "Hcorg", "link": "https://stackoverflow.com/users/1630041/hcorg"}, "edited": false, "score": 0, "creation_date": 1472675915, "post_id": 39258199, "comment_id": 65853210, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/13529260\">From Review</a>"}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 8950, "user_id": 1630041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2626d681f792d02ffa74545c3764391?s=128&d=identicon&r=PG", "display_name": "Hcorg", "link": "https://stackoverflow.com/users/1630041/hcorg"}, "edited": false, "score": 0, "creation_date": 1472679539, "post_id": 39258199, "comment_id": 65854850, "body": "Hcorg: I don&#39;t know what you&#39;re talking about... I think this is proving iterating like the OP is doing is possibly one of the best ways to iterate over a huge list. So, could you please elaborate? Anything wrong with the current benchmark? Cos I don&#39;t understand your downvote at all :P"}, {"owner": {"reputation": 8950, "user_id": 1630041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2626d681f792d02ffa74545c3764391?s=128&d=identicon&r=PG", "display_name": "Hcorg", "link": "https://stackoverflow.com/users/1630041/hcorg"}, "edited": false, "score": 1, "creation_date": 1472714373, "post_id": 39258199, "comment_id": 65865118, "body": "1. Before edit this post was not a clear answer - just some benchmark :) 2. I didn&#39;t give downvote"}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1472679645, "last_edit_date": 1472679645, "creation_date": 1472674149, "answer_id": 39258199, "question_id": 39258038, "link": "https://stackoverflow.com/questions/39258038/the-most-efficient-way-to-iterate-over-a-list-of-elements-python-2-7/39258199#39258199", "title": "The most efficient way to iterate over a list of elements. Python 2.7", "body": "<p>Here's a little benchmark to make the question a little bit more interesting:</p>\n\n<pre><code>import timeit\nimport random\n\nN = 1000000\n\n\nclass Foo:\n\n    def __init__(self):\n        self.n = random.randint(0, 1000)\n\nbar = [Foo() for r in xrange(N)]\n\n\ndef f1(lst):\n    return [v for v in lst]\n\n\ndef f2(lst):\n    return [v for index, v in enumerate(lst)]\n\n\ndef f3(lst):\n    return [lst[i] for i in range(len(lst))]\n\nK = 100\nprint timeit.timeit('f1(bar)', setup='from __main__ import f1, bar', number=K)\nprint timeit.timeit('f2(bar)', setup='from __main__ import f2, bar', number=K)\nprint timeit.timeit('f3(bar)', setup='from __main__ import f3, bar', number=K)\n</code></pre>\n\n<p>In my machine gives:</p>\n\n<pre><code>5.1150355947\n6.89524135475\n7.90469366922 \n[Finished in 22.1s]\n</code></pre>\n\n<p>Conclusion: Iterating using the idiom <code>for v in huge_list</code> is a really good choice, so you should profile to check where the bottleneck is, which is probably in the inner loop (items processing)</p>\n"}, {"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": true, "score": 2, "last_activity_date": 1472708008, "last_edit_date": 1472708008, "creation_date": 1472674211, "answer_id": 39258211, "question_id": 39258038, "link": "https://stackoverflow.com/questions/39258038/the-most-efficient-way-to-iterate-over-a-list-of-elements-python-2-7/39258211#39258211", "title": "The most efficient way to iterate over a list of elements. Python 2.7", "body": "<p>The best way is to use built in functions, when possible, such as functions to split strings, join strings, group things, etc...</p>\n\n<p>The there is the  list comprehension or <code>map</code> when possible. If you need to construct one list from another by manipulating each element, then this is it.</p>\n\n<p>The thirst best way is the <code>for item in items</code> loop.</p>\n\n<p><strong>ADDED</strong></p>\n\n<p>One of the things that makes you a Python programmer, a better programmer, takes you to the next level of programming is the second thing I mentioned - list comprehension and map. Many times you iterate a list only to construct something that could be easily done with list comprehension. For example:</p>\n\n<pre><code>new_items = []\nfor item in items:\n    if item &gt; 3:\n    print(item * 10)\n    new_items.append(item * 10)\n</code></pre>\n\n<p>You could do this much better (shorter and faster and more robust) like this:</p>\n\n<pre><code>new_items = [item * 10 for item in items if item &gt; 3]\nprint(items)\n</code></pre>\n\n<p>Now, the printing is a bit different from the first example, but more often than not, it doesn't matter, and even better, and also can be transformed with one line of code to what you need.</p>\n"}], "owner": {"reputation": 251, "user_id": 6174784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5a37d4592b7c4c66b41758ad1b516362?s=128&d=identicon&r=PG&f=1", "display_name": "AlpU", "link": "https://stackoverflow.com/users/6174784/alpu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5795, "favorite_count": 0, "accepted_answer_id": 39258211, "answer_count": 2, "score": -1, "last_activity_date": 1472708008, "creation_date": 1472673546, "question_id": 39258038, "link": "https://stackoverflow.com/questions/39258038/the-most-efficient-way-to-iterate-over-a-list-of-elements-python-2-7", "title": "The most efficient way to iterate over a list of elements. Python 2.7", "body": "<p>I am trying to iterate over a list of elements, however the list can be massive and takes too long to execute. I am using newspaper api. The for loop I constructed is:</p>\n\n<pre><code>for article in list_articles:\n</code></pre>\n\n<p>Each article in the list_articles are an object in the format of:</p>\n\n<pre><code>&lt;newspaper.article.Article object at 0x1103e1250&gt;\n</code></pre>\n\n<p>I checked that some recommended using xrange or range, however that did not work in my case, giving a type error:</p>\n\n<pre><code>TypeError: 'int' object is not iterable\n</code></pre>\n\n<p>It would be awesome if anyone can point me to the right direction or give me some idea that can efficietly increase iterating over this list.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 3, "creation_date": 1472673555, "post_id": 39257990, "comment_id": 65852002, "body": "<code>re.sub</code> and <code>item.strip</code> return the modified string. You need to capture the return value to keep it."}], "answers": [{"comments": [{"owner": {"reputation": 1252, "user_id": 297780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnRLW.png?s=128&g=1", "display_name": "Lenwood", "link": "https://stackoverflow.com/users/297780/lenwood"}, "edited": false, "score": 0, "creation_date": 1472677995, "post_id": 39258130, "comment_id": 65854192, "body": "Brilliant. Thanks for the assist!"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 4, "last_activity_date": 1472674111, "last_edit_date": 1472674111, "creation_date": 1472673922, "answer_id": 39258130, "question_id": 39257990, "link": "https://stackoverflow.com/questions/39257990/python-remove-list-of-strings-from-list-of-strings/39258130#39258130", "title": "Python Remove List of Strings from List of Strings", "body": "<p>You have to assign the result of <code>replace</code> to <code>item</code> again:</p>\n\n<pre><code>clean = []\nfor item in URLs:\n    for loc in locs:\n        item = item.replace(loc, '')\n    clean.append(item)\n</code></pre>\n\n<p>or in short:</p>\n\n<pre><code>clean = [\n    reduce(lambda item,loc: item.replace(loc,''), [item]+locs)\n    for item in URLs\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472674278, "post_id": 39258191, "comment_id": 65852401, "body": "creating a new list is totally unnecessary."}, {"owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472674419, "post_id": 39258191, "comment_id": 65852476, "body": "Well, better safe than sorry. It&#39;s just to emphasize the fact that the original is going to be changed. But you&#39;re right, you can definitely leave that out."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472677680, "post_id": 39258191, "comment_id": 65854050, "body": "better you know, what the program does. The lists are never changed. You always create a new list."}, {"owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472718086, "post_id": 39258191, "comment_id": 65867307, "body": "Yes but you lose the reference, so it&#39;ll get collected."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1472718215, "post_id": 39258191, "comment_id": 65867382, "body": "since there is still a reference to <code>urls</code>, the list isn&#39;t collected"}], "tags": [], "owner": {"reputation": 7990, "user_id": 1303355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy2ba.jpg?s=128&g=1", "display_name": "Gijs", "link": "https://stackoverflow.com/users/1303355/gijs"}, "is_accepted": false, "score": 3, "last_activity_date": 1472718423, "last_edit_date": 1472718423, "creation_date": 1472674123, "answer_id": 39258191, "question_id": 39257990, "link": "https://stackoverflow.com/questions/39257990/python-remove-list-of-strings-from-list-of-strings/39258191#39258191", "title": "Python Remove List of Strings from List of Strings", "body": "<p>The biggest problem you have is that you don't save the return value. </p>\n\n<pre><code>urls = ['example.com/page.html',\n        'www.example.com/in/page.html',\n        'example.com/ca/fr/page.html',\n        'm.example.com/de/page.html',\n        'example.com/fr/page.html']\n\nlocs = ['/in', '/ca', '/de', '/fr', 'm.', 'www.']\n\nstripped = list(urls) ## create a new copy, not necessary\n\nfor loc in locs:\n    stripped = [url.replace(loc, '') for url in stripped]\n</code></pre>\n\n<p>After this, <code>stripped</code> is equal to</p>\n\n<pre><code>['example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html']\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Alternatively, without creating a new list, you can do</p>\n\n<pre><code>for loc in locs:\n    urls = [url.replace(loc, '') for url in urls]\n</code></pre>\n\n<p>After this, <code>urls</code> is equal to</p>\n\n<pre><code>['example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html',\n 'example.com/page.html']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "is_accepted": false, "score": 2, "last_activity_date": 1472674226, "creation_date": 1472674226, "answer_id": 39258215, "question_id": 39257990, "link": "https://stackoverflow.com/questions/39257990/python-remove-list-of-strings-from-list-of-strings/39258215#39258215", "title": "Python Remove List of Strings from List of Strings", "body": "<p>You could first abstract the removing part into a function and then use a list comprehension:</p>\n\n<pre><code>def remove(target, strings):\n    for s in strings:\n        target = target.replace(s,'')\n    return target\n\nURLs = ['example.com/page.html',\n        'www.example.com/in/page.html',\n        'example.com/ca/fr/page.html',\n        'm.example.com/de/page.html',\n        'example.com/fr/page.html']\n\nlocs = ['/in', '/ca', '/de', '/fr', 'm.', 'www.']\n</code></pre>\n\n<p>Used like:</p>\n\n<pre><code>URLs = [remove(url,locs) for url in URLs]\n\nfor url in URLs: print(url)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>example.com/page.html\nexample.com/page.html\nexample.com/page.html\nexample.com/page.html\nexample.com/page.html\n</code></pre>\n"}], "owner": {"reputation": 1252, "user_id": 297780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnRLW.png?s=128&g=1", "display_name": "Lenwood", "link": "https://stackoverflow.com/users/297780/lenwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2606, "favorite_count": 0, "accepted_answer_id": 39258130, "answer_count": 3, "score": 2, "last_activity_date": 1472718423, "creation_date": 1472673406, "question_id": 39257990, "link": "https://stackoverflow.com/questions/39257990/python-remove-list-of-strings-from-list-of-strings", "title": "Python Remove List of Strings from List of Strings", "body": "<p>I'm trying to remove several strings from a list of URLs. I have more than 300k URLs, and I'm trying to find which are variations of the original. Here's a toy example that I've been working with.</p>\n\n<pre><code>URLs = ['example.com/page.html',\n        'www.example.com/in/page.html',\n        'example.com/ca/fr/page.html',\n        'm.example.com/de/page.html',\n        'example.com/fr/page.html']\n\nlocs = ['/in', '/ca', '/de', '/fr', 'm.', 'www.']\n</code></pre>\n\n<p>What I'd like to end up with is a list of the pages without the language or locations:</p>\n\n<pre><code>desired_output = ['example.com/page.html',\n                  'example.com/page.html',\n                  'example.com/page.html',\n                  'example.com/page.html',\n                  'example.com/page.html']\n</code></pre>\n\n<p>I've tried list comprehension and nested for loops, nothing has worked yet. Can anyone help?</p>\n\n<pre><code># doesn't remove anything\nfor item in URLs:\n    for string in locs:\n        re.sub(string, '', item)\n\n# doesn't remove anything\nfor item in URLs:\n    for string in locs:\n        item.strip(string)\n\n# only removes the last string in locs\nclean = []\nfor item in URLs:\n    for string in locs:\n        new = item.replace(string, '')\n    clean.append(new)\n</code></pre>\n"}, {"tags": ["python", "terminal", "keyboard-shortcuts", "gnome-terminal", "compiz"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1472673551, "post_id": 39257950, "comment_id": 65852000, "body": "Hi, welcome to SO. This would really be better on something like askubuntu.com. This site is more about direct programming questions, eg &quot;My code doesn&#39;t work, how do I fix it&quot;."}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 0, "creation_date": 1472674357, "post_id": 39257950, "comment_id": 65852445, "body": "Hi Saga, If any of the answers worked for you, please consider accepting it. (tick the big &quot;V&quot; below the up/down arrows on the left). It is the appropriate way to indicate the answer worked for you. Better not add a comment as an answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 1756, "user_id": 6106129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e6db71c3e3619b428351f4d182c0fab6?s=128&d=identicon&r=PG&f=1", "display_name": "Salih Karagoz", "link": "https://stackoverflow.com/users/6106129/salih-karagoz"}, "edited": false, "score": 0, "creation_date": 1529479016, "post_id": 39258037, "comment_id": 88882223, "body": "great it works for me! but what about ipython? when i try with &#39;gnome-terminal --command ipython&#39; it is pop-up and closing immediately."}], "tags": [], "owner": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "is_accepted": true, "score": 1, "last_activity_date": 1472673545, "creation_date": 1472673545, "answer_id": 39258037, "question_id": 39257950, "link": "https://stackoverflow.com/questions/39257950/assigning-shortcut-key-to-launch-python/39258037#39258037", "title": "assigning shortcut key to launch python", "body": "<p>Make it:</p>\n\n<pre><code>gnome-terminal --command python3\n</code></pre>\n\n<p>As you have certainly guessed, <code>--command</code> is the parameter to use to execute a command inside <code>gnome-terminal</code>.</p>\n"}], "owner": {"reputation": 1375, "user_id": 6780389, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e0e4a17ac5c2908e5c892f6f8f87feb2?s=128&d=identicon&r=PG&f=1", "display_name": "saga", "link": "https://stackoverflow.com/users/6780389/saga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "closed_date": 1472689316, "accepted_answer_id": 39258037, "answer_count": 1, "score": 1, "last_activity_date": 1472673986, "creation_date": 1472673241, "question_id": 39257950, "link": "https://stackoverflow.com/questions/39257950/assigning-shortcut-key-to-launch-python", "closed_reason": "Not suitable for this site", "title": "assigning shortcut key to launch python", "body": "<p>I'm an ubuntu user. As you know, python promt is a very useful tool. And I want to replace my calculator app with it. What I want is a new terminal with python shell running on it to show up when I press a key combination. I can assign scripts to shortcut keys with compiz-config settings manager, but I can't get the result I want. 'gnome-terminal;python3;' launches a new terminal without python running on it. Looks like it starts python in background on tty7. So how can I get the result I want.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "export-to-csv"], "comments": [{"owner": {"reputation": 1189, "user_id": 5180976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c85cc67330633a8a9a041faaeff413e?s=128&d=identicon&r=PG&f=1", "display_name": "alphiii", "link": "https://stackoverflow.com/users/5180976/alphiii"}, "edited": false, "score": 0, "creation_date": 1472674017, "post_id": 39257934, "comment_id": 65852258, "body": "What do you mean by alignment? Exporting to? Since I don&#39;t know exactly what is your issue, but I think this might help:"}, {"owner": {"reputation": 1189, "user_id": 5180976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c85cc67330633a8a9a041faaeff413e?s=128&d=identicon&r=PG&f=1", "display_name": "alphiii", "link": "https://stackoverflow.com/users/5180976/alphiii"}, "edited": false, "score": 0, "creation_date": 1472674352, "post_id": 39257934, "comment_id": 65852444, "body": "df3.to_csv(filename, sep=&#39;\\t&#39;,encoding=&#39;utf-8&#39;,index=False) CSV by default doesn&#39;t have any alignment but you can set it in Excel check <a href=\"http://superuser.com/questions/407082/easiest-way-to-open-csv-with-commas-in-excel\" title=\"easiest way to open csv with commas in excel\">superuser.com/questions/407082/&hellip;</a>"}, {"owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "edited": false, "score": 0, "creation_date": 1472674818, "post_id": 39257934, "comment_id": 65852672, "body": "csv doesn&#39;t have any aliment, if you needs the csv to be aligned , then it needs to aligned by adding spaces to data before writing to csv"}, {"owner": {"reputation": 6528, "user_id": 2740380, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da67a0ebb5bfe35b4393aa34797ded1b?s=128&d=identicon&r=PG&f=1", "display_name": "ragesz", "link": "https://stackoverflow.com/users/2740380/ragesz"}, "edited": false, "score": 0, "creation_date": 1472675020, "post_id": 39257934, "comment_id": 65852763, "body": "Could you post the first 3-4 rows of your CSV to see what alignment means? Thx!"}, {"owner": {"reputation": 1036, "user_id": 5571377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a1989d1cb2bb75f8eacc2dbe7fe7cd04?s=128&d=identicon&r=PG&f=1", "display_name": "BartDur", "link": "https://stackoverflow.com/users/5571377/bartdur"}, "edited": false, "score": 0, "creation_date": 1472723137, "post_id": 39257934, "comment_id": 65870844, "body": "Are you sure it is an issue with pandas and not the csv viewer (i.e. excel), try opening in notepad or something like that to see if it is really exported incorrectly"}, {"owner": {"reputation": 938, "user_id": 5894625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rSLKa.jpg?s=128&g=1", "display_name": "Chendur", "link": "https://stackoverflow.com/users/5894625/chendur"}, "edited": false, "score": 0, "creation_date": 1472726770, "post_id": 39257934, "comment_id": 65873311, "body": "No it isn&#39;t a problem with excel. I tried opening it in Notepad ++ , by enabling end of line symbol visible, and it was split at the exact same position along with &lt;CR LF&gt; symbol"}, {"owner": {"reputation": 938, "user_id": 5894625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rSLKa.jpg?s=128&g=1", "display_name": "Chendur", "link": "https://stackoverflow.com/users/5894625/chendur"}, "edited": false, "score": 0, "creation_date": 1472726855, "post_id": 39257934, "comment_id": 65873370, "body": "Screenshot here  <a href=\"https://s16.postimg.io/ckmjnomh1/error.jpg\" rel=\"nofollow noreferrer\">s16.postimg.io/ckmjnomh1/error.jpg</a>"}], "owner": {"reputation": 938, "user_id": 5894625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rSLKa.jpg?s=128&g=1", "display_name": "Chendur", "link": "https://stackoverflow.com/users/5894625/chendur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 761, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472720646, "creation_date": 1472673192, "last_edit_date": 1472720646, "question_id": 39257934, "link": "https://stackoverflow.com/questions/39257934/pandas-dataframe-export-to-csv-alignment-issue", "title": "Pandas - Dataframe - Export to CSV - Alignment Issue", "body": "<p>I'm trying to read an excel with multiple sheets, parse it through a data frame, do some manipulation and finally save each sheet as a separate CSV file. Everything works but for writing file into different CSV files, the alignment is horrible when i export it.I mean a single cell gets spilled over to its following columns.</p>\n\n<p>The data in the column is </p>\n\n<p><strong>* ALARM 959 A3/APT \"\"ALPBSC1_G10B_IP\"\"U 160829 0100\nRADIO TRANSMISSION IP GB INTERFACE FAULT\nNSEI   RIP               PORT   REASON\n20151  xx.xx.xx.xxx      20151  NS-ALIVE TIME OUT\nEND\"</strong></p>\n\n<p>But when I export it to CSV it gets split across several column, I tried both comma separated and tab separated but the data from the columns moves across to four others columns as below,</p>\n\n<p>ALARM 519 A3/APT \"\"ALPBSC1_G10B_IP\"\"U 160829 0000<br>\nRADIO TRANSMISSION IP GB INTERFACE FAULT<br>\nNSEI   RIP               PORT   REASON<br>\n20151  xx.xx.xx.xxx      20151  NS-ALIVE TIME OUT</p>\n\n<p>But when i write into individual excel using <strong>to_excel</strong> function, it works like a charm. I dont think the issue is with a delimiter in that big string as the split isnt between any special character. Am I missing something?</p>\n\n<pre><code>import pandas as pd\nxl = pd.ExcelFile('MyFile.xls')\nd = xl.sheet_names # see all sheet names\nfor x in d:\n    print x\n    df2 = xl.parse(x)\n    df3 = df2.drop(df2.columns[[0]],axis=1)\n    filename = \"C:/d/\" + x + \".csv\"\n    df3.to_csv(filename, sep=',',encoding='utf-8',index=False)\n    #df2.to_excel(filename, index=False) #This statement works\n</code></pre>\n"}, {"tags": ["python", "multithreading", "multiprocessing"], "comments": [{"owner": {"reputation": 7123, "user_id": 6519111, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/mc6YV.jpg?s=128&g=1", "display_name": "Ashkan Sirous", "link": "https://stackoverflow.com/users/6519111/ashkan-sirous"}, "edited": false, "score": 0, "creation_date": 1472674229, "post_id": 39257889, "comment_id": 65852372, "body": "Welcome to stackoverflow. Asking a clear question will make it easier to help you. Including the work that you&#39;ve done until now and sharing  the error if there is any is very important. please read this article to make sure that you get a good answer <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1472674707, "post_id": 39257889, "comment_id": 65852614, "body": "divide the data into different files containing, say 5-10 chunks, then use multiprocessing and give only the filename to the subprocess so that he&#39;ll open the file and read it concurrently... this reduces the IPC overhead to the minimum while maximizing concurrency."}, {"owner": {"reputation": 245, "user_id": 6780382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73878c1da716606a53fbb38d6447bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Deeplearningmaniac", "link": "https://stackoverflow.com/users/6780382/deeplearningmaniac"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1472675125, "post_id": 39257889, "comment_id": 65852831, "body": "@Bakuriu this is more or less, what I am currently doing explained in the third point. The issue with this solution is that (I think) Linux pipes are not designed for transferring very large quantities of data between processes and I believe this is how <code>multiprocessing.Queue</code> is implemented, which makes getting what the subprocess read very slow."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1472676056, "post_id": 39257889, "comment_id": 65853280, "body": "@Deeplearningmaniac I don&#39;t think you understood what I said: the only data that you exchange between processes are filenames. You tel the subprocesses the name of the file to read, they read it process the data, save it in an other temporary file and then the main process reads the result fails and does its thing."}, {"owner": {"reputation": 245, "user_id": 6780382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73878c1da716606a53fbb38d6447bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Deeplearningmaniac", "link": "https://stackoverflow.com/users/6780382/deeplearningmaniac"}, "edited": false, "score": 0, "creation_date": 1472676417, "post_id": 39257889, "comment_id": 65853456, "body": "The actual processing can only happen in the main process. I only need reading from the hard drive to be concurrent. The issue I&#39;m trying to explain is that it is very slow to move the data from the child process to the parent process."}, {"owner": {"reputation": 3055, "user_id": 735893, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5970da463301e1fb98b1b524c633b0f9?s=128&d=identicon&r=PG", "display_name": "Vader", "link": "https://stackoverflow.com/users/735893/vader"}, "edited": false, "score": 0, "creation_date": 1472678027, "post_id": 39257889, "comment_id": 65854213, "body": "@Deeplearningmaniac First, I think you have to rewrite the question to clarify what you actually want to achieve. Second, if you hit the GIL limitation using threading then reading of data is not a problem, but calculations is, because <b>GIL doesn&#39;t block the I/O</b>."}, {"owner": {"reputation": 30181, "user_id": 209629, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3784fe19d5c3d40d66ba91788f9bf007?s=128&d=identicon&r=PG", "display_name": "vz0", "link": "https://stackoverflow.com/users/209629/vz0"}, "edited": false, "score": 0, "creation_date": 1472684664, "post_id": 39257889, "comment_id": 65856569, "body": "That is not exactly true. The real damage from the GIL is that mixing IO and CPU bound threads makes the IO threads to starve. See <a href=\"http://www.dabeaz.com/GIL/\" rel=\"nofollow noreferrer\">dabeaz.com/GIL</a>"}], "owner": {"reputation": 245, "user_id": 6780382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a73878c1da716606a53fbb38d6447bf8?s=128&d=identicon&r=PG&f=1", "display_name": "Deeplearningmaniac", "link": "https://stackoverflow.com/users/6780382/deeplearningmaniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1472675469, "creation_date": 1472673011, "question_id": 39257889, "link": "https://stackoverflow.com/questions/39257889/producer-consumer-with-very-large-items-in-python", "title": "producer-consumer with very large items in Python", "body": "<p>I'm working in the following scenario (with Python). I have a neural net optimised with a stochastic algorithm that needs a constant stream of training data. Each datum is large (let's say 50 megabytes) and I have a lot of data. The entire data set is too large to fit in the RAM. I can see three possible ways of working with this data.</p>\n\n<ol>\n<li>Load each datum sequentially from hard drive and then execute the code of the neural net. This is slow for obvious reasons.</li>\n<li>Use multithreading (threading library). Then I can have multiple threads loading the data from the hard drive and putting them in the queue from which the main process is reading. This is working fairly well though it seems to me that GIL (<a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow\">https://wiki.python.org/moin/GlobalInterpreterLock</a>) is slowing me down. The computation of the gradient for the neural net is clearly not really executed in parallel with reading from the hard drive.</li>\n<li>Use multiprocessing (multiprocessing library). This is analogous to 2. though the implementation of the queue I need to use then is using Linux pipes which are limited to be very small, so the main process spends most of the time reading data from the queue in tiny parts.</li>\n</ol>\n\n<p>All of these ways above are not acceptable for me. Can you think of a more efficient way of implementing such producer-consumer problem in Python?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1472673136, "post_id": 39257884, "comment_id": 65851782, "body": "Without seeing those files, we can&#39;t really help. <code>in</code> works anywhere in the string, not just at the end."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1472673136, "post_id": 39257884, "comment_id": 65851783, "body": "You want to check this for items in same line? and what is the expected output? Also your code is checking the member ship with <code>in</code> and it means you are checking in all over the string, not just end, and note that you have new lines at the trailing of your items, (because of <code>fileobj.readlines()</code>)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1472673157, "post_id": 39257884, "comment_id": 65851791, "body": "<code>readlines</code> includes the line terminators in the output."}], "answers": [{"comments": [{"owner": {"reputation": 3575, "user_id": 5334188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5174dfb78299414039e19e27ce37efde?s=128&d=identicon&r=PG&f=1", "display_name": "be_good_do_good", "link": "https://stackoverflow.com/users/5334188/be-good-do-good"}, "edited": false, "score": 0, "creation_date": 1472674247, "post_id": 39257949, "comment_id": 65852378, "body": "I don&#39;t why this is down voted, I feel this is right approach, hence upvoting this"}], "tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": true, "score": 1, "last_activity_date": 1472673735, "last_edit_date": 1472673735, "creation_date": 1472673240, "answer_id": 39257949, "question_id": 39257884, "link": "https://stackoverflow.com/questions/39257884/python-if-substring-x-in-string-y-only-true-for-last-characters/39257949#39257949", "title": "python: if (substring X in string Y) only true for last characters?", "body": "<p><code>readlines</code> gives you each line include the newline at the end of the line. So you're doing comparisons like <code>\"cat\\n\" in \"cat,blue\\n\"</code>. Since there isn't a newline in the right place, the check fails.</p>\n\n<p>Try this to strip the newlines off the end of each line:</p>\n\n<pre><code>with open(\"test_class.txt\") as g:\n    prediction = [line.rstrip() for line in g]\n\nwith open(\"y_smallTest.txt\") as g:\n    actual = [line.rstrip() for line in g]\n\nfor n in range(len(prediction)):\n    if prediction[n] in actual[n]:\n        correct += 1\n    else:\n        incorrect +=1\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Perhaps a better rewrite is to use zip and just iterate through the files:</p>\n\n<pre><code>with open(\"test_class.txt\") as predictions, open(\"y_smallTest.txt\") as actuals:\n    for prediction, actual in zip(predictions, actual):\n        if prediction.rstrip() in actual:\n            correct += 1\n        else:\n            incorrect += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3575, "user_id": 5334188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5174dfb78299414039e19e27ce37efde?s=128&d=identicon&r=PG&f=1", "display_name": "be_good_do_good", "link": "https://stackoverflow.com/users/5334188/be-good-do-good"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673419, "creation_date": 1472673419, "answer_id": 39257996, "question_id": 39257884, "link": "https://stackoverflow.com/questions/39257884/python-if-substring-x-in-string-y-only-true-for-last-characters/39257996#39257996", "title": "python: if (substring X in string Y) only true for last characters?", "body": "<p><code>'cat' in 'cat,blue'</code> returns True</p>\n\n<p>Please make small change to your script</p>\n\n<pre><code>if prediction[n].strip() in actual[n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673438, "creation_date": 1472673438, "answer_id": 39258002, "question_id": 39257884, "link": "https://stackoverflow.com/questions/39257884/python-if-substring-x-in-string-y-only-true-for-last-characters/39258002#39258002", "title": "python: if (substring X in string Y) only true for last characters?", "body": "<p>The items in the list returned by <code>readlines</code> will include the <code>\\n</code> at the end of each line, so you are <em>actually</em> testing <code>'dog\\n' in 'red,dog\\n'</code>, which is fine, and <code>'cat\\n' in 'cat,blue\\n'</code>, which is not.</p>\n\n<p>To fix it, you can use <code>strip()</code> to remove the line terminators (and any other enclosing whitespace).</p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673672, "creation_date": 1472673672, "answer_id": 39258064, "question_id": 39257884, "link": "https://stackoverflow.com/questions/39257884/python-if-substring-x-in-string-y-only-true-for-last-characters/39258064#39258064", "title": "python: if (substring X in string Y) only true for last characters?", "body": "<p>You just need to <em>rstrip</em> the <em>newline</em> from each line of the first file so you don't compare <code>dog\\n</code> with <code>red,dog\\n</code>, the newline on the string you are testing is irrelevant.  You can also use <em>zip</em> and read the files line by line withput the need for <em>readlines</em> and indexing:</p>\n\n<pre><code>with open(\"test_class.txt\") as f1, open(\"y_smallTest.txt\") as f2:\n    correct = incorrect = 0\n    for a, b in zip(f1, f2):\n        if a.rstrip() in b:\n              correct += 1\n        else:\n             incorrect += 1\n</code></pre>\n\n<p>If you want exact matches then you will need to <em>rstrip</em> and <em>split</em> on the comma:</p>\n\n<pre><code>with open(\"test_class.txt\") as f1, open(\"y_smallTest.txt\") as f2:\n    correct = incorrect = 0\n    for a, b in zip(f1, f2):\n        if a.rstrip() in b.rstrip().split(\",\"):\n            correct += 1\n        else:\n            incorrect += 1\n</code></pre>\n\n<p>The difference on splitting would mean <em>dog</em> would not match <em>dogs,cats</em>.</p>\n"}], "owner": {"reputation": 107, "user_id": 6780346, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fd2ce027e35959ba7c69838ec76470e?s=128&d=identicon&r=PG&f=1", "display_name": "Chankin", "link": "https://stackoverflow.com/users/6780346/chankin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39257949, "answer_count": 4, "score": 0, "last_activity_date": 1472674042, "creation_date": 1472673001, "last_edit_date": 1472674042, "question_id": 39257884, "link": "https://stackoverflow.com/questions/39257884/python-if-substring-x-in-string-y-only-true-for-last-characters", "title": "python: if (substring X in string Y) only true for last characters?", "body": "<p>This code only returns true when the substring is at the end. How do I fix it to consider any substring? Data looks like this:</p>\n\n<p>prediction: </p>\n\n<ol>\n<li><p>dog</p></li>\n<li><p>cat</p></li>\n</ol>\n\n<p>actual:     </p>\n\n<ol>\n<li><p>red,dog</p></li>\n<li><p>cat,blue</p></li>\n</ol>\n\n<p>returns true then returns false</p>\n\n<pre><code>with open(\"test_class.txt\") as g:\n    prediction = g.readlines()\n\nwith open(\"y_smallTest.txt\") as g:\n    actual = g.readlines()\n\nfor n in range(len(prediction)):\n    if prediction[n] in actual[n]:\n        correct += 1\n    else:\n        incorrect +=1\n</code></pre>\n\n<p>Edit: .rstrips works! The expected output is true, true</p>\n"}, {"tags": ["python", "multithreading", "cpu"], "comments": [{"owner": {"reputation": 1836, "user_id": 6281755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-99Ov53Fu-tc/AAAAAAAAAAI/AAAAAAAAAHU/zL_keIDgCbw/photo.jpg?sz=128", "display_name": "Robert Seaman", "link": "https://stackoverflow.com/users/6281755/robert-seaman"}, "edited": false, "score": 1, "creation_date": 1472673087, "post_id": 39257857, "comment_id": 65851750, "body": "The threading library doesn&#39;t handle multiple cores. Check out the multiprocessing library. Just note the differences with how the objects in memory are handled."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1472673100, "post_id": 39257857, "comment_id": 65851762, "body": "If you&#39;re trying to utilize all your cores optimally, Python threading won&#39;t help you with that. The global interpreter lock heavily neuters Python threads."}, {"owner": {"reputation": 1836, "user_id": 6281755, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-99Ov53Fu-tc/AAAAAAAAAAI/AAAAAAAAAHU/zL_keIDgCbw/photo.jpg?sz=128", "display_name": "Robert Seaman", "link": "https://stackoverflow.com/users/6281755/robert-seaman"}, "edited": false, "score": 1, "creation_date": 1472673533, "post_id": 39257857, "comment_id": 65851994, "body": "To comment further, the threading library is good for handling IO bound tasks. If you are going to use the threading library then note that you will not benefit from running more than thread for CPU bound tasks due to the GIL."}], "answers": [{"comments": [{"owner": {"reputation": 1035, "user_id": 4566565, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1d40126fedb23e5b28a0a1738d3b3e27?s=128&d=identicon&r=PG&f=1", "display_name": "Asher11", "link": "https://stackoverflow.com/users/4566565/asher11"}, "edited": false, "score": 0, "creation_date": 1472674085, "post_id": 39257984, "comment_id": 65852283, "body": "I knew of GIL, didnt understand it affected thread building efficacy as well. The problem with multiprocessing is, unless I design my code in a more efficient manner, that I have significant overhead damaging performance"}], "tags": [], "owner": {"reputation": 706, "user_id": 6761184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89aba8d550e80edfe0c721440d4c5a98?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Visentin", "link": "https://stackoverflow.com/users/6761184/davide-visentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1472673387, "creation_date": 1472673387, "answer_id": 39257984, "question_id": 39257857, "link": "https://stackoverflow.com/questions/39257857/cpu-cores-treads-and-optimal-number-of-workers-python-threading/39257984#39257984", "title": "CPU cores, treads and optimal number of workers - python threading", "body": "<p>The question is very complex, because on the same CPU there can be an arbitrary number of others threads running, from processes that are not under your control.</p>\n\n<p>Instead, you can estimate when a certain piece of code worth to be executed by a separate thread, based on the time needed to create a new thread.</p>\n"}], "owner": {"reputation": 1035, "user_id": 4566565, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1d40126fedb23e5b28a0a1738d3b3e27?s=128&d=identicon&r=PG&f=1", "display_name": "Asher11", "link": "https://stackoverflow.com/users/4566565/asher11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 1, "accepted_answer_id": 39257984, "answer_count": 1, "score": 1, "last_activity_date": 1472673387, "creation_date": 1472672909, "question_id": 39257857, "link": "https://stackoverflow.com/questions/39257857/cpu-cores-treads-and-optimal-number-of-workers-python-threading", "title": "CPU cores, treads and optimal number of workers - python threading", "body": "<p>I am beginning to appreciate the usefulness of the threading library on python and I was wondering what was the optimal number of threads to keep open in order to maximise the efficiency of the script I am running. </p>\n\n<p>Please do keep in mind that my one and only priority is speed, I don't need to multitask /do other stuff (think a computing dedicated server)</p>\n\n<p>To be specific, if I run on a 4 cores / 4 threads CPU, will the optimal number of threads be 4? 8? 16? Then again, if I had more than a thread per core (4 core 8 t), would the answer change? Also, does cpu clock influence any of this?</p>\n\n<p>I understand there are a variety of implications on the matter but, as much as my research on the subject went, I still feel to be very much in the dark. (I gathered it's not so simple as n threads = n processes)</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1472673088, "post_id": 39257827, "comment_id": 65851751, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/20588417/how-to-change-font-and-size-of-buttons-and-frame-in-tkinter-using-python\">How to change font and size of buttons and frame in tkinter using python?</a>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1472676020, "post_id": 39257827, "comment_id": 65853257, "body": "I don&#39;t understand the question. Your code does create a button with a large font. What problem are you having? When I ran your code (and added <code>licenseChange.pack()</code>, a large 18pt button appeared."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472673228, "post_id": 39257870, "comment_id": 65851834, "body": "I just tried that and is producing the same result as if the font were default size. To make sure the font wasn&#39;t already 18 I changed it to 32 and still the same result. Any other ideas?"}, {"owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "reply_to_user": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472681736, "post_id": 39257870, "comment_id": 65855658, "body": "I haven&#39;t tried your code, but I see you haven&#39;t packed the licenseChange button. You may try it..."}, {"owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472744453, "post_id": 39257870, "comment_id": 65886189, "body": "Hey sorry, i just got back to work and able to look at this. I noticed that in my troubleshooting of the font thing that I must have accidentally removed that as well. My trouble is still there - does this solution work with other code snippets or on your machine with my code? I might just be a bad coder (probably the case since this is only my second or third attempt at programming) Thanks again for the assistance you&#39;ve offered to far."}], "tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672962, "creation_date": 1472672962, "answer_id": 39257870, "question_id": 39257827, "link": "https://stackoverflow.com/questions/39257827/ive-tried-to-change-my-font-size-and-it-still-has-no-affect-how-do-i-actually/39257870#39257870", "title": "I&#39;ve tried to change my font size and it still has no affect. How do I actually change the font size?", "body": "<p>I'm not familiar with <code>Font</code>, but you can denote it also using a string:</p>\n\n<pre><code>customFont = '{arial} 18'\n</code></pre>\n\n<p>For default font uer</p>\n\n<pre><code>customFont = '{} 18'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 885, "user_id": 5149992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/10153144427069790/picture?type=large", "display_name": "RBuntu", "link": "https://stackoverflow.com/users/5149992/rbuntu"}, "is_accepted": false, "score": 0, "last_activity_date": 1472674641, "last_edit_date": 1472674641, "creation_date": 1472673384, "answer_id": 39257983, "question_id": 39257827, "link": "https://stackoverflow.com/questions/39257827/ive-tried-to-change-my-font-size-and-it-still-has-no-affect-how-do-i-actually/39257983#39257983", "title": "I&#39;ve tried to change my font size and it still has no affect. How do I actually change the font size?", "body": "<p>When you create a <code>tk.button</code> object, use the font option, and specify the font style as a string like so:\n<code>\"Arial 10 Bold\"</code></p>\n\n<p>I used your code as an example and made the font Arial, size 18, bolded.</p>\n\n<pre><code>from Tkinter import *\nfrom tkFont import *\n\n\nclass App:\n    def __init__(self):\n        guiWindow = Tkinter.Tk()\n        guiWindow.wm_title(\"FooBar\")\n\n        # Creates a custom font\n        customFont = \"Arial 18 Bold\"\n\n        # code to add widgets will go here\n        buttonFrame = Frame()\n\n        # colors the \"ChangeLicense\" button\n        color = '#005DA6'\n\n        # tells licenseChange what to do\n        def openLicenseChange():\n            print('Change License')\n\n    #button properties\n        licenseChange = Button(guiWindow,\n                               command=openLicenseChange,\n                               bd=20, bg=color, font=customFont,\n                               text=\"Change License\")\n\n        buttonFrame.pack(side=\"top\", fill=\"x\")\n        licenseChange.pack()\n        guiWindow.mainloop()\napp=App()\n</code></pre>\n\n<p>If that doesnt work, instead of <code>\"Arial 18 Bold\"</code>, try quoting each word in the string like so <code>\"'Arial' '18' 'Bold'\"</code> in your <code>customFont</code> variable.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472674001, "post_id": 39258050, "comment_id": 65852248, "body": "I tried this by modifying what you gave me to my code and it didn&#39;t work. Then I tried literally copy and pasting which still doesn&#39;t work. My font still comes up as the default font. I appreciate your input, any other ideas?"}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472674253, "post_id": 39258050, "comment_id": 65852382, "body": "@AveryLipsit Could you elaborate a little bit more? Could you make a <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> of your code so I&#39;ll be able to diagnose what&#39;s going on"}, {"owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472674340, "post_id": 39258050, "comment_id": 65852435, "body": "Sure thing! I didn&#39;t even realize that was a thing thanks! One moment..."}, {"owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "edited": false, "score": 0, "creation_date": 1472674731, "post_id": 39258050, "comment_id": 65852624, "body": "I have to head home from work now... I&#39;ll update in a bit... sorry :("}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673572, "creation_date": 1472673572, "answer_id": 39258050, "question_id": 39257827, "link": "https://stackoverflow.com/questions/39257827/ive-tried-to-change-my-font-size-and-it-still-has-no-affect-how-do-i-actually/39258050#39258050", "title": "I&#39;ve tried to change my font size and it still has no affect. How do I actually change the font size?", "body": "<p>You can create a new font and then just applying it to your widgets using <code>my_widget['font']=my_font</code>, example out of your code:</p>\n\n<pre><code>from Tkinter import *\nfrom tkFont import *\n\n\nclass App:\n\n    def __init__(self):\n        guiWindow = Tkinter.Tk()\n        guiWindow.wm_title(\"FooBar\")\n\n        # Creates a custom font\n        customFont = Font(size=18)\n\n        # code to add widgets will go here\n        buttonFrame = Frame()\n\n        # colors the \"ChangeLicense\" button\n        color = '#005DA6'\n\n        # tells licenseChange what to do\n        def openLicenseChange():\n            print('Change License')\n\n        # button properties\n        helv36 = Font(family='Helvetica', size=36, weight='bold')\n        licenseChange = Button(guiWindow,\n                               command=openLicenseChange,\n                               bd=20, bg=color, font=customFont,\n                               text=\"Change License\")\n        licenseChange['font'] = helv36\n        buttonFrame.pack(side=\"top\", fill=\"x\")\n\n        guiWindow.mainloop()\n\napp = App()\n</code></pre>\n\n<p>You can read more about tkFont.Font <a href=\"http://www.tutorialspoint.com/python/tk_fonts.htm\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 41, "user_id": 4754365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfef8fd5b7dc1ff87f07cc339cc3795?s=128&d=identicon&r=PG&f=1", "display_name": "Avery Lipsit", "link": "https://stackoverflow.com/users/4754365/avery-lipsit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1472674641, "creation_date": 1472672807, "question_id": 39257827, "link": "https://stackoverflow.com/questions/39257827/ive-tried-to-change-my-font-size-and-it-still-has-no-affect-how-do-i-actually", "title": "I&#39;ve tried to change my font size and it still has no affect. How do I actually change the font size?", "body": "<p>I'm trying to change the font size of my buttons in Tkinter so it's not so small. Does anyone have any idea on what I can do that might have the result that I'm looking for? Why is there so much text required for me to ask a question when I can ask it plainly and simply with less text?! </p>\n\n<pre><code>from Tkinter import *\nfrom tkFont import *\n\n\nclass App:\n    def __init__(self):\n        guiWindow = Tkinter.Tk()\n        guiWindow.wm_title(\"FooBar\")\n\n        # Creates a custom font\n        customFont = Font(size=18)\n\n        # code to add widgets will go here\n        buttonFrame = Frame()\n\n        # colors the \"ChangeLicense\" button\n        color = '#005DA6'\n\n        # tells licenseChange what to do\n        def openLicenseChange():\n            print('Change License')\n\n    #button properties\n        licenseChange = Button(guiWindow,\n                               command=openLicenseChange,\n                               bd=20, bg=color, font=customFont,\n                               text=\"Change License\")\n\n        buttonFrame.pack(side=\"top\", fill=\"x\")\n\n        guiWindow.mainloop()\napp=App()\n</code></pre>\n"}, {"tags": ["python", "regex", "format", "expression"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1472672651, "post_id": 39257759, "comment_id": 65851536, "body": "Combine them using <code>^\\d{5,6}-\\d{2}$</code> With optional letter its <code>^\\d{5,6}[A-Z]?-\\d{2}$</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1472672707, "post_id": 39257759, "comment_id": 65851564, "body": "Try <a href=\"https://regex101.com/r/gE4cM8/1\" rel=\"nofollow noreferrer\"><code>^\\d{5}(?:\\d?|[A-Z])-\\d{2}$</code></a>. Depends on what you actually mean. Another one - <code>^\\d{5}\\w?-\\d{2}$</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 706, "user_id": 6761184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89aba8d550e80edfe0c721440d4c5a98?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Visentin", "link": "https://stackoverflow.com/users/6761184/davide-visentin"}, "edited": false, "score": 0, "creation_date": 1472672969, "post_id": 39257759, "comment_id": 65851694, "body": "@DavideVisentin: <a href=\"https://regex101.com/r/gE4cM8/2\" rel=\"nofollow noreferrer\">it does</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1472673110, "post_id": 39257759, "comment_id": 65851767, "body": "The only issue is whether the letter is only valid with a 5 digit preceding number. But why in the world would that be a criteria."}], "answers": [{"tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673127, "last_edit_date": 1472673127, "creation_date": 1472672761, "answer_id": 39257812, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter/39257812#39257812", "title": "Regular Expression with letter", "body": "<p>If you want a single regex to match the 3rd pattern you can use a regex like this:</p>\n\n<pre><code>(?i)(r'^\\d{5}[a-z]-\\d{2}$')\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/uA0bK2/1\" rel=\"nofollow\">Working demo</a></strong></p>\n\n<p>However, if you want to have a single regex for all of them, you might find useful:</p>\n\n<pre><code>(?i)(r'^\\d{5-6}[a-z]?-\\d{2}$')\n</code></pre>\n\n<p>Keep in mind that this will allow: <code>657432A-76</code> but if you just want 5 digits only with the letter, then you could use:</p>\n\n<pre><code>(?i)(r'^\\d{5}(?:\\d?|[a-z])-\\d{2}$')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672769, "creation_date": 1472672769, "answer_id": 39257814, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter/39257814#39257814", "title": "Regular Expression with letter", "body": "<p>For the letter use <code>[a-zA-Z]</code>, and if it's only upper case then <code>[A-Z]</code> is sufficient.</p>\n"}, {"tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672871, "creation_date": 1472672871, "answer_id": 39257845, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter/39257845#39257845", "title": "Regular Expression with letter", "body": "<p>it seems the pattern generically is 6 characters with possible letter or number at last char max then <code>-</code> then 2 numbers? so then you'd use this pattern</p>\n\n<p><code>pattern = r'^d{5}.+-\\d{2}$'</code></p>\n"}, {"tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673347, "last_edit_date": 1472673347, "creation_date": 1472673034, "answer_id": 39257899, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter/39257899#39257899", "title": "Regular Expression with letter", "body": "<p>How about this expression:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'^\\d+[A-Z]?-\\d+$','657432A-76')\n&lt;_sre.SRE_Match object; span=(0, 10), match='657432A-76'&gt;\n&gt;&gt;&gt; \n&gt;&gt;&gt; re.search(r'^\\d+[A-Z]?-\\d+$','657432-76')\n&lt;_sre.SRE_Match object; span=(0, 9), match='657432-76'&gt;\n&gt;&gt;&gt; \n&gt;&gt;&gt; re.search(r'^\\d+[A-Z]?-\\d+$','65743-76')\n&lt;_sre.SRE_Match object; span=(0, 8), match='65743-76'&gt;\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Or if the format is as : <br /></p>\n\n<p><code>[At most six digits][Possibility of a letter][-][At most two digits]</code> <br /> </p>\n\n<p>Then:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'^\\d{,6}[A-Z]?-\\d{,2}$','65743A-76')\n&lt;_sre.SRE_Match object; span=(0, 9), match='65743A-76'&gt;\n&gt;&gt;&gt; \n&gt;&gt;&gt; re.search(r'^\\d{,6}[A-Z]?-\\d{,2}$','657436-76')\n&lt;_sre.SRE_Match object; span=(0, 9), match='657436-76'&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673168, "creation_date": 1472673168, "answer_id": 39257925, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter/39257925#39257925", "title": "Regular Expression with letter", "body": "<p>Here's a possible candidate matching all your samples:</p>\n\n<pre><code>import re\n\nsamples = [\n    \"657432-76\",\n    \"54678-01\",\n    \"54364A-12\"\n]\n\nfor s in samples:\n    print re.match(r'^(\\d+[A-Z]?)-(\\d+)$', s).groups()\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6774786, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c089f066e7d589fdb984516e271d96e2?s=128&d=identicon&r=PG&f=1", "display_name": "Emily", "link": "https://stackoverflow.com/users/6774786/emily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1472673347, "creation_date": 1472672543, "last_edit_date": 1472672699, "question_id": 39257759, "link": "https://stackoverflow.com/questions/39257759/regular-expression-with-letter", "title": "Regular Expression with letter", "body": "<p>I need to match things that format something along the lines of \n657432-76,   54678-01,   54364<strong>A</strong>-12</p>\n\n<p>I got <code>(r'^\\d{6}-\\d{2}$')</code>\nand   <code>(r'^\\d{5}-\\d{2}$')</code>\nbut how do you get the letter?</p>\n\n<p>thanks!!</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1472689857, "post_id": 39257734, "comment_id": 65857839, "body": "It always helps if you put the full traceback into your question, to show the actual error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1472689995, "post_id": 39257734, "comment_id": 65857869, "body": "Is it the access of <code>ws_sites</code> that yields the error, or the assignment into <code>out</code>? Have you tried a line with just <code>ws_sites[indices[ind]: indices[ind+1],:]</code>, nothing else, to see if that yields an error?"}, {"owner": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472745281, "post_id": 39257734, "comment_id": 65886747, "body": "@Evert Thank you, I added the traceback to the post. I tried removing  <code>out[ind, :] =</code> and it still yields that error when running <code>ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0)</code> by itself."}], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472745449, "post_id": 39261584, "comment_id": 65886833, "body": "Yep, sorry about that the code never seems to paste right when posting here and my indents always seem off. I ran <code>print ws_sites.shape</code> and it came back with <code>(8760,)</code> so yes it seems your conclusion is correct that <code>ws_sites</code> is 1d."}, {"owner": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472745695, "post_id": 39261584, "comment_id": 65886980, "body": "Is there a work around where I can make it 2d, but nan or null until I run the <code>for</code> loop and the <code>out[ind, :] = ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0)</code>?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472746190, "post_id": 39261584, "comment_id": 65887289, "body": "<code>ws_sites[indices[ind]: indices[ind + 1]].max()</code> produces one value, the max over that slice of <code>ws_sites</code>."}, {"owner": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472747449, "post_id": 39261584, "comment_id": 65887913, "body": "so I need add a second dimension? What if I add the <code>min</code> as well as the <code>max</code>? For example <code>for ind in range(len(indices)-1):     out[ind, :] = ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0), \\                   ws_sites[indices[ind]: indices[ind + 1], :].min(axis=0)</code>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "edited": false, "score": 0, "creation_date": 1472747915, "post_id": 39261584, "comment_id": 65888179, "body": "That might work if <code>out</code> has 2 columns. Experiment.  Or collecting these values in a list or list_comprehension. <code>out = [ws_sites[...].max() for ind in range(...)]</code>."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1472713725, "last_edit_date": 1472713725, "creation_date": 1472695045, "answer_id": 39261584, "question_id": 39257734, "link": "https://stackoverflow.com/questions/39257734/indexerror-too-many-indices-using-hdf5-file-with-8760-every-hour-for-the-ye/39261584#39261584", "title": "&quot;IndexError: too many indices&quot; using HDF5 file with 8760 - every hour for the year", "body": "<p>First, there was some indentation missing below the <code>with ... a vector:</code>.  I added my guess on that.  But I'm guessing all of that <code>hdf5</code> stuff is unimportant - at least for your problem.</p>\n\n<p>The problem is all at the end - if I read your question right:</p>\n\n<pre><code>ws_sites = ws[:, kdtree_indices]\nindices = range(0, 8760, 24)\nindices.append(8759)\n#.... \nout = np.empty(shape=(365, ws.shape[1]))\n\nfor ind in range(len(indices)-1):\n    out[ind, :] = ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0)\n</code></pre>\n\n<p>From this I deduce that <code>indices</code> is a list with values in the range 0 8760, 366 values in all.  <code>out</code> is 2d, so indexing it with <code>ind</code> should be fine.</p>\n\n<p>But what about <code>ws_sites</code>?  What is its shape?  Any time you have indexing errors, check the shapes.  Often they aren't what you might guess.  You are indexing it as though it were 2d, eg.</p>\n\n<pre><code>ws_sites[24:48, :]\n</code></pre>\n\n<p>It looks like <code>ws</code> is 2d.  But if <code>kdtree_indices</code> is a single number, <code>ws_sites = ws[:, kdtree_indices]</code> will be 1d, producing the <code>too many indices</code>.  </p>\n\n<p>The error has to do with the number of dimensions, not their size.  Trying to index with too high a number will produce a different error.</p>\n"}], "owner": {"reputation": 243, "user_id": 5890240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39cda8ee3803b0e711acde468cb68bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolai", "link": "https://stackoverflow.com/users/5890240/nikolai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39261584, "answer_count": 1, "score": 0, "last_activity_date": 1472744865, "creation_date": 1472672429, "last_edit_date": 1472744865, "question_id": 39257734, "link": "https://stackoverflow.com/questions/39257734/indexerror-too-many-indices-using-hdf5-file-with-8760-every-hour-for-the-ye", "title": "&quot;IndexError: too many indices&quot; using HDF5 file with 8760 - every hour for the year", "body": "<p><strong>Background:</strong> I am trying to pull out the daily max windspeed from an 8760 hdf5 dataset using a kdtree to lat/lons from a point file and then pull it all into a csv. Things go smoothly, until I try to make an empty array to store the max values. I am having a hard time wrapping my head around the logic needed here. </p>\n\n<p>I have browsed other questions and from other answers think I may have a one-dimensional array and I'm trying to slice it with two dimensions. But not sure. Any help would be appreciated.</p>\n\n<pre><code># Store X / Y coordinates\nx_vector = []\ny_vector = []\n\n# Open dummy HDF5 file\nhf = h5py.File(dir + 'h5/wspd_2014.h5', 'r')\n\n# Break out attributes of the data\nws = hf['wspd'][...]\nmeta = hf['meta'][...]\n\n# Get coordinates of HDF5 file\ncoords = np.vstack([meta['latitude'], meta['longitude']]).T\n\n# Open the vector data\nwith fiona.open(dir + 'shapefiles/soil_winderode4.shp', 'r') as vector:\n    # create array to store xy coordinates\n    coords_arr = []\n    # get the coordinates from the shapefile\n    for feature in vector:\n        coords = feature['geometry']['coordinates']\n        coords_arr.append(coords)\n\n# Run a loop using the coordinates and split the x and y\nfor x, y in coords_arr:\n    x_vector.append(x)\n    y_vector.append(y)\n\n# Run the kdtree to match nearest values\ntree = cKDTree(np.vstack([x_vector, y_vector]).T)\nkdtree_indices = tree.query(coords)[1]\n\n# ------ Match WSPD, lat/lon &amp; Save to CSV -------\nws_sites = ws[:, kdtree_indices]\nindices = range(0, 8760, 24)\nindices.append(8759)\n</code></pre>\n\n<p><strong>Issue:</strong> This is where things get wonky, I make an empty numpy array using days (365) and the shape of windspeed (194940) in the <code>for</code>loop and then my intent is to get the max value for every day (ind).</p>\n\n<pre><code>out = np.empty(shape=(365, ws.shape[1]))\n\nfor ind in range(len(indices)-1):\n    out[ind, :] = ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0)\n</code></pre>\n\n<p><strong>As per request here is the traceback:</strong></p>\n\n<pre><code>Traceback (most recent call last):\n194940\n  File \"meera_extract.py\", line 56, in &lt;module&gt;\nout[ind, :] = ws_sites[indices[ind]: indices[ind + 1], :].max(axis=0)\nIndexError: too many indices for array\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2773, "user_id": 4896087, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jun3L.jpg?s=128&g=1", "display_name": "George Liu", "link": "https://stackoverflow.com/users/4896087/george-liu"}, "edited": false, "score": 0, "creation_date": 1472674932, "post_id": 39258109, "comment_id": 65852726, "body": "Thank you for the quick response @piRSquared! This looks great. The only thing that I&#39;d like to clarify is that I only want to look at the &quot;duplicate groups&quot;, i.e. the groups that have at least 2 exactly matched instances across all vars, then I want to see the percentage of the groups that have matched labels within the respective groups."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673851, "creation_date": 1472673851, "answer_id": 39258109, "question_id": 39257713, "link": "https://stackoverflow.com/questions/39257713/how-to-calculate-the-number-of-matched-groups-of-rows-in-pandas-dataframe/39258109#39258109", "title": "How to calculate the number of matched groups of rows in pandas dataframe?", "body": "<pre><code>gb = df.groupby(['var1', 'var2', 'var3', 'label'])\nsize = gb.size()\nsize\n\nvar1  var2  var3  label\n1     2     3     a        2\n4     5     6     b        2\n                  c        1\n7     8     9     d        1\n8     8     8     d        1\ndtype: int64\n</code></pre>\n\n<hr>\n\n<pre><code>lvls = list(range(size.index.nlevels))\nsize2 = size.groupby(level=lvls[:-1]).size()\nsize2\n\nvar1  var2  var3\n1     2     3       1\n4     5     6       2\n7     8     9       1\n8     8     8       1\ndtype: int64\n</code></pre>\n\n<hr>\n\n<pre><code>(size2 == 1).sum() / float(size2.shape[0])\n\n0.75\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 1, "last_activity_date": 1472675060, "creation_date": 1472675060, "answer_id": 39258406, "question_id": 39257713, "link": "https://stackoverflow.com/questions/39257713/how-to-calculate-the-number-of-matched-groups-of-rows-in-pandas-dataframe/39258406#39258406", "title": "How to calculate the number of matched groups of rows in pandas dataframe?", "body": "<p>Using a <code>groupby</code> approach:</p>\n\n<pre><code>def matched_group(grp):\n    if len(grp) == 1:\n        return np.nan    \n    return grp.nunique() == 1\n\nis_matched = df.groupby(['var1', 'var2', 'var3'])['label'].apply(matched_group).dropna()\nmatch_pcnt = is_matched.sum()/len(is_matched)\n</code></pre>\n\n<p>The <code>matched_group</code> function returns a Boolean indicating if all of the labels within a group of variables are unique, or <code>np.nan</code> if the group of variables has only one element, meaning the group is not duplicated.  Then, after dropping null values, just count the matches and divide by the total number of duplicate groups.</p>\n\n<p>The code above gives a value of <code>0.5</code> for <code>match_pcnt</code>.</p>\n"}], "owner": {"reputation": 2773, "user_id": 4896087, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jun3L.jpg?s=128&g=1", "display_name": "George Liu", "link": "https://stackoverflow.com/users/4896087/george-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 39258406, "answer_count": 2, "score": 1, "last_activity_date": 1472675060, "creation_date": 1472672321, "question_id": 39257713, "link": "https://stackoverflow.com/questions/39257713/how-to-calculate-the-number-of-matched-groups-of-rows-in-pandas-dataframe", "title": "How to calculate the number of matched groups of rows in pandas dataframe?", "body": "<p>Having been banging my head against the wall for 2 days now for this one. Got some ideas, tried to implement, but the speed was terribly slow, so wonder whether someone can point out a better way of doing this. Here's what I want:</p>\n\n<p>I have a dataframe like this:</p>\n\n<p><code>pd.DataFrame({'var1':[1, 1, 4, 4, 4, 7, 8], 'var2': [2, 2, 5, 5, 5, 8, 8], 'var3':[3, 3, 6, 6, 6, 9, 8], 'label':['a', 'a', 'b', 'b', 'c', 'd', 'd']})</code></p>\n\n<pre><code>    label     var1    var2    var3\n 0    a         1       2       3\n 1    a         1       2       3\n 2    b         4       5       6\n 3    b         4       5       6\n 4    c         4       5       6\n 5    d         7       8       9\n 6    d         8       8       8\n</code></pre>\n\n<p>So, what I want is to calculate the percentage of matched labels given duplicated vars. For example, row 0, row 1 are duplicates based on var1, var2, and var3, the same happens with row 2, row 3 and row 4, while row 5 and 6 are not duplicates due to the difference in values of var3. Out of the two duplicate groups, if we check the labels, we see that group 1 (rows 0, 1) labels also match ('a', 'a'), while group 2 (rows 2, 3, 4) are not matched ('b', 'b', 'c'). Therefore, the percentage is 1/2 = 50%.</p>\n\n<p>Currently, this is what I am doing:</p>\n\n<ol>\n<li>Sort the data frame using var1, var2, var3</li>\n<li>Loop thru the rows and record index of rows that are not duplicate of the next row</li>\n<li>Use previous index to slice dataframe to keep only rows that have duplicate(s). Each set of duplicated rows is a group. Count the total number of groups.</li>\n<li>In the new dataframe, check each group's label column, if all labels match in a group, count it as a matched group.</li>\n<li>Use number of matched groups to divide total number of groups.  </li>\n</ol>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "matplotlib", "histogram"], "comments": [{"owner": {"reputation": 1516, "user_id": 2768172, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c0aa1896ab14d2afa69d0e13d1bcad2b?s=128&d=identicon&r=PG&f=1", "display_name": "pathoren", "link": "https://stackoverflow.com/users/2768172/pathoren"}, "edited": false, "score": 0, "creation_date": 1472673757, "post_id": 39257712, "comment_id": 65852122, "body": "The name of this post is very confusing.  It refers to the &quot;title&quot; of the axis, but what you actually mean is the &quot;x-label&quot; (the text under the x-axis)."}], "answers": [{"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672658, "creation_date": 1472672658, "answer_id": 39257779, "question_id": 39257712, "link": "https://stackoverflow.com/questions/39257712/how-to-display-x-axis-label-for-each-matplotlib-subplot/39257779#39257779", "title": "How to display x axis label for each matplotlib subplot", "body": "<p>You can add a title above each plot using:</p>\n\n<pre><code>ax.set_title('your title')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672703, "creation_date": 1472672703, "answer_id": 39257797, "question_id": 39257712, "link": "https://stackoverflow.com/questions/39257712/how-to-display-x-axis-label-for-each-matplotlib-subplot/39257797#39257797", "title": "How to display x axis label for each matplotlib subplot", "body": "<p>That's easy, just use <a href=\"http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_title\" rel=\"nofollow\">matplotlib.axes.Axes.set_title</a>, here's a little example out of your code:</p>\n\n<pre><code>from matplotlib import pyplot as plt\nimport pandas as pd\n\ndf1 = pd.DataFrame({\n    \"Age\":[1,2,3,4]\n})\n\ndf2 = pd.DataFrame({\n    \"Age\":[10,20,30,40]\n})\n\ndf3 = pd.DataFrame({\n    \"Age\":[100,200,300,400]\n})\n\nfig = plt.figure(figsize=(16, 8))\nax1 = fig.add_subplot(1, 3, 1)\nax1.set_title(\"Title for df1\")\nax1.set_xlim([min(df1[\"Age\"]), max(df1[\"Age\"])])\nax1.set_xlabel(\"All Age Freq\")\nax1 = df1[\"Age\"].hist(color=\"cornflowerblue\")\n\nax2 = fig.add_subplot(1, 3, 2)\nax2.set_xlim([min(df2[\"Age\"]), max(df2[\"Age\"])])\nax2.set_title(\"Title for df2\")\nax2.set_xlabel = \"Survived by Age Freq\"\nax2 = df2[\"Age\"].hist(color=\"seagreen\")\n\nax3 = fig.add_subplot(1, 3, 3)\nax3.set_xlim([min(df3[\"Age\"]), max(df3[\"Age\"])])\nax3.set_title(\"Title for df3\")\nax3.set_xlabel = \"Not Survived by Age Freq\"\nax3 = df3[\"Age\"].hist(color=\"cadetblue\")\n\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 5, "last_activity_date": 1472672719, "creation_date": 1472672719, "answer_id": 39257803, "question_id": 39257712, "link": "https://stackoverflow.com/questions/39257712/how-to-display-x-axis-label-for-each-matplotlib-subplot/39257803#39257803", "title": "How to display x axis label for each matplotlib subplot", "body": "<p>You are using <code>ax.set_xlabel</code> wrong, which is a <strong>function</strong> (first call is correct, the others are not):</p>\n\n<pre><code>fig = plt.figure(figsize=(16,8))\nax1 = fig.add_subplot(1,3,1)\nax1.set_xlim([min(df1[\"Age\"]),max(df1[\"Age\"])])\nax1.set_xlabel(\"All Age Freq\")  # CORRECT USAGE\nax1 = df1[\"Age\"].hist(color=\"cornflowerblue\")\n\nax2 = fig.add_subplot(1,3,2)\nax2.set_xlim([min(df2[\"Age\"]),max(df2[\"Age\"])])\nax2.set_xlabel = \"Survived by Age Freq\"  # ERROR set_xlabel is a function\nax2 = df2[\"Age\"].hist(color=\"seagreen\")\n\nax3 = fig.add_subplot(1,3,3)\nax3.set_xlim([min(df3[\"Age\"]),max(df3[\"Age\"])])\nax3.set_xlabel = \"Not Survived by Age Freq\"  # ERROR set_xlabel is a function\nax3 = df3[\"Age\"].hist(color=\"cadetblue\")\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 2260, "user_id": 5240970, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/16a645b64ff208b3ba9269dcf90305fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kabard", "link": "https://stackoverflow.com/users/5240970/kabard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1602, "favorite_count": 0, "accepted_answer_id": 39257803, "answer_count": 3, "score": 1, "last_activity_date": 1472679413, "creation_date": 1472672313, "last_edit_date": 1472679413, "question_id": 39257712, "link": "https://stackoverflow.com/questions/39257712/how-to-display-x-axis-label-for-each-matplotlib-subplot", "title": "How to display x axis label for each matplotlib subplot", "body": "<p>I want to add an x axis label below each subplot. I use this code to create the charts:</p>\n\n<pre><code>fig = plt.figure(figsize=(16,8))\nax1 = fig.add_subplot(1,3,1)\nax1.set_xlim([min(df1[\"Age\"]),max(df1[\"Age\"])])\nax1.set_xlabel(\"All Age Freq\")\nax1 = df1[\"Age\"].hist(color=\"cornflowerblue\")\n\nax2 = fig.add_subplot(1,3,2)\nax2.set_xlim([min(df2[\"Age\"]),max(df2[\"Age\"])])\nax2.set_xlabel = \"Survived by Age Freq\"\nax2 = df2[\"Age\"].hist(color=\"seagreen\")\n\nax3 = fig.add_subplot(1,3,3)\nax3.set_xlim([min(df3[\"Age\"]),max(df3[\"Age\"])])\nax3.set_xlabel = \"Not Survived by Age Freq\"\nax3 = df3[\"Age\"].hist(color=\"cadetblue\")\n\nplt.show()\n</code></pre>\n\n<p>This is how it looks. Only the first one shows</p>\n\n<p><a href=\"https://i.stack.imgur.com/uEB0g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uEB0g.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I show a different x axis label under each <code>subplot</code>?</p>\n"}, {"tags": ["python", "numpy", "pillow"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1472672295, "post_id": 39257652, "comment_id": 65851386, "body": "what makes you think <code>&#39;pl_{}.tif&#39;.format(index)</code> would give different results if you call it several times?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1472672433, "post_id": 39257652, "comment_id": 65851441, "body": "@njzk2: the answer is: too many long hours seeing the same code without a coffee break."}, {"owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "edited": false, "score": 0, "creation_date": 1472672763, "post_id": 39257652, "comment_id": 65851583, "body": "You should be able to combine the <code>roll</code> calls into single lines, and use a for loop to write the files, which it looks like that&#39;s what you&#39;re trying to do there"}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1472673358, "post_id": 39257652, "comment_id": 65851888, "body": "unfortunately so @Jean-Fran&#231;oisFabre! but I&#39;m also still learning so I&#39;ll take all and any feedback!"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "edited": false, "score": 0, "creation_date": 1472672323, "post_id": 39257689, "comment_id": 65851398, "body": "ahh right so, I though by indexing the output I wouldn&#39;t have that issue. Thanks!"}, {"owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "edited": false, "score": 0, "creation_date": 1472673992, "post_id": 39257689, "comment_id": 65852242, "body": "You might also want to think about adding the filename reference, I used below into the output files that&#39;s in the penultimate line, so that your second loop doesn&#39;t overwrite the results of the first <code>im0.save(&#39;pl_{}_{}0.tif&#39;.format(fname, index))</code>"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1472672221, "creation_date": 1472672221, "answer_id": 39257689, "question_id": 39257652, "link": "https://stackoverflow.com/questions/39257652/python-rolling-an-array-multiple-times-and-saving-each-iteration-as-an-image/39257689#39257689", "title": "Python: rolling an array multiple times and saving each iteration as an image", "body": "<p>You save all 5 images in the same output file, which means that you get only one image, <code>im4</code></p>\n\n<pre><code>im0.save('pl_{}.tif'.format(index))\nim1 = Image.fromarray(imary1xy)\nim1.save('pl_{}.tif'.format(index))\nim2 = Image.fromarray(imary2xy)\nim2.save('pl_{}.tif'.format(index))\nim3 = Image.fromarray(imary3xy)\nim3.save('pl_{}.tif'.format(index))\nim4 = Image.fromarray(imary4xy)\nim4.save('pl_{}.tif'.format(index))\n</code></pre>\n\n<p>(note that index is not modified until next loop)</p>\n\n<p>quickfix:</p>\n\n<pre><code>im0.save('pl_{}0.tif'.format(index))\nim1 = Image.fromarray(imary1xy)\nim1.save('pl_{}1.tif'.format(index))\nim2 = Image.fromarray(imary2xy)\nim2.save('pl_{}2.tif'.format(index))\nim3 = Image.fromarray(imary3xy)\nim3.save('pl_{}3.tif'.format(index))\nim4 = Image.fromarray(imary4xy)\nim4.save('pl_{}4.tif'.format(index))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1472673741, "post_id": 39257994, "comment_id": 65852114, "body": "cannot test it, but would deserve an upvote if it works since it&#39;s improving the OP code a great deal."}, {"owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "edited": false, "score": 0, "creation_date": 1472673846, "post_id": 39257994, "comment_id": 65852166, "body": "I like how you nested to the roll, I&#39;ll try implement but not today as I&#39;m working to deadline and I&#39;m afraid to introduce any more errors that I already have, thanks!"}], "tags": [], "owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1472673414, "creation_date": 1472673414, "answer_id": 39257994, "question_id": 39257652, "link": "https://stackoverflow.com/questions/39257652/python-rolling-an-array-multiple-times-and-saving-each-iteration-as-an-image/39257994#39257994", "title": "Python: rolling an array multiple times and saving each iteration as an image", "body": "<p>Untested, but I think this should do what you're aiming for:</p>\n\n<p>Addition of a <code>number_of_shifts</code> variable, and then using that to iterate. Then the calls to np.roll are nested, which I think should work</p>\n\n<pre><code>list_frames = glob.glob('*.gif')\nfor index1, fname in enumerate(list_frames):\n    im = Image.open(fname)\n    shift=1\n    number_of_shifts = 4\n    image_list = []\n    imary0 = np.array(im) # initial image (first layer)\n    for _ in range(number_of_shifts):\n        if not image_list:\n            image_list.append(imary0)\n        else:\n            image_list.append(np.roll(np.roll(image_list[-1], shift, axis=0), shift, axis=1))\n    for index2, img in enumerate(image_list):\n        img.save(\"pl_{}_{}.tif\".format(fname, index2))\n    im.close()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6214566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ca63dfc06be37ef5ee296b77c382fab?s=128&d=identicon&r=PG", "display_name": "vanoccupanther", "link": "https://stackoverflow.com/users/6214566/vanoccupanther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 39257689, "answer_count": 2, "score": 0, "last_activity_date": 1472673414, "creation_date": 1472672050, "question_id": 39257652, "link": "https://stackoverflow.com/questions/39257652/python-rolling-an-array-multiple-times-and-saving-each-iteration-as-an-image", "title": "Python: rolling an array multiple times and saving each iteration as an image", "body": "<p>I have multiple images that I am taking in with a for loop. I want to obtain 5 pseudo-layers for each image by rolling the initial by one pixel in both x and y and saving the rolled image each time. </p>\n\n<p>I'm practicing with one image making sure I can get five layers out of it but no joy.</p>\n\n<p>My code is below but it is only saving the first image; output is pl_0.tif</p>\n\n<pre><code>list_frames = glob.glob('*.gif')\nfor index, fname in enumerate(list_frames):\n    im = Image.open(fname)\n    shift=1\n    imary0 = np.array(im) # initial image (first layer)\n    imary1x = np.roll(imary0, shift, axis=0) # shift image by one pixel to create second layer\n    imary1xy = np.roll(imary1x, shift, axis=1)\n    imary2x = np.roll(imary1xy, shift, axis=0) # shift previous image again to create third layer\n    imary2xy = np.roll(imary2x, shift, axis=1)\n    imary3x = np.roll(imary2xy, shift, axis=0) # shift previous image again to create fourth layer\n    imary3xy = np.roll(imary3x, shift, axis=1)\n    imary4x = np.roll(imary3xy, shift, axis=0) # shift previous image again to create fifth layer\n    imary4xy = np.roll(imary4x, shift, axis=1)\n    im0 = Image.fromarray(imary0)\n    im0.save('pl_{}.tif'.format(index))\n    im1 = Image.fromarray(imary1xy)\n    im1.save('pl_{}.tif'.format(index))\n    im2 = Image.fromarray(imary2xy)\n    im2.save('pl_{}.tif'.format(index))\n    im3 = Image.fromarray(imary3xy)\n    im3.save('pl_{}.tif'.format(index))\n    im4 = Image.fromarray(imary4xy)\n    im4.save('pl_{}.tif'.format(index))\n    im.close()\n</code></pre>\n\n<p>Any suggestions? (And please feel free to ridicule me if this is an easy fix)</p>\n"}, {"tags": ["python", "string", "python-3.x", "templates"], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 0, "last_activity_date": 1472672865, "creation_date": 1472672865, "answer_id": 39257841, "question_id": 39257631, "link": "https://stackoverflow.com/questions/39257631/from-string-library-template-function-doesnt-work-with-int-value/39257841#39257841", "title": "From string library, template function doesnt work with int value?", "body": "<p>You should pass the parameter as a named argument:</p>\n\n<pre><code>for year in range(1880, 2011):\n    template = Template('/name/year$year')\n    t = template.substitute(year=year)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1442, "user_id": 4435214, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2l7xX.jpg?s=128&g=1", "display_name": "Omkar", "link": "https://stackoverflow.com/users/4435214/omkar"}, "edited": false, "score": 0, "creation_date": 1472673814, "post_id": 39257853, "comment_id": 65852147, "body": "Thanks @A Mangoon. Glad for the error resolve. Unfortunately, the format()  sometimes causes readability issues, specially for a data science guy like me, who has dealt only with SAS and R in the past. Hence was trying to use template. Thanks for the reply, it helped me to get along with format() too!"}], "tags": [], "owner": {"reputation": 1010, "user_id": 3520543, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2hiGO.jpg?s=128&g=1", "display_name": "A Magoon", "link": "https://stackoverflow.com/users/3520543/a-magoon"}, "is_accepted": true, "score": 0, "last_activity_date": 1472672894, "creation_date": 1472672894, "answer_id": 39257853, "question_id": 39257631, "link": "https://stackoverflow.com/questions/39257631/from-string-library-template-function-doesnt-work-with-int-value/39257853#39257853", "title": "From string library, template function doesnt work with int value?", "body": "<p>Your issue is that you're not assigning the substitution when calling <code>template.substitute(year)</code>. You need to format this like:</p>\n\n<pre><code>template.substitute(year=year)\n</code></pre>\n\n<p>Also, <code>substitute()</code> returns a new string, so you should either reassign this template or assign it to a new variable.</p>\n\n<pre><code>for year in range(1880,2011):\n    template = Template(\"/name/year$year\")\n    template = template.substitute(year=year)\n\n    # Or\n\n    new_temp = template.substitute(year=year)\n</code></pre>\n\n<p><strong>Suggestion</strong></p>\n\n<p>Is there a reason why you're not using the <code>format()</code> method? You can get the same results by doing</p>\n\n<pre><code>for year in range(1880,2011):\n    template = \"/name/yob{}.txt\".format(year)\n</code></pre>\n"}], "owner": {"reputation": 1442, "user_id": 4435214, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2l7xX.jpg?s=128&g=1", "display_name": "Omkar", "link": "https://stackoverflow.com/users/4435214/omkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39257853, "answer_count": 2, "score": -2, "last_activity_date": 1472672894, "creation_date": 1472671943, "question_id": 39257631, "link": "https://stackoverflow.com/questions/39257631/from-string-library-template-function-doesnt-work-with-int-value", "title": "From string library, template function doesnt work with int value?", "body": "<p>I am trying to use Template from string. I have a directory with 100 csv files with data pertaining to each year.</p>\n\n<p>For ex.:</p>\n\n<pre><code>yob1881.txt\nyob1882.txt\nyob1883.txt\nyob1884.txt\nyob1885.txt\n</code></pre>\n\n<p>Now i want to use template so that i can loop over all files. So i am using a range function like:</p>\n\n<pre><code>for year in range(1880,2011):\n    template = Template(/name/year$year)\n    template.substitute(year)\n</code></pre>\n\n<p>This is returning an error:</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n&lt;ipython-input-4-85f21050945a&gt; in &lt;module&gt;()\n      2 filepath = tp('/pythonDataProjects/Loan Granting/names/yob$year.txt')\n      3 year = '1880'\n----&gt; 4 print(filepath.substitute(year))\n\n/Users/omkar/anaconda/lib/python3.5/string.py in substitute(*args, **kws)\n    127             raise ValueError('Unrecognized named group in pattern',\n    128                              self.pattern)\n--&gt; 129         return self.pattern.sub(convert, self.template)\n    130 \n    131     def safe_substitute(*args, **kws):\n\n/Users/omkar/anaconda/lib/python3.5/string.py in convert(mo)\n    117             named = mo.group('named') or mo.group('braced')\n    118             if named is not None:\n--&gt; 119                 val = mapping[named]\n    120                 # We use this idiom instead of str() because the latter will\n    121                 # fail if val is a Unicode containing non-ASCII characters.\n</code></pre>\n\n<p>TypeError: string indices must be integers</p>\n\n<p>I know what the error is. However, i am not getting how to resolve it.</p>\n\n<p>Any help? </p>\n"}, {"tags": ["python", "logging", "pyspark", "ansi-escape"], "answers": [{"tags": [], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "is_accepted": true, "score": 1, "last_activity_date": 1473199423, "last_edit_date": 1473199423, "creation_date": 1473199089, "answer_id": 39358454, "question_id": 39257608, "link": "https://stackoverflow.com/questions/39257608/pyspark-prevent-removal-of-terminal-ansi-escape-characters-in-logging-while-usi/39358454#39358454", "title": "Pyspark: Prevent removal of terminal ansi-escape characters in logging while using pyspark", "body": "<p>I spent some time digging into this, and I found that the terminal escape sequences are different when loading under pyspark.  The way I fixed it is by using pygments to run over the terminal output I created (see function:  <code>fix_for_spark</code>).</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport datetime\nimport json\nimport logging\nimport os\n\nimport colorama\nfrom pygments import highlight\nfrom pygments.lexers import JsonLexer\nfrom pygments.formatters import Terminal256Formatter\n\n# Required for colored output\ncolorama.init()\n\n\nclass CustomFormatter(logging.Formatter):\n\n    '''Modifies the level prefix of the log with the following level\n    information:\n\n    !!! - critical\n     !  - error\n     ?  - warn\n        - info\n     -  - debug\n    '''\n    default_prefix = '???'  # used with non-generic levels\n\n    PYGMENTS_LEXER = JsonLexer()\n    PYGMENTS_FORMATTER = Terminal256Formatter()\n\n    color_mapping = {\n        logging.CRITICAL: colorama.Fore.RED + colorama.Style.BRIGHT,\n        logging.ERROR: colorama.Fore.RED + colorama.Style.BRIGHT,\n        logging.WARNING: colorama.Fore.YELLOW + colorama.Style.BRIGHT,\n        logging.DEBUG: colorama.Style.DIM,\n    }\n\n    prefix_mapping = {\n\n        logging.CRITICAL: '!!!',\n        logging.ERROR: ' ! ',\n        logging.WARNING: ' ? ',\n        logging.INFO: '  \ufe0f ',\n        logging.DEBUG: ' \u00b7 ',\n    }\n\n    def fix_for_spark(self, string):\n        if os.environ.get('SPARK_ENV_LOADED'):\n            # Setup output\n            new_string = []\n            for s in string.split('\\n'):\n                s = highlight(string, self.PYGMENTS_LEXER, self.PYGMENTS_FORMATTER)\n                new_string.append(s.rstrip('\\n'))\n            string = '\\n'.join(new_string)\n        return string\n\n    def format(self, record):\n        # Capture relevant record data\n        data = dict(\n            level=self.prefix_mapping.get(record.levelno) or self.default_prefix,\n            msecs=datetime.datetime.fromtimestamp(record.created).strftime(\"%Y-%m-%d %H:%M:%S\"),\n\n            # Setup colors\n            color=self.color_mapping.get(record.levelno) or '',\n            dim=colorama.Style.DIM,\n            reset=colorama.Fore.RESET + colorama.Style.RESET_ALL,\n            name=record.name,\n            func=record.funcName,\n        )\n\n        # Format msg\n        prefix = '{color}{level}{reset} {dim}{msecs}{reset} {color}[{name}]{reset}'\n        prefix = prefix.format(**data)\n        prefix = self.fix_for_spark(prefix)\n        msg = record.msg\n        if not isinstance(msg, str):\n            try:\n                msg = json.dumps(msg, indent=4, sort_keys=True)\n            except:\n                msg = str(msg)\n        dmsg = []\n        for m in msg.split('\\n'):\n            m = highlight(m, self.PYGMENTS_LEXER, self.PYGMENTS_FORMATTER).rstrip('\\n')\n            m = self.fix_for_spark(m)\n            dmsg.append(m)\n        dmsg = '\\n'.join(dmsg)\n        data.update(locals().items())\n        template = prefix + ' {msg}'\n        record.msg = '\\n'.join(template.format(msg=m) for m in dmsg.split('\\n'))\n        # Dump\n        return super(CustomFormatter, self).format(record)\n</code></pre>\n"}], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 39358454, "answer_count": 1, "score": 0, "last_activity_date": 1473199423, "creation_date": 1472671827, "question_id": 39257608, "link": "https://stackoverflow.com/questions/39257608/pyspark-prevent-removal-of-terminal-ansi-escape-characters-in-logging-while-usi", "title": "Pyspark: Prevent removal of terminal ansi-escape characters in logging while using pyspark", "body": "<p>I have put together a custom formatter for a logger and I am using pyspark, but it looks like all of my color is removed on the command-line.  I can confirm that the escape sequences are present within the record of each emitted value, but it appears that they're stripped when sent to the terminal.  </p>\n\n<p>Why?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import datetime\nimport logging\n\nimport colorama\nfrom pygments import highlight\nfrom pygments.lexers import JsonLexer\nfrom pygments.formatters import Terminal256Formatter\n\n# Required for colored output\ncolorama.init()\n\n\nclass CustomFormatter(logging.Formatter):\n    '''Modifies the level prefix of the log with the following level\n    information:\n\n    !!! - critical\n     !  - error\n     ?  - warn\n        - info\n     -  - debug\n    '''\n    default_prefix = '???'  # used with non-generic levels\n\n    color_mapping = {\n        logging.CRITICAL: colorama.Fore.RED + colorama.Style.BRIGHT,\n        logging.ERROR: colorama.Fore.RED + colorama.Style.BRIGHT,\n        logging.WARNING: colorama.Fore.YELLOW + colorama.Style.BRIGHT,\n        logging.DEBUG: colorama.Style.DIM,\n    }\n\n    prefix_mapping = {\n        logging.CRITICAL: '!!!',\n        logging.ERROR: ' ! ',\n        logging.WARNING: ' ? ',\n        logging.INFO: '   ',\n        logging.DEBUG: ' \u00b7 ',\n    }\n\n    def format(self, record):\n        # Capture relevant record data\n        level = self.prefix_mapping.get(record.levelno) or self.default_prefix\n        msecs = datetime.datetime.fromtimestamp(record.created).strftime(\"%Y-%m-%d %H:%M:%S\")\n        msg = record.msg.rstrip('\\n')\n\n        # Setup colors\n        color = self.color_mapping.get(record.levelno) or ''\n        dim = colorama.Style.DIM\n        reset = colorama.Fore.RESET + colorama.Style.RESET_ALL\n        name = record.name\n        func = record.funcName\n\n        # Setup output\n        lexer = JsonLexer()\n        formatter = Terminal256Formatter()\n        try:\n            msg = '\\n'.join(\n                highlight(m, lexer, formatter).rstrip('\\n')\n                for m in msg.split('\\n')\n            )\n        except:\n            pass\n        data = {k: v for k, v in locals().items()}\n        d = '{color}{level}{reset} {dim}{msecs} [{name}]{reset} {msg}'.format(**data)\n        record.msg = d\n\n        # Dump\n        return super(CustomFormatter, self).format(record)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import logging\nfrom  CustomFormatter import CustomFormatter\n\ndef get_logger(name, level=None):\n    level = logging.DEBUG if not isinstance(level, int) else level\n    handler = logging.StreamHandler(sys.stdout)\n    handler.level = level or logging.INFO\n    formatter = CustomFormatter()\n    handler.setFormatter(formatter)\n    logger = logging.getLogger(name)\n    logger.addHandler(handler)\n    return logger\n\nlogger = get_logger('tester')\nlogger.error('Error here')\n</code></pre>\n"}, {"tags": ["python", "json", "api", "jira", "jira-rest-api"], "comments": [{"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 2, "creation_date": 1472671849, "post_id": 39257576, "comment_id": 65851161, "body": "<code>response[issues][0][fields]</code>"}, {"owner": {"reputation": 365, "user_id": 3319183, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Sb1ax.jpg?s=128&g=1", "display_name": "tyrell_c", "link": "https://stackoverflow.com/users/3319183/tyrell-c"}, "reply_to_user": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1472671958, "post_id": 39257576, "comment_id": 65851216, "body": "@Gerrat I was so close!! thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "is_accepted": true, "score": 1, "last_activity_date": 1472671981, "creation_date": 1472671981, "answer_id": 39257639, "question_id": 39257576, "link": "https://stackoverflow.com/questions/39257576/how-to-iterate-through-this-nested-json-array-with-python/39257639#39257639", "title": "How to iterate through this nested json array with python", "body": "<p>if you look at your json it's an array to a hash or list to dict. To get  fields you'd just call the first array element and the key.</p>\n\n<p><code>response[issues][0][fields]</code></p>\n"}], "owner": {"reputation": 365, "user_id": 3319183, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Sb1ax.jpg?s=128&g=1", "display_name": "tyrell_c", "link": "https://stackoverflow.com/users/3319183/tyrell-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 39257639, "answer_count": 1, "score": 0, "last_activity_date": 1472671981, "creation_date": 1472671716, "question_id": 39257576, "link": "https://stackoverflow.com/questions/39257576/how-to-iterate-through-this-nested-json-array-with-python", "title": "How to iterate through this nested json array with python", "body": "<p>So I made an API call to JIRA to get the list of all the issues. It returns something like this: </p>\n\n<pre><code>{\n issues: [\n  {\n    fields: {\n         description: \n         summary: \n         creator:\n         reporter:\n         priority:\n       }\n     }\n   ]\n</code></pre>\n\n<p>and I'm trying to get to what's inside <code>fields</code>. \nHere's what I have: </p>\n\n<p><code>response =  requests.get(url + '/search?jql=resolution%20=%20Unresolved%20order%20by%20priority%20DESC,updated%20DESC', auth=auth).json()</code></p>\n\n<p>and then : </p>\n\n<p><code>response['issues']</code> works. But I can't find a way to access <code>fields</code> and then the elements inside it. I thought about iterating through but not sure if there's a simpler solution. </p>\n\n<p>My understanding is that response[issues] is a list and I know how to access each element of it <code>response[issues][0]</code> but how to access the object nested inside the list? (still researching on it -- might find an answer) </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1472673548, "creation_date": 1472673548, "answer_id": 39258041, "question_id": 39257575, "link": "https://stackoverflow.com/questions/39257575/add-a-clip-analysis-to-a-buffer-analysis/39258041#39258041", "title": "Add a clip_analysis to a buffer_analysis", "body": "<p>In the line:</p>\n\n<pre><code>arcpy.Clip_analysis(openSpace,[i]+'.shp', [i]+'_OpenSpace.shp')\n</code></pre>\n\n<p>you're trying to append together the list <code>[i]</code> to the string <code>.shp</code></p>\n\n<p>...did you mean to write:</p>\n\n<pre><code>arcpy.Clip_analysis(openSpace,sites[i]+'.shp', [i]+'_OpenSpace.shp')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6775635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f897d234445a6406cd8408324c802149?s=128&d=identicon&r=PG&f=1", "display_name": "ryan", "link": "https://stackoverflow.com/users/6775635/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472673548, "creation_date": 1472671716, "last_edit_date": 1472672646, "question_id": 39257575, "link": "https://stackoverflow.com/questions/39257575/add-a-clip-analysis-to-a-buffer-analysis", "title": "Add a clip_analysis to a buffer_analysis", "body": "<p>I'm trying to add a clip_analysis to the buffer_analysis I just completed. </p>\n\n<p>The script that I'm using is:</p>\n\n<pre><code>for i in range(len(cities)):\narcpy.Buffer_analysis(sites[i]+'.shp', sites[i]+'_Buffer3000.shp','3000')\nprint 'site buffered to',i,'buffer 3000'\narcpy.Clip_analysis(openSpace,[i]+'.shp', [i]+'_OpenSpace.shp')\nprint 'open space clipped to',i,'city limits'\n</code></pre>\n\n<p>When I leave the script like this, I keep getting the following error:</p>\n\n<pre><code>TypeError: can only concatenate list (not \"str\") to list\n</code></pre>\n\n<p>or a error that says unsupported operand type(s) for +: 'int' and 'str'</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1472671650, "post_id": 39257547, "comment_id": 65851061, "body": "That&#39;s not how you access dictionary keys. Also, you&#39;re iterating over <code>json_data</code> but then not using the iterated object."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1472671720, "post_id": 39257547, "comment_id": 65851088, "body": "you need to use dictionary notation: <code>json_data[&#39;cpe_mac&#39;]</code> but what are you expecting <code>x</code> to be doing?"}, {"owner": {"reputation": 43464, "user_id": 4480164, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Ds8pV.png?s=128&g=1", "display_name": "cyb3rZ", "link": "https://stackoverflow.com/users/4480164/cyb3rz"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1472671757, "post_id": 39257547, "comment_id": 65851108, "body": "@TadhgMcDonald-Jensen : Did that, I got <code>KeyError: &#39;cpe_mac&#39;</code>"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1472671840, "post_id": 39257547, "comment_id": 65851154, "body": "Please don&#39;t post screenshots of text."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1472671936, "post_id": 39257547, "comment_id": 65851204, "body": "Based on the number of Python questions you&#39;ve asked in the last hour. I think you really need to sit down and refresh yourself on the basics of how Python works."}, {"owner": {"reputation": 7073, "user_id": 1708751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03d21276ae07910a1ab8f22f7bf282?s=128&d=identicon&r=PG", "display_name": "Sunny Patel", "link": "https://stackoverflow.com/users/1708751/sunny-patel"}, "edited": false, "score": 0, "creation_date": 1472676771, "post_id": 39257547, "comment_id": 65853611, "body": "Can you add the JSON Text structure as text? After you deleted the image, it was difficult for me to understand how @IronFist knew what the data structure looked like... until I saw the history of your question."}], "answers": [{"comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1472672390, "post_id": 39257610, "comment_id": 65851422, "body": "@IronFist Nested in a list (at key <code>data</code>) in the parent dictionary <code>json_data</code>"}, {"owner": {"reputation": 43464, "user_id": 4480164, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Ds8pV.png?s=128&g=1", "display_name": "cyb3rZ", "link": "https://stackoverflow.com/users/4480164/cyb3rz"}, "edited": false, "score": 0, "creation_date": 1472672844, "post_id": 39257610, "comment_id": 65851628, "body": "@MosesKoledoye : How do I do it, if I want to print only the first 5 cpe_mac ?"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "reply_to_user": {"reputation": 43464, "user_id": 4480164, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Ds8pV.png?s=128&g=1", "display_name": "cyb3rZ", "link": "https://stackoverflow.com/users/4480164/cyb3rz"}, "edited": false, "score": 0, "creation_date": 1472673057, "post_id": 39257610, "comment_id": 65851736, "body": "@ihue That&#39;s a completely different question. You really need to take the time to try things before turning to SO."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1472672324, "last_edit_date": 1472672324, "creation_date": 1472671836, "answer_id": 39257610, "question_id": 39257547, "link": "https://stackoverflow.com/questions/39257547/access-json-key-in-python/39257610#39257610", "title": "Access JSON Key in Python", "body": "<p>That's not how to access a dictionary item. The dictionaries of interest are contained in a list (accessible via key <code>data</code>) inside the parent dictionary <code>json_data</code>. </p>\n\n<p>You should do:</p>\n\n<pre><code>for x in json_data['data']:\n    print x['cpe_mac'] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "reply_to_user": {"reputation": 43464, "user_id": 4480164, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Ds8pV.png?s=128&g=1", "display_name": "cyb3rZ", "link": "https://stackoverflow.com/users/4480164/cyb3rz"}, "edited": false, "score": 1, "creation_date": 1472672227, "post_id": 39257636, "comment_id": 65851352, "body": "@ihue .. it&#39;s Python 101 lectures :)...Dictionary basics, you need to look on your data format so you can get the right value you are looking for."}], "tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": true, "score": 3, "last_activity_date": 1472671971, "creation_date": 1472671971, "answer_id": 39257636, "question_id": 39257547, "link": "https://stackoverflow.com/questions/39257547/access-json-key-in-python/39257636#39257636", "title": "Access JSON Key in Python", "body": "<p>You have a nested dictionary, it should be:</p>\n\n<pre><code>for x in json_data['data']:\n    print x['cpe_mac']\n</code></pre>\n"}], "owner": {"reputation": 43464, "user_id": 4480164, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Ds8pV.png?s=128&g=1", "display_name": "cyb3rZ", "link": "https://stackoverflow.com/users/4480164/cyb3rz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 39257636, "answer_count": 2, "score": -2, "last_activity_date": 1472691013, "creation_date": 1472671599, "last_edit_date": 1592644375, "question_id": 39257547, "link": "https://stackoverflow.com/questions/39257547/access-json-key-in-python", "title": "Access JSON Key in Python", "body": "<p>I'm trying to print out all the <code>cpe_mac</code> fields of my JSON data.</p>\n<h1>I have</h1>\n<pre><code># Last updated : BH | 8/31/2016\n\nimport requests\nimport json\n\nssc_ip = raw_input(&quot;What is your SSC Host (Ex. http://172.19.242.32:1234/ ) ? : &quot;)\nif not ssc_ip:\n    ssc_ip = 'http://172.19.242.32:1234/'\n\ncpe_num = raw_input(&quot;How many CPE(s) you want to delete ? : &quot;)\nprint '\\n'\n\nurl = ssc_ip+'vse/vcpes'\njson_data = requests.get(url).json()\n# print json_data\n\nfor x in json_data:\n    print json_data.cpe_mac\n</code></pre>\n<hr />\n<p>I kept getting</p>\n<p><code>AttributeError: 'dict' object has no attribute 'cpe_mac'</code></p>\n<hr />\n<h1>Trying</h1>\n<p><code>print json_data['cpe_mac']</code></p>\n<p>I got</p>\n<p><code>KeyError: 'cpe_mac'</code></p>\n"}, {"tags": ["python", "unit-testing", "selenium", "phantomjs"], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 2948547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee18c227524171c35c38c685c5d7b83?s=128&d=identicon&r=PG&f=1", "display_name": "user2948547", "link": "https://stackoverflow.com/users/2948547/user2948547"}, "is_accepted": false, "score": 1, "last_activity_date": 1473605953, "last_edit_date": 1495540862, "creation_date": 1473605953, "answer_id": 39437390, "question_id": 39257481, "link": "https://stackoverflow.com/questions/39257481/import-selenium-ide-script-as-unittest-testcase-and-modify-dynamically/39437390#39437390", "title": "Import Selenium IDE script as unittest.TestCase and Modify Dynamically", "body": "<p>Hi my friend i have been searchin something like this for few days. I found this question in stackoverflow</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11380413/python-unittest-passing-arguments\">Python unittest passing arguments</a></p>\n\n<p>so you code should be like this:</p>\n\n<pre><code>import sys\nimport unittest\n\nclass Search(unittest.TestCase):\n    URL = \"\"\n    def setUp(self):\n        self.driver = webdriver.Firefox()\n        self.base_url = 'http://www.example.com'\n\n    def test_search(self):\n        driver = self.driver\n        driver.get(self.base_url)\n        elem = self.driver.find_element_by_name('q')\n        elem.send_keys('nagios')\n        elem.send_keys(Keys.RETURN)\n        assert 'No results found.' not in self.driver.page_source\n        driver.get(self.base_url + '/status')\n        assert 'OK' in self.driver.page_source\n\n    def tearDown(self):\n        self.driver.quit()\nif __name__ == \"__main__\":\n    Search.URL=sys.argv.pop()\n    unittest.main()\n</code></pre>\n\n<p>I hope this is what you was looking for.</p>\n\n<p>to execute you should do:</p>\n\n<pre><code>python mySearchTest.py \"http://example.com\"\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6780155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778194945948fff1211feb6fc00d1bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Sands", "link": "https://stackoverflow.com/users/6780155/craig-sands"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1473605953, "creation_date": 1472671319, "question_id": 39257481, "link": "https://stackoverflow.com/questions/39257481/import-selenium-ide-script-as-unittest-testcase-and-modify-dynamically", "title": "Import Selenium IDE script as unittest.TestCase and Modify Dynamically", "body": "<p>I am writing a program in python that will generate more robust data and reports from Selenium tests. I want to be able to export a test case from Selenium IDE from Firefox, and without modifying that specific exported python file, inject it into my script and allow my script to make modifications such as changing the webdriver (part of the implementation is for a Nagios server, which will use PhantomJS as the driver) and pulling request information and screenshots for reporting (Btw, I know I can change the driver in the IDE template, but it's just an example).</p>\n\n<p>Lets say I have a file exported from the IDE <i>path/to/mytests/search.py</i>:</p>\n\n<pre><code>import...\n\nclass Search(unittest.TestCase):\n    def setUp(self):\n        self.driver = webdriver.Firefox()\n        self.base_url = 'http://www.example.com'\n\n    def test_search(self):\n        driver = self.driver\n        driver.get(self.base_url)\n        elem = self.driver.find_element_by_name('q')\n        elem.send_keys('nagios')\n        elem.send_keys(Keys.RETURN)\n        assert 'No results found.' not in self.driver.page_source\n        driver.get(self.base_url + '/status')\n        assert 'OK' in self.driver.page_source\n\n    def tearDown(self):\n        self.driver.quit()\n</code></pre>\n\n<p>I want my script to be able to do this:</p>\n\n<pre><code>python -m my_wrapper mytests.search --url 'http://www.google.com'\n</code></pre>\n\n<p>Which will somehow import <i>search.py</i>, create a new testcase from it, and allow me to override the setUp/tearDown methods (changing the driver to PhantomJS, modifying the base URL from the sys.argv), and allow for catching errors and writing information related to where a failed test might have stopped (since there are two different URL calls, a screenshot of that page will be exported for wherever the driver is currently at).</p>\n\n<p>I'm thinking something like <i>my_wrapper.__main__</i>:</p>\n\n<pre><code># get 'mytests.search' from argparse\ndirname, module = os.path.split('mytests.search'.replace('.', '/'))\nsuite = unittest.TestLoader().discover(dirname, pattern='%s.py' % module)\n\n# Modify testcases here &lt;-- THIS IS THE HARD PART\n#\n# Is there a way to inject the tests into another testCase class?\n#\n# class BaseClass(unittest.TestCase):\n#    def setUp(self):\n#        self.driver = webdriver.PhantomJS()\n#        ...\n#\n#    def runTest(self): pass\n#\n#    def tearDown(self): ...\n#\n# then...\nnew_suite = unittest.TestSuite()\nfor sub_suite in master_suite:  #&lt;-- iterating over the above suite here\n    for tests in sub_suite._tests:  #&lt;-- why do you have to do this twice?\n        for test_name in tests._tests:\n            # This doesn't work but show's my thought process\n            mytest = BaseClass(methodName=test_name)\n            setattr(mytest, test_func, getattr(tests, test_name))\n            new_suite.addTest(mytest)\n\ntry:\n    result = unittest.TextTestRunner(verbosity=2).run(new_suite)\nexcept (SOME_SELENIUM_ERROR):\n    # get the screenshot, save to file &lt;-- don't know how to do this either\n</code></pre>\n\n<p>Anyway, any help into this would be appreciated. I would really like to keep this code as simple as possible using as much of what's available as I can.</p>\n\n<p>Note: Other than selenium and PhantomJS, I'm also wary of using other dependencies like non-standard libraries, etc, for a number of policy reasons.\n    ...</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1472671708, "creation_date": 1472671708, "answer_id": 39257573, "question_id": 39257459, "link": "https://stackoverflow.com/questions/39257459/combining-pandas-dataframe-with-indexed-value-as-column-name/39257573#39257573", "title": "Combining Pandas Dataframe with indexed value as column name", "body": "<pre><code>xdf = extras_table.set_index(['main_id', 'col_label']) \\\n    .unstack().value.reset_index('main_id')\n\nmain_table.merge(xdf, left_on='id', right_on='main_id').drop('main_id', axis=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uPy0S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPy0S.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4504, "user_id": 376491, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d93a638d2300ba0246c126194dcdc92d?s=128&d=identicon&r=PG", "display_name": "MarkD", "link": "https://stackoverflow.com/users/376491/markd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 39257573, "answer_count": 1, "score": 1, "last_activity_date": 1472671708, "creation_date": 1472671227, "question_id": 39257459, "link": "https://stackoverflow.com/questions/39257459/combining-pandas-dataframe-with-indexed-value-as-column-name", "title": "Combining Pandas Dataframe with indexed value as column name", "body": "<p>Given the following two pandas DataFrames:</p>\n\n<pre><code>main_table = pd.DataFrame([[1, 'A'],\n                           [2, 'B'],\n                           [3,'C']],\n                           columns=['id', 'label'])\n\nextras_table = pd.DataFrame([[1, 'e1', 'e1_Val'], \n                             [1, 'e2', 'e2_Val'],\n                             [2, 'e2', 'e2_Val2'],\n                             [3, 'e1', 'e1_val3']], \n                             columns=['main_id', 'col_label', 'value'])\n</code></pre>\n\n<p>I want to use the 'main_id' column of extras_table, and 'col_label' to create additional columns on main_table.  i.e.:</p>\n\n<pre><code>result:\n   id label       e1        e2\n0   1     A   e1_Val    e2_Val\n1   2     B     None   e2_Val2\n2   3     C  e1_val3      None\n</code></pre>\n\n<p>Note that some of the rows may not have all of the new columns.  Is this possible in Pandas, without iterating over extras table, and adding the new columns/values?</p>\n"}, {"tags": ["python", "loops", "numpy", "random", "counter"], "comments": [{"owner": {"reputation": 4041, "user_id": 6464893, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea27dceecb0bd4d178259bf19ad5ef7e?s=128&d=identicon&r=PG&f=1", "display_name": "Harrison", "link": "https://stackoverflow.com/users/6464893/harrison"}, "edited": false, "score": 1, "creation_date": 1472671275, "post_id": 39257458, "comment_id": 65850851, "body": "Can you format the code?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1472671439, "post_id": 39257458, "comment_id": 65850934, "body": "That&#39;s because of <a href=\"http://stackoverflow.com/questions/2958684/python-division\">integer division</a>. When you use a float, it works properly but that&#39;s not an appropriate input for randn. So either use Python 3&#39;s division (check the linked answer for importing that) or change the last line to <code>counter&#47;float(N)</code>."}, {"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671493, "post_id": 39257458, "comment_id": 65850967, "body": "just a friendly suggestion, you could replace line n&#176;7 with <code>counter +=  1</code>"}, {"owner": {"reputation": 1360, "user_id": 6051861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d13c8be005a752eb647a920aab42729?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian", "link": "https://stackoverflow.com/users/6051861/vivian"}, "edited": false, "score": 0, "creation_date": 1472671505, "post_id": 39257458, "comment_id": 65850973, "body": "You&#39;re not returning anything.Your indenting is strange (everything after the first line is indented one time too many), which may be causing a problem."}, {"owner": {"reputation": 7280, "user_id": 1475331, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9df3aad1564b696a0f0df49db5251236?s=128&d=identicon&r=PG", "display_name": "turdus-merula", "link": "https://stackoverflow.com/users/1475331/turdus-merula"}, "edited": false, "score": 0, "creation_date": 1472671792, "post_id": 39257458, "comment_id": 65851133, "body": "About <i>VisibleDeprecationWarning</i> - it shows up because the function <i>numpy.random.randn</i> does not like to receive a float parameter."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6158699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-fOoza8Q0Qy4/AAAAAAAAAAI/AAAAAAAAABU/ahYy9M3_bbQ/photo.jpg?sz=128", "display_name": "\u0424\u0430\u043d\u043a\u0438 \u0414\u0436\u0430\u0437", "link": "https://stackoverflow.com/users/6158699/%d0%a4%d0%b0%d0%bd%d0%ba%d0%b8-%d0%94%d0%b6%d0%b0%d0%b7"}, "edited": false, "score": 1, "creation_date": 1472671622, "post_id": 39257536, "comment_id": 65851045, "body": "Thank you, user :)"}], "tags": [], "owner": {"reputation": 2588, "user_id": 2162377, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/F8rp3.png?s=128&g=1", "display_name": "Jakube", "link": "https://stackoverflow.com/users/2162377/jakube"}, "is_accepted": true, "score": 2, "last_activity_date": 1472671762, "last_edit_date": 1472671762, "creation_date": 1472671570, "answer_id": 39257536, "question_id": 39257458, "link": "https://stackoverflow.com/questions/39257458/strange-python-output-for-counter-loop/39257536#39257536", "title": "Strange Python output for counter loop", "body": "<p>You are performing an integer division. Integer division means, that it will round down the result of the division, like</p>\n\n<pre><code>&gt;&gt;&gt; print(99 / 100)\n0\n</code></pre>\n\n<p>You can perform a \"normal\" division, by converting one (or both) of the operands to a float. </p>\n\n<pre><code>float(counter) / float(N)\n</code></pre>\n\n<p>The other effect that you see (the VisibleDeprecationWarning) results from <code>N</code> being an <code>float</code> in this case. The function <code>randn</code> takes an integer as parameter, not a float. See <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.randn.html\" rel=\"nofollow\">numpy.random.randn</a>. An older version of numpy allowed using a float, but now it is deprecated. This means, that it will still work, but isn't good practice anymore. </p>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 1, "last_activity_date": 1472671644, "creation_date": 1472671644, "answer_id": 39257556, "question_id": 39257458, "link": "https://stackoverflow.com/questions/39257458/strange-python-output-for-counter-loop/39257556#39257556", "title": "Strange Python output for counter loop", "body": "<p>First of all, I'd recommend you indent your code properly so users can run it directly to diagnose your bug. Anyway, given your snippet properly formatted:</p>\n\n<pre><code>import numpy as np\nfrom numpy.random import randn\n\nN = 100000\ncounter = 0\nfor i in randn(N):\n    if i &lt; 1 and i &gt; -1:\n        counter = counter + 1\n\nprint(counter, N, counter / N)\n</code></pre>\n\n<p>Problem happens when you do <code>counter/N</code> using <strong>python 2.x</strong>, if that's the case you need to cast to float explicitely <code>float(counter)/float(N)</code>. If you just used <strong>python 3.x</strong>, that float cast would be done automatically, so you wouldn't need to do it explicitely</p>\n"}], "owner": {"reputation": 59, "user_id": 6158699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-fOoza8Q0Qy4/AAAAAAAAAAI/AAAAAAAAABU/ahYy9M3_bbQ/photo.jpg?sz=128", "display_name": "\u0424\u0430\u043d\u043a\u0438 \u0414\u0436\u0430\u0437", "link": "https://stackoverflow.com/users/6158699/%d0%a4%d0%b0%d0%bd%d0%ba%d0%b8-%d0%94%d0%b6%d0%b0%d0%b7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1472671726, "accepted_answer_id": 39257536, "answer_count": 2, "score": 0, "last_activity_date": 1472671762, "creation_date": 1472671225, "last_edit_date": 1472671659, "question_id": 39257458, "link": "https://stackoverflow.com/questions/39257458/strange-python-output-for-counter-loop", "closed_reason": "Duplicate", "title": "Strange Python output for counter loop", "body": "<pre><code>import numpy as np\n    from numpy.random import randn\n    N = 100000\n    counter = 0\n    for i in randn(N):\n        if i &lt; 1 and i &gt; -1:\n            counter = counter + 1\n    counter/N\n</code></pre>\n\n<p>The code resulted in an output of ZERO everytime.</p>\n\n<p>I changed the 100000 to 100000.0 and it gave me the 68% but informed me  the following:</p>\n\n<blockquote>\n  <p>anaconda/lib/python2.7/site-packages/ipykernel/<strong>main</strong>.py:5:\n  VisibleDeprecationWarning: using a non-integer number instead of an\n  integer will result in an error in the future\"</p>\n</blockquote>\n\n<p>Can you help me figure out what is happening?</p>\n"}, {"tags": ["python", "odbc", "pypyodbc"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 1, "creation_date": 1472673092, "post_id": 39257455, "comment_id": 65851756, "body": "Possibly helpful: <a href=\"http://stackoverflow.com/questions/22796917/what-does-global-variables-are-bad-mean\" title=\"what does global variables are bad mean\">stackoverflow.com/questions/22796917/&hellip;</a>"}, {"owner": {"reputation": 303, "user_id": 6320717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ba1da4f14852adeeeb765ed3d9c39b?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Setteducati Jr.", "link": "https://stackoverflow.com/users/6320717/steven-setteducati-jr"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1472673701, "post_id": 39257455, "comment_id": 65852088, "body": "Thank you @FamousJameous, I will need to keep this in mind to avoid mutating the data set and having a separate list of things I would be appending."}], "owner": {"reputation": 303, "user_id": 6320717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ba1da4f14852adeeeb765ed3d9c39b?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Setteducati Jr.", "link": "https://stackoverflow.com/users/6320717/steven-setteducati-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1472671217, "creation_date": 1472671217, "question_id": 39257455, "link": "https://stackoverflow.com/questions/39257455/python-odbc-connection-as-a-global-variable", "title": "Python ODBC Connection as a global variable", "body": "<p>So I am using pypyodbc to connect to a SQL Server Database. For my code to work properly I believe the easiest and most efficient practice would be to open the connection and retrieve the data as a global variable. However, I vaguely remember reading somewhere that this is a bad practice and should be avoided. So my question is this, is this a bad practice and why? If so how bad? It could be avoided but it would be preferred to be a global variable. Thanks!</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671305, "post_id": 39257379, "comment_id": 65850871, "body": "You seem to be missing a <code>__init__.py</code> inside your <code>&#47;commands</code> directory. Also, I&#39;m not a 100% sure, but I believe you should import said command as well in your <code>manage.py</code>"}, {"owner": {"reputation": 383, "user_id": 1410746, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be1560c08f62f057b048900f694f79c2?s=128&d=identicon&r=PG", "display_name": "rednaxela", "link": "https://stackoverflow.com/users/1410746/rednaxela"}, "reply_to_user": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671506, "post_id": 39257379, "comment_id": 65850974, "body": "I think in the documentation it says I only need <code>__init__.py</code> in <code>&#47;commands</code> directory if i&#39;m using <code>python2</code> <a href=\"https://docs.djangoproject.com/en/1.7/howto/custom-management-commands/#howto-custom-management-commands\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.7/howto/custom-management-comman&zwnj;&#8203;ds/&hellip;</a>"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1472671523, "post_id": 39257379, "comment_id": 65850987, "body": "<code>NotImplementedError</code> means you haven&#39;t implemented the full API for a subclass and the parent class can&#39;t do it for you. It&#39;s being raised by the <code>handle</code> method. You don&#39;t implement that. Seems like you should."}, {"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671562, "post_id": 39257379, "comment_id": 65851008, "body": "@rednaxela, a quote <a href=\"https://docs.djangoproject.com/en/1.10/howto/custom-management-commands/\" rel=\"nofollow noreferrer\">from the docs</a> :  &quot;On Python 2, be sure to include <b>init</b>.py files in both the management and management/commands directories as done above or your command will not be detected.&quot;"}, {"owner": {"reputation": 383, "user_id": 1410746, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be1560c08f62f057b048900f694f79c2?s=128&d=identicon&r=PG", "display_name": "rednaxela", "link": "https://stackoverflow.com/users/1410746/rednaxela"}, "reply_to_user": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671761, "post_id": 39257379, "comment_id": 65851110, "body": "@Av4t4r I&#39;m using python3"}, {"owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "edited": false, "score": 0, "creation_date": 1472671900, "post_id": 39257379, "comment_id": 65851191, "body": "My bad, I misread your comment (which was confusing me given your stacktrace)!"}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 1410746, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be1560c08f62f057b048900f694f79c2?s=128&d=identicon&r=PG", "display_name": "rednaxela", "link": "https://stackoverflow.com/users/1410746/rednaxela"}, "edited": false, "score": 0, "creation_date": 1472672277, "post_id": 39257651, "comment_id": 65851379, "body": "Ahh, I didn&#39;t realise it actually had to be named <code>handle()</code>. thanks"}], "tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": true, "score": 1, "last_activity_date": 1472672032, "creation_date": 1472672032, "answer_id": 39257651, "question_id": 39257379, "link": "https://stackoverflow.com/questions/39257379/django-custom-command-not-implemented-error/39257651#39257651", "title": "Django custom command - Not Implemented Error", "body": "<p>Check <code>__init__.py</code> inside <code>commands</code> folder. Then you have to use <code>handle</code> method</p>\n\n<pre><code>class Command(BaseCommand):\n    args = ''\n    help = 'Help Test'\n    def handle(self, *args, **options):\n        hi = 'test\n</code></pre>\n\n<p>For more info <a href=\"https://docs.djangoproject.com/en/dev/howto/custom-management-commands/#django.core.management.BaseCommand.handle\" rel=\"nofollow\">https://docs.djangoproject.com/en/dev/howto/custom-management-commands/#django.core.management.BaseCommand.handle</a></p>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 3504681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f005ac82beff2db9514fda0eeef6f65?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kravetz Malabud", "link": "https://stackoverflow.com/users/3504681/daniel-kravetz-malabud"}, "is_accepted": false, "score": 1, "last_activity_date": 1472672331, "creation_date": 1472672331, "answer_id": 39257714, "question_id": 39257379, "link": "https://stackoverflow.com/questions/39257379/django-custom-command-not-implemented-error/39257714#39257714", "title": "Django custom command - Not Implemented Error", "body": "<p>Classes inheriting from <code>BaseCommand</code> must implement the method <code>handle</code>. </p>\n\n<p>In your case, you should change </p>\n\n<p><code>def update_auto(self, *args, **options):</code></p>\n\n<p>to </p>\n\n<p><code>def handle(self, *args, **options):</code></p>\n"}], "owner": {"reputation": 383, "user_id": 1410746, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be1560c08f62f057b048900f694f79c2?s=128&d=identicon&r=PG", "display_name": "rednaxela", "link": "https://stackoverflow.com/users/1410746/rednaxela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 39257651, "answer_count": 2, "score": 0, "last_activity_date": 1472672331, "creation_date": 1472670958, "last_edit_date": 1472671524, "question_id": 39257379, "link": "https://stackoverflow.com/questions/39257379/django-custom-command-not-implemented-error", "title": "Django custom command - Not Implemented Error", "body": "<p>I'm trying to set up a cronjob on my Ubuntu server to run a django <code>.py</code> file - but I'm having trouble running the script first.</p>\n\n<p>I'm using the command <code>python3 /opt/mydir/manage.py updatefm</code> </p>\n\n<p>which produces the error:</p>\n\n<pre><code>File \"/opt/mydir/manage.py\", line 15, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py\", line 399, in execute_from_command_line\n    utility.execute()\n  File \"/usr/local/lib/python3.4/site-packages/django/core/management/__init__.py\", line 392, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/usr/local/lib/python3.4/site-packages/django/core/management/base.py\", line 242, in run_from_argv\n    self.execute(*args, **options.__dict__)\n  File \"/usr/local/lib/python3.4/site-packages/django/core/management/base.py\", line 285, in execute\n    output = self.handle(*args, **options)\n  File \"/usr/local/lib/python3.4/site-packages/django/core/management/base.py\", line 324, in handle\n    raise NotImplementedError()\nNotImplementedError\n</code></pre>\n\n<p>Can anybody enlighten my on what I'm doing incorrect? Here is my script and structure:</p>\n\n<pre><code>/mydir\n   /mydir\n      __init__.py\n      /management\n         __init__.py\n         /commands\n            updatefm.py\n</code></pre>\n\n<p><strong>updatefm.py</strong></p>\n\n<pre><code>class Command(BaseCommand):\n    args = ''\n    help = 'Help Test'\n    def update_auto(self, *args, **options):\n        hi = 'test'\n</code></pre>\n\n<p>My app name is listed in <code>settings.py</code> as it should be. </p>\n"}, {"tags": ["python", "yaml", "ansible", "ansible-playbook", "ansible-2.x"], "comments": [{"owner": {"reputation": 109, "user_id": 3333595, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2646c817fcac06c730394408f4b4e600?s=128&d=identicon&r=PG&f=1", "display_name": "Jninja", "link": "https://stackoverflow.com/users/3333595/jninja"}, "reply_to_user": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 0, "creation_date": 1472694668, "post_id": 39257376, "comment_id": 65858889, "body": "targethost1.xyz.com is not a domain, its a complete hostname. deploy_domain is a variable (parameter) for deployments into each machine."}, {"owner": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 0, "creation_date": 1472696558, "post_id": 39257376, "comment_id": 65859324, "body": "Ansible won&#39;t run the same playbook twice against the same host, no matter how many inventory groups it is a member of. You&#39;d have to user a different hostname and point it to the same IP address in <code>&#47;etc&#47;hosts</code> or DNS."}, {"owner": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "edited": false, "score": 0, "creation_date": 1472696721, "post_id": 39257376, "comment_id": 65859359, "body": "Otherwise you should rewrite your playbooks to use lists instead of variables with conflicting names."}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 3333595, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2646c817fcac06c730394408f4b4e600?s=128&d=identicon&r=PG&f=1", "display_name": "Jninja", "link": "https://stackoverflow.com/users/3333595/jninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1477096771, "creation_date": 1477096771, "answer_id": 40187196, "question_id": 39257376, "link": "https://stackoverflow.com/questions/39257376/how-can-i-overcome-the-set-fact-variable-for-one-host-in-multiple-groups/40187196#40187196", "title": "How can I overcome the set_fact variable for one host in multiple groups", "body": "<pre><code>[dev:vars]\ndev6\ndev7\n\n[dev6]\ndev6host ansible_ssh_host=targethost1.xyz.com\n[dev7]\ndev7host ansible_ssh-host=targethost1.xyz.com\n</code></pre>\n\n<p>Now, the with the same host being shared for different environments, ansible treats all of them as seperate machines</p>\n"}], "owner": {"reputation": 109, "user_id": 3333595, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2646c817fcac06c730394408f4b4e600?s=128&d=identicon&r=PG&f=1", "display_name": "Jninja", "link": "https://stackoverflow.com/users/3333595/jninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477096771, "creation_date": 1472670945, "question_id": 39257376, "link": "https://stackoverflow.com/questions/39257376/how-can-i-overcome-the-set-fact-variable-for-one-host-in-multiple-groups", "title": "How can I overcome the set_fact variable for one host in multiple groups", "body": "<p>Inventory File</p>\n\n<pre><code>[dev:vars]\ndev6\ndev7\n\n[dev6]\ntargethost1.xyz.com\n[dev7]\ntargethost1.xyz.com\n</code></pre>\n\n<p>host_variables.yml</p>\n\n<pre><code>dev6:\n  deploy_domain: \"Dev6Domain\"\n  WL_Admin: \"DEV6WLAdmin\"\n  WL_Managed: \"DEV6Managed\"\n\ndev7:\n  deploy_domain: \"Dev7Domain\"\n  WL_Admin: \"Dev7WLAdmin\"\n  WL_Managed: \"Dev7Managed\"\n</code></pre>\n\n<p>The command I am trying to extract the myenv.deploy_domain from the playbook by using   </p>\n\n<pre><code>tasks:\n- include_vars: host_variables.yml\n- set_fact:\n    my_env: \"{{ hostvars[inventory_hostname][group_names[1]] }}\"\n</code></pre>\n\n<p>The dev6 and dev7 share the same host but with different domain and different other variables as defined in host_variables.yml. So when I run the playbook for dev7, the my_env.deploy_domain shows me the value of dev6. How do I tell this piece of code to take only variables for current environment in play and match its specific hostname in the inventory? </p>\n"}, {"tags": ["python", "tkinter", "tk"], "comments": [{"owner": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "edited": false, "score": 0, "creation_date": 1472671891, "post_id": 39257319, "comment_id": 65851185, "body": "Please include a description of your code, including expected vs. actual results, and <i>include a question</i>"}, {"owner": {"reputation": 1, "user_id": 5689511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54735e1fe0a05ade44427fc526ddd137?s=128&d=identicon&r=PG&f=1", "display_name": "ojashex", "link": "https://stackoverflow.com/users/5689511/ojashex"}, "reply_to_user": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "edited": false, "score": 0, "creation_date": 1472672181, "post_id": 39257319, "comment_id": 65851326, "body": "i have been trying various methods , but i am not able to get my vertical scroll bar"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1472850045, "post_id": 39257319, "comment_id": 65935277, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your code and accurately describe the problem.  Since you haven&#39;t shown your failing scroll-bar code and described what happened, we don&#39;t have a target to repair."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1472850207, "post_id": 39257319, "comment_id": 65935325, "body": "Fixed formatting and some spelling."}], "answers": [{"tags": [], "owner": {"reputation": 4508, "user_id": 5177604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f8d9d1b1e5cd8c23552b2b6e1f9f8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Fuller", "link": "https://stackoverflow.com/users/5177604/tom-fuller"}, "is_accepted": true, "score": 0, "last_activity_date": 1472999983, "creation_date": 1472999983, "answer_id": 39318073, "question_id": 39257319, "link": "https://stackoverflow.com/questions/39257319/how-can-i-insert-a-scrollbar-in-my-tk-window/39318073#39318073", "title": "How can i insert a scrollbar in my Tk window?", "body": "<p>Here is your standard vetical scrollbar. Nice project by the way, at our school the most complicated thing we do is text based programs XD</p>\n\n<p>I see you're new to stack overflow, what you wanna do is press that nice big green tick next to my answer :)</p>\n\n<pre><code>from Tkinter import* #import Tk\n\nmain_s= Tk()         #forming a Tk window\nfundo = PhotoImage(file=\"d.gif\")\nclass Welcome:    \n    def __init__(self):\n        def proceed():\n            main_s.update()                        #config of the Tk window\n            main_s.config(bg=\"yellow\")\n            Label(main_s,text=\"Choose your curve\",fg=\"red\",font=(\"arial\",20)).pack()\n            var=IntVar()  #variable for values of radios\n            r1=Radiobutton(main_s,text=\"Circle\",variable=var,value=1,command=curves)       #'''creating radiobuttons which come below the canvas for which the scroll bar is needed'''\n            r2=Radiobutton(main_s,text=\"Parabola\",variable=var,value=2,command=curves)\n            r3=Radiobutton(main_s,text=\"Ellipse\",variable=var,value=3,command=curves)\n            r4=Radiobutton(main_s,text=\"Line\",variable=var,value=4,command=curves)\n            r5=Radiobutton(main_s,text=\"Hyperbola\",variable=var,value=5,command=curves)\n            r1.pack()\n            r2.pack()\n            r3.pack()\n            r4.pack()     #packing of radiom buttons\n            r5.pack()   \n\n# execution starts here, working with a Canvas object.\n# the indentation level is same for __init__ of class\n\n        self.frame = Frame(main_s)\n        self.scr = Canvas(self.frame, width=1000, height=200, scrollregion = (0, 0, 0, 500))     #creating a canvas\n        self.bar = Scrollbar(self.frame, orient = \"vertical\")\n        self.scr.grid(row = 0, column = 1)\n        self.bar.grid(row = 0, column = 0, sticky = \"ns\")\n        self.scr.config(yscrollcommand = self.bar.set)\n        self.bar.config(command = self.scr.yview)\n        self.frame.pack()\n\n\n        self.scr.create_image(0, 0, image=fundo, anchor='nw')   #placing image inside the canvas        \n        main_s.config(bg=\"orange\")\n        main_s.title(\"*********\")\n        btn=Button(main_s,text=\"*********\",fg=\"orange\",command=proceed)\n        btn.pack()\n        def curves():\n            class Curves:\n                def __init__(self):\n                    main_s.update()                #adding more content to follow\n                    i=Label(main_s,text=\"**********\")\n                    i.pack()\n                    self.rotation=Entry(main_s)\n                    self.rotation.pack()\n                    i1=Label(main_s,text=\"*************\")\n                    i1.pack()\n                    self.xshift=Entry(main_s)       #action of radio buttons \n                    self.xshift.pack()\n                    i2=Label(main_s,text=\"**************\")\n                    i2.pack()\n                    self.yshift=Entry(main_s)\n                    self.yshift.pack()\n            t=Curves()\n            # execution of radio buttons command\n\n\n#execution -calling the above instances\nWelcome()\nmain_s.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5689511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54735e1fe0a05ade44427fc526ddd137?s=128&d=identicon&r=PG&f=1", "display_name": "ojashex", "link": "https://stackoverflow.com/users/5689511/ojashex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 39318073, "answer_count": 1, "score": -1, "last_activity_date": 1472999983, "creation_date": 1472670722, "last_edit_date": 1472850207, "question_id": 39257319, "link": "https://stackoverflow.com/questions/39257319/how-can-i-insert-a-scrollbar-in-my-tk-window", "title": "How can i insert a scrollbar in my Tk window?", "body": "<p>I wrote this for my school project, but I can't figure out how to add a scroll bar.</p>\n\n<pre><code>from Tkinter import* #import Tk\n\nmain_s= Tk()         #forming a Tk window\nfundo = PhotoImage(file=\"d.gif\")\nclass Welcome:    \n     def __init__(self):\n         def proceed():\n               main_s.update()                        #config of the Tk window\n               main_s.config(bg=\"yellow\")\n               Label(main_s,text=\"Choose your curve\",fg=\"red\",font=(\"arial\",20)).pack()\n               var=IntVar()  #variable for values of radios\n               r1=Radiobutton(main_s,text=\"Circle\",variable=var,value=1,command=curves)       '''creating radiobuttons which come below the canvas for which the scroll bar is needed'''\n               r2=Radiobutton(main_s,text=\"Parabola\",variable=var,value=2,command=curves)\n               r3=Radiobutton(main_s,text=\"Ellipse\",variable=var,value=3,command=curves)\n               r4=Radiobutton(main_s,text=\"Line\",variable=var,value=4,command=curves)\n               r5=Radiobutton(main_s,text=\"Hyperbola\",variable=var,value=5,command=curves)\n               r1.pack()\n               r2.pack()\n               r3.pack()\n               r4.pack()     #packing of radiom buttons\n               r5.pack()   \n\n# execution starts here, working with a Canvas object.\n# the indentation level is same for __init__ of class\n\n          self.scr = Canvas(main_s, width=1000, height=600)     #creating a canvas\n          self.scr.pack()\n          self.scr.create_image(0, 0, image=fundo, anchor='nw')   #placing image inside the canvas \n          main_s.config(bg=\"orange\")\n          main_s.title(\"*********\")\n          btn=Button(main_s,text=\"*********\",fg=\"orange\",command=proceed)\n          btn.pack()\n          def curves():\n              class Curves:\n                    def __init__(self):\n                         main_s.update()                #adding more content to follow\n                         i=Label(main_s,text=\"**********\")\n                         i.pack()\n                         self.rotation=Entry(main_s)\n                         self.rotation.pack()\n                         i1=Label(main_s,text=\"*************\")\n                         i1.pack()\n                         self.xshift=Entry(main_s)       #action of radio buttons \n                         self.xshift.pack()\n                         i2=Label(main_s,text=\"**************\")\n                         i2.pack()\n                         self.yshift=Entry(main_s)\n                         self.yshift.pack()\n                    t=Curves()\n                         # execution of radio buttons command\n\n\n#execution -calling the above instances\nWelcome()\nmain_s.mainloop()\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "apache-spark", "emr"], "comments": [{"owner": {"reputation": 64413, "user_id": 1305344, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/thhxw.png?s=128&g=1", "display_name": "Jacek Laskowski", "link": "https://stackoverflow.com/users/1305344/jacek-laskowski"}, "edited": false, "score": 0, "creation_date": 1472679014, "post_id": 39257297, "comment_id": 65854625, "body": "Can you check whether <code>file.py</code> exists where you execute <code>aws emr add-steps</code> and on the nodes?"}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "reply_to_user": {"reputation": 64413, "user_id": 1305344, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/thhxw.png?s=128&g=1", "display_name": "Jacek Laskowski", "link": "https://stackoverflow.com/users/1305344/jacek-laskowski"}, "edited": false, "score": 0, "creation_date": 1472682450, "post_id": 39257297, "comment_id": 65855897, "body": "@JacekLaskowski updated question with more info. Note that copying the relevant files over to the master node and performing <code>spark-submit</code> works just fine"}], "owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1472682367, "creation_date": 1472670644, "last_edit_date": 1472682367, "question_id": 39257297, "link": "https://stackoverflow.com/questions/39257297/file-missing-error-when-running-python-job-in-spark-on-emr", "title": "File missing error when running python job in Spark on EMR", "body": "<p>I'm attempting to submit a step to an existing emr cluster:</p>\n\n<pre><code>aws emr add-steps --cluster-id j-XXXXXXXXXXXX --steps Type=spark,Name=MyApp,Args=[--deploy-mode,cluster,--master,yarn,--conf,spark.yarn.submit.waitAppCompletion=false,--num-executors,5,--executor-cores,5,--executor-memory,5g,file.py,--py-files,support-files.zip],ActionOnFailure=CONTINUE\n</code></pre>\n\n<p>However, the step fails with a missing file error?</p>\n\n<pre><code>16/08/31 19:01:06 INFO RMProxy: Connecting to ResourceManager at ip-xxx-xxx-xxx-xxx.ec2.internal/xxx.xxx.xxx.xxx:8032\n16/08/31 19:01:07 INFO Client: Requesting a new application from cluster with 2 NodeManagers\n16/08/31 19:01:07 INFO Client: Verifying our application has not requested more than the maximum memory capability of the cluster (11520 MB per container)\n16/08/31 19:01:07 INFO Client: Will allocate AM container, with 11520 MB memory including 1047 MB overhead\n16/08/31 19:01:07 INFO Client: Setting up container launch context for our AM\n16/08/31 19:01:07 INFO Client: Setting up the launch environment for our AM container\n16/08/31 19:01:07 INFO Client: Preparing resources for our AM container\n16/08/31 19:01:07 WARN Client: Neither spark.yarn.jars nor spark.yarn.archive is set, falling back to uploading libraries under SPARK_HOME.\n16/08/31 19:01:09 INFO Client: Uploading resource file:/mnt/tmp/spark-e3f0079d-1c1a-4e68-9e69-2f83368d4405/__spark_libs__7513771565880645694.zip -&gt; hdfs://ip-xxx-xxx-xxx-xxx.ec2.internal:8020/user/hadoop/.sparkStaging/application_1414534513678_0014/__spark_libs__7513771565880645694.zip\n16/08/31 19:01:10 INFO Client: Uploading resource file:/mnt/var/lib/hadoop/steps/s-2746P63VUU8PI/file.py -&gt; hdfs://ip-xxx-xxx-xxx-xxx.ec2.internal:8020/user/hadoop/.sparkStaging/application_1414534513678_0014/file.py\n16/08/31 19:01:10 INFO Client: Deleting staging directory hdfs://ip-xxx-xxx-xxx-xxx.ec2.internal:8020/user/hadoop/.sparkStaging/application_1414534513678_0014\nException in thread \"main\" java.io.FileNotFoundException: File file:/mnt/var/lib/hadoop/steps/s-2746P63VUU8PI/file.py does not exist\n</code></pre>\n\n<p>as far as i can tell, the file was correctly uploaded? any ideas what else might cause this problem?</p>\n\n<hr>\n\n<ul>\n<li><p>the file exists where i execute <code>aws emr add-steps</code></p></li>\n<li><p>the file appears to exist on at least the master note; i don't have an easy way to confirm since the process attempts to delete it (see log below) upon failure </p></li>\n</ul>\n"}, {"tags": ["python", "django", "environment-variables", "windows-10"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1472670837, "post_id": 39257191, "comment_id": 65850607, "body": "Is it the system path you are showing being edited or the user path? I&#39;d say the user path. Can you try <code>where python</code> and post what is printed?"}, {"owner": {"reputation": 535, "user_id": 5648137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1650035035267841/picture?type=large", "display_name": "Jack Frye", "link": "https://stackoverflow.com/users/5648137/jack-frye"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1472671436, "post_id": 39257191, "comment_id": 65850932, "body": "C:\\Users\\jackf_000&gt;where python C:\\Python27\\python.exe"}], "answers": [{"comments": [{"owner": {"reputation": 535, "user_id": 5648137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1650035035267841/picture?type=large", "display_name": "Jack Frye", "link": "https://stackoverflow.com/users/5648137/jack-frye"}, "edited": false, "score": 0, "creation_date": 1472671554, "post_id": 39257356, "comment_id": 65851005, "body": "I think I may have overridden PATH with my user profile. Is there any way to undo this. It sounds like there could be some potentially bad consequences for doing this."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 535, "user_id": 5648137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1650035035267841/picture?type=large", "display_name": "Jack Frye", "link": "https://stackoverflow.com/users/5648137/jack-frye"}, "edited": false, "score": 0, "creation_date": 1472671637, "post_id": 39257356, "comment_id": 65851056, "body": "I have edited my post BTW, please read again. And PATH cannot be overridden, as explained, only completed, but with lower priority than the system PATH."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 535, "user_id": 5648137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1650035035267841/picture?type=large", "display_name": "Jack Frye", "link": "https://stackoverflow.com/users/5648137/jack-frye"}, "edited": false, "score": 0, "creation_date": 1472672076, "post_id": 39257356, "comment_id": 65851279, "body": "You didn&#39;t do anything dangerous. I suggest that you remove the <code>%SYSTEMROOT%</code>-based paths as they already are in the system path (I see them in your output) and they make the PATH resulting variable longer. If you reach some length limit, PATH won&#39;t work at all!."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1472671935, "last_edit_date": 1472671935, "creation_date": 1472670856, "answer_id": 39257356, "question_id": 39257191, "link": "https://stackoverflow.com/questions/39257191/python-interpreter-path-oddity-cant-use-django/39257356#39257356", "title": "Python interpreter PATH oddity. Can&#39;t use django", "body": "<p>Because python 2.7 path is set in the system environment variable PATH.  You are editing your user variables (which are bizarrely configured because they contain duplicate stuff only found in system path like <code>C:\\windows\\system32</code> for instance)</p>\n\n<p>if you type <code>where python</code> you'll probably get:</p>\n\n<pre><code>C:\\Python27\\python.exe\n</code></pre>\n\n<p>(EDIT: you actually get that value, since you answered to my comment)</p>\n\n<p>if you type <code>where pip</code> you'll probably get:</p>\n\n<pre><code>C:\\users\\jackf_000\\sw\\anaconda2\\scripts\\pip.exe\n</code></pre>\n\n<p>which explains that pip installs package in the anaconda2 package</p>\n\n<p>To get anaconda python in your path you would need to add <code>C:\\users\\jackf_000\\sw\\anaconda2</code> not the scripts subdir that contain pip.</p>\n\n<p>then, if you typed <code>where python</code> you'll probably get:</p>\n\n<pre><code>C:\\Python27\\python.exe\nC:\\users\\jackf_000\\sw\\anaconda2\\python.exe\n</code></pre>\n\n<p>But that wouldn't be enough because..</p>\n\n<p>The system path comes first. PATH is one special env variable that you dont override with your user profile, only append dirs to. And it's perfectly normal to have one user PATH variable and one system PATH variable.</p>\n\n<p>On the other hand, let's say the system variable <code>PYTHONPATH</code> does not please you, you could choose to replace it by setting a completely different one in your user variables. That would replace the paths, not append to them, unless you add <code>;%PYTHONPATH%</code> somewhere (<code>PYTHONPATH</code> is a path variable, but unknown by windows, it's nothing special). And PYTHONPATH does not influence which executable will be loaded, so forget it for now.</p>\n\n<p>2 solutions:</p>\n\n<ol>\n<li>modify system path (admin needed) to add anaconda is before python 2.7 (not recommended)</li>\n<li><p>run your applications which require anaconda with a .bat file starting by the following:</p>\n\n<p><code>set PATH=C:\\users\\jackf_000\\sw\\anaconda2;%PATH%\n rem now run the command which needs anaconda python first</code></p></li>\n</ol>\n"}], "owner": {"reputation": 535, "user_id": 5648137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1650035035267841/picture?type=large", "display_name": "Jack Frye", "link": "https://stackoverflow.com/users/5648137/jack-frye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 39257356, "answer_count": 1, "score": 0, "last_activity_date": 1472676851, "creation_date": 1472670242, "last_edit_date": 1472676851, "question_id": 39257191, "link": "https://stackoverflow.com/questions/39257191/python-interpreter-path-oddity-cant-use-django", "title": "Python interpreter PATH oddity. Can&#39;t use django", "body": "<p>I have three Python environments across two different interpreters. The first is the basic Python27 in my c:. The second is an Anaconda interpreter with its own environment and another environment in it's \\envs\\ directory. I have directed my PYTHONPATH variable to point to the Anaconda interpreter not in the \\envs\\ folder.\n<a href=\"https://i.stack.imgur.com/VFmP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFmP0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I also have my PATH variable set to the scripts directory from that environment <a href=\"https://i.stack.imgur.com/8eIIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8eIIv.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, when I run Django, I get a message about a discrepancy in versions. I think this results from the fact that Django is using the interpreter in my C:\\ directory, Python27. When I echo my PATH environment variable in cmd, this is what I see:</p>\n\n<pre><code>C:\\Program Files (x86)\\ActiveState Komodo Edit 10\\;C:\\Program Files (x86)\\ActiveState Komodo IDE 10\\;\nC:\\Program Files\\MATLAB\\R2014a\\bin\\win64;\nC:\\ProgramData\\Oracle\\Java\\javapath;\nc:\\Program Files (x86)\\Intel\\iCLS Client\\;\nc:\\Program Files\\Intel\\iCLS Client\\;\nC:\\Windows\\system32;C:\\Windows;\nC:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\WiFi\\bin\\;\nC:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files (x86)\\IVI Foundation\\VISA\\WinNT\\Bin;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.0\\;\nC:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;\n**C:\\Python27**;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\WINDOWS\\system32\\config\\systemprofile\\.dnx\\bin;C:\\Program Files\\Microsoft DNX\\Dnvm\\;C:\\Program Files\\Microsoft\\Web Platform Installer\\;C:\\Program Files (x86)\\Windows Kits\\10\\Windows Performance Toolkit\\;C:\\Program Files (x86)\\Skype\\Phone\\;\nC:\\Program Files\\MATLAB\\R2016a\\runtime\\win64;\nC:\\Program Files\\MATLAB\\R2016a\\bin;\nC:\\WINDOWS\\system32;\nC:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Users\\jackf_000\\sw\\FFMPEG\\bin;\nC:**\\Users\\jackf_000\\sw\\Anaconda2\\Scripts\\**;\n</code></pre>\n\n<p>C:\\cygwin64\\bin;C:\\Users\\jackf_000\\AppData\\Local\\Microsoft\\WindowsApps;</p>\n\n<p>When I run python in cmd and import os to see the executable, I get the following output:</p>\n\n<pre><code>C:\\Users\\jackf_000&gt;python\nPython 2.7.9 (default, Dec 10 2014, 12:28:03) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.executable\n'C:\\\\Python27\\\\python.exe'\n</code></pre>\n\n<p>Why is the Python interpreter from C:\\ in the PATH variable before the Anaconda one if I do not have it specified anywhere in PATH in the control panel window? And how can I specify that I want Django to look in the Anaconda environment for what it needs, or use pip to install to Django to C:\\Python27? Currently, pip installs all packages to the Anaconda environment.</p>\n"}, {"tags": ["python", "citations", "google-scholar"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1472670448, "post_id": 39257172, "comment_id": 65850399, "body": "Do you only get 20 results?"}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 4, "creation_date": 1472671179, "post_id": 39257172, "comment_id": 65850798, "body": "From the docstring of <code>scholar.py</code>: <code>This module provides classes for querying Google Scholar and parsing returned results. It currently *only* processes the first results page. It is not a recursive crawler.</code>"}, {"owner": {"reputation": 31, "user_id": 5854401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f144f4ac383a787ef1dff33c583f5c82?s=128&d=identicon&r=PG", "display_name": "Amber Billey", "link": "https://stackoverflow.com/users/5854401/amber-billey"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1472754168, "post_id": 39257172, "comment_id": 65891526, "body": "@wflynny No, the number of results will vary depending on the researcher. I couldn&#39;t determine a pattern (like the first 20 results - but now it looks like that is what it is)."}, {"owner": {"reputation": 31, "user_id": 5854401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f144f4ac383a787ef1dff33c583f5c82?s=128&d=identicon&r=PG", "display_name": "Amber Billey", "link": "https://stackoverflow.com/users/5854401/amber-billey"}, "reply_to_user": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1472754218, "post_id": 39257172, "comment_id": 65891556, "body": "@Gerrat -- thanks for catching that! I totally missed that important little detail."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 1, "creation_date": 1472760741, "post_id": 39257172, "comment_id": 65894641, "body": "@AmberBilley I asked if you were only seeing 20 results because on line 1255 of <code>scholar.py</code>, there is this line:  <code>options.count = min(options.count, ScholarConf.MAX_PAGE_RESULTS)</code>  where <code>MAX_PAGE_RESULTS=20</code>.  Have you attempted to modify this constant?"}], "owner": {"reputation": 31, "user_id": 5854401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f144f4ac383a787ef1dff33c583f5c82?s=128&d=identicon&r=PG", "display_name": "Amber Billey", "link": "https://stackoverflow.com/users/5854401/amber-billey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1232, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1472670184, "creation_date": 1472670184, "question_id": 39257172, "link": "https://stackoverflow.com/questions/39257172/get-all-publications-by-an-author-from-google-scholar-using-scholar-py", "title": "Get all publications by an author from Google Scholar using scholar.py", "body": "<p>I am trying to get all the publications by an author using scholar.py</p>\n\n<p><a href=\"https://github.com/ckreibich/scholar.py\" rel=\"nofollow\">https://github.com/ckreibich/scholar.py</a></p>\n\n<p>But whenever I run the script, I only get a fraction of the publications associated with the author in my results. </p>\n\n<p>So running:</p>\n\n<pre><code>./scholar.py --author \"albert einstein\"\n</code></pre>\n\n<p>Will only retrieve a subset of Einstein's 1000+ publications associated with him in Google Scholar. How can I get all of the publications for an author? </p>\n"}]