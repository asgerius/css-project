[{"tags": ["javascript", "python", "html", "django", "debugging"], "comments": [{"owner": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1502927920, "post_id": 45724655, "comment_id": 78407040, "body": "remove the type attribute... modern browsers will not run javascript if it doesnt use the proper mime type for javascript"}, {"owner": {"reputation": 81, "user_id": 8431636, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f5e57b57d5059e3ec4ace827a05a15e?s=128&d=identicon&r=PG&f=1", "display_name": "hop38", "link": "https://stackoverflow.com/users/8431636/hop38"}, "reply_to_user": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1502927961, "post_id": 45724655, "comment_id": 78407049, "body": "@PatrickEvans I tried that but it didn&#39;t work."}, {"owner": {"reputation": 2664, "user_id": 4169803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SDXi9.jpg?s=128&g=1", "display_name": "NewToJS", "link": "https://stackoverflow.com/users/4169803/newtojs"}, "edited": false, "score": 0, "creation_date": 1502928122, "post_id": 45724655, "comment_id": 78407081, "body": "Open your browser console, do you see any errors in there?"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1502928159, "post_id": 45724655, "comment_id": 78407090, "body": "If it&#39;s straight html and your url to access maps.html is &lt;something&gt;/personal/templates/personal/maps.html then it should work.  I&#39;m guessing whatever templating system you&#39;re using is crunching the url to something else, and maps.js is not found in the same relative place."}, {"owner": {"reputation": 81, "user_id": 8431636, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f5e57b57d5059e3ec4ace827a05a15e?s=128&d=identicon&r=PG&f=1", "display_name": "hop38", "link": "https://stackoverflow.com/users/8431636/hop38"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1502928421, "post_id": 45724655, "comment_id": 78407138, "body": "@James Posted <code>views.py</code> file in my original post."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1502928805, "post_id": 45724655, "comment_id": 78407221, "body": "Is your Python file properly indented? Before I fixed the indentation, it was not."}, {"owner": {"reputation": 81, "user_id": 8431636, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f5e57b57d5059e3ec4ace827a05a15e?s=128&d=identicon&r=PG&f=1", "display_name": "hop38", "link": "https://stackoverflow.com/users/8431636/hop38"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1502928890, "post_id": 45724655, "comment_id": 78407235, "body": "@DYZ Yeah it is.  I forgot to fix it when I posted it."}, {"owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "edited": false, "score": 0, "creation_date": 1502930251, "post_id": 45724655, "comment_id": 78407511, "body": "you can and only can download css\u3001js\u3001img through <code>&#47;static&#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 8431636, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f5e57b57d5059e3ec4ace827a05a15e?s=128&d=identicon&r=PG&f=1", "display_name": "hop38", "link": "https://stackoverflow.com/users/8431636/hop38"}, "edited": false, "score": 1, "creation_date": 1502930574, "post_id": 45724926, "comment_id": 78407572, "body": "It&#39;s actually <code>&lt;script src=&quot;..&#47;..&#47;static&#47;personal&#47;js&#47;map.js&quot;&gt;&lt;&#47;script&gt;</code> and not <code>&lt;script src=&quot;static&#47;js&#47;map.js&quot;&gt;</code>.  I used yours as guidance and it worked!  Thanks a lot man :D."}], "tags": [], "owner": {"reputation": 595, "user_id": 267401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d27ad16c17c3820eeff55597d92c331?s=128&d=identicon&r=PG", "display_name": "Matt McMahon", "link": "https://stackoverflow.com/users/267401/matt-mcmahon"}, "is_accepted": true, "score": 1, "last_activity_date": 1502930183, "creation_date": 1502930183, "answer_id": 45724926, "question_id": 45724655, "link": "https://stackoverflow.com/questions/45724655/why-wont-my-html-file-connect-to-js-file/45724926#45724926", "title": "Why won&#39;t my .html file connect to .js file?", "body": "<p>A common CMS convention is to save JavaScript files in a static folder. \nYou save anything that you don't want your template engine messing with there: images, javascript, css, etc. </p>\n\n<p>It looks like you may need to save <code>map.js</code> at this path:</p>\n\n<pre><code>mysite/personal/static/personal/js/map.js\n</code></pre>\n\n<p>After that, you'll need to update you script link in your HTML to something like:</p>\n\n<pre><code>&lt;script src=\"static/js/map.js\"&gt;\n</code></pre>\n\n<p>The <code>src</code> path here isn't relative to where you store the file on your computer, but to the URI that your web server associates with it. \nDepending on how you've set things up, you'll need some portion of the new path.\nDjango has <a href=\"https://docs.djangoproject.com/en/1.11/howto/static-files/\" rel=\"nofollow noreferrer\">a few ways of linking to static resources</a>, but I'm not familiar enough with the platform to tell you which option you should use.</p>\n"}], "owner": {"reputation": 81, "user_id": 8431636, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f5e57b57d5059e3ec4ace827a05a15e?s=128&d=identicon&r=PG&f=1", "display_name": "hop38", "link": "https://stackoverflow.com/users/8431636/hop38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 0, "accepted_answer_id": 45724926, "answer_count": 1, "score": 0, "last_activity_date": 1502930183, "creation_date": 1502927755, "last_edit_date": 1502928761, "question_id": 45724655, "link": "https://stackoverflow.com/questions/45724655/why-wont-my-html-file-connect-to-js-file", "title": "Why won&#39;t my .html file connect to .js file?", "body": "<p>I want to connect my <code>.html</code> to <code>.js</code>.  I'm trying to run this simple program but it's not working.   Below is the screenshot of my file path and files I'm working with.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/jkM9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jkM9f.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's <code>map.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;script type=\"javascript\" src=\"map.js\"&gt;&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here's <code>map.js</code>:</p>\n\n<pre><code>document.write(\"testing\");\n</code></pre>\n\n<p>The problem is below.  How can I render the <code>.js</code> file along with the <code>.html</code> file?</p>\n\n<p>Here's <code>views.py</code>:</p>\n\n<pre><code>def map(request):\n    return render(request, 'personal/map.html')\n</code></pre>\n"}, {"tags": ["python", "json", "python-2.7"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1502928393, "post_id": 45724651, "comment_id": 78407135, "body": "Why doesn&#39;t the function use <code>wanted_key</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 4837005, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8b7cffdd05664f7e3988486a381ba49?s=128&d=identicon&r=PG&f=1", "display_name": "Coolq B", "link": "https://stackoverflow.com/users/4837005/coolq-b"}, "edited": false, "score": 0, "creation_date": 1502928928, "post_id": 45724719, "comment_id": 78407242, "body": "Remember, if this helped you, you can accept this answer."}, {"owner": {"reputation": 409, "user_id": 6036687, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05f341f9c01790588aad82a492ac82f2?s=128&d=identicon&r=PG&f=1", "display_name": "topplethepat", "link": "https://stackoverflow.com/users/6036687/topplethepat"}, "edited": false, "score": 0, "creation_date": 1502985909, "post_id": 45724719, "comment_id": 78437641, "body": "Thanks a lot--the Boolean was totally the solution. I modified the code a bit and put that in the original question. If the &quot;extended&quot; key were present, I didn&#39;t want the dump to be dependent on the other keys, so I altered that part."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1502928264, "creation_date": 1502928264, "answer_id": 45724719, "question_id": 45724651, "link": "https://stackoverflow.com/questions/45724651/how-to-rearrange-my-if-statement-so-i-dont-duplicate-the-result-in-my-outfile/45724719#45724719", "title": "how to rearrange my if statement so I don&#39;t duplicate the result in my outfile", "body": "<p>Set a variable that indicates whether you made any changes to the data. If the variable isn't true, don't dump to the output file.</p>\n\n<pre><code>def extract_metadata(input_filename, output_filename, wanted_key):\n\n    with open(input_filename, \"r\") as infile:\n        data = json.load(infile)\n\n    changed = False\n\n    if \"extended\" in data['metadata']:\n        if \"key_1\" not in data['metadata']['extended']:\n            data['metadata']['extended'].update(key_1={})\n            changed = True\n        if \"key_2\" not in data['metadata']['extended']:\n            data['metadata']['extended'].update(key_2={})\n            changed = True    \n    else: \n        data['metadata'].update(extended={\"loadedBy\": \"company\"})\n        changed = True\n\n    if changed:\n        with open(output_filename, \"w\") as outfile:\n            json.dump(data['metadata'], outfile)\n</code></pre>\n\n<p>BTW, you don't need <code>else: pass</code>, you can simply leave out the <code>else:</code> clause.</p>\n"}], "owner": {"reputation": 409, "user_id": 6036687, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05f341f9c01790588aad82a492ac82f2?s=128&d=identicon&r=PG&f=1", "display_name": "topplethepat", "link": "https://stackoverflow.com/users/6036687/topplethepat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45724719, "answer_count": 1, "score": 0, "last_activity_date": 1502986309, "creation_date": 1502927706, "last_edit_date": 1502986309, "question_id": 45724651, "link": "https://stackoverflow.com/questions/45724651/how-to-rearrange-my-if-statement-so-i-dont-duplicate-the-result-in-my-outfile", "title": "how to rearrange my if statement so I don&#39;t duplicate the result in my outfile", "body": "<p>I am testing for a key, and if it is present, am doing a json.dump, and if not present, am adding it. I'm also checking for two other keys and if they are not present, adding them. I nested those secondary tests.</p>\n\n<p>With this code, it works fine if the key is present, but if not, when it adds it, it additionally adds the json.dump when it shouldn't. Should this be two different functions? Or how can I rearrange it so it stops after it adds the key?</p>\n\n<pre><code>import json\n\ndef extract_metadata(input_filename, output_filename, wanted_key):\n\n    with open(input_filename, \"r\") as infile:\n        data = json.load(infile)\n\n    with open(output_filename, \"w\") as outfile:\n\n        if \"extended\" in data['metadata']:\n            if \"key_1\" not in data['metadata']['extended']:\n                data['metadata']['extended'].update(key_1={})\n            else:\n                pass    \n            if \"key_2\" not in data['metadata']['extended']:\n                data['metadata']['extended'].update(key_2={})\n            else:\n                pass        \n\n        json.dump(data[\"metadata\"], outfile)\n\n\n        else: \n            data['metadata'].update(extended={\"loadedBy\": \"company\"})\n\n            json.dump(data['metadata'], outfile)\n</code></pre>\n\n<p>*******improved working code********</p>\n\n<pre><code>    if \"extended\" in data['metadata']:\n        if \"key_1\" not in data['metadata']['extended']:\n        data['metadata']['extended'].update(key_1={})\n\n        if \"key_2\" not in data['metadata']['extended']:\n        data['metadata']['extended'].update(key_2={})\n        with open(output_filename, \"w\") as outfile:\n            json.dump(data['metadata'], outfile)        \n\nelse: \n    data['metadata'].update(extended={\"loadedBy\": \"company\"})\n    changed = True\n\nif changed == True:\n    with open(output_filename, \"w\") as outfile:\n        json.dump(data['metadata'], outfile)\n</code></pre>\n"}, {"tags": ["python", "class", "neural-network", "simulation"], "comments": [{"owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "edited": false, "score": 0, "creation_date": 1502928857, "post_id": 45724650, "comment_id": 78407230, "body": "I new to neural networks in python, I just want to know, is this reinforcement learning?"}, {"owner": {"reputation": 685, "user_id": 4645803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/exaPr.jpg?s=128&g=1", "display_name": "Robert Altena", "link": "https://stackoverflow.com/users/4645803/robert-altena"}, "edited": false, "score": 0, "creation_date": 1502930805, "post_id": 45724650, "comment_id": 78407622, "body": "The code needs a lot more cleaning up."}, {"owner": {"reputation": 9, "user_id": 8475128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oVaiI3033G4/AAAAAAAAAAI/AAAAAAAALN8/LPx8vpZ4X6U/photo.jpg?sz=128", "display_name": "Jonz00r", "link": "https://stackoverflow.com/users/8475128/jonz00r"}, "reply_to_user": {"reputation": 685, "user_id": 4645803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/exaPr.jpg?s=128&g=1", "display_name": "Robert Altena", "link": "https://stackoverflow.com/users/4645803/robert-altena"}, "edited": false, "score": 0, "creation_date": 1502942997, "post_id": 45724650, "comment_id": 78410350, "body": "@RobertAltena helpful"}, {"owner": {"reputation": 9, "user_id": 8475128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oVaiI3033G4/AAAAAAAAAAI/AAAAAAAALN8/LPx8vpZ4X6U/photo.jpg?sz=128", "display_name": "Jonz00r", "link": "https://stackoverflow.com/users/8475128/jonz00r"}, "reply_to_user": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "edited": false, "score": 0, "creation_date": 1502982990, "post_id": 45724650, "comment_id": 78435645, "body": "@messy212 no this is genetic or trying to be at least."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8475128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oVaiI3033G4/AAAAAAAAAAI/AAAAAAAALN8/LPx8vpZ4X6U/photo.jpg?sz=128", "display_name": "Jonz00r", "link": "https://stackoverflow.com/users/8475128/jonz00r"}, "edited": false, "score": 0, "creation_date": 1502942977, "post_id": 45725897, "comment_id": 78410341, "body": "1. I&#39;m only trying to copy the ship with the highest fitness and use mutations of that one to create the next population which is why I use the index -1. Then the simulation runs again and does the same for the next ship with the highest fitness. 2. I just use o short for object. 3. Thank you I&#39;ll use this instead.  4. They&#39;re multiple classes because I took two different projects I had and kinda crammed them together. 4. That&#39;s just how I have it setup currently but I am trying to evolve the ship controller by survival of the fittest. 5. Ok 6. Noted 7. I get less errors."}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1502938525, "creation_date": 1502938525, "answer_id": 45725897, "question_id": 45724650, "link": "https://stackoverflow.com/questions/45724650/cant-get-my-ships-to-mutate-properly-python-neural-network/45725897#45725897", "title": "Can&#39;t get my ships to mutate properly. Python Neural Network", "body": "<p>Ok, here's what I see:</p>\n\n<ol>\n<li><p>In <code>reproduce()</code> you are doing a bunch of weird things:</p>\n\n<ul>\n<li>you sort the list (which has no effect on the mutation), then mutate them (which probably destroys the sorted-ness);</li>\n<li>you iterate with an index into the array, which is usually unPythonic, but operate on <code>mute_ships[-1]</code> each time - which means that, with 20 ships, you are mutating the last ship 20 times and the others not at all!</li>\n<li><code>.evolve()</code> seems to be an in-place operation, but you copy the result into a new list to return; then in the calling function, <code>main()</code>, you copy the result into a new list <strong>again</strong> using a loop (the slow way) instead of using the <code>list()</code> constructor (simpler and faster)</li>\n<li>that makes no difference anyway, because the list only contains references to the same ship instances anyway!</li>\n</ul>\n\n<p>Instead, try</p>\n\n<pre><code>def reproduce(ships):\n    for ship in ships:\n        ship.evolve()\n</code></pre></li>\n<li><p>Naming conventions: PEP8 says classes should be capitalized, methods should be lowercase. Also, some of the variable names are nasty (<code>o.env.objects.append(o)</code>?)</p></li>\n<li><p>You don't need bubblesort; you can just do <code>mute_ships = sorted(ships, key = lambda ship: ship.brain.fitness</code>. That replaces about 16 lines of code.</p></li>\n<li><p>You aren't evolving the ships or environments at all, so separate classes for them are kind of overkill. I would probably rename Network to ShipController, and stick the whole simulation into a ShipController.evaluate() method.</p></li>\n<li><p><code>np.random</code> seeds itself quite happily; the only good reason to seed it yourself is if you want to be able to repeat a run by giving it the same seed again. Also, <code>np.random.seed()</code> expects a value in 0 .. 4.3 billion; you are giving it a value in 0 .. 1 million. By doing so, you are <em>greatly reducing</em> the actual randomness of your algorithm.</p></li>\n<li><p>You have a global <code>sp</code> but also an <code>sp</code> in <code>main()</code> which never gets used, which will confuse you if you ever try to change it.</p></li>\n<li><p>You are not really using <code>numpy</code> properly; it works best on vectorized blocks of calculations, not lots of little split-up calculations inside Python loops.</p></li>\n</ol>\n"}], "owner": {"reputation": 9, "user_id": 8475128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oVaiI3033G4/AAAAAAAAAAI/AAAAAAAALN8/LPx8vpZ4X6U/photo.jpg?sz=128", "display_name": "Jonz00r", "link": "https://stackoverflow.com/users/8475128/jonz00r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503421958, "creation_date": 1502927697, "last_edit_date": 1503421958, "question_id": 45724650, "link": "https://stackoverflow.com/questions/45724650/cant-get-my-ships-to-mutate-properly-python-neural-network", "title": "Can&#39;t get my ships to mutate properly. Python Neural Network", "body": "<p>I've been tinkering with neural networks and have some simple code that almost works. The only problem is that my network will not mutate properly. I've tested the network class on its own and it will mutate but it doesn't seem to want to mutate when used as a subclass.</p>\n\n<pre><code>%matplotlib inline \n#for jupyter\n\nimport matplotlib                   #import for plotting results\nimport matplotlib.pyplot as plt\nimport numpy as np                  #np for random and exp\nfrom datetime import datetime as dt #for time seed\n\n#GLOBALS\nsp = 100.0            #y setpoint \nseconds = 120         #simulation length\ntimescale = 0.1       #timestep\ngenerations = 10000   #generations to simulate\npopulation = 20       #number of ships per generation\ndebug = False         #unused\n\n\n#NN class\nclass Network:\n\n    #create array of neuron placeholder values for feedforward function\n    def initNeurons(self):\n        neuronList = []\n        for i in range(len(self.layers)):\n            neuronList.append([])\n            for j in range(self.layers[i]):\n                neuronList[i].append(0)\n        self.neurons = neuronList\n        #print(self.neurons)\n\n    #randomly generate weights for each neuron based on number of neurons in previous layers\n    def initWeights(self):\n\n        weightsList = []\n        #for each layer\n        for i in range(1,len(self.layers)):\n\n            layerWeights = []\n            neuronsInPrevLayer = self.layers[i-1] #number of neurons in previous layer\n\n            #for each neuron in layer\n            for j in range(len(self.neurons[i])):\n                neuronWeights = []\n\n                #for each neuron in previous layer\n                for k in range(neuronsInPrevLayer):                    \n                    neuronWeights.append(2*(np.random.rand()-0.5)) #generate random weight (-1-1)\n\n                layerWeights.append(neuronWeights)\n\n            weightsList.append(layerWeights)\n\n        self.weights = weightsList\n\n    #calculate the values of each neuron and return output neurons\n    def feedForward(self, netinputs):\n        for i in range(len(netinputs)):\n            #print(self.neurons[0])\n            self.neurons[0][i] = netinputs[i]\n\n        for i in range(1,len(self.layers)):\n            for j in range(len(self.neurons[i])):\n                value = 0.25\n\n                for k in range(len(self.neurons[i-1])):\n                    value += self.weights[i-1][j][k] * self.neurons[i-1][k]\n                self.neurons[i][j] = (1/(1+np.exp(-value)))\n\n        return self.neurons[-1]\n\n    #randomly mutate weights while iterating through them\n    def mutate(self):\n        change = False\n        for i in range(len(self.weights)):\n            for j in range(len(self.weights[i])):\n                for k in range(len(self.weights[i][j])):\n\n                    weight = self.weights[i][j][k]\n                    #print(weight)\n                    randnum = np.random.rand() * 1000\n\n                    if randnum &lt;= 20:\n                        weight *= -1\n                        change = True\n                    elif randnum &lt;= 40:\n                        weight = np.random.rand() - 0.5\n                        change = True\n                    elif randnum &lt;= 80:\n                        weight *= np.random.rand()\n                        change = True\n                    self.weights[i][j][k] = weight\n                    if change and debug:\n                        #print('mutation!')\n                        pass\n\n\n    #iterate through weights and copy                \n    def copyWeights(self, copyWeight):\n        for i in range(len(self.weights)):\n            for j in range(len(self.weights[i])):\n                for k in range(len(self.weights[i][j])):\n                    self.weights[i][j][k] = copyWeight[i][j][k]   \n\n    #copies the weights from a passed NN          \n    def Network(self, copyNetwork):\n        self.layers = []\n        self.neurons = []\n        self.weights = []\n        self.fitness = -9000.0\n        for i in range(len(copyNetwork.layers)):\n            self.layers.append(copyNetwork.layers[i])\n\n        np.random.seed(dt.now().microsecond)\n        self.initNeurons()\n        self.initWeights()\n        self.copyWeights(copyNetwork.weights)\n\n    #INITIALIZATION FUNCTION\n    #initializes NN given an array of neuron counts EX: [3,5,3,1] 3 input neurons 1 output neuron with 2 hidden layers\n    def __init__(self, inLayers ):\n        self.layers = []    #array with neurons per layer ex: [2,4,2] \n        self.neurons = []   #placeholder array for neuron values for feedforward\n        self.weights = []   #weight values for each layer and neuron\n        self.fitness = -9000.0 #initial fitness set to nonsense value\n        for i in range(len(inLayers)):\n            self.layers.append(inLayers[i])\n\n        np.random.seed(dt.now().microsecond) #seed for RNG\n        self.initNeurons()                   #create arrays for sotring neuron values\n        self.initWeights()                   #create weights for calculating neuron values\n\n\n\n#environment for ship simulation\nclass environment(object):\n    def __init__(self): # initialize self when created\n        self.objects = []\n        self.t = 0\n        self.dt = timescale\n        self.seconds = seconds\n    def init(self): #initialize ships\n        for p in self.objects:\n            p.init()\n    def start(self): #iterate through time and call step for each ship\n        for i in range(0, self.seconds*100, int(self.dt*100)):\n            self.t += self.dt\n            #if i % 10 == 0:\n                #print(self.t)\n            for p in self.objects:\n                p.step()\n\nclass ship():\n    def __init__(self, m, x, y, v, thrust_max, throttle, env):\n        self.brain = Network([3,8,4,3,2])   #create NN for throttle control with 3 inputs and 2 outputs\n        self.deltasp = []                   #array for difference from setpoint per step for plotting and analysis\n        self.yset = []                      #array for y coord (height) per step for plotting and analysis\n        self.mass = m                       #mass for force and acceleration calculation\n        self.x = x                          #initial x value\n        self.y = y                          #initial y value\n        self.velocity = v                   #initial velocity\n        self.thrust_max = thrust_max        #maximum thrust\n        self.throttle = throttle/100.0      #initial throttle\n        self.a = 0.0                        #initial acceleration        \n        env.objects.append(self)            #add ship to environment objects\n        self.env = env                      \n\n    def init(self):\n        self.deltasp = [] #array for difference from setpoint per step for plotting and analysis\n        self.yset = []    #array for y coord (height) per step for plotting and analysis\n        self.x = 0        #x coord for plotting (unused)\n        self.y = 0        #y coord (height)\n        self.velocity = 0 #ship velocity\n        self.a = 0        #ship acceleration\n\n    #calculate acceleration based on thrust throttle and mass minus acceleration due to gravity    \n    def acc(self):\n        return ((self.thrust_max*self.throttle)/(self.mass))-9.8\n\n    def step(self): #ship step\n\n        #get outputs from NN\n        self.outputs = self.brain.feedForward([self.throttle,self.a,((self.y)-sp)])\n\n        #if output 1 is high increase thrust by variable amount based on certainty\n        if self.outputs[0] &gt;= 0.6:\n            self.throttle += self.outputs[0]-0.5\n            #print('throttle up')\n        #if output 2 is high decrease thrust by variable amount based on certainty\n        elif self.outputs[1] &gt;= 0.6:\n            self.throttle -= self.outputs[1]-0.5\n\n        #throttle limiting between 0% and 100% (0-1)\n        if self.throttle &lt;= 0:\n            self.throttle = 0\n        elif self.throttle &gt;= 1:\n            self.throttle = 1\n\n        #store delta from setpoint to array for plotting and analysis\n        self.deltasp.append(abs(self.y-sp))\n\n        #increase x arbitrarily (legacy code from turtle version could be useful later)\n        self.x += 0.1\n\n        #increase y (height) by timestep times velocity\n        self.y += self.env.dt*self.velocity\n\n        #calculate new acceleration\n        self.a = self.acc()\n\n        #limit height to 0 \n        #floor collision detection\n        if self.y &lt; 0:\n            self.a = 0\n            self.velocity = 0\n            self.y = 0\n\n        #store y coord (height) for plotting and analysis            \n        self.yset.append(self.y)\n\n        #calculate new velocity based on acceleration and timestep\n        self.velocity = self.velocity + self.env.dt*self.a\n\n        #calculate fitness as summation of difference from setpoint\n        self.brain.fitness = sum(self.deltasp)\n\n    #mutate NN for evolution\n    def evolve(self):\n        self.brain.mutate()\n\ndef bubble_sort(seq): #modified bubblesort borrowed from http://python3.codes/popular-sorting-algorithms/\n    for ob in seq:\n        #print(ob.brain.weights)\n        pass\n    changed = True\n    while changed:\n        changed = False\n        for i in range(len(seq) - 1):\n            if abs(seq[i].brain.fitness) &lt; abs(seq[i+1].brain.fitness):\n                seq[i], seq[i+1] = seq[i+1], seq[i]\n                changed = True\n    return None\n\ndef reproduce(ships): #make new ships based on fitness\n    mute_ships = []\n    return_ships = []\n\n    for o in ships:\n        mute_ships.append(o)\n\n    bubble_sort(mute_ships) #sort ships by fitness\n\n    for i in range(len(ships)): #create array of mutated best ship\n        mute_ships[-1].evolve()\n        return_ships.append(mute_ships[-1]) \n\n    return return_ships #array of mutated ships\n\ndef main(): #main loop\n    new_ships = [] #mutated ships container\n\n    for gen in range(generations): #loop for generations\n        ships = []\n        env = environment()\n\n        if gen == 0:# if first generation generate initial population\n            for i in range(population): \n                np.random.seed(dt.now().microsecond)\n                shp = ship(500.0, -100.0, 0.0, 0.0, 9800.0, 0.0, env)\n                ships.append(shp)\n\n        else: #if not first generation copy ships from mutated ships\n            ships = new_ships\n            for o in ships:\n                o.env.objects.append(o)\n            new_ships = []\n\n        env.init()   #initialize environment\n        env.start()  #start environment simulation\n\n        for o in reproduce(ships):#mutate ships\n            new_ships.append(o)\n\n        del env\n\n###     DEBUGGING    ###\n        #print(len(new_ships))\n        #print(ships[0].brain.weights == new_ships[0].brain.weights)\n        #if ships[0].brain.weights == new_ships[0].brain.weights:\n            #print('no mutations')\n        #print(\"generation: \", gen + 1)\n        #for o in ships:\n            #print(o.brain.fitness)\n            #plt.plot(range(len(o.yset)),o.yset)\n\n    #print(ships[0].brain.fitness)\n\n    for o in ships:    #plot different statistics\n        #print(o.brain.fitness)\n        plt.plot(range(len(o.yset)),o.yset)\n        #plt.plot(range(len(o.deltasp)),o.deltasp)\n\n    return \"done\"\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>At this point I'm pretty stuck. Sorry for some of the spaghetti code. I've tried to clean it up a bit.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "difference"], "comments": [{"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 2, "creation_date": 1502929509, "post_id": 45724647, "comment_id": 78407355, "body": "Since you do not tell us what <code>sheet</code> is, your code snippets are not complete. Please read and follow <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "is_accepted": true, "score": 0, "last_activity_date": 1502928017, "creation_date": 1502928017, "answer_id": 45724689, "question_id": 45724647, "link": "https://stackoverflow.com/questions/45724647/what-is-the-difference-between-multiple-try-except-functions-and-combining-the/45724689#45724689", "title": "What is the difference between multiple try: except: functions and combining them?", "body": "<p>In the first snippet, if there's an issue with <code>value[1:4]</code> which throws exception (for example, it'll be a character which will cause <code>int()</code> to raise an exception) the code will continue and try to evaluate <code>value[2:5]</code> vs. the second snippet where it'll \"jump\" to evaluating <code>value[1:3]</code></p>\n"}], "owner": {"reputation": 113, "user_id": 8475140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42e4170c3c292b0d80ecf617faba01e7?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Li", "link": "https://stackoverflow.com/users/8475140/victor-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 45724689, "answer_count": 1, "score": -1, "last_activity_date": 1502928017, "creation_date": 1502927674, "question_id": 45724647, "link": "https://stackoverflow.com/questions/45724647/what-is-the-difference-between-multiple-try-except-functions-and-combining-the", "title": "What is the difference between multiple try: except: functions and combining them?", "body": "<p>I have two codes but they give different answers can someone tell me the difference?</p>\n\n<p>This is the first one:</p>\n\n<pre><code>number_in_red=[]\nfor i in range(1, sheet.max_row +1):\n    try:\n        if 95&lt;=int(sheet.cell(row=i,column=3).value[1:4])&lt;=289:\n            number_in_red.append(i)\n    except ValueError:\n        try:\n            if 289&gt;=int(sheet.cell(row=i,column=3).value[2:5])&gt;=95:\n                number_in_red.append(i)\n        except ValueError:\n            try:\n                if 95&lt;=int(sheet.cell(row=i,column=3).value[1:3]):\n                    number_in_red.append(i)\n            except ValueError:\n                try:\n                    if int(sheet.cell(row=i,column=3).value[2:4])&gt;=95:\n                        number_in_red.append(i)\n                except ValueError:\n                    pass\n</code></pre>\n\n<p>How is this second one different?</p>\n\n<pre><code>number_in_red=[]\nfor i in range(1, sheet.max_row +1):\n    try:\n        if 95&lt;=int(sheet.cell(row=i,column=3).value[1:4])&lt;=289 or 289&gt;=int(sheet.cell(row=i,column=3).value[2:5])&gt;=95:\n            number_in_red.append(i)\n    except ValueError:\n        try:\n            if 95&lt;=int(sheet.cell(row=i,column=3).value[1:3]) or int(sheet.cell(row=i,column=3).value[2:4])&gt;=95:\n                number_in_red.append(i)\n        except ValueError:\n            pass\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "downsampling"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1502938101, "last_edit_date": 1502938101, "creation_date": 1502929574, "answer_id": 45724857, "question_id": 45724633, "link": "https://stackoverflow.com/questions/45724633/down-sampling-specific-period-on-dataframe-using-pandas/45724857#45724857", "title": "Down-sampling specific period on dataframe using Pandas", "body": "<p>Give your dataframe proper column names</p>\n\n<pre><code>df.columns = 'year month day hour minute second sl'.split()\n</code></pre>\n\n<p><strong>Solution</strong>  </p>\n\n<pre><code>df.groupby(['year', 'month', 'day', 'hour'], as_index=False).first()\n\n   year  month  day  hour  minute  second    sl\n0  2007     11   30    19       0       0  2180\n1  2007     11   30    20       0       0  2310\n2  2007     11   30    21       0       0  2400\n3  2007     11   30    22       0       0  2400\n4  2007     11   30    23       0       0  2270\n5  2008      1    1     0       0       0  2210\n6  2008      1    1     1       0       0  2190\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\nHere is an option that builds off of the column renaming.  We'll use <code>pd.to_datetime</code> to cleverly get at our dates, then use <code>resample</code>.  However, you have time gaps and will have to address nulls and re-cast dtypes.</p>\n\n<pre><code>df.set_index(\n    pd.to_datetime(df.drop('sl', 1))\n).resample('H').first().dropna().astype(df.dtypes)\n\n                     year  month  day  hour  minute  second    sl\n2007-11-30 19:00:00  2007     11   30    19       0       0  2180\n2007-11-30 20:00:00  2007     11   30    20       0       0  2310\n2007-11-30 21:00:00  2007     11   30    21       0       0  2400\n2007-11-30 22:00:00  2007     11   30    22       0       0  2400\n2007-11-30 23:00:00  2007     11   30    23       0       0  2270\n2008-01-01 00:00:00  2008      1    1     0       0       0  2210\n2008-01-01 01:00:00  2008      1    1     1       0       0  2190\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1502936214, "post_id": 45724985, "comment_id": 78408791, "body": "If you run this you&#39;ll see that you still need to handle the nulls from the gaps and dtypes of float from nulls."}], "tags": [], "owner": {"reputation": 1140, "user_id": 4674445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b32614c30c1c500c69028f5e62bb7c?s=128&d=identicon&r=PG", "display_name": "Yigal", "link": "https://stackoverflow.com/users/4674445/yigal"}, "is_accepted": false, "score": 2, "last_activity_date": 1502930570, "creation_date": 1502930570, "answer_id": 45724985, "question_id": 45724633, "link": "https://stackoverflow.com/questions/45724633/down-sampling-specific-period-on-dataframe-using-pandas/45724985#45724985", "title": "Down-sampling specific period on dataframe using Pandas", "body": "<p>Rename the minute column for convenience:</p>\n\n<pre><code>df.columns = ['yr', 'm', 'd', 'h', 'M', 's', 'sl']\n</code></pre>\n\n<p>Create a datetime column:</p>\n\n<pre><code>from datetime import datetime as dt\ndf['dt'] = df.apply(axis=1, func=lambda x: dt(x.yr, x.m, x.d, x.h, x.M, x.s))\n</code></pre>\n\n<p>Resample:</p>\n\n<p>For pandas &lt; 0.19:</p>\n\n<pre><code>df = df.set_index('dt').resample('60T').reset_index('dt')\n</code></pre>\n\n<p>For pandas >= 0.19:</p>\n\n<pre><code>df = df.resample('60T', on='dt')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1502936233, "post_id": 45725021, "comment_id": 78408796, "body": "If you run this you&#39;ll see that you still need to handle the nulls from the gaps and dtypes of float from nulls."}], "tags": [], "owner": {"reputation": 338, "user_id": 5885985, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4026b62b9d5e62d9049fbdec6a4fcdcf?s=128&d=identicon&r=PG&f=1", "display_name": "ARASH", "link": "https://stackoverflow.com/users/5885985/arash"}, "is_accepted": false, "score": 2, "last_activity_date": 1502930799, "creation_date": 1502930799, "answer_id": 45725021, "question_id": 45724633, "link": "https://stackoverflow.com/questions/45724633/down-sampling-specific-period-on-dataframe-using-pandas/45725021#45725021", "title": "Down-sampling specific period on dataframe using Pandas", "body": "<p>You'd better first append a datetime column to your dataframe:<br>\n<code>df['datetime'] = pd.to_datetime(df[['yr', 'mnth', 'd', 'h', 'm', 's']])</code>   </p>\n\n<p>But before that you should rename the month column:<br>\n<code>df.rename(columns={ df.columns[1]: \"mnth\" })</code>  </p>\n\n<p>Then you set a datetime column as dataframe index:<br>\n<code>data.set_index('datetime', inplace=True)</code>  </p>\n\n<p>Now you can apply resample method on your dataframe on by prefereed sampling rate:<br>\n<code>df.resample('60T', on='datatime').mean()</code></p>\n\n<p>Here I used <strong>mean</strong> to aggregate. You can use other method based on your need. \nSee <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"nofollow noreferrer\" title=\"pandas resample\">Pandas document</a> as a ref.</p>\n"}], "owner": {"reputation": 150, "user_id": 5091025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b269d37afc49c98643b9f92849c75ab3?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Aguiar", "link": "https://stackoverflow.com/users/5091025/victor-aguiar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 45724857, "answer_count": 3, "score": 1, "last_activity_date": 1502938101, "creation_date": 1502927587, "last_edit_date": 1502929736, "question_id": 45724633, "link": "https://stackoverflow.com/questions/45724633/down-sampling-specific-period-on-dataframe-using-pandas", "title": "Down-sampling specific period on dataframe using Pandas", "body": "<p>I have a long time serie that starts in 1963 and ends in 2013. However, from 1963 til 2007 it has an hourly sampling period while after 2007's sampling rate changes to 5 minutes. Is it possible to resample data just after 2007 in a way that the entire time serie has hourly data sampling? Data slice below.</p>\n\n<pre><code>yr, m, d, h, m, s, sl\n2007, 11, 30, 19, 0, 0, 2180\n2007, 11, 30, 20, 0, 0, 2310\n2007, 11, 30, 21, 0, 0, 2400\n2007, 11, 30, 22, 0, 0, 2400\n2007, 11, 30, 23, 0, 0, 2270\n2008, 1, 1, 0, 0, 0, 2210\n2008, 1, 1, 0, 5, 0, 2210\n2008, 1, 1, 0, 10, 0, 2210\n2008, 1, 1, 0, 15, 0, 2200\n2008, 1, 1, 0, 20, 0, 2200\n2008, 1, 1, 0, 25, 0, 2200\n2008, 1, 1, 0, 30, 0, 2200\n2008, 1, 1, 0, 35, 0, 2200\n2008, 1, 1, 0, 40, 0, 2200\n2008, 1, 1, 0, 45, 0, 2200\n2008, 1, 1, 0, 50, 0, 2200\n2008, 1, 1, 0, 55, 0, 2200\n2008, 1, 1, 1, 0, 0, 2190\n2008, 1, 1, 1, 5, 0, 2190  \n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 7292, "user_id": 2848578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYDjL.jpg?s=128&g=1", "display_name": "Nicole White", "link": "https://stackoverflow.com/users/2848578/nicole-white"}, "edited": false, "score": 0, "creation_date": 1503258617, "post_id": 45724606, "comment_id": 78529999, "body": "Do you actually want four-dimensional output or do you mean three-dimensional output with four timesteps?"}, {"owner": {"reputation": 7292, "user_id": 2848578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYDjL.jpg?s=128&g=1", "display_name": "Nicole White", "link": "https://stackoverflow.com/users/2848578/nicole-white"}, "edited": false, "score": 0, "creation_date": 1503262549, "post_id": 45724606, "comment_id": 78531047, "body": "Additionally, you should provide runnable code. The above code would fail as your <code>input_shape</code> is <code>(100, 5)</code> but each sample in <code>x_train</code> has shape <code>(3, 5)</code>."}, {"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "reply_to_user": {"reputation": 7292, "user_id": 2848578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYDjL.jpg?s=128&g=1", "display_name": "Nicole White", "link": "https://stackoverflow.com/users/2848578/nicole-white"}, "edited": false, "score": 0, "creation_date": 1503272974, "post_id": 45724606, "comment_id": 78533292, "body": "My wrong... i meant four timesteps!"}, {"owner": {"reputation": 7292, "user_id": 2848578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYDjL.jpg?s=128&g=1", "display_name": "Nicole White", "link": "https://stackoverflow.com/users/2848578/nicole-white"}, "edited": false, "score": 0, "creation_date": 1503294530, "post_id": 45724606, "comment_id": 78537722, "body": "Okay, and you&#39;re saying a single <code>y_train</code> can have a variable number of timesteps?"}, {"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "reply_to_user": {"reputation": 7292, "user_id": 2848578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYDjL.jpg?s=128&g=1", "display_name": "Nicole White", "link": "https://stackoverflow.com/users/2848578/nicole-white"}, "edited": false, "score": 0, "creation_date": 1503304883, "post_id": 45724606, "comment_id": 78542990, "body": "Exactly @NicoleWhite"}], "answers": [{"comments": [{"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503137801, "post_id": 45770163, "comment_id": 78498838, "body": "What DL library are you using? Yes i can use a delimiter to understand the start and the end of the sequence, but i am not able to replicate it in Keras. I found examples that are padding the sequence with zeros but the total length is fixes, so i think i should set a MAX length and pad it if the sentence is shorter."}, {"owner": {"reputation": 1074, "user_id": 2179162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8f6d092cf3cedf69082cdd2bf43589?s=128&d=identicon&r=PG", "display_name": "Giuseppe Marra", "link": "https://stackoverflow.com/users/2179162/giuseppe-marra"}, "reply_to_user": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503138579, "post_id": 45770163, "comment_id": 78499031, "body": "I use tensorflow, but usually I find easier to make this preprocessing step (padding, ect) directly in python before providing it to tensorflow (however, there are some tensorflow functions to do it automatically)"}, {"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503139869, "post_id": 45770163, "comment_id": 78499397, "body": "Yes, sounds better... I also use tensorflow as backend but how do you pad the sequence? because if you pad the sentence it means that you are using the same (fixed) vector lenght with zeros for short sequences."}, {"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503140231, "post_id": 45770163, "comment_id": 78499502, "body": "Giuseppe the problem is that using a seq2seq approach the input (question) should be short, the answer very long (i do not know the length) so how can i pad it?"}, {"owner": {"reputation": 1074, "user_id": 2179162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8f6d092cf3cedf69082cdd2bf43589?s=128&d=identicon&r=PG", "display_name": "Giuseppe Marra", "link": "https://stackoverflow.com/users/2179162/giuseppe-marra"}, "reply_to_user": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503311360, "post_id": 45770163, "comment_id": 78547223, "body": "In a mini-batch approach there is no way to avoid long paddings: just pad everything to a maximum length that will be hardly overcome by your answers. Truncated BPTT (Back-Propagation Through Time) via State Saver of the question above explain you how to handle long inputs. For long outputs, since you don&#39;t know the length of your answer, you can&#39;t use a similar apporach. In an online scenario, you can just check if your answer presents the stop symbol. If not provide a new blank input and restore the last state of the RNN."}], "tags": [], "owner": {"reputation": 1074, "user_id": 2179162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8f6d092cf3cedf69082cdd2bf43589?s=128&d=identicon&r=PG", "display_name": "Giuseppe Marra", "link": "https://stackoverflow.com/users/2179162/giuseppe-marra"}, "is_accepted": false, "score": 2, "last_activity_date": 1503136761, "creation_date": 1503136761, "answer_id": 45770163, "question_id": 45724606, "link": "https://stackoverflow.com/questions/45724606/how-to-train-a-lstm-model-with-different-n-dimensions-labels/45770163#45770163", "title": "How to train a LSTM model with different N-dimensions labels?", "body": "<p>I don't know Keras but from a practical and theoretical point of view this is absolutely possible.</p>\n\n<p>The idea is that you have an <em>input sequence</em> and an <em>output sequence</em>. Commonly, the beginning and the end of each sequence are delimited by some special symbol (e.g. the character sequence \"cat\" is translated into \"^cat#\" with an start symbol \"^\" and an end symbol \"#\"). Then the sequence is padded with another special symbol, up to a <em>maximum sequence length</em> (e.g. \"^cat#$$$$$$\" with a padding symbol \"$\").</p>\n\n<p>If the padding symbol correspond to a zero-vector, it will have no impact on your training. </p>\n\n<p>Your output sequence could now assume any length up to the maximum one, because the real length is the one from the start to the end symbol positions.</p>\n\n<p>In other words, you will have always the same input and output sequence length (i.e. the maximum one), but the real length is that between the start and the end symbols.</p>\n\n<p>(Obviously, in the output sequence, anything after the end symbol should not be considered in the loss function)</p>\n"}, {"tags": [], "owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "is_accepted": false, "score": 0, "last_activity_date": 1503358511, "creation_date": 1503358511, "answer_id": 45806889, "question_id": 45724606, "link": "https://stackoverflow.com/questions/45724606/how-to-train-a-lstm-model-with-different-n-dimensions-labels/45806889#45806889", "title": "How to train a LSTM model with different N-dimensions labels?", "body": "<p>There seems to be two methods to do a sequence to sequence method, you're describing. The first directly using keras using <a href=\"https://blog.keras.io/building-autoencoders-in-keras.html\" rel=\"nofollow noreferrer\">this example</a> (code below)</p>\n\n<pre><code>from keras.layers import Input, LSTM, RepeatVector\nfrom keras.models import Model\n\ninputs = Input(shape=(timesteps, input_dim))\nencoded = LSTM(latent_dim)(inputs)\n\ndecoded = RepeatVector(timesteps)(encoded)\ndecoded = LSTM(input_dim, return_sequences=True)(decoded)\n\nsequence_autoencoder = Model(inputs, decoded)\nencoder = Model(inputs, encoded)\n</code></pre>\n\n<p>Where the repeat vector repeats the initial time series n times to match the output vectors number of timestamps. This will still mean you need a fixed number of time steps in you output vector, however, there may be a method to padding vectors that have less timestamps than you max amount of timesteps.</p>\n\n<p>Or you can you the <a href=\"https://github.com/farizrahman4u/seq2seq\" rel=\"nofollow noreferrer\">seq2seq</a> module, which is built ontop of keras.</p>\n"}, {"comments": [{"owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503529015, "post_id": 45848264, "comment_id": 78659197, "body": "Thank you! But i have a doubt regarding the time steps, I have followed your advice, i have tested the Reshape() layer that is working just fine, please take a look at: <a href=\"https://gist.github.com/anonymous/4c8c04ad25ef349be5e9ebaec4c5830c\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/4c8c04ad25ef349be5e9ebaec4c5830c</a> as you can see the summary looks promising, it shows the different shape. However the problem cames when i try to fit() the data (line 33). It is waiting the same number of time steps as the input so i really cannot use Reshape. What have i forgotten?"}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503596108, "post_id": 45848264, "comment_id": 78694255, "body": "I can&#39;t see your code right now, but it&#39;s waiting the same number of &quot;examples&quot;. If the error message says &quot;target&quot; the problem is in &quot;Y&quot;, if it says &quot;input(s)&quot;, the problem is in &quot;X&quot;. ---- First, &quot;X&quot; and &quot;Y&quot; should have the same number of &quot;examples/samples&quot; (the first dimension). Each example in X should give one result in Y, always. The second dimension, which is the timesteps, is only related to the &quot;input_dimension&quot; for X and to the last layer&#39;s output for Y."}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "edited": false, "score": 0, "creation_date": 1503596576, "post_id": 45848264, "comment_id": 78694532, "body": "Supposing your <code>input_shape=(100,5)</code>, and that you have 6000 examples for training, X must shaped like <code>(6000, 100, 5)</code>. If you have only one example, X must be like <code>(1,100,5)</code>. Now, supposing your output shape is <code>(None, 4, 5)</code>, Y must be shaped like <code>(6000,4,5)</code>, respecting: rule 1 - same number of examples as in X; rule 2 - the output shape of the last layer. (Each example is an entire sequence)."}], "tags": [], "owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "is_accepted": true, "score": 2, "last_activity_date": 1503518737, "last_edit_date": 1592644375, "creation_date": 1503518047, "answer_id": 45848264, "question_id": 45724606, "link": "https://stackoverflow.com/questions/45724606/how-to-train-a-lstm-model-with-different-n-dimensions-labels/45848264#45848264", "title": "How to train a LSTM model with different N-dimensions labels?", "body": "<p>This answer is for non varying dimensions, but for varying dimensions, the <strong>padding</strong> idea in Giuseppe's answer seems the way to go, maybe with help of the <a href=\"https://keras.io/layers/recurrent/\" rel=\"nofollow noreferrer\">&quot;Masking&quot;</a> proposed in Keras documentation.</p>\n<hr />\n<p>The output shape in Keras is totally dependent on the number of &quot;units/neurons/cells&quot; you put in the last layer, and of course, on the type of layer.</p>\n<p>I can see that your data does not match your code in your question, it's impossible, but, suppose your code is right and forget the data for a while.</p>\n<p>An <strong>input shape of (100,5)</strong> in an LSTM layer means a tensor of shape <code>(None, 100, 5)</code>, which is</p>\n<ul>\n<li><code>None</code> is the batch size. The first dimension of your data is reserved to the <strong>number of examples</strong> you have. (X and Y must have the same number of examples).</li>\n<li>Each example is a <code>sequence with 100 time steps</code></li>\n<li>each time step is a <code>5-dimension vector</code>.</li>\n</ul>\n<p>And the <strong>32 cells</strong> in this same LSTM layer means that the resulting vectors will change from 5 to 32-dimension vectors. With <code>return_sequences=True</code>, all the 100 timesteps will appear in the result. So the result shape of the first layer is <code>(None, 100, 32)</code>:</p>\n<ul>\n<li>Same number of examples (this will never change along the model)</li>\n<li>Still 100 timesteps per example (because <code>return_sequences=True</code>)</li>\n<li>each time step is a 32-dimension vector (because of 32 cells)</li>\n</ul>\n<p><strong>Now the second LSTM layer</strong> does exactly the same thing. Keeps the 100 timesteps, and since it has also 32 cells, keeps the 32-dimension vectors, so the output is also <code>(None, 100, 32)</code></p>\n<p><strong>Finally, the time distributed Dense layer</strong> will also keep the 100 timesteps (because of <code>TimeDistributed</code>), and change your vectors to 5-dimensoin vectors again (because of <code>5 units</code>), resulting in <code>(None, 100, 5)</code>.</p>\n<hr />\n<p>As you can see, you cannot change the number of timesteps directly with recurrent layers, you need to use other layers to change these dimensions. And the way to do this is completely up to you, there are infinite ways of doing this.</p>\n<p>But in all of them, you need to get free of the timesteps and rebuild the data with another shape.</p>\n<hr />\n<h2>Suggestion</h2>\n<p><strong>A suggestion</strong> from me (which is just one possibility) is to reshape your result, and apply another dense layer just to achieve the final shape expeted.</p>\n<p>Suppose you want a result like <code>(None, 4, 5)</code> (never forget, the first dimension of your data is the number of <strong>examples</strong>, it can be any number, but you must take it into account when you organize your data). We can achieve this by reshaping the data to a shape containing 4 in the second dimension:</p>\n<pre><code>#after the Dense layer:\n\nmodel.add(Reshape((4,125)) #the batch size doesn't appear here, \n   #just make sure you have 500 elements, which is 100*5 = 4*125\n\nmodel.add(TimeDistributed(Dense(5))\n#this layer could also be model.add(LSTM(5,return_sequences=True)), for instance\n\n#continue to the &quot;Activation&quot; layer\n</code></pre>\n<p>This will give you 4 timesteps (because the dimension after Reshape was: (None, 4, 125), each step being a 5-dimension vector (because of Dense(5)).</p>\n<p>Use the <code>model.summary()</code> command to see the shapes outputted by each layer.</p>\n"}], "owner": {"reputation": 4058, "user_id": 887651, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/edb4f5a60f04e78366d548a67abd6894?s=128&d=identicon&r=PG", "display_name": "Dail", "link": "https://stackoverflow.com/users/887651/dail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 3, "accepted_answer_id": 45848264, "answer_count": 3, "score": 6, "last_activity_date": 1503518737, "creation_date": 1502927371, "question_id": 45724606, "link": "https://stackoverflow.com/questions/45724606/how-to-train-a-lstm-model-with-different-n-dimensions-labels", "title": "How to train a LSTM model with different N-dimensions labels?", "body": "<p>I am using keras (ver. 2.0.6 with TensorFlow backend) for a simple neural network:</p>\n\n<pre><code>model = Sequential()\nmodel.add(LSTM(32, return_sequences=True, input_shape=(100, 5)))\nmodel.add(LSTM(32, return_sequences=True)) \nmodel.add(TimeDistributed(Dense(5)))\nmodel.add(Activation('softmax'))\nmodel.compile(loss='categorical_crossentropy',\n              optimizer='rmsprop',\n              metrics=['accuracy'])\n</code></pre>\n\n<p>It is only a test for me, I am \"training\" the model with the following dummy data.</p>\n\n<pre><code>x_train = np.array([\n    [[0,0,0,0,1], [0,0,0,1,0], [0,0,1,0,0]],\n    [[1,0,0,0,0], [0,1,0,0,0], [0,0,1,0,0]],\n    [[0,1,0,0,0], [0,0,1,0,0], [0,0,0,1,0]],\n    [[0,0,1,0,0], [1,0,0,0,0], [1,0,0,0,0]],\n    [[0,0,0,1,0], [0,0,0,0,1], [0,1,0,0,0]],\n    [[0,0,0,0,1], [0,0,0,0,1], [0,0,0,0,1]]\n])\n\ny_train = np.array([\n    [[0,0,0,0,1], [0,0,0,1,0], [0,0,1,0,0]],\n    [[1,0,0,0,0], [0,1,0,0,0], [0,0,1,0,0]],\n    [[0,1,0,0,0], [0,0,1,0,0], [0,0,0,1,0]],\n    [[1,0,0,0,0], [1,0,0,0,0], [1,0,0,0,0]],\n    [[1,0,0,0,0], [0,0,0,0,1], [0,1,0,0,0]],\n    [[1,0,0,0,0], [0,0,0,0,1], [0,0,0,0,1]]\n])\n</code></pre>\n\n<p>then i do:</p>\n\n<pre><code>model.fit(x_train, y_train, batch_size=2, epochs=50, shuffle=False)\n\nprint(model.predict(x_train))\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>[[[ 0.11855114  0.13603994  0.21069065  0.28492314  0.24979511]\n  [ 0.03013871  0.04114409  0.16499813  0.41659597  0.34712321]\n  [ 0.00194826  0.00351031  0.06993906  0.52274817  0.40185428]]\n\n [[ 0.17915446  0.19629011  0.21316603  0.22450975  0.18687972]\n  [ 0.17935558  0.1994358   0.22070852  0.2309722   0.16952793]\n  [ 0.18571526  0.20774922  0.22724937  0.23079531  0.14849086]]\n\n [[ 0.11163659  0.13263632  0.20109797  0.28029731  0.27433187]\n  [ 0.02216373  0.03424517  0.13683401  0.38068131  0.42607573]\n  [ 0.00105937  0.0023865   0.0521594   0.43946937  0.50492537]]\n\n [[ 0.13276921  0.15531689  0.21852671  0.25823513  0.23515201]\n  [ 0.05750636  0.08210614  0.22636817  0.3303588   0.30366054]\n  [ 0.01128351  0.02332032  0.210263    0.3951444   0.35998878]]\n\n [[ 0.15303896  0.18197381  0.21823004  0.23647803  0.21027911]\n  [ 0.10842207  0.15755147  0.23791778  0.26479205  0.23131666]\n  [ 0.06472684  0.12843341  0.26680911  0.28923658  0.25079405]]\n\n [[ 0.19560908  0.20663913  0.21954383  0.21920268  0.15900527]\n  [ 0.22829761  0.22907974  0.22933882  0.20822221  0.10506159]\n  [ 0.27179539  0.25587022  0.22594844  0.18308094  0.063305  ]]]\n</code></pre>\n\n<p>Ok, It works, but it is just a test, i really do not care about accuracy etc. I would like to understand how i can work with output of different size.</p>\n\n<p>For example: passing a sequence (numpy.array) like:</p>\n\n<pre><code>[[0,0,0,0,1], [0,0,0,1,0], [0,0,1,0,0]]\n</code></pre>\n\n<p>I would like to get 4 dimensions output as prediction:</p>\n\n<pre><code>[[..first..], [..second..], [..third..], [..four..]]\n</code></pre>\n\n<p>Is that possibile somehow? The size could vary I would train the model with different labels that can have different N-dimensions.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "animation", "matplotlib", "jupyter-notebook"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502929781, "post_id": 45724548, "comment_id": 78407408, "body": "The solution will surely depend on how exactly you envision your project. What should the notebook contain? Would it need to show other plots as well? If so, how? Also, why is it more time consuming to show the animation inside the notebook than outside? The better you explain, the better the answers you get."}, {"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502932232, "post_id": 45724548, "comment_id": 78407947, "body": "@ImportanceOfBeingErnest Thank you for asking clarification."}], "answers": [{"comments": [{"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1502999047, "post_id": 45731293, "comment_id": 78444856, "body": "<code>%matplotlib tk</code> solves my problem. Thank you for helping out."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1508696692, "last_edit_date": 1508696692, "creation_date": 1502961914, "answer_id": 45731293, "question_id": 45724548, "link": "https://stackoverflow.com/questions/45724548/display-animation-outside-of-jupyter-notebook/45731293#45731293", "title": "Display animation outside of jupyter notebook", "body": "<h3>Animation inside of notebook</h3>\n\n<p>Reading the question, I wonder if you are aware of the <code>%matplotlib notebook</code> backend. While it will show the animation inside the notebook, I feel that it would suit all the described needs. </p>\n\n<pre><code>%matplotlib notebook\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation \nimport numpy as np\n\na = np.random.rand(10,4)\nfig, ax =plt.subplots()\nax.axis([0,1,0,1])\npoints1, = plt.plot([],[], ls=\"\", marker=\"d\", color=\"indigo\")\npoints2, = plt.plot([],[], ls=\"\", marker=\"o\", color=\"crimson\")\n\ndef update(i):\n    points1.set_data(a[i:i+2,0],a[i:i+2,1])\n    points2.set_data(a[i:i+2,2],a[i:i+2,3])\n    return points1, points2\n\nanim = FuncAnimation(fig, update, frames=len(a)-1, repeat=True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3zCNr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3zCNr.png\" width=\"380\"></a></p>\n\n<p>Note that using this kind of animation, where the data is updated with <code>set_data</code> is showing the same whether saved to video or shown on screen.\nHence, if it wasn't for the time it takes to replace the video, you could well use it in the initially shown way, deleting <code>%matplotlib notebook</code> and adding</p>\n\n<pre><code>from IPython.display import HTML\nHTML(anim.to_html5_video())\n</code></pre>\n\n<p>If using matplotlib 2.1, you may also opt for a JavaScript animation, </p>\n\n<pre><code>from IPython.display import HTML\nHTML(ani.to_jshtml())\n</code></pre>\n\n<h3>Animation in new window</h3>\n\n<p>If you want to have a window appearing, you should neither use <code>%matplotlib inline</code> nor <code>%matplotlib notebook</code>, instead replace the first line in the above code by </p>\n\n<pre><code>%matplotlib tk\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zydQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zydQm.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 2, "accepted_answer_id": 45731293, "answer_count": 1, "score": 1, "last_activity_date": 1508696692, "creation_date": 1502926958, "last_edit_date": 1502934641, "question_id": 45724548, "link": "https://stackoverflow.com/questions/45724548/display-animation-outside-of-jupyter-notebook", "title": "Display animation outside of jupyter notebook", "body": "<p>I want to use Jupyter notebook to host my code for a presentation, but I don't want to embed animation into the notebook. (Because it is time-consuming to embed the video.) I want to run the cells and pop up a screen as if I am running the code in the terminal. </p>\n\n<pre><code>from matplotlib.animation import FuncAnimation \nfrom matplotlib.pyplot import plot, show, subplots, title  # annotate\nfrom IPython.display import HTML\n\nanim = FuncAnimation(fig, update, frames=numlin, interval=100, fargs=( \n                     d, g, lr_D, lr_G, hasFake, speed, show_sample),\n                     init_func=init, blit=True, repeat=0)           \nHTML(anim.to_html5_video())\n</code></pre>\n\n<p><strong>Why using the notebook?</strong> The main reason to use the notebook is that I have many different setups for an experiment. I want to use different cells to represent different configurations, and if people want to see results from a particular configuration, I can run it right away.</p>\n\n<p><strong>Time difference</strong>. The HTML function takes over a minute to generate the video I need. While in the terminal, the animation would just start. I want to prototype quickly during a meeting while the audience asks to show the results from different initial conditions.</p>\n\n<p><strong>There is also an unexpected behavior from the notebook</strong>. The video from the notebook is different from that popped up in the terminal. The video in the notebook did not erase existing frames while drawing, making the animation looks messy and cannot track the trajectory as good as its counterpart. </p>\n\n<p><a href=\"https://i.stack.imgur.com/3r8ox.png\" rel=\"nofollow noreferrer\">Animation from the notebook's output</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P0F7k.png\" rel=\"nofollow noreferrer\">Animation from the terminal's output</a></p>\n\n<p>This drawing behavior is another reason why I don't want to use the notebook to display the animation.</p>\n\n<p><strong>Will the notebook needs to show other plots.</strong> I hope so, but it is not necessary. I can open another notebook for just plots if needed.</p>\n\n<p>Please let me know if I do not explain it well.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 2, "last_activity_date": 1502927623, "last_edit_date": 1502927623, "creation_date": 1502927316, "answer_id": 45724599, "question_id": 45724527, "link": "https://stackoverflow.com/questions/45724527/check-if-a-column-value-in-a-pandas-dataframe-is-present-in-a-series/45724599#45724599", "title": "Check if a column value in a pandas dataframe is present in a series", "body": "<p>A silly solution is here:</p>\n\n<pre><code>skype_names = set(skype_list.values)\ndf['skype'] = df.Name.apply(lambda x: x in skype_names).astype(int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 6, "last_activity_date": 1502927388, "creation_date": 1502927388, "answer_id": 45724608, "question_id": 45724527, "link": "https://stackoverflow.com/questions/45724527/check-if-a-column-value-in-a-pandas-dataframe-is-present-in-a-series/45724608#45724608", "title": "Check if a column value in a pandas dataframe is present in a series", "body": "<p>Or you can use <code>isin</code>:</p>\n\n<pre><code>df['skype'] = df.Name.isin(skype_list).astype(int)\n\ndf    \n# Application   ID       Name   skype\n#0          0   12      Sally       1\n#1          1   32       Bill       0\n#2          2   35       Dave       0\n#3          3   11  Positivus       1\n#4          4   9       Milan       1\n</code></pre>\n"}], "owner": {"reputation": 252, "user_id": 7231301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8pkJR.jpg?s=128&g=1", "display_name": "cgclip", "link": "https://stackoverflow.com/users/7231301/cgclip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 45724608, "answer_count": 2, "score": 3, "last_activity_date": 1502927639, "creation_date": 1502926760, "question_id": 45724527, "link": "https://stackoverflow.com/questions/45724527/check-if-a-column-value-in-a-pandas-dataframe-is-present-in-a-series", "title": "Check if a column value in a pandas dataframe is present in a series", "body": "<p>I have a Pandas DataFrame that looks like this:</p>\n\n<pre><code>&gt;&gt;&gt;df\n  Application ID     Name \n0          12         Sally   \n1          32         Bill   \n2          35         Dave   \n3          11         Positivus   \n4          09         Milan   \n</code></pre>\n\n<p>And a series that looks like this</p>\n\n<pre><code> &gt;&gt;&gt; skype_list\n0                                 Milan\n1                                 Sally\n2                                 Greg\n3                                 Jim\n4                                 Positivus\n</code></pre>\n\n<p>I want loop through df.Name and create a column that has a 1 if the name is in skype_list and a 0 if it is not. The result should look something like this:</p>\n\n<pre><code>&gt;&gt;&gt;df\n      Application ID     Name         skype\n    0          12         Sally        1\n    1          32         Bill         0\n    2          35         Dave         0\n    3          11         Positivus    1\n    4          09         Milan        1\n</code></pre>\n\n<p>Right now I was trying to set up a loop like this:</p>\n\n<pre><code>for x in df.Name:\n    if x in skype_list:\n        df['skype'].append(1)\n    else:\n        df['skype'].append(0)\n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1502927123, "post_id": 45724496, "comment_id": 78406865, "body": "It simply creates a unique index for that column. Primary keys must be unique but not all unique columns are primary keys. What is your question, exactly?"}, {"owner": {"reputation": 109, "user_id": 8414596, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd7380c6c130288c0340406d9bb66ada?s=128&d=identicon&r=PG&f=1", "display_name": "bootstrapman", "link": "https://stackoverflow.com/users/8414596/bootstrapman"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1502927243, "post_id": 45724496, "comment_id": 78406895, "body": "I guess that makes sense, it creates an index."}], "answers": [{"tags": [], "owner": {"reputation": 3259, "user_id": 2666042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1374514750/picture?type=large", "display_name": "Arnold Gandarillas", "link": "https://stackoverflow.com/users/2666042/arnold-gandarillas"}, "is_accepted": true, "score": 0, "last_activity_date": 1502927155, "creation_date": 1502927155, "answer_id": 45724578, "question_id": 45724496, "link": "https://stackoverflow.com/questions/45724496/does-djangos-field-unique-creates-a-primary-key/45724578#45724578", "title": "Does Django&#39;s Field.unique creates a primary key?", "body": "<p>This property just verify if the entering value exists in the db, if exists it will trigger an error.</p>\n\n<p>For example you can use <code>unique=True</code> in your <code>EmailField</code> if you don't want to have duplicate emails.</p>\n\n<p>You can see the docs <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/fields/#unique\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 109, "user_id": 8414596, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd7380c6c130288c0340406d9bb66ada?s=128&d=identicon&r=PG&f=1", "display_name": "bootstrapman", "link": "https://stackoverflow.com/users/8414596/bootstrapman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 45724578, "answer_count": 1, "score": 0, "last_activity_date": 1502927155, "creation_date": 1502926563, "question_id": 45724496, "link": "https://stackoverflow.com/questions/45724496/does-djangos-field-unique-creates-a-primary-key", "title": "Does Django&#39;s Field.unique creates a primary key?", "body": "<p>Does Django's Field.unique creates a primary key. If not it will de normalize a table where it is declared?  </p>\n"}, {"tags": ["python", "arrays", "numpy", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 1599, "user_id": 4904821, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10205245592833432/picture?type=large", "display_name": "David Ferris", "link": "https://stackoverflow.com/users/4904821/david-ferris"}, "edited": false, "score": 0, "creation_date": 1502998121, "post_id": 45724577, "comment_id": 78444361, "body": "I&#39;m a little confused about how this works.  Based on the numpy docs, <code>flatnonzero(a) returns indices that are non-zero in the flattened version of a</code>.  I take it this also works with the True/False mask array?"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 1599, "user_id": 4904821, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10205245592833432/picture?type=large", "display_name": "David Ferris", "link": "https://stackoverflow.com/users/4904821/david-ferris"}, "edited": false, "score": 1, "creation_date": 1502998511, "post_id": 45724577, "comment_id": 78444563, "body": "It does. <code>True</code> is treated as 1 and <code>False</code> is treated as 0 here, as are under most cases when implicit type conversion happens."}, {"owner": {"reputation": 1599, "user_id": 4904821, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10205245592833432/picture?type=large", "display_name": "David Ferris", "link": "https://stackoverflow.com/users/4904821/david-ferris"}, "edited": false, "score": 1, "creation_date": 1502999334, "post_id": 45724577, "comment_id": 78444988, "body": "Ahh, I understand.. and it contains the indeces corresponding to the original array! Outstanding!"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1502927153, "creation_date": 1502927153, "answer_id": 45724577, "question_id": 45724470, "link": "https://stackoverflow.com/questions/45724470/a-masked-array-indexing-issue/45724577#45724577", "title": "A masked array indexing issue", "body": "<p>You can flat the mask which returns indices from the original array, and then use the new indices to subset the mask indices:</p>\n\n<pre><code>mask = np.array([ True, False, True, False, False, True, True, True ])\nindices = [1,3]\n\nnp.flatnonzero(mask)[indices]\n# array([2, 6])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 2, "last_activity_date": 1502927448, "creation_date": 1502927448, "answer_id": 45724614, "question_id": 45724470, "link": "https://stackoverflow.com/questions/45724470/a-masked-array-indexing-issue/45724614#45724614", "title": "A masked array indexing issue", "body": "<p>You could create an index array (using <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html\" rel=\"nofollow noreferrer\"><code>np.arange</code></a>) then mask that and finally use <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#integer-array-indexing\" rel=\"nofollow noreferrer\">advanced indexing using an integer array</a> to get the corresponding items:</p>\n\n<pre><code>&gt;&gt;&gt; mask = np.array([ True, False, True, False, False, True, True, True ])\n&gt;&gt;&gt; np.arange(mask.size)[mask][[1, 3]]\narray([2, 6])\n</code></pre>\n"}], "owner": {"reputation": 1599, "user_id": 4904821, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10205245592833432/picture?type=large", "display_name": "David Ferris", "link": "https://stackoverflow.com/users/4904821/david-ferris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "accepted_answer_id": 45724577, "answer_count": 2, "score": 3, "last_activity_date": 1502928781, "creation_date": 1502926413, "last_edit_date": 1502928781, "question_id": 45724470, "link": "https://stackoverflow.com/questions/45724470/a-masked-array-indexing-issue", "title": "A masked array indexing issue", "body": "<p>I have a numpy array with some <code>NaN</code> values:</p>\n\n<pre><code>arr = [ 0, NaN, 2, NaN, NaN, 5, 6, 7 ]\n</code></pre>\n\n<p>Using some logic (outside of the question scope), I generate a mask of the NaN locations:</p>\n\n<pre><code>mask = [ True, False, True, False, False, True, True, True ]\n</code></pre>\n\n<p>I use this mask to select only the valid data:</p>\n\n<pre><code>valid_arr = arr[mask]   # [ 0, 2, 5, 6, 7 ]\n</code></pre>\n\n<p>I then perform an arbitrary algorithm which selects several <code>indeces</code> in this new array:</p>\n\n<pre><code>indeces = myAlgo(valid_arr)   # [ 1, 3 ]\n</code></pre>\n\n<p>The <code>indeces</code> in the valid array are 1,3 (corresponding to values 2 and 6).  I need to know what <code>indeces</code> these correspond to <em>in the original array</em> (<code>arr</code>).  In the above example, this is obviously <strong>2 and 6</strong>.</p>\n\n<p>The array is time series data, not sorted.  One solution is to iterate over the <code>mask</code>, incrementing a counter only when valid numbers are found.  Can this be done more efficiently using numpy?</p>\n"}, {"tags": ["python", "elasticsearch"], "comments": [{"owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 1, "creation_date": 1502940150, "post_id": 45724448, "comment_id": 78409664, "body": "pretty sure it is because the <code>project</code> field is analyzed (i.e. it has <code>text</code> type). You can either switch to using the <code>match</code> query instead, or stick with <code>term</code> but search for <code>amq</code> in lowercase instead of <code>AMQ</code>"}, {"owner": {"reputation": 14346, "user_id": 1871769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fvi8D.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1871769/rahul"}, "edited": false, "score": 0, "creation_date": 1502941237, "post_id": 45724448, "comment_id": 78409929, "body": "Adding to Val&#39;s comment above, or you can change your mapping from text type to keyword type then it will match the terms as its exact value"}], "answers": [{"comments": [{"owner": {"reputation": 1174, "user_id": 1425962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbb89b486429603c7e2bef834aa29e15?s=128&d=identicon&r=PG", "display_name": "Slomo", "link": "https://stackoverflow.com/users/1425962/slomo"}, "edited": false, "score": 0, "creation_date": 1502973131, "post_id": 45734865, "comment_id": 78427987, "body": "While this will solve this particular problem, <a href=\"https://stackoverflow.com/questions/45077406/elasticsearch-multiple-exact-search-on-field-returns-no-results/45103907#45103907\">this</a> might be an interesting read."}], "tags": [], "owner": {"reputation": 590, "user_id": 1384890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c050d31929bf518cf68d4b34aa4a7f3e?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1384890/eric"}, "is_accepted": false, "score": 0, "last_activity_date": 1502986671, "last_edit_date": 1502986671, "creation_date": 1502972150, "answer_id": 45734865, "question_id": 45724448, "link": "https://stackoverflow.com/questions/45724448/elasticsearch-must-query-with-multiple-criteria/45734865#45734865", "title": "Elasticsearch &#39;must&#39; query with multiple criteria", "body": "<p>change</p>\n\n<pre><code>{\"term\": {\"project\": \"AMQ\"}}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>{\"term\": {\"project\": \"amq\"}}\n</code></pre>\n\n<p>OR we can substitute term with match and use 'AMQ'.</p>\n\n<pre><code>{\"match\": {\"project\": \"AMQ\"}}\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 1384890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c050d31929bf518cf68d4b34aa4a7f3e?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1384890/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 941, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502986671, "creation_date": 1502926255, "question_id": 45724448, "link": "https://stackoverflow.com/questions/45724448/elasticsearch-must-query-with-multiple-criteria", "title": "Elasticsearch &#39;must&#39; query with multiple criteria", "body": "<p>Trying to get python-elasticsearch or curl to return the appropriate results when using bool and must queries.</p>\n\n<p>I know the document is in my query, I can find it with 'should'; however, I need both criteria to be satisfied so I try to do the same query with 'must'.  When I use 'must' the document in question is not returned.</p>\n\n<p><strong>With Should</strong></p>\n\n<pre><code>$ curl -XGET 'localhost:9200/polarion/subtype1/_search?pretty' -H 'Content-Type: application/json' -d'\n{\n   \"query\" : {\n      \"constant_score\" : {\n         \"filter\" : {\n            \"bool\" : {\n              \"should\" : [\n                 { \"term\" : {\"project\" : \"AMQ\"}},  \n                 { \"term\" : {\"test-type\" : \"functional\"}}]\n           }\n         }\n      }\n   }\n}\n'\n\n\"hits\" : {\n    \"total\" : 3,\n    \"max_score\" : 1.0,\n    \"hits\" : [\n      {\n        \"_index\" : \"polarion\",\n        \"_type\" : \"subtype1\",\n        \"_id\" : \"AV3s-vbF8T4AI9Zj3GkM\",\n        \"_score\" : 1.0,\n        \"_source\" : {\n          \"project\" : \"AMQ\",\n          \"query\" : \"test-metrics\",\n          \"test-type\" : \"functional\",\n          \"2017-08-16\" : 1916\n        }\n      },\n</code></pre>\n\n<p><strong>With Must</strong></p>\n\n<pre><code>$ curl -XGET 'localhost:9200/polarion/subtype1/_search?pretty' -H 'Content-Type: application/json' -d'\n{\n   \"query\" : {\n      \"constant_score\" : {\n         \"filter\" : {\n            \"bool\" : {\n              \"must\" : [\n                 { \"term\" : {\"project\" : \"AMQ\"}},  \n                 { \"term\" : {\"test-type\" : \"functional\"}}]\n           }\n         }\n      }\n   }\n}\n'\n\n\n{   \"took\" : 0,   \"timed_out\" : false,   \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0   },   \"hits\" : {\n    \"total\" : 0,\n    \"max_score\" : null,\n    \"hits\" : [ ]   } }\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "standard-deviation"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1502926773, "post_id": 45724434, "comment_id": 78406779, "body": "When you apply a loop to a pandas object, in 99% of cases you are doing it wrong."}, {"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1502927059, "post_id": 45724434, "comment_id": 78406850, "body": "I knew there a 1 liner like this , I did not know about the index.year part - thanks for that"}], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 1, "last_activity_date": 1502926485, "creation_date": 1502926485, "answer_id": 45724482, "question_id": 45724434, "link": "https://stackoverflow.com/questions/45724434/calculating-yearly-standard-deviation-given-monthly-returns-in-pandas/45724482#45724482", "title": "Calculating yearly standard deviation, given monthly returns in pandas", "body": "<pre><code>monthly_returns.groupby(monthly_returns.index.year).std()\n</code></pre>\n\n<p>For your example:</p>\n\n<pre><code>#           FOX      FOXA       MMM\n#2012  3.768879  1.414214  0.381838\n#2017       NaN       NaN       NaN\n</code></pre>\n"}], "owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1772, "favorite_count": 0, "accepted_answer_id": 45724482, "answer_count": 1, "score": 0, "last_activity_date": 1502926485, "creation_date": 1502926179, "question_id": 45724434, "link": "https://stackoverflow.com/questions/45724434/calculating-yearly-standard-deviation-given-monthly-returns-in-pandas", "title": "Calculating yearly standard deviation, given monthly returns in pandas", "body": "<p>I have a function to calculate monthly returns:</p>\n\n<pre><code>def monthlyreturns(df):\n    first = df.resample('M').first().to_period('M')\n    last = df.resample('M').last().to_period('M')\n    return ((last-first)/first) * 100\n</code></pre>\n\n<p>and a resulting df from monthlyreturns(stocks):</p>\n\n<pre><code>           FOX     FOXA     MMM\nDate\n2012-01    5.4     3.2      -.08\n2012-02    .07     1.2      -.62\n...\n2017-08    -.2     -4.2     2.3\n</code></pre>\n\n<p>My question is - how can I calculate the standard deviation for ea year? My expected output would be to keep the df in the same format (with stocks in columns, and date as index) , but calculate the yearly standard deviation, given monthly returns (so there should be about 7 values for ea stock)</p>\n\n<p>So far I have tried:</p>\n\n<pre><code>sd = pd.DataFrame()\nx = -13\ny = -1\nfor date in reversed(periods):                     #where periods is ea year\n    sd[date] = np.std(monthly_returns.iloc[x:y])      \nx -= 12\ny -= 12\nif x &lt; -72:\n    break \n</code></pre>\n\n<p>This works - but the dates and columns are swapped , and was wondering if there was a cleaner code to do this</p>\n"}, {"tags": ["python", "django", "api", "django-rest-framework", "models"], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 4425406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45efe68d917261d3c0a4d448f905ffda?s=128&d=identicon&r=PG&f=1", "display_name": "MacMcIrish", "link": "https://stackoverflow.com/users/4425406/macmcirish"}, "is_accepted": true, "score": 0, "last_activity_date": 1502944726, "creation_date": 1502944726, "answer_id": 45726678, "question_id": 45724404, "link": "https://stackoverflow.com/questions/45724404/need-to-store-more-vehicles-per-single-user-id-in-django-api/45726678#45726678", "title": "Need to store more vehicles per single user_id in django api", "body": "<p>A django <code>one-to-one</code> relationship is exactly as it sounds, it's a relationship from one model to one model. The relationship you're looking for is <code>many-to-one</code>. Check out the documentation here: </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.11/topics/db/examples/many_to_one/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/db/examples/many_to_one/</a></p>\n\n<p>Let me know if you have any more questions!</p>\n"}], "owner": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 45726678, "answer_count": 1, "score": 0, "last_activity_date": 1502944726, "creation_date": 1502925911, "question_id": 45724404, "link": "https://stackoverflow.com/questions/45724404/need-to-store-more-vehicles-per-single-user-id-in-django-api", "title": "Need to store more vehicles per single user_id in django api", "body": "<p>I had customized the inbuilt user model by using abstract user . I made another model vehicle with a one to one relation with user model, which resembles vehicles of each user . But it is storing a single vehicle per user_id. I need it to store multiple vehicles per user. My code is given below - </p>\n\n<p>Models.py</p>\n\n<pre><code>class User(AbstractUser):\n  phone_number = models.IntegerField(null=True)\n  otp = models.IntegerField(null=True)\n\n\nclass Vehicle(models.Model):\n  user = models.OneToOneField(User)\n  maker = models.CharField(max_length=500, blank=True)\n  car_model = models.CharField(max_length=30, blank=True)\n</code></pre>\n\n<p>Serializer.py</p>\n\n<pre><code>class VehicleSerializer(serializers.ModelSerializer):\nuser_id = serializers.IntegerField()\nclass Meta:\n    model = Vehicle\n    fields = ('maker', 'car_model', 'user_id')                                                                      \n\ndef create(self, validated_data):\n    maker = validated_data.pop('make', None)\n    car_model = validated_data.get('car_model', None)\n    user_id = validated_data.get('user_id', None)\n    instance = self.Meta.model(**validated_data)\n\n    if user_id is not None:\n        instance.user_id = user_id\n        instance.save()\n    if car_model is not None:\n        instance.car_model = car_model\n        instance.save()\n    return instance\n</code></pre>\n\n<p>Views.py</p>\n\n<pre><code>@api_view(['POST'])\ndef vehicle_add(request):\ncar_model = request.data.get('car_model')\nuser_id = request.user.id\nserializer = VehicleSerializer(data={'user_id': user_id, 'car_model': car_model})\nif serializer.is_valid():\n    serializer.save()\n    message = \"i suceeded\"\n    return Response(message, status=status.HTTP_201_CREATED)\nelse:\n    return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n</code></pre>\n\n<p>I just need to know how to store multiple vehicles under single user_id. Thanks</p>\n"}, {"tags": ["python", "design-patterns"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 2, "creation_date": 1502925930, "post_id": 45724363, "comment_id": 78406603, "body": "Do not reinvent a wheel  and just use any standard database - MySQL, Postgress, Oracle, w/e. Let the database engine worry about the [in]efficiency."}], "answers": [{"tags": [], "owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "is_accepted": true, "score": 2, "last_activity_date": 1502926018, "creation_date": 1502926018, "answer_id": 45724419, "question_id": 45724363, "link": "https://stackoverflow.com/questions/45724363/design-pattern-for-handling-large-datasets-for-machine-learning/45724419#45724419", "title": "Design pattern for handling large datasets for machine learning", "body": "<p>Sure, use a database.</p>\n\n<p>You should probably take a look at MongoDB or elasticSearch since what you store seems to be documents and not relational data.</p>\n\n<p><a href=\"https://www.mongodb.com/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/</a></p>\n\n<p><a href=\"https://www.elastic.co/\" rel=\"nofollow noreferrer\">https://www.elastic.co/</a></p>\n"}], "owner": {"reputation": 421, "user_id": 2938375, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5271f0057ed876c78f7d725a4aab1e59?s=128&d=identicon&r=PG&f=1", "display_name": "CowNorris", "link": "https://stackoverflow.com/users/2938375/cownorris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 45724419, "answer_count": 1, "score": 2, "last_activity_date": 1502926018, "creation_date": 1502925616, "question_id": 45724363, "link": "https://stackoverflow.com/questions/45724363/design-pattern-for-handling-large-datasets-for-machine-learning", "title": "Design pattern for handling large datasets for machine learning", "body": "<p>I'm currently attempting to scrape data from websites and building a large (and potentially growing with time) dataset from it. I'm wondering if there's any good practices to adopt when processing, saving and loading large datasets. </p>\n\n<p>More concretely, what should I do when the dataset I want to save is too large to store in RAM, then writing to disk in one go; and writing it one data-point at a time is too inefficient? Is there an approach smarter than writing to file a moderately-sized-batch at a time?</p>\n\n<p>Thank you for your time!</p>\n"}, {"tags": ["python", "python-3.x", "xmltodict"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502971974, "post_id": 45724345, "comment_id": 78427210, "body": "<code>CASE</code>is inside <code>CASES</code>, therefore you need `d[PQ][&#39;CASES&#39;][&#39;CASE&#39;]"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502972918, "post_id": 45724345, "comment_id": 78427827, "body": "It doesn&#39;t go like that. Since it creates an ordered dictionary, it doesn&#39;t allow d[PQ][&#39;CASES&#39;][&#39;CASE&#39;]. I can share the output when I return d. That might be helpful"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502974456, "post_id": 45724345, "comment_id": 78429005, "body": "This is how it looks like. I need to access the CASE ordered dictionary only."}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502974992, "post_id": 45724345, "comment_id": 78429439, "body": "@stovfl. Can you please help?"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502976035, "post_id": 45724345, "comment_id": 78430279, "body": "return (d[PQ][CASES][CASE]) KeyError: CASES"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502977100, "post_id": 45724345, "comment_id": 78431055, "body": "@stovfl: OrderedDict([(&#39;@N&#39;, &#39;E90&#39;), (&#39;@RT&#39;, &#39;TG&#39;), (&#39;CASES&#39;, OrderedDict([(&#39;@ASOF_DATE&#39;, &#39;8/11/2017&#39;), (&#39;@CREATE_DATE&#39;, &#39;8/13/2017&#39;), (&#39;@RECORDS&#39;, &#39;1130&#39;), (&#39;CASE&#39;, [OrderedDict([(&#39;ID&#39;, &#39;E90&#39;),"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502977418, "post_id": 45724345, "comment_id": 78431310, "body": "<code>&#39;CASES&#39;</code> is there, so you should be able to access. The only different from your Questions Output, THIS is with enclosing <code>&#39;&#39;</code>! Next try: <code>print(d[&#39;PQ&#39;][&#39;CASES&#39;])</code>."}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502977741, "post_id": 45724345, "comment_id": 78431584, "body": "Gives me the same key error that I had mentioned above"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502978960, "post_id": 45724345, "comment_id": 78432482, "body": "Looks like a <b>BUG</b>, give your exact Python Version, I&#39;m on <b>3.4.2</b> works OK. Last try <code>print(list(d[&#39;PQ&#39;].values())[2])</code>"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502979147, "post_id": 45724345, "comment_id": 78432625, "body": "On the same version. I get the following error: parser.ParseFile(xml_input) xml.parsers.expat.ExpatError: mismatched tag: line 1046, column 2"}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502980632, "post_id": 45724345, "comment_id": 78433855, "body": "@stovfl I get this as output: OrderedDict([(&#39;@ASOF_DATE&#39;, &#39;8/11/2017&#39;), (&#39;@CREATE_DATE&#39;, &#39;8/13/2017&#39;), (&#39;@RECORDS&#39;, &#39;1130&#39;), (&#39;CASE&#39;, [OrderedDict([(ID, &#39;E90&#39;)"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502982397, "post_id": 45724345, "comment_id": 78435240, "body": "OK, this is the &#39;&lt;CASES&gt;&#39; Node, now access xy[&#39;CASE&#39;] if it fail convert also to <code>list</code>."}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502982470, "post_id": 45724345, "comment_id": 78435295, "body": "@stovfl  (list(d[&#39;PQ&#39;].values())[2])[&#39;CASE&#39;] worked!! Thanks!"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502982792, "post_id": 45724345, "comment_id": 78435507, "body": "Another Approach worth to try: <code>d.get(&#39;PQ&#39;).get(&#39;CASES&#39;)</code>."}, {"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1502997529, "post_id": 45724345, "comment_id": 78444048, "body": "@stovfl: Thank you so much. Regarding the other question, could you take a look at it? <a href=\"https://stackoverflow.com/questions/45720160/python-local-variable-reference-before-assignment\" title=\"python local variable reference before assignment\">stackoverflow.com/questions/45720160/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "edited": false, "score": 0, "creation_date": 1503005964, "post_id": 45742277, "comment_id": 78448148, "body": "Can you please help me with this?   <a href=\"https://stackoverflow.com/questions/45745314/convert-python-dictionary-into-html-tables\" title=\"convert python dictionary into html tables\">stackoverflow.com/questions/45745314/&hellip;</a>"}], "tags": [], "owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "is_accepted": true, "score": 0, "last_activity_date": 1502993377, "creation_date": 1502993377, "answer_id": 45742277, "question_id": 45724345, "link": "https://stackoverflow.com/questions/45724345/ordereddict-unable-return-the-item-of-d-with-key-key-raises-a-keyerror/45742277#45742277", "title": "OrderedDict: Unable Return the item of d with key key. Raises a KeyError", "body": "<blockquote>\n  <p><strong>Question</strong>: Unable Return the item of d with key key. Raises a KeyError.<br>\n  I am trying to access the CASE dictionary.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p><strong>Data</strong>:  </p>\n\n<pre><code>od['PQ'] = \\\n    OrderedDict({'@N':\"E90\", '@RT':\"TG\", 'CASES':\n        OrderedDict({'ASOF_DATE':\"8/11/2017\", 'CREATE_DATE':\"8/13/2017\", 'RECORDS':\"1130\", 'CASE':\n            OrderedDict({'ID':'E90'})})})\n</code></pre>\n</blockquote>\n\n<pre><code>print(od['PQ'])\n&gt;&gt;&gt; OrderedDict([('@N', 'E90'), ('@RT', 'TG'), ('CASES', OrderedDict([('ASOF_DATE', '8/11/2017'), ('CREATE_DATE', '8/13/2017'), ('RECORDS', '1130'), ('CASE', OrderedDict([('ID', 'E90')]))]))])\n\nprint(od['PQ']['CASES'])\n&gt;&gt;&gt; OrderedDict([('ASOF_DATE', '8/11/2017'), ('CREATE_DATE', '8/13/2017'), ('RECORDS', '1130'), ('CASE', OrderedDict([('ID', 'E90')]))])\n\nprint(od['PQ']['CASES']['CASE'])\n&gt;&gt;&gt; OrderedDict([('ID', 'E90')])\n\nprint(od.get('PQ').get('CASES').get('CASE'))\n&gt;&gt;&gt; OrderedDict([('ID', 'E90')])\n\nprint('list(od[\\'PQ\\'])[2] {}'.format(list(od['PQ'].values())[2]))\n&gt;&gt;&gt; list(od['PQ'])[2] OrderedDict([('ASOF_DATE', '8/11/2017'), ('CREATE_DATE', '8/13/2017'), ('RECORDS', '1130'), ('CASE', OrderedDict([('ID', 'E90')]))])\n\nfor kv in list(od['PQ'].values()):\n    print('od[\\'PQ\\'].values {}'.format(kv))\n\n&gt;&gt;&gt; od['PQ'].values E90\n&gt;&gt;&gt; od['PQ'].values TG\n&gt;&gt;&gt; od['PQ'].values OrderedDict([('ASOF_DATE', '8/11/2017'), ('CREATE_DATE', '8/13/2017'), ('RECORDS', '1130'), ('CASE', OrderedDict([('ID', 'E90')]))])\n\nfor k,v in od.items():\n    print('items(od) {}:{}'.format(k,v))\n\n&gt;&gt;&gt; items(od) PQ:OrderedDict([('@N', 'E90'), ('@RT', 'TG'), ('CASES', OrderedDict([('ASOF_DATE', '8/11/2017'), ('CREATE_DATE', '8/13/2017'), ('RECORDS', '1130'), ('CASE', OrderedDict([('ID', 'E90')]))]))])\n</code></pre>\n\n<p><strong><em>Tested with Python: 3.4.2</em></strong></p>\n"}], "owner": {"reputation": 35, "user_id": 8474052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2527db9cc963b78504bfcf0e484227c?s=128&d=identicon&r=PG&f=1", "display_name": "J.D", "link": "https://stackoverflow.com/users/8474052/j-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 45742277, "answer_count": 1, "score": 0, "last_activity_date": 1502993507, "creation_date": 1502925484, "last_edit_date": 1502993507, "question_id": 45724345, "link": "https://stackoverflow.com/questions/45724345/ordereddict-unable-return-the-item-of-d-with-key-key-raises-a-keyerror", "title": "OrderedDict: Unable Return the item of d with key key. Raises a KeyError", "body": "<p>Accessing xmltodict converted values. I have an xml that looks like this</p>\n\n<pre><code>&lt;PQ N=\"E90\" RT=\"TG\"&gt;\n&lt;CASES ASOF_DATE=\"8/11/2017\" CREATE_DATE=\"8/13/2017\" RECORDS=\"1130\" &gt;\n&lt;CASE&gt;\n&lt;ID&gt;E90&lt;/ID&gt;\n</code></pre>\n\n<p>I am trying to access the CASE dictionary. If I remove the second XML line and try returning d[PQ]['CASE'], I get the desire result Here is the code for that:</p>\n\n<pre><code>def convert(xml_file, xml_attribs=True):\n    with open(xml_file, \"rb\") as f:\n        d = xmltodict.parse(f, xml_attribs=xml_attribs)\n    return (d['FUND'])\n</code></pre>\n\n<p>This is how the output of d looks like: </p>\n\n<pre><code>OrderedDict([(PQ, OrderedDict([('@N', 'E90'), ('@RT', 'TG'), (CASES,   \nOrderedDict([('@ASOF_DATE', '8/11/2017'), ('@CREATE_DATE', '8/13/2017'),  \n\n('@RECORDS', '1130'), (CASE, [OrderedDict([('ID, E90), ..... so on\n</code></pre>\n"}, {"tags": ["python", "yaml", "python-3.5", "quotes", "double-quotes"], "answers": [{"tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": true, "score": 1, "last_activity_date": 1503068217, "last_edit_date": 1503068217, "creation_date": 1502942422, "answer_id": 45726380, "question_id": 45724331, "link": "https://stackoverflow.com/questions/45724331/python-dump-yaml-using-double-quotes-around-strings/45726380#45726380", "title": "Python Dump YAML Using Double Quotes Around Strings", "body": "<p>There is a relatively easy way to do this:</p>\n\n<pre><code>import sys\nimport ruamel.yaml\n\nS = ruamel.yaml.scalarstring.DoubleQuotedScalarString\nD = {'name': S('mydata'), 'value': {'x': 1, 'y': 2, 'z':3}}\n\nyaml = ruamel.yaml.YAML()\nyaml.indent(mapping=4)\nyaml.dump(D, sys.stdout)\n</code></pre>\n\n<p>that last three lines, using an instance of YAML, is the newer way of doing:</p>\n\n<pre><code>ruamel.yaml.round_trip_dump(D, sys.stdout, indent=4)\n</code></pre>\n\n<p>Using the new API, you can give a different indent value for your sequences.</p>\n\n<p>Either way, the above gives you:</p>\n\n<pre><code>name: \"mydata\"\nvalue:\n    x: 1\n    y: 2\n    z: 3\n</code></pre>\n\n<p>There is no need to explicitly do <code>default_flow_style=False</code> when using <code>ruamel.yaml</code>s round-trip-mode.</p>\n\n<hr>\n\n<p>The <code>DoubleQuotedScalarString</code>, a subclass of <code>str</code>, is what is used to store <code>\"mydata\"</code> if you load your preferred output, while preserving quotes:</p>\n\n<pre><code>yaml.preserve_quotes = True\ndata = yaml.load(\"\"\"\\\nname: \"mydata\"\nvalue:\n    x: 1\n    y: 2\n    z: 3\n\"\"\")\nprint(type(data['name']))\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>&lt;class 'ruamel.yaml.scalarstring.DoubleQuotedScalarString'&gt;\n</code></pre>\n\n<p>If your output round-trips correctly, it is always a good idea to inspect the data structure <code>ruamel.yaml</code> loads, whether it is for double quotes, block style literal scalars, hexadecimal ints or comment preservation.<br>\nThe library does a lot behind the scenes for which there is no documentation, and the library's author is probably too lazy to provide more of it.</p>\n"}], "owner": {"reputation": 153, "user_id": 1363671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3FU3f.jpg?s=128&g=1", "display_name": "wolfustc", "link": "https://stackoverflow.com/users/1363671/wolfustc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1999, "favorite_count": 0, "accepted_answer_id": 45726380, "answer_count": 1, "score": 3, "last_activity_date": 1503068217, "creation_date": 1502925350, "last_edit_date": 1502925650, "question_id": 45724331, "link": "https://stackoverflow.com/questions/45724331/python-dump-yaml-using-double-quotes-around-strings", "title": "Python Dump YAML Using Double Quotes Around Strings", "body": "<p>In Python 3.5, I have the following dictionary to be dumped into a .yaml file.</p>\n\n<p><code>D={'name': 'mydata', value: {'x': 1, 'y': 2, 'z':3}}</code></p>\n\n<p>When I run the following code:</p>\n\n<pre><code>import ruamel\nimport ruamel.yaml as yaml\nD={'name': 'mydata', 'value': {'x': 1, 'y': 2, 'z':3}}\nyaml.round_trip_dump(D, open('my_yaml.yaml', 'w'),\n                     default_flow_style=False, indent=4)\n</code></pre>\n\n<p>The resulting <code>my_yaml.yaml</code> looks like the following:</p>\n\n<pre><code>name: mydata                                                                    \nvalue:                                                                     \n    z: 3                                                                     \n    x: 1                                                                   \n    y: 2\n</code></pre>\n\n<p>My question is, is there a handy way to write double quotes around <code>mydata</code>, i.e., instead of <code>name: mydata</code>, it is written as <code>name: \"mydata\"</code></p>\n"}, {"tags": ["python", "pandas", "matplotlib", "histogram"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8196851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634311f385bafc8d868e0d23137cedd7?s=128&d=identicon&r=PG&f=1", "display_name": "VeryMary", "link": "https://stackoverflow.com/users/8196851/verymary"}, "edited": false, "score": 1, "creation_date": 1502983899, "post_id": 45725032, "comment_id": 78436278, "body": "Thank you very much! I used the second option and it worked perfectly how intended it to do."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 5, "last_activity_date": 1502969157, "last_edit_date": 1502969157, "creation_date": 1502930868, "answer_id": 45725032, "question_id": 45724329, "link": "https://stackoverflow.com/questions/45724329/let-axvline-end-at-certain-y-value/45725032#45725032", "title": "Let axvline end at certain y-value", "body": "<p>That's definitely possible but I'm not sure if it's easy to do with <code>pandas.DataFrame.hist</code> because that doesn't return the histogram data. You would have to do another <code>matplotlib.pyplot.hist</code> (or <code>numpy.hist</code>) to get the actual bins and heights.</p>\n\n<p>However if you use <code>matplotlib</code> directly this would work:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nplt.style.use('ggplot')\n\nimport numpy as np\n\ndata = np.random.normal(550, 20, 100000)\n\nfig, ax = plt.subplots(1, 1)\nplot = ax.hist(data, bins=30, label='Cycle time', color='darkgrey')\n\nps = np.percentile(data, [5, 95])\n_, ymax = ax.get_ybound()\n\n# Search for the heights of the bins in which the percentiles are\nheights = plot[0][np.searchsorted(plot[1], ps, side='left')-1]\n\n# The height should be the bin-height divided by the y_bound (at least if y_min is zero)\nax.axvline(ps[0], label='5%', color='red', linestyle='dashed', linewidth=2, ymax=heights[0] / ymax)\nax.axvline(ps[1], label='95%', color='blue', linestyle='dashed', linewidth=2, ymax=heights[1] / ymax)\nplt.legend()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/POzhD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/POzhD.png\" alt=\"enter image description here\"></a></p>\n\n<p>In case you don't want to bother with calculating the relative height, you could also use <code>Lines2D</code> from <code>matplotlib.lines</code></p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.lines as mlines\n\nplt.style.use('ggplot')\n\nimport numpy as np\n\ndata = np.random.normal(550, 20, 100000)\n\nfig, ax = plt.subplots(1, 1)\nplot = ax.hist(data, bins=30, label='Cycle time', color='darkgrey')\n\nps = np.percentile(data, [5, 95])\n\n# Search for the heights of the bins in which the percentiles are\nheights = plot[0][np.searchsorted(plot[1], ps, side='left')-1]\n\n# The height should be the bin-height divided by the y_bound (at least if y_min is zero)\nl1 = mlines.Line2D([ps[0], ps[0]], [0, heights[0]], label='5%', color='red', linestyle='dashed', linewidth=2)\nl2 = mlines.Line2D([ps[1], ps[1]], [0, heights[1]], label='95%', color='blue', linestyle='dashed', linewidth=2)\nax.add_line(l1)\nax.add_line(l2)\nplt.legend()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ayBnP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ayBnP.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 8196851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634311f385bafc8d868e0d23137cedd7?s=128&d=identicon&r=PG&f=1", "display_name": "VeryMary", "link": "https://stackoverflow.com/users/8196851/verymary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1731, "favorite_count": 1, "accepted_answer_id": 45725032, "answer_count": 1, "score": 2, "last_activity_date": 1502969257, "creation_date": 1502925333, "last_edit_date": 1502969257, "question_id": 45724329, "link": "https://stackoverflow.com/questions/45724329/let-axvline-end-at-certain-y-value", "title": "Let axvline end at certain y-value", "body": "<p>I was plotting a histogram with pandas and pyplot. For additional information, I added lines at certain percentiles of the histogram distribution. I already found out that you can make a <code>axvline</code> appear with a certain % height of the whole chart: </p>\n\n<pre><code>cycle_df = pd.DataFrame(results)\nplot = cycle_df.plot.hist(bins=30, label='Cycle time')\n\nplot.axvline(np.percentile(cycle_df,5), label='5%', color='red', linestyle='dashed', linewidth=2, ymax=0.25)\nplot.axvline(np.percentile(cycle_df,95), label='95%', color='blue', linestyle='dashed', linewidth=2, ymax=0.25)\n</code></pre>\n\n<p>Is it possible to let the red/blue lines end exactly where the histogram bar ends too to look smooth?</p>\n\n<p><a href=\"https://i.stack.imgur.com/wAxyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wAxyz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "utf-8", "posix", "pathlib"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7950873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc68719803612de424ce032c355aeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Arjen Meek", "link": "https://stackoverflow.com/users/7950873/arjen-meek"}, "edited": false, "score": 0, "creation_date": 1502930137, "post_id": 45724695, "comment_id": 78407489, "body": "Thank you. Although I had seen &#39;surrogateencoding&#39; mentioned in Python 3 discussions in passing, I was unaware that it allows any raw byte value to be represented as Unicode code points, and that that mechanism provides a workable solution to the problem I encountered. I do still feel that being able to use real &#39;bytes&#39; would be a semantically more meaningful approach (the raw data isn&#39;t <i>really</i> Unicode after all). On the plus side, knowing about this trick will probably allow me to solve similar problemtic situations and help reduce the need for &#39;raw bytes&#39; type persistent storage."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 43, "user_id": 7950873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc68719803612de424ce032c355aeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Arjen Meek", "link": "https://stackoverflow.com/users/7950873/arjen-meek"}, "edited": false, "score": 0, "creation_date": 1502930683, "post_id": 45724695, "comment_id": 78407602, "body": "In this case, it is actually POSIX that I disagree with.  We can have filenames with different encodings just sitting there in the same directory, it&#39;s a mess.  Maybe one of the few things that Windows has done better than Linux these days."}, {"owner": {"reputation": 43, "user_id": 7950873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc68719803612de424ce032c355aeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Arjen Meek", "link": "https://stackoverflow.com/users/7950873/arjen-meek"}, "edited": false, "score": 0, "creation_date": 1502931238, "post_id": 45724695, "comment_id": 78407722, "body": "I do agree, having filenames as raw bytes is a rather dated approach (explained by the long history behind Posix, I guess) now that the entire online world has pretty much settled on Unicode / UTF-8. It does sound as though Python&#39;s approach using surrogate pairs for this might actually provide an avenue for Linux/UNIX systems to allow migrating to Unicode while maintaining backward compatibility. Then again, people are probably working on that already..."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1502928046, "creation_date": 1502928046, "answer_id": 45724695, "question_id": 45724240, "link": "https://stackoverflow.com/questions/45724240/processing-non-utf-8-posix-filenames-using-python-pathlib/45724695#45724695", "title": "Processing non-UTF-8 Posix filenames using Python pathlib?", "body": "<p>I think you can get what you want like this:</p>\n\n<pre><code>import os\nPosixPath(os.fsdecode(b'\\xe9'))\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; import os, pathlib\n&gt;&gt;&gt; b = b'\\xe9'\n&gt;&gt;&gt; p = pathlib.Path(os.fsdecode(b))\n&gt;&gt;&gt; p.exists()\nFalse\n&gt;&gt;&gt; with open(b, mode='w') as f:\n...     f.write('wacky filename')\n...     \n&gt;&gt;&gt; p.exists()\nTrue\n&gt;&gt;&gt; p.read_bytes()\nb'wacky filename'\n&gt;&gt;&gt; os.listdir(b'.')\n[b'\\xe9']\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7950873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc68719803612de424ce032c355aeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Arjen Meek", "link": "https://stackoverflow.com/users/7950873/arjen-meek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 0, "accepted_answer_id": 45724695, "answer_count": 1, "score": 4, "last_activity_date": 1502929564, "creation_date": 1502924732, "last_edit_date": 1502929564, "question_id": 45724240, "link": "https://stackoverflow.com/questions/45724240/processing-non-utf-8-posix-filenames-using-python-pathlib", "title": "Processing non-UTF-8 Posix filenames using Python pathlib?", "body": "<p>I'm trying to use the pathlib module that became part of the standard library in Python 3.4+ to find and manipulate file paths. Although it's an improvement over the os.path style functions to be able to treat paths in an object-oriented way, I'm having trouble dealing with some more exotic filenames on Posix filesystems; specifically files whose names contain bytes that cannot be decoded as UTF-8:</p>\n\n<pre><code>&gt;&gt;&gt; pathlib.PosixPath(b'\\xe9')\n\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python3.5/pathlib.py\", line 969, in __new__\n    self = cls._from_parts(args, init=False)\n  File \"/usr/lib/python3.5/pathlib.py\", line 651, in _from_parts\n    drv, root, parts = self._parse_args(args)\n  File \"/usr/lib/python3.5/pathlib.py\", line 643, in _parse_args\n    % type(a))\nTypeError: argument should be a path or str object, not &lt;class 'bytes'&gt;\n\n&gt;&gt;&gt; b'\\xe9'.decode()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xe9 in position 0: unexpected end of data\n</code></pre>\n\n<p>The problem with this is that on a Posix filesystem, such files <em>can</em> exist, and I'd like to be able to process any filesystem-valid filenames in my application rather than cause errors and/or upredictable behaviour.</p>\n\n<p>I can get a PosixPath object for such files inside a directory by using the .iterdir() method of the parent directory. But I have yet to find a way to get it from a full path that was provided as a variable of type 'bytes', which is rather hard to avoid when loading paths from another source which fully supports all filesystem-valid raw byte values (such as a database or a file containing nul-separated paths).</p>\n\n<p>Is there a way to do this that I'm not aware of? Or, if it's really not possible: is this by design, or could it be considered a deficiency in the standard library that might warrant a bug report?</p>\n\n<p>I did find a <a href=\"http://bugs.python.org/issue23904\" rel=\"nofollow noreferrer\">related bug report</a>, but that issue concerned documentation incorrectly mentioning that arguments of class 'bytes' were allowed.</p>\n"}, {"tags": ["python", "machine-learning", "pyspark", "pyspark-sql"], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 8304714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e569e99a5aada810ad75f19dfcc7cc7?s=128&d=identicon&r=PG&f=1", "display_name": "aku", "link": "https://stackoverflow.com/users/8304714/aku"}, "is_accepted": true, "score": 0, "last_activity_date": 1502927667, "creation_date": 1502927667, "answer_id": 45724646, "question_id": 45724230, "link": "https://stackoverflow.com/questions/45724230/pyspark-create-training-set-and-testing-set-from-dataframe/45724646#45724646", "title": "Pyspark - create training set and testing set from dataframe", "body": "<p>You could always add an index and filter based off of that index--not sure if there's anything more efficient than that. </p>\n\n<pre><code>from pyspark.sql.window import Window\nfrom pyspark.sql import functions as func\n\nwindow = Window.partitionBy(func.col(\"CustomerID\"))\\\n        .orderBy(func.col(\"InvoiceNo\").desc())\ndf = df.select('*', func.rank().over(window).alias('rank'))\n\ntrain = df.filter(\"rank &gt; 2\")\ntest = df.filter(\"rank &lt;= 2\")\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5151962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81e8d7186e57e2ab4dcd4e6dd9dc03de?s=128&d=identicon&r=PG&f=1", "display_name": "soulless", "link": "https://stackoverflow.com/users/5151962/soulless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 45724646, "answer_count": 1, "score": 1, "last_activity_date": 1502927667, "creation_date": 1502924665, "question_id": 45724230, "link": "https://stackoverflow.com/questions/45724230/pyspark-create-training-set-and-testing-set-from-dataframe", "title": "Pyspark - create training set and testing set from dataframe", "body": "<p>I have a dataframe like the photo below. I would like to create a training and testing set out of it. The dataset is ordered by CustomerID and InvoiceNo. For each customer, I would like to take every row except the last 2 rows of that customer as training set, while the second to the last row of each customer would become a training set.</p>\n\n<p>The result would be ideally 1 giant training set and 1 testing set. Is there an efficient way to do that with PySpark? Thanks a lot for your help in advance</p>\n\n<p><a href=\"https://i.stack.imgur.com/ydLwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydLwh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "django-admin"], "comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1502925169, "post_id": 45724164, "comment_id": 78406424, "body": "What error does it display?"}, {"owner": {"reputation": 56, "user_id": 2056502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68be42e8ad7f444ef751b334a535702c?s=128&d=identicon&r=PG", "display_name": "ioaoa", "link": "https://stackoverflow.com/users/2056502/ioaoa"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1502925450, "post_id": 45724164, "comment_id": 78406493, "body": "@PauloAlmeida: It is a generic &quot;Please correct the errors below&quot;.  So, on the initial save, it runs thru that grade look up function perfectly.  When you upload a second time on an existing Room object, right after the save it loops thru the grade look up but is missing the student_id.  Also, while the student count in the parent object displays correctly, the &quot;rows&quot; or instances for the Inline tabular form match the prior count."}, {"owner": {"reputation": 56, "user_id": 2056502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68be42e8ad7f444ef751b334a535702c?s=128&d=identicon&r=PG", "display_name": "ioaoa", "link": "https://stackoverflow.com/users/2056502/ioaoa"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1502928590, "post_id": 45724164, "comment_id": 78407172, "body": "It looks like the issue is validation in options.py:    formsets, inline_instances = self._create_formsets(request, new_object, change=not add)"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1502930534, "post_id": 45724164, "comment_id": 78407566, "body": "You have lots of little mistakes in the code you posted here (missing quotes, parens and others), correcting might make it easier for others to help. But it&#39;s complex, if no one tackles it you may want to build a more minimal example that behaves like this. You also do some odd things like overriding methods just to call their <code>super</code>, it makes it harder to understand the workflow."}], "owner": {"reputation": 56, "user_id": 2056502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68be42e8ad7f444ef751b334a535702c?s=128&d=identicon&r=PG", "display_name": "ioaoa", "link": "https://stackoverflow.com/users/2056502/ioaoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 720, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502934481, "creation_date": 1502924187, "last_edit_date": 1502934481, "question_id": 45724164, "link": "https://stackoverflow.com/questions/45724164/reloading-django-admin-inline-form-updating-data-from-the-back-end", "title": "reloading django admin inline form updating data from the back end", "body": "<p>I have a ModelForm for a parent model and and an InlineForm for a foreign key related model.  The Inline form data is read only and can only be updated via a file upload.  I have this working on the intial creation and save, but if you replace the students by uploading a new file, while the data updates properly after the upload and save, the inline form doesn't reload properly right after this save and displays an error.  However, if you navigate away and return everything looks good. </p>\n\n<p>Models.py</p>\n\n<pre><code>class Room(models.Model):\n    room_id = models.AutoField(primary_key=True)\n    name = models.TextField(blank=False, verbose_name = \"Room Name \")\n    code = models.TextField(blank=False)\n    file = models.TextField(blank=False)\n\n\n    class Meta(object):\n        managed = False\n        db_table = 'public\\\".\\\"room'\n\n\nclass Student(models.Model):\n    room = models.ForeignKey(Room, related_name=\"students, to_field=\"room_id\", db_column=\"room_id\")\n    student_id = models.TextField(blank=False, primary_key=False)\n\n    @property\n    def grade(self):\n        return util.get_grade(self.student_id)\n\n    class Meta(object):\n        managed = False\n        db_table = 'public\\\".\\\"student\u2019\n</code></pre>\n\n<p>admin.py    </p>\n\n<pre><code>class StudentsInline(admin.TabularInline):\n    model = Student\n    form = StudentInlineForm\n    formset = StudentFormSet\n\n    readonly_fields = ('student_id', 'grade')\n    extra = 0\n\n    def get_actions(self, request):\n        '''\n        Removes the delete action\n        '''\n        actions = super(StudentsInline, self).get_actions(request)\n        del actions['delete_selected']\n        return actions\n\n    def has_delete_permission(self, request, obj=None):\n        return False\n\n    def has_add_permission(self, request, obj=None):\n        return False\n\n\nclass RoomAdmin(admin.ModelAdmin):\n    def student_count(self, obj):\n        return obj.students.count()\n    student_count.short_description = \" Total Enrolled \"\n\n    form = RoomForm\n    list_display = [name', \u2018code']\n    readonly_fields = ['student_count']\n    list_per_page = 25\n    inlines = [StudentsInline]\n\n    def get_actions(self, request):\n        actions = super(RoomAdmin, self).get_actions(request)\n        del actions['delete_selected']\n        return actions\n\n    def has_delete_permission(self, request, obj=None):\n        return False\n\n    def save_formset(self, request, form, formset, change):\n        form.instance.file = 'processed file'\n        form.instance.save \n        formset.save()  \n</code></pre>\n\n<p>forms_admin.py</p>\n\n<pre><code>class RoomsForm(forms.ModelForm):\n    def __init__(self, *args, **kwargs):\n        super(RoomsForm, self).__init__(*args, **kwargs)\n        self.fields[\u2018name'].required = True\n        self.fields[\u2018code'].required = True\n        self.fields['file'] = forms.FileField(\n            label='Upload your enrollees:'\n\n\n    def load_file(self, upload_file):\n        student_list = []\n        data = upload_file.read() #simplified for this example\n        for s in reader:\n            s_id = s[0]\n            new_student = Student(student_id=s_id)\n            student_list.append(new_student)\n        return student_list\n\n    def save(self, *args, **kwargs):\n        room_form = super(RoomsForm, self).save(commit=False)\n        enrollee_list = self.load_file(self.instance.file.file)\n\n        if instance.room_id is None:\n            instance.file = 'uploaded'\n            instance = super(RoomsForm, self).save(commit=True)\n\n        Student.objects.filter(room_id=self.instance.room_id).all().delete()\n        instance.students.add(*enrollee_list)\n        return instance\n\n\n    class Meta:\n        model = Room\n        fields = '__all__'\n\n\nclass StudentForm(forms.ModelForm):\n    def __init__(self, *args, **kwargs):\n        super(StudentForm, self).__init__(*args, **kwargs)\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "gaussian", "gaussianblur"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1502924574, "post_id": 45724147, "comment_id": 78406260, "body": "FYI: A <i>gaussian</i> kernel is a very specific thing.  Your data is not a gaussian kernel. &lt;/pedantic&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1502925052, "last_edit_date": 1502925052, "creation_date": 1502924527, "answer_id": 45724213, "question_id": 45724147, "link": "https://stackoverflow.com/questions/45724147/how-to-turn-1d-array-into-symmetrical-3d-array/45724213#45724213", "title": "How to turn 1D array into symmetrical 3D array?", "body": "<p>Acknowledging that this is <em>not</em> a Gaussian kernel, here's how you calculate <em>it</em>:</p>\n\n<pre><code>center = a[a.size // 2]\n(a[:,    np.newaxis].repeat(a.size, axis=1) * a)\\\n  [:, :, np.newaxis].repeat(a.size, axis=2) * a \\\n/ center ** 2\n</code></pre>\n\n<p>(Not gonna paste the whole output here.)</p>\n"}], "owner": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502980749, "creation_date": 1502924085, "last_edit_date": 1502980749, "question_id": 45724147, "link": "https://stackoverflow.com/questions/45724147/how-to-turn-1d-array-into-symmetrical-3d-array", "title": "How to turn 1D array into symmetrical 3D array?", "body": "<p>I have a symmetrical 1D numpy array, for example, something like this:</p>\n\n<pre><code>0 1 2 1 0\n</code></pre>\n\n<p>How could I turn this into a 3D array (kinda similar to a gaussian kernel), with the value 2 at the center?</p>\n\n<p>As an example of what I mean (though the math is likely not right), in 2D this would be something like this (though I need it to be 3D):</p>\n\n<pre><code>0   0   0   0   0\n0  0.5  1  0.5  0\n0   1   2   1   0\n0  0.5  1  0.5  0\n0   0   0   0   0\n</code></pre>\n"}, {"tags": ["python", "pandas", "pymysql"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 0, "last_activity_date": 1502925636, "creation_date": 1502925636, "answer_id": 45724365, "question_id": 45724134, "link": "https://stackoverflow.com/questions/45724134/python-pandas-pymysql-s-synthax/45724365#45724365", "title": "Python / Pandas / PyMySQL - %s synthax", "body": "<p>You have:</p>\n\n<pre><code>read_sql(\"... where business_id=%s;\",connection) % df['id'][i]\n</code></pre>\n\n<p>Must be:</p>\n\n<pre><code>read_sql(\"... where business_id=%s;\" % df['id'][i], connection) \n</code></pre>\n"}], "owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 45724365, "answer_count": 1, "score": 0, "last_activity_date": 1502925636, "creation_date": 1502923966, "question_id": 45724134, "link": "https://stackoverflow.com/questions/45724134/python-pandas-pymysql-s-synthax", "title": "Python / Pandas / PyMySQL - %s synthax", "body": "<p>I'm trying to do the following operation:</p>\n\n<pre><code>import pymsql\nimport pandas as pd\n\ndf:\n\n     id      height_code        name          ...\n1    34      123123             Jesus\n2    84      3421               Heaps\n3    23      45243              Ornitorrincus\n...\n\nconnection=pymysql.connect(host=xxx,user=xxxx,password=xxxx,db=xxxx)\n\nfor i in df.index:\n    df2=pd.read_sql(\"select business_id,name,color from table123 where business_id=%s;\",connection) % df['id'][i]\n</code></pre>\n\n<p>The idea here is only to access a giant sql and filter table123 using only the rows where <code>business_id = df['id'][i]</code></p>\n\n<p>However, I'm getting the following error:</p>\n\n<pre><code>pandas.io.sql.DatabaseError: Execution failed on sql 'select business_id,nome,qualificacao_id from socio_administrador where business_id=%s;': (1064, \"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '%s' at line 1\")\n</code></pre>\n\n<p>So, apparently I'm having trouble with the <code>%s</code> synthax in pymsql. Tried to have a look at their manual but didn't find a nice explanation about that.</p>\n\n<p>Could anybody help?</p>\n"}, {"tags": ["python", "django", "nginx"], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 4032638, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "suppandi g", "link": "https://stackoverflow.com/users/4032638/suppandi-g"}, "edited": false, "score": 0, "creation_date": 1502929378, "post_id": 45724228, "comment_id": 78407324, "body": "No. still gives me 127.0.0.1:8000"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "reply_to_user": {"reputation": 416, "user_id": 4032638, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "suppandi g", "link": "https://stackoverflow.com/users/4032638/suppandi-g"}, "edited": false, "score": 0, "creation_date": 1502930904, "post_id": 45724228, "comment_id": 78407640, "body": "Are you behind a proxy? If you are, read the big highlighted section here: <a href=\"https://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpRequest.get_host\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/dev/ref/request-response/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "is_accepted": false, "score": 0, "last_activity_date": 1502924655, "creation_date": 1502924655, "answer_id": 45724228, "question_id": 45724113, "link": "https://stackoverflow.com/questions/45724113/how-do-i-get-the-hostname-of-a-django-application/45724228#45724228", "title": "how do i get the hostname of a django application", "body": "<p>You can access it from the <code>request</code> object's <code>META</code> attribute.</p>\n\n<pre><code>request.META['HTTP_HOST']\n</code></pre>\n"}], "owner": {"reputation": 416, "user_id": 4032638, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "suppandi g", "link": "https://stackoverflow.com/users/4032638/suppandi-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 597, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502924655, "creation_date": 1502923872, "question_id": 45724113, "link": "https://stackoverflow.com/questions/45724113/how-do-i-get-the-hostname-of-a-django-application", "title": "how do i get the hostname of a django application", "body": "<p>I have a django application running using gunicorn and frontended by nginx. I am trying to get the full hostname of the application because I need to redirect out of the application and need to pass the external application my url so it can pass control back to me. How do I find my hostname/application name. I tried <code>request.get_host()</code>, but it gave me <code>127.0.0.1:8000</code></p>\n"}, {"tags": ["python", "windows", "32bit-64bit"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1502923802, "post_id": 45724092, "comment_id": 78406065, "body": "No. 32bit software can run on 64bit systems (albeit not as efficiently), but not vice versa. You can&#39;t run 64bit software on a 32bit system because there aren&#39;t enough bits. You can&#39;t create it from thin air."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1502923881, "post_id": 45724092, "comment_id": 78406091, "body": "Well, X86-64 software can&#39;t run directly on a x86 OS. There are a few platforms that support running 64-bit software on a 32-bit OS, but x86 isn&#39;t one of them."}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 7834533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bacded90185e4fc3fe9d6e458125be4?s=128&d=identicon&r=PG&f=1", "display_name": "A Hettinger", "link": "https://stackoverflow.com/users/7834533/a-hettinger"}, "is_accepted": true, "score": 3, "last_activity_date": 1502923881, "creation_date": 1502923881, "answer_id": 45724117, "question_id": 45724092, "link": "https://stackoverflow.com/questions/45724092/64-bit-python-on-32-bit-windows/45724117#45724117", "title": "64-bit Python on 32 Bit Windows?", "body": "<p>No.</p>\n\n<p>You can run 32bit applications on 64bit Windows, but not the other way around.</p>\n"}], "owner": {"reputation": 171, "user_id": 8306348, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4b23334b2260e8847dd95089baa528d5?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/8306348/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "accepted_answer_id": 45724117, "answer_count": 1, "score": -1, "last_activity_date": 1502923881, "creation_date": 1502923712, "question_id": 45724092, "link": "https://stackoverflow.com/questions/45724092/64-bit-python-on-32-bit-windows", "title": "64-bit Python on 32 Bit Windows?", "body": "<p>Is it possible to run 64-bit Python on 32-bit Windows?</p>\n\n<p>I have been working with 32-bit Python, but discovered that I need the extra memory for something. Is it possible to install/use 64-bit PYthon on a 32 bit copy of Windows? I've verified that all of the packages I need are available for 64-bit Python, but I am less familiar with compatibility </p>\n\n<p>I have found various answers to the opposite question (running 32 bit Python on a 64 bit OS) like the following: <a href=\"https://stackoverflow.com/questions/15897268/python-32-bit-development-on-64-bit-windows\">Python 32-bit development on 64-bit Windows</a> but nothing on this specific question</p>\n"}, {"tags": ["python", "class", "methods", "setter", "getter"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1502923572, "post_id": 45724074, "comment_id": 78405994, "body": "This is not a use-case for properties yet. You should never write a Python class definiton like this."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1502923643, "post_id": 45724074, "comment_id": 78406025, "body": "As @juanpa.arrivillaga already said, there is no need for getters or setters here. Simply writing getters and setters out of convention is a very bad idea."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502923787, "post_id": 45724074, "comment_id": 78406061, "body": "I&#39;m assuming this is some sort of homework. You should do your homework like your professor tells you to. But please note, this is not how you should be doing things in Python in the real world. I think, unfortunately, there are a ton of intro-cs classes that switched languages to Python from Java, and essentially, a lot of professors are teaching Java in Python..."}, {"owner": {"reputation": 127, "user_id": 8304707, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-9-GYIL0GRF8/AAAAAAAAAAI/AAAAAAAAABM/W0GSrVwGwRI/photo.jpg?sz=128", "display_name": "Cornel", "link": "https://stackoverflow.com/users/8304707/cornel"}, "edited": false, "score": 0, "creation_date": 1502924063, "post_id": 45724074, "comment_id": 78406133, "body": "It&#39;s an exercise from a book that teaches pseudocode which I&#39;m supposed to translate to Python syntax."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502924532, "post_id": 45724074, "comment_id": 78406250, "body": "Well, the &quot;correct&quot; way to go about this in Python would be if you deleted every method except <code>__init__</code> and <code>printPetInfo</code>. Also, you should try to stick to official style conventions, so <code>snake_case</code> for variable and function names, <code>UpperCase</code> only for class names... And no <code>camelCase</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502924947, "post_id": 45724074, "comment_id": 78406364, "body": "Read <a href=\"http://www.python-course.eu/python3_properties.php\" rel=\"nofollow noreferrer\">this</a> if you want to understand the Python way of doing things."}], "owner": {"reputation": 127, "user_id": 8304707, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-9-GYIL0GRF8/AAAAAAAAAAI/AAAAAAAAABM/W0GSrVwGwRI/photo.jpg?sz=128", "display_name": "Cornel", "link": "https://stackoverflow.com/users/8304707/cornel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 885, "favorite_count": 0, "closed_date": 1502923661, "answer_count": 0, "score": 0, "last_activity_date": 1502923705, "creation_date": 1502923513, "question_id": 45724074, "link": "https://stackoverflow.com/questions/45724074/max-recursion-depth-exceeded-python-setters-and-getters", "closed_reason": "Duplicate", "title": "Max Recursion Depth Exceeded - Python Setters and Getters", "body": "<p>I am supposed to use setters and getters for this class instance but getting the following error after I prompt user for input.</p>\n\n<p>Traceback (most recent call last):\n  File \"python\",  in \n  File \"python\",  in <strong>init</strong>\n  File \"python\",  in Name\n  File \"python\",  in Name\n  File \"python\",  in Name\n  [Previous line repeated 492 more times]\nRecursionError: maximum recursion depth exceeded</p>\n\n<pre><code>class Pet:\n\n  def __init__(self, nameOfPet, typeOfPet, ageOfPet):\n    self.Name = nameOfPet\n    self.Types = typeOfPet\n    self.Age = ageOfPet\n\n  @property\n  def Name(self):\n    return self.Name\n\n  @Name.setter\n  def Name(self, petName):\n    self.Name = petName\n\n  @property\n  def Types(self):\n    return self.Types\n\n  @Types.setter\n  def Types(self, petType):\n    self.Types = petType\n\n  @property\n  def Age(self):\n    return self.Age\n\n  @Age.setter\n  def Age(self, petAge):\n    self.Age = petAge\n\n  def printPetInfo(self):\n    print(\"Hello. Your pet's name is {}, it is a {} type and it is {} years old. \".format(self.Name,self.Types,self.Age))\n\n#Get input from user.\nname = input(\"Enter the pet's name: \")\ntypes = input(\"Enter the pet's type (Dog, Cat, Bird, etc.): \")\nage = input(\"Enter the pet's age (in years): \")\nwhile age.isalpha():\n  print()\n  print(\"Age cannot contain numbers. Try again.\")\n  age = input(\"Enter the pet's age (in years): \")\n\n#Instantiate a new Pet Instance.\nmyPet = Pet(name,types,age)\n\nmyPet.printPetInfo()\n\nprint(\"\\n \\n \\n \\n \\n \\n\")\n</code></pre>\n"}, {"tags": ["python", "psychopy"], "comments": [{"owner": {"reputation": 2271, "user_id": 3592211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503144df77da1c12c3c3f922629c5ca?s=128&d=identicon&r=PG", "display_name": "Michael MacAskill", "link": "https://stackoverflow.com/users/3592211/michael-macaskill"}, "edited": false, "score": 0, "creation_date": 1502923962, "post_id": 45724061, "comment_id": 78406112, "body": "Hi @aubrey welcome to StackOverflow. Please describe <i>exactly</i> what you do want to appear and <i>exactly</i> what &quot; it appears that the script is not able to perform both tasks at once&quot; means."}], "answers": [{"tags": [], "owner": {"reputation": 4645, "user_id": 1297830, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8rH9k.jpg?s=128&g=1", "display_name": "Jonas Lindel&#248;v", "link": "https://stackoverflow.com/users/1297830/jonas-lindel%c3%b8v"}, "is_accepted": false, "score": 0, "last_activity_date": 1502958092, "creation_date": 1502958092, "answer_id": 45729986, "question_id": 45724061, "link": "https://stackoverflow.com/questions/45724061/any-way-to-draw-separate-dynamic-stimuli-for-consecutive-frames-at-the-same-time/45729986#45729986", "title": "Any way to draw separate dynamic stimuli for consecutive frames at the same time? (psychopy)", "body": "\n\n<p>I can provide a more general example, which you can hopefully adapt to your situation. Hopefully, by cutting it to the bone, the general principle is easier to understand.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Set up modules and stimuli\nfrom psychopy import visual, event\nwin = visual.Window()\nstim = visual.TextStim(win, text='I\\'m a stimulus!')\nfeedback = visual.TextStim(win, text='')\n\nfor frame in range(5*60):  # Run for 5 seconds on a 60 Hz monitor\n    # Change stimulus dynamically\n    stim.pos += (0.001, 0.002)  # Change position\n    stim.color -= 0.005  # Make darker\n\n    # Feedback based on response\n    key = event.getKeys()\n    if key:\n        feedback.text = 'Last key was %s' %key[0]\n\n    # Show it\n    stim.draw()\n    feedback.draw()\n    win.flip()\n</code></pre>\n\n<p>Naturally, you could have more stimuli, do more elaborate feedback, change more features, etc. In your case, you would probably change the stimulus text instead of position and color.</p>\n"}], "owner": {"reputation": 11, "user_id": 8474993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e7c54e24bfab6241b67bb48e7c4e89?s=128&d=identicon&r=PG&f=1", "display_name": "Aubrey ", "link": "https://stackoverflow.com/users/8474993/aubrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502958092, "creation_date": 1502923379, "question_id": 45724061, "link": "https://stackoverflow.com/questions/45724061/any-way-to-draw-separate-dynamic-stimuli-for-consecutive-frames-at-the-same-time", "title": "Any way to draw separate dynamic stimuli for consecutive frames at the same time? (psychopy)", "body": "<p>I'm trying to display a set of numbers that change dynamically over the course of about 25 seconds while at the same time displaying visual stimuli that serves as feedback for the subjects' responses. However, it appears that the script is not able to perform both tasks at once. Can anyone think of any kind of work around for this? Any help is very appreciated. I'm very new to python/psychopy, so I apologize if the code is a little messy. </p>\n\n<p>Here's my current code:</p>\n\n<p><strong>Begin Routine</strong></p>\n\n<pre><code>if not countdownStartedIndie:\n   countdownClock = core.CountdownTimer(26)\n   countdownStartedIndie = True\n\nif not countupto:\n    timer = core.Clock()\n    avgtaps = 0\n    countupto = True\n</code></pre>\n\n<p><strong>Each Frame</strong></p>\n\n<pre><code>timeRemaining = countdownClock.getTime()  \nValueWin = visual.TextStim(win, text='+', font='', pos=(-0.5, -0.5), depth=0, rgb=None, color=('limegreen'), colorSpace='rgb', opacity=1, contrast=1.0, units='', ori=0.0, height=0.3, antialias=True, bold=False, italic=False, alignHoriz='center', alignVert='center', fontFiles=(), wrapWidth=None, flipHoriz=False, flipVert=False, name=None, autoLog=None)\n</code></pre>\n\n<p><code>timetogo = timer.getTime()</code></p>\n\n<pre><code>if timetogo &gt;= 25:\n    countupto = False\nelse:\n    minutes2 = int(timetogo/60)\n    seconds2 = int(timetogo -(minutes2*60))\n\nif timeRemaining &lt;= 0.0:\n    s4.finished = True\n    continueRoutine = False\n    countdownStartedIndie = False\nelse:\n    minutes = int(timeRemaining/60) # the integer number of minutes\n    seconds = int(timeRemaining -(minutes*60))\n    timeText = str(minutes)+ ':' + str(seconds) #create a string of characters representing time\n\nif s4keys.corr:\n   ValueWin.draw #visual player feedback\n\njitter = [10,11,12,13][randint(0,3)]\ngroupcount = 'x' + str(jitter)\nfor frameN in range (48):\n   s4count.draw() #a text stim using the 'groupcount' variable \n   win.flip()\n</code></pre>\n"}, {"tags": ["python", "django", "paypal", "render"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 5, "creation_date": 1502923131, "post_id": 45724006, "comment_id": 78405858, "body": "Please <a href=\"https://stackoverflow.com/posts/45724006/edit\">edit</a> your question to include the full stack trace."}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502923293, "post_id": 45724006, "comment_id": 78405906, "body": "Yea, this is happening somewhere else in your code."}, {"owner": {"reputation": 651, "user_id": 6572013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ef6ac38cc8f5d7b3b28670b0e6947061?s=128&d=identicon&r=PG&f=1", "display_name": "Ire", "link": "https://stackoverflow.com/users/6572013/ire"}, "edited": false, "score": 0, "creation_date": 1503086184, "post_id": 45724006, "comment_id": 78486636, "body": "I&#39;ve edited the question with the link to code in github. Thank you!"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1503087142, "post_id": 45724006, "comment_id": 78487079, "body": "You still haven&#39;t shown the full traceback as TemporalWolf asked. You&#39;re more likely to get an answer if you post the specific code that is failing, rather than just linking to GitHub."}, {"owner": {"reputation": 666, "user_id": 5326788, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fv91g.jpg?s=128&g=1", "display_name": "Marshall X", "link": "https://stackoverflow.com/users/5326788/marshall-x"}, "edited": false, "score": 1, "creation_date": 1503090762, "post_id": 45724006, "comment_id": 78488781, "body": "no code post here, url is a link to github repo, not helpful"}, {"owner": {"reputation": 651, "user_id": 6572013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ef6ac38cc8f5d7b3b28670b0e6947061?s=128&d=identicon&r=PG&f=1", "display_name": "Ire", "link": "https://stackoverflow.com/users/6572013/ire"}, "edited": false, "score": 0, "creation_date": 1503096599, "post_id": 45724006, "comment_id": 78490449, "body": "Sorry, I thought they meant the full code.  Traceback added now."}, {"owner": {"reputation": 96, "user_id": 3175177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j0aol.jpg?s=128&g=1", "display_name": "Dhiraj", "link": "https://stackoverflow.com/users/3175177/dhiraj"}, "edited": false, "score": 0, "creation_date": 1589163981, "post_id": 45724006, "comment_id": 109175176, "body": "You have to use with app name eg. {% url &#39;core:home&#39; %} here core is the name of the app and home the view name."}], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 6572013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ef6ac38cc8f5d7b3b28670b0e6947061?s=128&d=identicon&r=PG&f=1", "display_name": "Ire", "link": "https://stackoverflow.com/users/6572013/ire"}, "edited": false, "score": 5, "creation_date": 1503130761, "post_id": 45766205, "comment_id": 78496812, "body": "That was it. I added the quotes in the template and the name=&#39;products&#39; in urls.py and it works now.  Thanks Alasdair!"}, {"owner": {"reputation": 1167, "user_id": 2364215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb78fce12f9fbdc28e4849b310bbd26?s=128&d=identicon&r=PG", "display_name": "hlongmore", "link": "https://stackoverflow.com/users/2364215/hlongmore"}, "edited": false, "score": 0, "creation_date": 1532418388, "post_id": 45766205, "comment_id": 89954951, "body": "This may also be the correct answer for the question of &quot;why does a legacy django form that submits to the same page no longer work after upgrading django&quot;. I make this comment so Google can help others find the answer."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 64, "last_activity_date": 1503133171, "last_edit_date": 1503133171, "creation_date": 1503098569, "answer_id": 45766205, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/45766205#45766205", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>When you use the url tag you should use quotes for string literals, for example:</p>\n\n<pre><code>{% url 'products' %}\n</code></pre>\n\n<p>At the moment <code>product</code> is treated like a variable and evaluates to <code>''</code> in the error message. </p>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 888367, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/hGdwz.jpg?s=128&g=1", "display_name": "Andr&#233;s Meza-Escall&#243;n", "link": "https://stackoverflow.com/users/888367/andr%c3%a9s-meza-escall%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1567180348, "post_id": 54076178, "comment_id": 101900017, "body": "In my case, I added the app_name to my urls.py and then missed to include the &quot;namespace:&quot; prefix. So thank you for bringing this to my attention!"}, {"owner": {"reputation": 330, "user_id": 11187592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hs77B.jpg?s=128&g=1", "display_name": "Kaszanas", "link": "https://stackoverflow.com/users/11187592/kaszanas"}, "edited": false, "score": 2, "creation_date": 1592330216, "post_id": 54076178, "comment_id": 110385580, "body": "This is so far one of the best answers I found. No one seems to mention <code>{% url &#39;namespace:url_name&#39; %}</code> - People respond with <code>{%url  &#39;url_name&#39; %}</code>"}, {"owner": {"reputation": 1161, "user_id": 3633696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4d12ec3ab32aaa93f9c1438856dd72e0?s=128&d=identicon&r=PG&f=1", "display_name": "logicOnAbstractions", "link": "https://stackoverflow.com/users/3633696/logiconabstractions"}, "edited": false, "score": 0, "creation_date": 1607719218, "post_id": 54076178, "comment_id": 115370644, "body": "Dude thanks for pointing that out - incidentally, I feel there may be a mistake in the Django official tutorial? THey also omit the namespace prefix..."}, {"owner": {"reputation": 822, "user_id": 9851541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bXR5bxP84LE/AAAAAAAAAAI/AAAAAAAAMY4/rhq6pdhUmyI/photo.jpg?sz=128", "display_name": "Swati Srivastava", "link": "https://stackoverflow.com/users/9851541/swati-srivastava"}, "edited": false, "score": 0, "creation_date": 1617957552, "post_id": 54076178, "comment_id": 118461308, "body": "It is also worth mentioning that there is no space between namespace and url_name. In my case, space was the error"}], "tags": [], "owner": {"reputation": 1125, "user_id": 9061899, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qzakbrf9y30/AAAAAAAAAAI/AAAAAAAAHvM/Sb56ILoC85w/photo.jpg?sz=128", "display_name": "Aditya Mishra", "link": "https://stackoverflow.com/users/9061899/aditya-mishra"}, "is_accepted": false, "score": 29, "last_activity_date": 1546871016, "creation_date": 1546871016, "answer_id": 54076178, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/54076178#54076178", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<ol>\n<li>The syntax for specifying url is <code>{% url namespace:url_name %}</code>. So, check if you have added the <code>app_name</code> in urls.py.</li>\n<li>In my case, I had misspelled the url_name. The urls.py had the following content <code>path('&lt;int:question_id&gt;/', views.detail, name='question_detail')</code> whereas the index.html file had the following entry <code>&lt;li&gt;&lt;a href=\"{% url 'polls:detail' question.id %}\"&gt;{{ question.question_text }}&lt;/a&gt;&lt;/li&gt;</code>. Notice the incorrect name.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 3719458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cfaca629206237d0485b2178a8c69e?s=128&d=identicon&r=PG&f=1", "display_name": "user3719458", "link": "https://stackoverflow.com/users/3719458/user3719458"}, "is_accepted": false, "score": 0, "last_activity_date": 1591981724, "last_edit_date": 1591981724, "creation_date": 1557054637, "answer_id": 55991328, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/55991328#55991328", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>The common error that I have find is when you forget to define \nyour url in <code>yourapp/urls.py</code></p>\n\n<p>we don't want any suggetion!!\nsolution plz.. </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9599579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eTqmMfn1920/AAAAAAAAAAI/AAAAAAAAAMo/LrAw6g0y0Iw/photo.jpg?sz=128", "display_name": "Dartion", "link": "https://stackoverflow.com/users/9599579/dartion"}, "is_accepted": false, "score": 3, "last_activity_date": 1557283571, "creation_date": 1557283571, "answer_id": 56032839, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/56032839#56032839", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>Fix <code>urlpatterns</code> in urls.py file</p>\n\n<p>For example, my app name is \"simulator\",  </p>\n\n<p>My URL pattern for <code>login</code> and <code>logout</code> looks like </p>\n\n<pre><code>urlpatterns = [\n    ...\n    ...\n    url(r'^login/$', simulator.views.login_view, name=\"login\"),\n    url(r'^logout/$', simulator.views.logout_view, name=\"logout\"),\n    ...\n    ...\n\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 0, "creation_date": 1568192721, "post_id": 57885120, "comment_id": 102193647, "body": "Can you explain that further? Why should that additional space trigger the given error?"}], "tags": [], "owner": {"reputation": 1, "user_id": 12051853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096a96d72024eaa08fc5c222afd0bf70?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas T", "link": "https://stackoverflow.com/users/12051853/douglas-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1568190920, "last_edit_date": 1568190920, "creation_date": 1568190557, "answer_id": 57885120, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/57885120#57885120", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>On line 10 there's a space between <code>s</code> and <code>t</code>. It should be one word: <code>stylesheet</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2954, "user_id": 7699859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOr4P.jpg?s=128&g=1", "display_name": "Bal Krishna Jha", "link": "https://stackoverflow.com/users/7699859/bal-krishna-jha"}, "is_accepted": false, "score": 12, "last_activity_date": 1575128669, "creation_date": 1575128669, "answer_id": 59117709, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/59117709#59117709", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>I was receiving the same error when not specifying the <code>app</code> name before pattern name. \nIn my case: </p>\n\n<p><code>app-name</code> : Blog</p>\n\n<p><code>pattern-name</code> : post-delete</p>\n\n<p><code>reverse_lazy('Blog:post-delete')</code>  worked.</p>\n"}, {"comments": [{"owner": {"reputation": 980, "user_id": 1601273, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d5b52380a6b98019af42de8e621448d?s=128&d=identicon&r=PG", "display_name": "Bulkin", "link": "https://stackoverflow.com/users/1601273/bulkin"}, "edited": false, "score": 0, "creation_date": 1577425319, "post_id": 59496418, "comment_id": 105166428, "body": "This is not the answer. Edit it in order to the question or write it in comments."}], "tags": [], "owner": {"reputation": 1, "user_id": 8311566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6569812010d9add02194cfacfe14bd81?s=128&d=identicon&r=PG&f=1", "display_name": "aman sharma", "link": "https://stackoverflow.com/users/8311566/aman-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1577440271, "last_edit_date": 1577440271, "creation_date": 1577424904, "answer_id": 59496418, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/59496418#59496418", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>If you dont define name in the path field, usually the error will come.\ne.g.: <code>path('crud/',ABC.as_view(),name=\"crud\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 6159467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hG7I.jpg?s=128&g=1", "display_name": "Varun Sharma", "link": "https://stackoverflow.com/users/6159467/varun-sharma"}, "is_accepted": false, "score": 3, "last_activity_date": 1579668461, "creation_date": 1579668461, "answer_id": 59852783, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/59852783#59852783", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>In my case, what I did was a mistake in the url tag in the respective template. So, in my url tag I had something like </p>\n\n<p>{% url 'polls:details' question.id %}</p>\n\n<p>while in the views, I had written something like:</p>\n\n<p>def details(request, question_id):\n    code here</p>\n\n<p>So, the first thing you might wanna check is whether things are spelled as they shoould be. The next thing then you can do is as the people above have suggested.</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 201706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xbipj.jpg?s=128&g=1", "display_name": "Mike P", "link": "https://stackoverflow.com/users/201706/mike-p"}, "edited": false, "score": 1, "creation_date": 1584378263, "post_id": 60710033, "comment_id": 107413262, "body": "Can you give a bit more detail about your suggestion? Why will it help?"}], "tags": [], "owner": {"reputation": 1, "user_id": 13071835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhJr7eUEyYyp00gjJRD5otTPlAf2qVql8ymADt6=k-s128", "display_name": "Raj More", "link": "https://stackoverflow.com/users/13071835/raj-more"}, "is_accepted": false, "score": 0, "last_activity_date": 1584377519, "creation_date": 1584377519, "answer_id": 60710033, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/60710033#60710033", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>Give the same name in urls.py</p>\n\n<pre><code> path('detail/&lt;int:id&gt;', views.detail, name=\"detail\"),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13847588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b04b86c8c5fdaa92dbad9dc5871abf6?s=128&d=identicon&r=PG&f=1", "display_name": "Mainul Islam Faruqi", "link": "https://stackoverflow.com/users/13847588/mainul-islam-faruqi"}, "is_accepted": false, "score": 1, "last_activity_date": 1605241158, "last_edit_date": 1605241158, "creation_date": 1593792141, "answer_id": 62719014, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/62719014#62719014", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>In my case, I don't put namespace_name in the url tag ex: <code>{% url 'url_name or pattern name' %}.</code>\nyou have to specify the namespace_name like: <code>{% url 'namespace_name:url_name or pattern name' %}.</code></p>\n<p><strong>Explanation:</strong> In project <strong>urls.py</strong> <code>path('', include('blog.urls',namespace='blog')),</code> and in app's <strong>urls.py</strong> you have to specify the app_name. like <code>app_name = 'blog'</code>. namespace_name is the app_name.</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 12353491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f19mb.jpg?s=128&g=1", "display_name": "Kamar", "link": "https://stackoverflow.com/users/12353491/kamar"}, "is_accepted": false, "score": 5, "last_activity_date": 1601824767, "creation_date": 1601824767, "answer_id": 64196417, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/64196417#64196417", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>Add store name to template like <code>{% url 'app_name:url_name' %}</code></p>\n<p>App_name = store</p>\n<p>In urls.py,\n<code>path('search', views.searched, name=&quot;searched&quot;),</code></p>\n<p><code>&lt;form action=&quot;{% url 'store:searched' %}&quot; method=&quot;POST&quot;&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 12575247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDsSd.png?s=128&g=1", "display_name": "Shoaib21", "link": "https://stackoverflow.com/users/12575247/shoaib21"}, "is_accepted": false, "score": 0, "last_activity_date": 1609440992, "creation_date": 1609440992, "answer_id": 65524677, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/65524677#65524677", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>In my case, this error occurred due to a <code>mismatched</code> url name. e.g,</p>\n<pre><code>&lt;form action=&quot;{% url 'test-view' %}&quot; method=&quot;POST&quot;&gt;\n</code></pre>\n<p>urls.py</p>\n<pre><code>path(&quot;test/&quot;, views.test, name='test-view'),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10315518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29153257308e0011aacd1b4ce5a655cb?s=128&d=identicon&r=PG&f=1", "display_name": "Mitesh Patil", "link": "https://stackoverflow.com/users/10315518/mitesh-patil"}, "is_accepted": false, "score": 1, "last_activity_date": 1616045878, "last_edit_date": 1616045878, "creation_date": 1616044077, "answer_id": 66685103, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/66685103#66685103", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>In my case, this error occurred because I forgot to add <code>app_name</code> along with <code>url_name</code>.\nBelow is my app <code>urls.py</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>    app_name = &quot;wikis&quot;\n    urlpatterns = [\n        path(&quot;&quot;, views.index, name=&quot;index&quot;),\n        path(&quot;wiki/&lt;str:name&gt;&quot;, views.get_page, name=&quot;get_page&quot;),\n       ]\n</code></pre>\n<p>Below is my function's return statement where I forgot to put <code>app_name</code> in reverse URL</p>\n<pre class=\"lang-py prettyprint-override\"><code>    return HttpResponseRedirect(reverse(&quot;get_page&quot;, kwargs={'name':title}))\n</code></pre>\n<p>Correct code would be</p>\n<pre class=\"lang-py prettyprint-override\"><code>    return HttpResponseRedirect(reverse(&quot;wikis:get_page&quot;, kwargs={'name':title}))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14332940, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhTlCLkZ4ah901r3M4G0CYBlKapxSSOxLwuPEgUDQ=k-s128", "display_name": "sreekanth", "link": "https://stackoverflow.com/users/14332940/sreekanth"}, "is_accepted": false, "score": -1, "last_activity_date": 1618479967, "creation_date": 1618479967, "answer_id": 67106111, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/67106111#67106111", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>appname=demo\nurl=/student</p>\n<p><strong>href=&quot;{% url 'demo:student' %}&quot;</strong></p>\n<p>Make Sure you should not have space before or after : (colon)</p>\n"}, {"comments": [{"owner": {"reputation": 2042, "user_id": 13736952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwa0A.png?s=128&g=1", "display_name": "M-Chen-3", "link": "https://stackoverflow.com/users/13736952/m-chen-3"}, "edited": false, "score": 0, "creation_date": 1618873054, "post_id": 67168691, "comment_id": 118729976, "body": "How do you solve this problem?"}], "tags": [], "owner": {"reputation": 11, "user_id": 14024839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2480bb334be8fe83fe9f0db22bf81b?s=128&d=identicon&r=PG&f=1", "display_name": "RealJembure", "link": "https://stackoverflow.com/users/14024839/realjembure"}, "is_accepted": false, "score": 0, "last_activity_date": 1618862864, "creation_date": 1618862864, "answer_id": 67168691, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/67168691#67168691", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>*Always make sure when you use HttpResponseRedirect and reverse, the name you specify inside reverse is the same name you gave to your path inside urls.py</p>\n<p>Thats the problem i had and i found out through trial and error*</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14024839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2480bb334be8fe83fe9f0db22bf81b?s=128&d=identicon&r=PG&f=1", "display_name": "RealJembure", "link": "https://stackoverflow.com/users/14024839/realjembure"}, "is_accepted": false, "score": 0, "last_activity_date": 1618863051, "creation_date": 1618863051, "answer_id": 67168725, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na/67168725#67168725", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>*Always make sure when you use HttpResponseRedirect and reverse, the name you specify inside reverse is the same name you gave to your path inside urls.py</p>\n<p>'return HttpResponseRedirect(reverse(&quot;index&quot;))\npath(&quot;index/&quot;,views.index,name=&quot;index&quot;)'</p>\n<p>Thats the problem i had and i found out through trial and error*</p>\n"}], "owner": {"reputation": 651, "user_id": 6572013, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ef6ac38cc8f5d7b3b28670b0e6947061?s=128&d=identicon&r=PG&f=1", "display_name": "Ire", "link": "https://stackoverflow.com/users/6572013/ire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144534, "favorite_count": 7, "accepted_answer_id": 45766205, "answer_count": 16, "score": 56, "last_activity_date": 1618863051, "creation_date": 1502922986, "last_edit_date": 1568193029, "question_id": 45724006, "link": "https://stackoverflow.com/questions/45724006/django-reverse-for-not-found-is-not-a-valid-view-function-or-pattern-na", "title": "Django - Reverse for &#39;&#39; not found. &#39;&#39; is not a valid view function or pattern name", "body": "<p>I'm working on my project for a course and I'm totally stuck right now. I'm creating a website to sell products through paypal and the paypal return/cancel pages are not rendering properly. I've followed the examples in my lessons and checked the code a hundred times but obviously there is something I'm missing.</p>\n\n<p>I'm getting an error when I go to products, click buy now, login to paypal and then either cancel the purchase or buy the product and return to merchant's page.\npaypal_return.html and paypal_cancel.html are 2 templates saved under templates/paypal/ </p>\n\n<p>Can anybody see what I'm missing? </p>\n\n<p>Here you can see the full code <a href=\"https://github.com/IreneG5/spss_online\" rel=\"noreferrer\">https://github.com/IreneG5/spss_online</a></p>\n\n<p>Traceback</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/paypal-cancel/\n\nDjango Version: 1.11.4\nPython Version: 2.7.12\nInstalled Applications:\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'django_forms_bootstrap',\n 'paypal.standard.ipn',\n 'home',\n 'accounts',\n 'paypal_store',\n 'products']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n\n\nTemplate error:\nIn template C:\\Users\\irene\\Documents\\Full-Stack-Developer\\Stream3\\Project\\spss_online\\templates\\base.html, error at line 10\n   Reverse for '' not found. '' is not a valid view function or pattern name.   1 : {% load staticfiles %}\n   2 : &lt;!DOCTYPE html&gt;\n   3 : &lt;html lang=\"en\"&gt;\n   4 : &lt;head&gt;\n   5 :     &lt;meta charset=\"UTF-8\"&gt;\n   6 :     &lt;title&gt;Buy SPSS Online&lt;/title&gt;\n   7 :     &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n   8 :     &lt;meta name=\"description\" content=\"\"&gt;\n   9 :     &lt;meta name=\"author\" content=\"\"&gt;\n   10 :     &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css\"&gt;\n   11 :     &lt;link rel=\"stylesheet\" href=\"{% static 'css/style.css' %}\"&gt;\n   12 : \n   13 : \n   14 : &lt;/head&gt;\n   15 : &lt;body&gt;\n   16 : &lt;div class=\"container\"&gt;\n   17 :     &lt;div class='container-fluid'&gt;\n   18 :         &lt;nav id=\"menu\" class=\"navbar navbar-inverse\"&gt;\n   19 :             &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\"&gt;\n   20 :                 &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n\n\nTraceback:\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\core\\handlers\\exception.py\" in inner\n  41.             response = get_response(request)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  187.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"C:\\Users\\irene\\Documents\\Full-Stack-Developer\\Stream3\\Project\\spss_online\\paypal_store\\views.py\" in paypal_cancel\n  15.     return render(request, 'paypal/paypal_cancel.html', args)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\shortcuts.py\" in render\n  30.     content = loader.render_to_string(template_name, context, request, using=using)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\loader.py\" in render_to_string\n  68.     return template.render(context, request)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\backends\\django.py\" in render\n  66.             return self.template.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render\n  207.                     return self._render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in _render\n  199.         return self.nodelist.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render\n  990.                 bit = node.render_annotated(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  957.             return self.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\loader_tags.py\" in render\n  177.             return compiled_parent._render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in _render\n  199.         return self.nodelist.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render\n  990.                 bit = node.render_annotated(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  957.             return self.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\loader_tags.py\" in render\n  72.                 result = block.nodelist.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render\n  990.                 bit = node.render_annotated(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  957.             return self.render(context)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\template\\defaulttags.py\" in render\n  458.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\urls\\base.py\" in reverse\n  91.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))\n\nFile \"C:\\Users\\irene\\virtualenv\\spss_online_env\\lib\\site-packages\\django\\urls\\resolvers.py\" in _reverse_with_prefix\n  497.         raise NoReverseMatch(msg)\n\nException Type: NoReverseMatch at /paypal-cancel/\nException Value: Reverse for '' not found. '' is not a valid view function or pattern name.\n</code></pre>\n"}, {"tags": ["python", "django", "unit-testing", "testing", "automated-tests"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1502923401, "post_id": 45723998, "comment_id": 78405932, "body": "just use pycharm ide ... that just shows you this information ..."}], "owner": {"reputation": 460, "user_id": 3247880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03713e6a1b5066364ba5d9cb73be82f?s=128&d=identicon&r=PG&f=1", "display_name": "izkeros", "link": "https://stackoverflow.com/users/3247880/izkeros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1502922883, "creation_date": 1502922883, "question_id": 45723998, "link": "https://stackoverflow.com/questions/45723998/how-can-i-measure-execution-time-of-each-test-in-large-500-test-suite-for-dja", "title": "How can I measure execution time of each test in large (500+) test suite for Django project", "body": "<p>I'm working with a Django project that has quite large test suite based on builtin unittest. I wonder if there is a smart way to get execution time of each test (to spot long lasting ones).\nI found two projects on github that are adding such functionality but at the cost of adding additional inheritance for the test class - I would like to avoid modifying each test class in order to add execution time measurements. To clarify I'm not interested in detailed profiling such as provided by e.g. pytest-profiling.</p>\n"}, {"tags": ["python", "python-3.x", "python-3.5"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 6, "creation_date": 1502922883, "post_id": 45723988, "comment_id": 78405789, "body": "<i>&quot;I have tried to use import datetime but didn&#39;t work as intended&quot;</i> - have you? Then give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> <b>of that code</b> and more detail on the problem with it than <i>&quot;didn&#39;t work as intended&quot;</i>."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1502923015, "post_id": 45723988, "comment_id": 78405828, "body": "Did you try searching for an answer? I found <a href=\"https://stackoverflow.com/questions/9847213/which-day-of-week-given-a-date-python\">this</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502923312, "post_id": 45723988, "comment_id": 78405907, "body": "&quot;It&#39;s still not working&quot; is not an adequate problem specification. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 43, "user_id": 7504583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a76bfaf84da056eac73f1b81b8401e5?s=128&d=identicon&r=PG&f=1", "display_name": "Pramadito Rafiaqil Ibrahim", "link": "https://stackoverflow.com/users/7504583/pramadito-rafiaqil-ibrahim"}, "edited": false, "score": 0, "creation_date": 1502923447, "post_id": 45723988, "comment_id": 78405955, "body": "i tried searching my answer from many source"}], "answers": [{"comments": [{"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1502923113, "post_id": 45724007, "comment_id": 78405851, "body": "why import extra not-even-builtin libraries when <code>datetime</code> is sufficient. KISS"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1502923185, "post_id": 45724007, "comment_id": 78405876, "body": "because then it will handle different date formats automagically ... I assume the OP needs more than just that specific format (even though he didnt say so)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": -3, "last_activity_date": 1502922990, "creation_date": 1502922990, "answer_id": 45724007, "question_id": 45723988, "link": "https://stackoverflow.com/questions/45723988/how-to-get-specific-day-from-date-by-user-input-in-python/45724007#45724007", "title": "how to get specific day from date by user input in Python?", "body": "<p>first</p>\n\n<pre><code>pip install python-dateutil\n</code></pre>\n\n<p>then</p>\n\n<pre><code>from dateutil.parser import parse\nprint parse(\"21 October 2013\").strftime(\"%A\")`\n</code></pre>\n\n<p>see also </p>\n\n<ul>\n<li><a href=\"https://dateutil.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">https://dateutil.readthedocs.io/en/stable/</a>, </li>\n<li><a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/datetime.html</a></li>\n<li><a href=\"http://strftime.org/\" rel=\"nofollow noreferrer\">http://strftime.org/</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1502925257, "creation_date": 1502925257, "answer_id": 45724318, "question_id": 45723988, "link": "https://stackoverflow.com/questions/45723988/how-to-get-specific-day-from-date-by-user-input-in-python/45724318#45724318", "title": "how to get specific day from date by user input in Python?", "body": "<p>I really think you could have figured this out with the link I posted in the comments, but here you go:</p>\n\n<pre><code>import datetime\nimport calendar\ndate = input('Date in DD Full month YYYY: ')\nborn = datetime.datetime.strptime(date, '%d %B %Y').weekday()\nprint(calendar.day_name[born])\n</code></pre>\n\n<p>The format needs to be DD month_name YYYY as you wanted, anything else and it won't work.</p>\n"}], "owner": {"reputation": 43, "user_id": 7504583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a76bfaf84da056eac73f1b81b8401e5?s=128&d=identicon&r=PG&f=1", "display_name": "Pramadito Rafiaqil Ibrahim", "link": "https://stackoverflow.com/users/7504583/pramadito-rafiaqil-ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 837, "favorite_count": 0, "answer_count": 2, "score": -7, "last_activity_date": 1505464097, "creation_date": 1502922788, "last_edit_date": 1505464097, "question_id": 45723988, "link": "https://stackoverflow.com/questions/45723988/how-to-get-specific-day-from-date-by-user-input-in-python", "title": "how to get specific day from date by user input in Python?", "body": "<p>example  a user input a date in my command prompt</p>\n\n<pre><code>21 October 2013 \n</code></pre>\n\n<p>and it will come out in </p>\n\n<pre><code>Monday\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/library/datetime.html\" rel=\"nofollow noreferrer\">i also use from this reference</a> </p>\n\n<p>here some of my code </p>\n\n<pre><code>import datetime\ndate = input('Date in DD Full month YYYY: ')\nborn = datetime.datetime.strptime('date', '%d %B %Y').strftime('%A')\nprint(born)\n</code></pre>\n\n<p>edit: sorry a bit new here didn't used to with the formatting</p>\n"}, {"tags": ["python", "rounding", "precision"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1502923036, "post_id": 45723986, "comment_id": 78405831, "body": "More classic <a href=\"https://stackoverflow.com/q/588004/3001761\">Is floating point math broken?</a>. If you want exact representation, consider using <a href=\"https://docs.python.org/3/library/decimal.html\" rel=\"nofollow noreferrer\"><code>Decimal</code></a>."}, {"owner": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1502923053, "post_id": 45723986, "comment_id": 78405836, "body": "I&#39;m very new to py, but I guess for floating points there will be issues. importing decimal will make it much precise I guess. Just <code>import decimal</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502923470, "post_id": 45723986, "comment_id": 78405965, "body": "Hint: what does <code>127.6500000000000056 == 127.65</code> give you? Does the answer surprise you?"}, {"owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "edited": false, "score": 0, "creation_date": 1502924176, "post_id": 45723986, "comment_id": 78406168, "body": "Instead of surprising. It confused me further.        In [159]: 127.6500000000000056 == 127.65       Out[159]: True  After reading the duplicate answer link. I was expecting it to return False."}, {"owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "reply_to_user": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1502924583, "post_id": 45723986, "comment_id": 78406263, "body": "@ihpar just adding import decimal isnt resolving."}, {"owner": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1502924681, "post_id": 45723986, "comment_id": 78406286, "body": "@Wacao You have to use it too. Sorry my initial comment was confusing. Here is a good tutorial on it please check that <a href=\"https://www.programiz.com/python-programming/numbers\" rel=\"nofollow noreferrer\">programiz.com/python-programming/numbers</a>"}, {"owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "reply_to_user": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1502925541, "post_id": 45723986, "comment_id": 78406512, "body": "@ihpar   Still doesnt work In [187]: from decimal import Decimal as D  In [188]: D(127.65)//D(0.05)*D(0.05) Out[188]: Decimal(&#39;127.6000000000000070832228971&#39;)  I am in a big trouble now. Not sure how many places in my code, this would have been creating issues and changing my data.  Explicit datatype defination in other programming language is much better i believe after this case."}, {"owner": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1502926049, "post_id": 45723986, "comment_id": 78406628, "body": "@Wacao you shoud put numbers in quotes such as <code>from decimal import Decimal as D print(D(&#39;127.65&#39;)&#47;&#47;D(&#39;0.05&#39;)*D(&#39;0.05&#39;)) </code> will give output of <code>127.65</code>"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1502951855, "post_id": 45723986, "comment_id": 78413807, "body": "Why are you using <code>&#47;&#47;</code> if you want to round to the <i>nearest</i> 0.05? That&#39;ll round <i>down</i> rather than to nearest."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 426, "user_id": 8430461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7432679f8bb55e1cc858e76fd88b1d?s=128&d=identicon&r=PG&f=1", "display_name": "ihpar", "link": "https://stackoverflow.com/users/8430461/ihpar"}, "edited": false, "score": 0, "creation_date": 1503038854, "post_id": 45723986, "comment_id": 78457556, "body": "if you create a decimal from a floating point number, you&#39;ve <i>already lost the precision</i>. Create it from a string (<i>&quot;numbers in quotes&quot;</i>, as @ihpar would have it) instead. This is discussed in the documentation I linked above."}], "answers": [{"comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 1, "creation_date": 1502952188, "post_id": 45724461, "comment_id": 78414007, "body": "This is not a good solution. It may &quot;work&quot; for you for those couple of cases that you tested, but you&#39;ll eventually find other examples where things round the &quot;wrong&quot; way."}, {"owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "reply_to_user": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1503702383, "post_id": 45724461, "comment_id": 78740430, "body": "@Mark Updated the answer. Unfortunately other ways like using &#39;Decimal&#39; cant work for me because the data input is already in float and the precision is already lost. Surprisingly, there is a lot of documentation on this problem, but majority of it is about explaining the problem. Very few for solutions.  So the scaling-up logic was the best option(i may be wrong) that i could have used to handle this case.  Should you have any other solution, please convey."}], "tags": [], "owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "is_accepted": false, "score": 0, "last_activity_date": 1503701263, "last_edit_date": 1503701263, "creation_date": 1502926355, "answer_id": 45724461, "question_id": 45723986, "link": "https://stackoverflow.com/questions/45723986/strange-case-while-rounding-to-the-nearest-0-05-special-case/45724461#45724461", "title": "Strange case while rounding to the nearest 0.05 - special case", "body": "<p>Finally the scaling up logic mentioned in <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">is-floating-point-math-broken</a> worked for me.</p>\n\n<pre><code>In [200]: (int(127.65*100)//5*5)/100.0\nOut[200]: 127.65\n\nIn [201]:\n\nIn [201]: (int(127.65000000000000001*100)//5*5)/100.0\nOut[201]: 127.65\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>In [286]: int(127.65*20)/20.0\nOut[286]: 127.65\n\nIn [287]: int(127.6500000000000000000000001*20)/20.0\nOut[287]: 127.65\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>For my intended purpose, (rounding to the nearest 0.05 to get the price quote), so far below is the most closest solution that i can find after so many days of search and checking results on multiple values and iterations.</p>\n\n<pre><code>def RP(price):# Round to the nearest price quotable ...i.e. multiple of 0.05\n        return(round(price*20.0,0)/20.0)\n\ndef RP_down(price):# Round_Down to the price quotable ...i.e. multiple of 0.05\n        return(int(price*20.0)/20.0)\n\ndef RP_up(price):# Round_UP to the price quotable ...i.e. multiple of 0.05\n        return(0.05 + int(price*20.0)/20.0)\n</code></pre>\n\n<p>Why it works? The below explanation follows:</p>\n\n<p>Multiply by 20.0 followed by round() or int(), changes the domain from floating point to integers.</p>\n\n<p>And so, eliminates the precision problem, that led to the unexpected results.</p>\n\n<p><strong>Note:</strong> That in the last step (divide by 20.0), we again move from integer to floating point, but with the correct expected value(no surprises so far after running in production from past one week). And you know it for sure that it has only 2 decimal places theoretically (an integer divide by 20), so if need be, you can handle it in the rest of your program by chopping off the rest, while printing.</p>\n"}], "owner": {"reputation": 51, "user_id": 6782190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679074d787dd8259d5eb1925ac773112?s=128&d=identicon&r=PG&f=1", "display_name": "Wacao", "link": "https://stackoverflow.com/users/6782190/wacao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "closed_date": 1502926882, "answer_count": 1, "score": -2, "last_activity_date": 1503701263, "creation_date": 1502922782, "question_id": 45723986, "link": "https://stackoverflow.com/questions/45723986/strange-case-while-rounding-to-the-nearest-0-05-special-case", "closed_reason": "Duplicate", "title": "Strange case while rounding to the nearest 0.05 - special case", "body": "<p>For rounding to the nearest 0.05, I am just dividing it by 0.05 and then multiply by 0.05. As described in other similar questions.</p>\n\n<pre><code>In [119]: (127.651//0.05)*0.05\nOut[119]: 127.65\n\nIn [120]: (127.6501//0.05)*0.05\nOut[120]: 127.65\n\nIn [121]: (127.65000001//0.05)*0.05\nOut[121]: 127.65\n\nIn [122]: (127.65000000001//0.05)*0.05\nOut[122]: 127.65\n\nIn [123]: (127.6500000000001//0.05)*0.05\nOut[123]: 127.65\n</code></pre>\n\n<p>Till here its doing as expected.\nHowever for this special case:</p>\n\n<pre><code>In [124]: (127.650000000000000001//0.05)*0.05\nOut[124]: 127.60000000000001\n</code></pre>\n\n<p>I would have expected 127.65 here.</p>\n\n<p>Tried rounding off before dividing, but again.. strange.\nNot only i am getting unexpected result(expecting 127.65), but also it is giving results that is beyond 2 decimal places, which will result into failure in my further processing functions.</p>\n\n<pre><code>In [125]: (round(127.650000000000000001,5)//0.05)*0.05\nOut[125]: 127.60000000000001\n</code></pre>\n\n<p>If i execute just the inner round,  o/p is 127.65... </p>\n\n<pre><code>In [126]: round(127.650000000000000001,5)\nOut[126]: 127.65\n</code></pre>\n\n<p>But on adding the divide and multiply logic.. the result becomes unexpected.</p>\n\n<pre><code>In [125]: (round(127.650000000000000001,5)//0.05)*0.05\nOut[125]: 127.60000000000001\n</code></pre>\n\n<p>Should there be any datatype issue? or internal precision limitations of python?</p>\n\n<p>how do i overcome it in an elegant way?</p>\n\n<p>PS: </p>\n\n<p>1) I am using python 2.7</p>\n\n<p>2) I am eventually using it in a function. Which is giving unexpected results for this special case. I cannot control the input data quality and its data precision, as it is coming from reading a csv file to dataframe.</p>\n\n<pre><code>def RP(price):# Round down to the nearest price quotable ...i.e. multiple of 0.05\n        return(round(price//0.05*0.05,2))\n</code></pre>\n"}, {"tags": ["python", "algorithm", "graph-theory", "kargers-algorithm"], "comments": [{"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 0, "creation_date": 1502936247, "post_id": 45723894, "comment_id": 78408798, "body": "I suggest using the Kruskal-like implementation with a union-find structure instead of doing actual contractions.  It&#39;s much faster, and easier too.  1) put each edge in its own set.  2) walk through the edges in random order merging the sets connected by each edge until there are only 2 sets.  3) Then the remaining edges that connect the 2 sets are  the cut."}], "answers": [{"tags": [], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "is_accepted": true, "score": 0, "last_activity_date": 1502923078, "creation_date": 1502923078, "answer_id": 45724018, "question_id": 45723894, "link": "https://stackoverflow.com/questions/45723894/in-kargers-min-cut-algorithm-eliminating-self-loops-in-a-graph/45724018#45724018", "title": "In Karger&#39;s min cut algorithm, eliminating self-loops in a graph", "body": "<p>The problem was with the <code>remove_self_loops</code> method: it was terminating after remove only one self-loop. I replaced it by the following:</p>\n\n<pre><code>def remove_self_loops(self):\n    for vertex in self.G:\n        self.G[vertex] = [av for av in self.G[vertex] if not av == vertex]\n</code></pre>\n\n<p>Now after the 'problem' case (which corresponds to contracting along edges <code>[1,2]</code> and <code>[1,3]</code> consecutively) I get the expected (minimum) cut:</p>\n\n<pre><code>{1: [4], 4: [1]}\n</code></pre>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 45724018, "answer_count": 1, "score": 0, "last_activity_date": 1574087946, "creation_date": 1502922224, "last_edit_date": 1574087946, "question_id": 45723894, "link": "https://stackoverflow.com/questions/45723894/in-kargers-min-cut-algorithm-eliminating-self-loops-in-a-graph", "title": "In Karger&#39;s min cut algorithm, eliminating self-loops in a graph", "body": "<p>I'm trying to implement <a href=\"https://en.wikipedia.org/wiki/Karger%27s_algorithm\" rel=\"nofollow noreferrer\">Karger's algorithm</a> for finding the minimum cut of a graph. The key part is the <code>contract</code> method which performs a single contraction. Here is my implementation so far (with a 'test'):</p>\n\n<pre><code>import pytest\nimport random\n\n\nclass Graph(object):\n    def __init__(self, G):\n        self.G = G      # Adjacency list\n\n    @property\n    def edges(self):\n        E = list()\n        for vertex in self.G:\n            for adjacent_vertex in self.G[vertex]:\n                if vertex &lt; adjacent_vertex:\n                    E.append([vertex, adjacent_vertex])\n        return E\n\n    def randomized_contract(self):\n        edge = random.choice(self.edges)\n        self.contract(edge)\n\n    def contract(self, edge):\n        vertex, adjacent_vertex = edge\n        self.G[vertex].remove(adjacent_vertex)\n        self.G[adjacent_vertex].remove(vertex)\n        self.G[vertex] += self.G[adjacent_vertex]\n        del self.G[adjacent_vertex]\n        for v in self.G:\n            for n, av in enumerate(self.G[v]):\n                if av == adjacent_vertex:\n                    self.G[v][n] = vertex\n        self.remove_self_loops()\n\n    def remove_self_loops(self):\n        for vertex in self.G:\n            for n, adjacent_vertex in enumerate(self.G[vertex]):\n                if adjacent_vertex == vertex:\n                    del self.G[vertex][n]\n\n    def contract_till_cut(self):\n        while len(self.G) &gt; 2:\n            self.randomized_contract()\n\n\ndef test_contract_till_cut():\n    graph = Graph({1: [2,3], 2: [1,3], 3: [1,2,4], 4: [3]})\n    graph.contract_till_cut()\n    print(graph.G)\n\n\nif __name__ == \"__main__\":\n    pytest.main([__file__, \"-s\"])\n</code></pre>\n\n<p>My problem is that on one particular run (you might have to run it a few times to reproduce this result), the get the adjacency list</p>\n\n<pre><code>{1: [1, 4], 4: [1]}\n</code></pre>\n\n<p>where node 1 has a 'self-loop' - that is, it occurs in its own adjacency list. I don't see how this can happen; every call to <code>contract</code> is topped off by a call to <code>remove_self_loops</code> which seems to work. Can anyone spot the bug in this code?</p>\n"}, {"tags": ["python", "generator", "python-internals"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1502922316, "post_id": 45723893, "comment_id": 78405593, "body": "You can test whether they <i>behave</i> the same for yourself. Going into the internal implementation details seems too broad for a SO question."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1502922452, "post_id": 45723893, "comment_id": 78405636, "body": "This post may provide some info: <a href=\"http://aosabook.org/en/500L/a-web-crawler-with-asyncio-coroutines.html\" rel=\"nofollow noreferrer\">aosabook.org/en/500L/a-web-crawler-with-asyncio-coroutines.h&zwnj;&#8203;tml</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1502922496, "post_id": 45723893, "comment_id": 78405647, "body": "I doubt that those are equivelent... (they may behave the same) ... check out the <code>dis</code> module to see the bytecode implementation (as an aside as an implementation detail, the answer may change depending on the python interpretter being used)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1502922552, "post_id": 45723893, "comment_id": 78405669, "body": "of course they aren&#39;t equivalent, one is a class and one is a function"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1502922660, "post_id": 45723893, "comment_id": 78405704, "body": "@wim I pretty sure he meant are <code>f</code> and <code>f()</code> equivalent. Regardless, the answer is still no."}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 1, "creation_date": 1502929537, "post_id": 45723893, "comment_id": 78407363, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do\">What does the &quot;yield&quot; keyword do?</a>"}, {"owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "edited": false, "score": 1, "creation_date": 1502951817, "post_id": 45723893, "comment_id": 78413781, "body": "The short answer is that <b>generators are not implemented internally as shown in your pure python class</b>.  Instead, they share most of the same logic as regular functions."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "edited": false, "score": 0, "creation_date": 1503355324, "post_id": 45723893, "comment_id": 78570801, "body": "@RaymondHettinger  On server side, does <code>await loop.sock_accept(listenSock)</code> use <code>yield</code> &amp; <code>next()</code> internally, to wait for new data connection from client?"}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "reply_to_user": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1503356275, "post_id": 45723893, "comment_id": 78571044, "body": "@ppperry Commented in your referred question."}], "answers": [{"comments": [{"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 1, "creation_date": 1502950476, "post_id": 45727729, "comment_id": 78413009, "body": "How <code>yield</code> pause/suspend the function internally?"}, {"owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 2, "creation_date": 1502950839, "post_id": 45727729, "comment_id": 78413197, "body": "@overexchange Execution of both generators and functions involves running the current opcode and updating the code pointer.  Pausing just means to stop doing that.  Resuming means to continue doing that.  Count with me, 1, 2, 3, and now talk about something else, and continue couting 4, 5, 6, ...   All you need to know is the last count.  Likewise, the stackframe keeps the state of the function and you can resume stop updating it and resume updating it at any time."}, {"owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 0, "creation_date": 1502951142, "post_id": 45727729, "comment_id": 78413366, "body": "Building block for async is about task capable to suspend/resume. For server side programming, generally task is suspended on performing IO. When u say, pausing is to stop, are we not pausing because we are waiting for an IO(say http get request)?"}, {"owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "reply_to_user": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "edited": false, "score": 4, "creation_date": 1502951649, "post_id": 45727729, "comment_id": 78413677, "body": "@overexchange I think you&#39;re imagining this to be more complex than it is.  The code for <code>next(g)</code> boils down to basically <code>PyEval_EvalFrameEx(gen-&gt;gi_frame, exc)</code>.  That&#39;s it, it just execs the current state of the frame (see <code>Objects&#47;genobject.c</code> which is clear and simple in Python 2.7).  A <code>yield</code> simply returns from that call.  In contrast, a function call runs <code>PyEval_EvalCodeEx(...)</code> which creates a new frame and execs it as shown above.  See <code>Objects&#47;funcobject.c</code>."}], "tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 14, "last_activity_date": 1502950200, "creation_date": 1502950200, "answer_id": 45727729, "question_id": 45723893, "link": "https://stackoverflow.com/questions/45723893/how-does-a-generator-function-work-internally/45727729#45727729", "title": "How does a generator function work internally?", "body": "<p>Internally, a generator works about the same as a regular function call. Under-the-hood, running generators and running functions use mostly the same machinery. </p>\n\n<p>When you call either a function or a generator, a stackframe is created.  It has the local variables (including the arguments passed into the function), a code pointer to the active opcode, and a stack for pending try-blocks, with-blocks, or loops.</p>\n\n<p>In a regular function, execution begins immediately.  When <a href=\"https://docs.python.org/3/reference/simple_stmts.html#return\" rel=\"noreferrer\"><code>return</code></a> is encountered, the final result is kept and the stackframe is freed along with everything it referenced.</p>\n\n<p>In a <a href=\"https://docs.python.org/3/glossary.html#term-generator\" rel=\"noreferrer\">generator</a> function, the stackframe is wrapped in a <a href=\"https://docs.python.org/3/glossary.html#term-generator-iterator\" rel=\"noreferrer\">generator-iterator</a> object and returned immediately.  The code in the generator function only runs when called by <code>next(g)</code> or <code>g.send(v)</code>.  Execution is suspended when <a href=\"https://docs.python.org/3/reference/simple_stmts.html#yield\" rel=\"noreferrer\"><code>yield</code></a> is encountered.</p>\n\n<p>One way to think of generators is that they are like functions that can be paused with <code>yield</code> and resumed with <code>g.next()</code>.  The stackframe is kept alive, so resuming a running generator is <em>much</em> cheaper than making a new function call which has to build a new frame on every invocation.</p>\n"}], "owner": {"reputation": 11490, "user_id": 3317808, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8272382fcd9841919bc1f8709d25a0?s=128&d=identicon&r=PG&f=1", "display_name": "overexchange", "link": "https://stackoverflow.com/users/3317808/overexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1481, "favorite_count": 4, "accepted_answer_id": 45727729, "answer_count": 1, "score": 3, "last_activity_date": 1615663866, "creation_date": 1502922221, "last_edit_date": 1615663866, "question_id": 45723893, "link": "https://stackoverflow.com/questions/45723893/how-does-a-generator-function-work-internally", "title": "How does a generator function work internally?", "body": "<p>Below is a generator function.</p>\n\n<pre><code>def f():\n   x=1\n   while 1:\n      y = yield x\n      x += y\n</code></pre>\n\n<p>Does this generator function (<code>f</code>) get implemented, internally, as shown below?</p>\n\n<pre><code>class f(collections.Iterable):\n   def __init__(self):\n      self.x = 1\n   def __iter__(self):\n      return iter(self)\n   def __next__(self):\n      return self.x\n   def send(self, y):\n      self.x += y\n      return self.next()\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/45723893/how-does-a-generator-function-work-internally#comment78413677_45727729\">This</a> is the answer for my question.</p>\n"}, {"tags": ["python", "nginx", "flask", "google-compute-engine", "uwsgi"], "comments": [{"owner": {"reputation": 7568, "user_id": 3645370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfsLt.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3645370/david"}, "edited": false, "score": 0, "creation_date": 1503033884, "post_id": 45723829, "comment_id": 78455305, "body": "Youn mention &quot;following this tutorial, for reference&quot;, but there is no link. What was the tutorial?"}, {"owner": {"reputation": 7645, "user_id": 1520197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d48ab75ed084fcbd1347fa0305e1fbff?s=128&d=identicon&r=PG&f=1", "display_name": "Zubair Alam", "link": "https://stackoverflow.com/users/1520197/zubair-alam"}, "edited": false, "score": 0, "creation_date": 1557566311, "post_id": 45723829, "comment_id": 98814731, "body": "<code>connect() to x.sock failed</code>, such message points to SELinux package is installed on your server instance which by default prohibits network connection between webserver and upstream server. Further read <a href=\"https://stackoverflow.com/questions/51501111/python-djangonginxuwsgi-502-bad-gateway/55855442#55855442\" title=\"python djangonginxuwsgi 502 bad gateway\">stackoverflow.com/questions/51501111/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 8474629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f204f843885536c7e10e7b73b8f3875?s=128&d=identicon&r=PG&f=1", "display_name": "bobthecoder", "link": "https://stackoverflow.com/users/8474629/bobthecoder"}, "edited": false, "score": 0, "creation_date": 1502924459, "post_id": 45723962, "comment_id": 78406231, "body": "The socket is set in the uwsgi config file. I edited the post to add that.   Part of the problem was that uwsgi wasn&#39;t running because it didn&#39;t get install properly, this post <a href=\"https://stackoverflow.com/questions/13965555/after-pip-installing-uwsgi-theres-no-etc-uwsgi-directory-how-can-i-use-apps\" title=\"after pip installing uwsgi theres no etc uwsgi directory how can i use apps\">stackoverflow.com/questions/13965555/&hellip;</a> explained how to get it running. Now uwsgi is running and it is giving a 500 internal server error."}, {"owner": {"reputation": 101, "user_id": 8474629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f204f843885536c7e10e7b73b8f3875?s=128&d=identicon&r=PG&f=1", "display_name": "bobthecoder", "link": "https://stackoverflow.com/users/8474629/bobthecoder"}, "edited": false, "score": 0, "creation_date": 1502924853, "post_id": 45723962, "comment_id": 78406336, "body": "and when I add the socket to the nginx config nginx fails to restart"}], "tags": [], "owner": {"reputation": 2194, "user_id": 5728217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xB1kwBRrfk0/AAAAAAAAAAI/AAAAAAAAALs/b_r00eLGBbM/photo.jpg?sz=128", "display_name": "julian salas", "link": "https://stackoverflow.com/users/5728217/julian-salas"}, "is_accepted": false, "score": 0, "last_activity_date": 1502922654, "creation_date": 1502922654, "answer_id": 45723962, "question_id": 45723829, "link": "https://stackoverflow.com/questions/45723829/flasknginxuwsgi-on-google-cloud-compute-engine-gives-502-bad-gateway/45723962#45723962", "title": "Flask+NGINX+UWSGI on Google Cloud Compute Engine gives 502 bad gateway", "body": "<p>The log say <strong>No such file or directory</strong> is because you don't have set up    the socket in your <code>Nginx config</code>, try to add it, something like this:  </p>\n\n<pre><code> location / {\n            proxy_pass http://unix:/tmp/pybossa.sock\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 1960596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0555bf088179d4a2b03571cfa47511ef?s=128&d=identicon&r=PG", "display_name": "Daniel Lombra&#241;a Gonz&#225;lez", "link": "https://stackoverflow.com/users/1960596/daniel-lombra%c3%b1a-gonz%c3%a1lez"}, "is_accepted": false, "score": 0, "last_activity_date": 1502959485, "creation_date": 1502959485, "answer_id": 45730443, "question_id": 45723829, "link": "https://stackoverflow.com/questions/45723829/flasknginxuwsgi-on-google-cloud-compute-engine-gives-502-bad-gateway/45730443#45730443", "title": "Flask+NGINX+UWSGI on Google Cloud Compute Engine gives 502 bad gateway", "body": "<p>Check the uwsgi error logs. It should say, why it's failing or returning 500. Also, double check that the socket is created with the proper privileges, so nginx can connect to it. </p>\n"}], "owner": {"reputation": 101, "user_id": 8474629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f204f843885536c7e10e7b73b8f3875?s=128&d=identicon&r=PG&f=1", "display_name": "bobthecoder", "link": "https://stackoverflow.com/users/8474629/bobthecoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502959485, "creation_date": 1502921753, "last_edit_date": 1502928221, "question_id": 45723829, "link": "https://stackoverflow.com/questions/45723829/flasknginxuwsgi-on-google-cloud-compute-engine-gives-502-bad-gateway", "title": "Flask+NGINX+UWSGI on Google Cloud Compute Engine gives 502 bad gateway", "body": "<p>I'm trying to set up Pybossa (webapp built with Flask) on an NGINX server running on Google Cloud (following this tutorial, for reference). I think there is something wrong with the virtual host file I'm using since as soon as I enable it the server returns 502 bad gateway. The Google Compute Engine VM instance is running Debian 8.</p>\n\n<p>The full hosts file is here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>server {\r\n    listen      80;\r\n    server_name  _;\r\n    large_client_header_buffers 4 32k;\r\n    real_ip_header X-Forwarded-For;\r\n    # change that to your pybossa directory\r\n    root /home/pybossa/pybossa;\r\n    client_max_body_size 5M;\r\nif (-f /home/pybossa/pybossa/503.html) {\r\n    return 503;\r\n}\r\nerror_page 503 @maintenance;\r\nlocation / { try_files $uri @pybossa; }\r\nlocation @pybossa {\r\n    include uwsgi_params;\r\n    uwsgi_pass unix:/tmp/pybossa.sock;\r\n}\r\nlocation  /static {\r\n\r\n            # change that to your pybossa static directory\r\n            alias /home/pybossa/pybossa/pybossa/themes/default/static;\r\n\r\n            autoindex on;\r\n            expires max;\r\n        }\r\n\r\nlocation ~ /api/app {\r\n        rewrite ^/api/app /api/project$1 permanent;\r\n}\r\n\r\nlocation ~ /app {\r\n        rewrite ^/app(.*) /project$1 permanent;\r\n}\r\n\r\nerror_page 503 @maintenance;\r\n\r\nlocation @maintenance {\r\n    if ($uri !~ ^/static/) {\r\n          rewrite ^(.*)$ /503.html break;\r\n        }\r\n}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the uwsgi config file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[uwsgi]\r\nsocket = /tmp/pybossa.sock\r\nchmod-socket = 666\r\nchdir = /home/pybossa/pybossa\r\npythonpath = ..\r\nvirtualenv = /home/pybossa/pybossa/env\r\nmodule = run:app\r\ncpu-affinity = 1\r\nprocesses = 2\r\nthreads = 2\r\nstats = /tmp/pybossa-stats.sock\r\nbuffer-size = 65535</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I had initially set up my own NGINX server, which didn't work. Now I'm running it in an NGINX server deployed by Google cloud, which works fine until I enable the virtual hosts file in `/etc/nginx/sites-enabled/. </p>\n\n<p>The <code>/var/log/nginx/error.log</code> contains the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2017/08/16 21:53:30 [alert] 439#0: *21 open socket #13 left in connection 4\r\n2017/08/16 21:53:30 [alert] 439#0: *21 open socket #13 left in connection 4\r\n2017/08/16 21:53:30 [alert] 439#0: aborting\r\n2017/08/16 21:53:32 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:13 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:14 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:14 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:35 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:36 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:37 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 21:54:51 [crit] 16744#0: *1 connect() to unix:/tmp/pybossa.sock failed (2: No such file or directory) while connecting to upstream, client: 68.107.113.211, server: _, reques\r\nt: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm new to web app development and haven't used Flask or NGINX before. Appreciate any help I can get.</p>\n\n<p>UPDATE: After fixing the issue where uwsgi wasn't running, now error log says</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2017/08/16 23:53:27 [alert] 23944#0: *26 open socket #7 left in connection 3\r\n2017/08/16 23:53:27 [alert] 23944#0: aborting\r\n2017/08/16 23:53:30 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:53:30 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:53:31 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:53:31 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:53:31 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:54:29 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"\r\n2017/08/16 23:54:30 [error] 24536#0: *1 connect() to unix:/tmp/pybossa.sock failed (111: Connection refused) while connecting to upstream, client: 68.107.113.211, server:\r\n _, request: \"GET / HTTP/1.1\", upstream: \"uwsgi://unix:/tmp/pybossa.sock:\", host: \"35.184.197.200\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "windows", "python-3.x"], "comments": [{"owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1502921655, "post_id": 45723786, "comment_id": 78405400, "body": "This may be useful: <a href=\"https://stackoverflow.com/questions/16180428/can-selenium-webdriver-open-browser-windows-silently-in-background#23447450\" title=\"can selenium webdriver open browser windows silently in background%2323447450\">stackoverflow.com/questions/16180428/&hellip;</a>"}, {"owner": {"reputation": 375, "user_id": 8389332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ff4ef6de6795fd235e83a178f5a463c?s=128&d=identicon&r=PG&f=1", "display_name": "El-Chief", "link": "https://stackoverflow.com/users/8389332/el-chief"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1502922861, "post_id": 45723786, "comment_id": 78405777, "body": "Thanks for that, unfortunately it doesn&#39;t work with windows. I think however I can run chrome headless with selenium so that&#39;s what I&#39;m using."}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 2818814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad392ee4fc57aac5831cd2c9ecf7505?s=128&d=identicon&r=PG&f=1", "display_name": "Mitta", "link": "https://stackoverflow.com/users/2818814/mitta"}, "is_accepted": true, "score": 1, "last_activity_date": 1502923922, "creation_date": 1502923922, "answer_id": 45724127, "question_id": 45723786, "link": "https://stackoverflow.com/questions/45723786/completing-web-tasks-using-python/45724127#45724127", "title": "Completing web tasks using python", "body": "<p>I used in the past  <a href=\"http://twill.idyll.org\" rel=\"nofollow noreferrer\">twill</a> with python. Here is a quick example how it looks like</p>\n\n<pre><code>from twill.commands import *\ngo(\"http://www.google.com/\")\nfv(\"1\", \"username\", \"testuser\")\nfv(\"1\", \"password\", \"testpass\")\nshowforms()\nsubmit('0')\n</code></pre>\n\n<p>Another thing you could do, is intercept the http requests and just simulate them with a python script. With for instance indeed with <code>requests</code>.</p>\n"}], "owner": {"reputation": 375, "user_id": 8389332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ff4ef6de6795fd235e83a178f5a463c?s=128&d=identicon&r=PG&f=1", "display_name": "El-Chief", "link": "https://stackoverflow.com/users/8389332/el-chief"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 45724127, "answer_count": 1, "score": 0, "last_activity_date": 1502923922, "creation_date": 1502921499, "question_id": 45723786, "link": "https://stackoverflow.com/questions/45723786/completing-web-tasks-using-python", "title": "Completing web tasks using python", "body": "<p>I have Hive installed in my home and I'm trying to control the system using my computer. They have an app but that's only for phones. You can control the system on the web from their website as well however, so I'm trying to create a python script which automatically logs in and clicks the right stuff based on user input.</p>\n\n<p>The problem is I have no idea how to do this. I considered <code>selenium</code> but I want the whole process to happen in the background, no windows popping up or anything (Don't know if that's possible with selenium). I also heard about <code>requests</code> but I don't understand the documentation (Or even if it's the right tool for the job).</p>\n\n<p>Can someone point me in the right direction? How do I go about doing this? </p>\n"}, {"tags": ["python", "function", "pandas", "loops", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8446538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc81c4cc5941f719437ba30d963faebc?s=128&d=identicon&r=PG&f=1", "display_name": "Dine", "link": "https://stackoverflow.com/users/8446538/dine"}, "edited": false, "score": 0, "creation_date": 1503002899, "post_id": 45730909, "comment_id": 78446806, "body": "Yes, I will definitely have to optimize it at some point. Thank your answer, it worked!"}], "tags": [], "owner": {"reputation": 1036, "user_id": 5571377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a1989d1cb2bb75f8eacc2dbe7fe7cd04?s=128&d=identicon&r=PG&f=1", "display_name": "BartDur", "link": "https://stackoverflow.com/users/5571377/bartdur"}, "is_accepted": true, "score": 0, "last_activity_date": 1502960878, "creation_date": 1502960878, "answer_id": 45730909, "question_id": 45723773, "link": "https://stackoverflow.com/questions/45723773/loop-over-each-column-of-a-dataframe-separately/45730909#45730909", "title": "Loop over each column of a dataframe separately", "body": "<p>I am sure there is a more efficient way of doing this (e.g. by storing the frequencies of all the columns in a single Dataframe, so that you can avoid the looping action). However if you really want to make separate dfs for each column, you could do something like this:</p>\n\n<pre><code>cols = list(df.columns)[1:]  # exclude CRED from list of cols to process\ndf_dict = {}\nfor col in cols:\n    df = &lt;your operations to generate a df&gt;\n    df_dict.update{col:df}\n</code></pre>\n\n<p>you can the retrieve the df you're interested in using <code>ACBA_df = df_dict['ACBA']</code> for example.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 8446538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc81c4cc5941f719437ba30d963faebc?s=128&d=identicon&r=PG&f=1", "display_name": "Dine", "link": "https://stackoverflow.com/users/8446538/dine"}, "edited": false, "score": 0, "creation_date": 1503004250, "post_id": 45741738, "comment_id": 78447431, "body": "Thank you for your answer! But that is not really what I was looking for. I realize now that maybe my question was nor worded very well? CRED can only take the value of 0 or 1, and each variable (column ACBA, PAYMS, PUR) may have more than 4 categories (ex: PAYMS can be 1 2 3 4 5 6 8 9 10). I managed to find a work around and can share the code with you if you are interested!"}, {"owner": {"reputation": 296, "user_id": 2355218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/904a8290befc149f01975197c97ca77d?s=128&d=identicon&r=PG&f=1", "display_name": "dgoodman1", "link": "https://stackoverflow.com/users/2355218/dgoodman1"}, "reply_to_user": {"reputation": 47, "user_id": 8446538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc81c4cc5941f719437ba30d963faebc?s=128&d=identicon&r=PG&f=1", "display_name": "Dine", "link": "https://stackoverflow.com/users/8446538/dine"}, "edited": false, "score": 0, "creation_date": 1503079636, "post_id": 45741738, "comment_id": 78483303, "body": "The solution should still work regardless of the number of categories (or VALUES), I used a fabricated data set as an example."}], "tags": [], "owner": {"reputation": 296, "user_id": 2355218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/904a8290befc149f01975197c97ca77d?s=128&d=identicon&r=PG&f=1", "display_name": "dgoodman1", "link": "https://stackoverflow.com/users/2355218/dgoodman1"}, "is_accepted": false, "score": 1, "last_activity_date": 1502991549, "creation_date": 1502991549, "answer_id": 45741738, "question_id": 45723773, "link": "https://stackoverflow.com/questions/45723773/loop-over-each-column-of-a-dataframe-separately/45741738#45741738", "title": "Loop over each column of a dataframe separately", "body": "<p>It looks like this is what you're trying to do, hopefully this isn't overkill:</p>\n\n<p>Create test data:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(np.random.randint(0, 5, (150, 4)), columns=['CRED', 'ACBA', 'PAYMS', 'PUR'])\ndf.loc[:, ['ACBA', 'PAYMS', 'PUR']] = df[['ACBA', 'PAYMS', 'PUR']].replace(0, np.nan)\ndf.head()\n\nCRED    ACBA    PAYMS   PUR\n0   4   1   2   NaN\n1   4   3   2   NaN\n2   1   NaN 1   3\n3   0   NaN NaN 3\n4   4   1   4   2\n</code></pre>\n\n<p>Compute value counts:</p>\n\n<pre><code>def get_value_counts(grp):\n    \"\"\"Compute value counts for each column in DataFrame subset.\"\"\"\n    return grp.drop('CRED', axis=1).apply(pd.value_counts)\n\nvc = df.groupby('CRED').apply(get_value_counts)\nvc.head()\n\n          ACBA  PAYMS  PUR\nCRED                      \n0    1.0     2      1    7\n     2.0     9      7    1\n     3.0     5      5   13\n     4.0     3      4    3\n1    1.0     7      7    6\n</code></pre>\n\n<p>Reformat values to categories for inclusion of Total:</p>\n\n<pre><code>vc = (vc\n      .reset_index(level=1)\n      .rename(columns={'level_1': 'VALUE'})\n      .assign(VALUE=lambda frame: (frame.VALUE\n                                   .astype('int')\n                                   .astype('category')\n                                   .cat.add_categories(['Total'])))\n      .set_index('VALUE', append=True))\nvc.columns.names = ['VARIABLE']\nvc.head()\n\nVARIABLE    ACBA  PAYMS  PUR\nCRED VALUE                  \n0    1         2      1    7\n     2         9      7    1\n     3         5      5   13\n     4         3      4    3\n1    1         7      7    6\n</code></pre>\n\n<p>Compute totals and put 'Total' label in columns:</p>\n\n<pre><code>vc_totals = vc.groupby(level=0).sum().astype('int')\nidx = pd.MultiIndex.from_product([vc_totals.columns, ['Total']], names=['VARIABLE', 'VALUE'])\nvc_totals.columns = idx\nvc_totals.head()\n\nVARIABLE  ACBA PAYMS   PUR\nVALUE    Total Total Total\nCRED                      \n0           19    17    24\n1           28    28    28\n2           27    22    26\n3           16    19    19\n4           33    31    26\n</code></pre>\n\n<p>Combine value counts and their totals:</p>\n\n<pre><code>vc_results = vc.unstack(fill_value=0).join(vc_totals).sort_index(axis=1, level=0)\nvc_results\n\nVARIABLE ACBA                  PAYMS                 PUR                  \nVALUE       1  2   3   4 Total     1  2  3   4 Total   1   2   3   4 Total\nCRED                                                                      \n0           2  9   5   3    19     1  7  5   4    17   7   1  13   3    24\n1           7  7   5   9    28     7  9  6   6    28   6   9   8   5    28\n2           7  2   8  10    27     5  7  4   6    22   5   6   5  10    26\n3           5  6   3   2    16     5  4  6   4    19   4   5   4   6    19\n4          13  6  11   3    33     7  9  4  11    31   2  11   5   8    26\n</code></pre>\n\n<p>If you just want CRED = 1:</p>\n\n<pre><code>vc_results.loc[1].unstack()\n\nVALUE     1  2  3  4  Total\nVARIABLE                   \nACBA      7  7  5  9     28\nPAYMS     7  9  6  6     28\nPUR       6  9  8  5     28\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8446538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc81c4cc5941f719437ba30d963faebc?s=128&d=identicon&r=PG&f=1", "display_name": "Dine", "link": "https://stackoverflow.com/users/8446538/dine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 1, "accepted_answer_id": 45730909, "answer_count": 2, "score": 2, "last_activity_date": 1502991549, "creation_date": 1502921421, "last_edit_date": 1502939097, "question_id": 45723773, "link": "https://stackoverflow.com/questions/45723773/loop-over-each-column-of-a-dataframe-separately", "title": "Loop over each column of a dataframe separately", "body": "<p>I am currently working with a dataframe imported from Excel. The head of the dataframe looks like this: </p>\n\n<pre><code>   CRED  ACBA  PAYMS PUR\n0     0     2   2    2\n1     0     4   2    2\n2     0     1   2    3\n3     1     1   2    2\n4     0     2   4    3\n</code></pre>\n\n<p>I subdivided this dataframe into a smaller dataframe for when CRED = 1</p>\n\n<pre><code>df_CRED1 = df_original[df_original.CRED == 1]\n</code></pre>\n\n<p>And I applied the following operations to column 'ACBA'</p>\n\n<pre><code>list_frequency_cred1 = [df_CRED1['ACBA'].value_counts()]\nfrequency_cred1_total = sum(df_CRED1['ACBA'].value_counts())\nmatrix_frequency_cred1 = DataFrame(data = list_frequency_cred1)\nmatrix_frequency_cred1['Total'] = frequency_cred1_total \nmatrix_frequency_cred1.rename(index = {'ACBA':'CRED1'}, inplace=True)\n</code></pre>\n\n<p>In order to obtain the following table: </p>\n\n<pre><code>        1   2  3   4  Total\nCRED1   9  11  1   7     28\n</code></pre>\n\n<p>I am now looking to create a loop that would apply this sequence of operations I did on column ACBA to all other columns in order to obtain separate frequency tables for each column: </p>\n\n<pre><code>ACBA\n        1   2  3   4  Total\nCRED1   9  11  1   7     28\n\nPAYMS\n        1   2  3   4  Total\nCRED1   4   5  6   7     22\n\netc... \n</code></pre>\n\n<p>I don't understand how to set the loop so as to consider each column separately. Later in my code I will have to apply other operations to the same dataframe so I would like to understand the underlying logic (rather than find functions related to frequencies). Thank you </p>\n"}, {"tags": ["python", "import", "jupyter-notebook", "ipython-notebook", "python-import"], "answers": [{"comments": [{"owner": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "edited": false, "score": 0, "creation_date": 1502924742, "post_id": 45723851, "comment_id": 78406305, "body": "I tried launching jupyter notebook from various locations but no luck :("}, {"owner": {"reputation": 1041, "user_id": 2934915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29bc32b5466dba4eec982cec1c660a1?s=128&d=identicon&r=PG", "display_name": "cosmoscalibur", "link": "https://stackoverflow.com/users/2934915/cosmoscalibur"}, "reply_to_user": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "edited": false, "score": 0, "creation_date": 1502926082, "post_id": 45723851, "comment_id": 78406634, "body": "You need launch the dashboard from <code>myproject</code>. Can you share a minimal example from a public URL?"}, {"owner": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "edited": false, "score": 0, "creation_date": 1502927143, "post_id": 45723851, "comment_id": 78406868, "body": "I tried launching from &#39;myproject&#39; too... What do you mean by sharing from a public URL? Thanks!"}, {"owner": {"reputation": 1041, "user_id": 2934915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29bc32b5466dba4eec982cec1c660a1?s=128&d=identicon&r=PG", "display_name": "cosmoscalibur", "link": "https://stackoverflow.com/users/2934915/cosmoscalibur"}, "reply_to_user": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "edited": false, "score": 1, "creation_date": 1502927322, "post_id": 45723851, "comment_id": 78406914, "body": "By public URL is that you can share a basic example and then I will download to test."}, {"owner": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "edited": false, "score": 0, "creation_date": 1502928109, "post_id": 45723851, "comment_id": 78407079, "body": "Ah I see, how&#39;s this? <a href=\"https://www.dropbox.com/s/76x6rm98g3g619q/myproject.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/76x6rm98g3g619q/myproject.zip?dl=0</a>"}], "tags": [], "owner": {"reputation": 1041, "user_id": 2934915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29bc32b5466dba4eec982cec1c660a1?s=128&d=identicon&r=PG", "display_name": "cosmoscalibur", "link": "https://stackoverflow.com/users/2934915/cosmoscalibur"}, "is_accepted": true, "score": 3, "last_activity_date": 1502934845, "last_edit_date": 1502934845, "creation_date": 1502921870, "answer_id": 45723851, "question_id": 45723751, "link": "https://stackoverflow.com/questions/45723751/how-to-structure-a-python-project-with-ipython-notebooks/45723851#45723851", "title": "How to structure a python project with ipython notebooks?", "body": "<p>When you use IPython/Jupyter Notebooks you need take account that ipython server only see files from a root directory defined from where you launch the notebook instance. In this case, maybe you are launched directly the notebook file and not from the project root.  </p>\n\n<p>Also, you can use <code>__init__.py</code> files.  </p>\n\n<p><strong>Updated</strong>: You can add a cell at top of the notebook.  </p>\n\n<pre><code>import sys, os\nsys.path.insert(0, os.path.dirname(os.path.abspath('..')))\n</code></pre>\n\n<p>Then, <code>myproject</code> is recognized as a package and you can import as is.  </p>\n\n<pre><code>from myproject.datasets.create_bla_dataset import bar\nbar()\n&gt;&gt;&gt; 'hi foo hi bar'\n</code></pre>\n\n<p>This is because relative import only work in packages and if you need use as package you need to add the path where is the package.  </p>\n"}], "owner": {"reputation": 170, "user_id": 3196817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf0e6a3963837a995aa659e3e642316?s=128&d=identicon&r=PG", "display_name": "djma", "link": "https://stackoverflow.com/users/3196817/djma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 0, "accepted_answer_id": 45723851, "answer_count": 1, "score": 3, "last_activity_date": 1502934845, "creation_date": 1502921242, "last_edit_date": 1502924797, "question_id": 45723751, "link": "https://stackoverflow.com/questions/45723751/how-to-structure-a-python-project-with-ipython-notebooks", "title": "How to structure a python project with ipython notebooks?", "body": "<p>After looking at many answers here, I still dont understand how to structure a python project with imports...</p>\n\n<p>Let's say my dir structure is </p>\n\n<pre><code>myproject\n   utils\n      tool1.py\n   datasets\n      create_bla_dataset.py\n   research\n      mynote.ipynb\n</code></pre>\n\n<p>now I import tool1 from create_bla_dataset.py with</p>\n\n<pre><code># We are in create_bla_dataset.py \nfrom ..utils import tool1\n\n... define how to create a dataset\n\nif __name__ == \"__main__\":\n  # demo the dataset\n</code></pre>\n\n<p>and I can run the file with </p>\n\n<pre><code>&gt; cd &lt;dir_contains_myproject&gt;\n&gt; python -m myproject.datasets.create_bla_dataset\n</code></pre>\n\n<p>But now I want to import create_bla_dataset inside mynote.ipynb while opening mynote.ipynb with a jupyter notebook, but I have no idea how... </p>\n\n<p>If I try <code>from ..datasets import create_bla_dataset</code>, I get <code>ValueError: attempted relative import beyond top-level package</code></p>\n\n<p>edit: I tried launching jupyter notebook from various directories but no luck, same error.</p>\n"}, {"tags": ["python", "python-3.x", "function", "fibonacci"], "comments": [{"owner": {"reputation": 421, "user_id": 6202760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cabc3b1401a8b0f28a1a0530ef70ce3d?s=128&d=identicon&r=PG", "display_name": "InQ\u03b2", "link": "https://stackoverflow.com/users/6202760/inq%ce%b2"}, "edited": false, "score": 0, "creation_date": 1502935907, "post_id": 45723718, "comment_id": 78408734, "body": "Recursively calculating <code>Fib(n)</code> will have a time complexity of <code>O(Fib(n))</code>, since one is added every time. And BTW, <code>O(Fib(n))</code> is equal to <code>O(phi**n)</code> where <code>phi=(sqrt(5)+1)&#47;2</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3669, "user_id": 8290742, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Eoz5MlTbkhI/AAAAAAAAAAI/AAAAAAAAADE/X5WrsrR-5IE/photo.jpg?sz=128", "display_name": "arbuthnott", "link": "https://stackoverflow.com/users/8290742/arbuthnott"}, "is_accepted": false, "score": 1, "last_activity_date": 1502922141, "creation_date": 1502922141, "answer_id": 45723885, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45723885#45723885", "title": "Product of 2 fibonacci numbers", "body": "<p>Your <code>fib</code> function is recalculating from the bottom every time. You should save values you already know. My python is rusty, but I think this will do it:</p>\n\n<pre><code>dict = {}\n\ndef f(i):\n    if dict.has_key(i):\n        return dict[i]\n    if i == 0 :\n        return 0\n    if i == 1 :\n    return 1\n    sum = f(i-2) + f(i-1)\n    dict[i] = sum\n    return sum\n\ndef productFib(prod):\n    i=1\n    final1 = 0\n    final2 = 0\n    while(f(i)*f(i+1) != prod and f(i)*f(i+1) &lt; prod):\n        i += 1\n        final1 = f(i)\n        final2 = f(i+1)\n    if(final1*final2 == prod):\n        return [final1,final2,True]\n    else:\n        return [final1,final2,False]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 4, "last_activity_date": 1502929228, "last_edit_date": 1502929228, "creation_date": 1502922177, "answer_id": 45723886, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45723886#45723886", "title": "Product of 2 fibonacci numbers", "body": "<p>First and foremost, your <strong>f</strong> function is horridly time-consuming: it computes <strong>f(n)</strong> for low <strong>n</strong> many times.  <em>Memoize</em> the function: keep results in a list, and just refer to that list when you compute again.</p>\n\n<pre><code>memo = [1, 1]\n\ndef f(i):\n    global memo\n\n    if i &gt;= len(memo):\n        # Compute all f(k) where k &lt; i\n        f_of_i = f(i-2) + f(i-1)\n        memo.append(f_of_i)\n\n    return memo[i]\n</code></pre>\n\n<p>Note that this sequence still guarantees that you will fill in <strong>memo</strong> in numerical order: f(i-2) is called before f(i-1), and both are called before adding f(i) to the list.</p>\n\n<p>Calling <strong>f(100000000000000)</strong> (10^14) with this returns instantaneously.  I haven't tried it with higher numbers.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I ran it with increasing powers of 10.  At 10^1650, it was still printing output at full speed, and I interrupted the run.</p>\n\n<p><strong>IMPROVEMENT</strong></p>\n\n<p>You can do even better (for many applications) by directly computing <strong>f(i)</strong> from the closed-form equation:</p>\n\n<pre><code>root5 = 5 ** 0.5\nphi = (1 + root5) / 2\npsi = (1 - root5) / 2\n\ndef f(i):\n    return int(round((phi ** i - psi ** i) / root5))\n</code></pre>\n\n<p><strong>MORE IMPROVEMENT</strong></p>\n\n<p>Directly compute the proper value of <strong>i</strong>.\n<code>f(i) * f(i+1)</code> is very close to <code>phi**(2i+1) / 5</code>.</p>\n\n<pre><code>def productFib(prod):\n    power = math.log(prod*5) / log_phi\n    i = int(round(power-1, 7)/2) + 1\n    low  = f(i)\n    high = f(i+1)\n    # print i, low, high\n    answer = [low, high, low*high == prod]\n    return answer\n\nprint productFib(714)\nprint productFib(800)\nprint productFib(100000000000000000)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[21, 34, True]\n[34, 55, False]\n[267914296, 433494437, False]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 5899560, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NfZkH.png?s=128&g=1", "display_name": "Sullivan Risk", "link": "https://stackoverflow.com/users/5899560/sullivan-risk"}, "is_accepted": false, "score": 0, "last_activity_date": 1503069182, "last_edit_date": 1503069182, "creation_date": 1502922564, "answer_id": 45723945, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45723945#45723945", "title": "Product of 2 fibonacci numbers", "body": "<p>You may use the following code for your ProductFib function</p>\n\n<pre><code>def productFib2(prod):\n    i=0\n    final1 = f(i)\n    final2 = f(i+1)\n    while(final1 * final2 &lt; prod):\n        i += 1\n        final1 = final2\n        final2 = f(i+1)\n    if(final1*final2 == prod):\n        return [final1,final2,True]\n    else:\n        return [final1,final2,False]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13431, "user_id": 186964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1019c918e5e06a4551f1e9a056ae097e?s=128&d=identicon&r=PG", "display_name": "Aaron de Windt", "link": "https://stackoverflow.com/users/186964/aaron-de-windt"}, "edited": false, "score": 0, "creation_date": 1502926730, "post_id": 45724013, "comment_id": 78406769, "body": "btw. You can import the perf_counter from the time package."}], "tags": [], "owner": {"reputation": 13431, "user_id": 186964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1019c918e5e06a4551f1e9a056ae097e?s=128&d=identicon&r=PG", "display_name": "Aaron de Windt", "link": "https://stackoverflow.com/users/186964/aaron-de-windt"}, "is_accepted": false, "score": 2, "last_activity_date": 1502927067, "last_edit_date": 1502927067, "creation_date": 1502923035, "answer_id": 45724013, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45724013#45724013", "title": "Product of 2 fibonacci numbers", "body": "<p>You can increase the performance quite a bit by making use of a generator. </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def fib():\n    # Generator that yields the last two fibonacci numbers on each iteration.\n    # Initialize\n    np = 0\n    n = 1\n\n    # Loop forever. The main function will break the loop.\n    while True:\n        # Calculate the next number\n        nn = np + n\n\n        # Yield the previous number and the new one.\n        yield n, nn\n\n        # Update the generator state.\n        np = n\n        n = nn\n\ndef product_fib(prod):\n    # Loop through the generator.\n    for f_0, f_1 in fib():\n        # If the product is larger or equal to the product return.\n        if f_0 * f_1 &gt;= prod:\n            # The last element in the list is the resut of the equality check.\n            return [f_0, f_1, f_0 * f_1 == prod]\n\n\nt0 = perf_counter()\nres = productFib(8000000000)\nt = perf_counter() - t0\nprint(\"Original:\", t, res)\n\nt0 = perf_counter()\nres = product_fib(8000000000)  # 8000000000\nt = perf_counter() - t0\nprint(\"New:\", t, res)\n</code></pre>\n\n<p>The output of this is</p>\n\n<pre><code>Original: 0.8113621789962053 [75025, 121393, False]\nNew: 1.3276992831379175e-05 [75025, 121393, False]\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you want a single line. It works, but don't use it, it's not really the most practical solution. The first one is faster anyways.</p>\n\n<pre><code>print((lambda prod: (lambda n: next(([a, b, (a * b) == prod] for a, b in ([n.append(n[0] + n[1]), n.pop(0), n][-1] for _ in iter(int, 1)) if (a * b) &gt;= prod)))([0, 1]))(714))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4457, "user_id": 6614295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2237f8dfeaec1273a07c97b3e1ebbde9?s=128&d=identicon&r=PG&f=1", "display_name": "jotasi", "link": "https://stackoverflow.com/users/6614295/jotasi"}, "edited": false, "score": 0, "creation_date": 1502956411, "post_id": 45724014, "comment_id": 78416493, "body": "Thanks for your answer. While this is answering the question, it would be nice, if you could elaborate on how and why this is solving the question."}], "tags": [], "owner": {"reputation": 255, "user_id": 4802584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d8f48f904639b2a2ad00d1f1f65d7e52?s=128&d=identicon&r=PG&f=1", "display_name": "Ramana Uday", "link": "https://stackoverflow.com/users/4802584/ramana-uday"}, "is_accepted": true, "score": 5, "last_activity_date": 1502923049, "creation_date": 1502923049, "answer_id": 45724014, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45724014#45724014", "title": "Product of 2 fibonacci numbers", "body": "<pre><code>def productFib(prod):\n    a, b = 0, 1\n    while prod &gt; a * b:\n        a, b = b, a + b\n    return [a, b, prod == a * b]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 612, "user_id": 1585161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6959779d32fcad02377024d1ed8f77af?s=128&d=identicon&r=PG", "display_name": "Connor", "link": "https://stackoverflow.com/users/1585161/connor"}, "is_accepted": false, "score": 0, "last_activity_date": 1503010694, "last_edit_date": 1503010694, "creation_date": 1502930956, "answer_id": 45725048, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/45725048#45725048", "title": "Product of 2 fibonacci numbers", "body": "<p>Here are a couple of different algorithms that are increasingly optimized (starting with the original algorithm).</p>\n\n<p><strong>Algorithm 3</strong> uses an <strong>iterative fibonacci with caching</strong> along with <strong>guessing the square root</strong> (which should be between the two multiples of the fibonacci product).</p>\n\n<p><strong>Timing Results:</strong></p>\n\n<pre><code>Original algorithm:                          4.43634369118898\nAlgorithm 2 (recursive fib):                 1.5160450420565503\nAlgorithm 2 (iter fib):                      0.03543769357344395\nAlgorithm 2 (iter fib + caching):            0.013537414072276377\nAlgorithm 3 (iter fib + caching + guessing): 0.0017255337946799898\n</code></pre>\n\n<hr>\n\n<p><strong>Setup:</strong></p>\n\n<pre><code>import timeit\n\nfrom random import randint\nfrom math import sqrt\nfrom bisect import bisect\n\ncache = [0, 1]\n</code></pre>\n\n<p><strong>Nth Fibonacci Number Algorithms:</strong></p>\n\n<pre><code>def f(n):\n    \"\"\"Recursive solution: O(2^n)\"\"\"\n    if n == 0:\n        return 0\n    if n == 1:\n        return 1\n    return f(n-2) + f(n-1)\n\n\ndef ff(n):\n    \"\"\"Iterative solution: O(n)\"\"\"\n    a, b = 0, 1\n    for _ in range(0, n):\n        a, b = b, a + b\n    return a\n\n\ndef fff(n):\n    \"\"\"Iterative solution + caching\"\"\"\n    length = len(cache)\n    if n &gt;= length:\n        for i in range(length, n+1):\n            cache.append(cache[i-1] + cache[i-2])\n    return cache[n]\n</code></pre>\n\n<p><strong>Fibonacci Product Algorithms:</strong>    </p>\n\n<pre><code>def pf1(prod):\n    \"\"\"Original algorithm.\"\"\"\n    i=1\n    final1 = 0\n    final2 = 0\n    while(f(i)*f(i+1) != prod and f(i)*f(i+1) &lt; prod):\n        i += 1\n        final1 = f(i)\n        final2 = f(i+1)\n    if(final1*final2 == prod):\n        return [final1,final2,True]\n    else:\n        return [final1,final2,False]\n\n\ndef pf2(prod, fib_func):\n    \"\"\"Algorithm 2.\n\n    Removes extra logic and duplicate function calls.\"\"\"\n    i = 1\n    guess = 0\n    while guess &lt; prod:\n        final1 = fib_func(i)\n        final2 = fib_func(i + 1)\n        guess = final1 * final2\n        i += 1\n\n    return [final1, final2, guess == prod]\n\n\ndef pf3(prod, fib_func):\n    \"\"\"Algorithm 3.\n\n    Implements square root as a guess.\"\"\"\n    guess = sqrt(prod)  # Numbers will be near square root\n\n    i = 2\n    while cache[-1] &lt; guess:\n        fff(i)\n        i += 1\n\n    insertion_spot = bisect(cache, guess)\n    test1 = cache[insertion_spot-1]\n    test2 = cache[insertion_spot]\n\n    return [test1, test2, (test1 * test2) == prod]\n</code></pre>\n\n<p><strong>Testing &amp; Output:</strong></p>\n\n<pre><code>prods = [randint(3, 99999) for _ in range(1000)]  # 1000 random products\nprint(\"Original algorithm:                         \", timeit.timeit(\"for prod in prods: pf1(prod)\", number=1, setup=\"from __main__ import pf1, prods\"))\nprint(\"Algorithm 2 (recursive fib):                \", timeit.timeit(\"for prod in prods: pf2(prod, f)\", number=1, setup=\"from __main__ import pf2, prods, f\"))\nprint(\"Algorithm 2 (iter fib):                     \", timeit.timeit(\"for prod in prods: pf2(prod, ff)\", number=1, setup=\"from __main__ import pf2, prods, ff\"))\nprint(\"Algorithm 2 (iter fib + caching):           \", timeit.timeit(\"for prod in prods: pf2(prod, fff)\", number=1, setup=\"from __main__ import pf2, prods, fff\"))\nprint(\"Algorithm 3 (iter fib + caching + guessing):\", timeit.timeit(\"for prod in prods: pf3(prod, fff)\", number=1, setup=\"from __main__ import pf3, prods, fff, cache; cache = [0, 1]\"))\n</code></pre>\n\n<p><strong>Helpful Time Complexities of Python \"List\" object:</strong> <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow noreferrer\">https://wiki.python.org/moin/TimeComplexity</a></p>\n"}, {"comments": [{"owner": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1606284848, "post_id": 64995357, "comment_id": 114914740, "body": "I will upvote this answer if you do something to correct the &quot;1. List item&quot; line in order to make the Fast method (which works OK) more readable."}], "tags": [], "owner": {"reputation": 1, "user_id": 8529832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca11a4e9fb0a42f2659dad1cc9876320?s=128&d=identicon&r=PG&f=1", "display_name": "eudoroolivares", "link": "https://stackoverflow.com/users/8529832/eudoroolivares"}, "is_accepted": false, "score": 0, "last_activity_date": 1606255479, "last_edit_date": 1606255479, "creation_date": 1606254432, "answer_id": 64995357, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers/64995357#64995357", "title": "Product of 2 fibonacci numbers", "body": "<p>Two ways: slow and fast way to do it</p>\n<p>Slow:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def productFib(prod):\n    i=0\n    final1 = f(i)\n    final2 = f(i+1)\n    while(final1 * final2 &lt; prod):\n        i += 1\n        final1 = final2 #this is the same as final1 = f(i) again but, the value is already in memory no need to recalc it\n        final2 = f(i+1)\n    if(final1*final2 == prod):\n        return [final1,final2,True]\n    else:\n        return [final1,final2,False] #if non equivilant product\ndef f(i): #fib(0) == 0 fib(1) == 1\n    if i == 0 :\n        return 0\n    if i == 1 :\n        return 1\n    return f(i-2) + f(i-1)\n</code></pre>\n<p>output of the product in the while loop:\n0\n1\n2\n6\n15</p>\n<p>Fast:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def productFib(prod):\n    a, b = 0, 1\n    while prod &gt; a * b:\n\n 1. List item\n\n        a, b = b, a + b #a is equal to b and b is equal to the sum of a and b\n    return [a, b, prod == a * b] #return a and b as well as the conditional if a times b is equal to the product\n</code></pre>\n<p>You don't need to check if something is apart of the fib series here because we can simply iterate over the series within the while loop without having to call another function recursively\nthe fib function is defined as: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1. therefore, you can generate this with the algorithm in the while loop above\nfollowing that a = 0, b = 1 next a = 1, b = 1 next a = 1, b = 2 next a = 2, b = 3\nnext a = 3, b = 5 ...</p>\n"}], "owner": {"reputation": 255, "user_id": 4802584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d8f48f904639b2a2ad00d1f1f65d7e52?s=128&d=identicon&r=PG&f=1", "display_name": "Ramana Uday", "link": "https://stackoverflow.com/users/4802584/ramana-uday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 1, "accepted_answer_id": 45724014, "answer_count": 7, "score": 0, "last_activity_date": 1606255479, "creation_date": 1502921067, "last_edit_date": 1502924659, "question_id": 45723718, "link": "https://stackoverflow.com/questions/45723718/product-of-2-fibonacci-numbers", "title": "Product of 2 fibonacci numbers", "body": "<p>My assignment:</p>\n\n<blockquote>\n  <p>Given a number, say prod (for product), we search two Fibonacci\n  numbers F(n) and F(n+1) verifying</p>\n\n<pre><code>F(n) * F(n+1) = prod if F(n) * F(n+1) = prod\n</code></pre>\n  \n  <p>Your function productFib takes an integer (prod) and returns an array:</p>\n\n<pre><code>[F(n), F(n+1), True] else \n</code></pre>\n  \n  <p>F(m) being the smallest one such as F(m) * F(m+1) > prod</p>\n\n<pre><code>[F(m), F(m+1), False] \n</code></pre>\n  \n  <p>Examples:</p>\n\n<pre><code>productFib(714) # should return [21, 34, True], \n            # since F(8) = 21, F(9) = 34 and 714 = 21 * 34\n\nproductFib(800) # should return [34, 55, False], \n            # since F(8) = 21, F(9) = 34, F(10) = 55 and 21 * 34 &lt; 800 &lt; 34 * 55\n</code></pre>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>def f(i):\n    if i == 0 :\n        return 0\n    if i == 1 :\n        return 1\n    return f(i-2) + f(i-1)\n\ndef productFib(prod):\n    i=1\n    final1 = 0\n    final2 = 0\n    while(f(i)*f(i+1) != prod and f(i)*f(i+1) &lt; prod):\n        i += 1\n        final1 = f(i)\n        final2 = f(i+1)\n    if(final1*final2 == prod):\n        return [final1,final2,True]\n    else:\n        return [final1,final2,False]\n</code></pre>\n\n<p>I am new to programming; this runs very slow for large numbers.  How can I  reduce the time complexity?</p>\n"}, {"tags": ["python", "vector", "scikit-learn", "nlp", "embed"], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502978948, "creation_date": 1502921060, "last_edit_date": 1502978948, "question_id": 45723716, "link": "https://stackoverflow.com/questions/45723716/generate-matrix-of-context-or-simple-word-vector-embedding-in-python", "title": "Generate matrix of context or simple word vector embedding in Python", "body": "<p>I have two sentences:\n<code>Skies are blue. Grass is green</code></p>\n\n<p>I would like to compute simple matrix of word vector space embedding or matrix of co-occurrences, I am not sure what proper terminology is. But here is that I want.\nSo I have 6 distinct words from two sentences above, so my matrix will be 6 by 6. Assume that my words have the following ordering corresponding to rows or column ordering: 0 - Skies, 1 - are, 2 - blue, 3 - Grass, 4 - is, 5 - green. Then I would like to count co-occurrence using size of window = 2 (meaning 2 words prior to current word and 2 words after current word). </p>\n\n<ul>\n<li>Element with index [0,0] will have value 0, since <code>Skies</code> do not\nco-occur with <code>Skies</code>.</li>\n<li>Element with index [0,1] will have value,\nsince <code>are</code> occurs next to <code>Skies</code> only once </li>\n<li>Element with index [0,2]\nwill have value, since <code>blue</code> occurs next to <code>Skies</code> only once.</li>\n</ul>\n\n<p>So on and so forth. Is there scikit module for it? I looked at the following <a href=\"https://stackoverflow.com/questions/35562789/word-word-co-occurrence-matrix\">question </a>, but it does not seem to answer my question.</p>\n\n<p><strong>Update</strong> This matrix is key object of distributional hypothesis.</p>\n"}, {"tags": ["python", "imdb", "imdbpy"], "answers": [{"tags": [], "owner": {"reputation": 1012, "user_id": 253358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01202fcf3e38729d4b03fa7ca5802ea2?s=128&d=identicon&r=PG", "display_name": "Davide Alberani", "link": "https://stackoverflow.com/users/253358/davide-alberani"}, "is_accepted": true, "score": 3, "last_activity_date": 1503005350, "creation_date": 1503005350, "answer_id": 45745211, "question_id": 45723713, "link": "https://stackoverflow.com/questions/45723713/503-error-when-downloading-data-from-imdb-api/45745211#45745211", "title": "503 error when downloading data from imdb api", "body": "<p>Please, don't do it.</p>\n\n<p>Scraping is forbidden by IMDb's <a href=\"http://www.imdb.com/conditions\" rel=\"nofollow noreferrer\">terms of service</a>, and IMDbPY was never intended to be used to mass-scrape the web site: in fact it's explicitly designed to fetch a single movie at a time.</p>\n\n<p>In theory IMDbPY can manage the <a href=\"http://www.imdb.com/interfaces\" rel=\"nofollow noreferrer\">plain text data files</a> they distribute, but unfortunately they recently <a href=\"https://sourceforge.net/p/imdbpy/mailman/imdbpy-help/thread/CAHmiXyN8cO3pj4SYiKaV9_LHEDcyLZ%2BNJMQTwDqC_1PODJbuxA%40mail.gmail.com/#msg35922483\" rel=\"nofollow noreferrer\">changed both the format</a> and the content of the data.</p>\n\n<p>IMDb has no APIs that I know of; if you have to manage such a huge portion of their data, you have to <a href=\"http://www.imdb.com/licensing/\" rel=\"nofollow noreferrer\">get a licence</a>.</p>\n\n<p>Please consider the use of <a href=\"http://www.omdbapi.com/\" rel=\"nofollow noreferrer\">http://www.omdbapi.com/</a></p>\n"}], "owner": {"reputation": 177, "user_id": 6105469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/TwdLN.png?s=128&g=1", "display_name": "p0l00ck", "link": "https://stackoverflow.com/users/6105469/p0l00ck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 45745211, "answer_count": 1, "score": 1, "last_activity_date": 1582721782, "creation_date": 1502921046, "last_edit_date": 1502955112, "question_id": 45723713, "link": "https://stackoverflow.com/questions/45723713/503-error-when-downloading-data-from-imdb-api", "title": "503 error when downloading data from imdb api", "body": "<p>I am trying to download a plot for almost 25 000 movies with the usage of imdbpy module for python. To speed up, I'm using Pool function from Multiprocessing module. However after almost 100 requests the 503 error occurs with a following message: Service Temporarily Unavailable. After 10-15 minutes I can process again but after approximately 20 requests the same error occurs again.</p>\n\n<p>I am aware that it might be a simple block from the api to prevent too many calls however I can't find any info about maximum number of requests per time unit on the web. </p>\n\n<p>Do you have any idea how to process so many calls without being shutdown? Moreover, do you know where I can find the documentation of imdb api?</p>\n\n<p>Best</p>\n"}, {"tags": ["python", "scikit-learn", "pipeline"], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 5556265, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/42477626d1699694dcafd66d56076f17?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic Bastiat", "link": "https://stackoverflow.com/users/5556265/frederic-bastiat"}, "edited": false, "score": 0, "creation_date": 1503088124, "post_id": 45726263, "comment_id": 78487604, "body": "thank you. I started looking into LabelEncoder instead."}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1502941512, "creation_date": 1502941512, "answer_id": 45726263, "question_id": 45723699, "link": "https://stackoverflow.com/questions/45723699/valueerror-in-pipeline-featurehasher-not-working/45726263#45726263", "title": "ValueError in pipeline - featureHasher not working?", "body": "<p>Yes, when hashing is not None, <code>FeatureHasher()</code> is chosen, which can output negative values.</p>\n\n<p>But you can remove convert those negative values to positive by using the <code>non_negative</code> parameter of FeatureHashser as given <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.FeatureHasher.html\" rel=\"nofollow noreferrer\">in documentation</a>:</p>\n\n<blockquote>\n  <p><strong>non_negative</strong> : boolean, optional, <strong>default False</strong></p>\n  \n  <p>When True, an absolute value is applied to the features matrix prior \n  to returning it. When used in conjunction with\n  alternate_sign=True, this significantly reduces the inner product\n  preservation property.</p>\n</blockquote>\n\n<p>So change this line in MyVectorizer:</p>\n\n<pre><code>self.myvec = FeatureHasher(n_features = self.hashing)\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>self.myvec = FeatureHasher(n_features = self.hashing, non_negative=True)\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<ul>\n<li>This parameter has been deprecated since version 0.19 and will be removed in 0.21.</li>\n<li>You need to study how this parameter will affect your classification problem.</li>\n</ul>\n"}], "owner": {"reputation": 655, "user_id": 5556265, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/42477626d1699694dcafd66d56076f17?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic Bastiat", "link": "https://stackoverflow.com/users/5556265/frederic-bastiat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 45726263, "answer_count": 1, "score": 0, "last_activity_date": 1502941512, "creation_date": 1502920962, "question_id": 45723699, "link": "https://stackoverflow.com/questions/45723699/valueerror-in-pipeline-featurehasher-not-working", "title": "ValueError in pipeline - featureHasher not working?", "body": "<p>I think I'm having issues getting my vectorizer working within a gridsearch pipeline:</p>\n\n<p>data as panda df x_train:</p>\n\n<pre><code>bathrooms   bedrooms    price   building_id     manager_id\n10  1.5     3   3000    53a5b119ba8f7b61d4e010512e0dfc85    5ba989232d0489da1b5f2c45f6688adc\n10000   1.0     2   5465    c5c8a357cba207596b04d1afd1e4f130    7533621a882f71e25173b27e3139d83d\n100004  1.0     1   2850    c3ba40552e2120b0acfc3cb5730bb2aa    d9039c43983f6e564b1482b273bd7b01\n100007  1.0     1   3275    28d9ad350afeaab8027513a3e52ac8d5    1067e078446a7897d2da493d2f741316\n100013  1.0     4   3350    0   98e13ad4b495b9613cef886d79a6291f\n\nnumeric_predictors = ['bathrooms', 'bedrooms', 'price']\ncategorical_predictors = ['building_id', 'manager_id']\n</code></pre>\n\n<p>minMaxScaler fit &amp; transform:</p>\n\n<pre><code>from sklearn.base import BaseEstimator, TransformerMixin\nfrom sklearn.preprocessing import MinMaxScaler\n\nclass MyScaler(BaseEstimator, TransformerMixin):\n\ndef __init__(self, cols):\n    self.cols = cols\n\ndef fit(self, X, y=None):\n\n    self.scaler = MinMaxScaler()\n    self.scaler.fit(X[self.cols])\n    return self\n\ndef transform(self, X):\n    return self.scaler.transform(X[self.cols])\n</code></pre>\n\n<p>My categorical feature hashing vectorizer:</p>\n\n<pre><code>from sklearn.feature_extraction import FeatureHasher\nfrom sklearn.feature_extraction.text import HashingVectorizer\n\nclass MyVectorizer(BaseEstimator, TransformerMixin):\n    \"\"\"\n    Vectorize a set of categorical variables\n    \"\"\"\n\n    def __init__(self, cols, hashing=None):\n        \"\"\"\n        args:\n            cols: a list of column names of the categorical variables\n            hashing: \n                If None, then vectorization is a simple one-hot-encoding.\n                If an integer, then hashing is the number of features in the output.\n        \"\"\"\n        self.cols = cols\n        self.hashing = hashing\n\n    def fit(self, X, y=None):\n\n        data = X[self.cols]\n\n        # Choose a vectorizer\n        if self.hashing is None:\n            self.myvec = HashingVectorizer()\n        else:\n            self.myvec = FeatureHasher(n_features = self.hashing)\n\n        self.myvec.fit(X[self.cols].to_dict(orient='records'))\n        return self\n\n    def transform(self, X):\n\n        # Vectorize Input\n        if self.hashing is None:\n            return pd.DataFrame(\n                self.myvec.transform(X[self.cols].to_dict(orient='records')),\n                columns = self.myvec.feature_names_\n            )\n        else:\n            return pd.DataFrame(\n                self.myvec.transform(X[self.cols].to_dict(orient='records')).toarray()\n            )\n</code></pre>\n\n<p>GridSearch hyperparameters:</p>\n\n<pre><code>search_params = {\n    'preprocess__vectorize__hashing': [20, 40, 80],\n    'predict__alpha': [.01, .1, 1, 2, 10]\n}\n</code></pre>\n\n<p>pipeline:</p>\n\n<pre><code>from sklearn.pipeline import Pipeline\nfrom sklearn.pipeline import FeatureUnion\nfrom sklearn.linear_model import LinearRegression\n\npipeline = Pipeline([\n    ('preprocess', FeatureUnion([\n        ('scale', MyScaler(cols=numeric_predictors)),\n        ('vectorize', MyVectorizer(cols=categorical_predictors, hashing=5))\n    ])),\n    ('predict', MultinomialNB())\n])\n</code></pre>\n\n<p>And last, calling this with the gridsearchCV classifier:</p>\n\n<pre><code>grid_search = GridSearchCV(pipeline, search_params)\ngrid_search.fit(x_train, y_train)\n</code></pre>\n\n<p>I get a ValueError: Input X must be non-negative. I checked and my numeric_predictor columns' data all non-negative, so I am narrowing it down to an issue with the hashing of the categorical predictors.</p>\n\n<pre><code>    ValueError                                Traceback (most recent call last)\n&lt;ipython-input-62-50522376d1e5&gt; in &lt;module&gt;()\n      1 grid_search = GridSearchCV(pipeline, search_params)\n----&gt; 2 grid_search.fit(x_train, y_train)\n      3 grid_search.best_params_\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/model_selection/_search.pyc in fit(self, X, y, groups, **fit_params)\n    636                                   error_score=self.error_score)\n    637           for parameters, (train, test) in product(candidate_params,\n--&gt; 638                                                    cv.split(X, y, groups)))\n    639 \n    640         # if one choose to see train score, \"out\" will contain train score info\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.pyc in __call__(self, iterable)\n    777             # was dispatched. In particular this covers the edge\n    778             # case of Parallel used with an exhausted iterator.\n--&gt; 779             while self.dispatch_one_batch(iterator):\n    780                 self._iterating = True\n    781             else:\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.pyc in dispatch_one_batch(self, iterator)\n    623                 return False\n    624             else:\n--&gt; 625                 self._dispatch(tasks)\n    626                 return True\n    627 \n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.pyc in _dispatch(self, batch)\n    586         dispatch_timestamp = time.time()\n    587         cb = BatchCompletionCallBack(dispatch_timestamp, len(batch), self)\n--&gt; 588         job = self._backend.apply_async(batch, callback=cb)\n    589         self._jobs.append(job)\n    590 \n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/_parallel_backends.pyc in apply_async(self, func, callback)\n    109     def apply_async(self, func, callback=None):\n    110         \"\"\"Schedule a func to be run\"\"\"\n--&gt; 111         result = ImmediateResult(func)\n    112         if callback:\n    113             callback(result)\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/_parallel_backends.pyc in __init__(self, batch)\n    330         # Don't delay the application, to avoid keeping the input\n    331         # arguments in memory\n--&gt; 332         self.results = batch()\n    333 \n    334     def get(self):\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.pyc in __call__(self)\n    129 \n    130     def __call__(self):\n--&gt; 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]\n    132 \n    133     def __len__(self):\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/model_selection/_validation.pyc in _fit_and_score(estimator, X, y, scorer, train, test, verbose, parameters, fit_params, return_train_score, return_parameters, return_n_test_samples, return_times, error_score)\n    435             estimator.fit(X_train, **fit_params)\n    436         else:\n--&gt; 437             estimator.fit(X_train, y_train, **fit_params)\n    438 \n    439     except Exception as e:\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/pipeline.pyc in fit(self, X, y, **fit_params)\n    257         Xt, fit_params = self._fit(X, y, **fit_params)\n    258         if self._final_estimator is not None:\n--&gt; 259             self._final_estimator.fit(Xt, y, **fit_params)\n    260         return self\n    261 \n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/naive_bayes.pyc in fit(self, X, y, sample_weight)\n    602         self.feature_count_ = np.zeros((n_effective_classes, n_features),\n    603                                        dtype=np.float64)\n--&gt; 604         self._count(X, Y)\n    605         alpha = self._check_alpha()\n    606         self._update_feature_log_prob(alpha)\n\n/home/fred/anaconda2/lib/python2.7/site-packages/sklearn/naive_bayes.pyc in _count(self, X, Y)\n    706         \"\"\"Count and smooth feature occurrences.\"\"\"\n    707         if np.any((X.data if issparse(X) else X) &lt; 0):\n--&gt; 708             raise ValueError(\"Input X must be non-negative\")\n    709         self.feature_count_ += safe_sparse_dot(Y.T, X)\n    710         self.class_count_ += Y.sum(axis=0)\n\nValueError: Input X must be non-negative\n\n&gt; /home/fred/anaconda2/lib/python2.7/site-packages/sklearn/naive_bayes.py(708)_count()\n    706         \"\"\"Count and smooth feature occurrences.\"\"\"\n    707         if np.any((X.data if issparse(X) else X) &lt; 0):\n--&gt; 708             raise ValueError(\"Input X must be non-negative\")\n    709         self.feature_count_ += safe_sparse_dot(Y.T, X)\n    710         self.class_count_ += Y.sum(axis=0)\n</code></pre>\n"}, {"tags": ["python", "asynchronous", "concurrency", "locking", "celery"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2536702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a340e549264b2a03236495c8267c85?s=128&d=identicon&r=PG", "display_name": "f1st", "link": "https://stackoverflow.com/users/2536702/f1st"}, "edited": false, "score": 0, "creation_date": 1503568548, "post_id": 45781771, "comment_id": 78674647, "body": "Stumbled upon first url you pointed out while was googling, but for some reason was thinking there are easier ways. Anyway, sherlock solved the problem, thanks a lot."}], "tags": [], "owner": {"reputation": 46, "user_id": 4389358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gCA7r.gif?s=128&g=1", "display_name": "scezar", "link": "https://stackoverflow.com/users/4389358/scezar"}, "is_accepted": true, "score": 1, "last_activity_date": 1503229406, "creation_date": 1503229406, "answer_id": 45781771, "question_id": 45723658, "link": "https://stackoverflow.com/questions/45723658/how-to-lock-variable-in-celery-task/45781771#45781771", "title": "How to lock variable in celery task?", "body": "<p>As long as celery runs on multiple workers (processes) thread lock would not help, because it works inside <strong>single</strong> process. Moreover threading lock have use when you control overall process, while using celery there is no way to achieve that.</p>\n\n<p>It means that celery requires distributed lock. For django I always use django-cache, as in: <a href=\"https://russellneufeld.wordpress.com/2012/05/24/using-memcached-as-a-distributed-lock-from-within-django/\" rel=\"nofollow noreferrer\" title=\"here\">here</a>. If you need more generic locks especially Redis based, working for any python app you can use <a href=\"https://github.com/vaidik/sherlock\" rel=\"nofollow noreferrer\" title=\"sherlock\">sherlock</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9412892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z1J3m.png?s=128&g=1", "display_name": "Eduardo Carvalho", "link": "https://stackoverflow.com/users/9412892/eduardo-carvalho"}, "is_accepted": false, "score": 1, "last_activity_date": 1595431401, "last_edit_date": 1595431401, "creation_date": 1595431045, "answer_id": 63037616, "question_id": 45723658, "link": "https://stackoverflow.com/questions/45723658/how-to-lock-variable-in-celery-task/63037616#63037616", "title": "How to lock variable in celery task?", "body": "<p>I know this is a question with 2+ years, but right now I'm tuning my celery configs and I came to this topic.</p>\n<p>I am using python 2.7 with Django 1.11 and celery 4 in a linux machine. I am using rabbitmq as a broker.</p>\n<p>My configs implies to have celery running as daemon and celery beat to handle scheduled tasks.</p>\n<p>And so, with a dedicated queue for a given task, you may configure this queue with a worker (process) with concurrency=1 (subprocesses).</p>\n<p>This solution solves concurrency problems for celery to run a task, but in your code, if you run the task without celery, it won't respect concurrency principles.</p>\n<p>Example code:</p>\n<pre><code>CELERY_TASK_QUEUES = (\n   Queue('celery_periodic', default_exchange, routing_key='celery_periodic'),\n   Queue('celery_task_1', celery_task_1_exchange, routing_key='celery_task_1'),\n)\n\ndefault_exchange            = Exchange('celery_periodic', type='direct')\ncelery_task_1_exchange      = Exchange('celery_task_1', type='direct')\n\nCELERY_BEAT_SCHEDULE = {\n   'celery-task-1': {\n       'task':     'tasks.celery_task_1',\n       'schedule': timedelta(minutes=15),\n       'queue':    'celery_task_1'\n   },\n}\n</code></pre>\n<p>and finally, in /etc/default/celeryd (docs here: <a href=\"https://docs.celeryproject.org/en/latest/userguide/daemonizing.html#example-configuration\" rel=\"nofollow noreferrer\">https://docs.celeryproject.org/en/latest/userguide/daemonizing.html#example-configuration</a>):</p>\n<pre><code>CELERYD_NODES=&quot;worker1 worker2&quot;\nCELERYD_OPTS=&quot;--concurrency=1 --time-limit=600 -Q:worker1 celery_periodic -Q:worker2 celery_task_1&quot;\n</code></pre>\n<blockquote>\n<p>--concurrency N means you will have exactly N worker subprocesses for your worker instance (meaning the worker instance can handle N conccurent tasks) (from here: <a href=\"https://stackoverflow.com/a/44903753/9412892\">https://stackoverflow.com/a/44903753/9412892</a>).</p>\n</blockquote>\n<p>Read more here: <a href=\"https://docs.celeryproject.org/en/stable/userguide/workers.html#concurrency\" rel=\"nofollow noreferrer\">https://docs.celeryproject.org/en/stable/userguide/workers.html#concurrency</a></p>\n<p>BR,\nEduardo</p>\n"}], "owner": {"reputation": 13, "user_id": 2536702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a340e549264b2a03236495c8267c85?s=128&d=identicon&r=PG", "display_name": "f1st", "link": "https://stackoverflow.com/users/2536702/f1st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1699, "favorite_count": 0, "accepted_answer_id": 45781771, "answer_count": 2, "score": 1, "last_activity_date": 1595431401, "creation_date": 1502920723, "question_id": 45723658, "link": "https://stackoverflow.com/questions/45723658/how-to-lock-variable-in-celery-task", "title": "How to lock variable in celery task?", "body": "<p>I have a celery task, that mangles some variable. It works perfect if I set a single celery worker, but when I use concurrency, it all messed up. How could I lock the critical section, where variable is mangled? </p>\n\n<p>inb4: using Python 3.6, Redis both as broker and result backed. threading.Lock doesn't help in here.</p>\n"}, {"tags": ["python", "xml"], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 8474689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/795e84293d5d8fbd892b805aaa0da897?s=128&d=identicon&r=PG&f=1", "display_name": "JamZ", "link": "https://stackoverflow.com/users/8474689/jamz"}, "edited": false, "score": 0, "creation_date": 1502948825, "post_id": 45723823, "comment_id": 78412184, "body": "Thanks alot !!   how can i also refer to the text inside the tags and find a specific string there ?  i mean changing Template and BasePath?"}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "reply_to_user": {"reputation": 421, "user_id": 8474689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/795e84293d5d8fbd892b805aaa0da897?s=128&d=identicon&r=PG&f=1", "display_name": "JamZ", "link": "https://stackoverflow.com/users/8474689/jamz"}, "edited": false, "score": 0, "creation_date": 1502949031, "post_id": 45723823, "comment_id": 78412295, "body": "you can just use <code>currentVersion.find(&#39;Template&#39;).text</code>"}], "tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 0, "last_activity_date": 1502921716, "creation_date": 1502921716, "answer_id": 45723823, "question_id": 45723615, "link": "https://stackoverflow.com/questions/45723615/python-xml-etree-issue/45723823#45723823", "title": "Python xml.etree issue", "body": "<p>Your first script works because with <code>root.set(\"default\", version)</code> you are using <code>root</code> to refer to the attribute <code>default</code> that you want to modify.</p>\n\n<p>In fact <code>ourVersion = root.find('OurVersion')</code> returns nothing (<code>None</code>) because \n<code>OurVersion</code> <strong>is</strong> your root and then <code>ourVersion.find('CurrentVersion')</code> cannot return what you expect.</p>\n\n<p>Try this instead :</p>\n\n<pre><code>currentVersion = root.find('CurrentVersion')\ncurrentVersion.set('version', version)\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 8474689, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/795e84293d5d8fbd892b805aaa0da897?s=128&d=identicon&r=PG&f=1", "display_name": "JamZ", "link": "https://stackoverflow.com/users/8474689/jamz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 45723823, "answer_count": 1, "score": 1, "last_activity_date": 1502921716, "creation_date": 1502920531, "last_edit_date": 1502921646, "question_id": 45723615, "link": "https://stackoverflow.com/questions/45723615/python-xml-etree-issue", "title": "Python xml.etree issue", "body": "<p>I'm trying to build a script in python 3 using xml.etree which accepts version as a parameter ,  parses xml and replace the version in the xml tags + values from the tree to the root and his children. </p>\n\n<p>I am at the point where i can change the  default value in the root but i am struggling with  changing the version to childs and grandchilds - CurrentVersion, Template and Base.</p>\n\n<p>Here is my code and XML:</p>\n\n<p><strong>code-</strong></p>\n\n<pre><code>import sys\nfrom xml.etree import ElementTree as et\nversion = sys.argv[1]\nparse = et.parse(\"WebApp2.config\")\nroot = parse.getroot()\n\ndef changeVersion(version):\n    ourVersion = root.find('OurVersion')\n    root.set(\"default\", version)\n    print(et.tostring(root))\n    parse.write(\"WebApp2.config\", xml_declaration=True)\n\nif __name__ == \"__main__\":\n    changeVersion(version)\n</code></pre>\n\n<p><strong>XML-</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;OurVersion default=\"1.0.0.3\"&gt;\n  &lt;CurrentVersion bitSupport=\"true\" deviceDetectionSupport=\"true\" \n  version=\"1.0.0.3\"&gt;\n    &lt;Template&gt;D:\\Some\\Path\\Software\\1.0.0.3\\webApp\\index.webapp&lt;/Template&gt;\n    &lt;BasePath&gt;resources/1.0.0.3/webApp/&lt;/BasePath&gt;\n  &lt;/CurrentVersion&gt;\n &lt;/OurVersion&gt;\n</code></pre>\n\n<p>I've tried to add something like the below, but im getting issue that \"no set attribue to currentVersion\" - </p>\n\n<pre><code>ourVersion = root.find('OurVersion')\nourVersion.set('default`, version)\ncurrentVersion = ourVersion.find('CurrentVersion')\ncurrentVersion.set('version', version)\n</code></pre>\n\n<p>Appreciate your help on this matter ;)</p>\n"}, {"tags": ["python", "deep-learning", "keras", "conv-neural-network"], "comments": [{"owner": {"reputation": 535, "user_id": 10994166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecff48428a4f546db9dd4a815aa01fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_007", "link": "https://stackoverflow.com/users/10994166/chris-007"}, "edited": false, "score": 0, "creation_date": 1557962282, "post_id": 45723596, "comment_id": 98946244, "body": "I&#39;m having a same problem. Can you add your final source code here?"}, {"owner": {"reputation": 2404, "user_id": 3399468, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1f980b8786ccbe8b85af1c80d9815865?s=128&d=identicon&r=PG&f=1", "display_name": "patti_jane", "link": "https://stackoverflow.com/users/3399468/patti-jane"}, "reply_to_user": {"reputation": 535, "user_id": 10994166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecff48428a4f546db9dd4a815aa01fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_007", "link": "https://stackoverflow.com/users/10994166/chris-007"}, "edited": false, "score": 1, "creation_date": 1558003724, "post_id": 45723596, "comment_id": 98960199, "body": "@BarotShalin I updated the question with the final code."}], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 4049513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2FIl.jpg?s=128&g=1", "display_name": "JZ_42", "link": "https://stackoverflow.com/users/4049513/jz-42"}, "edited": false, "score": 1, "creation_date": 1544100781, "post_id": 46492032, "comment_id": 94161853, "body": "Sorry for the late comment, but should your code be something like x1 = Dropout(0.2)... x1 = GlobalMaxPooling1D()(x1)?"}], "tags": [], "owner": {"reputation": 564, "user_id": 1738532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8MpnH.jpg?s=128&g=1", "display_name": "Fernando Ortega", "link": "https://stackoverflow.com/users/1738532/fernando-ortega"}, "is_accepted": true, "score": 1, "last_activity_date": 1550060892, "last_edit_date": 1550060892, "creation_date": 1506698439, "answer_id": 46492032, "question_id": 45723596, "link": "https://stackoverflow.com/questions/45723596/keras-how-to-concatenate-two-cnn/46492032#46492032", "title": "Keras: How to concatenate two CNN?", "body": "<p>If you want to concatenate two sub-networks you should use <strong><a href=\"https://keras.io/backend/#concatenate\" rel=\"nofollow noreferrer\">keras.layer.concatenate</a></strong> function.</p>\n\n<p>Furthermore, I recommend you shoud use Functional API as long as it easiest to devise complex networks like yours. For instance:</p>\n\n<pre><code>def baseline_cnn(activation='relu')\n\n    # Defining input 1\n    input1 = Embedding(SAMPLE_SIZE, EMBEDDING_DIMS, input_length=MAX_SMI_LEN)\n    x1 = Dropout(0.2)(input)\n    x1 = Conv1D(NUM_FILTERS, FILTER_LENGTH, padding='valid', activation=activation, strides=1)(x1)\n    x1 = GlobalMaxPooling1D()(x1)\n\n    # Defining input 2\n    input2 = Embedding(SAMPLE_SIZE, EMBEDDING_DIMS, input_length=MAX_SMI_LEN)\n    x2 = Dropout(0.2)(input)\n    x2 = Conv1D(NUM_FILTERS, FILTER_LENGTH, padding='valid', activation=activation, strides=1)(x2)\n    x2 = GlobalMaxPooling1D()(x2)\n\n    # Merging subnetworks\n    x = concatenate([input1, input2])\n\n    # Final Dense layer and compilation\n    x = Dense(1, activation='sigmoid')\n    model = Model(inputs=[input1, input2], x)\n    model.compile(loss='binary_crossentropy', optimizer='adam',  metrics=['accuracy'])\n\nreturn model\n</code></pre>\n\n<p>After compile this model, you can fit/evaluate it by means of <code>model.fit([data_split1, data_split2])</code> in which <code>data_split1</code> and <code>data_split2</code> are your different contexts as input.</p>\n\n<p>More info about multi input in Keras documentation: <a href=\"https://keras.io/getting-started/functional-api-guide/#multi-input-and-multi-output-models\" rel=\"nofollow noreferrer\">Multi-input and multi-output models</a>.</p>\n"}], "owner": {"reputation": 2404, "user_id": 3399468, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1f980b8786ccbe8b85af1c80d9815865?s=128&d=identicon&r=PG&f=1", "display_name": "patti_jane", "link": "https://stackoverflow.com/users/3399468/patti-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7091, "favorite_count": 3, "accepted_answer_id": 46492032, "answer_count": 1, "score": 2, "last_activity_date": 1558003618, "creation_date": 1502920419, "last_edit_date": 1558003618, "question_id": 45723596, "link": "https://stackoverflow.com/questions/45723596/keras-how-to-concatenate-two-cnn", "title": "Keras: How to concatenate two CNN?", "body": "<p>I'm trying to implement the CNN model in this article (<a href=\"https://arxiv.org/abs/1605.07333\" rel=\"nofollow noreferrer\">https://arxiv.org/abs/1605.07333</a>) </p>\n\n<p>Here, they have two different contexts as inputs which are processed by two independent conv and max-pooling layers. After pooling they concat the results. </p>\n\n<p><a href=\"https://i.stack.imgur.com/VIIy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VIIy6.png\" alt=\"CNNs\"></a></p>\n\n<p>Assuming each CNN is modelled as such, how do I achieve the model above?</p>\n\n<pre><code>def baseline_cnn(activation='relu'):\n\nmodel = Sequential()\nmodel.add(Embedding(SAMPLE_SIZE, EMBEDDING_DIMS, input_length=MAX_SMI_LEN))\nmodel.add(Dropout(0.2))\nmodel.add(Conv1D(NUM_FILTERS, FILTER_LENGTH, padding='valid', activation=activation, strides=1))\nmodel.add(GlobalMaxPooling1D())\nmodel.add(Dense(1))\nmodel.add(Activation('sigmoid'))\nmodel.compile(loss='binary_crossentropy', optimizer='adam',  metrics=['accuracy'])\n\nreturn model\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Final Code:</strong> I simply used @FernandoOrtega's solution:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def build_combined(FLAGS, NUM_FILTERS, FILTER_LENGTH1, FILTER_LENGTH2):\n    Dinput = Input(shape=(FLAGS.max_dlen, FLAGS.dset_size))\n    Tinput = Input(shape=(FLAGS.max_tlen, FLAGS.tset_size))\n\n\n    encode_d= Conv1D(filters=NUM_FILTERS, kernel_size=FILTER_LENGTH1,  activation='relu', padding='valid',  strides=1)(Dinput)\n    encode_d = Conv1D(filters=NUM_FILTERS*2, kernel_size=FILTER_LENGTH1,  activation='relu', padding='valid',  strides=1)(encode_d)\n    encode_d = GlobalMaxPooling1D()(encode_d)\n\n    encode_tt = Conv1D(filters=NUM_FILTERS, kernel_size=FILTER_LENGTH2,  activation='relu', padding='valid',  strides=1)(Tinput)\n    encode_tt = Conv1D(filters=NUM_FILTERS*2, kernel_size=FILTER_LENGTH1,  activation='relu', padding='valid',  strides=1)(encode_tt)\n    encode_tt = GlobalMaxPooling1D()(encode_tt)\n\n    encode_combined = keras.layers.concatenate([encode_d, encode_tt])\n\n\n    # Fully connected \n    FC1 = Dense(1024, activation='relu')(encode_combined)\n    FC2 = Dropout(0.1)(FC1)\n    FC2 = Dense(512, activation='relu')(FC2)\n\n    predictions = Dense(1, kernel_initializer='normal')(FC2) \n\n    combinedModel = Model(inputs=[Dinput, Tinput], outputs=[predictions])\n    combinedModel.compile(optimizer='adam', loss='mean_squared_error', metrics=[accuracy])\n\n    print(combinedModel.summary())\n\n    return combinedModel\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1502920543, "post_id": 45723583, "comment_id": 78405057, "body": "@vaultah Really? The <code>__init__.py</code> is no longer required?"}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502920720, "post_id": 45723583, "comment_id": 78405118, "body": "Is there any reason you could not do the &quot;ask forgiveness not permission&quot; thing here? So you would go <code>try: from foo import bar</code> and <code>except: ...</code>"}, {"owner": {"reputation": 13431, "user_id": 186964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1019c918e5e06a4551f1e9a056ae097e?s=128&d=identicon&r=PG", "display_name": "Aaron de Windt", "link": "https://stackoverflow.com/users/186964/aaron-de-windt"}, "reply_to_user": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502921062, "post_id": 45723583, "comment_id": 78405228, "body": "@RoyPrins I&#39;m writing a command line tool to treats a directory as a project for my tool and I need to find the directories in there that python packages, so my tool know which packages it can use. Trying to import every directory seemed a bit unsafe since I could accidentally import a package with the same name as a non-package directory."}, {"owner": {"reputation": 13431, "user_id": 186964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1019c918e5e06a4551f1e9a056ae097e?s=128&d=identicon&r=PG", "display_name": "Aaron de Windt", "link": "https://stackoverflow.com/users/186964/aaron-de-windt"}, "reply_to_user": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502921168, "post_id": 45723583, "comment_id": 78405260, "body": "I&#39;m adding the project root directory at the front of sys.path"}], "answers": [{"tags": [], "owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "is_accepted": false, "score": 1, "last_activity_date": 1502920667, "creation_date": 1502920667, "answer_id": 45723643, "question_id": 45723583, "link": "https://stackoverflow.com/questions/45723583/how-do-i-check-if-a-directory-is-a-python-package/45723643#45723643", "title": "How do I check if a directory is a python package?", "body": "<p>Based on the <a href=\"https://docs.python.org/3/tutorial/modules.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>__init__.py</code> files are required to make Python treat the directories as containing packages</p>\n</blockquote>\n\n<h1>Update</h1>\n\n<p>Based on the answer here:  <a href=\"https://stackoverflow.com/questions/37139786/is-init-py-not-required-for-packages-in-python-3\">Is __init__.py not required for packages in Python 3?</a>\nYou can see that it's no longer a requirement.</p>\n"}, {"tags": [], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "is_accepted": true, "score": 4, "last_activity_date": 1502921194, "last_edit_date": 1502921194, "creation_date": 1502920883, "answer_id": 45723684, "question_id": 45723583, "link": "https://stackoverflow.com/questions/45723583/how-do-i-check-if-a-directory-is-a-python-package/45723684#45723684", "title": "How do I check if a directory is a python package?", "body": "<p>Before Python 3.3, only directories containing <code>__init__.py</code> files were considered packages (see <a href=\"https://docs.python.org/3/glossary.html#term-regular-package\" rel=\"nofollow noreferrer\"><em>regular package</em></a> in Glossary).</p>\n\n<p>Since the addition of <a href=\"https://docs.python.org/3/glossary.html#term-namespace-package\" rel=\"nofollow noreferrer\"><em>namespace packages</em></a> in Python 3.3, <em>every</em> directory is a Python package, technically.</p>\n"}], "owner": {"reputation": 13431, "user_id": 186964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1019c918e5e06a4551f1e9a056ae097e?s=128&d=identicon&r=PG", "display_name": "Aaron de Windt", "link": "https://stackoverflow.com/users/186964/aaron-de-windt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 45723684, "answer_count": 2, "score": 3, "last_activity_date": 1502921194, "creation_date": 1502920370, "question_id": 45723583, "link": "https://stackoverflow.com/questions/45723583/how-do-i-check-if-a-directory-is-a-python-package", "title": "How do I check if a directory is a python package?", "body": "<p>If I want to check whether a directory is a python package, is it enough to check whether a directory contains a <code>__init__.py</code> file?</p>\n"}, {"tags": ["python", "selenium", "scripting", "automation", "appium"], "comments": [{"owner": {"reputation": 165, "user_id": 4211612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2ebfac68c0fc6de0a555898859a4c3?s=128&d=identicon&r=PG", "display_name": "Ephellon Dantzler", "link": "https://stackoverflow.com/users/4211612/ephellon-dantzler"}, "edited": false, "score": 0, "creation_date": 1502920012, "post_id": 45723500, "comment_id": 78404844, "body": "Not really, so long as the coed isn&#39;t erroneous, it should be fine. I would debug it, there&#39;s probably some missing or extra code that doesn&#39;t belong (or causes failing loops)."}], "answers": [{"comments": [{"owner": {"reputation": 386, "user_id": 7717072, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cf22cd7ce007050ed5809b90b2577649?s=128&d=identicon&r=PG&f=1", "display_name": "cjg123", "link": "https://stackoverflow.com/users/7717072/cjg123"}, "edited": false, "score": 0, "creation_date": 1502920499, "post_id": 45723536, "comment_id": 78405038, "body": "Yeah that&#39;s what I meant with all else being equal. Can length alone contribute."}, {"owner": {"reputation": 1290, "user_id": 5499871, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206799318615183/picture?type=large", "display_name": "Izaak Weiss", "link": "https://stackoverflow.com/users/5499871/izaak-weiss"}, "reply_to_user": {"reputation": 386, "user_id": 7717072, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cf22cd7ce007050ed5809b90b2577649?s=128&d=identicon&r=PG&f=1", "display_name": "cjg123", "link": "https://stackoverflow.com/users/7717072/cjg123"}, "edited": false, "score": 0, "creation_date": 1502920705, "post_id": 45723536, "comment_id": 78405114, "body": "No. Python scripts can be far longer than 1000 lines without causing issues. While some programs may, eventually, have problems because of their literal length, the size would be incredibly massive, and probably limited by the operating system instead of Python."}, {"owner": {"reputation": 386, "user_id": 7717072, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cf22cd7ce007050ed5809b90b2577649?s=128&d=identicon&r=PG&f=1", "display_name": "cjg123", "link": "https://stackoverflow.com/users/7717072/cjg123"}, "edited": false, "score": 0, "creation_date": 1502920800, "post_id": 45723536, "comment_id": 78405146, "body": "Interesting. Debugging it is. Thank you!"}, {"owner": {"reputation": 36798, "user_id": 2887618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e643417e67e5a3bb9f659e4491ed26b0?s=128&d=identicon&r=PG&f=1", "display_name": "Florent B.", "link": "https://stackoverflow.com/users/2887618/florent-b"}, "edited": false, "score": 0, "creation_date": 1502994581, "post_id": 45723536, "comment_id": 78442543, "body": "A script too long within a single test can lead to a test failing randomly depending on how the web page is implemented. Each test launch a new browser, so executing too many commands can lead to a memory overflow which would crash the page and make the test fail."}], "tags": [], "owner": {"reputation": 1290, "user_id": 5499871, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206799318615183/picture?type=large", "display_name": "Izaak Weiss", "link": "https://stackoverflow.com/users/5499871/izaak-weiss"}, "is_accepted": true, "score": 2, "last_activity_date": 1502920082, "creation_date": 1502920082, "answer_id": 45723536, "question_id": 45723500, "link": "https://stackoverflow.com/questions/45723500/does-length-of-an-automation-script-directly-determine-its-likelihood-of-failing/45723536#45723536", "title": "Does length of an automation script directly determine its likelihood of failing?", "body": "<p>The longer a script you write is, the more chances you have for making a mistake while you are writing it.</p>\n\n<p>That said, it is not the case that</p>\n\n<blockquote>\n  <p>tests are failing randomly just because my script is long</p>\n</blockquote>\n\n<p>Your tests are likely failing because there is an error somewhere, either in the tests or the logic in your script.</p>\n"}], "owner": {"reputation": 386, "user_id": 7717072, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cf22cd7ce007050ed5809b90b2577649?s=128&d=identicon&r=PG&f=1", "display_name": "cjg123", "link": "https://stackoverflow.com/users/7717072/cjg123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 45723536, "answer_count": 1, "score": 0, "last_activity_date": 1502920082, "creation_date": 1502919886, "question_id": 45723500, "link": "https://stackoverflow.com/questions/45723500/does-length-of-an-automation-script-directly-determine-its-likelihood-of-failing", "title": "Does length of an automation script directly determine its likelihood of failing?", "body": "<p>What I mean is, if my script is 1000 lines of code long, is it more likely to fail then if it was only a hundred lines long, with everything else being equal?</p>\n\n<p>It seems like my tests are failing randomly just because my script is long</p>\n"}, {"tags": ["python", "elasticsearch", "elasticsearch-dsl", "elasticsearch-dsl-py"], "comments": [{"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1502921416, "post_id": 45723460, "comment_id": 78405331, "body": "What do you mean by &quot;debug mode&quot;?"}, {"owner": {"reputation": 1960, "user_id": 447836, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458e46c05afd67bea104e3ff582451eb?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris", "link": "https://stackoverflow.com/users/447836/dimitris"}, "reply_to_user": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1502922262, "post_id": 45723460, "comment_id": 78405579, "body": "I am using VS Code and debugging this. If I am in Debug mode then it works. If I run python &lt;script.py&gt; then it&#39;s not. Really strange"}, {"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1502926189, "post_id": 45723460, "comment_id": 78406657, "body": "I don&#39;t really know much about that IDE, but is it possible that your connection definition is somehow set in your IDE? It might be worth stepping through this on the console with <code>pdb</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1960, "user_id": 447836, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458e46c05afd67bea104e3ff582451eb?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris", "link": "https://stackoverflow.com/users/447836/dimitris"}, "is_accepted": false, "score": 0, "last_activity_date": 1502960813, "creation_date": 1502960813, "answer_id": 45730892, "question_id": 45723460, "link": "https://stackoverflow.com/questions/45723460/elasticsearch-dsl-search-works-only-in-debug-mode/45730892#45730892", "title": "elasticsearch-dsl search works only in debug mode", "body": "<p>The problem was that the search was taking place immediately after indexing that test data. Potentially Elasticsearch didn't have enough time to index the data and search it and as a result I was getting zero hits. If indexing takes place at a different point in time with search then it all works as expected. This behaviour is a result purely of early tests that we are currently running.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5162312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nVTV47biWeI/AAAAAAAAAAI/AAAAAAAAAEk/cWGdmYoRfwc/photo.jpg?sz=128", "display_name": "\u041a\u0438\u0440\u0438\u043b\u043b \u041a\u0443\u0440\u044b\u0448\u0435\u0432", "link": "https://stackoverflow.com/users/5162312/%d0%9a%d0%b8%d1%80%d0%b8%d0%bb%d0%bb-%d0%9a%d1%83%d1%80%d1%8b%d1%88%d0%b5%d0%b2"}, "is_accepted": false, "score": 1, "last_activity_date": 1566625716, "creation_date": 1566625716, "answer_id": 57635431, "question_id": 45723460, "link": "https://stackoverflow.com/questions/45723460/elasticsearch-dsl-search-works-only-in-debug-mode/57635431#57635431", "title": "elasticsearch-dsl search works only in debug mode", "body": "<p>there is one argument in elastic \"index\" operation called \"refresh\" with three options. If you set refresh='true' then you will get response from index operation after elastic add data to index.\nFrom here: <a href=\"https://elasticsearch-py.readthedocs.io/en/master/api.html\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<blockquote>\n  <p>refresh \u2013 If true then refresh the affected shards to make this operation visible to search, if wait_for then wait for a refresh to make this operation visible to search, if false (the default) then do nothing with refreshes., valid choices are: \u2018true\u2019, \u2018false\u2019, \u2018wait_for\u2019</p>\n</blockquote>\n"}], "owner": {"reputation": 1960, "user_id": 447836, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/458e46c05afd67bea104e3ff582451eb?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris", "link": "https://stackoverflow.com/users/447836/dimitris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566625716, "creation_date": 1502919752, "question_id": 45723460, "link": "https://stackoverflow.com/questions/45723460/elasticsearch-dsl-search-works-only-in-debug-mode", "title": "elasticsearch-dsl search works only in debug mode", "body": "<p>I am using the elasticsearch-dsl package in Python for my project. I have a very simple search query as can be seen below:</p>\n\n<pre><code>    s = Search(using=connections.get_connection(), index= 'registry', doc_type=['storage_doc']).params(request_timeout=60)        \n    s.filter(\"match\", postcode=\"SW1\").query(\"match\", forename=\"Brendan\")                \n    response = s.execute(ignore_cache=True)        \n    print(response.success())\n    print(response.took)\n    print(response.to_dict()) \n    print('Total %d hits found.' % response.hits.total)\n</code></pre>\n\n<hr>\n\n<p>which works fine if I execute it in debug mode but when I run the code from the console I always get 0 hits. I have no idea why this is happening and I have spent already half a day trying to find a solution. Any ideas?</p>\n"}, {"tags": ["python", "python-3.x", "time", "timer", "turtle-graphics"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1502921279, "creation_date": 1502921279, "answer_id": 45723756, "question_id": 45723373, "link": "https://stackoverflow.com/questions/45723373/having-trouble-timing-turtle-movement/45723756#45723756", "title": "Having trouble timing turtle movement", "body": "<p>The functionality you want requires independent execution threads.  You need to work with the multi-threading <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow noreferrer\">package</a> and <a href=\"http://www.tutorialspoint.com/python/python_multithreading.htm\" rel=\"nofollow noreferrer\">tutorial</a></p>\n\n<p>You will want logic such as this:</p>\n\n<pre><code>import time\nimport threading\n\ndef draw_square():\n    # Draw a square in a random place\n    length = random.randrange(360)\n    width  = random.randrange(360)\n    x_pos  = random.randrange(50,150)\n    y_pos  = random.randrange(50,150)\n\n    # Continue with your square-drawing logic;\n    # you already know how to do this.\n\nwhile True:\n    threading.thread(draw_square)\n    time.sleep(10)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8474828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3335ba343ced7670d0071088d97db0?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei3927", "link": "https://stackoverflow.com/users/8474828/andrei3927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1502929322, "creation_date": 1502919350, "last_edit_date": 1502929322, "question_id": 45723373, "link": "https://stackoverflow.com/questions/45723373/having-trouble-timing-turtle-movement", "title": "Having trouble timing turtle movement", "body": "<p>I wrote the following code, which creates expanding squares at two random locations.  I would like to write a function <strong>f(squares, seconds)</strong> so that if the user inputs f(5,10), a new square would begin forming every 10 seconds, until 5 had formed.</p>\n\n<p>I can't seem to find anything which lets me start a new square while one is still forming.  I can either make two form at the same time, as in the code below, or have one be completed, and then for another to start forming.  Help?</p>\n\n<pre><code>import sys\nsys.setExecutionLimit(1000000)\nimport turtle\nimport random\nwn = turtle.Screen()\n#Creates alex the turtle\nalex = turtle.Turtle()\nalex.color('blue')\nalex.pensize(3)\nalex.ht()\nalex.penup()\n#creates bob the turtle\nbob = turtle.Turtle()\nbob.color('blue')\nbob.pensize(3)\nbob.ht()\nbob.penup()\n\n#Sets variables so that alex starts in a random location\na=random.randrange(360)\nb=random.randrange(360)\nx=random.randrange(50,150)\ny=random.randrange(50,150)\n#Sets variables so that bob starts in a random location\nl=random.randrange(360)\nm=random.randrange(360)\nn=random.randrange(50,150)\no=random.randrange(50,150)\n#Moves alex to his random starting location\nalex.speed(100)\nalex.left(a)\nalex.forward(x)\nalex.left(b)\nalex.forward(y)\nalex.pendown()\n#Moves bob to his random starting location\nbob.speed(100)\nbob.left(l)\nbob.forward(n)\nbob.left(m)\nbob.forward(o)\nbob.pendown()\n\n#Draws the 2 squares\nfor i in range(1,500):\n    alex.forward(i)\n    alex.left(90)\n    bob.forward(i)\n    bob.left(90)\n</code></pre>\n"}, {"tags": ["python", "flask", "peewee"], "owner": {"reputation": 63, "user_id": 2501941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c74473c18b2aa1d1369da7b09c71ea?s=128&d=identicon&r=PG", "display_name": "SliinQ", "link": "https://stackoverflow.com/users/2501941/sliinq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1503065046, "creation_date": 1502919314, "last_edit_date": 1503065046, "question_id": 45723366, "link": "https://stackoverflow.com/questions/45723366/peewee-connection-already-open-in-url-value-preprocessor-with-flask", "title": "Peewee &#39;Connection already open&#39; in url_value_preprocessor with Flask", "body": "<p>What I am trying to do is check the subdomain value passed to the route methods just like explained <a href=\"http://exploreflask.com/en/latest/blueprints.html#using-a-dynamic-subdomain\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Whenever I access the <code>panel</code> blueprint I receive this error: <code>peewee.OperationalError: Connection already open</code></p>\n\n<p>This is how I initialize the database in my main app file. </p>\n\n<pre><code>flask_db = FlaskDB(app)\ndatabase = flask_db.database\n</code></pre>\n\n<p>The problematic code seems to be</p>\n\n<pre><code>@panel.url_value_preprocessor\ndef check_client_and_user(endpoint, values):\n    client = Client.get(Client.subdomain == values.pop('client'))\n</code></pre>\n\n<p>The full source code can be found on <a href=\"https://gitlab.com/MNApps/Server/tree/master/app\" rel=\"nofollow noreferrer\">Gitlab</a></p>\n\n<p><code>__init__.py</code> is the main app file. <code>panel/__init__.py</code> has the problematic code. This is the full traceback I receive:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1997, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1985, in wsgi_app\n    response = self.handle_exception(e)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1540, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1982, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1614, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1517, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1610, in full_dispatch_request\n    rv = self.preprocess_request()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1831, in preprocess_request\n    rv = func()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/playhouse/flask_utils.py\", line 171, in connect_db\n    self.database.connect()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/peewee.py\", line 3679, in connect\n    raise OperationalError('Connection already open')\npeewee.OperationalError: Connection already open\n</code></pre>\n\n<p>I don't know where the extra connection is coming from. It seems like it is being generated by the Client.select() query.</p>\n\n<hr>\n\n<p><strong>Edit</strong>:\nThis code here</p>\n\n<pre><code>def get_or_404(client):\n    app.logger.debug(database.get_tables())\n    cli = Client.select().where(Client.subdomain == client)\n</code></pre>\n\n<p>Generates this response</p>\n\n<pre><code>--------------------------------------------------------------------------------\nDEBUG in models [/home/marten/Projects/Comp/server/app/panel/models.py:14]:\n['client', 'role', 'user', 'userroles']\n--------------------------------------------------------------------------------\n127.0.0.1 - - [17/Aug/2017 14:57:31] \"GET / HTTP/1.1\" 500 -\nTraceback (most recent call last):\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1997, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1985, in wsgi_app\n    response = self.handle_exception(e)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1540, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1982, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1614, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1517, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1610, in full_dispatch_request\n    rv = self.preprocess_request()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/flask/app.py\", line 1831, in preprocess_request\n    rv = func()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/playhouse/flask_utils.py\", line 171, in connect_db\n    self.database.connect()\n  File \"/home/marten/Projects/Comp/server/venv/lib/python3.6/site-packages/peewee.py\", line 3679, in connect\n    raise OperationalError('Connection already open')\npeewee.OperationalError: Connection already open\n</code></pre>\n\n<p>As you can see the database is actually connected, and the client table is available.</p>\n\n<hr>\n\n<p><strong>Edit 2</strong>: \nWell, I just found that apparently just <code>database.get_tables()</code> will cause this error. However, that code does fetch all tables from the database...</p>\n\n<p>Does <code>url_value_preprocessor</code> run before the database is initialized? That would be strange since I import the object calling this decorator after initializing the database.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1502921752, "post_id": 45723440, "comment_id": 78405420, "body": "<code>df.drop([0, 1]).append(df.loc[[0, 1]].apply(&#39; | &#39;.join).rename(0)).sort_index()</code>... w/e  I like yours better.  <code>b.drop([0, 1]).append(b.loc[[0, 1]].astype(str).apply(&#39; | &#39;.join).rename(0)).sort_index()</code> Just in case, years are ints."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1502921822, "post_id": 45723440, "comment_id": 78405440, "body": "@piRSquared That is a lot more pythonic and elegant.   Thank you."}, {"owner": {"reputation": 23, "user_id": 7330810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5a0ae2f846af429b965d8600b7da44?s=128&d=identicon&r=PG&f=1", "display_name": "user7330810", "link": "https://stackoverflow.com/users/7330810/user7330810"}, "edited": false, "score": 0, "creation_date": 1503262694, "post_id": 45723440, "comment_id": 78531090, "body": "Thank you very much for this solution. It&#39;s just what I need."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 3, "last_activity_date": 1502919988, "last_edit_date": 1502919988, "creation_date": 1502919660, "answer_id": 45723440, "question_id": 45723358, "link": "https://stackoverflow.com/questions/45723358/merge-row-values-in-two-consecutive-rows-using-pandas/45723440#45723440", "title": "merge row values in two consecutive rows using pandas", "body": "<p>Let's try this:</p>\n\n<pre><code>df.loc[0] = df[:2].apply(lambda x: ' | '.join(x.astype(str)))\ndf = df.drop(1).reset_index()\ndf\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   index             1              2             3\n0      0  2010 | First  2011 | Second  2012 | Third\n1      2           98%            99%           99%\n2      3           77%            87%           77%\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1502923424, "creation_date": 1502923424, "answer_id": 45724066, "question_id": 45723358, "link": "https://stackoverflow.com/questions/45723358/merge-row-values-in-two-consecutive-rows-using-pandas/45724066#45724066", "title": "merge row values in two consecutive rows using pandas", "body": "<p>Or maybe you can try this by using <code>T</code> </p>\n\n<pre><code>df=df.T\ndf[0]=df[0].astype(str)+'|'+df[1]\ndf.drop(1,1).T\n\n\n                1            2           3\nindex                                     \n0      2010|First  2011|Second  2012|Third\n2             98%          99%         99%\n3             77%          87%         77%\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7330810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5a0ae2f846af429b965d8600b7da44?s=128&d=identicon&r=PG&f=1", "display_name": "user7330810", "link": "https://stackoverflow.com/users/7330810/user7330810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "accepted_answer_id": 45723440, "answer_count": 2, "score": 2, "last_activity_date": 1502923424, "creation_date": 1502919262, "question_id": 45723358, "link": "https://stackoverflow.com/questions/45723358/merge-row-values-in-two-consecutive-rows-using-pandas", "title": "merge row values in two consecutive rows using pandas", "body": "<p>i am using pandas and have a data frame where I would like to merge two of the rows together and append the values in each cell separated by a symbol. The cells contain text or integers. </p>\n\n<p>The original data frame looks like this</p>\n\n<pre><code>index         1         2          3\n0           2010      2011       2012\n1           First     Second     Third\n2            98%        99%        99%\n3            77%        87%        77%\n</code></pre>\n\n<p>I would like to achieve this :</p>\n\n<pre><code>index         1                 2                   3\n    0    2010 | First      2011 | Second       2012 | Third\n    2        98%               99%                 99%\n    3        77%               87%                 77%\n</code></pre>\n\n<p>What's the best way to achieve this?</p>\n"}, {"tags": ["python", "user-interface", "pyqt5"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502919392, "post_id": 45723284, "comment_id": 78404588, "body": "Change <code>self.destroy()</code> to <code>self.close()</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502919713, "post_id": 45723284, "comment_id": 78404708, "body": "I have tried your code and it works as you wish, When the second sale is opened the first one is closed."}, {"owner": {"reputation": 191, "user_id": 3924159, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QNobQ.png?s=128&g=1", "display_name": "EwokHugz", "link": "https://stackoverflow.com/users/3924159/ewokhugz"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502920673, "post_id": 45723284, "comment_id": 78405107, "body": "@eyllanesc Thanks, I edited because I discovered the problem. Also, to make it exit I can answer my own question. The function is self.exit_button.clicked.connect(QtWidgets.qApp.quit)"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502920759, "post_id": 45723284, "comment_id": 78405132, "body": "One thing is to close the window and another is to exit the application."}, {"owner": {"reputation": 191, "user_id": 3924159, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QNobQ.png?s=128&g=1", "display_name": "EwokHugz", "link": "https://stackoverflow.com/users/3924159/ewokhugz"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502921026, "post_id": 45723284, "comment_id": 78405208, "body": "@eyllanesc right. that wouldn&#39;t be a good solution if it wasn&#39;t just the welcome screen."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1502921157, "post_id": 45723284, "comment_id": 78405258, "body": "You are closing your complete application, which you do not describe in your question. Take time and seriousness when you ask questions just as we do."}], "answers": [{"comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1502923433, "post_id": 45723649, "comment_id": 78405950, "body": "One thing is to close the window and another is to exit the application."}], "tags": [], "owner": {"reputation": 191, "user_id": 3924159, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QNobQ.png?s=128&g=1", "display_name": "EwokHugz", "link": "https://stackoverflow.com/users/3924159/ewokhugz"}, "is_accepted": false, "score": 3, "last_activity_date": 1502923382, "last_edit_date": 1502923382, "creation_date": 1502920689, "answer_id": 45723649, "question_id": 45723284, "link": "https://stackoverflow.com/questions/45723284/open-a-window-and-close-a-window-in-pyqt5/45723649#45723649", "title": "Open a window and close a window in PyQt5", "body": "<pre><code>self.exit_button.clicked.connect(QtWidgets.qApp.quit)\n</code></pre>\n\n<p>This solution works for my purposes, however, if you are trying to close a window without shutting down the application this will not work. Use self.close()</p>\n"}], "owner": {"reputation": 191, "user_id": 3924159, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QNobQ.png?s=128&g=1", "display_name": "EwokHugz", "link": "https://stackoverflow.com/users/3924159/ewokhugz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567458005, "creation_date": 1502918901, "last_edit_date": 1502929636, "question_id": 45723284, "link": "https://stackoverflow.com/questions/45723284/open-a-window-and-close-a-window-in-pyqt5", "title": "Open a window and close a window in PyQt5", "body": "<p>I am trying to load a new class with a UI window from a welcome screen, and at the same time close the welcome screen. When I click the button to go to open the new window it opens fine, but I would just like to close the first window on the action event. </p>\n\n<p>I have tried <code>.hide()</code>, <code>.terminate()</code>, <code>.destroy()</code>, and the window still stays.</p>\n\n<p>This is the relevant code:</p>\n\n<pre><code>class MainWindow(QtWidgets.QMainWindow):\n    def __init__(self):\n        super().__init__()                \n        #self.email_blast_widget = EmailBlast()\n        #self.setCentralWidget(self.email_blast_widget)\n        self.welcome = OpeningWindow()\n        self.setCentralWidget(self.welcome)        \n        bar = self.menuBar()\n        file_file = bar.addMenu('File')         \n        file_edit = bar.addMenu('Edit')\n\n    def load_email(self):\n        self.mail = EmailBlast()        \n        self.mail.show()\n        self.welcome = OpeningWindow()\n        self.destroy()\n\nclass OpeningWindow(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()\n        self.welcome = QtWidgets.QLabel(\"Welcome To Zach's \\nEmail Blast Widget\")\n        self.email_button = QtWidgets.QPushButton(\"Email\")\n        self.csv_button = QtWidgets.QPushButton(\"CSVs\")\n        self.exit_button = QtWidgets.QPushButton(\"Exit\")\n\n        self.init_ui()\n\n def init_ui(self):\n    # set layout to place widgets\n    self.email_button.clicked.connect(self.load_email)\n    self.csv_button.clicked.connect(self.load_csv)\n    #self.exit_button.clicked.connect(self.exit)\n    self.exit_button.clicked.connect(QtWidgets.qApp.quit)\n\n\nclass EmailBlast(QtWidgets.QWidget):\n    def __init__(self):\n        super().__init__()     \n        # create widgets\n</code></pre>\n"}, {"tags": ["python", "filter", "counter", "frequency"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1502919000, "post_id": 45723279, "comment_id": 78404433, "body": "You show a <i>set</i>, which will only have each unique value <i>once</i>. Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; note that stack snippets are for HTML/CSS/JS and do not support Python."}], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 7173790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c02db6ecfedd3970c30fe1b85f9128b2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris T.", "link": "https://stackoverflow.com/users/7173790/chris-t"}, "edited": false, "score": 0, "creation_date": 1502919234, "post_id": 45723335, "comment_id": 78404521, "body": "This is not why I want, &#39;.most_common()&#39; only ranks them."}, {"owner": {"reputation": 1147, "user_id": 7173790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c02db6ecfedd3970c30fe1b85f9128b2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris T.", "link": "https://stackoverflow.com/users/7173790/chris-t"}, "edited": false, "score": 0, "creation_date": 1502919728, "post_id": 45723335, "comment_id": 78404714, "body": "Could you explain the difference between x[0] and x[1]?"}, {"owner": {"reputation": 1147, "user_id": 7173790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c02db6ecfedd3970c30fe1b85f9128b2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris T.", "link": "https://stackoverflow.com/users/7173790/chris-t"}, "edited": false, "score": 0, "creation_date": 1502919859, "post_id": 45723335, "comment_id": 78404767, "body": "Ok, I got it. Thanks."}], "tags": [], "owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "is_accepted": true, "score": 4, "last_activity_date": 1502919764, "last_edit_date": 1502919764, "creation_date": 1502919151, "answer_id": 45723335, "question_id": 45723279, "link": "https://stackoverflow.com/questions/45723279/filter-tokens-in-a-list-based-on-frequency/45723335#45723335", "title": "Filter tokens in a list based on frequency", "body": "<p>In case <code>s</code> is a <strong>list</strong> and not a set (like you wrote in your question, but not in the code in your example), you can use the <code>most_common</code> function of the <code>Counter</code> object to get the top X elements in your list:</p>\n\n<pre><code>In [67]: s = ['book',\n    ...:  'car',\n    ...:  'bird',\n    ...:  'cup',\n    ...:  'book',\n    ...:  'cup',\n    ...:  'river']\n\nIn [68]: s\nOut[68]: ['book', 'car', 'bird', 'cup', 'book', 'cup', 'river']\n\nIn [69]: c = Counter(s)\n\nIn [70]: c.most_common(2)\nOut[70]: [('book', 2), ('cup', 2)]\n</code></pre>\n\n<p>In case you want to get elements that appear more than Y times you can use:</p>\n\n<pre><code>In [71]: [x[0] for x in c.items() if x[1] &gt;= 2]\nOut[71]: ['book', 'cup']\n</code></pre>\n\n<p><code>x[0]</code> is the item (from the list) and <code>x[1]</code> is the frequency</p>\n"}], "owner": {"reputation": 1147, "user_id": 7173790, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c02db6ecfedd3970c30fe1b85f9128b2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris T.", "link": "https://stackoverflow.com/users/7173790/chris-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 45723335, "answer_count": 1, "score": 0, "last_activity_date": 1502919764, "creation_date": 1502918874, "last_edit_date": 1502919060, "question_id": 45723279, "link": "https://stackoverflow.com/questions/45723279/filter-tokens-in-a-list-based-on-frequency", "title": "Filter tokens in a list based on frequency", "body": "<p>I am working on a list object containing several tokens with different frequency</p>\n\n<pre><code>from collections import Counter\n\ns = {'book',\n 'car',\n 'bird',\n 'cup',\n 'book',\n 'cup',\n 'river'}\n\nprint(Counter(s))\n\n[('book': 2), ('cup': 2), ('river': 1), ('car': 1), ('bird': 1)]\n</code></pre>\n\n<p>I want to set a filter by which only tokens that have appeared twice will be selected, and my use the following code in my current attempt</p>\n\n<pre><code>select = [word for word in s if list(s).count(word) &gt;= 2]\nselect\n</code></pre>\n\n<p>I thought it's very straightforward, but I didn't any output from 'select.' What went wrong with my code and how to deal with it?</p>\n"}, {"tags": ["python", "mysql", "mariadb"], "comments": [{"owner": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502920636, "post_id": 45723253, "comment_id": 78405094, "body": "What is stopping you from just doing <code>cursor.execute(&quot;INSERT INTO fa_detalles (fa_num, fa_desc, fa_valor) values (&#39;%d&#39;, &#39;%s&#39;, &#39;%f&#39;)&quot; % (cursor.lastrowid, description, value))</code>  where <code>description</code> and <code>value</code> are the appropriate values. Have you tried anything or got any errors?"}, {"owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "reply_to_user": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502922680, "post_id": 45723253, "comment_id": 78405712, "body": "@Carlos Thanks for your help, I got the idea! But what do you meant with <code>cursor.lastrowid</code>? Do I have to write it down just like that?"}, {"owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "reply_to_user": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502945613, "post_id": 45723253, "comment_id": 78411019, "body": "Hey @Carlos what about something as <code>INSERT INTO fa_detalles (fa_num, fa_desc, fa_valor) values (&#39;%d&#39;, &quot;Rent value Month: %s&#47;%s&quot;, &#39;%f&#39;)&#39;&#39;&#39; % (cursor.lastrowid, month&#47;year, value))</code> where month/year come from <code>year = time.strftime(&quot;%Y&quot;)</code> and <code>month = time.strftime(&quot;%B&quot;)</code> variables?"}, {"owner": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502948985, "post_id": 45723253, "comment_id": 78412268, "body": "<code>cursor.lastrowid</code> just returns the id of the last row commited to the dB, in your case <code>fa_num</code>"}, {"owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "reply_to_user": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502950753, "post_id": 45723253, "comment_id": 78413153, "body": "Well @Carlos I tried your code but the error is <code>NameError: global name &#39;value&#39; is not defined</code>. I&#39;m thinking now that maybe I need to modify my contracts table because the rent value of the property is too far from this code, and if I want to add that value here it&#39;s gonna be hard for me. Perhaps, <code>description</code> did&#39;t got that Error because I declared it before as <code>description = &quot;Rent value Month: &quot;</code>"}, {"owner": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502951094, "post_id": 45723253, "comment_id": 78413344, "body": "well I think I misspelled <code>fad_valor</code> and <code>fad_desc</code> which could also be an issue, but obviously you need <code>value</code> to be within the scope for the insert to work."}, {"owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "reply_to_user": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502952516, "post_id": 45723253, "comment_id": 78414183, "body": "But @Carlos, if <code>cursor.lastrowid</code> returns me just one record (the last one of fa_num), how am I gonna record the rest tenants&#39; details. For example, If I got 4 tenants and I saved their invoices in the table, how am I going to save the details of all 4 if I just have the fa_num of the last one? This the first time I know about <code>cursor.lastrowid</code>, and that&#39;s why I ask, and still dig about it."}, {"owner": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502952792, "post_id": 45723253, "comment_id": 78414343, "body": "Can you not insert the first one to table one then to table 2, and move to the next tenant and so on?"}, {"owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "reply_to_user": {"reputation": 782, "user_id": 7071577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b816a812978bc140df497f0fbdd49c0?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Gonzalez", "link": "https://stackoverflow.com/users/7071577/carlos-gonzalez"}, "edited": false, "score": 0, "creation_date": 1502953430, "post_id": 45723253, "comment_id": 78414691, "body": "Yeah, I could do that, but when I have about 50 tenants that&#39;s gonna be frustrating. That&#39;s also why I got at the beginning of my code the option to detect the date of the system to do this operation just once a month."}], "owner": {"reputation": 55, "user_id": 5978746, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-otJc76PfN_s/AAAAAAAAAAI/AAAAAAAABSY/2Vw0D9aVedY/photo.jpg?sz=128", "display_name": "Einnerlink", "link": "https://stackoverflow.com/users/5978746/einnerlink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502918741, "creation_date": 1502918741, "question_id": 45723253, "link": "https://stackoverflow.com/questions/45723253/how-to-insert-multiple-records-in-a-invoice-and-a-details-mysql-tables-with-pyth", "title": "how to Insert multiple records in a invoice and a details MySQL tables with Python?", "body": "<p>I'm trying to record the invoices of some tenants I got in a MySQL database for a real estate agency. The thing is that these invoices must be saved in two tables: the invoices and details tables. The code I got at this moment works good saving the information needed for the first table (tenants' invoices), but I don't really know how to write for the second one.</p>\n\n<p>The table to save tenants' invoices is called 'factura_arre' and it contains the info about: number of the invoice, date, the tax, total and others.</p>\n\n<pre><code>MariaDB&gt; desc factura_arre;\n+-----------+------------+------+-----+---------+----------------+\n| Field     | Type       | Null | Key | Default | Extra          |\n+-----------+------------+------+-----+---------+----------------+\n| fa_num    | int(11)    | NO   | PRI | NULL    | auto_increment |\n| c_cod     | int(11)    | NO   | MUL | NULL    |                |\n| fa_fecha  | datetime   | NO   |     | NULL    |                |\n| fa_iva    | float      | NO   |     | NULL    |                |\n| fa_total  | float      | NO   |     | NULL    |                |\n| fa_estado | tinyint(1) | NO   |     | 0       |                |\n| fa_notas  | blob       | YES  |     | NULL    |                |\n+-----------+------------+------+-----+---------+----------------+\n7 rows in set (0.06 sec)\n</code></pre>\n\n<p>And the table to save the details of the the previous table (factura_arre) is called 'fa_detalles', and has informations such as the number of the invoice, description and value.</p>\n\n<pre><code>MariaDB&gt; desc fa_detalles;\n+-----------+--------------+------+-----+---------+----------------+\n| Field     | Type         | Null | Key | Default | Extra          |\n+-----------+--------------+------+-----+---------+----------------+\n| fad_id    | int(11)      | NO   | PRI | NULL    | auto_increment |\n| fa_num    | int(11)      | NO   | MUL | NULL    |                |\n| fad_desc  | varchar(100) | NO   |     | NULL    |                |\n| fad_valor | float        | NO   |     | NULL    |                |\n+-----------+--------------+------+-----+---------+----------------+\n4 rows in set (0.06 sec)\n</code></pre>\n\n<p>To make this happen I use this Pyhon function, and it works good, but what do I have to add for recording the details in the other table?</p>\n\n<pre><code>def monthly_invoices():\n    #YEAR/MONTH OF THE SYSTEM\n    fechasys = time.strftime(\"%Y%m\")\n    #LAST YEAR/MONTH OF MYSQL INVOICES\n    cursor.execute(\"SELECT EXTRACT( YEAR_MONTH FROM fa_fecha)FROM factura_arre;\")\n    results = cursor.fetchall()\n    for fechasys in results:\n        showerror(\"\",\"This operation is not allow for current month!\")\n        break\n    else:\n        #QUERY THE VALUE OF IVA LEGAL TAX\n        cursor.execute(\"SELECT ivajuridico FROM configuracion;\")\n        dato1 = cursor.fetchall()\n        #QUERY THE INFORMATION OF THE TENANTS\n        cursor.execute(\"SELECT c_cod, now(), relacionip.i_cod, i_vlrenta, a_tpersona FROM contratos INNER JOIN relacionip ON contratos.r_id = relacionip.r_id INNER JOIN inmuebles ON relacionip.i_cod = inmuebles.i_cod INNER JOIN arrendatarios ON contratos.a_cc = arrendatarios.a_cc;\")\n        dato2 = cursor.fetchall()\n        connect.commit()\n        for a in dato1:\n            #GET THE VALUE OF THE TAX AS FLOAT\n            ivaj = a[0] #16.0 (float)\n            for i in dato2:\n                if i[4] == 2:\n                    #showinfo(\"\",\"He's Legal\")\n                    iva = i[3]*ivaj/100 #vl arriendo*iva/100\n                    total = i[3]+iva\n                else:\n                    #showinfo(\"\",\"He's Natural\")\n                    iva = 0\n                    total = i[3]+iva\n                    try:\n                        cursor.execute(\"INSERT INTO factura_arre(c_cod, fa_fecha, fa_iva, fa_total) values ('%s', now(), '%f', '%f')\" % (i[0], iva, total))# i[0] is c_cod for the row just calculated.\n                        connect.commit()\n                    except:\n                        pass\n            showinfo('Operation', \"Invoices saved!\")\n</code></pre>\n\n<p>To understand tyo relationship, here's a diagram:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0WFPU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["python", "file", "ssh", "sftp", "paramiko"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8149591, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210609488930951/picture?type=large", "display_name": "Shahaf Shavit", "link": "https://stackoverflow.com/users/8149591/shahaf-shavit"}, "edited": false, "score": 0, "creation_date": 1502970505, "post_id": 45726406, "comment_id": 78426208, "body": "I cannot post the code sorry... I&#39;m just wondering if there might be a problem with the library. The chmod to the library with the Hebrew name works. When I try using the sftp object it fails... I think the sftp might save the path when I&#39;m using chmod and when trying to actually write to the path it fails because it savef the path in a different format or as a unicode which make Hebrew invalid..."}], "tags": [], "owner": {"reputation": 189, "user_id": 8474231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ac4861bf9edb3f2007f2f672f5c15c?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Yang", "link": "https://stackoverflow.com/users/8474231/jack-yang"}, "is_accepted": true, "score": 1, "last_activity_date": 1502942627, "creation_date": 1502942627, "answer_id": 45726406, "question_id": 45723246, "link": "https://stackoverflow.com/questions/45723246/unknown-type-error-trying-to-use-the-file-method-on-sftp-client-from-paramiko-in/45726406#45726406", "title": "Unknown type error trying to use the file method on sftp client from Paramiko in Python", "body": "<p>Judging from the error message \"Unknown type\", this error is not caused by initialization of the file object in your sftp session, but rather something afterwards has caused the error. It'll be clear if you can post the source code.</p>\n"}], "owner": {"reputation": 3, "user_id": 8149591, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210609488930951/picture?type=large", "display_name": "Shahaf Shavit", "link": "https://stackoverflow.com/users/8149591/shahaf-shavit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 45726406, "answer_count": 1, "score": 0, "last_activity_date": 1502942627, "creation_date": 1502918714, "question_id": 45723246, "link": "https://stackoverflow.com/questions/45723246/unknown-type-error-trying-to-use-the-file-method-on-sftp-client-from-paramiko-in", "title": "Unknown type error trying to use the file method on sftp client from Paramiko in Python", "body": "<p>I'm using paramiko in Python in order to write files to linux servers. I seem to have errors when writing to a path which includes folders with Hebrew names. \nAfter initializing a ssh_client and sftp client on that session, i'm using chmod to get to the folder I want to write to. \nThen,\nI'm using the sftp.file method to get a file object to write some content to.\nIt works when I have paths in English.\nWhen I have a path that contains Hebrew the method fails.. \nIt fails at the point I'm initializing the file in the sftp session. </p>\n\n<p>The error is\nUnknown type for u'/root/\\u05e9/filename.json' type</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["python", "tensorflow", "distributed-computing", "tensorflow-gpu"], "comments": [{"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1503002332, "post_id": 45723213, "comment_id": 78446503, "body": "Would you mind to update your post with a quantitative statement, what is expected to be { ultra-low, adequate-enough, too large }-latency and what is expected to be { fast, adequately-enough, too slow }-processing for an explicitly given matrix-sizes 1E+{3,6,9} x 1E+{3,6,9}? That is fair and scientifically rigorous to state, isn&#39;t it?"}, {"owner": {"reputation": 31, "user_id": 8474768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f84c1bc2f39fb6897e12f1a19a6ca12?s=128&d=identicon&r=PG&f=1", "display_name": "conflux", "link": "https://stackoverflow.com/users/8474768/conflux"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1503039578, "post_id": 45723213, "comment_id": 78457964, "body": "I believe that I solved it by changing from windows machines to ubuntu machines. Here are the numbers - on windows machines, when L=1000 it took around 15 seconds, where on the Linux it take less than 1 second. sny idea why it&#39;s not working well with windows??"}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1504564056, "post_id": 45723213, "comment_id": 79049376, "body": "@conflux: the first call can be slow because of once-per-process initializations, can you rule that out? You can also insert tf.Print nodes to get individual timestamps and see where at which stage the slowness happens. The official version being 15x slower on windows machine sounds like a bug"}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1504568913, "post_id": 45723213, "comment_id": 79050367, "body": "Also, this slowness could be explained by <a href=\"https://github.com/tensorflow/tensorflow/issues/6116\" rel=\"nofollow noreferrer\">this communication bottleneck</a> which was supposed to have been fixed recently. You could run the toy benchmarks in the thread referenced to see if the Windows build doesn&#39;t have the fix"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": false, "score": -1, "last_activity_date": 1504610903, "last_edit_date": 1504610903, "creation_date": 1503053754, "answer_id": 45754989, "question_id": 45723213, "link": "https://stackoverflow.com/questions/45723213/why-a-distributed-tensorflow-toy-example-takes-too-long/45754989#45754989", "title": "Why a distributed TensorFlow toy-example takes too long?", "body": "<h2>Distributed computing is our new Universe, or a set of parallel ones</h2>\n\n<p>A first step into this domain is always challenging. Lost certainties, that were taken as granted in monolythic computing previous experience, many new challenges, that had no similar issues in single-node process coordinations, many new surprises from new orders of magnitude of distributed execution timing- and distributed ( coordination, if not dead-lock and/or live-lock ) blocking-issues.</p>\n\n<p>Thanks for added some quantitative facts ~ 15 seconds being \"too-long\" for <code>A[1000,1000];B[1000,1000];n=5</code> -- so far so good.</p>\n\n<hr>\n\n<p><strong>Would you mind to add the above proposed code-changes and re-run the experiment on the same real-infrastructure?</strong></p>\n\n<p>This will help the rest of this started work ( <em>W.I.P. here</em> ).</p>\n\n<blockquote>\n  <p><em>-- THANKS IN ADVANCE to run + post updated facts.</em></p>\n</blockquote>\n\n<hr>\n\n<p>It is hard to continue ATM with quantitatively supported statements, however, my gut feeling suspect is in this one:</p>\n\n<pre><code> def matpow( M, n ):\n     return  M if ( n &lt; 1 ) else tf.matmul( M, matpow( M, n - 1 ) )\n</code></pre>\n\n<p>It uses a recursion, that may go too deep for GPU-cross-compiler/assembler analysers and given scales of tensors, the GPU SMX that are \"fast\" for mathematically dense-kernel microcode, the SMX-local SM_registers ( having latencies of about a <strong>22 <code>GPU_CLK</code>s</strong> ( well, may just 8, if smart-optimised to get fetched from well LRU-aligned SM_L1-cache-line ) will have to spill-over to global_MEMORY ( as each SM has a chance to store way less than a 1 KB in repetitive memory-access latency-most-friendly SM_Registers, but matmul() does never re-use any cell of a matrix so latency-hiding will never pay less than each global_MEMORY access + the <code>[PSPACE]</code> scales .. ), where suddenly experience about a <strong>600+</strong> <code>GPU_CLK</code>s latency penalties.</p>\n\n<p><a href=\"https://youtu.be/JzNpKDW07rw\" rel=\"nofollow noreferrer\">While this <strong>narrated animation of HPC <code>matmul()</code></strong></a> mentions typical CPU / Lx-cache / Memory hierarchy, the message why any <strong><code>O(N^3)</code></strong> processing must get incredibly slow on GPU-s for <strong><code>N</code></strong> going larger than could fit onto SM_registers is yet easily visible ( and as you see it, imagine all your cache-friendliness lost in recursion <code>matpow()</code> ).</p>\n\n<p>GPU-kernels get best results for small-scale still-SM-local-convolutions ( where right this SMX-locality allows for good [Data:SMX-local SM_REG] alignment ( and zero cross-SMX-communication need to take place ( which is not the case in matmul() processing anywhere larger than just ~ 7 x 7 matrices, that could fit on SM_REG-silicon and anything above this has to start super-smart stencil-aligned gymnastics, if striving pay the minimum necessary sum of just-GPU-local memIO-latencies ( an the story goes forwards, if poor host2dev / dev2host IO-takes place, and many more places, where the execution-performance is uncontrollably poor ) ).</p>\n\n<p>The latency costs even for a single <code>matmul( A, A )</code> are suddenly hell-loooong, of compared to typical image-specialised kernels.  ( Sure, there are advanced techniques, how to by-pass this specialised-silicon limits, but even if <code>matmul()</code> would have been a master of top tier HPC-block-matrix-ops, it will be lest as a <code>naive-matmul()</code> once recursive calls get on the stage -- that will kill even the smarted tricks, as there is no <strong><code>[SPACE]</code></strong> for the \"stack\"-intermediate-values, for which the auto-generated-kernel-code will pay in immense <code>[TIME]</code> penalties .. even for such small scales, like 1000x1000 ).</p>\n\n<pre><code>   Category                     GPU\n   |                            Hardware\n   |                            Unit\n   |                            |            Throughput\n   |                            |            |               Execution\n   |                            |            |               Latency\n   |                            |            |               |                  PTX instructions                                                      Note \n   |____________________________|____________|_______________|__________________|_____________________________________________________________________|________________________________________________________________________________________________________________________\n   Load_shared                  LSU          2               +  30              ld, ldu                                                               Note, .ss = .shared ; .vec and .type determine the size of load. Note also that we omit .cop since no cacheable in Ocelot\n   Load_global                  LSU          2               + 600              ld, ldu, prefetch, prefetchu                                          Note, .ss = .global; .vec and .type determine the size of load. Note, Ocelot may not generate prefetch since no caches\n   Load_local                   LSU          2               + 600              ld, ldu, prefetch, prefetchu                                          Note, .ss = .local; .vec and .type determine the size of load. Note, Ocelot may not generate prefetch since no caches\n   Load_const                   LSU          2               + 600              ld, ldu                                                               Note, .ss = .const; .vec and .type determine the size of load\n   Load_param                   LSU          2               +  30              ld, ldu                                                               Note, .ss = .param; .vec and .type determine the size of load\n   |                            |                              \n   Store_shared                 LSU          2               +  30              st                                                                    Note, .ss = .shared; .vec and .type determine the size of store\n   Store_global                 LSU          2               + 600              st                                                                    Note, .ss = .global; .vec and .type determine the size of store\n   Store_local                  LSU          2               + 600              st                                                                    Note, .ss = .local; .vec and .type determine the size of store\n   Read_modify_write_shared     LSU          2               + 600              atom, red                                                             Note, .space = shared; .type determine the size\n   Read_modify_write_global     LSU          2               + 600              atom, red                                                             Note, .space = global; .type determine the size\n   |                            |                              \n   Texture                      LSU          2               + 600              tex, txq, suld, sust, sured, suq\n   |                            |                              \n   Integer                      ALU          2               +  24              add, sub, add.cc, addc, sub.cc, subc, mul, mad, mul24, mad24, sad, div, rem, abs, neg, min, max, popc, clz, bfind, brev, bfe, bfi, prmt, mov\n   |                            |                                                                                                                     Note, these integer inst. with type = { .u16, .u32, .u64, .s16, .s32, .s64 };\n   |                            |                              \n   Float_single                 ALU          2               +  24              testp, copysign, add, sub, mul, fma, mad, div, abs, neg, min, max     Note, these Float-single inst. with type = { .f32 };\n   Float_double                 ALU          1               +  48              testp, copysign, add, sub, mul, fma, mad, div, abs, neg, min, max     Note, these Float-double inst. with type = { .f64 };\n   Special_single               SFU          8               +  48              rcp, sqrt, rsqrt, sin, cos, lg2, ex2                                  Note, these special-single with type = { .f32 };\n   Special_double               SFU          8               +  72              rcp, sqrt, rsqrt, sin, cos, lg2, ex2                                  Note, these special-double with type = { .f64 };\n   |                                                           \n   Logical                      ALU          2               +  24              and, or, xor, not, cnot, shl, shr\n   Control                      ALU          2               +  24              bra, call, ret, exit\n   |                                                           \n   Synchronization              ALU          2               +  24              bar, member, vote\n   Compare &amp; Select             ALU          2               +  24              set, setp, selp, slct\n   |                                                           \n   Conversion                   ALU          2               +  24              Isspacep, cvta, cvt\n   Miscellanies                 ALU          2               +  24              brkpt, pmevent, trap\n   Video                        ALU          2               +  24              vadd, vsub, vabsdiff, vmin, vmax, vshl, vshr, vmad, vset\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8474768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f84c1bc2f39fb6897e12f1a19a6ca12?s=128&d=identicon&r=PG&f=1", "display_name": "conflux", "link": "https://stackoverflow.com/users/8474768/conflux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1504610903, "creation_date": 1502918539, "last_edit_date": 1504560148, "question_id": 45723213, "link": "https://stackoverflow.com/questions/45723213/why-a-distributed-tensorflow-toy-example-takes-too-long", "title": "Why a distributed TensorFlow toy-example takes too long?", "body": "<p>I tried running to run a toy example for some matrix multiplication and addition using distributed TensorFlow.  </p>\n\n<p>My goal was to compute <strong><code>(A^n + B^n)</code></strong> where <strong><code>A[,]</code></strong> and <strong><code>B[,]</code></strong> are <strong><code>LxL</code></strong> matrices.  </p>\n\n<p>I used 2 machines on the public cloud to compute <code>A^n</code> on one machine and <code>B^n</code> on the second machine, than the addition again on the first machine.</p>\n\n<p>When the machines had CPU only - my script worked great.<br>\nWhen both had GPU - It failed to run in a reasonable time! It had a huge latency...</p>\n\n<p><strong>My question</strong> - what did I do wrong in my script?</p>\n\n<p>Note that for machine2 (<code>task:1</code>) I used <code>server.join()</code> and I used machine 1 (<code>task:0</code>) as the client in this with-in graph.  </p>\n\n<pre><code>#------------------------------------------------------------------\nfrom zmq import Stopwatch; aClk_E2E = Stopwatch(); aClk_E2E.start()\n#------------------------------------------------------------------\nfrom __future__ import print_function\nimport numpy as np\nimport tensorflow as tf\nimport datetime\n\nIP_1 = '10.132.0.2';     port_1 = '2222'\nIP_2 = '10.132.0.3';     port_2 = '2222'\n\ncluster = tf.train.ClusterSpec( { \"local\": [ IP_1 + \":\" + port_1,\n                                             IP_2 + \":\" + port_2\n                                             ],\n                                   }\n                                )\nserver = tf.train.Server( cluster,\n                          job_name   = \"local\",\n                          task_index = 0\n                          )\n# server.join() # @machine2 ( task:1 )\n\nn =    5\nL = 1000  \n\ndef matpow( M, n ):\n    if n &lt; 1:                 # Abstract cases where n &lt; 1\n        return M\n    else:\n        return tf.matmul( M, matpow( M, n - 1 ) )\n\nG = tf.Graph()\n\nwith G.as_default():\n     with tf.device( \"/job:local/task:1/cpu:0\" ):\n          c1 = []\n          tB = tf.placeholder( tf.float32, [L, L] )     # tensor B placeholder\n          with tf.device( \"/job:local/task:1/gpu:0\" ):\n               c1.append( matpow( tB, n ) )\n\n     with tf.device( \"/job:local/task:0/cpu:0\" ):\n          c2 = []\n          tA = tf.placeholder( tf.float32, [L, L] )     # tensor A placeholder\n          with tf.device( \"/job:local/task:0/gpu:0\" ):\n               c2.append( matpow( tA, n ) )\n          sum2 = tf.add_n( c1 + c2 )\n#---------------------------------------------------------&lt;SECTION-UNDER-TEST&gt;\nt1_2 = datetime.datetime.now()\nwith tf.Session( \"grpc://\" + IP_1 + \":\" + port_1, graph = G ) as sess:\n     A = np.random.rand( L, L ).astype( 'float32' )\n     B = np.random.rand( L, L ).astype( 'float32' )\n     sess.run( sum2, { tA: A, tB: B, } )\nt2_2 = datetime.datetime.now()\n#---------------------------------------------------------&lt;SECTION-UNDER-TEST&gt;\n\n#------------------------------------------------------------------\n_ = aClk_E2E.stop()\n#------------------------------------------------------------------\nprint( \"Distributed Computation time: \" + str(t2_2 - t1_2))\nprint( \"Distributed Experiment  took: {0: &gt; 16d} [us] End-2-End.\".format( _ ) )\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "3d", "mayavi"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502920843, "post_id": 45723119, "comment_id": 78405161, "body": "Maybe you want to mention where the problem lies. I think with a little bit of searching you&#39;ll find how to plot a sphere. Then, plotting more spheres shouldn&#39;t be a problem either, nor would placing them at certain positions be one. The more you go into detail about the actual problem, the higher the chances of getting help. Else, one might understand this question as &quot;please do the work for me&quot;, which many people are allergic to."}, {"owner": {"reputation": 187, "user_id": 5492689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2cXk.jpg?s=128&g=1", "display_name": "Toby Hawkins", "link": "https://stackoverflow.com/users/5492689/toby-hawkins"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502924773, "post_id": 45723119, "comment_id": 78406316, "body": "That was not my intention. I didn&#39;t think posting failed attempts would be useful for a problem that &#39;seemed&#39; like it wouldn&#39;t take long at all for someone who knew what they were doing - but noted for the future. Sadly, as ml4294&#39;s answer highlights, it appears this question is unsolvable in matplotlib."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 5492689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2cXk.jpg?s=128&g=1", "display_name": "Toby Hawkins", "link": "https://stackoverflow.com/users/5492689/toby-hawkins"}, "edited": false, "score": 0, "creation_date": 1502923934, "post_id": 45723821, "comment_id": 78406103, "body": "That is rather frustrating, but thanks a lot! It would seem based on this <a href=\"https://stackoverflow.com/questions/23188561/matplotlib-3d-plot-zorder-issue\" title=\"matplotlib 3d plot zorder issue\">stackoverflow.com/questions/23188561/&hellip;</a> that this is an unsolvable problem in matplotlib. I&#39;m going to try the suggestion there and play around with other packages. I&#39;ll leave this question open for a bit in the hopes someone will come up with a fully-working solution, else I&#39;ll mark yours."}, {"owner": {"reputation": 2423, "user_id": 7847518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810a2ebb0950dbfd7c10c37b363cab43?s=128&d=identicon&r=PG&f=1", "display_name": "ml4294", "link": "https://stackoverflow.com/users/7847518/ml4294"}, "reply_to_user": {"reputation": 187, "user_id": 5492689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2cXk.jpg?s=128&g=1", "display_name": "Toby Hawkins", "link": "https://stackoverflow.com/users/5492689/toby-hawkins"}, "edited": false, "score": 1, "creation_date": 1502954210, "post_id": 45723821, "comment_id": 78415162, "body": "I think you will not be able to solve this with matplotlib, so probably the solution of @ImportanceOfBeingErnest is the way to go here."}], "tags": [], "owner": {"reputation": 2423, "user_id": 7847518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810a2ebb0950dbfd7c10c37b363cab43?s=128&d=identicon&r=PG&f=1", "display_name": "ml4294", "link": "https://stackoverflow.com/users/7847518/ml4294"}, "is_accepted": false, "score": 2, "last_activity_date": 1502921705, "creation_date": 1502921705, "answer_id": 45723821, "question_id": 45723119, "link": "https://stackoverflow.com/questions/45723119/python-plotting-evenly-spaced-spheres-in-matplotlib/45723821#45723821", "title": "Python: Plotting Evenly Spaced Spheres in Matplotlib", "body": "<p>You need to determine the minima of the function, which are (with your parametrization) at (x = integer + 0.25, y=integer + 0.75) or the other way round. Then you can simply parametrize the spheres using spherical coordinates (for example as done here: <a href=\"https://stackoverflow.com/questions/32424670/python-matplotlib-drawing-3d-sphere-with-circumferences\">python matplotlib: drawing 3D sphere with circumferences</a>) and plot the spheres. </p>\n\n<p>Now comes some good news and some bad news: </p>\n\n<p>1.) The good news is that the minima are correctly determined and that the spheres are created. In the below plot you can see that they are right above the blue parts of the surface plot (where the blue parts show indeed the minima).</p>\n\n<p>2.) The bad news is that you will have a hard time looking for another angle where the spheres are actually correctly rendered. I do not know a solution to this rather annoying behaviour, therefore you will probably have to play around until you have found the right angle. Have fun! </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\ndef func(x, y):\n  return np.sin(2*np.pi*x)*np.sin(2*np.pi*y) / 3\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nx = y = np.arange(-2.0, 2.0, 0.05)\n\n# Get the minima of the function.\nminsx1 = np.arange(int(np.amin(x)) + 0.25, int(np.amax(x)) + 0.25 + 1, 1)\nminsy1 = np.arange(int(np.amin(y)) + 0.75, int(np.amax(y)) + 0.75 + 1, 1)\nminsx2 = np.arange(int(np.amin(x)) + 0.75, int(np.amax(x)) + 0.75 + 1, 1)\nminsy2 = np.arange(int(np.amin(y)) + 0.25, int(np.amax(y)) + 0.25 + 1, 1)\n\nX, Y = np.meshgrid(x, y)\nzs = np.array([func(x,y) for x,y in zip(np.ravel(X), np.ravel(Y))])\nZ = zs.reshape(X.shape)\n\n# Color map for better detection of minima (blue)\nax.plot_surface(X, Y, Z, cmap=\"viridis\")\nax.set_zlim3d(-1,1)\n\n# Spherical coordinates\nr = 0.15\nphi = np.linspace(0, 2 * np.pi, 30)\ntheta = np.linspace(0, np.pi, 30)\n\n# Write spherical coordinates in cartesian coordinates.\nx = r * np.outer(np.cos(phi), np.sin(theta))\ny = r * np.outer(np.sin(phi), np.sin(theta))\nz = r * np.outer(np.ones(np.size(phi)), np.cos(theta))\n\n# Plot the spheres.\nfor xp in minsx1:\n    for yp in minsy1:\n        sphere = ax.plot_surface(x+xp, y+yp, z+0.35, color='r')\nfor xp in minsx2:\n    for yp in minsy2:\n        sphere = ax.plot_surface(x+xp, y+yp, z+0.35, color='r')\nax.view_init(elev=90, azim=0)\nplt.savefig('test.png')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gtui3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gtui3.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 5492689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2cXk.jpg?s=128&g=1", "display_name": "Toby Hawkins", "link": "https://stackoverflow.com/users/5492689/toby-hawkins"}, "edited": false, "score": 0, "creation_date": 1502932331, "post_id": 45724833, "comment_id": 78407960, "body": "Thanks for this! I&#39;m unfamiliar with mayavi so I&#39;ll have to look into it given what I know now about matplotlib&#39;s limitations (I normally only need to make 2D plots). For anyone else reading this and also unfamiliar with mayavi; I found it&#39;s currently only compatible with Python &lt;3.6 and qt4, so to use this solution an appropriate environment must first be set up. See: <a href=\"https://www.scivision.co/mayavi-qt5-create-conda-env-qt4/\" rel=\"nofollow noreferrer\">scivision.co/mayavi-qt5-create-conda-env-qt4</a>"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1502929409, "creation_date": 1502929409, "answer_id": 45724833, "question_id": 45723119, "link": "https://stackoverflow.com/questions/45723119/python-plotting-evenly-spaced-spheres-in-matplotlib/45724833#45724833", "title": "Python: Plotting Evenly Spaced Spheres in Matplotlib", "body": "<p>Using matplotlib one will inevitably run into problems of objects being hidden behind others. This is also stated in the <a href=\"https://matplotlib.org/mpl_toolkits/mplot3d/faq.html\" rel=\"nofollow noreferrer\">matplotlib 3d FAQ</a> and the recommendation is to use <a href=\"http://docs.enthought.com/mayavi/mayavi/index.html\" rel=\"nofollow noreferrer\">mayavi</a>. </p>\n\n<p>In mayavi the solution would look like this:</p>\n\n<pre><code>from mayavi import mlab\nimport numpy as np\n\n### SURFACE '''\nx,y = np.meshgrid(np.linspace(-2.5,2), np.linspace(-2,2))\nf = lambda x,y: .4*np.sin(2*np.pi*x)*np.sin(2*np.pi*y)\nz=f(x,y)\nmlab.surf(x.T,y.T,z.T, colormap=\"copper\")\n\n### SPHERES '''\npx,py = np.meshgrid(np.arange(-2,2)+.25, np.arange(-2,2)+.75)\npx,py = px.flatten(),py.flatten()\npz = np.ones_like(px)*0.05\nr = np.ones_like(px)*.4\nmlab.points3d(px,py,pz,r, color=(0.9,0.05,.3), scale_factor=1)\n\n\nmlab.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ue3SQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ue3SQ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 187, "user_id": 5492689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I2cXk.jpg?s=128&g=1", "display_name": "Toby Hawkins", "link": "https://stackoverflow.com/users/5492689/toby-hawkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 45724833, "answer_count": 2, "score": 1, "last_activity_date": 1502954453, "creation_date": 1502918145, "last_edit_date": 1502954453, "question_id": 45723119, "link": "https://stackoverflow.com/questions/45723119/python-plotting-evenly-spaced-spheres-in-matplotlib", "title": "Python: Plotting Evenly Spaced Spheres in Matplotlib", "body": "<p>I'm trying to create a plot a bit like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oxjbx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oxjbx.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Where there are spheres above all the minima.</p>\n\n<p>The surface can be approximated with a sin(x)*sin(y) plot:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndef func(x, y):\n  return np.sin(2*np.pi*x)*np.sin(2*np.pi*y) / 3\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nx = y = np.arange(-1.0, 1.0, 0.05)\nX, Y = np.meshgrid(x, y)\nzs = np.array([func(x,y) for x,y in zip(np.ravel(X), np.ravel(Y))])\nZ = zs.reshape(X.shape)\n\nax.plot_surface(X, Y, Z, color=\"grey\")\nax.set_zlim3d(-1,1)\n\nplt.show()\n</code></pre>\n\n<p>However I'm unsure how to add evenly spaced spheres into this. Would anyone be able to help?</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 1474327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2Uja.gif?s=128&g=1", "display_name": "mydaemon", "link": "https://stackoverflow.com/users/1474327/mydaemon"}, "edited": false, "score": 3, "creation_date": 1546984282, "post_id": 45723208, "comment_id": 95033323, "body": "This answer was done long time ago, but for <i>future</i> reference, just make clear that the .count() after the query will actually perform a new query. It&#39;s well documented here:  <a href=\"https://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.count\" rel=\"nofollow noreferrer\">docs.sqlalchemy.org/en/latest/orm/&hellip;</a>."}], "tags": [], "owner": {"reputation": 381, "user_id": 1355805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J42hN.jpg?s=128&g=1", "display_name": "Jugurtha Hadjar", "link": "https://stackoverflow.com/users/1355805/jugurtha-hadjar"}, "is_accepted": true, "score": 13, "last_activity_date": 1502918527, "creation_date": 1502918527, "answer_id": 45723208, "question_id": 45723102, "link": "https://stackoverflow.com/questions/45723102/how-to-get-length-of-query-result-sqlalchemy/45723208#45723208", "title": "How to get length of query result SqlAlchemy", "body": "<pre><code>query = DBsession.query(AssetsItem).filter_by(\nAssetsItem.id &gt; 10,\nAssetsItem.country = 'England'\n)\nyour_count = query.count()\n</code></pre>\n\n<p><a href=\"http://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.count\" rel=\"noreferrer\">Documentation</a></p>\n"}], "owner": {"reputation": 1732, "user_id": 8040117, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/EF9TR.jpg?s=128&g=1", "display_name": "Vladyslav", "link": "https://stackoverflow.com/users/8040117/vladyslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11222, "favorite_count": 1, "accepted_answer_id": 45723208, "answer_count": 1, "score": 8, "last_activity_date": 1502918527, "creation_date": 1502918069, "question_id": 45723102, "link": "https://stackoverflow.com/questions/45723102/how-to-get-length-of-query-result-sqlalchemy", "title": "How to get length of query result SqlAlchemy", "body": "<p>I have simple query using SqlAlchemy ORM:</p>\n\n<pre><code>query = DBsession.query(AssetsItem).filter_by(\n    AssetsItem.id &gt; 10,\n    AssetsItem.country = 'England'\n)\n</code></pre>\n\n<p>How can i get length of my query result. I want to know how much AssetsItem i would get by this query</p>\n"}, {"tags": ["python", "filter", "scipy", "gaussian", "gaussianblur"], "comments": [{"owner": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1502949157, "post_id": 45723088, "comment_id": 78412360, "body": "So you know how to filter but the problem is that the values change? Can&#39;t you just write the original values back into the new array?"}, {"owner": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "reply_to_user": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1502984429, "post_id": 45723088, "comment_id": 78436666, "body": "@kazemakase I want a 3d gaussian kernel which has a value of 1 at its peak"}], "answers": [{"comments": [{"owner": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "edited": false, "score": 0, "creation_date": 1502924044, "post_id": 45723421, "comment_id": 78406127, "body": "Thank you! That&#39;s a step in the right direction, but I&#39;m still stuck. Any idea how to programmatically make a 3D, non-linear kernel?"}, {"owner": {"reputation": 3626, "user_id": 7932936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88294cbc3a02c75cfbb906658ad85e15?s=128&d=identicon&r=PG", "display_name": "user8153", "link": "https://stackoverflow.com/users/7932936/user8153"}, "reply_to_user": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "edited": false, "score": 1, "creation_date": 1502930083, "post_id": 45723421, "comment_id": 78407469, "body": "The second example in the <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.fftconvolve.html#scipy.signal.fftconvolve\" rel=\"nofollow noreferrer\">fftconvolve</a> documentation shows how to build a two-dimensional Gaussian kernel. Alternatively, you can also stick to <code>gaussian_filter</code>, but multiply the output by <code>np.sqrt(2*np.pi * sigma**2)**3</code>. This should preserve the data values pretty well unless <code>sigma</code> is large and/or <code>truncate</code> is small."}, {"owner": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "edited": false, "score": 0, "creation_date": 1502983075, "post_id": 45723421, "comment_id": 78435708, "body": "I see the example, thanks, but I don&#39;t know how to go from 2D to 3D, either. The example says <code>np.outer(signal.gaussian(70, 8), signal.gaussian(70, 8))</code>. So what do I do with that?"}], "tags": [], "owner": {"reputation": 3626, "user_id": 7932936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88294cbc3a02c75cfbb906658ad85e15?s=128&d=identicon&r=PG", "display_name": "user8153", "link": "https://stackoverflow.com/users/7932936/user8153"}, "is_accepted": true, "score": 2, "last_activity_date": 1502994076, "last_edit_date": 1502994076, "creation_date": 1502919584, "answer_id": 45723421, "question_id": 45723088, "link": "https://stackoverflow.com/questions/45723088/how-to-blur-3d-array-of-points-while-maintaining-their-original-values-python/45723421#45723421", "title": "How to blur 3D array of points, while maintaining their original values? (Python)", "body": "<p>You can do this using a convolution with a kernel that has 1 as its central value, and a width smaller than the spacing between your data points. </p>\n\n<p>1-d example:</p>\n\n<pre><code>import numpy as np\nimport scipy.signal\ndata = np.array([0,0,0,0,0,5,0,0,0,0,0])\nkernel = np.array([0.5,1,0.5])\nscipy.signal.convolve(data, kernel, mode=\"same\")\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>array([ 0. ,  0. ,  0. ,  0. ,  2.5,  5. ,  2.5,  0. ,  0. ,  0. ,  0. ])\n</code></pre>\n\n<p>Note that <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.fftconvolve.html#scipy.signal.fftconvolve\" rel=\"nofollow noreferrer\">fftconvolve</a> might be much faster for large arrays. You also have to specify what should happen at the boundaries of your array.</p>\n\n<p><strong>Update:</strong> 3-d example</p>\n\n<pre><code>import numpy as np\nfrom scipy import signal\n\n# first build the smoothing kernel\nsigma = 1.0     # width of kernel\nx = np.arange(-3,4,1)   # coordinate arrays -- make sure they contain 0!\ny = np.arange(-3,4,1)\nz = np.arange(-3,4,1)\nxx, yy, zz = np.meshgrid(x,y,z)\nkernel = np.exp(-(xx**2 + yy**2 + zz**2)/(2*sigma**2))\n\n# apply to sample data\ndata = np.zeros((11,11,11))\ndata[5,5,5] = 5.\nfiltered = signal.convolve(data, kernel, mode=\"same\")\n\n# check output\nprint filtered[:,5,5]\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>[ 0.          0.          0.05554498  0.67667642  3.0326533   5.          3.0326533\n  0.67667642  0.05554498  0.          0.        ]\n</code></pre>\n"}], "owner": {"reputation": 5244, "user_id": 794243, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/2WFoU.jpg?s=128&g=1", "display_name": "Kalina", "link": "https://stackoverflow.com/users/794243/kalina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4380, "favorite_count": 0, "accepted_answer_id": 45723421, "answer_count": 1, "score": 0, "last_activity_date": 1502994076, "creation_date": 1502918014, "question_id": 45723088, "link": "https://stackoverflow.com/questions/45723088/how-to-blur-3d-array-of-points-while-maintaining-their-original-values-python", "title": "How to blur 3D array of points, while maintaining their original values? (Python)", "body": "<p>I have a sparse 3D array of values. I am trying to turn each \"point\" into a fuzzy \"sphere\", by applying a Gaussian filter to the array. </p>\n\n<p>I would like the original value at the point (x,y,z) to remain the same. I just want to create falloff values around this point... But applying the Gaussian filter changes the original (x,y,z) value as well.</p>\n\n<p>I am currently doing this:</p>\n\n<p><code>dataCube = scipy.ndimage.filters.gaussian_filter(dataCube, 3, truncate=8)</code></p>\n\n<p>Is there a way for me to normalize this, or do something so that my original values are still in this new dataCube? I am not necessarily tied to using a Gaussian filter, if that is not the best approach.</p>\n"}, {"tags": ["python", "graph", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 2702, "user_id": 6048114, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/49deba6cd564f59f9137004589340d85?s=128&d=identicon&r=PG&f=1", "display_name": "Dadep", "link": "https://stackoverflow.com/users/6048114/dadep"}, "is_accepted": true, "score": 0, "last_activity_date": 1502977764, "creation_date": 1502977764, "answer_id": 45736953, "question_id": 45723071, "link": "https://stackoverflow.com/questions/45723071/two-different-edge-color-map-on-the-same-graph/45736953#45736953", "title": "two different edge color map on the same graph?", "body": "<p>I found solution thanks to <code>nx.draw_networkx_edges</code> :</p>\n\n<pre><code>#one group with one color map :\nedges = tuple(list_edgesG1)\nweights = tuple([G[e][f]['weight'] for e,f in edges]) \nnx.draw_networkx_edges(G, pos, edgelist=edges, edge_color=weights, width=3.0, edge_cmap=plt.cm.Reds)\n\n#the other group with different color map :\nedges2 = tuple(list_edgesG2)\nweights2 = tuple([G[e][f]['weight'] for e,f in edges2])\nnx.draw_networkx_edges(G , pos, edgelist=edges2, edge_color=weights2, width=3.0, edge_cmap=plt.cm.Blues)\n</code></pre>\n"}], "owner": {"reputation": 2702, "user_id": 6048114, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/49deba6cd564f59f9137004589340d85?s=128&d=identicon&r=PG&f=1", "display_name": "Dadep", "link": "https://stackoverflow.com/users/6048114/dadep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 45736953, "answer_count": 1, "score": 0, "last_activity_date": 1502977764, "creation_date": 1502917882, "question_id": 45723071, "link": "https://stackoverflow.com/questions/45723071/two-different-edge-color-map-on-the-same-graph", "title": "two different edge color map on the same graph?", "body": "<p>I have done the following code to plot colors of nodes and edges color map from files :</p>\n\n<pre><code>## NODES COLORS##\nActive={}\nwith open('NWWE/node'+str('{:03d}'.format(i))+'.txt', 'r') as f:\n    for j in f: \n        a,b=j.split(',')\n        Active[a]=b[0] \nfor node in G.nodes():\n        G.node[node]['category'] = Active[node]\ncolor_map = {'0':'b', '1':'r'}\n\n##EDGES COLOR MAP##\nwith open('NWWE/edges'+str('{:03d}'.format(i))+'.txt', 'r') as f:\n    for k in f: \n        a,b,c=k.split(',')\n        G[a][b]['weight']=float(c)\n\nedges,weights = zip(*nx.get_edge_attributes(G,'weight').items())\n\n##DRAW GRAPH##\nnx.draw(G, pos, edgelist=edges, edge_color=weights, width=5.0, edge_cmap=plt.cm.Blues, node_color=[color_map[G.node[node]['category']] for node in G])\n</code></pre>\n\n<p>But I have two kind of possible connection between nodes, with for each kind different possible weights, so I would like to plot my graph using two different color maps for edges. Is there any issue ?</p>\n\n<p>Thanks a lot !</p>\n"}, {"tags": ["python", "csv", "merge", "dataset"], "comments": [{"owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "edited": false, "score": 0, "creation_date": 1502918116, "post_id": 45723063, "comment_id": 78404083, "body": "Could you reformat your code so that the indentation is clear? You have an option to format it as code in the editor."}, {"owner": {"reputation": 13, "user_id": 7196433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59877d4279940ff865c630eb5b62b5df?s=128&d=identicon&r=PG&f=1", "display_name": "Micheal Ziegler", "link": "https://stackoverflow.com/users/7196433/micheal-ziegler"}, "reply_to_user": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "edited": false, "score": 0, "creation_date": 1502918335, "post_id": 45723063, "comment_id": 78404174, "body": "I have done as you asked. Thank you, and sorry."}, {"owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "edited": false, "score": 0, "creation_date": 1502918742, "post_id": 45723063, "comment_id": 78404328, "body": "No problem. Do you have the input csv? I am not able to reproduce the defect."}, {"owner": {"reputation": 13, "user_id": 7196433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59877d4279940ff865c630eb5b62b5df?s=128&d=identicon&r=PG&f=1", "display_name": "Micheal Ziegler", "link": "https://stackoverflow.com/users/7196433/micheal-ziegler"}, "reply_to_user": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "edited": false, "score": 0, "creation_date": 1502918973, "post_id": 45723063, "comment_id": 78404421, "body": "I do, but I can&#39;t share the data, since I do not personally own the data. I&#39;ve suspected that it was an issue with the dataframes themselves, and since you weren&#39;t able to reproduce the problem, my suspicion may be correct."}, {"owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "edited": false, "score": 0, "creation_date": 1502919037, "post_id": 45723063, "comment_id": 78404447, "body": "Are you checking if the line is ending with a newline character(\\n) before adding it to the file. This could be a problem. At the end of the file, the row may not contain a \\n."}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 5831744, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a84Af.jpg?s=128&g=1", "display_name": "Pravin Umamaheswaran", "link": "https://stackoverflow.com/users/5831744/pravin-umamaheswaran"}, "is_accepted": true, "score": 0, "last_activity_date": 1502919843, "creation_date": 1502919843, "answer_id": 45723491, "question_id": 45723063, "link": "https://stackoverflow.com/questions/45723063/csv-merging-issue-python/45723491#45723491", "title": "csv merging issue, python", "body": "<p>Looks like you are not checking if the lines end in new line character before writing it to the file. This could mess up the alignment. Could you try this?</p>\n\n<pre><code>import glob\nimport codecs\nimport csv\n\nmy_files = glob.glob(\"*.csv\")\n\nheader_saved = False\nwith codecs.open('output.csv','w', \"UTF-8\", 'ignore') as file_out:\n    for filename in my_files:\n        with codecs.open(filename, 'r', 'UTF-8', 'ignore') as file_in:\n            header = next(file_in)\n            if not header_saved:\n                file_out.write(header if \"\\n\" == header[-1] else header + \"\\n\")\n                header_saved = True\n            for line in file_in:\n                file_out.write(line if \"\\n\" == line[-1] else line + \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7196433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59877d4279940ff865c630eb5b62b5df?s=128&d=identicon&r=PG&f=1", "display_name": "Micheal Ziegler", "link": "https://stackoverflow.com/users/7196433/micheal-ziegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 45723491, "answer_count": 1, "score": 1, "last_activity_date": 1502919843, "creation_date": 1502917867, "last_edit_date": 1502918160, "question_id": 45723063, "link": "https://stackoverflow.com/questions/45723063/csv-merging-issue-python", "title": "csv merging issue, python", "body": "<p>Using the following code to merge CSV files, it will at times put the data in the wrong columns. Rather than being in Columns A-D it will put the data in columns F-J. From what I can tell is it's the first line of a new CSV that gets put in the wrong column, however, not every CSV file. </p>\n\n<pre><code>import glob\nimport codecs\nimport csv \n\nmy_files = glob.glob(\"*.csv\") \n\nheader_saved = False \nwith codecs.open('Final-US-Allies-Expects.csv','w', \"UTF-8\", 'ignore') as file_out: #save data to\n    for filename in my_files:\n        with codecs.open(filename, 'r', 'UTF-8', 'ignore') as file_in: \n            header = next(file_in) \n            if not header_saved: \n                file_out.write(header) #write header\n                header_saved = True\n            for line in file_in:\n                file_out.write(line) #write next line\n</code></pre>\n\n<p><strong>original code available at <a href=\"https://stackoverflow.com/questions/30335474/merging-multiple-csv-files-without-headers-being-repeated-using-python\">Merging multiple CSV files without headers being repeated (using Python)</a> (reputation not high enough to add to original question)</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/3wD3R.png\" rel=\"nofollow noreferrer\">Visual of issue</a></p>\n\n<p>I've attached a visual of the issue. I need to be able to have every line be written in in the column it is meant to be written into. </p>\n\n<p>Thanks for your help in advance. </p>\n"}, {"tags": ["python", "algorithm", "graph", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 8468145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93037f8271a7ae98fee7cad2debe0aa?s=128&d=identicon&r=PG&f=1", "display_name": "0liveradam8", "link": "https://stackoverflow.com/users/8468145/0liveradam8"}, "is_accepted": false, "score": 1, "last_activity_date": 1502918424, "creation_date": 1502918424, "answer_id": 45723183, "question_id": 45723052, "link": "https://stackoverflow.com/questions/45723052/python-networkx-algorithm-to-get-paths-with-condition-as-product-of-edge-weight/45723183#45723183", "title": "python networkx algorithm to get paths with condition as product of edge weight", "body": "<p>Use:</p>\n\n<pre><code>reduce(lambda x, y: x*y, list(YourGraph.edges_iter(data='weight', default=1)))\n</code></pre>\n\n<p>This will multiply all of the edge weights in the graph.</p>\n"}], "owner": {"reputation": 140, "user_id": 5870212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7baca36d607ac9942fca04bdfa419fa4?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram Gopalakrishnan", "link": "https://stackoverflow.com/users/5870212/sriram-gopalakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502918424, "creation_date": 1502917817, "question_id": 45723052, "link": "https://stackoverflow.com/questions/45723052/python-networkx-algorithm-to-get-paths-with-condition-as-product-of-edge-weight", "title": "python networkx algorithm to get paths with condition as product of edge weight", "body": "<p>I have a networkx directed graph with edge weights as probabilities. I want all the paths between two nodes such that the product of the edge weights is above a threshold. \nFor example A->B->C->D could be 0.9*0.9*0.1 = 0.081 and 0.081 > 0.5 so accept the path.\nAll the path algorithms have to do with summing the weights (shortest path). Is there a way to use product of edges as a condition ?</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502919306, "post_id": 45723198, "comment_id": 78404540, "body": "Thanks for explaining how to integrate idxmin.  I also corrected the rank value to min(), my confusion.  One additional question, is it simple to rename the idxmin output to the the original field name?  I am likely to have many columns that need to be set this way in the real world example."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502919710, "post_id": 45723198, "comment_id": 78404706, "body": "@Pylander Since the function is called on the rank column, the name will be associated with that. It is really a pain to rename multiindexes though. I&#39;d construct a flat columns list from scratch myself. Wen&#39;s approach might be more suitable may be?"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502923291, "post_id": 45723198, "comment_id": 78405904, "body": "Yes, I ended up seeing the limitations of this approach unfortunately.  Very clean format though which I like.  Wen&#39;s answer reformatted by kbball will work best in the end."}], "tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1502918476, "creation_date": 1502918476, "answer_id": 45723198, "question_id": 45723048, "link": "https://stackoverflow.com/questions/45723048/pandas-group-by-with-multiple-functions-applied/45723198#45723198", "title": "PANDAS Group By with Multiple Functions Applied", "body": "<p>For columns that have constant values, you have several options: first, last, etc. For the skill value that corresponds to the highest (or minimum in your example) rank value, you need to use idxmin. For idxmin to work, skill should be the index so as the first step set it as index.</p>\n\n<pre><code>df.set_index('skill').groupby('id').agg({'sex': 'first', \n                                         'age': 'min', \n                                         'rank': ['min', 'idxmin']})\nOut: \n     sex age rank       \n   first min  min idxmin\nid                      \n1      M   8    1      A\n2      F   6    3      M\n3      M   4    1      Q\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502923385, "post_id": 45723212, "comment_id": 78405926, "body": "This is definitely the best approach.  I find kbball&#39;s restructured version a little easier to follow."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502923630, "post_id": 45723212, "comment_id": 78406022, "body": "@Pylander glad it help ~ also , step by step always is good to follow , will take consider in my future post.,Thank you ~ Nice Day"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 4, "last_activity_date": 1502918538, "creation_date": 1502918538, "answer_id": 45723212, "question_id": 45723048, "link": "https://stackoverflow.com/questions/45723048/pandas-group-by-with-multiple-functions-applied/45723212#45723212", "title": "PANDAS Group By with Multiple Functions Applied", "body": "<p>In you expected out put , it is <code>min</code> of <code>rank</code> , but in your explanation you mentioned it is <code>max</code> </p>\n\n<p>My answer base on you expected output </p>\n\n<pre><code>df.groupby(['id','sex'],as_index=False).agg({'age':'min','rank':'min'}).\\\nmerge(df.drop('age',1),on=['id','sex','rank'],how='left')\n\nOut[931]: \n   id sex  age  rank skill\n0   1   M    8     1     A\n1   2   F    6     3     M\n2   3   M    4     1     Q\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1502923453, "post_id": 45723710, "comment_id": 78405958, "body": "I have to give the credit to Wen, but I am using your adapted solution in the end. Thanks!"}], "tags": [], "owner": {"reputation": 3728, "user_id": 2460780, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nFriP.png?s=128&g=1", "display_name": "kjmerf", "link": "https://stackoverflow.com/users/2460780/kjmerf"}, "is_accepted": false, "score": 1, "last_activity_date": 1502921037, "creation_date": 1502921037, "answer_id": 45723710, "question_id": 45723048, "link": "https://stackoverflow.com/questions/45723048/pandas-group-by-with-multiple-functions-applied/45723710#45723710", "title": "PANDAS Group By with Multiple Functions Applied", "body": "<p>+1 for Wen.</p>\n\n<p>Mine has a few more steps but it's the same idea and perhaps easier to read if you're not following:</p>\n\n<pre><code>func = {'sex': 'min', 'age': 'min', 'rank': 'min'}\n\ndf_agg = df.groupby('id').agg(func)\ndf_agg = df_agg.reset_index()\n\ndf = df.drop('age', 1)\ndf = pd.merge(df_agg, df, on = ['id', 'sex', 'rank'])\n</code></pre>\n\n<p>Set the aggregations you want to apply to each column. Then group by id, using agg. You need to reset the index at this point or else you won't be able to perform the merge in the next step, as id will be treated as the index.</p>\n\n<p>df still stores your original data-frame. Drop age from df, as you'll only need the minimized age, stored in df_agg. Then perform the merge on the columns you'd expect to match: id, sex and rank. You are merging on rank to pull the correct skill along for the ride.</p>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 45723212, "answer_count": 3, "score": 1, "last_activity_date": 1502921037, "creation_date": 1502917797, "last_edit_date": 1502918744, "question_id": 45723048, "link": "https://stackoverflow.com/questions/45723048/pandas-group-by-with-multiple-functions-applied", "title": "PANDAS Group By with Multiple Functions Applied", "body": "<p>I have a PANDAS dataframe with the following structure for example:</p>\n\n<pre><code>id,sex,age,rank,skill\n1,M,9,1,A\n1,M,8,2,G\n1,M,10,3,F\n2,F,10,3,M\n2,F,8,4,W\n2,F,6,4,O\n3,M,5,1,Q\n3,M,4,3,N\n3,M,9,4,Y\n</code></pre>\n\n<p>Where my desired output after the groupby/apply operation to the dataframe is:</p>\n\n<pre><code>id,sex,age,rank,skill\n1,M,8,1,A\n2,F,6,3,M\n3,M,4,1,Q\n</code></pre>\n\n<p>In other words, I am looking to groupby the id field, sex field does not change, the min() of age value, the min() of rank value, and the skill value that was present at the the min() of rank value.</p>\n\n<p>I understand that multiple agg functions can be passed to the groupby in a dict, but it how to handle the values that are constant or depend on the results of a function in another field of the groupby I do not understand.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 2, "creation_date": 1502917933, "post_id": 45723045, "comment_id": 78404017, "body": "Short answer: No. Longer and arguably more correct answer: It depends on the implementations of <code>x.method</code> and <code>method</code>."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1502917937, "post_id": 45723045, "comment_id": 78404020, "body": "Probably a bad habit inherited from numpy."}, {"owner": {"reputation": 221, "user_id": 1681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60982b10994f2c62480edbc0d0a806c5?s=128&d=identicon&r=PG", "display_name": "user13985", "link": "https://stackoverflow.com/users/1681375/user13985"}, "edited": false, "score": 0, "creation_date": 1502919914, "post_id": 45723045, "comment_id": 78404791, "body": "I am an R user. I think Python is quite confusing. Too many things going on."}, {"owner": {"reputation": 221, "user_id": 1681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60982b10994f2c62480edbc0d0a806c5?s=128&d=identicon&r=PG", "display_name": "user13985", "link": "https://stackoverflow.com/users/1681375/user13985"}, "edited": false, "score": 0, "creation_date": 1502925202, "post_id": 45723045, "comment_id": 78406428, "body": "The link is good, but, I&#39;m a beginner. I don&#39;t want paragraphs of definition, and don&#39;t understand complicated code. Just In this context, with these examples. That&#39;s all, thanks!"}, {"owner": {"reputation": 5288, "user_id": 6277525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdd8aedc14bc95b56efed36de1dd034?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew L", "link": "https://stackoverflow.com/users/6277525/andrew-l"}, "edited": false, "score": 1, "creation_date": 1502927959, "post_id": 45723045, "comment_id": 78407048, "body": "This is a very basic programming question you can answer yourself after learning more about class methods and functions. Then look in the source code to see what these do. Python is a true programming language, R is not. In order to have a true understanding you need to grasp the &quot;paragraphs of definition&quot; as you call it."}, {"owner": {"reputation": 221, "user_id": 1681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60982b10994f2c62480edbc0d0a806c5?s=128&d=identicon&r=PG", "display_name": "user13985", "link": "https://stackoverflow.com/users/1681375/user13985"}, "edited": false, "score": 0, "creation_date": 1502930618, "post_id": 45723045, "comment_id": 78407591, "body": "The &quot;true language&quot; makes things more complicated. In R, each function is associated with one task. You don&#39;t get aList.sorted(), vs sort(aList). sort(aList) is for sorting, that&#39;s it! Simple and elegant.  WHY Python has two? It seems Python lack unity, each developer does his own thing."}, {"owner": {"reputation": 221, "user_id": 1681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60982b10994f2c62480edbc0d0a806c5?s=128&d=identicon&r=PG", "display_name": "user13985", "link": "https://stackoverflow.com/users/1681375/user13985"}, "edited": false, "score": 0, "creation_date": 1502982115, "post_id": 45723045, "comment_id": 78435045, "body": "No, it is not answer in the link above!"}], "owner": {"reputation": 221, "user_id": 1681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60982b10994f2c62480edbc0d0a806c5?s=128&d=identicon&r=PG", "display_name": "user13985", "link": "https://stackoverflow.com/users/1681375/user13985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1502959058, "answer_count": 0, "score": 0, "last_activity_date": 1502917792, "creation_date": 1502917792, "question_id": 45723045, "link": "https://stackoverflow.com/questions/45723045/are-x-method-and-methodx-equivalent", "closed_reason": "Duplicate", "title": "Are x.method() and method(x) equivalent?", "body": "<p>I see there are a few ways to perform a method to an object. Either a.method(),  method(a).</p>\n\n<p>Here's an example,</p>\n\n<pre><code>import pandas as pd\ndata = {'AXP': 86.40, 'CSCO': '122.64', 'BA': '99.44'}\nsindex = ['AXP', 'CSCO', 'BA', 'AAPL',]\naSer = pd.Series(data, index = sindex)\n\n# Ex1: First way\n&gt; aSer.isnull()\nAXP     False\nCSCO    False\nBA      False\nAAPL     True\ndtype: bool\n\n# Ex2: Second way\n&gt; pd.isnull(aSer)\nAXP     False\nCSCO    False\nBA      False\nAAPL     True\ndtype: bool\n\n# Ex3: third way\n&gt; aSer.isnull\n&lt;bound method NDFrame.isnull of AXP       86.4\nCSCO    122.64\nBA       99.44\nAAPL       NaN\ndtype: object&gt;\n\n# Ex4: function vs. method \naList = [3, 5, 2, 4]\nsorted(aList) # object in function\naList.sort()  # method\n</code></pre>\n\n<p>My understanding:<br>\nEx1: \"attaches\" a method to the object.</p>\n\n<p>Ex2: put the object inside a function. Are first two ways always equivalent?</p>\n\n<p>Ex3: what is it doing here?</p>\n\n<p>Ex4: Why <code>aList.sorted()</code> won't work? <code>sorted()</code> vs <code>sort()</code> are from different package.</p>\n\n<p>I am confused why so many things try to achieve the same thing, at the same time, not all of them will work.</p>\n"}, {"tags": ["python", "ssl", "web-scraping", "python-requests", "urllib"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8373127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RtgFa.jpg?s=128&g=1", "display_name": "Whodo", "link": "https://stackoverflow.com/users/8373127/whodo"}, "edited": false, "score": 0, "creation_date": 1502931152, "post_id": 45724015, "comment_id": 78407698, "body": "Hey Christian thank you for the response! I successfully ran the &quot;brew install python3&quot; command in terminal, however it doesn&#39;t seem to have updated the version of OpenSSL I have (it is still printing the same version). I think this has something to do with the order of things in the $PATH, but I&#39;m not sure how to fix it."}], "tags": [], "owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "is_accepted": false, "score": 0, "last_activity_date": 1502923061, "creation_date": 1502923061, "answer_id": 45724015, "question_id": 45723035, "link": "https://stackoverflow.com/questions/45723035/how-to-resolve-ssl-handshake-failure-using-urllib-request-in-python-3/45724015#45724015", "title": "How to resolve SSL handshake failure using urllib request in python 3?", "body": "<p>Yep, your OpenSSL version is too old. Here's an example using two versions of macOS's <code>openssl</code>:</p>\n\n<pre><code>$ openssl s_client -connect ksl.com:443\nCONNECTED(00000003)\n2908:error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure:/BuildRoot/Library/Caches/com.apple.xbs/Sources/OpenSSL098/OpenSSL098-64.50.6/src/ssl/s23_clnt.c:593:\n\n$ /usr/local/Cellar/openssl/1.0.2l/bin/openssl s_client -connect ksl.com:443\n[...]\nVerify return code: 0 (ok)\n</code></pre>\n\n<p>If you install a newer version of python, e.g. with <code>brew install python3</code>, you should have better luck:</p>\n\n<pre><code>Python 3.6.2 (default, Jul 17 2017, 16:44:45)\n[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ssl\n&gt;&gt;&gt; ssl.OPENSSL_VERSION\n'OpenSSL 1.0.2l  25 May 2017'\n</code></pre>\n\n<p>With this version, your script works just fine.</p>\n"}], "owner": {"reputation": 21, "user_id": 8373127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RtgFa.jpg?s=128&g=1", "display_name": "Whodo", "link": "https://stackoverflow.com/users/8373127/whodo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1849, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502923061, "creation_date": 1502917754, "question_id": 45723035, "link": "https://stackoverflow.com/questions/45723035/how-to-resolve-ssl-handshake-failure-using-urllib-request-in-python-3", "title": "How to resolve SSL handshake failure using urllib request in python 3?", "body": "<p><strong>Code Application</strong></p>\n\n<p>Hi stackers, I am designing a web scraper that sends notifications to a user based on a specific word-based criteria. I have been successfully web-scraping a test website for a while now, however, when I went to run my code yesterday, I got an unexpected error that I have been unsuccessful in resolving. I still am unsure as to why this error is occurring as nothing in my code has changed - which leads me to believe something about the website may have changed. The error appears to occur when I'm trying to read the contents of the website after using urllib's Request.</p>\n\n<p><strong>The Code</strong></p>\n\n<pre><code>url = \"http://www.ksl.com\"\n\nimport urllib.request\nfrom urllib.request import Request, urlopen\nfrom bs4 import BeautifulSoup\n\nimport ssl\nprint(ssl.OPENSSL_VERSION)\n\nreq = Request(url, headers={'User-Agent': 'Mozilla/5.0'})\nhtml = urlopen(req).read()\nhtml = html.decode('utf-8')\n</code></pre>\n\n<p><strong>Error Message</strong></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 1254, in do_open\n    h.request(req.get_method(), req.selector, req.data, headers)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 1106, in request\n    self._send_request(method, url, body, headers)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 1151, in _send_request\n    self.endheaders(body)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 1102, in endheaders\n    self._send_output(message_body)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 934, in _send_output\n    self.send(msg)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 877, in send\n    self.connect()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/http/client.py\", line 1260, in connect\n    server_hostname=server_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 377, in wrap_socket\n    _context=self)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 752, in __init__\n    self.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 988, in do_handshake\n    self._sslobj.do_handshake()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/ssl.py\", line 633, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLError: [SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:645)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"PATH TO SCRIPT\", line 59, in &lt;module&gt;\n    html = urlopen(req).read()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 163, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 472, in open\n    response = meth(req, response)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 582, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 504, in error\n    result = self._call_chain(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 444, in _call_chain\n    result = func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 696, in http_error_302\n    return self.parent.open(new, timeout=req.timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 466, in open\n    response = self._open(req, data)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 484, in _open\n    '_open', req)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 444, in _call_chain\n    result = func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 1297, in https_open\n    context=self._context, check_hostname=self._check_hostname)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/urllib/request.py\", line 1256, in do_open\n    raise URLError(err)\nurllib.error.URLError: &lt;urlopen error [SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:645)&gt;\n</code></pre>\n\n<p><strong>Attempts I've Made to Fix Error</strong></p>\n\n<p>So I've installed MacPorts in an attempt to change the SSL path that python is using, this didn't work and I'm not sure if this is the right solution path.</p>\n\n<p>I put these two lines of code in to see what python is actually doing:</p>\n\n<pre><code>v = sys.version\nprint(v)\n\nimport ssl\nprint(ssl.OPENSSL_VERSION)\n</code></pre>\n\n<p>These two lines give me the following output:</p>\n\n<pre><code>3.5.2 (v3.5.2:4def2a2901a5, Jun 26 2016, 10:47:25) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]\nOpenSSL 0.9.8zh 14 Jan 2016\n</code></pre>\n\n<p>I think the issue may be that python is using the mac default version of OpenSSL that is unable to complete the handshake, however I still have a lot to learn about this stuff, so I'm not entirely sure.</p>\n\n<p>Please help me stackers, you're my only hope!</p>\n"}, {"tags": ["python", "dxf"], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 6660122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ade770603aad7e1390f2c02925f234b?s=128&d=identicon&r=PG&f=1", "display_name": "technico", "link": "https://stackoverflow.com/users/6660122/technico"}, "edited": false, "score": 0, "creation_date": 1502959563, "post_id": 45726170, "comment_id": 78418401, "body": "It worked wonderfully ! Thanks mozman for your help and for this excellent ezdxf :)"}], "tags": [], "owner": {"reputation": 1355, "user_id": 6162864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RXLqi.jpg?s=128&g=1", "display_name": "mozman", "link": "https://stackoverflow.com/users/6162864/mozman"}, "is_accepted": true, "score": 3, "last_activity_date": 1503198886, "last_edit_date": 1503198886, "creation_date": 1502940678, "answer_id": 45726170, "question_id": 45723019, "link": "https://stackoverflow.com/questions/45723019/access-insert-block-content-in-dxf-with-ezdxf/45726170#45726170", "title": "Access INSERT/Block content in DXF with ezdxf", "body": "<p>A BLOCK is a reusable collection of entities and can be used like the model space to search or add DXF entities.</p>\n\n<p>The INSERT entity is a block reference, which determines the place, the size and the rotation of the inserted block entities. And INSERT can have additional ATTRIB entities, which are text values referenced by a tag (name).</p>\n\n<p>The BLOCK definitions are stored in Drawing.blocks property:</p>\n\n<pre><code># iterate over all existing block definitions\nfor block in dwg.blocks:\n    for e in block:\n        analyseElement(e)\n</code></pre>\n\n<p>The INSERT entity is stored in the model space or in another block definition:</p>\n\n<pre><code>for insert in modelspace.query('INSERT'):\n    block = dwg.blocks[insert.dxf.name]\n    for e in block:\n         analyseElement(e)\n</code></pre>\n\n<p>To search for specific INSERT entities:</p>\n\n<pre><code>for insert in modelspace.query('INSERT[name==\"MyBlock\"]'):\n    ...\n</code></pre>\n\n<ul>\n<li>Docs for blocks: <a href=\"http://ezdxf.readthedocs.io/en/latest/tutorials/blocks.html\" rel=\"nofollow noreferrer\">http://ezdxf.readthedocs.io/en/latest/tutorials/blocks.html</a></li>\n<li>Docs for query: <a href=\"http://ezdxf.readthedocs.io/en/latest/tutorials/getting_data.html\" rel=\"nofollow noreferrer\">http://ezdxf.readthedocs.io/en/latest/tutorials/getting_data.html</a></li>\n</ul>\n"}], "owner": {"reputation": 1164, "user_id": 6660122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ade770603aad7e1390f2c02925f234b?s=128&d=identicon&r=PG&f=1", "display_name": "technico", "link": "https://stackoverflow.com/users/6660122/technico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1863, "favorite_count": 0, "accepted_answer_id": 45726170, "answer_count": 1, "score": 0, "last_activity_date": 1503198886, "creation_date": 1502917630, "question_id": 45723019, "link": "https://stackoverflow.com/questions/45723019/access-insert-block-content-in-dxf-with-ezdxf", "title": "Access INSERT/Block content in DXF with ezdxf", "body": "<p>I'm trying to draw the content of a DXF file to an image, using python 2.7 and the ezdxf module.</p>\n\n<p>I achieve to read and draw LINE, POLYLINE, CIRCLE, but I don't know what to do with the INSERT element.\nI suppose this INSERT element (or the related block) contains other elements, LINE, POLYLINE and so on ... Right ?</p>\n\n<p>Here is how i access basics DXF elements : </p>\n\n<pre><code>dwg = ezdxf.readfile(filename)\nmodelspace = dwg.modelspace()\nfor e in modelspace:\n   analyseElement(e)\n\ndef analyseElement(e):\n   if e.dxftype() == 'LINE':\n       print(\"DXF LINE FOUND:\")\n       p1=e.dxf.start\n       p2=e.dxf.end\n      [...]\n</code></pre>\n\n<p>Can I hope to explore and extract basics elements from the INSERT contents ?\nThank you all !</p>\n"}, {"tags": ["python", "tqdm"], "answers": [{"comments": [{"owner": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502918366, "post_id": 45723156, "comment_id": 78404191, "body": "Thanks for your answer, but it doesn&#39;t work this easily at all. If you look at the example links I posted, you&#39;ll see that tqdm interacts with sys.stdout/stderr in a very sophisticated way."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502918427, "post_id": 45723156, "comment_id": 78404219, "body": "In that case, could you please produce an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502918690, "post_id": 45723156, "comment_id": 78404305, "body": "The MCVE is in <a href=\"https://stackoverflow.com/questions/36986929/redirect-print-command-in-python-script-through-tqdm-write\">this question</a> I linked. It also contains a solution on how to redirect stdout, which works well in my experiment. All I want is to redirect both out and err with that code."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502919281, "post_id": 45723156, "comment_id": 78404534, "body": "The answer you linked just looks like a bad way of doing what I&#39;ve shown above, except for stdout only.  The contextlib redirects works for me, capturing everything from <code>tqdm</code> correctly.  If it doesn&#39;t work for you, please describe how (i.e., you still need an MCVE)."}, {"owner": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502925192, "post_id": 45723156, "comment_id": 78406427, "body": "No, as I said, it&#39;s not a simple redirection. You can&#39;t just save stdout/stderr at the beginning and restore them at the end. Tqdm is doing a lot under the hood. The answer I linked is also in the <a href=\"https://github.com/tqdm/tqdm#redirecting-writing\" rel=\"nofollow noreferrer\">official tqdm doc</a>. Your solution captures everything in strings, which is not what a progress bar is meant to be."}, {"owner": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502925399, "post_id": 45723156, "comment_id": 78406483, "body": "The progress bar needs to update itself without being broken while the other function is printing. It&#39;s hard to describe without a video, if you know what I mean. Writing everything to string defeats the whole purpose of console progress bar."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "edited": false, "score": 0, "creation_date": 1502926212, "post_id": 45723156, "comment_id": 78406668, "body": "So for the progress bar output <i>not</i> to be captured, but the output from the underlying worker function(s) (on both stdout and stderr) to be captured.  Is that what you&#39;re looking for?  It&#39;s not clear from reading your question whether the tqdm instance is under your control or not."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1502927414, "last_edit_date": 1502927414, "creation_date": 1502918287, "answer_id": 45723156, "question_id": 45722952, "link": "https://stackoverflow.com/questions/45722952/redirect-both-stdout-and-stderr-with-python-tqdm-library/45723156#45723156", "title": "Redirect both stdout and stderr with python tqdm library", "body": "<p>Python provides some helpers for you in the standard libraries, look in <a href=\"https://docs.python.org/3/library/contextlib.html\" rel=\"nofollow noreferrer\"><code>contextlib</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import io, sys\n&gt;&gt;&gt; from contextlib import redirect_stdout, redirect_stderr\n&gt;&gt;&gt; from tqdm import tqdm\n&gt;&gt;&gt; def foo():\n...     print('spam to stdout')\n...     print('spam to stderr', file=sys.stderr)\n...     \n&gt;&gt;&gt; out = io.StringIO()\n&gt;&gt;&gt; err = io.StringIO()\n&gt;&gt;&gt; with redirect_stdout(out), redirect_stderr(err):\n...     for x in tqdm(range(3), file=sys.__stdout__):\n...         print(x)  # more spam\n...         foo()\n...         \n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3/3 [00:00&lt;00:00, 29330.80it/s]\n&gt;&gt;&gt; out.getvalue()\n'0\\nspam to stdout\\n1\\nspam to stdout\\n2\\nspam to stdout\\n'\n&gt;&gt;&gt; err.getvalue()\n'spam to stderr\\nspam to stderr\\nspam to stderr\\n'\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 3453033, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Aqhsm.jpg?s=128&g=1", "display_name": "Ainz Titor", "link": "https://stackoverflow.com/users/3453033/ainz-titor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1852, "favorite_count": 0, "accepted_answer_id": 45723156, "answer_count": 1, "score": 2, "last_activity_date": 1502927414, "creation_date": 1502917338, "last_edit_date": 1502918806, "question_id": 45722952, "link": "https://stackoverflow.com/questions/45722952/redirect-both-stdout-and-stderr-with-python-tqdm-library", "title": "Redirect both stdout and stderr with python tqdm library", "body": "<p>I'm using tqdm in Python to display console progress bars. </p>\n\n<p>I have a function from another library that occasionally writes to both stdout and stderr inside the tqdm loop. I cannot hack the source code of that function.</p>\n\n<p>While <a href=\"https://github.com/tqdm/tqdm#redirecting-writing\" rel=\"nofollow noreferrer\">this doc</a> shows how to redirect sys.stdout, it doesn't easily generalize to stderr because I can pass only one of stdout or stderr to the <code>file=</code> parameter in tqdm's <code>__init__</code>. Please refer to <a href=\"https://stackoverflow.com/questions/36986929/redirect-print-command-in-python-script-through-tqdm-write\">this question</a> and its <a href=\"https://stackoverflow.com/a/37243211/3453033\">accepted answer</a> for the minimal code that illustrates the problem.</p>\n\n<p>How do I redirect <strong><em>both</em></strong> stdout and stderr together?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 1, "creation_date": 1502917821, "post_id": 45722949, "comment_id": 78403969, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.ExcelFile.parse.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 30680, "user_id": 447970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a73f02bfb0768bed345de389c7e094?s=128&d=identicon&r=PG", "display_name": "teylyn", "link": "https://stackoverflow.com/users/447970/teylyn"}, "edited": false, "score": 1, "creation_date": 1502921084, "post_id": 45722949, "comment_id": 78405233, "body": "Removing Excel tag. This question is not about using Excel."}, {"owner": {"reputation": 30680, "user_id": 447970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a73f02bfb0768bed345de389c7e094?s=128&d=identicon&r=PG", "display_name": "teylyn", "link": "https://stackoverflow.com/users/447970/teylyn"}, "edited": false, "score": 0, "creation_date": 1503005611, "post_id": 45722949, "comment_id": 78448029, "body": "@mob You tagged the question with the Excel tag. I removed it."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 6329884, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e768d403f99378a25f70e5d94e013772?s=128&d=identicon&r=PG", "display_name": "Yami Danchou", "link": "https://stackoverflow.com/users/6329884/yami-danchou"}, "edited": false, "score": 0, "creation_date": 1502917598, "post_id": 45722984, "comment_id": 78403874, "body": "Thanks! will try this."}, {"owner": {"reputation": 205, "user_id": 6329884, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e768d403f99378a25f70e5d94e013772?s=128&d=identicon&r=PG", "display_name": "Yami Danchou", "link": "https://stackoverflow.com/users/6329884/yami-danchou"}, "edited": false, "score": 0, "creation_date": 1502918966, "post_id": 45722984, "comment_id": 78404417, "body": "kind of, but I need to delete some columns but its showing error: ExcelFile doesn&#39;t support del columns"}, {"owner": {"reputation": 205, "user_id": 6329884, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e768d403f99378a25f70e5d94e013772?s=128&d=identicon&r=PG", "display_name": "Yami Danchou", "link": "https://stackoverflow.com/users/6329884/yami-danchou"}, "edited": false, "score": 0, "creation_date": 1502920025, "post_id": 45722984, "comment_id": 78404851, "body": "df=df.take(list(range(18,245))) this worked for me! i dont know how though"}, {"owner": {"reputation": 971, "user_id": 6161201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o_bFqIGDRdg/AAAAAAAAAAI/AAAAAAAAABQ/V2L2aRdYG1w/photo.jpg?sz=128", "display_name": "Agust&#237;n Clemente", "link": "https://stackoverflow.com/users/6161201/agust%c3%adn-clemente"}, "edited": false, "score": 0, "creation_date": 1541682509, "post_id": 45722984, "comment_id": 93304697, "body": "skip_footer is now deprecated, you should use skipfooter intead which accepts as value the number of rows at the end to skip"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 971, "user_id": 6161201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o_bFqIGDRdg/AAAAAAAAAAI/AAAAAAAAABQ/V2L2aRdYG1w/photo.jpg?sz=128", "display_name": "Agust&#237;n Clemente", "link": "https://stackoverflow.com/users/6161201/agust%c3%adn-clemente"}, "edited": false, "score": 0, "creation_date": 1541683074, "post_id": 45722984, "comment_id": 93305010, "body": "@Agust&#237;nClemente, thanks for the reminder. I&#39;ve updated an answer"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1550509653, "post_id": 45722984, "comment_id": 96286504, "body": "@reportgunner, does it make sense now?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10417531"}, "edited": false, "score": 1, "creation_date": 1550582177, "post_id": 45722984, "comment_id": 96314428, "body": "@MaxU cheers, much better now. It was confusing where to put the new value."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 7, "last_activity_date": 1550509636, "last_edit_date": 1550509636, "creation_date": 1502917487, "answer_id": 45722984, "question_id": 45722949, "link": "https://stackoverflow.com/questions/45722949/how-to-skip-header-and-footer-data-in-pandas-dataframe/45722984#45722984", "title": "How to skip header and footer data in pandas dataframe?", "body": "<p>Demo:</p>\n\n<pre><code>xl = pd.ExcelFile(filepath)\n\n# parsing first (index: 0) sheet\ntotal_rows = xl.book.sheet_by_index(0).nrows\n\nskiprows = 15\nnrows = 235 - 15\n\n# calc number of footer rows\n# (-1) - for the header row\nskipfooter = total_rows - nrows - skiprows - 1\n\ndf = xl.parse(0, skiprows=skiprows, skipfooter=skipfooter)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 599, "user_id": 9160974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3591644041360492681eb124b4565e?s=128&d=identicon&r=PG&f=1", "display_name": "A Santosh ", "link": "https://stackoverflow.com/users/9160974/a-santosh"}, "is_accepted": false, "score": 6, "last_activity_date": 1525064384, "last_edit_date": 1525064384, "creation_date": 1514823923, "answer_id": 48051299, "question_id": 45722949, "link": "https://stackoverflow.com/questions/45722949/how-to-skip-header-and-footer-data-in-pandas-dataframe/48051299#48051299", "title": "How to skip header and footer data in pandas dataframe?", "body": "<p>You are interested in data from row <strong>15</strong> to row <strong>235</strong>.</p>\n\n<p>You can try this:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_excel(somefile.xls)\n\ndf = df[15:236] #we have to include row 235\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 542, "user_id": 6242274, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zp8dfRwvs3g/AAAAAAAAAAI/AAAAAAAAALs/u3na27WQbBs/photo.jpg?sz=128", "display_name": "Kaustubh J", "link": "https://stackoverflow.com/users/6242274/kaustubh-j"}, "is_accepted": false, "score": 6, "last_activity_date": 1555161106, "creation_date": 1555161106, "answer_id": 55665838, "question_id": 45722949, "link": "https://stackoverflow.com/questions/45722949/how-to-skip-header-and-footer-data-in-pandas-dataframe/55665838#55665838", "title": "How to skip header and footer data in pandas dataframe?", "body": "<p>So to summarize. Header location is <strong>15</strong> from the top and Footer location is <strong><em>Y</em></strong> from the bottom. Here's how you import the correct values:</p>\n\n<pre><code>import pandas as pd\ndf=pd.read_excel(\"File.xls\",header=15,skipfooter=_Y_)\n</code></pre>\n\n<p>Do ensure that your columnar data isn't being excluded!</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 13220232, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2DIGfKTWOg/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJN7CyLxGRoxGyDdIjFZqEssAqGVXQ/photo.jpg?sz=128", "display_name": "Harsha", "link": "https://stackoverflow.com/users/13220232/harsha"}, "is_accepted": false, "score": 3, "last_activity_date": 1588738113, "creation_date": 1588738113, "answer_id": 61627241, "question_id": 45722949, "link": "https://stackoverflow.com/questions/45722949/how-to-skip-header-and-footer-data-in-pandas-dataframe/61627241#61627241", "title": "How to skip header and footer data in pandas dataframe?", "body": "<p>You can also do this after loading the file:</p>\n\n<pre><code>df=df[(df.index&gt;15)&amp;(df.index&lt;236)]\ndf.index-=16\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 6329884, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e768d403f99378a25f70e5d94e013772?s=128&d=identicon&r=PG", "display_name": "Yami Danchou", "link": "https://stackoverflow.com/users/6329884/yami-danchou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36845, "favorite_count": 2, "protected_date": 1525064481, "answer_count": 4, "score": 11, "last_activity_date": 1588738113, "creation_date": 1502917333, "last_edit_date": 1502921089, "question_id": 45722949, "link": "https://stackoverflow.com/questions/45722949/how-to-skip-header-and-footer-data-in-pandas-dataframe", "title": "How to skip header and footer data in pandas dataframe?", "body": "<p>I have first <em>15 rows</em> of a excel file as \"Header data\".\nand after <em>235 rows</em>, \"Footer data\".\nI need to read data <em>in between these header and footer data</em>. </p>\n\n<p>Is there any way to read data into DataFrame by selecting specific range of rows using pandas?</p>\n"}, {"tags": ["python", "psse"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502917596, "post_id": 45722888, "comment_id": 78403873, "body": "maybe you could print your arguments before calling the function. I wonder where this non-number comes from."}, {"owner": {"reputation": 47, "user_id": 8322820, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7abdd51c01dd48a0d85bcbff998e5c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8322820/mark"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502917705, "post_id": 45722888, "comment_id": 78403925, "body": "is <code>&#39;%s&#39; %digit</code> the correct way of storing string value into single quote"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502917732, "post_id": 45722888, "comment_id": 78403937, "body": "nope. You need <code>&quot;&#39;{}&#39;&quot;.format(digit)</code>"}], "owner": {"reputation": 47, "user_id": 8322820, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7abdd51c01dd48a0d85bcbff998e5c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8322820/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502917603, "creation_date": 1502917067, "last_edit_date": 1502917603, "question_id": 45722888, "link": "https://stackoverflow.com/questions/45722888/reading-a-string-value-from-csv-sheet", "title": "Reading a String value from CSV Sheet", "body": "<p>I am receiving an integer error when reading from my CSV sheet. Its giving me problems reading the last column. I know theres characters in the last column but how do I define <code>digit</code> as a character. The API function <code>psspy.two_winding_chg_4</code> requires an input using single quotes ' ' as shown below in that function(3rd element of the array)<a href=\"https://i.stack.imgur.com/wZRZS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZRZS.jpg\" alt=\"excel sheet\"></a></p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\RoszkowskiM\\Desktop\\win4.py\", line 133, in &lt;module&gt;\npsspy.two_winding_chng_4(from_,to,'%s'%digit,[_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i],[_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f, max_value, min_value,_f,_f,_f],[])\nFile \".\\psspy.py\", line 25578, in two_winding_chng_4\nTypeError: an integer is required\nValueError: invalid literal for int() with base 10: 'T1'\n\nfor row in data:\n    data_location, year_link, from_, to, min_value,max_value,name2,tla_2,digit = row[5:14]\n    output = 'From Bus #: {}\\tTo Bus #: {}\\tVMAX: {} pu\\tVMIN: {} pu\\t'\n    if year_link == year and data_location == location and tla_2==location:\n       from_=int(from_)\n       to=int(to)\n       min_value=float(min_value)\n       max_value=float(max_value)\n       digit=int(digit)\n       print(output.format(from_, to, max_value, min_value))\n      _i=psspy.getdefaultint()\n      _f=psspy.getdefaultreal()\n       psspy.two_winding_chng_4(from_,to,'%s'%digit,[_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i,_i],[_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f,_f, max_value, min_value,_f,_f,_f],[])\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1708, "user_id": 3569921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/077N5.jpg?s=128&g=1", "display_name": "marcusshep", "link": "https://stackoverflow.com/users/3569921/marcusshep"}, "edited": false, "score": 1, "creation_date": 1502917005, "post_id": 45722831, "comment_id": 78403655, "body": "Just keep experimenting. Find something you want to build and build it. Some problems can only be solved with Javascript. <i>Most</i> problems can be solved with Django alone. But you won&#39;t have any conception of this until you significantly work toward building something."}, {"owner": {"reputation": 674, "user_id": 1893155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jvtf4.jpg?s=128&g=1", "display_name": "Eric Fulmer", "link": "https://stackoverflow.com/users/1893155/eric-fulmer"}, "edited": false, "score": 0, "creation_date": 1502917041, "post_id": 45722831, "comment_id": 78403668, "body": "Define &quot;perfect&quot;. There is nothing stopping you from creating a fully functional web app if the only programming language you know is Python and a framework (in this case Django)."}, {"owner": {"reputation": 759, "user_id": 2468325, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/52043875f68011d2441d06d6ad3d4fdb?s=128&d=identicon&r=PG", "display_name": "Naseer-shaik", "link": "https://stackoverflow.com/users/2468325/naseer-shaik"}, "edited": false, "score": 0, "creation_date": 1502918699, "post_id": 45722831, "comment_id": 78404312, "body": "I developed an application using Python, Flask, AngularJS and it is &quot;Perfect&quot; running good. But in my new application I just want to use python, django and MySQL, I digged into django docs and I found very less about front-end development using only django."}], "answers": [{"tags": [], "owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "is_accepted": false, "score": 4, "last_activity_date": 1502917036, "creation_date": 1502917036, "answer_id": 45722876, "question_id": 45722831, "link": "https://stackoverflow.com/questions/45722831/is-it-possible-to-design-a-web-application-using-only-python-and-django/45722876#45722876", "title": "Is it possible to design a web application using only Python and django?", "body": "<p>Yes you can.  Libraries such as React and Angular are just JavaScript code which runs in the browser but it's main purpose, especially for react, is to be the view which in Django speak, is the template.   Django has a template engine included for you and very powerful sites have been written without React, Angular, Vue etc... using just simple Python Django.</p>\n\n<p>I would say, unless you have a specific need to use one of those libraries than don't use them.   They won't save time or maintenance.   This is definitely anecdote, but from my personal experience, we don't need Angular or React for 90% of the websites out there.  The 10% that do need it... it's a life saver.</p>\n"}], "owner": {"reputation": 759, "user_id": 2468325, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/52043875f68011d2441d06d6ad3d4fdb?s=128&d=identicon&r=PG", "display_name": "Naseer-shaik", "link": "https://stackoverflow.com/users/2468325/naseer-shaik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502917036, "creation_date": 1502916840, "question_id": 45722831, "link": "https://stackoverflow.com/questions/45722831/is-it-possible-to-design-a-web-application-using-only-python-and-django", "title": "Is it possible to design a web application using only Python and django?", "body": "<p>I want to develop a web application using pure python and django. Can I accomplish with out using angularJS or any Javascript? I know to use angular tags in django. But will this be necessary for a perfect running application?</p>\n\n<pre><code>{{% verbatim %}}\n{{% endverbatim %}}\n</code></pre>\n"}, {"tags": ["python", "elementtree"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502916697, "post_id": 45722746, "comment_id": 78403508, "body": "<code>xml.etree.ElementTree.iter() = xml.etree.ElementTree.getiterator()</code> doesn&#39;t work, and <code>xml.etree.ElementTree.iter = xml.etree.ElementTree.getiterator</code> doesn&#39;t either. You&#39;d have to do that for each instance (<code>root</code> and <code>package</code>). Maybe define a wrapper and change your code..."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1502916944, "creation_date": 1502916944, "answer_id": 45722856, "question_id": 45722746, "link": "https://stackoverflow.com/questions/45722746/python-possible-to-rename-xml-etree-elementtree-iter-for-2-6-backward-compat/45722856#45722856", "title": "Python - Possible to rename xml.etree.ElementTree.iter() for 2.6 backward compatibility?", "body": "<p>you could do that, but you'd have to create the assign for <em>every</em> instance:</p>\n\n<pre><code>root = tree.getroot()\nif cur_python &lt; req_python:\n    root.iter = root.getiterator\n</code></pre>\n\n<p>(note the lack of parentheses, we don't want to <em>call</em> the function but to define a name). Do the same for <code>package</code>.</p>\n\n<p>Or define a wrapper function which returns the correct function:</p>\n\n<pre><code>def compat_iter(obj):\n    return (obj.getiterator if cur_python &lt; req_python else obj.iter) \n</code></pre>\n\n<p>that you use like this:</p>\n\n<pre><code>for package in compat_iter(root)('package'):\n...\n  for property in compat_iter(package)('property'):\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8474701, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pLNCU3BtVYs/AAAAAAAAAAI/AAAAAAAAVug/orHw1asvntI/photo.jpg?sz=128", "display_name": "cab354", "link": "https://stackoverflow.com/users/8474701/cab354"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 45722856, "answer_count": 1, "score": 1, "last_activity_date": 1502916944, "creation_date": 1502916469, "question_id": 45722746, "link": "https://stackoverflow.com/questions/45722746/python-possible-to-rename-xml-etree-elementtree-iter-for-2-6-backward-compat", "title": "Python - Possible to rename xml.etree.ElementTree.iter() for 2.6 backward compatibility?", "body": "<p>I'm writing a script that is going to be run on machines that have either python 2.6 or python 2.7.  The script parses and loops through installed.xml like this:</p>\n\n<pre><code>tree = ET.parse('installed.xml')\nroot = tree.getroot()\nfor package in root.iter('package'):\n\n        if 'foo' in package.attrib['id'].lower():\n            for property in package.iter('property'):\n                if 'cic.info.version' in property.attrib['name']:\n                    version = property.attrib['value']\n</code></pre>\n\n<p>This works fine on 2.7, but in 2.6 I get and error - _ElementInterface instance has no attribute 'iter'\nI've figured out that in 2.6 the method is called 'getiterator', so I was wondering if there is a way to assign an alias to the method, something like this..</p>\n\n<pre><code>if cur_python &lt; req_python:\n    xml.etree.ElementTree.iter() = xml.etree.ElementTree.getiterator()\n</code></pre>\n\n<p>I tried a few things that I found on here, but couldn't get anything working yet.  Any help would be greatly appreciated!  </p>\n"}, {"tags": ["python", "class", "oop", "python-3.6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1502916479, "post_id": 45722716, "comment_id": 78403414, "body": "Those two things are not the same, which you need depends on your specific context."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1502916684, "post_id": 45722716, "comment_id": 78403500, "body": "You are using <i>class attributes</i> in the first example. In the second example, your <code>__init__</code> function has a bunch of default parameters, which presumably, you will set to <i>instance attributes</i>. These are different situations. Also, don&#39;t use double-underscore name-mangling unless you understand what it is doing, and even then, probably not..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502916789, "post_id": 45722716, "comment_id": 78403548, "body": "Also, while class-attributes are similar to static members in languages like java, they are not really equivalent to default parameters at all."}, {"owner": {"reputation": 118, "user_id": 8409847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLMiJ.png?s=128&g=1", "display_name": "yadayada", "link": "https://stackoverflow.com/users/8409847/yadayada"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502916884, "post_id": 45722716, "comment_id": 78403587, "body": "@juanpa.arrivillaga wasn&#39;t asking about java, if you have no advices, regarding actual question you don&#39;t have comment, thanks"}, {"owner": {"reputation": 118, "user_id": 8409847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLMiJ.png?s=128&g=1", "display_name": "yadayada", "link": "https://stackoverflow.com/users/8409847/yadayada"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1502916929, "post_id": 45722716, "comment_id": 78403622, "body": "@jonrsharpe thanks will read more then"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502916949, "post_id": 45722716, "comment_id": 78403629, "body": "Yes, well, you are using the java/c++ terminology. And regardless, my answer was about Python anyways..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502917169, "post_id": 45722716, "comment_id": 78403715, "body": "All my comments were <i>directly</i> about Python best-practices."}, {"owner": {"reputation": 1, "user_id": 3023861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a06e5726647bf6f4c25d1125638cba8?s=128&d=identicon&r=PG&f=1", "display_name": "Aswer", "link": "https://stackoverflow.com/users/3023861/aswer"}, "edited": false, "score": 0, "creation_date": 1502917905, "post_id": 45722716, "comment_id": 78404005, "body": "You should check this <a href=\"https://stackoverflow.com/questions/68645/static-class-variables-in-python#27568860\">link</a>, seems like what you trying to do."}, {"owner": {"reputation": 118, "user_id": 8409847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLMiJ.png?s=128&g=1", "display_name": "yadayada", "link": "https://stackoverflow.com/users/8409847/yadayada"}, "edited": false, "score": 0, "creation_date": 1502918099, "post_id": 45722716, "comment_id": 78404078, "body": "Yep, thank you  Immutable &quot;Static Variables&quot;, this is what I need"}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1502918103, "post_id": 45722716, "comment_id": 78404081, "body": "You asked the question &quot;what is the right way to do this?&quot; Your real question is &quot;what is the difference between these?&quot;"}, {"owner": {"reputation": 118, "user_id": 8409847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLMiJ.png?s=128&g=1", "display_name": "yadayada", "link": "https://stackoverflow.com/users/8409847/yadayada"}, "edited": false, "score": 0, "creation_date": 1509137965, "post_id": 45722716, "comment_id": 80914085, "body": "I ask my question the way I think it should be asked to receive the answer I&#39;m interested in"}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "is_accepted": false, "score": 0, "last_activity_date": 1502918861, "creation_date": 1502918861, "answer_id": 45723277, "question_id": 45722716, "link": "https://stackoverflow.com/questions/45722716/how-to-define-many-static-default-parameters-inside-the-class-python3/45723277#45723277", "title": "How to define many static (default) parameters inside the class python3", "body": "<p><strong>Short answer</strong>: solution 1 will have fields named <code>paramN</code>, solution 2 will have arguments to the constructor, but not the fields in the class instance.</p>\n\n<p>The easy way to do this is to demonstrate it. I'm going to change the names of your classes so they don't conflict, and I'm going to limit each to two params for brevity.</p>\n\n<pre><code>class SomeClass1():\n    param1 = 'param1'\n    param2 = 'param2'\n\n    def some_method(self):\n        return self.param1\n\nclass SomeClass2():\n    def __init__(self, param1 = 'param1', param2 = 'param2'):\n        pass\n\n    def some_method(self):\n        return self.param1\n\n# prints the string 'param1'\none = SomeClass1()\nprint(one.some_method())\n\n# throws a NameError, \n# because SomeClass2 instances don't have the field\ntwo = SomeClass2()\nprint(two.some_method())\n</code></pre>\n\n<p>If you want SomeClass2 to have the param fields, you'll need to handle that in the <code>__init()__</code> method by capturing the arguments:</p>\n\n<pre><code>class SomeClass2():\n    def __init__(self, param1 = 'param1', param2 = 'param2'):\n        self.param1 = param1\n        self.param2 = param2\n</code></pre>\n\n<p>Be warned though, those arguments are not <em>hard coded</em> as you requested.</p>\n\n<pre><code># Prints the integer 1, not the string 'param1'\ntwo = SomeClass2(param1 = 1, param2 = 2)\nprint(two.some_method())     \n</code></pre>\n\n<p>As to which is correct, well, that depends on what you're trying to do. Both solutions are valid python code.</p>\n"}], "owner": {"reputation": 118, "user_id": 8409847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLMiJ.png?s=128&g=1", "display_name": "yadayada", "link": "https://stackoverflow.com/users/8409847/yadayada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502918988, "creation_date": 1502916348, "last_edit_date": 1502918988, "question_id": 45722716, "link": "https://stackoverflow.com/questions/45722716/how-to-define-many-static-default-parameters-inside-the-class-python3", "title": "How to define many static (default) parameters inside the class python3", "body": "<p>I'm new to OOP and writing the class which requires many(>=9) <em>defaults</em> \"hard coded\" parameters used only with in this.</p>\n\n<p>What is the right way of defining those inside the class?</p>\n\n<p>Solution#1</p>\n\n<pre><code>class SomeCLass():\n    __param1 = 'param1'\n    __param2 = 'param2'\n    __param3 = 'param3'\n    __param4 = 'param4'\n\n   def some_method(self):\n       return self.__param1 \n</code></pre>\n\n<p>Or I should be doing it this way </p>\n\n<p>Solution #2</p>\n\n<pre><code>class SomeCLass():\n\n    def __init__(self, param1 = 'param1', param2 = 'param2', ...., \n                 ...param8 = 'param'):\n         self.param1 = param1\n</code></pre>\n\n<p>Thank you </p>\n"}, {"tags": ["python", "linux", "automation", "cron"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1502916457, "post_id": 45722715, "comment_id": 78403408, "body": "If you want to keep a process alive forever, you should be using a process supervision system -- systemd (on most new Linux distros), launchd (on MacOS), Upstart (where supported), <a href=\"http://smarden.org/runit/\" rel=\"nofollow noreferrer\">runit</a>, etc. cron is the wrong tool for the job; atd, likewise."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1502916578, "post_id": 45722715, "comment_id": 78403460, "body": "...a real process supervision system will be immediately notified when your program exits (so it doesn&#39;t need to occasionally poll), will know <i>how</i> it exits, and will provide the user with the means to indicate whether they want the process to be kept up, kept down, run once and allowed to exit if it chooses, etc."}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1502916590, "post_id": 45722715, "comment_id": 78403462, "body": "@CharlesDuffy can you give an example/syntax/usage of this supervision? And would there be any logs to check whether the process is running? Does this keep the process alive even when ssh out of the session? Thanks!"}, {"owner": {"reputation": 758, "user_id": 1411132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bbc11089c165ab8ef71bf50fe15604e?s=128&d=identicon&r=PG", "display_name": "Grisha S", "link": "https://stackoverflow.com/users/1411132/grisha-s"}, "edited": false, "score": 0, "creation_date": 1502916628, "post_id": 45722715, "comment_id": 78403481, "body": "systemd timers? <a href=\"https://wiki.archlinux.org/index.php/Systemd/Timers\" rel=\"nofollow noreferrer\">wiki.archlinux.org/index.php/Systemd/Timers</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1502916643, "post_id": 45722715, "comment_id": 78403483, "body": "Each of these tools has its own usage; which one is appropriate depends on your target operating system. Do you know which init system your target OS ships with?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 758, "user_id": 1411132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bbc11089c165ab8ef71bf50fe15604e?s=128&d=identicon&r=PG", "display_name": "Grisha S", "link": "https://stackoverflow.com/users/1411132/grisha-s"}, "edited": false, "score": 0, "creation_date": 1502916667, "post_id": 45722715, "comment_id": 78403495, "body": "@GrishaS, a timer is appropriate to run a job on a schedule, but the OP really wants to kick off their process whenever it exits, so they just want a regular service, not a timer."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1502916776, "post_id": 45722715, "comment_id": 78403539, "body": "@chaitanya, see <a href=\"https://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet\" rel=\"nofollow noreferrer\">fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet</a> for some hints on what command-line usage looks like, and <a href=\"https://fedoraproject.org/wiki/Systemd#How_do_I_customize_a_unit_file.2F_add_a_custom_unit_file.3F\" rel=\"nofollow noreferrer\">fedoraproject.org/wiki/&hellip;</a> for a high-level guide on adding your own service file, <i>if</i> your Linux distro is based on systemd."}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "reply_to_user": {"reputation": 758, "user_id": 1411132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bbc11089c165ab8ef71bf50fe15604e?s=128&d=identicon&r=PG", "display_name": "Grisha S", "link": "https://stackoverflow.com/users/1411132/grisha-s"}, "edited": false, "score": 0, "creation_date": 1502919794, "post_id": 45722715, "comment_id": 78404743, "body": "Sure..Let me take a look at it. Thanks Charles and @Grisha S"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502919972, "post_id": 45722715, "comment_id": 78404816, "body": "Mean while a question. is &quot;nohup&quot; any use here? How long does it keep the process alive? I mean does it kill at the time of ssh(ing) out? or at the time of server reboot? or is there any instance where it lose tracking of running process/kills it when the server is online?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502919676, "post_id": 45722812, "comment_id": 78404691, "body": "Thanks much for detailed info @Eric...Let me take a look at this"}], "tags": [], "owner": {"reputation": 674, "user_id": 1893155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jvtf4.jpg?s=128&g=1", "display_name": "Eric Fulmer", "link": "https://stackoverflow.com/users/1893155/eric-fulmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1502917217, "last_edit_date": 1502917217, "creation_date": 1502916770, "answer_id": 45722812, "question_id": 45722715, "link": "https://stackoverflow.com/questions/45722715/cron-tab-pattern-to-run-a-script-once-in-a-year-once-in-lifetime/45722812#45722812", "title": "Cron tab pattern to run a script once in a year/ once in lifetime", "body": "<p>Cron isn't suited for this, because it runs programs based on a certain interval. </p>\n\n<p>A clean solution would be to use Supervisor: <a href=\"http://supervisord.org/\" rel=\"nofollow noreferrer\">http://supervisord.org/</a></p>\n\n<p>Install supervisor through your package manager, make your script executable, and add this to <code>/etc/supervisor/conf.d/$YOUR_SCRIPT_NAME.conf</code>, then restart supervisor.</p>\n\n<pre><code>[program:$YOUR_SCRIPT_NAME]\ncommand=$PATH_TO_YOUR_SCRIPT\nautostart=true\nautorestart=true\n</code></pre>\n\n<p>You can set the locations for the log and error output files in the config file too: <a href=\"http://supervisord.org/configuration.html\" rel=\"nofollow noreferrer\">http://supervisord.org/configuration.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924253, "post_id": 45724008, "comment_id": 78406183, "body": "Appreciate your response. Does &quot;startup_runner&quot; script reboot my server? and then while bringing up does it set the crontab to trigger the script at Aug-16-2017, Time: 5:00PM?"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924335, "post_id": 45724008, "comment_id": 78406205, "body": "If not, can you explain what startup_runner script does here? and does crontab pattern trigger at 5:00 PM? Im just concerned about the time."}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924387, "post_id": 45724008, "comment_id": 78406216, "body": "startup_runner is the script that tells the crontab , at every reboot my_runner must run."}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924412, "post_id": 45724008, "comment_id": 78406220, "body": "in crontab @reboot means , run the script at system startup"}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924509, "post_id": 45724008, "comment_id": 78406244, "body": "at Aug-16-2017, Time: 5:00PM script startup_runner executes, so the system knows that after Aug-16-2017, Time: 5:00PM, at every restart, the code in my_runner must be executed, i think this is exactly what you need"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924515, "post_id": 45724008, "comment_id": 78406246, "body": "ok what if there is no reboot? Assume system is up and running now and made this environment and add cron entry as &quot;0 17 16 8 *    /usr/local/bin/startup_runner&quot; , how does this trigger &quot;my_runner&quot; script at 5:00 PM today? Sorry for being dumb. Please explain"}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924643, "post_id": 45724008, "comment_id": 78406277, "body": "that part just manages reboots, that code only makes you sure that event the system reboots, at start up your code will run,"}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924676, "post_id": 45724008, "comment_id": 78406285, "body": "not only this code works with system reboots, but also it will work with no reboots"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924739, "post_id": 45724008, "comment_id": 78406303, "body": "My system is up and running now and I know your solution would make my life easy when I reboot (but not thinking of a reboot any time sooner). But in addition to this I m looking for something that should trigger my py script at 5 PM today and keep that process alive forever (i know there are few exception when the cronjob fails). But Im expecting that a solution should keep the cronjob alive even if i close the terminal/ ssh out of the terminal"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924771, "post_id": 45724008, "comment_id": 78406314, "body": "Ok Let me try setting this up and get back to you"}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924852, "post_id": 45724008, "comment_id": 78406335, "body": "for changing it to run today at 5, you must change 16 and 8 with todays date, and actually you can run it manually :D"}, {"owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502924898, "post_id": 45724008, "comment_id": 78406348, "body": "Can you reconfirm this line in startup_runner - &quot;crontab -u root -l | grep -v &#39;/usr/local/bin/startup_runner&#39;  | crontab -u root -&quot; ....is there &quot;l&quot; at the very end? or is it correct the way you posted?"}, {"owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "reply_to_user": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "edited": false, "score": 0, "creation_date": 1502925225, "post_id": 45724008, "comment_id": 78406436, "body": "it&#39; correct. as it is"}], "tags": [], "owner": {"reputation": 513, "user_id": 2101813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000d46f3f287035549b18cc7fa215dbc?s=128&d=identicon&r=PG", "display_name": "Arash Khajelou", "link": "https://stackoverflow.com/users/2101813/arash-khajelou"}, "is_accepted": false, "score": -1, "last_activity_date": 1502923007, "creation_date": 1502923007, "answer_id": 45724008, "question_id": 45722715, "link": "https://stackoverflow.com/questions/45722715/cron-tab-pattern-to-run-a-script-once-in-a-year-once-in-lifetime/45724008#45724008", "title": "Cron tab pattern to run a script once in a year/ once in lifetime", "body": "<p>lets start to create the system you need :</p>\n\n<p>first of all you need to create a runner script for your python code :</p>\n\n<p><code>/usr/local/bin/my_runner</code> :</p>\n\n<pre><code>#!/bin/bash\npython /path/to/my/script\n</code></pre>\n\n<p><code>$sudo chmod +x /usr/local/bin/my_runner</code></p>\n\n<p>then you need to create <code>/usr/local/bin/startup_runner</code></p>\n\n<pre><code>#!/bin/bash\necho \"@reboot    /usr/local/bin/my_runner\" &gt;&gt; /var/spool/cron/crontabs/root\ncrontab -u root -l | grep -v '/usr/local/bin/startup_runner'  | crontab -u root -\n</code></pre>\n\n<p><code>$sudo chmod +x /usr/local/bin/startup_runner</code></p>\n\n<p>at the end of this , you must go for the first caller at Aug-16-2017, Time: 5:00PM</p>\n\n<p><code>$sudo crontab -e</code></p>\n\n<p>add the following to the end of crontab file </p>\n\n<pre><code>0 17 16 8 *    /usr/local/bin/startup_runner\n</code></pre>\n\n<p>this will work fine for you , any questions about the scripts ?</p>\n"}], "owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "closed_date": 1502952442, "answer_count": 2, "score": 0, "last_activity_date": 1502923007, "creation_date": 1502916342, "question_id": 45722715, "link": "https://stackoverflow.com/questions/45722715/cron-tab-pattern-to-run-a-script-once-in-a-year-once-in-lifetime", "closed_reason": "Needs more focus", "title": "Cron tab pattern to run a script once in a year/ once in lifetime", "body": "<p>I am looking for crontab pattern that should run my python script once in a year. Below is the date and time I am looking to trigger my script through crontab.</p>\n\n<p>Date: Aug-16-2017, Time: 5:00PM (should trigger the script only once this year at this specified time) </p>\n\n<p>Can someone please help me with this?</p>\n\n<p>Note: Im actually looking for something that should trigger my script in the background for once and leave it running (coz my script has infinite loop so once triggered and keep the process alive in the background should do good). For this I used \"at\" command (from googling I see \"at\" jobs are triggered once at a specific time and will kept alive until/unless the server/system reboots which is fine with me). But looks like \"at\" job didnt work as expected. I started \"at\" job at 12:20 PM PST which should keep my script running and my script is expected to send an output and 1:15 PM PST. Just to test this, I closed SSH session at 1:00 PM. Before closing I see output \"atq\" showing jobs triggered by at. But later when I re-sshed into the server again, I dont see any jobs running under \"at\".</p>\n\n<p>Can some one please help me one of these problems? Ultimately I m looking for a solution to keep the process alive for ever in the background.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1502915991, "post_id": 45722598, "comment_id": 78403192, "body": "Yes. There is no variable named <code>BB</code>. One of your <code>Letter</code> objects has a <code>name</code> attribute which is assigned to the <i>string</i> <code>&quot;BB&quot;</code>, but that is neither here nor there..."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1502916006, "post_id": 45722598, "comment_id": 78403195, "body": "The fact the the instance has a <code>name</code> attribute with the value <code>&#39;BB&#39;</code> does <b>not</b> mean that the identifier <code>BB</code> exists or is a reference to that instance. I&#39;d recommend reading <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/names.html</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1502916257, "post_id": 45722598, "comment_id": 78403323, "body": "I think the downvotes are overly harsh. The question itself is much better quality than your typical first question - it provides a small, self-contained example that reproduces the problem and provides the error-message and stack-trace."}, {"owner": {"reputation": 674, "user_id": 1893155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jvtf4.jpg?s=128&g=1", "display_name": "Eric Fulmer", "link": "https://stackoverflow.com/users/1893155/eric-fulmer"}, "edited": false, "score": 0, "creation_date": 1502917192, "post_id": 45722598, "comment_id": 78403729, "body": "Minor point of style advice: if your range starts at 0 you don&#39;t need to put in two arguments. You can just do <code>range(n)</code> here."}, {"owner": {"reputation": 39, "user_id": 8474522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e684bb663bec2db6f7e6555a3423f7a?s=128&d=identicon&r=PG&f=1", "display_name": "London_owl", "link": "https://stackoverflow.com/users/8474522/london-owl"}, "edited": false, "score": 0, "creation_date": 1502921867, "post_id": 45722598, "comment_id": 78405450, "body": "Thank you for all comments, really useful, I&#39;m reading the nedbatchelder article. Thanks also for being understanding for my first post!"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8474522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e684bb663bec2db6f7e6555a3423f7a?s=128&d=identicon&r=PG&f=1", "display_name": "London_owl", "link": "https://stackoverflow.com/users/8474522/london-owl"}, "edited": false, "score": 0, "creation_date": 1502923436, "post_id": 45722988, "comment_id": 78405951, "body": "This works, thanks very much.  In the <code>for</code> loop, I had to change the following line as well to  <code>globals()[name].hello()</code>  Also: does creating this global variable only mean it is accessible from anywhere in the code, or that it is located elsewhere than in the objects i am creating? If this question doesn&#39;t make sense: does class objects simply concatenate a certain set of methods and variables without being &quot;located&quot; within a class - only fulfilling the formal requirements of the class? Thanks again"}], "tags": [], "owner": {"reputation": 2205, "user_id": 2631559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20fbfe66bab9559d505abce5f259141?s=128&d=identicon&r=PG", "display_name": "Zweedeend", "link": "https://stackoverflow.com/users/2631559/zweedeend"}, "is_accepted": true, "score": 1, "last_activity_date": 1502917495, "creation_date": 1502917495, "answer_id": 45722988, "question_id": 45722598, "link": "https://stackoverflow.com/questions/45722598/cant-access-objects-created-with-class-init-function/45722988#45722988", "title": "can&#39;t access objects created with class __init__ function :", "body": "<p>You are attempting to set a global variable. You can do this using <code>globals()</code>, like:</p>\n\n<pre><code>globals()[\"AA\"] = Letters(\"AA\", 3)\n</code></pre>\n\n<p>So you can do this:</p>\n\n<pre><code>for x in range(n):\n    name= chr(x + 97).upper() * 2\n    globals()[name] = Letters(name, x + 1)\n\nAA.hello()\nprint(BB.var)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 8474522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e684bb663bec2db6f7e6555a3423f7a?s=128&d=identicon&r=PG&f=1", "display_name": "London_owl", "link": "https://stackoverflow.com/users/8474522/london-owl"}, "edited": false, "score": 0, "creation_date": 1502923868, "post_id": 45722991, "comment_id": 78406085, "body": "1)Makes sense. I was slightly confused because I thought the objects would be referred by the string <code>y</code>was pointing at, that means, at each iteration, AA, BB etc. - thus at each iteration the previous object wouldn&#39;t go away. 2) Is this procedure equivalent to the one given by Zweedend <code>globals()[name]</code>in the sense that the list you created is within the global symbol table?"}], "tags": [], "owner": {"reputation": 674, "user_id": 1893155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jvtf4.jpg?s=128&g=1", "display_name": "Eric Fulmer", "link": "https://stackoverflow.com/users/1893155/eric-fulmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1502917513, "creation_date": 1502917513, "answer_id": 45722991, "question_id": 45722598, "link": "https://stackoverflow.com/questions/45722598/cant-access-objects-created-with-class-init-function/45722991#45722991", "title": "can&#39;t access objects created with class __init__ function :", "body": "<p>Two problems here: </p>\n\n<ol>\n<li>Each of the <code>Letters</code> objects goes away at the next iteration of your loop. <code>y</code> is a new <code>Letters</code> object with new <code>name</code> and <code>var</code> -- the <code>y</code> from prior iterations is gone forever. If you want to keep each object you create you'll need to use a collection like a list or dict.  </li>\n<li>At the end, <code>print(BB.var)</code> is trying to print a variable called <code>BB</code>, or more specifically its <code>var</code> attribute. But you've never created a variable with that name, which is what <code>NameError: name 'BB' is not defined</code> is telling you. </li>\n</ol>\n\n<p>You could do something like this instead:</p>\n\n<pre><code>l = [] # new empty list\nfor x in range(0,n):\n    y=chr(x+97).upper()*2\n    y=Letters(y,x+1)\n    y.hello()\n    l.append(y) # add (append) y to the end of l\nprint(l[1].var) # print 2nd item's `var` which is BB\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8474522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e684bb663bec2db6f7e6555a3423f7a?s=128&d=identicon&r=PG&f=1", "display_name": "London_owl", "link": "https://stackoverflow.com/users/8474522/london-owl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 45722988, "answer_count": 2, "score": -2, "last_activity_date": 1502919680, "creation_date": 1502915872, "last_edit_date": 1502919680, "question_id": 45722598, "link": "https://stackoverflow.com/questions/45722598/cant-access-objects-created-with-class-init-function", "title": "can&#39;t access objects created with class __init__ function :", "body": "<p>I'm a beginner in Python so please pardon me if this is trivial, but I couldn't find any answer so far. Why do I get this error message?</p>\n\n<pre><code>#define a class containing a variable and a method\n#automatically generate n instances called AA,BB, CC each containing as \n#variable the letter's number (a=1, b=2 etc.)\n#define a function returning \"my name is BB and my var is 2\"\n\nn=5\nclass Letters(object):\n    def __init__(self, name, var):\n        self.var=var\n        self.name = name\n    def hello(self):\n        print('my name is %s and my var is %d'%(self.name, self.var))\nfor x in range(0,n):\n    y=chr(x+97).upper()*2\n    y=Letters(y,x+1)\n    y.hello()\nprint(BB.var)\n</code></pre>\n\n<p>And I get this output, which suggests the objects have been created, yet I can't access to the BB object and its var...</p>\n\n<pre><code>my name is AA and my var is 1\nmy name is BB and my var is 2\nmy name is CC and my var is 3\nmy name is DD and my var is 4\nmy name is EE and my var is 5\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\n&lt;ipython-input-103-600f444742c0&gt; in &lt;module&gt;()\n     13     y=Letters(y,x+1)\n     14     y.hello()\n---&gt; 15 print(BB.var)\n\nNameError: name 'BB' is not defined\n</code></pre>\n\n<p>Any explanation?</p>\n"}, {"tags": ["python", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 1, "creation_date": 1502919952, "post_id": 45722578, "comment_id": 78404804, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1502921797, "post_id": 45722578, "comment_id": 78405430, "body": "Your error and code must be reproducible and currently it is not."}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1502964514, "post_id": 45722578, "comment_id": 78421978, "body": "Probably due to a problem with the rest of your program."}], "owner": {"reputation": 9, "user_id": 8474648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e98c58cad7dd8b7c5022f48cb0465c5e?s=128&d=identicon&r=PG&f=1", "display_name": "gsal", "link": "https://stackoverflow.com/users/8474648/gsal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502921688, "creation_date": 1502915819, "last_edit_date": 1502921688, "question_id": 45722578, "link": "https://stackoverflow.com/questions/45722578/unable-to-convert-a-qvariant-back-to-a-python-object", "title": "unable to convert a QVariant back to a Python object", "body": "<p>There is a problem with the 3rd argument in the emit signal line below. As shown, the program produces the error in the title:</p>\n\n<pre><code>exception_caught = pyqtSignal(str, str, types.TracebackType)\n\ndef exception_handler(self, excepthook):\n    \"\"\"Handler for uncaught exceptions\n\n    :param excepthook: Exception handle function\n    :type excepthook: function\n    \"\"\"\n    def wrapper(error_type, error_obj, traceback):\n        \"\"\"Wrapper to handle the exceptions\n\n        :param error_type: Exception class\n        :type error_type: type\n\n        :param error_obj: Exception instance\n        :type error_obj: Exception\n\n        :param traceback: Traceback object\n        :type traceback: TracebackType\n        \"\"\"\n        sys.callstats()\n        self.exception_caught.emit(str(error_obj), \"error\", traceback)\n        excepthook(error_type, error_obj, traceback)\n\n    return wrapper\n</code></pre>\n\n<p>and if I try any other combination of:  </p>\n\n<pre><code>PyQt_PyObject  \ntraceback: Optional[str]=None  \ntraceback: Optional[types.TracebackType]=None  \n</code></pre>\n\n<p>Then, the error is that argument 3 is unexpectedly <code>None</code>.</p>\n\n<p>Working with Qt5 5.7, PyQt5 5.7, Python3 3.5.1</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502918591, "post_id": 45722555, "comment_id": 78404270, "body": "This code won&#39;t run. If you&#39;re going to post code, it needs to be runnable code that illustrates the problem."}], "answers": [{"tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 0, "last_activity_date": 1502918717, "last_edit_date": 1502918717, "creation_date": 1502918049, "answer_id": 45723097, "question_id": 45722555, "link": "https://stackoverflow.com/questions/45722555/tkinter-setting-default-checkbox-to-being-checked-returns-value-as-checked/45723097#45723097", "title": "tkinter setting default checkbox to being checked returns value as &quot;checked&quot;", "body": "<p>First off the code yo have shown us will not work for a few reason.</p>\n\n<p>You have a <code>'</code> just after <code>master.quit</code> you also are trying to create a button without assigning it to a window or frame. You have not  used <code>pack()</code>, <code>grid()</code> or <code>place()</code> to place the widgets into a window. You do not need to assign the value of master inside if <code>IntVar()</code>.</p>\n\n<p>Most likely the reason you think the value of <code>IntVar()</code> is not changing is because you have assigned the value of <code>IntVar()</code> to the variable <code>check</code> when the program is instantiated.</p>\n\n<p>With the code you have shown us nothing is changing or updating the value of <code>check</code>.</p>\n\n<p>Instead you should use something that can be called on to check the current value of <code>var1</code> like a function.</p>\n\n<p>Here is a simple program that shows what happens each time you check or uncheck the box.</p>\n\n<pre><code>import tkinter as tk\n\nmaster = tk.Tk()  \nvar1 = tk.IntVar() \nvar1.set(1) \n\ntk.Checkbutton(master, text = 'check', variable = var1).pack()\n\ndef print_var1():\n    print(var1.get())\n\ntk.Button(master, text = \"Print Var1\", command = print_var1).pack()\ntk.Button(master, text = 'Close', command = lambda: master.destroy()).pack() \n\nmaster.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6448092, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fcffc92c17e48cd00f45a7e47ce9bbdc?s=128&d=identicon&r=PG&f=1", "display_name": "Cahn Ex", "link": "https://stackoverflow.com/users/6448092/cahn-ex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1647, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1502918717, "creation_date": 1502915736, "question_id": 45722555, "link": "https://stackoverflow.com/questions/45722555/tkinter-setting-default-checkbox-to-being-checked-returns-value-as-checked", "title": "tkinter setting default checkbox to being checked returns value as &quot;checked&quot;", "body": "<p>This is my code: </p>\n\n<pre><code>master = Tk()  \nvar1 = IntVar(master) \nvar1.set(1) \nCheckbutton(master, text = 'check', variable = var1)\nButton(text = 'submit', command = master.quit') \ncheck = var1.get() \n</code></pre>\n\n<p>It sets the default to being checked, but even when I uncheck it on the GUI and hit submit, the value of check is still 1. </p>\n\n<p>Why is the action of unchecking the checkbox not being registered? </p>\n"}, {"tags": ["python", "python-3.x", "centos7", "rsyslog"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1502920870, "post_id": 45722547, "comment_id": 78405170, "body": "possibly helpful <a href=\"https://unix.stackexchange.com/questions/110698/how-to-check-which-specific-processes-python-scripts-are-running\">How to check which specific processes (Python scripts) are running?</a> and <a href=\"https://unix.stackexchange.com/questions/4214/what-is-the-difference-between-a-job-and-a-process\">What is the difference between a job and a process?</a>"}], "owner": {"reputation": 643, "user_id": 6332918, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef34cf2184b908e7006462294b2c73a2?s=128&d=identicon&r=PG", "display_name": "Nathan Smith", "link": "https://stackoverflow.com/users/6332918/nathan-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 655, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1502915699, "creation_date": 1502915699, "question_id": 45722547, "link": "https://stackoverflow.com/questions/45722547/how-do-i-find-my-program-name", "title": "How do I find my program name?", "body": "<h1>Problem</h1>\n\n<p>I am unable to write to a different log than the default one using syslog. I am unsure if maybe my app name is wrong in my configuration. Do \"program name\" and \"process name\" not mean the same thing? If not, how can I find my program name in Python 3.6?</p>\n\n<h1>Attempted</h1>\n\n<p>I have written a small application in Python 3.6. I am already successfully writing to a common syslog file in CentOS 7 at <code>/var/log/messages</code> with it. If I open that file, I can see my entries.</p>\n\n<p>If I run <code>ps aux | grep myappname</code>, the process name is listed as <code>python myappname.py</code>.</p>\n\n<p>I have created a file at <code>/etc/rsyslog.d/00-myconfig.conf</code> which contents are:</p>\n\n<pre><code>if $programname contains 'myappname' then /home/user/test_log.log\n&amp; ~\n</code></pre>\n\n<p>I have restarted the process with <code>sudo systemctl restart rsyslog</code>.</p>\n\n<p>I have run <code>rsyslogd -N1</code> which gives me a deprecation warning about my use of <code>~</code> in my config, proving that the config is being recognized. I have tried removing that line as I am not sure what it does, but that does not help either.</p>\n\n<p>I can confirm that the entries are still being written to <code>/var/log/messages</code>. The entries are not going up in smoke.</p>\n"}, {"tags": ["python", "machine-learning", "tensorflow", "int", "placeholder"], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 3663044, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100001335720810/picture?type=large", "display_name": "Akbapu", "link": "https://stackoverflow.com/users/3663044/akbapu"}, "edited": false, "score": 0, "creation_date": 1503107275, "post_id": 45722942, "comment_id": 78492325, "body": "I&#39;ve read the documentation and realized it&#39;s not possible. Is there an other way to implement dynamic_partition such that it does?"}], "tags": [], "owner": {"reputation": 1578, "user_id": 8429154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6e9c9fd6fb558e55de1354e29d38ae?s=128&d=identicon&r=PG&f=1", "display_name": "GeertH", "link": "https://stackoverflow.com/users/8429154/geerth"}, "is_accepted": false, "score": 0, "last_activity_date": 1502917745, "last_edit_date": 1502917745, "creation_date": 1502917314, "answer_id": 45722942, "question_id": 45722527, "link": "https://stackoverflow.com/questions/45722527/tensorflow-pass-in-integer-dynamically/45722942#45722942", "title": "Tensorflow: pass in integer dynamically?", "body": "<p>It is not possible to pass the number of partitions dynamically. According to the <a href=\"https://www.tensorflow.org/api_docs/python/tf/dynamic_partition\" rel=\"nofollow noreferrer\">docs</a> <code>tf.dynamic_partition</code> expects an python integer not a tensor. This is because the number of elements in the list that is returned by <code>tf.dynamic_partitition</code> needs to be known statically.</p>\n"}], "owner": {"reputation": 729, "user_id": 3663044, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100001335720810/picture?type=large", "display_name": "Akbapu", "link": "https://stackoverflow.com/users/3663044/akbapu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502917745, "creation_date": 1502915612, "question_id": 45722527, "link": "https://stackoverflow.com/questions/45722527/tensorflow-pass-in-integer-dynamically", "title": "Tensorflow: pass in integer dynamically?", "body": "<p>I'm trying to use tf's dynamic_partition which is used like this:</p>\n\n<pre><code>tf.dynamic_partition(data=someTensor, partitions=lengthOfArticles, num_partitions=numPartitions, name=\"Partition_Data\")\n</code></pre>\n\n<p>I want num_partitions to be dependent on the data in each run(), so I defined a placeholder:</p>\n\n<pre><code>numPartitions = tf.placeholder(shape=None, dtype=tf.int32)\n</code></pre>\n\n<p>But I'm getting this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"stackedSeq2Seq.py\", line 123, in &lt;module&gt;\n    summedAttention = sumUp(eout.attention_values)\n  File \"stackedSeq2Seq.py\", line 66, in sumUp\n    partitioned = tf.dynamic_partition(data=someTensor, partitions=lengthOfArticles, num_partitions=numPartitions, name=\"Partition_Data\")\n  File \"/Users/akilesh/anaconda3/lib/python3.4/site-packages/tensorflow/python/ops/gen_data_flow_ops.py\", line 423, in dynamic_partition\n    num_partitions=num_partitions, name=name)\n  File \"/Users/akilesh/anaconda3/lib/python3.4/site-packages/tensorflow/python/framework/op_def_library.py\", line 684, in apply_op\n    attr_value.i = _MakeInt(value, key)\n  File \"/Users/akilesh/anaconda3/lib/python3.4/site-packages/tensorflow/python/framework/op_def_library.py\", line 156, in _MakeInt\n    (arg_name, repr(v)))\nTypeError: Expected int for argument 'num_partitions' not &lt;tf.Tensor 'Placeholder:0' shape=&lt;unknown&gt; dtype=int32&gt;.\n</code></pre>\n\n<p>Is there any clever way around this?</p>\n"}, {"tags": ["python", "linux", "module", "path"], "comments": [{"owner": {"reputation": 381, "user_id": 1355805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J42hN.jpg?s=128&g=1", "display_name": "Jugurtha Hadjar", "link": "https://stackoverflow.com/users/1355805/jugurtha-hadjar"}, "edited": false, "score": 0, "creation_date": 1502915486, "post_id": 45722456, "comment_id": 78402994, "body": "Generally, you install things doing: &quot;./configure&quot;, then &quot;make&quot;, then &quot;sudo make install&quot;. Are these the steps you followed?"}, {"owner": {"reputation": 11, "user_id": 6112957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec73b6f99faaa3b977e82bd4aa735937?s=128&d=identicon&r=PG&f=1", "display_name": "Max ", "link": "https://stackoverflow.com/users/6112957/max"}, "reply_to_user": {"reputation": 381, "user_id": 1355805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J42hN.jpg?s=128&g=1", "display_name": "Jugurtha Hadjar", "link": "https://stackoverflow.com/users/1355805/jugurtha-hadjar"}, "edited": false, "score": 0, "creation_date": 1502916357, "post_id": 45722456, "comment_id": 78403370, "body": "What&#39;s ./configure? typed it in on its own and it didn&#39;t do anything. I ran &quot;sudo make install&quot; instead &quot;make install&quot; and got a traceback error: NameError: name &#39;PROTOCOL_TLS&#39; is not defined. Makefile:52: recipe for target &#39;install&#39; failed"}, {"owner": {"reputation": 381, "user_id": 1355805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J42hN.jpg?s=128&g=1", "display_name": "Jugurtha Hadjar", "link": "https://stackoverflow.com/users/1355805/jugurtha-hadjar"}, "edited": false, "score": 0, "creation_date": 1502917662, "post_id": 45722456, "comment_id": 78403902, "body": "Sorry, I said generally. I&#39;m looking at the install steps and they don&#39;t seem to have a configure file.  They do, however, list dependencies you have to install <i>before</i> trying to install OR. Did <a href=\"https://developers.google.com/optimization/introduction/installing.html#unix\" rel=\"nofollow noreferrer\">you install those</a>?"}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1502921667, "post_id": 45722456, "comment_id": 78405402, "body": "Why didn&#39;t you install this package from pypi (with pip) as it exists in pypi ?"}, {"owner": {"reputation": 11, "user_id": 6112957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec73b6f99faaa3b977e82bd4aa735937?s=128&d=identicon&r=PG&f=1", "display_name": "Max ", "link": "https://stackoverflow.com/users/6112957/max"}, "edited": false, "score": 0, "creation_date": 1502993345, "post_id": 45722456, "comment_id": 78441875, "body": "I was following the instructions on the google page I linked. It seemed to be an error with anaconda? if I run &#39;/usr/bin/python regular.py&#39; it will work fine, but if I run just &#39;python regular.py&#39; it will return &#39;bash: /home/m3/anaconda2/bin/python: No such file or directory&#39; because I deleted anaconda (it was unnecessary, oops). How do I change things so that python automatically goes to my /usr/bin/python in stead of /home/m3/anaconda2/bin/python?"}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1503085835, "post_id": 45722456, "comment_id": 78486436, "body": "If you have this interpreter because you activated a virtualenv, then use the accepted answer <a href=\"https://stackoverflow.com/questions/990754/how-to-leave-exit-deactivate-a-python-virtualenv\">here</a> to deactivate the virtualenv. Also start a new terminal and type <code>which python</code>."}, {"owner": {"reputation": 11, "user_id": 6112957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec73b6f99faaa3b977e82bd4aa735937?s=128&d=identicon&r=PG&f=1", "display_name": "Max ", "link": "https://stackoverflow.com/users/6112957/max"}, "edited": false, "score": 0, "creation_date": 1503631864, "post_id": 45722456, "comment_id": 78706586, "body": "I fixed it by reinstalling with pypip. Thank you!"}], "owner": {"reputation": 11, "user_id": 6112957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec73b6f99faaa3b977e82bd4aa735937?s=128&d=identicon&r=PG&f=1", "display_name": "Max ", "link": "https://stackoverflow.com/users/6112957/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502915342, "creation_date": 1502915342, "question_id": 45722456, "link": "https://stackoverflow.com/questions/45722456/python-path-error-no-module-found-error", "title": "Python Path error - No Module Found error", "body": "<p>I'm having issues running ortools on Linux. I downloaded it from google's site (<a href=\"https://developers.google.com/optimization/\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/</a>) and installed it using \"make install,\" but when I go to use it in python I get the following: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"regular.py\", line 42, in &lt;module&gt;\n    from ortools.constraint_solver import pywrapcp\n  File \"/home/m3/summer/ortools_examples/examples/python/ortools.py\", line 2, in &lt;module&gt;\nImportError: No module named linear_solver\n</code></pre>\n\n<p>It looks like despite installing ortools, its still not in my python path correctly, so when I call it in the file, it doesn't find anything and returns an error, right? Any advice on how to solve this? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 5, "creation_date": 1502915425, "post_id": 45722427, "comment_id": 78402970, "body": "If the class you&#39;re <code>super</code>ing requires the object to be in a certain state then you put it in that state before <code>super</code>... If your class requires the object to be in a certain state before it can continue its initialisation and that&#39;s provided by a parent class then you super that first. Hopefully someone will make a proper answer - but - it all depends..."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1502915486, "post_id": 45722427, "comment_id": 78402995, "body": "as long as you actually <i>call</i> the parent constructor..."}, {"owner": {"reputation": 758, "user_id": 1411132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bbc11089c165ab8ef71bf50fe15604e?s=128&d=identicon&r=PG", "display_name": "Grisha S", "link": "https://stackoverflow.com/users/1411132/grisha-s"}, "edited": false, "score": 3, "creation_date": 1502915641, "post_id": 45722427, "comment_id": 78403059, "body": "Two very common cases: 1) you need to do pre-processing of the constructor&#39;s args, so that will require some code before <code>super()</code>; 2) do something about the instance variables defined by the superclass - that means you need code after <code>super()</code>. So it really depends on the logic you&#39;re implementing"}, {"owner": {"reputation": 674, "user_id": 1893155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jvtf4.jpg?s=128&g=1", "display_name": "Eric Fulmer", "link": "https://stackoverflow.com/users/1893155/eric-fulmer"}, "edited": false, "score": 3, "creation_date": 1502915799, "post_id": 45722427, "comment_id": 78403120, "body": "It really depends on how the constructor of the parent class works."}], "answers": [{"tags": [], "owner": {"reputation": 1826, "user_id": 3515670, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4b91007fe3bbe2ae5781790dcc63c15?s=128&d=identicon&r=PG", "display_name": "Richard Neumann", "link": "https://stackoverflow.com/users/3515670/richard-neumann"}, "is_accepted": false, "score": 4, "last_activity_date": 1502915575, "creation_date": 1502915575, "answer_id": 45722518, "question_id": 45722427, "link": "https://stackoverflow.com/questions/45722427/should-super-always-be-at-the-top-of-an-init-method-or-can-it-be-at-the-bot/45722518#45722518", "title": "Should super always be at the top of an __init__ method, or can it be at the bottom?", "body": "<p>This totally depends on the use case. Consider this.</p>\n\n<pre><code>class Foo():\n    def __init__(self):\n        print(self.name)\n\n    @property\n    def name(self):\n        return self.__class__.__name__\n\n\nclass Bar(Foo):\n    def __init__(self, name):\n        self.name = name\n        super().__init__()\n\n    @property\n    def name(self):\n        return self.__name\n\n    @name.setter\n    def name(self, name):\n        self.__name = name\n</code></pre>\n\n<p>If you'd invoke <code>super()</code> before setting <code>self.name</code> within <code>Bar.__init__</code> you'd get an <code>AttributeError</code> because the required name has not yet been set.</p>\n"}, {"tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 2, "last_activity_date": 1502919808, "last_edit_date": 1502919808, "creation_date": 1502918909, "answer_id": 45723286, "question_id": 45722427, "link": "https://stackoverflow.com/questions/45722427/should-super-always-be-at-the-top-of-an-init-method-or-can-it-be-at-the-bot/45723286#45723286", "title": "Should super always be at the top of an __init__ method, or can it be at the bottom?", "body": "<blockquote>\n  <p>Is it bad form to have it at the bottom of an init method?</p>\n</blockquote>\n\n<p>You're asking the wrong question. Regardless of whether it's bad from or not, there are valid use cases for moving the superclass initialization to the bottom of a sub-class's constructor. Where to put the call to the superclass's constructor entirely depends on the implementation of the superclass's constructor.</p>\n\n<p>For example, suppose you have a superclass. When constructing the superclass, you want to give an attribute a certain value depending on an attribute of the subclasses:</p>\n\n<pre><code>class Superclass:\n    def __init__(self):\n        if self.subclass_attr == True:\n            self.attr = 1\n        else:\n            self.attr = 2\n</code></pre>\n\n<p>As you can see from above, we expect the subclasses to have the attribute <code>subclass_attr</code>. So what does this mean? <em>We can't initialize <code>Supperclass</code> until we've given the subclasses the <code>subclass_attr</code> attribute</em>. </p>\n\n<p>Thus, we have to defer calling the superclass's constructor until we initialize <code>subclass_attr</code>. In other words, the call to <code>super</code> will have to be put at the bottom of a subclasses constructor:</p>\n\n<pre><code>class Subclass(Superclass):\n    def __init__(self):\n        self.subclass_attr = True\n        super(Superclass, self).__init__()\n</code></pre>\n\n<p>In the end, the choice of where to put <code>super</code> should not be based upon some style, but on what's necessary.</p>\n"}], "owner": {"reputation": 7044, "user_id": 847663, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/h4tXb.png?s=128&g=1", "display_name": "Ginger", "link": "https://stackoverflow.com/users/847663/ginger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1502919808, "creation_date": 1502915208, "question_id": 45722427, "link": "https://stackoverflow.com/questions/45722427/should-super-always-be-at-the-top-of-an-init-method-or-can-it-be-at-the-bot", "title": "Should super always be at the top of an __init__ method, or can it be at the bottom?", "body": "<p>In most Python examples, when super is used to call a parent class's constructors, it appears at the top.</p>\n\n<p>Is it bad form to have it at the bottom of an <strong>init</strong> method?</p>\n\n<p>In the examples below, super is at the bottom of A's constructor, but at the top of B's constructor.</p>\n\n<pre><code>class A:\n    def __init__(self):\n        # Do some stuff\n        b = result_of_complex_operation()\n        super(A, self).__init__(b)\n\nclass B:\n    def __init__(self):\n        super(A, self).__init__(b)\n        # Do some stuff\n</code></pre>\n"}, {"tags": ["python", "selenium-webdriver", "random"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 4, "creation_date": 1502914976, "post_id": 45722358, "comment_id": 78402775, "body": "<code>random.choice</code> works. Your code doesn&#39;t. Where is <code>foo</code> declared? a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be nice."}, {"owner": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1502915028, "post_id": 45722358, "comment_id": 78402806, "body": "It&#39;s decalred at the top of my program."}, {"owner": {"reputation": 52185, "user_id": 1782792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e8dde1ee800b9687983617bbea3cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "jdehesa", "link": "https://stackoverflow.com/users/1782792/jdehesa"}, "edited": false, "score": 2, "creation_date": 1502915083, "post_id": 45722358, "comment_id": 78402832, "body": "Please edit the question to show the definition of <code>foo</code>."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 2, "creation_date": 1502915129, "post_id": 45722358, "comment_id": 78402846, "body": "and also, if you can remove from your code all the non-related lines - it will help creating focus on the issue you&#39;re having"}, {"owner": {"reputation": 716, "user_id": 8468145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93037f8271a7ae98fee7cad2debe0aa?s=128&d=identicon&r=PG&f=1", "display_name": "0liveradam8", "link": "https://stackoverflow.com/users/8468145/0liveradam8"}, "edited": false, "score": 2, "creation_date": 1502915188, "post_id": 45722358, "comment_id": 78402873, "body": "<code>actions.send_keys(rand)</code> will keep sending a new random choice. You may need to use <code>actions.send_keys(keys.BACKSPACE)</code> for each character you previously sent to erase the original random choice."}, {"owner": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "edited": false, "score": 1, "creation_date": 1502915193, "post_id": 45722358, "comment_id": 78402876, "body": "Added the foo list"}, {"owner": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "edited": false, "score": 1, "creation_date": 1502915255, "post_id": 45722358, "comment_id": 78402898, "body": "Oliver, after it pasted the random string it clicks on a button. So it&#39;s always a new textbox it writes it in."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "edited": false, "score": 0, "creation_date": 1502953363, "post_id": 45722575, "comment_id": 78414659, "body": "So how do I fix it?"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "reply_to_user": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "edited": false, "score": 0, "creation_date": 1502981956, "post_id": 45722575, "comment_id": 78434922, "body": "@DanielCarlsson: Do one of: (1) Skip using <code>ActionChains</code> altogether and do <code>driver.find_element_by_whatever(whatever).send_keys(rand)</code>. (2) Move <code>actions = ActionChains(driver)</code> inside your for-loop.  (3) Call <code>actions.reset_actions()</code> after <code>actions.perform()</code>. (I&#39;m not certain about <code>reset_actions()</code>.  The docs says it &quot;clears actions that are already stored on the remote end.&quot;  That makes it sounds like it may empty the queue of actions.  If not, options 1 and 2 will surely work.)"}], "tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1502916638, "last_edit_date": 1502916638, "creation_date": 1502915793, "answer_id": 45722575, "question_id": 45722358, "link": "https://stackoverflow.com/questions/45722358/random-choice-not-working-properly/45722575#45722575", "title": "Random choice not working properly", "body": "<p>This has nothing to do with <code>random.choice</code>.</p>\n\n<p>You are misusing the <a href=\"http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.common.action_chains\" rel=\"nofollow noreferrer\"><code>ActionChains</code></a> object: </p>\n\n<blockquote>\n  <p>When you call methods for actions on the ActionChains object, the actions are stored in a queue in the ActionChains object. When you call perform(), the events are fired in the order they are queued up.</p>\n</blockquote>\n\n<p>Every time you call <code>actions.send_keys(rand)</code> you add more actions to the queue.  Calling <code>actions.perform()</code> doesn't clear the queue of actions.</p>\n"}], "owner": {"reputation": 57, "user_id": 8360297, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NMoJwZU0w0Q/AAAAAAAAAAI/AAAAAAAAAGY/KAtevbrco54/photo.jpg?sz=128", "display_name": "Daniel Carlsson", "link": "https://stackoverflow.com/users/8360297/daniel-carlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502916638, "creation_date": 1502914913, "last_edit_date": 1502915829, "question_id": 45722358, "link": "https://stackoverflow.com/questions/45722358/random-choice-not-working-properly", "title": "Random choice not working properly", "body": "<pre><code>foo = ['hello', 'hi', 'sup', 'hey', 'yo']\ndef main():\n    actions = ActionChains(driver)\n\n    with open('links.txt', 'r') as f:\n        urls = []\n        for url in f:\n            rand = random.choice(foo)\n            driver.get(url)\n            time.sleep(3)\n            driver.execute_script(\"window.scrollTo(0, 200)\")\n            time.sleep(1)\n            try:\n                driver.find_element_by_class_name('comment-simplebox-renderer-collapsed-content').click()\n                actions.send_keys(rand)\n                actions.perform()\n                driver.find_element_by_xpath(\"\"\"//*[@id=\"comment-simplebox\"]/div[3]/div[2]/button[2]\"\"\").click()\n                time.sleep(3)\n            except NoSuchElementException:\n                pass\n</code></pre>\n\n<p>Instead of picking a random string I have in the foo list, it instead picks a random string the first time, the second time it just picks the first string and adds another random string to that. So it just adds strings to the rand variable instead of overwriting it. How can I solve this?</p>\n\n<p>I tried moving up the rand variable but that didn't work.</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1502916376, "post_id": 45722601, "comment_id": 78403377, "body": "Thanks Vin&#237;cius Aguiar, for your sharp and effective solution. A oneliner explanation or any link as to why (..) syntax should be applied would be much appreciated. Forgive my ignorance and thanks once again."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1502916659, "post_id": 45722601, "comment_id": 78403490, "body": "I&#39;m glad to help! I don&#39;t think <code>selenium</code> has something similar to bs4&#39;s <code>.findParent</code> so that is definetely a <i>workaround</i>, although it seems the best way to do this, you can check this XPath&#39;s syntax &quot;explanation&quot; in <a href=\"https://www.w3schools.com/xml/xpath_syntax.asp\" rel=\"nofollow noreferrer\">this w3schools page</a>."}], "tags": [], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "is_accepted": true, "score": 3, "last_activity_date": 1502915886, "creation_date": 1502915886, "answer_id": 45722601, "question_id": 45722343, "link": "https://stackoverflow.com/questions/45722343/unable-to-parse-a-certain-value-from-a-webpage/45722601#45722601", "title": "Unable to parse a certain value from a webpage", "body": "<p>The issue here is that the text desired is not inside the <code>&lt;abbr&gt;</code> tag, it's inside it's parent, the <code>&lt;td&gt;</code> tag. To find the element's parent, you can use the XPath's <em>double-dot</em> syntax with <code>.find_element_by_xpath(\"..\")</code>. Also, finding the <code>&lt;abbr&gt;</code> by it's class name is a much cleaner way than to use it's XPath. Note no waiting(neither explicit or implicit) was necessary for the code below to work:</p>\n\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get(\"http://www.gcmap.com/airport/EDEF\")\n\nitem = driver.find_element_by_class_name('latitude')\nitemParentText = item.find_element_by_xpath(\"..\").text\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; print(itemParentText)\n49\u00b057'09\"N (49.952500)\n</code></pre>\n"}], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 45722601, "answer_count": 1, "score": 3, "last_activity_date": 1502915886, "creation_date": 1502914843, "question_id": 45722343, "link": "https://stackoverflow.com/questions/45722343/unable-to-parse-a-certain-value-from-a-webpage", "title": "Unable to parse a certain value from a webpage", "body": "<p>I've written some code in python in combination with selenium to scrape \"Latitude\" from a website which is in this case \"49\u00b057'09\"N (49.952500)\" but for some reason I'm getting TimeoutException instead. I can't understand where I'm getting derailed from. Any input on this will be vastly appreciated.</p>\n\n<p>The script I'm trying with:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Chrome()\ndriver.get(\"http://www.gcmap.com/airport/EDEF\")\nwait = WebDriverWait(driver, 10)\n\ndriver.switch_to_frame(0)\nfor item in wait.until(EC.presence_of_all_elements_located((By.XPATH, \"//table[contains(@class,'vcard')]//td/abbr[@class='latitude']\"))):\n    print(item.text)  \ndriver.quit()\n</code></pre>\n\n<p>Elements in which the latitude resides:</p>\n\n<pre><code>&lt;td colspan=\"2\" nowrap=\"\"&gt;&lt;abbr class=\"latitude\" title=\"49.952500\"&gt;&lt;/abbr&gt;49\u00b057'09\"N (49.952500)&lt;/td&gt;\n</code></pre>\n\n<p>Here is the error I'm getting:</p>\n\n<pre><code>80, in until\n    raise TimeoutException(message, screen, stacktrace)\nselenium.common.exceptions.TimeoutException: Message:\n</code></pre>\n"}, {"tags": ["javascript", "python", "django", "python-2.7", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 1, "creation_date": 1502916801, "post_id": 45722695, "comment_id": 78403556, "body": "OMG thanks! I forgot to pass &quot;my_data&quot; to a context. Do you know a way in which I can pass &quot;my_data&quot; into a .js file? Also, if I were to go this route, will it be a problem if I pass more than 1 variable? Thanks again! :)"}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 1, "creation_date": 1502918643, "post_id": 45722695, "comment_id": 78404294, "body": "See my comment above for using a variable with an external javascript file (spoiler: it&#39;s easy). There is certainly no limit to how many objects you use."}], "tags": [], "owner": {"reputation": 539, "user_id": 8188569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJiD2.png?s=128&g=1", "display_name": "DoctorAgon", "link": "https://stackoverflow.com/users/8188569/doctoragon"}, "is_accepted": false, "score": 1, "last_activity_date": 1502916268, "creation_date": 1502916268, "answer_id": 45722695, "question_id": 45722314, "link": "https://stackoverflow.com/questions/45722314/how-to-pass-django-data-to-an-external-js-file/45722695#45722695", "title": "How to pass Django data to an external JS file?", "body": "<p>If your project is using <a href=\"http://jinja.pocoo.org\" rel=\"nofollow noreferrer\">Jinja</a> or some other templating engine you could try passing the data into the template.</p>\n\n<p>Found this bit on <a href=\"https://docs.djangoproject.com/en/1.11/intro/tutorial03/#write-views-that-actually-do-something\" rel=\"nofollow noreferrer\">Writing your first Django app, part 3</a> and tweaked it a bit. </p>\n\n<pre><code>def index(request):\n    template = loader.get_template('app/index.html')\n    my_data = ['whatever your data is']\n    context = {\n        'my_data': my_data,\n    }\n    return HttpResponse(template.render(context, request))\n</code></pre>\n\n<p>And in index.html</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        // import jQuery\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id='my_data_label'&gt;&lt;/div&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            var my_data = \"{{ my_data }}\"; // gets set by jinja\n            $('.my_data_label').text(my_data);\n            // do whatever with the data\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Not sure if this is exactly what you're looking for, but hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502916576, "post_id": 45722750, "comment_id": 78403458, "body": "My django skills are a bit rusty, so please double check my code before use. Any corrections are appreciated."}, {"owner": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 0, "creation_date": 1502917434, "post_id": 45722750, "comment_id": 78403819, "body": "Hi Roy! Thanks for your comment. I will play around on this code and update you if there is anything :)"}, {"owner": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 0, "creation_date": 1502917656, "post_id": 45722750, "comment_id": 78403896, "body": "Roy, I am avoiding adding a &lt;script&gt; tag in my html file because my entire page consists of four graphs. Those four graphs are being rendered by javascript. That is why I have made 4 external javascript files that links to my html. Lets say I successfully stored &quot;my_var&quot; into my html file through &lt;script&gt; var a = &quot;{{my_var}}&quot; &lt;/script&gt; how can I pass variable &quot;a&quot; to an external .js file?"}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "reply_to_user": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 1, "creation_date": 1502918377, "post_id": 45722750, "comment_id": 78404197, "body": "@Marvin There are two ways: <code>1)</code> Make sure you put the custom <code>&lt;script&gt;</code> before the <code>&lt;script&gt;</code> that imports the external file. That way you can use the variable inside the external file. <code>2)</code> You make an extra <code>&lt;script&gt;</code> at the very bottom that calls the function from the external file, using the variable you provide."}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "reply_to_user": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 0, "creation_date": 1502918464, "post_id": 45722750, "comment_id": 78404230, "body": "@Marvin I would prefer the second method, as it keeps the external file cleaner. Those are usually meant for re-use."}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "reply_to_user": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 0, "creation_date": 1502918791, "post_id": 45722750, "comment_id": 78404351, "body": "In the code example I provided, the <code>function doSomething(myvar)</code> could easily be a function that you loaded from an external file."}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "reply_to_user": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "edited": false, "score": 0, "creation_date": 1503254797, "post_id": 45722750, "comment_id": 78528979, "body": "How is this coming along? Is any of the answers helped you, consider accepting the answer, so others may benefit from your experience."}], "tags": [], "owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "is_accepted": false, "score": 1, "last_activity_date": 1502916478, "creation_date": 1502916478, "answer_id": 45722750, "question_id": 45722314, "link": "https://stackoverflow.com/questions/45722314/how-to-pass-django-data-to-an-external-js-file/45722750#45722750", "title": "How to pass Django data to an external JS file?", "body": "<p>It might a good idea to directly render the javascript data inside a <code>&lt;script&gt;</code> tag on the template for the page. If it is to be used in several pages, make sure to include it in the base template or import it using a include.</p>\n\n<p>Your view might resemble a standard django view:</p>\n\n<pre><code>def detail(request, poll_id):\n    try:\n        p = Poll.objects.get(pk=poll_id)\n    except Poll.DoesNotExist:\n        raise Http404(\"Poll does not exist\")\n    return render(request, 'polls/detail.html', {'poll': p})\n</code></pre>\n\n<p>The template would have some added logic to build the javascript object:</p>\n\n<pre><code>&lt;script&gt;\nvar questionset = {\n    {% for q in poll.question_set %}\n        q.id : {\n            \"title\": \"{{ q.title }}\",\n            \"score\": {{ q.score }}\n        }\n        {% if not loop.last %},{% endif %}\n    {% endfor %}\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>You now have a javascript object at your disposal in the template, that gets dynamically built from the data. You can use it as you please:</p>\n\n<pre><code>&lt;script&gt;\n    function doSomething(questionset){\n        ...\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>There are ways to save your data to a javascript file, but bear in mind that this get cached by the client's browser. Not a good idea to have dynamic data in that.</p>\n"}, {"comments": [{"owner": {"reputation": 622, "user_id": 5215609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94dee0d66cf90574511eb23f7291bb3f?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Avila", "link": "https://stackoverflow.com/users/5215609/diego-avila"}, "edited": false, "score": 0, "creation_date": 1547758126, "post_id": 53358682, "comment_id": 95312627, "body": "in this case the value countyData is show into template the idea is dont show this"}], "tags": [], "owner": {"reputation": 93, "user_id": 9888750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2114b8071fd80212fcf6ecd2c8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Minhduong243", "link": "https://stackoverflow.com/users/9888750/minhduong243"}, "is_accepted": false, "score": 0, "last_activity_date": 1542525227, "creation_date": 1542525227, "answer_id": 53358682, "question_id": 45722314, "link": "https://stackoverflow.com/questions/45722314/how-to-pass-django-data-to-an-external-js-file/53358682#53358682", "title": "How to pass Django data to an external JS file?", "body": "<p>I'd recommend <a href=\"https://docs.djangoproject.com/en/dev/ref/templates/builtins/#std:templatefilter-json_script\" rel=\"nofollow noreferrer\">json_script</a></p>\n\n<p>Here is an example. My code in the views.py</p>\n\n<pre><code>def countymap(request):\n    json_data = open('home/static/GEOJSON/NECounties2.geojson')\n    countyData = json.load(json_data)\n    return render(request, 'home/Countymap.html',\n                  {'countyData': countyData})\n</code></pre>\n\n<p>On my HTML, I use json_script to get the data and assign an id to it. In addition, there is a separate Javascript file (let's call it Countymap)   </p>\n\n<pre><code>&lt;html&gt;\nblah blah blah\n{{ countyData | json_script:\"county-data\" }}\n&lt;script type=\"text/javascript\" src='{% static \"js/Countymap.js\" %}'&gt;&lt;/script&gt;\n&lt;html&gt;\n</code></pre>\n\n<p>Inside the Countymap javascript, use this to get the data</p>\n\n<pre><code>var countyData = JSON.parse(document.getElementById('county-data').textContent);\n</code></pre>\n\n<p>Hope it still helps</p>\n"}], "owner": {"reputation": 123, "user_id": 8464368, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/5387afe267ba3ae868e966c1e8455c86?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/8464368/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3387, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1542525227, "creation_date": 1502914738, "question_id": 45722314, "link": "https://stackoverflow.com/questions/45722314/how-to-pass-django-data-to-an-external-js-file", "title": "How to pass Django data to an external JS file?", "body": "<p>I am working on a Django project. I would like to pass a data from Django's views.py into a javascript file, run the js function then render the return value into my html page. I am not using a form in this project. Can someone please guide me on how to approach this? Most answers I see here are currently outdated and I've tried different approaches with no luck. I am using Python v2.7. Thank you in advance! </p>\n"}, {"tags": ["python", "excel", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "is_accepted": false, "score": 0, "last_activity_date": 1502916604, "creation_date": 1502916604, "answer_id": 45722779, "question_id": 45722296, "link": "https://stackoverflow.com/questions/45722296/aligning-data-in-python/45722779#45722779", "title": "Aligning data in python", "body": "<p>You could try converting the tables to csv and striping the leading commas.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>with open(\"your_file_as_csv\", 'r') as file_in, open(\"output_as_csv\", 'w') as file_out:\n    for line in file_in:\n        file_out.write(line.strip(','))\n</code></pre>\n\n<p>That would at least remove blank lines and align everything to the first row and first column.</p>\n\n<p>But note that in your example you will have troubles with the row 2 containing \"summary, 2017\".</p>\n\n<p>Are you sure all your tables have the same format (columns labels, order, number ?)</p>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 7747409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Uqn.jpg?s=128&g=1", "display_name": "Lucas Picoloto", "link": "https://stackoverflow.com/users/7747409/lucas-picoloto"}, "is_accepted": false, "score": 0, "last_activity_date": 1502918068, "creation_date": 1502918068, "answer_id": 45723100, "question_id": 45722296, "link": "https://stackoverflow.com/questions/45722296/aligning-data-in-python/45723100#45723100", "title": "Aligning data in python", "body": "<p>You can use this functions:</p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html</a></p>\n\n<pre><code>df = df.dropna(axis=0, how='all')\ndf = df.dropna(axis=1, how='all')\n\nwriter = pd.ExcelWriter('out.xlsx')\ndf.to_excel(writer, 'out')\nwriter.save()\n</code></pre>\n\n<p>Before:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9MPbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MPbx.png\" alt=\"enter image description here\"></a></p>\n\n<p>After:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WnYRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WnYRq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 758, "user_id": 1411132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bbc11089c165ab8ef71bf50fe15604e?s=128&d=identicon&r=PG", "display_name": "Grisha S", "link": "https://stackoverflow.com/users/1411132/grisha-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1502921339, "creation_date": 1502921339, "answer_id": 45723763, "question_id": 45722296, "link": "https://stackoverflow.com/questions/45722296/aligning-data-in-python/45723763#45723763", "title": "Aligning data in python", "body": "<p>Here's a solution with <a href=\"https://openpyxl.readthedocs.io/en/default/index.html#\" rel=\"nofollow noreferrer\" title=\"openpyxl\">openpyxl</a></p>\n\n<p>No need to save new files or pre-load data into memory</p>\n\n<pre><code>import itertools\n\nfrom openpyxl import load_workbook\nfrom pandas import DataFrame\n\ndef get_data(ws):\n    for row in ws.values:\n        row_it = iter(row)\n        for cell in row_it:\n            if cell is not None:\n                yield itertools.chain((cell,), row_it)\n                break\n\ndef read_workbook(filename):\n    wb = load_workbook(filename)\n    ws = wb.active\n    return DataFrame(get_data(ws))\n</code></pre>\n\n<p>You can easily modify the code to limit the max number of steps you take before considering the row empty</p>\n"}], "owner": {"reputation": 189, "user_id": 8264382, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-gzggJflShW8/AAAAAAAAAAI/AAAAAAAADdA/ThPvuEcpQEk/photo.jpg?sz=128", "display_name": "Iwan", "link": "https://stackoverflow.com/users/8264382/iwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "accepted_answer_id": 45723763, "answer_count": 3, "score": 0, "last_activity_date": 1502921339, "creation_date": 1502914673, "question_id": 45722296, "link": "https://stackoverflow.com/questions/45722296/aligning-data-in-python", "title": "Aligning data in python", "body": "<p>I have excel spreadsheets I would like to concatenate into a pandas dataframe, however the table ranges entered into the spreadsheets are irregular. The data entered might begin at say, C5, D8, G4 etc. in each spreadsheet. The example below shows that it starts at B5.</p>\n\n<p>I would not know where the table would begin in each spreadsheet or specify which sheet in each workbook, as there's a few hundred. I intend to compile all sheets into a dataframe, then extract the rows of data which I need. The data is mostly in the same format but I would also need to bear in mind any notes within the spreadsheets.</p>\n\n<p>It would be simpler if the data in each spreadsheet was aligned together, then I could extract the rows I need with index labels. Is there a way to align all of the data in each spreadsheet to begin in the first column of each spreadsheet?</p>\n\n<p>Here is what I have so far: </p>\n\n<pre><code>import os\nimport pandas as pd\nimport glob\nimport numpy as np\n\npath =r'dir'\nallFiles = glob.glob(path + \"/*.xlsx\")\nframe = pd.DataFrame()\nlist_ = []\nfor file_ in allFiles:\n    df = pd.read_excel(file_,index_col=None, header=0)\n    list_.append(df)\nframe = pd.concat(list_)\n\nprint(list_)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/E4n8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4n8o.png\" alt=\"\"></a></p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 753, "user_id": 1261555, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7e3a42f44577136e85f153500047425e?s=128&d=identicon&r=PG", "display_name": "HexedAgain", "link": "https://stackoverflow.com/users/1261555/hexedagain"}, "edited": false, "score": 0, "creation_date": 1502920208, "post_id": 45723517, "comment_id": 78404927, "body": "Thank you so much for spotting that ... that worked!"}, {"owner": {"reputation": 12330, "user_id": 1526703, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3dab6f319dc8cd56cfe746a69724eb28?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/1526703/anupam"}, "edited": false, "score": 5, "creation_date": 1529852381, "post_id": 45723517, "comment_id": 89014821, "body": "Also, need to make sure that its <a href=\"https://docs.djangoproject.com/en/dev/howto/static-files/#serving-files-uploaded-by-a-user-during-development\" rel=\"nofollow noreferrer\">also set in urls.py</a>"}, {"owner": {"reputation": 423, "user_id": 11153552, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3XkG1A2poIM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfLIR4rEQaN1kn-4vD3wZjdHsb6LQ/mo/photo.jpg?sz=128", "display_name": "Emmanuel Chamilakis", "link": "https://stackoverflow.com/users/11153552/emmanuel-chamilakis"}, "edited": false, "score": 0, "creation_date": 1576847343, "post_id": 45723517, "comment_id": 105037562, "body": "On windows os.path.join does not work. What I used was MEDIA_ROOT += &#39;media/&#39;."}], "tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 14, "last_activity_date": 1502920211, "last_edit_date": 1502920211, "creation_date": 1502920006, "answer_id": 45723517, "question_id": 45722252, "link": "https://stackoverflow.com/questions/45722252/serving-image-files-from-django-admin/45723517#45723517", "title": "serving image files from django admin", "body": "<p>You just need to change the settings.py :</p>\n\n<pre><code>MEDIA_ROOT = os.path.join(parent_dir, 'media/')\nMEDIA_URL = '/media/'\n#------------^\n</code></pre>\n"}], "owner": {"reputation": 753, "user_id": 1261555, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7e3a42f44577136e85f153500047425e?s=128&d=identicon&r=PG", "display_name": "HexedAgain", "link": "https://stackoverflow.com/users/1261555/hexedagain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5599, "favorite_count": 2, "accepted_answer_id": 45723517, "answer_count": 1, "score": 6, "last_activity_date": 1502920211, "creation_date": 1502914497, "last_edit_date": 1502920014, "question_id": 45722252, "link": "https://stackoverflow.com/questions/45722252/serving-image-files-from-django-admin", "title": "serving image files from django admin", "body": "<p>For a site I'm building (first website from scratch btw so new to django) I want to provide to the administrator a means to deploy images from the admin pages, which will be used to drive the business logic from the customer's perspective. However I want the administrator to be able to view these images from the admin page too.\nSo I want one common images folder to be accessible from app views and the admin view. I currently have only one app named retailFilters.</p>\n\n<p>Now actually deploying some files to my media/images folder isn't a problem, I add a record (specifying an image to upload) on the admin page and sure enough, the files are waiting exactly where I expected to be. I also realise I have to tell django where to serve them from, and from poking around the internet I have my MEDIA_ROOT, MEDIA_URL and urlpatterns defined as:</p>\n\n<p>settings.py</p>\n\n<pre><code>...\nparent_dir = os.path.abspath(os.path.dirname(__file__) + '/..')\nMEDIA_ROOT = os.path.join(parent_dir, 'media/')\nMEDIA_URL = 'media/'\n</code></pre>\n\n<p>(and INSTALLED_APPS includes django.contrib.staticfiles))</p>\n\n<p>urls.py</p>\n\n<pre><code>urlpatterns = [\n    url(r'^admin/', admin.site.urls),\n]\n\nurlpatterns += static(settings.MEDIA_URL, document_root = settings.MEDIA_ROOT)\n</code></pre>\n\n<p>However the response to clicking on them is that admin bails out with a banner error:</p>\n\n<p>\"Filter with ID \"1/change/media/images/2012-03-29\".27.05.jpg\" doesn't exist. Perhaps it was deleted?\"</p>\n\n<hr>\n\n<p>My python version is 2.7.10</p>\n\n<p>My django version is 1.11</p>\n\n<p>My Directory structure at the moment (root is project directory) is as follows:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 db.sqlite3\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 media\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 images\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 2012-03-29_22.27.05.jpg\n\u251c\u2500\u2500 NOTES\n\u251c\u2500\u2500 retailFilters\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 apps.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 fixtures\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 boltons.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0001_initial.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0001_initial.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0002_auto_20170816_1934.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 0002_auto_20170816_1934.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tables\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Bolt_On_Group.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Bolt_On_Group.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Bolt_On.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Bolt_On.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Filter.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Filter.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Order_Payment.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Order_Payment.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Order.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Order.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Payment_Vendor.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Payment_Vendor.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 User.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 User.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 snapify\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 wsgi.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.pyc\n\u2514\u2500\u2500 static\n    \u2514\u2500\u2500 retailFilters\n        \u2514\u2500\u2500 media\n            \u2514\u2500\u2500 images\n</code></pre>\n\n<p>my admin.py has:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nfrom django.contrib import admin\n\nfrom django.contrib.auth.models import User\nfrom django.contrib.auth.models import Group\n\nfrom tables.Filter import Filter\n\nadmin.site.unregister(User)\nadmin.site.unregister(Group)\n\n&lt;...other un-related admin entries ...&gt;    \n\n@admin.register(Filter)\nclass FILTER_Admin(admin.ModelAdmin) :\n    fields = ('DESCRIPTION', 'FILENAME', 'CATEGORY', 'PRICE')\n\n    #list_display = ('show_image',)\n</code></pre>\n\n<p>and my model for Filter is:</p>\n\n<p>Filter.py</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nfrom django.db import models\nfrom django.core.exceptions import ValidationError\nfrom django.core.files.storage import FileSystemStorage\n\nimport os\nimport pdb\n\ncategories = {'T': 'Personalised Template', \n              'C': 'Custom Filter'}\nimages = 'images'\n\nclass Filter(models.Model) :\n    FILTER_REFERENCE   = models.IntegerField(primary_key = True)\n    FILENAME           = models.ImageField(upload_to = images)\n    DESCRIPTION        = models.TextField()\n    CATEGORY           = models.CharField(max_length = 1, null = True, choices = [(x, categories[x]) for x in categories])\n    PRICE              = models.DecimalField(default = 0.00, max_digits = 5, decimal_places = 2)\n\n    def __unicode__(self) :\n        return self.DESCRIPTION\n\n    #def show_image(self) :\n    #    #pdb.set_trace()\n    #    return '&lt;a href=\"{0}\"&gt;&lt;img src=\"{0}\"&gt;&lt;/a&gt;'.format(self.FILENAME)\n\n    #show_image.allow_tags = True\n</code></pre>\n\n<p>and the last output from the runserver commandline:</p>\n\n<pre><code>System check identified no issues (0 silenced).\nAugust 16, 2017 - 20:03:42\nDjango version 1.11.1, using settings 'snapify.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n[16/Aug/2017 20:03:44] \"GET /admin/ HTTP/1.1\" 200 4683\n[16/Aug/2017 20:03:47] \"GET /admin/retailFilters/filter/ HTTP/1.1\" 200 4203\n[16/Aug/2017 20:03:47] \"GET /admin/jsi18n/ HTTP/1.1\" 200 3217\n[16/Aug/2017 20:03:55] \"POST /admin/retailFilters/filter/ HTTP/1.1\" 200 3175\n[16/Aug/2017 20:03:57] \"POST /admin/retailFilters/filter/ HTTP/1.1\" 302 0\n[16/Aug/2017 20:03:57] \"GET /admin/retailFilters/filter/ HTTP/1.1\" 200 3189\n[16/Aug/2017 20:03:58] \"GET /admin/jsi18n/ HTTP/1.1\" 200 3217\n[16/Aug/2017 20:04:04] \"GET /admin/retailFilters/filter/ HTTP/1.1\" 200 3067\n[16/Aug/2017 20:04:06] \"GET /admin/retailFilters/ HTTP/1.1\" 200 3167\n[16/Aug/2017 20:04:08] \"GET /admin/retailFilters/filter/add/ HTTP/1.1\" 200 5420\n[16/Aug/2017 20:04:08] \"GET /admin/jsi18n/ HTTP/1.1\" 200 3217\n[16/Aug/2017 20:04:20] \"POST /admin/retailFilters/filter/add/ HTTP/1.1\" 302 0\n[16/Aug/2017 20:04:20] \"GET /admin/retailFilters/filter/ HTTP/1.1\" 200 4391\n[16/Aug/2017 20:04:20] \"GET /admin/jsi18n/ HTTP/1.1\" 200 3217\n[16/Aug/2017 20:04:23] \"GET /admin/retailFilters/filter/1/change/ HTTP/1.1\" 200 5789\n[16/Aug/2017 20:04:23] \"GET /admin/jsi18n/ HTTP/1.1\" 200 3217\n[16/Aug/2017 20:04:25] \"GET /admin/retailFilters/filter/1/change/media/images/2012-03-29_22.27.05.jpg/ HTTP/1.1\" 302 0\n[16/Aug/2017 20:04:25] \"GET /admin/retailFilters/filter/1/change/media/images/2012-03-29_22.27.05.jpg/change/ HTTP/1.1\" 302 0\n[16/Aug/2017 20:04:25] \"GET /admin/ HTTP/1.1\" 200 5427\n[16/Aug/2017 20:04:29] \"GET /admin/retailFilters/filter/1/change/ HTTP/1.1\" 200 5789\n</code></pre>\n\n<p>Sorry if this has been asked countless times but I've spent a solid 5 hours scouring the internet on this problem and am still unsuccessful.</p>\n\n<p>Can anyone point out what I'm missing?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 2986, "user_id": 4316726, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a9dbbe67417449dad8b918b8f1756266?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Powell", "link": "https://stackoverflow.com/users/4316726/brian-powell"}, "edited": false, "score": 0, "creation_date": 1502914500, "post_id": 45722238, "comment_id": 78402541, "body": "ahh okay - this makes sense.  Thanks!"}], "tags": [], "owner": {"reputation": 2677, "user_id": 2855152, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65f914e8b669f0ae38146d3b8a6f0d06?s=128&d=identicon&r=PG", "display_name": "thaavik", "link": "https://stackoverflow.com/users/2855152/thaavik"}, "is_accepted": true, "score": 2, "last_activity_date": 1502914453, "creation_date": 1502914453, "answer_id": 45722238, "question_id": 45722207, "link": "https://stackoverflow.com/questions/45722207/python-finding-multiple-strings-in-multiple-strings/45722238#45722238", "title": "python - finding multiple strings in multiple strings", "body": "<p>Need to iterate through the tuple of test strings:</p>\n\n<pre><code>a = 'test string'\nb = 'I am a cat'\nc = 'Washington'\nif any(s in test for test in (a,b,c) for s in ('this', 'test', 'cat')):\n    print(\"found\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2986, "user_id": 4316726, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a9dbbe67417449dad8b918b8f1756266?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Powell", "link": "https://stackoverflow.com/users/4316726/brian-powell"}, "edited": false, "score": 0, "creation_date": 1502914523, "post_id": 45722240, "comment_id": 78402559, "body": "This is actually really clean, and my real dataset is much larger - this might make things a lot easier to read in the end.  Thank you!"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 2986, "user_id": 4316726, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a9dbbe67417449dad8b918b8f1756266?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Powell", "link": "https://stackoverflow.com/users/4316726/brian-powell"}, "edited": false, "score": 0, "creation_date": 1502914543, "post_id": 45722240, "comment_id": 78402576, "body": "@BrianPowell glad I could help!"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1502914456, "creation_date": 1502914456, "answer_id": 45722240, "question_id": 45722207, "link": "https://stackoverflow.com/questions/45722207/python-finding-multiple-strings-in-multiple-strings/45722240#45722240", "title": "python - finding multiple strings in multiple strings", "body": "<p>You can try this:</p>\n\n<pre><code>a = 'test string'\nb = 'I am a cat'\nc = 'Washington'\n\nl = [a, b, c]\n\ntests = ('this', 'test', 'cat')\n\nif any(any(i in b for b in l) for i in tests):\n    print(\"found\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2986, "user_id": 4316726, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a9dbbe67417449dad8b918b8f1756266?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Powell", "link": "https://stackoverflow.com/users/4316726/brian-powell"}, "edited": false, "score": 0, "creation_date": 1502981791, "post_id": 45722372, "comment_id": 78434781, "body": "I appreciate you taking time to answer a question I already accepted an answer on.  This is a great idea, and in my case of checking 50 strings against 5 strings, it should actually make things faster and more efficient, so thanks!"}], "tags": [], "owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "is_accepted": false, "score": 2, "last_activity_date": 1502914967, "creation_date": 1502914967, "answer_id": 45722372, "question_id": 45722207, "link": "https://stackoverflow.com/questions/45722207/python-finding-multiple-strings-in-multiple-strings/45722372#45722372", "title": "python - finding multiple strings in multiple strings", "body": "<p>At this point it's probably worth compiling a regular expression of the substrings you're looking for and then just apply a single check using that... This means that you're only scanning each string once - not potentially three times (or however many substrings you're looking for) and keeps the <code>any</code> check at a single level of comprehension.</p>\n\n<pre><code>import re\n\nhas_substring = re.compile('this|test|cat').search\nif any(has_substring(text) for text in (a,b,c)):\n    # do something\n</code></pre>\n\n<p>Note you can modify the expression to only search for whole words, eg:</p>\n\n<pre><code>has_word = re.compile(r'\\b(this|test|cat)\\b').search\n</code></pre>\n"}], "owner": {"reputation": 2986, "user_id": 4316726, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a9dbbe67417449dad8b918b8f1756266?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Powell", "link": "https://stackoverflow.com/users/4316726/brian-powell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3008, "favorite_count": 0, "accepted_answer_id": 45722238, "answer_count": 3, "score": 1, "last_activity_date": 1502914967, "creation_date": 1502914283, "question_id": 45722207, "link": "https://stackoverflow.com/questions/45722207/python-finding-multiple-strings-in-multiple-strings", "title": "python - finding multiple strings in multiple strings", "body": "<p>I can use this to determine whether or not any of a set of multiple strings exist in another string, </p>\n\n<pre><code>bar = 'this is a test string'\nif any(s in bar for s in ('this', 'test', 'bob')):\n    print(\"found\")\n</code></pre>\n\n<p>but I'm not sure how to check if any of a set of multiple strings occur <strong>in any of many</strong> strings.  It seems like this would work.  Syntactically it does not fail, but it doesn't print me out anything either:</p>\n\n<pre><code>a = 'test string'\nb = 'I am a cat'\nc = 'Washington'\nif any(s in (a,b,c) for s in ('this', 'test', 'cat')):\n    print(\"found\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "edited": false, "score": 0, "creation_date": 1502914693, "post_id": 45722229, "comment_id": 78402656, "body": "This might seem confusing if you&#39;re starting out, but it&#39;s a very good answer."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "edited": false, "score": 0, "creation_date": 1502914782, "post_id": 45722229, "comment_id": 78402702, "body": "thanks. Since OP knows about unpacking, that&#39;s just a step ahead :)"}, {"owner": {"reputation": 381, "user_id": 1355805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J42hN.jpg?s=128&g=1", "display_name": "Jugurtha Hadjar", "link": "https://stackoverflow.com/users/1355805/jugurtha-hadjar"}, "reply_to_user": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "edited": false, "score": 1, "creation_date": 1502914827, "post_id": 45722229, "comment_id": 78402717, "body": "For memo, answer above is referencing <a href=\"https://www.python.org/dev/peps/pep-3132/\" rel=\"nofollow noreferrer\">PEP 3132: Extended Iterable  Unpacking</a>.. which is pretty cool in my opinion.  @Chris, I don&#39;t think it&#39;s confusing. It&#39;s one of the first things I tried when I started learning Python (2.7) because it was &quot;obvious&quot; something like this would work, but it didn&#39;t."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 7, "last_activity_date": 1502914739, "last_edit_date": 1502914739, "creation_date": 1502914401, "answer_id": 45722229, "question_id": 45722191, "link": "https://stackoverflow.com/questions/45722191/get-user-input-and-save-it-to-up-to-three-variables/45722229#45722229", "title": "Get user input and save it to up to three variables", "body": "<p>you cannot unpack into variables if the size varies. Well, not like this.</p>\n\n<p>You can, using <a href=\"https://www.python.org/dev/peps/pep-3132/\" rel=\"nofollow noreferrer\">extended iterable unpacking</a> (also known as star unpacking) (Python 3 only):</p>\n\n<pre><code>cmd, *args = input(\"&gt; \").split(\" \")\n</code></pre>\n\n<p>now if you enter only a command, <code>args</code> is empty, else it unpacks the arguments you're entering into a list.</p>\n\n<pre><code>if not args:\n  # there are no arguments\n  pass\nelif len(args)&gt;2:\n  print(\"too many args\")\nelse:\n  print(\"args\",args)\n</code></pre>\n\n<p>note that you'll find <code>split(\" \")</code> limited. I'd do <code>split()</code> (no argument: groups blanks to avoid empty args), or handle quoting with <code>shlex.split(input(\"&gt; \"))</code></p>\n\n<p>Note: with python 2, you'd have to split and test length. Less elegant, but would work.</p>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 8468145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d93037f8271a7ae98fee7cad2debe0aa?s=128&d=identicon&r=PG&f=1", "display_name": "0liveradam8", "link": "https://stackoverflow.com/users/8468145/0liveradam8"}, "is_accepted": false, "score": 2, "last_activity_date": 1502914554, "creation_date": 1502914554, "answer_id": 45722266, "question_id": 45722191, "link": "https://stackoverflow.com/questions/45722191/get-user-input-and-save-it-to-up-to-three-variables/45722266#45722266", "title": "Get user input and save it to up to three variables", "body": "<p>You can set the variables separately after getting the input string:</p>\n\n<pre><code>inp=input(\"&gt; \").split(\" \")\nl = len(inp)\nif l &gt;= 1:\n    cmd = inp[0]\nif l &gt;= 2:\n    arg1 = inp[1]\nif l &gt;= 3:\n    arg2 = inp[2]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8474521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nIxQr.jpg?s=128&g=1", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/8474521/alessandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1502914739, "creation_date": 1502914198, "last_edit_date": 1502914460, "question_id": 45722191, "link": "https://stackoverflow.com/questions/45722191/get-user-input-and-save-it-to-up-to-three-variables", "title": "Get user input and save it to up to three variables", "body": "<p>I have a problem with the following code:</p>\n\n<pre><code>cmd, arg, arg1 = input(\"&gt; \").split(\" \")\n</code></pre>\n\n<p>I want to get the input into these three vars.\nBut if I leave <code>arg</code> and <code>arg1</code> empty, Python complains:</p>\n\n<blockquote>\n  <p>not enough values to unpack (expected 3, got 1)</p>\n</blockquote>\n\n<p>How can I avoid this?</p>\n\n<p>I want to make <code>arg</code> and <code>arg1</code> optional.</p>\n"}, {"tags": ["python", "algorithm", "linked-list", "nlp", "greedy"], "comments": [{"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502914368, "post_id": 45722115, "comment_id": 78402478, "body": "I feel like I am not really qualified to answer this, but I would like to point you to lexers / lexical analysis. They seem to be dealing with this exact problem and deal with it efficiently. For instance your browser uses a lexer to parse the wikipedia HTML. Sorry I cannot be more specific."}, {"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 0, "creation_date": 1502914980, "post_id": 45722115, "comment_id": 78402778, "body": "Might I suggest <a href=\"https://codereview.stackexchange.com\">CodeReviewStackExchange</a>? This question seem more suited there as optimization fall in their category."}, {"owner": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 1, "creation_date": 1502915132, "post_id": 45722115, "comment_id": 78402848, "body": "Having read through it again: the second part (tokenization) is what a Lexer does. You can use a library to build the lexer, or employ FSM to build one. Sorry, I am quoting from memory of a great online course of Udacity: <a href=\"https://www.udacity.com/course/programming-languages--cs262\" rel=\"nofollow noreferrer\">udacity.com/course/programming-languages--cs262</a>"}, {"owner": {"reputation": 35094, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "reply_to_user": {"reputation": 2169, "user_id": 470917, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/149fcc513bf3e570418c4e9e85b97e7f?s=128&d=identicon&r=PG", "display_name": "Roy Prins", "link": "https://stackoverflow.com/users/470917/roy-prins"}, "edited": false, "score": 0, "creation_date": 1502987233, "post_id": 45722115, "comment_id": 78438519, "body": "@RoyPrins If you know what strings you are grabbing, then a lexer will do it.  But the challenge is figuring out which strings to grab."}], "owner": {"reputation": 387, "user_id": 1608941, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/839083c01b1a9cf355f3e04f8f4bdd47?s=128&d=identicon&r=PG", "display_name": "wizplum", "link": "https://stackoverflow.com/users/1608941/wizplum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502913881, "creation_date": 1502913881, "question_id": 45722115, "link": "https://stackoverflow.com/questions/45722115/optimally-splitting-a-text-into-strings-from-a-set", "title": "Optimally splitting a text into strings from a set", "body": "<p>I am trying to write an algorithm that starts with a corpus of texts (e.g., a Wikipedia dump). It first builds an array of individual characters (e.g., <code>\"a\"</code>, <code>\"b\"</code>, <code>\"7\"</code>, <code>\"0\"</code>, <code>\".\"</code>, <code>\" \"</code>) and frequent substrings (e.g, <code>\" the \"</code>, <code>\"ly \"</code>, <code>\" un\"</code>, <code>\"er\"</code>, <code>\"some\"</code>). Then it splits up the text corpus into a sequence of those substrings.</p>\n\n<p>I build the array as follows (not optimal but it's probably good enough):</p>\n\n<pre><code>from collections import defaultdict\n\ncorpus = [ ] # An array of strings, each string being a text\nmax_len = 5 # Longest sequence of characters to look for\nstrings = defaultdict(int)\nfor text in corpus:\n    for n in range(max_len):\n        for i in range(len(text)):\n            if i+n &lt; len(text):\n                strings[text[i:i+n+1]] += 1\n\ndict_size = 1000000 # Rough number of sequences to keep\nmin_count = sorted(strings.values(), reverse=True)[dict_size]\nfor key, count in strings.items():\n    if count &lt; min_count and len(key) &gt; 1: # Keep frequent sequences and all individual chars\n        del strings[key]\n</code></pre>\n\n<p>The part that seems trickiest is doing a good (or optimal) split of the texts. I assumed that longer substrings are less frequent and shorter substrings are less likely to collide, so my idea was to take a greedy approach: I run through the text sequentially once for each possible length in decreasing order. I use a linked list to keep track of the split out text:</p>\n\n<pre><code>class Token:\n    def __init__(self, text, next=None):\n        self._text = text\n        self._next = next\n        self._done = False\n\n    @property\n    def next(self):\n        return self._next\n    @next.setter\n    def next(self, token):\n        self._next = token\n\n    @property\n    def text(self):\n        return self._text\n    @text.setter\n    def text(self, text):\n        self._text = text\n\n    @property\n    def done(self):\n        return self._done\n    @done.setter\n    def done(self, status):\n        self._done = status\n\nfor text in corpus:\n    head = Token(text) # Start the list with one token of the whole text\n    for n in range(max_len, 0, -1): # Run through lengths in decreasing order\n        token = head # Go back to the start for each run\n        i = 0\n        while True:\n            if token.done or i+n &gt; len(token.text): # If token is processed or end of token is reached\n                if token.next:\n                    token = token.next # Continue linked list\n                    i = 0\n                    continue\n                else:\n                    break\n            if token.text[i:i+n] in strings:\n                if i &gt; 0: # Split out characters before match\n                    token.next = Token(token.text[i:], token.next)\n                    token.text = token.text[:i]\n                    token = token.next\n                token.done = True\n                if len(token.text) &gt; n: # Split out characters after match\n                    token.next = Token(token.text[n:], token.next)\n                    token.text = token.text[:n]\n                    token = token.next\n                    i = 0\n            else:\n                i += 1 # Run through characters in the token\n</code></pre>\n\n<p>This seems to work but I'm not sure how optimal it actually is, and I can't think of an algorithm that wouldn't run in exponential time. Initially I thought this may be a dynamic programming question but I don't think it works either because the character space is so sparse.</p>\n"}, {"tags": ["python", "asp.net", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 2544186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d203f87b51a40a10809ba4cb214303?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2544186/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1505317014, "creation_date": 1505317014, "answer_id": 46201610, "question_id": 45722069, "link": "https://stackoverflow.com/questions/45722069/trigger-data-response-from-aspx-page/46201610#46201610", "title": "Trigger data response from .aspx page", "body": "<p>I was able to get help from someone who knows more about aspx pages than me.</p>\n\n<p>Link to the Github gist that provides the solution.</p>\n\n<p><a href=\"https://gist.github.com/jarek/d73c672d8dd4ddb48d80bffc4d8038ba\" rel=\"nofollow noreferrer\">https://gist.github.com/jarek/d73c672d8dd4ddb48d80bffc4d8038ba</a></p>\n"}], "owner": {"reputation": 15, "user_id": 2544186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d203f87b51a40a10809ba4cb214303?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2544186/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 46201610, "answer_count": 1, "score": 0, "last_activity_date": 1505317014, "creation_date": 1502913731, "question_id": 45722069, "link": "https://stackoverflow.com/questions/45722069/trigger-data-response-from-aspx-page", "title": "Trigger data response from .aspx page", "body": "<pre><code>from bs4 import BeautifulSoup\nfrom pprint import pprint\nimport requests\n\nurl = 'http://estadistico.ut.com.sv/OperacionDiaria.aspx'\n\ns = requests.Session()\n\npagereq = s.get(url)\nsoup = BeautifulSoup(pagereq.content, 'lxml')\n\nviewstategenerator = soup.find(\"input\", attrs = {'id': '__VIEWSTATEGENERATOR'})['value']\nviewstate = soup.find(\"input\", attrs = {'id': '__VIEWSTATE'})['value']\neventvalidation = soup.find(\"input\", attrs = {'id': '__EVENTVALIDATION'})['value']\n\neventtarget = 'ASPxDashboardViewer1'\nDXCss = '1_33,1_4,1_9,1_5,15_2,15_4'\nDXScript = '1_232,1_134,1_225,1_169,1_187,15_1,1_183,1_182,1_140,1_147,1_148,1_142,1_141,1_143,1_144,1_145,1_146,15_0,15_6,15_7'\neventargument = {\"Task\":\"Export\",\"ExportInfo\":{\"Mode\":\"SingleItem\",\"GroupName\":\"pivotDashboardItem1\",\"FileName\":\"Generaci\u00f3n+por+tipo+de+tecnolog\u00eda+(MWh)\",\"ClientState\":{\"clientSize\":{\"width\":509,\"height\":385},\"titleHeight\":48,\"itemsState\":[{\"name\":\"pivotDashboardItem1\",\"headerHeight\":34,\"position\":{\"left\":11,\"top\":146},\"width\":227,\"height\":108,\"virtualSize\":'null',\"scroll\":{\"horizontal\":'true',\"vertical\":'true'}}]},\"Format\":\"Excel\",\"DocumentOptions\":{\"paperKind\":\"Letter\",\"pageLayout\":\"Portrait\",\"scaleMode\":\"AutoFitWithinOnePage\",\"scaleFactor\":1,\"autoFitPageCount\":1,\"showTitle\":'true',\"title\":\"Operaci\u00f3n+Diaria\",\"imageFormatOptions\":{\"format\":\"Png\",\"resolution\":96},\"excelFormatOptions\":{\"format\":\"Csv\",\"csvValueSeparator\":\",\"},\"commonOptions\":{\"filterStatePresentation\":\"None\",\"includeCaption\":'true',\"caption\":\"Generaci\u00f3n+por+tipo+de+tecnolog\u00eda+(MWh)\"},\"pivotOptions\":{\"printHeadersOnEveryPage\":'true'},\"gridOptions\":{\"fitToPageWidth\":'true',\"printHeadersOnEveryPage\":'true'},\"chartOptions\":{\"automaticPageLayout\":'true',\"sizeMode\":\"Zoom\"},\"pieOptions\":{\"autoArrangeContent\":'true'},\"gaugeOptions\":{\"autoArrangeContent\":'true'},\"cardOptions\":{\"autoArrangeContent\":'true'},\"mapOptions\":{\"automaticPageLayout\":'true',\"sizeMode\":\"Zoom\"},\"rangeFilterOptions\":{\"automaticPageLayout\":'true',\"sizeMode\":\"Stretch\"},\"imageOptions\":{},\"fileName\":\"Generaci\u00f3n+por+tipo+de+tecnolog\u00eda+(MWh)\"},\"ItemType\":\"PIVOT\"},\"Context\":\"BwAHAAIkY2NkNWRiYzItYzIwNS00MDIyLTkzZjUtYWQ0NzVhYTM5Y2E3Ag9PcGVyYWNpb25EaWFyaWECAAIAAAAAAMByQA==\",\"RequestMarker\":1,\"ClientState\":{}}\n\npostdata = {'__EVENTTARGET': eventtarget,\n            '__EVENTARGUMENT': eventargument,\n            '__VIEWSTATE': viewstate,\n            '__VIEWSTATEGENERATOR': viewstategenerator,\n            '__EVENTVALIDATION': eventvalidation,\n            'DXScript': DXScript,\n            'DXCss': DXCss\n           }\n\ndatareq = s.post(url, data = postdata)\n\nprint datareq.text\n</code></pre>\n\n<p>I'm trying to scrape data from <a href=\"http://estadistico.ut.com.sv/OperacionDiaria.aspx\" rel=\"nofollow noreferrer\">this</a> .aspx webpage.  The page loads the data dynamically via javascript so scraping directly with requests/BeautifulSoup won't work.</p>\n\n<p>By looking at the network traffic I can see that when you click the export (Exportar a) button for an element, select a type of export (excel, csv) then confirm a POST request is made to the page.  It returns a base64 encoded string of the data I need.  As far as I can tell there is no way to make a GET request for the file directly as it is only generated when requested.</p>\n\n<p>What I'm trying to do is is copy the POST request which triggers the csv response.  So first I scrape for __VIEWSTATE, __VIEWSTATEGENERATOR and __EVENTVALIDATION.  __EVENTTARGET, DXCSS and DXScript look to be fixed.  __EVENTARGUMENT is copied directly from the POST request.</p>\n\n<p>My code returns a server application error.  I'm thinking the problem is either a) wrong __EVENTARGUMENT (maybe part dynamic rather than fixed?), b) not really understanding how .aspx pages work or c) what I'm trying to do isn't possible with these tools.</p>\n\n<p>I did look at using selenium to trigger the data export but I couldn't see a way to capture the server response.</p>\n"}, {"tags": ["python", "flask", "arduino"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 2, "creation_date": 1502913530, "post_id": 45721990, "comment_id": 78402056, "body": "Please post the full exception traceback."}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 1, "creation_date": 1502913902, "post_id": 45721990, "comment_id": 78402226, "body": "Please put the error you receive when you run your code into your question, or else we don&#39;t know what causes the error"}, {"owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "edited": false, "score": 0, "creation_date": 1502913991, "post_id": 45721990, "comment_id": 78402271, "body": "Have you checked that <code>values</code> is a list of length 12? My guess would be you are getting a different return from <code>values= obj.readline().split(&#39;,&#39;)</code>. Would explain the float literal and bad index exceptions. Try <code>print(values)</code>"}, {"owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1502915953, "post_id": 45721990, "comment_id": 78403176, "body": "@FamousJameous thanks for replying. i updated the question with an error link. please let me know if its visible as i cant upload images right now because i am new to stackoverflow."}, {"owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "reply_to_user": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1502916031, "post_id": 45721990, "comment_id": 78403209, "body": "@Professor_Joykill thanks for replying. i updated the question with an error link."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1502970459, "post_id": 45723129, "comment_id": 78426172, "body": "thanks for your answer.  I tried this but still facing the same issue"}, {"owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "reply_to_user": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1502977407, "post_id": 45723129, "comment_id": 78431303, "body": "post the output of <code>print(values)</code>"}, {"owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1502990516, "post_id": 45723129, "comment_id": 78440291, "body": "print(values) gives this : [&#39;246.00&#39;, &#39;254.00&#39;, &#39;259.00&#39;, &#39;262.00&#39;, &#39;244.00&#39;, &#39;234.00&#39;, &#39;233.00&#39;, &#39;238.00&#39;, &#39;243.00&#39;, &#39;247.00&#39;, &#39;238.00&#39;, &#39;235.00\\r\\n&#39;]                                                                                 Also, the code runs fine sometimes but then suddenly shows these list index and invalid literal for float error."}, {"owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "reply_to_user": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1502994909, "post_id": 45723129, "comment_id": 78442691, "body": "Ok is this the output from one of the times when the code does run correctly? You could add some simple checks like <code>print(len(values)) </code> and see if <code>values</code> isn&#39;t length 12 when you get the error. (A good practice would be to use <code>try</code> / <code>except</code> block to catch an IndexError.)"}, {"owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "reply_to_user": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1502994999, "post_id": 45723129, "comment_id": 78442735, "body": "Also, the <code>\\r\\n</code> in the last value might be the cause of the occasional float conversion error. Use <code>.rstrip().split(&quot;,&quot;)</code>."}, {"owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1503081640, "post_id": 45723129, "comment_id": 78484283, "body": "thanks for your time. index error is gone now. but as i stated before. python still throws invalid literal for float error sometimes. why?"}, {"owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "reply_to_user": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "edited": false, "score": 0, "creation_date": 1503086938, "post_id": 45723129, "comment_id": 78486990, "body": "Can you post the full error message? If it&#39;s traceback is at the same line, you are just going to have to see what the contents of <code>values</code> looks like when you get the error. Could be that one of the entries is empty or contains &#39;NaN&#39; or something if the Arduino could not read that pin."}], "tags": [], "owner": {"reputation": 467, "user_id": 2116670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0272acc643ecfeb20f3d82841771d7e?s=128&d=identicon&r=PG", "display_name": "v.chaplin", "link": "https://stackoverflow.com/users/2116670/v-chaplin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502918880, "last_edit_date": 1502918880, "creation_date": 1502918195, "answer_id": 45723129, "question_id": 45721990, "link": "https://stackoverflow.com/questions/45721990/invalid-literal-for-float-and-index-out-of-range-issue/45723129#45723129", "title": "Invalid literal for float and index out of range issue", "body": "<p>The message suggests that it is the parsing of serial port via <code>values= obj.readline().split(',')</code>. Initially I thought that the problem could be Arduino printing '\\r\\n' and the line ending you parse with readline is just '\\n', but I guess that should work, you'll just be left with '\\r' on your <code>value[11]</code> (which might cause an SQL issue). However I think the index issue could be due to string encoding. </p>\n\n<p>Try this:\n<code>values = obj.readline().rstrip().decode().split(',')</code></p>\n\n<p>FYI it's more convenient for people if you copy+paste your error message from the terminal instead of a picture of it.</p>\n"}], "owner": {"reputation": 1, "user_id": 8429182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22fbf19fc05f30698486cd9ad21f10c3?s=128&d=identicon&r=PG&f=1", "display_name": "N L", "link": "https://stackoverflow.com/users/8429182/n-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502989884, "creation_date": 1502913445, "last_edit_date": 1502989884, "question_id": 45721990, "link": "https://stackoverflow.com/questions/45721990/invalid-literal-for-float-and-index-out-of-range-issue", "title": "Invalid literal for float and index out of range issue", "body": "<p>I know this question is already asked but I am unable to figure out this issue. I am using Python Flask for web programming. I am taking my data from the Arduino IDE. So whenever I run the Python program it shows this error saying list out of index. Plus sometimes invalid literal for float. Here is my code:</p>\n\n<p>Python code:</p>\n\n<pre><code>import sqlite3\nimport random\nfrom flask import Flask, render_template, url_for, jsonify, app, request\nfrom flask import Response\nimport serial\nimport time\nimport json\nimport math\nfrom time import time,gmtime,strftime\nfrom datetime import datetime, timedelta\nimport re\n\napp = Flask(__name__)\nobj= serial.Serial( '/dev/ttyS0' ,57600)\n@app.route('/', methods=['GET'])\ndef index():\n  return render_template('index.html')\n  @app.route('/data', methods=['GET'])\ndef rand():\n  conn = sqlite3.connect('table.db',timeout=15)\n  cursor = conn.cursor()\n  datestamp = datetime.now()\n  values= obj.readline().split(',')\n  cursor.execute('INSERT INTO ADC_DATA(Time,data1,data2,data3,data4,data5,data6,data7,data8,data9,data10,data11,data12) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)',(datestamp,values[0],values[1],values[2],values[3],values[4],values[5],values[6],values[7],values[8],values[9],values[10],values[11]))\n  conn.commit()\n  return jsonify(result=float(values[0]),result1=float(values[1]),result2=float(values[2]),result3=float(values[3]),result4=float(values[4]),result5=float(values[5]),result6=float(values[6]),result7=float(values[7]),result8=float(values[8]),result9=float(values[9]),result10=float(values[10]),result11=float(values[11]))\nif __name__ == '__main__':\n  app.run(host='0.0.0.0',threaded=True)\n</code></pre>\n\n<p>For the Arduino, the main part of the code is:</p>\n\n<pre><code>void loop() {\n  value1 = analogRead(pin1);\n  value2 = analogRead(pin2);\n  value3 = analogRead(pin3);\n  value4 = analogRead(pin4);\n  value5 = analogRead(pin5);\n  value6 = analogRead(pin6);\n  value7 = analogRead(pin7);\n  value8 = analogRead(pin8);\n  value9 = analogRead(pin9);\n  value10 = analogRead(pin10);\n  value11 = analogRead(pin11);\n  value12 = analogRead(pin12);\n  Serial1.print(value1);\n  Serial1.print(\",\");\n  Serial1.print(value2);\n  Serial1.print(\",\");\n  Serial1.print(value3);\n  Serial1.print(\",\");\n  Serial1.print(value4);\n  Serial1.print(\",\");\n  Serial1.print(value5);\n  Serial1.print(\",\");\n  Serial1.print(value6);\n  Serial1.print(\",\");\n  Serial1.print(value7);\n  Serial1.print(\",\");\n  Serial1.print(value8);\n  Serial1.print(\",\");\n  Serial1.print(value9);\n  Serial1.print(\",\");\n  Serial1.print(value10);\n  Serial1.print(\",\");\n  Serial1.print(value11);\n  Serial1.print(\",\");\n  Serial1.println(value12);\n  delay(50);\n}    \n</code></pre>\n\n<p>Please point out what I am doing wrong. Any help would be appreciated.</p>\n\n<p>Error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SdKVS.png\" rel=\"nofollow noreferrer\">error</a></p>\n"}, {"tags": ["python", "python-3.x", "function", "user-defined-functions"], "comments": [{"owner": {"reputation": 848, "user_id": 8121607, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1MgaT.png?s=128&g=1", "display_name": "JoshKopen", "link": "https://stackoverflow.com/users/8121607/joshkopen"}, "edited": false, "score": 0, "creation_date": 1502913459, "post_id": 45721961, "comment_id": 78402022, "body": "How are you running your code?"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 2, "creation_date": 1502913623, "post_id": 45721961, "comment_id": 78402099, "body": "You most likely aren&#39;t ever calling the function."}, {"owner": {"reputation": 15, "user_id": 8474405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3784f9b8c21f9e56febfc582be4694?s=128&d=identicon&r=PG&f=1", "display_name": "joon_bug", "link": "https://stackoverflow.com/users/8474405/joon-bug"}, "edited": false, "score": 0, "creation_date": 1502914128, "post_id": 45721961, "comment_id": 78402365, "body": "Hi guys thanks for the replies. Again, brand new to coding so what exactly do you mean by saying &quot;how are you running your code&quot; ?"}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1502914170, "post_id": 45721961, "comment_id": 78402393, "body": "Below where you define your function you need to call the function with <code>printTwice()</code>, also you can probably get rid of the <code>bryce</code> in parantheses when defining the function as it currently is not needed"}, {"owner": {"reputation": 15, "user_id": 8474405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3784f9b8c21f9e56febfc582be4694?s=128&d=identicon&r=PG&f=1", "display_name": "joon_bug", "link": "https://stackoverflow.com/users/8474405/joon-bug"}, "reply_to_user": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1502914603, "post_id": 45721961, "comment_id": 78402608, "body": "@professor_joykill thanks for the insight. Apologies for my newbish questions, but can you show me what you mean by calling the function below where I&#39;m defining it? I did not include the final command &#39;print bruce, bruce). For example .                                                                    &#39;def printTwice(bruce): print bruce, bruce&#39;"}, {"owner": {"reputation": 15, "user_id": 8474405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3784f9b8c21f9e56febfc582be4694?s=128&d=identicon&r=PG&f=1", "display_name": "joon_bug", "link": "https://stackoverflow.com/users/8474405/joon-bug"}, "edited": false, "score": 0, "creation_date": 1502915025, "post_id": 45721961, "comment_id": 78402803, "body": "Ok I figured it out thanks to all your help! I added printTwice() at the end of the function which I understand in this case is essentially &quot;taking the place of&quot; the normal print function because of what I defined printTwice as up above. Thank you all! First question on this community and you guys are great!"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8474405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3784f9b8c21f9e56febfc582be4694?s=128&d=identicon&r=PG&f=1", "display_name": "joon_bug", "link": "https://stackoverflow.com/users/8474405/joon-bug"}, "edited": false, "score": 0, "creation_date": 1502915960, "post_id": 45722328, "comment_id": 78403179, "body": "Thank you, Milk! Very helpful!"}], "tags": [], "owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "is_accepted": true, "score": 1, "last_activity_date": 1502914803, "creation_date": 1502914803, "answer_id": 45722328, "question_id": 45721961, "link": "https://stackoverflow.com/questions/45721961/user-defined-functions-and-learning-to-think-like-a-computer-scientist-with-pyth/45722328#45722328", "title": "User-Defined Functions and Learning to Think Like a Computer Scientist with Python", "body": "<p>Add <code>printTwice('bruce')</code> on a new line after the function, with no indentation like so:</p>\n\n<pre><code>def printTwice(bruce):\n    print('bruce')\n    print('bruce')\n\nprintTwice('bruce')\n</code></pre>\n\n<p>This line will call your <code>printTwice</code> function, passing the value <code>'bruce'</code> to the variable <code>bruce</code>, which is not used. </p>\n"}], "owner": {"reputation": 15, "user_id": 8474405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3784f9b8c21f9e56febfc582be4694?s=128&d=identicon&r=PG&f=1", "display_name": "joon_bug", "link": "https://stackoverflow.com/users/8474405/joon-bug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1502917591, "accepted_answer_id": 45722328, "answer_count": 1, "score": -5, "last_activity_date": 1502914803, "creation_date": 1502913358, "question_id": 45721961, "link": "https://stackoverflow.com/questions/45721961/user-defined-functions-and-learning-to-think-like-a-computer-scientist-with-pyth", "closed_reason": "Needs more focus", "title": "User-Defined Functions and Learning to Think Like a Computer Scientist with Python", "body": "<p>I am brand new to coding / programming and am starting with the foundations of Python. I've used a few different resources (Codecademy, Automate the Boring Stuff, and most recently, How to Think Like a Computer Scientist by Using Python). </p>\n\n<p>So far my education has been good, albeit a bit slow to start (not used to thinking in computer terms quite yet!). But I've run into a problem with one of the lessons that I cannot replicate in my IDE. Please see the code below:</p>\n\n<pre><code>def printTwice(bruce):\n    print('bruce')\n    print('bruce')\n</code></pre>\n\n<p>The lesson states the output should be 'Bruce, Bruce' which makes sense logically. However, when I go to run the code I get the following: </p>\n\n<p>===RESTART: /Users/owner/Documents/bruce.py======</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p></p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>So essentially just another line to start a new code from. I am writing this code in a new file and just cannot figure out what I'm doing wrong. </p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1502913861, "post_id": 45721960, "comment_id": 78402206, "body": "You&#39;re output data represents what comes immediately after each of those strings, not what comes between strings."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 0, "last_activity_date": 1502913811, "creation_date": 1502913811, "answer_id": 45722088, "question_id": 45721960, "link": "https://stackoverflow.com/questions/45721960/find-text-between-two-strings/45722088#45722088", "title": "Find text between two strings", "body": "<p>your regex was wrong (this one <code>[.+]</code> was between brackets which defined a character range, so it wasn't working, among other issues, like no way to distinguish between \"Sr.\" and \"Sra\" (seems what you wanted to do seeing the output), which I fixed by doing <code>Sr\\.</code>).</p>\n\n<p>I came up with that one which matches the formulas and also \"El senador Fern\u00e1ndez\", etc... there's no criterion to filter those. I also added <code>\\s*</code> before the capturing group to \"strip\" blanks:</p>\n\n<pre><code>bw_sr = re.compile('\\.\\-\\s*(.+?)\\nSr\\..+?\\.\\-')\ndata = bw_sr.findall(test)\n\nprint(data)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['\u00a1No, no! No empecemos.', '\u00a1No, no! No empecemos.', '\u00a1No, no! No empecemos.', '\u00a1No, no! No empecemos.']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 8175462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc572123c58e742e46ec508498840cc?s=128&d=identicon&r=PG&f=1", "display_name": "malugina", "link": "https://stackoverflow.com/users/8175462/malugina"}, "is_accepted": false, "score": 0, "last_activity_date": 1502914110, "creation_date": 1502914110, "answer_id": 45722175, "question_id": 45721960, "link": "https://stackoverflow.com/questions/45721960/find-text-between-two-strings/45722175#45722175", "title": "Find text between two strings", "body": "<p>It's work:</p>\n\n<pre><code>bw_sr = re.compile('\\.\\- (.*)')\ndata = bw_sr.findall(test)\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 839846, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd5a878c2820cb4c011139eaf177294?s=128&d=identicon&r=PG", "display_name": "Rod0n", "link": "https://stackoverflow.com/users/839846/rod0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1502914716, "creation_date": 1502913356, "last_edit_date": 1502914716, "question_id": 45721960, "link": "https://stackoverflow.com/questions/45721960/find-text-between-two-strings", "title": "Find text between two strings", "body": "<p>I've a big text like the following excerpt:</p>\n\n<pre><code>test = '''\nSra. Montero.- \u00a1No, no! No empecemos.   \nSr. Jefe de Gabinete de Ministros.- Respetuosamente se lo digo...   \nSra. Montero.- El senador Fern\u00e1ndez\nSra. Montero.- \u00a1No, no! No empecemos.   \nSr. Jefe de Gabinete de Ministros.- Respetuosamente se lo digo...   \nSra. Montero.- El senador Fern\u00e1ndez\nSra. Montero.- \u00a1No, no! No empecemos.   \nSr. Jefe de Gabinete de Ministros.- Respetuosamente se lo digo...   \nSra. Montero.- El senador Fern\u00e1ndez\nSra. Montero.- \u00a1No, no! No empecemos.   \nSr. Jefe de Gabinete de Ministros.- Respetuosamente se lo digo...   \nSra. Montero.- El senador Fern\u00e1ndez\n'''\n</code></pre>\n\n<p>I'd like to get all the text between the string \"Sr. Jefe de Gabinete de Ministros.-\" and the string \"Sr{{ random_text_here }}.-\". So in this example what I'd like to get would be the following:</p>\n\n<pre><code>data = ['Respetuosamente se lo digo...', 'Respetuosamente se lo digo...', 'Respetuosamente se lo digo...']\n</code></pre>\n\n<p>I know the regex clause has to be non-greedy and I already tested something like this:</p>\n\n<pre><code>bw_sr = re.compile('\\.\\-(.+?)Sr[.+]\\.\\-') #non greedy regexx              \ndata = bw_sr.findall(test)\n</code></pre>\n\n<p>But I end up getting an empty list. I tried several clauses but I can't seem to get to a solution.</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "numpy", "random"], "answers": [{"comments": [{"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 1, "creation_date": 1502917331, "post_id": 45722405, "comment_id": 78403781, "body": "While this code snippet may solve the question, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion. Please also try not to crowd your code with explanatory comments, this reduces the readability of both the code and the explanations!"}], "tags": [], "owner": {"reputation": 81, "user_id": 7476301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176aae579a552f7c136aa0c1c2c31a25?s=128&d=identicon&r=PG&f=1", "display_name": "sanhitamj", "link": "https://stackoverflow.com/users/7476301/sanhitamj"}, "is_accepted": false, "score": 0, "last_activity_date": 1502919306, "last_edit_date": 1502919306, "creation_date": 1502915127, "answer_id": 45722405, "question_id": 45721887, "link": "https://stackoverflow.com/questions/45721887/writing-a-loop-that-chooses-random-values-from-columns-python/45722405#45722405", "title": "Writing a loop that chooses random values from columns - Python", "body": "<pre><code>for n in xrange(np.shape(i)[-1]):\n     print np.random.choice(i[:, n], 5,replace=False)\n</code></pre>\n\n<p>n here is the number of column;\nnp.shape[-1] would give the total number of columns;\nxrange is a generator object that will generate the number of column through the loop.</p>\n\n<p>print statement here is reused from the question, except for the first column, it goes through all columns, with the use of the for loop.</p>\n\n<p>(Thanks rene for pointing me to the right way of doing things.)</p>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1502927729, "creation_date": 1502927729, "answer_id": 45724654, "question_id": 45721887, "link": "https://stackoverflow.com/questions/45721887/writing-a-loop-that-chooses-random-values-from-columns-python/45724654#45724654", "title": "Writing a loop that chooses random values from columns - Python", "body": "<p>Let's use <code>shape</code>, <code>arange</code>, and <code>random.choice</code>:</p>\n\n<pre><code>for c in np.arange(i.shape[1]-1):\n    print('Group {}: '.format(str(c+1)) + str(np.random.choice(i[:,c],5,replace=False)))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Group 1: [1521  231  671  801  711]\nGroup 2: [ 612  192 1172 1242 1322]\nGroup 3: [ 543  213 1453  723  973]\nGroup 4: [ 404 1334  474  294 1044]\nGroup 5: [1615 1455 1025 1665 1395]\nGroup 6: [1116 1336 1086 1626  536]\nGroup 7: [367 347 887 297 237]\nGroup 8: [1088 1188 1288   58  608]\nGroup 9: [1439 1289  869  349 1589]\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3474992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd6f9252408396f0b5ab0707bb986296?s=128&d=identicon&r=PG&f=1", "display_name": "mickeyt500", "link": "https://stackoverflow.com/users/3474992/mickeyt500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 45724654, "answer_count": 2, "score": 1, "last_activity_date": 1502940620, "creation_date": 1502913069, "last_edit_date": 1502940620, "question_id": 45721887, "link": "https://stackoverflow.com/questions/45721887/writing-a-loop-that-chooses-random-values-from-columns-python", "title": "Writing a loop that chooses random values from columns - Python", "body": "<p>Created a 2d array with (170,10) shape</p>\n\n<pre><code>i = np.array(range(1,1701)).reshape(170,10)\n</code></pre>\n\n<p>Want to write a loop that choses 5 random values <strong>without replacement</strong> from each column (or <strong>n</strong> number of columns) of i and output as below:</p>\n\n<pre><code>Group 1: [  7  37 124  41  17]\nGroup 2: [302 261 257 323 234]\nGroup 3: [464 486 463 440 474]\n</code></pre>\n\n<p>So far i can pull random values from a single column:</p>\n\n<pre><code>print(np.random.choice(i[:,0],5 ,replace=False))\n</code></pre>\n\n<p>How do i put this in a for loop and pull for <strong>n</strong> number of columns with the displayed output (will use .function for that)</p>\n"}, {"tags": ["python", "docker", "arm", "jupyter", "arm64"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1502913304, "post_id": 45721858, "comment_id": 78401949, "body": "Did you try to visit the URL provided? Did you include the token? Is there any sort of firewall blocking acces to port 8888?"}, {"owner": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1502972736, "post_id": 45721858, "comment_id": 78427717, "body": "@ForceBru Yes, full url with the token, no additional firewall rules"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "edited": false, "score": 0, "creation_date": 1502972671, "post_id": 45722209, "comment_id": 78427674, "body": "Elinks said: Unable to retrieve <a href=\"http://localhost:8888/&amp;token=\" rel=\"nofollow noreferrer\">localhost:8888/&amp;token=</a>....: Connection reset by peer"}, {"owner": {"reputation": 7195, "user_id": 384954, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/eb7bd28bf9bee8c0f477c76c6effd84e?s=128&d=identicon&r=PG", "display_name": "OregonTrail", "link": "https://stackoverflow.com/users/384954/oregontrail"}, "reply_to_user": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "edited": false, "score": 0, "creation_date": 1502986254, "post_id": 45722209, "comment_id": 78437864, "body": "Are you trying to hit <code>localhost</code> on the NanoPi itself or on another machine?"}, {"owner": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "edited": false, "score": 0, "creation_date": 1502996097, "post_id": 45722209, "comment_id": 78443313, "body": "on the NanoPi, this the reason why i&#39;m worrying"}, {"owner": {"reputation": 7195, "user_id": 384954, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/eb7bd28bf9bee8c0f477c76c6effd84e?s=128&d=identicon&r=PG", "display_name": "OregonTrail", "link": "https://stackoverflow.com/users/384954/oregontrail"}, "reply_to_user": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "edited": false, "score": 0, "creation_date": 1502996827, "post_id": 45722209, "comment_id": 78443703, "body": "try running Python&#39;s http server and see if you can hit that <code>python -m SimpleHTTPServer 8000</code>. visit <code>http:&#47;&#47;localhost:8000</code>"}], "tags": [], "owner": {"reputation": 7195, "user_id": 384954, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/eb7bd28bf9bee8c0f477c76c6effd84e?s=128&d=identicon&r=PG", "display_name": "OregonTrail", "link": "https://stackoverflow.com/users/384954/oregontrail"}, "is_accepted": false, "score": 0, "last_activity_date": 1502914303, "creation_date": 1502914303, "answer_id": 45722209, "question_id": 45721858, "link": "https://stackoverflow.com/questions/45721858/jupyter-and-aarch64/45722209#45722209", "title": "Jupyter and aarch64", "body": "<p>Try binding docker to all interfaces.</p>\n\n<pre><code>-p 0.0.0.0:8888:8888\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8474444, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCGwk3Mq2PY/AAAAAAAAAAI/AAAAAAAAAB0/_8wm9JWbsk0/photo.jpg?sz=128", "display_name": "Zonko", "link": "https://stackoverflow.com/users/8474444/zonko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502914303, "creation_date": 1502912928, "question_id": 45721858, "link": "https://stackoverflow.com/questions/45721858/jupyter-and-aarch64", "title": "Jupyter and aarch64", "body": "<p>What i have: NanoPi Neo2 (Allwinner A5 (arm v8 x64) processor, 512mb ram)\nWhat I did:</p>\n\n<ol>\n<li><code>apt-get install docker*</code></li>\n<li><code>docker pull konmeo/jupyter</code> (got <a href=\"https://hub.docker.com/r/konmeo/jupyter/\" rel=\"nofollow noreferrer\">here</a>)</li>\n<li><code>docker run -it --rm -p 8888:8888 4fdcd3a6ff59</code>\nit said <code>[C 19:38:32.851 NotebookApp] Running as root is not recommended. Use --allow-root to bypass.</code></li>\n<li><p>I runned <code>docker run -it --rm -p 8888:8888 4fdcd3a6ff59 /usr/bin/jupyter notebook --allow-root</code>, everything in docker is okay</p>\n\n<pre><code>[W 19:40:36.237 NotebookApp] server_extensions is deprecated, use nbserver_extensions\n[I 19:40:36.287 NotebookApp] Writing notebook server cookie secret to /root/.local/share/jupyter/runtime/notebook_cookie_secret\n[I 19:40:39.827 NotebookApp] hide_code: Attempting to load hid_code export handler extensions.\n[I 19:40:39.839 NotebookApp] hide_code: Hide_code export handler extensions loaded.\n[I 19:40:39.972 NotebookApp] Loading IPython parallel extension\n[I 19:40:40.238 NotebookApp] [jupyter_nbextensions_configurator] enabled 0.2.4\n[I 19:40:40.242 NotebookApp] Serving notebooks from local directory: /notebooks\n[I 19:40:40.243 NotebookApp] 0 active kernels \n[I 19:40:40.244 NotebookApp] The Jupyter Notebook is running at: http://localhost:8888/?token=89a3809bd589557e08e31d7fbd475e6e17bb333fe2311745\n[I 19:40:40.245 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).\n[W 19:40:40.248 NotebookApp] No web browser found: could not locate runnable browser.\n[C 19:40:40.250 NotebookApp] \n\n     Copy/paste this URL into your browser when you connect for the first time,\nto login with a token:\n        http://localhost:8888/?token=89a3809bd589557e08e31d7fbd475e6e17bb333fe2311745\n</code></pre>\n\n<p>but I have no access neither using browser on local device nor using http://<code>ip</code>:8888/ in local network</p></li>\n</ol>\n\n<p>What I should do to make it work?</p>\n"}, {"tags": ["python", "dictionary", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1502912735, "post_id": 45721770, "comment_id": 78401675, "body": "Short answer: No. (Not without changing your datatypes, anyhow -- if <code>extracted[&#39;a&#39;]</code> and <code>original[&#39;a&#39;]</code> were both lists, <i>then</i> you could make them be the same object)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 4, "creation_date": 1502912830, "post_id": 45721770, "comment_id": 78401716, "body": "...if you <b>really</b> wanted spooky action at a distance, I suppose you could implement your own <code>dict</code>-like object that would know about the original and update it on <code>__setitem__()</code>. But this would break peoples&#39; expectations about your code, and otherwise be a Bad Idea."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 5, "creation_date": 1502912835, "post_id": 45721770, "comment_id": 78401717, "body": "Thinking about Python&#39;s datamodel in terms of the datamodel of C-like languages is rarely fruitful. So forget about the &quot;by reference&quot; stuff.  For further info on this topic, please see <a href=\"http://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">Facts and myths about Python names and values</a>, which was written by SO veteran Ned Batchelder."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1502913134, "post_id": 45721770, "comment_id": 78401865, "body": "OTOH, if you make those dict values mutable, then you can mutate them, rather than assign to them. Eg, <code>original = {&#39;a&#39;:[1], &#39;b&#39;:[2]}; extracted = {k:v for k,v in original.items() if k == &#39;a&#39;}; extracted[&#39;a&#39;][0] = 3; print(original)</code> prints <code>{&#39;a&#39;: [3], &#39;b&#39;: [2]}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1502914332, "post_id": 45721928, "comment_id": 78402465, "body": "&quot;Explicit is better than implicit&quot;, I seem to recall <a href=\"https://www.python.org/dev/peps/pep-0020/#id3\" rel=\"nofollow noreferrer\">someone saying</a>. :)"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1502925336, "post_id": 45721928, "comment_id": 78406468, "body": "But in case you use a conditional comprehension like in the question <code>{k:v for (k,v) in original.items() if k == &#39;a&#39;}</code> and you alter the <code>md[&#39;b&#39;]</code> that would propagate to the original even though <code>md</code> didn&#39;t have a <code>b</code> element (by definition it was excluded). I&#39;m not sure that&#39;s unwanted or wanted, I just wanted to mention this. :)"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 4, "last_activity_date": 1502983213, "last_edit_date": 1502983213, "creation_date": 1502913210, "answer_id": 45721928, "question_id": 45721770, "link": "https://stackoverflow.com/questions/45721770/make-dict-comprehension-return-by-reference/45721928#45721928", "title": "Make dict comprehension return by reference", "body": "<p>Your intended goal (of having a dictionary which, when updated, will also change the other dictionary from which it was derived) <em>can</em> be done even with immutable values, if your new dictionary is of a custom type with the desired logic added:</p>\n\n<pre><code>class MappedDict(dict):\n    def __init__(self, orig, *args, **kwargs):\n        self.__orig = orig\n        dict.__init__(self, *args, **kwargs)\n    def __setitem__(self, k, v):\n        self.__orig[k] = v\n        return dict.__setitem__(self, k, v)\n\nd = {'a': 1, 'b': 2}\nmd = MappedDict(d, {k: v*2 for (k,v) in d.items()})\nmd['a']=5\n</code></pre>\n\n<p>...will leave both <code>d</code> and <code>md</code> having <code>'a'</code> having the value <code>5</code>, whereas <code>b</code> will differ (being <code>2</code> in the former and <code>4</code> in the latter).</p>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 3, "last_activity_date": 1502913556, "last_edit_date": 1502913556, "creation_date": 1502913244, "answer_id": 45721936, "question_id": 45721770, "link": "https://stackoverflow.com/questions/45721770/make-dict-comprehension-return-by-reference/45721936#45721936", "title": "Make dict comprehension return by reference", "body": "<p>No, comprehensions <em>always</em> return a shallow copy (well, actually it's a new object containing references to the values you iterate over). However it's only a shallow copy, so if you use mutable types as values and you change them in-place the change will propagate to the original object.</p>\n\n<pre><code>&gt;&gt;&gt; original = {'a':[], 'b':[]}\n&gt;&gt;&gt; extracted = {k:v for (k,v) in original.items() if k == 'a'}\n&gt;&gt;&gt; extracted['a'].append(1)  # change one value in extracted in-place\n&gt;&gt;&gt; original                  # original also changed\n{'a': [1], 'b': []}\n&gt;&gt;&gt; extracted\n{'a': [1]}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7811169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 2, "accepted_answer_id": 45721928, "answer_count": 2, "score": 3, "last_activity_date": 1502983213, "creation_date": 1502912620, "last_edit_date": 1502925067, "question_id": 45721770, "link": "https://stackoverflow.com/questions/45721770/make-dict-comprehension-return-by-reference", "title": "Make dict comprehension return by reference", "body": "<ul>\n<li>I have following dictionary: <code>original = {a:1, b:2}</code></li>\n<li>I then run dict comprehension: <code>extracted = {k:v for (k,v) in original.items() if k == 'a'}</code></li>\n<li>The following dict is returned: <code>{a:1}</code></li>\n<li>If I mutate <code>extracted['a'] = 2</code>, <code>original['a']</code> will still be equal to <code>1</code></li>\n</ul>\n\n<h2>Question:</h2>\n\n<p>Is there a way to make the above dict comprehension return by reference? For example <code>extracted['a'] = 2</code> would result in <code>original['a'] = 2</code>.</p>\n\n<p>I would prefer not to involve alteration of the <code>original</code> dictionary.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1502913430, "post_id": 45721669, "comment_id": 78402008, "body": "hope the link can help <a href=\"https://stackoverflow.com/questions/32530856/how-to-keep-first-two-duplicates-in-a-pandas-dataframe\" title=\"how to keep first two duplicates in a pandas dataframe\">stackoverflow.com/questions/32530856/&hellip;</a>"}, {"owner": {"reputation": 2038, "user_id": 5314329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10155955028705361/picture?type=large", "display_name": "Windstorm1981", "link": "https://stackoverflow.com/users/5314329/windstorm1981"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1502914149, "post_id": 45721669, "comment_id": 78402380, "body": "@jezrael Not huge but I&#39;m always in favor of doing things efficiently.  If you can share that would be great."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1502915869, "post_id": 45721669, "comment_id": 78403144, "body": "Please chech my solution, I add timings."}], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1502913053, "post_id": 45721713, "comment_id": 78401813, "body": "I think you can forgo the <code>ascending</code> parameter if you use <code>tail</code>"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1502913191, "post_id": 45721713, "comment_id": 78401886, "body": "<code>df.sort_values([&#39;EFFECTIVE DT&#39;,&#39;SYSDATE&#39;]).groupby(&#39;EFFECTIVE DT&#39;).tail(2).sort_index()</code> is what I used"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 3, "last_activity_date": 1502915793, "last_edit_date": 1502915793, "creation_date": 1502912385, "answer_id": 45721713, "question_id": 45721669, "link": "https://stackoverflow.com/questions/45721669/pandas-select-all-rows-with-either-of-the-top-2-values-in-a-particular-column/45721713#45721713", "title": "Pandas Select all Rows with Either of the Top 2 Values in a Particular Column", "body": "<p>I  think you need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.sort_values.html\" rel=\"nofollow noreferrer\"><code>sort_values</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> and return <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.head.html\" rel=\"nofollow noreferrer\"><code>GroupBy.head</code></a>:</p>\n\n<pre><code>#convert to datetime\ndf['SYSDATE'] = pd.to_datetime(df['SYSDATE'])\ndf['EFFECTIVE DT'] = pd.to_datetime(df['EFFECTIVE DT'])\n\ndf = df.sort_values(['EFFECTIVE DT','SYSDATE'], ascending=[True,False])\ndf = df.groupby('EFFECTIVE DT').head(2).sort_index()\nprint (df)\n    IND ID  value EFFECTIVE DT             SYSDATE\n0     8  A  19289   2017-06-30 2017-08-16 10:05:00\n1    17  A  19289   2017-06-30 2017-08-15 14:25:00\n3     7  A  18155   2017-03-31 2017-08-16 10:05:00\n4    16  A  18155   2017-03-31 2017-08-15 14:25:00\n6     6  A  21770   2016-12-31 2017-08-16 10:05:00\n7    15  A  21770   2016-12-31 2017-08-15 14:25:00\n9     5  A  19226   2016-09-30 2017-08-16 10:05:00\n10   14  A  19226   2016-09-30 2017-08-15 14:25:00\n12    4  A  20238   2016-06-30 2017-08-16 10:05:00\n13   13  A  20238   2016-06-30 2017-08-15 14:25:00\n15    3  A  18684   2016-03-31 2017-08-16 10:05:00\n16   12  A  18684   2016-03-31 2017-08-15 14:25:00\n18    2  A  22059   2015-12-31 2017-08-16 10:05:00\n19   11  A  22059   2015-12-31 2017-08-15 14:25:00\n21    1  A  19280   2015-09-30 2017-08-16 10:05:00\n22   10  A  19280   2015-09-30 2017-08-15 14:25:00\n24    0  A  20813   2015-06-30 2017-08-16 10:05:00\n25    9  A  20813   2015-06-30 2017-08-15 14:25:00\n</code></pre>\n\n<p>Another similar solution, thank you <a href=\"https://stackoverflow.com/questions/45721669/pandas-select-all-rows-with-either-of-the-top-2-values-in-a-particular-column/45721713#comment78401886_45721713\">piRSquared </a>:</p>\n\n<pre><code>df = df.sort_values(['EFFECTIVE DT','SYSDATE']) \\\n       .groupby('EFFECTIVE DT') \\\n       .tail(2) \\\n       .sort_index()\nprint (df)\n    IND ID  value EFFECTIVE DT             SYSDATE\n0     8  A  19289   2017-06-30 2017-08-16 10:05:00\n1    17  A  19289   2017-06-30 2017-08-15 14:25:00\n3     7  A  18155   2017-03-31 2017-08-16 10:05:00\n4    16  A  18155   2017-03-31 2017-08-15 14:25:00\n6     6  A  21770   2016-12-31 2017-08-16 10:05:00\n7    15  A  21770   2016-12-31 2017-08-15 14:25:00\n9     5  A  19226   2016-09-30 2017-08-16 10:05:00\n10   14  A  19226   2016-09-30 2017-08-15 14:25:00\n12    4  A  20238   2016-06-30 2017-08-16 10:05:00\n13   13  A  20238   2016-06-30 2017-08-15 14:25:00\n15    3  A  18684   2016-03-31 2017-08-16 10:05:00\n16   12  A  18684   2016-03-31 2017-08-15 14:25:00\n18    2  A  22059   2015-12-31 2017-08-16 10:05:00\n19   11  A  22059   2015-12-31 2017-08-15 14:25:00\n21    1  A  19280   2015-09-30 2017-08-16 10:05:00\n22   10  A  19280   2015-09-30 2017-08-15 14:25:00\n24    0  A  20813   2015-06-30 2017-08-16 10:05:00\n25    9  A  20813   2015-06-30 2017-08-15 14:25:00\n</code></pre>\n\n<p><strong>Timings</strong>:</p>\n\n<pre><code>np.random.seed(345)\n\nN = 100000\ndates1 = [pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'), pd.Timestamp('2017-08-14 15:10:00'), pd.Timestamp('2017-08-16 10:05:00'), pd.Timestamp('2017-08-15 14:25:00'),pd.Timestamp('2017-08-14 15:10:00')]\ndates2 = pd.date_range('2015-01-01', periods=2000)\n\ndf = pd.DataFrame({'EFFECTIVE DT':np.random.choice(dates2, N),\n                   'SYSDATE':np.random.choice(dates1, N)})\n</code></pre>\n\n<hr>\n\n<pre><code>In [104]: %timeit df.groupby('EFFECTIVE DT', group_keys=False, sort=False).apply(pd.DataFrame.nlargest, n=2, columns='SYSDATE')\n1 loop, best of 3: 2.61 s per loop\n\nIn [105]: %timeit df.sort_values(['EFFECTIVE DT','SYSDATE'], ascending=[True,False]).groupby('EFFECTIVE DT').head(2).sort_index()\n10 loops, best of 3: 25.4 ms per loop\n\nIn [106]: %timeit df.sort_values(['EFFECTIVE DT','SYSDATE']).groupby('EFFECTIVE DT').tail(2).sort_index()\n10 loops, best of 3: 23.3 ms per loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 4, "last_activity_date": 1502952069, "last_edit_date": 1502952069, "creation_date": 1502912461, "answer_id": 45721730, "question_id": 45721669, "link": "https://stackoverflow.com/questions/45721669/pandas-select-all-rows-with-either-of-the-top-2-values-in-a-particular-column/45721730#45721730", "title": "Pandas Select all Rows with Either of the Top 2 Values in a Particular Column", "body": "<p>You need to first make sure <code>SYSDATE</code> is turned into <code>datetime</code>.  I'll do it for <code>EFFECTIVE DT</code> as well.</p>\n\n<pre><code>df[['EFFECTIVE DT', 'SYSDATE']] = \\\n    df[['EFFECTIVE DT', 'SYSDATE']].apply(pd.to_datetime)\n</code></pre>\n\n<hr>\n\n<p><strong>Option 1</strong><br>\n<code>pir1</code><br>\nUse <code>groupby.apply</code> with the dataframe method <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.0/generated/pandas.DataFrame.nlargest.html\" rel=\"nofollow noreferrer\"><strong><code>pd.DataFrame.nlargest</code></strong></a> where you pass the parameters <code>columns='SYSDATE'</code> and <code>n=2</code> for the largest two <code>'SYSDATE'</code>s.</p>\n\n<pre><code>df.groupby(\n    'EFFECTIVE DT', group_keys=False, sort=False\n).apply(pd.DataFrame.nlargest, n=2, columns='SYSDATE')\n\n    IND ID  value EFFECTIVE DT             SYSDATE\n0     8  A  19289   2017-06-30 2017-08-16 10:05:00\n1    17  A  19289   2017-06-30 2017-08-15 14:25:00\n3     7  A  18155   2017-03-31 2017-08-16 10:05:00\n4    16  A  18155   2017-03-31 2017-08-15 14:25:00\n6     6  A  21770   2016-12-31 2017-08-16 10:05:00\n7    15  A  21770   2016-12-31 2017-08-15 14:25:00\n9     5  A  19226   2016-09-30 2017-08-16 10:05:00\n10   14  A  19226   2016-09-30 2017-08-15 14:25:00\n12    4  A  20238   2016-06-30 2017-08-16 10:05:00\n13   13  A  20238   2016-06-30 2017-08-15 14:25:00\n15    3  A  18684   2016-03-31 2017-08-16 10:05:00\n16   12  A  18684   2016-03-31 2017-08-15 14:25:00\n18    2  A  22059   2015-12-31 2017-08-16 10:05:00\n19   11  A  22059   2015-12-31 2017-08-15 14:25:00\n21    1  A  19280   2015-09-30 2017-08-16 10:05:00\n22   10  A  19280   2015-09-30 2017-08-15 14:25:00\n24    0  A  20813   2015-06-30 2017-08-16 10:05:00\n25    9  A  20813   2015-06-30 2017-08-15 14:25:00\n</code></pre>\n\n<hr>\n\n<p><strong>How It Works</strong><br>\nTo start, splitting, applying stuff to splits, and recombining your efforts is a key feature of <code>pandas</code> and is explained well here  <a href=\"https://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"nofollow noreferrer\"><strong>split-apply-combine</strong></a>.</p>\n\n<p>The <code>groupby</code> element should be self-evident.  I want to group the data by each day as defined by the dates in the <code>'EFFECTIVE DT'</code> column.  After that, you can do many things with this <code>groupby</code> object.  I decided to apply a function that will return the 2 rows that correspond to the largest two values of the <code>'SYSDATE'</code> column.  Those largest values equate to the most recent for the day of the group.  </p>\n\n<p>It turns out that there is a dataframe method that performs this task of returning the rows corresponding to the largest values of a column.  Namely, <code>pd.DataFrame.nlargest</code>.</p>\n\n<p>Two things to note:</p>\n\n<ol>\n<li>When we use <code>groupby.apply</code>, the object being passed to the function being applied is a <code>pd.DataFrame</code> object.</li>\n<li>When using a method like <code>pd.DataFrame.nlargest</code> as a function, the first argument that is expected is a <code>pd.DataFrame</code> object.</li>\n</ol>\n\n<p>Well, that's fortunate, because that's exactly what I'm doing.</p>\n\n<p>Also, <code>groupby.apply</code> allows you to pass additional key word arguments to the applied function via <code>kwargs</code>.  So, I can pass <code>n=2</code> and <code>columns='SYSDATE'</code> easily.</p>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\n<code>pir2</code><br>\nSame concept as option 1 but using <code>np.argpartion</code></p>\n\n<pre><code>def nlrg(d):\n    v = d.HOURS.values\n    a = np.argpartition(v, v.size - 2)[-2:]\n    return d.iloc[a]\n\npir2 = lambda d: d.groupby('DAYS', sort=False, group_keys=False).apply(nlrg)\n</code></pre>\n\n<hr>\n\n<p><strong>Option 3</strong><br>\n<code>pir4</code><br>\nUsing <code>numba.njit</code><br>\nI scan through the list tracking last two maximum values.  </p>\n\n<pre><code>form numba import njit\n\n@njit\ndef nlrg_nb(f, v, i, n):\n    b = (np.arange(n * 2) * 0).reshape(-1, 2)\n    e = b * np.nan\n    for x, y, z in zip(f, v, i):\n        if np.isnan(e[x, 0]):\n            e[x, 0] = y\n            b[x, 0] = z\n        elif y &gt; e[x, 0]:\n            e[x, :] = [y, e[x, 0]]\n            b[x, :] = [z, b[x, 0]]\n        elif np.isnan(e[x, 1]):\n            e[x, 1] = y\n            b[x, 1] = z\n        elif y &gt; e[x, 1]:\n            e[x, 1] = y\n            b[x, 1] = z\n    return b.ravel()[~np.isnan(e.ravel())]\n\ndef pir4(d):\n    f, u = pd.factorize(d.DAYS.values)\n    return d.iloc[nlrg_nb(f, d.HOURS.values.astype(float), np.arange(f.size), u.size)]\n</code></pre>\n\n<hr>\n\n<p><strong>Timing</strong>  </p>\n\n<p><em>Results</em>  </p>\n\n<pre><code>(lambda r: r.div(r.min(1), 0))(results)\n\n             pir1        pir2  pir4      jez1\n100     24.205348    9.725718   1.0  4.449165\n300     42.685989   15.754161   1.0  4.047182\n1000   111.733703   39.822652   1.0  4.175235\n3000   253.873888   74.280675   1.0  4.105493\n10000  376.157526  125.323946   1.0  4.313063\n30000  434.815009  145.513904   1.0  5.296250\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hLKt1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hLKt1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Simulation</strong>  </p>\n\n<pre><code>def produce_test_df(i):\n    hours = pd.date_range('2000-01-01', periods=i, freq='H')[np.random.permutation(np.arange(i))]\n    days = hours.floor('D')\n    return pd.DataFrame(dict(HOURS=hours, DAYS=days))\n\nresults = pd.DataFrame(\n    index=[100, 300, 1000, 3000, 10000, 30000],\n    columns='pir1 pir2 pir4 jez1'.split(),\n    dtype=float,\n)\n\nfor i in results.index:\n    d = produce_test_df(i)\n    for j in results.columns:\n        stmt = '{}(d)'.format(j)\n        setp = 'from __main__ import d, {}'.format(j)\n        results.set_value(i, j, timeit(stmt, setp, number=20))\n\nresults.plot(loglog=True)\n</code></pre>\n\n<p><strong>Functions</strong>  </p>\n\n<pre><code>def nlrg(d):\n    v = d.HOURS.values\n    a = np.argpartition(v, v.size - 2)[-2:]\n    return d.iloc[a]\n\npir1 = lambda d: d.groupby('DAYS', group_keys=False, sort=False).apply(pd.DataFrame.nlargest, n=2, columns='HOURS')\npir2 = lambda d: d.groupby('DAYS', sort=False, group_keys=False).apply(nlrg)\njez1 = lambda d: d.sort_values(['DAYS', 'HOURS']).groupby('DAYS').tail(2)\n\n@njit\ndef nlrg_nb(f, v, i, n):\n    b = (np.arange(n * 2) * 0).reshape(-1, 2)\n    e = b * np.nan\n    for x, y, z in zip(f, v, i):\n        if np.isnan(e[x, 0]):\n            e[x, 0] = y\n            b[x, 0] = z\n        elif y &gt; e[x, 0]:\n            e[x, :] = [y, e[x, 0]]\n            b[x, :] = [z, b[x, 0]]\n        elif np.isnan(e[x, 1]):\n            e[x, 1] = y\n            b[x, 1] = z\n        elif y &gt; e[x, 1]:\n            e[x, 1] = y\n            b[x, 1] = z\n    return b.ravel()[~np.isnan(e.ravel())]\n\ndef pir4(d):\n    f, u = pd.factorize(d.DAYS.values)\n    return d.iloc[nlrg_nb(f, d.HOURS.values.astype(float), np.arange(f.size), u.size)]\n</code></pre>\n"}], "owner": {"reputation": 2038, "user_id": 5314329, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10155955028705361/picture?type=large", "display_name": "Windstorm1981", "link": "https://stackoverflow.com/users/5314329/windstorm1981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 45721730, "answer_count": 2, "score": 3, "last_activity_date": 1502952069, "creation_date": 1502912222, "question_id": 45721669, "link": "https://stackoverflow.com/questions/45721669/pandas-select-all-rows-with-either-of-the-top-2-values-in-a-particular-column", "title": "Pandas Select all Rows with Either of the Top 2 Values in a Particular Column", "body": "<p>I have the following sample data:</p>\n\n<pre><code>IND ID  value  EFFECTIVE DT    SYSDATE\n8   A   19289   6/30/2017   8/16/2017 10:05\n17  A   19289   6/30/2017   8/15/2017 14:25\n26  A   19289   6/30/2017   8/14/2017 15:10\n7   A   18155   3/31/2017   8/16/2017 10:05\n16  A   18155   3/31/2017   8/15/2017 14:25\n25  A   18155   3/31/2017   8/14/2017 15:10\n6   A   21770   12/31/2016  8/16/2017 10:05\n15  A   21770   12/31/2016  8/15/2017 14:25\n24  A   21770   12/31/2016  8/14/2017 15:10\n5   A   19226   9/30/2016   8/16/2017 10:05\n14  A   19226   9/30/2016   8/15/2017 14:25\n23  A   19226   9/30/2016   8/14/2017 15:10\n4   A   20238   6/30/2016   8/16/2017 10:05\n13  A   20238   6/30/2016   8/15/2017 14:25\n22  A   20238   6/30/2016   8/14/2017 15:10\n3   A   18684   3/31/2016   8/16/2017 10:05\n12  A   18684   3/31/2016   8/15/2017 14:25\n21  A   18684   3/31/2016   8/14/2017 15:10\n2   A   22059   12/31/2015  8/16/2017 10:05\n11  A   22059   12/31/2015  8/15/2017 14:25\n20  A   22059   12/31/2015  8/14/2017 15:10\n1   A   19280   9/30/2015   8/16/2017 10:05\n10  A   19280   9/30/2015   8/15/2017 14:25\n19  A   19280   9/30/2015   8/14/2017 15:10\n0   A   20813   6/30/2015   8/16/2017 10:05\n9   A   20813   6/30/2015   8/15/2017 14:25\n18  A   20813   6/30/2015   8/14/2017 15:10\n</code></pre>\n\n<p>It is a set of data I collect every weekday (SYSDATE is a timestamp).</p>\n\n<p>I want to generate a df with only the rows stamped with either of the two most recent timestamp values every day.</p>\n\n<p>So I'm looking to get this (from much larger set with many timestamps) if I were to run the script today:</p>\n\n<pre><code>IND ID  Value   EFFECTIVE DT    SYSDATE\n8   A   19289   6/30/2017   8/16/2017 10:05\n17  A   19289   6/30/2017   8/15/2017 14:25\n7   A   18155   3/31/2017   8/16/2017 10:05\n16  A   18155   3/31/2017   8/15/2017 14:25\n6   A   21770   12/31/2016  8/16/2017 10:05\n15  A   21770   12/31/2016  8/15/2017 14:25\n5   A   19226   9/30/2016   8/16/2017 10:05\n14  A   19226   9/30/2016   8/15/2017 14:25\n4   A   20238   6/30/2016   8/16/2017 10:05\n13  A   20238   6/30/2016   8/15/2017 14:25\n3   A   18684   3/31/2016   8/16/2017 10:05\n12  A   18684   3/31/2016   8/15/2017 14:25\n2   A   22059   12/31/2015  8/16/2017 10:05\n11  A   22059   12/31/2015  8/15/2017 14:25\n1   A   19280   9/30/2015   8/16/2017 10:05\n10  A   19280   9/30/2015   8/15/2017 14:25\n0   A   20813   6/30/2015   8/16/2017 10:05\n9   A   20813   6/30/2015   8/15/2017 14:25\n</code></pre>\n\n<p>I can't use datetimes because of weekends and holidays.</p>\n\n<p>Suggestions?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4679594"}, "edited": false, "score": 0, "creation_date": 1502913221, "post_id": 45721886, "comment_id": 78401901, "body": "But that only works if I wanted to select Wheat. What if I wanted to select another item on the list? For example, Maize?"}, {"owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "edited": false, "score": 0, "creation_date": 1502913921, "post_id": 45721886, "comment_id": 78402236, "body": "I edited my answer to show how to format you string with the value entered by the user."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4679594"}, "edited": false, "score": 0, "creation_date": 1502913972, "post_id": 45721886, "comment_id": 78402262, "body": "Thank you so kindly! It works! I just added <code>.click()</code> to the end of the code, like so <code>driver.find_element_by_css_selector(&#39;input[value=&quot;{}&quot;]&#39;.form&zwnj;&#8203;at(crop)).click()</code>"}], "tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": true, "score": 1, "last_activity_date": 1502913800, "last_edit_date": 1502913800, "creation_date": 1502913045, "answer_id": 45721886, "question_id": 45721665, "link": "https://stackoverflow.com/questions/45721665/python-select-an-option-from-a-list-in-selenium/45721886#45721886", "title": "Python - Select an option from a list in Selenium", "body": "<p>I guess you can select your <code>input</code> element with the <code>find_element_by_css_selector</code> method. As it's allowed by css selectors you can access the attributes of your elements, so in your example for an <code>input</code> element with <code>Wheat</code> as <code>value</code> attribute:</p>\n\n<pre><code>elem = driver.find_element_by_css_selector(\"input[value=\\\"Wheat\\\"]\")\nelem.click()\n</code></pre>\n\n<p>If you have many <code>input</code> elements with that value you can try to be more precise by previously selecting the parent element of the <code>input</code> you are targeting or by adding the class name of you element in the css selector:</p>\n\n<pre><code>elem = driver.find_element_by_css_selector(\"input.linksubmit[value=\\\"Wheat\\\"]\")\nelem.click()\n</code></pre>\n\n<p>To use the value entered by the user you can use the <a href=\"https://docs.python.org/3.6/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\"><code>format</code></a> method of your string:</p>\n\n<pre><code>driver.find_element_by_css_selector('input[value=\"{}\"]'.format(crop))\n</code></pre>\n\n<p>Edit: For the record, the <code>Select(...)</code> selenium class is used to models an element with the <code>select</code> html tag, allowing you afterwards to <code>select_by_value</code> one of it's <code>option</code> for example.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4679594"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 45721886, "answer_count": 1, "score": 0, "last_activity_date": 1502913800, "creation_date": 1502912195, "last_edit_date": 1502912823, "question_id": 45721665, "link": "https://stackoverflow.com/questions/45721665/python-select-an-option-from-a-list-in-selenium", "title": "Python - Select an option from a list in Selenium", "body": "<p>I am in the process of creating a function that allows the user to interface with a website via Python. Specifically, the user will be provided with a list of options to select, and the selected option will click on the corresponding link. Let's assume this is my code:</p>\n\n<pre><code>crop = input('\\n\\nSelect a crop: Wheat, Wetland rice, Dryland rice, Maize, Barley, Sorghum, Rye, Pearl millet, '\n             'Foxtail millet, Oat, Buckwheat, White potato, Sweet potato, Cassava, \\n Yam and Cocoyam, Sugarcane, Sugarbeet,'\n             ' Phaseolus bean, Chickpea, Cowpea, Dry pea, Gram, Pigeonpea, Soybean, Sunflower, Rapeseed, Groundnut, Oilpalm, '\n             'Olive, Jatropha, \\n Cabbage, Carrot, Onion, Tomato, Banana, Citrus, Coconut, Cocoa, Cotton, Flax, Coffee, Tea, '\n             'Tobacco, Alfalfa, Pasture, Miscanthus, Switchgrass, Reed canary grass')\n</code></pre>\n\n<p>How would I write the next function that allows one to click on the corresponding link based on his or her answer? Which <code>driver.find_element_by_</code> code do I use?</p>\n\n<p>I was thinking of using:</p>\n\n<pre><code>Select(driver.find_element_by_css_selector(crop).select_by_value(crop)\n</code></pre>\n\n<p>But it doesn't work.</p>\n\n<p>If it helps, this is the code for the wheat link:</p>\n\n<pre><code>&lt;input id=\"buttonSubmit__dim_fieldcrp2=ce_whe&amp;amp;dimType=crp2&amp;amp;fieldmain=main_py_six_qdns&amp;amp;idPS=1e1d6e7d7ec3368cf13a68fc523d1ed4870e8b45&amp;amp;idAS=0&amp;amp;idFS=0\" name=\"fieldcrp2=ce_whe&amp;amp;dimType=crp2&amp;amp;fieldmain=main_py_six_qdns&amp;amp;idPS=1e1d6e7d7ec3368cf13a68fc523d1ed4870e8b45&amp;amp;idAS=0&amp;amp;idFS=0&amp;amp;_passChanged=true&amp;amp;_eventdim\" value=\"Wheat\" onclick=\"return wf_click(this);\" type=\"submit\" class=\"linksubmit linksubmitfalse\" style=\"border: none;\"&gt;\n</code></pre>\n"}, {"tags": ["python", "api", "synology"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7566413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c48b3ce81ccab7c76243899f330e0?s=128&d=identicon&r=PG&f=1", "display_name": "CooleRnax", "link": "https://stackoverflow.com/users/7566413/coolernax"}, "edited": false, "score": 0, "creation_date": 1503331775, "post_id": 45783990, "comment_id": 78560979, "body": "Thanks, I will try it. Does your library requires modification of nginx configuration?"}, {"owner": {"reputation": 21, "user_id": 8194572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZl3W.jpg?s=128&g=1", "display_name": "k20human", "link": "https://stackoverflow.com/users/8194572/k20human"}, "reply_to_user": {"reputation": 1, "user_id": 7566413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c48b3ce81ccab7c76243899f330e0?s=128&d=identicon&r=PG&f=1", "display_name": "CooleRnax", "link": "https://stackoverflow.com/users/7566413/coolernax"}, "edited": false, "score": 0, "creation_date": 1503472678, "post_id": 45783990, "comment_id": 78623235, "body": "The only modification you need is for the schedule set due to URI too large"}], "tags": [], "owner": {"reputation": 21, "user_id": 8194572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZl3W.jpg?s=128&g=1", "display_name": "k20human", "link": "https://stackoverflow.com/users/8194572/k20human"}, "is_accepted": false, "score": 0, "last_activity_date": 1503244070, "creation_date": 1503244070, "answer_id": 45783990, "question_id": 45721647, "link": "https://stackoverflow.com/questions/45721647/synology-api-setcameraschedule-get-414-request-uri-too-large-post-405-not-al/45783990#45783990", "title": "Synology API SetCameraSchedule - GET 414 Request-URI Too Large | POST 405 Not Allowed", "body": "<p>I resolve this issue by modifying my Synology Nginx configuration (access by SSH)</p>\n\n<p>I create a new file <code>/etc/nginx/conf.d/http.size.conf</code></p>\n\n<p>And add this content :</p>\n\n<pre><code>client_header_buffer_size 64k;\nlarge_client_header_buffers 4 64k;\n</code></pre>\n\n<p>Then restart your nginx service with <code>sudo synoservicectl --restart nginx</code></p>\n\n<p>I am developping a library in Python to interact with Surveillance Station API if your are interested : <a href=\"https://github.com/k20human/surveillancestation\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1, "user_id": 7566413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328c48b3ce81ccab7c76243899f330e0?s=128&d=identicon&r=PG&f=1", "display_name": "CooleRnax", "link": "https://stackoverflow.com/users/7566413/coolernax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1503244070, "creation_date": 1502912127, "question_id": 45721647, "link": "https://stackoverflow.com/questions/45721647/synology-api-setcameraschedule-get-414-request-uri-too-large-post-405-not-al", "title": "Synology API SetCameraSchedule - GET 414 Request-URI Too Large | POST 405 Not Allowed", "body": "<p>I'm trying to change camera notification schedule via Synology API.</p>\n\n<p>GET request returns 414 Request-URI Too Large\nPOST request returns 405 Not Allowed</p>\n\n<p>It seems to be impossible to do this with get request. Please help me to fix POST request!</p>\n\n<p>Here are docs of this method:\nPage 241 SetCameraSchedule\n<a href=\"https://usdl.synology.com/download/Document/DeveloperGuide/Surveillance_Station_Web_API_v2.6.pdf\" rel=\"nofollow noreferrer\">https://usdl.synology.com/download/Document/DeveloperGuide/Surveillance_Station_Web_API_v2.6.pdf</a></p>\n\n<p>GET func returns: Request-URI Too Large</p>\n\n<pre><code>def syn_cam_notification_shedule_set(cam_id, event_type, state):\ncam_id = str(cam_id)\nevent_type = str(event_type)\nstate = str(state)\nurl = 'https://'+server+'/webapi/entry.cgi?version=\"1\"&amp;schedule=[{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"}]&amp;eventType='+event_type+'&amp;cameraId='+cam_id+'&amp;api=\"SYNO.SurveillanceStation.Notification.Schedule\"&amp;method=\"SetCameraSchedule\"'\nprint(url)\nr = s.get(url, verify=False)\nprint(r.text)\n</code></pre>\n\n<p>POST func returns: 405 Not Allowed</p>\n\n<pre><code>def syn_cam_notification_shedule_set(cam_id, event_type, state):\ncam_id = cam_id\nevent_type = event_type\nstate = str(state)\nurl = 'https://'+server+'/webapi/entry.cgi'\n\ndata = {\n    '_sid': sid,\n    'version': '1',\n    'schedule': '[{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"},{\"schedule\":\"'+state+'\"}]',\n    'eventType': event_type,\n    'cameraId': cam_id,\n    'api': 'SYNO.SurveillanceStation.Notification.Schedule',\n    'method': 'SetCameraSchedule'\n}\nr = s.post(url, data=data, verify=False)\nprint(r.text)\n</code></pre>\n\n<p>Here is my other code:</p>\n\n<pre><code>s = requests.Session()\n\ndef syn_login():\n    url = 'https://'+server+\"/webapi/auth.cgi?api=SYNO.API.Auth&amp;method=Login&amp;version=6&amp;account=\"+login+\"&amp;passwd=\"+password+\"&amp;session=SurveillanceStation\"\n    r = s.get(url, verify=False)\n    r_json = json.loads(r.text)\n    if r_json['success']:\n        print(r_json['data']['sid'])\n        return r_json['data']['sid']\n\nsid = syn_login()\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "neural-network", "artificial-intelligence"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "edited": false, "score": 0, "creation_date": 1502926495, "post_id": 45721756, "comment_id": 78406720, "body": "thanks a lot for your reply. I tried changing my cost function from reduce mean square to Softmax, i got this following error           print(&quot;Epoch:&quot;, &#39;%04d&#39; % (epoch+1), &quot;cost=&quot;, &quot;{:.9f}&quot;.format(c)) TypeError: unsupported format string passed to numpy.ndarray.__format__ ....i tried printing my cost functions when it was reduce mean square and softmax i got following     RMS - &gt; Tensor(&quot;truediv:0&quot;, shape=(), dtype=float32).   softmax -&gt; Tensor(&quot;Reshape_2:0&quot;, shape=(?,), dtype=float32)."}, {"owner": {"reputation": 4678, "user_id": 1896918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B8swz.jpg?s=128&g=1", "display_name": "Ishant Mrinal", "link": "https://stackoverflow.com/users/1896918/ishant-mrinal"}, "reply_to_user": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "edited": false, "score": 0, "creation_date": 1502957464, "post_id": 45721756, "comment_id": 78417115, "body": "the error here is just a normal python syntax problem. you need to fix your <code>print</code> statement"}, {"owner": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "edited": false, "score": 0, "creation_date": 1502986955, "post_id": 45721756, "comment_id": 78438328, "body": "Ishant, I made the following changes in the code,which I posted in my post...train_x = df[[&#39;AT&#39;,&#39;V&#39;,&#39;AP&#39;]] train_y = df[[&#39;RH&#39;,&#39;PE&#39;]] ; n_input = 3 n_classes = 2;  cost = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logit&zwnj;&#8203;s=out_layer, labels=y)); after this, If I am training my neural network and trying to test my neural network with one of the train datas,I am really getting wierd result,bcoz at each 1000th Epoch,cost value is very high,almost 4803645..Could you please let me know about this? I think,I am not passing correct arguments in cost function..Waiting for your reply"}, {"owner": {"reputation": 4678, "user_id": 1896918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B8swz.jpg?s=128&g=1", "display_name": "Ishant Mrinal", "link": "https://stackoverflow.com/users/1896918/ishant-mrinal"}, "reply_to_user": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "edited": false, "score": 0, "creation_date": 1502988961, "post_id": 45721756, "comment_id": 78439474, "body": "You need t feed the data as mini batches, feeding the whole dataset is not a good idea. also the labels=y should be a one_hot vector; ALSO one input should not have multiple output nodes, if your input have multiple output, combine their features into one output; here by multiple ouputs, i mean multi class classification."}, {"owner": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "edited": false, "score": 0, "creation_date": 1502995923, "post_id": 45721756, "comment_id": 78443218, "body": "Hi Ishant,I will look into feeding the data as mini batches.  I am not able to understand the construction of my cost function. Could you please explain in detail, the changes ,I can make in my code,so that it would function for multiple outputs. As in my data,I have 5 columns, I want to consider first three columns as input and next two columns as output.This problem is not classification right? Is n&#39;t it regressive problem?"}], "tags": [], "owner": {"reputation": 4678, "user_id": 1896918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B8swz.jpg?s=128&g=1", "display_name": "Ishant Mrinal", "link": "https://stackoverflow.com/users/1896918/ishant-mrinal"}, "is_accepted": false, "score": 1, "last_activity_date": 1502914222, "last_edit_date": 1502914222, "creation_date": 1502912565, "answer_id": 45721756, "question_id": 45721646, "link": "https://stackoverflow.com/questions/45721646/constructing-a-neural-network-for-multiple-outputs/45721756#45721756", "title": "Constructing a Neural Network for Multiple Outputs", "body": "<p>1.you can adjust these following lines;</p>\n\n<pre><code># In general baises are either initialized as zeros or not zero constant, but not Gaussian \nb_h1 = tf.Variable(tf.zeros([n_hidden_1]))\nb_out = tf.Variable(tf.zeros([n_classes]))\n\n# MSE error\ncost = tf.reduce_mean(tf.pow(out_layer-y, 2))/(2*n_samples)\n</code></pre>\n\n<p>Also, Feed the data as mini batches; as the optimizer you are using is tuned for minibatch optimization; feeding the data as a whole doesn't result in optimal performance. </p>\n\n<p>2.\nfor multiple ouputs you need to change only the <code>n_classes</code> and the cost fucntion (<code>tf.nn.softmax_cross_entropy_with_logits</code>). Also the model you defined here isn't linear; as you are using the non linear activation function <code>tf.nn.relu</code>.</p>\n"}], "owner": {"reputation": 51, "user_id": 8467561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1459779824067879/picture?type=large", "display_name": "Sri Harsha", "link": "https://stackoverflow.com/users/8467561/sri-harsha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503067429, "creation_date": 1502912125, "last_edit_date": 1503067429, "question_id": 45721646, "link": "https://stackoverflow.com/questions/45721646/constructing-a-neural-network-for-multiple-outputs", "title": "Constructing a Neural Network for Multiple Outputs", "body": "<p>My input data is as follows:</p>\n\n<pre><code>AT  V   AP  RH  PE\n14.96   41.76   1024.07 73.17   463.26\n25.18   62.96   1020.04 59.08   444.37\n5.11    39.4    1012.16 92.14   488.56\n20.86   57.32   1010.24 76.64   446.48\n10.82   37.5    1009.23 96.62   473.9\n26.27   59.44   1012.23 58.77   443.67\n15.89   43.96   1014.02 75.24   467.35\n9.48    44.71   1019.12 66.43   478.42\n14.64   45  1021.78 41.25   475.98\n....................................\n</code></pre>\n\n<p>I am basically working on Python using Tensorflow Library.\n    As of now,I have a linear model,which is working fine for 4 inputs and 1 output.This is basically a regression problem.\n    For e.g: After training my neural network with sufficient data(say if the size of data is some 10000), then while training my neural network,if I am passing the values 45,30,25,32,as inputs , it is returning the value 46 as Output.</p>\n\n<p>I basically have two queries:</p>\n\n<ol>\n<li>As of now, in my code, I am using the parameters\n<code>training_epochs</code> , <code>learning_rate</code> etc. I am as of now giving the\nvalue of <code>training_epochs</code> as 10000.So, when I am testing my neural\nnetwork by passing four input values, I am getting the output as\nsome 471.25, while I expect it to be 460.But if I am giving the\nvalue of <code>training_epochs</code> as 20000, instead of 10000, I am getting\nmy output value as 120.5, which is not at all close when compared to\nthe actual value \"460\".</li>\n</ol>\n\n<p><strong>Can you please explain, how can one chose the values of <code>training_epochs</code> and <code>learning_rate</code>(or any other parameter values) in my code, so that I can get good accuracy.</strong></p>\n\n<ol start=\"2\">\n<li>Now, the second issue is, my neural network as of now is working\nonly for linear data as well as only for 1 output. <strong>If I want to have\n3 inputs and 2 outputs and also a non-linear model, what are the\npossible changes I can make in my code?</strong></li>\n</ol>\n\n<p>I am posting my code below:</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport pandas as pd\n#import matplotlib.pyplot as plt\nrng = np.random\n\n\n# In[180]:\n\n# Parameters\nlearning_rate = 0.01\ntraining_epochs = 10000\ndisplay_step = 1000\n\n\n# In[171]:\n\n# Read data from CSV\n\ndf = pd.read_csv(\"H:\\MiniThessis\\Sample.csv\")\n\n\n# In[173]:\n\n# Seperating out dependent &amp; independent variable\n\ntrain_x = df[['AT','V','AP','RH']]\ntrain_y = df[['PE']]\ntrainx = train_x.as_matrix().astype(np.float32)\ntrainy = train_y.as_matrix().astype(np.float32)\n# In[174]:\n\nn_input = 4\nn_classes = 1\nn_hidden_1 = 5\nn_samples = 9569\n\n# tf Graph Input\n#Inserts a placeholder for a tensor that will be always fed.\nx = tf.placeholder(tf.float32, [None, n_input])\ny = tf.placeholder(tf.float32, [None, n_classes])\n\n# Set model weights\nW_h1 = tf.Variable(tf.random_normal([n_input, n_hidden_1]))\nW_out = tf.Variable(tf.random_normal([n_hidden_1, n_classes]))\nb_h1 = tf.Variable(tf.random_normal([n_hidden_1]))\nb_out = tf.Variable(tf.random_normal([n_classes]))\n\n\n# In[175]:\n\n# Construct a linear model\nlayer_1 = tf.matmul(x, W_h1) + b_h1\nlayer_1 = tf.nn.relu(layer_1)\nout_layer = tf.matmul(layer_1, W_out) + b_out\n\n\n# In[176]:\n\n# Mean squared error\ncost = tf.reduce_sum(tf.pow(out_layer-y, 2))/(2*n_samples)\n# Gradient descent\noptimizer = tf.train.AdamOptimizer(learning_rate).minimize(cost)\n\n\n# In[177]:\n\n# Initializing the variables\ninit = tf.global_variables_initializer()\n\n\n# In[181]:\n\n# Launch the graph\nwith tf.Session() as sess:\n    sess.run(init)\n\n    # Fit all training data\n    for epoch in range(training_epochs):\n        _, c = sess.run([optimizer, cost], feed_dict={x: trainx,y: trainy})\n\n        # Display logs per epoch step\n        if (epoch+1) % display_step == 0:\n            print(\"Epoch:\", '%04d' % (epoch+1), \"cost=\", \"{:.9f}\".format(c))\n\n    print(\"Optimization Finished!\")\n    training_cost = sess.run(cost, feed_dict={x: trainx,y: trainy})\n    print(training_cost)\n\n    correct_prediction = tf.equal(tf.argmax(out_layer, 1), tf.argmax(y, 1))\n    best = sess.run([out_layer], feed_dict=\n    {x:np.array([[14.96,41.76,1024.07,73.17]])})\n    print(correct_prediction)\n\n    print(best)\n</code></pre>\n"}, {"tags": ["python", "ibm-cloud"], "answers": [{"comments": [{"owner": {"reputation": 19515, "user_id": 3604745, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/U7HAo.png?s=128&g=1", "display_name": "Hack-R", "link": "https://stackoverflow.com/users/3604745/hack-r"}, "edited": false, "score": 0, "creation_date": 1503007280, "post_id": 45732193, "comment_id": 78448644, "body": "I can&#39;t test it this second but I will take your word and mark this as the solution"}], "tags": [], "owner": {"reputation": 14264, "user_id": 4923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1sCUT.jpg?s=128&g=1", "display_name": "data_henrik", "link": "https://stackoverflow.com/users/4923755/data-henrik"}, "is_accepted": true, "score": 1, "last_activity_date": 1502964382, "creation_date": 1502964382, "answer_id": 45732193, "question_id": 45721632, "link": "https://stackoverflow.com/questions/45721632/ibm-watson-bluemix-based-python-app-returns-404-subcode-c00010-error-when-queryi/45732193#45732193", "title": "IBM Watson/Bluemix based Python app returns 404 subcode C00010 error when querying the Tone Analyzer API", "body": "<p>There seem to be a couple of issues with your code. The <a href=\"https://www.ibm.com/watson/developercloud/tone-analyzer/api/v3/#introduction\" rel=\"nofollow noreferrer\">API for the Watson Tone Analyzer service</a> lists the following as API endpoint:</p>\n\n<pre><code>https://gateway.watsonplatform.net/tone-analyzer/api/v3/{method}\n</code></pre>\n\n<p>You are missing the Version 3 <code>v3</code> and I don't see that you provide any method. You also need to pass in the API version.</p>\n\n<p>I recommend to use the <a href=\"https://github.com/watson-developer-cloud/python-sdk/\" rel=\"nofollow noreferrer\">official Python SDK for the IBM Watson services</a>. When you browse that GitHub repo you will find an <a href=\"https://github.com/watson-developer-cloud/python-sdk/blob/master/examples/tone_analyzer_v3.py\" rel=\"nofollow noreferrer\">example for the tone analyzer</a>.</p>\n"}], "owner": {"reputation": 19515, "user_id": 3604745, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/U7HAo.png?s=128&g=1", "display_name": "Hack-R", "link": "https://stackoverflow.com/users/3604745/hack-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 45732193, "answer_count": 1, "score": 0, "last_activity_date": 1502964382, "creation_date": 1502912065, "question_id": 45721632, "link": "https://stackoverflow.com/questions/45721632/ibm-watson-bluemix-based-python-app-returns-404-subcode-c00010-error-when-queryi", "title": "IBM Watson/Bluemix based Python app returns 404 subcode C00010 error when querying the Tone Analyzer API", "body": "<p>I have the following code with the username, password, and URL values updated to those which I copied directly from the IBM Watson Service credentials. For some reason I get the error below.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>import requests\nimport json\n\ndef analyze_tone(text):\n    username = 'username-copied-from-watson'\n    password = 'service-password-copied-from-watson'\n    watsonUrl = 'https://gateway.watsonplatform.net/tone-analyzer/api'\n    headers = {\"content-type\": \"text/plain\"}\n    data = text\n    try:\n        r = requests.post(watsonUrl, auth=(username,password),headers = headers,\n         data=data)\n        return r.text\n    except:\n        return False\n\ndef welcome():\n    message = \"Welcome to the IBM Watson Tone Analyzer\\n\"\n    print(message + \"-\" * len(message) + \"\\n\")\n    message = \"How it works\"\n    print(message)\n    message = \"Perhaps a bit too aggressive in your emails? Are your blog posts a little too friendly? Tone Analyzer might be able to help. The service uses linguistic analysis to detect and interpret emotional, social, and writing cues found in text.\"\n    print(message)\n    print()\n    print(\"Have fun!\\n\")\n\ndef display_results(data):\n    data = json.loads(str(data))\n    print(data)\n    for i in data['document_tone']['tone_categories']:\n        print(i['category_name'])\n        print(\"-\" * len(i['category_name']))\n        for j in i['tones']:\n            print(j['tone_name'].ljust(20),(str(round(j['score'] * 100,1)) + \"%\").rjust(10))\n        print()\n    print()\n\ndef main():\n    welcome()\n\n    data = input(\"Enter some text to be analyzed for tone analysis by IBM Watson (Q to quit):\\n\")\n    if len(data) &gt;= 1:\n        if data == 'q'.lower():\n            exit\n        results = analyze_tone(data)\n        if results != False:\n            display_results(results)\n            exit\n        else:\n            print(\"Something went wrong\")\n\nmain()\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Enter some text to be analyzed for tone analysis by IBM Watson (Q to quit):\n\"I love hate you\"\n</code></pre>\n\n<blockquote>\n<pre><code>{u'sub_code': u'C00010', u'code': 404, u'error': u'Not Found'}\nTraceback (most recent call last):\n  File \"test.py\", line 58, in &lt;module&gt;\n    main()\n  File \"test.py\", line 53, in main\n</code></pre>\n</blockquote>\n\n<pre><code>display_results(results)\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 7550636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f35387e3de0777431db31eb3192683b1?s=128&d=identicon&r=PG&f=1", "display_name": "mamafoku", "link": "https://stackoverflow.com/users/7550636/mamafoku"}, "edited": false, "score": 0, "creation_date": 1502912522, "post_id": 45721522, "comment_id": 78401591, "body": "Thank you for the quick fix! much appreciated."}], "tags": [], "owner": {"reputation": 4678, "user_id": 1896918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B8swz.jpg?s=128&g=1", "display_name": "Ishant Mrinal", "link": "https://stackoverflow.com/users/1896918/ishant-mrinal"}, "is_accepted": true, "score": 1, "last_activity_date": 1502911630, "creation_date": 1502911630, "answer_id": 45721522, "question_id": 45721467, "link": "https://stackoverflow.com/questions/45721467/tensorflow-evaluation-of-binary-classifier-with-unbalanced-data-with-metric-tf/45721522#45721522", "title": "Tensorflow: Evaluation of Binary Classifier with Unbalanced Data with metric tf.metrics.recall_at_thresholds", "body": "<p>It seems you dint initialized the local and global variables associated</p>\n\n<pre><code>sess.run([tf.global_variables_initializer(), tf.local_variables_initializer()])\n</code></pre>\n"}], "owner": {"reputation": 799, "user_id": 7550636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f35387e3de0777431db31eb3192683b1?s=128&d=identicon&r=PG&f=1", "display_name": "mamafoku", "link": "https://stackoverflow.com/users/7550636/mamafoku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 45721522, "answer_count": 1, "score": 0, "last_activity_date": 1502912493, "creation_date": 1502911453, "last_edit_date": 1502912493, "question_id": 45721467, "link": "https://stackoverflow.com/questions/45721467/tensorflow-evaluation-of-binary-classifier-with-unbalanced-data-with-metric-tf", "title": "Tensorflow: Evaluation of Binary Classifier with Unbalanced Data with metric tf.metrics.recall_at_thresholds", "body": "<p>I am trying to evaluate a binary classifier trained on unbalanced data, in Tensorflow, and have problems using <strong>tf.metrics.recall_at_thresholds</strong></p>\n\n<pre><code>one_hot_targets=tf.reshape(tf.one_hot(tf.cast(Y,tf.int32),2),[-1,2]) #Y are labels\nweights=tf.reshape(tf.transpose(tf.matmul(one_hot_targets,tf.transpose([[ratio,1.0-ratio]]))),[-1,1])\nrecalls=tf.metrics.recall_at_thresholds(labels=Y,predictions=func_8,thresholds=[0.2,0.3,0.4,0.6,0.7],weights=weights)\n</code></pre>\n\n<p>but this gives me the following error in <code>Session.run()</code>:</p>\n\n<pre><code>Attempting to use uninitialized value recall_at_thresholds/true_positives\n     [[Node: recall_at_thresholds/true_positives/read = Identity[T=DT_FLOAT, _class=[\"loc:@recall_at_thresholds/true_positives\"], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](recall_at_thresholds/true_positives)]]\n</code></pre>\n\n<p>Pleas note that both <strong>ratio</strong> and <strong>Y</strong> are passed using the <em>feed dict</em> in session.</p>\n"}, {"tags": ["python", "regex", "regex-lookarounds"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502911628, "post_id": 45721465, "comment_id": 78401139, "body": "can you show us the expected output after all those?"}, {"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1502911918, "post_id": 45721465, "comment_id": 78401308, "body": "The expected output [&#39;-a&#39;, &#39;_-&#39;, &#39;_s1&#39;]"}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502912118, "post_id": 45721559, "comment_id": 78401404, "body": "could you explain what the regex is doing. I somewhat understand the first part, but lost on the second part s([^%]+)."}, {"owner": {"reputation": 9543, "user_id": 4989284, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/g03Hx.png?s=128&g=1", "display_name": "marvel308", "link": "https://stackoverflow.com/users/4989284/marvel308"}, "reply_to_user": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502912301, "post_id": 45721559, "comment_id": 78401489, "body": "[^%] matches anything which is not &quot;%&quot;, so ([^%]+) matches everything util an &quot;%&quot; occurs , check out <a href=\"https://regex101.com/r/i6qOES/1\" rel=\"nofollow noreferrer\">regex101.com/r/i6qOES/1</a>, the green indicates the captured group"}], "tags": [], "owner": {"reputation": 9543, "user_id": 4989284, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/g03Hx.png?s=128&g=1", "display_name": "marvel308", "link": "https://stackoverflow.com/users/4989284/marvel308"}, "is_accepted": false, "score": 1, "last_activity_date": 1502912368, "last_edit_date": 1502912368, "creation_date": 1502911770, "answer_id": 45721559, "question_id": 45721465, "link": "https://stackoverflow.com/questions/45721465/how-to-use-negative-lookahead-to-remove-search-between-two-chars/45721559#45721559", "title": "How to use negative lookahead to remove search between two chars", "body": "<p>you can do it using the regex</p>\n\n<blockquote>\n  <p>%[^s]*s([^%]+)</p>\n</blockquote>\n\n<p>The matches are stored in the group</p>\n\n<pre><code>import re\n\nregex = r\"%[^s]*s([^%]+)\"\n\ntest_str = \"%(example_1).40s-a%(example-2)s_-%(example3)s_s1\"\n\nsubst = \"\\\\1,\"\n\nresult = re.sub(regex, subst, test_str, 0)\n\nif result:\n    print (result)\n</code></pre>\n\n<p>or if you want them in an array</p>\n\n<pre><code>import re\n\nregex = r\"%[^s]*s([^%]+)\"\n\ntest_str = \"%(example_1).40s-a%(example-2)s_-%(example3)s_s1\"\n\nsubst = \"\\\\1,\"\n\nresult = re.findall(regex,test_str);\n\nif result:\n    print (result)\n</code></pre>\n\n<p>check <a href=\"http://ideone.com/tTDxVA\" rel=\"nofollow noreferrer\">online compiler</a></p>\n"}, {"comments": [{"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502913642, "post_id": 45721605, "comment_id": 78402106, "body": "How would it match preceding characters. Such as &#39;string2 = &#39;abc123%(example_1).40s-a%(example-2)s_-%(example3)s_s1&#39;&#39;  would you use something like this &#39;([^%]+)%[^s]*s&#39; ?|  Detailed output added to description"}], "tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1502914081, "last_edit_date": 1502914081, "creation_date": 1502911918, "answer_id": 45721605, "question_id": 45721465, "link": "https://stackoverflow.com/questions/45721465/how-to-use-negative-lookahead-to-remove-search-between-two-chars/45721605#45721605", "title": "How to use negative lookahead to remove search between two chars", "body": "<p>You can use:</p>\n\n<pre><code>&gt;&gt;&gt; string1 = '%(example_1).40s-a%(example-2)s_-%(example3)s_s1'\n&gt;&gt;&gt; print filter(None, re.split(r'::', re.sub(r'%[^s]*s', '::', string1)))\n['-a', '_-', '_s1']\n\n&gt;&gt;&gt; string2 = 'abc123%(example_1).40s-a%(example-2)s_-%(example3)s_s1'\n&gt;&gt;&gt; print filter(None, re.split(r'::', re.sub(r'%[^s]*s', '::', string2)))\n['abc123', '-a', '_-', '_s1']\n</code></pre>\n\n<p>Here:</p>\n\n<ul>\n<li><code>%[^s]*s</code>: matches everything between <code>%</code> and <code>s</code> characters</li>\n<li><code>sub</code> function replaces each of <code>%...s</code> with <code>::</code></li>\n<li><code>split</code> function splits on <code>::</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502917511, "post_id": 45721674, "comment_id": 78403848, "body": "This almost works, except if string = &#39;&#39;%(example_1).40s-a%(example-2)s_-%(example3)s&#39;, it also captures the last characters [&#39;example3)s&#39;]"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502917696, "post_id": 45721674, "comment_id": 78403918, "body": "I have tested with your input and I get <code>[&#39;-a&#39;, &#39;_-&#39;]</code> which is expected."}, {"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502918391, "post_id": 45721674, "comment_id": 78404205, "body": "Apologies for all the extraneous cases I am adding after. It seems when testing, I did not achieve the desired result is because the example string is similiar to this string4 = &#39;%(example_1).40s-a%(example-2)s_-%(examples3).40s&#39; . This causes a cut into the examples before the finals s"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502918557, "post_id": 45721674, "comment_id": 78404260, "body": "my answer seems to cover even the cases you added afterwards. consider accepting the answer that suits your needs best (besides of upvotes)"}, {"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502918785, "post_id": 45721674, "comment_id": 78404348, "body": "<code>(Pdb) string4 = &#39;%(example_1).40s-a%(example-2)s_-%(examples3).40s&#39;</code> <code>(Pdb) [x for x in re.split(&quot;%.*?s&quot;, string4) if x]</code>  <code>[&#39;-a&#39;, &#39;_-&#39;, &#39;3).40s&#39;]</code>  only <code>[&#39;-a&#39;, &#39;_-&#39;]</code> should match"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 2, "last_activity_date": 1502919384, "last_edit_date": 1502919384, "creation_date": 1502912245, "answer_id": 45721674, "question_id": 45721465, "link": "https://stackoverflow.com/questions/45721465/how-to-use-negative-lookahead-to-remove-search-between-two-chars/45721674#45721674", "title": "How to use negative lookahead to remove search between two chars", "body": "<p>I would rather use the \"negative\" approach, with <code>re.split</code> using non-greedy match to match chars between <code>%</code> and <code>s</code>: the regex is then very simple</p>\n\n<p>Only kludge: you need to filter empty fields (start of the string)</p>\n\n<pre><code>import re\n\nresult = [x for x in re.split(\"%.*?s\",'%(example_1).40s-a%(example-2)s_-%(example3)s_s1') if x]\n\nprint(result)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['-a', '_-', '_s1']\n</code></pre>\n\n<p>edit: that simple expression doesn't work if parentheses contain \"s\" character, you can then replace the expression by a more complex one:</p>\n\n<pre><code>%\\(.*?\\).*?s|%.*?s\n</code></pre>\n\n<p>(which is an expression requiring parentheses OR the previous simple expression: allows to match even if no parentheses)</p>\n"}, {"comments": [{"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502912645, "post_id": 45721684, "comment_id": 78401639, "body": "Is the regex searching between &#39;s&#39; and any character not &#39;%&#39;?  what if the the string1 = &#39;abc123%(example_1).40s-a%(example-2)s&#39;"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 1, "creation_date": 1502912738, "post_id": 45721684, "comment_id": 78401678, "body": "@user1539348:  Yes. What is your expected output with <code>&#39;abc123%(example_1).40s-a%(example-2)s&#39;</code>? Perhaps you should add several example input and desired outputs."}, {"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502913109, "post_id": 45721684, "comment_id": 78401846, "body": "I have added the extra case. Expected results would be     [&#39;abc123&#39;, &#39;-a&#39;, &#39;_-&#39;, &#39;_s1&#39;"}, {"owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "edited": false, "score": 0, "creation_date": 1502919389, "post_id": 45721684, "comment_id": 78404586, "body": "I have added one more testcase that seems to be breaking."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1502914754, "last_edit_date": 1502914754, "creation_date": 1502912276, "answer_id": 45721684, "question_id": 45721465, "link": "https://stackoverflow.com/questions/45721465/how-to-use-negative-lookahead-to-remove-search-between-two-chars/45721684#45721684", "title": "How to use negative lookahead to remove search between two chars", "body": "<p>Based on these test strings:</p>\n\n<pre><code>tests=('%(example_1).40s-a%(example-2)s_-%(example3)s_s1', \n       'abc123%(example_1).40s-a%(example-2)s_-%(example3)s_s1')\n</code></pre>\n\n<p>You can do:</p>\n\n<pre><code>for s in tests:\n    print re.findall(r'(?:s|^)([^%\\n]+)(?=%|$)', s)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>['-a', '_-', '_s1']\n['abc123', '-a', '_-', '_s1']\n</code></pre>\n"}], "owner": {"reputation": 503, "user_id": 1539348, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c2dceabd34e081e05c0fea37c69e05b3?s=128&d=identicon&r=PG", "display_name": "user1539348", "link": "https://stackoverflow.com/users/1539348/user1539348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 45721674, "answer_count": 4, "score": 3, "last_activity_date": 1576395693, "creation_date": 1502911449, "last_edit_date": 1576395693, "question_id": 45721465, "link": "https://stackoverflow.com/questions/45721465/how-to-use-negative-lookahead-to-remove-search-between-two-chars", "title": "How to use negative lookahead to remove search between two chars", "body": "<pre><code>string1 = '%(example_1).40s-a%(example-2)s_-%(example3)s_s1'\n</code></pre>\n\n<p>output</p>\n\n<pre><code>'-a', '_-', '_s1'\n</code></pre>\n\n<p>Need to remove all selection between '%' and 's'</p>\n\n<p>Attempt 1:</p>\n\n<pre><code>re.findall(\"[-_a-z0-9]+(?![^%]*\\s)\", string1)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['example_1', '0s-a', 'example-', 's_-', 'example', 's_s1']\n</code></pre>\n\n<p>Attempt 2:</p>\n\n<pre><code>re.findall(\"[-_a-z0-9]+(?![^(]*\\))\", string1)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['40s-a', 's_-', 's_s1']\n</code></pre>\n\n<p>attempt 2 is sorta close expect it matched '40s' which is between % &amp; s. and overmatched 's' in the other entries.</p>\n\n<p>expected output</p>\n\n<pre><code>['-a', '_-', '_s1']\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Want to confirm how to not search between % &amp; s.</p>\n\n<pre><code>string2 = 'abc123%(example_1).40s-a%(example-2)s_-%(example3)s_s1'\n</code></pre>\n\n<p>expected output:\n    ['abc123', '-a', '_-', '_s1'</p>\n\n<pre><code>string3 = 'abc123%(example_1).40s-a%(example-2)s_-%(examples3).40s'\n</code></pre>\n\n<p>expected output:\n    ['abc123', '-a', '_-']</p>\n"}]