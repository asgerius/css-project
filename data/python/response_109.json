[{"tags": ["python", "livewires"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1486649995, "post_id": 42125877, "comment_id": 71444317, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7034210/python-attributeerror-module-object-has-no-attribute-init\">Python AttributeError: &#39;module&#39; object has no attribute &#39;init&#39;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "edited": false, "score": 0, "creation_date": 1528117420, "post_id": 42139056, "comment_id": 88371930, "body": "The &#39;other possibility&#39; is not, in fact, possible, <code>from livewires import games</code> would, in that case, load a class, variable or function, and would not come up with an error stating that games was a module. It is possible that a folder called livewires was in that directory, containing a python file called games, but what about the other folder? You can&#39;t have two folders with the same name. In any case it seems unlikely."}], "tags": [], "owner": {"reputation": 1134, "user_id": 5759631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ad2728d6446efcad4ee66131e2af70?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/5759631/douglas"}, "is_accepted": false, "score": 1, "last_activity_date": 1486649843, "creation_date": 1486649843, "answer_id": 42139056, "question_id": 42125877, "link": "https://stackoverflow.com/questions/42125877/python-2-7-livewires-module-object-has-no-attribute-init/42139056#42139056", "title": "python 2.7 livewires - &#39;module&#39; object has no attribute &#39;init&#39;", "body": "<p>Given the fact that livewires was the only thing being imported, and the fact that it was the only thing you manually installed, you probably installed livewires wrong.  Try reinstalling with the help of a tutorial to make sure you do it right.  It may have to do with the location of livewires, also.</p>\n\n<p>Another possibility is that you created a file named \"livewires\" in the same directory as your program file, so the program may be importing that file instead.  If this is the case, just rename the file you created named livewires to something else.</p>\n"}], "owner": {"reputation": 13, "user_id": 7537346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28197685269ace6b07cfb288589c8382?s=128&d=identicon&r=PG&f=1", "display_name": "diego9403", "link": "https://stackoverflow.com/users/7537346/diego9403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486649843, "creation_date": 1486598392, "question_id": 42125877, "link": "https://stackoverflow.com/questions/42125877/python-2-7-livewires-module-object-has-no-attribute-init", "title": "python 2.7 livewires - &#39;module&#39; object has no attribute &#39;init&#39;", "body": "<p>I have a problem with programme from my book. There is simply code written by me:</p>\n\n<pre><code>from livewires import games\n\ngames.init(screen_width = 640, screen_height = 480, fps = 50)\n\ngames.screen.mainloop()\n</code></pre>\n\n<p>And error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/adrian/python_project/gra.py\", line 3, in &lt;module&gt;\n    games.init(screen_width = 640, screen_height = 480, fps = 50)\nAttributeError: 'module' object has no attribute 'init'\n</code></pre>\n\n<p>I installed packets by this command(I am using Ubuntu):</p>\n\n<pre><code>sudo apt-get install python-pygame\nsudo python2.7 setup.py install (I downloaded LiveWires-2.1 and extracted it)\n</code></pre>\n\n<p>What can I do to run this program?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "reply_to_user": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "edited": false, "score": 0, "creation_date": 1486599950, "post_id": 42126013, "comment_id": 71420361, "body": "have a try in second solution to &#39;reset_index&#39; too, it should to exactly the same thing calls[[&quot;2016-12-24&quot;,&quot;2016-12-25&quot;,&quot;2016-12-26&quot;].resample(&#39;1h&#39;&zwnj;&#8203;).sum().reset_index(&zwnj;&#8203;).plot()"}, {"owner": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "edited": false, "score": 0, "creation_date": 1486600678, "post_id": 42126013, "comment_id": 71420560, "body": "it&#39;s complaining about the list you&#39;re passing (even after adding the closing bracket you&#39;re missing)."}, {"owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "reply_to_user": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "edited": false, "score": 0, "creation_date": 1486600872, "post_id": 42126013, "comment_id": 71420614, "body": "It&#39;s hard if you don&#39;t post the initial dataframe you&#39;re working with. Probably you should resample before calling the fields, like this calls.resample(&#39;1h&#39;\u200c\u200b)[[&quot;2016-12-24&quot;,&quot;2016-12-25&quot;,&quot;2016-12-2&zwnj;&#8203;6&quot;]].sum().reset_ind&zwnj;&#8203;ex(\u200c\u200b).plot() but again. I&#39;m going blind here, I have no clue what is your index, columns, etc :)"}], "tags": [], "owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "is_accepted": true, "score": 1, "last_activity_date": 1486599466, "last_edit_date": 1486599466, "creation_date": 1486599153, "answer_id": 42126013, "question_id": 42125818, "link": "https://stackoverflow.com/questions/42125818/how-do-i-reset-the-index-for-a-matplotlib-plot/42126013#42126013", "title": "How do I &quot;reset the index&quot; for a matplotlib plot?", "body": "<p>If you don't care about using the correct datetime as index, you could just reset the index as you suggested for all the series. This is going to overlap all the time series, if this is what you're trying to achieve.</p>\n\n<pre><code># the below should\ncalls[\"2016-12-24\"].resample(\"1h\").sum().reset_index(\"2016-12-24\").plot(ax=ax)\ncalls[\"2016-12-25\"].resample(\"1h\").sum().reset_index(\"2016-12-25\").plot(ax=ax)\ncalls[\"2016-12-26\"].resample(\"1h\").sum().reset_index(\"2016-12-26\").plot(ax=ax)\n</code></pre>\n\n<p>Otherwise you should try as well to resample the three columns at the same time. Have a go with the below but not knowing how your original dataframe look like, I'm not sure this will fit your case. You should post some more information about the input dataframe. </p>\n\n<pre><code># have a try with the below \ncalls[[\"2016-12-24\",\"2016-12-25\",\"2016-12-26\"].resample('1h').sum().plot()\n</code></pre>\n"}], "owner": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 42126013, "answer_count": 1, "score": 0, "last_activity_date": 1486599466, "creation_date": 1486598027, "question_id": 42125818, "link": "https://stackoverflow.com/questions/42125818/how-do-i-reset-the-index-for-a-matplotlib-plot", "title": "How do I &quot;reset the index&quot; for a matplotlib plot?", "body": "<p>I have the following code:</p>\n\n<pre><code>fig, ax = plt.subplots(1, 1)\ncalls[\"2016-12-24\"].resample(\"1h\").sum().plot(ax=ax)\ncalls[\"2016-12-25\"].resample(\"1h\").sum().plot(ax=ax)\ncalls[\"2016-12-26\"].resample(\"1h\").sum().plot(ax=ax)\n</code></pre>\n\n<p>which generates the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/47VaM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47VaM.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I make this so the lines share the x-axis? In other words, how do I make them not switch days?</p>\n"}, {"tags": ["python", "arguments"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1486598061, "post_id": 42125794, "comment_id": 71419749, "body": "You&#39;re only confusing yourself by nesting functions. This is a standard problem with assigning to values outside the current scope - the inner <code>v2</code> in your first example isn&#39;t explicitly <code>global</code>/<code>nonlocal</code>, so it&#39;s not the same as the default argument you closed over."}, {"owner": {"reputation": 7262, "user_id": 965668, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5a1a905b85dda1d0c117a01b6cdaf074?s=128&d=identicon&r=PG", "display_name": "Furbeenator", "link": "https://stackoverflow.com/users/965668/furbeenator"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486598606, "post_id": 42125794, "comment_id": 71419950, "body": "So because the if statement is outside the nested function in the second example, python forces <code>v2</code> to be global, even though the code block is never run? I&#39;m just confused why it prints <code>v1</code> but doesn&#39;t have <code>v2</code> bound."}, {"owner": {"reputation": 651, "user_id": 3457926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c20fffb472807235cde8427419119d?s=128&d=identicon&r=PG&f=1", "display_name": "the_constant", "link": "https://stackoverflow.com/users/3457926/the-constant"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486598757, "post_id": 42125794, "comment_id": 71419997, "body": "@jonrsharpe incorrect by a mile: <a href=\"http://stackoverflow.com/questions/4020419/why-arent-python-nested-functions-called-closures\" title=\"why arent python nested functions called closures\">stackoverflow.com/questions/4020419/&hellip;</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 651, "user_id": 3457926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c20fffb472807235cde8427419119d?s=128&d=identicon&r=PG&f=1", "display_name": "the_constant", "link": "https://stackoverflow.com/users/3457926/the-constant"}, "edited": false, "score": 0, "creation_date": 1486598999, "post_id": 42125794, "comment_id": 71420082, "body": "@Vincenzzzochi really constructive, thanks"}, {"owner": {"reputation": 7262, "user_id": 965668, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5a1a905b85dda1d0c117a01b6cdaf074?s=128&d=identicon&r=PG", "display_name": "Furbeenator", "link": "https://stackoverflow.com/users/965668/furbeenator"}, "edited": false, "score": 0, "creation_date": 1486599614, "post_id": 42125794, "comment_id": 71420271, "body": "Thank you both, I&#39;ll have to crack into the python guide for some more details on this. It is weird because the original code I used has several default arguments, all of which are available to the nested function, this is the only one that is not bound and also the only one involved with an if statement that modifies it, even though that if is not true."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486633352, "post_id": 42125794, "comment_id": 71432888, "body": "Please read the dupe and other questions relating to the same error message - it doesn&#39;t matter that the assignment doesn&#39;t get reached with your specific values, just that it&#39;s <i>reachable</i>."}, {"owner": {"reputation": 7262, "user_id": 965668, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5a1a905b85dda1d0c117a01b6cdaf074?s=128&d=identicon&r=PG", "display_name": "Furbeenator", "link": "https://stackoverflow.com/users/965668/furbeenator"}, "edited": false, "score": 0, "creation_date": 1486684183, "post_id": 42125794, "comment_id": 71464465, "body": "I have and will a few more times. I just still don&#39;t understand why if I create three arguments two of them will be bound and one won&#39;t. The only difference being that one is involved in an if statement code block. That doesn&#39;t make sense to me."}], "owner": {"reputation": 7262, "user_id": 965668, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5a1a905b85dda1d0c117a01b6cdaf074?s=128&d=identicon&r=PG", "display_name": "Furbeenator", "link": "https://stackoverflow.com/users/965668/furbeenator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1486598144, "answer_count": 0, "score": 0, "last_activity_date": 1486597861, "creation_date": 1486597861, "question_id": 42125794, "link": "https://stackoverflow.com/questions/42125794/python-method-arguments-as-none-doing-something-funky-please-explain", "closed_reason": "Duplicate", "title": "Python method arguments as None doing something funky, please explain", "body": "<p>This is a weird situation I've been scratching my head about for an hour or so. I can't explain this error, can you? If <code>v1</code> is None, the <code>if v1 is not None:</code> block doesn't get run, but v2 is already defined in the method definition, with default of None. Why is it when I pass v1 with a value, it works, but when using the default None, it makes the v2 unbound? If I change it so that the <code>if v1 is not None:</code> block is outside the <code>method()</code> it works, but not if it is inside. I don't understand this behavior. Thanks for any clarification you can give me.</p>\n\n<pre><code>&gt;&gt;&gt; def test(v1=None, v2=None):\n...     def method():\n...         if v1 is not None:\n...             v2 = 1\n...         print v1\n...         print v2\n...     method()\n...\n&gt;&gt;&gt; test()\nNone\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 7, in test\n  File \"&lt;stdin&gt;\", line 6, in method\nUnboundLocalError: local variable 'v2' referenced before assignment\n&gt;&gt;&gt; test('test1', 'test2')\ntest1\n1\n&gt;&gt;&gt; \n&gt;&gt;&gt; def test(v1=None, v2=None):\n...     if v1 is not None:\n...         v2 = 1\n...     def method():\n...         print v1\n...         print v2\n...     method()\n...\n&gt;&gt;&gt; test()\n&gt;&gt;&gt; def test(v1=None, v2=None):\n...     if v1 is not None:\n...         v2 = 1\n...     def method():\n...         print v1\n...         print v2\n...     method()\n... \n&gt;&gt;&gt; test()\nNone\nNone\n&gt;&gt;&gt; test('test1', 'test2')\ntest1\n1\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 803, "user_id": 3272686, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78a1700be6fc44157c74d5c64915931b?s=128&d=identicon&r=PG&f=1", "display_name": "user3272686", "link": "https://stackoverflow.com/users/3272686/user3272686"}, "edited": false, "score": 0, "creation_date": 1486597994, "post_id": 42125787, "comment_id": 71419723, "body": "What is the actual output?"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 1, "creation_date": 1486598057, "post_id": 42125787, "comment_id": 71419747, "body": "Both your <code>for</code>s are not necessary - <code>if lit in variable:</code> will suffice. Furthermore, <code>lit.isalpha()</code> and <code>lit.isdigit()</code> are standard library functions so you don&#39;t need the above."}, {"owner": {"reputation": 725, "user_id": 5844752, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-MEX92Gk2f9s/AAAAAAAAAAI/AAAAAAAAAIk/kKhjSCCzN9w/photo.jpg?sz=128", "display_name": "UnsignedByte", "link": "https://stackoverflow.com/users/5844752/unsignedbyte"}, "edited": false, "score": 0, "creation_date": 1486600284, "post_id": 42125787, "comment_id": 71420454, "body": "Your question is phrased wrong, It looks like your code&#39;s error is when it is a number, not a word. Are you sure it doesn&#39;t give the right message when you typed multiple characters?"}], "answers": [{"comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1486598875, "post_id": 42125821, "comment_id": 71420041, "body": "Also, if he wants to use the CheckifLitIsNumber and compare to a list of integers, he needs to <code>CheckIfLitIsNumber(int(lit))</code>. <code>input()</code> returns a string in Python3."}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 2, "creation_date": 1486599342, "post_id": 42125821, "comment_id": 71420195, "body": "<code>not lit.isdigit()</code> should suffice as you&#39;d need a <code>try&#47;except</code> statement for the case when it is a number."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1486599450, "post_id": 42125821, "comment_id": 71420227, "body": "Yes. I missed that. @Andrei please see the comment mentioned by TemporalWolf and Steven. For details, you may refer: <a href=\"http://stackoverflow.com/questions/20449427/how-can-i-read-inputs-as-integers-in-python\">How can I read inputs as integers in Python?</a>"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1486602008, "last_edit_date": 1495540433, "creation_date": 1486598054, "answer_id": 42125821, "question_id": 42125787, "link": "https://stackoverflow.com/questions/42125787/error-with-returning-true-or-false-when-i-enter-a-number/42125821#42125821", "title": "Error with returning True or False when I enter a number", "body": "<p>With the first iteration of <code>for</code> loop in <code>CheckIfLitIsNumber</code>, if <code>z</code> is not equal to <code>lit</code>; your code is returning <code>False</code>. In other words, in your current code <code>for</code> is having no meaning as it is returning the <code>True</code>/<code>False</code> based on the comparison of <code>numbers[0]==lit</code>.</p>\n\n<p>Instead you should be returning the <code>False</code> value at the completion of <code>for</code> loop. Hence, you code should be like:</p>\n\n<pre><code>def CheckIfLitIsNumber(lit):\n    numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n    for z in numbers:\n        if (z == lit):\n           return True\n    else:\n        return False\n    # ^   ^  please note the indentation    \n</code></pre>\n\n<p>Also note that the <code>input()</code> in Python always returns <code>str</code>. For changing it to <code>int</code> type, you'll have to type-cast it. Hence, before passing the value to <code>CheckIfLitIsNumber</code>, only then you'll be able to perform integer comparison. Please refer: <a href=\"https://stackoverflow.com/questions/20449427/how-can-i-read-inputs-as-integers-in-python\">How can I read inputs as integers in Python?</a></p>\n\n<hr>\n\n<p>However, you do not need both of these functions. You may get the same result via just doing:</p>\n\n<pre><code>import string\nvariable = string.lowercase  # string of all the lowercase characters\n\nlit = input(\"Give a character \")\n\n#                          v check presence of `lit` in `variable` string\nif len(lit) == 1  and lit in variable:  \n    print(\"Your character is \", lit)\nelse:\n    print(\"You didn't give a character or you've entered a word\")\n</code></pre>\n\n<p>It is even better to change your <code>if</code> condition to:</p>\n\n<pre><code>#                         v checks whether number is alphabet or not\nif len(lit) == 1  and lit.isalpha():\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 5844752, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-MEX92Gk2f9s/AAAAAAAAAAI/AAAAAAAAAIk/kKhjSCCzN9w/photo.jpg?sz=128", "display_name": "UnsignedByte", "link": "https://stackoverflow.com/users/5844752/unsignedbyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1486600118, "last_edit_date": 1486600118, "creation_date": 1486599786, "answer_id": 42126115, "question_id": 42125787, "link": "https://stackoverflow.com/questions/42125787/error-with-returning-true-or-false-when-i-enter-a-number/42126115#42126115", "title": "Error with returning True or False when I enter a number", "body": "<p>You have an error when doing</p>\n\n<pre><code>def CheckIfLitIsNumber(lit):\n    numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n    for z in numbers:\n        if (z == lit):\n           return True\n    else:\n        return False\n</code></pre>\n\n<p>Since <code>numbers</code> is an <code>int array</code>, comparing that to <code>lit</code>, a <code>string</code>, will always return false. For example:</p>\n\n<pre><code>&gt;&gt;&gt; \"1\" == 1\nFalse\n</code></pre>\n\n<p>Instead, what you would want to do is <code>catch</code> a <code>TypeError</code>, like so:</p>\n\n<p><strong>Do NOT use this code, look below to see what to use instead.</strong></p>\n\n<pre><code>def CheckIfLitIsNumber(lit):\n    try:\n        return isinstance(int(lit), int)\n    Except TypeError:\n        return false\n</code></pre>\n\n<p>In this example, if <code>lit</code> is actually a string, running <code>int(lit)</code> will give a <code>TypeError</code>, which is subsequently <code>caught</code> and <code>return false</code> is run instead.\nThough this would work, it would be much simpler just to use <code>lit.isdigit()</code>, like this:</p>\n\n<pre><code>def CheckIfLitIsNumber(lit):\n    return not lit.isdigit()\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7537306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd0f8093e54e39bbb1ac98c36312f06e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/7537306/andrei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 42125821, "answer_count": 2, "score": 0, "last_activity_date": 1486647158, "creation_date": 1486597816, "last_edit_date": 1486647158, "question_id": 42125787, "link": "https://stackoverflow.com/questions/42125787/error-with-returning-true-or-false-when-i-enter-a-number", "title": "Error with returning True or False when I enter a number", "body": "<p>I don't know what's wrong in this code. I want this program to print the character or to show a message, for example \"you didn't type only 1 character\". Can you help me please ?</p>\n\n<pre><code>def PrintVariable(lit):\nvariable = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \n            \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"w\", \"x\", \"y\", \"z\"]\nfor i in variable:\n    if(i == lit):\n        print(\"Your character is \", i)\n\ndef CheckIfLitIsNumber(lit):\n    numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n    for z in numbers:\n        if (z == lit):\n           return True\n        else:\n           return False\n\nlit = (input(\"Give a character \"))\nif len(lit) == 1 and (CheckIfLitIsNumber(lit) is False):\n    PrintVariable(lit)\nelse:\n    print(\"You didn't give a character or you've entered a word\")\n</code></pre>\n"}, {"tags": ["python", "tkinter", "label", "frame"], "comments": [{"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 0, "creation_date": 1486599640, "post_id": 42125782, "comment_id": 71420280, "body": "Quite likely there is an issue because you have a mix of <code>pack</code>, <code>place</code> and <code>grid</code>. Try to stick to one geometry manager."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 1, "creation_date": 1486599728, "post_id": 42125782, "comment_id": 71420300, "body": "@StevenSummers: no, the problem isn&#39;t because <code>pack</code>, <code>place</code> and <code>grid</code> are mixed together. It&#39;s simply that the OP is using <code>place</code> incorrectly. I think the best practice is to use <code>grid</code> and <code>pack</code> together in an application, just be aware you can&#39;t use them both for widgets that have the same parent."}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 0, "creation_date": 1486599934, "post_id": 42125782, "comment_id": 71420356, "body": "Ah Okay, I thought it was best to avoid mixing them."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5490173, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3863fb0454b885c4569e0a937a4d7507?s=128&d=identicon&r=PG&f=1", "display_name": "Darrius", "link": "https://stackoverflow.com/users/5490173/darrius"}, "edited": false, "score": 0, "creation_date": 1486601462, "post_id": 42126103, "comment_id": 71420777, "body": "Noted. Thanks for the response. :D"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1486599700, "creation_date": 1486599700, "answer_id": 42126103, "question_id": 42125782, "link": "https://stackoverflow.com/questions/42125782/python-labels-cant-be-shown-to-frame/42126103#42126103", "title": "Python -&gt; Labels cant be shown to Frame", "body": "<p>In this particular case, you don't see the labels because they are off the screen. <code>leftFrame</code> has an anchor of <code>W</code>, which means that the vertical center of <code>leftFrame</code> is at 0,0.  In other words, half of the frame is above the visible portion of the window.</p>\n\n<p>A quick fix to prove this out is to use an anchor of <code>NW</code> instead of <code>W</code>, which will cause the upper-left corner of the frame to be at the upper-left corner of its parent.</p>\n\n<p>However, I strongly encourage you to <em>not</em> use <code>place</code> at all. It has its uses, but really should rarely be used. You end up having to do a lot of work yourself, and the result is usually not very responsive to changes in fonts, resolutions, or window sizes.</p>\n"}], "owner": {"reputation": 147, "user_id": 5490173, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3863fb0454b885c4569e0a937a4d7507?s=128&d=identicon&r=PG&f=1", "display_name": "Darrius", "link": "https://stackoverflow.com/users/5490173/darrius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 42126103, "answer_count": 1, "score": 0, "last_activity_date": 1486599700, "creation_date": 1486597791, "last_edit_date": 1486599057, "question_id": 42125782, "link": "https://stackoverflow.com/questions/42125782/python-labels-cant-be-shown-to-frame", "title": "Python -&gt; Labels cant be shown to Frame", "body": "<p>Labels can't be shown into the leftFrame. I'm quite new to Python GUI. My code kinda goes like this:</p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\n\nmainFrame = Frame(root, width=700, height=500)\nmainFrame.pack()\n\nleftFrame = Frame(mainFrame, bg=\"#c2c3c4\")\nleftFrame.place(relheight=1, relwidth=0.34, anchor=W)\n\nlabel1 = Label(leftFrame, text=\"Label1\")\nlabel2 = Label(leftFrame, text=\"Label2\")\n\nlabel1.grid(columnspan=2, sticky=W, pady=(20, 0))\nlabel2.grid(columnspan=3, sticky=W, pady=(5, 0))\n\nroot.mainloop()\n</code></pre>\n\n<hr>\n"}, {"tags": ["python", "python-2.7", "list"], "comments": [{"owner": {"reputation": 152, "user_id": 1650560, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ihZra.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/1650560/jimmy"}, "edited": false, "score": 1, "creation_date": 1486597993, "post_id": 42125719, "comment_id": 71419722, "body": "I think this post may help you. <a href=\"http://stackoverflow.com/questions/8177079/python-take-the-content-of-a-list-and-append-it-to-another-list\" title=\"python take the content of a list and append it to another list\">stackoverflow.com/questions/8177079/&hellip;</a>"}, {"owner": {"reputation": 6808, "user_id": 836450, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848c79a87762a07d9a3f45329026effd?s=128&d=identicon&r=PG", "display_name": "portforwardpodcast", "link": "https://stackoverflow.com/users/836450/portforwardpodcast"}, "reply_to_user": {"reputation": 152, "user_id": 1650560, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ihZra.jpg?s=128&g=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/1650560/jimmy"}, "edited": false, "score": 1, "creation_date": 1486598150, "post_id": 42125719, "comment_id": 71419777, "body": "Jimmy, My question is a duplicate, all the answers there will help me.  To change my code all I need to do is <code>parent = [[] for _ in range(2)]</code>"}, {"owner": {"reputation": 807, "user_id": 5160708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCUNP.jpg?s=128&g=1", "display_name": "Amit Karnik", "link": "https://stackoverflow.com/users/5160708/amit-karnik"}, "edited": false, "score": 0, "creation_date": 1486636252, "post_id": 42125719, "comment_id": 71434807, "body": "Initiating is different from constructing.       a = [[]] * 2  # here initiated a list and assigned to a.      b = [[] for _ in range(2)]  # here constructing a list and assigning to b."}], "owner": {"reputation": 6808, "user_id": 836450, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/848c79a87762a07d9a3f45329026effd?s=128&d=identicon&r=PG", "display_name": "portforwardpodcast", "link": "https://stackoverflow.com/users/836450/portforwardpodcast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1486597578, "answer_count": 0, "score": 0, "last_activity_date": 1486597421, "creation_date": 1486597421, "question_id": 42125719, "link": "https://stackoverflow.com/questions/42125719/python-append-to-a-single-list-of-list-appends-to-all", "closed_reason": "Duplicate", "title": "python: append() to a single list of list appends to all", "body": "<p>I have a lists of list, and I would like to append data to each sublist independently.  When I append to one, it seems like ALL of the sublists are getting the same data appended.  Here is my code:</p>\n\n<p>Code:</p>\n\n<pre><code>parent = [[]] * 2\ndata = [1]*4\nparent[0].append(data)\nprint \"sublist 0:\", parent[0]\nprint \"sublist 1:\", parent[1]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>sublist 0: [[1, 1, 1, 1]]\nsublist 1: [[1, 1, 1, 1]]\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>sublist 0: [[1, 1, 1, 1]]\nsublist 1: []\n</code></pre>\n\n<p>What am I doing wrong or not understanding here? </p>\n"}, {"tags": ["python", "mysql", "pandas", "indexing"], "comments": [{"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 1, "creation_date": 1486599088, "post_id": 42125718, "comment_id": 71420110, "body": "Terribly slow to have connect/disconnect inside the loop!"}], "answers": [{"comments": [{"owner": {"reputation": 2251, "user_id": 2736467, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XFTjG.png?s=128&g=1", "display_name": "Chubaka", "link": "https://stackoverflow.com/users/2736467/chubaka"}, "edited": false, "score": 0, "creation_date": 1486632099, "post_id": 42126553, "comment_id": 71431957, "body": "hi piRSquared, Thanks for your kind answer.  Learning a trick!  I have responded above.  Could you help? Thanks!"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1486602775, "creation_date": 1486602775, "answer_id": 42126553, "question_id": 42125718, "link": "https://stackoverflow.com/questions/42125718/python-pandas-passing-3-columns-pairs-of-data-into-a-loop-and-mysql-queries/42126553#42126553", "title": "python pandas passing 3 columns pairs of data into a loop and MySQL queries", "body": "<p><strong><em>setup</em></strong>  </p>\n\n<pre><code>txt = \"\"\"PROPERTY_ID,CLIENT_ID,FROM_YEAR\n1,5,2015\n2,6,2015\n3,9,2015\n4,9,2015\n\"\"\"\n\ndf = pd.read_csv(StringIO(txt))\n</code></pre>\n\n<p><strong><em>option 1</em></strong><br>\n<code>apply</code> + <code>tuple</code> + <code>unique</code></p>\n\n<pre><code>df.apply(tuple, 1).unique().tolist()\n\n[(1, 5, 2015), (2, 6, 2015), (3, 9, 2015), (4, 9, 2015)]\n</code></pre>\n\n<p><strong><em>option 2</em></strong><br>\nlist comprehension + <code>drop_duplicates</code></p>\n\n<pre><code>[tuple(x) for x in df.drop_duplicates().values]\n\n[(1, 5, 2015), (2, 6, 2015), (3, 9, 2015), (4, 9, 2015)]\n</code></pre>\n"}], "owner": {"reputation": 2251, "user_id": 2736467, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XFTjG.png?s=128&g=1", "display_name": "Chubaka", "link": "https://stackoverflow.com/users/2736467/chubaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 42126553, "answer_count": 1, "score": 1, "last_activity_date": 1486632036, "creation_date": 1486597412, "last_edit_date": 1592644375, "question_id": 42125718, "link": "https://stackoverflow.com/questions/42125718/python-pandas-passing-3-columns-pairs-of-data-into-a-loop-and-mysql-queries", "title": "python pandas passing 3 columns pairs of data into a loop and MySQL queries", "body": "<p>Assume we have a csv</p>\n<pre><code>PROPERTY_ID,CLIENT_ID,FROM_YEAR\n1,5,2015\n2,6,2015\n3,9,2015\n4,9,2015\n</code></pre>\n<p>I am trying to pass each unique combination of CLIENT_ID, PROPERTY_ID,FROM_YEAR into a dictionary, so I can put the &quot;PROPERTY_ID,CLIENT_ID,FROM_YEAR&quot; pair into MySQL queries:</p>\n<pre><code>for i in CLIENT_ID\n\n  do \n\n   connect to MySQL\n\n   SELECT * FROM DATABASE_${CLIENT_ID}.TABLE WHERE PROPERTY IN ${PROPERTY_ID} AND FROM_YEAR = ${FROM_YEAR};\n\n   disconnect to MySQL\n\n done\n</code></pre>\n<p>In a real number way, not parameters:</p>\n<pre><code>for i in CLIENT_ID\n\n  do \n\n   connect to MySQL\n\n   SELECT * FROM DATABASE_9.TABLE WHERE PROPERTY IN ('3','4') AND FROM_YEAR = 2015;\n\n   disconnect to MySQL\n\n done\n</code></pre>\n<p>Now the solution I can think of is to transform the python panda frame into dictionary:</p>\n<pre><code>df=pd.read_csv('test.csv')\n\ndf2=df.T.to_dict('list')\n</code></pre>\n<p>But it will return a dictionary of an interesting key:values pairs:</p>\n<p>indexing: (CLIENT_ID,PROPERTY_ID,FROM_YEAR)</p>\n<pre><code>{0: [5, 1,2015], 1: [6, 2,2015], 2: [9, 3,2015], 3: [9, 4,2015]}\n</code></pre>\n<p>Any simpler solution to proceed?</p>\n<h1>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</h1>\n<p>Hi @piRSquared,</p>\n<p>Thanks for your answer. Is there any way that we can make the following?</p>\n<pre><code>1st round:\n$CLIENT_ID,$PROPERTY_ID,$FROM_YEAR=5,1,2015\n\n2nd round\n$CLIENT_ID,$PROPERTY_ID,$FROM_YEAR=6,2,2015\n\n3rd round\n$CLIENT_ID,$PROPERTY_ID,$FROM_YEAR=9,3,2015\n\n4th round\n$CLIENT_ID,$PROPERTY_ID,$FROM_YEAR=9,4,2015\n</code></pre>\n<p>so that we can print out SQL queries like:</p>\n<pre><code>SELECT * FROM client_5 WHERE PROPERTY_ID = 1 and FROM_YEAR = 2015;\n\nSELECT * FROM client_6 WHERE PROPERTY_ID = 2 and FROM_YEAR = 2015;\n\nSELECT * FROM client_9 WHERE PROPERTY_ID = 3 and FROM_YEAR = 2015;\n</code></pre>\n<p>I have tried to use list comprehension:</p>\n<pre><code>for CLIENT_ID in [x[0] for x in df2]:\n\n    CLIENT_ID=CLIENT_ID.astype('str')\n\n    print &quot;SELECT * FROM client&quot;+CLIENT_ID\n    \n    for PROPERTY_CODE in [y[1] for y in df2]:\n\n        PROPERTY_CODE=PROPERTY_CODE.astype('str')\n\n        print &quot;WHERE PROPERTY_ID = &quot;+PROPERTY_CODE\n</code></pre>\n<p>it returns the following, which is not we are looking for:</p>\n<pre><code>SELECT * FROM client_5\nWHERE FK_PROPERTY_ID = 1\nWHERE FK_PROPERTY_ID = 2\nWHERE FK_PROPERTY_ID = 3\nWHERE FK_PROPERTY_ID = 4\n</code></pre>\n<p>Could you enlighten? Thanks.</p>\n"}, {"tags": ["python", "django", "python-3.x", "url", "routes"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1486598457, "post_id": 42125708, "comment_id": 71419903, "body": "You missed the trailing slash - /myapp/what/"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1486598885, "post_id": 42125708, "comment_id": 71420043, "body": "Can you show the error message, specifically the patterns that were tried?"}], "owner": {"reputation": 1249, "user_id": 7476650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b56059fcb039c1cd501fcd2a088392bf?s=128&d=identicon&r=PG&f=1", "display_name": "m4jesticsun", "link": "https://stackoverflow.com/users/7476650/m4jesticsun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486597362, "creation_date": 1486597362, "question_id": 42125708, "link": "https://stackoverflow.com/questions/42125708/django-url-include-with-multiple-urls-doesnt-work", "title": "django url include with multiple urls doesn&#39;t work", "body": "<p>so I have this code:</p>\n\n<p>urls.py</p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^myapp/', include('myapp.urls')),\n]\n</code></pre>\n\n<p>myapp.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^what/', views.do_something),\n]\n</code></pre>\n\n<p>going to myapp/ works but going to myapp/what doesn't work and ends up returning 404 page not found...</p>\n\n<p>what did I do wrong? </p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486597309, "post_id": 42125670, "comment_id": 71419444, "body": "<code>args = args_parser().parse_args()</code>? You&#39;d have to do <code>args.k</code> to get <code>100</code>, but otherwise..."}, {"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1486597365, "post_id": 42125670, "comment_id": 71419468, "body": "<code>parser.parse_args().k</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1932, "user_id": 3991782, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cobzl.jpg?s=128&g=1", "display_name": "gr1zzly be4r", "link": "https://stackoverflow.com/users/3991782/gr1zzly-be4r"}, "is_accepted": false, "score": 1, "last_activity_date": 1486597363, "creation_date": 1486597363, "answer_id": 42125710, "question_id": 42125670, "link": "https://stackoverflow.com/questions/42125670/how-to-grab-all-defaults-from-argparse/42125710#42125710", "title": "How to grab all defaults from `argparse`?", "body": "<p>This should do that for you. I think you should be able to find this in the Python docs on <code>ArgumentParser</code> as well:</p>\n\n<pre><code>vars(args.parse_args())['k']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 355, "user_id": 6297800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31576c9c3dd4b067ddac1cc9384cff4e?s=128&d=identicon&r=PG&f=1", "display_name": "zyd", "link": "https://stackoverflow.com/users/6297800/zyd"}, "is_accepted": true, "score": 0, "last_activity_date": 1486597924, "creation_date": 1486597924, "answer_id": 42125804, "question_id": 42125670, "link": "https://stackoverflow.com/questions/42125670/how-to-grab-all-defaults-from-argparse/42125804#42125804", "title": "How to grab all defaults from `argparse`?", "body": "<p>You need to call the .parse_args() function on your parser object in order to actually return the command-line arguments parsed and assigned to attributes as defined in your .add_argument() statement.  So something like: </p>\n\n<pre><code>parser = args_parser()\nargs = parser.parse_args()\nk_value = args.k\n</code></pre>\n\n<p>The 'args' variable returned by .parse_args() will have attributes assigned corresponding to the names you assign to it via the .add_argument() call, although if there is no default and the user does not provide a given argument its value will be 'None'.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1486599449, "creation_date": 1486599449, "answer_id": 42126069, "question_id": 42125670, "link": "https://stackoverflow.com/questions/42125670/how-to-grab-all-defaults-from-argparse/42126069#42126069", "title": "How to grab all defaults from `argparse`?", "body": "<pre><code>def args_parser():\n    parser = argparse.ArgumentParser(description='myparser')\n    parser.add_argument('--k', type=int, default=100, help = 'numbers')\n    return parser\n\nparser = args_parser():\nargs = parser.parse_args([])    \nprint(args)     # see all values\nprint(args.k)   # see just the k attribute\n</code></pre>\n\n<p><code>parse_args()</code> parses the <code>sys.argv</code> as provided in the commandline.  <code>parse_args([])</code> parses an empty list, same as if you had called the script without arguments.  I regularly test a parser setup with calls like this.</p>\n\n<p>With your argument definition the <code>[]</code> works fine and shows the default <code>k</code> value.  With other defintions, <code>[]</code> might produce an error.  For example if you included</p>\n\n<pre><code>parser.add_argument('infile', help='positional file name')\n</code></pre>\n\n<p>now a string is required.  For a simple positional like that a default is not needed nor does it make sense.  But other parameter combinations can make use of a default.</p>\n\n<p>I could show you how to access the <code>default</code> as set in the <code>add_argument</code> command, but that involves some undocumented features.  In addition there are several ways of defining defaults, so the topic can get complicated.</p>\n\n<p>Anyways simply running the <code>parse_args</code> with an empty list is often enough.</p>\n\n<p>You can also make it display the default in the help line with a little addition:</p>\n\n<pre><code>parser.add_argument('--k', type=int, default=100, help = 'numbers, %(default)s')\n</code></pre>\n\n<p>For example, in an interactive <code>ipython</code> session:</p>\n\n<pre><code>In [73]: parser=argparse.ArgumentParser()\nIn [74]: parser.add_argument('--k', type=int, default=100, help = 'numbers, %(default)s')\nOut[74]: _StoreAction(option_strings=['--k'], dest='k', nargs=None,\n    const=None, default=100, type=&lt;class 'int'&gt;, choices=None,\n    help='numbers, %(default)s', metavar=None)\n\nIn [75]: parser.print_help()\nusage: ipython3 [-h] [--k K]\n\noptional arguments:\n  -h, --help  show this help message and exit\n  --k K       numbers, 100\n\nIn [76]: parser.parse_args([])    # displays args\nOut[76]: Namespace(k=100)\nIn [78]: parser.parse_args(['--k','200'])\nOut[78]: Namespace(k=200)\n</code></pre>\n"}], "owner": {"reputation": 7423, "user_id": 2605112, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/MpAe0.png?s=128&g=1", "display_name": "makansij", "link": "https://stackoverflow.com/users/2605112/makansij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 42125804, "answer_count": 3, "score": 0, "last_activity_date": 1486599449, "creation_date": 1486597181, "question_id": 42125670, "link": "https://stackoverflow.com/questions/42125670/how-to-grab-all-defaults-from-argparse", "title": "How to grab all defaults from `argparse`?", "body": "<p>I have an argument parser like so:</p>\n\n<pre><code>def args_parser():\n    parser = argparse.ArgumentParser(description='myparser')\n    parser.add_argument('--k', type=int, default=100, help = 'numbers')\n    return parser\n</code></pre>\n\n<p>Now, all I want to do is just get the default mappings, like so:</p>\n\n<pre><code>args = args_parser()\n</code></pre>\n\n<p>And then I want <code>args['k']</code> to return <code>100</code>, since that is the default.  How do I make this happen?</p>\n"}, {"tags": ["python", "netcdf", "python-xarray"], "answers": [{"tags": [], "owner": {"reputation": 4123, "user_id": 1757464, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FTcq2.jpg?s=128&g=1", "display_name": "jhamman", "link": "https://stackoverflow.com/users/1757464/jhamman"}, "is_accepted": true, "score": 11, "last_activity_date": 1486675532, "last_edit_date": 1495542261, "creation_date": 1486675532, "answer_id": 42147173, "question_id": 42125653, "link": "https://stackoverflow.com/questions/42125653/extracting-nearest-lat-lon-and-time-value-from-netcdf-using-xarray/42147173#42147173", "title": "Extracting nearest lat-lon and time value from netcdf using xarray", "body": "<p>You are quite close although you don't have quite the right syntax yet:</p>\n\n<pre><code>_hndl_nc.sel(time='2016-01-10', longitude=-170.0, latitude=-20.0, method='nearest')\n</code></pre>\n\n<p>see also: \n<a href=\"https://stackoverflow.com/questions/40544846/read-multiple-coordinates-with-xarray\">Read multiple coordinates with xarray</a></p>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4100, "favorite_count": 3, "accepted_answer_id": 42147173, "answer_count": 1, "score": 4, "last_activity_date": 1486679864, "creation_date": 1486597092, "last_edit_date": 1486679864, "question_id": 42125653, "link": "https://stackoverflow.com/questions/42125653/extracting-nearest-lat-lon-and-time-value-from-netcdf-using-xarray", "title": "Extracting nearest lat-lon and time value from netcdf using xarray", "body": "<p>I have a netCDF file with foll. structure:</p>\n\n<pre><code>&lt;xarray.Dataset&gt;\nDimensions:    (latitude: 94, longitude: 192, time: 366)\nCoordinates:\n  * longitude  (longitude) float32 -180.0 -178.125 -176.25 -174.375 -172.5 ...\n  * latitude   (latitude) float32 88.5419 86.6532 84.7532 82.8508 80.9474 ...\n  * time       (time) datetime64[ns] 2016-01-01 2016-01-02 2016-01-03 ...\nData variables:\n    m2t      (time, latitude, longitude) float64 246.5 246.4 246.4 246.4\n    pre      (time, latitude, longitude) float64 9.988e-08 9.988e-08 ...\nAttributes:\n    Conventions: CF-1.0\n</code></pre>\n\n<p>How do I extract values for a grid cell for a specific latitude and longitude (say 86.45, -156.25) and time (say 2016-01-10)? It is possible that the exact latitude/longitude value is not in the coordinates in which case we want the closest latitude/longitude value</p>\n\n<p>I can extract value for a specific longitude like this:</p>\n\n<pre><code>_hndl_nc.sel(longitude=(_hndl_nc.longitude == -20))\n</code></pre>\n\n<p>However, since -20 is not present in coordinates for longitude, this does not work.</p>\n"}, {"tags": ["python", "regex", "design-patterns"], "comments": [{"owner": {"reputation": 1381, "user_id": 4413406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ywNFZ.jpg?s=128&g=1", "display_name": "Alexander Rossa", "link": "https://stackoverflow.com/users/4413406/alexander-rossa"}, "edited": false, "score": 0, "creation_date": 1486597301, "post_id": 42125644, "comment_id": 71419443, "body": "Could you post the code you have so far? Also, I am not exacly sure about what you want to do. You have a pattern ABCB and if only the last letter matches, that should be a match?"}, {"owner": {"reputation": 452, "user_id": 3722722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daee7301b2cfa00bfef72b9ed482510c?s=128&d=identicon&r=PG&f=1", "display_name": "swlim", "link": "https://stackoverflow.com/users/3722722/swlim"}, "edited": false, "score": 0, "creation_date": 1486597441, "post_id": 42125644, "comment_id": 71419501, "body": "Could you give more examples of what you would like to achieve?"}, {"owner": {"reputation": 315, "user_id": 4592214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11d86a3221da29f160a3cc4f3376bd7a?s=128&d=identicon&r=PG&f=1", "display_name": "Danagon", "link": "https://stackoverflow.com/users/4592214/danagon"}, "edited": false, "score": 0, "creation_date": 1486597502, "post_id": 42125644, "comment_id": 71419526, "body": "I don&#39;t really have much code so far. I have a list of English words I can match the regex against. The Idea is that the A maps to a letter in the alphabet, the B maps to a different letter in the alphabet, the C to another and the last B should be the same as the first B. So the pattern basicly tells you which letters are the same en which are different from each other"}, {"owner": {"reputation": 10115, "user_id": 1089161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e106a28e171b4407171702b182759f?s=128&d=identicon&r=PG", "display_name": "smichr", "link": "https://stackoverflow.com/users/1089161/smichr"}, "edited": false, "score": 0, "creation_date": 1583384611, "post_id": 42125644, "comment_id": 107099601, "body": "Though closed, there is a related question <a href=\"https://stackoverflow.com/questions/60538299/matching-two-or-more-characters-that-are-not-the-same\">here</a> in terms of regex patterns."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4592214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11d86a3221da29f160a3cc4f3376bd7a?s=128&d=identicon&r=PG&f=1", "display_name": "Danagon", "link": "https://stackoverflow.com/users/4592214/danagon"}, "edited": false, "score": 0, "creation_date": 1486597896, "post_id": 42125744, "comment_id": 71419680, "body": "Thank you for the quick response. It is indeed not very efficient, but it is definitely a method that would work. thanks!"}], "tags": [], "owner": {"reputation": 442675, "user_id": 148870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559f9b4a76982a9c3e496e2e7686d4b1?s=128&d=identicon&r=PG", "display_name": "Amber", "link": "https://stackoverflow.com/users/148870/amber"}, "is_accepted": true, "score": 3, "last_activity_date": 1486597574, "creation_date": 1486597574, "answer_id": 42125744, "question_id": 42125644, "link": "https://stackoverflow.com/questions/42125644/matching-words-to-a-pattern-in-python/42125744#42125744", "title": "Matching words to a pattern in Python", "body": "<p>Here's some proof-of-concept code for converting a word to its pattern in your proposed format. (I haven't written it with efficiency in mind, only clarity).</p>\n\n<pre><code>import string\n\ndef word_to_pattern(word):\n    # Stores actual-letter to pattern-placeholder mapping\n    mapping = {}\n\n    # ZYXW... so we cap pop letters starting with A from the end\n    available_pattern_letters = list(string.ascii_uppercase)[::-1]\n\n    pattern = []\n    for letter in word.upper():\n        if letter not in string.ascii_uppercase:\n            # for punctuation etc\n            pattern.append(letter)\n            continue\n        if letter not in mapping:\n            # new letter we haven't seen yet in this word\n            mapping[letter] = available_pattern_letters.pop()\n        pattern.append(mapping[letter])\n    return pattern.join(\"\")\n</code></pre>\n\n<p>Then it's simply a matter of checking if <code>word_to_pattern(a) == word_to_pattern(b)</code>.</p>\n"}], "owner": {"reputation": 315, "user_id": 4592214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11d86a3221da29f160a3cc4f3376bd7a?s=128&d=identicon&r=PG&f=1", "display_name": "Danagon", "link": "https://stackoverflow.com/users/4592214/danagon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 1, "closed_date": 1486626131, "accepted_answer_id": 42125744, "answer_count": 1, "score": 3, "last_activity_date": 1486597699, "creation_date": 1486597073, "last_edit_date": 1486597699, "question_id": 42125644, "link": "https://stackoverflow.com/questions/42125644/matching-words-to-a-pattern-in-python", "closed_reason": "Needs more focus", "title": "Matching words to a pattern in Python", "body": "<p>I am trying to decrypt some text and wanted to write a Python script for that.\nThe way the text is encrypted is that every letter maps to a letter in the alphabet. I want to try to match large words to an English word list, because I think they have very few possibilities. </p>\n\n<p>My question is, how do I check if a word matches a pattern like ABCB. So the first three letters are different, but the last letter is the same as the fourth. Were would be a possibility here. I tried using a regex, but I can't come up with a regex that does this for a word of length n. Does anybody have suggestions? </p>\n\n<p>EDIT: I was asked to explain the pattern a bit more. In the example above every letter maps to a letter in the alphabet. So the A maps to a letter, the B maps to another letter, the C to another again and the last B maps to the same letter as the first B. So the pattern tells you which letters are the same and which are different. The pattern above says that the first three letters are different (A, B and C are different) and the last letter is the same as the second (Because they are both a B). 'Were' would be a solution because the A would map to w, the B would map to e and the C would map to r.</p>\n"}, {"tags": ["python", "json", "sharepoint-2013", "urllib2"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4529965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9aecb397539286ddb8880be6a639b3?s=128&d=identicon&r=PG", "display_name": "bighill", "link": "https://stackoverflow.com/users/4529965/bighill"}, "edited": false, "score": 0, "creation_date": 1486597990, "post_id": 42125746, "comment_id": 71419721, "body": "I modified it to use the <code>json.loads()</code> function and I get ValueError(&#39;No JSON object could be decoded&#39;,)  I understand that SharePoint response defaults to xml but I thought by adding the header to the request it would give json back?"}, {"owner": {"reputation": 339, "user_id": 7210209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4e2fe7ec7252f1910143e7d90441053?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Stroud", "link": "https://stackoverflow.com/users/7210209/michael-stroud"}, "reply_to_user": {"reputation": 13, "user_id": 4529965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9aecb397539286ddb8880be6a639b3?s=128&d=identicon&r=PG", "display_name": "bighill", "link": "https://stackoverflow.com/users/4529965/bighill"}, "edited": false, "score": 0, "creation_date": 1486598312, "post_id": 42125746, "comment_id": 71419857, "body": "Have you tried printing out the result of <code>response.read()</code> to see what it looks like?"}, {"owner": {"reputation": 13, "user_id": 4529965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9aecb397539286ddb8880be6a639b3?s=128&d=identicon&r=PG", "display_name": "bighill", "link": "https://stackoverflow.com/users/4529965/bighill"}, "edited": false, "score": 0, "creation_date": 1486598623, "post_id": 42125746, "comment_id": 71419959, "body": "Yes it is the html string"}], "tags": [], "owner": {"reputation": 339, "user_id": 7210209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4e2fe7ec7252f1910143e7d90441053?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Stroud", "link": "https://stackoverflow.com/users/7210209/michael-stroud"}, "is_accepted": false, "score": 0, "last_activity_date": 1486597584, "creation_date": 1486597584, "answer_id": 42125746, "question_id": 42125624, "link": "https://stackoverflow.com/questions/42125624/get-json-object-from-python-urllib2-request/42125746#42125746", "title": "Get JSON object from Python urllib2 request", "body": "<p>What the request actually returns is a string representation of the json object.</p>\n\n<p>You can use use the <code>json.loads()</code> function instead of the <code>json.load()</code> function in order to convert the string into a json object.</p>\n"}], "owner": {"reputation": 13, "user_id": 4529965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9aecb397539286ddb8880be6a639b3?s=128&d=identicon&r=PG", "display_name": "bighill", "link": "https://stackoverflow.com/users/4529965/bighill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2010, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486597584, "creation_date": 1486596965, "question_id": 42125624, "link": "https://stackoverflow.com/questions/42125624/get-json-object-from-python-urllib2-request", "title": "Get JSON object from Python urllib2 request", "body": "<p>I'm trying to use python urllib2 to access the files in a SharePoint 2013 folder using the SharePoint REST API. <a href=\"https://msdn.microsoft.com/en-us/library/office/dn450841.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/office/dn450841.aspx</a></p>\n\n<p>I can't seem to get the response as a json object even after adding the header 'accept':'application/json;odata=verbose'.</p>\n\n<p>I am using Python 2.7.5, urllib2, and <strong>can not use the python requests</strong> module due to restrictions and permission constraints. </p>\n\n<p>If I use the .../_api/web/GetFolderByServerRelativeUrl('/File Name')/Files url I get an AttributeError(\"'str' object has no attribute'read'\").  If I just use the normal url to the site I get an error that there is not a 'JSON object'in the response.</p>\n\n<p>I don't know what I am doing wrong and why I can't get at any json from this request?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    import sys\n    import urllib\n    import urllib2\n    import json\n    from ntlm import HTTPNtlmAuthHandler\n\n\n    try:\n        url = 'https://sharepointsite/subfolder/subfolder/subfolder/Forms/AllItems.aspx/_api/web/GetFolderByServerRelativeUrl(/Folder Name)/Files' \n\n        user = r'DOMAIN\\USER'\n        password = '*********'\n\n        req = urllib2.Request(url)\n        req.add_header('accept', 'application/json;odata=verbose')\n\n        passman = urllib2.HTTPPasswordMgrWithDefaultRealm()\n        passman.add_password(None, url, user, password)\n\n        handler = HTTPNtlmAuthHandler.HTTPNtlmAuthHandler(passman)\n        opener = urllib2.build_opener(handler)\n        urllib2.install_opener(opener)\n\n        response = urllib2.urlopen(req)\n        data_json = json.load(response.read())\n\n    except Exception as e:\n        print '{0}'.format(e)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tuples"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1486597462, "post_id": 42125604, "comment_id": 71419510, "body": "Please clarify if you are asking about &quot;2 tuples&quot; because you have tuples with 2 elements, or the &quot;2 tuples&quot; means you&#39;re adding a pair of tuples."}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 1, "last_activity_date": 1486596978, "creation_date": 1486596978, "answer_id": 42125627, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples/42125627#42125627", "title": "best way of combining the values of 2 different tuples", "body": "<p>If you want to stick with 2-tuples, what you have is fine (and probably best).  You might consider using a different data structure, one where the <code>+</code> operator adds element-wise.  For example:</p>\n\n<ul>\n<li><code>complex</code> numbers add like 2-vectors (using <code>.real</code> and <code>.imag</code> components)</li>\n<li><code>numpy</code> arrays</li>\n<li>Write your own <code>Point</code> class, overriding the <code>__add__</code> magic method</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 493, "user_id": 1214520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/821ee5c9e77b52aeedb87d749d03cc57?s=128&d=identicon&r=PG", "display_name": "dhrumeel", "link": "https://stackoverflow.com/users/1214520/dhrumeel"}, "edited": false, "score": 0, "creation_date": 1486597643, "post_id": 42125659, "comment_id": 71419583, "body": "In your second example, you don&#39;t really need  the intermediate list since you can use a generator-exp instead of a list-comprehension. So you could drop the <code>[</code> <code>]</code>. i.e. <code>tuple(i+j for i,j in zip(a,b))</code>"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1486599493, "post_id": 42125659, "comment_id": 71420237, "body": "The first example seems the best generic solution, because it works with any number of input tuples."}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": false, "score": 1, "last_activity_date": 1486597126, "creation_date": 1486597126, "answer_id": 42125659, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples/42125659#42125659", "title": "best way of combining the values of 2 different tuples", "body": "<p>If you wan't to do it in a way that doesn't require you spell out all elements, go with something functional:</p>\n\n<pre><code>output = tuple(map(sum, zip(a,b)))\n</code></pre>\n\n<p>or, a list-comp which you, again, must supply to <code>tuple</code>:</p>\n\n<pre><code>output = tuple([i+j for i,j in zip(a,b)])\n</code></pre>\n\n<p>you could always substitute <code>zip</code> with <code>zip_longest</code> from <code>itertools</code>, using a fill value of <code>0</code>, if the sizes might differ.</p>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 1214520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/821ee5c9e77b52aeedb87d749d03cc57?s=128&d=identicon&r=PG", "display_name": "dhrumeel", "link": "https://stackoverflow.com/users/1214520/dhrumeel"}, "is_accepted": true, "score": 1, "last_activity_date": 1486597474, "last_edit_date": 1486597474, "creation_date": 1486597167, "answer_id": 42125665, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples/42125665#42125665", "title": "best way of combining the values of 2 different tuples", "body": "<p>How about using a generator expression?</p>\n\n<pre><code>output = tuple(a[i] + b[i] for i in range(len(a)))\n</code></pre>\n\n<p>If you don't know that the tuples are the same length, you could try using something more fancy like <code>zip</code> (which will stop at the length of the shorter tuple), or <code>itertools.izip</code> (which will allow you to control how to handle different length tuples).</p>\n\n<pre><code>tuple(x+y for (x,y) in zip(a,b))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1486599590, "post_id": 42125685, "comment_id": 71420267, "body": "When giving an answer it is preferable to give <a href=\"http://stackoverflow.com/help/how-to-answer\">some explanation as to WHY your answer</a> is the one."}], "tags": [], "owner": {"reputation": 4611, "user_id": 7511971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Byz18.jpg?s=128&g=1", "display_name": "Ricardo Branco", "link": "https://stackoverflow.com/users/7511971/ricardo-branco"}, "is_accepted": false, "score": 1, "last_activity_date": 1486597239, "creation_date": 1486597239, "answer_id": 42125685, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples/42125685#42125685", "title": "best way of combining the values of 2 different tuples", "body": "<pre><code>tuple(map(lambda x, y: x + y, a, b))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 3949569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TD77B.jpg?s=128&g=1", "display_name": "Rohit Funde", "link": "https://stackoverflow.com/users/3949569/rohit-funde"}, "is_accepted": false, "score": 0, "last_activity_date": 1486597384, "creation_date": 1486597384, "answer_id": 42125713, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples/42125713#42125713", "title": "best way of combining the values of 2 different tuples", "body": "<pre><code>import operator\ntuple(map(operator.add, a, b))\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 7363849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ddee75a837013b5745c0acb6fc947fbd?s=128&d=identicon&r=PG&f=1", "display_name": "lol", "link": "https://stackoverflow.com/users/7363849/lol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 42125665, "answer_count": 5, "score": 1, "last_activity_date": 1486597667, "creation_date": 1486596839, "last_edit_date": 1486597667, "question_id": 42125604, "link": "https://stackoverflow.com/questions/42125604/best-way-of-combining-the-values-of-2-different-tuples", "title": "best way of combining the values of 2 different tuples", "body": "<p>I want to add together the values of 2 tuples (of any size), and create an output tuple. \nFor example:</p>\n\n<pre><code>a = (1,4)\nb = (2,3)\n</code></pre>\n\n<p>output: <code>(3,7)</code></p>\n\n<p>Is there a better way to do it than just:</p>\n\n<pre><code>output = (a[0] + b[0], a[1]+b[1])\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark", "spark-dataframe", "rdd"], "comments": [{"owner": {"reputation": 9345, "user_id": 1333610, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/D8F6L.jpg?s=128&g=1", "display_name": "arun", "link": "https://stackoverflow.com/users/1333610/arun"}, "edited": false, "score": 0, "creation_date": 1486618276, "post_id": 42125536, "comment_id": 71425133, "body": "Look up edit distance. Try solving this in Python (or Scala) first before trying with Spark."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 6506880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173e807668edbaf3a2974048c288d945?s=128&d=identicon&r=PG&f=1", "display_name": "research800", "link": "https://stackoverflow.com/users/6506880/research800"}, "is_accepted": false, "score": 0, "last_activity_date": 1486622511, "creation_date": 1486622511, "answer_id": 42129925, "question_id": 42125536, "link": "https://stackoverflow.com/questions/42125536/accurate-string-approximation-in-python-spark/42129925#42129925", "title": "Accurate String approximation in Python Spark", "body": "<p>Collect rdd2 at the driver &amp; broadcast it back. Note that, if your rdd2 doesnt fit the driver's allocated memory, you will have OOM errors. Since you mentioned, this is a learning exercise, I guess, your rdds are not too big. </p>\n\n<pre><code>bc_var = rdd2.collect()  \nv = sc.broadcast(bc_var)  \n\ndef fix_spelling(row):  \n    name, id = row  \n    for day, year, old_name in v.value:  \n        new_name = compare(name, old_name) # compare name with old_name &amp; determine if old_name needs to be fixed. \n    yield [day, year, new_name, old_name, name]  \n\nrdd.flatMap(fix_spelling)\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 3251362, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ea7cf17225c581a56cac11045ac26ec3?s=128&d=identicon&r=PG&f=1", "display_name": "John Setter", "link": "https://stackoverflow.com/users/3251362/john-setter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486622511, "creation_date": 1486596433, "question_id": 42125536, "link": "https://stackoverflow.com/questions/42125536/accurate-string-approximation-in-python-spark", "title": "Accurate String approximation in Python Spark", "body": "<p>I'm trying to learn spark. I have two RDDs which have the following format:</p>\n\n<pre><code>RDD1\n[[\"James Dean,1\"], [\"Roger Moore,2\"]]\n\nRDD2\n[[\"22,1931,James Deen\"], [\"23,1927,Roger Moor\"]]\n</code></pre>\n\n<p>Now the data in RDD2 might not be spelt correctly. I want to go through RDD1, check each name, then look up all similar strings in RDD2 and correct their spelling. How would I go about this? \nI'm new to Spark so I'm completely lost.</p>\n"}, {"tags": ["python", "string", "text", "text-processing"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1486596447, "post_id": 42125525, "comment_id": 71419171, "body": "show us your code"}], "answers": [{"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1486596592, "post_id": 42125557, "comment_id": 71419225, "body": "Maybe throw in a <code>^</code> so it only matches at the beginning of the line, just in case..."}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1486596707, "post_id": 42125557, "comment_id": 71419260, "body": "@kindall <code>match() == search(&#39;^&#39;)</code>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1486596726, "post_id": 42125557, "comment_id": 71419267, "body": "Oh, yeah, always get that confused."}], "tags": [], "owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "is_accepted": true, "score": 1, "last_activity_date": 1486628109, "last_edit_date": 1486628109, "creation_date": 1486596526, "answer_id": 42125557, "question_id": 42125525, "link": "https://stackoverflow.com/questions/42125525/how-do-i-get-the-numbers-at-the-beginning-of-each-line-of-a-text-file/42125557#42125557", "title": "How do I get the numbers at the beginning of each line of a text file?", "body": "<p>Use <code>re</code> module to manipulate text, you can use <code>\\d+</code> to match multiple numbers and use <code>match()</code> to search from beginning.</p>\n\n<pre><code>import re\nlines = ['230498soieung', '3984sdgoij', '032498eersn']\n[re.match('\\d+', line).group() for line in lines]\n</code></pre>\n\n<p>out:</p>\n\n<pre><code>['230498', '3984', '032498']\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 7448534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5d8550f6cd6c1410056f3c0a336c2b6?s=128&d=identicon&r=PG&f=1", "display_name": "Frick Steves", "link": "https://stackoverflow.com/users/7448534/frick-steves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1486618308, "accepted_answer_id": 42125557, "answer_count": 1, "score": -1, "last_activity_date": 1486628109, "creation_date": 1486596375, "question_id": 42125525, "link": "https://stackoverflow.com/questions/42125525/how-do-i-get-the-numbers-at-the-beginning-of-each-line-of-a-text-file", "closed_reason": "Needs more focus", "title": "How do I get the numbers at the beginning of each line of a text file?", "body": "<p>I have a .txt file that has a number of lines in it, i.e.</p>\n\n<pre><code>230498soieung\n3984sdgoij\n032498eersn\n</code></pre>\n\n<p>How do I access this text file and then get a list of those numbers, i.e.</p>\n\n<pre><code>230498, 3984, 032498\n</code></pre>\n\n<p>If I can do this in Python, that is preferable.</p>\n"}, {"tags": ["python", "image", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1486596669, "creation_date": 1486596669, "answer_id": 42125578, "question_id": 42125493, "link": "https://stackoverflow.com/questions/42125493/binary-image-dataframe-to-euclidean-coordinates/42125578#42125578", "title": "Binary Image Dataframe to Euclidean coordinates", "body": "<p>IIUC you can do it this way:</p>\n\n<pre><code>In [70]: df\nOut[70]:\n       a      b      c\n0   True  False   True\n1   True   True  False\n2  False   True   True\n3  False   True   True\n4   True  False  False\n5  False   True  False\n6   True  False  False\n7  False   True  False\n8  False  False   True\n9   True  False   True\n\nIn [71]: np.dstack(np.nonzero(df.values))[0]\nOut[71]:\narray([[0, 0],\n       [0, 2],\n       [1, 0],\n       [1, 1],\n       [2, 1],\n       [2, 2],\n       [3, 1],\n       [3, 2],\n       [4, 0],\n       [5, 1],\n       [6, 0],\n       [7, 1],\n       [8, 2],\n       [9, 0],\n       [9, 2]], dtype=int64)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>In [76]: np.stack(np.nonzero(df.values)).T\nOut[76]:\narray([[0, 0],\n       [0, 2],\n       [1, 0],\n       [1, 1],\n       [2, 1],\n       [2, 2],\n       [3, 1],\n       [3, 2],\n       [4, 0],\n       [5, 1],\n       [6, 0],\n       [7, 1],\n       [8, 2],\n       [9, 0],\n       [9, 2]], dtype=int64)\n</code></pre>\n\n<p><strong>Setup:</strong></p>\n\n<pre><code>df = pd.DataFrame(np.random.choice([True, False], (10, 3)), columns=list('abc'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1486603658, "last_edit_date": 1486603658, "creation_date": 1486603233, "answer_id": 42126626, "question_id": 42125493, "link": "https://stackoverflow.com/questions/42125493/binary-image-dataframe-to-euclidean-coordinates/42126626#42126626", "title": "Binary Image Dataframe to Euclidean coordinates", "body": "<p><strong><em>setup</em></strong>  </p>\n\n<p>using @MaxU's example dataframe</p>\n\n<pre><code>df = pd.DataFrame({\n        'a': [True, True, False, False, True, False, True, False, False, True],\n        'b': [False, True, True, True, False, True, False, True, False, False],\n        'c': [True, False, True, True, False, False, False, False, True, True]})\n</code></pre>\n\n<hr>\n\n<p>I'm guessing you want coordinates in terms of the dataframe's <code>index</code> and 'columns`</p>\n\n<p><strong><em>Option 1</em></strong><br>\n<code>stack</code> + <code>mask</code></p>\n\n<pre><code>s = df.stack()\ns[s].index.values\n\narray([(0, 'a'), (0, 'c'), (1, 'a'), (1, 'b'), (2, 'b'), (2, 'c'),\n       (3, 'b'), (3, 'c'), (4, 'a'), (5, 'b'), (6, 'a'), (7, 'b'),\n       (8, 'c'), (9, 'a'), (9, 'c')], dtype=object)\n</code></pre>\n\n<p><strong><em>Option 2</em></strong><br>\nJust positions with <code>np.where</code></p>\n\n<pre><code>np.stack(np.where(df.values)).reshape(-1, 2)\n\narray([[0, 0],\n       [1, 1],\n       [2, 2],\n       [3, 3],\n       [4, 5],\n       [6, 7],\n       [8, 9],\n       [9, 0],\n       [2, 0],\n       [1, 1],\n       [2, 1],\n       [2, 0],\n       [1, 0],\n       [1, 2],\n       [0, 2]])\n</code></pre>\n\n<p>\u200b<strong><em>Option 3</em></strong><br>\nBack to <code>index</code> and <code>columns</code> using <code>np.where</code></p>\n\n<pre><code>r, c = np.where(df.values)\nlist(zip(df.index[r], df.columns[c]))\n\n[(0, 'a'),\n (0, 'c'),\n (1, 'a'),\n (1, 'b'),\n (2, 'b'),\n (2, 'c'),\n (3, 'b'),\n (3, 'c'),\n (4, 'a'),\n (5, 'b'),\n (6, 'a'),\n (7, 'b'),\n (8, 'c'),\n (9, 'a'),\n (9, 'c')]\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7537294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e99502f66662a13f316b37adf53cfc?s=128&d=identicon&r=PG&f=1", "display_name": "T. Jewell", "link": "https://stackoverflow.com/users/7537294/t-jewell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1486603658, "creation_date": 1486596190, "question_id": 42125493, "link": "https://stackoverflow.com/questions/42125493/binary-image-dataframe-to-euclidean-coordinates", "title": "Binary Image Dataframe to Euclidean coordinates", "body": "<p>I am looking to take a dataframe of an image that is binary boolean of False/True's and transform it into an array of coordinates where the data frame is true. </p>\n\n<p>For example, if index[4] and column[8] is true, it would add 4,8 to the array. </p>\n"}, {"tags": ["python", "python-2.7", "csv"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7183223, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ddb1d6aec6dedcb2fa496eef41acbf36?s=128&d=identicon&r=PG&f=1", "display_name": "Anonypy", "link": "https://stackoverflow.com/users/7183223/anonypy"}, "edited": false, "score": 0, "creation_date": 1486597805, "post_id": 42125548, "comment_id": 71419645, "body": "None of the comments on that page seem to work for me."}, {"owner": {"reputation": 63, "user_id": 7183223, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ddb1d6aec6dedcb2fa496eef41acbf36?s=128&d=identicon&r=PG&f=1", "display_name": "Anonypy", "link": "https://stackoverflow.com/users/7183223/anonypy"}, "edited": false, "score": 0, "creation_date": 1486598125, "post_id": 42125548, "comment_id": 71419768, "body": "Nevermind. Got it"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 63, "user_id": 7183223, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ddb1d6aec6dedcb2fa496eef41acbf36?s=128&d=identicon&r=PG&f=1", "display_name": "Anonypy", "link": "https://stackoverflow.com/users/7183223/anonypy"}, "edited": false, "score": 0, "creation_date": 1486598146, "post_id": 42125548, "comment_id": 71419776, "body": "@Anonypy: Every answer there says the same thing. You&#39;re supposed to close the file object returned by <code>open</code>, not the <code>csv</code> parsing wrapper object. Don&#39;t inline the <code>open</code> inside the <code>DictReader</code>, call <code>open</code> using a <code>with</code> statement (so it autocloses when the block completes) and you don&#39;t need (and shouldn&#39;t) do anything to close <code>DictReader</code> itself."}], "tags": [], "owner": {"reputation": 624, "user_id": 1524292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a131851c16a4d8a43494e1910864a473?s=128&d=identicon&r=PG", "display_name": "OShadmon", "link": "https://stackoverflow.com/users/1524292/oshadmon"}, "is_accepted": true, "score": 2, "last_activity_date": 1486596475, "last_edit_date": 1495541345, "creation_date": 1486596475, "answer_id": 42125548, "question_id": 42125466, "link": "https://stackoverflow.com/questions/42125466/closing-dictreader-necessary-or-possible/42125548#42125548", "title": "Closing DictReader necessary or possible?", "body": "<p>The following question is a duplicate of <a href=\"https://stackoverflow.com/questions/3216954/python-no-csv-close\">Python No CSV Close</a>. \nThat said, from my understanding since DictReader is a parser on the CSV, there is no need to close it. However, the underlying file should get closed when finished. </p>\n"}], "owner": {"reputation": 63, "user_id": 7183223, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ddb1d6aec6dedcb2fa496eef41acbf36?s=128&d=identicon&r=PG&f=1", "display_name": "Anonypy", "link": "https://stackoverflow.com/users/7183223/anonypy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "closed_date": 1486632845, "accepted_answer_id": 42125548, "answer_count": 1, "score": 1, "last_activity_date": 1486598039, "creation_date": 1486596007, "last_edit_date": 1486598039, "question_id": 42125466, "link": "https://stackoverflow.com/questions/42125466/closing-dictreader-necessary-or-possible", "closed_reason": "Duplicate", "title": "Closing DictReader necessary or possible?", "body": "<pre><code>filenames = glob('directory*.csv')   \n\nfor filename in filenames:\n   f = csv.DictReader(open(filename))\n   #code\n\nf.close()\n</code></pre>\n\n<p>Hello. I'm not entirely familiar with <code>DictReader</code>. </p>\n\n<p>Does this need to be closed after use? i.e. <code>f.close()</code></p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "is_accepted": true, "score": 0, "last_activity_date": 1486596465, "creation_date": 1486596465, "answer_id": 42125545, "question_id": 42125459, "link": "https://stackoverflow.com/questions/42125459/comparing-text-file-content/42125545#42125545", "title": "Comparing text file content", "body": "<pre><code>wordlist = input(\"What is your word list called?\")\nf = open(wordlist)\nl = set(w.strip().lower() for w in f)\nchatlog = input(\"What is your chat log called?\")\nwith open(chatlog) as f:\n   found = False\n   for line in f:\n       line = line.lower()\n       if any(w in line for w in l):\n          print(line)\n          found = True\n   if not found:\n      print(\"not here\")\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4862575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206681754067139/picture?type=large", "display_name": "Nathan1995", "link": "https://stackoverflow.com/users/4862575/nathan1995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 42125545, "answer_count": 1, "score": 0, "last_activity_date": 1486596465, "creation_date": 1486595962, "question_id": 42125459, "link": "https://stackoverflow.com/questions/42125459/comparing-text-file-content", "title": "Comparing text file content", "body": "<p>I have written a small script to compare a text files content to another text file containing a word list, however running it says that the matches cannot be found, I cannot fix the code to successfully compare them with correct results.</p>\n\n<pre><code>wordlist = input(\"What is your word list called?\")\nf = open(wordlist)\nt = f.readlines()\nl = ''.join(t).lower()\nchatlog = input(\"What is your chat log called?\")\nwith open(chatlog) as f:\n   found = False\n   for line in f:\n       line = line.lower()\n       if l in line:\n          print(line)\n          found = True\n   if not found:\n      print(\"not here\")\n</code></pre>\n"}, {"tags": ["python", "qt", "pyqt", "qthread"], "answers": [{"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1486675345, "post_id": 42126590, "comment_id": 71460583, "body": "The post you linked to is obsolete, and has been superceded by <a href=\"https://woboq.com/blog/qthread-you-were-not-doing-so-wrong.html\" rel=\"nofollow noreferrer\">QThread: You were not doing so wrong</a>. Executive summary: If you don&#39;t need an event-loop in the worker thread (which is very often the case), just subclass <code>QThread</code> and reimplement <code>run</code>."}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1486677997, "post_id": 42126590, "comment_id": 71461965, "body": "@ekhumoro It&#39;s not obsolete, it really depends on what you&#39;re doing in the separate thread. If you just want to run some encapsulated code, then subclassing and reimplementing <code>run()</code> is fine. But if you want an object with which you can communicate, it&#39;s better to use the approach I give here."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1486680742, "post_id": 42126590, "comment_id": 71463270, "body": "No, It is really is obsolete. It says the official Qt thread docs are wrong (which they no longer are), and it also claims &quot;to sub-class [QThread] and implement your own run() function, is very wrong&quot; - which is also clearly incorrect. Please read the other blog post I linked to understand the history on this subject - it&#39;s not very long, and it properly reflects the advice given in the current Qt docs."}], "tags": [], "owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "is_accepted": false, "score": -1, "last_activity_date": 1486603019, "creation_date": 1486603019, "answer_id": 42126590, "question_id": 42125434, "link": "https://stackoverflow.com/questions/42125434/pyqt-how-do-i-ensure-that-all-my-calculations-are-running-in-a-separate-qthrea/42126590#42126590", "title": "pyqt - How do I ensure that all my calculations are running in a separate Qthread?", "body": "<p>A better method for running some code in another thread is not to subclass <code>QThread</code>, but to move the object implementing that other code into a separate thread.</p>\n\n<p>In your case, your <code>worker</code> object would just inherit directly from <code>QObject</code>, so that you can communicate with it across threads via signals and slots. Then create a standard, out-of-the-box <code>QThread</code> and move the <code>worker</code> to it. Use signals/slots to send the worker data, if needed, and to retrieve its results when they're ready.</p>\n\n<p>I think your confusion stems from this idea: the <code>QThread</code> object <em>manages</em> a separate thread, but the <em>object itself</em> lives in whatever thread created the object in the first place. For example, creating it in the main thread means the <code>QThread</code> is also in the main thread, but your <code>worker</code> object would be in the thread managed by the <code>QThread</code> object (after you move it there, of course).</p>\n\n<p>Check out <a href=\"https://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow noreferrer\">this post</a> for more details and explanations.</p>\n"}], "owner": {"reputation": 469, "user_id": 2407881, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/f7880c753111571008c76536033f45d1?s=128&d=identicon&r=PG", "display_name": "jgv115", "link": "https://stackoverflow.com/users/2407881/jgv115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486603019, "creation_date": 1486595810, "last_edit_date": 1486596216, "question_id": 42125434, "link": "https://stackoverflow.com/questions/42125434/pyqt-how-do-i-ensure-that-all-my-calculations-are-running-in-a-separate-qthrea", "title": "pyqt - How do I ensure that all my calculations are running in a separate Qthread?", "body": "<p>I have been reading around about how to \"properly\" use QThreads and I've become a bit confused. I've been reading around and a lot of people have been saying to, create a QThread, but also create a worker which is a QObject. Then use movetoThread to move the Qobject to the Qthread.</p>\n\n<p>I'm just a bit confused since all the examples I've seen on stackoverflow don't really do that.</p>\n\n<p>If this is my code:</p>\n\n<pre><code>class worker(QThread):\n    def __init__(self):\n        Qthread.__init__(self)\n\n    def run(self):\n        do_work()\n        a = 3\n\n    def do_work(self):\n        b = 2\n\n        self.emit(SIGNAL(\"work_done\"),b)\n\nclass MyApp(QtGui.QMainWindow):\n    QtGui.QMainWindow.__init__(self, parent)\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n\n        self.worker_thread = worker()\n\n        self.connect(self.worker,SIGNAL('work_done'),self.done)\n\n        self.worker_thread.start()\n\n    def done(self,b)\n\n        print \"the value from the worker is: \" + str(b)\n</code></pre>\n\n<p>Will this code make the assignment of variables <code>a</code> and <code>b</code> done in another thread SEPARATE from the main thread? Or is that not true as my <code>worker_thread</code> object LIVES INSIDE the main thread?</p>\n"}, {"tags": ["python", "colors", "heatmap", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2225122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0e51be39bbb8ab9bf1a6d3eeb5fa6bc4?s=128&d=identicon&r=PG", "display_name": "spfraib", "link": "https://stackoverflow.com/users/2225122/spfraib"}, "edited": false, "score": 0, "creation_date": 1486606334, "post_id": 42126859, "comment_id": 71422048, "body": "Thank you lanery. What if I were to use the seaborn options &quot;center&quot; and &quot;robust&quot; to adjust the colormap, is there a way to then use the modified colormap? say for instance: heatmap = sns.heatmap( np.random.randn(10, 10), cmap = cm.coolwarm, center=1, robust=True)"}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1486650804, "post_id": 42126859, "comment_id": 71444922, "body": "You need to add a norm object \u2014 as called you are only mapping values in [0\u20131]."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1486654441, "post_id": 42126859, "comment_id": 71447654, "body": "Also cm.get_cmap(&#39;Greens&#39;) just returns the cm.Greens object."}, {"owner": {"reputation": 89, "user_id": 2225122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0e51be39bbb8ab9bf1a6d3eeb5fa6bc4?s=128&d=identicon&r=PG", "display_name": "spfraib", "link": "https://stackoverflow.com/users/2225122/spfraib"}, "edited": false, "score": 0, "creation_date": 1486664709, "post_id": 42126859, "comment_id": 71454539, "body": "Would you mind giving an example of how to do that ?"}, {"owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "reply_to_user": {"reputation": 89, "user_id": 2225122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0e51be39bbb8ab9bf1a6d3eeb5fa6bc4?s=128&d=identicon&r=PG", "display_name": "spfraib", "link": "https://stackoverflow.com/users/2225122/spfraib"}, "edited": false, "score": 0, "creation_date": 1486670424, "post_id": 42126859, "comment_id": 71457818, "body": "@spfraib Check out my updated answer regarding the normalization and adjusting for the use of center and robust."}, {"owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1486671697, "post_id": 42126859, "comment_id": 71458550, "body": "@mwaskom 1st comment: Thanks, updated answer to show that. 2nd comment: True. I didn&#39;t mean to make it sound as though there was something special about <code>cm.get_cmap</code>, but I guess my wording may have implied that, so I changed the wording."}], "tags": [], "owner": {"reputation": 4079, "user_id": 5285918, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43d89ab985ec7bf11dec1adbac3827d4?s=128&d=identicon&r=PG&f=1", "display_name": "lanery", "link": "https://stackoverflow.com/users/5285918/lanery"}, "is_accepted": true, "score": 4, "last_activity_date": 1486680466, "last_edit_date": 1495542260, "creation_date": 1486604830, "answer_id": 42126859, "question_id": 42125433, "link": "https://stackoverflow.com/questions/42125433/seaborn-heatmap-get-array-of-color-codes-values/42126859#42126859", "title": "seaborn heatmap get array of color codes values", "body": "<p>Because <code>sns.heatmap</code> returns a <code>matplotlib</code> axis object, we can't really use <code>hm</code> directly. But we can use the <code>cmap</code> object itself to return the rgba values of the data. <strong>Edit</strong> Code has been updated to include normalization of data.</p>\n\n<pre><code>from matplotlib.colors import Normalize\n\ndata = np.random.randn(10, 10)\ncmap = cm.get_cmap('Greens')\nhm = sns.heatmap(data, cmap=cmap)\n\n# Normalize data\nnorm = Normalize(vmin=data.min(), vmax=data.max())\nrgba_values = cmap(norm(data))\n</code></pre>\n\n<p>All of the colors are now contained in <code>rgba_values</code>. So to get the color of the upper left square in the heatmap you could simply do</p>\n\n<pre><code>In [13]: rgba_values[0,0]\nOut[13]: array([ 0.        ,  0.26666668,  0.10588235,  1.        ])\n</code></pre>\n\n<p>For more, check out <a href=\"https://stackoverflow.com/questions/25408393/getting-individual-colors-from-a-color-map-in-matplotlib\">Getting individual colors from a color map in matplotlib</a></p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>To readjust the colormap from using the <code>center</code> and <code>robust</code> keywords in the call to <code>sns.heatmap</code>, you basically just have to redefine <code>vmin</code> and <code>vmax</code>. Looking at the relevant seaborn source code (<a href=\"http://github.com/mwaskom/seaborn/blob/master/seaborn/matrix.py#L202\" rel=\"nofollow noreferrer\">http://github.com/mwaskom/seaborn/blob/master/seaborn/matrix.py#L202</a>), the below changes to <code>vmin</code> and <code>vmax</code> should do the trick.</p>\n\n<pre><code>data = np.random.randn(10, 10)\ncenter = 2\nrobust = False\ncmap = cm.coolwarm\nhm = sns.heatmap(data, cmap=cmap, center=center, robust=robust)\n\nvmin = np.percentile(data, 2) if robust else data.min()\nvmax = np.percentile(data, 98) if robust else data.max()\nvmin += center\nvmax += center\n\nnorm = Normalize(vmin=vmin, vmax=vmax)\nrgba_values = cmap(norm(data))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 2, "last_activity_date": 1550698222, "creation_date": 1550698222, "answer_id": 54795532, "question_id": 42125433, "link": "https://stackoverflow.com/questions/42125433/seaborn-heatmap-get-array-of-color-codes-values/54795532#54795532", "title": "seaborn heatmap get array of color codes values", "body": "<p>Without any knowledge on the input data and arguments of <code>heatmap</code> you can get the colors from the underlying <code>QuadMesh</code>, knowing that the heatmap should be the first and only <code>collection</code> inside the axes that is returned by <code>heatmap</code>.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\n\ndata = np.array([[0,-2],[10,5]])\nax = sns.heatmap(data, center=0, cmap=\"bwr\", robust=False)\nim = ax.collections[0]\nrgba_values = im.cmap(im.norm(im.get_array()))\n</code></pre>\n\n<p>Also see <a href=\"https://stackoverflow.com/a/54794540/4124317\">this answer</a>. In contrast to <code>AxesImage</code>, <code>QuadMesh</code> returns a list of colors. Hence the above code will give you a 2D array where the columns are the RGBA color channels. If you need a 3D output with the first two dimensions being the same as the input data you would need to reshape</p>\n\n<pre><code>rgba_values = rgba_values.reshape((im._meshHeight, im._meshWidth, 4))\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2225122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0e51be39bbb8ab9bf1a6d3eeb5fa6bc4?s=128&d=identicon&r=PG", "display_name": "spfraib", "link": "https://stackoverflow.com/users/2225122/spfraib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3296, "favorite_count": 2, "accepted_answer_id": 42126859, "answer_count": 2, "score": 2, "last_activity_date": 1550698222, "creation_date": 1486595804, "last_edit_date": 1486607521, "question_id": 42125433, "link": "https://stackoverflow.com/questions/42125433/seaborn-heatmap-get-array-of-color-codes-values", "title": "seaborn heatmap get array of color codes values", "body": "<p>I am trying to get the color codes associated with each cell of a heatmap:</p>\n\n<pre><code>import seaborn as sns\nimport numpy as np\nimport matplotlib.cm as cm\n\nhm = sns.heatmap(\nnp.random.randn(10,10),\ncmap = cm.coolwarm)\n\n# hm.&lt;some function&gt;[0][0] would return the color code of the cell indexed (0,0)\n</code></pre>\n"}, {"tags": ["python", "zapier"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1486853353, "post_id": 42125362, "comment_id": 71526990, "body": "I have an extended capability I&#39;d like to add to this. The method I created does not work. It instead revealed a structure to the data than might call into question my original approach and point the way to covering my 2nd need."}, {"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1486943786, "post_id": 42125362, "comment_id": 71551479, "body": "Hi wpercy, thanks again for your help. Would you be willing to take a look at my followup question I&#39;ve appended to the original?"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1487004272, "post_id": 42125362, "comment_id": 71579537, "body": "@DougChristensen Hey Doug, I&#39;d be happy to help, but you shouldn&#39;t update your question once it has been answered correctly, you should submit a new one. Basically just copy/paste the &quot;Problem #2&quot; and below along with any relevant information from above."}, {"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1487600176, "post_id": 42125362, "comment_id": 71844981, "body": "Thank you for that guidance. I have posted a separate question now but I must have done something wrong as it&#39;s been several days and there are zero responses."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1487616547, "post_id": 42125362, "comment_id": 71855107, "body": "@DougChristensen I took a look at your other question for you, but you should give this answer an upvote and accept it if it worked for you!"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 0, "last_activity_date": 1486595373, "creation_date": 1486595373, "answer_id": 42125362, "question_id": 42125314, "link": "https://stackoverflow.com/questions/42125314/want-to-trigger-a-zapier-action-for-each-email-extracted-from-a-list-of-emails-u/42125362#42125362", "title": "Want to trigger a Zapier action for each email extracted from a list of emails using Python", "body": "<p>You need to split on a delimiter, in this case a comma.</p>\n\n<p>So your attendeeList would look like this:</p>\n\n<pre><code>attendeeList = input_data['attendeeEmails'].split(',')\n</code></pre>\n\n<p>And to remove any extra whitespace, you should then <code>.strip()</code> the emails in your loop like this:</p>\n\n<pre><code>for email in attendeeList:\n    a = {'Email' : email.strip()}\n    emails.append(a)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1486647253, "post_id": 42125454, "comment_id": 71442382, "body": "Thank you. Very elegant. Will test soon."}, {"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1486943822, "post_id": 42125454, "comment_id": 71551487, "body": "Hello Kieran. Would you be willing to look at my follow up question I&#39;ve appended to the original?"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 1, "creation_date": 1487004715, "post_id": 42125454, "comment_id": 71579787, "body": "This question is too large now and separate issues should be posted as separate questions @DougChristensen"}, {"owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "edited": false, "score": 0, "creation_date": 1487600112, "post_id": 42125454, "comment_id": 71844932, "body": "Thank you for the guidance. I have posted a separate question now but I must have done something wrong as there have been zero responses."}], "tags": [], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "is_accepted": false, "score": 1, "last_activity_date": 1486595917, "creation_date": 1486595917, "answer_id": 42125454, "question_id": 42125314, "link": "https://stackoverflow.com/questions/42125314/want-to-trigger-a-zapier-action-for-each-email-extracted-from-a-list-of-emails-u/42125454#42125454", "title": "Want to trigger a Zapier action for each email extracted from a list of emails using Python", "body": "<p>The following one-liner would give you a list of dictionaries from the comma-separated list of emails. Hopefully Zapier would take it from there.</p>\n\n<pre><code>[{'Email': email.strip()} for email in input_data['attendeeEmails'].split(',')]\n</code></pre>\n\n<p>Also please be aware you shouldn't have to wait 15 minutes every time. You can just click on re-test when you get to the 'test this step' stage.</p>\n"}], "owner": {"reputation": 23, "user_id": 7536767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aafc6ca5992c5aac6bdcf08e37c4ce4?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Christensen", "link": "https://stackoverflow.com/users/7536767/doug-christensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1487006897, "creation_date": 1486595042, "last_edit_date": 1487006897, "question_id": 42125314, "link": "https://stackoverflow.com/questions/42125314/want-to-trigger-a-zapier-action-for-each-email-extracted-from-a-list-of-emails-u", "title": "Want to trigger a Zapier action for each email extracted from a list of emails using Python", "body": "<p>I have a string variable in Zapier that contains multiple emails (a@gmail.com,b@gmail.com, etc.). I need to extract each email and pass it on to the next Zapier action.<a href=\"https://i.stack.imgur.com/mGdSn.png\" rel=\"nofollow noreferrer\">I've taken a screen shot of where this appears in Zapier</a> So a string that has 2 emails would cause the next Zapier action to run twice.</p>\n\n<p>I've tried parsing the string and loading a dictionary, returning the dictionary.</p>\n\n<pre><code>emails = []\nattendeeList = input_data['attendeeEmails'].split()\nfor email in attendeeList:\n    a = {'Email' : email}\n    emails.append(a)\nreturn emails\n</code></pre>\n\n<p>This returns all the emails in a form basically the same as they were submitted - comma separated list or string. (So not multiples). It does cause the next action to run in the Zap, but with multiple emails in the field \"Email\". Not what I want.</p>\n\n<p>I've also tried just returning each email as I march through the created List.</p>\n\n<pre><code>attendeeList = input_data['attendeeEmails'].split()\nfor email in attendeeList:\n    output = {'Email' : email}\n</code></pre>\n\n<p>I haven't seen any output from this one yet. It's taking me about 1/2 hr to see results from any tweaks.</p>\n\n<p>I'm afraid I don't know Python very well - only what I could learn from several hours spent in \"Code Academy\". So I know enough to be dangerous. But with the passing of variables and purported ability of Zapier to trigger multiple actions from the return of one dictionary, I'm a little overwhelmed. I'm sure it's simple if you know more than me.</p>\n\n<p>My source of the string containing the emails is Google Calendar. And with the 15 min checking cycle it's a long slog to get feedback on what I've done. Any guidance would be awesome.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1486596101, "post_id": 42125300, "comment_id": 71419058, "body": "Can you post your desired data set?"}], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 0, "last_activity_date": 1486597740, "last_edit_date": 1486597740, "creation_date": 1486597175, "answer_id": 42125669, "question_id": 42125300, "link": "https://stackoverflow.com/questions/42125300/pandas-duplicates-with-condition/42125669#42125669", "title": "pandas: duplicates with condition", "body": "<p>You can use <code>keep=False</code> to mark all duplicated cases as <code>True</code>:</p>\n\n<pre><code>df[~df.id.duplicated(keep=False) | (df.id.duplicated(keep=False) &amp; (df.y.astype(int) &gt; 0))]\n\n#   id  y   z\n#1  b   3   3\n#2  c   5   6\n#3  a   3   4\n</code></pre>\n\n<hr>\n\n<p>By default, <code>duplicated()</code> takes <code>first</code> as argument, and the first occurrence is not considered as duplicated, here are some further examples:</p>\n\n<pre><code>df.id.duplicated()\n\n#0    False\n#1    False\n#2    False\n#3     True\n#4     True\n#Name: id, dtype: bool\n\n#df.id.duplicated(keep=False)            # all duplicated ids are marked as True\n#0     True\n#1     True\n#2    False\n#3     True\n#4     True\n#Name: id, dtype: bool\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "is_accepted": false, "score": 0, "last_activity_date": 1486600314, "creation_date": 1486600314, "answer_id": 42126194, "question_id": 42125300, "link": "https://stackoverflow.com/questions/42125300/pandas-duplicates-with-condition/42126194#42126194", "title": "pandas: duplicates with condition", "body": "<p>The function <strong>duplicated</strong> have an option to return all duplicate value in the Series. More details here: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.duplicated.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.duplicated.html</a></p>\n\n<p>You can simply slice the original DataFrame matching exactly your criteria. </p>\n\n<pre><code># keep only what is not duplicated and equals to 0\ndf[~(df['id']duplicated(False) &amp; (df['y']=='0'))]\n</code></pre>\n\n<p>I would recommend to 'fix' your dtype for the column 'y' as currently is a string from your example. Just make sure it's the correct dtype ('int' or 'string') to prevent any unwanted issues!</p>\n"}], "owner": {"reputation": 239, "user_id": 6721010, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ab677c12b1c895eaf26e182695d33699?s=128&d=identicon&r=PG", "display_name": "james1395", "link": "https://stackoverflow.com/users/6721010/james1395"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1205, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1486600314, "creation_date": 1486594934, "question_id": 42125300, "link": "https://stackoverflow.com/questions/42125300/pandas-duplicates-with-condition", "title": "pandas: duplicates with condition", "body": "<p>Take the dataframe:</p>\n\n<pre><code>df = pd.DataFrame(np.array([['a',0,3],\n                            ['b',3,3],\n                            ['c',5,6],\n                           ['a',3,4]\n                           ,['b',0,2]]), columns=['id','y','z'])\n\ndf\nOut[3]: \n  id  y  z\n0  a  0  3\n1  b  3  3\n2  c  5  6\n3  a  3  4\n4  b  0  2\n</code></pre>\n\n<p>I want to remove all duplicates which have a value of 0 on the y column. See my attempt below:</p>\n\n<pre><code>df.loc[(~df.duplicated('id')) | ((df.duplicated('id'))&amp;(df['y'].astype(int)&gt;0)),:]\nOut[4]: \n  id  y  z\n0  a  0  3\n1  b  3  3\n2  c  5  6\n3  a  3  4\n</code></pre>\n\n<p>as you can see it only removes one of the duplicates but leaves the other - it's because the duplicate value of item \"a\" comes with a y value of 0 before the non zero value of 3. Is there a way around this without using groupbys and sorting etc?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "json", "dictionary", "yaml", "robotframework"], "comments": [{"owner": {"reputation": 1442, "user_id": 2454374, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NVmHC.png?s=128&g=1", "display_name": "Son of a Beach", "link": "https://stackoverflow.com/users/2454374/son-of-a-beach"}, "edited": false, "score": 0, "creation_date": 1486599016, "post_id": 42125294, "comment_id": 71420089, "body": "Is it really adding double quotes when reading?  Are you sure it&#39;s not just formatting output using double quotes when logging?  I don&#39;t think those double quotes are part of the values... just part of the logging output format.  You may be able to test this by logging just a single item of data, rather than a data structure.  You should really post your code if you want help to diagnose it."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1486600446, "post_id": 42125294, "comment_id": 71420501, "body": "Please read <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and follow the advice."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1486600538, "post_id": 42125294, "comment_id": 71420529, "body": "the fact that you have yaml data with python-style unicode strings (<code>u&#39;SN&#39;</code>) seems suspicious. Are you certain that yaml supports this form of unicode string? How did you create this yaml file?"}, {"owner": {"reputation": 6256, "user_id": 6152737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33da1278c7af36224a140b18695ade6d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Kootstra", "link": "https://stackoverflow.com/users/6152737/a-kootstra"}, "edited": false, "score": 0, "creation_date": 1486621952, "post_id": 42125294, "comment_id": 71426592, "body": "I agree with @BryanOakly that I am certain that the  dictionairy includes the u part of the key and value. That explains also the single quotes as they are part of the key/value  string now. So, remove the u and try again."}, {"owner": {"reputation": 1614, "user_id": 2903646, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/moiJ2.jpg?s=128&g=1", "display_name": "Juan Antonio", "link": "https://stackoverflow.com/users/2903646/juan-antonio"}, "edited": false, "score": 0, "creation_date": 1486630482, "post_id": 42125294, "comment_id": 71430913, "body": "I know that this doesn&#39;t solve your problem but you can delete all double quotes fast converting the dict to string, replacing all instances of  the doubles quotes and back, using replace() and eval:   Calling d to your list, for example:      <code>d = eval(str(d).replace(&#39;&quot;&#39;, &#39;&#39;)) </code>   Is a bit dirty solution but maybe is useful while you fix the problem."}], "answers": [{"comments": [{"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1486636386, "post_id": 42133682, "comment_id": 71434918, "body": "I wonder how the OP managed to get a YAML file with Python unicode strings in them. If it wasn&#39;t for the <code>vlan2</code> key with trailing colon it looks like someone just <code>repr()</code>-ed a python dict."}, {"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1486638596, "post_id": 42133682, "comment_id": 71436424, "body": "Sometimes you just don&#39;t want to know ;)"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1486638814, "post_id": 42133682, "comment_id": 71436574, "body": "So very true, but it makes it difficult to remove the actual cause of the problem. BTW if it was you how upvoted me on the YAML/docker-compose question, thanks for that, the other answerer there was a bit revengeful."}, {"owner": {"reputation": 201, "user_id": 7537160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3081f26e71f4b3c8ac61502cf21f86?s=128&d=identicon&r=PG&f=1", "display_name": "scott", "link": "https://stackoverflow.com/users/7537160/scott"}, "edited": false, "score": 0, "creation_date": 1486670598, "post_id": 42133682, "comment_id": 71457914, "body": "Unfortunately it is a file I get from an HTTP req and I have absolutely no control over it... and I have to PATCH it back with the same syntax otherwise it won&#39;t work.  I DID remove the u&#39;s and it updated correctly.. the problem is now that when I PATCH it they don&#39;t recognize my dicitonary entries since there are no u&#39;s... any advice or suggestions would be appreciated"}], "tags": [], "owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "is_accepted": true, "score": 3, "last_activity_date": 1486634851, "creation_date": 1486634851, "answer_id": 42133682, "question_id": 42125294, "link": "https://stackoverflow.com/questions/42125294/appending-dictionary-to-list-of-dictionaries-puts-double-quotes-around-keywords/42133682#42133682", "title": "Appending dictionary to list of dictionaries puts double quotes around keywords", "body": "<p>There is quite a lot confusion going on here. This part of your YAML:</p>\n\n<pre><code>{ u'IP': u'1.1.1.1', \n</code></pre>\n\n<p>Starts a mapping (<code>{</code>) and gives a key-value pair. both key and value are scalars. The first scalar starts with a <code>u</code> and ends before the key indicator (<code>:</code>), so the content of the scalar is <code>u'IP'</code>. Note that this probably is not what you want, because you say:</p>\n\n<blockquote>\n  <p>since the JSON the info is going to is single qoute based as in the .yaml.</p>\n</blockquote>\n\n<p>You seem to think that you are using single-quoted scalars in your YAML when in fact, you are using <em>unquoted</em> scalars. In YAML, if a scalar does not start with a quotation mark (<code>'</code> or <code>\"</code>), it is a plain scalar and further quotation marks inside it are parsed as content. Your scalars start with a <code>u</code> making them unquoted scalars. Your YAML should probably look like this:</p>\n\n<pre><code>Vlan2: { IP: 1.1.1.1, \n         DNS: {SN: s2, PN: s1}, \n         SRoute: [{IF: eth0, Mask: 0.0.0.0}]\n       }\n</code></pre>\n\n<p>Another important thing to remember is that when loaded into Python, the representation style of a scalar is lost \u2013 it does not make a difference if it was single-quoted, double-quoted or unquoted in the YAML file.</p>\n\n<p>Now let's look at the output: Here again, the strings are represented in textual form. This means that they are quoted by some means. The representation <code>\"u'IP'\"</code> matches exactly your input, the double quotes are <em>not</em> added to the string; they are just used as a means to tell you that the enclosed characters form a string.</p>\n\n<p>Then there's this representation in the output: <code>u'IP'</code>. This is still a quoted string, just with the Python-specific representation of having a <code>u</code> in front indicating that this is a unicode string \u2013 its content is <code>IP</code>. <strong>The <code>u</code>-prefixed representation does not exist in YAML and this is why your input does not work correctly</strong>. In YAML, all input is unicode, usually encoded as UTF-8. The <code>u'IP'</code> in the output is the <code>IP</code> value you have set with your code. And because it did not match any existing dict key (as your original key, as explained, has the content <code>u'IP'</code>, represented in the output as <code>\"u'IP'\"</code>), it has been added as additional key to the dict.</p>\n"}], "owner": {"reputation": 201, "user_id": 7537160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3081f26e71f4b3c8ac61502cf21f86?s=128&d=identicon&r=PG&f=1", "display_name": "scott", "link": "https://stackoverflow.com/users/7537160/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1572, "favorite_count": 0, "accepted_answer_id": 42133682, "answer_count": 1, "score": 0, "last_activity_date": 1486634851, "creation_date": 1486594908, "last_edit_date": 1486603750, "question_id": 42125294, "link": "https://stackoverflow.com/questions/42125294/appending-dictionary-to-list-of-dictionaries-puts-double-quotes-around-keywords", "title": "Appending dictionary to list of dictionaries puts double quotes around keywords", "body": "<p>I want to accomplish:<br>\nAppending a Dictionary to an existing list of dictionaries and updating a value in that new dictionary.</p>\n\n<p>What my problem is: \nWhen I read in my Dictionary from the .yaml RobotFramework puts double qoutes around the keywords and values as below.</p>\n\n<p>in the .yaml I have</p>\n\n<pre><code>Vlan2: { u'IP': u'1.1.1.1', \n         u'DNS': {u'SN': u's2', u'PN': u's1'}, \n         u'SRoute': [{u'IF': u'eth0', u'Mask': u'0.0.0.0'}]\n       }\n</code></pre>\n\n<p>but when I do </p>\n\n<pre><code>Collections.Set To Dictionary  ${Vlan2}  IP=2.2.2.2\n</code></pre>\n\n<p>and I log to console</p>\n\n<pre><code>Log To Console  ${Vlan2}\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>[{ \"u'IP'\": \"u'1.1.1.1'\", \n   u'IP': '2.2.2.2', \n   \"u'DNS'\": {\"u'SN'\": \"u's2'\", \"u'PN'\": \"u's1'\"}, \n   \"u'SRoute'\": [{\"u'IF'\": \"u'eth0'\", \"u'Mask'\": \"u'0.0.0.0'\"}]\n }]\n</code></pre>\n\n<p>I think this is happening because Robot Framework is adding double qoutes when it reads in the values from the .yaml cause it to appear as a different keyword, but I cannot find out how to fix this.</p>\n\n<p>It would be ideal to avoid the double qoutes all together since the JSON the info is going to is single qoute based as in the .yaml.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "dictionary", "count"], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1486594864, "creation_date": 1486594864, "answer_id": 42125283, "question_id": 42125249, "link": "https://stackoverflow.com/questions/42125249/count-elements-in-nested-dict-based-on-value-comprehension/42125283#42125283", "title": "count elements in nested dict based on value (comprehension)", "body": "<p>You may use <code>sum</code> with <em>generator expression</em> as:</p>\n\n<pre><code>&gt;&gt;&gt; sum(1 for data in my_data.values() if data['sector1'] == 'finance')\n2\n</code></pre>\n\n<p>where <code>my_data</code> is holding the <code>dict</code> object mentioned in the question.</p>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1486594879, "creation_date": 1486594879, "answer_id": 42125287, "question_id": 42125249, "link": "https://stackoverflow.com/questions/42125249/count-elements-in-nested-dict-based-on-value-comprehension/42125287#42125287", "title": "count elements in nested dict based on value (comprehension)", "body": "<p>Yeah, but using a dictionary comprehension makes no sense:</p>\n\n<pre><code>&gt;&gt;&gt; sum(1 for v in data.values() if v['sector1'] == 'finance')\n2\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 1165419, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d42aa0d6ef112f8d7b613de03cbb89e1?s=128&d=identicon&r=PG", "display_name": "user1165419", "link": "https://stackoverflow.com/users/1165419/user1165419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 1, "accepted_answer_id": 42125283, "answer_count": 2, "score": 1, "last_activity_date": 1486595083, "creation_date": 1486594697, "last_edit_date": 1486595083, "question_id": 42125249, "link": "https://stackoverflow.com/questions/42125249/count-elements-in-nested-dict-based-on-value-comprehension", "title": "count elements in nested dict based on value (comprehension)", "body": "<p>I've got a data structure like this;</p>\n\n<pre><code>{\n\"job3\": {\n    \"sector1\": \"finance\",\n    \"sector2\": \"it\"\n},\n\"job2\": {\n    \"sector1\": \"finance\",\n    \"sector2\": \"it\"\n},\n\"job1\": {\n    \"sector1\": \"it\",\n    \"sector2\": \"finance\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am trying to figure out how I can count 'sector1' values that equate to 'finance'. The long way of doing this is;</p>\n\n<pre><code>count = 0\n\nfor x,y in data.items():\n    if y['sector1'] == 'finance':\n        count += 1\n\nprint(count)\n</code></pre>\n\n<p>But I am trying to see if it's possible to do it via dict comprehension using something like enumerate or len(), but have had no luck. Any suggestions/ideas or examples I can follow?</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "listbox"], "answers": [{"tags": [], "owner": {"reputation": 12061, "user_id": 6415268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHWNQ.png?s=128&g=1", "display_name": "j_4321", "link": "https://stackoverflow.com/users/6415268/j-4321"}, "is_accepted": true, "score": 1, "last_activity_date": 1486628391, "creation_date": 1486628391, "answer_id": 42131403, "question_id": 42125227, "link": "https://stackoverflow.com/questions/42125227/attributeerror-object-has-no-attribute-listbox/42131403#42131403", "title": "AttributeError: object has no attribute &#39;listbox&#39;?", "body": "<p>Your problem is simple: in <code>button1</code> definition you use some methods of <code>self.listbox</code>, but when you defined your listbox, you haven't defined it as an attribute of <code>Page1</code>: <code>listbox = Listbox(self,exportselection=0)</code> (no <code>self.</code> in front of it). That's why you get the error <code>AttributeError: 'Page1' object has no attribute 'listbox'</code>.</p>\n\n<p>There are two ways to avoid this:</p>\n\n<ul>\n<li><p>If you need to use the listbox somewhere outside the <code>__init__</code> method of <code>Page1</code>, make it an attribute: <code>self.listbox = Listbox(self,exportselection=0)</code> and replace all the <code>listbox</code> by <code>self.listbox</code>.</p></li>\n<li><p>If you don't need it anywhere else, just change the <code>self.listbox</code> in <code>listbox</code> in the <code>button1</code> definition:</p>\n\n<pre><code>button1 = ttk.Button(self,text=\"Next Page\"\n                     ,command=lambda: controller.show_frame(Page2)\n                     or self.controller.app_data[\"listbox\"]\n                     .set(listbox.get(listbox.curselection())))\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 553, "user_id": 2976453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WuZ5.jpg?s=128&g=1", "display_name": "Spencer H", "link": "https://stackoverflow.com/users/2976453/spencer-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1556, "favorite_count": 0, "accepted_answer_id": 42131403, "answer_count": 1, "score": 0, "last_activity_date": 1486628391, "creation_date": 1486594631, "last_edit_date": 1495540395, "question_id": 42125227, "link": "https://stackoverflow.com/questions/42125227/attributeerror-object-has-no-attribute-listbox", "title": "AttributeError: object has no attribute &#39;listbox&#39;?", "body": "<p>In this simple script an item selected in <code>listbox</code> on <code>Page1</code> is saved and printed from a <code>Page2</code>.  The value in <code>listbox</code> is saved in <code>app_data</code>.  The code runs, but no value is recorded in <code>app_data</code> (the value printed is blank).  The following exception occurs:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in Tkinter callback Traceback (most recent call last):\n  File \"/usr/lib/python3.4/tkinter/__init__.py\", line 1536, in __call__\n    return self.func(*args)   File \"filepath/file.py\", line 35, in &lt;lambda&gt;\n    button1 = ttk.Button(self,text=\"Next Page\",command=lambda: controller.show_frame(Page2)\n                         or self.controller.app_data[\"listbox\"]\n                         .set(self.listbox.get(self.listbox.curselection())))\nAttributeError: 'Page1' object has no attribute 'listbox'\n</code></pre>\n\n<p>From what I can tell the controller is unable to recognize the listbox.  I looked into a possible resolution using <code>super()</code> as shown in <a href=\"https://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods\">Understanding Python super() with init() methods</a> but have not had success.</p>\n\n<p><strong>Question:</strong>\nWhat will enable listbox values to correctly save to <code>app_data</code>?</p>\n\n<pre><code>button1 = ttk.Button(self,text=\"Next Page\"\n                     ,command=lambda: controller.show_frame(Page2)\n                     or self.controller.app_data[\"listbox\"]\n                     .set(self.listbox.get(self.listbox.curselection()))\n</code></pre>\n\n<p><strong>Full Code:</strong></p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\n\nclass MyApp(Tk):\n    def __init__(self):\n        Tk.__init__(self)\n\n        # App data in controller\n        self.app_data = {\"listbox\":    StringVar()}\n\n        container = ttk.Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        self.frames = {}\n\n        for F in (Page1, Page2):\n            frame = F(container, self)\n            self.frames[F] = frame\n            frame.grid(row=0, column=0, sticky = NSEW)\n        self.show_frame(Page1)\n\n    def show_frame(self, cont):\n        frame = self.frames[cont]\n        frame.tkraise()\n\nclass Page1(ttk.Frame):\n    def __init__(self, parent, controller):\n        ttk.Frame.__init__(self, parent)\n        self.controller = controller\n\n        listbox = Listbox(self,exportselection=0)\n        listbox.grid()\n        for item in [0,1,2,3,4,5]:\n            listbox.insert(END, item)\n\n        button1 = ttk.Button(self,text=\"Next Page\"\n                             ,command=lambda: controller.show_frame(Page2)\n                             or self.controller.app_data[\"listbox\"]\n                             .set(self.listbox.get(self.listbox.curselection())))\n        button1.grid()\n\nclass Page2(ttk.Frame):\n    def __init__(self, parent, controller):\n        ttk.Frame.__init__(self, parent)\n        self.controller = controller\n        ttk.Label(self, text='Next Page').grid(padx=(20,20), pady=(20,20))\n        button1 = ttk.Button(self, text='Select Page',\n                             command=lambda: controller.show_frame(Page1))\n        button1.grid()\n        button2 = ttk.Button(self, text='print value', command=self.print_value)\n        button2.grid()\n    def print_value(self):\n        value = self.controller.app_data[\"listbox\"].get()\n        print ('The value stored in StartPage some_entry = ' + str(value))\n\napp = MyApp()\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "google-api", "google-calendar-api", "google-oauth", "google-api-python-client"], "answers": [{"comments": [{"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1486628822, "post_id": 42131484, "comment_id": 71429988, "body": "I tried using the API explorer on my own account, and successfully managed to insert a calendar with a specific colour, so it seems that it is possible. In any case, I&#39;m using calendarList.insert"}, {"owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1486628962, "post_id": 42131484, "comment_id": 71430056, "body": "have you tried patching an existing calendar.list then?  <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/calendarList/patch\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar/v3/reference/&hellip;</a>  after it is inserted?"}], "tags": [], "owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "is_accepted": false, "score": 0, "last_activity_date": 1486628693, "creation_date": 1486628693, "answer_id": 42131484, "question_id": 42125183, "link": "https://stackoverflow.com/questions/42125183/adding-google-calendars-to-a-user-via-api-domain-delegation-doesnt-set-colour/42131484#42131484", "title": "Adding Google Calendars to a user via API &amp; domain delegation doesn&#39;t set colours", "body": "<p><a href=\"https://developers.google.com/google-apps/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\">Calendars.insert</a> takes a calendar id and a calendar body as parameters</p>\n\n<blockquote>\n  <p>In the request body, supply a <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/calendars#resource\" rel=\"nofollow noreferrer\">Calendars resource</a> with the following properties:</p>\n</blockquote>\n\n<p>If you check the documentation for a calendars resource you will see </p>\n\n<pre><code>{\n  \"kind\": \"calendar#calendar\",\n  \"etag\": etag,\n  \"id\": string,\n  \"summary\": string,\n  \"description\": string,\n  \"location\": string,\n  \"timeZone\": string\n}\n</code></pre>\n\n<p>As you can see those are the only fields you are allowed to insert.  Color is not among them.  I checked <a href=\"https://developers.google.com/google-apps/calendar/v3/reference/calendars/patch\" rel=\"nofollow noreferrer\">calendars.patch</a> as well and you cant even update the calendars color. </p>\n\n<p>Normally I would suggest you add an feature request for it.  However I cant see to find an issue forum for Google calendar API.</p>\n"}], "owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486628693, "creation_date": 1486594422, "question_id": 42125183, "link": "https://stackoverflow.com/questions/42125183/adding-google-calendars-to-a-user-via-api-domain-delegation-doesnt-set-colour", "title": "Adding Google Calendars to a user via API &amp; domain delegation doesn&#39;t set colours", "body": "<p>I'm pushing calendars to my G Suite domain users using the python API. I want to be able to specify the colour that a calendar appears in a user's feed, but the calendars always come out the same boring blue.</p>\n\n<p>Here's where the calendar gets added (this works as the calendar appears in the user's list, but ignoring the colours)</p>\n\n<pre><code>def google_add_cals_to_user(self, user):\n    cals = GoogleCalendar.objects.calendars_for_user(user)\n    cal_client = self.setup_user_cal(user.email)\n    for cal in cals:\n        cal_body = {\n            'selected': True,\n            'id': cal.address,\n            'colorRgbFormat': True,\n            'foregroundColor': '#000000',\n            'backgroundColor': '#' + cal.colour\n        }\n        self.execute(cal_client.calendarList().insert(body=cal_body))\n</code></pre>\n\n<p>Here's where the calendar service gets built:</p>\n\n<pre><code>def setup_user_cal(self, email):\n    logger.debug('building calendar service for %s' % email)\n    http_cal = self.key_auth(email, scopes=SCOPES_CAL)\n    return self.build_service('calendar', 'v3', http_cal)\n</code></pre>\n\n<p>And the auth code:</p>\n\n<pre><code>def key_auth(self, user_email, scopes=SCOPES, http=None):\n    \"\"\"\n     This sets up auth using a private key set up as per: https://developers.google.com/drive/v2/web/delegation\n    \"\"\"\n    f = file(settings.GOOGLE_SERVICE_ACCOUNT_PKCS12_FILE_PATH, 'rb')\n    key = f.read()\n    f.close()\n    credentials = SignedJwtAssertionCredentials(settings.GOOGLE_SERVICE_ACCOUNT_EMAIL, key,\n                                                scope=scopes, sub=user_email)\n    if not http:\n        http = httplib2.Http()\n    http = credentials.authorize(http)\n    return http\n</code></pre>\n\n<p>And build_service:</p>\n\n<pre><code>def build_service(self, serviceName, version, http):\n    retries = 10\n    for n in range(1, retries+1):\n        try:\n            return build(serviceName, version, http=http)\n        except AccessTokenRefreshError, e:\n            ...\n</code></pre>\n"}, {"tags": ["python", "object", "io", "ipython"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1486594347, "post_id": 42125138, "comment_id": 71418358, "body": "Have you tried the standard <code>pprint</code>?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1486596577, "post_id": 42125138, "comment_id": 71419215, "body": "The display of the ipthon <code>%whos</code> would be nice, but I don&#39;t see a way of invoking that on a dictionary like <code>vars()</code>."}, {"owner": {"reputation": 2723, "user_id": 1195250, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yzUSZ.jpg?s=128&g=1", "display_name": "Spacey", "link": "https://stackoverflow.com/users/1195250/spacey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1486598016, "post_id": 42125138, "comment_id": 71419735, "body": "@hpaulj The ipython %whos? ..."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1486599787, "post_id": 42125138, "comment_id": 71420315, "body": "<code>%whos</code> gives a nice compact view of most of the variables in the current interactive session.  It&#39;s an expanded version of <code>%who</code>.  <code>%</code> is the prefix for <code>ipython</code> <code>magic</code> commands, and depending on the configuration might be optional."}, {"owner": {"reputation": 2723, "user_id": 1195250, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yzUSZ.jpg?s=128&g=1", "display_name": "Spacey", "link": "https://stackoverflow.com/users/1195250/spacey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1486603638, "post_id": 42125138, "comment_id": 71421314, "body": "@hpaulj I think I would contend myself with just a &quot;pretty&quot; list of all the dictionary keys at this point. Ideally I WOULD like a pretty list of keys and their corresponding values, but I don&#39;t know how that would work when some of the values are large arrays/matricies that just end up monopolizing the real-estate on the screen."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1486594369, "creation_date": 1486594369, "answer_id": 42125171, "question_id": 42125138, "link": "https://stackoverflow.com/questions/42125138/how-to-parse-the-output-of-vars-neatly/42125171#42125171", "title": "How to parse the output of vars() neatly?", "body": "<p>If you want a list of the keys of the object's <code>vars</code>, that'd be</p>\n\n<pre><code>list(vars(whatever))\n</code></pre>\n\n<p>or you could go through the keys and print them on their own lines:</p>\n\n<pre><code>for attr in vars(whatever):\n    print(attr)\n</code></pre>\n\n<p>or you could pretty-print the dict with <a href=\"https://docs.python.org/3/library/pprint.html\" rel=\"nofollow noreferrer\"><code>pprint</code></a> (though it might not be any prettier than IPython's default pretty-printing):</p>\n\n<pre><code>import pprint\npprint.pprint(vars(whatever))\n</code></pre>\n\n<p>or you could just code up whatever you think would be a readable way to view the information <code>vars</code> gives you. You're always free to write your own code.</p>\n\n<p>There's also <code>dir(whatever)</code>, which aims to provide a list of the object's attributes useful for interactive inspection. <code>dir(whatever)</code> will usually be different from <code>list(vars(whatever))</code>; for example, it'll include methods.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1486606264, "last_edit_date": 1486606264, "creation_date": 1486603573, "answer_id": 42126678, "question_id": 42125138, "link": "https://stackoverflow.com/questions/42125138/how-to-parse-the-output-of-vars-neatly/42126678#42126678", "title": "How to parse the output of vars() neatly?", "body": "<p>Do you want a list of the attribute names, the <code>vars</code> <code>keys</code>? Or the full dictionary, <code>keys</code> and <code>values</code>? Depending on the object class <code>vars</code> could be empty, just a few scalars and strings, or a large and complex set of lists, arrays, etc. Without a general purpose 'pretty-printer' you can not generate a clear display for all classes. It's the purpose of the <code>__str__</code> and <code>__repr__</code> methods to produce a useful display of the objects attributes.</p>\n\n<p>In my current <code>ipython</code> session</p>\n\n<p>The variables are:</p>\n\n<pre><code>In [97]: who\nM    argparse    arr     b   choices     forbool     np  nr  parser  \nproduct  sparse  sys     \n</code></pre>\n\n<p>One is user defined function with an empty vars    </p>\n\n<pre><code>In [99]: forbool\nOut[99]: &lt;function __main__.forbool&gt;\n\nIn [100]: vars(forbool)\nOut[100]: {}\n</code></pre>\n\n<p>One is sparse matrix, with a modest number of attributes.  This example has only 5 nonzero values, so the arrays are quite small.  Yes, numpy arrays can be very large.  Their display is controlled by <code>numpy</code> code.</p>\n\n<pre><code>In [101]: M\nOut[101]: \n&lt;5x5 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n    with 5 stored elements in LInked List format&gt;\n\nIn [102]: vars(M)\nOut[102]: \n{'_shape': (5, 5),\n 'data': array([[1.0], [1.0], [1.0], [1.0], [1.0]], dtype=object),\n 'dtype': dtype('float64'),\n 'maxprint': 50,\n 'rows': array([[0], [1], [2], [3], [4]], dtype=object)}\n</code></pre>\n\n<p><code>argparse</code> is an imported module, with many vars.  One, the <code>doc</code> takes up nearly a page.</p>\n\n<pre><code>In [103]: len(vars(argparse))\nOut[103]: 52\n</code></pre>\n\n<p><code>arr</code> is an array, and doesn't have a <code>__dict__</code>, and <code>vars(arr)</code> gives an error.</p>\n\n<p>This is the <code>whos</code> display for this display.  arrays are displayed in a condensed form that is unique to <code>ipython</code>.</p>\n\n<pre><code>In [108]: %whos\nVariable   Type              Data/Info\n--------------------------------------\nM          lil_matrix          (0, 0)   1.0\\n  (1, 1)   1.&lt;...&gt; (3, 3)  1.0\\n  (4, 4)   1.0\nargparse   module            &lt;module 'argparse' from '&lt;...&gt;b/python3.5/argparse.py'&gt;\narr        ndarray           10x3: 30 elems, type `int32`, 120 bytes\nb          ndarray           4x2: 8 elems, type `int32`, 32 bytes\nchoices    list              n=16\nforbool    function          &lt;function forbool at 0xb52950bc&gt;\nnp         module            &lt;module 'numpy' from '/us&lt;...&gt;kages/numpy/__init__.py'&gt;\nnr         int               3\nparser     ArgumentParser    ArgumentParser(prog='ipyt&lt;...&gt;r='error', add_help=True)\nproduct    type              &lt;class 'itertools.product'&gt;\nsparse     module            &lt;module 'scipy.sparse' fr&lt;...&gt;cipy/sparse/__init__.py'&gt;\nsys        module            &lt;module 'sys' (built-in)&gt;\n</code></pre>\n\n<p>You could write a pretty printer.  Here's a start:</p>\n\n<pre><code>def pprt(var):\n    for k,v in vars(var).items():\n        if isinstance(v, np.ndarray):\n            astr = 'array {},{}'.format(v.dtype, v.shape)\n        if isinstance(v, (list, tuple, dict)):\n            if len(v)&gt;10:\n                astr = 'big '+type(v)\n            else:\n                astr = str(v)\n        elif isinstance(v, str):\n            astr = v[:20]\n        else:\n            astr = str(v)\n        print(k,':',astr)\n</code></pre>\n\n<p>For the sparse matrix</p>\n\n<pre><code>In [123]: pprt(M)\n_shape : (5, 5)\ndtype : float64\nrows : [[0] [1] [2] [3] [4]]\ndata : [[1.0] [1.0] [1.0] [1.0] [1.0]]\nmaxprint : 50\n</code></pre>\n\n<p>But for <code>argparse</code> <code>parser</code> object, it is clearly inadequate:</p>\n\n<pre><code>In [124]: pprt(parser)\nconflict_handler : error\nusage : None\nprefix_chars : -\n_action_groups : [&lt;argparse._ArgumentGroup object at 0xb0c802ac&gt;, &lt;argparse._ArgumentGroup object at 0xb0c99ccc&gt;]\n_mutually_exclusive_groups : []\nallow_abbrev : True\n_optionals : &lt;argparse._ArgumentGroup object at 0xb0c99ccc&gt;\nprog : ipython3\ndescription : None\n_actions : [_HelpAction(option_strings=['-h', '--help'], dest='help', nargs=0, const=None, default='==SUPPRESS==', type=None, choices=None, help='show this help message and exit', metavar=None), _StoreAction(option_strings=['--k'], dest='k', nargs=None, const=None, default=100, type=&lt;class 'int'&gt;, choices=None, help='numbers, %(default)s', metavar=None)]\n....\n</code></pre>\n\n<p>The object has many attributes; some have long class names.  Some are dictionaries with a few keys, but long values.  I'd have to do some sort of recursion to compress those.  So it's possible to write a compact displayer, but it will be a lot of work.</p>\n"}], "owner": {"reputation": 2723, "user_id": 1195250, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yzUSZ.jpg?s=128&g=1", "display_name": "Spacey", "link": "https://stackoverflow.com/users/1195250/spacey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1486606264, "creation_date": 1486594177, "last_edit_date": 1486595547, "question_id": 42125138, "link": "https://stackoverflow.com/questions/42125138/how-to-parse-the-output-of-vars-neatly", "title": "How to parse the output of vars() neatly?", "body": "<p>Is there a way in which to see the attributes of a Python object via <code>vars</code>, but with the output formatting being clean, and it not showing all the values of each attribute? (For example, a large array taking up all the screen). I basically just want a nice clean list of its attributes. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1486595418, "post_id": 42125131, "comment_id": 71418822, "body": "mate, it&#39;s in the documentation. Check the help for the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html\" rel=\"nofollow noreferrer\">dropna</a> function"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1486595566, "post_id": 42125131, "comment_id": 71418878, "body": "@GeneBurinsky, no, <code>dropna()</code> will work incorrectly in this case. Check a row with index <code>4</code> in my example. <code>df.dropna(subset=[&#39;city&#39;,&#39;latitude&#39;,&#39;longitude&#39;], how=&#39;all&#39;)</code> will drop it..."}, {"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1486596968, "post_id": 42125131, "comment_id": 71419336, "body": "@MaxU, that is a fair point. However, at least fo your example, this will work <code>df.dropna(axis=0, subset=[[&#39;city&#39;, &#39;longitude&#39;, &#39;latitude&#39;]], thresh=2)</code> but in general, you&#39;re right, explicit logical statements for what is desired are superior to the <code>dropna</code> solution"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1486597097, "post_id": 42125131, "comment_id": 71419372, "body": "@GeneBurinsky, wow! i&#39;ve completely missed out this parameter... Could you please write it as an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 6037025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/accef3a221f13878e033a6480fd82230?s=128&d=identicon&r=PG&f=1", "display_name": "gesingle", "link": "https://stackoverflow.com/users/6037025/gesingle"}, "edited": false, "score": 0, "creation_date": 1486599141, "post_id": 42125197, "comment_id": 71420119, "body": "That&#39;s correct, index 4 would need to be dropped. This seems to be what I was looking for. I wasn&#39;t aware you could use the booleans in this way for query(). Thanks!"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1486595754, "last_edit_date": 1486595754, "creation_date": 1486594502, "answer_id": 42125197, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas/42125197#42125197", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>Try this:</p>\n\n<pre><code>In [25]: df\nOut[25]:\n  city  latitude  longitude  a  b\n0  aaa   11.1111        NaN  1  2\n1  bbb       NaN    22.2222  5  6\n2  NaN       NaN        NaN  3  4\n3  NaN   11.1111    33.3330  1  2\n4  NaN       NaN    44.4440  1  1\n\nIn [26]: df.query(\"city == city or (latitude == latitude and longitude == longitude)\")\nOut[26]:\n  city  latitude  longitude  a  b\n0  aaa   11.1111        NaN  1  2\n1  bbb       NaN    22.2222  5  6\n3  NaN   11.1111    33.3330  1  2\n</code></pre>\n\n<p>If i understand OP correctly the row with index <code>4</code> must be dropped as not both coordinates are not-null. So <code>dropna()</code> won't work \"properly\" in this case:</p>\n\n<pre><code>In [62]: df.dropna(subset=['city','latitude','longitude'], how='all')\nOut[62]:\n  city  latitude  longitude  a  b\n0  aaa   11.1111        NaN  1  2\n1  bbb       NaN    22.2222  5  6\n3  NaN   11.1111    33.3330  1  2\n4  NaN       NaN    44.4440  1  1   # this row should be dropped...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1486663737, "post_id": 42125202, "comment_id": 71453973, "body": "Note that, as MaxU mentioned in the comments, this wouldn&#39;t quite work on the example test set."}], "tags": [], "owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "is_accepted": false, "score": 2, "last_activity_date": 1486607224, "last_edit_date": 1486607224, "creation_date": 1486594532, "answer_id": 42125202, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas/42125202#42125202", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>dropna has a parameter to apply the tests only on a subset of columns:</p>\n\n<pre><code>dropna(axis=0, how='all', subset=[your three columns in this list])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7214, "user_id": 1672420, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d03f535bce17f51146b1035f45f9224e?s=128&d=identicon&r=PG", "display_name": "Jimmy C", "link": "https://stackoverflow.com/users/1672420/jimmy-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1486598563, "last_edit_date": 1486598563, "creation_date": 1486594928, "answer_id": 42125299, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas/42125299#42125299", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>You can perform selection by exploiting the bitwise operators.</p>\n\n<pre><code>## create example data\ndf = pd.DataFrame({'City': ['Gothenburg', None, None], 'Long': [None, 1, 1], 'Lat': [1, None, 1]})\n\n## bitwise/logical operators\n~df.City.isnull() | (~df.Lat.isnull() &amp; ~df.Long.isnull())\n0     True\n1    False\n2     True\ndtype: bool\n\n## subset using above statement\ndf[~df.City.isnull() | (~df.Lat.isnull() &amp; ~df.Long.isnull())]\n         City  Lat  Long\n0  Gothenburg  1.0   NaN\n2        None  1.0   1.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96, "user_id": 6037025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/accef3a221f13878e033a6480fd82230?s=128&d=identicon&r=PG&f=1", "display_name": "gesingle", "link": "https://stackoverflow.com/users/6037025/gesingle"}, "edited": false, "score": 0, "creation_date": 1486608365, "post_id": 42125865, "comment_id": 71422540, "body": "Thanks! Clear and concise solution."}], "tags": [], "owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "is_accepted": false, "score": 7, "last_activity_date": 1486598330, "creation_date": 1486598330, "answer_id": 42125865, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas/42125865#42125865", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>You can use <code>pd.dropna</code> but instead of using <code>how='all'</code> and <code>subset=[]</code>, you can use the <code>thresh</code> parameter to require a minimum number of NAs in a row before a row gets dropped. In the city, long/lat example, a <code>thresh=2</code> will work because we only drop in case of 3 NAs. Using the great data example set up by MaxU, we would do</p>\n\n<pre><code>## get the data\ndf = pd.read_clipboard()\n\n## remove undesired rows\ndf.dropna(axis=0, subset=[['city', 'longitude', 'latitude']], thresh=2) \n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>In [5]: df.dropna(axis=0, subset=[['city', 'longitude', 'latitude']], thresh=2)\nOut[5]:\n  city  latitude  longitude  a  b\n0  aaa   11.1111        NaN  1  2\n1  bbb       NaN    22.2222  5  6\n3  NaN   11.1111    33.3330  1  2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1486606685, "creation_date": 1486606685, "answer_id": 42127109, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas/42127109#42127109", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>Using a boolean mask and some clever <code>dot</code> product (this is for @Boud)</p>\n\n<pre><code>subset = ['city', 'latitude', 'longitude']\ndf[df[subset].notnull().dot([2, 1, 1]).ge(2)]\n\n  city  latitude  longitude  a  b\n0  aaa   11.1111        NaN  1  2\n1  bbb       NaN    22.2222  5  6\n3  NaN   11.1111    33.3330  1  2\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 6037025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/accef3a221f13878e033a6480fd82230?s=128&d=identicon&r=PG&f=1", "display_name": "gesingle", "link": "https://stackoverflow.com/users/6037025/gesingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11121, "favorite_count": 0, "answer_count": 5, "score": 6, "last_activity_date": 1486607224, "creation_date": 1486594150, "question_id": 42125131, "link": "https://stackoverflow.com/questions/42125131/delete-row-based-on-nulls-in-certain-columns-pandas", "title": "Delete row based on nulls in certain columns (pandas)", "body": "<p>I know how to drop a row from a DataFrame containing all nulls OR a single null but can you drop a row based on the nulls for a specified set of columns? </p>\n\n<p>For example, say I am working with data containing geographical info (city, latitude, and longitude) in addition to numerous other fields. I want to keep the rows that at a minimum contain a value for city OR for lat and long but drop rows that have null values for all three.</p>\n\n<p>I am having trouble finding functionality for this in pandas documentation. Any guidance would be appreciated.</p>\n"}, {"tags": ["python", "c++", "opencv", "cuda"], "comments": [{"owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "edited": false, "score": 0, "creation_date": 1486639977, "post_id": 42125084, "comment_id": 71437356, "body": "As you noticed, OpenCV has their own python bindings to c++ functions. You don&#39;t need pycuda as far as I know. Which version of OpenCV are you using? Accessing OpenCV Cuda functions should be straight forward."}, {"owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "reply_to_user": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "edited": false, "score": 0, "creation_date": 1486678843, "post_id": 42125084, "comment_id": 71462356, "body": "Hey @NAmorim, thanks for commenting! I am using OpenCV 3.2.0-dev. However, when I load the modules available for cv2, I do not see a submodule for CUDA (see updated question). Are functions that have CUDA-accelerated counterparts already substituted in the Python .so?"}, {"owner": {"reputation": 63, "user_id": 627288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9b9ead62ef04536a033ca417c129628?s=128&d=identicon&r=PG", "display_name": "nchaumont", "link": "https://stackoverflow.com/users/627288/nchaumont"}, "edited": false, "score": 4, "creation_date": 1553030770, "post_id": 42125084, "comment_id": 97235940, "body": "Starting from OpenCV 4, python bindings to CUDA accelerated code should work. Here is a post about how to achieve it: <a href=\"https://jamesbowley.co.uk/build-opencv-4-0-0-with-cuda-10-0-and-intel-mkl-tbb-in-windows/\" rel=\"nofollow noreferrer\"><b>Accelerating OpenCV 4 \u2013 build with CUDA 10.0, Intel MKL + TBB and python bindings in Windows</b></a>"}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "edited": false, "score": 1, "creation_date": 1486759495, "post_id": 42157735, "comment_id": 71501624, "body": "Unfortunately, I cannot find any of these modules which seem like they should be there: <code>&gt;&gt;&gt; cv2.cuda Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; AttributeError: &#39;module&#39; object has no attribute &#39;cuda&#39; &gt;&gt;&gt; cv2.gpu Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; AttributeError: &#39;module&#39; object has no attribute &#39;gpu&#39; &gt;&gt;&gt; cv2.cudaarithm Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; AttributeError: &#39;module&#39; object has no attribute &#39;cudaarithm&#39;</code>"}, {"owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "reply_to_user": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "edited": false, "score": 0, "creation_date": 1486984119, "post_id": 42157735, "comment_id": 71566430, "body": "Did you get the library to work meanwhile? Have you tried to check if the building OpenCV + Cuda was successful? For instance, if in python you run <b>print cv2.getBuildInformation()</b> you should get all the cmake flags that were activated. Theres a line that should be <b>Use Cuda: Yes</b>."}, {"owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "edited": false, "score": 4, "creation_date": 1487023667, "post_id": 42157735, "comment_id": 71590211, "body": "Hey @NAmorim, I indeed have <code>Use Cuda: Yes</code> enabled. It seems that Python does not have any bindings to the CUDA-related modules, as the GpuArray types are not exposed to Python in the first place. The solution I&#39;m investigating currently is to use PyCUDA and ctypes to call my own C++ code From Python that calls the OpenCV CUDA functions. I will see if this is a good solution and try to keep this post updated!"}, {"owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "reply_to_user": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "edited": false, "score": 0, "creation_date": 1487068675, "post_id": 42157735, "comment_id": 71607515, "body": "@ostrumvulpes Well that&#39;s new to me. I have used Cuda in c++ and I thought python would have bindings for it too (Good thing the opencv python documentation is nearly inexistent...). Good luck with that!"}], "tags": [], "owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "is_accepted": false, "score": 0, "last_activity_date": 1486724436, "creation_date": 1486724436, "answer_id": 42157735, "question_id": 42125084, "link": "https://stackoverflow.com/questions/42125084/accessing-opencv-cuda-functions-from-python-no-pycuda/42157735#42157735", "title": "Accessing OpenCV CUDA Functions from Python (No PyCUDA)", "body": "<blockquote>\n  <p>Or, are these CUDA-accelerated functions already being used if I call cv2.threshold() in my Python code (rather than the regular, CPU-based implementation)</p>\n</blockquote>\n\n<p>No, you have to explicitly call them from the GPU accelerated module. Calling <strong>cv2.threshold()</strong> will simply run the CPU version.</p>\n\n<p>Since the python API of OpenCV wraps around C++ functions, checking the C++ API usually offers useful hints on where the functions/modules are.</p>\n\n<p>For instance, by <a href=\"http://docs.opencv.org/3.2.0/db/dfa/tutorial_transition_guide.html\" rel=\"nofollow noreferrer\">this</a> transition guide you can see the API changes that were made from OpenCV 2.X to 3.X. Here, the GPU module on OpenCV 3.X can be accessed by <strong>cv2.cuda</strong> and <strong>cv2.gpu</strong> on previous versions. And the cuda module in 3.X is divided into several small pieces:</p>\n\n<blockquote>\n  <ul>\n  <li>cuda - CUDA-accelerated Computer Vision</li>\n  <li>cudaarithm - Operations on Matrices</li>\n  <li>cudabgsegm - Background Segmentation</li>\n  <li>cudacodec - Video Encoding/Decoding</li>\n  <li>cudafeatures2d - Feature Detection and Description</li>\n  <li>cudafilters - Image Filtering</li>\n  <li>cudaimgproc - Image Processing</li>\n  <li>cudalegacy - Legacy support</li>\n  <li>cudaoptflow - Optical Flow</li>\n  <li>cudastereo - Stereo Correspondence</li>\n  <li>cudawarping - Image Warping</li>\n  <li>cudev - Device layer</li>\n  </ul>\n</blockquote>\n\n<p>You should search for these modules within cv2.</p>\n"}, {"comments": [{"owner": {"reputation": 1534, "user_id": 7555390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-tRUwmTBgOVs/AAAAAAAAAAI/AAAAAAAAAJI/01Lb4Msk-QI/photo.jpg?sz=128", "display_name": "Xinyao Wang", "link": "https://stackoverflow.com/users/7555390/xinyao-wang"}, "edited": false, "score": 0, "creation_date": 1503522541, "post_id": 42401559, "comment_id": 78656784, "body": "I am following your description, but when applying cudaWarpPerspectiveWrapper function, I got <code>Segmentation fault (core dumped)</code> error, not sure where I went wrong. When I was compiling cython, I got 2 warnings: <code>cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C&#47;ObjC but not for C++</code>  <code>warning: #warning &quot;Using deprecated NumPy API, disable it by &quot; &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot; [-Wcpp]</code> which seem to be fine.  I am using opencv 3.3, python 2.7 and cython 0.26"}, {"owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "reply_to_user": {"reputation": 1534, "user_id": 7555390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-tRUwmTBgOVs/AAAAAAAAAAI/AAAAAAAAAJI/01Lb4Msk-QI/photo.jpg?sz=128", "display_name": "Xinyao Wang", "link": "https://stackoverflow.com/users/7555390/xinyao-wang"}, "edited": false, "score": 0, "creation_date": 1503620022, "post_id": 42401559, "comment_id": 78704109, "body": "Hey Xinyao, I think I got those warnings too -- they <i>should</i> be harmless. I think I was using OpenCV 3.2, Python 3.2, and Cython 0.25. It may be a discrepency between the Python versions? Something important you also have to do with numpy is to call numpy.import_array() -- see here: <a href=\"https://docs.scipy.org/doc/numpy-1.10.0/user/c-info.how-to-extend.html#required-subroutine\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-1.10.0/user/&hellip;</a>. I remember getting frustrating seg faults when forgetting to set that!"}, {"owner": {"reputation": 1534, "user_id": 7555390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-tRUwmTBgOVs/AAAAAAAAAAI/AAAAAAAAAJI/01Lb4Msk-QI/photo.jpg?sz=128", "display_name": "Xinyao Wang", "link": "https://stackoverflow.com/users/7555390/xinyao-wang"}, "edited": false, "score": 0, "creation_date": 1503622854, "post_id": 42401559, "comment_id": 78704727, "body": "Thanks for responding! I tried different python (3.5 and 2.7) and opencv (3.1,3.2,3.3), and still not working. I think it is caused by not calling numpy.import_array() since I have no idea about that before you mentioned. I posted a question here: <a href=\"https://stackoverflow.com/questions/45850197/not-able-to-convert-numpy-array-to-opencv-mat-in-cython-when-trying-to-write-c\">link</a>  It would be greate if you have time to take a look. I found another code on github to walk around converting numpy array to cv mat just now, but it will be wonderful if you could provide some possible solutions."}, {"owner": {"reputation": 1534, "user_id": 7555390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-tRUwmTBgOVs/AAAAAAAAAAI/AAAAAAAAAJI/01Lb4Msk-QI/photo.jpg?sz=128", "display_name": "Xinyao Wang", "link": "https://stackoverflow.com/users/7555390/xinyao-wang"}, "edited": false, "score": 1, "creation_date": 1503623048, "post_id": 42401559, "comment_id": 78704773, "body": "I was not ablt to figure out where to include numpy.import_array(), it seems should not be included in my .py file since numpy has no attribute import_array in python. Just too new to these stuff."}, {"owner": {"reputation": 1534, "user_id": 7555390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-tRUwmTBgOVs/AAAAAAAAAAI/AAAAAAAAAJI/01Lb4Msk-QI/photo.jpg?sz=128", "display_name": "Xinyao Wang", "link": "https://stackoverflow.com/users/7555390/xinyao-wang"}, "edited": false, "score": 4, "creation_date": 1503626900, "post_id": 42401559, "comment_id": 78705562, "body": "Hi, I tried to put  numpy.import_array() in GpuWrapper.pyx and it worked like a charm right now. Thank you for your solution, really appreciated!"}, {"owner": {"reputation": 483, "user_id": 1294414, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b523bf08956065c775ec9817eec930d1?s=128&d=identicon&r=PG", "display_name": "nazikus", "link": "https://stackoverflow.com/users/1294414/nazikus"}, "edited": false, "score": 0, "creation_date": 1530633192, "post_id": 42401559, "comment_id": 89300656, "body": "@ostrumvulpes  many thanks to both of you! this is a great time saver for Cython newbies."}], "tags": [], "owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "is_accepted": true, "score": 27, "last_activity_date": 1487795113, "last_edit_date": 1495541837, "creation_date": 1487795113, "answer_id": 42401559, "question_id": 42125084, "link": "https://stackoverflow.com/questions/42125084/accessing-opencv-cuda-functions-from-python-no-pycuda/42401559#42401559", "title": "Accessing OpenCV CUDA Functions from Python (No PyCUDA)", "body": "<p>So as confirmed in the answer and comment thread with @NAmorim, <strong>there are no accessible Python bindings to OpenCV's various CUDA modules</strong>.</p>\n\n<p>I was able to get around this restriction by using <strong>Cython</strong> to gain access to the CUDA functions I needed and implementing the necessary logic to convert my Python objects (mainly NumPy arrays) to OpenCV C/C++ objects and back.</p>\n\n<h1>Working Code</h1>\n\n<p>I first wrote a Cython definition file, <code>GpuWrapper.pxd</code>. The purpose of this file is to reference external C/C++ classes and methods, such as the CUDA methods I am interested in.</p>\n\n<pre><code>from libcpp cimport bool\nfrom cpython.ref cimport PyObject\n\n# References PyObject to OpenCV object conversion code borrowed from OpenCV's own conversion file, cv2.cpp\ncdef extern from 'pyopencv_converter.cpp':\n    cdef PyObject* pyopencv_from(const Mat&amp; m)\n    cdef bool pyopencv_to(PyObject* o, Mat&amp; m)\n\ncdef extern from 'opencv2/imgproc.hpp' namespace 'cv':\n    cdef enum InterpolationFlags:\n        INTER_NEAREST = 0\n    cdef enum ColorConversionCodes:\n        COLOR_BGR2GRAY\n\ncdef extern from 'opencv2/core/core.hpp':\n    cdef int CV_8UC1\n    cdef int CV_32FC1\n\ncdef extern from 'opencv2/core/core.hpp' namespace 'cv':\n    cdef cppclass Size_[T]:\n        Size_() except +\n        Size_(T width, T height) except +\n        T width\n        T height\n    ctypedef Size_[int] Size2i\n    ctypedef Size2i Size\n    cdef cppclass Scalar[T]:\n        Scalar() except +\n        Scalar(T v0) except +\n\ncdef extern from 'opencv2/core/core.hpp' namespace 'cv':\n    cdef cppclass Mat:\n        Mat() except +\n        void create(int, int, int) except +\n        void* data\n        int rows\n        int cols\n\ncdef extern from 'opencv2/core/cuda.hpp' namespace 'cv::cuda':\n    cdef cppclass GpuMat:\n        GpuMat() except +\n        void upload(Mat arr) except +\n        void download(Mat dst) const\n    cdef cppclass Stream:\n        Stream() except +\n\ncdef extern from 'opencv2/cudawarping.hpp' namespace 'cv::cuda':\n    cdef void warpPerspective(GpuMat src, GpuMat dst, Mat M, Size dsize, int flags, int borderMode, Scalar borderValue, Stream&amp; stream)\n    # Function using default values\n    cdef void warpPerspective(GpuMat src, GpuMat dst, Mat M, Size dsize, int flags)\n</code></pre>\n\n<p>We also need the ability to convert Python objects to OpenCV objects. I copied the first couple hundred lines from OpenCV's <code>modules/python/src2/cv2.cpp</code>. You can find that code below in the appendix.</p>\n\n<p>We can finally write our Cython wrapper methods to call OpenCV's CUDA functions! This is part of the Cython implementation file, <code>GpuWrapper.pyx</code>.</p>\n\n<pre><code>import numpy as np  # Import Python functions, attributes, submodules of numpy\ncimport numpy as np  # Import numpy C/C++ API\n\ndef cudaWarpPerspectiveWrapper(np.ndarray[np.uint8_t, ndim=2] _src,\n                               np.ndarray[np.float32_t, ndim=2] _M,\n                               _size_tuple,\n                               int _flags=INTER_NEAREST):\n    # Create GPU/device InputArray for src\n    cdef Mat src_mat\n    cdef GpuMat src_gpu\n    pyopencv_to(&lt;PyObject*&gt; _src, src_mat)\n    src_gpu.upload(src_mat)\n\n    # Create CPU/host InputArray for M\n    cdef Mat M_mat = Mat()\n    pyopencv_to(&lt;PyObject*&gt; _M, M_mat)\n\n    # Create Size object from size tuple\n    # Note that size/shape in Python is handled in row-major-order -- therefore, width is [1] and height is [0]\n    cdef Size size = Size(&lt;int&gt; _size_tuple[1], &lt;int&gt; _size_tuple[0])\n\n    # Create empty GPU/device OutputArray for dst\n    cdef GpuMat dst_gpu = GpuMat()\n    warpPerspective(src_gpu, dst_gpu, M_mat, size, INTER_NEAREST)\n\n    # Get result of dst\n    cdef Mat dst_host\n    dst_gpu.download(dst_host)\n    cdef np.ndarray out = &lt;np.ndarray&gt; pyopencv_from(dst_host)\n    return out\n</code></pre>\n\n<p>After running a setup script to cythonize and compile this code (see apendix), we can import GpuWrapper as a Python module and run <code>cudaWarpPerspectiveWrapper</code>. This allowed me to run the code through CUDA with only a mismatch of 0.34722222222222854% -- quite exciting!</p>\n\n<h1>References (can only post max of 2)</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22736593/what-is-the-easiest-way-to-convert-ndarray-into-cvmat\">What is the easiest way to convert ndarray into cv::Mat?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12957492/writing-python-bindings-for-c-code-that-use-opencv/12972689#12972689\">Writing Python bindings for C++ code that use OpenCV</a></li>\n</ul>\n\n<h1>Appendix</h1>\n\n<p><code>pyopencv_converter.cpp</code></p>\n\n<pre><code>#include &lt;Python.h&gt;\n#include \"numpy/ndarrayobject.h\"\n#include \"opencv2/core/core.hpp\"\n\nstatic PyObject* opencv_error = 0;\n\n// === FAIL MESSAGE ====================================================================================================\n\nstatic int failmsg(const char *fmt, ...)\n{\n    char str[1000];\n\n    va_list ap;\n    va_start(ap, fmt);\n    vsnprintf(str, sizeof(str), fmt, ap);\n    va_end(ap);\n\n    PyErr_SetString(PyExc_TypeError, str);\n    return 0;\n}\n\nstruct ArgInfo\n{\n    const char * name;\n    bool outputarg;\n    // more fields may be added if necessary\n\n    ArgInfo(const char * name_, bool outputarg_)\n        : name(name_)\n        , outputarg(outputarg_) {}\n\n    // to match with older pyopencv_to function signature\n    operator const char *() const { return name; }\n};\n\n// === THREADING =======================================================================================================\n\nclass PyAllowThreads\n{\npublic:\n    PyAllowThreads() : _state(PyEval_SaveThread()) {}\n    ~PyAllowThreads()\n    {\n        PyEval_RestoreThread(_state);\n    }\nprivate:\n    PyThreadState* _state;\n};\n\nclass PyEnsureGIL\n{\npublic:\n    PyEnsureGIL() : _state(PyGILState_Ensure()) {}\n    ~PyEnsureGIL()\n    {\n        PyGILState_Release(_state);\n    }\nprivate:\n    PyGILState_STATE _state;\n};\n\n// === ERROR HANDLING ==================================================================================================\n\n#define ERRWRAP2(expr) \\\ntry \\\n{ \\\n    PyAllowThreads allowThreads; \\\n    expr; \\\n} \\\ncatch (const cv::Exception &amp;e) \\\n{ \\\n    PyErr_SetString(opencv_error, e.what()); \\\n    return 0; \\\n}\n\n// === USING NAMESPACE CV ==============================================================================================\n\nusing namespace cv;\n\n// === NUMPY ALLOCATOR =================================================================================================\n\nclass NumpyAllocator : public MatAllocator\n{\npublic:\n    NumpyAllocator() { stdAllocator = Mat::getStdAllocator(); }\n    ~NumpyAllocator() {}\n\n    UMatData* allocate(PyObject* o, int dims, const int* sizes, int type, size_t* step) const\n    {\n        UMatData* u = new UMatData(this);\n        u-&gt;data = u-&gt;origdata = (uchar*)PyArray_DATA((PyArrayObject*) o);\n        npy_intp* _strides = PyArray_STRIDES((PyArrayObject*) o);\n        for( int i = 0; i &lt; dims - 1; i++ )\n            step[i] = (size_t)_strides[i];\n        step[dims-1] = CV_ELEM_SIZE(type);\n        u-&gt;size = sizes[0]*step[0];\n        u-&gt;userdata = o;\n        return u;\n    }\n\n    UMatData* allocate(int dims0, const int* sizes, int type, void* data, size_t* step, int flags, UMatUsageFlags usageFlags) const\n    {\n        if( data != 0 )\n        {\n            CV_Error(Error::StsAssert, \"The data should normally be NULL!\");\n            // probably this is safe to do in such extreme case\n            return stdAllocator-&gt;allocate(dims0, sizes, type, data, step, flags, usageFlags);\n        }\n        PyEnsureGIL gil;\n\n        int depth = CV_MAT_DEPTH(type);\n        int cn = CV_MAT_CN(type);\n        const int f = (int)(sizeof(size_t)/8);\n        int typenum = depth == CV_8U ? NPY_UBYTE : depth == CV_8S ? NPY_BYTE :\n                      depth == CV_16U ? NPY_USHORT : depth == CV_16S ? NPY_SHORT :\n                      depth == CV_32S ? NPY_INT : depth == CV_32F ? NPY_FLOAT :\n                      depth == CV_64F ? NPY_DOUBLE : f*NPY_ULONGLONG + (f^1)*NPY_UINT;\n        int i, dims = dims0;\n        cv::AutoBuffer&lt;npy_intp&gt; _sizes(dims + 1);\n        for( i = 0; i &lt; dims; i++ )\n            _sizes[i] = sizes[i];\n        if( cn &gt; 1 )\n            _sizes[dims++] = cn;\n        PyObject* o = PyArray_SimpleNew(dims, _sizes, typenum);\n        if(!o)\n            CV_Error_(Error::StsError, (\"The numpy array of typenum=%d, ndims=%d can not be created\", typenum, dims));\n        return allocate(o, dims0, sizes, type, step);\n    }\n\n    bool allocate(UMatData* u, int accessFlags, UMatUsageFlags usageFlags) const\n    {\n        return stdAllocator-&gt;allocate(u, accessFlags, usageFlags);\n    }\n\n    void deallocate(UMatData* u) const\n    {\n        if(!u)\n            return;\n        PyEnsureGIL gil;\n        CV_Assert(u-&gt;urefcount &gt;= 0);\n        CV_Assert(u-&gt;refcount &gt;= 0);\n        if(u-&gt;refcount == 0)\n        {\n            PyObject* o = (PyObject*)u-&gt;userdata;\n            Py_XDECREF(o);\n            delete u;\n        }\n    }\n\n    const MatAllocator* stdAllocator;\n};\n\n// === ALLOCATOR INITIALIZATION ========================================================================================\n\nNumpyAllocator g_numpyAllocator;\n\n// === CONVERTOR FUNCTIONS =============================================================================================\n\ntemplate&lt;typename T&gt; static\nbool pyopencv_to(PyObject* obj, T&amp; p, const char* name = \"&lt;unknown&gt;\");\n\ntemplate&lt;typename T&gt; static\nPyObject* pyopencv_from(const T&amp; src);\n\nenum { ARG_NONE = 0, ARG_MAT = 1, ARG_SCALAR = 2 };\n\n// special case, when the convertor needs full ArgInfo structure\nstatic bool pyopencv_to(PyObject* o, Mat&amp; m, const ArgInfo info)\n{\n    bool allowND = true;\n    if(!o || o == Py_None)\n    {\n        if( !m.data )\n            m.allocator = &amp;g_numpyAllocator;\n        return true;\n    }\n\n    if( PyInt_Check(o) )\n    {\n        double v[] = {static_cast&lt;double&gt;(PyInt_AsLong((PyObject*)o)), 0., 0., 0.};\n        m = Mat(4, 1, CV_64F, v).clone();\n        return true;\n    }\n    if( PyFloat_Check(o) )\n    {\n        double v[] = {PyFloat_AsDouble((PyObject*)o), 0., 0., 0.};\n        m = Mat(4, 1, CV_64F, v).clone();\n        return true;\n    }\n    if( PyTuple_Check(o) )\n    {\n        int i, sz = (int)PyTuple_Size((PyObject*)o);\n        m = Mat(sz, 1, CV_64F);\n        for( i = 0; i &lt; sz; i++ )\n        {\n            PyObject* oi = PyTuple_GET_ITEM(o, i);\n            if( PyInt_Check(oi) )\n                m.at&lt;double&gt;(i) = (double)PyInt_AsLong(oi);\n            else if( PyFloat_Check(oi) )\n                m.at&lt;double&gt;(i) = (double)PyFloat_AsDouble(oi);\n            else\n            {\n                failmsg(\"%s is not a numerical tuple\", info.name);\n                m.release();\n                return false;\n            }\n        }\n        return true;\n    }\n\n    if( !PyArray_Check(o) )\n    {\n        failmsg(\"%s is not a numpy array, neither a scalar\", info.name);\n        return false;\n    }\n\n    PyArrayObject* oarr = (PyArrayObject*) o;\n\n    bool needcopy = false, needcast = false;\n    int typenum = PyArray_TYPE(oarr), new_typenum = typenum;\n    int type = typenum == NPY_UBYTE ? CV_8U :\n               typenum == NPY_BYTE ? CV_8S :\n               typenum == NPY_USHORT ? CV_16U :\n               typenum == NPY_SHORT ? CV_16S :\n               typenum == NPY_INT ? CV_32S :\n               typenum == NPY_INT32 ? CV_32S :\n               typenum == NPY_FLOAT ? CV_32F :\n               typenum == NPY_DOUBLE ? CV_64F : -1;\n\n    if( type &lt; 0 )\n    {\n        if( typenum == NPY_INT64 || typenum == NPY_UINT64 || typenum == NPY_LONG )\n        {\n            needcopy = needcast = true;\n            new_typenum = NPY_INT;\n            type = CV_32S;\n        }\n        else\n        {\n            failmsg(\"%s data type = %d is not supported\", info.name, typenum);\n            return false;\n        }\n    }\n\n#ifndef CV_MAX_DIM\n    const int CV_MAX_DIM = 32;\n#endif\n\n    int ndims = PyArray_NDIM(oarr);\n    if(ndims &gt;= CV_MAX_DIM)\n    {\n        failmsg(\"%s dimensionality (=%d) is too high\", info.name, ndims);\n        return false;\n    }\n\n    int size[CV_MAX_DIM+1];\n    size_t step[CV_MAX_DIM+1];\n    size_t elemsize = CV_ELEM_SIZE1(type);\n    const npy_intp* _sizes = PyArray_DIMS(oarr);\n    const npy_intp* _strides = PyArray_STRIDES(oarr);\n    bool ismultichannel = ndims == 3 &amp;&amp; _sizes[2] &lt;= CV_CN_MAX;\n\n    for( int i = ndims-1; i &gt;= 0 &amp;&amp; !needcopy; i-- )\n    {\n        // these checks handle cases of\n        //  a) multi-dimensional (ndims &gt; 2) arrays, as well as simpler 1- and 2-dimensional cases\n        //  b) transposed arrays, where _strides[] elements go in non-descending order\n        //  c) flipped arrays, where some of _strides[] elements are negative\n        // the _sizes[i] &gt; 1 is needed to avoid spurious copies when NPY_RELAXED_STRIDES is set\n        if( (i == ndims-1 &amp;&amp; _sizes[i] &gt; 1 &amp;&amp; (size_t)_strides[i] != elemsize) ||\n            (i &lt; ndims-1 &amp;&amp; _sizes[i] &gt; 1 &amp;&amp; _strides[i] &lt; _strides[i+1]) )\n            needcopy = true;\n    }\n\n    if( ismultichannel &amp;&amp; _strides[1] != (npy_intp)elemsize*_sizes[2] )\n        needcopy = true;\n\n    if (needcopy)\n    {\n        if (info.outputarg)\n        {\n            failmsg(\"Layout of the output array %s is incompatible with cv::Mat (step[ndims-1] != elemsize or step[1] != elemsize*nchannels)\", info.name);\n            return false;\n        }\n\n        if( needcast ) {\n            o = PyArray_Cast(oarr, new_typenum);\n            oarr = (PyArrayObject*) o;\n        }\n        else {\n            oarr = PyArray_GETCONTIGUOUS(oarr);\n            o = (PyObject*) oarr;\n        }\n\n        _strides = PyArray_STRIDES(oarr);\n    }\n\n    // Normalize strides in case NPY_RELAXED_STRIDES is set\n    size_t default_step = elemsize;\n    for ( int i = ndims - 1; i &gt;= 0; --i )\n    {\n        size[i] = (int)_sizes[i];\n        if ( size[i] &gt; 1 )\n        {\n            step[i] = (size_t)_strides[i];\n            default_step = step[i] * size[i];\n        }\n        else\n        {\n            step[i] = default_step;\n            default_step *= size[i];\n        }\n    }\n\n    // handle degenerate case\n    if( ndims == 0) {\n        size[ndims] = 1;\n        step[ndims] = elemsize;\n        ndims++;\n    }\n\n    if( ismultichannel )\n    {\n        ndims--;\n        type |= CV_MAKETYPE(0, size[2]);\n    }\n\n    if( ndims &gt; 2 &amp;&amp; !allowND )\n    {\n        failmsg(\"%s has more than 2 dimensions\", info.name);\n        return false;\n    }\n\n    m = Mat(ndims, size, type, PyArray_DATA(oarr), step);\n    m.u = g_numpyAllocator.allocate(o, ndims, size, type, step);\n    m.addref();\n\n    if( !needcopy )\n    {\n        Py_INCREF(o);\n    }\n    m.allocator = &amp;g_numpyAllocator;\n\n    return true;\n}\n\ntemplate&lt;&gt;\nbool pyopencv_to(PyObject* o, Mat&amp; m, const char* name)\n{\n    return pyopencv_to(o, m, ArgInfo(name, 0));\n}\n\ntemplate&lt;&gt;\nPyObject* pyopencv_from(const Mat&amp; m)\n{\n    if( !m.data )\n        Py_RETURN_NONE;\n    Mat temp, *p = (Mat*)&amp;m;\n    if(!p-&gt;u || p-&gt;allocator != &amp;g_numpyAllocator)\n    {\n        temp.allocator = &amp;g_numpyAllocator;\n        ERRWRAP2(m.copyTo(temp));\n        p = &amp;temp;\n    }\n    PyObject* o = (PyObject*)p-&gt;u-&gt;userdata;\n    Py_INCREF(o);\n    return o;\n}\n</code></pre>\n\n<p><code>setupGpuWrapper.py</code></p>\n\n<pre><code>import subprocess\nimport os\nimport numpy as np\nfrom distutils.core import setup, Extension\nfrom Cython.Build import cythonize\nfrom Cython.Distutils import build_ext\n\n\"\"\"\nRun setup with the following command:\n```\npython setupGpuWrapper.py build_ext --inplace\n```\n\"\"\"\n\n# Determine current directory of this setup file to find our module\nCUR_DIR = os.path.dirname(__file__)\n# Use pkg-config to determine library locations and include locations\nopencv_libs_str = subprocess.check_output(\"pkg-config --libs opencv\".split()).decode()\nopencv_incs_str = subprocess.check_output(\"pkg-config --cflags opencv\".split()).decode()\n# Parse into usable format for Extension call\nopencv_libs = [str(lib) for lib in opencv_libs_str.strip().split()]\nopencv_incs = [str(inc) for inc in opencv_incs_str.strip().split()]\n\nextensions = [\n    Extension('GpuWrapper',\n              sources=[os.path.join(CUR_DIR, 'GpuWrapper.pyx')],\n              language='c++',\n              include_dirs=[np.get_include()] + opencv_incs,\n              extra_link_args=opencv_libs)\n]\n\nsetup(\n    cmdclass={'build_ext': build_ext},\n    name=\"GpuWrapper\",\n    ext_modules=cythonize(extensions)\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 209306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrkB9.jpg?s=128&g=1", "display_name": "Neeraj Gulia", "link": "https://stackoverflow.com/users/209306/neeraj-gulia"}, "is_accepted": false, "score": 4, "last_activity_date": 1537502178, "creation_date": 1537502178, "answer_id": 52436378, "question_id": 42125084, "link": "https://stackoverflow.com/questions/42125084/accessing-opencv-cuda-functions-from-python-no-pycuda/52436378#52436378", "title": "Accessing OpenCV CUDA Functions from Python (No PyCUDA)", "body": "<p>I used following way to access OpenCV's C++ CUDA methods in Python:</p>\n\n<ol>\n<li>Create custom opencv_contrib module</li>\n<li>Write C++ code to wrap the OpenCV CUDA method</li>\n<li>Using OpenCV python bindings, expose your custom method</li>\n<li>Build opencv with opencv_contrib </li>\n<li>Run python code to test</li>\n</ol>\n\n<p>I created a small <a href=\"https://github.com/NeerajGulia/python-opencv-cuda\" rel=\"nofollow noreferrer\">github repo</a> to demonstrate the same</p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 5925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HprkV.jpg?s=128&g=1", "display_name": "Jop Knoppers", "link": "https://stackoverflow.com/users/5925257/jop-knoppers"}, "edited": false, "score": 0, "creation_date": 1598963153, "post_id": 56484909, "comment_id": 112620941, "body": "Since OpenCV 4.4.0 cv::cuda::CascadeClassifier should be back, I however can&#39;t find the python binding. It&#39;s not under cv2.cuda.CascadeClassifier. Any chance someone else found this?"}, {"owner": {"reputation": 470, "user_id": 5925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HprkV.jpg?s=128&g=1", "display_name": "Jop Knoppers", "link": "https://stackoverflow.com/users/5925257/jop-knoppers"}, "edited": false, "score": 0, "creation_date": 1598963603, "post_id": 56484909, "comment_id": 112621140, "body": "cv2.cuda_CascadeClassifier gives a segmentation fault.."}], "tags": [], "owner": {"reputation": 674, "user_id": 3551604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b8994e7b681b2ce4cf4da9ab6e0e7?s=128&d=identicon&r=PG", "display_name": "c-x-berger", "link": "https://stackoverflow.com/users/3551604/c-x-berger"}, "is_accepted": false, "score": 5, "last_activity_date": 1560963090, "last_edit_date": 1560963090, "creation_date": 1559854166, "answer_id": 56484909, "question_id": 42125084, "link": "https://stackoverflow.com/questions/42125084/accessing-opencv-cuda-functions-from-python-no-pycuda/56484909#56484909", "title": "Accessing OpenCV CUDA Functions from Python (No PyCUDA)", "body": "<p>I did some testing on this with OpenCV 4.0.0. @nchaumont mentioned that starting with OpenCV 4, there were Python bindings for CUDA included. </p>\n\n<p>As of at least Open CV 4.1.0, possibly earlier, <strong>the default Python bindings include CUDA,</strong> provided that Open CV was built with CUDA support.</p>\n\n<p>Most functionality appears to be exposed as <code>cv2.cuda.thing</code> (for example, <code>cv2.cuda.cvtColor()</code>.)</p>\n\n<p>Currently, they lack any online documentation - for example, the <a href=\"https://docs.opencv.org/master/d0/d43/classcv_1_1cuda_1_1CannyEdgeDetector.html\" rel=\"noreferrer\">GPU Canny edge detector</a> makes no mention of Python. You can use the <code>help</code> function at Python's REPL to see the C++ docs though, which should be mostly equivalent.</p>\n"}], "owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22206, "favorite_count": 13, "accepted_answer_id": 42401559, "answer_count": 4, "score": 13, "last_activity_date": 1565535838, "creation_date": 1486593939, "last_edit_date": 1559859323, "question_id": 42125084, "link": "https://stackoverflow.com/questions/42125084/accessing-opencv-cuda-functions-from-python-no-pycuda", "title": "Accessing OpenCV CUDA Functions from Python (No PyCUDA)", "body": "<p>I am writing a Python application that uses OpenCV's Python bindings to do marker detection and other image processing. I would like to use OpenCV's CUDA modules to CUDA-accelerate certain parts of my application, and noticed in their <code>.hpp</code> files that they seem to be using the OpenCV export macros for Python and Java. However, I do not seem to be able to access those CUDA functions, even though I am building OpenCV <code>WITH_CUDA=ON</code>.</p>\n\n<p>Is it necessary to use a wrapper such as PyCUDA in order to access the GPU functions, such as threshold in cudaarithm? Or, are these CUDA-accelerated functions already being used if I call <strong>cv2.threshold()</strong> in my Python code (rather than the regular, CPU-based implementation)?</p>\n\n<pre><code>CV_EXPORTS double threshold(InputArray src, OutputArray dst, double thresh, double maxval, int type, Stream&amp; stream = Stream::Null());\n</code></pre>\n\n<p>The submodules I see for <code>cv2</code> are the following:</p>\n\n<ul>\n<li>Error</li>\n<li>aruco</li>\n<li>detail</li>\n<li>fisheye</li>\n<li>flann</li>\n<li>instr</li>\n<li>ml</li>\n<li>ocl</li>\n<li>ogl</li>\n<li>videostab</li>\n</ul>\n\n<p><code>cv2.cuda</code>, <code>cv2.gpu</code>, and <code>cv2.cudaarithm</code> all return with an <code>AttributeError</code>.</p>\n\n<p>The CMake instruction I am running to build OpenCV is as follows:</p>\n\n<pre><code>cmake -DOPENCV_EXTRA_MODULES_PATH=/usr/local/lib/opencv_contrib/modules/ \\\n    -D WITH_CUDA=ON -D CUDA_FAST_MATH=1 \\\n    -D ENABLE_PRECOMPILED_HEADERS=OFF \\\n    -D BUILD_TESTS=OFF -D BUILD_PERF_TESTS=OFF -D BUILD_EXAMPLES=OFF \\\n    -D BUILD_opencv_java=OFF \\\n    -DBUILD_opencv_bgsegm=OFF -DBUILD_opencv_bioinspired=OFF -DBUILD_opencv_ccalib=OFF -DBUILD_opencv_cnn_3dobj=OFF -DBUILD_opencv_contrib_world=OFF -DBUILD_opencv_cvv=OFF -DBUILD_opencv_datasets=OFF -DBUILD_openc\nv_dnn=OFF -DBUILD_opencv_dnns_easily_fooled=OFF -DBUILD_opencv_dpm=OFF -DBUILD_opencv_face=OFF -DBUILD_opencv_fuzzy=OFF -DBUILD_opencv_hdf=OFF -DBUILD_opencv_line_descriptor=OFF -DBUILD_opencv_matlab=OFF -DBUILD_o\npencv_optflow=OFF -DBUILD_opencv_plot=OFF -DBUILD_opencv_README.md=OFF -DBUILD_opencv_reg=OFF -DBUILD_opencv_rgbd=OFF -DBUILD_opencv_saliency=OFF -DBUILD_opencv_sfm=OFF -DBUILD_opencv_stereo=OFF -DBUILD_opencv_str\nuctured_light=OFF -DBUILD_opencv_surface_matching=OFF -DBUILD_opencv_text=OFF -DBUILD_opencv_tracking=OFF -DBUILD_opencv_viz=OFF -DBUILD_opencv_xfeatures2d=OFF -DBUILD_opencv_ximgproc=OFF -DBUILD_opencv_xobjdetect\n=OFF -DBUILD_opencv_xphoto=OFF ..\n</code></pre>\n"}, {"tags": ["python", "django", "pycharm"], "comments": [{"owner": {"reputation": 1182, "user_id": 5913564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/wJLlu.jpg?s=128&g=1", "display_name": "shuboy2014", "link": "https://stackoverflow.com/users/5913564/shuboy2014"}, "edited": false, "score": 0, "creation_date": 1486594126, "post_id": 42125078, "comment_id": 71418256, "body": "post your full traceback of error."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1486595198, "post_id": 42125078, "comment_id": 71418744, "body": "are you working on python2.7? It is an known bug <a href=\"https://bugs.python.org/issue13081\" rel=\"nofollow noreferrer\">bugs.python.org/issue13081</a>"}, {"owner": {"reputation": 21, "user_id": 7410939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7b3d8740ce4cf4d64469e12e47ee1e?s=128&d=identicon&r=PG&f=1", "display_name": "longtth", "link": "https://stackoverflow.com/users/7410939/longtth"}, "edited": false, "score": 0, "creation_date": 1486596384, "post_id": 42125078, "comment_id": 71419149, "body": "I am on python 3.6"}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 5153735, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/944760875584198/picture?type=large", "display_name": "Filip", "link": "https://stackoverflow.com/users/5153735/filip"}, "is_accepted": false, "score": 0, "last_activity_date": 1486688134, "creation_date": 1486688134, "answer_id": 42149744, "question_id": 42125078, "link": "https://stackoverflow.com/questions/42125078/django-python-has-stopped-working-when-trying-to-run-server-after-closing-it-onc/42149744#42149744", "title": "Django python has stopped working when trying to run server after closing it once", "body": "<p>First step was to set the environment variable.</p>\n\n<ol>\n<li>windows key + pause or Control Panel\\System and Security\\System</li>\n<li>Advance system settings (this will open system property)</li>\n<li>navigate to Advanced tab > Environment variable</li>\n<li>Edit path - append c:\\python36 in variable value field</li>\n<li>Change 'c:\\python36' to ';c:\\python36'</li>\n</ol>\n\n<p>then /python manage.py runserver should work</p>\n\n<p>I have no idea why but it worked for me.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 3599526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31742f168ddac4ab443540ba6d936d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3599526", "link": "https://stackoverflow.com/users/3599526/user3599526"}, "edited": false, "score": 0, "creation_date": 1494197408, "post_id": 42891007, "comment_id": 74711532, "body": "After updating python to 3.6.1 the problem is gone."}], "tags": [], "owner": {"reputation": 51, "user_id": 3599526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31742f168ddac4ab443540ba6d936d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3599526", "link": "https://stackoverflow.com/users/3599526/user3599526"}, "is_accepted": false, "score": 3, "last_activity_date": 1489951434, "last_edit_date": 1489951434, "creation_date": 1489950865, "answer_id": 42891007, "question_id": 42125078, "link": "https://stackoverflow.com/questions/42125078/django-python-has-stopped-working-when-trying-to-run-server-after-closing-it-onc/42891007#42891007", "title": "Django python has stopped working when trying to run server after closing it once", "body": "<p>This happens to me and I'm not using Pycharm. I'm using Powershell, Python 3.6 and Django 1.10</p>\n\n<p>If you do </p>\n\n<pre><code>python manage.py runserver --noreload\n</code></pre>\n\n<p>then it works.</p>\n\n<p>This was reported but as it's not clear if it's related to Powershell or Django, the report is not allowed to be open.\n<a href=\"https://code.djangoproject.com/ticket/27766\" rel=\"nofollow noreferrer\">https://code.djangoproject.com/ticket/27766</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7410939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7b3d8740ce4cf4d64469e12e47ee1e?s=128&d=identicon&r=PG&f=1", "display_name": "longtth", "link": "https://stackoverflow.com/users/7410939/longtth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2646, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1550090587, "creation_date": 1486593907, "question_id": 42125078, "link": "https://stackoverflow.com/questions/42125078/django-python-has-stopped-working-when-trying-to-run-server-after-closing-it-onc", "title": "Django python has stopped working when trying to run server after closing it once", "body": "<pre><code>python manage.py runserver\n</code></pre>\n\n<p>works fine the first time, but after closing it with ctrl+c, I can't start it up again. I get the error message \"Python has stopped working\".</p>\n\n<p>This is easily fixed by restarting my computer but it is very inconvenient.</p>\n\n<p>I have also tried the same thing using pycharm, but i get the error message:</p>\n\n<pre><code>Process finished with exit code -1073741819 (0xC0000005)\n</code></pre>\n\n<p>I am currently on Windows 10.</p>\n"}, {"tags": ["python", "list", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1486597062, "post_id": 42125091, "comment_id": 71419359, "body": "Also <code>new_lst = sorted(map(sorted, lst))</code>. But it seems the list comprehension is faster on my PC"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 8, "last_activity_date": 1486593963, "creation_date": 1486593963, "answer_id": 42125091, "question_id": 42125069, "link": "https://stackoverflow.com/questions/42125069/sorting-a-2d-list-alphabetically/42125091#42125091", "title": "Sorting a 2D list alphabetically?", "body": "<p>The fastest way in general should be just as you described it:</p>\n\n<pre><code>for sublist in lst:\n    sublist.sort()\n\nlst.sort()\n</code></pre>\n\n<p>Alternatively, if you want to do it out of place:</p>\n\n<pre><code>new_lst = [sorted(sublist) for sublist in lst]\nnew_lst.sort()\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 6675960, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-j1Gkj0P-KjE/AAAAAAAAAAI/AAAAAAAACC0/pkosEtmhH7g/photo.jpg?sz=128", "display_name": "Arjun Vasudevan", "link": "https://stackoverflow.com/users/6675960/arjun-vasudevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 1, "accepted_answer_id": 42125091, "answer_count": 1, "score": 4, "last_activity_date": 1486594122, "creation_date": 1486593874, "question_id": 42125069, "link": "https://stackoverflow.com/questions/42125069/sorting-a-2d-list-alphabetically", "title": "Sorting a 2D list alphabetically?", "body": "<p>I have a 2D list such as this:</p>\n\n<pre><code>lst = [['c', 'd', 'b'], ['d', 'c', 'a'], ['b', 'a', 'c']]\n</code></pre>\n\n<p>I would first like to sort each list within the list alphabetically like this:</p>\n\n<pre><code>lst = [['b', 'c', 'd'], ['a', 'c', 'd'], ['a', 'b', 'c']]\n</code></pre>\n\n<p>And finally, I would like to sort the whole list alphabetically which takes into account each element in a sublist:</p>\n\n<pre><code>lst = [['a', 'b', 'c'], ['a', 'c', 'd'], ['b', 'c', 'd']]\n</code></pre>\n\n<p>What would be the fastest way to achieve this? Thank you.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1486595183, "last_edit_date": 1486595183, "creation_date": 1486594726, "answer_id": 42125254, "question_id": 42125056, "link": "https://stackoverflow.com/questions/42125056/struggling-to-animate-an-image-in-tkinter/42125254#42125254", "title": "Struggling to animate an image in Tkinter", "body": "<p>The proper way to do animation in tkinter is to have a function that does one frame of animation, and then have it call itself repeatedly until some terminal condition.</p>\n\n<p>For example:</p>\n\n<pre><code>def move_object(obj_id):\n    can.move(obj_id, 0, 1)\n    x0,y0,x1,y1 = can.coords(obj_id)\n    if y0 &lt; yCan: \n        can.after(5, move_obj, obj_id)\n</code></pre>\n\n<p>The main difference to what you wrote is that you were using <code>after</code> incorrectly. You were doing this:</p>\n\n<pre><code>can.after(5, drop(disc))\n</code></pre>\n\n<p>... which is exactly the same as this:</p>\n\n<pre><code>result = drop(disc)\ncan.after(5, drop)\n</code></pre>\n\n<p>Notice the difference? Like with the <code>command</code> attribute, you must supply a <em>reference</em> to a function. You however were <em>calling</em> the function and then giving the result to <code>after</code>.</p>\n\n<p>Here's a very simple example to experiment with:</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\ncanvas = tk.Canvas(root, width=200, height=200)\ncanvas.pack(fill=\"both\", expand=True)\n\nball = canvas.create_oval(50,0,100,50, fill=\"red\")\n\ndef animate(obj_id):\n    canvas.move(obj_id, 0, 3)\n    x0,y0,x1,y1 = canvas.coords(obj_id)\n    if y0 &gt; canvas.winfo_height():\n        canvas.coords(obj_id, 50,-50, 100, 0)\n    canvas.after(50, animate, obj_id)\n\nanimate(ball)\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7537060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fj9gy.png?s=128&g=1", "display_name": "Grappe", "link": "https://stackoverflow.com/users/7537060/grappe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 973, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486595183, "creation_date": 1486593818, "last_edit_date": 1486593964, "question_id": 42125056, "link": "https://stackoverflow.com/questions/42125056/struggling-to-animate-an-image-in-tkinter", "title": "Struggling to animate an image in Tkinter", "body": "<p>I've started coding a Connect 4 game (a click triggers a disc to fall) and I wanted to animate the discs' fall.\nSo I start by creating a new disc image :</p>\n\n<pre><code>discList[y][x] = can.create_image((xCan,yCurrent), image=imgRedDisc, anchor=\"nw\")\n</code></pre>\n\n<p>The disc is created at the top of the canvas at xCan; yCurrent. What I want to do now is to animate the disc falling to its destination, yCan. I call my drop function which keeps incrementing the disc's yCurrent until it reaches yCan with recursivity and the after() method :</p>\n\n<pre><code>def drop(disc):\n    global yCan, yCurrent\n    can.move(disc, 0, 1)\n    yCurrent += 1\n    if yCurrent &lt; yCan:\n        can.after(5, drop(disc))\n</code></pre>\n\n<p>Now what my problem is is that the disc's intermediary positions don't display, it only shows up directly at the bottom after a few seconds.\nAfter some research I added a line to update the canvas :</p>\n\n<pre><code>def drop(disc):\n    global yCan, yCurrent\n    can.move(disc, 0, 1)\n    yCurrent += 1\n    can.update()\n    if yCurrent &lt; yCan:\n        can.after(5, drop(disc))\n</code></pre>\n\n<p>Now I get to see my disc falling, but it gets laggy after each play ; the discs only start falling a few seconds after I've clicked (which triggers their fall). Another problem is that if I trigger two discs to fall almost silmutaneously by double-clicking very quickly, the first one stops its fall midway then simply falls out of the canvas.</p>\n\n<p>My question is, how do I display every step of my discs' fall without <code>can.update()</code> ?\nAlso I store each disc id in a list (discList), is there a more convenient way to store dynamically created canvas images ?</p>\n"}, {"tags": ["python", "mathematical-optimization", "ampl", "gams-math"], "answers": [{"tags": [], "owner": {"reputation": 10888, "user_id": 5625534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d4mCF.jpg?s=128&g=1", "display_name": "Erwin Kalvelagen", "link": "https://stackoverflow.com/users/5625534/erwin-kalvelagen"}, "is_accepted": false, "score": 0, "last_activity_date": 1486656814, "creation_date": 1486656814, "answer_id": 42141602, "question_id": 42125047, "link": "https://stackoverflow.com/questions/42125047/ampl-vs-gams-minlp-portfolio-optimization-syntax/42141602#42141602", "title": "ampl vs gams MINLP portfolio optimization syntax", "body": "<p>The AMPL syntax is very straightforward:</p>\n\n<pre><code>sum{i in I, j in I} x[i]*S[i,j]*x[j]\n</code></pre>\n\n<p>Note that many portfolio models do not need a full-blown MINLP solver but can be solved with the quadratic (and SOCP) capabilities present in systems like Cplex and Gurobi. Your question is somewhat difficult to parse (at least for me) but I believe your model falls in this category.</p>\n"}], "owner": {"reputation": 563, "user_id": 528894, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/35f83f5f3d24555bacc38326563fa074?s=128&d=identicon&r=PG", "display_name": "adam", "link": "https://stackoverflow.com/users/528894/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486658164, "creation_date": 1486593783, "last_edit_date": 1486658164, "question_id": 42125047, "link": "https://stackoverflow.com/questions/42125047/ampl-vs-gams-minlp-portfolio-optimization-syntax", "title": "ampl vs gams MINLP portfolio optimization syntax", "body": "<p>I am looking for a MINLP optimizer to solve portfolio optimisation problem which minimizes x'.S.x where x is a vector S is a given matrix. There are integer constraints which x elements depend on ex; x[i] = g[i].K[i] where g[i] is an integer and K[i] is a given vector, thus we need to find g[i]s while minimizing objective. </p>\n\n<p>I am considering using <a href=\"http://apmonitor.com/\" rel=\"nofollow noreferrer\">AMPL</a> or <a href=\"http://www.gams.com/\" rel=\"nofollow noreferrer\">gams</a>. Main program is in python. I am not sure if these are the best MINLP out there, but anyways there seems to be some examples on both websites. In terms of matrix multiplication for the minimization objective, I am not clear if there is a simple way of writing this in AMPL, do I need to write it as an algebraic expansion? Can you provide an example of x'.S.x operation in AMPL language?</p>\n\n<p>In terms of gams, I see the package is free only for limited usage of a number of variables. Therefore I was considering AMPL, but maybe for smaller problems gams might be the solution if I cannot figure out AMPL notation for matrix vector multiplications</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 1, "creation_date": 1486604201, "post_id": 42125046, "comment_id": 71421469, "body": "Given <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/lib/io/tf_record.py#L95\" rel=\"nofollow noreferrer\">the TODO</a>, I&#39;m guessing it&#39;s not supported yet. You could file a feature request on GitHub."}, {"owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "reply_to_user": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 1, "creation_date": 1487032272, "post_id": 42125046, "comment_id": 71593116, "body": "Thanks for pointing to the TODO, I opened a ticket: <a href=\"https://github.com/tensorflow/tensorflow/issues/7482\" rel=\"nofollow noreferrer\">github.com/tensorflow/tensorflow/issues/7482</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "is_accepted": true, "score": 7, "last_activity_date": 1496183871, "creation_date": 1496183871, "answer_id": 44272990, "question_id": 42125046, "link": "https://stackoverflow.com/questions/42125046/how-to-append-data-to-tensorflow-tfrecords-file/44272990#44272990", "title": "How to append data to TensorFlow tfrecords file", "body": "<p>According to the comments in the ticket I opened this won't be implemented, soon.</p>\n"}], "owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5105, "favorite_count": 2, "accepted_answer_id": 44272990, "answer_count": 1, "score": 9, "last_activity_date": 1496183871, "creation_date": 1486593779, "question_id": 42125046, "link": "https://stackoverflow.com/questions/42125046/how-to-append-data-to-tensorflow-tfrecords-file", "title": "How to append data to TensorFlow tfrecords file", "body": "<p>How to append new data (e.g. pairs of images and labels) to an already existing tfrecord file?</p>\n\n<p>The class <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/lib/io/tf_record.py\" rel=\"noreferrer\">tf.python_io.TFRecordWriter</a> does not seem to have any option for that.</p>\n\n<p>This question may also be reformulated to how to concatenate tfrecord files.</p>\n"}, {"tags": ["python", "matplotlib", "plot", "seaborn"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1486595996, "post_id": 42125011, "comment_id": 71419023, "body": "So, for instance, adapting the <a href=\"http://seaborn.pydata.org/generated/seaborn.FacetGrid.html\" rel=\"nofollow noreferrer\">Seaborn example</a>, there might be smokers of tobacco, clove, weed, any combination, or none of these, so there would be four rows of facets (T, C, W, none) and a person&#39;s tip behavior might be reported in more than one row?"}, {"owner": {"reputation": 3871, "user_id": 429726, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9ac79232e794df7c8e63e5e0df2fc26?s=128&d=identicon&r=PG", "display_name": "Chris Fonnesbeck", "link": "https://stackoverflow.com/users/429726/chris-fonnesbeck"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1486597616, "post_id": 42125011, "comment_id": 71419570, "body": "Yes, each row could belong to zero, one or more groups."}], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": true, "score": 3, "last_activity_date": 1486627148, "creation_date": 1486627148, "answer_id": 42131098, "question_id": 42125011, "link": "https://stackoverflow.com/questions/42125011/creating-a-faceted-matplotlib-seaborn-plot-using-indicator-variables-rather-than/42131098#42131098", "title": "Creating a faceted matplotlib/seaborn plot using indicator variables rather than a single column", "body": "<p>I don't see how to do it with FacetGrid, possibly because this isn't facetting the data, since a data-record might appear several times or only once in the plot.  One of the standard tricks with a set of bitfields is to read them as binary, so you see each combination of the bits. That's unambiguous but gets messy:</p>\n\n<pre><code>import pandas as pd\nimport seaborn as sns\nfrom numpy.random import random, randint\nfrom numpy import concatenate\nimport matplotlib.pyplot as plt\n\n# Dummy data\nvdata = pd.DataFrame(concatenate((randint(2, size=(32,4)), random(size=(32,2))), axis=1))\nvdata.columns=['Species','v1','v2','v3','x','y']\nbinary_v = vdata.v1 + vdata.v2*2 + vdata.v3*4\n# Making a binary number out of the \"virusX?\" fields \npd.concat((vdata, binary_v), axis=1)\nvdata = pd.concat((vdata, binary_v), axis=1)\nvdata.columns=['Species','v1','v2','v3','x','y','binary_v']\n\n# Plotting group membership by row\n#g = sns.FacetGrid(vdata, col=\"Species\", row='binary_v')\n#g.map(plt.scatter, \"x\", \"y\")\n#g.add_legend()\n#plt.savefig('multiple_facet_binary_row') # Unreadably big. \n\nh = sns.FacetGrid(vdata, col=\"Species\", hue=\"binary_v\")\nh.map(plt.scatter, \"x\",\"y\")\nh.add_legend()\nplt.savefig('multiple_facet_binary_hue')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UJuv1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UJuv1.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you have too many indicators to deal with the combinatorial explosion, explicitly making the new subsets works:</p>\n\n<pre><code># Nope, need to pull out subsets:\nbdata = vdata[vdata.v1 + vdata.v2 + vdata.v3 ==0.]\nassert(len(bdata) &gt; 0) # ... catch... \nbdata['Virus'] = pd.Series(['none']*len(bdata), index=bdata.index)\n\nfor i in ['v1','v2','v3']:\n    on = vdata[vdata[i]==1.]\n    on['Virus'] = pd.Series([i]*len(on), index=on.index)\n    bdata = bdata.append(on)\n\nj = sns.FacetGrid(bdata, col='Species', row='Virus')\nj.map(plt.scatter, 'x', 'y')\nj.add_legend()\nj.savefig('multiple_facet_refish')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/e8FFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8FFJ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3871, "user_id": 429726, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b9ac79232e794df7c8e63e5e0df2fc26?s=128&d=identicon&r=PG", "display_name": "Chris Fonnesbeck", "link": "https://stackoverflow.com/users/429726/chris-fonnesbeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 1, "accepted_answer_id": 42131098, "answer_count": 1, "score": 3, "last_activity_date": 1486627148, "creation_date": 1486593611, "question_id": 42125011, "link": "https://stackoverflow.com/questions/42125011/creating-a-faceted-matplotlib-seaborn-plot-using-indicator-variables-rather-than", "title": "Creating a faceted matplotlib/seaborn plot using indicator variables rather than a single column", "body": "<p>Seaborn is great for creating faceted plots based on a categorical variable encoding the class of each facet. However, this assumes your categories are mutually exclusive. Is it possible to create a Seaborn <code>FacetGrid</code> (or similar) based on a set of indicator variables?</p>\n\n<p>As a concrete example, think about comparing patients that are infected with one or more viruses, and plotting an attribute of interest by virus. Its possible that a patient carries more than one virus, so creating a <code>virus</code> column to create a grid on is not possible. You can, however, create a set of indicator variables (one for each virus) that flags the virus for each patient. There does not seem to be a way of passing a set of indicator variables to any of the Seaborn functions to do this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/8YYiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8YYiT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't imagine I'm the first person to come across this scenario, so I'm hoping there are suggestions for how to do this, without coding it by hand in Matploltlib.</p>\n"}, {"tags": ["python", "list", "file-io", "cosine-similarity"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5828549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f890a401d448f072ce55416d35fbe10?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/5828549/programmer"}, "edited": false, "score": 0, "creation_date": 1486612361, "post_id": 42125071, "comment_id": 71423468, "body": "one more question please, I added  this code :   with open(&#39;vectors&#39;,&#39;r&#39;) as myfile:     for line in myfile.readlines():         print(line.split()[1:])      which shows  only numbers  in two lists. But how can I get this as two individual lists ? Could you help, please? @Prune"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1486657543, "last_edit_date": 1486657543, "creation_date": 1486593881, "answer_id": 42125071, "question_id": 42124983, "link": "https://stackoverflow.com/questions/42124983/calculating-cosine-similarity-from-file-vectors-in-python/42125071#42125071", "title": "Calculating cosine similarity from file vectors in Python", "body": "<p>These are basic data-manipulation skills that you're supposed to learn for this assignment.  Here are the steps:</p>\n\n<pre><code>Read the entire line into a string.  # input()\nSplit the string on spaces.          # string.split()\nDrop the first element.              # list slice or pop()\nConvert the others to integer.       # int()\n</code></pre>\n\n<p>It's possible to stuff all of that into one line of code, but I recommend that you do it in four steps, testing each step as you code it.  The last one may be a loop for you, depending on your current skill level.</p>\n\n<p>Does that get you moving?</p>\n\n<hr>\n\n<p><strong>INPUT IN PAIRS</strong></p>\n\n<p>To handle pairs of input lines, y have to read and split them individually. Another way is to maintain a boolean flag to tell you whether the current iteration is the first or second line.</p>\n\n<p>One way:</p>\n\n<pre><code>while not at end of file:    # I leave coding details to you\n    line1 = myfile.readline().split(' ')[1:]\n    line2 = myfile.readline().split(' ')[1:]\n    # Convert both to numbers; compute cosine\n</code></pre>\n\n<p>Another way:</p>\n\n<pre><code>first = True\nline in myfile.readlines():\n    if first:\n        line1 = myfile.readline().split(' ')[1:]\n    else:\n        line2 = myfile.readline().split(' ')[1:]\n        # Convert both to numbers; compute cosine\n        first = not first\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5828549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f890a401d448f072ce55416d35fbe10?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/5828549/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486657543, "creation_date": 1486593474, "last_edit_date": 1486602726, "question_id": 42124983, "link": "https://stackoverflow.com/questions/42124983/calculating-cosine-similarity-from-file-vectors-in-python", "title": "Calculating cosine similarity from file vectors in Python", "body": "<p>I would like to calculate cosine similarity between two vectors in the a file in the following format:  </p>\n\n<pre><code>first_vector 1 2 3  \nsecond_vector 1 3 5  \n</code></pre>\n\n<p>... simply the name of the vector and then its elements, separated by single space. I have defined a function which should take each line as individual list and then calculate the similarity. My problem is that I do not know I how to convert the two lines to two lists. </p>\n\n<p>This is my code:  </p>\n\n<pre><code>import math\n\ndef cosine_sim(vector1,vector2):\n\n    sum_of_x,sum_of_y, sum_of_xy=0,0,0\n    for i in range(len(v1)):\n        x=vector1[i]; y=vector2[i]\n        sum_of_x+=x*x;\n        sum_of_y+=y*y;\n        sum_of_xy += x*y\n    return (sum_of_xy/math.sqrt(sum_of_x*sum_of_y))\n\n\nmyfile=open(\"vectors\",\"r\")\nv1='#This should read the first line vector which is 1 2 3'\nv2='#This should read the second line vector which is 1 3 5'\nprint(\"The similarity is\",cosine_sim(v1,v2))\n</code></pre>\n"}, {"tags": ["python", "twitter", "output", "uri", "tweepy"], "comments": [{"owner": {"reputation": 12873, "user_id": 1127699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8030281cad7e827a3357927fd3748444?s=128&d=identicon&r=PG", "display_name": "Terence Eden", "link": "https://stackoverflow.com/users/1127699/terence-eden"}, "edited": false, "score": 2, "creation_date": 1486634324, "post_id": 42124950, "comment_id": 71433523, "body": "I&#39;ve removed the OAuth keys in your code. Please revoke those keys using the Twitter website."}], "answers": [{"tags": [], "owner": {"reputation": 1708, "user_id": 133197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d8c8be5290e6a5aecd721c51b82e12?s=128&d=identicon&r=PG", "display_name": "Juan E.", "link": "https://stackoverflow.com/users/133197/juan-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1486665426, "creation_date": 1486665426, "answer_id": 42144417, "question_id": 42124950, "link": "https://stackoverflow.com/questions/42124950/collecting-uris-from-tweets/42144417#42144417", "title": "Collecting URI&#39;s From Tweets", "body": "<p>I've modified your code to only print URLs if present:</p>\n\n<pre><code>#Import the necessary methods from tweepy library\nimport json\n\nfrom tweepy.streaming import StreamListener\nfrom tweepy import OAuthHandler\nfrom tweepy import Stream\n\n#Variables that contains the user credentials to access Twitter API\naccess_token = \"-\"\naccess_token_secret = \"\"\nconsumer_key = \"\"\nconsumer_secret = \"\"\n\n\n#This is a basic listener that just prints received tweets to stdout.\nclass StdOutListener(StreamListener):\n    def on_data(self, data):\n        tweet = json.loads(data)\n        for url in tweet[\"entities\"][\"urls\"]:\n            print \" - found URL: %s\" % url[\"expanded_url\"]\n        return True\n\n    def on_error(self, status):\n        print status\n\n\nif __name__ == '__main__':\n    #This handles Twitter authetification and the connection to Twitter Streaming API\n    l = StdOutListener()\n    auth = OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n    stream = Stream(auth, l)\n\n    #This line filter Twitter Streams to capture data by the keyword: '#NFL'\n    stream.filter(track=[ '#NFL' ])\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7537112, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/22cdc38ee84e6b029b87ba0943452e26?s=128&d=identicon&r=PG&f=1", "display_name": "BCarey", "link": "https://stackoverflow.com/users/7537112/bcarey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1486665426, "creation_date": 1486593373, "last_edit_date": 1486634293, "question_id": 42124950, "link": "https://stackoverflow.com/questions/42124950/collecting-uris-from-tweets", "title": "Collecting URI&#39;s From Tweets", "body": "<p>I am currently writing a python program that utilizes Tweepy &amp; the Twitter API, and extracts URI links from tweets on twitter. </p>\n\n<p>This is currently my code. How do I modify it so that it only outputs the URIs from tweets(if there is one included)?</p>\n\n<hr>\n\n<pre><code>    #Import the necessary methods from tweepy library\n    from tweepy.streaming import StreamListener\n    from tweepy import OAuthHandler\n    from tweepy import Stream\n\n    #Variables that contains the user credentials to access Twitter API\n    access_token = \"-\"\n    access_token_secret = \"\"\n    consumer_key = \"\"\n    consumer_secret = \"\"\n\n\n    #This is a basic listener that just prints received tweets to stdout.\n    class StdOutListener(StreamListener):\n\n    def on_data(self, data):\n    print data\n    return True\n\n    def on_error(self, status):\n    print status\n\n\n    if __name__ == '__main__':\n\n    #This handles Twitter authetification and the connection to Twitter Streaming API\n    l = StdOutListener()\n    auth = OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n    stream = Stream(auth, l)\n\n    #This line filter Twitter Streams to capture data by the keyword: '#NFL'\n    twitterator = stream.filter(track=[ '#NFL' ])\n\n    for tweet in twitterator:\n    print \"(%s) @%s %s\" % (tweet[\"created_at\"], tweet[\"user\"][\"screen_name\"], tweet[\"text\"])\n    for url in tweet[\"entities\"][\"urls\"]:\n        print \" - found URL: %s\" % url[\"expanded_url\"]\n</code></pre>\n\n<hr>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1486607099, "post_id": 42124927, "comment_id": 71422220, "body": "<a href=\"http://stackoverflow.com/questions/40925652/in-tensorflow-whats-the-meaning-of-0-in-a-variables-name/40936352#40936352\" title=\"in tensorflow whats the meaning of 0 in a variables name\">stackoverflow.com/questions/40925652/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "is_accepted": true, "score": 3, "last_activity_date": 1486600703, "creation_date": 1486600703, "answer_id": 42126240, "question_id": 42124927, "link": "https://stackoverflow.com/questions/42124927/tensorflows-name-convention/42126240#42126240", "title": "tensorflow&#39;s name convention?", "body": "<p>The offending integer is added in the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/framework/ops.py#L327\" rel=\"nofollow noreferrer\">Tensor class</a>, and is the \"value index\":</p>\n\n<blockquote>\n  <p>value_index: An <code>int</code>. Index of the operation's endpoint that produces\n          this tensor.</p>\n</blockquote>\n\n<p>It's not always zero! For example:</p>\n\n<pre><code>&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; tf.unique([1,2,3])\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Unique(y=&lt;tf.Tensor 'Unique:0' shape=(?,) dtype=int32&gt;, idx=&lt;tf.Tensor 'Unique:1' shape=(3,) dtype=int32&gt;)\n</code></pre>\n\n<p>So the first output has the \":0\" suffix, but the second has a \":1\" suffix since it's the second output of the op.</p>\n"}], "owner": {"reputation": 525, "user_id": 7474000, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/471a8c4f91d729f716782c6d1e472d0b?s=128&d=identicon&r=PG&f=1", "display_name": "semenbari", "link": "https://stackoverflow.com/users/7474000/semenbari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 42126240, "answer_count": 1, "score": 1, "last_activity_date": 1486848738, "creation_date": 1486593296, "last_edit_date": 1486848738, "question_id": 42124927, "link": "https://stackoverflow.com/questions/42124927/tensorflows-name-convention", "title": "tensorflow&#39;s name convention?", "body": "<p>Whenever using tensorflow variables's name, I have had a question why they ended by <code>blabla:0</code>. So I should use split function like <code>v.name.split(':')[0]</code>.</p>\n\n<p>Despite there is same name's variables, the tail's name wouldn't be changed, like my expectation <code>aaa:0</code>, <code>aaa:1</code>.</p>\n\n<p>Does anybody know why tensorflow does this?</p>\n\n<p>I couldn't find this reason on tensorflow.org or via googling.</p>\n"}, {"tags": ["python", "list", "oop", "object"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7483202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b60c0aac10bbf47ed4221379d6b97a0?s=128&d=identicon&r=PG&f=1", "display_name": "Werflow", "link": "https://stackoverflow.com/users/7483202/werflow"}, "edited": false, "score": 0, "creation_date": 1486594661, "post_id": 42124918, "comment_id": 71418504, "body": "Thanks for the explanation, that worked like a charm!"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 3, "last_activity_date": 1486593260, "creation_date": 1486593260, "answer_id": 42124918, "question_id": 42124875, "link": "https://stackoverflow.com/questions/42124875/creating-a-list-of-objects-from-a-list-of-lists/42124918#42124918", "title": "Creating a list of objects from a list of lists", "body": "<p>You should unpack the nested list to create class object. You may create the list of <code>Car</code> objects via using <em>list comprehension</em> as:</p>\n\n<pre><code>cars = [Car(*props) for props in properties_list]\n</code></pre>\n\n<p>where <code>properties_list</code> is the list holding the properties you want to create your car with. </p>\n\n<p>For example, if <code>properties_list</code> is like:</p>\n\n<pre><code>properties_list = [[1, 2, 3], [4, 5, 6]]\n</code></pre>\n\n<p>then <code>cars</code> will hold the list of <code>Car</code> objects as:</p>\n\n<pre><code>cars = [\n    Car(a=1, b=2, c=3),\n    Car(a=4, b=5, c=6)\n]\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7483202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b60c0aac10bbf47ed4221379d6b97a0?s=128&d=identicon&r=PG&f=1", "display_name": "Werflow", "link": "https://stackoverflow.com/users/7483202/werflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 1, "accepted_answer_id": 42124918, "answer_count": 1, "score": 0, "last_activity_date": 1486593260, "creation_date": 1486593106, "question_id": 42124875, "link": "https://stackoverflow.com/questions/42124875/creating-a-list-of-objects-from-a-list-of-lists", "title": "Creating a list of objects from a list of lists", "body": "<p>I've just started to learn Python. I have a list of lists where each element is a list and looks something like this: ['1', '2', '3']. I have a created a class like this:</p>\n\n<pre><code>class Car(object):\n    def __init__(self, a, b=0, c=0):\n        self.a = a\n        self.b = b\n        self.c = c\n    def setABC(self, a, b, c):\n        self.a = a\n        self.b = b\n        self.c = c\n</code></pre>\n\n<p>How do I create a new list where each element is an instance of this class, instead of the original list members?</p>\n\n<p>I have tried something like this, but obviously it didn't work:</p>\n\n<pre><code>cars = cars.append(Car(cars[0], cars[1], cars[2]))\n</code></pre>\n\n<p>Also, I tried this:</p>\n\n<pre><code>cars = [Car(x.a, x.b, x.c) for x in cars]\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 1669, "user_id": 3026320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7Nb6.jpg?s=128&g=1", "display_name": "berna1111", "link": "https://stackoverflow.com/users/3026320/berna1111"}, "edited": false, "score": 0, "creation_date": 1486593138, "post_id": 42124826, "comment_id": 71417832, "body": "Have you tried printing the resulting string (literally place a <code>print</code> before it)? EDIT: just saw it... Try and print <code>dan[0]</code>. For instance, in 2.7 and after getting the same output as you, <code>&gt;&gt;&gt; print dan[0]</code> got me <code>Porta dos Fundos: Contrato Vital&#237;cio HD 720p</code> and <code>&gt;&gt;&gt; print dan[1]</code> <code>Os 28 Homens de Panfilov Legendado HD</code>."}, {"owner": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 0, "creation_date": 1486595060, "post_id": 42124826, "comment_id": 71418687, "body": "Stack OverFlow has a Spanish and Portuguese website, I believe."}], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 1, "last_activity_date": 1486594136, "last_edit_date": 1495539925, "creation_date": 1486593368, "answer_id": 42124948, "question_id": 42124826, "link": "https://stackoverflow.com/questions/42124826/python-understand-accents-like-%c3%a7-%c2%ba/42124948#42124948", "title": "Python understand accents like ( ^ &#39; &#231; &#186;)", "body": "<p>Because you're telling the interpreter to print a list, the interpreter calls the <code>list</code> class's <code>__str__</code> method. When you call a container's <code>__str__</code>method, it uses uses the <code>__repr__</code> method for each of the contained objects (in this case - <code>str</code> type). The <code>str</code> type's <code>__repr__</code> method doesn't convert the unicode characters, but its <code>__str__</code> method (which gets called when you print an individual <code>str</code> object) does.</p>\n\n<p>Here's a great question to help explain the difference: \n<a href=\"https://stackoverflow.com/questions/1436703/difference-between-str-and-repr-in-python?rq=1\">Difference between __str__ and __repr__ in Python</a></p>\n\n<p>If you print each string individually, you should get the results you want.</p>\n\n<pre><code>import re\nimport requests\n\ndef opena(url):\n    headers = {'user-agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36'}\n    lexdan1 = requests.get(url,headers=headers)\n    lexdan2 = lexdan1.text\n    lexdan1.close\n    return lexdan2\n\ndan = []\na = opena('http://www.megafilmesonlinehd.com/filmes-lancamentos')\nd = re.compile('&lt;strong class=\"tt-filme\"&gt;(.+?)&lt;/strong&gt;').findall(a)\nfor name in d:\n    dan.append(name)\nfor item in dan:\n     print item\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1669, "user_id": 3026320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7Nb6.jpg?s=128&g=1", "display_name": "berna1111", "link": "https://stackoverflow.com/users/3026320/berna1111"}, "is_accepted": false, "score": 0, "last_activity_date": 1486593649, "creation_date": 1486593649, "answer_id": 42125021, "question_id": 42124826, "link": "https://stackoverflow.com/questions/42124826/python-understand-accents-like-%c3%a7-%c2%ba/42125021#42125021", "title": "Python understand accents like ( ^ &#39; &#231; &#186;)", "body": "<p>When printing a <code>list</code> whatever is inside them is represented (calls <code>__repr__</code> method), and not printed (call <code>__str__</code> method):</p>\n\n<pre><code>class test():\n    def __repr__(self):\n        print '__repr__'\n        return ''\n    def __str__(self):\n        print '__str__'\n        return ''\n</code></pre>\n\n<p>will get you:</p>\n\n<pre><code>&gt;&gt;&gt; a = [test()]\n&gt;&gt;&gt; a\n[__repr__\n]\n&gt;&gt;&gt; print a\n[__repr__\n]\n&gt;&gt;&gt; print a[0]\n__str__\n</code></pre>\n\n<p>And the <code>__repr__</code> method of string does not convert special characters (not even <code>\\t</code> or <code>\\n</code>).</p>\n"}], "owner": {"reputation": 11, "user_id": 7405560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122b446be81557d895269d67e47aa9a7?s=128&d=identicon&r=PG&f=1", "display_name": "sonaldynho", "link": "https://stackoverflow.com/users/7405560/sonaldynho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486594136, "creation_date": 1486592889, "last_edit_date": 1486594007, "question_id": 42124826, "link": "https://stackoverflow.com/questions/42124826/python-understand-accents-like-%c3%a7-%c2%ba", "title": "Python understand accents like ( ^ &#39; &#231; &#186;)", "body": "<p>I'm creating a Python script, basically this part I'm having problems, it simply takes the titles of the posts of a webpage.\nPython does not understand the accents and I've tried everything I know \n1 - put this code in the first line # - * - coding: utf-8 - * -\n2 - put .encode (\"utf-8\")</p>\n\n<p>code:</p>\n\n<pre><code># -*- coding: utf-8 -*- \nimport re\nimport requests\n\ndef opena(url):\n    headers = {'user-agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64)AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36'}\n    lexdan1 = requests.get(url,headers=headers)\n    lexdan2 = lexdan1.text\n    lexdan1.close\n    return lexdan2\ndan = []\na = opena('http://www.megafilmesonlinehd.com/filmes-lancamentos')\nd = re.compile('&lt;strong class=\"tt-filme\"&gt;(.+?)&lt;/strong&gt;').findall(a)\nfor name in d:\n    name =  name.encode(\"utf-8\")\n    dan.append(name)\nprint dan\n</code></pre>\n\n<p>this what i got:</p>\n\n<pre><code>['Porta dos Fundos: Contrato Vital\\xc3\\xadcio HD 720p', 'Os 28 Homens de Panfilov Legendado HD', 'Estrelas Al\\xc3\\xa9m do Tempo Dublado', 'A Volta do Ju\\xc3\\xadzo Final Dublado Full HD 1080p', 'The Love Witch Legendado HD', 'Manchester \\xc3\\x80 Beira-Mar Legendado', 'Semana do P\\xc3\\xa2nico Dublado HD 720p', 'At\\xc3\\xa9 o \\xc3\\x9altimo Homem Legendado HD 720p', 'Arbor Demon Legendado HD 720p', 'Esquadr\\xc3\\xa3o de Elite Dublado Full HD 1080p', 'Ouija Origem do Mal Dublado Full HD 1080p', 'As Muitas Mulheres da Minha Vida Dublado HD 720p', 'Um Novo Desafio para Callan e sua Equipe Dublado Full HD 1080p', 'Terror Herdado Dublado DVDrip', 'Officer Downe Legendado HD', 'N\\xc3\\xa3o Bata Duas Vezes Legendado HD', 'Eu, Daniel Blake Legendado HD', 'Sangue Pela Gl\\xc3\\xb3ria Legendado', 'Quase 18 Legendado HD 720p', 'As Aventuras de Robinson Cruso\\xc3\\xa9 Dublado Full HD 1080p', 'Indigna\\xc3\\xa7\\xc3\\xa3o Dublado HD 720p']\n</code></pre>\n"}, {"tags": ["python", "qt"], "comments": [{"owner": {"reputation": 2002, "user_id": 2763000, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5ea0af3a37d8989110a8fb4c656efb2?s=128&d=identicon&r=PG&f=1", "display_name": "goug", "link": "https://stackoverflow.com/users/2763000/goug"}, "edited": false, "score": 0, "creation_date": 1486594761, "post_id": 42124824, "comment_id": 71418555, "body": "What&#39;s your question?"}, {"owner": {"reputation": 31, "user_id": 6800378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7P35N.jpg?s=128&g=1", "display_name": "Athon", "link": "https://stackoverflow.com/users/6800378/athon"}, "reply_to_user": {"reputation": 2002, "user_id": 2763000, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5ea0af3a37d8989110a8fb4c656efb2?s=128&d=identicon&r=PG&f=1", "display_name": "goug", "link": "https://stackoverflow.com/users/2763000/goug"}, "edited": false, "score": 0, "creation_date": 1486621716, "post_id": 42124824, "comment_id": 71426474, "body": "How can i reset all labels and regenerate all random numbers with a button?"}, {"owner": {"reputation": 1391, "user_id": 1119602, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/T0o2K.jpg?s=128&g=1", "display_name": "Winand", "link": "https://stackoverflow.com/users/1119602/winand"}, "edited": false, "score": 0, "creation_date": 1534074713, "post_id": 42124824, "comment_id": 90572096, "body": "You just connect your button to a function which sets new values to all widgets like this: <code>self.ln1.setText(str(randint(2,9)))</code>"}], "owner": {"reputation": 31, "user_id": 6800378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7P35N.jpg?s=128&g=1", "display_name": "Athon", "link": "https://stackoverflow.com/users/6800378/athon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486592865, "creation_date": 1486592865, "question_id": 42124824, "link": "https://stackoverflow.com/questions/42124824/python-qt-refresh-all-widgets", "title": "Python QT - Refresh all widgets", "body": "<p>I have a simple python QT multiplication program. There are 3 fields, first  random number(read only), second random number(read only) and third line edit for user to input result. If first * second = result then show Right Label, else show Wrong Label. I would like to replace exit button with play again button, so when the user press it, to regenerate random numbers and clear all result labels and user try again.</p>\n\n<pre>\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_Form(object):\n    def setupUi(self, Form):\n        Form.setObjectName(_fromUtf8(\"Form\"))\n        Form.resize(650, 644)\n        self.label_71 = QtGui.QLabel(Form)\n        self.label_71.setGeometry(QtCore.QRect(70, 20, 481, 41))\n        font = QtGui.QFont()\n        font.setFamily(_fromUtf8(\"Andika\"))\n        font.setPointSize(26)\n        self.label_71.setFont(font)\n        self.label_71.setObjectName(_fromUtf8(\"label_71\"))\n        self.layoutWidget = QtGui.QWidget(Form)\n        self.layoutWidget.setGeometry(QtCore.QRect(200, 570, 221, 29))\n        self.layoutWidget.setObjectName(_fromUtf8(\"layoutWidget\"))\n        self.horizontalLayout_51 = QtGui.QHBoxLayout(self.layoutWidget)\n        self.horizontalLayout_51.setMargin(0)\n        self.horizontalLayout_51.setObjectName(_fromUtf8(\"horizontalLayout_51\"))\n        self.pushButton_2 = QtGui.QPushButton(self.layoutWidget)\n        self.pushButton_2.setObjectName(_fromUtf8(\"pushButton_2\"))\n        self.pushButton_2.clicked.connect(self.exit_)\n        self.horizontalLayout_51.addWidget(self.pushButton_2)\n        self.pushButton = QtGui.QPushButton(self.layoutWidget)\n        font = QtGui.QFont()\n        font.setBold(True)\n        font.setWeight(75)\n        self.pushButton.setFont(font)\n        self.pushButton.setObjectName(_fromUtf8(\"pushButton\"))\n        self.pushButton.clicked.connect(self.praxis)\n        self.horizontalLayout_51.addWidget(self.pushButton)\n\n        ###  Line Edit 1 - 2 ###\n        self.count = 124\n        self.list_x1 = []\n        self.list_y1 = []\n        for i in range(10):\n            self.x1 = randint(2,9)\n            self.list_x1.append(self.x1)\n            self.ln1 = \"self.lineEdit1_\" + str(i)\n            self.ln1 = QtGui.QLineEdit(Form)\n            self.ln1.setText(str(self.x1))\n            self.ln1.setReadOnly(True)\n            self.ln1.setGeometry(QtCore.QRect(74, self.count, 40, 26))\n            self.ln1.setAlignment(QtCore.Qt.AlignCenter)\n            self.ln1.setObjectName(_fromUtf8(\"lineEdit\"))\n\n            self.y1 = randint(2,9)\n            self.list_y1.append(self.y1)\n            self.ln2 = \"self.lineEdit2_\" + str(i)\n            self.ln2 = QtGui.QLineEdit(Form)\n            self.ln2.setText(str(self.y1))\n            self.ln2.setReadOnly(True)\n            self.ln2.setGeometry(QtCore.QRect(140, self.count, 40, 26))\n            self.ln2.setAlignment(QtCore.Qt.AlignCenter)\n            self.ln2.setObjectName(_fromUtf8(\"lineEdit_2\"))\n\n            self.count += 35\n\n        #\u0395\u03b9\u03c3\u03b1\u03b3\u03c9\u03b3\u03ae 1\u03b7\u03c2 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2    \n        self.count = 124\n        self.ln3_value = []\n        for i in range(10):\n            self.ln3 = \"self.lineEdit3_\" + str(i)\n            self.ln3_value.append(self.ln3)\n            self.ln3_value[i] = QtGui.QLineEdit(Form)\n            self.ln3_value[i].setGeometry(QtCore.QRect(206, self.count, 40, 26))\n            self.ln3_value[i].setAlignment(QtCore.Qt.AlignCenter)\n            self.ln3_value[i].setObjectName(_fromUtf8(\"lineEdit_3\"))\n            self.count += 35\n\n        ###  Line Edit 3- 4 ###\n        self.count = 124\n        self.list_x2 = []\n        self.list_y2 = []\n        for i in range(10):\n            self.x2 = randint(2,9)\n            self.list_x2.append(self.x2)\n            self.ln4 = \"self.lineEdit4_\" + str(i)\n            self.ln4 = QtGui.QLineEdit(Form)\n            self.ln4.setText(str(self.x2))\n            self.ln4.setReadOnly(True)\n            self.ln4.setGeometry(QtCore.QRect(348, self.count, 40, 26))\n            self.ln4.setAlignment(QtCore.Qt.AlignCenter)\n            self.ln4.setObjectName(_fromUtf8(\"lineEdit_4\"))\n\n            self.y2 = randint(2,9)\n            self.list_y2.append(self.y2)\n            self.ln5 = \"self.lineEdit5_\" + str(i)\n            self.ln5 = QtGui.QLineEdit(Form)\n            self.ln5.setText(str(self.y2))\n            self.ln5.setReadOnly(True)\n            self.ln5.setGeometry(QtCore.QRect(414, self.count, 40, 26))\n            self.ln5.setAlignment(QtCore.Qt.AlignCenter)\n            self.ln5.setObjectName(_fromUtf8(\"lineEdit_5\"))\n            self.count += 35\n\n        #\u0395\u03b9\u03c3\u03b1\u03b3\u03c9\u03b3\u03ae 2\u03b7\u03c2 \u03c3\u03c4\u03ae\u03bb\u03b7\u03c2\n        self.count = 124\n        self.ln6_value = []\n        for i in range(10):\n            self.ln6 = \"self.lineEdit5_\" + str(i)\n            self.ln6_value.append(self.ln3)\n            self.ln6_value[i] = QtGui.QLineEdit(Form)\n            self.ln6_value[i].setGeometry(QtCore.QRect(480, self.count, 40, 26))\n            self.ln6_value[i].setAlignment(QtCore.Qt.AlignCenter)\n            self.ln6_value[i].setObjectName(_fromUtf8(\"lineEdit_6\"))\n            self.count += 35\n        ###   / Line Edit 1 - 4 ###\n\n\n        ###   Labels 1 - 6 ###\n        self.lbl1_count = 119\n        for i in range(10):\n            self.lbl_1 = \"self.label1_\" + str(i)\n            self.lbl_1 = QtGui.QLabel(Form)\n            self.lbl_1.setGeometry(QtCore.QRect(120, self.lbl1_count, 14, 34))\n            self.lbl_1.setText(_translate(\"Form\", \"X\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(16)\n            self.lbl_1.setFont(font)\n            self.lbl_1.setObjectName(_fromUtf8(\"label\"))\n            self.lbl1_count += 35\n\n        self.lbl2_count = 119\n        for i in range(10):\n            self.lbl_2 = \"self.label2_\" + str(i)\n            self.lbl_2 = QtGui.QLabel(Form)\n            self.lbl_2.setGeometry(QtCore.QRect(186, self.lbl2_count, 14, 34))\n            self.lbl_2.setText(_translate(\"Form\", \"=\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(16)\n            self.lbl_2.setFont(font)\n            self.lbl_2.setObjectName(_fromUtf8(\"label_2\"))\n            self.lbl2_count += 35\n\n        self.lbl3_list = []\n        self.lbl3_count = 119\n        for i in range(10):\n            self.lbl_3 = \"self.label3_\" + str(i)\n            self.lbl3_list.append(self.lbl_3)\n            self.lbl3_list[i] = QtGui.QLabel(Form)\n            self.lbl3_list[i].setGeometry(QtCore.QRect(252, self.lbl3_count, 80, 34))\n            self.lbl3_list[i].setText(_translate(\"Form\", \"?\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(14)\n            self.lbl3_list[i].setFont(font)\n            self.lbl3_list[i].setObjectName(_fromUtf8(\"label_3\"))\n            self.lbl3_count += 35\n\n        self.lbl4_count = 119\n        for i in range(10):\n            self.lbl_4 = \"self.label2_\" + str(i)\n            self.lbl_4 = QtGui.QLabel(Form)\n            self.lbl_4.setGeometry(QtCore.QRect(394, self.lbl4_count, 14, 34))\n            self.lbl_4.setText(_translate(\"Form\", \"X\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(16)\n            self.lbl_4.setFont(font)\n            self.lbl_4.setObjectName(_fromUtf8(\"label_2\"))\n            self.lbl4_count += 35\n\n        self.lbl5_count = 119\n        for i in range(10):\n            self.lbl_5 = \"self.label5_\" + str(i)\n            self.lbl_5 = QtGui.QLabel(Form)\n            self.lbl_5.setGeometry(QtCore.QRect(460, self.lbl5_count, 14, 34))\n            self.lbl_5.setText(_translate(\"Form\", \"=\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(16)\n            self.lbl_5.setFont(font)\n            self.lbl_5.setObjectName(_fromUtf8(\"label_5\"))\n            self.lbl5_count += 35\n\n        self.lbl6_list = []\n        self.lbl6_count = 119\n        for i in range(10):\n            self.lbl_6 = \"self.label6_\" + str(i)\n            self.lbl6_list.append(self.lbl_6)\n            self.lbl6_list[i] = QtGui.QLabel(Form)\n            self.lbl6_list[i].setGeometry(QtCore.QRect(526, self.lbl6_count, 80, 34))\n            self.lbl6_list[i].setText(_translate(\"Form\", \"?\", None))\n            font = QtGui.QFont()\n            font.setFamily(_fromUtf8(\"Andika\"))\n            font.setPointSize(14)\n            self.lbl6_list[i].setFont(font)\n            self.lbl6_list[i].setObjectName(_fromUtf8(\"label_6\"))\n            self.lbl6_count += 35\n\n        ###   / Labels 1 - 6 ###\n\n        self.retranslateUi(Form)\n        QtCore.QMetaObject.connectSlotsByName(Form)\n\n    def retranslateUi(self, Form):\n        Form.setWindowTitle(_translate(\"Form\", \"Multiplication\", None))\n        self.label_71.setText(_translate(\"Form\", \"Multiplication\", None))\n        self.pushButton_2.setText(_translate(\"Form\", \"Exit\", None))\n        self.pushButton.setText(_translate(\"Form\", \"Check\", None))\n\n    def praxis(self):\n        self.lbl3_count = 119\n        for i in range(10):\n            self.val = self.ln3_value[i]\n            self.val2 = self.ln6_value[i]\n\n            self.get_val = self.val.text()\n            self.get_val2 = self.val2.text()\n\n            self.get_val_str = str(self.get_val)\n            self.get_val2_str = str(self.get_val2)\n\n\n            self.summary = self.list_y1[i] * self.list_x1[i]\n            self.summary2 = self.list_y2[i] * self.list_x2[i]\n\n            self.summary_int = str(self.summary)\n            self.summary_int2 = str(self.summary2)\n\n            if self.summary_int == self.get_val_str:\n                self.lbl3_list[i].setText(_translate(\"Form\", \"\u03a3\u03c9\u03c3\u03c4\u03cc!\", None))\n                self.lbl3_list[i].setStyleSheet('color: green')\n\n            else:\n                self.lbl3_list[i].setText(_translate(\"Form\", \"\u039b\u03ac\u03b8\u03bf\u03c2!\", None))\n                self.lbl3_list[i].setStyleSheet('color: red')\n\n            if self.summary_int2 == self.get_val2_str:\n                self.lbl6_list[i].setText(_translate(\"Form\", \"\u03a3\u03c9\u03c3\u03c4\u03cc!\", None))\n                self.lbl6_list[i].setStyleSheet('color: green')\n\n            else:\n                self.lbl6_list[i].setText(_translate(\"Form\", \"\u039b\u03ac\u03b8\u03bf\u03c2!\", None))\n                self.lbl6_list[i].setStyleSheet('color: red')\n\n    def exit_(self):\n        import sys\n        sys.exit()\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    Form = QtGui.QWidget()\n    ui = Ui_Form()\n    ui.setupUi(Form)\n    Form.show()\n    sys.exit(app.exec_())\n</pre>\n"}, {"tags": ["android", "python", "adb", "apk", "monkeyrunner"], "answers": [{"comments": [{"owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "reply_to_user": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 1, "creation_date": 1486677461, "post_id": 42128524, "comment_id": 71461730, "body": "Great. There are much more things that AndroidViewClient/culebra can do <a href=\"http://dtmilano.blogspot.com/2015/12/androidviewclientculebra-vs-monkeyrunner.html\" rel=\"nofollow noreferrer\">compared to monkeyrunner</a> , like supporting <a href=\"http://dtmilano.blogspot.com/2015/05/android-culebra-multi-device.html\" rel=\"nofollow noreferrer\">multi device tests</a>, generating tests using GUI, <a href=\"http://dtmilano.blogspot.com/2015/08/culebra-concertina-mode.html\" rel=\"nofollow noreferrer\">concertina</a> and <a href=\"http://dtmilano.blogspot.com/2015/04/android-obtaining-beautiful-screenshots.html\" rel=\"nofollow noreferrer\">decorating screenshots</a> among others."}, {"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 0, "creation_date": 1486686725, "post_id": 42128524, "comment_id": 71465317, "body": "I am beginning to try that. Could you please take a look at <a href=\"http://stackoverflow.com/questions/42149499/pressing-buttons-by-text-on-android-app-using-culebra\" title=\"pressing buttons by text on android app using culebra\">stackoverflow.com/questions/42149499/&hellip;</a> when you get a chance."}], "tags": [], "owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "is_accepted": true, "score": 1, "last_activity_date": 1486616030, "creation_date": 1486616030, "answer_id": 42128524, "question_id": 42124803, "link": "https://stackoverflow.com/questions/42124803/monkeyrunner-on-ubuntu-16-04-to-install-android-apk-file/42128524#42128524", "title": "Monkeyrunner on Ubuntu 16.04 to install android apk file", "body": "<p>You can use <a href=\"https://github.com/dtmilano/AndroidViewClient\" rel=\"nofollow noreferrer\">AndroidViewClient/culebra</a> and with only a few changes on your original <code>monkeyrunner</code> script, you can get it running.</p>\n\n<p>The base script was generated by <a href=\"https://github.com/dtmilano/AndroidViewClient/wiki/culebra\" rel=\"nofollow noreferrer\">culebra</a> which is always a good starting point.</p>\n\n<pre><code>#! /usr/bin/env python\n# -*- coding: utf-8 -*-\n'''\nCopyright (C) 2013-2016  Diego Torres Milano\nCreated on 2017-02-08 by Culebra v12.5.3\n                      __    __    __    __\n                     /  \\  /  \\  /  \\  /  \\ \n____________________/  __\\/  __\\/  __\\/  __\\_____________________________\n___________________/  /__/  /__/  /__/  /________________________________\n                   | / \\   / \\   / \\   / \\   \\___\n                   |/   \\_/   \\_/   \\_/   \\    o \\ \n                                           \\_____/--&lt;\n@author: Diego Torres Milano\n@author: Jennifer E. Swofford (ascii art snake)\n'''\n\n\nimport re\nimport sys\nimport os\n\n\nfrom com.dtmilano.android.viewclient import ViewClient\nfrom com.dtmilano.android.adb.adbclient import DOWN_AND_UP\n\nkwargs1 = {'ignoreversioncheck': False, 'verbose': False, 'ignoresecuredevice': False}\ndevice, serialno = ViewClient.connectToDeviceOrExit(**kwargs1)\nkwargs2 = {'forceviewserveruse': False, 'useuiautomatorhelper': False, 'ignoreuiautomatorkilled': True, 'autodump': False, 'startviewserver': True, 'compresseddump': True}\nvc = ViewClient(device, serialno, **kwargs2)\n\n# Installs the Android package. Notice that this method returns a boolean, so you can test\n# to see if the installation worked.\nvc.installPackage('myproject/bin/MyApplication.apk')\n\n# sets a variable with the package's internal name\npackage = 'com.example.android.myapplication'\n\n# sets a variable with the name of an Activity in the package\nactivity = 'com.example.android.myapplication.MainActivity'\n\n# sets the name of the component to start\nrunComponent = package + '/' + activity\n\n# Runs the component\ndevice.startActivity(component=runComponent)\n\n# Presses the Menu button\ndevice.press('KEYCODE_MENU', DOWN_AND_UP)\n\n# Writes the screenshot to a file (you can use a plain filename or use these placeholders)\nvc.writeImageToFile('/tmp/${serialno}-${focusedwindowname}-${timestamp}.png', 'PNG')\n</code></pre>\n"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 0, "accepted_answer_id": 42128524, "answer_count": 1, "score": 0, "last_activity_date": 1486616030, "creation_date": 1486592786, "last_edit_date": 1486593159, "question_id": 42124803, "link": "https://stackoverflow.com/questions/42124803/monkeyrunner-on-ubuntu-16-04-to-install-android-apk-file", "title": "Monkeyrunner on Ubuntu 16.04 to install android apk file", "body": "<p>I have installed <code>Android SDK</code> on Ubuntu 16.04 which runs on Virtual Box on my laptop. I have a Samsung Galaxy Tab connected to the laptop. The device is accessible to the Virtual Machine. I try to install my android app (<code>apk file</code>)\nusing monkeyrunner.</p>\n\n<p>The python script that I use is below</p>\n\n<pre><code># Imports the monkeyrunner modules used by this program\nfrom com.android.monkeyrunner import MonkeyRunner, MonkeyDevice\n\n# Connects to the current device, returning a MonkeyDevice object\ndevice = MonkeyRunner.waitForConnection()\n\n# Installs the Android package. Notice that this method returns a boolean, so you can test\n# to see if the installation worked.\ndevice.installPackage('myproject/bin/MyApplication.apk')\n\n# sets a variable with the package's internal name\npackage = 'com.example.android.myapplication'\n\n# sets a variable with the name of an Activity in the package\nactivity = 'com.example.android.myapplication.MainActivity'\n\n# sets the name of the component to start\nrunComponent = package + '/' + activity\n\n# Runs the component\ndevice.startActivity(component=runComponent)\n\n# Presses the Menu button\ndevice.press('KEYCODE_MENU', MonkeyDevice.DOWN_AND_UP)\n\n# Takes a screenshot\nresult = device.takeSnapshot()\n\n# Writes the screenshot to a file\nresult.writeToFile('myproject/shot1.png','png')\n</code></pre>\n\n<p>I run the script as </p>\n\n<pre><code>monkeyrunner -v ALL ~/Workspace/monkey_runner_sample.py\n</code></pre>\n\n<p>I get the following output and nothing happens. The program sort of hangs.</p>\n\n<pre><code>170209 11:19:27.878:I [main] [com.android.chimpchat.ChimpManager] Monkey Command: wake.\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] Error starting command: monkey --port 12345\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]com.android.ddmlib.TimeoutException\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.read(AdbHelper.java:766)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.read(AdbHelper.java:735)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.readAdbResponse(AdbHelper.java:221)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:455)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:381)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:352)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.ddmlib.Device.executeShellCommand(Device.java:604)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at com.android.chimpchat.adb.AdbChimpDevice$1.run(AdbChimpDevice.java:105)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n170209 11:19:31.146:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]  at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>The application <code>MyApplication</code> is not getting installed on the tablet. </p>\n\n<p>The errors are given below</p>\n\n<pre><code>170209 11:27:07.692:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice] Error starting command: monkey --port 12345\n170209 11:27:07.692:S [pool-1-thread-1] [com.android.chimpchat.adb.AdbChimpDevice]com.android.ddmlib.TimeoutException\n</code></pre>\n\n<p>Could anyone help me figure out what is happening ?</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1486593313, "post_id": 42124782, "comment_id": 71417928, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/477486/python-decimal-range-step-value\">Python decimal range() step value</a>"}, {"owner": {"reputation": 998, "user_id": 6901471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10209792900234575/picture?type=large", "display_name": "kbunarjo", "link": "https://stackoverflow.com/users/6901471/kbunarjo"}, "edited": false, "score": 0, "creation_date": 1486593346, "post_id": 42124782, "comment_id": 71417944, "body": "You can use Numpy, and there is a function that creates lists like what you&#39;re trying to do. <code>numpy.linspace(-radius, radius, radius * radius)</code>"}, {"owner": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "edited": false, "score": 0, "creation_date": 1486593620, "post_id": 42124782, "comment_id": 71418046, "body": "The equation of a circle should be <code>sqrt(radius * radius - x * x)</code> (square-root instead of <code>int</code>), assuming iteration variable is <code>x</code>.  This will give the upper part of the circle."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1486593633, "post_id": 42124782, "comment_id": 71418055, "body": "... the numpy solution is included in the duplicate question."}, {"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "reply_to_user": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "edited": false, "score": 0, "creation_date": 1486594105, "post_id": 42124782, "comment_id": 71418249, "body": "@SciProg yeah, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1486593574, "post_id": 42124955, "comment_id": 71418022, "body": "<code>range()</code> requires an integer step size."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1486593603, "post_id": 42124955, "comment_id": 71418038, "body": "OP specifically asked for a solution that uses a fractional step, which <b>range</b> doesn&#39;t allow.  Your example provides a step value of 0."}], "tags": [], "owner": {"reputation": 151, "user_id": 7537152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c886e283d05193d91e429c74f9da658?s=128&d=identicon&r=PG&f=1", "display_name": "Nirmal Dey", "link": "https://stackoverflow.com/users/7537152/nirmal-dey"}, "is_accepted": false, "score": -1, "last_activity_date": 1486593385, "creation_date": 1486593385, "answer_id": 42124955, "question_id": 42124782, "link": "https://stackoverflow.com/questions/42124782/loop-through-a-range-in-x-steps/42124955#42124955", "title": "Loop through a range in x steps?", "body": "<p>range function takes three parameters start , stop and step (third argument is optional) . <code>range(-4,4,0.5)</code> will solve your problem. \nso let's assume -x is start and x is stop.</p>\n\n<pre><code>step =  int(x/16);\nrange(-x, x, step);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486595546, "post_id": 42125024, "comment_id": 71418865, "body": "Thanks! This one worked but please note, that the solution from another use (sadly he deleted his post again...)  is a bit faster: <code>range_steps = (num * 2) &#47; float(steps) #calculate the increment value to get you your step count (LINEBREAK)   return list(np.arange(num * -1, num , range_steps))</code>"}, {"owner": {"reputation": 597, "user_id": 7411135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a99739e97064b945e536ce14bea268?s=128&d=identicon&r=PG&f=1", "display_name": "yogabonito", "link": "https://stackoverflow.com/users/7411135/yogabonito"}, "reply_to_user": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486596147, "post_id": 42125024, "comment_id": 71419071, "body": "@Niklas the code in your comment produces a list which contains the 0 in the middle of it. And it does not include the last value of the list in my example. So the code in your comment produces something different than what you defined as the desired result."}, {"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486596579, "post_id": 42125024, "comment_id": 71419218, "body": "yeah, I saw that in the same moment... I mean the problem with the 0 is easy to fix, because you can delete it afterwards and the algorithm would still be faster, but the problem with the last value isn&#39;t that easy to fix I think"}, {"owner": {"reputation": 597, "user_id": 7411135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a99739e97064b945e536ce14bea268?s=128&d=identicon&r=PG&f=1", "display_name": "yogabonito", "link": "https://stackoverflow.com/users/7411135/yogabonito"}, "reply_to_user": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486598255, "post_id": 42125024, "comment_id": 71419829, "body": "You are right about the 0. But I really recommend to use <code>linspace</code> instead of <code>arange</code> when dealing with steps of type float.   Try out <code>np.arange(0, 1.1, 0.1)</code> and <code>np.arange(0.5, 1.1, 0.1)</code>, compare their last values and ... surprise! They are different! (This example is adapted from <a href=\"http://quantumwise.com/forum/index.php?topic=110.0\" rel=\"nofollow noreferrer\">this page</a>.)"}, {"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486598550, "post_id": 42125024, "comment_id": 71419933, "body": "Yeah, you&#39;re right! But take a look at @f5r5e5d&#39;s solution! This one needs nothing and works the same I think, doesn&#39;t it? (if you round the result its nearly the same)"}, {"owner": {"reputation": 597, "user_id": 7411135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a99739e97064b945e536ce14bea268?s=128&d=identicon&r=PG&f=1", "display_name": "yogabonito", "link": "https://stackoverflow.com/users/7411135/yogabonito"}, "reply_to_user": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486599263, "post_id": 42125024, "comment_id": 71420169, "body": "Well, both contain 0. In his first solution you have to consider to use <code>n=17</code> instead of <code>n=16</code>. And his second solution didn&#39;t produce the last value in the list when I tried it out. So with a little tweaking you could also use @f5r5e5d&#39;s version. I would choose the one I find more readable :)"}, {"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486642693, "post_id": 42125024, "comment_id": 71439104, "body": "for me @f5r5e5d&#39;s solution produces the last value and don&#39;t contain 0 but I think, that I choose ur solution! :D"}], "tags": [], "owner": {"reputation": 597, "user_id": 7411135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a99739e97064b945e536ce14bea268?s=128&d=identicon&r=PG&f=1", "display_name": "yogabonito", "link": "https://stackoverflow.com/users/7411135/yogabonito"}, "is_accepted": true, "score": 1, "last_activity_date": 1486630225, "last_edit_date": 1486630225, "creation_date": 1486593662, "answer_id": 42125024, "question_id": 42124782, "link": "https://stackoverflow.com/questions/42124782/loop-through-a-range-in-x-steps/42125024#42125024", "title": "Loop through a range in x steps?", "body": "<p><strong>Solution 1.1:</strong></p>\n\n<p>You can use the <code>linspace</code>-function and then pick those values which are not 0. This is done by the <code>my_range</code>-function in the following code:</p>\n\n<pre><code>import numpy as np\n\ndef my_range(radius, steps):\n    ran = np.linspace(-radius, radius, steps+1)\n    return ran[np.nonzero(ran)]\n</code></pre>\n\n<p>Now,</p>\n\n<pre><code>[i for i in my_range(4, 16)]\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>[-4.0, -3.5, -3.0, -2.5, -2.0, -1.5, -1.0, -0.5, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0]\n</code></pre>\n\n<hr>\n\n<p><strong>Solution 1.2:</strong></p>\n\n<p>Alternatively,</p>\n\n<pre><code>list(my_range(4, 16))\n</code></pre>\n\n<p>produces the same list.</p>\n\n<hr>\n\n<p><strong>Solution 2:</strong></p>\n\n<p>If you don't want to define a function, here is a concise way to achieve the same thing:</p>\n\n<pre><code>[i for i in np.linspace(-4, 4, 16+1) if i != 0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 0, "creation_date": 1486595298, "post_id": 42125163, "comment_id": 71418788, "body": "Thanks! This solution works, but please keep in mind, that this is really slow in comparision to @yogabonito&#39;s method! :)"}, {"owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "edited": false, "score": 2, "creation_date": 1486595342, "post_id": 42125163, "comment_id": 71418794, "body": "By really slow I mean: For 9999 calculations yours need 17 secs and yogabonito&#39;s need 0,05 :D"}], "tags": [], "owner": {"reputation": 24193, "user_id": 5811078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NlknE.png?s=128&g=1", "display_name": "zipa", "link": "https://stackoverflow.com/users/5811078/zipa"}, "is_accepted": false, "score": 0, "last_activity_date": 1486594326, "creation_date": 1486594326, "answer_id": 42125163, "question_id": 42124782, "link": "https://stackoverflow.com/questions/42124782/loop-through-a-range-in-x-steps/42125163#42125163", "title": "Loop through a range in x steps?", "body": "<p>Hope you like this solution, <code>__future__</code> import is for python 2.x:</p>\n\n<pre><code>from __future__ import division\nr = 4\nresult = [-a/2 for a in xrange(1, r*2+1)][::-1] + [a/2 for a in xrange(1, r*2+1)]\nprint result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "is_accepted": false, "score": 0, "last_activity_date": 1486594624, "creation_date": 1486594624, "answer_id": 42125223, "question_id": 42124782, "link": "https://stackoverflow.com/questions/42124782/loop-through-a-range-in-x-steps/42125223#42125223", "title": "Loop through a range in x steps?", "body": "<p>it looks like you want +/- limits equal magnitude</p>\n\n<p>you then have the choice of include the endpoint in the range, and if that then makes you want to get n + 1 points</p>\n\n<p>pure python, no imports:</p>\n\n<pre><code>lim, n = 3, 10\n\n[-lim + i * 2 * lim / (n - 1) for i in range(n)]\nOut[27]: \n[-3.0,\n -2.3333333333333335,\n -1.6666666666666667,\n -1.0,\n -0.3333333333333335,\n 0.3333333333333335,\n 1.0,\n 1.666666666666667,\n 2.333333333333333,\n 3.0]\n</code></pre>\n\n<p>or       </p>\n\n<pre><code>[-lim + i * 2 * lim / n for i in range( n + 1)]\nOut[28]: \n[-3.0,\n -2.4,\n -1.8,\n -1.2,\n -0.6000000000000001,\n 0.0,\n 0.6000000000000001,\n 1.2000000000000002,\n 1.7999999999999998,\n 2.4000000000000004,\n 3.0]\n</code></pre>\n\n<p>changing the list comprehension sq brackets to round makes a generator that could be used in place of range()</p>\n"}], "owner": {"reputation": 131, "user_id": 6116010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9d301756825d864eb9806dc964132?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/6116010/niklas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "accepted_answer_id": 42125024, "answer_count": 4, "score": 2, "last_activity_date": 1486630225, "creation_date": 1486592666, "last_edit_date": 1486594092, "question_id": 42124782, "link": "https://stackoverflow.com/questions/42124782/loop-through-a-range-in-x-steps", "title": "Loop through a range in x steps?", "body": "<p>I have the radius of a circle and the equation <code>y = int(math.sqrt(pow(radius, 2)-pow(i,2)))</code> (Pythagoras).<br>\nNow I want to loop over the range <code>range(-radius,0) + range(1, radius+1)</code> within a multiple of 16 steps like this:</p>\n\n<p><code>radius = 4</code><br>\n<code>Actually output: -4, -3, -2, 1, 1, 2, 3, 4</code><br>\n<code>What I want: -4, -3.5, -3, -2.5, -2, -1.5, -1, -0.5, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4</code></p>\n\n<p>And I found out, that you can't change the step-size of for-loops easily but I found a way:</p>\n\n<pre><code>print(\"Length: \", len([x/2 for x in chain(range(-2*radius, 0), range(1,2*radius+1))]))\nprint(\"Values: \", [x/2 for x in chain(range(-2*radius, 0), range(1,2*radius+1))])\n</code></pre>\n\n<p>Which returns <code>16</code> and the wanted \"count\", as I mentioned above.</p>\n\n<p>Now <em>my question is</em>: How can I automate this? Because that it works with 4 is just a \"coincidence\" and with e.g. <code>radius = 5</code> it won't work like this. So is there a solution that I can loop through a range in x steps?</p>\n"}, {"tags": ["python", "python-3.x", "types", "type-hinting"], "comments": [{"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1486593522, "post_id": 42124771, "comment_id": 71418006, "body": "You mean like: <code>def decltype(function): return function.__annotations__[&#39;return&#39;]</code> ? :)"}, {"owner": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1486593658, "post_id": 42124771, "comment_id": 71418064, "body": "@cowbert Yes, I just added a similar example :) Actually, I am confused that there is no function for this kind of things, and I wonder whether is something wrong with this attitude."}], "answers": [{"comments": [{"owner": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "edited": false, "score": 0, "creation_date": 1486594087, "post_id": 42125076, "comment_id": 71418244, "body": "Thanks for mentioning get_type_hints! I will add this to the question text"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "reply_to_user": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "edited": false, "score": 0, "creation_date": 1486594437, "post_id": 42125076, "comment_id": 71418390, "body": "@ig-melnyk note that with <code>get_type_hints</code> this really becomes a one-liner if you really want it to :-)"}, {"owner": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "edited": false, "score": 0, "creation_date": 1486594437, "post_id": 42125076, "comment_id": 71418391, "body": "Perhaps we should still check for AttributeError in case it wont be Callable?"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "reply_to_user": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "edited": false, "score": 0, "creation_date": 1486594492, "post_id": 42125076, "comment_id": 71418421, "body": "@ig-melnyk Oh, of course, if something other than a function (in <code>3.5</code>) and other than function, class, module (in <code>3.6+</code>) might be passed in you&#39;d need to do that, I wasn&#39;t aware that was the case."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1486600196, "post_id": 42125076, "comment_id": 71420430, "body": "This seems like it wouldn&#39;t play well with current static analysis tools."}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 8, "last_activity_date": 1486635710, "last_edit_date": 1486635710, "creation_date": 1486593892, "answer_id": 42125076, "question_id": 42124771, "link": "https://stackoverflow.com/questions/42124771/how-to-annotate-python-function-using-return-type-of-another-function/42125076#42125076", "title": "How to annotate Python function using return type of another function?", "body": "<p>Nothing like that <em>currently</em> exists and no issue on <a href=\"https://github.com/python/typing/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20is%3Aopen\" rel=\"nofollow noreferrer\">the tracker for typing</a> seem to indicate that it is planned. You're always welcome to create an issue and see how this is welcomed.</p>\n\n<p>Currently your approach does the trick (that is assigns a type), the only change I'd introduce would be to use <a href=\"https://docs.python.org/3/library/typing.html#typing.get_type_hints\" rel=\"nofollow noreferrer\"><code>get_type_hints</code></a> from <code>typing</code> rather than grabbing the <code>__annotations__</code> attribute directly. Coupled with <code>.get</code> (since it returns a dict), could make this shorter, too:</p>\n\n<pre><code>def return_type(f):\n    return get_type_hints(f).get('return', Any)\n\ndef g() -&gt; return_type(f):\n</code></pre>\n\n<p>Which can of course be removed from the function and used in a single line if you're so inclined.</p>\n\n<p>If the possibility of random objects being supplied to <code>return_type</code> exits, you'll need to catch the <code>TypeError</code> it raises and return your default <code>Any</code>:</p>\n\n<pre><code>def return_type(f):\n    try:\n        return get_type_hints(f).get('return', Any)\n    except TypeError:\n        return Any\n</code></pre>\n\n<p>Of course since this assigns a type dynamically you can't expect static type checkers to catch it, you need static hinting for that.</p>\n"}], "owner": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1744, "favorite_count": 1, "accepted_answer_id": 42125076, "answer_count": 1, "score": 7, "last_activity_date": 1486635710, "creation_date": 1486592626, "last_edit_date": 1486594660, "question_id": 42124771, "link": "https://stackoverflow.com/questions/42124771/how-to-annotate-python-function-using-return-type-of-another-function", "title": "How to annotate Python function using return type of another function?", "body": "<p>I am looking for some analogue of <strong>decltype</strong> in C++. What I am trying to accomplish is the following: </p>\n\n<pre><code>def f(a: int) -&gt; List[Tuple(int, float)]\ndef g(a: List[int]) -&gt; List[decltype(f)]\n</code></pre>\n\n<p>So the idea is to use type annotation of another function. \nThe solution I found looks somehow clumsy:</p>\n\n<pre><code>def g(a: List[int])-&gt;f.__annotations__['return']\n</code></pre>\n\n<p>Basically, the question is whether there exists something like <strong>decltype</strong> (perhaps it should be called \"return_type\") or whether it's planned in further versions. I have also written a small function that illustrates possible use of this functionality:</p>\n\n<pre><code>def return_type(f: Callable):\n   try:\n       return get_type_hints(f)['return']\n   except(KeyError, AttributeError):\n       return Any\ndef g() -&gt; return_type(f):\n</code></pre>\n\n<p><strong>UPD</strong> As was suggested by Jim Fasarakis-Hilliard we can also use <strong>get_type_hints</strong> instead of <strong>annotations</strong></p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 2, "creation_date": 1486592495, "post_id": 42124709, "comment_id": 71417550, "body": "What is your Pandas version?"}, {"owner": {"reputation": 1, "user_id": 7537102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3433f009c6fa7ebebfd14d75265a5c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Loxias", "link": "https://stackoverflow.com/users/7537102/loxias"}, "edited": false, "score": 0, "creation_date": 1486592805, "post_id": 42124709, "comment_id": 71417679, "body": "pandas version is 0.18.1."}, {"owner": {"reputation": 1, "user_id": 7537102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3433f009c6fa7ebebfd14d75265a5c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Loxias", "link": "https://stackoverflow.com/users/7537102/loxias"}, "edited": false, "score": 0, "creation_date": 1486592826, "post_id": 42124709, "comment_id": 71417692, "body": "no, the entirety of my code is as given above"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1486592849, "post_id": 42124709, "comment_id": 71417702, "body": "I tested it on Anaconda 2 (Pandas 0.18.1) - it works just fine for me"}, {"owner": {"reputation": 1, "user_id": 7537102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3433f009c6fa7ebebfd14d75265a5c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Loxias", "link": "https://stackoverflow.com/users/7537102/loxias"}, "edited": false, "score": 0, "creation_date": 1486592984, "post_id": 42124709, "comment_id": 71417762, "body": "hmm, that&#39;s strange. I am using jupyter notebook in internet explorer."}, {"owner": {"reputation": 1, "user_id": 7537102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3433f009c6fa7ebebfd14d75265a5c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Loxias", "link": "https://stackoverflow.com/users/7537102/loxias"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1486593492, "post_id": 42124709, "comment_id": 71417992, "body": "Ok, so getting rid of the spaces for the following piece of code solved the issue: ordered = True and categories = ordered_satisfaction. Also got rid of the parentheses for the print call"}, {"owner": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 0, "creation_date": 1486595165, "post_id": 42124709, "comment_id": 71418722, "body": "If you solved your issue please post an answer or remove the question, but <i>don&#39;t</i> edit the question to have the working code."}], "owner": {"reputation": 1, "user_id": 7537102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3433f009c6fa7ebebfd14d75265a5c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Loxias", "link": "https://stackoverflow.com/users/7537102/loxias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486593455, "creation_date": 1486592361, "last_edit_date": 1486593358, "question_id": 42124709, "link": "https://stackoverflow.com/questions/42124709/dict-object-is-not-callable-error", "title": "&#39;dict&#39; object is not callable error", "body": "<pre><code>import pandas as pd\n\nordered_satisfaction = ['Very Unhappy', 'Unhappy', 'Neutral', 'Happy', 'Very Happy']\n\ndf = pd.DataFrame({'satisfaction': ['Mad', 'Happy', 'Unhappy', 'Neutral']})\n\ndf.satisfaction = df.satisfaction.astype('category', ordered=True, categories=ordered_satisfaction).cat.codes\n\nprint df\n</code></pre>\n\n<p>I get a <code>'dict' object is not callable</code> error for the above code. I am using python 2 (Anaconda). </p>\n"}, {"tags": ["python", "opencv", "image-processing", "3d"], "comments": [{"owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "edited": false, "score": 0, "creation_date": 1486641409, "post_id": 42124615, "comment_id": 71438248, "body": "Are focusing on detecting the box corners or the box+black corners?"}, {"owner": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "reply_to_user": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "edited": false, "score": 0, "creation_date": 1486645271, "post_id": 42124615, "comment_id": 71440887, "body": "Actually both.Black corners are reference corners and box corners are the main object corners."}, {"owner": {"reputation": 616, "user_id": 7473335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVqBS.png?s=128&g=1", "display_name": "NAmorim", "link": "https://stackoverflow.com/users/7473335/namorim"}, "edited": false, "score": 0, "creation_date": 1486646768, "post_id": 42124615, "comment_id": 71442030, "body": "It is not clear which corners are you focusing. Do you what to detect, the black corners or the box corners (which include 3 of the black corners). Because there are methods to find the contours of objects. Being your object, a box, it should be straightforward to find these contours and extract the corners."}, {"owner": {"reputation": 1743, "user_id": 2192832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2217d886c1805ab7398ffefb379ff71?s=128&d=identicon&r=PG", "display_name": "ivan_onys", "link": "https://stackoverflow.com/users/2192832/ivan-onys"}, "edited": false, "score": 0, "creation_date": 1486753653, "post_id": 42124615, "comment_id": 71498638, "body": "Please, provide original image, so one can experiment with it."}], "owner": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 877, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486591915, "creation_date": 1486591915, "question_id": 42124615, "link": "https://stackoverflow.com/questions/42124615/correctly-detect-corners-in-an-image-opencv-python", "title": "Correctly detect corners in an image opencv python", "body": "<p>I have the following image from which I am detecting the corners using the following code</p>\n\n<pre><code>import cv2\n\nimg = cv2.imread('image.jpg',cv2.IMREAD_COLOR)\n\ngray = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)\nbilateral = cv2.bilateralFilter(gray, 9, 75, 75)\ncanny = cv2.Canny(bilateral, 50, 150)\n\ncorners    = cv2.goodFeaturesToTrack(canny,15,0.06,25)\n\nfor i in range(len(corners)):\n    cv2.circle(img, (corners[i][0][0], corners[i][0][1]), 5, 255, -1)\n\ncv2.imshow('dilated', img)\ncv2.waitKey(0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mO0jp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mO0jp.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Not all corners are not correctly determined that is I was expecting that black corners should be determined as well as the box corners. Fortunately box corners are determined in this case but not all black corners are determined. How can I improve this result or even change my approach of getting the correct corners. Harris corners is not a good solution for this approach because I need one single point as corner but Harris corners approach return many close points as candidates for corners. Thanks in advance for your suggestions. </p>\n"}, {"tags": ["python", "python-2.7", "openerp", "odoo-10"], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 2379186, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/654e14ac892f059e9358618f767c61f3?s=128&d=identicon&r=PG", "display_name": "user2379186", "link": "https://stackoverflow.com/users/2379186/user2379186"}, "edited": false, "score": 0, "creation_date": 1486657470, "post_id": 42125008, "comment_id": 71449811, "body": "I updated my original question. I am getting a different error now ir.model.access.csv could not be processed: Still stopping on date_order = fields.Date.context_today(self))"}, {"owner": {"reputation": 421, "user_id": 2379186, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/654e14ac892f059e9358618f767c61f3?s=128&d=identicon&r=PG", "display_name": "user2379186", "link": "https://stackoverflow.com/users/2379186/user2379186"}, "edited": false, "score": 0, "creation_date": 1487002421, "post_id": 42125008, "comment_id": 71578296, "body": "I get  raise ValueError(&#39;External ID not found in the system: %s&#39; % xmlid) ParseError: &quot;External ID not found in the system: layby_order.model_layby_order&quot; while parsing /home/jason/git/customaddons/layby_order/security/layby_secu&zwnj;&#8203;rity.xml:5, near"}, {"owner": {"reputation": 156, "user_id": 6336894, "user_type": "registered", "profile_image": "https://graph.facebook.com/127312731015190/picture?type=large", "display_name": "Abu Uzayr", "link": "https://stackoverflow.com/users/6336894/abu-uzayr"}, "reply_to_user": {"reputation": 421, "user_id": 2379186, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/654e14ac892f059e9358618f767c61f3?s=128&d=identicon&r=PG", "display_name": "user2379186", "link": "https://stackoverflow.com/users/2379186/user2379186"}, "edited": false, "score": 0, "creation_date": 1487152698, "post_id": 42125008, "comment_id": 71650265, "body": "Can you also post your <code>__openerp__.py</code> file?"}], "tags": [], "owner": {"reputation": 156, "user_id": 6336894, "user_type": "registered", "profile_image": "https://graph.facebook.com/127312731015190/picture?type=large", "display_name": "Abu Uzayr", "link": "https://stackoverflow.com/users/6336894/abu-uzayr"}, "is_accepted": false, "score": 2, "last_activity_date": 1486818610, "last_edit_date": 1486818610, "creation_date": 1486593579, "answer_id": 42125008, "question_id": 42124597, "link": "https://stackoverflow.com/questions/42124597/odoo-9-module-to-v10/42125008#42125008", "title": "Odoo 9 Module to V10", "body": "<p>OCA's guide to migrate modules from v9 to v10 is mostly sufficient, except that it does not mention that several security groups that used to be prefixed by <code>base</code> have been moved / modularised to their respective modules, such as <code>base.group_hr_user</code> and as you have seen in your case, <code>base.group_sale_salesman_all_leads</code>.</p>\n\n<p>To solve your first issue, change your ref <code>base.group_sale_salesman_all_leads</code> to <code>sales_team.group_sale_salesman_all_leads</code> in <code>layby_security.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;openerp&gt;\n&lt;data&gt;\n\n    &lt;record id=\"group_layby_user\" model=\"res.groups\"&gt;\n        &lt;field name=\"name\"&gt;Layby User&lt;/field&gt;\n        &lt;field name=\"category_id\" ref=\"base.module_category_sales_management\"/&gt;\n        &lt;field name=\"comment\"&gt;This is applicable for Layby User&lt;/field&gt;\n        &lt;field name=\"implied_ids\" eval=\"[(4,ref('base.group_user')),\n                                    (4,ref('account.group_account_invoice')),\n                                    (4,ref('stock.group_stock_user')),\n                                    (4,ref('sales_team.group_sale_salesman_all_leads'))]\"/&gt;\n    &lt;/record&gt;\n\n&lt;/data&gt;\n&lt;/openerp&gt;\n</code></pre>\n\n<p>For your second issue, if <code>date_order</code> is a field you are adding to your class, do this instead:</p>\n\n<pre><code>date_order = fields.Date(default=fields.Date.context_today)\n</code></pre>\n\n<p>Otherwise, if you are actually declaring a variable instead of a new field, your syntax looks OK and Odoo 10 is still using <code>fields.Date.context_today()</code>.</p>\n\n<p>You can <a href=\"https://github.com/odoo/odoo/search?l=Python&amp;q=context_today&amp;utf8=%E2%9C%93\" rel=\"nofollow noreferrer\">look it up on github</a>.</p>\n\n<hr>\n\n<p>EDIT: (after question was updated)</p>\n\n<p>The error might be because you are missing the model declaration in your <code>res.groups</code> record. </p>\n\n<p>Could you try adding <code>&lt;field name=\"model_id\" ref=\"model_layby_order\"/&gt;</code> in layby_security.xml? </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;openerp&gt;\n&lt;data&gt;\n\n    &lt;record id=\"group_layby_user\" model=\"res.groups\"&gt;\n        &lt;field name=\"name\"&gt;Layby User&lt;/field&gt;\n        &lt;field name=\"model_id\" ref=\"model_layby_order\"/&gt;\n        &lt;field name=\"category_id\" ref=\"base.module_category_sales_management\"/&gt;\n        &lt;field name=\"comment\"&gt;This is applicable for Layby User&lt;/field&gt;\n        &lt;field name=\"implied_ids\" eval=\"[(4,ref('base.group_user')),\n                                    (4,ref('account.group_account_invoice')),\n                                    (4,ref('stock.group_stock_user')),\n                                    (4,ref('sales_team.group_sale_salesman_all_leads'))]\"/&gt;\n    &lt;/record&gt;\n\n&lt;/data&gt;\n&lt;/openerp&gt;\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 2379186, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/654e14ac892f059e9358618f767c61f3?s=128&d=identicon&r=PG", "display_name": "user2379186", "link": "https://stackoverflow.com/users/2379186/user2379186"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1486818610, "creation_date": 1486591852, "last_edit_date": 1486657253, "question_id": 42124597, "link": "https://stackoverflow.com/questions/42124597/odoo-9-module-to-v10", "title": "Odoo 9 Module to V10", "body": "<p>I have a version 9 modue that works in V9. I am trying to get it to install in V10 and getting an error. The error happens when creating a security group. I also tried following from the maintainer tools Migration to V10.</p>\n\n<pre><code>&gt;    Replace openerp imports to odoo.\n&gt; \n&gt;     Rename __openerp__.py to __manifest__.py\n&gt; \n&gt;     Replace select = True by index = TrueReplace string selectors in XML by name (if possible) or other attribute selector or even another\n&gt; equivalent path/reference. For example, change &lt;group string=\"x\"\n&gt; position=\"after\"&gt; by &lt;group name=\"x\" position=\"after\"&gt;Remove &lt;data&gt;\n&gt; and &lt;/data&gt; in xml files if noupdate=\"0\"\n&gt; \n&gt;     Replace the &lt;openerp&gt;/&lt;/openerp&gt; tags in xml files by &lt;odoo&gt;/&lt;/odoo&gt;.\n&gt; \n&gt;     Don't use @api.one with @api.onchange or it will crash.\n&gt; \n&gt;     ...\n</code></pre>\n\n<p>Below is the error</p>\n\n<pre><code>File \"/home/jason/git/odoo10/odoo/addons/base/ir/ir_model.py\", line 1028, in xmlid_lookup\n    raise ValueError('External ID not found in the system: %s' % xmlid)\nParseError: \"&lt;type 'exceptions.ValueError'&gt;: \"External ID not found in the system: base.group_sale_salesman_all_leads\" while evaluating\n\"[(4,ref('base.group_user')),                                         (4,ref('account.group_account_invoice')),                                         (4,ref('stock.group_stock_user')),                                         (4,ref('base.group_sale_salesman_all_leads'))]\"\" while parsing /home/jason/git/customaddons/layby_order/security/layby_security.xml:5, near\n&lt;record id=\"group_layby_user\" model=\"res.groups\"&gt;\n        &lt;field name=\"name\"&gt;Layby User&lt;/field&gt;\n        &lt;field name=\"category_id\" ref=\"base.module_category_sales_management\"/&gt;\n        &lt;field name=\"comment\"&gt;This is applicable for Layby User.&lt;/field&gt;\n        &lt;field name=\"implied_ids\" eval=\"[(4,ref('base.group_user')),                                         (4,ref('account.group_account_invoice')),                                         (4,ref('stock.group_stock_user')),                                         (4,ref('base.group_sale_salesman_all_leads'))]\"/&gt;\n    &lt;/record&gt;\n</code></pre>\n\n<p>layby_security.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;openerp&gt;\n&lt;data&gt;\n\n    &lt;record id=\"group_layby_user\" model=\"res.groups\"&gt;\n        &lt;field name=\"name\"&gt;Layby User&lt;/field&gt;\n        &lt;field name=\"category_id\" ref=\"base.module_category_sales_management\"/&gt;\n        &lt;field name=\"comment\"&gt;This is applicable for Layby User.&lt;/field&gt;\n        &lt;field name=\"implied_ids\" eval=\"[(4,ref('base.group_user')),\n                                        (4,ref('account.group_account_invoice')),\n                                        (4,ref('stock.group_stock_user')),\n                                        (4,ref('base.group_sale_salesman_all_leads'))]\"/&gt;\n    &lt;/record&gt;\n\n&lt;/data&gt;\n&lt;/openerp&gt;\n</code></pre>\n\n<p>ir.model.access.csv</p>\n\n<pre><code>id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink\naccess_layby_order,layby.order,model_layby_order,group_layby_user,1,1,1,0\naccess_layby_order_line,layby.order.line,model_layby_order_line,group_layby_user,1,1,1,1\n</code></pre>\n\n<p>If i stop the server and start it again then try the install the first error I get is </p>\n\n<pre><code>    File \"/home/jason/git/customaddons/layby_order/layby.py\", line 147\n        date_order = fields.Date.context_today(self)\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>after that if I install I get the Parse error External ID not found. I am thinking the reason I am getting that is because the install is stopping on line 147 <code>date_order = fields.Date.context_today(self)</code>but I have no idea why.</p>\n\n<p>Updated</p>\n\n<p>Still stopping on line 147</p>\n\n<pre><code>date_order = fields.Date.context_today(self))\n</code></pre>\n\n<p>after changing to          <code>sales_team.group_sale_salesman_all_leads</code></p>\n\n<p>original error is gone but now get</p>\n\n<pre><code>raise Exception(_('Module loading %s failed: file %s could not be processed:\\n %s') % (module, fname, warning_msg))\nException: Module loading layby_order failed: file layby_order/security/ir.model.access.csv could not be processed:\n No matching record found for external id 'model_layby_order' in field 'Object'\nMissing required value for the field 'Object' (model_id)\nNo matching record found for external id 'model_layby_order_line' in field 'Object'\nMissing required value for the field 'Object' (model_id)\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 5452, "user_id": 6824418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Du0yh.jpg?s=128&g=1", "display_name": "Allen Lavoie", "link": "https://stackoverflow.com/users/6824418/allen-lavoie"}, "edited": false, "score": 0, "creation_date": 1486599267, "post_id": 42124562, "comment_id": 71420172, "body": "This looks like a build issue rather than something that was removed. The op <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/image_ops_impl.py#L704\" rel=\"nofollow noreferrer\">exists at head</a>, and in <code>docker run -it  gcr.io&#47;tensorflow&#47;tensorflow:1.0.0-rc1 ipython</code> as <code>tf.image.per_image_standardization</code>. Did you build a pip package from source and then install that?"}, {"owner": {"reputation": 1201, "user_id": 2815551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d9e37e3f71d7ae9808e95b829b6133b4?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/2815551/amir"}, "edited": false, "score": 0, "creation_date": 1488751912, "post_id": 42124562, "comment_id": 72358276, "body": "have the same problem using tf11"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7465271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/538dd84cce3493fb0eace54489c5119c?s=128&d=identicon&r=PG&f=1", "display_name": "Brennus", "link": "https://stackoverflow.com/users/7465271/brennus"}, "is_accepted": false, "score": 0, "last_activity_date": 1488932952, "creation_date": 1488932952, "answer_id": 42660863, "question_id": 42124562, "link": "https://stackoverflow.com/questions/42124562/tensorflow-attributeerror-moddule-has-no-attribute-per-image-standardization/42660863#42660863", "title": "tensorflow attributeerror moddule has no attribute per_image_standardization", "body": "<p>I reinstalled tensorflow and solved the problem.  Thanks, all!</p>\n"}], "owner": {"reputation": 11, "user_id": 7465271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/538dd84cce3493fb0eace54489c5119c?s=128&d=identicon&r=PG&f=1", "display_name": "Brennus", "link": "https://stackoverflow.com/users/7465271/brennus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488932952, "creation_date": 1486591721, "question_id": 42124562, "link": "https://stackoverflow.com/questions/42124562/tensorflow-attributeerror-moddule-has-no-attribute-per-image-standardization", "title": "tensorflow attributeerror moddule has no attribute per_image_standardization", "body": "<p>I'm trying to go through the tutorial on convolutional neural nets using cifar10.  The cnn is being built (cifar10.py) but when I try to run cifar10_train.py I'm getting the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"cifar10_train.py\", line 115, in &lt;module&gt;\n    tf.app.run()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 30, in run\n    sys.exit(main(sys.argv))\n  File \"cifar10_train.py\", line 111, in main\n    train()\n  File \"cifar10_train.py\", line 58, in train\n    images, labels = cifar10.distorted_inputs()\n  File \"/home/brennus/workspace/python/cifar/cifar10.py\", line 141, in distorted_inputs\n    batch_size=FLAGS.batch_size)\n  File \"/home/brennus/workspace/python/cifar/cifar10_input.py\", line 177, in distorted_inputs\n    float_image = tf.image.per_image_standardization(distorted_image)\nAttributeError: 'module' object has no attribute 'per_image_standardization'\n</code></pre>\n\n<p>According to <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/image.md\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/api_docs/python/image.md</a>, there is indeed a per_image_standardization attribute but it looks like my tensorflow doesn't have it.  I'm not sure what version I have and not sure where to find it, but I built it from source from the repository so I imagine it's the current one.</p>\n\n<p>I can't find anyone else who is having this problem so I'm stymied.  Maybe I have to write my own?</p>\n"}, {"tags": ["python", "python-3.x", "twilio"], "answers": [{"tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 0, "last_activity_date": 1486594927, "creation_date": 1486594927, "answer_id": 42125298, "question_id": 42124523, "link": "https://stackoverflow.com/questions/42124523/why-twilio-is-not-working-what-does-http-400-error-mean/42125298#42125298", "title": "Why Twilio is not working? what does HTTP 400 Error mean?", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>That code looks pretty good to me. The only thing I can think of is whether, when you fill in your Account SID and Auth Token, you leave the <code>{{</code> and <code>}}</code> in?</p>\n\n<p>Those two lines should look like:</p>\n\n<pre><code>account_sid = \"AC1234567890\"\nauth_token  = \"fedcba0987654321\"\n</code></pre>\n\n<p>when filled in with your credentials.</p>\n\n<p>Let me know if that helps.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7102066"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 42125298, "answer_count": 1, "score": 0, "last_activity_date": 1486594927, "creation_date": 1486591501, "question_id": 42124523, "link": "https://stackoverflow.com/questions/42124523/why-twilio-is-not-working-what-does-http-400-error-mean", "title": "Why Twilio is not working? what does HTTP 400 Error mean?", "body": "<p>I'm taking the Python Udacity course, and since I'm new to programming my debugging skills are very low.\n<strong>I'm using python 3.5</strong>\nI've followed the instructions in the video and also the Twilio instructions.\nI recieved my account_sid &amp; auth_token as well as the Twilio phone number. Yet, the code doesn't work,\nHere is the code(I put stars where it needs to be hidden):</p>\n\n<pre><code>from twilio.rest import TwilioRestClient\n\naccount_sid = \"{{ *** }}\" # Your Account SID from www.twilio.com/console\nauth_token  = \"{{ *** }}\"  # Your Auth Token from www.twilio.com/console\n\nclient = TwilioRestClient(account_sid, auth_token)\n\nmessage = client.messages.create(body=\"Hello from Me\",\nto=\"+1***\",    # Replace with your phone number \nfrom_=\"+1***\") # Replace with your Twilio number\n\nprint(message.sid)\n</code></pre>\n\n<p>and here is the code:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/kd/pythonfiles/new.py\", line 11, in &lt;module&gt;\n    from_=\"+***\") # Replace with your Twilio number\n  File \"/usr/local/lib/python3.5/dist-packages/twilio/rest/resources/messages.py\", line 122, in create\n    return self.create_instance(kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/twilio/rest/resources/base.py\", line 365, in create_instance\n    data=transform_params(body))\n  File \"/usr/local/lib/python3.5/dist-packages/twilio/rest/resources/base.py\", line 200, in request\n    resp = make_twilio_request(method, uri, auth=self.auth, **kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/twilio/rest/resources/base.py\", line 164, in make_twilio_request\n    uri=resp.url, msg=message, code=code)\ntwilio.rest.exceptions.TwilioRestException: HTTP 400 error: \n[Finished in 0.6s with exit code 1]\n</code></pre>\n\n<p>I understand that a HTTP 400 error is related to my unit sending a bad signal. Any suggestions?  </p>\n"}, {"tags": ["python", "google-app-engine"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 5364617, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3u1O7.jpg?s=128&g=1", "display_name": "Paulo zOiO zuLLu Fabr&#237;cio", "link": "https://stackoverflow.com/users/5364617/paulo-zoio-zullu-fabr%c3%adcio"}, "edited": false, "score": 0, "creation_date": 1486592674, "post_id": 42124640, "comment_id": 71417623, "body": "I&#39;m using Django with Eclipse"}], "tags": [], "owner": {"reputation": 1704, "user_id": 6036809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ae611f4df3ff3f3753cad77e1f848cd?s=128&d=identicon&r=PG&f=1", "display_name": "David C.", "link": "https://stackoverflow.com/users/6036809/david-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1486592041, "creation_date": 1486592041, "answer_id": 42124640, "question_id": 42124497, "link": "https://stackoverflow.com/questions/42124497/import-error-on-google-oauth2client/42124640#42124640", "title": "Import error on Google oauth2client", "body": "<p>If you are using Anaconda like I do, I would recommend install using the following commands in the command line:</p>\n\n<pre><code>conda install -c bcbio oauth2client=2.2.0 \n</code></pre>\n\n<p>Or</p>\n\n<pre><code>conda install -c conda-forge oauth2client=2.2.0 \n</code></pre>\n\n<p>The Anaconda help files for both of these suggest that they are compatible to a variety of operating systems, including PC, Mac and Linux.</p>\n"}], "owner": {"reputation": 190, "user_id": 5364617, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3u1O7.jpg?s=128&g=1", "display_name": "Paulo zOiO zuLLu Fabr&#237;cio", "link": "https://stackoverflow.com/users/5364617/paulo-zoio-zullu-fabr%c3%adcio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486592307, "creation_date": 1486591377, "last_edit_date": 1486592307, "question_id": 42124497, "link": "https://stackoverflow.com/questions/42124497/import-error-on-google-oauth2client", "title": "Import error on Google oauth2client", "body": "<p>I installed the oauth2client using command line:</p>\n\n<pre><code>$ pip install oauth2client\n</code></pre>\n\n<p>but it gives me the above error when trying to run my application.</p>\n\n<pre><code>from oauth2client.contrib.appengine import OAuth2Decorator\n  File \"/usr/local/lib/python2.7/dist-packages/oauth2client/contrib/appengine.py\", line 27, in &lt;module&gt;\n    from google.appengine.api import app_identity\nImportError: No module named appengine.api\n</code></pre>\n\n<p>I tried other solutions from Stack Overflow, but none of them solved my problem.</p>\n"}, {"tags": ["python", "py2exe"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487029543, "post_id": 42215102, "comment_id": 71592367, "body": "is there any way to bypass this for Python 2.7?"}, {"owner": {"reputation": 1440, "user_id": 3154314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a481af927708d875a0f2b9f496082b?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3154314/aaron"}, "reply_to_user": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487086188, "post_id": 42215102, "comment_id": 71619521, "body": "Find out what you are using that is dependent on asyncsupport.py, and remove this dependency. You could use a tool like this to help you: <a href=\"http://stackoverflow.com/a/30450999/3154314\">stackoverflow.com/a/30450999/3154314</a>"}, {"owner": {"reputation": 1440, "user_id": 3154314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a481af927708d875a0f2b9f496082b?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3154314/aaron"}, "reply_to_user": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487089723, "post_id": 42215102, "comment_id": 71622121, "body": "Alternatively (if your script is easy enough to convert to python 3 syntax) you could use python 3.5 and use <code>PyInstaller</code> to convert it to an executable as suggested here: <a href=\"http://stackoverflow.com/a/33174611/3154314\">stackoverflow.com/a/33174611/3154314</a>"}, {"owner": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487095023, "post_id": 42215102, "comment_id": 71625640, "body": "I&#39;m sorry, but I am pretty new to Python.  asyncsupport.py is part of the jinja2 installation, which is part of pandas (or so I gather).  The program I am trying to create a .exe for is using pandas (successfully, I may add).  It&#39;s just that when I run pyinstaller I get the same type error as py2exe, in that it throws back the asyncsupport error.  Is there any way to remove the dependency on that .py file and move on my merry way?  If that keyword isn&#39;t supported by 2.7, my guess would be I don&#39;t need the file any way as pandas works just fine.  Thanks again."}, {"owner": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487095452, "post_id": 42215102, "comment_id": 71625869, "body": "I should also mention that, unfortunately, I am unable to upgrade to Python 3.5.  I can only go as high as 3.4 as I am using a network server with Windows 2003."}, {"owner": {"reputation": 1440, "user_id": 3154314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a481af927708d875a0f2b9f496082b?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3154314/aaron"}, "reply_to_user": {"reputation": 219, "user_id": 5293740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e86add1b9e17ce4744bc8f05ea47c2c?s=128&d=identicon&r=PG&f=1", "display_name": "battery514", "link": "https://stackoverflow.com/users/5293740/battery514"}, "edited": false, "score": 0, "creation_date": 1487108555, "post_id": 42215102, "comment_id": 71632960, "body": "I updated the answer, I was able to repro and &#39;fix&#39; the issue you were having at least for a &#39;hello world&#39; app I wrote."}], "tags": [], "owner": {"reputation": 1440, "user_id": 3154314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a481af927708d875a0f2b9f496082b?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3154314/aaron"}, "is_accepted": false, "score": 10, "last_activity_date": 1606753351, "last_edit_date": 1606753351, "creation_date": 1487026987, "answer_id": 42215102, "question_id": 42124464, "link": "https://stackoverflow.com/questions/42124464/python-setup-py-py2exe-invalid-syntax-asyncsupport-py-line-22/42215102#42215102", "title": "python setup.py py2exe Invalid Syntax (asyncsupport.py, line 22)", "body": "<p><strong>Note:</strong></p>\n<p>If you are reading this, I would try Santiago's solution first.</p>\n<p><strong>The issue:</strong></p>\n<p>Looking at what is likely at line 22 on <a href=\"https://github.com/pallets/jinja/blob/master/jinja2/asyncsupport.py\" rel=\"nofollow noreferrer\">the github package</a>:</p>\n<pre><code>async def concat_async(async_gen):\n</code></pre>\n<p>This is making use of the async keyword which was added in python 3.5, however py2exe only supports up to python 3.4. Now jinja looks to be extending the python language in some way (perhaps during runtime?) to support this async keyword in earlier versions of python. py2exe cannot account for this language extension.</p>\n<p><strong>The Fix:</strong></p>\n<p>async support was added in jinja2 version 2.9 according to <a href=\"http://jinja.pocoo.org/docs/2.9/api/#async-support\" rel=\"nofollow noreferrer\">the documentation</a>. So I tried installing an earlier version of jinja (version 2.8) which I <a href=\"https://pypi.python.org/pypi/Jinja2/2.8#downloads\" rel=\"nofollow noreferrer\">downloaded here</a>.</p>\n<p>I made a backup of my current jinja installation by moving the contents of <code>%PYTHONHOME%\\Lib\\site-packages\\jinja2</code> to some other place.\nextract the previously downloaded tar.gz file and install the package via pip:</p>\n<pre><code>cd .\\Downloads\\dist\\Jinja2-2.8 # or wherever you extracted jinja2.8\npython setup.py install\n</code></pre>\n<p>As a side note, I also had to increase my recursion limit because py2exe was reaching the default limit.</p>\n<pre><code>from distutils.core import setup\nimport py2exe\nimport sys\nsys.setrecursionlimit(5000)\nsetup (console=['test.py'])\n</code></pre>\n<p><strong>Warning:</strong></p>\n<p>If whatever it is you are using relies on the latest version of jinja2, then this might fail or have unintended side effects when actually running your code. I was compiling a very simple script.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 9588290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18564a68ea34e06be91818879bce5a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Santiago H", "link": "https://stackoverflow.com/users/9588290/santiago-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1563816531, "creation_date": 1563816531, "answer_id": 57151002, "question_id": 42124464, "link": "https://stackoverflow.com/questions/42124464/python-setup-py-py2exe-invalid-syntax-asyncsupport-py-line-22/57151002#57151002", "title": "python setup.py py2exe Invalid Syntax (asyncsupport.py, line 22)", "body": "<p>I had the same trouble coding in python3.7. I fixed that adding the excludes part to my py2exe file: </p>\n\n<pre><code>a = Analysis(['pyinst_test.py'],\n         #...\n         excludes=['jinja2.asyncsupport','jinja2.asyncfilters'],\n         #...)\n</code></pre>\n\n<p>I took that from: <a href=\"https://github.com/pyinstaller/pyinstaller/issues/2393\" rel=\"nofollow noreferrer\">https://github.com/pyinstaller/pyinstaller/issues/2393</a></p>\n"}], "owner": {"reputation": 51, "user_id": 7536872, "user_type": "registered", "profile_image": "https://graph.facebook.com/673466216169395/picture?type=large", "display_name": "Hybris", "link": "https://stackoverflow.com/users/7536872/hybris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6915, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1606753351, "creation_date": 1486591206, "question_id": 42124464, "link": "https://stackoverflow.com/questions/42124464/python-setup-py-py2exe-invalid-syntax-asyncsupport-py-line-22", "title": "python setup.py py2exe Invalid Syntax (asyncsupport.py, line 22)", "body": "<p>This command works fine on my personal computer but keeps giving me this error on my work PC. What could be going on? I can run the Char_Limits.py script directly in Powershell without a problem.\n    error: compiling 'C:\\ProgramData\\Anaconda2\\lib\\site-packages\\jinja2\\asyncsupport.py' failed\n         SyntaxError: invalid syntax (asyncsupport.py, line 22)</p>\n\n<p><strong>My setup.py file looks like:</strong></p>\n\n<pre><code>from distutils.core import setup\nimport py2exe\n\nsetup (console=['Char_Limits.py'])\n</code></pre>\n\n<p><strong>My file looks like:</strong> </p>\n\n<pre><code>import xlwings as xw\nfrom win32com.client import constants as c\nimport win32api\n\n\"\"\" \nImportant Notes: Header row has to be the first row. No columns without a header row. If you need/want a blank column, just place a random placeholder\nheader value in the first row.\nProduct_Article_Number column is used to determine the number of rows. It must be populated for every row.\n\"\"\"\n\n#functions, hooray!\ndef setRange(columnDict, columnHeader):\n    column = columnDict[columnHeader]\n    rngForFormatting = xw.Range((2,column), (bttm, column))\n    cellReference = xw.Range((2,column)).get_address(False, False)\n    return rngForFormatting, cellReference\n\ndef msg_box(message):\n    win32api.MessageBox(wb.app.hwnd, message)   \n\n#Character limits for fields in Hybris\nCharLimits_Fields = {\"alerts\":500, \"certifications\":255, \"productTitle\":300,\n        \"teaserText\":450 , \"includes\":1000, \"compliance\":255, \"disclaimers\":9000, \n        \"ecommDescription100\":100, \"ecommDescription240\":240, \n        \"internalKeyword\":1000, \"metaKeywords\":1000, \"metaDescription\":1000,\n        \"productFeatures\":7500, \"productLongDescription\":1500,\"requires\":500,\n        \"servicePlan\":255, \"skuDifferentiatorText\":255, \"storage\":255, \n        \"techDetailsAndRefs\":12000, \"warranty\":1000}\n\n# Fields for which a break tag is problematic.  \nBreakTagNotAllowed = [\"ecommDescription100\", \"ecommDescription240\", \"productTitle\", \n                        \"skuDifferentiatorText\"]    \n\napp = xw.apps.active                        \nwb = xw.Book(r'C:\\Users\\XXXX\\Documents\\Import File.xlsx')\n\n#identifies the blanket range of interest\nfirstCell = xw.Range('A1')\nlstcolumn = firstCell.end(\"right\").column\n\nheaders_Row = xw.Range((1,1), (1, lstcolumn)).value\ncolumnDict = {}\n\nfor column in range(1, len(headers_Row) + 1):\n    header = headers_Row[column - 1]\n    columnDict[header] = column\n\n\ntry:\n    articleColumn = columnDict[\"Product_Article_Number\"]\n\nexcept: \n    articleColumn = columnDict[\"Family_Article_Number\"]\n\nfirstCell = xw.Range((1,articleColumn))\n\nbttm = firstCell.end(\"down\").row\n\nwholeRange = xw.Range((1,1),(bttm, lstcolumn))\nwholeRangeVal = wholeRange.value\n\n#Sets the font and deletes previous conditional formatting\nwholeRange.api.Font.Name = \"Arial Unicode MS\"\nwholeRange.api.FormatConditions.Delete()\n\nfor columnHeader in columnDict.keys():\n    if columnHeader in CharLimits_Fields.keys():\n        rng, cellRef = setRange(columnDict, columnHeader)\n        rng.api.FormatConditions.Add(2,3, \"=len(\" + cellRef + \") &gt;=\" + str(CharLimits_Fields[columnHeader]))\n        rng.api.FormatConditions(1).Interior.ColorIndex = 3\n\n    if columnHeader in BreakTagNotAllowed:\n        rng, cellRef = setRange(columnDict, columnHeader)\n        rng.api.FormatConditions.Add(2,3, '=OR(ISNUMBER(SEARCH(\"&lt;br&gt;\",' + cellRef + ')), ISNUMBER(SEARCH(\"&lt;br/&gt;\",' + cellRef + \")))\")\n        rng.api.FormatConditions(2).Interior.ColorIndex = 6\n\nsearchResults = wholeRange.api.Find(\"~\\\"\")\nif searchResults is not None:\n    msg_box(\"There's a double quote in this spreadsheet\")\nelse:\n    msg_box(\"There are no double quotes in this spreadsheet\")\n\n# app.api.FindFormat.Clear\n# app.api.FindFormat.Interior.ColorIndex = 3\n# foundRed = wholeRange.api.Find(\"*\", SearchFormat=True)\n\n# if foundRed is None:\n    # msg_box(\"There are no values exceeding character limits\")\n# else:\n    # msg_box(\"There are values exceeding character limits\")\n\n# app.api.FindFormat.Clear\n# app.api.FindFormat.Interior.ColorIndex = 6\n# foundYellow = wholeRange.api.Find(\"*\", SearchFormat=True)\n# if foundYellow is None:\n    # msg_box(\"There are no break tags in this spreadsheet\")\n# else:\n    # msg_box(\"There are break tags in this spreadsheet\")\n</code></pre>\n"}, {"tags": ["python", "function", "python-3.x"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1486591267, "post_id": 42124409, "comment_id": 71416965, "body": "I doubt that it should be behaving the way you mentioned"}, {"owner": {"reputation": 2937, "user_id": 1124794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AWnhB.png?s=128&g=1", "display_name": "brthornbury", "link": "https://stackoverflow.com/users/1124794/brthornbury"}, "edited": false, "score": 0, "creation_date": 1486591270, "post_id": 42124409, "comment_id": 71416967, "body": "Why not call them one at a time rather than separated by commas?"}, {"owner": {"reputation": 754, "user_id": 7062012, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/CQZ0w.jpg?s=128&g=1", "display_name": "August Williams", "link": "https://stackoverflow.com/users/7062012/august-williams"}, "edited": false, "score": 0, "creation_date": 1486591445, "post_id": 42124409, "comment_id": 71417047, "body": "Is this all of the code? When I try to run it I get not defined errors."}], "answers": [{"comments": [{"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 3, "creation_date": 1486592110, "post_id": 42124573, "comment_id": 71417373, "body": "Just <code>input(&#39;...&#39;)</code> is fine (i.e. automatically a string); this is Python 3."}], "tags": [], "owner": {"reputation": 5060, "user_id": 958624, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d1e00ee788a6a5f254f6a95f1d43557?s=128&d=identicon&r=PG", "display_name": "Pasha", "link": "https://stackoverflow.com/users/958624/pasha"}, "is_accepted": false, "score": 2, "last_activity_date": 1486591758, "creation_date": 1486591758, "answer_id": 42124573, "question_id": 42124409, "link": "https://stackoverflow.com/questions/42124409/functions-not-being-called-in-order/42124573#42124573", "title": "Functions not being called in order?", "body": "<p>You are missing <code>input</code> call in your <code>input_weight()</code> function:</p>\n\n<pre><code>machine_selection = str(input('...'))\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>machine_selection = str('...')\n</code></pre>\n\n<p>As written, your code tries to set weight on a machine named \"Please enter which machine you would like to enter the produced weight for: \", which does not exist.</p>\n\n<p>I would suggest to also add a check that the machine name was entered correctly, to prevent this kind of error in the future. </p>\n"}], "owner": {"reputation": 1, "user_id": 7330378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bda09b10b631a362171b16d0f66bf43?s=128&d=identicon&r=PG&f=1", "display_name": "arcrunner819", "link": "https://stackoverflow.com/users/7330378/arcrunner819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486592693, "creation_date": 1486591004, "last_edit_date": 1486591548, "question_id": 42124409, "link": "https://stackoverflow.com/questions/42124409/functions-not-being-called-in-order", "title": "Functions not being called in order?", "body": "<p>I'm writing a program using python3 to simplify a report I use for work. It's not supposed to be architecturally sound or elegant, really I just bruted my way through it just to the point of it \"working\". </p>\n\n<p>The methods by themselves do work fine, but when I enter them, they don't get called in order when I run them. I'm going to post the entire code here, because I know someone is going to ask something related to what's not show. Again, I wrote this really quickly just to work. It's not supposed to be anything built by a professional. </p>\n\n<p>My question is, why are my methods not called in order. I do it this way so that the dictionary values are filled in by the input <em>and then</em> it's supposed to calculate the precentages. But what happens is, it calls the calculate percentage method out of order, so I'm stuck getting a division by Zero error (which yes is true when called out of order because the info needed technically hasn't been entered yet). </p>\n\n<pre><code>def enter_waste():\n    while True:\n        machine_selection = str(input('Please enter which machine you would like to enter the waste for: '))\n        for element in machine_list:\n            if machine_selection == element['name']:\n                print('You Have Selected: {}'.format(element['name']))\n                waste_input = int(input('Please enter the waste for this period: '))\n                element['waste'].append(waste_input)\n                if str(input('Do you want to continue? yes/no: ')) == 'no':\n                    print(\"\\nHere's everything as entered: \\n\")\n                    for i, machine in enumerate(machine_list):\n                        print(i, machine)\n                return False\n\ndef enter_weight():\n    machine_selection = str('Please enter which machine you would like to enter the produced weight for: ')\n    for element in machine_list:\n        if machine_selection == element['name']:\n            print('You have selected: {}'.format(element['name']))\n            weight_input = int(input('Please enter weight produced for this period: '))\n            element['weight'] = weight_input\n            if str(input('Do you want to continue? yes/no: ')) == 'no':\n                print(\"\\nHere's everything as entered: \\n\")\n                for i, machine in enumerate(machine_list):\n                    print(i, machine)\n                return False\n\ndef calculate_waste_percentage():\n    for element in machine_list:\n        percentage = (sum(element['waste'])/element['weight']) * 100\n        element['percentwaste'] = percentage\n        print('Machine: {}\\nWeight Produced: {;,}\\n% of Waste: {}%'.format(element['name'], element['weight'], percentage ))\n        return percentage\n</code></pre>\n\n<p>However, when I call them in order like this:</p>\n\n<pre><code>enter_waste(), enter_weight(), calculate_waste_percentage()\n</code></pre>\n\n<p>It will call <code>enter_waste()</code> but then jump to <code>calculate_waste_percentage</code> instead of running <code>enter_weight()</code>. Is there a way to fix this? </p>\n"}, {"tags": ["python", "multithreading", "locking"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1486591280, "post_id": 42124408, "comment_id": 71416972, "body": "Does it fail if you run it?"}, {"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1486591357, "post_id": 42124408, "comment_id": 71417011, "body": "Nope, it works just fine."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 2, "creation_date": 1486591487, "post_id": 42124408, "comment_id": 71417076, "body": "known issue <a href=\"https://github.com/PyCQA/pylint/issues/782\" rel=\"nofollow noreferrer\">github.com/PyCQA/pylint/issues/782</a> ?"}, {"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1486591782, "post_id": 42124408, "comment_id": 71417221, "body": "Wow, thanks! I&#39;ve been looking for a possible explanation for a while now but somehow missed that one! Looks like it is in the process of being fixed even."}], "owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2433, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1486590991, "creation_date": 1486590991, "last_edit_date": 1495540495, "question_id": 42124408, "link": "https://stackoverflow.com/questions/42124408/python-context-manager-lock-doesnt-implement-enter-and-exit", "title": "Python: Context manager &#39;lock&#39; doesn&#39;t implement __enter__ and __exit__", "body": "<p>My code contains what <a href=\"https://stackoverflow.com/a/10525433/2444435\">seems to be common practise</a>, using:</p>\n\n<pre><code>import threading\nmylock = threading.Lock()\n\ndef myfunction():\n    with mylock:\n        do_something()\n</code></pre>\n\n<p>But my PEP8 pylinter is squawking about: </p>\n\n<blockquote>\n  <p>Context manager 'lock' doesn't implement __enter__ and __exit__</p>\n</blockquote>\n\n<p>Is there something I'm doing wrong in this code? I could just ignore the error, as I haven't seen any issues thus far, but I'd prefer to not just ignore &amp; hope. I read <a href=\"https://stackoverflow.com/questions/23841091/documentation-for-lock-enter-and-condition-enter\">on another post</a> about the documentation for the __enter__ and __exit__, so I assume they must actually exist in some form.</p>\n"}, {"tags": ["python", "machine-learning", "tensorflow", "neural-network", "training-data"], "answers": [{"comments": [{"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1486594797, "post_id": 42124738, "comment_id": 71418572, "body": "That is useful info, thanks! Follow-up questions: I didn&#39;t realise it pushed many training examples through at once, how do the error calculations work in this case? Are all the weight changes added up and averaged? Does each batch consist of random training examples from the training set?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1486595697, "post_id": 42124738, "comment_id": 71418924, "body": "Yes, they&#39;re averaged.  The actual mechanics are a little more complex and careful, but that&#39;s the immediate effect.  The choice of training samples is in your input-layer parameters.  What I think you&#39;re thinking here is quite correct: you want a good spread of labels in each batch, so you don&#39;t start training to a narrow slice of classes early on.  Look for a <b>random</b> or <b>shuffle</b> keyword.  I&#39;m afraid I don&#39;t recall immediately, as I&#39;ve been working in Caffe for a few months."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 5, "last_activity_date": 1486592466, "creation_date": 1486592466, "answer_id": 42124738, "question_id": 42124395, "link": "https://stackoverflow.com/questions/42124395/what-are-batches-and-steps-in-tensorflow-estimators-and-how-do-they-differ-f/42124738#42124738", "title": "What are &#39;batches&#39; and &#39;steps&#39; in TensorFlow Estimators and how do they differ from epochs?", "body": "<p><strong>batch_size</strong> is the number of examples processed at once.  TF pushes all of those through one forward pass (in parallel) and follows with a back-propagation on the same set.  This is one <em>iteration</em>, or <em>step</em>.</p>\n\n<p>The <strong>steps</strong> parameter tells TF to run 5000 of these iterations to train the model.</p>\n\n<p>One <strong>epoch</strong> is treating each example in the training set exactly once.  For instance, if you have one million examples and a batch size of 200, then you need 5000 steps to one epoch: 200 * 5.000 = 1.000.000</p>\n\n<p>Does that clear up the terminology?</p>\n"}], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1485, "favorite_count": 1, "accepted_answer_id": 42124738, "answer_count": 1, "score": 4, "last_activity_date": 1486592466, "creation_date": 1486590936, "question_id": 42124395, "link": "https://stackoverflow.com/questions/42124395/what-are-batches-and-steps-in-tensorflow-estimators-and-how-do-they-differ-f", "title": "What are &#39;batches&#39; and &#39;steps&#39; in TensorFlow Estimators and how do they differ from epochs?", "body": "<p>I am attempting to use TensorFlow's Estimators. In the <a href=\"https://www.tensorflow.org/tutorials/estimators/#running_the_abalone_model\" rel=\"nofollow noreferrer\">documentation</a> the following code is used to train and evaluate the network.</p>\n\n<pre><code># Fit\nnn.fit(x=training_set.data, y=training_set.target, steps=5000)\n\n# Score accuracy\nev = nn.evaluate(x=test_set.data, y=test_set.target, steps=1)\nloss_score = ev[\"loss\"]\nprint(\"Loss: %s\" % loss_score)\n</code></pre>\n\n<p>The whole training set is passed in, but we have <code>steps=5000</code>. Does this mean that only the first 5000 examples from the set are considered? </p>\n\n<p>What does the <code>batch_size</code> parameter mean in this context, and how does it interact with <code>steps</code>?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 1673806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e75e501759aa9e33daebfa8648206a1?s=128&d=identicon&r=PG", "display_name": "user1673806", "link": "https://stackoverflow.com/users/1673806/user1673806"}, "edited": false, "score": 0, "creation_date": 1486591105, "post_id": 42124338, "comment_id": 71416880, "body": "Thx a lot @MaxU"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1486590720, "creation_date": 1486590720, "answer_id": 42124338, "question_id": 42124296, "link": "https://stackoverflow.com/questions/42124296/python-dataframe-complete-value/42124338#42124338", "title": "Python Dataframe Complete Value", "body": "<pre><code>In [33]: df['Notional'] = df.Item.map(df1.set_index('Item').Notional)\n\nIn [34]: df\nOut[34]:\n      Item  Notional\n0  .decash     10000\n1  .decash     10000\n2   usdjpy    100000\n3  .decash     10000\n4   usdjpy    100000\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>In [36]: df.drop('Notional',1).merge(df1, on='Item', how='left')\nOut[36]:\n      Item  Notional\n0  .decash     10000\n1  .decash     10000\n2   usdjpy    100000\n3  .decash     10000\n4   usdjpy    100000\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 1673806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e75e501759aa9e33daebfa8648206a1?s=128&d=identicon&r=PG", "display_name": "user1673806", "link": "https://stackoverflow.com/users/1673806/user1673806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "accepted_answer_id": 42124338, "answer_count": 1, "score": 1, "last_activity_date": 1486591572, "creation_date": 1486590554, "last_edit_date": 1486591572, "question_id": 42124296, "link": "https://stackoverflow.com/questions/42124296/python-dataframe-complete-value", "title": "Python Dataframe Complete Value", "body": "<p>I have one df dataframe as follow :</p>\n\n<pre><code>    Item       Notional\n0   .decash    NaN\n1   .decash    NaN\n2    usdjpy    NaN\n3   .decash    NaN\n4    usdjpy    NaN\n</code></pre>\n\n<p>And a second df1 dataframe as follow:</p>\n\n<pre><code>    Item       Notional\n0   .decash    10 000\n1    usdjpy    100 000\n</code></pre>\n\n<p>Is that possible to fill df.Notional with df1.Notional without for instruction?</p>\n"}, {"tags": ["javascript", "python", "node.js", "chatbot", "feathersjs"], "comments": [{"owner": {"reputation": 753, "user_id": 736348, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a4c5fd091c0905fd3089df07d099f5d5?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/736348/samuel"}, "edited": false, "score": 0, "creation_date": 1487889137, "post_id": 42124247, "comment_id": 72000420, "body": "Planning to. Thank you for tipping me off on botkit!"}, {"owner": {"reputation": 1, "user_id": 7536967, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102080381381090/picture?type=large", "display_name": "Monny JcConnell", "link": "https://stackoverflow.com/users/7536967/monny-jcconnell"}, "reply_to_user": {"reputation": 753, "user_id": 736348, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a4c5fd091c0905fd3089df07d099f5d5?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/736348/samuel"}, "edited": false, "score": 0, "creation_date": 1487894352, "post_id": 42124247, "comment_id": 72002396, "body": "@Samuel Are you working on the Feathers platform itself or working with it on your own? Curious about your approach."}, {"owner": {"reputation": 753, "user_id": 736348, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a4c5fd091c0905fd3089df07d099f5d5?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/736348/samuel"}, "edited": false, "score": 0, "creation_date": 1487921985, "post_id": 42124247, "comment_id": 72010969, "body": "I did not start yet. But that is my plan. To use feathersjs as the interface between API.AI and the db and other services. I did something similar last year in PHP."}, {"owner": {"reputation": 1, "user_id": 7536967, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102080381381090/picture?type=large", "display_name": "Monny JcConnell", "link": "https://stackoverflow.com/users/7536967/monny-jcconnell"}, "reply_to_user": {"reputation": 753, "user_id": 736348, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a4c5fd091c0905fd3089df07d099f5d5?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/736348/samuel"}, "edited": false, "score": 0, "creation_date": 1489082700, "post_id": 42124247, "comment_id": 72526828, "body": "@samuel would love to hear more as you go! Should be interesting work to explore. Trying to come up with a similar flow myself, but focusing on feathers + react integration first."}], "owner": {"reputation": 1, "user_id": 7536967, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102080381381090/picture?type=large", "display_name": "Monny JcConnell", "link": "https://stackoverflow.com/users/7536967/monny-jcconnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486590367, "creation_date": 1486590367, "question_id": 42124247, "link": "https://stackoverflow.com/questions/42124247/chat-bots-in-feathers", "title": "Chat bots in Feathers", "body": "<p>Has anyone built chatbot functionality with Feathersjs? \nCurrently trying to figure out if the <a href=\"https://howdy.ai/botkit/\" rel=\"nofollow noreferrer\">Botkit</a> framework will work (which would be great) or if I'll need to build something from scratch.\nThanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 992, "user_id": 3225001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVXrx.jpg?s=128&g=1", "display_name": "Gurupad Mamadapur", "link": "https://stackoverflow.com/users/3225001/gurupad-mamadapur"}, "edited": false, "score": 0, "creation_date": 1486590369, "post_id": 42124216, "comment_id": 71416531, "body": "Con you be more specific with your question? You want to read contents of a file in your python code?"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1486590414, "post_id": 42124216, "comment_id": 71416550, "body": "<a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a>"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1486590427, "post_id": 42124216, "comment_id": 71416559, "body": "You want to include the contents of a text file in a Python script so that the script can process the text?"}, {"owner": {"reputation": 992, "user_id": 3225001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVXrx.jpg?s=128&g=1", "display_name": "Gurupad Mamadapur", "link": "https://stackoverflow.com/users/3225001/gurupad-mamadapur"}, "edited": false, "score": 1, "creation_date": 1486590584, "post_id": 42124216, "comment_id": 71416633, "body": "Refer this - <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">Reading and Writing files</a>"}], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 5364617, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3u1O7.jpg?s=128&g=1", "display_name": "Paulo zOiO zuLLu Fabr&#237;cio", "link": "https://stackoverflow.com/users/5364617/paulo-zoio-zullu-fabr%c3%adcio"}, "is_accepted": false, "score": 0, "last_activity_date": 1486591174, "last_edit_date": 1486591174, "creation_date": 1486590551, "answer_id": 42124295, "question_id": 42124216, "link": "https://stackoverflow.com/questions/42124216/text-file-opening-in-python/42124295#42124295", "title": "Text file opening in python", "body": "<pre><code>file = open(\"your_file.txt\", \"r\")\nfile.read()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 7442052, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZgobBdLnno/AAAAAAAAAAI/AAAAAAAAAAA/BeITwhyAuvg/photo.jpg?sz=128", "display_name": "Amaury Larancuent", "link": "https://stackoverflow.com/users/7442052/amaury-larancuent"}, "is_accepted": false, "score": 0, "last_activity_date": 1486590821, "creation_date": 1486590821, "answer_id": 42124362, "question_id": 42124216, "link": "https://stackoverflow.com/questions/42124216/text-file-opening-in-python/42124362#42124362", "title": "Text file opening in python", "body": "<pre><code>with open(workfile, 'r') as f:\n   for line in f:\n      print line\n</code></pre>\n\n<p>If you don't use the context manager (the with statement) you will need to explicitly call f.close(), for example:</p>\n\n<pre><code>f = open('workfile', 'r')\nline = f.readline()\nprint line\nf.close()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6372962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2d0c6a076729ba799d2deb8e12df6e1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6372962/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1486591174, "creation_date": 1486590223, "question_id": 42124216, "link": "https://stackoverflow.com/questions/42124216/text-file-opening-in-python", "title": "Text file opening in python", "body": "<p>Could someone give me some guidance on how you would get the contents of your text file on my python code without opening up the text file in another window?\nJust point me in the right direction on how I should do it (No need for solutions)</p>\n"}, {"tags": ["python", "pandas", "apply"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1486590391, "post_id": 42124172, "comment_id": 71416542, "body": "Are you after: <code>data[data.C &lt; 0]</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1486590983, "post_id": 42124172, "comment_id": 71416826, "body": "What are you trying to accomplish. It isn&#39;t obvious, and why are you returning a DataFrame in <code>fnc</code>?"}, {"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 1, "creation_date": 1486591005, "post_id": 42124172, "comment_id": 71416840, "body": "What is your expcted result and why are you doing a groupby first and foremost?"}, {"owner": {"reputation": 91645, "user_id": 1744834, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ofloC.png?s=128&g=1", "display_name": "Roman Pekar", "link": "https://stackoverflow.com/users/1744834/roman-pekar"}, "edited": false, "score": 0, "creation_date": 1486591043, "post_id": 42124172, "comment_id": 71416854, "body": "looks like simple <code>data[data[&#39;C&#39;] &lt; 0]</code> should work fine for you"}, {"owner": {"reputation": 671, "user_id": 3885985, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c8930dd2a749b59e6e43632029d11997?s=128&d=identicon&r=PG&f=1", "display_name": "JOHN", "link": "https://stackoverflow.com/users/3885985/john"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1486591304, "post_id": 42124172, "comment_id": 71416984, "body": "My question is why there is a column &#39;Level_2&#39; created? Is there a way not creating it. @juanpa.arrivillaga"}, {"owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "edited": false, "score": 0, "creation_date": 1486591437, "post_id": 42124172, "comment_id": 71417043, "body": "not level_2 when running this code here"}, {"owner": {"reputation": 671, "user_id": 3885985, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c8930dd2a749b59e6e43632029d11997?s=128&d=identicon&r=PG&f=1", "display_name": "JOHN", "link": "https://stackoverflow.com/users/3885985/john"}, "reply_to_user": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "edited": false, "score": 0, "creation_date": 1486591559, "post_id": 42124172, "comment_id": 71417104, "body": "I see this level_2 when I use customized functions all the time. @B.M"}], "answers": [{"tags": [], "owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "is_accepted": true, "score": 3, "last_activity_date": 1486592862, "last_edit_date": 1486592862, "creation_date": 1486592252, "answer_id": 42124685, "question_id": 42124172, "link": "https://stackoverflow.com/questions/42124172/why-there-is-an-extra-index-when-using-apply-in-pandas/42124685#42124685", "title": "Why there is an extra index when using apply in Pandas", "body": "<p>As such, you will have no way to avoid level_2 appearing. This is because the result of your grouping is a dataframe with several items in it: pandas is cool enough to understand your wish is to broadcast these items across the grouped keys, yet it is taking the index of the dataframe as an additional level to guarantee coherent output data. So dropping level=-1 at the end of your processing explicitly is expected.</p>\n\n<p>If you want to avoid to reset that extra index, but still have some post processing, another way would be to call transform instead of apply, and get the returned data from <code>fnc</code> being the entire group vector where you put <code>np.nan</code> for results to exclude. Then, your dataframe will not have an extra level, but you'll need to call <code>dropna()</code> afterwards.</p>\n"}], "owner": {"reputation": 671, "user_id": 3885985, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c8930dd2a749b59e6e43632029d11997?s=128&d=identicon&r=PG&f=1", "display_name": "JOHN", "link": "https://stackoverflow.com/users/3885985/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 42124685, "answer_count": 1, "score": 3, "last_activity_date": 1486593210, "creation_date": 1486590065, "last_edit_date": 1486593210, "question_id": 42124172, "link": "https://stackoverflow.com/questions/42124172/why-there-is-an-extra-index-when-using-apply-in-pandas", "title": "Why there is an extra index when using apply in Pandas", "body": "<p>When I use <code>apply</code> to a user defined function in Pandas, it looks like python is creating an additional array. How could I get rid of it? Here is my code:</p>\n\n<pre><code>def fnc(group):\n    x = group.C.values\n    out = x[np.where(x &lt; 0)]\n    return pd.DataFrame(out)\n\ndata = pd.DataFrame({'A':np.random.randint(1, 3, 10),\n                     'B':3,\n                     'C':np.random.normal(0, 1, 10)})\n\ndata.groupby(by=['A', 'B']).apply(fnc).reset_index()\n</code></pre>\n\n<p>There is this weird <code>Level_2</code> index created. Is there a way to avoid creating it when running my function?   </p>\n\n<pre><code>    A   B   level_2   0\n0   1   3   0        -1.054134802\n1   1   3   1        -0.691996447\n2   2   3   0        -1.068693768\n3   2   3   1        -0.080342046\n4   2   3   2        -0.181869799\n</code></pre>\n"}, {"tags": ["python", "filter", "fft", "wav", "analysis"], "comments": [{"owner": {"reputation": 3774, "user_id": 1700913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fceaacd6f032bebe88aa3bef7d0fb269?s=128&d=identicon&r=PG", "display_name": "slizb", "link": "https://stackoverflow.com/users/1700913/slizb"}, "edited": false, "score": 1, "creation_date": 1486591483, "post_id": 42124159, "comment_id": 71417074, "body": "Welcome to SO!  This type of question feels a bit open-ended, and may not be best suited here.  To get better feedback, it helps if you form your question like &quot;Here is some code of things i&#39;ve tried, but here is where it breaks.  How do I fix it?&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 5752638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dbdc3d160a5c259a186b93bd8d37c20?s=128&d=identicon&r=PG&f=1", "display_name": "Wei Yang", "link": "https://stackoverflow.com/users/5752638/wei-yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1486668290, "last_edit_date": 1495541344, "creation_date": 1486636816, "answer_id": 42134467, "question_id": 42124159, "link": "https://stackoverflow.com/questions/42124159/python-audio-wav-file-analysis/42134467#42134467", "title": "Python audio wav file analysis", "body": "<p>hoping the following steps can help you.</p>\n\n<ol>\n<li><p>Read WAV file:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2060628/reading-wav-files-in-python\">Reading *.wav files in Python</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/20677390/python-wave-byte-data\">Python Wave byte data</a></p></li>\n<li><p>Detect the sound:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2668442/detect-and-record-a-sound-with-python\">Detect and record a sound with python</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4160175/detect-tap-with-pyaudio-from-live-mic\">Detect tap with pyaudio from live mic</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18406570/python-record-audio-on-detected-sound\">Python record audio on detected sound</a></p></li>\n<li><p>Determinate the first abnormal point in sound chunk like:</p>\n\n<pre><code>sample_rate = 44100\nwav_file_duration = 30*60   #in sec.\nfirst_abnormal_point_index = 20000\n</code></pre>\n\n<p>then the onset of sound is:</p>\n\n<pre><code>onset = first_abnormal_point_index/sample_rate * wav_file_duration\n</code></pre></li>\n</ol>\n\n<p>Or you can also use other python packages to do this, such as\n<a href=\"http://modal.readthedocs.io/en/latest/use.html\" rel=\"nofollow noreferrer\">Modal</a> or <a href=\"https://aubio.org/documentation\" rel=\"nofollow noreferrer\">aubio</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7536955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16f35275fa544bc33dcabb621554ca7?s=128&d=identicon&r=PG&f=1", "display_name": "playdoh", "link": "https://stackoverflow.com/users/7536955/playdoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4010, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486668290, "creation_date": 1486590040, "question_id": 42124159, "link": "https://stackoverflow.com/questions/42124159/python-audio-wav-file-analysis", "title": "Python audio wav file analysis", "body": "<p>I am working on a program that takes a 30 minute wav file and analyzes it for various events. I have a bunch of 30 minute wav files of a sporting event and was trying to automate a way of finding the times at which certain events happen.</p>\n\n<p>For example, here are the event that I wish to try to identify:\n- When a goal or an event occurs, there will be noise and cheering from the crowd. I want to return the times at which these events occur.\n- Or when a whistle is blown\n- Also being able to identify complete silence for an extended period of time would be helpful</p>\n\n<p>I have been playing with graphing the FFT of these audio samples and have come to the conclusion that this does not give me the best insight on these events. What would be the best process to go about this?</p>\n\n<p>Any guidance at all would be greatly appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-2.7", "list"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1486590670, "post_id": 42124152, "comment_id": 71416671, "body": "This sounds like an <a href=\"http://meta.stackexchange.com/a/66378/344593\">XY Problem</a> to me: Can you explain what problem you&#39;re trying to solve with this code? There may be an easier solution to the core issue."}, {"owner": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 0, "creation_date": 1486595252, "post_id": 42124152, "comment_id": 71418767, "body": "You can use a for loop with enumerate to keep the content <i>and</i> the index: <a href=\"http://stackoverflow.com/questions/22171558/what-does-enumerate-mean\" title=\"what does enumerate mean\">stackoverflow.com/questions/22171558/what-does-enumerate-mea&zwnj;&#8203;n</a>"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1486590842, "last_edit_date": 1486590842, "creation_date": 1486590421, "answer_id": 42124259, "question_id": 42124152, "link": "https://stackoverflow.com/questions/42124152/python-how-to-find-out-the-occurrences-of-a-sentence-in-a-list/42124259#42124259", "title": "Python: how to find out the occurrences of a sentence in a list", "body": "<p>Match the string with the join of the consecutive elements in the main list. Below is the sample code:</p>\n\n<pre><code>my_list = [\"car\", \"hello\",\"bye\" ,\"hello\"]\nsentence = \"hello bye\"\nword_count = len(sentence.split())\nc = 0\n\nfor i in range(len(my_list) - word_count + 1):\n    if sentence == ' '.join(my_list[i:i+word_count]):\n        c+=1\n</code></pre>\n\n<p>Final value hold by <code>c</code> will be:</p>\n\n<pre><code>&gt;&gt;&gt; c\n1\n</code></pre>\n\n<p>If you are looking for a <em>one-liner</em>, you may use <code>zip</code> and <code>sum</code> as:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = [\"car\", \"hello\",\"bye\" ,\"hello\"]\n&gt;&gt;&gt; sentence = \"hello bye\"\n&gt;&gt;&gt; words = sentence.split()\n\n&gt;&gt;&gt; sum(1 for i in zip(*[my_list[j:] for j in range(len(words))]) if list(i) == words)\n1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1579, "user_id": 3845529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDsDb.jpg?s=128&g=1", "display_name": "kardaj", "link": "https://stackoverflow.com/users/3845529/kardaj"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1486593713, "post_id": 42124479, "comment_id": 71418093, "body": "Nice catch, I edited my answer based on your insight, and added some preprocessing to the text. I hope it helps!"}], "tags": [], "owner": {"reputation": 1579, "user_id": 3845529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDsDb.jpg?s=128&g=1", "display_name": "kardaj", "link": "https://stackoverflow.com/users/3845529/kardaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1486593647, "last_edit_date": 1486593647, "creation_date": 1486591279, "answer_id": 42124479, "question_id": 42124152, "link": "https://stackoverflow.com/questions/42124152/python-how-to-find-out-the-occurrences-of-a-sentence-in-a-list/42124479#42124479", "title": "Python: how to find out the occurrences of a sentence in a list", "body": "<p>I would suggest reducing the problem into counting occurrences of a string within another string.</p>\n\n<pre><code>words = [\"hello\", \"bye\", \"hello\", \"car\", \"hello \", \"bye me\", \"hello\", \"carpet\", \"shoplifter\"]\nsentence = \"hello bye\"\nmy_text = \" %s \" % \" \".join([item for sublist in [x.split() for x in words] for item in sublist])\n\n\ndef count(sentence):\n    my_sentence = \" %s \" % \" \".join(sentence.split())\n    return my_text.count(my_sentence)\n\n\nprint count(\"hello bye\")\n&gt;&gt;&gt; 2\nprint count(\"pet shop\")\n&gt;&gt;&gt; 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 1, "last_activity_date": 1486591552, "creation_date": 1486591552, "answer_id": 42124539, "question_id": 42124152, "link": "https://stackoverflow.com/questions/42124152/python-how-to-find-out-the-occurrences-of-a-sentence-in-a-list/42124539#42124539", "title": "Python: how to find out the occurrences of a sentence in a list", "body": "<p>Let's split this problem in two parts. First, we establish a function that will return <em>ngrams</em> of a given list, that is sublists of n consecutive elements:</p>\n\n<pre><code>def ngrams(l, n):\n    return list(zip(*[l[i:] for i in range(n)]))\n</code></pre>\n\n<p>We can now get 2, 3 or 4-grams easily:</p>\n\n<pre><code>&gt;&gt;&gt; ngrams([\"car\", \"hello\",\"bye\" ,\"hello\"], 2)\n[('car', 'hello'), ('hello', 'bye'), ('bye', 'hello')]\n&gt;&gt;&gt; ngrams([\"car\", \"hello\",\"bye\" ,\"hello\"], 3)\n[('car', 'hello', 'bye'), ('hello', 'bye', 'hello')]\n&gt;&gt;&gt; ngrams([\"car\", \"hello\",\"bye\" ,\"hello\"], 4)\n[('car', 'hello', 'bye', 'hello')]\n</code></pre>\n\n<p>Each item is made into a tuple.</p>\n\n<p>Now make the phrase <code>'hello bye'</code> into a tuple:</p>\n\n<pre><code>&gt;&gt;&gt; as_tuple = tuple('hello bye'.split())\n&gt;&gt;&gt; as_tuple\n('hello', 'bye')\n&gt;&gt;&gt; len(as_tuple)\n2\n</code></pre>\n\n<p>Since this has 2 words, we need to generate bigrams from the sentence, and count the number of matching bigrams. We can generalize all this to</p>\n\n<pre><code>def ngrams(l, n):\n    return list(zip(*[l[i:] for i in range(n)]))\n\ndef count_occurrences(sentence, phrase):\n    phrase_as_tuple = tuple(phrase.split())\n    sentence_ngrams = ngrams(sentence, len(phrase_as_tuple))\n    return sentence_ngrams.count(phrase_as_tuple)\n\nprint(count_occurrences([\"car\", \"hello\",\"bye\" ,\"hello\"], 'hello bye'))\n# prints 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1486595516, "post_id": 42124714, "comment_id": 71418853, "body": "Edited my answer to add another possibility."}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": true, "score": 1, "last_activity_date": 1486595485, "last_edit_date": 1486595485, "creation_date": 1486592385, "answer_id": 42124714, "question_id": 42124152, "link": "https://stackoverflow.com/questions/42124152/python-how-to-find-out-the-occurrences-of-a-sentence-in-a-list/42124714#42124714", "title": "Python: how to find out the occurrences of a sentence in a list", "body": "<p>Two possibilities.</p>\n\n<pre><code>## laboriously\n\nlookFor = 'hello bye'\nwords = [\"car\", \"hello\",\"bye\" ,\"hello\", 'tax', 'hello', 'horn', 'hello', 'bye']\n\nstrungOutWords = ' '.join(words)\n\ncount = 0\np = 0\nwhile True:\n    q = strungOutWords [p:].find(lookFor)\n    if q == -1:\n        break\n    else:\n        p = p + q + 1\n        count += 1\n\nprint (count)\n\n## using a regex\n\nimport re\nprint (len(re.compile(lookFor).findall(strungOutWords)))\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7385096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/698131393678498/picture?type=large", "display_name": "Fatima Mustafa", "link": "https://stackoverflow.com/users/7385096/fatima-mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 42124714, "answer_count": 4, "score": 1, "last_activity_date": 1486595485, "creation_date": 1486590027, "last_edit_date": 1486594088, "question_id": 42124152, "link": "https://stackoverflow.com/questions/42124152/python-how-to-find-out-the-occurrences-of-a-sentence-in-a-list", "title": "Python: how to find out the occurrences of a sentence in a list", "body": "<p>I'm writing a function to implement the solution to finding the number of times a word occurs in a list of elements, retrieved from a text file which is pretty straightforward to achieve.</p>\n\n<p>However, I have been at it for two days trying to figure out how to check occurrences of a string which contains multiple words, can be two or more </p>\n\n<p>So for example say the string is:</p>\n\n<pre><code>\"hello bye\"\n</code></pre>\n\n<p>and the list is:</p>\n\n<pre><code>[\"car\", \"hello\",\"bye\" ,\"hello\"]\n</code></pre>\n\n<p>The function should return the value <code>1</code> because the elements \"hello\" and \"bye\" only occur once consecutively.</p>\n\n<hr>\n\n<p>The closest I've gotten to the solution is using </p>\n\n<pre><code>words[0:2] = [' '.join(words[0:2])]\n</code></pre>\n\n<p>which would join two elements together given the index. This however is wrong as the input given will be the element itself rather than an index. </p>\n\n<p>Can someone point me to the right direction?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "edited": false, "score": 0, "creation_date": 1486589944, "post_id": 42124091, "comment_id": 71416318, "body": "one point: instead of <code>else line[:4]==...</code> do <code>elif line[:4]==...</code>"}, {"owner": {"reputation": 2830, "user_id": 856070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3aeef5f536776e6a56b1581a2a0fee?s=128&d=identicon&r=PG", "display_name": "jcfollower", "link": "https://stackoverflow.com/users/856070/jcfollower"}, "edited": false, "score": 0, "creation_date": 1486590273, "post_id": 42124091, "comment_id": 71416479, "body": "The answer on this post should help ... <a href=\"http://stackoverflow.com/questions/3277503/how-to-read-a-file-line-by-line-into-a-list\" title=\"how to read a file line by line into a list\">stackoverflow.com/questions/3277503/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1486592093, "creation_date": 1486592093, "answer_id": 42124649, "question_id": 42124091, "link": "https://stackoverflow.com/questions/42124091/how-do-i-read-multiple-lines-of-data-from-a-file-into-python/42124649#42124649", "title": "How do I read multiple lines of data from a file into python?", "body": "<pre><code>with open('/path/to/file.txt', 'r') as inputFile:\n    for line in inputFile:\n        try:\n            # Skip lines until we find an entry\n            while len(line) &lt; 5 or line[:5] != 'ENTRY':\n                line = inputFile.next()\n            # Setup for logging that entry\n            cmNm = line.split()\n            cmName = []\n            # Append all name lines\n            while len(line) &lt; 7 or line[:7] != 'FORMULA':\n                cmName.append(line)\n                line = inputFile.next()\n            # Process cmNm/cmName for current compound before moving on\n            print (str(cmNm) + \" \" + str(cmName))\n        except StopIteration:\n            pass # Reached end of file\n</code></pre>\n\n<p>cmNm contains the split list of the ENTRY line</p>\n\n<p>cmName contains a list of lines which together make up the name.</p>\n\n<p>You'll have to add whatever processing you want to store/format cmNm &amp; cmName how you want it. I just made it print them as it goes.</p>\n\n<p>You can safely <code>pass</code> on StopIteration so long as the last valid entry has a <code>FORMULA</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 7536919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5e7c123ef21add798dc3f6ad92d1b4c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7536919/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486592093, "creation_date": 1486589816, "last_edit_date": 1486589939, "question_id": 42124091, "link": "https://stackoverflow.com/questions/42124091/how-do-i-read-multiple-lines-of-data-from-a-file-into-python", "title": "How do I read multiple lines of data from a file into python?", "body": "<p>I have a file on chemical compounds that gives the name of a section with the corresponding data, sometimes with a few lines of data, before it has a new section with a different name. I'm trying to read the 'NAME' entries (minus the 'NAME' part) and read each name (if it has multiple) into a list, then break whenever it reaches the 'FORMULA' section and have it move onto the next 'NAME' section, but I don't know how. I'm a novice programmer. Here's an example: <a href=\"https://i.stack.imgur.com/ITGe1.png\" rel=\"nofollow noreferrer\">Compound List Screenshot</a>\n<a href=\"https://i.stack.imgur.com/7JFx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7JFx4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's my code so far:</p>\n\n<pre><code>li=[] #list of all names\nfor line in inputFile:\n    if line[:5]=='ENTRY':\n        items = line.split()\n        cmNm = items[1] #compound Number\n    else line[:4]=='NAME':\n        items = line.split()\n        cmName = items[]\n        if line[:7]=='FORMULA':\n            break\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1486589879, "post_id": 42124080, "comment_id": 71416284, "body": "Well what <i>should</i> happen if it&#39;s not in the dictionary?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7526938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-_McFHMt3Ph8/AAAAAAAAAAI/AAAAAAAAACU/fxv3QwU365c/photo.jpg?sz=128", "display_name": "Joshua Sullivan", "link": "https://stackoverflow.com/users/7526938/joshua-sullivan"}, "edited": false, "score": 0, "creation_date": 1486590258, "post_id": 42124114, "comment_id": 71416472, "body": "Thank you very much! And thanks for explaining how it works"}, {"owner": {"reputation": 25, "user_id": 7526938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-_McFHMt3Ph8/AAAAAAAAAAI/AAAAAAAAACU/fxv3QwU365c/photo.jpg?sz=128", "display_name": "Joshua Sullivan", "link": "https://stackoverflow.com/users/7526938/joshua-sullivan"}, "edited": false, "score": 0, "creation_date": 1486591627, "post_id": 42124114, "comment_id": 71417147, "body": "I appreciate your answer as it did help, but I also found this which checks if any of the words contained in the <code>message.content</code> are in the <code>dict</code> <code>any(st in message.content for st in _dict_love):</code>"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 25, "user_id": 7526938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-_McFHMt3Ph8/AAAAAAAAAAI/AAAAAAAAACU/fxv3QwU365c/photo.jpg?sz=128", "display_name": "Joshua Sullivan", "link": "https://stackoverflow.com/users/7526938/joshua-sullivan"}, "edited": false, "score": 0, "creation_date": 1486591989, "post_id": 42124114, "comment_id": 71417320, "body": "I am not sure that I understood what you just mentioned. Based on the code you mentioned in comment, it <i>checks for presence of any of key of <code>_dict_love</code> dict  in <code>message.content</code> string</i>. But how is it related to question is the thing which I doubt."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1486589902, "creation_date": 1486589902, "answer_id": 42124114, "question_id": 42124080, "link": "https://stackoverflow.com/questions/42124080/how-to-stop-the-keyerror-being-given-in-console/42124114#42124114", "title": "How to stop the KeyError being given in console", "body": "<p>You may return empty list <code>[]</code> using <code>dict.get</code> and then use that with <code>for</code> loop as:</p>\n\n<pre><code>for i in _dict_love.get(message.content, []):\n    # do something\n</code></pre>\n\n<hr>\n\n<p><strong>Explanation:</strong> Here, if <code>message.content</code> key will not be present in <code>_dict_love</code> dict, <code>_dict_love.get(message.content, [])</code> will return empty list. </p>\n"}], "owner": {"reputation": 25, "user_id": 7526938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-_McFHMt3Ph8/AAAAAAAAAAI/AAAAAAAAACU/fxv3QwU365c/photo.jpg?sz=128", "display_name": "Joshua Sullivan", "link": "https://stackoverflow.com/users/7526938/joshua-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 42124114, "answer_count": 1, "score": 0, "last_activity_date": 1486593941, "creation_date": 1486589785, "last_edit_date": 1486593941, "question_id": 42124080, "link": "https://stackoverflow.com/questions/42124080/how-to-stop-the-keyerror-being-given-in-console", "title": "How to stop the KeyError being given in console", "body": "<p>I have written this piece of code:</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n    if message.author == client.user:\n        return\n\n    for i in _dict_love[message.content]:\n        message_love_return = 1\n        print(\"true\")\n        break\n\n    if message_love_return == 1:\n        await bot.add_reaction(message, '\\N{HEAVY BLACK HEART}')\n</code></pre>\n\n<p>Basically what it does is checks to see if the message input sent from someone in Discord is in <code>_dict_love</code> and then adds an emoji to their message. The code is works, except every time someone sends a message that IS NOT in <code>_dict_love</code> it throws the following error:</p>\n\n<pre><code>Ignoring exception in on_message\nTraceback (most recent call last):\n  File \"C:\\Users\\Josh\\Desktop\\Programing\\woopyBot_pack\\discord\\client.py\", line 307, in _run_event\n    yield from getattr(self, event)(*args, **kwargs)\n  File \"C:/Users/Josh/Desktop/Programing/woopyBot_pack/main.py\", line 44, in on_message\n    for i in _dict_love[message.content]:\nKeyError: 'banana'\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "http", "telegram-bot", "aiohttp"], "answers": [{"tags": [], "owner": {"reputation": 390, "user_id": 4204673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b511925d6ce7fb19c75fa933546331?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4204673/robin"}, "is_accepted": true, "score": 1, "last_activity_date": 1502111387, "creation_date": 1502111387, "answer_id": 45547734, "question_id": 42124075, "link": "https://stackoverflow.com/questions/42124075/why-aiohttp-not-allows-colon-in-url-path/45547734#45547734", "title": "Why aiohttp not allows colon in url path?", "body": "<p>In GitHub you can go through the Blame history to see the commits that changed a specific part of the codebase.</p>\n\n<ol>\n<li>Initially it was only checked to not be None in <a href=\"https://github.com/aio-libs/aiohttp/commit/85668ad24637ce626591209f41d0e6d3fdfacd27#diff-b41dc5c66bc19f22fe7cc77c002db02cR296\" rel=\"nofollow noreferrer\">85668a</a>.</li>\n<li>This was however too relaxed, and so there was a limitation set to only accept Python identifiers in <a href=\"https://github.com/aio-libs/aiohttp/commit/a2aa20dacbeb34544cc69765e20dabe5718c0d57#diff-b41dc5c66bc19f22fe7cc77c002db02cR448\" rel=\"nofollow noreferrer\">a2aa20</a>.</li>\n<li>Then it seems that more relaxation was needed, so <a href=\"https://github.com/aio-libs/aiohttp/commit/98e3a9181d7b3264d7ebd7955a01ba9a08df9dc3#diff-b41dc5c66bc19f22fe7cc77c002db02cR392\" rel=\"nofollow noreferrer\">98e3a9</a> made the rule more relax by adding splitters for dot and colons. This was version 0.18.1.</li>\n<li>Next up dashes were added <a href=\"https://github.com/aio-libs/aiohttp/commit/8cc211adc3f36af12898c6beca2ac6b701de0a0b#diff-b41dc5c66bc19f22fe7cc77c002db02cR392\" rel=\"nofollow noreferrer\">8cc211</a>.</li>\n<li>Finally underscores were allowed as well <a href=\"https://github.com/aio-libs/aiohttp/commit/3fd3d6a8b52306c6ad7a78fe8859e7b42fc12893#diff-b41dc5c66bc19f22fe7cc77c002db02cR702\" rel=\"nofollow noreferrer\">3fd3d6</a></li>\n</ol>\n\n<p>So from 0.18.1 on, colons are allowed. I advise you to upgrade your aiohttp dependency.</p>\n\n<p>Another note, I am not 100% sure if you can use brackets in your url pattern see <a href=\"https://github.com/aio-libs/aiohttp/commit/85668ad24637ce626591209f41d0e6d3fdfacd27#diff-b41dc5c66bc19f22fe7cc77c002db02cR335\" rel=\"nofollow noreferrer\">85668a</a>.</p>\n"}], "owner": {"reputation": 65, "user_id": 3735457, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e629119005f814c80da27e0a3e70f958?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Denisovich", "link": "https://stackoverflow.com/users/3735457/ivan-denisovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 45547734, "answer_count": 1, "score": 1, "last_activity_date": 1502111387, "creation_date": 1486589771, "last_edit_date": 1486634777, "question_id": 42124075, "link": "https://stackoverflow.com/questions/42124075/why-aiohttp-not-allows-colon-in-url-path", "title": "Why aiohttp not allows colon in url path?", "body": "<p>I am creating a telegram bot that gets an updates via webhook. \nSo, i am successfully registered the webhook with url looks like:</p>\n\n<pre><code>https://my-app.herokuapp.com/123456789:aglbfiwefiuwehwelf  # url with fake token\n</code></pre>\n\n<p>And then i added a route to handle an update:</p>\n\n<pre><code>app.router.add_route('POST', '/123456789:aglbfiwefiuwehwelf', webhook)\n</code></pre>\n\n<p>The bot hosted on heroku and when i run it, i see a 404 error in a heroku log. I tested it locally and i found out that aiohttp not resolves the url with colon. I solved this problem by using a variable \n<code>app.router.add_route('POST', '/{token}', webhook)</code>, but i am interested in why actually aiohttp not allows a colon in url path?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 1, "creation_date": 1486589871, "post_id": 42124055, "comment_id": 71416278, "body": "Can you share the output you want?"}], "answers": [{"tags": [], "owner": {"reputation": 217, "user_id": 7531811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756e58acd0fc606e06be3a6b1e943199?s=128&d=identicon&r=PG&f=1", "display_name": "igoldthwaite", "link": "https://stackoverflow.com/users/7531811/igoldthwaite"}, "is_accepted": false, "score": 0, "last_activity_date": 1486589887, "creation_date": 1486589887, "answer_id": 42124108, "question_id": 42124055, "link": "https://stackoverflow.com/questions/42124055/python-get-text-between-two-strings/42124108#42124108", "title": "Python: Get text between two strings", "body": "<blockquote>\n  <p>Return None if no position in the string matches the pattern; note that this is different from finding a zero-length match at some point in the string.</p>\n</blockquote>\n\n<p>It seems .search() is returning None. According to the python api this means there is no position that matches the pattern.</p>\n"}, {"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1486590028, "creation_date": 1486590028, "answer_id": 42124153, "question_id": 42124055, "link": "https://stackoverflow.com/questions/42124055/python-get-text-between-two-strings/42124153#42124153", "title": "Python: Get text between two strings", "body": "<p>Use the <a href=\"https://docs.python.org/2/library/re.html#re.DOTALL\" rel=\"nofollow noreferrer\"><code>re.S</code></a> flag which will make <code>.</code> match the new line character(s) also:</p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'asitename(.*?)end', myFileread, re.S).group(1)\n'][/url]\\r\\n[url=x]hello[/url]\\r\\n[url=x]a text[/url]\\r\\n[url=n]test[/url]\\r\\n\\ttest\\n\\r\\n\\t\\t\\r\\n\\t\\twarn user\\r\\n\\t\\r\\n\\t2\\r\\n\\t02-06-2017, 01:44 am\\nby cinccino. \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6178987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a32e07e079e3d0084a679e9c0e61d4fb?s=128&d=identicon&r=PG&f=1", "display_name": "hellobro", "link": "https://stackoverflow.com/users/6178987/hellobro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486590028, "creation_date": 1486589696, "last_edit_date": 1486589805, "question_id": 42124055, "link": "https://stackoverflow.com/questions/42124055/python-get-text-between-two-strings", "title": "Python: Get text between two strings", "body": "<p>I have a question. I am trying to get a certain string between two substrings from a text file.</p>\n\n<p>The text file is larger, but part of it contains this:</p>\n\n<blockquote>\n  <p>r\\n[url=asitename][/url]\\r\\n[url=x]hello[/url]\\r\\n[url=x]a text[/url]\\r\\n[url=n]test[/url]\\r\\n\\ttest<br/>\\r\\n\\t\\t\\r\\n\\t\\twarn user\\r\\n\\t\\r\\n\\t2\\r\\n\\t02-06-2017, 01:44 am<br />by cinccino. end: modcp_reports_report --></p>\n</blockquote>\n\n<p>Now, I am interested in the text next between 'asitename' and 'end:'</p>\n\n<p>I would like to get the text between those strings.</p>\n\n<p>I have tried this:</p>\n\n<pre><code>lookup = 'asitename'\nmyFileread = myFile.read()\nre.search(lookup+'(.*)end', myFileread).group(1)\n</code></pre>\n\n<p>However, it returns the following error:</p>\n\n<blockquote>\n  <p>AttributeError: 'NoneType' object has no attribute 'group'</p>\n</blockquote>\n\n<p>I am confused as to why this is not working. It works with more simple strings.</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 7730, "user_id": 5511849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggmzY.png?s=128&g=1", "display_name": "Grey Li", "link": "https://stackoverflow.com/users/5511849/grey-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1486615889, "last_edit_date": 1486615889, "creation_date": 1486615248, "answer_id": 42128375, "question_id": 42124052, "link": "https://stackoverflow.com/questions/42124052/flask-only-returning-one-value/42128375#42128375", "title": "Flask only returning one value", "body": "<p>View: </p>\n\n<pre><code>from craigslist import CraigslistForSale\nfrom flask import Flask, render_template\napp = Flask(__name__)\n\n@app.route('/')\ndef get_info():\n    item = CraigslistForSale(site='southjersey', \n        category='fua', filters={'max_price':200})\n\n    return render_template('index.html', items=item.get_results())\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>\n\n<p>Template (<code>index.html</code>):</p>\n\n<pre><code>{% for product in items %}\n    {{ product['name'] }}\n    {{ product['price'] }}\n    ...\n{% endfor %} \n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6117786, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/29240e457e480593e886704c62c3622b?s=128&d=identicon&r=PG&f=1", "display_name": "snovosel", "link": "https://stackoverflow.com/users/6117786/snovosel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486617020, "creation_date": 1486589690, "last_edit_date": 1486617020, "question_id": 42124052, "link": "https://stackoverflow.com/questions/42124052/flask-only-returning-one-value", "title": "Flask only returning one value", "body": "<p>I have a function that pulls info from the web and I can print it to my console without a problem. However, I'm running into issues with having the flask application print the info to the browser. Here's what I have so far:</p>\n\n<pre><code>from craigslist import CraigslistForSale\nfrom flask import Flask, render_template\napp = Flask(__name__)\n\n@app.route('/')\ndef get_info():\n    item = CraigslistForSale(site='southjersey', \n        category='fua', filters={'max_price':200})\n    for product in item.get_results():\n        a = product\n        return a['name'], a['price']\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>\n\n<p>From the code above, my browser only shows one name of one return value. for example, only <code>a['name']</code> of the first return value, no price and no other objects.</p>\n\n<p>Why is this happening (only displaying one single value), and how can I work around this to display the entire return object (which is a dictionary).</p>\n"}, {"tags": ["python", "django", "datetime"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1486591003, "post_id": 42124050, "comment_id": 71416839, "body": "Storing date+time fields in a database in UTC is recommended practice, because UTC is unambiguous. You probably want to find a way to display the time in the <i>user&#39;s</i> timezone rather than your own."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7376809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727a2c51f35f21f98cf11c173e964c8f?s=128&d=identicon&r=PG&f=1", "display_name": "lawrencehagman", "link": "https://stackoverflow.com/users/7376809/lawrencehagman"}, "edited": false, "score": 0, "creation_date": 1490987710, "post_id": 42124384, "comment_id": 73373569, "body": "Thanks, this makes a lot of sense now."}, {"owner": {"reputation": 528, "user_id": 5947007, "user_type": "registered", "profile_image": "https://graph.facebook.com/877661248998360/picture?type=large", "display_name": "Shahriar Rahman Zahin", "link": "https://stackoverflow.com/users/5947007/shahriar-rahman-zahin"}, "edited": false, "score": 0, "creation_date": 1611510050, "post_id": 42124384, "comment_id": 116469120, "body": "This worked for me! Thanks"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 5, "last_activity_date": 1486591214, "last_edit_date": 1486591214, "creation_date": 1486590902, "answer_id": 42124384, "question_id": 42124050, "link": "https://stackoverflow.com/questions/42124050/timezone-aware-datetime-objects-in-django-templates/42124384#42124384", "title": "timezone aware datetime objects in django templates", "body": "<p>*) You can enable or disable conversion of aware datetime objects using templates tags:</p>\n\n<pre><code>{% load tz %}\n\n{% localtime on %}\n    {{ value }}\n{% endlocaltime %}\n\n{% localtime off %}\n    {{ value }}\n{% endlocaltime %}\n</code></pre>\n\n<p>*) In <code>setting.py</code>, you can configure <code>TIME_ZONE</code> and <code>USE_TZ</code></p>\n\n<p>Store datetime in UTC time is good(below quote from Django website):</p>\n\n<blockquote>\n  <p>it\u2019s still good practice to store data in UTC in your database. The main reason is Daylight Saving Time (DST). Many countries have a system of DST, where clocks are moved forward in spring and backward in autumn. If you\u2019re working in local time, you\u2019re likely to encounter errors twice a year, when the transitions happen. (The pytz documentation discusses these issues in greater detail.) This probably doesn\u2019t matter for your blog, but it\u2019s a problem if you over-bill or under-bill your customers by one hour, twice a year, every year. The solution to this problem is to use UTC in the code and use local time only when interacting with end users.</p>\n</blockquote>\n\n<p>Read more from the <a href=\"https://docs.djangoproject.com/en/1.10/topics/i18n/timezones/\" rel=\"nofollow noreferrer\">official Django Site</a></p>\n"}, {"tags": [], "owner": {"reputation": 779, "user_id": 5961077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3Kn2nccSQ3A/AAAAAAAAAAI/AAAAAAAADbM/hvssvm5FIPs/photo.jpg?sz=128", "display_name": "Mehdi Zare", "link": "https://stackoverflow.com/users/5961077/mehdi-zare"}, "is_accepted": false, "score": 1, "last_activity_date": 1589748345, "creation_date": 1589748345, "answer_id": 61858541, "question_id": 42124050, "link": "https://stackoverflow.com/questions/42124050/timezone-aware-datetime-objects-in-django-templates/61858541#61858541", "title": "timezone aware datetime objects in django templates", "body": "<p>Just adding an answer as a reference using Django 3.x new syntax:</p>\n\n<p>In template, include tz:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>{% load tz %}\n</code></pre>\n\n<p>When displaying your timezone aware object, either use <code>timezone:'TIMEZONE'</code> filter or <code>localtime</code> filter:</p>\n\n<p>Your code should look like this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n&lt;tbody&gt;\n  {% for session in session_list %}\n      &lt;tr&gt;&lt;/tr&gt;&lt;td&gt;{{session.date|localtime}}&lt;/td&gt;&lt;td&gt;{{session.email}}&lt;/td&gt;&lt;td&gt;{{session.userData}}&lt;/td&gt;&lt;/tr&gt;\n  {% endfor %}\n\n&lt;/tbody&gt;\n</code></pre>\n\n<p>Read more <a href=\"https://docs.djangoproject.com/en/3.0/topics/i18n/timezones/\" rel=\"nofollow noreferrer\">here</a> on Django official website.</p>\n"}], "owner": {"reputation": 63, "user_id": 7376809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727a2c51f35f21f98cf11c173e964c8f?s=128&d=identicon&r=PG&f=1", "display_name": "lawrencehagman", "link": "https://stackoverflow.com/users/7376809/lawrencehagman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 0, "accepted_answer_id": 42124384, "answer_count": 2, "score": 6, "last_activity_date": 1589748345, "creation_date": 1486589660, "last_edit_date": 1486591698, "question_id": 42124050, "link": "https://stackoverflow.com/questions/42124050/timezone-aware-datetime-objects-in-django-templates", "title": "timezone aware datetime objects in django templates", "body": "<p>I'm having trouble understanding how to use datetime objects in a django db. </p>\n\n<p>I'm storing <code>datetime.now()</code> in a <code>DateTimeField</code> but having trouble displaying it in a readable way. Currently it displays UTC time.</p>\n\n<p>Should I storing a timezone with the datetimefield or should I always be converting it to my timezone during queries and template views?</p>\n\n<p>This is so complicated I must be doing this completely wrong.</p>\n\n<p>How would I display Pacific timezone time in a template if that were the case?</p>\n\n<p>Thank you.</p>\n\n<pre><code>&lt;tbody&gt;\n  {% for session in session_list %}\n      &lt;tr&gt;&lt;/tr&gt;&lt;td&gt;{{session.date}}&lt;/td&gt;&lt;td&gt;{{session.email}}&lt;/td&gt;&lt;td&gt;{{session.userData}}&lt;/td&gt;&lt;/tr&gt;\n  {% endfor %}\n\n&lt;/tbody&gt;\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1486589697, "post_id": 42124032, "comment_id": 71416193, "body": "Please provide a sample and desired data sets..."}], "answers": [{"tags": [], "owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1486593835, "creation_date": 1486593835, "answer_id": 42125063, "question_id": 42124032, "link": "https://stackoverflow.com/questions/42124032/pandas-intersect-multiple-series-based-on-index/42125063#42125063", "title": "Pandas intersect multiple series based on index", "body": "<p>The command <code>pd.concat</code> is intended specifically for this. Note that, in my example, the indexes are all the same but <code>pd.concat</code> will intersect indexes automatically. </p>\n\n<pre><code>## generate data\nseries_list = [pd.Series(np.random.randn(10)) for x in range(10)]\n\n## output example\nIn [13]: pd.concat(series_list, axis=1)\nOut[13]:\n          0         1         2         3         4         5         6  \\\n0  0.859256 -2.283672  0.539067 -0.745864 -2.658162  0.353576  0.482614\n1  0.999823  0.155528 -0.579598  0.356863 -0.135860 -0.406351  0.888127\n2 -0.727666 -1.571515  0.639486  0.394803  0.478038  0.244531 -1.422910\n3  0.582662  1.469884 -3.337026 -0.407253 -2.351327 -0.676233  0.018020\n4  1.173179  0.211506 -0.360274 -0.299976 -0.479131  1.735279  0.549555\n5 -1.589117 -2.037131 -1.843098  0.066606  0.166258 -1.444472  1.534016\n6 -0.275819 -0.978669  2.299632  0.807746 -1.358762  1.190374 -0.668204\n7  0.933350 -0.536032  1.285759  0.677269 -0.385078 -0.357661  2.085237\n8  0.167977  0.090950  1.220945  1.085571 -0.486978  0.848816 -0.559023\n9 -1.006001 -0.168631  1.501675 -0.351409  1.719402  0.337982 -0.776788\n\n          7         8         9\n0  0.015773  2.356775 -1.288013\n1  1.292615  1.272147  0.347335\n2  1.410002 -0.364822 -0.372589\n3 -2.306940 -0.816853  2.565389\n4 -1.815764 -1.547376  1.104517\n5 -1.561681 -0.373882  0.582264\n6 -1.272563 -0.317298 -0.446855\n7  1.179011 -1.402293  0.424124\n8 -1.839095  1.278204 -1.166991\n9  0.950620  0.681596 -1.908053\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1486609204, "creation_date": 1486609204, "answer_id": 42127482, "question_id": 42124032, "link": "https://stackoverflow.com/questions/42124032/pandas-intersect-multiple-series-based-on-index/42127482#42127482", "title": "Pandas intersect multiple series based on index", "body": "<p>Consider the list of series <code>los</code></p>\n\n<pre><code>los = [\n    pd.Series([1, 2, 3], [0, 2, 4], name='A'),\n    pd.Series([1, 2, 3], [1, 2, 4], name='B'),\n    pd.Series([1, 2, 3], [4, 3, 2], name='C')\n]\n</code></pre>\n\n<p>Using <code>pd.concat</code> with parameter <code>join='inner'</code><br>\n<code>'inner'</code> is required to get the intersection of indices</p>\n\n<pre><code>pd.concat(los, axis=1, join='inner')\n\n   A  B  C\n4  3  3  1\n2  2  2  3\n</code></pre>\n\n<hr>\n\n<p>Had we not used <code>join='inner'</code></p>\n\n<pre><code>pd.concat(los, axis=1)\n\n     A    B    C\n0  1.0  NaN  NaN\n1  NaN  1.0  NaN\n2  2.0  2.0  3.0\n3  NaN  NaN  2.0\n4  3.0  3.0  1.0\n</code></pre>\n\n<p>Which is <strong><em>not</em></strong> the intersection</p>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1070, "favorite_count": 0, "accepted_answer_id": 42127482, "answer_count": 2, "score": 3, "last_activity_date": 1486609204, "creation_date": 1486589607, "last_edit_date": 1486593029, "question_id": 42124032, "link": "https://stackoverflow.com/questions/42124032/pandas-intersect-multiple-series-based-on-index", "title": "Pandas intersect multiple series based on index", "body": "<p>I have a list of <code>pandas.core.series.Series</code>. The size of list is 10. Each series in the list has an index and a value.</p>\n\n<p>I want to intersect the 10 <code>pandas.core.series.Series</code> in the list to obtain one final DataFrame of all values with common index as the new index. It should have 10 columns for values corresponding to elements in the original list.</p>\n\n<p>Is there a pythonic way to do this instead of using series intersection multiple times?</p>\n"}, {"tags": ["python", "cuda", "tensorflow", "nvprof"], "comments": [{"owner": {"reputation": 800, "user_id": 939070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ff04d575a4e8ccc84bbefb70b14524?s=128&d=identicon&r=PG", "display_name": "ApoorvaJ", "link": "https://stackoverflow.com/users/939070/apoorvaj"}, "edited": false, "score": 0, "creation_date": 1486661013, "post_id": 42124029, "comment_id": 71452208, "body": "Could you try <code>nvprof --profile-child-processes python ass2.py</code>? The profile-child-processes option is needed because your target application - python - probably executes GPU stuff in a new spawned process."}], "answers": [{"comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 2, "creation_date": 1487480428, "post_id": 42310744, "comment_id": 71800731, "body": "perhaps because you have more than one <code>nvprof</code> on your system, from different versions of CUDA, and your <code>PATH</code> environment variable is picking up the wrong one."}], "tags": [], "owner": {"reputation": 2209, "user_id": 1514682, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/aIQVE.jpg?s=128&g=1", "display_name": "Khayam Gondal", "link": "https://stackoverflow.com/users/1514682/khayam-gondal"}, "is_accepted": true, "score": 0, "last_activity_date": 1487388522, "creation_date": 1487388522, "answer_id": 42310744, "question_id": 42124029, "link": "https://stackoverflow.com/questions/42124029/unable-to-import-nvprof-generated-profile-data/42310744#42310744", "title": "Unable to import nvprof generated profile data", "body": "<p>I don't know the exact reason but using the full path of nvprof <code>/usr/bin/nvprof</code> solved the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 3110, "user_id": 5470144, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VVhju.jpg?s=128&g=1", "display_name": "Elad Weiss", "link": "https://stackoverflow.com/users/5470144/elad-weiss"}, "edited": false, "score": 0, "creation_date": 1528956777, "post_id": 42849155, "comment_id": 88704094, "body": "Solved my problem!"}], "tags": [], "owner": {"reputation": 91, "user_id": 7725034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885159968a97395cdb78119664471812?s=128&d=identicon&r=PG&f=1", "display_name": "changqi.xia", "link": "https://stackoverflow.com/users/7725034/changqi-xia"}, "is_accepted": false, "score": 8, "last_activity_date": 1547709217, "last_edit_date": 1547709217, "creation_date": 1489724340, "answer_id": 42849155, "question_id": 42124029, "link": "https://stackoverflow.com/questions/42124029/unable-to-import-nvprof-generated-profile-data/42849155#42849155", "title": "Unable to import nvprof generated profile data", "body": "<p>use <code>/usr/local/cuda/bin/nvprof xxx</code>,  maybe you have install two versions of cuda</p>\n\n<p>OR \nyou can add <code>/usr/local/cuda/bin</code> to <code>PATH</code> enviroment.</p>\n\n<pre><code>vim ~/.bashrc\nexport PATH=$PATH:/usr/local/cuda/bin\nsource ~/.bashrc\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 1514682, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/aIQVE.jpg?s=128&g=1", "display_name": "Khayam Gondal", "link": "https://stackoverflow.com/users/1514682/khayam-gondal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3212, "favorite_count": 2, "accepted_answer_id": 42310744, "answer_count": 2, "score": 2, "last_activity_date": 1547709217, "creation_date": 1486589590, "question_id": 42124029, "link": "https://stackoverflow.com/questions/42124029/unable-to-import-nvprof-generated-profile-data", "title": "Unable to import nvprof generated profile data", "body": "<p>I am trying to profile a TensorFlow based code using <strong>nvprof</strong>. I am using following command for this</p>\n\n<pre><code>nvprof  python ass2.py\n</code></pre>\n\n<p>The program runs successfully but at the end it shows following error.</p>\n\n<pre><code>==49791== Profiling application: python ass2.py\n======== Error: Unable to import nvprof generated profile data.\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 21339, "user_id": 4964651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1vkz.jpg?s=128&g=1", "display_name": "mtoto", "link": "https://stackoverflow.com/users/4964651/mtoto"}, "edited": false, "score": 0, "creation_date": 1486592272, "post_id": 42124010, "comment_id": 71417444, "body": "please share example data, you probably need to join though."}, {"owner": {"reputation": 10758, "user_id": 1547734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f04f16159d32d324932213999959cfb?s=128&d=identicon&r=PG", "display_name": "Assaf Mendelson", "link": "https://stackoverflow.com/users/1547734/assaf-mendelson"}, "edited": false, "score": 0, "creation_date": 1486618190, "post_id": 42124010, "comment_id": 71425099, "body": "How are they matched? why are the words for [the, cat, and, dog, ran] matched to the article the cat and dog ran and not another article?"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 6641327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f198f60738055643cef2daec9d8ca13?s=128&d=identicon&r=PG&f=1", "display_name": "jakko", "link": "https://stackoverflow.com/users/6641327/jakko"}, "edited": false, "score": 0, "creation_date": 1486650313, "post_id": 42131624, "comment_id": 71444568, "body": "That&#39;s pretty much what I want but I have 3k articles and I want to apply a function to each of those articles to perform some cleaning (not just split) and put it in a dataframe like you have above. This is my first time using pyspark so I&#39;m not sure of the best approaches."}, {"owner": {"reputation": 1242, "user_id": 6657815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d9530b27299d0248df63719d13977f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Dhama", "link": "https://stackoverflow.com/users/6657815/gaurav-dhama"}, "reply_to_user": {"reputation": 645, "user_id": 6641327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f198f60738055643cef2daec9d8ca13?s=128&d=identicon&r=PG&f=1", "display_name": "jakko", "link": "https://stackoverflow.com/users/6641327/jakko"}, "edited": false, "score": 1, "creation_date": 1486651102, "post_id": 42131624, "comment_id": 71445107, "body": "Can you provide a sample file of your actual data. Any arbitrary function can be applied with the help of udf in spark"}, {"owner": {"reputation": 645, "user_id": 6641327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f198f60738055643cef2daec9d8ca13?s=128&d=identicon&r=PG&f=1", "display_name": "jakko", "link": "https://stackoverflow.com/users/6641327/jakko"}, "edited": false, "score": 0, "creation_date": 1486652606, "post_id": 42131624, "comment_id": 71446252, "body": "got it to work using udf: newdf = df.withColumn(&quot;words&quot;,udf_clean_text(&quot;articles&quot;)) thanks!!"}, {"owner": {"reputation": 521, "user_id": 4048628, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QbJJz.png?s=128&g=1", "display_name": "ChiMo", "link": "https://stackoverflow.com/users/4048628/chimo"}, "edited": false, "score": 0, "creation_date": 1526349188, "post_id": 42131624, "comment_id": 87698615, "body": "If this solved your problem, make sure to mark this answer as correct."}], "tags": [], "owner": {"reputation": 1242, "user_id": 6657815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d9530b27299d0248df63719d13977f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Dhama", "link": "https://stackoverflow.com/users/6657815/gaurav-dhama"}, "is_accepted": false, "score": 3, "last_activity_date": 1486629156, "creation_date": 1486629156, "answer_id": 42131624, "question_id": 42124010, "link": "https://stackoverflow.com/questions/42124010/add-pyspark-rdd-as-new-column-to-pyspark-sql-dataframe/42131624#42131624", "title": "Add PySpark RDD as new column to pyspark.sql.dataframe", "body": "<p>Why do you want to join the rdd back to the dataframe, I would rather create a new column from \"Articles\" directly. There are multiple ways to do it, here are my 5 cents:</p>\n\n<pre><code>from pyspark.sql import Row\nfrom pyspark.sql.context import SQLContext\nsqlCtx = SQLContext(sc)    # sc is the sparkcontext\n\nx = [Row(Articles='the cat and dog ran'),Row(Articles='we went to the park'),Row(Articles='today it will rain')]\ndf = sqlCtx.createDataFrame(x)\n\ndf2 = df.map(lambda x:tuple([x.Articles,x.Articles.split(' ')])).toDF(['Articles','words'])\ndf2.show()\n</code></pre>\n\n<p>You get the following output:</p>\n\n<pre><code>Articles                 words\nthe cat and dog ran      [the, cat, and, dog, ran]\nwe went to the park      [we, went, to, the, park]\ntoday it will rain       [today, it, will, rain]\n</code></pre>\n\n<p>Let me know if you were looking to achieve something else.</p>\n"}, {"comments": [{"owner": {"reputation": 10269, "user_id": 3950370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b44be8311e04ebbf6d1d153e0aae4a69?s=128&d=identicon&r=PG", "display_name": "Lukas K&#246;rfer", "link": "https://stackoverflow.com/users/3950370/lukas-k%c3%b6rfer"}, "edited": false, "score": 5, "creation_date": 1501750481, "post_id": 45477948, "comment_id": 77919136, "body": "Please explain how and why your code solves the problem or improves the code from the question."}], "tags": [], "owner": {"reputation": 549, "user_id": 8243597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JdS1JLdtJ58/AAAAAAAAAAI/AAAAAAAAAB8/HWunMu1Vosg/photo.jpg?sz=128", "display_name": "Elior Malul", "link": "https://stackoverflow.com/users/8243597/elior-malul"}, "is_accepted": false, "score": -2, "last_activity_date": 1501746332, "creation_date": 1501746332, "answer_id": 45477948, "question_id": 42124010, "link": "https://stackoverflow.com/questions/42124010/add-pyspark-rdd-as-new-column-to-pyspark-sql-dataframe/45477948#45477948", "title": "Add PySpark RDD as new column to pyspark.sql.dataframe", "body": "<pre><code>rdd1 = spark.sparkContext.parallelize([1, 2, 3, 5])\n# make some transformation on rdd1:\nrdd2 = rdd.map(lambda n: True if n % 2 else False)\n# Append each row in rdd2 to those in rdd1.\nrdd1.zip(rdd2).collect()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1467, "user_id": 5090081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c684449acc79d93475dc04526e28b6b?s=128&d=identicon&r=PG&f=1", "display_name": "bendl", "link": "https://stackoverflow.com/users/5090081/bendl"}, "edited": false, "score": 0, "creation_date": 1526736519, "post_id": 50293589, "comment_id": 87866202, "body": "In my case all rows are randomly generated, so order is unimportant. This should work well, thank you."}, {"owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "reply_to_user": {"reputation": 1467, "user_id": 5090081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c684449acc79d93475dc04526e28b6b?s=128&d=identicon&r=PG&f=1", "display_name": "bendl", "link": "https://stackoverflow.com/users/5090081/bendl"}, "edited": false, "score": 0, "creation_date": 1526815055, "post_id": 50293589, "comment_id": 87882628, "body": "@bendl In general you still prefer methods, which don&#39;t require combining structures. If you generate random data, then <code>udf</code> or <code>map</code> should work perfectly."}], "tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": false, "score": 10, "last_activity_date": 1526051688, "last_edit_date": 1526051688, "creation_date": 1526045794, "answer_id": 50293589, "question_id": 42124010, "link": "https://stackoverflow.com/questions/42124010/add-pyspark-rdd-as-new-column-to-pyspark-sql-dataframe/50293589#50293589", "title": "Add PySpark RDD as new column to pyspark.sql.dataframe", "body": "<p><strong>Disclaimer</strong>:</p>\n\n<p>Spark <code>DataFrame</code> in general has no strictly defined order. Use at your own risk.</p>\n\n<p>Add index to existing <code>DataFrame</code>:</p>\n\n<pre><code>from pyspark.sql.types import *\n\ndf_index = spark.createDataFrame(\n    df.rdd.zipWithIndex(),\n    StructType([StructField(\"data\", df.schema), StructField(\"id\", LongType())])\n)\n</code></pre>\n\n<p>Add index to <code>RDD</code> and convert to <code>DataFrame</code>:</p>\n\n<pre><code>words_df = spark.createDataFrame(\n    words_rdd.zipWithIndex(),\n    StructType([\n        StructField(\"words\", ArrayType(StringType())),\n        StructField(\"id\", LongType())\n    ])\n)\n</code></pre>\n\n<p>Join both and select required fields:</p>\n\n<pre><code>df_index.join(words_df, \"id\").select(\"data.*\", \"words\")\n</code></pre>\n\n<p><strong>Caution</strong></p>\n\n<p>There are different solutions, which might work in specific cases, but don't guarantee performance and or correctness. These include:</p>\n\n<ul>\n<li>Using <code>monotonically_increasing_id</code> as a <code>join</code> key - in general case not correct.</li>\n<li>Using <code>row_number()</code> window function as a join key - unacceptable performance implication and in general not correct if there is no specific order defined.</li>\n<li>Using <code>zip</code> on <code>RDDs</code> - can work if and only if both structures have the same data distribution (should work in this case).</li>\n</ul>\n\n<p><strong>Note</strong>:</p>\n\n<p>In this specific case you shouldn't need <code>RDD</code>. <code>pyspark.ml.feature</code> provides a variety of <code>Transformers</code>, which should work well for you.</p>\n\n<pre><code>from pyspark.ml.feature import *\nfrom pyspark.ml import Pipeline\n\ndf = spark.createDataFrame(\n     [\"the cat and dog ran\", \"we went to the park\", \"today it will rain\"],\n         \"string\"\n).toDF(\"Articles\")\n\nPipeline(stages=[\n    RegexTokenizer(inputCol=\"Articles\", outputCol=\"Tokens\"), \n    StopWordsRemover(inputCol=\"Tokens\", outputCol=\"Words\")\n]).fit(df).transform(df).show()\n# +-------------------+--------------------+---------------+\n# |           Articles|              Tokens|          Words|\n# +-------------------+--------------------+---------------+\n# |the cat and dog ran|[the, cat, and, d...|[cat, dog, ran]|\n# |we went to the park|[we, went, to, th...|   [went, park]|\n# | today it will rain|[today, it, will,...|  [today, rain]|\n# +-------------------+--------------------+---------------+\n</code></pre>\n\n<p>The list of stop words can be provided using <code>stopWords</code> parameter of the <code>StopWordsRemover</code>, for example:</p>\n\n<pre><code>StopWordsRemover(\n    inputCol=\"Tokens\",\n    outputCol=\"Words\",\n    stopWords=[\"the\", \"and\", \"we\", \"to\", \"it\"]\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2985, "user_id": 2618461, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/59Ogc.jpg?s=128&g=1", "display_name": "Michail N", "link": "https://stackoverflow.com/users/2618461/michail-n"}, "is_accepted": false, "score": 2, "last_activity_date": 1526550578, "creation_date": 1526550578, "answer_id": 50388412, "question_id": 42124010, "link": "https://stackoverflow.com/questions/42124010/add-pyspark-rdd-as-new-column-to-pyspark-sql-dataframe/50388412#50388412", "title": "Add PySpark RDD as new column to pyspark.sql.dataframe", "body": "<p>A simple approach but effective would be to use <a href=\"https://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.UDFRegistration\" rel=\"nofollow noreferrer\">udf</a>. You can:</p>\n\n<pre><code>from pyspark.sql.functions import udf\nfrom pyspark.sql.types import StringType\n\ndf = spark.createDataFrame([\"the cat and dog ran\", \"we went to the park\", \"today it will rain\", None], \n\"string\" ).toDF(\"Articles\")\n\nsplit_words = udf(lambda x : x.split(' ') if x is not None else x, StringType())\ndf = df.withColumn('Words', split_words(df['Articles']))\n\ndf.show(10,False)\n&gt;&gt;\n+-------------------+-------------------------+\n|Articles           |Words                    |\n+-------------------+-------------------------+\n|the cat and dog ran|[the, cat, and, dog, ran]|\n|we went to the park|[we, went, to, the, park]|\n|today it will rain |[today, it, will, rain]  |\n|null               |null                     |\n+-------------------+-------------------------+\n</code></pre>\n\n<p>I added check for None because it very usual to have in your data bad lines. You can drop them easily after splitting or  before ,with dropna. </p>\n\n<p>But in my opinion if you want to do this as a preparation task for Text analytics it would be probably to your best interest to build a Pipeline as @user9613318 suggests in his answer</p>\n"}], "owner": {"reputation": 645, "user_id": 6641327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f198f60738055643cef2daec9d8ca13?s=128&d=identicon&r=PG&f=1", "display_name": "jakko", "link": "https://stackoverflow.com/users/6641327/jakko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7290, "favorite_count": 2, "answer_count": 4, "score": 4, "last_activity_date": 1526550578, "creation_date": 1486589511, "last_edit_date": 1486650749, "question_id": 42124010, "link": "https://stackoverflow.com/questions/42124010/add-pyspark-rdd-as-new-column-to-pyspark-sql-dataframe", "title": "Add PySpark RDD as new column to pyspark.sql.dataframe", "body": "<p>I have a pyspark.sql.dataframe where each row is a news article. I then have a RDD that represents the words contained in each article. I want to add the RDD of words as a column named 'words' to my dataframe of new articles. I tried </p>\n\n<pre><code>df.withColumn('words', words_rdd )\n</code></pre>\n\n<p>but I get the error</p>\n\n<pre><code>AssertionError: col should be Column\n</code></pre>\n\n<p>The DataFrame looks something like this</p>\n\n<pre><code>Articles\nthe cat and dog ran\nwe went to the park\ntoday it will rain\n</code></pre>\n\n<p>but I have 3k news articles.</p>\n\n<p>I applied a function to clean the text such as remove stop words and I have a RDD that looks like this:</p>\n\n<pre><code>[[cat, dog, ran],[we, went, park],[today, will, rain]]\n</code></pre>\n\n<p>I'm trying to get my Dataframe to look like this:</p>\n\n<pre><code>Articles                 Words\nthe cat and dog ran      [cat, dog, ran]\nwe went to the park      [we, went, park]\ntoday it will rain       [today, will, rain]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "simulation", "networkx"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7272186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154281247938165/picture?type=large", "display_name": "Skippeh", "link": "https://stackoverflow.com/users/7272186/skippeh"}, "edited": false, "score": 0, "creation_date": 1486660736, "post_id": 42125728, "comment_id": 71452013, "body": "Thank you, the nearest neighbour suggestion helped a lot and I have used a Ball Tree to get a csv with each nodes nearest neighbour nodes on it, I&#39;m just trying to figure out how to draw edges like this."}, {"owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "reply_to_user": {"reputation": 25, "user_id": 7272186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154281247938165/picture?type=large", "display_name": "Skippeh", "link": "https://stackoverflow.com/users/7272186/skippeh"}, "edited": false, "score": 0, "creation_date": 1486662413, "post_id": 42125728, "comment_id": 71453135, "body": "Nice!  If it helped please consider upvoting and accepting the answer :). Good luck."}], "tags": [], "owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "is_accepted": true, "score": 0, "last_activity_date": 1486640571, "last_edit_date": 1486640571, "creation_date": 1486597456, "answer_id": 42125728, "question_id": 42123973, "link": "https://stackoverflow.com/questions/42123973/fast-3d-distance-between-n-points-python-using-networkx-nodes-in-python/42125728#42125728", "title": "Fast 3d distance between N points python using networkx nodes in python", "body": "<p>A few remarks from what I understood.\nYou want to create an \"epsilon-neighborhood graph\", computing distances from all nodes to each others then filtering if the distance is under a threshold epsilon.</p>\n\n<p>Knowing that your graph is undirected, you only need to do (N x (N - 1)) / 2 computations. It is still quadratic O(n^2) but your loop to create the edges should be changed so that the inner loop always starts at outer loop index + 1. It will reduce the computations by half.</p>\n\n<p>Now if you want to really scale, you should ponder if you could use approximate nearest neighbors methods since you use the standard L2 norm (Euclidean distance).</p>\n\n<p>I suggest you take a look at <a href=\"https://github.com/searchivarius/nmslib\" rel=\"nofollow noreferrer\">NMSLib</a> or <a href=\"https://github.com/spotify/annoy\" rel=\"nofollow noreferrer\">Annoy</a> to do so. They have python bindings but are implemented in C++ under the hood for speed.</p>\n\n<p>Hope it helps. </p>\n"}], "owner": {"reputation": 25, "user_id": 7272186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154281247938165/picture?type=large", "display_name": "Skippeh", "link": "https://stackoverflow.com/users/7272186/skippeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 42125728, "answer_count": 1, "score": 0, "last_activity_date": 1486640571, "creation_date": 1486589376, "last_edit_date": 1486590124, "question_id": 42123973, "link": "https://stackoverflow.com/questions/42123973/fast-3d-distance-between-n-points-python-using-networkx-nodes-in-python", "title": "Fast 3d distance between N points python using networkx nodes in python", "body": "<p>I've been trying to figure this out all day and I just can't get it right. </p>\n\n<p>I'm currently running a colonisation simulation using site-to-site percolation. I am trying to scale it up to large numbers ~10^6 however the conventional numpy method for calculating distances I'm using scales quadratically so for such large runs the program runs for more than a day. I really want this to be faster. I've looked for solutions but I can't find anything that helps me with this as I have a custom class which is used in the simulation. </p>\n\n<p>So I want distances of each node to all the others and if the nodes are within a D_max of each other an edge is drawn, allowing emigration between the two nodes.</p>\n\n<pre><code>`density = 0.14 #Stellar density per cubic parsec\n L = 100\nPatches = int(0.056*density*L**3+15)\nDistance = 5\n\nnearand = np.genfromtxt('/Users/Skippy/nearand.csv', delimiter =    ',',usecols=np.arange(0, 3)).astype('float32') # a csv of 3d cartesian co-ordinates\n\nG = nx.Graph()\n\nxcoord = nearand[:,0]\nycoord = nearand[:,1]\nzcoord = nearand[:,2]\n\nclass patch:\n    def __init__(self,status=0,pos=(0,0,0)):\n        self.status = status\n        self.pos = pos\n    def __str__(self):\n        return(str(self.status))\n\nfor i in xrange(Patches):\n\n    Stat = 1 if np.random.uniform() &lt; P_init else 0 # a parameter used in the algorithm later\n    Pos  = (xcoord[i], ycoord[i], zcoord[i])\n\n    G.add_node(patch(Stat,Pos))\n\nfor p1 in G.nodes():\n    for p2 in G.nodes():\n        Dist = np.sqrt((p1.pos[2] - p2.pos[2])**2 + (p1.pos[1]-p2.pos[1])**2+(p1.pos[0]-p2.pos[0])**2)\n\n        if Dist &lt;= Distance:\n            G.add_edge(p1,p2)`\n</code></pre>\n\n<p>After this, the algorithm is run but the larger runs are held up on the distance calculations so it is only the distance needs optimising. Could anyone please help me with this? It looks similar to other problems, but I need to be able to draw these edges in the way the conventional numpy calculation calculates distances.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "edited": false, "score": 0, "creation_date": 1486589604, "post_id": 42123958, "comment_id": 71416158, "body": "Please clarify - the goal is to retrieve a set of Code_Release objects? What relations do you need in addition to those?"}, {"owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "reply_to_user": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "edited": false, "score": 0, "creation_date": 1486589933, "post_id": 42123958, "comment_id": 71416310, "body": "I want to be able to display the following: Site name, sw_delivery_date, release info (the str representation of the Ppack model), and the assigned_tech"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "edited": false, "score": 0, "creation_date": 1486759806, "post_id": 42125165, "comment_id": 71501775, "body": "Thanks so much - this is exactly what I needed. I can use <code>site.code_release_set.get(type=&quot;I&quot;).release</code> to get the specific piece of data (the release name for the site&#39;s inhouse environment)."}, {"owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "edited": false, "score": 0, "creation_date": 1486760884, "post_id": 42125165, "comment_id": 71502350, "body": "I may have spoken too soon. While I&#39;m in the shell, this works perfectly. But I can&#39;t use <code>site.code_release_set.get(type=&quot;I&quot;).release</code> while in the template. I get the following error - <code>Could not parse the remainder: (type=&quot;I&quot;).release from &#39;site.code_release_set.get(type=&quot;I&quot;).release&#39;</code>"}, {"owner": {"reputation": 1013, "user_id": 5616580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6d6fac2bd7d0e135af8bbe8363504735?s=128&d=identicon&r=PG&f=1", "display_name": "mateuszb", "link": "https://stackoverflow.com/users/5616580/mateuszb"}, "reply_to_user": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "edited": false, "score": 0, "creation_date": 1486767716, "post_id": 42125165, "comment_id": 71504923, "body": "@RobPeterson because you&#39;re not supposed to perform filtering within Django templates. Perhaps there are many other solutions, but the first that came to my mind was to declare custom property(or method) in Site model, where you access things that you need (e.g. create method <code>get_release</code> that have following statement <code>return self.code_release_set.get(type=&quot;I&quot;).release</code>). Then you just access it in your template <code>site.get_release</code>"}, {"owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "edited": false, "score": 1, "creation_date": 1486829205, "post_id": 42125165, "comment_id": 71519277, "body": "that&#39;s exactly what I needed. Working just as I wanted now. Thanks for your help!"}], "tags": [], "owner": {"reputation": 1013, "user_id": 5616580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6d6fac2bd7d0e135af8bbe8363504735?s=128&d=identicon&r=PG&f=1", "display_name": "mateuszb", "link": "https://stackoverflow.com/users/5616580/mateuszb"}, "is_accepted": true, "score": 0, "last_activity_date": 1486594337, "creation_date": 1486594337, "answer_id": 42125165, "question_id": 42123958, "link": "https://stackoverflow.com/questions/42123958/how-do-i-display-django-data-from-a-related-model-of-a-related-model/42125165#42125165", "title": "How do I display Django data from a related model of a related model?", "body": "<p>You can use RelatedManager here. When you declare ForeignKey, Django allows you to access reverse relationship. To be specific, let's say that you have multiple code releases that are pointing to one specific site. You can access them all via site object by using <code>&lt;your_model_name_lowercase&gt;_set</code> attribute. So in your case:</p>\n\n<pre><code>site.code_release_set.all()\n</code></pre>\n\n<p>will return QuerySet of all code release objects that have ForeignKey to object <code>site</code></p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "edited": false, "score": 0, "creation_date": 1486759961, "post_id": 42125170, "comment_id": 71501851, "body": "Thank you very much for your suggestion. @mateuszb had the info I needed. This added both some additional understanding and the knowledge of what I can do with the &quot;related_name&quot; piece."}], "tags": [], "owner": {"reputation": 242, "user_id": 4394443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925478e08098ef3ec2435a2b7dce9337?s=128&d=identicon&r=PG&f=1", "display_name": "Gil Guilherme", "link": "https://stackoverflow.com/users/4394443/gil-guilherme"}, "is_accepted": false, "score": 0, "last_activity_date": 1486594368, "creation_date": 1486594368, "answer_id": 42125170, "question_id": 42123958, "link": "https://stackoverflow.com/questions/42123958/how-do-i-display-django-data-from-a-related-model-of-a-related-model/42125170#42125170", "title": "How do I display Django data from a related model of a related model?", "body": "<p>You can access the Releases from a Site object. First, you can put a related_name to have a friendly name of the reverse relation between the models:</p>\n\n<pre><code>site_id = models.ForeignKey('Site', on_delete=models.CASCADE, related_name=\"releases\")\n</code></pre>\n\n<p>and then, from a Site object you can make normal queries to Release model: </p>\n\n<pre><code>site.releases.all()\nsite.releases.filter(...)\n...\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2089450, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/be183db89581e0a9cb4cc8c4100e5827?s=128&d=identicon&r=PG", "display_name": "Rob Peterson", "link": "https://stackoverflow.com/users/2089450/rob-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 42125165, "answer_count": 2, "score": 0, "last_activity_date": 1486594368, "creation_date": 1486589341, "question_id": 42123958, "link": "https://stackoverflow.com/questions/42123958/how-do-i-display-django-data-from-a-related-model-of-a-related-model", "title": "How do I display Django data from a related model of a related model?", "body": "<p>I am trying to display data from several models that are related together through a QuerySet. My ultimate goal is to display some information from the Site model, and some information from the Ppack model, based on a date range filter of the sw_delivery_date in the Site model. </p>\n\n<p>Here are my models:</p>\n\n<pre><code>class Site(models.Model):\n    mnemonic = models.CharField(max_length = 5)\n    site_name = models.CharField(max_length = 100)\n    assigned_tech = models.ForeignKey('Person', on_delete=models.CASCADE, null = True, blank = True)\n    hw_handoff_date = models.DateField(null = True, blank = True)\n    sw_delivery_date = models.DateField(null = True, blank = True)\n    go_live_date = models.DateField(null = True, blank = True)\n    web_url = models.CharField(max_length = 100, null = True, blank = True)\n    idp_url = models.CharField(max_length = 100, null = True, blank = True)\n\n    def __str__(self):\n        return '(' + self.mnemonic + ') ' + self.site_name\n\nclass Ring(models.Model):\n    ring = models.IntegerField()\n\n    def __str__(self):\n        return \"6.\" + str(self.ring)\n\nclass Ppack(models.Model):\n    ppack = models.IntegerField()\n    ring = models.ForeignKey('Ring', on_delete=models.CASCADE)\n\n    def __str__(self):\n        return str(self.ring) + \" pp\" + str(self.ppack)\n\nclass Code_Release(models.Model):\n    Inhouse = 'I'\n    Test = 'T'\n    Live = 'L'\n    Ring_Location_Choices = (\n            (Inhouse, 'Inhouse'),\n            (Test, 'Test'),\n            (Live, 'Live'),\n                             )\n\n    site_id = models.ForeignKey('Site', on_delete=models.CASCADE)\n    type = models.CharField(max_length = 1, choices = Ring_Location_Choices, blank = True, null = True)\n    release = models.ForeignKey('Ppack', on_delete=models.CASCADE)\n\n    def __str__(self):\n        return \"site:\" + str(self.site_id) + \", \" + self.type + \" = \" + str(self.release)\n</code></pre>\n\n<p>If I use the following, </p>\n\n<pre><code>today = datetime.date.today()\nfuture = datetime.timedelta(days=60)\nnew_deliveries = Site.objects.select_related().filter(sw_delivery_date__range=[today, (today + future)])\n</code></pre>\n\n<p>I can get all of the objects in the Site model that meet my criteria, however, because there is no relation from Site to Code_Release (there's a one-to-many coming the other way), I can't get at the Code_Release data.</p>\n\n<p>If I run a for loop, I can iterate through every Site returned from the above query, and select the data from the Code_Release model, which allows me to get the related data from the Ppack and Ring models.</p>\n\n<pre><code>site_itl = {}\nitl = {}\nfor delivery in new_deliveries:\n    releases = Code_Release.objects.select_related().filter(site_id = delivery.id)\n\n    for rel in releases:\n        itl[rel.id] = rel.release\n\n    site_itl[delivery.id] = itl\n</code></pre>\n\n<p>But, that seems overly complex to me, with multiple database hits and possibly a difficult time parsing through that in the template. </p>\n\n<p>Based on that, I was thinking that I needed to select from the Code_Release model. That relates back to both the Site model and the Ppack model (which relates to the Ring model). I've struggled to make the right query / access the data in this way that accomplishes what I want, but I feel this is the right way to go.</p>\n\n<p>How would I best accomplish this?</p>\n"}, {"tags": ["python", "python-2.7", "selenium", "beautifulsoup", "gspread"], "comments": [{"owner": {"reputation": 1337, "user_id": 6060535, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1d2e279c03eecc20ff77be9248048f7a?s=128&d=identicon&r=PG&f=1", "display_name": "me9867", "link": "https://stackoverflow.com/users/6060535/me9867"}, "edited": false, "score": 0, "creation_date": 1486592454, "post_id": 42123918, "comment_id": 71417531, "body": "Found a clear() in the Gspread docs but not sure how to implement in the above code <a href=\"https://gspread.readthedocs.io/en/latest/#gspread.Worksheet.clear\" rel=\"nofollow noreferrer\">gspread.readthedocs.io/en/latest/#gspread.Worksheet.clear</a>"}, {"owner": {"reputation": 1337, "user_id": 6060535, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1d2e279c03eecc20ff77be9248048f7a?s=128&d=identicon&r=PG&f=1", "display_name": "me9867", "link": "https://stackoverflow.com/users/6060535/me9867"}, "edited": false, "score": 0, "creation_date": 1486593054, "post_id": 42123918, "comment_id": 71417787, "body": "and some clear() in this <a href=\"https://github.com/burnash/gspread/blob/master/tests/test.py\" rel=\"nofollow noreferrer\">github.com/burnash/gspread/blob/master/tests/test.py</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1337, "user_id": 6060535, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1d2e279c03eecc20ff77be9248048f7a?s=128&d=identicon&r=PG&f=1", "display_name": "me9867", "link": "https://stackoverflow.com/users/6060535/me9867"}, "is_accepted": false, "score": 0, "last_activity_date": 1486597021, "creation_date": 1486597021, "answer_id": 42125637, "question_id": 42123918, "link": "https://stackoverflow.com/questions/42123918/beautiful-soup-gspread-appending-data-to-google-sheet-instead-of-replacing/42125637#42125637", "title": "Beautiful Soup &amp; GSpread appending data to Google Sheet, instead of replacing", "body": "<p>The clear() clears the sheet, but the generated content starts after where it was cleared</p>\n\n<pre><code>worksheet = wks.worksheet('automated')\nworksheet.clear()\n</code></pre>\n\n<p>But clear is the function() required, just need data to start in A2</p>\n"}], "owner": {"reputation": 1337, "user_id": 6060535, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1d2e279c03eecc20ff77be9248048f7a?s=128&d=identicon&r=PG&f=1", "display_name": "me9867", "link": "https://stackoverflow.com/users/6060535/me9867"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510940259, "creation_date": 1486589190, "last_edit_date": 1510940259, "question_id": 42123918, "link": "https://stackoverflow.com/questions/42123918/beautiful-soup-gspread-appending-data-to-google-sheet-instead-of-replacing", "title": "Beautiful Soup &amp; GSpread appending data to Google Sheet, instead of replacing", "body": "<p>Got my first price checker going that monitors 50 products and pulls data, this runs at 3am every day. At the moment the products checked are appending to the existing data which is obviously producing duplicates so over a few days I will end up with 50, 100, 150 rows...</p>\n\n<p>How can I get the Python script to replace or clear the existing data, so the spreadsheet will only ever have 50 products in it?</p>\n\n<p>Here is the top part of the code:</p>\n\n<pre><code>from selenium import webdriver \nimport time\nfrom bs4 import BeautifulSoup\n\n\nimport json\nimport gspread\n#from oauth2client.client import SignedJwtAssertionCredentials\nfrom oauth2client.client import SignedJwtAssertionCredentials\nfrom json import load\nimport urllib2\n\nbrowser = webdriver.PhantomJS()\n\nproduct_details = []\n\n\n\ndef connect_to_spreadsheet():\n    json_key = json.load(open('0b6bb6f4e5.json'))\n    scope = ['https://spreadsheets.google.com/feeds']\n    credentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'].encode(), scope)\n    #credentials = AssertionCredentials(json_key['client_email'], json_key['private_key'].encode(), scope)\n    gc = gspread.authorize(credentials)\n    wks = gc.open(\"TestSheet\")\n\n    worksheet = wks.worksheet('automated')\n    last_row = worksheet.row_count \n    last_col = worksheet.col_count - 1 \n\n    for each_row_data in product_details:\n        try:\n            worksheet.append_row(each_row_data)\n        except:\n            print \"Could not add row data\", each_row_data\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1486590557, "post_id": 42123908, "comment_id": 71416624, "body": "dig into cumsum"}, {"owner": {"reputation": 43, "user_id": 7531311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6484310d4dd4a712a49383c030d4df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Angel G&#225;lvez", "link": "https://stackoverflow.com/users/7531311/angel-g%c3%a1lvez"}, "reply_to_user": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1486592894, "post_id": 42123908, "comment_id": 71417719, "body": "I dont understand good why I need this function. I need to substrack two differents dates: Date of every row - Date of the last n time Result was 1 for its idactivo. What does relation exist between this and &quot;cumsum??"}, {"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1486592976, "post_id": 42123908, "comment_id": 71417756, "body": "If you provide toy example of the <i>resulting</i> data you expect (i.e. illustrating the contents of the result column you&#39;re talking about and what dataframe output you expect), I can show you. Without it, it&#39;s painful and it will remain a comment."}, {"owner": {"reputation": 43, "user_id": 7531311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6484310d4dd4a712a49383c030d4df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Angel G&#225;lvez", "link": "https://stackoverflow.com/users/7531311/angel-g%c3%a1lvez"}, "reply_to_user": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1486643330, "post_id": 42123908, "comment_id": 71439552, "body": "I have added to my answer a example derivated from the dataframe included on my code. Please say me if you need some aclaration more or more details. Thanks"}], "owner": {"reputation": 43, "user_id": 7531311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6484310d4dd4a712a49383c030d4df6f?s=128&d=identicon&r=PG&f=1", "display_name": "Angel G&#225;lvez", "link": "https://stackoverflow.com/users/7531311/angel-g%c3%a1lvez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486643198, "creation_date": 1486589168, "last_edit_date": 1486643198, "question_id": 42123908, "link": "https://stackoverflow.com/questions/42123908/how-to-calculate-time-since-last-event-on-a-temporal-serie", "title": "How to calculate time since last event on a temporal serie?", "body": "<p>Working with Python 3.5 and Pandas 0.19.2</p>\n\n<p>I describe my problem: I have in a data frame different \"IDActivo\" sorted by date and time ascending. Well, I have a field called Result whose values are NaN or 1. I need to calculate for each row how long ago was the last N time where the result field was 1 for that particular \"IdActivo\".</p>\n\n<p>This is my dataframe:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import pandas as pd\r\nimport numpy as np\r\nfrom datetime import datetime\r\n\r\ndf = pd.DataFrame({'IdActivo': [1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2],\r\n                   'Fecha': ['1990-01-02','1990-01-03','1990-01-04','1990-01-05','1990-01-08',\\\r\n                                  '1990-01-09','1990-01-10','1990-01-11','1990-01-12' ,'1990-01-15',\\\r\n                                  '1990-01-16', '1990-01-17', '1990-01-18','1990-01-19','1990-01-22',\\\r\n                                  '1990-01-23 ', '1990-01-24', '1990-01-25','1990-01-26','1990-01-29'],\r\n                   'Hora': ['10:10:00','10:11:00','10:12:00','10:13:00','10:10:00',\\\r\n                                  '10:10:00','10:17:00','10:14:00','11:14:00','12:14:00',\\\r\n                                  '10:10:00', '10:20:00', '14:22:00','15:22:00','16:22:00',\\\r\n                                  '10:10:00', '00:00:00', '00:00:00','00:00:00','00:00:00']})\r\ndef Inicio():\r\n    numHoraDia = '10:10:00'\r\n    numDia = 2  # para nosotros el 2 ser\u00e1 el martes ya que le a\u00f1adimos +1 al lunes que es 0 por defecto\r\n    nomDiasSemanaHora = \"  Resultado\";    inpfield = \"Fecha\" ;    oupfield = \"Dia_Semana\"\r\n\r\n    df_final = Fecha_Dia_Hora(df,inpfield,oupfield,numHoraDia,numDia,nomDiasSemanaHora)\r\n    print (df_final)\r\n\r\n\r\ndef Fecha_Dia_Hora(df, inpfield, oupfield,numHoraDia,numDia,nomDiasSemanaHora):\r\n    ord_df = df.sort_values(by=['IdActivo', 'Fecha'])\r\n    ord_df[inpfield] = pd.to_datetime(ord_df[inpfield])\r\n    ord_df[oupfield] = ord_df[inpfield].dt.dayofweek + 1\r\n    ord_df[nomDiasSemanaHora] = np.NaN\r\n    ord_df.ix[np.logical_and(ord_df[oupfield] == numDia, ord_df.Hora == numHoraDia), [nomDiasSemanaHora]] = '1'\r\n    return ord_df.sort_index()\r\n\r\ndef Fin():\r\n    print(\"FIN\")\r\n\r\nif __name__ == \"__main__\":\r\n    Inicio()\r\n    Fin()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I show you an example derivated of the dataframe you can see on the code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wnLPE.png\" rel=\"nofollow noreferrer\">imagen</a></p>\n\n<p>What functions must I investigate to get it?</p>\n\n<p>Thanks </p>\n\n<p>Angel</p>\n"}, {"tags": ["python", "python-3.x", "jinja2"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1486589284, "post_id": 42123896, "comment_id": 71415992, "body": "Why not process the list in plain python and make this easier"}, {"owner": {"reputation": 4170, "user_id": 5094044, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Xr8RF.gif?s=128&g=1", "display_name": "coralvanda", "link": "https://stackoverflow.com/users/5094044/coralvanda"}, "edited": false, "score": 1, "creation_date": 1486643026, "post_id": 42123896, "comment_id": 71439338, "body": "If you just need to put the word &quot;and&quot; in there, then why not just use <code>loop.last</code>?  Put the &quot;and&quot; in front of the word instead of after the word."}], "answers": [{"tags": [], "owner": {"reputation": 52708, "user_id": 2947502, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4891a41a8749a8ec2a34fe2f03a8b223?s=128&d=identicon&r=PG", "display_name": "techraf", "link": "https://stackoverflow.com/users/2947502/techraf"}, "is_accepted": false, "score": 1, "last_activity_date": 1486975117, "creation_date": 1486975117, "answer_id": 42199752, "question_id": 42123896, "link": "https://stackoverflow.com/questions/42123896/getting-penultimate-element-in-a-jinja2-iteration/42199752#42199752", "title": "Getting penultimate element in a Jinja2 iteration", "body": "<pre><code>{% if loop.revindex == 2 %}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>{% if loop.revindex0 == 1 %}\n</code></pre>\n\n<p>See for-loop variables in the <a href=\"http://jinja.pocoo.org/docs/2.9/templates/#list-of-control-structures\" rel=\"nofollow noreferrer\">List of Control Structures</a> chapter.</p>\n"}, {"tags": [], "owner": {"reputation": 4606, "user_id": 539542, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2f5e3493d3fb6af4a236232dac5c86ee?s=128&d=identicon&r=PG", "display_name": "Animesh", "link": "https://stackoverflow.com/users/539542/animesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1552353349, "last_edit_date": 1552353349, "creation_date": 1505427013, "answer_id": 46228957, "question_id": 42123896, "link": "https://stackoverflow.com/questions/42123896/getting-penultimate-element-in-a-jinja2-iteration/46228957#46228957", "title": "Getting penultimate element in a Jinja2 iteration", "body": "<p>I have achieved the oxford comma by doing this:</p>\n\n<pre><code>{% for label in post.labels %}\n    &lt;li&gt;&lt;a href=\"/labels/{{label}}\"&gt;{{label}}&lt;/a&gt;\n    {% if not loop.last and loop.length &gt; 2%}, {%endif%}\n    {% if loop.revindex0 == 1 %} and{%endif%}&lt;/li&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10575, "user_id": 250962, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/57d9e4faebab769718a0b4107c3d06df?s=128&d=identicon&r=PG", "display_name": "Phil Gyford", "link": "https://stackoverflow.com/users/250962/phil-gyford"}, "is_accepted": false, "score": 0, "last_activity_date": 1568804492, "creation_date": 1568804492, "answer_id": 57991229, "question_id": 42123896, "link": "https://stackoverflow.com/questions/42123896/getting-penultimate-element-in-a-jinja2-iteration/57991229#57991229", "title": "Getting penultimate element in a Jinja2 iteration", "body": "<p>For those who don't want the Oxford comma, I've used this:</p>\n\n<pre><code>{% for name in my_list %}\n  {{ name }}\n  {%- if loop.length &gt; 1 and not loop.last -%}\n    {%- if loop.revindex0 == 1 %} and {% else %}, {% endif %}\n  {% endif %}\n{% endfor %}\n</code></pre>\n\n<p>Outputs something like:</p>\n\n<pre><code>cucumbers, peppers, tomatoes and carrots\n</code></pre>\n"}], "owner": {"reputation": 749, "user_id": 3143742, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/36806326/picture?type=large", "display_name": "Chris vCB", "link": "https://stackoverflow.com/users/3143742/chris-vcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1568804492, "creation_date": 1486589138, "question_id": 42123896, "link": "https://stackoverflow.com/questions/42123896/getting-penultimate-element-in-a-jinja2-iteration", "title": "Getting penultimate element in a Jinja2 iteration", "body": "<p>Let <code>lst</code> be a <code>List</code>of vegetables represented as strings: <code>[\"cucumbers\", \"peppers\", \"tomatoes\", \"carrots\"]</code>. I wish to join these with commas, except that I wish the last to be the word <code>and</code> instead (for the purpose of this exercise, let's assume a degree tolerance for the Oxford comma), to get the following:</p>\n\n<p><code>cucumbers, peppers, tomatoes, and carrots</code></p>\n\n<p>How would I go about accomplishing this in <code>Jinja2</code>? I know <code>loop.last</code> lets me identify the last, but not the penultimate iteration, which is where this would be relevant.</p>\n"}, {"tags": ["python", "shell"], "comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1486589224, "post_id": 42123850, "comment_id": 71415964, "body": "So \u2026 it&#39;s the same?"}, {"owner": {"reputation": 1, "user_id": 3931296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a87263959b92ca3975d8323e608ae12?s=128&d=identicon&r=PG&f=1", "display_name": "user3931296", "link": "https://stackoverflow.com/users/3931296/user3931296"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1486591107, "post_id": 42123850, "comment_id": 71416882, "body": "The shell version returns just &quot;ONLINE&quot;, the os.popen returns &quot;[&#39;ONLINE\\n&#39;]&quot;. That&#39;s fine, but I don&#39;t know how to test it against &quot;ONLINE&quot;"}, {"owner": {"reputation": 4179, "user_id": 7282091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea62f0d9ff8ecd926a64b74f39aa73b?s=128&d=identicon&r=PG&f=1", "display_name": "fedepad", "link": "https://stackoverflow.com/users/7282091/fedepad"}, "edited": false, "score": 0, "creation_date": 1486593547, "post_id": 42123850, "comment_id": 71418015, "body": "<code>if &#39;ONLINE&#39; is in value: ....</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3931296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a87263959b92ca3975d8323e608ae12?s=128&d=identicon&r=PG&f=1", "display_name": "user3931296", "link": "https://stackoverflow.com/users/3931296/user3931296"}, "edited": false, "score": 0, "creation_date": 1486592266, "post_id": 42123948, "comment_id": 71417441, "body": "Thanks, but the pipe seems to get ignored. The documentation shows commands and arguments ([&quot;command&quot;, &quot;args&quot;]) I can&#39;t find a pipe equivalent."}, {"owner": {"reputation": 2435, "user_id": 1231055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k7x3R.png?s=128&g=1", "display_name": "Brad Campbell", "link": "https://stackoverflow.com/users/1231055/brad-campbell"}, "reply_to_user": {"reputation": 1, "user_id": 3931296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a87263959b92ca3975d8323e608ae12?s=128&d=identicon&r=PG&f=1", "display_name": "user3931296", "link": "https://stackoverflow.com/users/3931296/user3931296"}, "edited": false, "score": 0, "creation_date": 1486691783, "post_id": 42123948, "comment_id": 71466814, "body": "You could wrap your shell command in a shell script.  That would be easily callable through this, then. Not sure is that defeats what you are trying to do, though."}], "tags": [], "owner": {"reputation": 2435, "user_id": 1231055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k7x3R.png?s=128&g=1", "display_name": "Brad Campbell", "link": "https://stackoverflow.com/users/1231055/brad-campbell"}, "is_accepted": false, "score": 0, "last_activity_date": 1486589304, "creation_date": 1486589304, "answer_id": 42123948, "question_id": 42123850, "link": "https://stackoverflow.com/questions/42123850/python-evaluation-output-of-os-command-in-an-if-statement/42123948#42123948", "title": "Python, evaluation output of OS command in an if statement", "body": "<p>Try the subprocess module:</p>\n\n<pre><code>import subprocess\nvalue = subprocess.call(\"hastatus -sum |grep `hostname` |grep Grp| awk '{print $6}'\")\nprint(value)\n</code></pre>\n\n<p>Documentation is found here:\n<a href=\"https://docs.python.org/2.6/library/subprocess.html?highlight=subprocess#module-subprocess\" rel=\"nofollow noreferrer\">https://docs.python.org/2.6/library/subprocess.html?highlight=subprocess#module-subprocess</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3931296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a87263959b92ca3975d8323e608ae12?s=128&d=identicon&r=PG&f=1", "display_name": "user3931296", "link": "https://stackoverflow.com/users/3931296/user3931296"}, "edited": false, "score": 0, "creation_date": 1486654361, "post_id": 42125104, "comment_id": 71447585, "body": "Thanks for the help. It&#39;s just easier for me to do it in shell for now."}], "tags": [], "owner": {"reputation": 4179, "user_id": 7282091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea62f0d9ff8ecd926a64b74f39aa73b?s=128&d=identicon&r=PG&f=1", "display_name": "fedepad", "link": "https://stackoverflow.com/users/7282091/fedepad"}, "is_accepted": false, "score": 0, "last_activity_date": 1486594021, "last_edit_date": 1592644375, "creation_date": 1486594021, "answer_id": 42125104, "question_id": 42123850, "link": "https://stackoverflow.com/questions/42123850/python-evaluation-output-of-os-command-in-an-if-statement/42125104#42125104", "title": "Python, evaluation output of OS command in an if statement", "body": "<p>The recommended way is to use the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess</a> module.<br />\nThe following section of the documentation is instructive:<br />\n<a href=\"https://docs.python.org/2/library/subprocess.html#replacing-shell-pipeline\" rel=\"nofollow noreferrer\">replacing shell pipeline</a><br />\nI report here for reference:</p>\n<blockquote>\n<p>output=<code>dmesg | grep hda</code></p>\n</blockquote>\n<p>becomes:</p>\n<blockquote>\n<p><code>p1 = Popen([&quot;dmesg&quot;], stdout=PIPE)</code></p>\n<p><code>p2 = Popen([&quot;grep&quot;, &quot;hda&quot;], stdin=p1.stdout, stdout=PIPE)</code>\n<code>p1.stdout.close()  # Allow p1 to receive a SIGPIPE if p2 exits.</code><br />\n<code>output = p2.communicate()[0]</code></p>\n<p>The <code>p1.stdout.close()</code> call after starting the <code>p2</code> is important in order for <code>p1</code> to receive a <code>SIGPIPE</code> if <code>p2</code> exits before <code>p1</code>.</p>\n<p>Alternatively, for trusted input, the shell\u2019s own pipeline support may still be used directly:</p>\n<p>output=<code>dmesg | grep hda</code></p>\n</blockquote>\n<p>becomes:</p>\n<blockquote>\n<p><code>output=check_output(&quot;dmesg | grep hda&quot;, shell=True)</code></p>\n</blockquote>\n<p>And here the recipe to translate os.popen to the subprocess module:<br />\n<a href=\"https://docs.python.org/2/library/subprocess.html#replacing-os-popen-os-popen2-os-popen3\" rel=\"nofollow noreferrer\">replacing os.popen()</a></p>\n<p>So in your case you could do something like</p>\n<pre><code>import subprocess\n\noutput=check_output(&quot;hastatus -sum |grep `hostname` |grep Grp| awk '{print $6}'&quot;, shell=True) \n</code></pre>\n<p>or</p>\n<p>concatenating the Popens as showed in the documentation above (probably what I would do).</p>\n<p>Then to test the output you could just use, assuming you're using the first approach:</p>\n<pre><code>import sys\nimport subprocess\n\n....\nif 'ONLINE' in output:\n    sys.exit(1)\n    \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3931296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a87263959b92ca3975d8323e608ae12?s=128&d=identicon&r=PG&f=1", "display_name": "user3931296", "link": "https://stackoverflow.com/users/3931296/user3931296"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486594021, "creation_date": 1486588975, "last_edit_date": 1486589052, "question_id": 42123850, "link": "https://stackoverflow.com/questions/42123850/python-evaluation-output-of-os-command-in-an-if-statement", "title": "Python, evaluation output of OS command in an if statement", "body": "<p>I want to convert the following shell evaluation to python2.6(can't upgrade). I can't figure out how to evaluate the output of the command.</p>\n\n<p>Here's the shell version:</p>\n\n<pre><code>status=`$hastatus -sum |grep $hostname |grep Grp| awk '{print $6}'`\nif [ $status != \"ONLINE\" ]; then\n    exit 1\nfi\n</code></pre>\n\n<p>I tried <code>os.popen</code> and it returns ['ONLINE\\n'].</p>\n\n<pre><code>value = os.popen(\"hastatus -sum |grep `hostname` |grep Grp| awk '{print $6}'\".readlines()\nprint value\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "calculated-columns"], "answers": [{"tags": [], "owner": {"reputation": 9233, "user_id": 2074981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXy8T.jpg?s=128&g=1", "display_name": "ASGM", "link": "https://stackoverflow.com/users/2074981/asgm"}, "is_accepted": true, "score": 1, "last_activity_date": 1486664698, "last_edit_date": 1486664698, "creation_date": 1486589158, "answer_id": 42123901, "question_id": 42123847, "link": "https://stackoverflow.com/questions/42123847/create-new-pandas-column-based-on-categorical-values-in-other-column-python/42123901#42123901", "title": "Create new pandas column based on categorical values in other column (python)", "body": "<p>You could use a dictionary:</p>\n\n<pre><code>region_from_country = {\n    'US': 'US', \n    'Italy': 'EU',\n    'Germany': 'EU',\n    'Brazil': 'LA', \n    'France': 'EU',\n}\ndf['Region'] = df['Country'].replace(region_from_country)\n</code></pre>\n\n<p>The keys in the dictionary are the countries and the values are the corresponding regions.</p>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 5500250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FXGbK.jpg?s=128&g=1", "display_name": "naaviii", "link": "https://stackoverflow.com/users/5500250/naaviii"}, "is_accepted": false, "score": 2, "last_activity_date": 1486592108, "creation_date": 1486592108, "answer_id": 42124655, "question_id": 42123847, "link": "https://stackoverflow.com/questions/42123847/create-new-pandas-column-based-on-categorical-values-in-other-column-python/42124655#42124655", "title": "Create new pandas column based on categorical values in other column (python)", "body": "<p>One simple approach is this:</p>\n\n<pre><code>dict ={'US':'US','Italy':'EU','Germany':'EU','Brazil':'LA','France':'EU'}\n\ndf['Region']=df['Country'].apply(lambda x : dict[x])\n</code></pre>\n"}], "owner": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1549, "favorite_count": 1, "accepted_answer_id": 42123901, "answer_count": 2, "score": 3, "last_activity_date": 1486664698, "creation_date": 1486588965, "last_edit_date": 1486592529, "question_id": 42123847, "link": "https://stackoverflow.com/questions/42123847/create-new-pandas-column-based-on-categorical-values-in-other-column-python", "title": "Create new pandas column based on categorical values in other column (python)", "body": "<p>I have a data frame with country and traffic columns:</p>\n\n<pre><code>Country    |   Traffic\n  US            8687\n  Italy         902834\n  Germany       2343\n  Brazil        4254\n  France        23453\n</code></pre>\n\n<p>I want to add a third column called \"Region\" to this data frame. It would look like this:</p>\n\n<pre><code> Country    |   Traffic   | Region\n  US            8687         US\n  Italy         902834       EU\n  Germany       2343         EU\n  Brazil        4254         LA\n  France        23453        EU\n</code></pre>\n\n<p>The following code works if I have only two Regions. I am looking more for an <code>if/else</code>, <code>map</code>, or <code>lambda</code> statement:</p>\n\n<pre><code>df['Region'] = np.where(df['Country'] == 'US', 'US', 'EU')\n</code></pre>\n\n<p>Thank You.</p>\n"}, {"tags": ["jquery", "python", "ajax", "django", "django-templates"], "comments": [{"owner": {"reputation": 1224, "user_id": 4921471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d782213e3460819ae97385b0e596e3a?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;lvaro Touz&#243;n", "link": "https://stackoverflow.com/users/4921471/%c3%81lvaro-touz%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1486588977, "post_id": 42123809, "comment_id": 71415843, "body": "your response is html?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 1224, "user_id": 4921471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d782213e3460819ae97385b0e596e3a?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;lvaro Touz&#243;n", "link": "https://stackoverflow.com/users/4921471/%c3%81lvaro-touz%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1486589336, "post_id": 42123809, "comment_id": 71416014, "body": "Yes? <code>comments.html</code> extends the base template which has the <code>base.js</code> javascript file."}, {"owner": {"reputation": 1224, "user_id": 4921471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d782213e3460819ae97385b0e596e3a?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;lvaro Touz&#243;n", "link": "https://stackoverflow.com/users/4921471/%c3%81lvaro-touz%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1486589455, "post_id": 42123809, "comment_id": 71416078, "body": "not , the respons f ajax  url: &#39;/new_comments/&#39;, is html content?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 1224, "user_id": 4921471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d782213e3460819ae97385b0e596e3a?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;lvaro Touz&#243;n", "link": "https://stackoverflow.com/users/4921471/%c3%81lvaro-touz%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1486589666, "post_id": 42123809, "comment_id": 71416183, "body": "Yes <code>render_to_string</code> converted it to html content"}], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486590226, "post_id": 42124067, "comment_id": 71416455, "body": "Just tried <code>JsonResponse</code> and i&#39;m getting a <code>raise TypeError(repr(o) + &quot; is not JSON serializable&quot;)</code>. the code is in my edit."}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486591446, "post_id": 42124067, "comment_id": 71417048, "body": "Yeah, you&#39;re trying to make automatic serialization, and Django doesn&#39;t do that. You just passed the queryset result to the dict (make a <code>raise TypeError(html[&quot;comment_list&quot;])</code> to see what I say). You need to do something like this: <code>for obj in comment_list: html[&quot;comment_list&quot;].append({&quot;id&quot;: obj.id, &quot;text&quot;: obj.text, ...})</code>"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486592571, "post_id": 42124067, "comment_id": 71417581, "body": "Can you explain what that&#39;s doing? I&#39;m writing your code but i&#39;m not exactly sure what the goal is. <code>html = {&#39;comment_list&#39;: comment_list}</code>         <code>for comment in comment_list:</code>             <code>html[&#39;comment_list&#39;].append({&#39;id&#39;: comment.id, &#39;text&#39;: comment.comment_text, &#39;user&#39;: comment.user})</code>          return JsonResponse(html)"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486593153, "post_id": 42124067, "comment_id": 71417837, "body": "Ah, my bad, sorry. Just do <code>html = {&quot;comment_list&quot;: render_to_string(&#39;comments.html&#39;, {&#39;comment_list&#39;: comment_list}) }</code>, and later in the AJAX callback <code>data.comment_list</code>. Should work now. Will check you tomorrow, now I need to go bed, awakening soon for work."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486593466, "post_id": 42124067, "comment_id": 71417986, "body": "No worries but do I keep the for loop you posted?"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486624237, "post_id": 42124067, "comment_id": 71427665, "body": "No no, just set the value to <code>render_to_string(..)</code> result"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486626846, "post_id": 42124067, "comment_id": 71428975, "body": "Yeah, just change the return with <code>JsonResponse({&quot;html&quot;: render_to_string(&#39;comments.html&#39;, {&#39;comment_list&#39;: comment_list})}, safe=True)</code>. The <code>safe</code> arg lets you render without character problems later in the JS. Sorry for the inconvenience, bad thinking of me yesterday."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486627458, "post_id": 42124067, "comment_id": 71429262, "body": "Just tried that and still the same outcome - data successfully loads but JS not working"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1486628214, "post_id": 42124067, "comment_id": 71429669, "body": "I would like to continue, but I don&#39;t have enough rep for chat, and I&#39;m getting warnings of avoiding extended discussions. Check the console log, code some pure JS from the console to test, check what are the differences internally between the old and new elements... your code seems right, has to be something else."}], "tags": [], "owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "is_accepted": false, "score": 0, "last_activity_date": 1486589749, "creation_date": 1486589749, "answer_id": 42124067, "question_id": 42123809, "link": "https://stackoverflow.com/questions/42123809/all-javascript-stops-working-on-my-child-template-when-i-perform-an-ajax-call-to/42124067#42124067", "title": "All javascript stops working on my child template when I perform an AJAX call to change the queryset", "body": "<p>A few ideas:</p>\n\n<ol>\n<li>I would change your HttpResponse with a <a href=\"https://docs.djangoproject.com/en/1.10/ref/request-response/#jsonresponse-objects\" rel=\"nofollow noreferrer\">JsonResponse</a>. Should not be a problem, but who knows (I await feedback of you for this). Remember to return a dict with a key that has the new HTML as value.</li>\n<li>You should swap<code>replaceWith()</code> to <code>html()</code>. You're setting new HTML, so it will be easier to prevent unexpected behaviour.</li>\n</ol>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486590931, "creation_date": 1486588817, "last_edit_date": 1486590931, "question_id": 42123809, "link": "https://stackoverflow.com/questions/42123809/all-javascript-stops-working-on-my-child-template-when-i-perform-an-ajax-call-to", "title": "All javascript stops working on my child template when I perform an AJAX call to change the queryset", "body": "<p>I have a <code>comments.html</code> child template that looks like this:</p>\n\n<pre><code>&lt;div class=\"commentsContainer\"&gt;\n    {% for comment in comment_list %} \n\n    ...\n\n\n        {{ comment.text }} \n\n    ...\n\n    {%  endfor %}\n\n&lt;/div&gt;\n</code></pre>\n\n<p>When I click on a button I call this AJAX function:</p>\n\n<pre><code>$('.comments_new').on('click', function() {\n    $.ajax({\n        type: 'GET',\n        url: '/new_comments/',\n        data: {\n        },\n        success: function (data) {\n            $('.commentsContainer ').replaceWith(data);\n        }\n    })\n});\n</code></pre>\n\n<p>which calls this view to change the queryset (the inital queryset is <code>comment_list = Comment.objects.filter().order_by('-score__upvotes')</code>:</p>\n\n<pre><code>def new_comments(request):\n    if request.is_ajax():\n        comment_list = Comment.objects.filter().order_by('-timestamp')\n        html = render_to_string('comments.html', {'comment_list': comment_list})\n        return HttpResponse(html)\n</code></pre>\n\n<p>This successfully swaps the querysets, however for some reason no javascript works on the newly loaded template/queryset. I even tried just using a simple <code>.css()</code> jquery function but it doesn't work either. Only regular css works. Can somebody tell me why this happens and how I can fix it?</p>\n\n<p>EDIT:</p>\n\n<p>I'm also getting this error in my terminal when the call is made: <code>UserWarning: A {% csrf_token %} was used in a template, but the context did not provide the value.  This is usually caused by not using RequestContext.</code></p>\n\n<p>edit2: new call using <code>JsonResponse</code></p>\n\n<pre><code>def new_comments(request):\n    if request.is_ajax():\n        comment_list = Comment.objects.filter().order_by('-timestamp')\n        html = {'comment_list': comment_list}\n        return JsonResponse(html)\n</code></pre>\n\n<p><code>raise TypeError(repr(o) + \" is not JSON serializable\")</code></p>\n\n<p><code>TypeError: &lt;QuerySet [&lt;Comment: qwdjkqbwkdjbqd&gt;, &lt;Comment: woeifnoeinfw&gt;, &lt;Comment: example&gt;, &lt;Comment: enlaasd&gt;, &lt;Comment: aelanfaf&gt;, &lt;Comment: asdasda&gt;]&gt; is not JSON serializable</code></p>\n"}, {"tags": ["python", "documentation", "numpydoc"], "answers": [{"comments": [{"owner": {"reputation": 4516, "user_id": 1350796, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/11dad08c4a88c491ccfb6ae3d91fdcb4?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1350796/andrew"}, "edited": false, "score": 1, "creation_date": 1491357637, "post_id": 43124848, "comment_id": 73511992, "body": "that checker can handle numpy (among others such as Sphinx) style and check those things, but I don&#39;t think it has a way of differentiating it from those other styles. For example, if you write code with Sphinx documentation that linter would still say it was fine, even if you only want numpy style - I don&#39;t see a way to specify an exclusive documentation style"}, {"owner": {"reputation": 2398, "user_id": 1489266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a01327452d034693cc1ed1019c6e30a1?s=128&d=identicon&r=PG", "display_name": "Giannis Spiliopoulos", "link": "https://stackoverflow.com/users/1489266/giannis-spiliopoulos"}, "reply_to_user": {"reputation": 4516, "user_id": 1350796, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/11dad08c4a88c491ccfb6ae3d91fdcb4?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1350796/andrew"}, "edited": false, "score": 0, "creation_date": 1491359044, "post_id": 43124848, "comment_id": 73512288, "body": "@Andrew, hmmm sorry it seems I missed to take into account that part of adherence, I have updated my answer."}], "tags": [], "owner": {"reputation": 2398, "user_id": 1489266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a01327452d034693cc1ed1019c6e30a1?s=128&d=identicon&r=PG", "display_name": "Giannis Spiliopoulos", "link": "https://stackoverflow.com/users/1489266/giannis-spiliopoulos"}, "is_accepted": false, "score": 7, "last_activity_date": 1491359294, "last_edit_date": 1491359294, "creation_date": 1490895671, "answer_id": 43124848, "question_id": 42123798, "link": "https://stackoverflow.com/questions/42123798/is-there-any-way-to-lint-a-python-file-to-check-for-numpy-documentation-style-ad/43124848#43124848", "title": "Is there any way to lint a Python file to check for Numpy documentation style adherence?", "body": "<p>Pylint seems to support that. Take a look at <a href=\"https://github.com/PyCQA/pylint/blob/master/pylint/extensions/docparams.rst\" rel=\"noreferrer\">pylint.extensions.docparams</a>.</p>\n\n<p>To sum it up. You activate this checker of pylint by adding</p>\n\n<pre><code>load-plugins=pylint.extensions.docparams\n</code></pre>\n\n<p>in the Master section of your <code>.pylintrc</code>.</p>\n\n<blockquote>\n  <p>This checker verifies that all function, method, and constructor\n  docstrings include documentation of the</p>\n  \n  <ul>\n  <li><p>parameters and their types</p></li>\n  <li><p>return value and its type</p></li>\n  <li><p>exceptions raised</p></li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>Actually <a href=\"https://github.com/PyCQA/pydocstyle\" rel=\"noreferrer\">pydocstyle</a> (formerly pep257) <a href=\"https://github.com/PyCQA/pydocstyle/pull/226\" rel=\"noreferrer\">recently added support</a> for the numpy docstring convention. Although, it's not perfect I think it's the closest to what you want to achieve and it will probably improve in the near future.</p>\n\n<pre><code>pydocstyle --convention=numpy example.py\n</code></pre>\n"}], "owner": {"reputation": 806, "user_id": 203161, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/88619c9c21eea1259e9c4e459c4ce8d3?s=128&d=identicon&r=PG", "display_name": "Mark Bao", "link": "https://stackoverflow.com/users/203161/mark-bao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 1, "closed_date": 1516345679, "answer_count": 1, "score": 7, "last_activity_date": 1491359294, "creation_date": 1486588759, "question_id": 42123798, "link": "https://stackoverflow.com/questions/42123798/is-there-any-way-to-lint-a-python-file-to-check-for-numpy-documentation-style-ad", "closed_reason": "Not suitable for this site", "title": "Is there any way to lint a Python file to check for Numpy documentation style adherence?", "body": "<p>I'm working on a project that requires Numpy documentation. In my Java days, I remember having linters that checked for Javadoc adherence in Eclipse/IDEA; is there an equivalent that checks for Numpy documentation style adherence?</p>\n\n<p>I know about PEP257, but it doesn't seem to have any specific checks for Numpy documentation.</p>\n"}, {"tags": ["python", "pandas", "group-by", "scikit-learn", "regression"], "answers": [{"comments": [{"owner": {"reputation": 549, "user_id": 7390912, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3eb330777ef0544fd6b328f6550eb66c?s=128&d=identicon&r=PG&f=1", "display_name": "MysterioProgrammer91", "link": "https://stackoverflow.com/users/7390912/mysterioprogrammer91"}, "edited": false, "score": 0, "creation_date": 1486621738, "post_id": 42126336, "comment_id": 71426484, "body": "Problem is in practise my dataframe is huge, would there be a faster method using groupby? Thanks"}, {"owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "reply_to_user": {"reputation": 549, "user_id": 7390912, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3eb330777ef0544fd6b328f6550eb66c?s=128&d=identicon&r=PG&f=1", "display_name": "MysterioProgrammer91", "link": "https://stackoverflow.com/users/7390912/mysterioprogrammer91"}, "edited": false, "score": 0, "creation_date": 1486643925, "post_id": 42126336, "comment_id": 71439972, "body": "GroupBy is fast because uses runtime and function written in Non-Python. If you write these operation is pure Python, then will make no difference slicing or using a pandas group by!"}], "tags": [], "owner": {"reputation": 1022, "user_id": 2184373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/78744f9fdcb1b092e1ed97f454e0ff15?s=128&d=identicon&r=PG", "display_name": "Alessandro Mariani", "link": "https://stackoverflow.com/users/2184373/alessandro-mariani"}, "is_accepted": true, "score": 2, "last_activity_date": 1486601376, "creation_date": 1486601376, "answer_id": 42126336, "question_id": 42123786, "link": "https://stackoverflow.com/questions/42123786/regress-by-group-in-pandas-dataframe-and-add-columns-with-forecast-values-and-be/42126336#42126336", "title": "Regress by group in pandas dataframe and add columns with forecast values and beta/t-stats", "body": "<p>You want to do a lot of things for a \"GroupBy\" :)</p>\n\n<p>I think is better if you slice the DataFrame by Category, then store each individual result for that category in a dictionary which you're going to use at the end of the loop to build your DataFrame.</p>\n\n<pre><code>result = {}\n# loop on every category\nfor category in df['Category'].unique():\n    # slice\n    df_slice = df[df['Category'] == category]\n    # run all the stuff your want to do\n    result[category] = {\n      'predicted_value': ***,\n      'Y_hat': ***\n      'etc'\n      ...\n    }\n\n# build dataframe with all your results\nfinal_df = pd.DataFrame(result)\n</code></pre>\n\n<p>Will be much easier if ever need to debug too! Good luck! :)</p>\n"}], "owner": {"reputation": 549, "user_id": 7390912, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3eb330777ef0544fd6b328f6550eb66c?s=128&d=identicon&r=PG&f=1", "display_name": "MysterioProgrammer91", "link": "https://stackoverflow.com/users/7390912/mysterioprogrammer91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "accepted_answer_id": 42126336, "answer_count": 1, "score": 2, "last_activity_date": 1486601376, "creation_date": 1486588706, "question_id": 42123786, "link": "https://stackoverflow.com/questions/42123786/regress-by-group-in-pandas-dataframe-and-add-columns-with-forecast-values-and-be", "title": "Regress by group in pandas dataframe and add columns with forecast values and beta/t-stats", "body": "<p>here is an example of my dataframe df:</p>\n\n<pre><code>Category    Y                 X1        X2\n0   Apple   0.083050996 0.164056482 0.519875358\n1   Apple   0.411044939 0.774160332 0.002869499\n2   Apple   0.524315907 0.422193005 0.97720091\n3   Apple   0.721124638 0.645927536 0.750210715\n4   Berry   0.134488729 0.299288214 0.522933484\n5   Berry   0.733162132 0.608742944 0.957595544\n6   Berry   0.113051075 0.641533175 0.19799635\n7   Berry   0.275379123 0.249143751 0.049082766\n8   Carrot  0.588121494 0.750480977 0.615399987\n9   Carrot  0.878221581 0.021366296 0.069184879\n</code></pre>\n\n<p>Now I want the code to be able to do a regression for each Category (ie, cross sectional regression grouped by Category (for Apple, Berry and Carrot etc,)). </p>\n\n<p>Then I want to add new columns df['Y_hat'] which has the forecast value from the regression, and the corresponding 2 beta and t-statistic values (beta and t-stat values would be the same for multiple rows of same category).</p>\n\n<p>Final df would have 5 additional columns, Y_hat, beta 1, beta 2 , t-stat 1 and t-stat 2.</p>\n"}, {"tags": ["python", "sqlite", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 218, "user_id": 3684433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a34CF.png?s=128&g=1", "display_name": "maldata", "link": "https://stackoverflow.com/users/3684433/maldata"}, "is_accepted": false, "score": 2, "last_activity_date": 1486671335, "creation_date": 1486671335, "answer_id": 42146043, "question_id": 42123785, "link": "https://stackoverflow.com/questions/42123785/properly-cascade-delete-with-sqlalchemy-association-proxy/42146043#42146043", "title": "Properly cascade delete with sqlalchemy association proxy", "body": "<p>Turns out to be pretty straightforward. The backrefs in the original code were just strings, but they can instead be backref objects. This allows you to set cascade behavior. See the <a href=\"http://docs.sqlalchemy.org/en/latest/orm/backref.html#backref-arguments\" rel=\"nofollow noreferrer\">sqlalchemy documentation on backref arguments</a>.</p>\n\n<p>The only changes required here are in the UserAssociation object. It now reads:</p>\n\n<pre><code># Foreign key columns\nprimary_user_id = sqlalchemy.Column(sqlalchemy.Integer,\n                                    sqlalchemy.ForeignKey('users.id',\n                                                          name='user_association_primary_user_fk'),\n                                    nullable=False)\nsecondary_user_id = sqlalchemy.Column(sqlalchemy.Integer,\n                                      sqlalchemy.ForeignKey('users.id',\n                                                            name='user_association_associated_user_fk'),\n                                      nullable=False)\n\n# Foreign key relationships\nprimary_user = sqlalchemy.orm.relationship('User',\n                                           foreign_keys=primary_user_id,\n                                           backref=sqlalchemy.orm.backref('secondary_users',\n                                                                          cascade='all, delete-orphan'))\nsecondary_user = sqlalchemy.orm.relationship('User',\n                                             foreign_keys=secondary_user_id,\n                                             backref=sqlalchemy.orm.backref('primary_users',\n                                                                            cascade='all, delete-orphan'))\n</code></pre>\n\n<p>The backref keyword argument is now a backref object instead of a string. I was also able to make the foreign key columns non-nullable, since it now cascades deleted users such that the associations are deleted as well.</p>\n"}], "owner": {"reputation": 218, "user_id": 3684433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a34CF.png?s=128&g=1", "display_name": "maldata", "link": "https://stackoverflow.com/users/3684433/maldata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486671335, "creation_date": 1486588701, "last_edit_date": 1495540892, "question_id": 42123785, "link": "https://stackoverflow.com/questions/42123785/properly-cascade-delete-with-sqlalchemy-association-proxy", "title": "Properly cascade delete with sqlalchemy association proxy", "body": "<p>I have a self-referential relationship in sqlalchemy that is based heavily on the example found <a href=\"https://stackoverflow.com/a/27843531/3684433\">in this answer</a>.</p>\n\n<p>I have a table of users, and an association table that links a primary user to a secondary user. User A can be primary for user B, and B may or may not also be a primary for user A. It works exactly like the twitter analogy in the answer I linked above.</p>\n\n<p>This works fine, except that I don't know how to establish cascade rules for an association proxy. Currently, if I delete a user, the association record remains, but it nulls out any FKs to the deleted user. I would like the delete to cascade to the association table and remove the record.</p>\n\n<p>I also need to be able to disassociate users, which would only remove the association record, but would propagate to the \"is_primary_of\" and \"is_secondary_of\" association proxies of the users.</p>\n\n<p>Can anyone help me figure out how to integrate these behaviors into the models that I have? Code is below. Thanks!</p>\n\n<pre><code>import sqlalchemy\nimport sqlalchemy.orm\nimport sqlalchemy.ext.declarative\nimport sqlalchemy.ext.associationproxy\n\n\n# This is the base class from which all sqlalchemy table objects must inherit\nSAModelBase = sqlalchemy.ext.declarative.declarative_base()\n\n\nclass UserAssociation(SAModelBase):\n    __tablename__ = 'user_associations'\n\n    # Columns\n    id = sqlalchemy.Column(sqlalchemy.Integer, primary_key=True)\n\n    # Foreign key columns\n    primary_user_id = sqlalchemy.Column(sqlalchemy.Integer,\n                                    sqlalchemy.ForeignKey('users.id', name='user_association_primary_user_fk'))\n    secondary_user_id = sqlalchemy.Column(sqlalchemy.Integer,\n                                      sqlalchemy.ForeignKey('users.id', name='user_association_secondary_user_fk'))\n\n    # Foreign key relationships\n    primary_user = sqlalchemy.orm.relationship('User',\n                                           foreign_keys=primary_user_id,\n                                           backref='secondary_users')\n    secondary_user = sqlalchemy.orm.relationship('User',\n                                             foreign_keys=secondary_user_id,\n                                             backref='primary_users')\n\n    def __init__(self, primary, secondary, **kwargs):\n        self.primary_user = primary\n        self.secondary_user = secondary\n        for kw,arg in kwargs.items():\n            setattr(self, kw, arg)\n\n\nclass User(SAModelBase):\n    __tablename__ = 'users'\n\n    # Columns\n    id = sqlalchemy.Column(sqlalchemy.Integer, primary_key=True)\n    first_name = sqlalchemy.Column(sqlalchemy.String)\n    last_name = sqlalchemy.Column(sqlalchemy.String)\n\n    is_primary_of = sqlalchemy.ext.associationproxy.association_proxy('secondary_users', 'secondary_user')\n    is_secondary_of = sqlalchemy.ext.associationproxy.association_proxy('primary_users', 'primary_user')\n\n    def associate(self, user, **kwargs):\n        UserAssociation(primary=self, secondary=user, **kwargs)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 1, "creation_date": 1486588785, "post_id": 42123774, "comment_id": 71415738, "body": "Why did you put <code>df.index.date</code> inside of your groupby?"}, {"owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "reply_to_user": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 0, "creation_date": 1486588954, "post_id": 42123774, "comment_id": 71415827, "body": "To count the values by the date in the index"}, {"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 2, "creation_date": 1486588963, "post_id": 42123774, "comment_id": 71415833, "body": "You also don&#39;t possibly expect code to magically figure out that you want to turn your dates into some sort of week grouping do you? Week what? Week of the year? Rolling 7 day week starting with the first of the year?"}, {"owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "reply_to_user": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 1, "creation_date": 1486589011, "post_id": 42123774, "comment_id": 71415861, "body": "Of course not...hence the question"}], "answers": [{"tags": [], "owner": {"reputation": 7214, "user_id": 1672420, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d03f535bce17f51146b1035f45f9224e?s=128&d=identicon&r=PG", "display_name": "Jimmy C", "link": "https://stackoverflow.com/users/1672420/jimmy-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1486589705, "creation_date": 1486589705, "answer_id": 42124056, "question_id": 42123774, "link": "https://stackoverflow.com/questions/42123774/counting-python-pandas-dataframe-columns-and-sorting-them-by-date/42124056#42124056", "title": "Counting Python pandas Dataframe columns and sorting them by date", "body": "<p>DateTimeIndex has a property called <code>weekofyear</code> which suits your needs. Furthermore, you do not only want to group on week, but also on priority. Luckily, the <code>groupby</code> function supports taking several attributes to group by:</p>\n\n<pre><code>import datetime\nimport pandas as pd\n\na = datetime.datetime.now()\nb = datetime.datetime.now()\ndf = pd.DataFrame({'Created At': [a, b], 'ID': [1234, 1235], 'Priority': ['p1', 'p2']}).set_index('Created At')\nprint(df)\n\n                              ID Priority\nCreated At                               \n2017-02-08 22:25:51.862604  1234       p1\n2017-02-08 22:25:57.095862  1235       p2\n\nprint(df.groupby([df.index.weekofyear, 'Priority']).count())\n\n            ID\n  Priority    \n6 p1         1\n  p2         1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1486609696, "creation_date": 1486609696, "answer_id": 42127541, "question_id": 42123774, "link": "https://stackoverflow.com/questions/42123774/counting-python-pandas-dataframe-columns-and-sorting-them-by-date/42127541#42127541", "title": "Counting Python pandas Dataframe columns and sorting them by date", "body": "<p>Use <code>pd.TimeGrouper</code> with freq <code>W-Sat</code> so that <code>'Sunday'</code> and <code>'Monday'</code> get grouped together.</p>\n\n<pre><code>df.groupby([pd.TimeGrouper('W-Mon'), 'Priority']).ID.count().to_frame() \n\n                     ID\nCreated At Priority    \n2017-01-07 P1         1\n           P4         1\n</code></pre>\n"}], "owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1486621283, "creation_date": 1486588640, "last_edit_date": 1486621283, "question_id": 42123774, "link": "https://stackoverflow.com/questions/42123774/counting-python-pandas-dataframe-columns-and-sorting-them-by-date", "title": "Counting Python pandas Dataframe columns and sorting them by date", "body": "<p>I have a DataFrame that looks like;</p>\n\n<pre><code>                            ID        Tags       Priority \nCreated At\n2017-01-01 14:40:00        1234      some_tag     P1\n2017-01-02 15:00:00        1345      more_tag     P4\n</code></pre>\n\n<p>I want to count all of the different priority tags for each week to look like;</p>\n\n<pre><code>Week       Priority     Count\n1            p1           1\n             p4           1\n</code></pre>\n\n<p>I've tried the fairly simplet things like:</p>\n\n<pre><code>print(df.groupby(df.index.date).count())\n</code></pre>\n\n<p>But that is not giving me what I need.</p>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["python", "mysql", "django", "django-migrations"], "comments": [{"owner": {"reputation": 141, "user_id": 2930343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rw53w.jpg?s=128&g=1", "display_name": "Alan Avalos", "link": "https://stackoverflow.com/users/2930343/alan-avalos"}, "edited": false, "score": 0, "creation_date": 1486591593, "post_id": 42123671, "comment_id": 71417120, "body": "What database are you using?"}, {"owner": {"reputation": 1638, "user_id": 4510252, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7392ceb72b7a7289561e2adb14e9393e?s=128&d=identicon&r=PG&f=1", "display_name": "sprksh", "link": "https://stackoverflow.com/users/4510252/sprksh"}, "reply_to_user": {"reputation": 141, "user_id": 2930343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rw53w.jpg?s=128&g=1", "display_name": "Alan Avalos", "link": "https://stackoverflow.com/users/2930343/alan-avalos"}, "edited": false, "score": 0, "creation_date": 1486617165, "post_id": 42123671, "comment_id": 71424787, "body": "I am using mysql db"}, {"owner": {"reputation": 141, "user_id": 2930343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rw53w.jpg?s=128&g=1", "display_name": "Alan Avalos", "link": "https://stackoverflow.com/users/2930343/alan-avalos"}, "edited": false, "score": 1, "creation_date": 1486618691, "post_id": 42123671, "comment_id": 71425282, "body": "Check <a href=\"https://docs.djangoproject.com/en/1.10/topics/migrations/#mysql\" rel=\"nofollow noreferrer\">Django documentation</a> for this. Basically you can&#39;t roll back to a previous migration due to the lack of support of MySQL for this. You will have to manually omit the changes in the migration in order to run the migration again."}], "answers": [{"tags": [], "owner": {"reputation": 1638, "user_id": 4510252, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7392ceb72b7a7289561e2adb14e9393e?s=128&d=identicon&r=PG&f=1", "display_name": "sprksh", "link": "https://stackoverflow.com/users/4510252/sprksh"}, "is_accepted": true, "score": 0, "last_activity_date": 1486907108, "last_edit_date": 1495539926, "creation_date": 1486907108, "answer_id": 42188300, "question_id": 42123671, "link": "https://stackoverflow.com/questions/42123671/how-to-undo-changes-from-unfinished-migration-in-django/42188300#42188300", "title": "How to undo changes from unfinished migration in django", "body": "<p>As Alan Avalos told in comments, We cannot rollback the unfinished migration. And As I posted in another of my answer regarding migrations <a href=\"https://stackoverflow.com/questions/32123477/django-revert-last-migration/36832446#36832446\">django revert last migration</a>, I had to manually delete all the changes and it took much time as it should be done very carefully.</p>\n\n<p>The idea is you have to check which particular migrations have been run and which particular migration caused the error. Leave all those that have been applied already. delete the changes of the unapplied migration by getting into mysql, then once it is done, find the root cause as to what caused migrations to falter and correct that thing.</p>\n\n<p>Delete the unapplied migration files and rerun makemigration and migrate.</p>\n"}], "owner": {"reputation": 1638, "user_id": 4510252, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7392ceb72b7a7289561e2adb14e9393e?s=128&d=identicon&r=PG&f=1", "display_name": "sprksh", "link": "https://stackoverflow.com/users/4510252/sprksh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 42188300, "answer_count": 1, "score": 1, "last_activity_date": 1486907108, "creation_date": 1486588251, "question_id": 42123671, "link": "https://stackoverflow.com/questions/42123671/how-to-undo-changes-from-unfinished-migration-in-django", "title": "How to undo changes from unfinished migration in django", "body": "<p>I ran makemigrations and then ran migrate on django project. But due to some complications the migrations could not be completed and stopped in between.</p>\n\n<p>What is the easiest way to revert the database to earlier state or undo changes of the unfinished migration.</p>\n\n<p>I am using django 1.10 but I think same applies with versions of django after 1.6</p>\n"}, {"tags": ["python", "bs4"], "comments": [{"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 0, "creation_date": 1486588295, "post_id": 42123622, "comment_id": 71415445, "body": "Can you please post the code you have tried so far."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6723321"}, "reply_to_user": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 0, "creation_date": 1486588505, "post_id": 42123622, "comment_id": 71415565, "body": "@A.Kot I have added the code but its just <code>body = response.css(&#39;body&#39;).extract()</code> I don&#39;t know how to remove html code from the bs object."}], "answers": [{"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1486590102, "creation_date": 1486590102, "answer_id": 42124186, "question_id": 42123622, "link": "https://stackoverflow.com/questions/42123622/bs4-scrape-everything-bar-h2-tag/42124186#42124186", "title": "BS4 scrape everything bar &lt;h2&gt; tag", "body": "<p>I think this will do it for you, assuming that only the input field you want is of size 7.</p>\n\n<pre><code>&gt;&gt;&gt; from bs4 import BeautifulSoup\n&gt;&gt;&gt; page = open('temp.htm').read()\n&gt;&gt;&gt; soup = BeautifulSoup(page,'lxml')\n&gt;&gt;&gt; theInput = soup.findAll('input', attrs={'type': 'hidden', 'name': 'saa', 'size': '7'})\n&gt;&gt;&gt; len(theInput)\n1\n&gt;&gt;&gt; theInput[0].attrs\n{'type': 'hidden', 'size': '7', 'value': 'This is the text \\n                       I would like to to extract', 'name': 'saa'}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6723321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486590102, "creation_date": 1486588084, "last_edit_date": 1486588472, "question_id": 42123622, "link": "https://stackoverflow.com/questions/42123622/bs4-scrape-everything-bar-h2-tag", "title": "BS4 scrape everything bar &lt;h2&gt; tag", "body": "<p>I am currently writing a scraper am stuck on the last little bit which ironically looks like it should be the easiest. The html is a little pop up and contains the following code structure.</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Website Title&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;h2&gt;Full Development Description&lt;/h2&gt;&lt;br/&gt;\n        &lt;input type=\"hidden\" name=\"saaa\" value=\"000\" /&gt;\n        &lt;input type=\"hidden\" name=\"saaa\" value=\"000\" /&gt;\n\n        This is the text I would like to to extract                  \n\n        &lt;input type=\"hidden\" name=\"saa\" value=\"This is the text \n                       I would like to to extract\" size=\"7\" /&gt;\n\n        &lt;input type=\"hidden\" name=\"saaa\" value=\"000\" /&gt;\n        &lt;input type=\"hidden\" name=\"saa\" value=\"000\" /&gt;\n\n     &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am looking to extract the This is the text I would like to to extract part. This part is written twice, once as just plain text in the body and once as the value as a hidden input. There is no way to identify this hidden input from the other hidden input so the easiest way I think will be to extract the text.</p>\n\n<p>My plan is to extract the body which I know how to do. But I don't know how to 'exclude' tags allowing me to remove the h2 tags and input tags and all data with in these tags.</p>\n\n<p>I extract the body using the following code:</p>\n\n<pre><code> body = response.css('body').extract()\n</code></pre>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 1, "creation_date": 1486588480, "post_id": 42123524, "comment_id": 71415548, "body": "Could you be more succinct? Just share exact lines of code which are the cause of your problem and provide short issue description, exception log (if you got any)"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "reply_to_user": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1486589564, "post_id": 42123524, "comment_id": 71416131, "body": "Target = &#39;<a href=\"http://www.allenovery.com/search/Pages/results.aspx?k=\" rel=\"nofollow noreferrer\">allenovery.com/search/Pages/results.aspx?k=</a>*&amp;v1=-write&amp;s=Ne&zwnj;&#8203;wsAndDeals&amp;r=aolangu&zwnj;&#8203;age%3d%22AQdFbmdsaXN&zwnj;&#8203;oCmFvbGFuZ3VhZ2UBAV4&zwnj;&#8203;BJA%3d%3d%22&#39; My coding pulls off the data for that link but just the first 10 records on page 1. The coding that is stopping the programme from looping through is; &quot;&quot;&quot;This is for navigation to next page&quot;&quot;&quot;             next_b = driver.find_element_by_xpath(&#39;//div[@class=&quot;srch-Page srch-Page-bg&quot;]&#39;)             if next_b.get_attribute(&#39;class&#39;) == &#39;srch-Page-img&#39;:                 next_b.click()              else:                 break"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486591217, "post_id": 42124323, "comment_id": 71416940, "body": "Thanks for getting back to me. I incorporated your suggestion into the script and got the following error &quot;Element is not clickable&quot;. Could I share the script with you?"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486592542, "post_id": 42124323, "comment_id": 71417569, "body": "I got the same error. It may be a glitch in another area of the script. I am so close to making it work but just can&#39;t seem to get this last bit right."}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486592638, "post_id": 42124323, "comment_id": 71417610, "body": "Show the complete exception log"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486593352, "post_id": 42124323, "comment_id": 71417948, "body": "It doesn&#39;t seem to be allowing me to take a screen shot of my anaconda prompt window. I don&#39;t have any other logs"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486593398, "post_id": 42124323, "comment_id": 71417967, "body": "I mean <code>Element is not clickable</code> full log"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486593511, "post_id": 42124323, "comment_id": 71418002, "body": "It reads like this; Message: unknown error: Element is not clickable at point (750, 777). Other element would receive the click &lt;div id=\u201dcookiewarning\u201d style=\u201ddisplay\u201d: block; height"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486593697, "post_id": 42124323, "comment_id": 71418084, "body": "Updated. check again"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486593948, "post_id": 42124323, "comment_id": 71418186, "body": "selenium.common.exceptions.WebDriverException: Message: unknown error: Element is not clickable at point (750, 777). Other element would receive the click: &lt;div id=&quot;cookieWarning&quot; style=&quot;display: block; height: 70px;&quot;&gt;...&lt;/div&gt;"}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486594163, "post_id": 42124323, "comment_id": 71418273, "body": "Are there any forums where I could share the whole script as it would be probably easy for someone to pinpoint the issue?"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486594176, "post_id": 42124323, "comment_id": 71418284, "body": "ok.... seem that developer has good sense of humor :)) try ti use just <code>time.sleep(1)</code> as on updated answer"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486594314, "post_id": 42124323, "comment_id": 71418341, "body": "Here on <code>SteckOverflow</code> you might ask for a solution of particular issue. I don&#39;t know where you can post the whole script for someone to analyze it..."}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486594891, "post_id": 42124323, "comment_id": 71418613, "body": "Still no joy at all. It may be one to park for today :-("}, {"owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "edited": false, "score": 0, "creation_date": 1486594923, "post_id": 42124323, "comment_id": 71418629, "body": "Thanks for all your help anyway. Much appreciated"}], "tags": [], "owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "is_accepted": false, "score": 0, "last_activity_date": 1486594090, "last_edit_date": 1486594090, "creation_date": 1486590661, "answer_id": 42124323, "question_id": 42123524, "link": "https://stackoverflow.com/questions/42123524/how-do-you-loop-through-a-web-page-for-content-using-python-selenium/42124323#42124323", "title": "How do you loop through a web page for content using Python Selenium", "body": "<p>You're trying to handle wrong element (<code>driver.find_element_by_xpath('//div[@class=\"srch-Page srch-Page-bg\"]')</code> is not what you actually need). Try to implement below code:</p>\n\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nimport time\n\ntry:\n    time.sleep(1)\n    WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.ID, \"SRP_NextImg\"))).click()\nexcept TimeOutException:\n    break\n</code></pre>\n\n<p>This should allow you to get next page until \"Next\" button (<code>&gt;</code>) is available</p>\n"}], "owner": {"reputation": 39, "user_id": 7379400, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154933064939082/picture?type=large", "display_name": "Chris Moore", "link": "https://stackoverflow.com/users/7379400/chris-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2453, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486594090, "creation_date": 1486587722, "question_id": 42123524, "link": "https://stackoverflow.com/questions/42123524/how-do-you-loop-through-a-web-page-for-content-using-python-selenium", "title": "How do you loop through a web page for content using Python Selenium", "body": "<p>I am quite new to using Selenium (Python). I have just scraped some data off a website in exactly the way I wanted to but the code only pulls off the first 10 records. It doesn't proceed to pick up the entire content by looping through the other pages. Would you happen to know why the script fails to open the proceeding pages? Any help would be greatly appreciated. If you find the \"\"\"This is for navigation to next page\"\"\" I think this is the incorrect area.</p>\n\n<p>Code:</p>\n\n<p>from selenium import webdriver\nfrom selenium.common.exceptions import NoSuchElementException\nfrom selenium.common.exceptions import NoSuchWindowException</p>\n\n<p>import time\nfrom openpyxl import Workbook</p>\n\n<p>\"\"\"This is to collect links that associate with all the profiles present in Allen Overy website\"\"\" \ndef get_links(driver, target, upper_datetime_str, lower_datetime_str):   </p>\n\n<pre><code>\"\"\"This part allows me to filter on date so I'm not having to pull back all the data each time it's run\"\"\"\nif upper_datetime_str == '' and lower_datetime_str == '':\n    time_constrain = 0\nelse:\n    time_constrain = 1\n    upper_datetime = time.strptime(upper_datetime_str,'%d/%m/%Y')\n    lower_datetime = time.strptime(lower_datetime_str,'%d/%m/%Y')\n\n\"\"\"This is to search for news that present in Freshfields website\"\"\"\n\"\"\"Go to page that contains news list\"\"\"\ndriver.get(target) \n\nisbreak = 0\nlist_links = []\nwhile True: \n    try:\n        \"\"\"Get links that associate to news in each page\"\"\"\n        list_ppl_link =  driver.find_elements_by_xpath('//div[@class = \"srch-Title3\"]')                                                 \n        for item in list_ppl_link:                \n            rel_date = item.find_elements_by_xpath('//div[@class = \"srch-Metadata2\"]')\n            if time_constrain == 0:\n                rel_link = item.find_element_by_tag_name('a').get_attribute('href')\n                list_links.append(rel_link)\n            else:\n                input_datetime = time.strptime(rel_date,'%d %B %Y')\n                if input_datetime &lt; lower_datetime:\n                    isbreak = 1\n                    break\n                elif input_datetime &gt;=lower_datetime and input_datetime &lt;= upper_datetime:\n                    rel_link = item.find_element_by_tag_name('a').get_attribute('href')\n                    list_links.append(rel_link)\n\n        \"\"\"This is for navigation to next page\"\"\"\n        next_b = driver.find_element_by_xpath('//div[@class=\"srch-Page srch-Page-bg\"]')\n        if next_b.get_attribute('class') == 'srch-Page-img':\n            next_b.click() \n        else:\n            break\n\n        if isbreak == 1:\n            break\n\n    except KeyboardInterrupt:\n        break\n    except NoSuchWindowException:\n        break           \n    except:\n        raise\n\nreturn list_links\n</code></pre>\n\n<p>def get_news_content(driver, link):\n    driver.get(link)</p>\n\n<pre><code>try:\n    rels_date = driver.find_element_by_class_name('ao-rteElement-H4').text\nexcept NoSuchElementException:\n    rels_date = ''\n\ntry:\n    headline = driver.find_element_by_class_name('ao-rteElement-H1').text\nexcept:\n    headline = ''\n\ntry:\n    content1 = driver.find_element_by_class_name('ao-rteElement-introText').text\nexcept NoSuchElementException: \n    content1 = ''\ntry:\n    content2  = driver.find_element_by_id('ctl00_PlaceHolderMain_main__ControlWrapper_ExtendedRichHtmlField').text\nexcept NoSuchElementException: \n    content2 = ''\ncontent = '\\n'.join([content1, content2]).strip()\n\nreturn {'news_date':rels_date ,\\\n        'news_content':content, 'news_headline':headline}\n</code></pre>\n\n<p>def extract_data(adict):</p>\n\n<pre><code>return [adict.get('news_date', ''),\n        adict.get('news_headline', ''),\n        adict.get('news_content', '')]\n</code></pre>\n\n<h1>===============================================================================================================</h1>\n\n<p>if <strong>name</strong> == \"<strong>main</strong>\":\n    \"\"\"Highlight the file variables such as file name and headers for columns with a date stamp of===\"\"\"\n    printout = time.strftime('%y%m%d_%H%M%S', time.localtime()) + '_allenovery_news.xlsx'<br>\n    header = ['Firm Name','Date', 'Headline Title', 'News Content']   </p>\n\n<pre><code>wb = Workbook()\nws = wb.active\nws.append(header)\nlog = open('test.txt', 'w')\n\n\"\"\"Identify target link where the data is stored\"\"\"\ntarget = 'http://www.allenovery.com/search/Pages/results.aspx?k=*&amp;v1=-write&amp;s=NewsAndDeals&amp;r=aolanguage%3d%22AQdFbmdsaXNoCmFvbGFuZ3VhZ2UBAV4BJA%3d%3d%22'\n\n\"\"\"Engage Chrome Driver\"\"\"\nchromeOptions = webdriver.ChromeOptions()\nprefs = {\"profile.managed_default_content_settings.images\":2}\nchromeOptions.add_experimental_option(\"prefs\",prefs)\ndriver = webdriver.Chrome(chrome_options=chromeOptions)\ndriver.set_page_load_timeout = 120\ndriver.maximize_window()\n\n\"\"\"Time format : dd/mm/yyyy\"\"\"\n\"\"\"Select your timeframe below should you wish. Otherwise leave fields blank '' \"\"\"\nupper_datetime_str = ''\nlower_datetime_str = ''\n\nprint('Collecting news links')\nlist_ppls = get_links(driver, target, upper_datetime_str, lower_datetime_str)    \ndriver.quit()\n\n\n\"\"\"Engage Chrome Driver\"\"\"\ndriver = webdriver.Chrome(chrome_options=chromeOptions)\ndriver.set_page_load_timeout = 120\ndriver.maximize_window()\n\n\ntotal_link = len(list_ppls)\nidx = 0\nwhile idx &lt; total_link:\n    try:\n        print(idx + 1, 'in', total_link, list_ppls[idx])\n\n        \"\"\"Append client name to data\"\"\"\n        ws.append(['Allen and Overy'] + extract_data(get_news_content(driver, list_ppls[idx])))          \n        idx += 1  \n        if not(idx%100):\n            wb.save(printout) \n            driver.quit()\n            time.sleep(10)\n            driver = webdriver.Chrome(chrome_options=chromeOptions)\n            driver.set_page_load_timeout = 120\n            driver.maximize_window()\n\n    except KeyboardInterrupt:\n        break\n    except NoSuchWindowException:\n        break\n    except:\n        driver.quit()\n        time.sleep(10)\n        driver = webdriver.Chrome(chrome_options=chromeOptions)\n        driver.set_page_load_timeout = 120\n        driver.maximize_window()\n        continue\n\nwb.save(printout)        \nlog.close()\ndriver.quit()\n</code></pre>\n"}, {"tags": ["php", "python", "json", "bash"], "comments": [{"owner": {"reputation": 739, "user_id": 7453308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fab68a8d04cc8d75b37d3ae6e31dc13?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7453308/alex"}, "edited": false, "score": 1, "creation_date": 1486588797, "post_id": 42123507, "comment_id": 71415744, "body": "can you please edit the post and paste the python code into it. Second, what result are you expecting, what result (or error) are you getting."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7536683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dbf75a5ad95c14cf9cf4224f30b315?s=128&d=identicon&r=PG&f=1", "display_name": "Jr. Programmer", "link": "https://stackoverflow.com/users/7536683/jr-programmer"}, "edited": false, "score": 0, "creation_date": 1486660907, "post_id": 42142056, "comment_id": 71452112, "body": "It works fine, but when I try to import requests, I get the same error: Notice: Undefined offset: 0. I need the requests.post to send my json: r = requests.post(&#39;<a href=\"https://b.listo.mx/api/invoicing/generate_xml\" rel=\"nofollow noreferrer\">b.listo.mx/api/invoicing/generate_xml</a>&#39;, json=generation_data,                   headers={&#39;Authorization&#39;: &#39;Token %s&#39; % API_TOKEN}, verify=True)  response = r.json()[0] xml, original_chain = response[&#39;xml&#39;], response[&#39;original_chain&#39;]"}], "tags": [], "owner": {"reputation": 71821, "user_id": 57191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1186a46e65dbea4c8900d524c613f926?s=128&d=identicon&r=PG", "display_name": "cwallenpoole", "link": "https://stackoverflow.com/users/57191/cwallenpoole"}, "is_accepted": true, "score": 1, "last_activity_date": 1486658031, "creation_date": 1486658031, "answer_id": 42142056, "question_id": 42123507, "link": "https://stackoverflow.com/questions/42123507/run-python-api-in-php/42142056#42142056", "title": "Run python Api in PHP", "body": "<p>You have a number of problems, not the least of which is that you are using unescaped user input in the command line. If someone set <code>&amp; rm *</code> as a colony, you could have a problem. <a href=\"http://php.net/manual/en/function.escapeshellarg.php\" rel=\"nofollow noreferrer\">You should look at escaping those.</a></p>\n\n<p>The specific problem that you're asking about, however, is caused by the fact that you are passing in both colony and country in a single string <code>'\".$colony.$country.\"'\"</code> means that Python sees <code>sys.argv[1]</code> as the result of combining both of those values into one string. You should use: <code>'\".$colony.\"' '\".$country.\"'\"</code> instead</p>\n"}], "owner": {"reputation": 13, "user_id": 7536683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dbf75a5ad95c14cf9cf4224f30b315?s=128&d=identicon&r=PG&f=1", "display_name": "Jr. Programmer", "link": "https://stackoverflow.com/users/7536683/jr-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 42142056, "answer_count": 1, "score": -1, "last_activity_date": 1486961563, "creation_date": 1486587626, "last_edit_date": 1486961563, "question_id": 42123507, "link": "https://stackoverflow.com/questions/42123507/run-python-api-in-php", "title": "Run python Api in PHP", "body": "<p>I want to exec this python script (Python API).\n* I have a form with method POST and a submit button; from this form I ask the user for the country, locality, rfc, etc.\n* When the user writes this parameters, and clicks the button, I want to pass this parameters to my script in python and execute it.</p>\n\n<p>This is my php code:</p>\n\n<pre><code>&lt;?\n$colony = $_POST['colony'];\n$country = $_POST['country'];\n$output = array();\nexec(\"python script.py'\".$colony.$country.\"'\",$salida);\necho $salida[0];\n?&gt;\n</code></pre>\n\n<p>This is my script.py</p>\n\n<pre><code># encoding=utf-8\nimport base64\nimport ssl\nimport subprocess\n\nfrom OpenSSL import crypto\nimport requests\n\n\nAPI_PREFIX = 'https://b.listo.mx/api/invoicing'\nAPI_TOKEN = 'Aasdfadsf'\nRFC_ID = 6690\nPRIVATE_KEY_PASSPHRASE = '12345678a'\n\n\ngeneration_data = [{\n    \"folio\": \"415\",\n    \"issued_at\": \"Mike Van\",\n    \"issued_on\": \"2016-08-18T03:04:00.000Z\",\n    \"issuer\": {\n        \"colony\": sys.argv[1],\n        \"country\": sys.argv[2],\n        \"email_from\": \"contacto@ready.mx\",\n        \"email_subject\": \"Tu factura\",\n        \"employer_num\": \"WWWW\",\n        \"ext_num\": \"123\",\n        \"int_num\": \"234\",\n        \"id\": RFC_ID,\n        \"locality\": \"\",\n        \"municipio\": \"Mike\",\n        \"postal_code\": \"00000\",\n        \"reference\": None,\n        \"rfc\": \" \",\n        \"rfc_name\": \"Services\",\n        \"state\": \"Mike\",\n        \"street\": \"Re\",\n        \"tax_regime\": \"pm\"\n    },\n    \"items\": [\n        {\n            \"description\": \"Examen IV\",\n            \"quantity\": \"1.000000\",\n            \"unitary_amount\": \"123.000000\",\n            \"unitary_amount_with_iva\": \"142.680000\",\n            \"units\": \"MX\"\n        },\n        {\n            \"description\": \"Certificaci\u00f3n I\",\n            \"quantity\": \"2.000000\",\n            \"unitary_amount\": \"234.560000\",\n            \"unitary_amount_with_iva\": \"272.089600\",\n            \"units\": \"MX\"\n        }\n    ],\n    \"payment_form\": u\"Pay\",\n    \"payment_method\": \"04\",\n    \"payment_method_acct_num\": \"9876\",\n    \"receiver\": {\n        \"colonia\": \"P\",\n        \"country\": u\"M\",\n        \"ext_num\": \"123\",\n        \"int_num\": \"456\",\n        \"issuer_rfc\": 10,\n        \"locality\": u\"M\",\n        \"municipio\": \"Mike\",\n        \"postal_code\": \"00000\",\n        \"reference\": None,\n        \"rfc\": \"TT\",\n        \"rfc_name\": \"ABC SA de CV\",\n        \"state\": u\"Mike\",\n        \"street\": \"Re\"\n    },\n    \"series\": \"A\",\n    \"subtotal\": \"592.120000\",\n    \"taxes\": [\n        {\"amount\": \"94.739200\", \"tax_rate\": \"16.000000\", \"tax_type\": \"IVA\", \"treatment\": \"pass_through\"}\n    ],\n    \"total\": \"686.859200\"\n}]\n\nr = requests.post('https://b.listo.mx/api/invoicing/generate_xml', json=generation_data,\n                  headers={'Authorization': 'Token %s' % API_TOKEN}, verify=True)\n\nresponse = r.json()[0]\nxml, original_chain = response['xml'], response['original_chain']\n\nprint '-' * 80\nprint r.json()\n\n# Cargar certificado y llave privada (Firma)\nwith open('test.cer') as f:\n    cert_der = f.read()\n    cert = crypto.load_certificate(crypto.FILETYPE_PEM, ssl.DER_cert_to_PEM_cert(cert_der))\n\nwith open('test.key') as f:\n    private_key_der = f.read()\n\nargs = ['openssl', 'pkcs8', '-inform', 'DER', '-passin', 'pass:' + PRIVATE_KEY_PASSPHRASE]\nproc = subprocess.Popen(args, stdout=subprocess.PIPE, stdin=subprocess.PIPE)\nprivate_pem = proc.communicate(input=private_key_der)[0].strip()\nkey = crypto.load_privatekey(crypto.FILETYPE_PEM, private_pem)\n\n# Timbrado\nsignature = crypto.sign(key, original_chain, 'sha1')\nprint \"Cadena original = %s\" % original_chain\nprint \"Sello = %s\" % base64.b64encode(signature)\ncrypto.verify(cert, signature, original_chain, 'sha1')\n\n\ncertification_data = {\n    'xml': xml,\n    'certificate_num': ('%0x' % cert.get_serial_number())[1::2],\n    'certificate': base64.b64encode(cert_der),\n    'signature': base64.b64encode(signature),\n    'data': generation_data[0]\n}\n\nr = requests.post('%s/certify_xml' % API_PREFIX, json=certification_data,\n                  headers={'Authorization': 'Token %s' % API_TOKEN}, verify=False)\n\n#{Aqu\u00ed me dar\u00e1 el id y el xml tanto url como pdf}\nprint '-' * 80\nprint r.json()\n</code></pre>\n\n<p>As you can see, I have tried to get the parameters in python like this:</p>\n\n<p>colony: sys.argv[1],\ncountry: sys.argv[2],</p>\n\n<p>I have some errors with sys.argv[2] (Index undefined) and import requests.</p>\n"}, {"tags": ["python", "python-3.x", "class", "numpy", "sympy"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1486588154, "post_id": 42123497, "comment_id": 71415372, "body": "Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>. I&#39;m not following what you&#39;re trying to get help with. Please review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and edit your question."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1486588390, "post_id": 42123497, "comment_id": 71415510, "body": "Once you have values for question text, answer text, options, and equation, you pass them to the constructor like so: <code>Question(question, answer, equation, options)</code>. It looks like <code>questionMaker</code> should be a <code>@classmethod</code> and do basically what <code>generateLinear1</code> does, then create and return a Question instance. E.g. <code>q = Question.generateLinear()</code> would give you a Question for a linear equation."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1486588557, "post_id": 42123497, "comment_id": 71415594, "body": "In general, it helps to first think about your data: what data do you need and what pieces of data you want together. Thinking about the algorithm is easier after that."}, {"owner": {"reputation": 131, "user_id": 4371769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71e91ebd228c9e70c5c0298d6c6c3740?s=128&d=identicon&r=PG&f=1", "display_name": "benjo456", "link": "https://stackoverflow.com/users/4371769/benjo456"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1486589873, "post_id": 42123497, "comment_id": 71416281, "body": "@9000 thank you for your advice. I have around 10 different other functions like generateLinear1 but for all different math functions. What would be the best way to implement this without me putting all the math function code into the class?"}, {"owner": {"reputation": 748, "user_id": 6840615, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2ON6p.jpg?s=128&g=1", "display_name": "Md Sifatul Islam", "link": "https://stackoverflow.com/users/6840615/md-sifatul-islam"}, "edited": false, "score": 0, "creation_date": 1486591335, "post_id": 42123497, "comment_id": 71416998, "body": "do you want other classes to inherit these functions from a class? or you just want to implement this functions from other class ( to avoid writing same function) ?"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1486591631, "post_id": 42123497, "comment_id": 71417150, "body": "@benjo456: What do you want your <code>Question</code> class for? Where and how do you plan to use it? If you already have the functions that generate all the data that a <code>Question</code> needs, they could construct and return <code>Question</code> instances. <code>Question</code> could learn to print itself and check if an answer given to it is correct, etc. If you described your <i>whole</i> task a bit, it would be easier to understand what data structures fit it."}, {"owner": {"reputation": 131, "user_id": 4371769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71e91ebd228c9e70c5c0298d6c6c3740?s=128&d=identicon&r=PG&f=1", "display_name": "benjo456", "link": "https://stackoverflow.com/users/4371769/benjo456"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1486598460, "post_id": 42123497, "comment_id": 71419904, "body": "@9000 the whole project is a maths quiz. There are all different maths topics (e.g. linear algebra, trig) which are made from different functions. I want to use the <code>Question</code> class to prevent me having to keep creating new Question functions all the time. Again, thank you for your help"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3084694"}, "is_accepted": false, "score": 0, "last_activity_date": 1486592035, "creation_date": 1486592035, "answer_id": 42124637, "question_id": 42123497, "link": "https://stackoverflow.com/questions/42123497/struggling-with-quiz-python-class-logic/42124637#42124637", "title": "Struggling with &#39;quiz&#39; python class logic", "body": "<p>Here is a way for you to go at it:</p>\n\n<pre><code>class Person(object):\npass\n\n\ndef play():\n    print \"i'm playing!\"\n\n\n\np = Person()\np.play = play\np.play()\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 4371769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71e91ebd228c9e70c5c0298d6c6c3740?s=128&d=identicon&r=PG&f=1", "display_name": "benjo456", "link": "https://stackoverflow.com/users/4371769/benjo456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486592035, "creation_date": 1486587592, "question_id": 42123497, "link": "https://stackoverflow.com/questions/42123497/struggling-with-quiz-python-class-logic", "title": "Struggling with &#39;quiz&#39; python class logic", "body": "<p>I have tried search but couldnt find my situation.</p>\n\n<p>I have a function that generates an algebraic equation, a question and an answer. I am attempting to figure out how to pass this to a class. Below is a small part of the code</p>\n\n<pre><code>class Question:\n    def __init__(self,question,answer=None,equation=None, options=None):\n        self.question = question\n        self.answer = answer\n        self.options = options\n        self.equation = equation\n\n    def questionMaker(self):\n        pass\n\ndef generateLinear1():\n\n    x = sympy.Symbol('x')\n\n    sign1 = random.choice([operator.add,operator.sub])\n    sign2 = random.choice([operator.add,operator.sub])\n\n    consts = [random.randint(1,10) for i in range(0,4)]\n\n    equation = sympy.Eq(sign1(consts[0]*x,consts[1]) ,sign2(consts[2]*x,consts[3]))\n\n    #Define answers\n    answer = sympy.solveset(equation)\n\n    return \"Solve for x: %s\" % (equation)\n</code></pre>\n\n<p>My end goal is to be able to be able to create a variable via inheritance to then use in the GUI. </p>\n\n<p>Thank you </p>\n"}, {"tags": ["python", "sql", "postgresql", "virtual-machine", "git-bash"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1486587871, "post_id": 42123435, "comment_id": 71415235, "body": "Did you load that SQL file into the database? How?"}, {"owner": {"reputation": 1, "user_id": 6404416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13EkH.jpg?s=128&g=1", "display_name": "Filip Kota\u0144ski", "link": "https://stackoverflow.com/users/6404416/filip-kota%c5%84ski"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1486589031, "post_id": 42123435, "comment_id": 71415872, "body": "I don&#39;t understand the question. What does it mean to load  SQL file into the database? Which database you mean? How should i load sql files into databases? Do you mean this: &quot;from tournament import * &quot; which is the top part of the predefined python file tournament_test.py?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1486592246, "post_id": 42123435, "comment_id": 71417432, "body": "Well what are you expecting a file on its own to do? It&#39;s all very well writing a file of SQL commands, but unless you actually give them to the database you might as well have written nursery rhymes. Your error is telling you that you haven&#39;t created the table, which is true if you&#39;ve never actually run that file."}, {"owner": {"reputation": 1, "user_id": 6404416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13EkH.jpg?s=128&g=1", "display_name": "Filip Kota\u0144ski", "link": "https://stackoverflow.com/users/6404416/filip-kota%c5%84ski"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1486597624, "post_id": 42123435, "comment_id": 71419575, "body": "If you mean this by loading tournament.sql into psql :vagrant@vagrant-ubuntu-trusty-32:/vagrant/tournament$ psql &lt; tournament.sql . It doesn&#39;t work either, as python interpreter returns the very same error:  psycopg2.ProgrammingError: relation &quot;matches&quot; does not exist"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 8031257, "user_type": "registered", "profile_image": "https://graph.facebook.com/1330270487009231/picture?type=large", "display_name": "MetaG", "link": "https://stackoverflow.com/users/8031257/metag"}, "is_accepted": false, "score": 1, "last_activity_date": 1507917584, "creation_date": 1507917584, "answer_id": 46735602, "question_id": 42123435, "link": "https://stackoverflow.com/questions/42123435/psycopg2-programmingerror-relation-matches-does-not-exist/46735602#46735602", "title": "psycopg2.ProgrammingError: relation &quot;matches&quot; does not exist", "body": "<p>\"You probably already solved this on your own like I had to, however if you are still searching or for anyone else who may come across this thread. I am also taking this course and came across this beginner problem. </p>\n\n<p>This was user error. I was connecting to vagrant and the tournament database in the wrong way. </p>\n\n<p>After logging into vagrant I was in the right folder accessing the right database but in the wrong method. </p>\n\n<p>Error:</p>\n\n<p>Once in vagrant I went to psql as user vagrant and imported the file.</p>\n\n<pre><code>\\i tournament.sql\n</code></pre>\n\n<p>Then I connected to the database.</p>\n\n<pre><code>\\c tournament\n</code></pre>\n\n<p>Then I was exiting psql to run the file and getting the relation does not exist error. </p>\n\n<p>I needed to do one more step.</p>\n\n<p>FIX:</p>\n\n<p>Once connected and logged into the database tournament. I needed to import the tournament.sql file again. </p>\n\n<p>That created the relations within the actual database and not just vagrant or wherever I was creating them before. </p>\n\n<p>so from Vagrant after the command Vagrant ssh\n    # run these commands separately \n    cd /vagrant/tournament/</p>\n\n<pre><code>psql\n\n\\i tournament.sql\n\n\\c tournament\n\n\\i tournament\n\n#last check to verify your relations were created\n\\dt\n\\d (table or view)\n</code></pre>\n\n<p>That is what did it for me. The rest of the project was easy. I hope this helps anyone searching for the answer on here.\" <a href=\"https://stackoverflow.com/questions/46679910/python-backed-sql-database-returning-a-psycopg2-programmingerror-relation-does\">My q&amp;a</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6404416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13EkH.jpg?s=128&g=1", "display_name": "Filip Kota\u0144ski", "link": "https://stackoverflow.com/users/6404416/filip-kota%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3741, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507917584, "creation_date": 1486587365, "question_id": 42123435, "link": "https://stackoverflow.com/questions/42123435/psycopg2-programmingerror-relation-matches-does-not-exist", "title": "psycopg2.ProgrammingError: relation &quot;matches&quot; does not exist", "body": "<p>I'm trying to do a final 'tournament' project in intro to relational databases course by udacity. Here's a link to the project's description:</p>\n\n<p><a href=\"https://docs.google.com/document/d/16IgOm4XprTaKxAa8w02y028oBECOoB1EI1ReddADEeY/pub?embedded=true\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/16IgOm4XprTaKxAa8w02y028oBECOoB1EI1ReddADEeY/pub?embedded=true</a></p>\n\n<p>I've got a file titled tournament.sql in which database 'tournament' and two tables 'matches' and 'players' are defined:</p>\n\n<pre><code>DROP DATABASE IF EXISTS tournament;\n\nCREATE DATABASE tournament;\n\nCREATE TABLE IF NOT EXISTS matches (\n\nid SERIAL PRIMARY KEY,\nplayer1 integer references players (id),\nplayer2 integer references players (id)\n);\n\nCREATE TABLE IF NOT EXISTS players (\n\nid SERIAL PRIMARY KEY,\nname varchar(40)\n);\n</code></pre>\n\n<p>I also defined bodies of two functions deleteMatches and deletePlayers in tournament.py file:</p>\n\n<pre><code>import psycopg2\n\ndef connect():\n\"\"\"Connect to the PostgreSQL database. Returns a database connection.\"\"\"\nreturn psycopg2.connect(\"dbname=tournament\")\n\ndef deleteMatches():\n\"\"\"Remove all the match records from the database.\"\"\"\nconn = connect()\nc = conn.cursor()\nc.execute(\"TRUNCATE TABLE matches;\")\nconn.commit()\nconn.close()\n\ndef deletePlayers():\n\"\"\"Remove all the player records from the database.\"\"\"\nconn = connect()\nc = conn.cursor()\nc.execute(\"TRUNCATE TABLE players;\")\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>There's one more python file predefined/prebuilt by the author of the whole course 'tournament_test.py', which can be executed to check if all required functions in tournament.py work fine/do their job. That file 'tournament_test.py' is executed in Virtual Machine from command line and in my case produces following error:</p>\n\n<pre><code>vagrant@vagrant-ubuntu-trusty-32:/vagrant/tournament$ python tournament_test.py\nTraceback (most recent call last):\nFile \"tournament_test.py\", line 151, in \ntestCount()\nFile \"tournament_test.py\", line 17, in testCount\ndeleteMatches()\nFile \"/vagrant/tournament/tournament.py\", line 16, in deleteMatches\nc.execute(\"TRUNCATE TABLE matches;\")\npsycopg2.ProgrammingError: relation \"matches\" does not exist\n</code></pre>\n\n<p>Does anyone know what's wrong with my code? I'm starting to lose patience. I've spent several hours trying to figure out, what's wrong and I can find any information that would be helpful. This course is so bad, sloppy and unprofessional. I just can't find right words to express my frustration.</p>\n"}, {"tags": ["python", "arrays", "list"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1486587662, "post_id": 42123412, "comment_id": 71415107, "body": "you could append to a list and then use <code>join</code> after the while loop"}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1486587505, "creation_date": 1486587505, "answer_id": 42123478, "question_id": 42123412, "link": "https://stackoverflow.com/questions/42123412/answers-to-array-in-python/42123478#42123478", "title": "Answers to array in python", "body": "<p>you can use <code>end</code> to print items in one line</p>\n\n<p>change <code>print(t)</code> to <code>print(t, end=\" \")</code></p>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 1232692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b491eaba0f986b1c172bbbeff9434654?s=128&d=identicon&r=PG", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1232692/kelvin"}, "is_accepted": true, "score": 1, "last_activity_date": 1486588326, "last_edit_date": 1486588326, "creation_date": 1486587520, "answer_id": 42123483, "question_id": 42123412, "link": "https://stackoverflow.com/questions/42123412/answers-to-array-in-python/42123483#42123483", "title": "Answers to array in python", "body": "<p>You're looking for a list.</p>\n\n<pre><code>_list = []\n_list.append(1)\n_list.append(2)\n_list.append(t)\n</code></pre>\n\n<p>Print simply outputs a variable to the next line. If you replace your print with append as shown above it will add it to an array. I modified your code and displayed below.</p>\n\n<pre><code>vf = vi + a*t  \nvt = (2*m*g/(C*p*A))**(1/2)  \n\nt_list = []  \nwhile t&lt;1000:  \n    vf = vi + a * t  \n    t+=1  \n    if vf&lt;vt:  \n        t_list.append(t)  \n    else:  \n        pass   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3495, "user_id": 5453723, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4a45bdc73d29495331e9843d4c2271f6?s=128&d=identicon&r=PG&f=1", "display_name": "muazfaiz", "link": "https://stackoverflow.com/users/5453723/muazfaiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1486587650, "creation_date": 1486587650, "answer_id": 42123513, "question_id": 42123412, "link": "https://stackoverflow.com/questions/42123412/answers-to-array-in-python/42123513#42123513", "title": "Answers to array in python", "body": "<p>I think you asking for the below code:</p>\n\n<pre><code>vf = vi + a*t\nvt = (2*m*g/(C*p*A))**(1/2)\narr = []\nwhile t&lt;1000:\n    vf = vi + a * t\n    t+=1\n    if vf&lt;vt:\n        arr.append(t)\n    else:\n        pass  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 4155804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B9Cqj3bhMB0/AAAAAAAAAAI/AAAAAAAAABg/JTR366_vtnY/photo.jpg?sz=128", "display_name": "Jorge Alberto D&#237;az Orozco", "link": "https://stackoverflow.com/users/4155804/jorge-alberto-d%c3%adaz-orozco"}, "is_accepted": false, "score": 0, "last_activity_date": 1486588086, "creation_date": 1486588086, "answer_id": 42123623, "question_id": 42123412, "link": "https://stackoverflow.com/questions/42123412/answers-to-array-in-python/42123623#42123623", "title": "Answers to array in python", "body": "<p>you can alter the way you are calling the print() function in order to define what the <strong><em>end</em></strong> will be. take a look at this example:</p>\n\n<pre><code>&gt;&gt;&gt; def print_array(array):\n...     print(\"[ \",end=\"\")\n...     for i in array:\n...         print(i, end=\", \")\n...     print(\"]\")\n... \n&gt;&gt;&gt; print_array(range(0,5))\n[ 0, 1, 2, 3, 4, ]\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7380140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95cfb2c1ede2eb2dfbc780e71e713d8b?s=128&d=identicon&r=PG&f=1", "display_name": "user7380140", "link": "https://stackoverflow.com/users/7380140/user7380140"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 42123483, "answer_count": 4, "score": 1, "last_activity_date": 1486588326, "creation_date": 1486587299, "question_id": 42123412, "link": "https://stackoverflow.com/questions/42123412/answers-to-array-in-python", "title": "Answers to array in python", "body": "<p>I'm trying to plot a graph with while and if condition.</p>\n\n<pre><code>vf = vi + a*t\nvt = (2*m*g/(C*p*A))**(1/2)\n\nwhile t&lt;1000:\n    vf = vi + a * t\n    t+=1\n    if vf&lt;vt:\n        print(t)\n    else:\n        pass    \n</code></pre>\n\n<p>So vf is velocity and vt is terminal velocity.\nI want vf to increase as long as its smaller than vt which I've done so as you can see from the code.</p>\n\n<p>The problem I have is the X components(in this case, t).\nIt shows like this:</p>\n\n<pre><code>0\n1\n2\n3\n...\n</code></pre>\n\n<p>and so on\nIs there any commands that changes to array such that it will be like\n[0,1,2,3,...]</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "audio", "graphics"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7475783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M_pBVPi1CdM/AAAAAAAAAAI/AAAAAAAAAAk/NljB_jZVZKY/photo.jpg?sz=128", "display_name": "Ryan&#39;s Dalmas", "link": "https://stackoverflow.com/users/7475783/ryans-dalmas"}, "is_accepted": false, "score": 0, "last_activity_date": 1486602551, "creation_date": 1486602551, "answer_id": 42126520, "question_id": 42123400, "link": "https://stackoverflow.com/questions/42123400/python-graphwin-stops-responding-with-winsound/42126520#42126520", "title": "Python GraphWin Stops Responding With Winsound", "body": "<p>I figured it out! I simply swapped the \"SND_FILENAME\" flag to \"SND_ASYNC\" so that the thread would not stop.</p>\n"}], "owner": {"reputation": 11, "user_id": 7475783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M_pBVPi1CdM/AAAAAAAAAAI/AAAAAAAAAAk/NljB_jZVZKY/photo.jpg?sz=128", "display_name": "Ryan&#39;s Dalmas", "link": "https://stackoverflow.com/users/7475783/ryans-dalmas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486676711, "creation_date": 1486587256, "last_edit_date": 1486676711, "question_id": 42123400, "link": "https://stackoverflow.com/questions/42123400/python-graphwin-stops-responding-with-winsound", "title": "Python GraphWin Stops Responding With Winsound", "body": "<p>Everytime I run 'RyTunes.py', the sound plays, however, while it plays the window stops responding. Anyone know why?</p>\n\n<p>Code: <a href=\"https://gyazo.com/01fb9808b54a8f0cb052e98f66e1f392\" rel=\"nofollow noreferrer\">https://gyazo.com/01fb9808b54a8f0cb052e98f66e1f392</a></p>\n\n<p>Thanks,\nRyan</p>\n"}, {"tags": ["python", "linux", "windows", "python-3.x", "text-files"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1486588512, "post_id": 42123349, "comment_id": 71415571, "body": "<code>print(sys.getdefaultencoding())</code> would be interesting."}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1486600795, "post_id": 42123464, "comment_id": 71420600, "body": "Actually in Python 2 on Windows <code>&quot;r&quot;</code> mode translates <code>&quot;\\r\\n&quot;</code> to <code>&quot;\\n&quot;</code>. You need <code>&quot;rb&quot;</code> mode to get raw bytes on Windows."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1486602511, "post_id": 42123464, "comment_id": 71421021, "body": "@eryksun: Yes, this is the &quot;universal newline&quot; thing, related but diffrerent."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1486603326, "post_id": 42123464, "comment_id": 71421224, "body": "It&#39;s not <code>&quot;rU&quot;</code> mode, i.e. reading in <i>universal</i> (as in cross-platform) newline mode. That&#39;s specific to Python. It&#39;s just regular text mode using Windows standard I/O <code>FILE</code> streams, i.e. <code>&quot;r&quot;</code> mode defaults to <code>&quot;rt&quot;</code> mode."}], "tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": true, "score": 5, "last_activity_date": 1486587459, "creation_date": 1486587459, "answer_id": 42123464, "question_id": 42123349, "link": "https://stackoverflow.com/questions/42123349/file-encoding-the-same-code-windows-linux/42123464#42123464", "title": "File encoding the same code Windows, Linux", "body": "<p>I suppose your file is UTF-8, which is the default encoding on Linux but not on Windows. The default encoding is used if not specified.</p>\n\n<p>Consider passing the encoding explicitly:</p>\n\n<pre><code>open(\"data.txt\", \"r\", encoding=\"utf-8\")\n</code></pre>\n\n<p>(Note that this is where Python 2 and Python 3 handle things differently. With Python 2, you'd get raw bytes, as if you specified <code>\"rb\"</code> under Python 3.)</p>\n"}], "owner": {"reputation": 360, "user_id": 5888855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6bf07a6e5c9a2bbc257fc717a00c974f?s=128&d=identicon&r=PG&f=1", "display_name": "Symonen", "link": "https://stackoverflow.com/users/5888855/symonen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 42123464, "answer_count": 1, "score": 1, "last_activity_date": 1486590222, "creation_date": 1486587082, "question_id": 42123349, "link": "https://stackoverflow.com/questions/42123349/file-encoding-the-same-code-windows-linux", "title": "File encoding the same code Windows, Linux", "body": "<p>Can someone tell me why the same code works fine on Linux but it is not on Windows?</p>\n\n<p>The following code was executed on each os:</p>\n\n<pre><code>print(\"Output :\" + open(\"data.txt\", \"r\").read())\n</code></pre>\n\n<p>On Windows error was raised:</p>\n\n<pre><code>UnicodeDecodeError: 'charmap' codec can't decode byte 0x98 in position 1: character maps to &lt;undefined&gt;\n</code></pre>\n\n<p>But on Linux everything worked fine:</p>\n\n<pre><code>Output :\u2600\u2660\u2602\n</code></pre>\n\n<p>Where is the problem ?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 1, "creation_date": 1486590240, "post_id": 42123343, "comment_id": 71416463, "body": "Chances are, you will need to use selenium for this."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1486590306, "post_id": 42123343, "comment_id": 71416492, "body": "I should also say that we&#39;d probably need to know more. What web page is this?"}, {"owner": {"reputation": 163, "user_id": 4258337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2cb754eecaaa5a3104e04de9b72f315?s=128&d=identicon&r=PG", "display_name": "SeanBallentine", "link": "https://stackoverflow.com/users/4258337/seanballentine"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487638766, "post_id": 42123343, "comment_id": 71864578, "body": "@BillBell Selenium was the answer. Thanks!"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1487650460, "post_id": 42123343, "comment_id": 71867631, "body": "You&#39;re most welcome!"}], "owner": {"reputation": 163, "user_id": 4258337, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2cb754eecaaa5a3104e04de9b72f315?s=128&d=identicon&r=PG", "display_name": "SeanBallentine", "link": "https://stackoverflow.com/users/4258337/seanballentine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486587054, "creation_date": 1486587054, "question_id": 42123343, "link": "https://stackoverflow.com/questions/42123343/using-beautifulsoup-to-extract-multiple-pages-of-data", "title": "Using BeautifulSoup to extract multiple pages of data", "body": "<p>I am using BeautifulSoup python package to scrape a table of data from a webpage. The tables have many pages that can be clicked through, I was hoping that i could extract each page of the table by running through adjusted URL's that identify the page but this particular site is statically updating the table using javascript that changes the source code.</p>\n\n<p>Does anyone know a work-around? I am new to BeautifulSoup and do not know if there is a way to do this.</p>\n"}, {"tags": ["python", "sql-server", "sqlalchemy", "pyodbc"], "answers": [{"comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 2, "creation_date": 1486592031, "post_id": 42124319, "comment_id": 71417336, "body": "Terrible idea. That&#39;s prone to SQL injection and <code>str</code> does not necessarily escape the values in the way that SQL expects (e.g. a <code>unicode</code> object in Python 2 will output <code>u&#39;whatever&#39;</code>)."}, {"owner": {"reputation": 2706, "user_id": 543738, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/956644a5615f3c5611c3382260ededd1?s=128&d=identicon&r=PG", "display_name": "Mr. Lance E Sloan", "link": "https://stackoverflow.com/users/543738/mr-lance-e-sloan"}, "edited": false, "score": 1, "creation_date": 1582908532, "post_id": 42124319, "comment_id": 106950919, "body": "Is the accepted answer really any safer to SQL injection attacks?"}], "tags": [], "owner": {"reputation": 737, "user_id": 7097648, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4efb877be4c1fefe89d3d5978c63eebd?s=128&d=identicon&r=PG&f=1", "display_name": "optimus_prime", "link": "https://stackoverflow.com/users/7097648/optimus-prime"}, "is_accepted": false, "score": 0, "last_activity_date": 1486590649, "creation_date": 1486590649, "answer_id": 42124319, "question_id": 42123335, "link": "https://stackoverflow.com/questions/42123335/passing-a-list-of-values-from-python-to-the-in-clause-of-an-sql-query/42124319#42124319", "title": "Passing a list of values from Python to the IN clause of an SQL query", "body": "<p>Used the below approach and it worked fine:</p>\n\n<pre><code>       sql = \"select * from Pretty_Txns where Send_Customer in %s\" % str(tuple(x))\n      df = pd.read_sql(sql,cnx)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 10, "last_activity_date": 1486646085, "creation_date": 1486646085, "answer_id": 42137739, "question_id": 42123335, "link": "https://stackoverflow.com/questions/42123335/passing-a-list-of-values-from-python-to-the-in-clause-of-an-sql-query/42137739#42137739", "title": "Passing a list of values from Python to the IN clause of an SQL query", "body": "<p>As stated in the comment to the other answer, that approach can fail for a variety of reasons. What you really want to do it create an SQL statement with the required number of parameter placeholders and then use the <code>params=</code> parameter of <code>read_sql</code> to supply the values:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>x = ['1000000000164774783','1000000000253252111']\nplaceholders = ','.join('?' for i in range(len(x)))  # '?,?'\nsql = \"select * from Pretty_Txns where Send_Customer in (%s)\" % placeholders\ndf = pd.read_sql(sql, cnx, params=x)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 1248129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bwkb9.jpg?s=128&g=1", "display_name": "Sajid", "link": "https://stackoverflow.com/users/1248129/sajid"}, "is_accepted": false, "score": 0, "last_activity_date": 1582673856, "creation_date": 1582673856, "answer_id": 60404715, "question_id": 42123335, "link": "https://stackoverflow.com/questions/42123335/passing-a-list-of-values-from-python-to-the-in-clause-of-an-sql-query/60404715#60404715", "title": "Passing a list of values from Python to the IN clause of an SQL query", "body": "<p>Making <code>sqlalchemey, pyodbc</code> to work with pandas <code>read_sql()</code> is a hairy and messy thing. After much frustration and bumping into various solutions and documentation from <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_sql.html\" rel=\"nofollow noreferrer\">pandas</a> and <a href=\"https://www.psycopg.org/docs/usage.html#lists-adaptation\" rel=\"nofollow noreferrer\">psycopg</a>, here's the correct (so far) way to do a query with named parameter:</p>\n\n<pre><code>import pandas as pd\nimport psycopg2\n# import pyodbc \nimport sqlalchemy\nfrom sqlalchemy import text # this is crucial\n\ncnx=sqlalchemy.create_engine(...)\nx = ['1000000000164774783','1000000000253252111']\nsql = \"select * from Pretty_Txns where Send_Customer in (:id);\" # named parameter\ndf = pd.read_sql(text(sql), cnx, params={'id':x}) # note how `sql`\n                                                   # string is cast with text() \n                                                   # and key-pair value is passed for \n                                                   # named parameter 'id'\ndf.head()\n</code></pre>\n\n<p>I've made it work with the PostgreSQL database. I hope it wouldn't be too much different for MySQL.</p>\n"}], "owner": {"reputation": 737, "user_id": 7097648, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4efb877be4c1fefe89d3d5978c63eebd?s=128&d=identicon&r=PG&f=1", "display_name": "optimus_prime", "link": "https://stackoverflow.com/users/7097648/optimus-prime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8484, "favorite_count": 2, "accepted_answer_id": 42137739, "answer_count": 3, "score": 4, "last_activity_date": 1582673856, "creation_date": 1486587032, "last_edit_date": 1486661316, "question_id": 42123335, "link": "https://stackoverflow.com/questions/42123335/passing-a-list-of-values-from-python-to-the-in-clause-of-an-sql-query", "title": "Passing a list of values from Python to the IN clause of an SQL query", "body": "<p>I am trying to pass a list like below to a sql query</p>\n\n<pre><code>x = ['1000000000164774783','1000000000253252111']\n</code></pre>\n\n<p>I am using <strong>sqlalchemy</strong> and <strong>pyodbc</strong> to connect to sql:</p>\n\n<pre><code>import pandas as pd\nfrom pandas import Series,DataFrame\nimport pyodbc\nimport sqlalchemy\n\ncnx=sqlalchemy.create_engine(\"mssql+pyodbc://Omnius:MainBrain1@172.31.163.135:1433/Basis?driver=/opt/microsoft/sqlncli/lib64/libsqlncli-11.0.so.1790.0\")\n</code></pre>\n\n<p>I tried using various string format functions to be used in the sql query. below is one of them</p>\n\n<pre><code>  xx = ', '.join(x)\n  sql = \"select * from Pretty_Txns where Send_Customer in (%s)\" % xx\n  df = pd.read_sql(sql,cnx)\n</code></pre>\n\n<p>All of them seem to convert it into a numeric format</p>\n\n<pre><code>(1000000000164774783, 1000000000253252111) instead of ('1000000000164774783','1000000000253252111')\n</code></pre>\n\n<p>And hence the query fails as datatype of Send_Customer is <strong>varchar(50)</strong> in SQL</p>\n\n<pre><code> ProgrammingError: (pyodbc.ProgrammingError) ('42000', '[42000] [Microsoft][SQL Server Native Client 11.0]\n  [SQL Server]Error converting data type varchar to numeric. (8114) (SQLExecDirectW)') \n [SQL: 'select * from Pretty_Txns where Send_Customer in (1000000000164774783, 1000000000253252111)']\n</code></pre>\n"}, {"tags": ["python", "pandas", "hive", "dask"], "comments": [{"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 1, "creation_date": 1486592152, "post_id": 42123264, "comment_id": 71417393, "body": "Hive points to concrete files on HDFS.  It might be more efficient to query this data directly using functions like <code>dd.read_csv</code> or <code>dd.read_parquet</code> rather than go through hive itself.  However, we should probably make a convenient way to query the Hive metastore to find those files for you automatically. (this does not exist as of February, 2017)."}, {"owner": {"reputation": 744, "user_id": 2942216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40eec063ac6c0f95a167ffe8983b03b6?s=128&d=identicon&r=PG&f=1", "display_name": "ML_Passion", "link": "https://stackoverflow.com/users/2942216/ml-passion"}, "reply_to_user": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1486592401, "post_id": 42123264, "comment_id": 71417504, "body": "@MRocklin , I agree with you.  reading the data into dask dataframes for just 1mm rows takes about 3 min, 29 seconds using the pandas df route <code>df= pd.DataFrame(cur.fetchall(),columns = headers)   %time ddf  =   dd.from_pandas( df , npartitions = 1000)</code>   I&#39;ll attempt doing it through dd.read_parquet"}, {"owner": {"reputation": 744, "user_id": 2942216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40eec063ac6c0f95a167ffe8983b03b6?s=128&d=identicon&r=PG&f=1", "display_name": "ML_Passion", "link": "https://stackoverflow.com/users/2942216/ml-passion"}, "reply_to_user": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1486673194, "post_id": 42123264, "comment_id": 71459407, "body": "@MRocklin, I have doing it using dd.read_csv. Steps are as follows: First write the hive table to local directory using the following:  <code>insert overwrite     local directory &#39;&#47;path&#47;extract&#39;     ROW FORMAT DELIMITED     FIELDS TERMINATED BY &#39;,&#39;     LINES TERMINATED BY &#39;\\n&#39;     STORED AS TEXTFILE select * from hive_table;</code>  It spits out 18 files in the following format:   000000_0.crc ....... 000000_8.crc  and 000000_0 ......... 000000_8 , with the later files being the data files. Then  I&#39;m reading it using :  <code>ddf = dd.read_csv(&#39;\\\\path\\\\extract\\\\* &#39; ) ;</code> in python."}, {"owner": {"reputation": 744, "user_id": 2942216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40eec063ac6c0f95a167ffe8983b03b6?s=128&d=identicon&r=PG&f=1", "display_name": "ML_Passion", "link": "https://stackoverflow.com/users/2942216/ml-passion"}, "reply_to_user": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1486673438, "post_id": 42123264, "comment_id": 71459545, "body": "The problem is it doesn&#39;t read the header and is short by 9 rows from the original table. My guess its concatenating the 9 data files ( 000000_0 etc.) and treats the first row of each chunked csv file as the header and combines them into a dask dataframe. Any ideas on how to circumvent this problem ?  Btw the entire process is very fast in about 10-15 seconds compared to lets say reading 1mm rows in 3 min, 29 seconds."}, {"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 1, "creation_date": 1486693121, "post_id": 42123264, "comment_id": 71467171, "body": "Perhaps screw around with the keyword arguments like <code>header=False</code>?  Pandas/Dask.dataframe provide several options here."}], "owner": {"reputation": 744, "user_id": 2942216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/40eec063ac6c0f95a167ffe8983b03b6?s=128&d=identicon&r=PG&f=1", "display_name": "ML_Passion", "link": "https://stackoverflow.com/users/2942216/ml-passion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1960, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1486586785, "creation_date": 1486586785, "question_id": 42123264, "link": "https://stackoverflow.com/questions/42123264/reading-data-from-a-hive-table-into-a-dask-dataframe", "title": "Reading data from a hive table into a dask dataframe", "body": "<p>I want to read the data from a hive table which has about 110mm rows and just 2 columns into a dask dataframe. Has anybody done this ? I'm using a pyhs2 connection to hive.</p>\n\n<p>Currently i am reading the data into a pandas dataframe by limiting the number of rows.</p>\n\n<p><strong>Current code --</strong></p>\n\n<pre><code>import pyhs2\nimport pandas as pd\nimport dask.dataframe as dd\n\nconn = pyhs2.connect(host='10.xx.xxx.131', port= 10000, authMechanism='PLAIN', user='userid', password = \"passWoRD\",database='default')\ncur = conn.cursor()\n\ncur.execute(\"select * from hive_table limit 100000\")\nres = cur.getSchema()\ndescription = list(col['columnName'] for col in res)  ## for getting the column names of the table \n\n\nheaders = [x.split(\".\")[1] for x in description]\n\ndf= pd.DataFrame(cur.fetchall(),columns = headers)  ## code for getting data into pandas dataframe\n\n# df.head(n=20)\n</code></pre>\n\n<p>How can I do something like this ? Any help would be appreciated.</p>\n\n<pre><code>df= dd.DataFrame(cur.fetchall(),columns = headers)\n</code></pre>\n"}, {"tags": ["python", "pandas", "apache-spark"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7380189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416f54f337023135a0c5618c645cc35c?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/7380189/sal"}, "edited": false, "score": 0, "creation_date": 1486597799, "post_id": 42123628, "comment_id": 71419644, "body": "Thanks Shijo , that worked like charm with a small change."}, {"owner": {"reputation": 13, "user_id": 7380189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416f54f337023135a0c5618c645cc35c?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/7380189/sal"}, "edited": false, "score": 0, "creation_date": 1486600641, "post_id": 42123628, "comment_id": 71420555, "body": "Sorry missed the small change description -       csv_input = csv_input.append(df) # append to previously read data  Had to take it in a variable to load it into .csv in final line. Else it was creating an empty csv for me. Thanks again."}], "tags": [], "owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "is_accepted": true, "score": 0, "last_activity_date": 1486588104, "creation_date": 1486588104, "answer_id": 42123628, "question_id": 42123199, "link": "https://stackoverflow.com/questions/42123199/extract-date-from-csv-file-name-and-load-into-hive-table-in-a-column-python-pan/42123628#42123628", "title": "Extract date from csv file name and load into hive table in a column -python pandas spark", "body": "<p>IIUC, you need to read data from multiple files and assign a Load_Date column to that with its date from file name.</p>\n\n<pre><code>allFiles  = ['ABC_XYZ_EXPORT-20170101.csv' , 'ABC_XYZ_EXPORT-20170102.csv']\n\ncsv_input =pd.DataFrame()\n\nfor input_file in allFiles:\n    #Loop through each file\n    exc_date = input_file\n    exc_date = re.sub('ABC_XYZ_EXPORT-+([0-9]+)[.]csv$', r'\\1', exc_date)\n    df=pd.read_csv(input_file)\n    df['Load_date'] = exc_date #Add date for that file alone\n    csv_input.append(df) # append to previously read data\n\ncsv_input.to_csv('outputpd.csv') #Creates a single output file with contents from all files.\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7380189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416f54f337023135a0c5618c645cc35c?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/7380189/sal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 42123628, "answer_count": 1, "score": 1, "last_activity_date": 1486588104, "creation_date": 1486586525, "question_id": 42123199, "link": "https://stackoverflow.com/questions/42123199/extract-date-from-csv-file-name-and-load-into-hive-table-in-a-column-python-pan", "title": "Extract date from csv file name and load into hive table in a column -python pandas spark", "body": "<p>Need some help on a requirement to extract date from csv filename and load into a column.</p>\n\n<p>input file = ABC_XYZ_EXPORT-20170101.csv , ABC_XYZ_EXPORT-20170102.csv</p>\n\n<p>I am able to read both the files in loop , but the date is extracted just once  and is static for all records in two different files.\nI am not sure , but this could be very well because of incorrect loop. Please help.\nThanks in advance.</p>\n\n<pre><code> for input_file in allFiles:\n    exc_date = input_file\n    exc_date = re.sub('ABC_XYZ_EXPORT-+([0-9]+)[.]csv$', r'\\1', exc_date)\n    #print(exc_date)\n    #PD pandas dataframe\n    for d in exc_date:\n       csv_input = pd.concat((pd.read_csv(f) for f in allFiles))\n       csv_input['Load_date'] = exc_date\n       csv_input.to_csv('outputpd.csv')\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 1524166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8364c2727d78904cfaac83ac8576dcb3?s=128&d=identicon&r=PG", "display_name": "smckee", "link": "https://stackoverflow.com/users/1524166/smckee"}, "edited": false, "score": 0, "creation_date": 1487009511, "post_id": 42172678, "comment_id": 71582584, "body": "And here I was, thinking that I had reduced my actual problem down into an easier problem to test. Thanks!"}, {"owner": {"reputation": 1789, "user_id": 5465000, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/a0486.jpg?s=128&g=1", "display_name": "AHA", "link": "https://stackoverflow.com/users/5465000/aha"}, "edited": false, "score": 0, "creation_date": 1494387581, "post_id": 42172678, "comment_id": 74800957, "body": "OK. So, how can we save a freezed graph?"}], "tags": [], "owner": {"reputation": 46, "user_id": 6106106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549e968a972f3bbd3cd219c86a659d77?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Abrahams", "link": "https://stackoverflow.com/users/6106106/sam-abrahams"}, "is_accepted": true, "score": 3, "last_activity_date": 1486791673, "creation_date": 1486791673, "answer_id": 42172678, "question_id": 42123196, "link": "https://stackoverflow.com/questions/42123196/valueerror-no-variables-to-save-when-saving-tensorflow-checkpoint/42172678#42172678", "title": "ValueError: No variables to save when saving Tensorflow checkpoint", "body": "<p>What the <code>freeze_graph</code> tool does is convert all of the <code>Variable</code> nodes in a graph into <code>tf.constant</code> nodes- this allows you to save all the information needed to run inference on a graph in a single protobuf file (as opposed to saving the <code>GraphDef</code> and <code>Variable</code> checkpoint data separately). </p>\n\n<p>What you're experiencing here is the result of a successfully frozen graph (<code>tensorflow_inception_graph.pb</code>): there are no variables to save because they have all been converted into constants!</p>\n"}], "owner": {"reputation": 482, "user_id": 1524166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8364c2727d78904cfaac83ac8576dcb3?s=128&d=identicon&r=PG", "display_name": "smckee", "link": "https://stackoverflow.com/users/1524166/smckee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4104, "favorite_count": 0, "accepted_answer_id": 42172678, "answer_count": 1, "score": 1, "last_activity_date": 1486791673, "creation_date": 1486586508, "last_edit_date": 1486768896, "question_id": 42123196, "link": "https://stackoverflow.com/questions/42123196/valueerror-no-variables-to-save-when-saving-tensorflow-checkpoint", "title": "ValueError: No variables to save when saving Tensorflow checkpoint", "body": "<p>I've been trying to use the <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/tools/freeze_graph.py\" rel=\"nofollow noreferrer\">freeze_graph</a> function to get a model + weights/biases, but in the process, I found that my inception network does not seem to have any variables, despite being able to correctly classify image. My code is as follows:</p>\n\n<pre><code>#!/usr/bin/python\nimport tensorflow as tf\nimport numpy as np\n\n\ndef outputCheckpoint(sess):\n    with sess.as_default():\n        print(\"Saving to checkpoint\")\n        saver = tf.train.Saver()\n        # Fails on this line: 'ValueError: No variables to save'\n        saver.save(sess, '/path/to/tensorflow/graph_saver/save_checkpoint')\n\ndef main():\n    with tf.device('/cpu:0'):\n        with open(\"tensorflow_inception_graph.pb\", mode='rb') as f:\n            fileContent = f.read()\n\n        graph_def = tf.GraphDef()\n        graph_def.ParseFromString(fileContent)\n\n        images = tf.placeholder(\"float\", [ None, 299, 299, 3])\n\n        tf.import_graph_def(graph_def, input_map={ \"Mul\": images })\n        print \"graph loaded from disk\"\n\n        graph = tf.get_default_graph()\n\n        with tf.Session() as sess:\n            init = tf.global_variables_initializer()\n            sess.run(init)\n            outputCheckpoint(sess)\n\nmain()\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>graph loaded from disk\nSaving to checkpoint\nTraceback (most recent call last):\n  File \"./inception_benchmark.py\", line 28, in &lt;module&gt;\n    main()\n  File \"./inception_benchmark.py\", line 24, in main\n    saver = tf.train.Saver()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1067, in __init__\n    self.build()\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1088, in build\n    raise ValueError(\"No variables to save\")\nValueError: No variables to save\n</code></pre>\n\n<p>If you don't already have the inception network downloaded, this will get you the .pb file:</p>\n\n<p><code>$ wget https://storage.googleapis.com/download.tensorflow.org/models/inception_dec_2015.zip -O tensorflow/examples/label_image/data/inception_dec_2015.zip</code></p>\n\n<p>Also, here's a gist of my full code, if anyone is curious: <a href=\"https://gist.github.com/mckeesh/01af030b147e809b0edbc9f67104e859\" rel=\"nofollow noreferrer\">gist</a></p>\n\n<p>Does anyone know what's going on here? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1486586762, "post_id": 42123155, "comment_id": 71414596, "body": "Would this still be a valid question if you weren&#39;t reading/writing files? I think they are a distraction. See how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 2, "creation_date": 1486587106, "post_id": 42123155, "comment_id": 71414780, "body": "If <code>[&#39;hello&#39;, &#39;friend&#39;, &#39;hello&#39;]</code> becomes <code>[&#39;hello&#39;, &#39;friend&#39;, &#39;hello&#39;, &#39;friend&#39;]</code>, what does <code>[&#39;hello&#39;, &#39;friend&#39;, &#39;friend&#39;]</code> become?  What about <code>[&#39;hello&#39;, &#39;hello&#39;, &#39;hello&#39;]</code>?  Also <code>[&#39;red&#39;, &#39;white&#39;, &#39;blue&#39;, &#39;red&#39;]</code>?  (Data represented as lists instead of files, but algorithm should be the same.)  Please explain the algorithm."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7437554"}, "edited": false, "score": 0, "creation_date": 1486587276, "post_id": 42123155, "comment_id": 71414867, "body": "I only have a sequence like [&#39;hello&#39;,&#39;friend&#39;,&#39;hello&#39;]"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1486587432, "post_id": 42123155, "comment_id": 71414953, "body": "You wrote &quot;&quot;&quot;The algorithm looks up for the word &quot;hello&quot;, only the second time it finds the word it writes &quot;friend&quot; two lines after &quot;hello&quot;.&quot;&quot;&quot;.  So <code>[&#39;hello&#39;, &#39;x&#39;, &#39;hello&#39;, &#39;y&#39;, &#39;z&#39;]</code> should be what?  <code>[&#39;hello&#39;, &#39;x&#39;, &#39;hello&#39;, &#39;y&#39;, &#39;friend&#39;, &#39;z&#39;]</code> (inserted before 2nd item after &#39;hello&#39;) or <code>[&#39;hello&#39;, &#39;x&#39;, &#39;hello&#39;, &#39;y&#39;, &#39;friend&#39;]</code> (replaced 2nd item after &#39;hello&#39;) or <code>[&#39;hello&#39;, &#39;x&#39;, &#39;hello&#39;, &#39;y&#39;, &#39;z&#39;, &#39;friend&#39;]</code> (inserted after 2nd item after &#39;hello&#39;)`?"}, {"owner": {"reputation": 748, "user_id": 6840615, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2ON6p.jpg?s=128&g=1", "display_name": "Md Sifatul Islam", "link": "https://stackoverflow.com/users/6840615/md-sifatul-islam"}, "edited": false, "score": 0, "creation_date": 1486587571, "post_id": 42123155, "comment_id": 71415040, "body": "@santimirandarp kindly add more  output as example to your output file!"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1486587637, "post_id": 42123155, "comment_id": 71415082, "body": "Also, if there are five &#39;hello&#39; in your file, do you only care about the second one?  If no, what is the rule about the 3rd and the 4th etc.?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7437554"}, "edited": false, "score": 0, "creation_date": 1486589726, "post_id": 42123155, "comment_id": 71416208, "body": "The script i wrote is only a tentative one. If &quot;hello&quot; appears 20 times, i need to be replaced only the second one."}], "answers": [{"tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1486587820, "last_edit_date": 1486587820, "creation_date": 1486587516, "answer_id": 42123480, "question_id": 42123155, "link": "https://stackoverflow.com/questions/42123155/writing-a-line-in-a-file-when-finding-a-keyword-without-repeating/42123480#42123480", "title": "Writing a line in a file when finding a keyword (without repeating)", "body": "<p>Probably not the most efficient but regardless you could read the file into a list like so, and after you modify the list with some logic to insert <code>friend</code> after all the <code>hello</code>'s that do not have <code>friend</code> immediately following. You can write the list back to the original file:</p>\n\n<pre><code>with open(\"data.txt\") as f:\n    content = f.readlines()\n\ncontent = [x.strip() for x in content]\n\nfor idx, val in enumerate(content):\n    if content[idx] == \"hello\" and idx != len(content) - 1:\n        if content [idx + 1] != \"friend\":\n            content.insert(idx + 1, \"friend\")\n    elif content[idx] == \"hello\":\n        content.insert(len(content), \"friend\")\n\nf = open(\"data.txt\", 'w')\nfor item in content:\n    f.write(\"%s\\n\" % item)\n</code></pre>\n\n<p><strong>Original data.txt:</strong></p>\n\n<pre><code>hello\nfriend\nhello\nhello\nhello\n</code></pre>\n\n<p><strong>data.txt after:</strong></p>\n\n<pre><code>hello\nfriend\nhello\nfriend\nhello\nfriend\nhello\nfriend\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": true, "score": 0, "last_activity_date": 1486663978, "creation_date": 1486663978, "answer_id": 42144015, "question_id": 42123155, "link": "https://stackoverflow.com/questions/42123155/writing-a-line-in-a-file-when-finding-a-keyword-without-repeating/42144015#42144015", "title": "Writing a line in a file when finding a keyword (without repeating)", "body": "<pre><code>from itertools import tee, izip_longest\n\ndef f(lines):\n    new_lines = []\n    lines_it, next_lines_it = tee(lines)\n    next(next_lines_it) # advance iterator to second item\n    h_count = 0\n    for line, next_line in izip_longest(lines_it, next_lines_it):\n        new_lines.append(line)\n        if line == 'hello':\n            h_count += 1\n            if h_count == 2 and next_line != 'friend':\n                new_lines.append('friend')\n    return new_lines\n</code></pre>\n\n<p>Some examples:</p>\n\n<pre><code>&gt;&gt;&gt; f(['hello'])\n['hello']\n&gt;&gt;&gt; f(['hello', 'hello'])\n['hello', 'hello', 'friend']\n&gt;&gt;&gt; f(['hello', 'hello', 'hello'])\n['hello', 'hello', 'friend', 'hello']\n&gt;&gt;&gt; f(['hello', 'hello', 'friend', 'hello'])\n['hello', 'hello', 'friend', 'hello']\n&gt;&gt;&gt; f(['hello', 'friend', 'hello', 'hello'])\n['hello', 'friend', 'hello', 'friend', 'hello']\n</code></pre>\n\n<p>Here it is rewritten to work with filenames:</p>\n\n<pre><code>from itertools import tee, izip_longest\n\ndef f(infilename, outfilename):\n    with open(infilename, 'r') as infile, open(outfilename, 'w') as outfile:\n        lines_it, next_lines_it = tee(infile)\n        next(next_lines_it) # advance iterator to next line\n        h_count = 0\n        for line, next_line in izip_longest(lines_it, next_lines_it):\n            outfile.write(line)\n            if line == 'hello\\n':\n                h_count += 1\n                if h_count == 2 and next_line != 'friend\\n':\n                    outfile.write('friend\\n')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7437554"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 42144015, "answer_count": 2, "score": 0, "last_activity_date": 1486663978, "creation_date": 1486586370, "last_edit_date": 1486590184, "question_id": 42123155, "link": "https://stackoverflow.com/questions/42123155/writing-a-line-in-a-file-when-finding-a-keyword-without-repeating", "title": "Writing a line in a file when finding a keyword (without repeating)", "body": "<p>I am trying to make a function which writes a line when it finds some text inside a file. Example: </p>\n\n<p>Suppose i have \"my_file.txt\":</p>\n\n<pre><code>hello\nfriend\nhello\nbrian\nhello\nkashmir  \nDonald\n</code></pre>\n\n<p>I need \"my_file.txt\" to be:</p>\n\n<pre><code>hello\nfriend \nhello\nfriend\nbrian\nhello\nkashmir\nDonald\n</code></pre>\n\n<p>I need that, if the script is applied again, the input and the output be the same, it is:</p>\n\n<pre><code>hello\nfriend \nhello\nfriend\nbrian\nhello\nkashmir\nDonald\n</code></pre>\n\n<p>The <strong>first problem</strong> is that i want it to write \"friend\" not the first time it finds \"hello\" but the second. Here is what i have been trying, but i don't know if the idea is right. \nAny help?</p>\n\n<pre><code>def writing_line(namefilein):\n    print namefilein\n    filein=open(namefilein, \"rw\")\n    tag=\"intro\"\n    filein.read()\n    for line in filein:\n        if tag==\"second\" or tag==\"coord\":\n            try:\n                filein.write(\"\\n\\n %s\" %(friend))\n                print line\n            except:\n                if tag==\"coord\":    \n                    tag=\"end\"\n                else:\n                    tag=\"coord\"\n\n        if \"           hello\" in line:\n            if tag==\"intro\":\n                tag=\"first\"\n            elif tag==\"first\":\n                tag=\"second\"\n    filein.close()\n</code></pre>\n\n<p>The algorithm looks up for the word \"hello\", only the second time it finds the word it writes \"friend\" two lines after \"hello\".</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1486586442, "post_id": 42123114, "comment_id": 71414411, "body": "Why are you <code>join</code>ing every thread immediately after you <code>start</code> it? That waits for the thread to complete before starting another thread. Also, making the <code>target</code> of a thread be a subclass of <code>Thread</code> makes no sense."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7536700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b8f6ee92d73fcfa09d92998b5b67d?s=128&d=identicon&r=PG&f=1", "display_name": "theunknownsolider", "link": "https://stackoverflow.com/users/7536700/theunknownsolider"}, "edited": false, "score": 0, "creation_date": 1486648092, "post_id": 42123375, "comment_id": 71442973, "body": "if i do this (single thread) my programm works, how can i make it work with N amount of threads? so it doesnt try to use 1 thread per task || i tried your way, but the programm crashed and he startet over 500 threads"}], "tags": [], "owner": {"reputation": 2060, "user_id": 4678661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yiQtK.png?s=128&g=1", "display_name": "Fabich", "link": "https://stackoverflow.com/users/4678661/fabich"}, "is_accepted": false, "score": 2, "last_activity_date": 1486587193, "creation_date": 1486587193, "answer_id": 42123375, "question_id": 42123114, "link": "https://stackoverflow.com/questions/42123114/python-threading-isnt-working/42123375#42123375", "title": "Python Threading isnt working", "body": "<p><code>join()</code> waits until the thread ends so you should not call it just after starting a thread (or you can't create a new thread until the previous one ends).<br>\nCreate a list to store your threads at the beginning :</p>\n\n<pre><code>threads = []\n</code></pre>\n\n<p>Then add your threads to the list when you create them :</p>\n\n<pre><code>threads.append(t)\n</code></pre>\n\n<p>At the end of your program join all the threads</p>\n\n<pre><code>for t in threads:\n    t.join()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 7536700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b8f6ee92d73fcfa09d92998b5b67d?s=128&d=identicon&r=PG&f=1", "display_name": "theunknownsolider", "link": "https://stackoverflow.com/users/7536700/theunknownsolider"}, "edited": false, "score": 0, "creation_date": 1486590910, "post_id": 42123481, "comment_id": 71416787, "body": "im new to programming and python, i updated my text could you tell me that your code does?  i get the pool = multipr.. but i cant figure out the pool.map(lambda.. part"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 13, "user_id": 7536700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b8f6ee92d73fcfa09d92998b5b67d?s=128&d=identicon&r=PG&f=1", "display_name": "theunknownsolider", "link": "https://stackoverflow.com/users/7536700/theunknownsolider"}, "edited": false, "score": 0, "creation_date": 1486669003, "post_id": 42123481, "comment_id": 71456938, "body": "I&#39;ve updated with commentary and fixed a glaring bug to boot."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1486668986, "last_edit_date": 1486668986, "creation_date": 1486587517, "answer_id": 42123481, "question_id": 42123114, "link": "https://stackoverflow.com/questions/42123114/python-threading-isnt-working/42123481#42123481", "title": "Python Threading isnt working", "body": "<p>As already mentioned, you need to postpone the <code>join</code> until after all threads have started. Consider using a <code>ThreadPool</code> that limits the number of concurrent threads and that can be re-implemented as a process pool if python's GIL slows processing. It does the thread start, dispatch and join for you.</p>\n\n<pre><code>import multiprocessing\nimport itertools\nimport platform\n\n...\n\n# helper functions for process pool\n#\n#     linux - worker process gets a view of parent memory at time pool\n#     is created, including global variables that exist at that time.\n#     \n#     windows - a new process is created and all needed state must be\n#     passed to the child. we could pass these values on every call,\n#     but assuming blacklist is large, its more efficient to set it\n#     up once\n\ndo_init = platform.system() == \"Windows\"\n\nif do_init:\n\n    def init_serienchecker_process(_blacklist, _apikeyv3, _language):\n        \"\"\"Call once when process pool worker created to set static config\"\"\"\n        global blacklist, apikeyv3, language\n        blacklist, apikeyv3, language = _blacklist, _apikeyv3, _language\n\n# this is the worker in the child process. It is called with items iterated\n# in the parent Pool.map function. In our case, the item is a (drive, serie)\n# tuple. Unpack, combine w/ globals and call the real function.\n\ndef serienchecker_worker(drive_serie):\n    \"\"\"Calls serienchecker with global blacklist, apikeyv3, language set by\n    init_serienchecker_process\"\"\"\n    return serienchecker(drive_serie[0], drive_serie[1], blacklist,\n        apikeyv3, language)\n\ndef drive_serie_iter(folder, drives):\n    \"\"\"Yields (drive, serie) tuples\"\"\"\n    for drive in drives:\n        for serie in series:\n            yield drive, serie \n\n\n# decide the number of workers. Here I just chose a random max value,\n# but your number will depend on your desired workload.\n\nmax_workers = 24 \nnum_items = len(drive) * len(serie)\nnum_workers = min(num_items, max_workers)\n\n# setup a process pool. we need to initialize windows with the global\n# variables but since linux already has a view of the globals, its \n# not needed\n\ninitializer = init_serienchecker_process if do_init else None\ninitargs = (blacklist, apikeyv3, language) if do_init else None\npool = multiprocessing.Pool(num_workers, initializer=initializer, \n    initargs=initargs)\n\n# map calls serienchecker_worker in the subprocess for each (drive, serie)\n# pair produced by drive_serie_iter\n\nfor result in pool.map(serienchecker_worker, drive_serie_iter(folder, drives)):\n    print(result) # not sure you care what the results are\n\npool.join()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7536700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b8f6ee92d73fcfa09d92998b5b67d?s=128&d=identicon&r=PG&f=1", "display_name": "theunknownsolider", "link": "https://stackoverflow.com/users/7536700/theunknownsolider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1486668986, "creation_date": 1486586202, "last_edit_date": 1486648003, "question_id": 42123114, "link": "https://stackoverflow.com/questions/42123114/python-threading-isnt-working", "title": "Python Threading isnt working", "body": "<p>Setup:\ninit.py</p>\n\n<pre><code>import threading\n...other imports ...\n\n... vars ...\n\nfor drive in drives:\n    series = folder.getFolders(drive)\n    for serie in series:        \n        print(str(datetime.datetime.now()))\n        t = threading.Thread(target=serienchecker, args=(drive, serie, blacklist,apikeyv3,language,))        \n        t.start()\n        t.join()\n</code></pre>\n\n<p>serienchecker.py</p>\n\n<pre><code>from threading import Thread\nfrom themoviedb import *\nfrom folderhelper import *\nclass serienchecker(Thread):\n    ...\n    def __init__(self, path,seriesname, blacklist, apikeytmdb='', language='eng'):\n        ...\n        self.startSearch()\n    ...\n\n    def startSearch(self):\n        print(\"start\")\n        ...\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>2017-02-08 21:29:04.481536\nstart\n2017-02-08 21:29:17.385611\nstart\n2017-02-08 21:30:00.548471\nstart\n</code></pre>\n\n<p>But i want them all to be calculated at around the same time.\nIs there maybe even a way to Queue all the Tasks and process N amount of Threads simultaneous? [This is just a small example the Script would check several hundert folders]\nWant am i doing wrong?</p>\n\n<p>I worked on several approaches nothing worked, please Help me</p>\n\n<p>Thanks!</p>\n\n<p>Edit://</p>\n\n<pre><code>def job():\nwhile(jobs):\n    tmp = jobs.pop()\n    task(drive=tmp[0],serie=tmp[1])\n\ndef task(drive, serie):\n    print(\"Serie[{0}]\".format(serie))\n    sc = serienchecker(drive, serie,blacklist,apikeyv3,language)\n    sc.start()\n    result = sc.result\n    resultString=''\n    for obj in result:\n        resultString+=obj+\"\\n\"\n    print(resultString)\n\nfor drive in drives:\n    series = folder.getFolders(drive)\n    for serie in series:\n        jobs.append([drive,serie])\n\nwhile(jobs):\n    job()\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486586396, "post_id": 42123104, "comment_id": 71414392, "body": "What hotel? Objects are not guaranteed ordered, only the arrays are."}, {"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "edited": false, "score": 0, "creation_date": 1486586433, "post_id": 42123104, "comment_id": 71414406, "body": "I tried things like this def array_to_dict_recursive(arr, classification):     result = defaultdict(arr)     for v, k in arr:         result[k].append(v)     final_result = [{&#39;type&#39;: k, &#39;items&#39;: v} for k, v in result.items()]     print (str(final_result))"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486586492, "post_id": 42123104, "comment_id": 71414448, "body": "Why don&#39;t you just <code>json.dump</code> it?"}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1486586595, "post_id": 42123104, "comment_id": 71414507, "body": "<b>In your question</b>, clearly articulate how you want the data to be sorted and show any code that you&#39;ve tried so far. I don&#39;t see the pattern in what you&#39;re trying to do."}, {"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486586732, "post_id": 42123104, "comment_id": 71414574, "body": "@jonrsharpe json.dump will not give me the result I expect, at least not doing it like json.dumps(arr)"}, {"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1486586758, "post_id": 42123104, "comment_id": 71414589, "body": "@jonrsharpe also, sorry, Hotel was from another exercise I&#39;m looking"}, {"owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1486586816, "post_id": 42123104, "comment_id": 71414622, "body": "Please take some time to fix your question: this result doesn&#39;t exist in your input: <code>{                 &quot;Key&quot;: &quot;Key 1&quot;,                 &quot;Value&quot;: 100,                 &quot;SecondKey&quot;: &quot;SecondKey 1&quot;,                 &quot;ThirdKey&quot;: &quot;ThirdKey 1&quot;             }</code>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1486586947, "post_id": 42123104, "comment_id": 71414694, "body": "What result do you expect, and why do you expect it, and what do you get instead? Again, <i>JS objects aren&#39;t ordered</i>, and neither are Python dictionaries."}, {"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "reply_to_user": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "edited": false, "score": 0, "creation_date": 1486587046, "post_id": 42123104, "comment_id": 71414746, "body": "@Harvey sorry about the input, it&#39;s a mess, now is fixed"}], "answers": [{"comments": [{"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "edited": false, "score": 0, "creation_date": 1486587354, "post_id": 42123305, "comment_id": 71414908, "body": "Hi, this is a sample of the output I got (too big to put here):   &#39;[{&quot;Key&quot;: &quot;Key 1&quot;, &quot;SecondKey&quot;: &quot;SecondKey 1&quot;, &quot;ThirdKey&quot;: &quot;ThirdKey 1&quot;, &#39;  &#39;&quot;Value&quot;: 100}  It&#39;s not like a wanted but is a first step"}, {"owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "reply_to_user": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "edited": false, "score": 0, "creation_date": 1486587463, "post_id": 42123305, "comment_id": 71414975, "body": "I forgot to add <code>indent=4</code> to the json.dumps call."}], "tags": [], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "is_accepted": false, "score": 1, "last_activity_date": 1486587441, "last_edit_date": 1486587441, "creation_date": 1486586917, "answer_id": 42123305, "question_id": 42123104, "link": "https://stackoverflow.com/questions/42123104/create-json-from-list-of-dictionaries-in-python/42123305#42123305", "title": "Create JSON from list of dictionaries in Python", "body": "<p>Try</p>\n\n<pre><code>print json.dumps(arr, indent=4, sort_keys=True)\n</code></pre>\n\n<p>See the <a href=\"https://docs.python.org/2/library/json.html#json.dumps\" rel=\"nofollow noreferrer\">json.dumps</a> documentation for more information:</p>\n\n<blockquote>\n  <p>json.dumps(obj, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, encoding=\"utf-8\", default=None, sort_keys=False, **kw)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1486586917, "creation_date": 1486586917, "answer_id": 42123306, "question_id": 42123104, "link": "https://stackoverflow.com/questions/42123104/create-json-from-list-of-dictionaries-in-python/42123306#42123306", "title": "Create JSON from list of dictionaries in Python", "body": "<p>Python dicts are unsorted. You have a few options.</p>\n\n<p>Use a tool that applies sorting to a standard dict, example:</p>\n\n<pre><code>import json\nprint json.dumps(thedict, indent=4, sort_keys=True)\n</code></pre>\n\n<p>Use a type that maintains the order of creation of dict entries:</p>\n\n<pre><code>from collections import OrderedDict\nd = OrderedDict()\nd[KEY] = VALUE\nd[KEY][SUBKEY] = VALUE\netc.\n</code></pre>\n\n<p>Or easiest of all, just add them to the array / list in the first place in the order you want them.</p>\n"}, {"comments": [{"owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "edited": false, "score": 0, "creation_date": 1486589117, "post_id": 42123617, "comment_id": 71415916, "body": "Hi! Thanks for the help @Harvey , I will try to simplify, and also I want to make a recursive version, but this is a great start for me :D Thanks again!"}], "tags": [], "owner": {"reputation": 5257, "user_id": 47078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/18f44bb2c283b0582c098d61b3d93ca8?s=128&d=identicon&r=PG", "display_name": "Harvey", "link": "https://stackoverflow.com/users/47078/harvey"}, "is_accepted": true, "score": 0, "last_activity_date": 1486590858, "last_edit_date": 1486590858, "creation_date": 1486588061, "answer_id": 42123617, "question_id": 42123104, "link": "https://stackoverflow.com/questions/42123104/create-json-from-list-of-dictionaries-in-python/42123617#42123617", "title": "Create JSON from list of dictionaries in Python", "body": "<p>Here's a first stab at what you want. It'll get you started and then you can simplify it and make it pretty. Key points:</p>\n\n<ul>\n<li><code>json.dumps()</code> outputs dictionary keys in the order seen, so an explicitly ordered OrderedDict is probably your only way to get that.</li>\n<li>your result is a different data structure than your input, so you have to build it</li>\n<li>Dictionaries in Python and JSON <strong>do not</strong> have ordered keys. So, the moment you import the result into something else, the order is probably lost.</li>\n<li>This code is really inefficient and will probably perform badly on large data sets.</li>\n</ul>\n\n<p>Your data structure:</p>\n\n<ul>\n<li>dicts for each <code>Key</code>, sorted in order\n\n<ul>\n<li>dict for each <code>SecondKey</code>, sorted in reverse\n\n<ul>\n<li>dict for each <code>ThirdKey</code>, sorted in reverse\n\n<ul>\n<li>a list containing a dict for each value (no sorting of values) with these sorted keys and values\n\n<ul>\n<li>Key1: <code>Key</code> value from outer loop</li>\n<li>Value: value for current item</li>\n<li>SecondKey: <code>SecondKey</code> value from outer loop</li>\n<li>ThirdKey: <code>ThirdKey</code> value from outer loop</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>.</p>\n\n<pre><code>from collections import OrderedDict\nimport json\n\narr = [{'Key':'Key 1', 'SecondKey':'SecondKey 1', 'ThirdKey':'ThirdKey 1', 'Value':100},\n    {'Key':'Key 1', 'SecondKey':'SecondKey 1', 'ThirdKey':'ThirdKey 2', 'Value':130},\n    {'Key':'Key 1', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 1', 'Value':230},\n    {'Key':'Key 1', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 2', 'Value':300},\n    {'Key':'Key 2', 'SecondKey':'SecondKey 4', 'ThirdKey':'ThirdKey 1', 'Value':111},\n    {'Key':'Key 2', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 2', 'Value':400},\n    {'Key':'Key 2', 'SecondKey':'SecondKey 1', 'ThirdKey':'ThirdKey 2', 'Value':230}\n    ]\n\ndef arr_to_ordereddict():\n    d = OrderedDict()\n    keys = set(a['Key'] for a in arr)\n    #print(sorted(keys))\n    for k1 in sorted(keys):\n        k1_dict = OrderedDict()\n        d[k1] = k1_dict\n        arr2 = [a for a in arr if a['Key'] == k1]\n        keys2 = set(a['SecondKey'] for a in arr2)\n        #print('\\t', k1, sorted(keys2, reverse=True))\n        for k2 in sorted(keys2, reverse=True):\n            k2_dict = OrderedDict()\n            k1_dict[k2] = k2_dict\n            arr3 = [a for a in arr if a['SecondKey'] == k2]\n            keys3 = set(a['ThirdKey'] for a in arr3)\n            #print('\\t\\t', k1, k2, sorted(keys3, reverse=True))\n            for k3 in sorted(keys3, reverse=True):\n                k3_list = []\n                k2_dict[k3] = k3_list\n                for item in (a for a in arr3 if a['ThirdKey'] == k3):\n                    value_dict = OrderedDict()\n                    value_dict['Key'] = k1\n                    value_dict['Value'] = item['Value']\n                    value_dict['SecondKey'] = k2\n                    value_dict['ThirdKey'] = k3\n                    k3_list.append(value_dict)\n    return d\n\nprint(json.dumps(arr_to_ordereddict(), indent=4))\n</code></pre>\n"}], "owner": {"reputation": 2936, "user_id": 3058302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E2mA.jpg?s=128&g=1", "display_name": "amport", "link": "https://stackoverflow.com/users/3058302/amport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 42123617, "answer_count": 3, "score": 2, "last_activity_date": 1486590858, "creation_date": 1486586172, "last_edit_date": 1486587012, "question_id": 42123104, "link": "https://stackoverflow.com/questions/42123104/create-json-from-list-of-dictionaries-in-python", "title": "Create JSON from list of dictionaries in Python", "body": "<p>I have this data for a project with a friend:</p>\n\n<pre><code>arr = [{'Key':'Key 1', 'SecondKey':'SecondKey 1', 'ThirdKey':'Thirdkey 1', 'Value':100},\n   {'Key':'Key 1', 'SecondKey':'SecondKey 1', 'ThirdKey':'ThirdKey 2', 'Value':130},\n   {'Key':'Key 1', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 1', 'Value':230},\n   {'Key':'Key 1', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 2', 'Value':300},\n   {'Key':'Key 2', 'SecondKey':'SecondKey 4', 'ThirdKey':'ThirdKey 1', 'Value':111},\n   {'Key':'Key 2', 'SecondKey':'SecondKey 2', 'ThirdKey':'ThirdKey 2', 'Value':400},\n   {'Key':'Key 2', 'SecondKey':'SecondKey 1', 'ThirdKey':'ThirdKey 2', 'Value':230}\n   ] \n</code></pre>\n\n<p>I tried functions like this: </p>\n\n<pre><code>def array_to_dict(arr, classification):\n    dct = tree()\n    for d in arr:\n        dct[d[\"Key\"]]=(d)\n    pprint.pprint(dct)\n\ndef tree():\n    return defaultdict(tree)\n\ndef array_to_dict_recursive(arr, classification):\n    result = defaultdict(arr)\n    for v, k in arr:\n        result[k].append(v)\n    final_result = [{'type': k, 'items': v} for k, v in result.items()]\n    print (str(final_result))\n\ndef array_cool(arr):\n    #pprint.pprint(arr)\n    arr.sort(key=operator.itemgetter('Key'))\n    pprint.pprint(arr)\n    list1= []\n    print(\"\")\n    for key, items in itertools.groupby(arr, operator.itemgetter('Key')):\n        list1.append(list(items))\n    pprint.pprint(list1)\n</code></pre>\n\n<p>And I want it to appear like a JSON file in this way: </p>\n\n<pre><code>{\n\"Key 1\": {\n    \"SecondKey 2\": {\n        \"ThirdKey 2\": [\n            {\n                \"Key\": \"Key 1\",\n                \"Value\": 300,\n                \"SecondKey\": \"SecondKey 2\",\n                \"ThirdKey\": \"ThirdKey 2\"\n            }\n        ],\n        \"ThirdKey 1\": [\n            {\n                \"Key\": \"Key 1\",\n                \"Value\": 230,\n                \"SecondKey\": \"SecondKey 2\",\n                \"ThirdKey\": \"ThirdKey 1\"\n            }\n        ]\n    },\n    \"SecondKey 1\": {\n        \"ThirdKey 2\": [\n            {\n                \"Key\": \"Key 1\",\n                \"Value\": 130,\n                \"SecondKey\": \"SecondKey 1\",\n                \"ThirdKey\": \"ThirdKey 2\"\n            }\n        ],\n        \"ThirdKey 1\": [\n            {\n                \"Key\": \"Key 1\",\n                \"Value\": 100,\n                \"SecondKey\": \"SecondKey 1\",\n                \"ThirdKey\": \"ThirdKey 1\"\n            }\n        ]\n    }\n},\n\"Key 2\": {\n    \"SecondKey 4\": {\n        \"ThirdKey 1\": [\n            {\n                \"Key\": \"Key 2\",\n                \"Value\": 111,\n                \"SecondKey\": \"SecondKey 4\",\n                \"ThirdKey\": \"ThirdKey 1\"\n            }\n        ]\n    },\n    \"SecondKey 2\": {\n        \"ThirdKey 2\": [\n            {\n                \"Key\": \"Key 2\",\n                \"Value\": 400,\n                \"SecondKey\": \"SecondKey 2\",\n                \"ThirdKey\": \"ThirdKey 2\"\n            }\n        ]\n    },\n    \"SecondKey 1\": {\n        \"ThirdKey 2\": [\n            {\n                \"Key\": \"Key 2\",\n                \"Value\": 230,\n                \"SecondKey\": \"SecondKey 1\",\n                \"ThirdKey\": \"ThirdKey 2\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I tried sorting, but sorting puts the Key in the second position and mess with the next sorting process, and it's not working.</p>\n"}, {"tags": ["python", "python-2.7", "subprocess"], "comments": [{"owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "edited": false, "score": 0, "creation_date": 1486586465, "post_id": 42123075, "comment_id": 71414433, "body": "Try using your <code>Enter</code> key on your keyboard... Also, you can create code blocks by indenting with four spaces."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4524350"}, "edited": false, "score": 0, "creation_date": 1486588230, "post_id": 42123075, "comment_id": 71415418, "body": "Debug your error. What does the &quot;cat /proc/cpuinfo | grep -i processor | wc -l&quot; line output at the command line prompt? Can you execute the line &quot;p = subprocess.Popen([&lt;result&gt;], stdout=subprocess.PIPE)&quot;, where &lt;result&gt; is the previously obtained piece of information?"}, {"owner": {"reputation": 1786, "user_id": 4099287, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OMz777BPLQI/AAAAAAAAAAI/AAAAAAAAFcM/tV8IW2TybOw/photo.jpg?sz=128", "display_name": "Kevin M Granger", "link": "https://stackoverflow.com/users/4099287/kevin-m-granger"}, "edited": false, "score": 0, "creation_date": 1486588534, "post_id": 42123075, "comment_id": 71415582, "body": "This is because you are trying to run a literal program called &#39;cat /proc/cpuinfo | grep -i processor | wc -l&#39;."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1486588608, "post_id": 42123075, "comment_id": 71415635, "body": "You don&#39;t, and shouldn&#39;t do it this way at all."}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 6, "last_activity_date": 1486589830, "last_edit_date": 1486589830, "creation_date": 1486589431, "answer_id": 42123986, "question_id": 42123075, "link": "https://stackoverflow.com/questions/42123075/execute-bash-commands-from-python-oserror-errno-2/42123986#42123986", "title": "Execute bash commands from python - OSError: [Errno 2]", "body": "<p>First of all, subprocess will not understand <code>|</code> within the command, or generally run the command in shell, unless <code>shell=True</code> is provided. Instead your program will try to find a command <code>/usr/bin/cat\\ /proc/cpuinfo\\ \\|\\ grep\\ -i\\ processor\\ \\|\\ wc\\ -l</code>, which of course fails.</p>\n\n<p>The solution is to add <code>shell=True</code> to execute the command in shell:</p>\n\n<pre><code>p = subprocess.Popen('grep -i processor /proc/cpuinfo | wc -l',\n                     stdout=subprocess.PIPE, shell=True)\n</code></pre>\n\n<p>However, it is also possible to construct the pipeline in Python:</p>\n\n<pre><code>grep = subprocess.Popen('grep -i processor /proc/cpuinfo'.split(), stdout=subprocess.PIPE)\nwc = subprocess.Popen('wc -l'.split(), stdin=grep.stdout, stdout=subprocess.PIPE)\noutput = wc.communicate()\n</code></pre>\n\n<hr>\n\n<p>But then again, the approach you're using is flawed in several ways - you're delegating work to shell, when python would do perfectly well. Also, on some computers the <code>model name</code> field might contain the word <code>processor</code> or a new field be added with that content, and your approach would be broken then, thus I'd suggest that you wrote the code in pure python instead:</p>\n\n<pre><code>cpus = 0\nwith open('/proc/cpuinfo') as f:\n    for line in f:\n        if line.partition(':')[0].strip() == 'processor':\n            cpus += 1\n</code></pre>\n\n<hr>\n\n<p>But all this is useless, because Python already knows how many CPUs you have, and this is guaranteed to be far more portable than any bash command that you can come up with:</p>\n\n<pre><code>&gt;&gt;&gt; import multiprocessing\n&gt;&gt;&gt; multiprocessing.cpu_count()\n4\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2695452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c633a87e1cf701c8b4c1043ac611cbf6?s=128&d=identicon&r=PG&f=1", "display_name": "user2695452", "link": "https://stackoverflow.com/users/2695452/user2695452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486589830, "creation_date": 1486586061, "last_edit_date": 1486587436, "question_id": 42123075, "link": "https://stackoverflow.com/questions/42123075/execute-bash-commands-from-python-oserror-errno-2", "title": "Execute bash commands from python - OSError: [Errno 2]", "body": "<p>I am pretty new to Python. When i execute the following command to get the total CPU core count on my x86 server using the following python code i get an error as below;</p>\n\n<pre><code>########################Code#######################\n#!/usr/bin/python\nimport os\nimport re\nimport subprocess\nos.system('clear')\n\n#CPU core count check\nflag=0\np = subprocess.Popen(['cat /proc/cpuinfo | grep -i processor | wc -l'], stdout=subprocess.PIPE)\nprint p.communicate(1)\n\n##############################Output####################\n\nTraceback (most recent call last):\n  File \"./chk_config.py\", line 9, in &lt;module&gt;\n    p = subprocess.Popen(['cat /proc/cpuinfo | grep -i processor | wc -l'], stdout=subprocess.PIPE)\n  File \"/usr/lib64/python2.7/subprocess.py\", line 711, in __init__\n    errread, errwrite)\n  File \"/usr/lib64/python2.7/subprocess.py\", line 1327, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\n</code></pre>\n\n<p><code>os.popen</code> works, but I don't want to use <code>os.popen</code> since it prints <code>None</code> at the end of the total core count which i want to omit/</p>\n"}, {"tags": ["python", "google-api-python-client", "google-vision"], "owner": {"reputation": 11, "user_id": 7535259, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104862593336029/picture?type=large", "display_name": "Casey Corder", "link": "https://stackoverflow.com/users/7535259/casey-corder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1486713126, "creation_date": 1486585693, "last_edit_date": 1486713126, "question_id": 42122978, "link": "https://stackoverflow.com/questions/42122978/using-google-visions-detect-text-on-image-with-text-in-different-directions", "title": "Using Google Vision&#39;s detect_text on image with text in different directions", "body": "<p>So what I've recently discovered while playing with Google's Vision API for Python is that the method detect_text will only give me text aligned in a certain direction (probably decided by highest scoring text).  Is there a parameter or request variable I can set to tell it to give me all text regardless of direction?  There isn't much for documentation on anything, and the response parameters they show in walkthroughs don't match what is returned in the EntityAnnotation object I get back from the detect_text API call.</p>\n"}]