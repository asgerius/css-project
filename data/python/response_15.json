[{"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 19441, "user_id": 1381108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a55e1b257487441cd435f66bfb413f1?s=128&d=identicon&r=PG", "display_name": "Rapptz", "link": "https://stackoverflow.com/users/1381108/rapptz"}, "edited": false, "score": 0, "creation_date": 1429747487, "post_id": 29811121, "comment_id": 47750210, "body": "Relevant: <a href=\"https://mathiasbynens.be/demo/url-regex\" rel=\"nofollow noreferrer\">mathiasbynens.be/demo/url-regex</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429747500, "post_id": 29811121, "comment_id": 47750217, "body": "But all of the bits <b>before</b> <code>www</code> are optional, so they just get skipped (see e.g. <a href=\"https://regex101.com/r/cW6gI9/1\" rel=\"nofollow noreferrer\">regex101.com/r/cW6gI9/1</a>)! Add a <code>^</code> at the start (<i>outside</i> the opening parentheses) if you want the regex to be anchored to the start of the string, and use <code>match</code> rather than <code>search</code>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1429747717, "post_id": 29811121, "comment_id": 47750293, "body": "&quot;and use <code>match</code>&quot; should be <i>&quot;or</i> use <code>match</code>&quot; since the <code>^</code> isn&#39;t necessary at all with <code>match</code>."}], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 0, "last_activity_date": 1429748069, "last_edit_date": 1429748069, "creation_date": 1429747656, "answer_id": 29811216, "question_id": 29811121, "link": "https://stackoverflow.com/questions/29811121/regex-for-url-in-python/29811216#29811216", "title": "Regex for URL in python", "body": "<p>Only <code>https</code> is anchored to the beginning of the string and the protocol group is marked optional. Thus, your regex will match any text that <em>contains</em> a URI (as defined by the regex) as long as it doesn't need to start with <code>https</code>.</p>\n\n<p>I'd recommend removing the <code>^</code> entirely and using <code>re.match</code> rather than <code>re.search</code>.</p>\n\n<p>Your regex has other problems that will prevent it matching other perfectly valid URIs.</p>\n"}, {"tags": [], "owner": {"reputation": 1051, "user_id": 787585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a65db36ae0beae92a92d6e7fbe3eb8?s=128&d=identicon&r=PG", "display_name": "Sysyphus", "link": "https://stackoverflow.com/users/787585/sysyphus"}, "is_accepted": false, "score": 0, "last_activity_date": 1429747893, "creation_date": 1429747893, "answer_id": 29811261, "question_id": 29811121, "link": "https://stackoverflow.com/questions/29811121/regex-for-url-in-python/29811261#29811261", "title": "Regex for URL in python", "body": "<p>Let's break down your regex:</p>\n\n<pre><code>(                    # begin group\n  (^https|http|ftp): # protocol (and only https needs to be at the start)\n)?                   # end optional group\n(                    # start group\n  /?/?               # optional slashes\n  www                # www\n)                    # end group\n...\n</code></pre>\n\n<p>From the above, you can see that both protocol and slashes are optional, so all your regex requires is www somewhere, regardless of what's at the start.</p>\n"}], "owner": {"reputation": 49, "user_id": 4821857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cbe419a61cab6499a23fdd0c2eb1ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Sukruthi", "link": "https://stackoverflow.com/users/4821857/sukruthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429748069, "creation_date": 1429747187, "last_edit_date": 1429747323, "question_id": 29811121, "link": "https://stackoverflow.com/questions/29811121/regex-for-url-in-python", "title": "Regex for URL in python", "body": "<pre><code>url1='http://.www.youtube.com/watch?v=tKTZoB2Vjuk&amp;index=1&amp;list=PLqmh7e11V6OzWBTSYNq1yYznar709uDQx'\n#url2='www.ssa.gov/cgi-bin/popularnames.cgi'\ndef verify(url):\n    try:\n        x=re.search('((^https|http|ftp):)?(/?/?www)\\.[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}\\/[-a-zA-Z0-9?=&amp;%#./]*',url)\n        print x.group()\n\n    except:\n        print \"not valid\"\n\nverify(url1)\n</code></pre>\n\n<p>Shouldnt this URL be invalid as there is a dot before www? </p>\n\n<p>My output shows:</p>\n\n<pre><code>www.youtube.com/watch?v=tKTZoB2Vjuk&amp;index=1&amp;list=PLqmh7e11V6OzWBTSYNq1yYznar709uDQx\n</code></pre>\n"}, {"tags": ["python", "excel", "vba", "xlsm", "xlwings"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4821805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z3h9NQTfxy8/AAAAAAAAAAI/AAAAAAAAABk/e3yg5XbyvNM/photo.jpg?sz=128", "display_name": "BPT", "link": "https://stackoverflow.com/users/4821805/bpt"}, "edited": false, "score": 0, "creation_date": 1429791871, "post_id": 29820048, "comment_id": 47772882, "body": "Yes, it does indeed work with .xlsm files. However, I was trying to use the defined template files (.xltm). Apparently the default behavior of Excel, on opening a template file, is to set the &quot;save&quot; method to .xlsx (instead of .xlsm). So, opening a template (.xltm) prevents saving as a macro enabled file (.xlsm). The workaround is to not use a template file (easy enough, but not very general). Since this is a behavior of the win32com.client interface to Excel, and not xlwings itself, I&#39;ll look there for the right approach. Adding the check to xlwings looks very easy to do."}, {"owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "reply_to_user": {"reputation": 1, "user_id": 4821805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z3h9NQTfxy8/AAAAAAAAAAI/AAAAAAAAABk/e3yg5XbyvNM/photo.jpg?sz=128", "display_name": "BPT", "link": "https://stackoverflow.com/users/4821805/bpt"}, "edited": false, "score": 0, "creation_date": 1429792669, "post_id": 29820048, "comment_id": 47773571, "body": "ah - sorry - missed that &quot;t&quot;."}, {"owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "reply_to_user": {"reputation": 1, "user_id": 4821805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z3h9NQTfxy8/AAAAAAAAAAI/AAAAAAAAABk/e3yg5XbyvNM/photo.jpg?sz=128", "display_name": "BPT", "link": "https://stackoverflow.com/users/4821805/bpt"}, "edited": false, "score": 0, "creation_date": 1429792772, "post_id": 29820048, "comment_id": 47773665, "body": "Have a look here (this should be added to xlwings, too): <a href=\"http://stackoverflow.com/questions/21306275/pywin32-saving-as-xlsm-file-instead-of-xlsx\" title=\"pywin32 saving as xlsm file instead of xlsx\">stackoverflow.com/questions/21306275/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "is_accepted": false, "score": 1, "last_activity_date": 1429783181, "creation_date": 1429783181, "answer_id": 29820048, "question_id": 29811116, "link": "https://stackoverflow.com/questions/29811116/xlwings-does-not-support-writing-of-xlsm-files/29820048#29820048", "title": "&quot;xlwings&quot; : does not support writing of .xlsm files?", "body": "<p>What are you trying to do with <code>xl_workbook.SaveAs(path)</code>?</p>\n\n<p>The following works:</p>\n\n<pre><code>&gt;&gt;&gt; from xlwings import Workbook\n&gt;&gt;&gt; wb = Workbook(r'C:\\full\\path\\to\\file.xlsm')\n&gt;&gt;&gt; wb.save('new_name.xlsm')\n</code></pre>\n\n<p>Without specifying a full name when saving, it'll currently (v0.3.4) save it in the default Excel directory, which probably should be improved to be the current Python working directory to be in line with what it does with a new file.</p>\n\n<p>Note that after saving a Workbook under a new name, <code>wb</code> above still refers to the old file and so <code>wb.close()</code> will have no effect on the new file. This should also be improved so that <code>Workbook.save()</code> returns the new Workbook object. I'll open issues on the GitHub page to cover these improvements.</p>\n"}], "owner": {"reputation": 1, "user_id": 4821805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z3h9NQTfxy8/AAAAAAAAAAI/AAAAAAAAABk/e3yg5XbyvNM/photo.jpg?sz=128", "display_name": "BPT", "link": "https://stackoverflow.com/users/4821805/bpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2740, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429783181, "creation_date": 1429747162, "last_edit_date": 1429747624, "question_id": 29811116, "link": "https://stackoverflow.com/questions/29811116/xlwings-does-not-support-writing-of-xlsm-files", "title": "&quot;xlwings&quot; : does not support writing of .xlsm files?", "body": "<p>I've tried a simple test using \"xlwings_0.3.4\" to open an excel .xltm file and save it again, to make sure that the VBA modules are kept. I couldn't get it to work.</p>\n\n<p>If I give a file extension in the save step, the file is saved as an .xlsx file. The module is carried along, but with the extension change it isn't recognized as a valid VBA module. If I do not specify a file extension, it is automatically saved as .xlsx:</p>\n\n<pre><code>WB=xlwings.Workbook('template.xltm')\nWB.save('outfile')\nWB.close()\n</code></pre>\n\n<p>This gives an xlsx file.</p>\n\n<p>Trying to set the file to xlsm generates an error:</p>\n\n<pre><code>WB.save('outfile.xlsm')\nWB.close()\nxl_workbook.SaveAs(path)\n</code></pre>\n\n<p>will generate an error:</p>\n\n<pre><code>xl_workbook.SaveAs(path)\nFile \"&lt;COMObject Open&gt;\", line 7, in SaveAs\npywintypes.com_error: (-2147352567, 'Exception occurred.', (0, u'Microsoft          Excel', u'This extension can not be used with the selected file type. Change the   file extension in the File name text box or select a different file type by changing the Save as type.', u'xlmain11.chm', 0, -2146827284), None)\n</code></pre>\n\n<p>This seems to be inherent to the application object returned by <code>GetActiveObject('Excel.Application')</code>.</p>\n\n<p>Is there a switch (like the <code>'keep_VBA=True'</code> switch in openpyxl?), or is it not possible to save xlsm files with xlwings?</p>\n"}, {"tags": ["python", "import"], "comments": [{"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429747509, "post_id": 29811083, "comment_id": 47750221, "body": "Is there any special reason you&#39;re using the <code>__future__</code> stuff in this case?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1429747544, "post_id": 29811083, "comment_id": 47750231, "body": "<code>from __future__ import absolute_import</code> specifically turns off the implicit relative import behavior you&#39;re trying to use."}, {"owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "reply_to_user": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429753149, "post_id": 29811083, "comment_id": 47752006, "body": "@Joe I think my particular case was not explained properly. there are modules ccc and bbb with the same names that live in the main scope. I have 2 modules under tools that have the same names and inside of each I&#39;m importing the corresponding module from the main scope. That&#39;s why I thought I need to explicitly say that the imports are absolute."}, {"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429786865, "post_id": 29811083, "comment_id": 47769063, "body": "It would be the opposite; you have to explicitely say that the imports are relative ;) And you must tell python relative to what (&#39;.&#39; is current module, &#39;..&#39; is parent module...). So you can have os (builtin), and tools.os (your stuff) and treat them separately."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "edited": false, "score": 0, "creation_date": 1429747534, "post_id": 29811169, "comment_id": 47750228, "body": "thanks. Can I still do import tools and call tools.bbb.somemethod() ?"}, {"owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "edited": false, "score": 0, "creation_date": 1429753383, "post_id": 29811169, "comment_id": 47752083, "body": "hmmm - that&#39;s not exactly what I was after. I need to import bbb from inside of bbb.py (bbb module is in the main scope) that&#39;s why I&#39;m using the absolute_import but still having trouble seeing the bbb.py and ccc.py modules when do import tools; tools.bbb (&quot;tools has no module called bbb&quot;)"}], "tags": [], "owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "is_accepted": false, "score": 1, "last_activity_date": 1429747387, "creation_date": 1429747387, "answer_id": 29811169, "question_id": 29811083, "link": "https://stackoverflow.com/questions/29811083/from-future-import-absolute-import-not-working-sub-modules-not-visible/29811169#29811169", "title": "from __future__ import absolute_import not working? sub-modules not visible", "body": "<p>Use the dot notation:</p>\n\n<p>From <code>bbb.py</code>, if you want to import <code>aaa.py</code>:</p>\n\n<pre><code>from . import aaa\n</code></pre>\n\n<p>From outside tools, if you want to import <code>tools/aaa.py</code>:</p>\n\n<pre><code>from tools import aaa\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "edited": false, "score": 0, "creation_date": 1429823291, "post_id": 29814131, "comment_id": 47795330, "body": "That explains everything. Thanks!"}, {"owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "edited": false, "score": 0, "creation_date": 1429823425, "post_id": 29814131, "comment_id": 47795407, "body": "Also if the tools are under another module topmodulename.tools what&#39;s the best approach to be using tools.bbb.calls() directly? How would you import this so you don&#39;t need to do long calls like topmodulename.tools.bbb.calls() IF you didn&#39;t want to import all the submodules in the tools.__init__ ?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "edited": false, "score": 0, "creation_date": 1429823594, "post_id": 29814131, "comment_id": 47795495, "body": "@mtmt: <code>from topmodulename.tools import bbb</code>"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1429766115, "last_edit_date": 1429766115, "creation_date": 1429765501, "answer_id": 29814131, "question_id": 29811083, "link": "https://stackoverflow.com/questions/29811083/from-future-import-absolute-import-not-working-sub-modules-not-visible/29814131#29814131", "title": "from __future__ import absolute_import not working? sub-modules not visible", "body": "<blockquote>\n  <p>but when I import tools and dir it I can only see:</p>\n\n<pre><code>['__builtins__', '__doc__', '__file__',\n'__name__', '__package__', '__path__', 'aaa']\n</code></pre>\n  \n  <p>but the <code>bbb</code> and <code>ccc</code> don't seem to be visible.</p>\n</blockquote>\n\n<p>Importing a package doesn't automatically load all its submodules. If you want to use the <code>tools.bbb</code> package, you need to do</p>\n\n<pre><code>import tools.bbb\n# or\nfrom tools import bbb\n</code></pre>\n\n<p><code>import tools</code> won't cut it. Alternatively, you can have <code>tools</code> explicitly load its submodules in its <code>__init__.py</code>:</p>\n\n<pre><code># in __init__.py\nfrom . import aaa, bbb, ccc\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 2031268, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ada5d4a6b1459d72ffe0f65c9fc448?s=128&d=identicon&r=PG", "display_name": "mtmt", "link": "https://stackoverflow.com/users/2031268/mtmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 0, "accepted_answer_id": 29814131, "answer_count": 2, "score": 1, "last_activity_date": 1429766115, "creation_date": 1429746965, "last_edit_date": 1429753416, "question_id": 29811083, "link": "https://stackoverflow.com/questions/29811083/from-future-import-absolute-import-not-working-sub-modules-not-visible", "title": "from __future__ import absolute_import not working? sub-modules not visible", "body": "<p>So I've got a module <code>bbb</code> in the main scope as well as <code>ccc</code>.</p>\n\n<p>I'm adding a library called <code>tools</code> which also has 2 modules called <code>bbb</code> and <code>ccc</code>:</p>\n\n<blockquote>\n  <p>tools</p>\n  \n  <ul>\n  <li><code>__init__.py</code></li>\n  <li>aaa.py</li>\n  <li>bbb.py</li>\n  <li>ccc.py</li>\n  </ul>\n</blockquote>\n\n<p>In <code>bbb.py</code> I'm importing the main scope bbb with:</p>\n\n<pre><code>from __future__ import absolute_import\nimport bbb\n</code></pre>\n\n<p>and in <code>ccc.py</code> doing the same thing:</p>\n\n<pre><code>from __future__ import absolute_import\nimport ccc\n</code></pre>\n\n<p>but when I import tools and dir it I can only see:</p>\n\n<pre><code>['__builtins__', '__doc__', '__file__',\n'__name__', '__package__', '__path__', 'aaa']\n</code></pre>\n\n<p>but the <code>bbb</code> and <code>ccc</code> don't seem to be visible.</p>\n\n<p>Am I missing something here?</p>\n"}, {"tags": ["python", "list", "numbers", "integer", "python-3.4"], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 7, "last_activity_date": 1429747091, "creation_date": 1429747091, "answer_id": 29811103, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3/29811103#29811103", "title": "How to print out a numbered list in Python 3", "body": "<pre><code>for a, b in enumerate(blob, 1):\n    print '{} {}'.format(a, b)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 4821848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25e36e9a9647445c2fa38a2a77cf072?s=128&d=identicon&r=PG", "display_name": "Fluxriflex", "link": "https://stackoverflow.com/users/4821848/fluxriflex"}, "edited": false, "score": 0, "creation_date": 1429749727, "post_id": 29811441, "comment_id": 47750968, "body": "Thank you so much! I really appreciate it!"}, {"owner": {"reputation": 384, "user_id": 4803033, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cXt5wYhFuAc/AAAAAAAAAAI/AAAAAAAAAEE/cZR9o9lxnx0/photo.jpg?sz=128", "display_name": "Josh B.", "link": "https://stackoverflow.com/users/4803033/josh-b"}, "reply_to_user": {"reputation": 43, "user_id": 4821848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25e36e9a9647445c2fa38a2a77cf072?s=128&d=identicon&r=PG", "display_name": "Fluxriflex", "link": "https://stackoverflow.com/users/4821848/fluxriflex"}, "edited": false, "score": 0, "creation_date": 1429749997, "post_id": 29811441, "comment_id": 47751059, "body": "No problem, if this helped you, please accept it to make it the official answer."}], "tags": [], "owner": {"reputation": 384, "user_id": 4803033, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cXt5wYhFuAc/AAAAAAAAAAI/AAAAAAAAAEE/cZR9o9lxnx0/photo.jpg?sz=128", "display_name": "Josh B.", "link": "https://stackoverflow.com/users/4803033/josh-b"}, "is_accepted": true, "score": 12, "last_activity_date": 1429749053, "creation_date": 1429749053, "answer_id": 29811441, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3/29811441#29811441", "title": "How to print out a numbered list in Python 3", "body": "<p>You would need to enumerate your list. That means that for every letter, it has a corrosponding number.</p>\n\n<p>Here is an example of your working code:</p>\n\n<pre><code>blob = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]\n\nfor number, letter in enumerate(blob):\n    print(number, letter)\n</code></pre>\n\n<p>The <code>enumerate</code> function will give the variable <code>number</code> the position of the variable <code>letter</code> in your list every loop.</p>\n\n<p>To display them, you can just use <code>print(number, letter)</code> to display them side by side.</p>\n"}, {"tags": [], "owner": {"reputation": 269, "user_id": 1150645, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d2bdb962c9459ae568b6de2c0a65abd?s=128&d=identicon&r=PG", "display_name": "Niranjan M.R", "link": "https://stackoverflow.com/users/1150645/niranjan-m-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1429799248, "creation_date": 1429799248, "answer_id": 29826452, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3/29826452#29826452", "title": "How to print out a numbered list in Python 3", "body": "<p>Another solution using built-in operations:</p>\n\n<p>Edit: In case you need extra space:</p>\n\n<pre><code>s1 = ['a', 'b', 'c', 'd']\nfor i in s1:\n    print(s1.index(i) +1, end=' ')\n    print(\" \",i)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1   a\n2   b\n3   c\n4   d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 10558169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a8e35a63907323deb675a7d43071a8?s=128&d=identicon&r=PG&f=1", "display_name": "alercelik", "link": "https://stackoverflow.com/users/10558169/alercelik"}, "is_accepted": false, "score": 0, "last_activity_date": 1595411841, "creation_date": 1595411841, "answer_id": 63031601, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3/63031601#63031601", "title": "How to print out a numbered list in Python 3", "body": "<p>You can use this one-liner.</p>\n<pre><code>print(list(enumerate(blob)))\n</code></pre>\n<p>to start with index 1</p>\n<pre><code>print(list(enumerate(blob, start=1)))\n</code></pre>\n<p>Codes above will print everthing in one line. If you want to print each element in a new line</p>\n<pre><code>from pprint import pprint  # no install required\npprint(list(enumerate(blob, start=1)), depth=2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 6293886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4dfa15c9f7bdb42c597bd48ccc76d83a?s=128&d=identicon&r=PG&f=1", "display_name": "itamar kanter", "link": "https://stackoverflow.com/users/6293886/itamar-kanter"}, "is_accepted": false, "score": 0, "last_activity_date": 1598798691, "last_edit_date": 1598798691, "creation_date": 1598797609, "answer_id": 63658458, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3/63658458#63658458", "title": "How to print out a numbered list in Python 3", "body": "<p>One-liner pretty printing of <code>enumerate</code> object:</p>\n<pre><code>myList = ['a', 'b', 'c']\nprint(*enumerate(myList), sep='\\n')\n</code></pre>\n<p>Output:</p>\n<pre><code>(0, 'a')\n(1, 'b')\n(2, 'c')\n</code></pre>\n<p>If one want to control the output format use this (with your own formatting):</p>\n<pre><code>print('\\n'.join(['{}-{}'.format(i, val) for i, val in (enumerate(myList))]))\n</code></pre>\n<p>Output:</p>\n<pre><code>0-a\n1-b\n2-c\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4821848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f25e36e9a9647445c2fa38a2a77cf072?s=128&d=identicon&r=PG", "display_name": "Fluxriflex", "link": "https://stackoverflow.com/users/4821848/fluxriflex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23662, "favorite_count": 2, "protected_date": 1505912992, "accepted_answer_id": 29811441, "answer_count": 5, "score": 1, "last_activity_date": 1598798691, "creation_date": 1429746965, "last_edit_date": 1505913235, "question_id": 29811082, "link": "https://stackoverflow.com/questions/29811082/how-to-print-out-a-numbered-list-in-python-3", "title": "How to print out a numbered list in Python 3", "body": "<p>How do I print out the index location of each of a python list so that it starts at 1, rather than 0. Here's an idea of what I want it to look like:</p>\n\n<pre><code>    blob = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"]\n    for i in blob:\n        print(???)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1   a\n2   b\n3   c\n4   d\n5   e\n</code></pre>\n\n<p>What I need to know is how do I get those numbers to show up alongside what I'm trying to print out? I can get a-e printed out no problem, but I can't figure out how to number the list. </p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": false, "score": 0, "last_activity_date": 1429750896, "creation_date": 1429750896, "answer_id": 29811727, "question_id": 29811006, "link": "https://stackoverflow.com/questions/29811006/can-this-be-reduced-to-a-single-query/29811727#29811727", "title": "Can this be reduced to a single query?", "body": "<p>Not always exactly one query, but it probably beats 2 queries and annotations:</p>\n\n<pre><code>players = Player.objects.filter(game_id=self.game_id, is_alive=True).order_by('position')\ntry:\n    return players.filter(position__lt=self.position)[0]\nexcept IndexError:\n    return players.last()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22013, "user_id": 1064659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1dc6f55bbe6f9c53e9d9a145b1f5158f?s=128&d=identicon&r=PG", "display_name": "Taymon", "link": "https://stackoverflow.com/users/1064659/taymon"}, "is_accepted": true, "score": 0, "last_activity_date": 1429765241, "creation_date": 1429765241, "answer_id": 29814066, "question_id": 29811006, "link": "https://stackoverflow.com/questions/29811006/can-this-be-reduced-to-a-single-query/29814066#29814066", "title": "Can this be reduced to a single query?", "body": "<p>I discovered that conditional query expressions are a thing in Django 1.8, which meant I could abandon modulo arithmetic and do this:</p>\n\n<pre><code>return Player.objects.filter(game_id=self.game_id, is_alive=True).order_by(\n    Case(When(position__gt=self.position, then=Value(0)), default=Value(1)),\n    'position'\n)[:1].get()\n</code></pre>\n"}], "owner": {"reputation": 22013, "user_id": 1064659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1dc6f55bbe6f9c53e9d9a145b1f5158f?s=128&d=identicon&r=PG", "display_name": "Taymon", "link": "https://stackoverflow.com/users/1064659/taymon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 29814066, "answer_count": 2, "score": 0, "last_activity_date": 1429765241, "creation_date": 1429746529, "question_id": 29811006, "link": "https://stackoverflow.com/questions/29811006/can-this-be-reduced-to-a-single-query", "title": "Can this be reduced to a single query?", "body": "<p>I have a model with a field <code>position = PositiveIntegerField(unique=True)</code>. Given an instance of this model, I want to get the instance with the next highest position (subject to certain filters). If this instance is the one with the highest position, I want to wrap around to 0 and return the instance with the lowest position; if this instance is the only one, I want to return itself.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>count = Player.objects.count()\nreturn Player.objects.filter(game_id=self.game_id, is_alive=True).annotate(\n    relative_position=(F('position') - self.position - 1 + count) % count\n).order_by('relative_position')[:1].get()\n</code></pre>\n\n<p>(The reason for the <code>+ count</code> is because a negative number modulo a positive one is negative in SQL.)</p>\n\n<p>This requires two database queries. I suspect that it's possible to do it in just one query, using <code>annotate</code> and <code>Count</code>, but I haven't figured out exactly how to put such a query together. Can it be done, and if so, how?</p>\n"}, {"tags": ["python", "error-handling", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 88, "user_id": 4294072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a616167abde58b70c6b1fe8868d14d?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/4294072/marco"}, "edited": false, "score": 0, "creation_date": 1429747579, "post_id": 29811068, "comment_id": 47750242, "body": "Thanks it works perfectly. The only thing is to name the file different from the var used to store errors."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 88, "user_id": 4294072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a616167abde58b70c6b1fe8868d14d?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/4294072/marco"}, "edited": false, "score": 0, "creation_date": 1429747932, "post_id": 29811068, "comment_id": 47750378, "body": "@Marco, True, I just copy pasted, I always normally use <code>f</code>."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1429749015, "last_edit_date": 1429749015, "creation_date": 1429746881, "answer_id": 29811068, "question_id": 29810959, "link": "https://stackoverflow.com/questions/29810959/subprocess-error-file/29811068#29811068", "title": "Subprocess error file", "body": "<p>You could use Popen, checking stderr:</p>\n\n<pre><code>from subprocess import Popen,PIPE\n\nproc = Popen([\"EXEC\"], stderr=PIPE,stdout=PIPE,universal_newlines=True)\n\nout, err = proc.communicate()\nif err:\n    with open(\"std.err\",\"w\") as f:\n        f.write(err)\n</code></pre>\n\n<p>On a side note, if you care about the return code you should use <code>check_call</code>, you could combine it with a <code>NamedTemporaryFile</code>:</p>\n\n<pre><code>from tempfile import NamedTemporaryFile\nfrom os import stat,remove\nfrom shutil import move\n\ntry:\n    with NamedTemporaryFile(dir=\".\", delete=False) as err:\n        subprocess.check_call([\"exec\"], stderr=err)\nexcept (subprocess.CalledProcessError,OSError) as e:\n    print(e)\n\n\nif stat(err.name).st_size != 0:\n    move(err.name,\"std.err\")\nelse:\n    remove(err.name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30464, "user_id": 203568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914a7c50b970346e442b3e4b0a7e73f8?s=128&d=identicon&r=PG", "display_name": "bgporter", "link": "https://stackoverflow.com/users/203568/bgporter"}, "is_accepted": false, "score": 0, "last_activity_date": 1429747505, "creation_date": 1429747505, "answer_id": 29811201, "question_id": 29810959, "link": "https://stackoverflow.com/questions/29810959/subprocess-error-file/29811201#29811201", "title": "Subprocess error file", "body": "<p>You can create your own context manager to handle the cleanup for you -- you can't really do what you're describing here, which boils down to asking how you can see into the future. Something like this (with better error handling, etc.):</p>\n\n<pre><code>import os\nfrom contextlib import contextmanager\n\n@contextmanager\ndef maybeFile(fileName):\n   # open the file\n   f = open(fileName, \"w\")\n   # yield the file to be used by the block of code inside the with statement\n   yield f\n   # the block is over, do our cleanup.\n   f.flush()\n   # if nothing was written, remember that we need to delete the file.\n   needsCleanup = f.tell() == 0\n   f.close()\n   if needsCleanup:\n      os.remove(fileName)\n</code></pre>\n\n<p>...and then something like:</p>\n\n<pre><code>with maybeFile(\"myFileName.txt\") as f:\n   import random\n   if random.random() &lt; 0.5:\n      f.write(\"There should be a file left behind!\\n\")\n</code></pre>\n\n<p>will either leave behind a file with a single line of text in it, or will leave nothing behind.</p>\n"}], "owner": {"reputation": 88, "user_id": 4294072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a616167abde58b70c6b1fe8868d14d?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/4294072/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 29811068, "answer_count": 2, "score": 6, "last_activity_date": 1429749015, "creation_date": 1429746266, "last_edit_date": 1429746377, "question_id": 29810959, "link": "https://stackoverflow.com/questions/29810959/subprocess-error-file", "title": "Subprocess error file", "body": "<p>I'm using the python module <code>subprocess</code> to call a program and redirect the possible std error to a specific file with the following command:</p>\n\n<pre><code>with open(\"std.err\",\"w\") as err:\n    subprocess.call([\"exec\"],stderr=err)\n</code></pre>\n\n<p>I want that the \"std.err\" file is created only if there are errors, but using the command above if there are no errors the code will create an empty file.\nHow i can make python create a file only if it's not empty? </p>\n\n<p>I can check after execution if the file is empty and in case remove it, but i was looking for a \"cleaner\" way.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 9188, "user_id": 100904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a854b850c70c0ee5f9511d845b613e?s=128&d=identicon&r=PG", "display_name": "S Anand", "link": "https://stackoverflow.com/users/100904/s-anand"}, "edited": false, "score": 0, "creation_date": 1429767839, "post_id": 29810920, "comment_id": 47756686, "body": "If <code>dfList</code> is indeed a DataFrame, your code should have worked @Rodrigo. Are you sure it&#39;s a DataFrame? Could you post a sample of how <code>dfList</code> was constructed? My guess is that <code>dfList</code> is actually an array of <code>Series</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5458, "user_id": 1567452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80070f9fadf8d4254903ca4ad1b10ceb?s=128&d=identicon&r=PG", "display_name": "jwilner", "link": "https://stackoverflow.com/users/1567452/jwilner"}, "edited": false, "score": 1, "creation_date": 1429746983, "post_id": 29810987, "comment_id": 47750038, "body": "Even if you need the index, <code>enumerate(dfList)</code> is way better."}], "tags": [], "owner": {"reputation": 6532, "user_id": 919578, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaAKB.jpg?s=128&g=1", "display_name": "Benjy Kessler", "link": "https://stackoverflow.com/users/919578/benjy-kessler"}, "is_accepted": false, "score": 2, "last_activity_date": 1429747144, "last_edit_date": 1592644375, "creation_date": 1429746461, "answer_id": 29810987, "question_id": 29810920, "link": "https://stackoverflow.com/questions/29810920/error-list-indices-must-be-integers-not-series/29810987#29810987", "title": "Error: list indices must be integers, not Series", "body": "<p>In python when you write <code>for i in</code> then <code>i</code> is the element not the index you need to then <code>print i</code> not <code>print dfList[i]</code>.</p>\n<p>Either of the following two options are fine:</p>\n<pre><code>for i in dfList[i]:\n  print i\n\nfor i in range(len(dfList)):\n  print dfList[i]\n</code></pre>\n<p>The first is more pythonic and elegant unless you need the index.</p>\n<h2>Edit</h2>\n<p>As jwilner suggested you can also do:</p>\n<pre><code>for i, element in enumerate(dfList):\n  print i, element\n</code></pre>\n<p>Here <code>i</code> is the index and <code>element</code> is the <code>dfList[i]</code>.</p>\n"}], "owner": {"reputation": 301, "user_id": 4789642, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/90fc3765a6a23b95e235dafd63911c62?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Matus-Nicodemos", "link": "https://stackoverflow.com/users/4789642/rodrigo-matus-nicodemos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2068, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429747144, "creation_date": 1429746074, "question_id": 29810920, "link": "https://stackoverflow.com/questions/29810920/error-list-indices-must-be-integers-not-series", "title": "Error: list indices must be integers, not Series", "body": "<p>I have grabbed a column from a pandas data frame and made a list from the rows.\nIf I print the first two values of the list, I get this output:</p>\n\n<pre><code>print dfList[0]\nprint dfList[1]\n\n0     0.00\n1     0.00\n2     0.00\n3     0.00\n4     0.00\n5     0.11\n6     0.84\n7     1.00\n8     0.27\n9     0.00\n10    0.52\n11    0.55\n12    0.92\n13    0.00\n14    0.00\n...\n50    0.42\n51    0.00\n52    0.00\n53    0.00\n54    0.40\n55    0.65\n56    0.81\n57    1.00\n58    0.54\n59    0.21\n60    0.00\n61    0.33\n62    1.00\n63    0.75\n64    1.00\nName: 9, Length: 65, dtype: float64\n65    1.00\n66    1.00\n67    1.00\n68    1.00\n69    1.00\n70    1.00\n71    0.55\n72    0.00\n73    0.39\n74    0.51\n75    0.70\n76    0.83\n77    0.87\n78    0.85\n79    0.53\n...\n126    0.83\n127    0.83\n128    0.83\n129    0.71\n130    0.26\n131    0.11\n132    0.00\n133    0.00\n134    0.50\n135    1.00\n136    1.00\n137    0.59\n138    0.59\n139    0.59\n140    1.00\nName: 9, Length: 76, dtype: float64\n</code></pre>\n\n<p>When I try to iterate over the list with a for loop, I get an error message:</p>\n\n<pre><code>for i in dfList:\n    print dfList[i]\n\nTraceback (most recent call last):\n  File \"./windows.py\", line 84, in &lt;module&gt;\n    print dfList[i]\nTypeError: list indices must be integers, not Series\n</code></pre>\n\n<p>If I write my code as:</p>\n\n<pre><code>for i in dfList:\n    print i\n</code></pre>\n\n<p>I get the correct output:</p>\n\n<pre><code>0     0.00\n1     0.00\n2     0.00\n3     0.00\n4     0.00\n5     0.11\n6     0.84\n7     1.00\n8     0.27\n9     0.00\n10    0.52\n11    0.55\n12    0.92\n13    0.00\n14    0.00\n...\n50    0.42\n51    0.00\n52    0.00\n53    0.00\n54    0.40\n55    0.65\n56    0.81\n57    1.00\n58    0.54\n59    0.21\n60    0.00\n61    0.33\n62    1.00\n63    0.75\n64    1.00\nName: 9, Length: 65, dtype: float64\n...\n...\nName: 9, Length: 108, dtype: float64\n507919    0.00\n507920    0.83\n507921    1.00\n507922    1.00\n507923    0.46\n507924    0.83\n507925    1.00\n507926    1.00\n507927    1.00\n507928    1.00\n507929    1.00\n507930    1.00\n507931    1.00\n507932    1.00\n507933    1.00\n...\n508216    1\n508217    1\n508218    1\n508219    1\n508220    1\n508221    1\n508222    1\n508223    1\n508224    1\n508225    1\n508226    1\n508227    1\n508228    1\n508229    1\n508230    1\nName: 9, Length: 312, dtype: float64\n</code></pre>\n\n<p>I do not know why this happens.</p>\n\n<p>I ultimately want to iterate through the list for 5 consecutive \"windows\" and calculate their means and put these means in a list.</p>\n"}, {"tags": ["python", "variables", "fileopendialog"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429746341, "post_id": 29810901, "comment_id": 47749840, "body": "You need to do some research into <a href=\"https://docs.python.org/3.4/tutorial/controlflow.html#defining-functions\" rel=\"nofollow noreferrer\">functions</a> - specifically, how variable scope and <code>return</code> work."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1429746500, "creation_date": 1429746500, "answer_id": 29810997, "question_id": 29810901, "link": "https://stackoverflow.com/questions/29810901/python-using-open-file-dialogue-to-assign-file-to-a-variable/29810997#29810997", "title": "Python: Using open file dialogue to assign file to a variable?", "body": "<pre><code>have_avbin = True\nf='' # initialize this variable\n\ndef openFile():\n    global f # tell the function that we plan on modifying this global variable\n    f = filedialog.askopenfilename(filetypes = ((\"MP3 files\", \"*.mp3\"),(\"All files\",\"*.*\")))\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1953, "favorite_count": 0, "accepted_answer_id": 29810997, "answer_count": 1, "score": 1, "last_activity_date": 1429746500, "creation_date": 1429745939, "last_edit_date": 1429746460, "question_id": 29810901, "link": "https://stackoverflow.com/questions/29810901/python-using-open-file-dialogue-to-assign-file-to-a-variable", "title": "Python: Using open file dialogue to assign file to a variable?", "body": "<p>I searched around and found many ways on how to assign a file to a variable via opening a file from a direct link, but i was wondering how to assign a file to a variable to be read by a function, when the user uses the file dialogue to open a file (e.g. File > open > user selected file)?</p>\n\n<p>I'm trying to open a music file that is to be passed to <code>pyglet.media.load(variable containing file)</code>.</p>\n\n<p>It returns the error: <code>NameError: f is not defined</code></p>\n\n<pre><code>from tkinter import *\nfrom tkinter.filedialog import askopenfilename\nimport pyglet\nfrom threading import Thread\n\napp = Tk()\napp.title(\"Music Player\")\napp.geometry(\"600x200\")\nhave_avbin = True \n\ndef openFile():\n    song =  filedialog.askopenfilename(filetypes = ((\"MP3 files\", \"*.mp3\"),(\"All files\",\"*.*\")))\n    f = song\n    return f\n\n\n\n#Creates menu bar for opening MP3s, and closing the program\nmenu = Menu(app)\nfile = Menu(menu)\nfile.add_command(label='Open', command=  openFile) # replace 'print' with the name of your open function\nfile.add_command(label='Exit', command=app.destroy) # closes the tkinter window, ending the app\nmenu.add_cascade(label='File', menu=file)\napp.config(menu=menu)\n\n#Run each app library mainloop in different python thread to prevent freezing\ndef playMusic():\n    global player_thread\n    player_thread = Thread(target=real_playMusic)\n    player_thread.start()\n\ndef stopMusic():\n    global player_thread\n    player_thread = Thread(target=real_stopMusic)\n    player_thread.start()\n\n#Play open file function attached to button\ndef real_playMusic():\n    music = pyglet.media.load(f);\n    music.play()\n    pyglet.app.run()\n\n#Stop the music function\ndef real_stopMusic():\n     pyglet.app.exit()\n\n\n\n\n#Play button creation\nbtnPlay = Button(app, text =\"Play\", command = playMusic)\nbtnPlay.grid()\n\n\n#Pause button creation\nbtnPause = Button(app)\nbtnPause.grid()\nbtnPause.configure(text = \"Stop\", command = stopMusic)\n\n\n\napp.mainloop() # keep at the end\n</code></pre>\n"}, {"tags": ["python", "dynamic-programming"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 6, "creation_date": 1429745986, "post_id": 29810883, "comment_id": 47749719, "body": "Every solution will be <code>O(n)</code> because you have to search the entire string. Though you can still improve performance by removing allocations, etc."}, {"owner": {"reputation": 3771, "user_id": 3814319, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b7eae64f90448c1ce28945fb7bf24c0a?s=128&d=identicon&r=PG&f=1", "display_name": "user299709", "link": "https://stackoverflow.com/users/3814319/user299709"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1429746276, "post_id": 29810883, "comment_id": 47749816, "body": "@ColonelThirtyTwo how cna I remove such allocation? the memory space is important here"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1429746591, "post_id": 29810883, "comment_id": 47749913, "body": "only way you could do better is if your words were sorted"}, {"owner": {"reputation": 2949, "user_id": 1171180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890e861642072f33867c62e85bf72fc5?s=128&d=identicon&r=PG", "display_name": "I-Lin Kuo", "link": "https://stackoverflow.com/users/1171180/i-lin-kuo"}, "edited": false, "score": 1, "creation_date": 1430244998, "post_id": 29810883, "comment_id": 47975670, "body": "The only way I can think of to do better is to accept a stream as your &quot;h&quot; parameter instead of a string. For that solution, you would parse the incoming stream for needle and discard any part of the stream you have read. Your time performance is still O(n) but your memory consumption would be a lot less."}], "answers": [{"tags": [], "owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "is_accepted": false, "score": 5, "last_activity_date": 1429746677, "last_edit_date": 1429746677, "creation_date": 1429745986, "answer_id": 29810911, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/29810911#29810911", "title": "finding needle in haystack, what is a better solution?", "body": "<p>This does not address the complexity issue but simplifies the code:</p>\n\n<pre><code>def find_needle(n,h):\n    return h.split().count(n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 1, "creation_date": 1429774476, "post_id": 29810961, "comment_id": 47760367, "body": "Your post looked spamish (like self-promotion) at first sight. On second though, it is not. And it is kinda funny. I undid the down vote. Your 10k rep should have been a clue. Anyway, can you elaborate on the interest of <code>Counter</code> here as opposed to the <code>count()</code> function? I don&#39;t see any benefit and you don&#39;t mention it explicitly."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1429775582, "post_id": 29810961, "comment_id": 47761078, "body": "@jerome There&#39;s no big advantage in regards to your solution, it&#39;s just a different appoach and a way for the OP to know Counter, that may be usefull for futures problems. Tks for removing the down-vote."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1430677191, "post_id": 29810961, "comment_id": 48152531, "body": "Why not just <code>return Counter(h.split())[n]</code>?"}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1430677402, "post_id": 29810961, "comment_id": 48152638, "body": "@stefan I guess you can also do that to save 1 line of code."}, {"owner": {"reputation": 4557, "user_id": 2788896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NxnaT.jpg?s=128&g=1", "display_name": "WEBjuju", "link": "https://stackoverflow.com/users/2788896/webjuju"}, "edited": false, "score": 0, "creation_date": 1616534062, "post_id": 29810961, "comment_id": 118032050, "body": "the posted DEMO isn&#39;t the same code - anyway, neither worked for me in python 3.6 aws lambda.  <a href=\"https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution#answer-29811635\">this solution did work for me</a> :point-down:"}], "tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 4, "last_activity_date": 1430681544, "last_edit_date": 1430681544, "creation_date": 1429746273, "answer_id": 29810961, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/29810961#29810961", "title": "finding needle in haystack, what is a better solution?", "body": "<p>You can use <a href=\"http://pymotw.com/2/collections/counter.html\" rel=\"nofollow\">Counter</a></p>\n\n<pre><code>from collections import Counter\n\ndef find_needle(n,h):\n    return Counter(h.split())[n]\n</code></pre>\n\n<p><strong>i.e.:</strong> </p>\n\n<pre><code>n = \"portugal\"\nh = 'lobito programmer from portugal hello fromportugal portugal'\n\nprint find_needle(n,h)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://ideone.com/YQuPBP\" rel=\"nofollow\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1429794207, "post_id": 29811635, "comment_id": 47774853, "body": "This won&#39;t work if the string contains special regex characters like <code>.</code>. Use <code>re.escape</code> on the needle first."}, {"owner": {"reputation": 4557, "user_id": 2788896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NxnaT.jpg?s=128&g=1", "display_name": "WEBjuju", "link": "https://stackoverflow.com/users/2788896/webjuju"}, "edited": false, "score": 0, "creation_date": 1616534156, "post_id": 29811635, "comment_id": 118032079, "body": "this works in python 3.6 aws lambda.  thx"}], "tags": [], "owner": {"reputation": 959, "user_id": 992385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab5725ebebb1ffbb1bb4536cd9ef473?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle G", "link": "https://stackoverflow.com/users/992385/kyle-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1429750792, "last_edit_date": 1429750792, "creation_date": 1429750318, "answer_id": 29811635, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/29811635#29811635", "title": "finding needle in haystack, what is a better solution?", "body": "<p>This is still going to be O(n) but it uses the power of the re module and python's generator expressions.</p>\n\n<pre><code>import re\n\ndef find_needle(n,h):\n    g = re.finditer(r'\\b%s\\b'%n, h)  # use regex word boundaries\n    return sum(1 for _ in g)  # return the length of the iterator\n</code></pre>\n\n<p>Should use far less memory than .split for a relatively large 'haystack'.</p>\n\n<p>Note that this is not exactly the same as the code in the OP because it will not only find 'needle' but also 'needle,' and 'needle.' It will not find 'needles' though.</p>\n"}, {"tags": [], "owner": {"reputation": 18956, "user_id": 1149736, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b3a4cc349fe80219a82a9e749ad65377?s=128&d=identicon&r=PG", "display_name": "Vyktor", "link": "https://stackoverflow.com/users/1149736/vyktor"}, "is_accepted": true, "score": 10, "last_activity_date": 1430229731, "creation_date": 1430229731, "answer_id": 29921752, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/29921752#29921752", "title": "finding needle in haystack, what is a better solution?", "body": "<p>I don't think it's possible to get bellow <code>O(n)</code> with this (because you need to iterate trough the string at least once). You can do some optimizations.</p>\n\n<p>I assume you want to match \"<em>whole words</em>\", for example looking up <code>foo</code> should match like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>foo and foo, or foobar and not foo.\n^^^     ^^^                    ^^^\n</code></pre>\n\n<p>So splinting just based on space wouldn't do the job, because:</p>\n\n<pre><code>&gt;&gt;&gt; 'foo and foo, or foobar and not foo.'.split(' ')\n['foo', 'and', 'foo,', 'or', 'foobar', 'and', 'not', 'foo.']\n#                  ^                                     ^\n</code></pre>\n\n<p>This is where <a href=\"https://docs.python.org/3.2/library/re.htm\" rel=\"noreferrer\"><code>re</code> module</a> comes in handy, which will allows you to build fascinating conditions. For example <code>\\b</code> inside the regexp means:</p>\n\n<blockquote>\n  <p>Matches the empty string, but only at the beginning or end of a word. <em>A word is defined as a sequence of Unicode alphanumeric or underscore characters, so the end of a word is indicated by <strong>whitespace or a non-alphanumeric</em></strong>, non-underscore Unicode character. Note that formally, <code>\\b</code> is defined as the boundary between a <code>\\w</code> and a <code>\\W</code> character (or vice versa), or between <code>\\w</code> and the beginning/end of the string. This means that <code>r'\\bfoo\\b'</code> matches <code>'foo'</code>, <code>'foo.'</code>, <code>'(foo)'</code>, <code>'bar foo baz'</code> but not <code>'foobar'</code> or <code>'foo3'</code>.</p>\n</blockquote>\n\n<p>So <code>r'\\bfoo\\b'</code> will match only <em>whole word <code>foo</code></em>. Also don't forget to use <a href=\"https://docs.python.org/3.2/library/re.html#re.escape\" rel=\"noreferrer\"><code>re.escape()</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; re.escape('foo.bar+')\n'foo\\\\.bar\\\\+'\n&gt;&gt;&gt; r'\\b{}\\b'.format(re.escape('foo.bar+'))\n'\\\\bfoo\\\\.bar\\\\+\\\\b'\n</code></pre>\n\n<p>All you have to do now is use <a href=\"https://docs.python.org/3.2/library/re.html#re.finditer\" rel=\"noreferrer\"><code>re.finditer()</code></a> to scan the string. Based on documentation:</p>\n\n<blockquote>\n  <p>Return an iterator yielding match objects over all non-overlapping matches for the RE pattern in string. The string is scanned left-to-right, and matches are returned in the order found. Empty matches are included in the result unless they touch the beginning of another match.</p>\n</blockquote>\n\n<p>I assume that matches are generated <em>on the fly</em>, so they never have to be in memory at once (which may come in handy with <strong>large</strong> strings, with many matched items). And in the end just count them:</p>\n\n<pre><code>&gt;&gt;&gt; r = re.compile(r'\\bfoo\\b')\n&gt;&gt;&gt; it = r.finditer('foo and foo, or foobar and not foo.')\n&gt;&gt;&gt; sum(1 for _ in it)\n3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 959, "user_id": 992385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab5725ebebb1ffbb1bb4536cd9ef473?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle G", "link": "https://stackoverflow.com/users/992385/kyle-g"}, "edited": false, "score": 0, "creation_date": 1430416061, "post_id": 29961733, "comment_id": 48068681, "body": "Looks like grep is the way to go. Never realized it could achieve sub linear time. Pretty cool."}, {"owner": {"reputation": 5782, "user_id": 1560599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b91099d549ba464204a4b80d3ef01c9a?s=128&d=identicon&r=PG", "display_name": "seaotternerd", "link": "https://stackoverflow.com/users/1560599/seaotternerd"}, "edited": false, "score": 0, "creation_date": 1430682830, "post_id": 29961733, "comment_id": 48154651, "body": "See this question (<a href=\"http://stackoverflow.com/questions/1106112/improving-boyer-moore-string-search\" title=\"improving boyer moore string search\">stackoverflow.com/questions/1106112/&hellip;</a>) for a discussion of the Boyer-Moore algorithm, which is how grep achieves its speed."}], "tags": [], "owner": {"reputation": 1086, "user_id": 3377691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7045268e3e9ac7c4a61fddaff7da0a75?s=128&d=identicon&r=PG&f=1", "display_name": "VBB", "link": "https://stackoverflow.com/users/3377691/vbb"}, "is_accepted": false, "score": 3, "last_activity_date": 1430379298, "last_edit_date": 1495541850, "creation_date": 1430379298, "answer_id": 29961733, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/29961733#29961733", "title": "finding needle in haystack, what is a better solution?", "body": "<p>Actually, when you say O(n) you are forgetting the fact that after matching the first letter, you have to match the remaining ones as well (match n from needle to sentence, then match e, then the next e...) You are essentially trying to replicate the functionality of grep, so you can look at the grep algorithm. You can do well by building a finite state machine. There are many links that can help you, for one you could start from <a href=\"https://stackoverflow.com/questions/12629749/how-does-grep-run-so-fast\">How does grep run so fast?</a></p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 1076791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515c1901adb562e65eb0854d5847e4b3?s=128&d=identicon&r=PG", "display_name": "Rcynic", "link": "https://stackoverflow.com/users/1076791/rcynic"}, "is_accepted": false, "score": 0, "last_activity_date": 1430674446, "creation_date": 1430674446, "answer_id": 30017097, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/30017097#30017097", "title": "finding needle in haystack, what is a better solution?", "body": "<p>If you are concerned with the time it takes (as distinct from time complexity) multiprocess it. Basically make n smaller. Here is an example to run it in 2 processes. </p>\n\n<pre><code>from multiprocessing import Process\n\ndef find(word, string):\n    return string.count(word)\n\ndef search_for_words(word, string):\n    full_length = len(string)\n    part1 = string[:full_length/2]\n    proc1 = Process(target=find, args=(word, part1,))\n    proc1.start()\n    part2 = string[full_lenght/2:]\n    proc2 = Process(target=find, args=(word, part2,))\n    proc2.start()\n    proc1.join()\n    proc2.join()\n</code></pre>\n\n<p>if its O(n) you are worried about - then, i'm not sure there is much you can do, unless it is possible to get the string in another data structure. like a set or something. (but putting it in that set is also O(n), you can save on time if you are already iterating over the string somewhere else, and then make this structure then. write once, read many.</p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 2832397, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4c8f8a9e547a9a32354081c64487cb8f?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell Carroll", "link": "https://stackoverflow.com/users/2832397/mitchell-carroll"}, "is_accepted": false, "score": 0, "last_activity_date": 1430773791, "creation_date": 1430773791, "answer_id": 30040031, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/30040031#30040031", "title": "finding needle in haystack, what is a better solution?", "body": "<p>In order to guarantee finding a needle in a haystack, you need to examine each piece of hay until you find the needle.  This is O(n) no matter what, a tight lower bound.</p>\n"}, {"comments": [{"owner": {"reputation": 607, "user_id": 4309887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438b4baeb553abc1709c06a2781f5d4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Holland", "link": "https://stackoverflow.com/users/4309887/jonathan-holland"}, "edited": false, "score": 0, "creation_date": 1509431284, "post_id": 47028899, "comment_id": 81004894, "body": "Please try to address the entirety of the question - What is the time complexity of this/what makes this a <i>better</i> solution, and how would you write tests around this?"}], "tags": [], "owner": {"reputation": 11, "user_id": 8709354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H34UZ.jpg?s=128&g=1", "display_name": "Rain", "link": "https://stackoverflow.com/users/8709354/rain"}, "is_accepted": false, "score": 0, "last_activity_date": 1509430137, "creation_date": 1509430137, "answer_id": 47028899, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/47028899#47028899", "title": "finding needle in haystack, what is a better solution?", "body": "<pre><code>def find_needle(haystack):\n    for item in haystack:\n        if item  == 'needle':\n            haystack.append(item)\n            return 'found the needle at position ' + str(haystack.index(item))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11617911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69834f8c40567499a63cc71b89f70c3b?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/11617911/anu"}, "is_accepted": false, "score": 0, "last_activity_date": 1565765996, "creation_date": 1565765996, "answer_id": 57489595, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution/57489595#57489595", "title": "finding needle in haystack, what is a better solution?", "body": "<p>here's my one.</p>\n\n<pre><code>def find_needle(haystack, needle):\n    return haystack.count(needele)\n</code></pre>\n\n<p>here, we simply use the built-in count method to count the number of needles in a haystack.</p>\n"}], "owner": {"reputation": 3771, "user_id": 3814319, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b7eae64f90448c1ce28945fb7bf24c0a?s=128&d=identicon&r=PG&f=1", "display_name": "user299709", "link": "https://stackoverflow.com/users/3814319/user299709"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6884, "favorite_count": 1, "accepted_answer_id": 29921752, "answer_count": 9, "score": 16, "last_activity_date": 1565765996, "creation_date": 1429745817, "question_id": 29810883, "link": "https://stackoverflow.com/questions/29810883/finding-needle-in-haystack-what-is-a-better-solution", "title": "finding needle in haystack, what is a better solution?", "body": "<p>so given \"needle\" and \"there is a needle in this but not thisneedle haystack\"</p>\n\n<p>I wrote</p>\n\n<pre><code>def find_needle(n,h):\n    count = 0\n    words = h.split(\" \")\n    for word in words:\n        if word == n:\n            count += 1\n    return count\n</code></pre>\n\n<p>This is O(n) but wondering if there is a better approach? maybe not by using split at all?</p>\n\n<p>How would you write tests for this case to check that it handles all edge cases?</p>\n"}, {"tags": ["python", "rest", "python-jira"], "comments": [{"owner": {"reputation": 1508, "user_id": 2229132, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/86dd765e824088f5bdb917a1a2a383c8?s=128&d=identicon&r=PG", "display_name": "ThePavolC", "link": "https://stackoverflow.com/users/2229132/thepavolc"}, "edited": false, "score": 0, "creation_date": 1429823711, "post_id": 29810878, "comment_id": 47795564, "body": "I usually create one jira client at the beginning of program and then just use reference to it."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4249467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/077772906225fe51d27463f4d7ce7f1d?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4249467/nick"}, "is_accepted": false, "score": 1, "last_activity_date": 1429894434, "creation_date": 1429894434, "answer_id": 29853215, "question_id": 29810878, "link": "https://stackoverflow.com/questions/29810878/destroy-session-using-jira-python-rest-client/29853215#29853215", "title": "Destroy session using jira-python REST client", "body": "<p>JIRA invalidates session after 5 hours, from version 4.3 onwards.</p>\n\n<p>Found the answer here - <a href=\"https://answers.atlassian.com/questions/15277569/python-jira-client-destroy-session\" rel=\"nofollow\">https://answers.atlassian.com/questions/15277569/python-jira-client-destroy-session</a></p>\n"}, {"tags": [], "owner": {"reputation": 135876, "user_id": 99834, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/63c50004c4f6eaf3235b9ea836f4b6cf?s=128&d=identicon&r=PG", "display_name": "sorin", "link": "https://stackoverflow.com/users/99834/sorin"}, "is_accepted": false, "score": 0, "last_activity_date": 1430068613, "creation_date": 1430068613, "answer_id": 29880808, "question_id": 29810878, "link": "https://stackoverflow.com/questions/29810878/destroy-session-using-jira-python-rest-client/29880808#29880808", "title": "Destroy session using jira-python REST client", "body": "<p>Just to be clear, one of the reasons why is called REST api is because you do not have to do anything with the session.</p>\n"}], "owner": {"reputation": 31, "user_id": 4249467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/077772906225fe51d27463f4d7ce7f1d?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/4249467/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430068613, "creation_date": 1429745795, "question_id": 29810878, "link": "https://stackoverflow.com/questions/29810878/destroy-session-using-jira-python-rest-client", "title": "Destroy session using jira-python REST client", "body": "<p>I am trying to invalidate the session using jira-python rest client. How can I achieve this feature, is it built in or needs to be implemented?</p>\n\n<p>I tried looking at all the APIs available in client.py and there seems to be no way to destroy or invalidate a session.</p>\n\n<p>Another question that follow is, do I have to authenticate on every REST call made by the client? Currently that is what I am doing.</p>\n"}, {"tags": ["python", "curl", "aem", "jcr"], "comments": [{"owner": {"reputation": 2139, "user_id": 1859536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ND0ug.jpg?s=128&g=1", "display_name": "sarath joseph", "link": "https://stackoverflow.com/users/1859536/sarath-joseph"}, "edited": false, "score": 0, "creation_date": 1429745312, "post_id": 29810699, "comment_id": 47749479, "body": "try wrapping list with str()"}, {"owner": {"reputation": 496, "user_id": 4087691, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d141a9e69dd7e9825ba8df6ad95daf9?s=128&d=identicon&r=PG&f=1", "display_name": "koolkat", "link": "https://stackoverflow.com/users/4087691/koolkat"}, "reply_to_user": {"reputation": 2139, "user_id": 1859536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ND0ug.jpg?s=128&g=1", "display_name": "sarath joseph", "link": "https://stackoverflow.com/users/1859536/sarath-joseph"}, "edited": false, "score": 1, "creation_date": 1429745572, "post_id": 29810699, "comment_id": 47749565, "body": "Creates a single-valued property with <code>[&quot;one&quot;,&quot;two&quot;]</code> as value"}, {"owner": {"reputation": 864, "user_id": 1951607, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/55a6438f7ffd7ebcb7dd9c37f5e33c32?s=128&d=identicon&r=PG", "display_name": "Cris Rockwell", "link": "https://stackoverflow.com/users/1951607/cris-rockwell"}, "edited": false, "score": 0, "creation_date": 1429794906, "post_id": 29810699, "comment_id": 47775456, "body": "In case you need to set the type to multi with the no or single value, you could also add another key/value pair to give a type hint for the field... Something like...  accordions@TypeHint=&quot;String[]&quot;. Otherwise do as others advised and build a string"}], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 3402449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4d39a6c943663d10fd86abca30f6fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Shahwan", "link": "https://stackoverflow.com/users/3402449/ahmad-shahwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1465717691, "creation_date": 1465717691, "answer_id": 37771892, "question_id": 29810699, "link": "https://stackoverflow.com/questions/29810699/how-to-add-multi-valued-property-to-jcr-node-through-python-code-using-curl/37771892#37771892", "title": "How to add multi-valued property to jcr node through python code using cURL?", "body": "<p>In the list of parameters passed to <code>Popen()</code> you're trying concatenate <code>\"accordions=\"</code>, a string, to <code>list</code>, well, a list. No wonder that Python is confused.</p>\n\n<p>As far as I know, JCR Specifications do not required a REST API. You're probably referring to <a href=\"https://sling.apache.org/\" rel=\"nofollow\">Sling</a> here, in which case you may want to add Sling in the keywords to attract experts' attention.</p>\n\n<p>I'd also advice to use <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow\"><code>requests</code></a> Python library instate of running external processes through <code>subprocess</code>. </p>\n"}], "owner": {"reputation": 496, "user_id": 4087691, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d141a9e69dd7e9825ba8df6ad95daf9?s=128&d=identicon&r=PG&f=1", "display_name": "koolkat", "link": "https://stackoverflow.com/users/4087691/koolkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1465717691, "creation_date": 1429744851, "last_edit_date": 1495535641, "question_id": 29810699, "link": "https://stackoverflow.com/questions/29810699/how-to-add-multi-valued-property-to-jcr-node-through-python-code-using-curl", "title": "How to add multi-valued property to jcr node through python code using cURL?", "body": "<p><a href=\"https://stackoverflow.com/questions/27121830/how-to-add-multivalue-property-to-jcr-node-through-java-code\">How to add multivalue property to jcr node through java code?</a> says a string array could be created to pass to <code>node.setProperty()</code> in Java. </p>\n\n<p>However, in Python, when I create a list and try to pass it with the curl command, I get an error saying Python cannot concatenate string and list.</p>\n\n<pre><code>list = [\"one\",\"two\"]\nsubprocess.Popen(['curl','-u','admin:admin','-d',\"jcr:primaryType=nt:unstructured\",'-d',\"sling:resourceType=xxxx\",'-d',\"accordionType=Please Select\",'-d',\"accordions=\"+list,\"\"+path])\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 0, "creation_date": 1429744745, "post_id": 29810664, "comment_id": 47749267, "body": "On which line is the error thrown?"}, {"owner": {"reputation": 822, "user_id": 561837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a957a2f5e61199fdb528ea4e9726e73b?s=128&d=identicon&r=PG", "display_name": "valdarin", "link": "https://stackoverflow.com/users/561837/valdarin"}, "edited": false, "score": 0, "creation_date": 1429745050, "post_id": 29810664, "comment_id": 47749374, "body": "Code ran correctly for me. I wonder if there&#39;s something unusual about the way you are trying to run it."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429745060, "post_id": 29810664, "comment_id": 47749377, "body": "Probably all the lines with improper string formatting syntax."}], "answers": [{"tags": [], "owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "is_accepted": false, "score": 0, "last_activity_date": 1429745172, "last_edit_date": 1429745172, "creation_date": 1429744759, "answer_id": 29810681, "question_id": 29810664, "link": "https://stackoverflow.com/questions/29810664/python-error-unsupported-operand-types-for-nonetype-and-str-on-my-code/29810681#29810681", "title": "Python Error unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;str&#39; on my code", "body": "<p>What if you replace </p>\n\n<pre><code>print (\"The total number of humans is: %d.\") %(cls.population)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>print (\"The total number of humans is: %d.\" % cls.population)\n</code></pre>\n\n<p>in your print statements ?</p>\n\n<p>Note: when asking a question, try to trim your code example to the problematic part. It makes it easier for people to help you, and in fact, in some cases, it helps you find the problem before even asking.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1429744826, "creation_date": 1429744826, "answer_id": 29810694, "question_id": 29810664, "link": "https://stackoverflow.com/questions/29810664/python-error-unsupported-operand-types-for-nonetype-and-str-on-my-code/29810694#29810694", "title": "Python Error unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;str&#39; on my code", "body": "<p>In Python, parenthesis simply change the order of operations unless otherwise stated in code:</p>\n\n<pre><code>print (\"%s *remains silent*\" % (self.name,)) # comma indicates tuple, not change of order\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 2, "last_activity_date": 1429749767, "last_edit_date": 1429749767, "creation_date": 1429748396, "answer_id": 29811325, "question_id": 29810664, "link": "https://stackoverflow.com/questions/29810664/python-error-unsupported-operand-types-for-nonetype-and-str-on-my-code/29811325#29811325", "title": "Python Error unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;str&#39; on my code", "body": "<p>The reason you're having the problem in this line:</p>\n\n<pre><code>print (\"The total number of humans is: %d.\") %(cls.population)\n</code></pre>\n\n<p>is that the <code>print</code> is executed first, with the stuff in the first set of parentheses as an argument. The <em>return value</em> of <code>print</code> is then used with the <code>%</code> operator. <code>print</code> returns <code>None</code>, so this is what Python is trying to do:</p>\n\n<pre><code>None % (cls.population)\n</code></pre>\n\n<p>And you can probably figure out why <em>that</em> won't work.</p>\n\n<p>To solve it, put the entire <code>%</code> operation <em>inside</em> the parentheses so it is done <em>before</em> <code>print</code> is called. After all, you want the result of the interpolation printed.</p>\n\n<pre><code>print(\"The total number of humans is: %d.\" % cls.population)\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 4821726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57ad2a8299fddffc5a5d2c642a69708c?s=128&d=identicon&r=PG&f=1", "display_name": "NoobProgrammer", "link": "https://stackoverflow.com/users/4821726/noobprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 29811325, "answer_count": 3, "score": 0, "last_activity_date": 1430441500, "creation_date": 1429744657, "last_edit_date": 1430441500, "question_id": 29810664, "link": "https://stackoverflow.com/questions/29810664/python-error-unsupported-operand-types-for-nonetype-and-str-on-my-code", "title": "Python Error unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;str&#39; on my code", "body": "<p>So I'm having a lot of trouble with this code... It gives me an error and I don't see nothing wrong with it! I have about 15 days studying python but I don't really see an error in my code</p>\n\n<p>When I try to run it in the python shell it gives me this error:</p>\n\n<blockquote>\n  <p><code>\"unsupported operand type(s) for %: 'NoneType' and 'str'\"</code></p>\n</blockquote>\n\n<p>Please help me out T____T I'm so frustrated! </p>\n\n<pre><code>    @classmethod\n    def populationCount(cls):\n        print (\"The total number of humans is: %d.\") %(cls.population)\n</code></pre>\n"}, {"tags": ["python", "list", "memory-management"], "comments": [{"owner": {"reputation": 2178, "user_id": 72476, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/21ee2bfa3032b1db6cce0e0b6a9fc143?s=128&d=identicon&r=PG", "display_name": "driax", "link": "https://stackoverflow.com/users/72476/driax"}, "edited": false, "score": 0, "creation_date": 1433321479, "post_id": 29810632, "comment_id": 49296893, "body": "There&#39;s also a fourth way, <code>a[:] = ()</code>, which does sort of the same as <code>del a[:]</code>. Only instead of asking to delete the whole contents of <code>a</code>, it asks to replace the whole contents of <code>a</code> with the contents of a empty tuple."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 7, "last_activity_date": 1429746070, "last_edit_date": 1429746070, "creation_date": 1429745114, "answer_id": 29810740, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/29810740#29810740", "title": "Different ways of deleting lists", "body": "<p><code>Test 1:</code> rebinds <code>a</code> to a new object, <code>b</code> still holds a <em>reference</em> to the original object, <code>a</code> is just a name by rebinding <code>a</code> to a new object does not change the original object that <code>b</code> points to.</p>\n\n<p><code>Test 2:</code> you del the name <code>a</code> so it no longer exists but again you still have a reference to the object in memory with <code>b</code>.</p>\n\n<p><code>Test 3</code> <code>a[:]</code> just like when you copy a list or want to change all the elements of a list refers to references to the objects stored in the list not the name <code>a</code>. <code>b</code> gets cleared also as again it is a reference to <code>a</code> so changes to the content of <code>a</code> will effect <code>b</code>.</p>\n\n<p>The behaviour is <a href=\"https://docs.python.org/2/tutorial/datastructures.html#the-del-statement\">documented</a>:</p>\n\n<blockquote>\n  <p>There is a way to remove an item from a list given its index instead\n  of its value: the <code>del</code> statement. This differs from the <code>pop()</code>\n  method which returns a value. The <code>del</code> statement can also be used to\n  remove slices from a list or clear the entire list (which we did\n  earlier by assignment of an empty list to the slice). For example:</p>\n\n<pre><code>&gt;&gt;&gt;\n&gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]\n&gt;&gt;&gt; del a[0]\n&gt;&gt;&gt; a\n[1, 66.25, 333, 333, 1234.5]\n&gt;&gt;&gt; del a[2:4]\n&gt;&gt;&gt; a\n[1, 66.25, 1234.5]\n&gt;&gt;&gt; del a[:]\n&gt;&gt;&gt; a\n[]\n</code></pre>\n  \n  <p><code>del</code> can also be used to delete entire variables:</p>\n\n<pre><code>&gt;&gt;&gt;\n&gt;&gt;&gt; del a\n</code></pre>\n  \n  <p>Referencing the name <code>a</code> hereafter is an error (at least until another\n  value is assigned to it). We'll find other uses for <code>del</code> later.</p>\n</blockquote>\n\n<p>So only <code>del a</code> actually deletes <code>a</code>, <code>a = []</code> rebinds a to a new object and  <code>del a[:]</code> clears  <code>a</code>. In your second test if <code>b</code> did not hold a reference to the object it would be garbage collected.</p>\n"}, {"tags": [], "owner": {"reputation": 2314, "user_id": 1990165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1251b9c56361d84d3fd9558dee3a459d?s=128&d=identicon&r=PG", "display_name": "ODiogoSilva", "link": "https://stackoverflow.com/users/1990165/odiogosilva"}, "is_accepted": false, "score": 5, "last_activity_date": 1429745348, "creation_date": 1429745348, "answer_id": 29810790, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/29810790#29810790", "title": "Different ways of deleting lists", "body": "<pre><code>del a\n</code></pre>\n\n<p>is removing the variable <code>a</code> from the scope. Quoting from <a href=\"https://docs.python.org/2/reference/simple_stmts.html#the-del-statement\" rel=\"noreferrer\">python docs</a>:</p>\n\n<blockquote>\n  <p>Deletion of a name removes the binding of that name from the local or\n  global namespace, depending on whether the name occurs in a global\n  statement in the same code block.</p>\n</blockquote>\n\n<pre><code>del a[:]\n</code></pre>\n\n<p>is simply removing the contents of <code>a</code>, since the deletion is passed to the <code>a</code> object, instead of applied to it. Again from the docs:</p>\n\n<blockquote>\n  <p>Deletion of attribute references, subscriptions and slicings is passed\n  to the primary object involved; deletion of a slicing is in general\n  equivalent to assignment of an empty slice of the right type (but even\n  this is determined by the sliced object).</p>\n</blockquote>\n\n<p>. </p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 25, "last_activity_date": 1429746315, "last_edit_date": 1429746315, "creation_date": 1429745508, "answer_id": 29810816, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/29810816#29810816", "title": "Different ways of deleting lists", "body": "<h2>Test 1</h2>\n\n<pre><code>&gt;&gt;&gt; a = [1,2,3] # set a to point to a list [1, 2, 3]\n&gt;&gt;&gt; b = a # set b to what a is currently pointing at\n&gt;&gt;&gt; a = [] # now you set a to point to an empty list\n\n# Step 1: A --&gt; [1 2 3]\n\n# Step 2: A --&gt; [1 2 3] &lt;-- B\n\n# Step 3: A --&gt; [     ] [1 2 3] &lt;-- B\n\n# at this point a points to a new empty list\n# whereas b points to the original list of a\n</code></pre>\n\n<h2>Test 2</h2>\n\n<pre><code>&gt;&gt;&gt; a = [1,2,3] # set a to point to a list [1, 2, 3]\n&gt;&gt;&gt; b = a # set b to what a is currently pointing at\n&gt;&gt;&gt; del a # delete the reference from a to the list\n\n# Step 1: A --&gt; [1 2 3]\n\n# Step 2: A --&gt; [1 2 3] &lt;-- B\n\n# Step 3:       [1 2 3] &lt;-- B\n\n# so a no longer exists because the reference\n# was destroyed but b is not affected because\n# b still points to the original list\n</code></pre>\n\n<h2>Test 3</h2>\n\n<pre><code>&gt;&gt;&gt; a = [1,2,3] # set a to point to a list [1, 2, 3]\n&gt;&gt;&gt; b = a # set b to what a is currently pointing at\n&gt;&gt;&gt; del a[:] # delete the contents of the original\n\n# Step 1: A --&gt; [1 2 3]\n\n# Step 2: A --&gt; [1 2 3] &lt;-- B\n\n# Step 2: A --&gt; [     ] &lt;-- B\n\n# both a and b are empty because they were pointing \n# to the same list whose elements were just removed  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1429745735, "post_id": 29810830, "comment_id": 47749627, "body": "In point 2 , the list <code>[1,2,3,4]</code> still exists in memory or is sent to GC?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 3, "creation_date": 1429745772, "post_id": 29810830, "comment_id": 47749648, "body": "@letsc it depends on whether there are any <i>other</i> references to it; <code>del a</code> will just remove the name and decrement the reference count of whatever it was pointing to."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429745854, "post_id": 29810830, "comment_id": 47749681, "body": "Yep, that sort of what I was trying to say by <i>so a no longer exists because the reference was destroyed but b is not affected because b still points to the original list</i>. I don&#39;t know if that was very clear."}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1429745902, "post_id": 29810830, "comment_id": 47749691, "body": "..so it still exists in memory even if dint do a <code>a=b</code> before <code>del a</code> ? Isnt that very inefficient especially if I delete a list of size say <code>10**10</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429746001, "post_id": 29810830, "comment_id": 47749724, "body": "Hardcoded values always have a location in memory. Try <code>id(1 - 1)</code> and <code>id(0)</code>. They will have the same id."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429746121, "post_id": 29810830, "comment_id": 47749762, "body": "@MalikBrahimi what do you mean <i>&quot;hardcoded values&quot;</i>? Literals? Small integers are <i>interned</i> in CPython, you should <b>not</b> draw conclusions based on their behaviour alone."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429746223, "post_id": 29810830, "comment_id": 47749805, "body": "Yes, literals. That&#39;s what I mean."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1429746342, "post_id": 29810830, "comment_id": 47749841, "body": "@letsc if <code>a</code> was the <i>only remaining reference</i> to the list (i.e. we didn&#39;t assign <code>b = a</code> or anything similar), then the reference count of the list object will drop to zero and it will be eligible for removal. It isn&#39;t necessarily removed immediately, though. Just leaving it in place isn&#39;t <i>inefficient</i> (it&#39;s already there, so it costs nothing) - moving it before we actually needed the space would be, though!"}, {"owner": {"reputation": 5368, "user_id": 2286508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PEk18.png?s=128&g=1", "display_name": "aldeb", "link": "https://stackoverflow.com/users/2286508/aldeb"}, "edited": false, "score": 0, "creation_date": 1429746449, "post_id": 29810830, "comment_id": 47749869, "body": "For sure the most accurate answer. +1"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429746616, "post_id": 29810830, "comment_id": 47749920, "body": "@jonrsharpe Just check out the article, and I&#39;m glad you linked it. It&#39;s the only way to understand references, I tried making diagrams too."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 1, "creation_date": 1429762041, "post_id": 29810830, "comment_id": 47754619, "body": "Under CPython, most types actually <i>will</i> be collected immediately when the refcount hits zero, though some built-in types might have free lists, interning, etc. to complicate matters.  Anything forming a reference cycle is also a crapshoot since you have to wait for the garbage collector."}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 15, "last_activity_date": 1429746489, "last_edit_date": 1429746489, "creation_date": 1429745570, "answer_id": 29810830, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/29810830#29810830", "title": "Different ways of deleting lists", "body": "<p>Of your three <em>\"ways of deleting Python lists\"</em>, <strong>only one</strong> actually alters the original list object; the other two only affect <em>the name</em>. </p>\n\n<ol>\n<li><code>a = []</code> creates a <em>new list object</em>, and assigns it to the name <code>a</code>.</li>\n<li><code>del a</code> deletes <em>the name</em>, <strong>not</strong> the object it refers to.</li>\n<li><code>del a[:]</code> deletes <em>all references</em> from the list referenced by the name <code>a</code> (although, similarly, it doesn't directly affect the objects that were referenced from the list).</li>\n</ol>\n\n<p>It's probably worth reading <a href=\"http://nedbatchelder.com/text/names.html\">this article</a> on Python names and values to better understand what's going on here.</p>\n"}, {"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1429746197, "post_id": 29810889, "comment_id": 47749795, "body": "The third method doesn&#39;t <i>delete</i> the list, it clears its contents."}, {"owner": {"reputation": 366, "user_id": 4793320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-D6gYfT3vAM8/AAAAAAAAAAI/AAAAAAAAALU/f7PnSLzFD74/photo.jpg?sz=128", "display_name": "Psymunn", "link": "https://stackoverflow.com/users/4793320/psymunn"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429748218, "post_id": 29810889, "comment_id": 47750464, "body": "whoops. yep. there&#39;s still an empty list"}], "tags": [], "owner": {"reputation": 366, "user_id": 4793320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-D6gYfT3vAM8/AAAAAAAAAAI/AAAAAAAAALU/f7PnSLzFD74/photo.jpg?sz=128", "display_name": "Psymunn", "link": "https://stackoverflow.com/users/4793320/psymunn"}, "is_accepted": false, "score": 3, "last_activity_date": 1429748262, "last_edit_date": 1429748262, "creation_date": 1429745856, "answer_id": 29810889, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/29810889#29810889", "title": "Different ways of deleting lists", "body": "<p>Of those three methods, only the third method actually results in deleting the list that 'a' points to. Lets do a quick overview.</p>\n\n<p>When you right <code>a = [1, 2, 3]</code> it creates a list in memory, with the items [1, 2, 3] and then gets 'a' to point to it. When you write <code>b = a</code> this preforms whats' called a 'shallow copy,' i.e. it makes 'b' point to the same block of memory as 'a.' a deep copy would involve copying the contents of the list into a new block of memory, then pointing to that.</p>\n\n<p>now, when you write <code>a = []</code> you are creating a new list with no items in it, and getting 'a' to point to it. the original list still exists, and 'b' is pointing to it.</p>\n\n<p>in the second case, <code>del a</code> deletes the pointer to [1,2,3] and not the array it's self. this means <code>b</code> can still point to it.</p>\n\n<p>lastly, <code>del a[:]</code> goes through the data 'a' is pointing to and empties it's contents. 'a' still exists, so you can use it. 'b' also exists, but it points to the same empty list 'a' does, which is why it gives the same output.</p>\n"}, {"tags": [], "owner": {"reputation": 39119, "user_id": 4921103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227d04c16133b97884d3f671f1ade7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Gupta", "link": "https://stackoverflow.com/users/4921103/rahul-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1436119447, "last_edit_date": 1436119447, "creation_date": 1433529785, "answer_id": 30673636, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists/30673636#30673636", "title": "Different ways of deleting lists", "body": "<p>To understand the difference between different ways of deleting lists, let us see each of them one by one with the help of images.</p>\n\n<pre><code>&gt;&gt;&gt; a1 = [1,2,3]\n</code></pre>\n\n<p>A new list object is created and assigned to <code>a1</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bCIzb.png\" alt=\"i1\"></p>\n\n<pre><code>&gt;&gt;&gt; a2 = a1\n</code></pre>\n\n<p>We assign <code>a1</code> to <code>a2</code>. So, list <code>a2</code> now points to the list object to which <code>a1</code> points to.</p>\n\n<p><img src=\"https://i.stack.imgur.com/tOtpp.png\" alt=\"i2\"></p>\n\n<p><strong>DIFFERENT METHODS EXPLAINED BELOW:</strong>    </p>\n\n<p><strong>Method-1   Using <code>[]</code> :</strong></p>\n\n<pre><code>&gt;&gt;&gt; a1 = []\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/GRYxp.png\" alt=\"i3\"></p>\n\n<p>On assigning an empty list to <code>a1</code>, there is no effect on <code>a2</code>. <code>a2</code> still refers to the same list object but <code>a1</code> now refers to an empty list.</p>\n\n<p><strong>Method-2  Using <code>del [:]</code></strong></p>\n\n<pre><code>&gt;&gt;&gt; del a1[:]\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xBMnn.png\" alt=\"i4\"></p>\n\n<p>This deletes all the contents of the list object which <code>a1</code> was pointing to. <code>a1</code> now points to an empty list. Since <code>a2</code> was also referring to the same list object, it also becomes an empty list.</p>\n\n<p><strong>Method-3 Using <code>del a1</code></strong></p>\n\n<pre><code>&gt;&gt;&gt; del a1\n&gt;&gt;&gt; a1\nNameError: name 'a1' is not defined\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/mrULe.png\" alt=\"i5\"></p>\n\n<p>This deletes the variable <code>a1</code> from the scope. Here, just the variable <code>a1</code> is removed, the original list is still present in the memory. <code>a2</code> still points to that original list which <code>a1</code> used to point to. If we now try to access <code>a1</code>, we will get a <code>NameError</code>.</p>\n"}], "owner": {"reputation": 397, "user_id": 2278546, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a0e8572173b99a33b67c7be2dace21fb?s=128&d=identicon&r=PG", "display_name": "grasswistle", "link": "https://stackoverflow.com/users/2278546/grasswistle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 5, "accepted_answer_id": 29810816, "answer_count": 6, "score": 35, "last_activity_date": 1436119447, "creation_date": 1429744464, "last_edit_date": 1495541385, "question_id": 29810632, "link": "https://stackoverflow.com/questions/29810632/different-ways-of-deleting-lists", "title": "Different ways of deleting lists", "body": "<p>I want to understand why:</p>\n\n<ul>\n<li><code>a = []</code>;</li>\n<li><code>del a</code>; and</li>\n<li><code>del a[:]</code>;</li>\n</ul>\n\n<p>behave so differently.</p>\n\n<p>I ran a test for each to illustrate the differences I witnessed:</p>\n\n<pre><code>&gt;&gt;&gt; # Test 1: Reset with a = []\n... \n&gt;&gt;&gt; a = [1,2,3]\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; a = []\n&gt;&gt;&gt; a\n[]\n&gt;&gt;&gt; b\n[1, 2, 3]\n&gt;&gt;&gt; \n&gt;&gt;&gt; # Test 2: Reset with del a\n... \n&gt;&gt;&gt; a = [1,2,3]\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; del a\n&gt;&gt;&gt; a\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'a' is not defined\n&gt;&gt;&gt; b\n[1, 2, 3]\n&gt;&gt;&gt; \n&gt;&gt;&gt; # Test 3: Reset with del a[:]\n... \n&gt;&gt;&gt; a = [1,2,3]\n&gt;&gt;&gt; b = a\n&gt;&gt;&gt; del a[:]\n&gt;&gt;&gt; a\n[]\n&gt;&gt;&gt; b\n[]\n</code></pre>\n\n<p>I did find <a href=\"https://stackoverflow.com/questions/850795/clearing-python-lists\">Different ways of clearing lists</a>, but I didn't find an explanation for the differences in behaviour. Can anyone clarify this?</p>\n"}, {"tags": ["python", "python-2.7", "urllib2", "urllib3"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4466078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d220445fabfb13f427be7d31b9cfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Wilson", "link": "https://stackoverflow.com/users/4466078/steven-wilson"}, "edited": false, "score": 0, "creation_date": 1429748445, "post_id": 29811096, "comment_id": 47750531, "body": "Thanks is it possible to GET the data from 3 different URLs but the server not being aware?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1429749028, "post_id": 29811096, "comment_id": 47750733, "body": "The server has to be aware of the URLs it is serving, otherwise how would it serve them?"}, {"owner": {"reputation": 37, "user_id": 4466078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d220445fabfb13f427be7d31b9cfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Wilson", "link": "https://stackoverflow.com/users/4466078/steven-wilson"}, "edited": false, "score": 0, "creation_date": 1429784715, "post_id": 29811096, "comment_id": 47767524, "body": "I was hoping of a way around it. Is it therefore possible to open a connection to a website and have a continous GET? An example website once you browse to the page some of the data in the page updates automatically without refreshing the page is it possible to simulate this in python?"}, {"owner": {"reputation": 13985, "user_id": 187878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c355dd26a5f80e1605d2ff1ecb6e719e?s=128&d=identicon&r=PG", "display_name": "shazow", "link": "https://stackoverflow.com/users/187878/shazow"}, "edited": false, "score": 0, "creation_date": 1429825633, "post_id": 29811096, "comment_id": 47796607, "body": "It&#39;s not a limitation of the client but rather the design of the HTTP protocol. As long as you&#39;re speaking HTTP, each request is interpreted separately by the server and will be logged accordingly. If that is a problem, then you need to use a different protocol with a different kind of server. :)"}], "tags": [], "owner": {"reputation": 13985, "user_id": 187878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c355dd26a5f80e1605d2ff1ecb6e719e?s=128&d=identicon&r=PG", "display_name": "shazow", "link": "https://stackoverflow.com/users/187878/shazow"}, "is_accepted": false, "score": 2, "last_activity_date": 1429747050, "creation_date": 1429747050, "answer_id": 29811096, "question_id": 29810631, "link": "https://stackoverflow.com/questions/29810631/get-html-data-from-multiple-urls-on-website-in-one-connection/29811096#29811096", "title": "GET html data from multiple urls on website in one connection", "body": "<blockquote>\n  <p>Would the website see this as 3 seperate GET requests and therefore 3 \"hits\" to the site or would it see the socket connection and see it as 1 \"hit\" to the page?</p>\n</blockquote>\n\n<p>Yes, even if you reuse socket connections, it is still 3 distinct requests (over one socket). The server's access log will show 3 requests regardless of how many connections you've used.</p>\n\n<p>The benefit of reusing connections is that creating a new TCP socket and negotiating the handshake with the server is a relatively expensive procedure. It can sometimes take more time to do that than retrieve the HTTP response body itself. By reusing a connection, you can skip that part after the first request.</p>\n"}], "owner": {"reputation": 37, "user_id": 4466078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d220445fabfb13f427be7d31b9cfe5?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Wilson", "link": "https://stackoverflow.com/users/4466078/steven-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429747050, "creation_date": 1429744461, "last_edit_date": 1429745196, "question_id": 29810631, "link": "https://stackoverflow.com/questions/29810631/get-html-data-from-multiple-urls-on-website-in-one-connection", "title": "GET html data from multiple urls on website in one connection", "body": "<p>I have a python script that takes in an input of a few urls. My script loops through each of these urls and prints out the htmltext from each page. Would the website see this as 3 seperate GET requests and therefore 3 \"hits\" to the site or would it see the socket connection and see it as 1 \"hit\" to the page?</p>\n\n<p>I think it's the first option by checking the debug, if so, is it possible to GET data from multiple URLs on the same site but the site to only see this as 1 \"hit\" to the site? Can I utilise the keep-alive functionality to achieve this in urllib3?</p>\n\n<p>My script is below:</p>\n\n<pre><code>for u in url:\n    opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))\n    req = urllib2.Request(u)\n    req.add_header('User-Agent','Mozilla/5.0')\n    print urllib2.build_opener(urllib2.HTTPHandler(debuglevel=1)).open(req)\n    resp = opener.open(req)\n    htmltext = resp.read()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "math"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1429745162, "post_id": 29810620, "comment_id": 47749418, "body": "Complete, working code that you&#39;re interested in improving belongs on Code Review, not Stack Overflow."}, {"owner": {"reputation": 123, "user_id": 2555238, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/o05p3.jpg?s=128&g=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/2555238/ani"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429745285, "post_id": 29810620, "comment_id": 47749467, "body": "I&#39;d be happy to learn different solution as well. I&#39;m not just looking for answers to improve my solution."}], "answers": [{"tags": [], "owner": {"reputation": 2824, "user_id": 1988604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99fbe9a1ffa88131a56b2df542379aa?s=128&d=identicon&r=PG", "display_name": "wookie919", "link": "https://stackoverflow.com/users/1988604/wookie919"}, "is_accepted": false, "score": 3, "last_activity_date": 1429763389, "last_edit_date": 1429763389, "creation_date": 1429762624, "answer_id": 29813567, "question_id": 29810620, "link": "https://stackoverflow.com/questions/29810620/optimized-way-for-finding-the-number-which-satisfies-specific-conditions/29813567#29813567", "title": "Optimized way for finding the number which satisfies specific conditions", "body": "<p>You can go further than to simply say that digits of 8 or 9 are impossible.</p>\n\n<p>Can the last digit ever be greater than 0? The answer is no. If the last digit was 1, this means there is one 7 somewhere else. However, if there is a 7, it means that the same number has occurred 7 times. This is clearly impossible. Thus the last digit has to be 0.</p>\n\n<p>So we have xxxxxxx0.</p>\n\n<p>What about the second to last digit?</p>\n\n<p>If xxxxxx10, then there has to be at least one 6, which means the same number occurred 6 times. We can try 60000010, but this is incorrect, because there is a 1, which should be reflected in the second digit. The second to last digit can't be higher than 1 because 2 means there are 2 sixes, which in turn means one number occurred six times while another number also occurred 6 times, which is impossible.</p>\n\n<p>So we have xxxxxx00.</p>\n\n<p>If xxxxx100, then there has to be at least one 5, which means the same number occurred 5 times. Let us start with 51000100. Almost, but there are now 2 1s. So it should be 52000100. But wait, there are now one 1. and one 2. So we try 52100100. But now we only have 4 0s. We can't have xxxxx200 because this means there are 2 5s, which is impossible as explained above.</p>\n\n<p>So we have xxxxx000.</p>\n\n<p>If xxxx1000, we can try 40001000, nope, 41001000, nope, 42101000.</p>\n\n<p>Ah there it is. 42101000.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 2555238, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/o05p3.jpg?s=128&g=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/2555238/ani"}, "edited": false, "score": 0, "creation_date": 1429900589, "post_id": 29814030, "comment_id": 47835912, "body": "Even I check for the &quot;sum&quot; condition on my code, but takes more than a minute to find. Maybe because the condition is within the loop. But this is cool."}], "tags": [], "owner": {"reputation": 44047, "user_id": 1400793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VxVK.png?s=128&g=1", "display_name": "Paul Hankin", "link": "https://stackoverflow.com/users/1400793/paul-hankin"}, "is_accepted": true, "score": 1, "last_activity_date": 1429766061, "last_edit_date": 1429766061, "creation_date": 1429765108, "answer_id": 29814030, "question_id": 29810620, "link": "https://stackoverflow.com/questions/29810620/optimized-way-for-finding-the-number-which-satisfies-specific-conditions/29814030#29814030", "title": "Optimized way for finding the number which satisfies specific conditions", "body": "<p>Even if you iterate over all 8 digit numbers with no 8s or 9s in them, there's not many possibilities (actually, 8^8 = 1&lt;&lt;24 ~= 17 million).</p>\n\n<p>Here's a naive program that tries them all:</p>\n\n<pre><code>import itertools\n\nfor digs in itertools.product(range(8), repeat=8):\n    counts = [0] * 8\n    for d in digs:\n        counts[d] += 1\n    if counts == list(digs):\n        print digs\n</code></pre>\n\n<p>It completes (with exactly one solution) in 15 seconds on my machine.</p>\n\n<p>To make it faster, you can only consider 8-digit numbers whose digits add up to 8. Here's the same code as before, but now it uses <code>sum_k</code> to produce the possibilities. (<code>sum_k(n, k)</code> generates all <code>n</code>-digit tuples where all the digits are less than 8 which sum to <code>k</code>).</p>\n\n<pre><code>def sum_k(n, k):\n    if k &lt; 0 or n * 7 &lt; k: return\n    if n == 1:\n        yield k,\n        return\n    for d in xrange(8):\n        for s in sum_k(n-1, k-d):\n            yield (d,) + s\n\nfor digs in sum_k(8, 8):\n    counts = [0] * 8\n    for d in digs:\n        counts[d] += 1\n    if counts == list(digs):\n        print digs\n</code></pre>\n\n<p>This code completes in 0.022 seconds on my machine.</p>\n\n<p>Adapting the code to solve the general case produces these solutions:</p>\n\n<pre><code>1210\n2020\n21200\n3211000\n42101000\n521001000\n6210001000\n72100001000\n821000001000\n9210000001000\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 2555238, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/o05p3.jpg?s=128&g=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/2555238/ani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 29814030, "answer_count": 2, "score": 4, "last_activity_date": 1429766061, "creation_date": 1429744418, "question_id": 29810620, "link": "https://stackoverflow.com/questions/29810620/optimized-way-for-finding-the-number-which-satisfies-specific-conditions", "title": "Optimized way for finding the number which satisfies specific conditions", "body": "<p>I saw this question somewhere. \nThere is a 8 digit number. First digit from left to right tells how many zeroes in the number. Second digit tells you how many 1s in the number, third digit tells u how many 2 in the number and so on till 8th digit which tells u how many 7 in the number. Find the number.\nSo I wrote a piece of code in python to find out the digit. Apart from the conditions mentioned above, I have few additional checks like 'sum of digits should be 8' and 'no 8 or 9 should be present in the number'. I've pasted the code below. This is just brute force since  I take every number and check for conditions. I was curious to know if there is any better way of solving the problem</p>\n\n<pre><code>def returnStat(number, digit, count):\n    number = str(number)    \n    digit = str(digit)\n    print \"Analysing for \",digit,\" to see if it appears \",count, \" times in \",number,\".\"        \n    actCnt = number.count(digit)\n    count = str(count)\n    actCnt = str(actCnt)\n    if (actCnt == count):\n        return 1\n    else:\n        return 0\n\ndef validateNum(number):\n    numList = str(number)\n    if '8' in numList:\n        print \"Skipping \",number, \" since it has 8 in it\"\n        return (-1)\n    elif '9' in numList:\n        print \"Skipping \",number, \" since it has 9 in it\"\n        return (-1)\n    elif (sum(int(digit) for digit in numList) != 8):\n        print \"Skipping \",number, \" since its sum is not equal to 8\"\n        return (-1)\n    index = 0\n    flag = 0\n    for num in numList:\n        if (returnStat(number,index,num)) :\n            index = index+1\n            continue\n        else:\n            flag = 1\n            break \nif (flag == 1):\n    return (-1)\nelse:\n    return number\n\nfor num in range(0,80000000):\nnumber = '{number:0{width}d}'.format(width=8,number=num)\n\ndesiredNum = \"-1\"\ndesiredNum = validateNum(number)\nif (desiredNum == -1):\n    print number,\" does not satisfy all \"\n    continue\nelse:\n    print \"The number that satisfies all contition is \",number\n    break\n</code></pre>\n"}, {"tags": ["python", "pyopencl"], "answers": [{"tags": [], "owner": {"reputation": 2785, "user_id": 1965323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219a804e104c5480d3235554de824fdf?s=128&d=identicon&r=PG", "display_name": "hunse", "link": "https://stackoverflow.com/users/1965323/hunse"}, "is_accepted": true, "score": 3, "last_activity_date": 1484844482, "last_edit_date": 1495541402, "creation_date": 1484844482, "answer_id": 41747286, "question_id": 29810613, "link": "https://stackoverflow.com/questions/29810613/how-to-check-if-gpu-memory-is-available-using-pyopencl/41747286#41747286", "title": "How to check if GPU memory is available using PyOpenCL", "body": "<p>This is not possible, and is actually a limitation of OpenCL, not just PyOpenCL. See <a href=\"https://stackoverflow.com/questions/3568115/how-do-i-determine-available-device-memory-in-opencl\">here</a>.</p>\n\n<p>On NVIDIA devices, you can use <a href=\"https://pypi.python.org/pypi/nvidia-ml-py\" rel=\"nofollow noreferrer\">nvidia-ml-py</a>. Then you can do something like this:</p>\n\n<pre><code>from pynvml import *\nnvmlInit()\nfor i in range(nvmlDeviceGetCount()):\n    handle = nvmlDeviceGetHandleByIndex(i)\n    meminfo = nvmlDeviceGetMemoryInfo(handle)\n    print(\"%s: %0.1f MB free, %0.1f MB used, %0.1f MB total\" % (\n        nvmlDeviceGetName(handle),\n        meminfo.free/1024.**2, meminfo.used/1024.**2, meminfo.total/1024.**2))\nnvmlShutdown()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10402000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2a35e22f3f11e3b524fbab284e58a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/10402000/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1537650230, "creation_date": 1537650230, "answer_id": 52460855, "question_id": 29810613, "link": "https://stackoverflow.com/questions/29810613/how-to-check-if-gpu-memory-is-available-using-pyopencl/52460855#52460855", "title": "How to check if GPU memory is available using PyOpenCL", "body": "<p>I tried using the above answer with python3 and I did not work, however I was able to work around that using the following code.</p>\n\n<pre><code>from py3nvml.py3nvml import *\nnvmlInit()\ndeviceCount = nvmlDeviceGetCount()\nfor i in range(deviceCount):\n    handle = nvmlDeviceGetHandleByIndex(i)\n    gpuUtilization = nvmlDeviceGetUtilizationRates(handle)\n    print(f'{nvmlDeviceGetName(handle)} Utilization: {gpuUtilization.gpu}% Memory: {gpuUtilization.memory}%')\nnvmlShutdown()\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 4084714, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-J6ayi69udVw/AAAAAAAAAAI/AAAAAAAAAEE/86sxlT5a6qY/photo.jpg?sz=128", "display_name": "johnny_be", "link": "https://stackoverflow.com/users/4084714/johnny-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2145, "favorite_count": 0, "accepted_answer_id": 41747286, "answer_count": 2, "score": 8, "last_activity_date": 1537650230, "creation_date": 1429744393, "question_id": 29810613, "link": "https://stackoverflow.com/questions/29810613/how-to-check-if-gpu-memory-is-available-using-pyopencl", "title": "How to check if GPU memory is available using PyOpenCL", "body": "<p>I would like to know if there is a way to check how much GPU memory is available before a function uses it. I have code that often uses 1.5 GB of GPU memory or more, and if something else is using the GPU when my program wants to use it, I get a <code>MemoryError</code> exception or something similar.</p>\n\n<p>I would like to implement some sort of code so that I can check to see if the GPU has enough memory available, and if it does, go ahead and run, but if not, wait until it IS available.</p>\n\n<p>(Preferably, I would like to check before trying to use the GPU rather than using a try-except loop and just retrying if it fails)</p>\n\n<p>I checked the PyOpenCL documentation to see if there was something relevant under <a href=\"http://documen.tician.de/pyopencl/runtime.html#pyopencl.device_info\" rel=\"noreferrer\">device_info</a>, but I couldn't find any actual descriptions.</p>\n"}, {"tags": ["python", "xml", "save", "python-requests", "parsexml"], "comments": [{"owner": {"reputation": 26589, "user_id": 1032785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/30816b3d787c2bd9d6f036318304f225?s=128&d=identicon&r=PG", "display_name": "jordanm", "link": "https://stackoverflow.com/users/1032785/jordanm"}, "edited": false, "score": 4, "creation_date": 1429744350, "post_id": 29810572, "comment_id": 47749136, "body": "<code>file.open(&#39;foo.xml&#39;).write(r.text)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1429744956, "post_id": 29810645, "comment_id": 47749334, "body": "Thanks, I&#39;m looking at the documentation now, really helpful. Sorry, don&#39;t have the reputation to upvote you."}, {"owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "reply_to_user": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1429745078, "post_id": 29810645, "comment_id": 47749382, "body": "@JulioMontes if the answer is sufficient, you may mark it as accepted by clicking the tick next to the voting buttons. If you need extra help or hints, comment below and I&#39;ll help you out. Or you can wait it out a bit to see what other answers come up :)"}, {"owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1429745489, "post_id": 29810645, "comment_id": 47749540, "body": "Well, I&#39;m going to keep this open (not sure if thats allowed) and do some digging myself and see how much further I get, don&#39;t want it all handed to me, I appreciate it though."}, {"owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1430504476, "post_id": 29810645, "comment_id": 48104740, "body": "I was wondering if there is a way for me to get the response and be able to choose what to print. I know when its <code>tree = ET.parse(r.text)</code> the response is the whole XML. However, I want to be selective. I tried just using <code>tree = ET.parse(r)</code> but I must be missing something."}, {"owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "reply_to_user": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1430512676, "post_id": 29810645, "comment_id": 48108970, "body": "@juliomontes do you have an example? Do you mean like a particular child tag for instance?"}, {"owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1430668019, "post_id": 29810645, "comment_id": 48149121, "body": "yes, i&#39;m trying to show only the values of the tags and not the whole xml file.   <code>&lt;Assets total=&quot;157&quot; pageSize=&quot;2147483647&quot; pageStart=&quot;0&quot;&gt;     &lt;Asset href=&quot;url1&quot; id=&quot;Epic:45919&quot;&gt;         &lt;Attribute name=&quot;Name&quot;&gt;Project X&lt;&#47;Attribute&gt;         &lt;Attribute name=&quot;Scope.Name&quot;&gt;Site Management&lt;&#47;Attribute&gt;         &lt;Attribute name=&quot;Owners.Name&quot;&gt;             &lt;Value&gt;Stacey&lt;&#47;Value&gt;         &lt;&#47;Attribute&gt;     &lt;&#47;Asset&gt; &lt;&#47;Assets&gt;</code>   This is an example of the XML response that I get. I&#39;m not sure how to print it, I&#39;ve been trying: <code>for Asset in root:     print child.tag, child.attrib</code> but doesn&#39;t work."}, {"owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "edited": false, "score": 1, "creation_date": 1430668242, "post_id": 29810645, "comment_id": 48149208, "body": "Sorry, the above looks like a mess, but mainly I think it&#39;s that I&#39;m trying to call all the child values in root. For example, Name, Scope.Name, and Owners.Name, etc. Not sure if it makes any sense."}, {"owner": {"reputation": 167, "user_id": 2809519, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/kXID9.jpg?s=128&g=1", "display_name": "Ravi Chandra Durvasula", "link": "https://stackoverflow.com/users/2809519/ravi-chandra-durvasula"}, "edited": false, "score": 0, "creation_date": 1511881171, "post_id": 29810645, "comment_id": 82025877, "body": "Are you able to figure out the solution to print only selected child? I am in need of that"}], "tags": [], "owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "is_accepted": true, "score": 20, "last_activity_date": 1429744551, "creation_date": 1429744551, "answer_id": 29810645, "question_id": 29810572, "link": "https://stackoverflow.com/questions/29810572/save-xml-response-from-get-call-using-python/29810645#29810645", "title": "Save XML response from GET call using Python", "body": "<p>If you want to be able to parse the returned XML before doing stuff with it, the <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html#parsing-xml\" rel=\"noreferrer\">xml tree</a> is your friend.</p>\n\n<pre><code>import requests\nimport xml.etree.ElementTree as ET\n\nr = requests.get('url',  auth=('user', 'pass'))\ntree = ET.parse(r.text)\nroot = tree.getroot()\n</code></pre>\n\n<p>Otherwise, as jordanm has commented, you could just save it to a file and be done with it.</p>\n\n<pre><code>with open('data.xml', 'w') as f:\n    f.write(r.text)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 4355394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKUOg.jpg?s=128&g=1", "display_name": "j5awry", "link": "https://stackoverflow.com/users/4355394/j5awry"}, "is_accepted": false, "score": 10, "last_activity_date": 1530107442, "creation_date": 1530107442, "answer_id": 51064559, "question_id": 29810572, "link": "https://stackoverflow.com/questions/29810572/save-xml-response-from-get-call-using-python/51064559#51064559", "title": "Save XML response from GET call using Python", "body": "<p>Few notes related to Python3 (at least 3.6 versions):</p>\n\n<p>1) when using xml.etree.ElementTree with requests, you use fromstring not parse. r.text returns a string, and xml.etree.ElementTree.parse is for files</p>\n\n<pre><code>import requests\nimport xml.etree.ElementTree as ET\n\nr = requests.get(\"https://xml.returning.uri\")\nroot = ET.fromstring(r.text)\n</code></pre>\n\n<p>2) This creates an element object as the root (no more tree). So to write it back out, you'll need to make it a tree:</p>\n\n<pre><code>tree = ET.ElementTree(root)\ntree.write(\"file.xml\")\n</code></pre>\n\n<p>From the docs</p>\n\n<blockquote>\n  <p>xml.etree.ElementTree.parse(source, parser=None)\n  Parses an XML section into an element tree. source is a filename or file object containing XML data.</p>\n  \n  <p>xml.etree.ElementTree.fromstring(text)\n  Parses an XML section from a string constant. Same as XML(). text is a string containing XML data. Returns an Element instance</p>\n</blockquote>\n"}], "owner": {"reputation": 61, "user_id": 4821590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03be7d0a28bcb53c9c9579b46f3a016?s=128&d=identicon&r=PG&f=1", "display_name": "Julio Montes", "link": "https://stackoverflow.com/users/4821590/julio-montes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36530, "favorite_count": 0, "accepted_answer_id": 29810645, "answer_count": 2, "score": 6, "last_activity_date": 1530107442, "creation_date": 1429744117, "last_edit_date": 1495542883, "question_id": 29810572, "link": "https://stackoverflow.com/questions/29810572/save-xml-response-from-get-call-using-python", "title": "Save XML response from GET call using Python", "body": "<p>I'm trying to create a realtime report using an API that allows me to grab the data I need and returns it in XML format. What I want to know is, after receiving the response, how can I save it to an .xml file locally? Or cache it, that way I can parse it before parsing the response.</p>\n\n<pre><code>import requests\nr = requests.get('url',  auth=('user', 'pass'))\n</code></pre>\n\n<p>I'm using requests since it's the easiest way to make a GET call in my opinion. Also, this is my first question and I'm barely starting to learn Python, I'd appreciate it if you guys had a little patience. Thanks. </p>\n\n<p>I was looking at a similar question but for JSON, not sure if it would work the same, <a href=\"https://stackoverflow.com/a/17519020/4821590\">https://stackoverflow.com/a/17519020/4821590</a></p>\n\n<pre><code>import requests\nimport json\nsolditems = requests.get('https://github.com/timeline.json') # (your url)\ndata = solditems.json()\nwith open('data.json', 'w') as f:\n    json.dump(data, f)\n</code></pre>\n"}, {"tags": ["python", "file", "sorting", "text-files"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 4, "creation_date": 1429743888, "post_id": 29810515, "comment_id": 47748969, "body": "Please put code here instead of linking images"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429744444, "post_id": 29810515, "comment_id": 47749166, "body": "<code>readlines()</code> <code>return</code>s a <code>list</code> instead of modifying the file iterator in place, so that&#39;s a start."}, {"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429744961, "post_id": 29810515, "comment_id": 47749337, "body": "As a general advice, you&#39;ll want to avoid reading/writing your file only when absolutely necessary. This is because disk operations are so much slower than memory operations. Read the file once, manipulate all your data, and then write the file back. Although if you only want to &quot;print&quot;, you don&#39;t even need to write the file back!"}], "answers": [{"comments": [{"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 1, "creation_date": 1429744803, "post_id": 29810661, "comment_id": 47749284, "body": "Other answers are great, but this one is written in a way the OP will most likely understand better, +1."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "reply_to_user": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429745517, "post_id": 29810661, "comment_id": 47749549, "body": "cool about the no-param split, didn&#39;t know that.  much nicer than my if foo.strip()"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 1, "creation_date": 1429745724, "post_id": 29810661, "comment_id": 47749621, "body": "should just use <code>highest = max(grades)</code> instead."}, {"owner": {"reputation": 47, "user_id": 3350669, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/193539e872feb6461d86202be09ced2a?s=128&d=identicon&r=PG&f=1", "display_name": "user3350669", "link": "https://stackoverflow.com/users/3350669/user3350669"}, "edited": false, "score": 0, "creation_date": 1429746879, "post_id": 29810661, "comment_id": 47750005, "body": "Thank you! But, I still get quite a few errors with my code, because the field is out of range?"}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1429750854, "post_id": 29810661, "comment_id": 47751287, "body": "&quot;out of range&quot; as in IndexError?  are you by any chance having blank lines? need to account for those if you do. post your output.  you can also do this around code:  try: &lt;your code lines&gt; except Exception, e:  import pdb  pdb.set_trace().  that will bring up the debugger on an exception and you can nose around"}, {"owner": {"reputation": 47, "user_id": 3350669, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/193539e872feb6461d86202be09ced2a?s=128&d=identicon&r=PG&f=1", "display_name": "user3350669", "link": "https://stackoverflow.com/users/3350669/user3350669"}, "edited": false, "score": 0, "creation_date": 1429752088, "post_id": 29810661, "comment_id": 47751665, "body": "name, grades = fields[0], map(fields[1:]) IndexError: list index out of range There is no blank lines in the file itself, and this is the text that appears in the python shell"}], "tags": [], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "is_accepted": true, "score": 2, "last_activity_date": 1429745831, "last_edit_date": 1429745831, "creation_date": 1429744647, "answer_id": 29810661, "question_id": 29810515, "link": "https://stackoverflow.com/questions/29810515/how-to-sort-specific-info-in-a-file/29810661#29810661", "title": "How to sort specific info in a file", "body": "<p>whoa, you seem to be doing things a bit too complicated.</p>\n\n<p>This is a rough idea.</p>\n\n<pre><code>#this will get your folks in alpha\nlines = f.readlines()\nlines.sort()\n\n#now, on each line, you want to split (that attrgetter is too complicated and\n#blows up if &lt;&gt; 3 grades.\n\n# use the special feature of split() with no parameter to remove all spaces and \\t characters\nfields = line.split()\nname, grades = fields[0], fields[1:]\n\n#cast your grades to integers  \ngrades = [int(grade) for grade in grades]\n\n#sort and pick the last one\ngrades.sort()\nhighest = grades[-1]\n\n#or... use max as suggested\nhighest = max(grades)\n\n#write to output file....\n</code></pre>\n\n<p>another piece of advice, use open with context managers for your files, they can be nested. closing resources is a major component of well-behaved pgms.</p>\n\n<pre><code>with open(\"/temp/myinput.txt\",\"r\") as fi:\n    ....\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "is_accepted": false, "score": 0, "last_activity_date": 1429745658, "last_edit_date": 1429745658, "creation_date": 1429744661, "answer_id": 29810665, "question_id": 29810515, "link": "https://stackoverflow.com/questions/29810515/how-to-sort-specific-info-in-a-file/29810665#29810665", "title": "How to sort specific info in a file", "body": "<p>Once you have your lines in a sorted list try this:</p>\n\n<pre><code>output = [\"{} {}\".format(i[0], max(i[1:], key=int)) for i in lines]\n\nfor i in output:\n    print i\n\nJill 22\nJohn 21\nTim 22\nZack 19\n</code></pre>\n\n<p><code>output</code> is a list created using a <a href=\"http://www.pythonforbeginners.com/basics/list-comprehensions-in-python\" rel=\"nofollow\">list comprehension</a>.</p>\n\n<p>The curly brackets('<code>{}</code>') are replaced by the arguments passed to <code>str.format()</code>. The <code>str</code> in this case being <code>\"{} {}\"</code></p>\n\n<p>The <code>max</code> function takes a keyword argument 'key', as seen above, which lets you specify a function to apply to each item in the iterable given to <code>max</code>(The iterable in this case being i[1:]). I used <code>int</code> because all the the items in the list were strings(containing numbers), and had to be converted to <code>int</code>s.</p>\n"}, {"tags": [], "owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "is_accepted": false, "score": 0, "last_activity_date": 1429744676, "creation_date": 1429744676, "answer_id": 29810666, "question_id": 29810515, "link": "https://stackoverflow.com/questions/29810515/how-to-sort-specific-info-in-a-file/29810666#29810666", "title": "How to sort specific info in a file", "body": "<p>This is quite easy to do with some builtin functions and an interation:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>#!/usr/bin/env python\n\n\nfrom operator import itemgetter\n\n\nscores = \"\"\"\\\nJohn\\t12\\t13\\t21\\n\nZack\\t14\\t19\\t12\\n\nTim\\t18\\t22\\t8\\n\nJill\\t13\\t3\\t22\"\"\"\n\n\ndatum = [x.split(\"\\t\") for x in filter(None, scores.split(\"\\n\"))]\nfor data in sorted(datum, key=itemgetter(0)):\n    name, scores = data[0], map(int, data[1:])\n    max_score = max(scores)\n    print \"{0:s} {1:d}\".format(name, max_score)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$ python -i scores.py \nJill 22\nJohn 21\nTim 22\nZack 19\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1429751437, "last_edit_date": 1429751437, "creation_date": 1429751033, "answer_id": 29811746, "question_id": 29810515, "link": "https://stackoverflow.com/questions/29810515/how-to-sort-specific-info-in-a-file/29811746#29811746", "title": "How to sort specific info in a file", "body": "<p>There are distinctly two tasks:</p>\n\n<ol>\n<li>keep only the top score</li>\n<li>sort lines by name alphabetically</li>\n</ol>\n\n<p>Here's a standalone script that removes all scores from each line except the highest one:</p>\n\n<pre><code>#!/usr/bin/env python3\nimport sys\nimport fileinput\n\ntry:\n    sys.argv.remove('--inplace') # don't modify file(s) unless asked\nexcept ValueError:\n    inplace = False\nelse:\n    inplace = True # modify the files given on the command line\n\nif len(sys.argv) &lt; 2:\n    sys.exit('Usage: keep-top-score [--inplace] &lt;file&gt;')\n\nfor line in fileinput.input(inplace=inplace):\n    name, *scores = line.split() # split on whitespace (not only tab)\n    if scores:\n        # keep only the top score\n        top_score = max(scores, key=int)\n        print(name, top_score, sep='\\t')\n    else:\n        print(line, end='') # print as is\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>$ python3 keep_top_score.py class6Afile.txt\n</code></pre>\n\n<hr>\n\n<p>To print the lines sorted by name:</p>\n\n<pre><code>$ sort -k1 class6Afile.txt\n</code></pre>\n\n<p>The result of the <code>sort</code> command depends on your current locale e.g., you could use <code>LC_ALL=C</code> to sort by byte values.</p>\n\n<p>Or if you want Python solution:</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nfrom io import open\n\nfilename = sys.argv[1] \nwith open(filename) as file:\n    lines = file.readlines() # read lines\n\n# sort by name\nlines.sort(key=lambda line: line.partition('\\t')[0])\n\nwith open(filename, 'w') as file:\n    file.writelines(lines) # write the sorted lines\n</code></pre>\n\n<p>The names are sorted as Unicode text here. You could provide the explicit character encoding used in the file otherwise the default (based on your locale) encoding is used.</p>\n\n<p>Example:</p>\n\n<pre><code>$ python sort_inplace_by_name.py class6Afile.txt\n</code></pre>\n\n<h3>Result</h3>\n\n<pre><code>Jill    22\nJohn    21\nTim 22\nZack    19\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3350669, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/193539e872feb6461d86202be09ced2a?s=128&d=identicon&r=PG&f=1", "display_name": "user3350669", "link": "https://stackoverflow.com/users/3350669/user3350669"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 29810661, "answer_count": 4, "score": 3, "last_activity_date": 1431278399, "creation_date": 1429743847, "last_edit_date": 1495541193, "question_id": 29810515, "link": "https://stackoverflow.com/questions/29810515/how-to-sort-specific-info-in-a-file", "title": "How to sort specific info in a file", "body": "<p>I have a pre-made text file that has peoples names and scores in it. They each have three scores, each separated by a tab.</p>\n\n<pre><code>John    12    13    21\nZack    14    19    12\nTim     18    22    8\nJill    13    3     22\n</code></pre>\n\n<p>Now, my goal is to sort the names alphabetically with only the highest score displayed. To look like this:</p>\n\n<pre><code>Jill   22\nJohn   21\nTim    18\nZack   19\n</code></pre>\n\n<p>Once the file has been sorted, I want to print it on the python shell. I have defined the code because I am going to implement it into my other code that I have created.</p>\n\n<pre><code>from operator import itemgetter\n\ndef highscore():\n    file1 = open(\"file.txt\",\"r\")\n    file1.readlines()\n    score1 = file1(key=itemgetter(1))\n    score2 = file1(key=itemgetter(2))\n    score3 = file1(key=itemgetter(3))\n\n\ndef class1alphabetical():\n    with open('file.txt') as file1in:\n        lines = [line.split('/t') for line in file1in]\n        lines.sort()\n    with open('file.txt', 'w') as file1out:\n        for el in lines:\n            file1out.write('{0}\\n'.format(' '.join(el)))\n    with open('file.txt','r') as fileqsort:\n        for line in file1sort:\n            print(line[:-1])\n        file1sort.close\n\nclassfilealphabetical()\n</code></pre>\n\n<p>I have used info from other questions such as: <a href=\"https://stackoverflow.com/questions/28106379/sorting-information-from-a-file-in-python?rq=1\">Sorting information from a file in python</a> and <a href=\"https://stackoverflow.com/questions/13528800/python-sort-file-by-arbitrary-column-where-column-contains-time-values\">Python : Sort file by arbitrary column, where column contains time values</a> </p>\n\n<p>However, I am still stuck on what to do now.</p>\n"}, {"tags": ["python", "try-except"], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 1079391, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dHxf6.jpg?s=128&g=1", "display_name": "MaxQ", "link": "https://stackoverflow.com/users/1079391/maxq"}, "edited": false, "score": 0, "creation_date": 1429744083, "post_id": 29810547, "comment_id": 47749034, "body": "So try/except is strictly for errors coming from the language in that sense (and should not be used in this context)?"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 579, "user_id": 1079391, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dHxf6.jpg?s=128&g=1", "display_name": "MaxQ", "link": "https://stackoverflow.com/users/1079391/maxq"}, "edited": false, "score": 0, "creation_date": 1429744225, "post_id": 29810547, "comment_id": 47749084, "body": "@MikeFoxtrot: From exceptional circumstances in the code. A simple comparison isn&#39;t exceptional."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": true, "score": 3, "last_activity_date": 1429743973, "creation_date": 1429743973, "answer_id": 29810547, "question_id": 29810514, "link": "https://stackoverflow.com/questions/29810514/python-try-except-why-does-it-not-catch-it/29810547#29810547", "title": "Python Try-Except: Why does it not catch it?", "body": "<p>Because no exception is raised. Use an <code>if</code> statement to check the trueness of the condition instead.</p>\n\n<pre><code>if h &gt; 0:\n   ...\nelif ...:\n   ...\nelse:\n   ...\n</code></pre>\n"}], "owner": {"reputation": 579, "user_id": 1079391, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dHxf6.jpg?s=128&g=1", "display_name": "MaxQ", "link": "https://stackoverflow.com/users/1079391/maxq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 29810547, "answer_count": 1, "score": 0, "last_activity_date": 1429744407, "creation_date": 1429743844, "last_edit_date": 1429743978, "question_id": 29810514, "link": "https://stackoverflow.com/questions/29810514/python-try-except-why-does-it-not-catch-it", "title": "Python Try-Except: Why does it not catch it?", "body": "<p>I am trying to get the hang of try/ except and I just can't seem to get it working. I want it to stop for a negative or a very larger number:</p>\n\n<pre><code>try:\n    h &gt; 0.\nexcept:\n    return \"Your distance (\", h, \") is negative\"\ntry:\n    h &lt; 3700000.\nexcept:\n    return \"Your distance (\", h, \") is outside the range this model\"\nelse:\n    # Return Correct Value:\n    return g0*(r/(r+h))**2\n</code></pre>\n\n<p>Yet it keeps on going to the end no matter what value I throw at it... I've tried different things after except like false and other stuff, but none of them work:</p>\n\n<pre><code>&gt;&gt;&gt; print(earth_gravity(1))\n1.0\n9.80649692152011\n&gt;&gt;&gt; print(earth_gravity(-1))\n-1.0\n9.806503078481338\n</code></pre>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 2, "creation_date": 1429743822, "post_id": 29810464, "comment_id": 47748946, "body": "You should avoid using <code>regex</code>, it could get complicated and error prone. The approach you suggested is your safest bet"}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 2, "creation_date": 1429744340, "post_id": 29810464, "comment_id": 47749131, "body": "Check this out: <a href=\"http://stackoverflow.com/questions/133601/can-regular-expressions-be-used-to-match-nested-patterns\" title=\"can regular expressions be used to match nested patterns\">stackoverflow.com/questions/133601/&hellip;</a>"}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1429745762, "post_id": 29810464, "comment_id": 47749640, "body": "sshashank124&#39;s link&#39;s tl;dr summary is that you can&#39;t use regexes to match arbitrarily deep nested parentheses. Assuming you care about parentheses pairing correctness, of course."}], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "is_accepted": true, "score": 2, "last_activity_date": 1429748888, "creation_date": 1429748888, "answer_id": 29811417, "question_id": 29810464, "link": "https://stackoverflow.com/questions/29810464/python-return-all-substrings-in-the-first-group-of-nested-parentheses/29811417#29811417", "title": "Python - Return all substrings in the first group of nested parentheses", "body": "<p>I wrote a little function:</p>\n\n<pre><code>def parens(s):\n    i=s[s.find('('):s.find(')')].count('(')   #counts number of '(' until the first ')'\n    groups = s[s.find('('):].split(')')       #splits the string at every ')'\n    print ')'.join(groups[:i]) +')'           #joins the list with ')' using the number of counted '('\n</code></pre>\n\n<hr>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; parens('a d f gsds ( adsd ) adsdaa')\n( adsd )\n\n&gt;&gt;&gt; parens('adadsa ( sadad adsads ( adsda ) dsadsa ) ( dsadsad )')\n( sadad adsads ( adsda ) dsadsa )\n\n&gt;&gt;&gt; parens('a ana anan anan ( adad ( sad ) sdada asdad ) ( sadad ( adasd ) asda ) sdafds ( afdasf )')\n( adad ( sad ) sdada asdad )\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 786146, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8j3k.gif?s=128&g=1", "display_name": "Giuseppe", "link": "https://stackoverflow.com/users/786146/giuseppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 1, "accepted_answer_id": 29811417, "answer_count": 1, "score": 2, "last_activity_date": 1429752669, "creation_date": 1429743569, "last_edit_date": 1429752669, "question_id": 29810464, "link": "https://stackoverflow.com/questions/29810464/python-return-all-substrings-in-the-first-group-of-nested-parentheses", "title": "Python - Return all substrings in the first group of nested parentheses", "body": "<p>I want to find an efficient way to select all the sub-strings contained in the <strong><em>first group</em></strong> of nested parentheses from a string. </p>\n\n<p>For example:</p>\n\n<pre><code>input: a d f gsds ( adsd ) adsdaa    \noutput: ( adsd )\n\ninput: adadsa ( sadad adsads ( adsda ) dsadsa ) ( dsadsad ) \noutput: ( sadad adsads ( adsda ) dsadsa )\n\nintput: a ana anan anan ( adad ( sad ) sdada asdad ) ( sadad ( adasd ) asda ) sdafds ( afdasf )\noutput: ( adad ( sad ) sdada asdad )\n</code></pre>\n\n<p>Notice there could be multiple groups of nested parentheses. </p>\n\n<p>One <strong><em>solution</em></strong> would be scanning the string <code>char</code> by <code>char</code> and keeping track of the number of opened parentheses until (decreasing the number, once we have a closing parenthesis) the counter becomes 0 again.</p>\n\n<p>I am wondering if there is a simpler way to do it? Maybe with regular expressions?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "python", "tableau-api"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4540026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a355742ae6a5797d99acbbf16d79c879?s=128&d=identicon&r=PG&f=1", "display_name": "ds_user", "link": "https://stackoverflow.com/users/4540026/ds-user"}, "edited": false, "score": 0, "creation_date": 1429866308, "post_id": 29843005, "comment_id": 47812388, "body": "Hi Mahesh, Thanks for your answer. Could you please explain how this works? I understand that its a javascript code, but where to execute this? And what is that &quot;Flights&quot;, is it sheet name or workbook name?"}, {"owner": {"reputation": 1332, "user_id": 7652, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a1b8eee656d49ca6a3ed9ffc665ba5f9?s=128&d=identicon&r=PG", "display_name": "TygerKrash", "link": "https://stackoverflow.com/users/7652/tygerkrash"}, "edited": false, "score": 0, "creation_date": 1447065028, "post_id": 29843005, "comment_id": 54988782, "body": "for what it&#39;s worth if anyone comes across this and is looking for the answer to jeevags Q.   Mahesh&#39;s code is using the Javascript api.  That applies to the Viz when embed it in a web page using the &#39;Viz&#39; class to embed your Viz.  see the official tutorial <a href=\"http://onlinehelp.tableau.com/samples/en-us/js_api/tutorial.htm\" rel=\"nofollow noreferrer\">onlinehelp.tableau.com/samples/en-us/js_api/tutorial.htm</a>"}], "tags": [], "owner": {"reputation": 707, "user_id": 4785396, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dba5e7d0f04fd08817efac59f7178e6e?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh Kava", "link": "https://stackoverflow.com/users/4785396/mahesh-kava"}, "is_accepted": false, "score": 2, "last_activity_date": 1430184396, "last_edit_date": 1430184396, "creation_date": 1429865935, "answer_id": 29843005, "question_id": 29810409, "link": "https://stackoverflow.com/questions/29810409/download-all-the-filters-from-tableau-workbook/29843005#29843005", "title": "Download all the filters from tableau workbook", "body": "<p>Here's the Javascript API to query for all filters in the worksheet. 'Flights' is the sheet name</p>\n\n<pre><code>function getFiltersAsync() {\n            // Get first worksheet in book\n            var worksheet;\n            var filtersVal='';\n            var onSuccess = function (filters) {\n                $(\"#lblFiltersCount\").text(\"This worksheet has \" + filters.length + \" filter(s) associated with it.\");\n                $.each(filters, function (filter, i) {\n                    // use .value property of each DataValue object\n                    filtersVal += i.getFieldName() + \", \";\n                    $(\"#lblFilterField\").text(filtersVal);\n                });\n            };\n\n            var onError = function (err) {\n                alert(\"Whoops\");\n            };\n\n            viz.getWorkbook().activateSheetAsync(\"Flights\").then(function(sheet) {\n                worksheet = sheet;\n                worksheet.getFiltersAsync().then(onSuccess, onError);\n            });\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 4540026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a355742ae6a5797d99acbbf16d79c879?s=128&d=identicon&r=PG&f=1", "display_name": "ds_user", "link": "https://stackoverflow.com/users/4540026/ds-user"}, "is_accepted": false, "score": 1, "last_activity_date": 1430117001, "last_edit_date": 1430117001, "creation_date": 1430038310, "answer_id": 29875586, "question_id": 29810409, "link": "https://stackoverflow.com/questions/29810409/download-all-the-filters-from-tableau-workbook/29875586#29875586", "title": "Download all the filters from tableau workbook", "body": "<p>Sharing the answer as anyone might require this in future.</p>\n\n<p><a href=\"http://community.tableau.com/message/358767#358767\" rel=\"nofollow\">http://community.tableau.com/message/358767#358767</a></p>\n\n<p>Here is the code if anybody wishes to use this.</p>\n\n<p><a href=\"http://pastebin.com/bruVTSmN\" rel=\"nofollow\">http://pastebin.com/bruVTSmN</a></p>\n"}], "owner": {"reputation": 99, "user_id": 4540026, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a355742ae6a5797d99acbbf16d79c879?s=128&d=identicon&r=PG&f=1", "display_name": "ds_user", "link": "https://stackoverflow.com/users/4540026/ds-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3263, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1430184396, "creation_date": 1429743259, "question_id": 29810409, "link": "https://stackoverflow.com/questions/29810409/download-all-the-filters-from-tableau-workbook", "title": "Download all the filters from tableau workbook", "body": "<p>We built a tableau workbook and planning to move them to production soon. As part of deployment, we need to document all the filters used in the workbook. Is there any way, I can extract all the filters used in a workbook or configurations done in a workbook? Like an API or any other options to get all at once? Because, we have more than 100 sheets and its really difficult to open all, read and document it manually.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "sockets", "tcp"], "answers": [{"comments": [{"owner": {"reputation": 1111, "user_id": 1272545, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/7f222f13d041c376acf55cf3ddef4096?s=128&d=identicon&r=PG", "display_name": "Ezra", "link": "https://stackoverflow.com/users/1272545/ezra"}, "edited": false, "score": 0, "creation_date": 1429753033, "post_id": 29810591, "comment_id": 47751968, "body": "Thanks. I read that and I don&#39;t understand what it means to complete sending the data. Does it mean the kernel completed sending or does it mean it got an ack from the server. From looking on the error codes I don&#39;t see any error saying I didn&#39;t get an ack."}, {"owner": {"reputation": 1111, "user_id": 1272545, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/7f222f13d041c376acf55cf3ddef4096?s=128&d=identicon&r=PG", "display_name": "Ezra", "link": "https://stackoverflow.com/users/1272545/ezra"}, "edited": false, "score": 0, "creation_date": 1429753906, "post_id": 29810591, "comment_id": 47752224, "body": "Thanks again. The way I interpret this is that the loop continues until the buffer is empty and not until it receives an ack. I&#39;ve also found this answer on SO which says that send doesn&#39;t wait for an ack. <a href=\"http://stackoverflow.com/questions/8218785/how-can-i-explicitly-wait-for-a-tcp-ack-before-proceeding\" title=\"how can i explicitly wait for a tcp ack before proceeding\">stackoverflow.com/questions/8218785/&hellip;</a>"}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "reply_to_user": {"reputation": 1111, "user_id": 1272545, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/7f222f13d041c376acf55cf3ddef4096?s=128&d=identicon&r=PG", "display_name": "Ezra", "link": "https://stackoverflow.com/users/1272545/ezra"}, "edited": false, "score": 0, "creation_date": 1429754504, "post_id": 29810591, "comment_id": 47752431, "body": "Correct :)  believe (<i>could be wrong ofc</i>) that <code>ACK</code>/<code>NAK</code> are lower down in the TCP stack. Here we&#39;re dealing with Socket(s) which are a layer above TCP AFAIK. Try wiresharking your packet flows :)"}], "tags": [], "owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "is_accepted": false, "score": 1, "last_activity_date": 1518729903, "last_edit_date": 1518729903, "creation_date": 1429744204, "answer_id": 29810591, "question_id": 29810337, "link": "https://stackoverflow.com/questions/29810337/what-does-it-mean-when-python-socket-sendall-returns-successfully/29810591#29810591", "title": "what does it mean when python socket.sendall returns successfully?", "body": "<p><strong>Yes</strong> you can :)</p>\n\n<p>According to the <a href=\"https://docs.python.org/2/library/socket.html#socket.socket.sendall\" rel=\"nofollow noreferrer\">socket.sendall</a> docs:</p>\n\n<blockquote>\n  <p>socket.sendall(string[, flags]) Send data to the socket. The socket\n  must be connected to a remote socket. The optional flags argument has\n  the same meaning as for recv() above. Unlike send(), this method\n  continues to send data from string until either all data has been sent\n  or an error occurs. None is returned on success. On error, an\n  exception is raised, and there is no way to determine how much data,\n  if any, was successfully sent.</p>\n</blockquote>\n\n<p>Specifically:</p>\n\n<p><code>socket.sendall()</code> will continue to send all data until it has completed or an <em>error</em> has occurred.</p>\n\n<p><strong>Update:</strong> To answer your comment about what's going on <em>under the hook</em>:</p>\n\n<p>Looking at the <a href=\"https://hg.python.org/cpython/file/6295f207dfaa/Modules/socketmodule.c#l3554\" rel=\"nofollow noreferrer\">socketmodule.c</a> source code it looks like it repeatedly tries to \"send all data\" until there is no more data left to send. You can see this on L3611 <code>} while (len &gt; 0);</code>. Hopefully this answers your question.</p>\n"}, {"tags": [], "owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1429764913, "creation_date": 1429764913, "answer_id": 29813998, "question_id": 29810337, "link": "https://stackoverflow.com/questions/29810337/what-does-it-mean-when-python-socket-sendall-returns-successfully/29813998#29813998", "title": "what does it mean when python socket.sendall returns successfully?", "body": "<blockquote>\n  <p>can I assume that if there wasn't any exception thrown by sendall that the other side of the socket (its kernel) did receive 'data'?</p>\n</blockquote>\n\n<p>No, you can't. All it tells you that the system successfully sent the data. It will not wait for the peer to ACK the data (i.e. data received at the OS kernel) or even wait until the data got processed by the peer application. This behavior is not specific to python. </p>\n\n<p>And usually it does not matter much if the peer systems kernel received the data and put it into the applications socket buffer. All what really counts is if it received and processed the data inside the application, which might involve complex things like inserting the data into a database and waiting for a successful commit or even forwarding the data to yet another system. And since it is up to the application to decide when the data are really processed you have to make your application specific ACK to signal successful processing.</p>\n"}], "owner": {"reputation": 1111, "user_id": 1272545, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/7f222f13d041c376acf55cf3ddef4096?s=128&d=identicon&r=PG", "display_name": "Ezra", "link": "https://stackoverflow.com/users/1272545/ezra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2312, "favorite_count": 1, "accepted_answer_id": 29813998, "answer_count": 2, "score": 3, "last_activity_date": 1518729903, "creation_date": 1429742934, "last_edit_date": 1429753560, "question_id": 29810337, "link": "https://stackoverflow.com/questions/29810337/what-does-it-mean-when-python-socket-sendall-returns-successfully", "title": "what does it mean when python socket.sendall returns successfully?", "body": "<p>In my code I wrote something like this:</p>\n\n<pre><code>try:\n    s.sendall(data)\nexcept Exception as e:\n    print e\n</code></pre>\n\n<p>Now, can I assume that if there wasn't any exception thrown by sendall that the other side of the socket (its kernel) did receive 'data'? If not then that means I need to send an application ack which seems unreasonable to me.</p>\n\n<p>If I can assume that the other side's kernel did receive 'data' then that means that 'sendall' returns only when it sees tcp ack for all the bytes I have put in 'data' but I couldn't see any documentation for this, on the contrary, from searching the web I got the feeling that I cannot assume an ack was received.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 26225, "user_id": 2800876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e79f29e946660a425b518ea6be8914?s=128&d=identicon&r=PG&f=1", "display_name": "Zags", "link": "https://stackoverflow.com/users/2800876/zags"}, "is_accepted": true, "score": 1, "last_activity_date": 1429742804, "creation_date": 1429742804, "answer_id": 29810311, "question_id": 29810310, "link": "https://stackoverflow.com/questions/29810310/removing-an-email-from-a-django-user/29810311#29810311", "title": "Removing an email from a Django User", "body": "<p>In Django, a User is defined as follows:</p>\n\n<pre><code>email = models.EmailField(_('email address'), blank=True)\n</code></pre>\n\n<p>Consequently, a user's email can be blank (i.e. <code>\"\"</code>) but not null (i.e. <code>None</code>).  You clear a user's email with the following:</p>\n\n<pre><code>user.email = \"\"\nuser.save()\n</code></pre>\n"}], "owner": {"reputation": 26225, "user_id": 2800876, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e79f29e946660a425b518ea6be8914?s=128&d=identicon&r=PG&f=1", "display_name": "Zags", "link": "https://stackoverflow.com/users/2800876/zags"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 29810311, "answer_count": 1, "score": 0, "last_activity_date": 1429742804, "creation_date": 1429742804, "question_id": 29810310, "link": "https://stackoverflow.com/questions/29810310/removing-an-email-from-a-django-user", "title": "Removing an email from a Django User", "body": "<p>When in Django I try the following with a Django user:</p>\n\n<pre><code>user.email = None\nuser.save()\n</code></pre>\n\n<p>I get the exception:</p>\n\n<pre><code>NOT NULL constraint failed: auth_user.email\n</code></pre>\n\n<p>How does one go about deleting a user's email?</p>\n"}, {"tags": ["python", "json", "django", "api"], "comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 1, "creation_date": 1429742832, "post_id": 29810241, "comment_id": 47748602, "body": "Note that you have exposed your api key, which is probably not a good idea."}, {"owner": {"reputation": 4614, "user_id": 1644198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5324ceb4187d1608a61968c3e76707?s=128&d=identicon&r=PG", "display_name": "aumo", "link": "https://stackoverflow.com/users/1644198/aumo"}, "edited": false, "score": 2, "creation_date": 1429743142, "post_id": 29810241, "comment_id": 47748702, "body": "The edited value can still be accessed by seeing the edits!"}, {"owner": {"reputation": 356, "user_id": 4381286, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2793c03c6b844b75d8c4cbbb2afd9978?s=128&d=identicon&r=PG&f=1", "display_name": "Nebbyyy", "link": "https://stackoverflow.com/users/4381286/nebbyyy"}, "edited": false, "score": 0, "creation_date": 1429743243, "post_id": 29810241, "comment_id": 47748738, "body": "I wouldn&#39;t worry too much its just a simple test I wont be using the key listed in my site :)"}, {"owner": {"reputation": 356, "user_id": 4381286, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2793c03c6b844b75d8c4cbbb2afd9978?s=128&d=identicon&r=PG&f=1", "display_name": "Nebbyyy", "link": "https://stackoverflow.com/users/4381286/nebbyyy"}, "edited": false, "score": 0, "creation_date": 1429746590, "post_id": 29810241, "comment_id": 47749911, "body": "any idea&#39;s at all? :/"}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 3976307, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/JnSPM.jpg?s=128&g=1", "display_name": "mkwilfreid", "link": "https://stackoverflow.com/users/3976307/mkwilfreid"}, "is_accepted": true, "score": 1, "last_activity_date": 1429771413, "last_edit_date": 1429771413, "creation_date": 1429770983, "answer_id": 29815509, "question_id": 29810241, "link": "https://stackoverflow.com/questions/29810241/searching-with-a-defined-query-in-django-python/29815509#29815509", "title": "Searching with a defined query in Django / Python", "body": "<p>i'm not really experienced in django too, but  have been working around for 3 months now, i will advise you to make use of the django-auto-complete-light or django-ajax-selects for your frontend search in the navigation bar, and django-salmonela for your backend fields. those are helpful. and the input tag doesn't really work with your django forms, so you'll have to use a class in your div tag and explicitly call each form field using  the {{ form.fieldName }} then make use of the widget to reference your template tags, or just use the above packages which know much better how to handle your fields.</p>\n\n<p>example:</p>\n\n<p>within your template: </p>\n\n<pre><code>&lt;div class=\"container text-center form-horizontal topSpace\"&gt;\n    &lt;form method=\"POST\" enctype=\"multipart/form-data\" action=\"{% url 'create-recipe' %}\"&gt;\n        {% csrf_token %}\n\n             {{ form.non_field_errors }}\n\n                &lt;div class=\"form-group\"&gt;\n                    {{ form.name.errors }}\n                        &lt;label for=\"{{ form.name.id_for_label }}\" class=\"col-lg-4 control-label\"&gt;Name:&lt;/label&gt;\n                                &lt;div class=\"col-lg-1\"&gt;\n                                    {# &lt;input type=\"text\" class=\"form-control\" id=\"user-name\" placeholder=\"Enter your name\"&gt;#}\n                                    {{ form.name }}\n                                &lt;/div&gt;\n                &lt;/div&gt;&lt;!-- end form-name--&gt;\n\n            {{ form.as_p }}\n\n        &lt;input type=\"submit\" value=\"Add Recipe\"&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>then in your form: </p>\n\n<pre><code>class RecipeForm(autocomplete_light.ModelForm, forms.ModelForm):\n\nclass Meta:\n    model = Recipe\n    exclude = []\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 4381286, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2793c03c6b844b75d8c4cbbb2afd9978?s=128&d=identicon&r=PG&f=1", "display_name": "Nebbyyy", "link": "https://stackoverflow.com/users/4381286/nebbyyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 29815509, "answer_count": 1, "score": 0, "last_activity_date": 1429771413, "creation_date": 1429742543, "last_edit_date": 1429743039, "question_id": 29810241, "link": "https://stackoverflow.com/questions/29810241/searching-with-a-defined-query-in-django-python", "title": "Searching with a defined query in Django / Python", "body": "<p>Currently as it stands I have a search bar and a button on my homepage like so.</p>\n\n<pre><code>&lt;div class=\"input-group\"&gt;\n&lt;input id=\"address\" type=\"textbox\" placeholder=\"City or Zipcode\" class=\"form-control\"&gt;\n&lt;span class=\"input-group-btn\"&gt;\n&lt;button class=\"btn btn-default\" type=\"button\" id=\"addressSearch\"&gt;Search&lt;/button&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have created a api.py file which is within my websites folder which looks like so.</p>\n\n<pre><code>import urllib2\nimport json\n\nlocu_api = '****'\n\ndef loc_search(query):\n    api_key = locu_api\n    url = 'https://api.locu.com/v1_0/venue/search/?api_key=' + api_key\n    locality = query.replace(' ', '%20')\n    final_url = url + \"&amp;locality=\" + locality + \"&amp;category=restaurant\"\n    json_obj = urllib2.urlopen(final_url)\n    data = json.load(json_obj)\n\n    for item in data['objects']:\n        print item['name']\n        print item['phone']\n</code></pre>\n\n<p>Essentially what I am trying to do is when the user search's for a city e.g. New York then the loc_search(query) is called populating the search field '(query)' with the users input and the data then being displayed.</p>\n\n<p>I haven't much experience with either django or api's so any help would be invaluable. Thanks again</p>\n"}, {"tags": ["python", "numpy", "matrix", "linear-algebra"], "comments": [{"owner": {"reputation": 80632, "user_id": 42973, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e1e331c88fcddfe245f4be299389270d?s=128&d=identicon&r=PG", "display_name": "Eric O Lebigot", "link": "https://stackoverflow.com/users/42973/eric-o-lebigot"}, "edited": false, "score": 0, "creation_date": 1429743920, "post_id": 29810205, "comment_id": 47748977, "body": "Maybe I am not understanding properly, but what about <code>n = len(d) - \u2026</code>, where you subtract the number of columns that you want to remove?"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1429746769, "post_id": 29810205, "comment_id": 47749967, "body": "Also, don&#39;t forget that Python indexing starts at 0, not 1"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4590813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb6cfae23deed27c3fea8f7f3bbefc8?s=128&d=identicon&r=PG&f=1", "display_name": "Veysel", "link": "https://stackoverflow.com/users/4590813/veysel"}, "edited": false, "score": 0, "creation_date": 1429768729, "post_id": 29810973, "comment_id": 47757094, "body": "Thanks a lot for your answer! I tried to use your code but now I get an error for:   Fbar = U[:, :f].dot(np.diag(s[:f])).dot(Vt[:f, :])  IndexError: invalid slice   Do you see what is wrong?"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 23, "user_id": 4590813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb6cfae23deed27c3fea8f7f3bbefc8?s=128&d=identicon&r=PG&f=1", "display_name": "Veysel", "link": "https://stackoverflow.com/users/4590813/veysel"}, "edited": false, "score": 0, "creation_date": 1429775999, "post_id": 29810973, "comment_id": 47761331, "body": "Well, you haven&#39;t shown me what <code>f</code> is. It should be an integer scalar between 0 and the size of the smallest dimension of <code>E</code> (I&#39;ve added a note about the dimensions of each matrix to the answer)."}, {"owner": {"reputation": 23, "user_id": 4590813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb6cfae23deed27c3fea8f7f3bbefc8?s=128&d=identicon&r=PG&f=1", "display_name": "Veysel", "link": "https://stackoverflow.com/users/4590813/veysel"}, "edited": false, "score": 0, "creation_date": 1429791991, "post_id": 29810973, "comment_id": 47772985, "body": "yes, sorry. In the previous task we had to complete another function called compute_fov, there the f is specified: <code>def compute_fov(d):        fov = compute_fov(d)     Input argument:        d: numpy array (1-d vector)     Output arguments:        fov: numpy array (fraction of explained variance)      Example:        E,rn,cn = load_data(&#39;expressionSet1.dat&#39;)        d,V,U = do_pca(E)        f = compute_fov(d)        fov = d**2&#47;sum(d**2)     return(fov)</code>  So although i use this f in my console first it won&#39;t work.."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 23, "user_id": 4590813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb6cfae23deed27c3fea8f7f3bbefc8?s=128&d=identicon&r=PG&f=1", "display_name": "Veysel", "link": "https://stackoverflow.com/users/4590813/veysel"}, "edited": false, "score": 0, "creation_date": 1429792477, "post_id": 29810973, "comment_id": 47773407, "body": "I still don&#39;t understand what you&#39;re passing as <code>f</code> - from your comment above it looks like it would be a float vector containing the fraction of explained variance for each PC (please put these details to your question, not the comments). What <code>f</code> needs to be is an <b>integer scalar</b> specifying how many PCs to use for the reconstruction. How you get this from the explained variance is up to you."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1429792629, "last_edit_date": 1429792629, "creation_date": 1429746374, "answer_id": 29810973, "question_id": 29810205, "link": "https://stackoverflow.com/questions/29810205/need-function-to-re-construct-matrix-e-from-the-partial-product/29810973#29810973", "title": "Need function to re-construct matrix E from the partial product", "body": "<p>The singular values are given in descending order, so all you need to do is index a slice of the first <em>f</em> values along the 'inner' dimensions of each matrix:</p>\n\n<pre><code># E is (M, N), U is (M, K), s is (K,) and Vt is (K, N), where K = min(M, N)\n# f is an integer such that 0 &lt; f &lt; K\n\nU, s, Vt = np.linalg.svd(E, full_matrices=False)\nFbar = U[:, :f].dot(np.diag(s[:f])).dot(Vt[:f, :])\n</code></pre>\n\n<p>Note that <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.svd.html\" rel=\"nofollow\"><code>np.linalg.svd</code></a> returns the second unitary matrix <code>V</code> in a transposed form, so there is no need to transpose it again before computing the dot product.</p>\n"}], "owner": {"reputation": 23, "user_id": 4590813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cb6cfae23deed27c3fea8f7f3bbefc8?s=128&d=identicon&r=PG&f=1", "display_name": "Veysel", "link": "https://stackoverflow.com/users/4590813/veysel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 29810973, "answer_count": 1, "score": 0, "last_activity_date": 1429792629, "creation_date": 1429742335, "last_edit_date": 1429746662, "question_id": 29810205, "link": "https://stackoverflow.com/questions/29810205/need-function-to-re-construct-matrix-e-from-the-partial-product", "title": "Need function to re-construct matrix E from the partial product", "body": "<p>The task is this:</p>\n\n<p>Let assume that components with low FOV come from an experimental noise. We would like to remove this noise to achieve a higher signal-to-noise ratio. In order to do so we can re-construct matrix E from the partial product\nE \u0304 = U (f) D (f) V^T (f), \nwhere the subscript (f) referes to dropping the last columns. Complete function refine expression which, using SVD, select only those first principal components which explain together at least 90% of the variance and reconstruct matrix E with formula above.</p>\n\n<p>I tried it like this:</p>\n\n<pre><code>def refine_expression(F):\n\"\"\"\nCall:\n   Fbar = refine_expression(F)\nInput argument:\n   F: numpy array (2-d matrix; centered)\nOutput arguments:\n   Fbar: numpy array (2-d matrix) \nExample:\n   E,rn,cn = load_data('expressionSet1.dat')\n   F = transform(E)\n   Fbar = refine_expression(F)\n   =&gt;\n   Fbar:\n   array([[ -0.26696566,  5.27928198,  0.03159005, ...,  0.65700363,\n     0.26819583,  0.1807512],\n           ...\n          [ 0.24213939, -0.48004957, -1.2858063 , ..., -1.18645038,\n    -2.01918948,  1.34124707]])\n\n   Ebar.shape == E.shape % test for correctness\n   =&gt;\n   True\n\"\"\"\nU,d,V = svd(E,full_matrices=False)\nn = len(d)\nFbar = dot(dot(U[:,1:n],diag(d[1:n])),V[:,1:n].T)\nreturn(Fbar)\n</code></pre>\n\n<p>But this refers to E \u0304 = U (-1) D (-1) V^T (-1). So I don't know how to integrate the f in my original function, can someone help me out?</p>\n"}, {"tags": ["python", "sqlite", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 727, "user_id": 6759267, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X605pLELqoM/AAAAAAAAAAI/AAAAAAAAAW4/kTzw7CXRkYE/photo.jpg?sz=128", "display_name": "No_body", "link": "https://stackoverflow.com/users/6759267/no-body"}, "edited": false, "score": 0, "creation_date": 1553784345, "post_id": 29815390, "comment_id": 97521427, "body": "Hi, I have the similar problem but when i try to implement your first method, it&#39;s throwing AttributeError: &#39;NoneType&#39; object has no attribute &#39;class_&#39;"}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 11, "last_activity_date": 1429770506, "creation_date": 1429770506, "answer_id": 29815390, "question_id": 29810183, "link": "https://stackoverflow.com/questions/29810183/sqlalchemy-updating-row-with-a-filter-produces-list-index-error/29815390#29815390", "title": "Sqlalchemy - Updating row with a filter produces List Index Error", "body": "<p>I do not think that your code is doing what you want it to do. \nThere are two ways to make an update you want:</p>\n\n<p>1) Directly on the database:</p>\n\n<pre><code>upd = (session.query(Clocktime)\n       .filter(Clocktime.p_uuid == p_uuid)\n       .update({\"time_out\": datetime.datetime.now()})\n       )\nprint(\"# of updated rows = {}\".format(upd))\n# session.commit()\n</code></pre>\n\n<p>2) Load object(s), update the value, and commit the session</p>\n\n<pre><code>upd = (session.query(Clocktime)\n       .filter(Clocktime.p_uuid == p_uuid)\n       )\n\n# assuming there should be exactly one object for given p_uuid    \nclockTime = upd.one()\nclockTime.time_out = datetime.datetime.now()\nsession.commit()\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 2719859, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f492c4165b3f0da8d9d5431e567cd895?s=128&d=identicon&r=PG", "display_name": "Ross Wardrup", "link": "https://stackoverflow.com/users/2719859/ross-wardrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6834, "favorite_count": 1, "accepted_answer_id": 29815390, "answer_count": 1, "score": 7, "last_activity_date": 1429770506, "creation_date": 1429742257, "question_id": 29810183, "link": "https://stackoverflow.com/questions/29810183/sqlalchemy-updating-row-with-a-filter-produces-list-index-error", "title": "Sqlalchemy - Updating row with a filter produces List Index Error", "body": "<p>I hope this is my last question pertaining to this pet project of mine.</p>\n\n<p>I'm trying to update table Clocktimes (column = time_out) with the current time. I want to select by a UUID that I create with UUID4. When I run the code, I get ListIndex out of range error, on a function in query.py (a part of Sqlalchemy). I've listed that rather short function below my code.</p>\n\n<p>My code:</p>\n\n<pre><code>out = session.query(). \\\n        filter(Clocktime.p_uuid == p_uuid). \\\n        update(Clocktime.time_out == datetime.datetime.now())\n    session.add(out)\n    session.commit()\n</code></pre>\n\n<p>Sqlalchemy code throwing error:</p>\n\n<pre><code>def _entity_zero(self):\n    return self._entities[0]\n</code></pre>\n\n<p>The Sqlalchemy code is pretty complex so I haven't looked through it yet, but my theory is that it doesn't like my filter for some reason. Anyway, I can't figure it out - do any of you have any idea?</p>\n"}, {"tags": ["python", "pandas", "pivot-table", "pytables"], "answers": [{"comments": [{"owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "edited": false, "score": 0, "creation_date": 1429748930, "post_id": 29811010, "comment_id": 47750702, "body": "Didn&#39;t realize I was explicitly telling it to multi index with the [&#39;colB&#39;].  Thought that was just the required syntax. :)"}], "tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": true, "score": 1, "last_activity_date": 1429746572, "creation_date": 1429746572, "answer_id": 29811010, "question_id": 29810140, "link": "https://stackoverflow.com/questions/29810140/trouble-retrieving-multi-index-pandas-dataframe-from-hdfstore-in-table-format/29811010#29811010", "title": "Trouble retrieving multi-index Pandas DataFrame from HDFStore (in Table format)", "body": "<p>You can't store an index like that, that is partially tuples and partially strings. Its not a real MultiIndex (nor useful in any way).</p>\n\n<p>I would simply use a regular index. You could also do this with a MultiIndex, but every column has to be part of it.</p>\n\n<pre><code>In [67]: pivoted = frame.pivot_table('colB',index='colA',columns='colC',aggfunc='sum')\n\nIn [68]: pivoted\nOut[68]: \ncolC   a   b   c   d   e   f   g\ncolA                            \n1      5   5   5 NaN NaN NaN NaN\n2      5   5   5 NaN NaN NaN NaN\n3      5   5   5 NaN NaN NaN NaN\n4    NaN NaN NaN   5   5   5   5\n\nIn [69]: df = pd.concat([pivoted,mergedFrameA],axis=1)\n\nIn [70]: df\nOut[70]: \ncolC   a   b   c   d   e   f   g colD  colE\ncolA                                       \n1      5   5   5 NaN NaN NaN NaN   ap   100\n2      5   5   5 NaN NaN NaN NaN   bp   200\n3      5   5   5 NaN NaN NaN NaN   cp   300\n4    NaN NaN NaN   5   5   5   5   dp   400\n</code></pre>\n"}], "owner": {"reputation": 1378, "user_id": 406189, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e85ec1b1d0db7d21e42daf389caedcec?s=128&d=identicon&r=PG", "display_name": "TraxusIV", "link": "https://stackoverflow.com/users/406189/traxusiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3443, "favorite_count": 0, "accepted_answer_id": 29811010, "answer_count": 1, "score": 1, "last_activity_date": 1429746572, "creation_date": 1429742026, "question_id": 29810140, "link": "https://stackoverflow.com/questions/29810140/trouble-retrieving-multi-index-pandas-dataframe-from-hdfstore-in-table-format", "title": "Trouble retrieving multi-index Pandas DataFrame from HDFStore (in Table format)", "body": "<p>I have some code, reduced to the example included below, which takes some raw data, creates a pivot table from it, then merges it with another dataframe, and finally stores the results in an HDFStore object.  If it's stored in fixed format, it can be retrieved just fine. However, if stored in Table format, it produces an error.  I need table format so that I can extract chunks at a time (total dataset is tens of millions of rows).</p>\n\n<p>Any ideas what the problem is?</p>\n\n<p>Code sample:</p>\n\n<pre><code>import pandas as pd\n\ndef createFrame():\n    data = {\n             'colA':[1,1,1,2,2,2,3,3,3,4,4,4,4],\n             'colB':[5,5,5,5,5,5,5,5,5,5,5,5,5],\n             'colC':['a','b','c','a','b','c','a','b','c','d','e','f','g'],\n             'colD':['ap','ap','ap','bp','bp','bp','cp','cp','cp','dp','dp','dp','dp']\n           }\n    frame = pd.DataFrame(data)\n    return frame\n\ndef createOtherFrame():\n    data = {\n             'colD':['ap','bp','cp','dp'],\n             'colE':[100,200,300,400]\n           }\n    frame = pd.DataFrame(data)\n    return frame \n\nif __name__ == '__main__':\n    pd.set_option('display.width', 120) # default is 80\n    pd.set_option('io.hdf.default_format','table')    \n\n    pivotStore = pd.HDFStore('test.h5')\n    frame = createFrame()\n    otherFrame = createOtherFrame()\n    pivoted = frame.pivot_table(['colB'],\n                                index=['colA'],\n                                columns='colC',\n                                aggfunc='sum'\n                                )\n    print(pivoted)\n    print('')    \n#    print(pivoted.info(),end='\\n\\n')\n\n    mergedFrameA = pd.merge(frame[['colA','colD']].drop_duplicates(),\n                        otherFrame, \n                        how = 'left',\n                        on='colD'\n                       ).set_index('colA')\n#    print(mergedFrameA.info())\n    print(mergedFrameA)\n\n    mergedFrameB = pd.merge(pivoted,mergedFrameA,how='left',left_index=True,right_index=True)\n#    print(mergedFrameB.info())\n    print(mergedFrameB)\n\n    pivotStore['bob'] = mergedFrameB\n    pivotStore.close()\n    store = pd.HDFStore('test.h5')\n    extracted = store.select('bob',start=0,stop=5)\n    print(extracted)\n    store.close()\n</code></pre>\n\n<p>Output produced (with error): </p>\n\n<pre><code>     colB                        \ncolC    a   b   c   d   e   f   g\ncolA                             \n1       5   5   5 NaN NaN NaN NaN\n2       5   5   5 NaN NaN NaN NaN\n3       5   5   5 NaN NaN NaN NaN\n4     NaN NaN NaN   5   5   5   5\n\n     colD  colE\ncolA           \n1      ap   100\n2      bp   200\n3      cp   300\n4      dp   400\n      (colB, a)  (colB, b)  (colB, c)  (colB, d)  (colB, e)  (colB, f)  (colB, g) colD  colE\ncolA                                                                                        \n1             5          5          5        NaN        NaN        NaN        NaN   ap   100\n2             5          5          5        NaN        NaN        NaN        NaN   bp   200\n3             5          5          5        NaN        NaN        NaN        NaN   cp   300\n4           NaN        NaN        NaN          5          5          5          5   dp   400\nTraceback (most recent call last):\n  File \"C:\\multiindextest.py\", line 52, in &lt;module&gt;\n    extracted = store.select('bob',start=0,stop=5)\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\io\\pytables.py\", line 665, in select\n    return it.get_result()\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\io\\pytables.py\", line 1359, in get_result\n    results = self.func(self.start, self.stop, where)\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\io\\pytables.py\", line 658, in func\n    columns=columns, **kwargs)\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\io\\pytables.py\", line 3999, in read\n    cols.set_names(names, inplace=True)\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\core\\index.py\", line 529, in set_names\n    idx._set_names(names, level=level)\n  File \"C:\\Anaconda3\\envs\\py34\\lib\\site-packages\\pandas\\core\\index.py\", line 3274, in _set_names\n    'Length of names must match number of levels in MultiIndex.')\nValueError: Length of names must match number of levels in MultiIndex.\nClosing remaining open files:test.h5...done\n</code></pre>\n"}, {"tags": ["python", "opencv"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user404345"}, "edited": false, "score": 1, "creation_date": 1429745422, "post_id": 29810728, "comment_id": 47749514, "body": "I&#39;m getting the error AttributeError: &#39;numpy.ndarray&#39; object has no attribute &#39;setTo&#39;. Does this mean anything to you? thanks"}], "tags": [], "owner": {"reputation": 11, "user_id": 4589717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27c7aeb00a24815bcbcf6b3d17b55b40?s=128&d=identicon&r=PG&f=1", "display_name": "J-J21", "link": "https://stackoverflow.com/users/4589717/j-j21"}, "is_accepted": false, "score": 0, "last_activity_date": 1429745030, "creation_date": 1429745030, "answer_id": 29810728, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour/29810728#29810728", "title": "OpenCV Python - Set background colour", "body": "<p>Instead of using bitwise_not, I would use </p>\n\n<pre><code>resized.setTo([255, 255, 255], mask)\n</code></pre>\n\n<p>Before doing that I'd also erode and dilate and the mask, to get rid of the specs in the mask that are part of the image you want to keep.   <a href=\"http://docs.opencv.org/doc/tutorials/imgproc/erosion_dilatation/erosion_dilatation.html\" rel=\"nofollow\">http://docs.opencv.org/doc/tutorials/imgproc/erosion_dilatation/erosion_dilatation.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 4070307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef636ee56563bb3c2c115b9876f43407?s=128&d=identicon&r=PG&f=1", "display_name": "Govinda Raju", "link": "https://stackoverflow.com/users/4070307/govinda-raju"}, "edited": false, "score": 0, "creation_date": 1613744712, "post_id": 34651175, "comment_id": 117178068, "body": "Can you pls write a full program"}], "tags": [], "owner": {"reputation": 7752, "user_id": 1129194, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bdb7d5f257f8f63f6e03598be92a766f?s=128&d=identicon&r=PG", "display_name": "Alex L", "link": "https://stackoverflow.com/users/1129194/alex-l"}, "is_accepted": false, "score": 8, "last_activity_date": 1452157923, "creation_date": 1452157923, "answer_id": 34651175, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour/34651175#34651175", "title": "OpenCV Python - Set background colour", "body": "<p>You can use the mask to index the array, and assign just the white parts of the mask to white:</p>\n\n<pre><code>coloured = resized.copy()\ncoloured[mask == 255] = (255, 255, 255)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OSyHY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OSyHY.png\" alt=\"Screenshot\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 4070307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef636ee56563bb3c2c115b9876f43407?s=128&d=identicon&r=PG&f=1", "display_name": "Govinda Raju", "link": "https://stackoverflow.com/users/4070307/govinda-raju"}, "edited": false, "score": 0, "creation_date": 1614130857, "post_id": 38516242, "comment_id": 117289736, "body": "This code is not working"}], "tags": [], "owner": {"reputation": 2209, "user_id": 2692914, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7c7f5455232d8a359af4e7f79e7e78f0?s=128&d=identicon&r=PG&f=1", "display_name": "lmiguelmh", "link": "https://stackoverflow.com/users/2692914/lmiguelmh"}, "is_accepted": false, "score": 6, "last_activity_date": 1469146069, "creation_date": 1469146069, "answer_id": 38516242, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour/38516242#38516242", "title": "OpenCV Python - Set background colour", "body": "<p>I really recommend you to stick with OpenCV, it is well optimized. The trick is to invert the mask and apply it to some background, you will have your masked image and a masked background, then you combine both. image1 is your image masked with the original mask, image2 is the background image masked with the inverted mask, and image3 is the combined image. <em>Important.</em> image1, image2 and image3 must be of the same size and type. The mask must be grayscale. </p>\n\n<p><a href=\"https://i.stack.imgur.com/LH4wW.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LH4wW.jpg\" alt=\"foreground and background masked then combined\"></a></p>\n\n<pre><code>import cv2\nimport numpy as np\n\n# opencv loads the image in BGR, convert it to RGB\nimg = cv2.cvtColor(cv2.imread('E:\\\\FOTOS\\\\opencv\\\\zAJLd.jpg'),\n                   cv2.COLOR_BGR2RGB)\nlower_white = np.array([220, 220, 220], dtype=np.uint8)\nupper_white = np.array([255, 255, 255], dtype=np.uint8)\nmask = cv2.inRange(img, lower_white, upper_white)  # could also use threshold\nmask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (3, 3)))  # \"erase\" the small white points in the resulting mask\nmask = cv2.bitwise_not(mask)  # invert mask\n\n# load background (could be an image too)\nbk = np.full(img.shape, 255, dtype=np.uint8)  # white bk\n\n# get masked foreground\nfg_masked = cv2.bitwise_and(img, img, mask=mask)\n\n# get masked background, mask must be inverted \nmask = cv2.bitwise_not(mask)\nbk_masked = cv2.bitwise_and(bk, bk, mask=mask)\n\n# combine masked foreground and masked background \nfinal = cv2.bitwise_or(fg_masked, bk_masked)\nmask = cv2.bitwise_not(mask)  # revert mask to original\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 6800792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16610bebe60d1a20f50d2b1fa56484c4?s=128&d=identicon&r=PG&f=1", "display_name": "Tombery", "link": "https://stackoverflow.com/users/6800792/tombery"}, "is_accepted": false, "score": 2, "last_activity_date": 1473173525, "last_edit_date": 1495541790, "creation_date": 1473173525, "answer_id": 39352028, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour/39352028#39352028", "title": "OpenCV Python - Set background colour", "body": "<p>At first, you need to get the background. To this must be subtracted from the original image with the mask image. And then change the black background to white (or any color). And then back to add with the image of the mask.\nLook here <a href=\"https://stackoverflow.com/questions/38048650/opencv-grabcut-background-color-and-contour-in-python/39351917#39351917\">OpenCV grabcut() background color and Contour in Python</a></p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 4070307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef636ee56563bb3c2c115b9876f43407?s=128&d=identicon&r=PG&f=1", "display_name": "Govinda Raju", "link": "https://stackoverflow.com/users/4070307/govinda-raju"}, "edited": false, "score": 0, "creation_date": 1613756264, "post_id": 62461301, "comment_id": 117183489, "body": "Hello sir , actully its reducing the dpi , how can i keep same dpi like 150 for both"}], "tags": [], "owner": {"reputation": 241, "user_id": 2123747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ce412cd5bc9dc8fd75337c229d36a9?s=128&d=identicon&r=PG", "display_name": "barnwaldo", "link": "https://stackoverflow.com/users/2123747/barnwaldo"}, "is_accepted": false, "score": 1, "last_activity_date": 1592525194, "creation_date": 1592525194, "answer_id": 62461301, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour/62461301#62461301", "title": "OpenCV Python - Set background colour", "body": "<p>First convert to GRAY and then threshold with cv2.threshold and then use numpy masking...</p>\n\n<pre><code>ret, thresh = cv2.threshold(cv2.cvtColor(img, cv2.COLOR_BGR2GRAY), 220, 255, cv2.THRESH_BINARY)\nimg[thresh == 255] = 255\n</code></pre>\n\n<p>If need black background set RHS to zero instead of 255</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user404345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24541, "favorite_count": 4, "answer_count": 5, "score": 6, "last_activity_date": 1592525194, "creation_date": 1429741924, "question_id": 29810128, "link": "https://stackoverflow.com/questions/29810128/opencv-python-set-background-colour", "title": "OpenCV Python - Set background colour", "body": "<p>I am trying to remove a greyish background from a photo and replace it with a white one</p>\n\n<p>so far I have this code:</p>\n\n<pre><code>image = cv2.imread(args[\"image\"])\nr = 150.0 / image.shape[1]\ndim = (150, int(image.shape[0] * r))\nresized = cv2.resize(image, dim, interpolation=cv2.INTER_AREA)\nlower_white = np.array([220, 220, 220], dtype=np.uint8)\nupper_white = np.array([255, 255, 255], dtype=np.uint8)\nmask = cv2.inRange(resized, lower_white, upper_white) # could also use threshold\nres = cv2.bitwise_not(resized, resized, mask)\ncv2.imshow('res', res) # gives black background\n</code></pre>\n\n<p>The problem is that the image now has a black background as I have masked out the grey. How can I replace the empty pixels with white ones?</p>\n\n<p><img src=\"https://i.stack.imgur.com/zAJLd.jpg\" alt=\"Before\">\n<img src=\"https://i.stack.imgur.com/IFEA7.jpg\" alt=\"After\"></p>\n"}, {"tags": ["python", "regex", "string", "python-2.7"], "comments": [{"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429747744, "post_id": 29810126, "comment_id": 47750309, "body": "The <code>VM</code> id is always followed by an undefined set of strings and numbers, for example: <code>VM998SFE</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429746961, "post_id": 29810478, "comment_id": 47750031, "body": "Thanks for the help I forgot to mention that the <code>VM</code> id is followed by other strings. I must catch all the ids that has as first strings the <code>VM</code>pattern. Any idea of how to fix this?. I edited the quesiton."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429770645, "post_id": 29810478, "comment_id": 47758052, "body": "Could you please check again? I just added back the <code>\\S+</code> to <code>(VM\\S+)</code>. It seems to be working alright. Note that csv and other parsers can be really good. Still, I believe in regular expressions :)."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1429770423, "last_edit_date": 1429770423, "creation_date": 1429743653, "answer_id": 29810478, "question_id": 29810126, "link": "https://stackoverflow.com/questions/29810126/how-to-fix-a-regex-that-attemps-to-catch-some-word-and-id/29810478#29810478", "title": "How to fix a regex that attemps to catch some word and id?", "body": "<p>I guess this regex helps:</p>\n\n<pre><code>ur'.*?\\b(nunca)\\s+(\\S+)\\s+[0-9.]+[\\r\\n]+\\S+\\s+(\\S+)\\s+(VM\\S+)\\s+[0-9.]+'\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/eI0vI8/2\" rel=\"nofollow\">demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429744168, "post_id": 29810534, "comment_id": 47749061, "body": "Wow, thanks I did not explore this aproach!. Maybe a regex is difficulting this task!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 1, "creation_date": 1429744429, "post_id": 29810534, "comment_id": 47749160, "body": "No worries, <code>59 &#181;s vs 936 &#181;s </code> for the regex."}, {"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429747015, "post_id": 29810534, "comment_id": 47750046, "body": "Thanks for the help I forgot to mention that the <code>VM</code> id is followed by other strings. I must catch all the ids that has as first strings the <code>VM</code>pattern. I edited the quesiton."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1429747584, "last_edit_date": 1429747584, "creation_date": 1429743942, "answer_id": 29810534, "question_id": 29810126, "link": "https://stackoverflow.com/questions/29810126/how-to-fix-a-regex-that-attemps-to-catch-some-word-and-id/29810534#29810534", "title": "How to fix a regex that attemps to catch some word and id?", "body": "<p>You could parse the file line by line checking a pair of lines each time:</p>\n\n<pre><code>import csv\nwith open(\"in.txt\") as f:\n    reader = csv.reader(f,delimiter=\" \")\n    prev = next(reader)\n    for row in reader:\n        if \"VM\" in row and \"nunca\" in prev:\n            nun, val, = prev[-3:-1]\n            wrd, i = row[-3:-1]\n            print(nun, val, wrd, i)\n        prev = row\n\n('nunca', 'RG', 'success', 'VM')\n</code></pre>\n\n<p>Almost 20 times faster than using a regex:</p>\n\n<pre><code>In [1]: %%timeit\n   ...: with open(\"test.txt\") as f:\n   ...:     import re\n   ...:     pr= re.findall(ur'.*?\\b(nunca)\\s+(\\S+)\\s+[0-9.]+[\\r\\n]+\\S+\\s+(\\S+)\\s+(VM)\\s+[0-9.]+',f.read())\n   ...: \n1000 loops, best of 3: 936 \u00b5s per loop\n\nIn [2]: import csv\n\nIn [3]: %%timeit\n   ...: with open(\"test.txt\") as f:\n   ...:     reader = csv.reader(f,delimiter=\" \")\n   ...:     prev = next(reader)\n   ...:     for row in reader:\n   ...:         if \"VM\" in row and \"nunca\" in prev:\n   ...:             nun, val, = prev[-3:-1]\n   ...:             wrd, i = row[-3:-1]\n   ...: \n10000 loops, best of 3: 59 \u00b5s per loop\n</code></pre>\n\n<p>For your update:</p>\n\n<pre><code>import csv\nwith open(in.txt\") as f:\n    reader = csv.reader(f,delimiter=\" \")\n    prev = next(reader)\n    for row in reader:\n        if len(row) &lt; 2:\n            continue\n        if row[-2].startswith(\"VM\") and \"nunca\" in prev:\n            nun, val, = prev[-3:-1]\n            wrd, i = row[-3:-1]\n            print(nun, val, wrd, i)\n        prev = row\n\n('nunca', 'RG', 'success', 'VM23SDF')\n</code></pre>\n\n<p>Based in your input it seems VM___  is always the second last element, if it can be anywhere in the row  use:</p>\n\n<pre><code>`if any(ele.startswith(\"VM\") for ele in row)`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429747023, "post_id": 29810605, "comment_id": 47750051, "body": "Thanks for the help I forgot to mention that the <code>VM</code> id is followed by other strings. I must catch all the ids that has as first strings the <code>VM</code>pattern. Any idea of how to fix this?"}, {"owner": {"reputation": 949, "user_id": 1215156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113262d3c6468a9e2a32a1ef68aa3df?s=128&d=identicon&r=PG", "display_name": "ColOfAbRiX", "link": "https://stackoverflow.com/users/1215156/colofabrix"}, "reply_to_user": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429747843, "post_id": 29810605, "comment_id": 47750347, "body": "Do you mean VM plus a number, like VM1234 ?"}, {"owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 0, "creation_date": 1429747914, "post_id": 29810605, "comment_id": 47750371, "body": "Yes, plus a number like <code>VM1234</code> or a string like <code>VM1234SDE</code>"}, {"owner": {"reputation": 949, "user_id": 1215156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113262d3c6468a9e2a32a1ef68aa3df?s=128&d=identicon&r=PG", "display_name": "ColOfAbRiX", "link": "https://stackoverflow.com/users/1215156/colofabrix"}, "reply_to_user": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "edited": false, "score": 1, "creation_date": 1429748224, "post_id": 29810605, "comment_id": 47750470, "body": "In my last update the ID is optional. It shouldn&#39;t harm (I&#39;m not sure about the input format), but if you want to make it compulsory, remove the question mark at the end of the regex"}], "tags": [], "owner": {"reputation": 949, "user_id": 1215156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8113262d3c6468a9e2a32a1ef68aa3df?s=128&d=identicon&r=PG", "display_name": "ColOfAbRiX", "link": "https://stackoverflow.com/users/1215156/colofabrix"}, "is_accepted": true, "score": 1, "last_activity_date": 1429748019, "last_edit_date": 1429748019, "creation_date": 1429744345, "answer_id": 29810605, "question_id": 29810126, "link": "https://stackoverflow.com/questions/29810126/how-to-fix-a-regex-that-attemps-to-catch-some-word-and-id/29810605#29810605", "title": "How to fix a regex that attemps to catch some word and id?", "body": "<p>Making some assumption of uniformity of the format, and if I understand right that it's possible to search only for <code>word_2</code>, then the regex can be very simple:</p>\n\n<pre><code>regex = re.compile(\"(nunca)\\s(\\S+)\\s\\d\\S*\\n\\S+\\s(\\S+)\\s(VM)\", re.MULTILINE)\nregex.findall(string)\n</code></pre>\n\n<p>I'm not a Python user, I tested my regex <a href=\"http://www.pythonregex.com/\" rel=\"nofollow\">here</a></p>\n\n<p><strong>UPDATE</strong> After the correction John made, the new regex will be:</p>\n\n<pre><code>regex = re.compile(\"(nunca)\\s(\\S+)\\s\\d\\S*\\n\\S+\\s(\\S+)\\s(VM)(\\S+)?\", re.MULTILINE)\nregex.findall(string)\n</code></pre>\n\n<p>This way you'll be able to catch both VM and the ID separetely. If you want them together simply change to <code>(VM\\S+)</code></p>\n"}], "owner": {"reputation": 1905, "user_id": 4114372, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b374a0395b39b278373c21b5c6840d1b?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/4114372/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29810605, "answer_count": 3, "score": 7, "last_activity_date": 1429770423, "creation_date": 1429741910, "last_edit_date": 1429747271, "question_id": 29810126, "link": "https://stackoverflow.com/questions/29810126/how-to-fix-a-regex-that-attemps-to-catch-some-word-and-id", "title": "How to fix a regex that attemps to catch some word and id?", "body": "<p>I have a <code>.txt</code> file that looks like the <code>s</code> string. The <code>s</code> string is conformed by <code>word_1</code> followed by <code>word_2</code> an <code>id</code> and a <code>number</code>:</p>\n\n<pre><code>word_1 word_2 id number\n</code></pre>\n\n<p>I would like to create a regex that catch in a list all the ocurrences of the word <code>\"nunca\"</code> followed by the id <code>VM_ _ _ _</code>. <strong>The constrait</strong> to extract the <code>\"nunca\"</code> and <code>VM_ _ _ _</code> pattern is that the ocurrences <strong>must appear one after another</strong>, where <code>_</code> are free characters of the <code>id</code> string e.g. :</p>\n\n<pre><code>nunca nunca RG 0.293030\nfirst_word second_word VM223FDS 0.902333\nerror errpr RG 0.345355667\nnunca nunca RG 0.1489098\nninguna ninguno DI0S3DF 0.345344\nthird fourth VM34SDF 0.7865489\n</code></pre>\n\n<p>This is the pattern I would like to extract since they are placed one after another. And this will be the desired output in a list:</p>\n\n<pre><code>[(nunca,RG),(second_word, VM223FDS)]\n</code></pre>\n\n<p><strong>For example this will be wrong</strong>, since they are not one after another:</p>\n\n<pre><code>nunca nunca RG 0.293030\nprendas prenda NCFP000 0.95625\nsuccess success VM23434SDF 0.902333\n</code></pre>\n\n<p>So for the <code>s</code> string:</p>\n\n<pre><code>s = '''Vaya ir VMM03S0 0.427083\nma\u00f1anita ma\u00f1ana RG 0.796611\n, , Fc 1\nbuscando buscar VMG0000 1\nuna uno DI0FS0 0.951575\nlavadora lavadora NCFS000 0.414738\ncon con SPS00 1\nla el DA0FS0 0.972269\nque que PR0CN000 0.562517\nsorprender sorprender VMN0000 1\na a SPS00 0.996023\nuna uno DI0FS0 0.951575\npersona persona NCFS000 0.98773\nmuy muy RG 1\nespecial especial AQ0CS0 1\npara para SPS00 0.999103\nnosotros nosotros PP1MP000 1\n, , Fc 1\ny y CC 0.999962\nla lo PP3FSA00 0.0277039\nencontramos encontrar VMIP1P0 0.65\n. . Fp 1\n\nPero pero CC 0.999764\nvamos ir VMIP1P0 0.655914\na a SPS00 0.996023\nlo el DA0NS0 0.457533\nque que PR0CN000 0.562517\ninteresa interesar VMIP3S0 0.994868\nLO_QUE_INTERESA_La lo_que_interesa_la NP00000 1\nlavadora lavador AQ0FS0 0.585262\ntiene tener VMIP3S0 1\nuna uno DI0FS0 0.951575\nclasificaci\u00f3n clasificaci\u00f3n NCFS000 1\nA+ a+ NP00000 1\n, , Fc 1\nde de SPS00 0.999984\nlas el DA0FP0 0.970954\nque que PR0CN000 0.562517\nahorran ahorrar VMIP3P0 1\nenerg\u00eda energ\u00eda NCFS000 1\n, , Fc 1\nsi si CS 0.99954\nno no RN 0.998134\nme me PP1CS000 0.89124\nequivoco equivocar VMIP1S0 1\n. . Fp 1\n\nLava lavar VMIP3S0 0.397388\nhasta hasta SPS00 0.957698\n7 7 Z 1\nkg kilogramo NCMN000 1\n, , Fc 1\nno no RN 0.998134\nest\u00e1 estar VAIP3S0 0.999201\nnada nada RG 0.135196\nmal mal RG 0.497537\n, , Fc 1\nse se P00CN000 0.465639\nle le PP3CSD00 1\nve\u00eda ver VMII3S0 0.62272\nun uno DI0MS0 0.987295\ngran gran AQ0CS0 1\ntambor tambor NCMS000 1\n( ( Fpa 1\nde de SPS00 0.999984\nacero acero NCMS000 0.973481\ninoxidable inoxidable AQ0CS0 1\n) ) Fpt 1\ny y CC 0.999962\nun uno DI0MS0 0.987295\nerror error NCFSD23 0.234930\nerror error VMDFG34 0.98763\nconsumo consumo NCMS000 0.948927\nm\u00e1ximo m\u00e1ximo AQ0MS0 0.986111\nde de SPS00 0.999984\n49 49 Z 1\nlitros litro NCMP000 1\nerror error DI0S3DF 1\nMandos mandos NP00000 1\nintuitivos intuitivo AQ0MP0 1\n, , Fc 1\ntodo todo PI0MS000 0.43165\nmuy muy RG 1\nbien bien RG 0.902728\nexplicado explicar VMP00SM 1\n, , Fc 1\njamas jamas RG 0.343443\nnada nada PI0CS000 0.850279\nque que PR0CN000 0.562517\nver ver VMN0000 0.997382\ncon con SPS00 1\nla el DA0FS0 0.972269\nlavadora lavadora NCFS000 0.414738\nde de SPS00 0.999984\nnunca nunca RG 0.903\ncasa casa NCFS000 0.979058\nde de SPS00 0.999984\nmis mi DP1CPS 0.995868\nerror error VM9032 0.234323\nstring string VMWEOO 0.03444\npadres padre NCMP000 1\nAdem\u00e1s adem\u00e1s NP00000 1\nincluye incluir VMIP3S0 0.994868\nla el DA0FS0 0.972269\ntecnolog\u00eda tecnolog\u00eda NCFS000 1\nerror errpr RG2303 1\nTextileprotec textileprotec NP00000 1\nque que PR0CN000 0.562517\nprotege proteger VMIP3S0 0.994868\nnuestras nuestro DP1FPP 0.994186\nninguna ninguno DI0S3DF 0.345344\nfalla falla NCFSD23 1\nprendas prenda NCFP000 0.95625\nm\u00e1s m\u00e1s RG 1\npreciadas preciar VMP00PF 1\njamas jamas RG2303 1\nstring string VM9032 0.234323\nnunca nunca RG 0.293030\nsuccess success VM23SDF 0.902333\n. . Fp 1'''\n</code></pre>\n\n<p><strong>this is what I tried</strong>:</p>\n\n<pre><code>import re\npattern__ = re.findall(r'(?m)^.*?\\b(nunca)\\s+(\\S+)\\s+[0-9.]+\\n.*?\\s(\\S+)\\s+(VM\\S+)\\s+[0-9.]+$', s)\n\nprint pattern__\n</code></pre>\n\n<p>The problem with this aproach is that it returns a blank list: <code>[]</code>. Any idea of how to fix this in order to obtain:</p>\n\n<pre><code>[('nunca','RG'),('success','VM23SDF')]\n</code></pre>\n\n<p><strong>Thanks in advance guys!</strong></p>\n"}, {"tags": ["python", "dictionary", "matrix", "graph-theory"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 5, "creation_date": 1429741974, "post_id": 29810114, "comment_id": 47748270, "body": "What exactly are you trying to do? Please <a href=\"https://stackoverflow.com/posts/29810114/edit\">edit</a> your question and clarify it, as it stands now it is very unclear what you&#39;re asking."}, {"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 0, "creation_date": 1429742446, "post_id": 29810114, "comment_id": 47748470, "body": "since you are using 0-5 for your indexes of the first layer of your dict... would it make more sense to just use a list?"}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1429742654, "post_id": 29810114, "comment_id": 47748537, "body": "That code should work, take a look at <a href=\"http://stackoverflow.com/questions/3817529/syntax-for-creating-a-dictionary-into-another-dictionary-in-python\">syntax for creating a dictionary into another dictionary in python</a> for other suggestions"}, {"owner": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1429743064, "post_id": 29810114, "comment_id": 47748674, "body": "@MattDMo , I hope my question is more clear, now :)"}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1429748360, "post_id": 29810114, "comment_id": 47750510, "body": "@aB61 when you say you &quot;have&quot; this matrix, in what form do you have it?  as a <code>numpy</code> <code>array</code>?  as lines in a text file?"}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1429748585, "post_id": 29810114, "comment_id": 47750589, "body": "do you need to transform the matrix into a dictionary?  why not transform it into something with a little more computational power, like a <code>numpy</code> <code>array</code> or <code>matrix</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1429744742, "post_id": 29810538, "comment_id": 47749266, "body": "It would be much better if your answer focused on <code>numpy</code> and some of its matrix operations..."}, {"owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1429744888, "post_id": 29810538, "comment_id": 47749310, "body": "@MattDMo yeah, I&#39;ll probably update. I&#39;m always wary of focussing on libraries that the asker is not using other than a brief mention, but I can see it may be useful."}, {"owner": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "edited": false, "score": 1, "creation_date": 1429744896, "post_id": 29810538, "comment_id": 47749314, "body": "@enigma , I want to transform my matrix, that I have in a file and is much more bigger then the one I gave as an example in my question in a dictionary of dictionaries... is it possible to do something like that using some code?"}, {"owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "reply_to_user": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "edited": false, "score": 0, "creation_date": 1429744980, "post_id": 29810538, "comment_id": 47749348, "body": "@aB61 and is the much larger matrix in the exact form that you&#39;ve posted? i.e. with the same heading and left margin entries?"}, {"owner": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "edited": false, "score": 0, "creation_date": 1429745175, "post_id": 29810538, "comment_id": 47749428, "body": "@enigma, yes it is . It&#39;s a 20x20 matrix"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "edited": false, "score": 1, "creation_date": 1429746174, "post_id": 29810538, "comment_id": 47749787, "body": "@aB61 check out NumPy&#39;s <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.matrix.html\" rel=\"nofollow noreferrer\">matrix</a> structure and associated methods. It&#39;s <i>much</i> easier to use than trying to do matrix operations on regular Python lists or dicts."}], "tags": [], "owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "is_accepted": true, "score": 0, "last_activity_date": 1429748937, "last_edit_date": 1429748937, "creation_date": 1429743952, "answer_id": 29810538, "question_id": 29810114, "link": "https://stackoverflow.com/questions/29810114/convert-a-graph-in-matrix-form-to-a-dict/29810538#29810538", "title": "Convert a graph in matrix form to a dict", "body": "<p>You could create a dictionary as you have in the question, or you could create a list of lists</p>\n\n<pre><code>graph = [\n    [1, 1, 1, 1],\n    [1, 1, 1, 0],\n    [1, 1, 1, 1],\n    [1, 0, 1, 1]\n]\n</code></pre>\n\n<p>Using the <a href=\"http://www.numpy.org/\" rel=\"nofollow\">numpy</a> library (<a href=\"http://sourceforge.net/projects/numpy/files/NumPy/1.9.2/\" rel=\"nofollow\">link</a> to pre-built windows installers for convenience) is greatly recommended for operating on matrices in python. The following would read a file containing your data into a numpy matrix, as I believe you are asking (correct me if I'm wrong).</p>\n\n<pre><code>import numpy as np\n\nwith open(\"matrix.txt\") as f:\n    data = np.genfromtxt((line[3:] for line in f), delimiter=',', skiprows=1)\n</code></pre>\n\n<p>If <code>print data</code> is called given your example matrix, the following is output:</p>\n\n<pre><code>[[ 1.  1.  1.  1.]\n [ 1.  1.  1.  0.]\n [ 1.  1.  1.  1.]\n [ 1.  0.  1.  1.]]\n</code></pre>\n\n<p>You'll notice I've used a hard coded value of 3 to strip off the first column - as I don't have your actual data I don't know if this is accurate or not, as I don't know how large row values are formatted. You might want to use <code>line[line.index(' '):]</code> to find the position of the first space instead for greater robustness.</p>\n\n<p>You can then do numpy matrix <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.matrix.html\" rel=\"nofollow\">operations</a> on the data.</p>\n"}], "owner": {"reputation": 17, "user_id": 4646050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/989395821131480/picture?type=large", "display_name": "aB61", "link": "https://stackoverflow.com/users/4646050/ab61"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "accepted_answer_id": 29810538, "answer_count": 1, "score": -4, "last_activity_date": 1429750570, "creation_date": 1429741861, "last_edit_date": 1429750570, "question_id": 29810114, "link": "https://stackoverflow.com/questions/29810114/convert-a-graph-in-matrix-form-to-a-dict", "title": "Convert a graph in matrix form to a dict", "body": "<p>Suppose I have a boolean matrix: (like this one):</p>\n\n<pre><code>X   0  1  2  3 \n0   1, 1, 1, 1\n1   1, 1, 1, 0\n2   1, 1, 1, 1\n3   1, 0, 1, 1 \n</code></pre>\n\n<p>and I would like to transform it in a graph, in order to find the shortest path between two vertices (I'm going to apply Dijkstra\u2019s algorithm) . I think I allready know how to apply this algorithm in python, the only problem I have is to transform this matrix in a dictionary that could look like this : </p>\n\n<pre><code>graph = {0 : {0:1, 1:1, 2:1, 3:1},\n1 : {0:1, 1:1, 2:1},\n2 : {0:1, 1:1, 2:1, 3:1},\n3 : {0:1, 2:1, 3:1}}\n</code></pre>\n\n<p>well, I'm not sure that the way I am thinking about it is correct, can somebody help me with this?</p>\n"}, {"tags": ["python", "excel", "ms-access", "sas", "pivot-table"], "comments": [{"owner": {"reputation": 2126, "user_id": 3076048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6400b93631ba00051f21c5e158f1ed34?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Balhoff", "link": "https://stackoverflow.com/users/3076048/mark-balhoff"}, "reply_to_user": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "edited": false, "score": 0, "creation_date": 1429742522, "post_id": 29810103, "comment_id": 47748497, "body": "Do you have a preference on doing this in Excel vs Access? Like @pnuts said, look into Pivot Table. Have you made any attempt at least at the logic of how to attack the problem? Do you have a preference on whether your main data is sorted (assuming Excel and no pivot table) ?"}, {"owner": {"reputation": 16968, "user_id": 1919583, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/35a12f323e0bea76c8b442df11825d57?s=128&d=identicon&r=PG", "display_name": "Reeza", "link": "https://stackoverflow.com/users/1919583/reeza"}, "edited": false, "score": 0, "creation_date": 1429742775, "post_id": 29810103, "comment_id": 47748585, "body": "How do you define a time block?"}, {"owner": {"reputation": 11, "user_id": 4821635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lRy2pXwyO3c/AAAAAAAAAAI/AAAAAAAApRA/PP0aMJ1cXEU/photo.jpg?sz=128", "display_name": "Jimmy Spero", "link": "https://stackoverflow.com/users/4821635/jimmy-spero"}, "edited": false, "score": 0, "creation_date": 1429807804, "post_id": 29810103, "comment_id": 47785879, "body": "No preference on software to use. I can sort the DateTime field and observe where blocks of continuous hourly readings occur. The time blocks are defined by any break in hourly data (that is,  a skip of one or more hours - indicating the start of a new time block). This is easy to see in a spreadsheet or pivot, but how to automate select these irregular sized blocks and compute stats on them? In the pivot example, how to tag GP? 24,000 records."}, {"owner": {"reputation": 2126, "user_id": 3076048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6400b93631ba00051f21c5e158f1ed34?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Balhoff", "link": "https://stackoverflow.com/users/3076048/mark-balhoff"}, "edited": false, "score": 0, "creation_date": 1429815090, "post_id": 29810103, "comment_id": 47790418, "body": "&quot;need to automate the identification of the the time blocks&quot; Ok so how are these blocks identified? What logic should this automation utilize?"}], "answers": [{"tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": false, "score": 1, "last_activity_date": 1429742926, "creation_date": 1429742926, "answer_id": 29810336, "question_id": 29810103, "link": "https://stackoverflow.com/questions/29810103/calculate-average-values-over-blocks-of-consecutive-hourly-records-separated-by/29810336#29810336", "title": "Calculate average values over blocks of consecutive hourly records separated by gaps in time", "body": "<p>Here is a PivotTable example:-  </p>\n\n<p><img src=\"https://i.stack.imgur.com/ClO2d.jpg\" alt=\"SO29810103 example\"></p>\n"}], "owner": {"reputation": 11, "user_id": 4821635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lRy2pXwyO3c/AAAAAAAAAAI/AAAAAAAApRA/PP0aMJ1cXEU/photo.jpg?sz=128", "display_name": "Jimmy Spero", "link": "https://stackoverflow.com/users/4821635/jimmy-spero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443472525, "creation_date": 1429741817, "last_edit_date": 1443472525, "question_id": 29810103, "link": "https://stackoverflow.com/questions/29810103/calculate-average-values-over-blocks-of-consecutive-hourly-records-separated-by", "title": "Calculate average values over blocks of consecutive hourly records separated by gaps in time", "body": "<p>The data come to me in Excel. MS-Access is also available, of course. I also have SAS and Python.  </p>\n\n<p>I have data in two columns which I named <code>DateTime</code> and <code>Observation</code>. Observations are numeric and correspond to hourly readings. When sorted, there are runs of consecutive hourly observations over one or more days, separated logically (and irregularly) by gaps in time greater than one hour.  </p>\n\n<p>I need to automate the identification of the the time blocks (24,000 records) and calculate average, minimum, and maximum <code>Observation</code> for each discrete time block.</p>\n"}, {"tags": ["python", "nltk", "analysis", "wordnet"], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "edited": false, "score": 0, "creation_date": 1429845591, "post_id": 29829675, "comment_id": 47802713, "body": "I worded my question wrong, sorry. I&#39;m aiming to find similarities between the titles of a set of projects. It was just strange for me to see that more than 80% of the title names resulted in a similarity of 0.05-0.2. I had expected a wider distribution given prior knowledge of what the projects do, and hence expected similar projects to have similarly named titles. But seeing that the words in the titles were all &#39;random&#39; as per this metric, I&#39;m confused if WordNet&#39;s path_similarity is the function I&#39;m looking for to detect how similar two words are semantically."}], "tags": [], "owner": {"reputation": 6900, "user_id": 819544, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XIFoP.jpg?s=128&g=1", "display_name": "David Marx", "link": "https://stackoverflow.com/users/819544/david-marx"}, "is_accepted": false, "score": 3, "last_activity_date": 1429807503, "creation_date": 1429807503, "answer_id": 29829675, "question_id": 29810081, "link": "https://stackoverflow.com/questions/29810081/whats-best-wordnet-function-for-similarity-between-words/29829675#29829675", "title": "What&#39;s best WordNet function for similarity between words?", "body": "<p>For context, <a href=\"https://github.com/nltk/nltk/blob/7ba46b9d52ed0c03bf806193f38d8c0e9bd8a9b4/nltk/corpus/reader/wordnet.py#l728\" rel=\"nofollow\">here's how this is calculated</a>: </p>\n\n<ol>\n<li><p>Claculate the length of the shortest path between the two synsets/words (inclusive).</p></li>\n<li><p>Return the score as 1/pathlen</p></li>\n</ol>\n\n<p>Therefore a score &lt;.2 is indicative of a pathlength > 5 steps. Inclusive of the two input synsets, that means there are at least 4 synsets between them.</p>\n\n<p>With that said: you're complaint seems to be \"according to this metric, two words chosen at random are pretty consistently unrelated! What's going on?\" Well, your similarity metric is telling you that random words are generally not closely related. This shouldn't be that surprising. Why are you calculating similarities between random words to begin with? </p>\n"}], "owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429807503, "creation_date": 1429741705, "last_edit_date": 1429742336, "question_id": 29810081, "link": "https://stackoverflow.com/questions/29810081/whats-best-wordnet-function-for-similarity-between-words", "title": "What&#39;s best WordNet function for similarity between words?", "body": "<p>I aim to find the similarities between words for about ~10,000 words. I'm using the \"word.path_similarity(otherword)\" method of the wordnet library but the results I'm getting for the path_similarity are in the range 0-0.1 as opposed to being distributed over 0-1. How is it possible that similarities between 10,000 random words all end up in that narrow range? </p>\n\n<p>Is there a better way to use WordNet for finding similarity between two words?</p>\n"}, {"tags": ["python", "qt", "pyqt", "qt4", "pyqt4"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429741817, "post_id": 29810045, "comment_id": 47748205, "body": "You define <code>self.button1</code> in the line above that; you don&#39;t define <code>button1</code> anywhere. They&#39;re not the same thing\u2014one is an instance attribute that exists, the other is a global variable that doesn&#39;t."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429742126, "post_id": 29810045, "comment_id": 47748332, "body": "Totem just pointed that out: that was an error whilst I was playing around trying to fix things. If I have .connect(self.button1.playSample) the programme runs but seems to completely ignore the instantiation of the class?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1429742743, "post_id": 29810045, "comment_id": 47748576, "body": "The class is being instantiated; how can it <i>not</i> be? What do you expect to be happening that is not?"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429743052, "post_id": 29810045, "comment_id": 47748666, "body": "The button is just one in a number of buttons. The other buttons have all been created in the setupUi function called in Ui_Form&#39;s init.   I&#39;m attempting to create a class for the buttons to cut down the code from over 1000 lines to about 100.  So in summary, button1 does not appear at all!"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1429744966, "post_id": 29810045, "comment_id": 47749340, "body": "Where&#39;s the code where you add the button to your layout?"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429746018, "post_id": 29810045, "comment_id": 47749729, "body": "I thought I had done with the <code>self.setGeometry(QtCore.QRect(90, 90, 61, 51))</code> line? I assume this should be where I do my research?"}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 2, "creation_date": 1429762113, "post_id": 29810045, "comment_id": 47754640, "body": "Can you provide a minmilistic example (something we can run) with 2 buttons that work (created by <code>setupUi</code>) and the one that doesn&#39;t. It is difficult to understand what you are currently doing."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429791166, "post_id": 29810045, "comment_id": 47772319, "body": "I&#39;ve added a working piece of code as small as I could make it that depicts the button creation in both ways :)  I assume that my problem is calling the Button class I create with the Form argument, but I&#39;m not sure where to use it and everything I&#39;ve tried either creates just a normal QPushButton that doesn&#39;t work with my custom button settings or doesn&#39;t display anything!"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429814622, "post_id": 29810045, "comment_id": 47790132, "body": "Full fix posted here:    <a href=\"http://stackoverflow.com/questions/29829043/custom-button-pyqt4/29830530#29830530\" title=\"custom button pyqt4\">stackoverflow.com/questions/29829043/custom-button-pyqt4/&hellip;</a>"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429815179, "post_id": 29810045, "comment_id": 47790474, "body": "Full fix is posted here!    <a href=\"http://stackoverflow.com/questions/29829043/custom-button-pyqt4/29830530#29830530\" title=\"custom button pyqt4\">stackoverflow.com/questions/29829043/custom-button-pyqt4/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429745814, "post_id": 29810676, "comment_id": 47749668, "body": "I&#39;ll add the way that buttons are currently added in the setupUi function into my question due to not being able to properly format it here.   I don&#39;t really understand how to do either of the things you said for my button however, sorry if I&#39;m being stupid and it&#39;s incredibly simple!"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429749546, "post_id": 29810676, "comment_id": 47750907, "body": "Okay, I understand the problem at hand now, however I&#39;ve no clue how to add the button to my existing layout. I don&#39;t use a layout manager, there are 80 buttons all created in the way stated at the bottom of the question. They are never added to a layout manager at all, so how can I display the button I created in this way?"}, {"owner": {"reputation": 779, "user_id": 1837353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PKE7.jpg?s=128&g=1", "display_name": "Hamish Moffatt", "link": "https://stackoverflow.com/users/1837353/hamish-moffatt"}, "edited": false, "score": 0, "creation_date": 1429756970, "post_id": 29810676, "comment_id": 47753137, "body": "Creating it with the form as the parent should be enough then, just move() it to where you want it and show() it. But use a layout manager..."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429792361, "post_id": 29810676, "comment_id": 47773306, "body": "I&#39;m not really sure how to use a layout manager for my purpose because:  I have a background image, so if I construct the whole thing using a layout manager, the image will just be set as a &#39;block&#39; within the manager and not as a background? If that makes sense. For example, my background would be top left, a button would be the next square along and so forth"}], "tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": true, "score": 1, "last_activity_date": 1429744713, "creation_date": 1429744713, "answer_id": 29810676, "question_id": 29810045, "link": "https://stackoverflow.com/questions/29810045/displaying-custom-button-class-in-pyqt4/29810676#29810676", "title": "Displaying custom button class in PyQt4", "body": "<p>Python is not ignoring the instantiation of the <code>Button</code> class. Neither is PyQt. The button is definitely being created.</p>\n\n<p>The key is that while it is being created, <strong>you are not able to see it</strong>. This is because you must either add it to a layout which is a child of your <code>Ui_Form</code> or explicitly specify the parent widget for the button (the former actually does the latter internally anyway).</p>\n\n<p>I would suggest adding it to a layout in your <code>Ui_Form</code> so that it behaves nicely when resizing the window, etc. Have a look in the <code>setupUi()</code> method to see how the buttons there are added to a layout. Then replicate this for your custom button.</p>\n"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 1, "accepted_answer_id": 29810676, "answer_count": 1, "score": -1, "last_activity_date": 1429791117, "creation_date": 1429741558, "last_edit_date": 1429791117, "question_id": 29810045, "link": "https://stackoverflow.com/questions/29810045/displaying-custom-button-class-in-pyqt4", "title": "Displaying custom button class in PyQt4", "body": "<p>I've created a custom button class that I wish to add to my layout created using QT Designer.</p>\n\n<p>Here is the first class' <strong>init</strong> function:</p>\n\n<pre><code>class Ui_Form(QtGui.QWidget):\n    def __init__(self):\n        QtGui.QWidget.__init__(self)\n        self.setupUi(self)\n        self.button1 = Button()\n        self.button1.clicked.connect(self.button1.playSample)\n</code></pre>\n\n<p>And here is the button class it is calling:</p>\n\n<pre><code>class Button(QtGui.QPushButton):\n    def __init__(self):\n        super(Button, self).__init__()\n        self.setAcceptDrops(True)\n        self.setGeometry(QtCore.QRect(90, 90, 61, 51))\n        self.setText(\"Drag onto Me\")\n</code></pre>\n\n<p>The problem is that I have no idea how to display this button class in the way I display the buttons created by QT Designer. </p>\n\n<p>Buttons are currently added in the setupUi function of the Ui_Form class in the following way (they are not added to a layout manager, so I assume 'form' has something to do with it, however I just do not know what to do!):</p>\n\n<pre><code>    self.btn_b8 = QtGui.QPushButton(Form)\n    self.btn_b8.setGeometry(QtCore.QRect(440, 90, 61, 51))\n    self.btn_b8.setText(\"\")\n    icon = QtGui.QIcon()\n    icon.addPixmap(QtGui.QPixmap(\"Python/LP_Proj/LP_Square_Off.png\"), QtGui.QIcon.Normal, QtGui.QIcon.Off)\n    self.btn_b8.setIcon(icon)\n    self.btn_b8.setIconSize(QtCore.QSize(55, 55))\n    self.btn_b8.setObjectName(\"btn_b8\")\n</code></pre>\n\n<p>Here is a minimalistic example of code (as small as I could make it) that depicts a button working, and the button I am trying to create not being shown.. The reason I don't know how to implement using a layout manager is that I have a background image that needs to be used, and with a layout manager the image just gets put into one of the slots, rather than placing everything upon it. But this is most likely due to my limited knowledge of PyQt!</p>\n\n<pre><code>import sys\nfrom PyQt4 import QtCore, QtGui\n\nclass Ui_Form(QtGui.QWidget):\n    def __init__(self):\n        QtGui.QWidget.__init__(self)\n        self.setupUi(self)\n\n    def setupUi(self, Form):\n        Form.setObjectName(\"Form\")\n        Form.resize(591, 591)\n        self.Background = QtGui.QLabel(Form)\n        self.Background.setGeometry(QtCore.QRect(0, 0, 631, 591))\n        self.Background.setText(\"\")\n        self.Background.setPixmap(QtGui.QPixmap(\"Python/LP_Proj/LP_Background.png\"))\n        self.Background.setObjectName(\"Background\")\n\n        self.btn_a1 = Button(Form)\n\n        self.btn_a2 = QtGui.QPushButton(Form)\n        self.btn_a2.setGeometry(QtCore.QRect(90, 40, 41, 41))\n        self.btn_a2.setText(\"\")\n        self.btn_a2.setObjectName(\"btn_a2\")\n\n        self.lab_a1 = QtGui.QLabel(Form)\n        self.lab_a1.setGeometry(QtCore.QRect(20, 76, 61, 16))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.lab_a1.setFont(font)\n        self.lab_a1.setObjectName(\"lab_a1\")\n\n        self.lab_a2 = QtGui.QLabel(Form)\n        self.lab_a2.setGeometry(QtCore.QRect(80, 76, 61, 16))\n        font = QtGui.QFont()\n        font.setPointSize(10)\n        self.lab_a2.setFont(font)\n        self.lab_a2.setObjectName(\"lab_a2\")\n\n        self.retranslateUi(Form)\n        QtCore.QMetaObject.connectSlotsByName(Form)\n\n    def retranslateUi(self, Form):\n        Form.setWindowTitle(QtGui.QApplication.translate(\"Form\", \"Launchpad Control\", None, QtGui.QApplication.UnicodeUTF8))\n        self.btn_a1.clicked.connect(self.btn_a1.playSample)\n        self.lab_a1.setText(QtGui.QApplication.translate(\"Form\", \"&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p align=\\\"center\\\"&gt;&lt;span style=\\\" color:#ffffff;\\\"&gt;Unassigned&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\", None, QtGui.QApplication.UnicodeUTF8))\n        self.lab_a2.setText(QtGui.QApplication.translate(\"Form\", \"&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p align=\\\"center\\\"&gt;&lt;span style=\\\" color:#ffffff;\\\"&gt;Unassigned&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\", None, QtGui.QApplication.UnicodeUTF8))\n\nclass Button(QtGui.QPushButton):\n    def __init__(self, Form):\n        super(Button, self).__init__()\n        self.setAcceptDrops(True)\n\n        self.setGeometry(QtCore.QRect(30, 40, 41, 41))\n        self.setText(\"\")\n        self.setObjectName(\"btn_a1\")\n\n    def dragEnterEvent(self, event):\n        if event.mimeData().hasUrls():\n            event.acceptProposedAction()\n        else:\n            super(Button, self).dragEnterEvent(event)\n\n    def dragMoveEvent(self, event):\n        super(Button, self).dragMoveEvent(event)\n\n    def dropEvent(self, event):\n        if event.mimeData().hasUrls():\n            for url in event.mimeData().urls():\n                self.samplepath = str(url.toLocalFile())\n                print self.samplepath\n            event.acceptProposedAction()\n        else:\n            super(Button,self).dropEvent(event)\n\n    def playSample(self):\n        sample = self.samplepath\n        print sample\n\nif __name__=='__main__':\n    app = QtGui.QApplication(sys.argv)\n    ex = Ui_Form()\n    ex.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>The button 'a1' should be created to the left of 'a2' and above the label 'a1'. Below is a small screenshot of the programme running and where the button should be. In all there is a total of 80 buttons + labels, all with this drag and drop functionality, hence why I'd prefer/need to use a class. The class will eventually determine the positioning and image for the button, but for now I'm just trying to get it to work! </p>\n\n<p><img src=\"https://i.stack.imgur.com/2vs2t.png\" alt=\"Example of button\"></p>\n"}, {"tags": ["python", "queue", "multiprocessing", "dataframe", "python-multiprocessing"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429741944, "post_id": 29810041, "comment_id": 47748257, "body": "So what does the output look like? Does it say &quot;DF 0 stored&quot; through &quot;DF 19 stored&quot; (in arbitrary order) with a &quot;joining 0&quot; mixed in somewhere? Or something different? (If the problem also happens with only, say, 3 processes, consider doing it that way, so you can just paste the whole output without overwhelming anyone\u2026)"}, {"owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "edited": false, "score": 0, "creation_date": 1429742074, "post_id": 29810041, "comment_id": 47748309, "body": "Have you had a look at you system recourse utilization while running the code? If it is a memory issue look at this <a href=\"http://stackoverflow.com/questions/8956832/python-out-of-memory-on-large-csv-file-numpy\" title=\"python out of memory on large csv file numpy\">stackoverflow.com/questions/8956832/&hellip;</a>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429742205, "post_id": 29810041, "comment_id": 47748373, "body": "Also, I don&#39;t know whether Pandas can make use of NumPy&#39;s multiprocessing shared arrays or not (google numpy-sharedmem), but if it can, that would probably be a lot more efficient than pickling 20 huge frames and passing them over a pipe (which is what <code>Queue</code> does under the covers\u2014and there may be a bug in Pandas&#39; pickler or something that&#39;s causing your problem\u2026)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429742371, "post_id": 29810041, "comment_id": 47748435, "body": "Also, have you verified that if you pull out Pandas (maybe just pass a dict of the same size, instead of a DataFrame made from that dict) the problem goes away? Especially if you&#39;re using Python 3.2 or earlier, where multiprocessing had some bugs that have since been fixed\u2026"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429742717, "post_id": 29810041, "comment_id": 47748566, "body": "One last thing: what you&#39;re doing here could be replaced by just a couple lines of code with a pool (e.g., <a href=\"http://pastebin.com/XNSTSX1E\" rel=\"nofollow noreferrer\">pastebin.com/XNSTSX1E</a>). If you try that, does it work? If so, is there a reason you can&#39;t do it that way in your real code?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429742826, "post_id": 29810041, "comment_id": 47748601, "body": "If it always stops after 3, that&#39;s interesting. Or at least it could be, if either (a) a larger range stops at a smaller number, or (b) you have exactly 4 cores. Is either of those true?"}, {"owner": {"reputation": 23, "user_id": 4042493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7291e19be98e6adf21f29f798f78ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4042493/felix"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429743061, "post_id": 29810041, "comment_id": 47748672, "body": "@abarnert It seems it is ony linked to <code>pandas.DataFrame</code> objects since replacing by <code>DF=range(1000)</code> works as well as <code>DF={&quot;hello&quot;:range(1000)}</code>. (b) I have exactly 4 cores. I use Python 2.7."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429743090, "post_id": 29810041, "comment_id": 47748683, "body": "If it&#39;s (a), pickling this frame should take right around 16K, and 4 of those may just barely fit into 64K, and when that number shows up in debugging, it&#39;s usually not irrelevant\u2026 Although instead of just me guessing how much it should take, can you <code>print(len(multiprocessing.reduction.ForkingPickler.dumps(DF)&zwnj;&#8203;))</code>?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429743149, "post_id": 29810041, "comment_id": 47748704, "body": "In addition to the above questions: exactly which versions of Python, NumPy, and Pandas do you have, and how did you install them?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429743579, "post_id": 29810041, "comment_id": 47748854, "body": "Hold on\u2026 <code>DF=range(1000)</code> or <code>DF={&quot;hello&quot;:range(1000)}</code> is only going to be a few bytes, because it&#39;ll pickle the <code>range</code> object, not the 1000 separate numbers. What if you use <code>DF={&quot;hello&quot;: list(range(1000))}</code>? Does that work, or have the same problem as the DataFrame?"}, {"owner": {"reputation": 23, "user_id": 4042493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7291e19be98e6adf21f29f798f78ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4042493/felix"}, "edited": false, "score": 0, "creation_date": 1429743712, "post_id": 29810041, "comment_id": 47748905, "body": "No problem with <code>DF={&quot;hello&quot;: list(range(1000))}</code>. I just ran <code>pip install pandas --upgrade</code> and received tons of warning messages, seems weird. By the way the &quot;joining 3&quot; did not always stop at the &quot;3&quot;rd joining step, I had &quot;2&quot; and &quot;4&quot; after rerunning it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429743858, "post_id": 29810041, "comment_id": 47748961, "body": "I think I&#39;ve found the problem. See my answer."}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429743980, "post_id": 29810041, "comment_id": 47748993, "body": "@abarnert - he&#39;s using python 2.7, so <code>range(1000)</code> will be a list of 1000 ints, likely enough to fill the underlying pipes buffer."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1429744416, "post_id": 29810041, "comment_id": 47749156, "body": "@mata: I didn&#39;t see the 2.7 in the middle of another comment; I assumed from his 3.x-style <code>print</code> calls that he was using 3.x\u2026 Anyway, I can reproduce the problem with both 2.7 and 3.4 using a DataFrame of this size, and also with a <code>list(range(6075))</code> on 2.7 and <code>list(range(6077))</code> on 3.4, but not 1000\u2026"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 10, "last_activity_date": 1429744753, "last_edit_date": 1592644375, "creation_date": 1429743843, "answer_id": 29810512, "question_id": 29810041, "link": "https://stackoverflow.com/questions/29810041/python-weird-behavior-with-multiprocessing-join-does-not-execute/29810512#29810512", "title": "Python - weird behavior with multiprocessing - join does not execute", "body": "<p>This problem is explained in the docs, under <a href=\"https://docs.python.org/3/library/multiprocessing.html#pipes-and-queues\" rel=\"noreferrer\">Pipes and Queues</a>:</p>\n<blockquote>\n<p><strong>Warning:</strong> As mentioned above, if a child process has put items on a queue (and it has not used <code>JoinableQueue.cancel_join_thread</code>), then that process will not terminate until all buffered items have been flushed to the pipe.</p>\n<p>This means that if you try joining that process you may get a deadlock unless you are sure that all items which have been put on the queue have been consumed. Similarly, if the child process is non-daemonic then the parent process may hang on exit when it tries to join all its non-daemonic children.</p>\n<p>Note that a queue created using a manager does not have this issue. See <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing-programming\" rel=\"noreferrer\"><em>Programming guidelines</em></a>.</p>\n</blockquote>\n<p>Using a manager would work, but there are a lot of easier ways to solve this:</p>\n<ol>\n<li>Read the data off the queue first, then join the processes, instead of the other way around.</li>\n<li>Manage the <code>Queue</code> manually (e.g., using a <code>JoinableQueue</code> and <code>task_done</code>).</li>\n<li>Just use <code>Pool.map</code> instead of reinventing the wheel. (Yes, much of what <code>Pool</code> does isn't necessary for your use case\u2014but it also isn't going to get in the way, and the nice thing is, you already know it works.)</li>\n</ol>\n<p>I won't show the implementation for #1 because it's so trivial, or for #2 because it's such a pain, but for #3:</p>\n<pre><code>def task(arg):\n    DF = pandas.DataFrame({&quot;hello&quot;:range(1000)}) # try range(1000) or range(10000)\n    return DF\n\nwith mp.Pool(processes=20) as p:\n    results = p.map(task, range(20), chunksize=1)\n</code></pre>\n<p>(In 2.7, <code>Pool</code> may not work in a <code>with</code> statement; you can install the port of the later version of <code>multiprocessing</code> back to 2.7 off PyPI, or you can just manually create the pool, then <code>close</code> it in a <code>try</code>/<code>finally</code>, just you would handle a file if it didn't work in a <code>with</code> statement...)</p>\n<hr />\n<p>You may ask yourself, why exactly does it fail at this point, but work with smaller numbers\u2014even just a little bit smaller?</p>\n<p>A pickle of that DataFrame is just over 16K. (The list by itself is a little smaller, but if you try it with 10000 instead of 1000 you should see the same thing without Pandas.)</p>\n<p>So, the first child writes 16K, then blocks until there's room to write the last few hundred bytes. But you're not pulling anything off the pipe (by calling <code>queue.get</code>) until after the <code>join</code>, and you can't <code>join</code> until they exit, which they can't do until you unblock the pipe, so it's a classic deadlock. There's enough room for the first 4 to get through, but no room for 5. Because you have 4 cores, most of the time, the first 4 that get through will be the first 4. But occasionally #4 will beat #3 or something, and then you'll fail to join #3. That would happen more often with an 8-core machine.</p>\n"}], "owner": {"reputation": 23, "user_id": 4042493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7291e19be98e6adf21f29f798f78ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/4042493/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2989, "favorite_count": 1, "accepted_answer_id": 29810512, "answer_count": 1, "score": 2, "last_activity_date": 1429744753, "creation_date": 1429741528, "last_edit_date": 1429742438, "question_id": 29810041, "link": "https://stackoverflow.com/questions/29810041/python-weird-behavior-with-multiprocessing-join-does-not-execute", "title": "Python - weird behavior with multiprocessing - join does not execute", "body": "<p>I am using the <code>multiprocessing</code> python module. I have about 20-25 tasks to run simultaneously. Each task will create a <code>pandas.DataFrame</code> object of ~20k rows. Problem is, all tasks execute well, but when it comes to \"joining\" the processes, it just stops. I've tried with \"small\" DataFrames and it works very well. To illustrate my point, I created the code below.</p>\n\n<pre><code>import pandas\nimport multiprocessing as mp\n\ndef task(arg, queue):\n    DF = pandas.DataFrame({\"hello\":range(10)}) # try range(1000) or range(10000)\n    queue.put(DF)\n    print(\"DF %d stored\" %arg)\n\nlistArgs = range(20)\nqueue = mp.Queue()\nprocesses = [mp.Process(target=task,args=(arg,queue)) for arg in listArgs]\n\nfor p in processes:\n    p.start()\n\nfor i,p in enumerate(processes):\n    print(\"joining %d\" %i)\n    p.join()\n\nresults = [queue.get() for p in processes]\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>With <em>DF = pandas.DataFrame({\"hello\":range(10)})</em> I have everything correct: \"DF 0 stored\" up to \"DF 19 stored\", same with \"joining 0\" to \"joining 19\".</p>\n\n<p>However with <em>DF = pandas.DataFrame({\"hello\":range(1000)})</em> the issue arises: while it is storing the DF, the joining step stops after \"joining 3\".</p>\n\n<p>Thanks for the useful tips :)</p>\n"}, {"tags": ["python", "numpy", "notepad++", "hexdump"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1429741610, "post_id": 29809988, "comment_id": 47748112, "body": "First, an <code>int32</code> takes 4 bytes, not 2."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1429741704, "post_id": 29809988, "comment_id": 47748156, "body": "Next, have you tried reading the file in any other program besides Notepad++? You can do it pretty easily in Python itself; instead of <code>off = np.fromfile(fileobj2, dtype=np.int32)</code>, just do <code>off = fileobj2.read()</code>, then print the bytes. You should see something like <code>b&#39;\\x01\\x00\\x00\\x00,\\x01\\x00\\x00&#39;</code>; if you instead see <code>b&#39;\\x01\\x00\\xc4\\xac\\x00&#39;</code>, then you know it&#39;s the file that&#39;s broken, not Notepad++."}, {"owner": {"reputation": 7184, "user_id": 511302, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f73e4b9767a731da47c3b5a2c3fc575?s=128&d=identicon&r=PG", "display_name": "paul23", "link": "https://stackoverflow.com/users/511302/paul23"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429741940, "post_id": 29809988, "comment_id": 47748253, "body": "@abarnert that was actually a typo (notice I said already &quot;I expect 8 bytes...&quot;). Hmm it seems indeed notepad++ is broken, that&#39;s weird, never had that happen before :/, can I ask/convert this question to &quot;how to make notepad++ work with the hex plugin&quot; or is that too offtopic here?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429825480, "post_id": 29809988, "comment_id": 47796519, "body": "You shouldn&#39;t try to convert a question into a different question. Just ask a new one. I think that new one would be more on-topic somewhere like <a href=\"http://superuser.com/\">SuperUser</a>, but you should read the help on both sites (and some other Stack Exchange sites that sound relevant) and decide for yourself."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1429827565, "post_id": 29809988, "comment_id": 47797488, "body": "Could it have something to do with the version of notepad++ or the plugin?  <a href=\"http://sourceforge.net/p/notepad-plus/discussion/482781/thread/651ff890/\" rel=\"nofollow noreferrer\">sourceforge.net/p/notepad-plus/discussion/482781/thread/&hellip;</a> mentions a null character problem in the Npp plugin several years ago."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429825184, "post_id": 29814915, "comment_id": 47796360, "body": "But his question is why he gets the 5 bytes <code>01 00 C4 AC 00</code> instead of the 8 bytes <code>01 00 00 00 2C 01 00 00</code>; this doesn&#39;t answer that at all."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429826394, "post_id": 29814915, "comment_id": 47797005, "body": "But it does give him a way of checking the file from within Python.  Assuming he gets the same thing, then the problem is clearly with <code>notepad++</code>.  I let others address that issue, since I don&#39;t have that editor on the linux side of my machine.  Plus testing with an easy-to-recognize value like 255 or 256 might help."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429826562, "post_id": 29814915, "comment_id": 47797080, "body": "If you read the comments, he had already done an equivalent test 7 hours before you wrote the answer. Yes, it would have been better if he edited the question to make that clear instead of just writing a comment, but that still doesn&#39;t mean this is a useful answer to the question, either as asked or as intended."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1429769762, "last_edit_date": 1429769762, "creation_date": 1429768781, "answer_id": 29814915, "question_id": 29809988, "link": "https://stackoverflow.com/questions/29809988/numpy-array-tofile-binary-file-looks-strange-in-notepad/29814915#29814915", "title": "numpy.array.tofile() binary file looks &quot;strange&quot; in notepad++", "body": "<p>What are you expecting <code>300</code> to look like?</p>\n\n<p>Write the array, and read it back as binary (in ipython):</p>\n\n<pre><code>In [478]: np.array([1,300],np.int32).tofile('test')\n\nIn [479]: with open('test','rb') as f: print(f.read())\nb'\\x01\\x00\\x00\\x00,\\x01\\x00\\x00'\n</code></pre>\n\n<p>There are 8 bytes, <code>,</code> is just a displayable byte.</p>\n\n<p>Actually, I don't have to go through a file to get this:</p>\n\n<pre><code>In [505]: np.array([1,300]).tostring()\nOut[505]: b'\\x01\\x00\\x00\\x00,\\x01\\x00\\x00'\n</code></pre>\n\n<p>Do the same with:</p>\n\n<pre><code>[255]    \nb'\\xff\\x00\\x00\\x00'\n\n[256]\nb'\\x00\\x01\\x00\\x00'\n\n[300]\nb',\\x01\\x00\\x00'\n\n[1,255]\nb'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00'\n</code></pre>\n\n<p>With powers of 2 (and 1 less) it is easy to identify a pattern in the bytes.</p>\n\n<hr>\n\n<p><code>frombuffer</code> converts a byte string back to an array:</p>\n\n<pre><code>In [513]: np.frombuffer(np.array([1,300]).tostring(),int)\nOut[513]: array([  1, 300])\n\nIn [514]: np.frombuffer(np.array([1,300]).data,int)\nOut[514]: array([  1, 300])\n</code></pre>\n\n<p>Judging from this last expression, the <code>tofile</code> is just writing the array buffer to the file as bytes.</p>\n"}, {"comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1429827346, "post_id": 29834866, "comment_id": 47797402, "body": "why are we expecting only eight bytes?  is no representation of the dimensionality of the array saved?  if not, how would, for example, a 5-D array be distinguished from a 10-D one, if both had the same number of elements?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1429828070, "post_id": 29834866, "comment_id": 47797694, "body": "@dbliss: The short answer is, no there isn&#39;t, they&#39;re not distinguished, and that&#39;s why we&#39;re expecting 8 bytes. The <code>tofile</code>/<code>fromfile</code> docs explain this. But you can test it easily by <code>np.array([[1,2], [3,4]], dtype=np.int8).tofile(f)</code>, then <code>a = np.fromfile(f, dtype=np.int8)</code>; you get back <code>[1,2,3,4]</code>, not <code>[[1,2],[3,4]]</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1429828246, "post_id": 29834866, "comment_id": 47797767, "body": "@dbliss: Notice that it&#39;s not even storing the data type. This means that in addition to losing information about dimension (and C vs. Fortran striding), you also lose information about endianness, platform float implementation differences, etc. It&#39;s meant for &quot;quick storage&quot;, where you dump the data and read it back in the same session\u2014e.g., you don&#39;t have enough memory to store all your arrays at once, or you want to pass them to a <code>multiprocessing</code> child."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1429825405, "creation_date": 1429825405, "answer_id": 29834866, "question_id": 29809988, "link": "https://stackoverflow.com/questions/29809988/numpy-array-tofile-binary-file-looks-strange-in-notepad/29834866#29834866", "title": "numpy.array.tofile() binary file looks &quot;strange&quot; in notepad++", "body": "<p>You can tell very easily that the file actually <em>does</em> have 8 bytes, the same 8 bytes you'd expect (<code>01 00 00 00 2C 01 00 00</code>) just by using anything other than Notepad++ to look at the file, including just replacing your <code>off = np.fromfile(fileobj2, dtype=np.int32)</code> with off = fileobj2.read()<code>then</code>print<code>ing the bytes (which will give you</code>b'\\x01\\x00\\x00\\x00,\\x01\\x00\\x00'`<sup>*</sup>).</p>\n\n<p>And, from your comments, after I suggested that, you tried it, and saw exactly that.</p>\n\n<p>Which means this is either a bug in Notepad++, or a problem with the way you're using it; Python, NumPy, and your own code are perfectly fine.</p>\n\n<hr>\n\n<p><sub>* In case it isn't clear: <code>'\\x2c'</code> and <code>','</code> are the same character, and <code>bytes</code> uses the printable ASCII representation for printable ASCII characters, as well as familiar escapes like <code>'\\n'</code>, when possible, only using the hex backslash escape for other values.</sub></p>\n"}], "owner": {"reputation": 7184, "user_id": 511302, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f73e4b9767a731da47c3b5a2c3fc575?s=128&d=identicon&r=PG", "display_name": "paul23", "link": "https://stackoverflow.com/users/511302/paul23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14579, "favorite_count": 0, "accepted_answer_id": 29834866, "answer_count": 2, "score": 0, "last_activity_date": 1486112342, "creation_date": 1429741290, "last_edit_date": 1486112342, "question_id": 29809988, "link": "https://stackoverflow.com/questions/29809988/numpy-array-tofile-binary-file-looks-strange-in-notepad", "title": "numpy.array.tofile() binary file looks &quot;strange&quot; in notepad++", "body": "<p>I am just wondering how the function actually stores the data. Because to me, it looks completely strange. Say I have the following code:</p>\n\n<pre><code>import numpy as np\nfilename = \"test.dat\"\nprint(filename)\nfileobj = open(filename, mode='wb')\noff = np.array([1, 300], dtype=np.int32)\noff.tofile(fileobj)\nfileobj.close()\n\nfileobj2 = open(filename, mode='rb')\noff = np.fromfile(fileobj2, dtype = np.int32)\nprint(off)\nfileobj2.close()\n</code></pre>\n\n<p>Now I expect 8 bytes inside the file, where each element is represented by 4 bytes (and I could live with any endianness). However when I open up the file in a hex editor (used notepad++ with hex editor plugin) I get the following bytes:</p>\n\n<pre><code>01 00 C4 AC 00\n</code></pre>\n\n<p>5 bytes, and I have no idea at all what it represents. The first byte looks like it is the number, but then what follows is something weird, certainly not \"300\".</p>\n\n<p>Yet reloading shows the original array.</p>\n\n<p>Is this something I don't understand in python, or is it a problem in notepad++? - I notice the hex looks different if I select a different \"encoding\" (huh?). Also: Windows does report it being 8 bytes long.</p>\n"}, {"tags": ["python"], "owner": {"reputation": 327, "user_id": 4154133, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7073d55c2bdcc25e697a9cd9638d13f0?s=128&d=identicon&r=PG&f=1", "display_name": "Dider", "link": "https://stackoverflow.com/users/4154133/dider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1429912423, "creation_date": 1429740992, "last_edit_date": 1429912423, "question_id": 29809926, "link": "https://stackoverflow.com/questions/29809926/displaying-movement-tiles-for-a-python-game", "title": "Displaying movement tiles for a Python game", "body": "<p>I am trying to create a simple tactical RPG in python, similar to Fire Emblem or Advanced Wars, but in ASCII. I have been following <a href=\"http://www.roguebasin.com/index.php?title=Complete_Roguelike_Tutorial,_using_python%2Blibtcod\" rel=\"nofollow\">this</a> tutorial, which uses the libtcod module, and modifying the tutorial code for my own purposes</p>\n\n<p>Right now I am struck trying to display movement tiles for each character. Basically I want the game to display the tiles each character can move to, whenever the user clicks his mouse over that character. I have created a function (<code>get_total_squares</code>) that generates the coordinates of the tiles to be highlighted based on the character's coordinates and movement range (hard-coded to 5, for now) and a function (<code>show_move_tiles</code>) to highlight these tiles. To record the click coordinates I have another function <code>target_tile</code> and a function to see if the coordinates match with a character's (<code>target_character</code>)</p>\n\n<p>The program runs without errors, but clicking the mouse over a character does nothing (no tiles are shown).</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import libtcodpy as libtcod\n\n#actual size of the window\nSCREEN_WIDTH = 80\nSCREEN_HEIGHT = 50\n\n#size of the map\nMAP_WIDTH = 80\nMAP_HEIGHT = 43\n\nLIMIT_FPS = 20  #20 frames-per-second maximum\n\ncolor_dark_wall = libtcod.Color(0, 0, 50)\ncolor_dark_ground = libtcod.Color(5, 50, 0)\ncolor_move_tile = libtcod.Color (100, 0, 0)\n\nclass Tile:\n    #a tile of the map and its properties\n    def __init__(self, blocked, block_sight = None):\n        self.blocked = blocked\n\n        #by default, if a tile is blocked, it also blocks sight\n        if block_sight is None: block_sight = blocked\n        self.block_sight = block_sight\n\ndef target_tile():\n    #return the position of a tile left-clicked, or (None,None) if right-clicked.\n    global key, mouse\n    while True:\n\n        libtcod.console_flush()\n        libtcod.sys_check_for_event(libtcod.EVENT_KEY_PRESS|libtcod.EVENT_MOUSE, key, mouse)\n        render_all()\n\n        (x, y) = (mouse.cx, mouse.cy)\n\n        if mouse.rbutton_pressed or key.vk == libtcod.KEY_ESCAPE: \n            return (None, None)  #cancel if the player right-clicked or pressed Escape \n\n        if mouse.lbutton_pressed:\n            return (x, y)\n            print \"works!\"\n\n\ndef target_character():\n    #Shows movement tiles if character is on click-coordinate\n\n        (x, y) = target_tile()\n\n        #return the first clicked character\n        for obj in objects:\n             if obj.x == x and obj.y == y: \n                obj.show_move_tiles()\n\n\ndef make_map():\n    global map\n\n    #fill map with \"unblocked\" tiles\n    map = [[ Tile(False)\n        for y in range(MAP_HEIGHT) ]\n            for x in range(MAP_WIDTH) ]\n\n    map[30][22].blocked = True\n    map[30][22].block_sight = True\n    map[50][22].blocked = True\n    map[50][22].block_sight = True\n\nclass Object:\n    #this is a generic object: the player, a monster, an item, the stairs...\n    #it's always represented by a character on screen.\n    def __init__(self, x, y, char, color):\n        self.x = x\n        self.y = y\n        self.char = char\n        self.color = color\n\n    def move(self, dx, dy):\n        #move by the given amount\n        if not map[self.x + dx][self.y + dy].blocked:\n            self.x += dx\n            self.y += dy\n\n    def draw(self):\n        #set the color and then draw the character that represents this object at its position\n        libtcod.console_set_default_foreground(con, self.color)\n        libtcod.console_put_char(con, self.x, self.y, self.char, libtcod.BKGND_NONE)\n\n    def show_move_tiles(self):\n        global mouse\n        global color_move_tile\n\n        (x,y) = (mouse.cx, mouse.cy)\n\n        coord_in_range = get_total_squares(5, self.x, self.y)\n\n        for [x,y] in coord_in_range:\n            if [x,y] is not [self.x, self.y]:\n                libtcod.console_set_char_background(con, x, y, color_move_tile, libtcod.BKGND_SET)\n\n    def clear(self):\n        #erase the character that represents this object\n        libtcod.console_put_char_ex(con, self.x, self.y, '.', libtcod.white, libtcod.black)\n\ndef handle_keys():\n    #key = libtcod.console_check_for_keypress()  #real-time\n    global key  #turn-based\n\n    if key.vk == libtcod.KEY_ENTER and key.lalt:\n        #Alt+Enter: toggle fullscreen\n        libtcod.console_set_fullscreen(not libtcod.console_is_fullscreen())\n\n    elif key.vk == libtcod.KEY_ESCAPE:\n        return True  #exit game\n\ndef get_total_squares(dist, playerx, playery):\n    coord_in_range = []\n    for x in range(-dist,dist+1):\n        for y in range(-dist, dist+1):\n            if abs(x)+abs(y) &lt;= dist:\n                coord_in_range.append([playerx+x, playery+y])\n    return coord_in_range\n\ndef render_all():\n    global color_dark_wall\n    global color_dark_ground\n\n    #go through all tiles, and set their background color\n    for y in range(MAP_HEIGHT):\n        for x in range(MAP_WIDTH):\n            wall = map[x][y].block_sight\n            if wall:\n                libtcod.console_put_char_ex(con, x, y, '#', libtcod.white, libtcod.black)\n            else:\n                libtcod.console_put_char_ex(con, x, y, '.', libtcod.white, libtcod.black)\n\n    #draw all objects in the list and show movement if mouse hovers over player\n    for item in objects:\n        item.draw()\n        if mouse.cx == item.x and mouse.cy == item.y:\n            item.show_move_tiles()\n\n    #blit the contents of \"con\" to the root console\n    libtcod.console_blit(con, 0, 0, SCREEN_WIDTH, SCREEN_HEIGHT, 0, 0, 0)\n\n\n\n\n#############################################\n# Initialization &amp; Main Loop\n#############################################\n\n\nlibtcod.console_set_custom_font('arial10x10.png', libtcod.FONT_TYPE_GREYSCALE | libtcod.FONT_LAYOUT_TCOD)\nlibtcod.console_init_root(SCREEN_WIDTH, SCREEN_HEIGHT, 'python/libtcod tutorial', False)\nlibtcod.sys_set_fps(LIMIT_FPS)\ncon = libtcod.console_new(SCREEN_WIDTH, SCREEN_HEIGHT)\n\n#create object representing the player\nplayer = Object(30, 15, '@', libtcod.white)\n\n#create an NPC\nnpc = Object(SCREEN_WIDTH/2 - 5, SCREEN_HEIGHT/2, '@', libtcod.yellow)\n\n#the list of objects with those two\nobjects = [npc, player]\n\nmake_map()\n\nmouse = libtcod.Mouse()\nkey = libtcod.Key()\n\nwhile not libtcod.console_is_window_closed():\n    libtcod.sys_check_for_event(libtcod.EVENT_KEY_PRESS|libtcod.EVENT_MOUSE,key,mouse)\n    #render the screen\n    render_all()\n    target_tile()\n\n    libtcod.console_flush()\n\n    #erase all objects at their old locations, before they move\n    for object in objects:\n        object.clear()\n\n    #handle keys and exit game if needed\n    exit = handle_keys()\n    if exit:\n        break\n</code></pre>\n\n<p>EDIT: I solved the previous problem of the movement tiles not showing up when I hovered the mouse over the character, but have updated the problem with a new one: trying to toggle the movement tiles on and off with a mouse click</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 0, "creation_date": 1429741114, "post_id": 29809910, "comment_id": 47747901, "body": "At what point do you find/print out the values of all the variables? Perhaps this has something to do with scope"}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 2, "creation_date": 1429741237, "post_id": 29809910, "comment_id": 47747955, "body": "I think by &quot;my attempted solution&quot; you mean &quot;what I&#39;m expecting&quot; ... is that correct?  That might clear up some confusion."}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 2, "creation_date": 1429741244, "post_id": 29809910, "comment_id": 47747959, "body": "Read <a href=\"http://stackoverflow.com/questions/1132941/least-astonishment-in-python-the-mutable-default-argument\">this</a> may help understand why this happened"}], "answers": [{"comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 2, "creation_date": 1429741421, "post_id": 29809995, "comment_id": 47748028, "body": "also worth mentioning <code>b</code> in <code>do_something</code> has been reassigned locally, so that doesn&#39;t change the global <code>b</code> value."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1429741686, "post_id": 29809995, "comment_id": 47748149, "body": "The value of <code>b</code> calculated in <code>do_something()</code> is local to the function and is thrown away when that function ends. None of the global variables <code>b</code>, <code>b1</code>, or <code>b2</code> are touched by the function."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1429741747, "post_id": 29809995, "comment_id": 47748167, "body": "thanks guys, good catch."}], "tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": false, "score": 9, "last_activity_date": 1429743422, "last_edit_date": 1429743422, "creation_date": 1429741312, "answer_id": 29809995, "question_id": 29809910, "link": "https://stackoverflow.com/questions/29809910/reassigning-variables-in-python/29809995#29809995", "title": "Reassigning variables in python", "body": "<p>Ok, you can think of variables in Python as references. When you do:</p>\n\n<pre><code>a1 = a\n</code></pre>\n\n<p>Both <code>a1</code> and <code>a</code> are references to the same object, so if you modify the object pointed by <code>a</code> you will see the changes in <code>a1</code>, because - surprise - they are the same object (and the <code>list.insert</code> method mutates the list in place).</p>\n\n<p>But when you do:</p>\n\n<pre><code>a2 = a[:]\n</code></pre>\n\n<p>Then <code>a2</code> is a new <code>list</code> instance, and when you modify <code>a</code> you are not modifying <code>a2</code>.</p>\n\n<p>The result of the <code>+</code> operator for lists is a new list, so when you do:</p>\n\n<pre><code>b = ['z'] + b\n</code></pre>\n\n<p>You are assigning a new list to <code>b</code> instead of mutating <code>b</code> in-place like you would do with <code>b.insert('z')</code>. Now <code>b</code> points to a new object while <code>b1</code> still points to the old value of <code>b</code>.</p>\n\n<p>But the scopes can be even trickier: you can see the enclosing scope from a function, but if you assign a variable inside the function, it will not change the variable with the same name in the enclosing (or global, or built-in) scope, it will create a variable with this name in the local scope. This is why b was not changed - well, not quite, parameter passing in Python is an assignment operation, so <code>b</code> is already a local variable when there is a parameter named <code>b</code> - but trying to mutate a variable defined in the enclosing scope leads to a similar problem. BTW, it is bad practice to rely on variables from the enclosing scope unless they are module-level constants (traditionally they are named in ALL_UPPERCASE style and you are not supposed to mutate them). If you need the value inside the function, pass it as a parameter, and it you want to change the value of the variable in the enclosing scope, return the value and assign the returned value there:</p>\n\n<pre><code>def do_something(a, b):\n    a.insert(0, \"z\")  # mutates a in-place\n    return [\"z\"] + b\n\nb = do_something(a, b)\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4740965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b1b4c2982773af2fc5aa2b893e3384?s=128&d=identicon&r=PG&f=1", "display_name": "Susie", "link": "https://stackoverflow.com/users/4740965/susie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6834, "favorite_count": 0, "closed_date": 1527525094, "answer_count": 1, "score": 9, "last_activity_date": 1429743422, "creation_date": 1429740918, "last_edit_date": 1429741604, "question_id": 29809910, "link": "https://stackoverflow.com/questions/29809910/reassigning-variables-in-python", "closed_reason": "Duplicate", "title": "Reassigning variables in python", "body": "<p>I have the following code and variables, and I want to find what the variables <code>a</code>, <code>a1</code>, <code>a2</code>, <code>b</code>, <code>b1</code>, and <code>b2</code> refer to after the code has been executed.</p>\n\n<pre><code>def do_something(a, b):\n    a.insert(0, \"z\")\n    b = [\"z\"] + b\n\na = [\"a\", \"b\", \"c\"]\na1 = a\na2 = a[:]\nb = [\"a\", \"b\", \"c\"]\nb1 = b\nb2 = b[:]\n\ndo_something(a, b)\n</code></pre>\n\n<p>My attempted solution is as follows:</p>\n\n<pre><code>a = [\"z\", \"a\", \"b\", \"c\"]\na1 = [\"a\", \"b\", \"c\"]\na2 = [\"a\", \"b\", \"c\"]\nb = [\"z\" \"a\", \"b\", \"c\"]\nb1 = [\"a\", \"b\", \"c\"]\nb2 = [\"a\", \"b\", \"c\"]\n</code></pre>\n\n<p>But the actual solution is:</p>\n\n<pre><code>a = [\"z\", \"a\", \"b\", \"c\"]\na1 = [\"z\", \"a\", \"b\", \"c\"]\na2 = [\"a\", \"b\", \"c\"]\nb = [\"a\", \"b\", \"c\"]\nb1 = [\"a\", \"b\", \"c\"]\nb2 = [\"a\", \"b\", \"c\"]\n</code></pre>\n\n<p>Can anyone walk me through my mistake?</p>\n"}, {"tags": ["python", "class", "parameters"], "comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1429740868, "post_id": 29809832, "comment_id": 47747797, "body": "using args/kwargs isn&#39;t only for variable amounts of parameters.  and using a dictionary wouldn&#39;t keep you from being able to use methods or calculate stats."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4496157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fb8753cbd1645ad73d234e6dd7cfc8?s=128&d=identicon&r=PG", "display_name": "user4496157", "link": "https://stackoverflow.com/users/4496157/user4496157"}, "edited": false, "score": 0, "creation_date": 1429748794, "post_id": 29810046, "comment_id": 47750661, "body": "Yeah I was going to put anything that was the same within the team into the team class (opponent, pitcher matchup, weather, ... ) and then have the team object be an attribute of the player.  It was still cumbersome after this but I hadn&#39;t thought about breaking it up further as far as a stats class.  I suppose if I were to isolate those, it would make the Player class much cleaner I think."}], "tags": [], "owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "is_accepted": true, "score": 0, "last_activity_date": 1429741562, "creation_date": 1429741562, "answer_id": 29810046, "question_id": 29809832, "link": "https://stackoverflow.com/questions/29809832/python-how-to-construct-a-class-with-many-parameters/29810046#29810046", "title": "Python: How To Construct A Class With Many Parameters", "body": "<p>If you think about this from the perspective of database design, it would probably be odd to have a <code>BaseballPlayer</code> object that has the following parameters:</p>\n\n<ul>\n<li>Team </li>\n<li>Position </li>\n<li>Opponent </li>\n<li>about 10 or 11 stats (historical) </li>\n<li>about 10 or 11 stats (projected) </li>\n<li>pitcher matchup </li>\n<li>weather</li>\n</ul>\n\n<p>Because there are certain things associated with a particular <code>BaseballPlayer</code> which remain relatively fixed, such as name, etc., but these other things are fluid and transitory.</p>\n\n<p>If you were designing this as an application with various database tables, then, it's possible that each of the things listed here would represent a separate table, and the <code>BaseballPlayer</code>'s relationship with these other tables amount to current and former <code>Team</code>, etc.</p>\n\n<p>Thus, I would probably break up the problem into more classes, including a <code>StatsClass</code> and a <code>Team</code> class (which is probably what an <code>Opponent</code> really is...).</p>\n\n<p>But it all depends what you would like to do. Usually when you are bending over backwards to cram data into a structure or doing the same to get it back out, the design could be reworked to make your job easier.</p>\n"}], "owner": {"reputation": 13, "user_id": 4496157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fb8753cbd1645ad73d234e6dd7cfc8?s=128&d=identicon&r=PG", "display_name": "user4496157", "link": "https://stackoverflow.com/users/4496157/user4496157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 29810046, "answer_count": 1, "score": 0, "last_activity_date": 1429741562, "creation_date": 1429740576, "last_edit_date": 1495542127, "question_id": 29809832, "link": "https://stackoverflow.com/questions/29809832/python-how-to-construct-a-class-with-many-parameters", "title": "Python: How To Construct A Class With Many Parameters", "body": "<p>I am in a bit of a jam in deciding how to structure my class. What I have is a baseball player class and necessary attributes of:</p>\n\n<ul>\n<li>Player ID (a key from a DB)</li>\n<li>Last name</li>\n<li>First name</li>\n<li>Team </li>\n<li>Position </li>\n<li>Opponent </li>\n<li>about 10 or 11 stats (historical) </li>\n<li>about 10 or 11 stats (projected) </li>\n<li>pitcher matchup</li>\n<li>weather</li>\n<li>... and a few more</li>\n</ul>\n\n<p>Some things to break this down a little:</p>\n\n<p>1) put stats in dictionaries</p>\n\n<p>2) make a team class that can hold general info common for all players on the team like weather and pitcher match up.  </p>\n\n<p>But, I still have 10 attributes after this.  </p>\n\n<p>Seeing this (<a href=\"https://stackoverflow.com/questions/5899185/class-with-too-many-parameters-better-design-strategy\">Class with too many parameters: better design strategy?</a>) has given me a couple ideas but don't know if they're ideal. </p>\n\n<p>1) Use a dictionary - But then wouldn't be able to use methods to calculate stats (or would have to use separate functions)</p>\n\n<p>2) Use args/kwargs - But from what I can gather, those seem to be for variable amounts of parameters, and all of my parameters will be required.</p>\n\n<p>3) Breaking up into smaller classes - I have broken it up a bit already, but don't know if I can any further.   </p>\n\n<p>Is there a better way to build this rather than having a class with a bunch of parameters listed out?</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 1, "creation_date": 1429740879, "post_id": 29809819, "comment_id": 47747804, "body": "Work on your problem until you have sample input, the desired output, and actual code you&#39;ve put together trying to solve the problem."}], "answers": [{"comments": [{"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 61, "user_id": 4821591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9mLl-fw/AAAAAAAAAAI/AAAAAAAAAqg/dsK9ex8Cd0E/photo.jpg?sz=128", "display_name": "shakfu", "link": "https://stackoverflow.com/users/4821591/shakfu"}, "edited": false, "score": 0, "creation_date": 1429807480, "post_id": 29809871, "comment_id": 47785655, "body": "@shakfu Welcome to stack overflow! Glad I could help -- do you need any other assistance? If I&#39;ve fully answered your question, you can &quot;accept&quot; the answer if you choose."}, {"owner": {"reputation": 61, "user_id": 4821591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9mLl-fw/AAAAAAAAAAI/AAAAAAAAAqg/dsK9ex8Cd0E/photo.jpg?sz=128", "display_name": "shakfu", "link": "https://stackoverflow.com/users/4821591/shakfu"}, "edited": false, "score": 0, "creation_date": 1429810561, "post_id": 29809871, "comment_id": 47787658, "body": "I do have one more question . I was hoping after adding all these urls to a dictionary  I would be able to use urllib to capture each url and download it separatley . dont even know where to begin on that . I&#39;m thinking the module i would us is urllib but I cant seem to pull the string  &#39;www.someurl.com/exename.exe&#39; from the value set. I guess I would iterate throught the value set of each key with a for loop ? and pull the string individually ?"}, {"owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "reply_to_user": {"reputation": 61, "user_id": 4821591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9mLl-fw/AAAAAAAAAAI/AAAAAAAAAqg/dsK9ex8Cd0E/photo.jpg?sz=128", "display_name": "shakfu", "link": "https://stackoverflow.com/users/4821591/shakfu"}, "edited": false, "score": 0, "creation_date": 1429810996, "post_id": 29809871, "comment_id": 47787926, "body": "@shakfu I added some code to show how to access the items. That help?"}, {"owner": {"reputation": 61, "user_id": 4821591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9mLl-fw/AAAAAAAAAAI/AAAAAAAAAqg/dsK9ex8Cd0E/photo.jpg?sz=128", "display_name": "shakfu", "link": "https://stackoverflow.com/users/4821591/shakfu"}, "edited": false, "score": 0, "creation_date": 1429905503, "post_id": 29809871, "comment_id": 47838643, "body": "Yes thank you very much .. for everything . I will try to stick to proper formatting when asking questions on here from now on ."}], "tags": [], "owner": {"reputation": 3996, "user_id": 4347717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TLXlb.png?s=128&g=1", "display_name": "ohruunuruus", "link": "https://stackoverflow.com/users/4347717/ohruunuruus"}, "is_accepted": false, "score": 1, "last_activity_date": 1429810904, "last_edit_date": 1429810904, "creation_date": 1429740767, "answer_id": 29809871, "question_id": 29809819, "link": "https://stackoverflow.com/questions/29809819/matching-values-in-dictionaries-python/29809871#29809871", "title": "matching values in dictionaries python", "body": "<p>If you want the unique urls associated with each unique file, you can use a <code>dict</code>  of <code>set</code>s, where the keys of the <code>dict</code> are your file names and the values are <code>set</code>s of urls. Using a set ensures that only unique urls will be kept. </p>\n\n<p>To make adding urls to the <code>dict</code> easier, you can use a <code>defaultdict</code>, which has default behavior when new keys are added. In this case, the default behavior should be to create an empty <code>set</code> to which the url will be added.</p>\n\n<p>To add your data, loop through your list of (file, url) tuples, adding each url to the set of urls associated with the file. </p>\n\n<pre><code>from collections import defaultdict\n\ncurrent_list = [('file1', 'url1'), ('file1', 'url2'), ('file1', 'url3'), \n                ('file2', 'url4'), ('file2', 'url5'), ('file2', 'url6')]\n\nresult = defaultdict(set)\n\nfor file_name, url in current_list:\n    result[file_name].add(url)\n\nprint result\n# prints:\n# defaultdict(&lt;type 'set'&gt;, {'file2': set(['url5', 'url4', 'url6']), 'file1': set(['url1', 'url3', 'url2'])})\n</code></pre>\n\n<p>Once you've constructed the dictionary, you can process the contents by looping through the (key,value) pairs with <code>iteritems</code>, and work with the individual urls with an internal loop:</p>\n\n<pre><code>for file_name, url_set in result.iteritems():\n\n    # do something with file_name here...\n    print file_name\n\n    # access urls like this:\n    for url in url_set:\n        print url\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4821591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9mLl-fw/AAAAAAAAAAI/AAAAAAAAAqg/dsK9ex8Cd0E/photo.jpg?sz=128", "display_name": "shakfu", "link": "https://stackoverflow.com/users/4821591/shakfu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429813134, "creation_date": 1429740495, "last_edit_date": 1429813134, "question_id": 29809819, "link": "https://stackoverflow.com/questions/29809819/matching-values-in-dictionaries-python", "title": "matching values in dictionaries python", "body": "<p>I have a list of tuples. The tuples contain a file name and a download url. \nI have imported these file names and download urls from a csv file and many of the file name, download url pairs are the same but some are not.</p>\n\n<p>I need to add these tuples to a dictionary without making doubles of the filenames but making sure all unique download urls are collected. I was thinking the key could be the filename and the values would be a list of all the unique download urls for that file. I am still very new to python so I am having problems getting this done. </p>\n\n<p>Given: </p>\n\n<pre><code>current_list = [('filename1', 'url1'), ('filename1', 'url2'), ('filename1', 'url3'), \n                ('filename2', 'url1'), ('filename2', 'url2'), ('filename2', 'url3')]\n</code></pre>\n\n<p>dictionary I need: </p>\n\n<pre><code>result = {'filename1' : ['url1', 'url2', 'url3'],\n          'filename2' : ['url1', 'url2', 'url3']}\n</code></pre>\n\n<p>Any help with this would be greatly appreciated.</p>\n"}, {"tags": ["python", "list", "element"], "comments": [{"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 1, "creation_date": 1429741808, "post_id": 29809805, "comment_id": 47748198, "body": "Does it matter if the search term is in the list more than once?"}, {"owner": {"reputation": 1887, "user_id": 2980012, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/84d7a206a8894a7280d94314d1201b58?s=128&d=identicon&r=PG&f=1", "display_name": "Coder77", "link": "https://stackoverflow.com/users/2980012/coder77"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1429742916, "post_id": 29809805, "comment_id": 47748620, "body": "No it doesn&#39;t, I&#39;m actually trying the methods suggested in a tuple as well, using list1.index does not work when list1 is a tuple"}, {"owner": {"reputation": 34901, "user_id": 3973077, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e80187d131859fc0601a01231fec657e?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Boddington", "link": "https://stackoverflow.com/users/3973077/paul-boddington"}, "edited": false, "score": 0, "creation_date": 1429745395, "post_id": 29809805, "comment_id": 47749504, "body": "@Coder77 <code>list1.index(&quot;Monday&quot;)</code> does work if <code>list1</code> is a tuple,"}], "answers": [{"tags": [], "owner": {"reputation": 34901, "user_id": 3973077, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e80187d131859fc0601a01231fec657e?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Boddington", "link": "https://stackoverflow.com/users/3973077/paul-boddington"}, "is_accepted": false, "score": 4, "last_activity_date": 1429740730, "creation_date": 1429740730, "answer_id": 29809864, "question_id": 29809805, "link": "https://stackoverflow.com/questions/29809805/checking-what-element-in-the-list-has-the-string-i-am-searching-for/29809864#29809864", "title": "Checking what element in the list has the string I am searching for", "body": "<pre><code>list1 = [\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"]\nif \"Monday\" in list1:\n    print(list1.index(\"Monday\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 4487355, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dde4153d9342b72d2926e5ed1a4f56a?s=128&d=identicon&r=PG&f=1", "display_name": "jph", "link": "https://stackoverflow.com/users/4487355/jph"}, "is_accepted": false, "score": 1, "last_activity_date": 1429740822, "creation_date": 1429740822, "answer_id": 29809889, "question_id": 29809805, "link": "https://stackoverflow.com/questions/29809805/checking-what-element-in-the-list-has-the-string-i-am-searching-for/29809889#29809889", "title": "Checking what element in the list has the string I am searching for", "body": "<p>You can try using the <code>enumerate()</code> function as such:</p>\n\n<pre><code>for i, j in enumerate([\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"]):\n    if j == 'Monday':\n        print i\n</code></pre>\n\n<p>This will give you the index location of the variable \"Monday,\" in this instance, wherever in the list the item is - taking into account that it might be listed in multiple locations.</p>\n"}, {"tags": [], "owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "is_accepted": false, "score": 0, "last_activity_date": 1429742117, "creation_date": 1429742117, "answer_id": 29810153, "question_id": 29809805, "link": "https://stackoverflow.com/questions/29809805/checking-what-element-in-the-list-has-the-string-i-am-searching-for/29810153#29810153", "title": "Checking what element in the list has the string I am searching for", "body": "<p>If we are searching for \"b\": </p>\n\n<p><code>[x for x,y in enumerate([\"a\",\"b\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"]) if \"b\" in y]</code></p>\n\n<p>Will account for multiple appearances and give the indexes of all of them as a list</p>\n\n<p>the above returns as: <code>[1, 2]</code></p>\n"}], "owner": {"reputation": 1887, "user_id": 2980012, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/84d7a206a8894a7280d94314d1201b58?s=128&d=identicon&r=PG&f=1", "display_name": "Coder77", "link": "https://stackoverflow.com/users/2980012/coder77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1429742117, "creation_date": 1429740457, "question_id": 29809805, "link": "https://stackoverflow.com/questions/29809805/checking-what-element-in-the-list-has-the-string-i-am-searching-for", "title": "Checking what element in the list has the string I am searching for", "body": "<p>I have a list, I want to check whether the string \"Monday\" is in it, but I want to know, if it is then what element of the list is it in?</p>\n\n<pre><code>    list1 = [\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"]\nif \"Monday\" in list1:\n    print(\"True\")\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "is_accepted": false, "score": 1, "last_activity_date": 1429757472, "creation_date": 1429757472, "answer_id": 29812754, "question_id": 29809731, "link": "https://stackoverflow.com/questions/29809731/inconsistent-number-of-samples-in-countvectorizer/29812754#29812754", "title": "Inconsistent number of samples in CountVectorizer", "body": "<p>It would be easier to see if you gave the full traceback, but it looks like tags contains 9 entries, while train only contains three training data points. What does <code>tags</code> look like?</p>\n"}], "owner": {"reputation": 1381, "user_id": 3600497, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/539650391/picture?type=large", "display_name": "user3600497", "link": "https://stackoverflow.com/users/3600497/user3600497"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429757472, "creation_date": 1429740178, "question_id": 29809731, "link": "https://stackoverflow.com/questions/29809731/inconsistent-number-of-samples-in-countvectorizer", "title": "Inconsistent number of samples in CountVectorizer", "body": "<p>I'm trying to use a Multinomial Naive Bayes classification on a set of tweets I have.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import codecs\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\ntrainfile = 'train.txt'\ntestfile = 'test.txt'\nword_vectorizer = CountVectorizer(analyzer='word')\ntrainset = word_vectorizer.fit_transform(codecs.open(trainfile,'r','utf8')) ## Error here\ntags = ['Pro_vax','Anti_vax','Neither']\nmnb = MultinomialNB()\nmnb.fit(trainset, tags)\ncodecs.open(testfile,'r','utf8')\ntestset = word_vectorizer.transform(codecs.open(testfile,'r','utf8'))\nresults = mnb.predict(testset)\nprint results\n</code></pre>\n\n<p>The file <code>train.txt</code> has the following text in it:</p>\n\n<pre><code>Vaccines are a very good idea.  They prevent all sorts of deadly diseases.\nVaccines cause autism.  Do not vaccinate your children\nGoing to read about vaccines.  Then, I am going to see my brother with autism.\n</code></pre>\n\n<p>I've tagged them using the <code>tags</code> variable.</p>\n\n<p>The file <code>test.txt</code> has the followong text:</p>\n\n<pre><code>Do not get your kids vaccinated.  Vaccination and autism are correlated.\n</code></pre>\n\n<p>When I run the script, I get the following error:</p>\n\n<pre><code>ValueError: Found arrays with inconsistent numbers of samples: [3 9]\n</code></pre>\n\n<p>I'm unfamiliar with the error.  What does it mean, and how can I prevent it from popping up again?</p>\n"}, {"tags": ["python", "authentication", "scrapy"], "comments": [{"owner": {"reputation": 19022, "user_id": 149872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2uij.png?s=128&g=1", "display_name": "Elias Dorneles", "link": "https://stackoverflow.com/users/149872/elias-dorneles"}, "edited": false, "score": 0, "creation_date": 1430190865, "post_id": 29809524, "comment_id": 47941540, "body": "Did you have the chance to try the solution I presented?"}, {"owner": {"reputation": 471, "user_id": 2484690, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed23b9c41dc3d55f27af9b68034717d7?s=128&d=identicon&r=PG", "display_name": "ollierexx", "link": "https://stackoverflow.com/users/2484690/ollierexx"}, "reply_to_user": {"reputation": 19022, "user_id": 149872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2uij.png?s=128&g=1", "display_name": "Elias Dorneles", "link": "https://stackoverflow.com/users/149872/elias-dorneles"}, "edited": false, "score": 0, "creation_date": 1430584540, "post_id": 29809524, "comment_id": 48127866, "body": "I couldn&#39;t get it working, however I posted an answer with my fix."}], "answers": [{"tags": [], "owner": {"reputation": 19022, "user_id": 149872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2uij.png?s=128&g=1", "display_name": "Elias Dorneles", "link": "https://stackoverflow.com/users/149872/elias-dorneles"}, "is_accepted": true, "score": 18, "last_activity_date": 1501603499, "last_edit_date": 1501603499, "creation_date": 1429741173, "answer_id": 29809964, "question_id": 29809524, "link": "https://stackoverflow.com/questions/29809524/using-loginform-with-scrapy/29809964#29809964", "title": "Using loginform with scrapy", "body": "<p><code>loginform</code> is just a library, totally decoupled from Scrapy.</p>\n\n<p>You have to write the code to plug it in the spider you want, probably in a callback method.</p>\n\n<p>Here is an example of a structure to do this:</p>\n\n<pre><code>import scrapy\nfrom loginform import fill_login_form\n\nclass MySpiderWithLogin(scrapy.Spider):\n    name = 'my-spider'\n\n    start_urls = [\n        'http://somewebsite.com/some-login-protected-page',\n        'http://somewebsite.com/another-protected-page',\n    ]\n\n    login_url = 'http://somewebsite.com/login-page'\n\n    login_user = 'your-username'\n    login_password = 'secret-password-here'\n\n    def start_requests(self):\n        # let's start by sending a first request to login page\n        yield scrapy.Request(self.login_url, self.parse_login)\n\n    def parse_login(self, response):\n        # got the login page, let's fill the login form...\n        data, url, method = fill_login_form(response.url, response.body,\n                                            self.login_user, self.login_password)\n\n        # ... and send a request with our login data\n        return scrapy.FormRequest(url, formdata=dict(data),\n                           method=method, callback=self.start_crawl)\n\n    def start_crawl(self, response):\n        # OK, we're in, let's start crawling the protected pages\n        for url in self.start_urls:\n            yield scrapy.Request(url)\n\n    def parse(self, response):\n        # do stuff with the logged in response\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19022, "user_id": 149872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2uij.png?s=128&g=1", "display_name": "Elias Dorneles", "link": "https://stackoverflow.com/users/149872/elias-dorneles"}, "edited": false, "score": 0, "creation_date": 1430610454, "post_id": 30004800, "comment_id": 48135781, "body": "I&#39;m glad you managed to get it working. The solution doesn&#39;t seem to be very well connected to the question, though. This just starts a crawl from a POST request (not really the scope of loginform, which is to find the form to send the login POST request)."}], "tags": [], "owner": {"reputation": 471, "user_id": 2484690, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed23b9c41dc3d55f27af9b68034717d7?s=128&d=identicon&r=PG", "display_name": "ollierexx", "link": "https://stackoverflow.com/users/2484690/ollierexx"}, "is_accepted": false, "score": 5, "last_activity_date": 1430584709, "creation_date": 1430584709, "answer_id": 30004800, "question_id": 29809524, "link": "https://stackoverflow.com/questions/29809524/using-loginform-with-scrapy/30004800#30004800", "title": "Using loginform with scrapy", "body": "<p>I managed to get it working without the loginform library, my solution is below.  </p>\n\n<pre><code>import scrapy\nimport requests\n\nclass Spider(scrapy.Spider):\n    name = 'spider'\n\n    start_urls = [\n        'http://start.com',\n    ]\n\n    def start_requests(self):\n        return [scrapy.FormRequest(\"login.php\",\n                               formdata={'username': 'user', 'password': 'pass'},\n                               callback=self.start_crawl)]\n\n    def start_crawl(self, response):\n        #start crawling\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 2484690, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed23b9c41dc3d55f27af9b68034717d7?s=128&d=identicon&r=PG", "display_name": "ollierexx", "link": "https://stackoverflow.com/users/2484690/ollierexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8260, "favorite_count": 5, "accepted_answer_id": 29809964, "answer_count": 2, "score": 5, "last_activity_date": 1501603499, "creation_date": 1429739382, "question_id": 29809524, "link": "https://stackoverflow.com/questions/29809524/using-loginform-with-scrapy", "title": "Using loginform with scrapy", "body": "<p>The scrapy framework (<a href=\"https://github.com/scrapy/scrapy\" rel=\"noreferrer\">https://github.com/scrapy/scrapy</a>) provides a library for use when logging into websites that require authentication, <a href=\"https://github.com/scrapy/loginform\" rel=\"noreferrer\">https://github.com/scrapy/loginform</a>.<br>\nI have looked through the docs for both programs however I cannot seem to figure out how to get scrapy to call loginform before running. The login works fine with just loginform.<br>\nThanks</p>\n"}, {"tags": ["javascript", "python", "regex"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1429739043, "post_id": 29809409, "comment_id": 47746967, "body": "You forgot <code>&#47;</code> to tell JS it <b>is</b> a regular expression"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429739497, "post_id": 29809409, "comment_id": 47747151, "body": "Why not use basic string methods? I&#39;m sure JS has a reasonable set of those."}], "answers": [{"comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1429739187, "post_id": 29809438, "comment_id": 47747029, "body": "p.s. in Python, you&#39;ll use <code>re.search()</code> or <code>re.match()</code> : <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/re.html</a>"}, {"owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429739232, "post_id": 29809438, "comment_id": 47747050, "body": "same error after copying the answer also"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429739285, "post_id": 29809438, "comment_id": 47747069, "body": "Not here: <a href=\"http://codepen.io/paulroub/pen/JdjygK\" rel=\"nofollow noreferrer\">codepen.io/paulroub/pen/JdjygK</a>"}, {"owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429739374, "post_id": 29809438, "comment_id": 47747106, "body": "console.log(/^(?=(.*\\d){1})(?=.*[a-zA-Z])(?=.*[!@#$%])[0-9a-&zwnj;&#8203;zA-Z_@.-]{8,}/.test(&zwnj;&#8203;&#39;password&#39;))"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429739784, "post_id": 29809438, "comment_id": 47747296, "body": "You have two extra, invisible,  characters - Unicode #8204 and #8203 - right before <code>&#39;password&#39;</code> in your version. These are &quot;zero-width space&quot; and &quot;zero-width non-joiner&quot;, which is why you can&#39;t see them. They&#39;re not legal here, apparently."}, {"owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429740274, "post_id": 29809438, "comment_id": 47747539, "body": "hmmmmm, then how can I see or remove these Unicode characters??"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429740329, "post_id": 29809438, "comment_id": 47747559, "body": "That&#39;s between you and your text editor."}, {"owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429740358, "post_id": 29809438, "comment_id": 47747567, "body": "I am using sublime text"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "reply_to_user": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429740410, "post_id": 29809438, "comment_id": 47747591, "body": "Backspace works for me in ST."}, {"owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "edited": false, "score": 0, "creation_date": 1429765356, "post_id": 29809438, "comment_id": 47755638, "body": "People are upvoting the answer means it is helpful but still I am unable to remove the unicode characters you said :)"}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": false, "score": 4, "last_activity_date": 1429739062, "creation_date": 1429739062, "answer_id": 29809438, "question_id": 29809409, "link": "https://stackoverflow.com/questions/29809409/regular-expression-error-while-checking-for-a-password/29809438#29809438", "title": "Regular expression error while checking for a password", "body": "<p>JS Regular expression literals need to be wrapped in <code>/</code>..<code>/</code>:</p>\n\n<pre><code>/^(?=(.*\\d){1})(?=.*[a-zA-Z])(?=.*[!@#$%])[0-9a-zA-Z_@.-]{8,}/.test('password')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1429741152, "creation_date": 1429741152, "answer_id": 29809958, "question_id": 29809409, "link": "https://stackoverflow.com/questions/29809409/regular-expression-error-while-checking-for-a-password/29809958#29809958", "title": "Regular expression error while checking for a password", "body": "<p>If you want to check these conditions in Python without regex:</p>\n\n<pre><code>def check_password(password):\n    return len(password) &gt; 7 and any(character.isalpha() for character in password) and any(character.isdigit() for character in password) and all(character.isalnum() or character in '_@.-' for character in password)\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>def check_password(password):\n    if len(password) &lt; 8: return False\n    alpha = digit = False\n    nosymbol = True\n    for character in password:\n        if character.isalpha():\n            alpha = True\n        if character.isdigit():\n            digit = True\n        if not (character.isalnum() or character in '_@.-'):\n            nosymbol = False\n    return alpha and digit and nosymbol\n</code></pre>\n"}], "owner": {"reputation": 1084, "user_id": 3053011, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0613738cf8f047269794df1f29a64eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ahmad", "link": "https://stackoverflow.com/users/3053011/sajid-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "closed_date": 1447146133, "accepted_answer_id": 29809958, "answer_count": 2, "score": -3, "last_activity_date": 1429741152, "creation_date": 1429738961, "question_id": 29809409, "link": "https://stackoverflow.com/questions/29809409/regular-expression-error-while-checking-for-a-password", "closed_reason": "Not suitable for this site", "title": "Regular expression error while checking for a password", "body": "<p>In javascript I am trying to check that a password must be at least 8 characters long and must contains at least one letter, one digit and no special symbol other than _@.- .\nfor this I am using this regular expresson  </p>\n\n<pre><code>^(?=(.*\\d){1})(?=.*[a-zA-Z])(?=.*[!@#$%])[0-9a-zA-Z_@.-]{8,}\n</code></pre>\n\n<p>but when I am trying to match a string with it like</p>\n\n<pre><code>^(?=(.*\\d){1})(?=.*[a-zA-Z])(?=.*[!@#$%])[0-9a-zA-Z_@.-]{8,}.test('password')\n</code></pre>\n\n<p>it is giving syntex error   </p>\n\n<pre><code>SyntaxError: expected expression, got '^'\n</code></pre>\n\n<p>and I have to check the same thing in python also.</p>\n"}, {"tags": ["python", "elementtree"], "answers": [{"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1429739506, "creation_date": 1429739506, "answer_id": 29809554, "question_id": 29809373, "link": "https://stackoverflow.com/questions/29809373/python-elementtree-child/29809554#29809554", "title": "Python ElementTree child", "body": "<p>Replace:</p>\n\n<pre><code>tree = ET.SubElement(tree, \"Setting\")\ntree.set(\"Name\", item[3:])\ntree.set(\"Value\", value)\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>setting = ET.SubElement(tree, \"Setting\")\nsetting.set(\"Name\", item[3:])\nsetting.set(\"Value\", value)\n</code></pre>\n\n<p>Then the settings will all be subelements of one <code>tree</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 4722311, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bceb7cb222b994c5c58240f1f64c0bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Jones", "link": "https://stackoverflow.com/users/4722311/dave-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429739506, "creation_date": 1429738812, "question_id": 29809373, "link": "https://stackoverflow.com/questions/29809373/python-elementtree-child", "title": "Python ElementTree child", "body": "<p>Would there be a way to end each Setting node instead of carrying over at the end?  The extra /setting/setting/setting end tags is what im looking to get rid of.   I use set but something tells me I should be using append or something to add additional setting names instead of creating subelement of setting.  </p>\n\n<pre><code>The code is generating:(I want to remove the /Setting/Setting/Setting?)\nPayload returned = &lt;\nupdate_app_profile odpApiToken=\"6b\" odpCmd=\"save\" odpExt=\"6629\" odpUser=\"profileApiUser\"&gt;\n&lt;dynamicsettings&gt;\n    &lt;Group Name=\"BASE\"&gt;\n        &lt;Setting Name=\"CTInt\" Value=\"44\"&gt;\n        &lt;Setting Name=\"CTTime\" Value=\"11:11:11\"&gt;\n        &lt;Setting Name=\"CTList\" Value=\"Half-Life 2\"&gt;\n        &lt;Setting Name=\"Regexp_Base\" Value=\"STR1\"&gt;\n        &lt;Setting Name=\"CTDate\" Value=\"2016-01-01\"&gt;\n        &lt;Setting Name=\"CTString\" Value=\"qwe\" /&gt;\n        &lt;/Setting&gt;&lt;/Setting&gt;&lt;/Setting&gt;&lt;/Setting&gt;&lt;/Setting&gt;\n     &lt;/Group&gt;\n  &lt;/dynamicsettings&gt;\n&lt;/update_app_profile&gt;\n\n\n\ndef create_post_request(self, odpExt, odpCmd, dict):\n    '''\n    &lt;?xml version=\"1.0\"? encoding=\"UTF-8\"&gt;\n    &lt;update_app_profile odpCmd=\"save\" odpUser=\"sgoel\" odpPwd=\"sgoel123\" odpExt=\"8114\"&gt;\n      &lt;dynamicsettings&gt;\n        &lt;Group Name=\"ApplicationParameters\"&gt;\n            &lt;Setting Name=\"CTTemp1\" Value=\"12\"/&gt;\n            &lt;Setting Name=\"CTTemp2\" Value=\"test1\"/&gt;\n        &lt;/Group&gt;\n      &lt;/dynamicsettings&gt;\n    &lt;/update_app_profile&gt;\n    '''\n    dict = {'.//CTDate':'2016-01-01', './/CTString': 'qwe', './/Regexp_Base': 'STR1', './/CTTime': '11:11:11', './/CTInt': '44', './/CTList': 'Half-Life 2'}\n    root = ET.Element(\"update_app_profile\")\n    root.set(\"odpCmd\", odpCmd)\n    root.set(\"odpExt\", odpExt)\n    root.set(\"odpUser\", \"profileApiUser\")\n    root.set(\"odpApiToken\", \"6b\")\n\n    tree= ET.SubElement(root,\"dynamicsettings\")\n    #tree.set(\"Group Name\", \"Group1\")\n    tree = ET.SubElement(tree, \"Group\")\n    tree.set(\"Name\",\"BASE\" )\n    #tree = ET.SubElement(tree, \"Setting\")\n\n    #tree.append(\"Setting\")\n\n\n    for item, value in dict.iteritems():\n        print item + value\n        tree = ET.SubElement(tree, \"Setting\")\n        tree.set(\"Name\", item[3:])\n        tree.set(\"Value\", value)\n\n    #tree.set(\"ApplicationParameters\")\n\n    return ET.tostring(root)\n</code></pre>\n"}, {"tags": ["python", "file", "memory"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 6, "creation_date": 1429738962, "post_id": 29809366, "comment_id": 47746925, "body": "Is the 10gb line split up properly? Maybe the 10gb file is just one long line"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1429739015, "post_id": 29809366, "comment_id": 47746953, "body": "unless you have one incredibly large line it should not read it all into memory"}, {"owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "edited": false, "score": 3, "creation_date": 1429739026, "post_id": 29809366, "comment_id": 47746958, "body": "what does <code>wc -l filename</code> show"}, {"owner": {"reputation": 688, "user_id": 2255757, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/92b38d168433d11a27e9cd70d6cded4d?s=128&d=identicon&r=PG", "display_name": "user2255757", "link": "https://stackoverflow.com/users/2255757/user2255757"}, "edited": false, "score": 0, "creation_date": 1429739118, "post_id": 29809366, "comment_id": 47746998, "body": "how do i check, it shouldnt have done, but it sounds possible"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1429739120, "post_id": 29809366, "comment_id": 47746999, "body": "Is it a binary file? Do you really print 10GB to the console?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1429739680, "post_id": 29809366, "comment_id": 47747240, "body": "How are you measuring that &quot;python chooses to try and read the whole file into memory?&quot;"}, {"owner": {"reputation": 688, "user_id": 2255757, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/92b38d168433d11a27e9cd70d6cded4d?s=128&d=identicon&r=PG", "display_name": "user2255757", "link": "https://stackoverflow.com/users/2255757/user2255757"}, "edited": false, "score": 0, "creation_date": 1429740693, "post_id": 29809366, "comment_id": 47747721, "body": "you were right about the one big line. Many thanks guys"}], "answers": [{"tags": [], "owner": {"reputation": 2506, "user_id": 1013568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/y05VS.png?s=128&g=1", "display_name": "Roman Kutlak", "link": "https://stackoverflow.com/users/1013568/roman-kutlak"}, "is_accepted": true, "score": 1, "last_activity_date": 1429740182, "creation_date": 1429740182, "answer_id": 29809732, "question_id": 29809366, "link": "https://stackoverflow.com/questions/29809366/10-gig-file-reading-problems-python/29809732#29809732", "title": "10+ gig file reading problems Python", "body": "<p>You can use an optional parameter to limit how many characters you can read at a time:</p>\n\n<pre><code>with open(file, \"r\") as f:\n    line = f.readline(max_chars)\n    while line:\n        print(line, end='')\n        line = f.readline(max_chars)\n</code></pre>\n"}], "owner": {"reputation": 688, "user_id": 2255757, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/92b38d168433d11a27e9cd70d6cded4d?s=128&d=identicon&r=PG", "display_name": "user2255757", "link": "https://stackoverflow.com/users/2255757/user2255757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 29809732, "answer_count": 1, "score": 0, "last_activity_date": 1429740182, "creation_date": 1429738782, "question_id": 29809366, "link": "https://stackoverflow.com/questions/29809366/10-gig-file-reading-problems-python", "title": "10+ gig file reading problems Python", "body": "<p>3 Files are to be read line by line, hence:</p>\n\n<pre><code>with open(file) as f:\n    for line in f:\n        print line\n</code></pre>\n\n<p>or </p>\n\n<pre><code>for line in open(file):\n    print line\n</code></pre>\n\n<p>Tried both line by line readers, but as soon as the file sizes start exceeding 10 GB python chooses to try and read the whole file into memory anyway... (works fine for file sizes &lt;10 GB)</p>\n\n<p>Any idea why?</p>\n"}, {"tags": ["python", "user-interface"], "comments": [{"owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "edited": false, "score": 0, "creation_date": 1429738514, "post_id": 29809269, "comment_id": 47746686, "body": "Check for example <a href=\"http://cyrille.rossant.net/create-a-standalone-windows-installer-for-your-python-application/\" rel=\"nofollow noreferrer\">cyrille.rossant.net/&hellip;</a>"}, {"owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 1, "creation_date": 1429738691, "post_id": 29809269, "comment_id": 47746793, "body": "Can you provide some info on what you&#39;ve tried so far?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 0, "creation_date": 1429739042, "post_id": 29809269, "comment_id": 47746966, "body": "@Totem: How is kivy going to help with this?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429739358, "post_id": 29809269, "comment_id": 47747093, "body": "Well, yeah, but it doesn&#39;t help you make the background program, or communicate between the gui and the background program, which is the part he seems to be asking about."}, {"owner": {"reputation": 103, "user_id": 1914274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3163f62e41f7e8e727c422b1a75067a4?s=128&d=identicon&r=PG", "display_name": "rahulchem", "link": "https://stackoverflow.com/users/1914274/rahulchem"}, "reply_to_user": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 0, "creation_date": 1429739535, "post_id": 29809269, "comment_id": 47747171, "body": "@Totem: I am actually stuck. I added a GUI to my continuously running application but after I start the application, my GUI gets stuck. I tried to use multitreading. It solved the first problem, but as soon as I close GUI, my script also stops. But now I am getting some idea about having two separate applications. I still have to figure out how to get them to interact."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 0, "last_activity_date": 1429739028, "creation_date": 1429739028, "answer_id": 29809430, "question_id": 29809269, "link": "https://stackoverflow.com/questions/29809269/python-gui-for-continuously-running-script/29809430#29809430", "title": "Python: GUI for continuously running script", "body": "<p>The obvious solution is to have two separate programs: a backgrounder/daemon/agent/service that just chugs along in the background detached from user input and output, and a GUI program to control it. A nice advantage of this design is that you can also have a command-line program to control it, if you ever want to ssh in remotely, or control it from a script.</p>\n\n<hr>\n\n<p>The traditional Unix way of handling this is to use a <a href=\"https://pypi.python.org/pypi/python-daemon\" rel=\"nofollow\">daemon</a> designed like a system service (even if it's run like a normal user): it writes its pid to a file when it starts up, and the control program reads that file and sends a signal to the pid that it finds to kill it.</p>\n\n<p>So, the control program has functions something like this:</p>\n\n<pre><code>def is_running():\n    try:\n        with open(PID_PATH) as f:\n            pid = int(f.read())\n        os.kill(pid, 0)\n    except Exception:\n        return False\n    else:\n        return True\n\ndef stop():\n    with open(PID_PATH) as f:\n        pid = int(f.read())\n    os.kill(pid, signal.SIGUSR1)\n\ndef start():\n    subprocess.check_call(DAEMON_PATH)\n</code></pre>\n\n<p>Of course in real life, you'll want some better error handling. Also, which signal you use depends on whether you want the daemon to die hard and instantly, or to gracefully shut down. And so on.</p>\n\n<hr>\n\n<p>An alternative is to have the background process listen on a socket\u2014whether TCP with a known port, or a Unix socket with a known filename\u2014and communicate with it that way. This allows you to do fancier things that just start and stop.</p>\n\n<hr>\n\n<p>On Windows, the details aren't quite the same, but you can do something similar.</p>\n\n<hr>\n\n<p>Finally, Windows, OS X, and various linux distros also all have platform-specific ways of wrapping this kind of thing up at a higher level, so you might want to build a Windows Service, LaunchAgent, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1431766407, "post_id": 30194328, "comment_id": 48646352, "body": "I don&#39;t understand why you&#39;re killing the background process 60 seconds after you stop it. Also, for writing a single string, you want <code>f.write</code>, not <code>f.writelines</code>. (<code>f.writelines</code> will assume your string is a sequence, break it down into 1-character sequences, and assume each one already has a newline so it won&#39;t add one, so you end up with the same output, but slower, and more likely to get corrupted if someone pulls the plug in the middle.) And finally, you may want to use <code>os.path.dirname(os.path.abspath(sys.argv[1]))</code> instead of the current working directory."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1431766527, "post_id": 30194328, "comment_id": 48646381, "body": "Also, a <code>with</code> statement is better than an explicit <code>close</code>\u2014besides saving one line of source, it means that if the <code>read</code> raises an exception, the file still gets closed. And you shouldn&#39;t need <code>win32api</code>; <code>os.kill</code> should work fine. (See the docs; anything but the special ^C/Break values just calls <code>TerminateProcess</code> for you.) But other than those little fiddly details, it all looks good."}], "tags": [], "owner": {"reputation": 103, "user_id": 1914274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3163f62e41f7e8e727c422b1a75067a4?s=128&d=identicon&r=PG", "display_name": "rahulchem", "link": "https://stackoverflow.com/users/1914274/rahulchem"}, "is_accepted": false, "score": 0, "last_activity_date": 1431442033, "creation_date": 1431442033, "answer_id": 30194328, "question_id": 29809269, "link": "https://stackoverflow.com/questions/29809269/python-gui-for-continuously-running-script/30194328#30194328", "title": "Python: GUI for continuously running script", "body": "<p>Thanks @abarnert.I used your method and converted your code for windows. Please see below my solution which works. It's starting and stopping helloworld.exe. I have removed error handling to keep it simple.</p>\n\n<pre><code>import subprocess\nimport time\n\ndef startprocess():\n    #start helloworld.exe\n    process = subprocess.Popen(['helloworld.exe'])\n    #Write down the prog id into a file for later use\n    f = open('progid.txt','w')\n    f.writelines(str(int(process._handle)))\n    f.close()\n\ndef endprocess():    \n    f = open('progid.txt','r')\n    progid  = int(f.read())\n    f.close()\n    # Kill the process using pywin32\n    import win32api\n    win32api.TerminateProcess(progid, -1)\n\nstartprocess()\ntime.sleep(60) #wait for 60 second before kill\nendprocess()\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 1914274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3163f62e41f7e8e727c422b1a75067a4?s=128&d=identicon&r=PG", "display_name": "rahulchem", "link": "https://stackoverflow.com/users/1914274/rahulchem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 29809430, "answer_count": 2, "score": -1, "last_activity_date": 1431442033, "creation_date": 1429738373, "question_id": 29809269, "link": "https://stackoverflow.com/questions/29809269/python-gui-for-continuously-running-script", "title": "Python: GUI for continuously running script", "body": "<p>I am writing a script which will run continuously on a computer. As it has to run on a computer without python installation, I am planning to convert it to executable. I also want to have a GUI to start and stop this application but I don't want this GUI to be opened all the time. I mean if the GUI is closed, I don't want the executable to stop running. It should stop only if user presses stop button on GUI. This GUI is just a interface for users to start and stop the executable.</p>\n\n<p>How can I achieve this behavior?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 2, "creation_date": 1429738878, "post_id": 29809238, "comment_id": 47746889, "body": "It is the bounds + how to it from figure fraction units -&gt; screen (ie pixel) units."}, {"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "reply_to_user": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1429739163, "post_id": 29809238, "comment_id": 47747016, "body": "Thanks tcaswell! And how do I define a <code>bbox</code> - object  with the relative coordinates <code>x = 0.5 ... 1 </code> , <code>y = 0 .. 0.3</code>   as input for the <code>blit()</code> command?"}], "answers": [{"comments": [{"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "edited": false, "score": 0, "creation_date": 1429819270, "post_id": 29822137, "comment_id": 47793002, "body": "Many Thanky Richard! The issue seems to be complexer than initial thougth. My use case is not to Special: Simply moving a picture with a mouse.    However it showed unexpected behavior. In the debugging I was not sure if I have used <code>blit</code> with the correct <code>bbox</code>.  Since I couldn&#39;t find the rrquired info in the <code>__doc__</code> and web I raised the question here. I now understand that the <code>blit(ax.box)</code> should be safe. Many thanks."}, {"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "edited": false, "score": 0, "creation_date": 1429819400, "post_id": 29822137, "comment_id": 47793092, "body": "If I (with this new knowledge) still cannot solve my problem I&#39;ll set-up a new question. In order to have good readablilty for other SO-users, i propose to leave this Q&amp;A as it is and not mix it with a different Problem."}, {"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "edited": false, "score": 0, "creation_date": 1429823994, "post_id": 29822137, "comment_id": 47795722, "body": "Ok, found my bug: In the function <code>canvas.restore_region(bg,bbox, xy)</code> i was mixing the meaning of <code>bbox</code>and <code>xy</code>. Your clearification helped me in isolating the bug."}, {"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "edited": false, "score": 0, "creation_date": 1472842183, "post_id": 29822137, "comment_id": 65932025, "body": "@Richard: I got notice that this is now a popular question (&gt;1000). Seems that your detailed explainations are also helpfull for many other users."}, {"owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "edited": false, "score": 1, "creation_date": 1563543972, "post_id": 29822137, "comment_id": 100746384, "body": "Famous question 10000 views :-)"}], "tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 12, "last_activity_date": 1429788619, "creation_date": 1429788619, "answer_id": 29822137, "question_id": 29809238, "link": "https://stackoverflow.com/questions/29809238/definition-of-matplotlib-pyplot-axes-bbox/29822137#29822137", "title": "Definition of matplotlib.pyplot.axes.bbox", "body": "<ol>\n<li><p>The value you see displayed is a bit of a complicated <code>Bbox</code>, with nested transforms that it automatically applies.  Firstly, it is a <a href=\"http://matplotlib.org/devel/transformations.html#matplotlib.transforms.TransformedBbox\" rel=\"noreferrer\"><code>TransformedBbox</code></a> instance - quoting from the docs: </p>\n\n<blockquote>\n  <p>A Bbox that is automatically transformed by a given transform.</p>\n</blockquote>\n\n<p>the representation of it in the console that you show above displays two things (comma separated) - the main <code>Bbox</code> upon which it is based, and the <code>transform</code> that it applies.  The <code>transform</code> in this case is a <a href=\"http://matplotlib.org/devel/transformations.html#matplotlib.transforms.BboxTransformTo\" rel=\"noreferrer\"><code>BboxTransformTo</code></a> object, which:</p>\n\n<blockquote>\n  <p>BboxTransformTo is a transformation that linearly transforms points from the unit bounding box to a given Bbox.</p>\n</blockquote>\n\n<p>In your case, the <code>transform</code> itself is based upon a <code>TransformedBBox</code> which again has a <code>Bbox</code> upon which it is based and a transform - for this nested instance an <a href=\"http://matplotlib.org/devel/transformations.html#matplotlib.transforms.Affine2D\" rel=\"noreferrer\"><code>Affine2D</code></a> transform.</p>\n\n<p>The purpose of the transforms (I believe) is to translate from relative co-ordinates to screen units.</p>\n\n<p>In your example, you might find that the points you expected to see are given by</p>\n\n<pre><code>&gt;&gt;&gt; ax.bbox.get_points()\narray([[  80.,   48.],\n       [ 576.,  432.]])\n</code></pre>\n\n<p>All the code for this is in <a href=\"https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/transforms.py\" rel=\"noreferrer\">available on github</a> if you want to convince yourself exactly what is being displayed.</p></li>\n<li><p>From the documentation, you can instantiate a <a href=\"http://matplotlib.org/devel/transformations.html#matplotlib.transforms.Bbox\" rel=\"noreferrer\">Bbox object</a> with the four numbers you imagine, e.g.</p>\n\n<pre><code>from matplotlib.transforms import Bbox\n\nmy_blit_box = Bbox(np.array([[x0,y0],[x1,y1]])\n</code></pre>\n\n<p>You could also use one of the <a href=\"http://matplotlib.org/devel/transformations.html#matplotlib.transforms.Bbox.from_bounds\" rel=\"noreferrer\">static methods</a>, e.g.</p>\n\n<pre><code>my_blit_box = Bbox.from_bounds(x0, y0, width, height)\n</code></pre></li>\n</ol>\n\n<h3>Caveat</h3>\n\n<p>I haven't got your use case, so can't say whether rolling your own <code>Bbox</code> and passing it to <code>blit()</code> will work directly for your case.  </p>\n\n<p>However, it's likely to be a really complicated way round to do what you want.</p>\n\n<p>Assming that you want to animate a plot - you can usually pass <code>blit=True</code> in as an argument to the animation functions and they will sort this out themselves.  <a href=\"http://matplotlib.org/api/animation_api.html\" rel=\"noreferrer\">The docs are here</a>.  There are <a href=\"http://matplotlib.org/examples/animation/index.html\" rel=\"noreferrer\">some examples here</a>, including ones with subplots.  As a skeleton - you might do something like</p>\n\n<pre><code>fig = plt.figure()\nax1 = fig.add_subplot(1, 2, 1)\nax2 = fig.add_subplot(2, 2, 2)\nax3 = fig.add_subplot(2, 2, 4)\n\n    # Code to actually put data on your 3 axes\n\nanimation.TimedAnimation.__init__(self, fig, interval=50, blit=True)\n</code></pre>\n\n<p>If you want to refresh one subplot out of many - passing in the <code>ax.bbox</code> directly into the <code>blit</code> function should work.</p>\n\n<p>Note that most of the examples given don't define their own Bbox, but rather pass in a Bbox derived from an <code>axes</code>, <code>figure</code> or <code>canvas</code> into <code>blit</code>. Note also that passing nothing into <code>ax.figure.canvas.blit()</code> will redraw the whole canvas (the default option - although I can't see why you'd want to do that).</p>\n"}], "owner": {"reputation": 1258, "user_id": 4383152, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/152bf463f05774e13dec69c45832882b?s=128&d=identicon&r=PG&f=1", "display_name": "BerndGit", "link": "https://stackoverflow.com/users/4383152/berndgit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20706, "favorite_count": 4, "accepted_answer_id": 29822137, "answer_count": 1, "score": 12, "last_activity_date": 1429788619, "creation_date": 1429738234, "last_edit_date": 1429738852, "question_id": 29809238, "link": "https://stackoverflow.com/questions/29809238/definition-of-matplotlib-pyplot-axes-bbox", "title": "Definition of matplotlib.pyplot.axes.bbox", "body": "<p>I don't understand the definition of <code>axes.bbox</code>. For example:</p>\n\n<pre><code>&gt;&gt;&gt; import matplotlib.pyplot as plt\n&gt;&gt;&gt; f, ax = plt.subplots()\n&gt;&gt;&gt; ax.bbox\nTransformedBbox(Bbox('array([[ 0.125,  0.1  ],\\n       [ 0.9  ,  0.9  ]])'), BboxTransformTo(TransformedBbox(Bbox('array([[ 0.,  0.],\\n       [ 8.,  6.]])'), Affine2D(array([[ 80.,   0.,   0.],\n       [  0.,  80.,   0.],\n       [  0.,   0.,   1.]])))))\n</code></pre>\n\n<ol>\n<li><p>What do these values mean? I would have assumed that 4 numbers would be sufficient to define a rectangle. Obviously more information is stored here.</p></li>\n<li><p>For the commands like <code>ax.figure.canvas.blit(bbox)</code> I need to define a value for the bbox. How can I manually define a <code>bbox</code> of particular  dimensions (let's say for the lower right quarter of the axes)?</p></li>\n</ol>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1429737975, "post_id": 29809129, "comment_id": 47746410, "body": "Each time through the loop you add to the end of the buffer. This doesn&#39;t change the beginning of the buffer. So if it didn&#39;t start with <code>$</code> the first time, it never will."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1429738027, "post_id": 29809129, "comment_id": 47746434, "body": "It&#39;s not clear from your description what you&#39;re supposed to do if it doesn&#39;t start with <code>$</code>. Maybe you should break out of the loop?"}], "answers": [{"tags": [], "owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "is_accepted": true, "score": 2, "last_activity_date": 1429738116, "creation_date": 1429738116, "answer_id": 29809197, "question_id": 29809129, "link": "https://stackoverflow.com/questions/29809129/python-error-in-if-then-statement/29809197#29809197", "title": "Python error in If-Then statement", "body": "<p>Although it's not exactly obvious what the end intent of your code is, you might just need to unindent the last line to clear the buffer every time, otherwise you are constantly adding to it, and if it doesn't start with a <code>$</code>, it never will.</p>\n\n<pre><code>while True:\n    buffer += ser.read(ser.inWaiting())\n    if '\\n' in buffer:\n        if buffer[0] == '$':\n            x= re.sub(\"[^0-9\\,]\",\"\", buffer)\n            x1 = x.rstrip()\n            x2= x1.split(\",\")\n            print((x2[0]),(x2[1]),(x2[2]))            \n        buffer = \"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3424, "user_id": 4799121, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zHK4ZhagYCQ/AAAAAAAAAAI/AAAAAAAACDg/FD16p8Jx2U4/photo.jpg?sz=128", "display_name": "enigma", "link": "https://stackoverflow.com/users/4799121/enigma"}, "edited": false, "score": 0, "creation_date": 1429740873, "post_id": 29809834, "comment_id": 47747799, "body": "Ah yes, much more robust than my quick fix, nice"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1429740582, "last_edit_date": 1495535045, "creation_date": 1429740582, "answer_id": 29809834, "question_id": 29809129, "link": "https://stackoverflow.com/questions/29809129/python-error-in-if-then-statement/29809834#29809834", "title": "Python error in If-Then statement", "body": "<p>The problem is that you keep adding the new lines onto the end of the buffer, only clearing it out if you happen to have a command. So, once you get a line that isn't a command, your buffer will never start with a command.</p>\n\n<p>I think <a href=\"https://stackoverflow.com/a/29809197/908494\">enigma's answer</a> is what you were asking for.</p>\n\n<hr>\n\n<p>But it's still not going to work right if you can ever get two lines (or, worse, part of one line and part of the next) in the same buffer. So, you really want something more like this:</p>\n\n<pre><code>while True:\n    buffer += ser.read(ser.inWaiting())\n    lines = buffer.split('\\n')\n    for line in lines[:-1]:\n        if line[0] == '$':\n            x= re.sub(\"[^0-9\\,]\",\"\", line)\n            x1 = x.rstrip()\n            x2= x1.split(\",\")\n            print((x2[0]),(x2[1]),(x2[2]))            \n    buffer = lines[-1]\n</code></pre>\n\n<p>The <code>split</code> will break the buffer into all of the complete lines, plus either an empty string or a leftover partial line. So, you process the complete lines, and stick the leftover empty string or partial line into the buffer to be added to on the next read.</p>\n"}], "owner": {"reputation": 953, "user_id": 4509106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7cd0c19a74b2201299538cfc4a772b7f?s=128&d=identicon&r=PG&f=1", "display_name": "Irfan Ghaffar7", "link": "https://stackoverflow.com/users/4509106/irfan-ghaffar7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "accepted_answer_id": 29809197, "answer_count": 2, "score": 3, "last_activity_date": 1429740582, "creation_date": 1429737811, "last_edit_date": 1429738181, "question_id": 29809129, "link": "https://stackoverflow.com/questions/29809129/python-error-in-if-then-statement", "title": "Python error in If-Then statement", "body": "<p>I am writing a program in python, which works like this:</p>\n\n<ol>\n<li>Take input string through Serial port, when press enter (Carriage Return)</li>\n<li>Check <code>$</code> sign on the first character of input string then continue if present</li>\n<li>Remove all the unwanted character and alphabetics except <code>numerics</code> and <code>,</code> and then print it.</li>\n</ol>\n\n<p><strong>Problem</strong></p>\n\n<p>Program stuck, if <code>$</code> sign is not present in input string because next time if It get input string with <code>$</code>, it doesn't print the values</p>\n\n<p>kindly review my codes below and guide me on how do I resolve it?</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>import serial,re\n\nx = [0,0,0]\nser = serial.Serial('/dev/ttyAMA0', 9600)\nbuffer = ''\n\nwhile True:\n    buffer += ser.read(ser.inWaiting())\n    if '\\n' in buffer:\n        if buffer[0] == '$':\n            x= re.sub(\"[^0-9\\,]\",\"\", buffer)\n            x1 = x.rstrip()\n            x2= x1.split(\",\")\n            print((x2[0]),(x2[1]),(x2[2]))            \n            buffer = \"\"\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1429739165, "post_id": 29809128, "comment_id": 47747019, "body": "possible duplicate of:  <a href=\"http://stackoverflow.com/questions/6921699/can-i-get-json-to-load-into-an-ordereddict-in-python\" title=\"can i get json to load into an ordereddict in python\">stackoverflow.com/questions/6921699/&hellip;</a>"}, {"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1429739467, "post_id": 29809128, "comment_id": 47747139, "body": "your example desired output doesn&#39;t make sense.  Where is <code>&quot;l&quot;: &quot;p&quot;</code> coming from?"}], "owner": {"reputation": 41, "user_id": 3171362, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/550f0746ff1f831e38ffdc1b4ec465d1?s=128&d=identicon&r=PG&f=1", "display_name": "user3171362", "link": "https://stackoverflow.com/users/3171362/user3171362"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1429738278, "answer_count": 0, "score": 0, "last_activity_date": 1429788830, "creation_date": 1429737795, "last_edit_date": 1429788830, "question_id": 29809128, "link": "https://stackoverflow.com/questions/29809128/put-json-in-python-wtihout-losing-order", "closed_reason": "Duplicate", "title": "Put json in python wtihout losing order", "body": "<p>I have the following function in python\nparameter1: initial json\nparameter2: key\nparameter3: json to add</p>\n\n<pre><code>import simplejson as json\n    struct = json.loads(json_struct)\n    flag=0\n    for key in struct.keys():\n            if key == field_name:\n                    data1 = json.loads(data)\n                    if type(data1) == dict or type(data1) == list:\n                            struct[key] = data1\n                    flag=1\n    if flag == 0:\n            data1 = json.loads(data)\n            if type(data1) == dict or type(data1) == list:\n                    struct[field_name] = data1\n    return json.dumps(struct)\n</code></pre>\n\n<p>If I call this</p>\n\n<pre><code>json_put_json('{\"h\":\"a\", \"l\": \"p\"}','b','[{\"l\":\"o\",\"m\":\"o\"}]');\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>{\"h\": \"a\", \"b\": [{\"m\": \"o\", \"l\": \"o\"}], \"l\": \"p\"}\n</code></pre>\n\n<p>but I want this: </p>\n\n<pre><code>{\"h\": \"a\", \"l\": \"p\", \"b\": [{\"l\": \"o\", \"m\": \"o\"}]}\n</code></pre>\n\n<p>I am losing the order. I want to conserve the order in the json.\nI would be happy if I get: </p>\n\n<pre><code>{\"h\": \"a\", \"b\": [{\"l\": \"o\", \"m\": \"o\"}], \"l\": \"p\"}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "recursion", "return"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429738751, "post_id": 29809085, "comment_id": 47746830, "body": "You would need to <code>return input_store()</code>, the value of <code>sel_store</code> will be stored on the first call to the function so if you enter 100 different numbers you will always get the first unless you return"}], "answers": [{"comments": [{"owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "edited": false, "score": 3, "creation_date": 1429737809, "post_id": 29809098, "comment_id": 47746335, "body": "or just <code>return input_store()</code>"}, {"owner": {"reputation": 23, "user_id": 2436177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932931282d7ba21938254059c68256a7?s=128&d=identicon&r=PG", "display_name": "BAZA", "link": "https://stackoverflow.com/users/2436177/baza"}, "edited": false, "score": 0, "creation_date": 1429737930, "post_id": 29809098, "comment_id": 47746394, "body": "So sorry. I forget to include that piece in the post. I&#39;m editing now."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429738044, "post_id": 29809098, "comment_id": 47746443, "body": "No - immediately after printing the &quot;invalid&quot; message, within the function."}, {"owner": {"reputation": 23, "user_id": 2436177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932931282d7ba21938254059c68256a7?s=128&d=identicon&r=PG", "display_name": "BAZA", "link": "https://stackoverflow.com/users/2436177/baza"}, "edited": false, "score": 0, "creation_date": 1429738648, "post_id": 29809098, "comment_id": 47746764, "body": "I think it worked. I still not sure why my version doesn&#39;t work but I understand why your does. Thanks."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429738744, "post_id": 29809098, "comment_id": 47746824, "body": "It&#39;s because you saved the initial attempt, but then the returned value of the recursive call wasn&#39;t saved, so in effect you had a line that was just a statement containing some number, which the interpreter immediately threw away."}, {"owner": {"reputation": 23, "user_id": 2436177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932931282d7ba21938254059c68256a7?s=128&d=identicon&r=PG", "display_name": "BAZA", "link": "https://stackoverflow.com/users/2436177/baza"}, "edited": false, "score": 0, "creation_date": 1429740631, "post_id": 29809098, "comment_id": 47747691, "body": "So if python had TCO the code might run ok? It is strange that I have to define the variable twice."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429741335, "post_id": 29809098, "comment_id": 47747990, "body": "No, TCO would make a tail-recursive function (a recursive function where the recursive call is the last thing in the function) faster/neater for the compiler. Python doesn&#39;t do that because TCO eliminates the stack and Guido wanted the stack available for debugging. It&#39;s perfectly fine to assign to a variable twice if the first assignment fails an error check."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1429741538, "last_edit_date": 1429741538, "creation_date": 1429737712, "answer_id": 29809098, "question_id": 29809085, "link": "https://stackoverflow.com/questions/29809085/python-recursion-returning-old-value/29809098#29809098", "title": "Python recursion returning old value", "body": "<p>You need to save the value after printing the \"invalid\" message.</p>\n\n<pre><code>if sel_store &gt; limit_store:\n    print \"Store number %i is not valid\" % sel_store\n    sel_store = input_store() # save value here\n</code></pre>\n\n<p><code>return</code>ing the number instead of saving it would also work - as long as the number goes somewhere useful instead of being thrown away. Python <a href=\"http://neopythonic.blogspot.com/2009/04/tail-recursion-elimination.html\" rel=\"nofollow\">doesn't have TCO</a>, so the performance benefit is minimal. The difference is in what you find preferable: that your function has a single <code>return</code> statement, or that it <code>return</code>s immediately instead of saving the variable first.</p>\n\n<p>It would be simpler as a loop anyway:</p>\n\n<pre><code>def input_store():\n    while True:\n        sel_store = int(raw_input(\"Which store do you want? \"))\n        if sel_store &lt;= limit_store: break\n        print \"Store number %i is not valid\" % sel_store\n    return sel_store\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2436177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932931282d7ba21938254059c68256a7?s=128&d=identicon&r=PG", "display_name": "BAZA", "link": "https://stackoverflow.com/users/2436177/baza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "accepted_answer_id": 29809098, "answer_count": 1, "score": 0, "last_activity_date": 1429741538, "creation_date": 1429737645, "last_edit_date": 1429737993, "question_id": 29809085, "link": "https://stackoverflow.com/questions/29809085/python-recursion-returning-old-value", "title": "Python recursion returning old value", "body": "<p>I'm trying to make a simple control in Python 2 to make sure that the user's input is smaller than a given constant. If this is not the case it should ask again for another integer until it is smaller.</p>\n\n<pre><code>limit_store = 12\n\ndef input_store():\n    sel_store = int(raw_input(\"Which store do you want? \"))\n    if sel_store &gt; limit_store:\n        print \"Store number %i is not valid\" % sel_store\n        input_store()  \n    return sel_store\n\nstore = input_store()\n</code></pre>\n\n<p>This worked the first time I wrote it in an Ipython notebook. Now if the first input is 9, it returns 9 as expected. If the input is 999, which is larger than 12, the if statement is runned and we get to select another integer. Selecting a correct input after a wrong one will return the old wrong input instead of the newer input.</p>\n"}, {"tags": ["python", "emacs", "jedi"], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 1099477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baca31bba48e0f62f4c61b2595faf01?s=128&d=identicon&r=PG", "display_name": "Tinker Sun", "link": "https://stackoverflow.com/users/1099477/tinker-sun"}, "is_accepted": true, "score": 17, "last_activity_date": 1430282473, "creation_date": 1430282473, "answer_id": 29934511, "question_id": 29809061, "link": "https://stackoverflow.com/questions/29809061/how-to-properly-setup-jedi-with-elpy-in-emacs/29934511#29934511", "title": "How to properly setup Jedi with elpy in emacs?", "body": "<blockquote>\n  <p>According to the document of elpy, you just need to install elpy package. Then use the config below  </p>\n  \n  <blockquote>\n<pre><code>(elpy-enable)  \n(setq elpy-rpc-backend \"jedi\")  \n</code></pre>\n    \n    <p>That's all.\n    You can visit <a href=\"https://github.com/jorgenschaefer/elpy\" rel=\"noreferrer\">https://github.com/jorgenschaefer/elpy</a> for more information.</p>\n  </blockquote>\n</blockquote>\n"}], "owner": {"reputation": 3068, "user_id": 553735, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1e348f8a50d94baf7d0a434e63967ca6?s=128&d=identicon&r=PG", "display_name": "Srv19", "link": "https://stackoverflow.com/users/553735/srv19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9349, "favorite_count": 3, "accepted_answer_id": 29934511, "answer_count": 1, "score": 12, "last_activity_date": 1596725862, "creation_date": 1429737533, "last_edit_date": 1429739803, "question_id": 29809061, "link": "https://stackoverflow.com/questions/29809061/how-to-properly-setup-jedi-with-elpy-in-emacs", "title": "How to properly setup Jedi with elpy in emacs?", "body": "<p>I am using emacs with elpy as mode for working with python code. I have also installed Jedi for, mainly, two things: go to definition functionality it provides and autocompletion.</p>\n\n<p>However, I have run into the following problems with this setup:</p>\n\n<ol>\n<li>Jedi completion is not triggered by key commands. It appears automatically, but sometimes too late for my tastes, and i would prefer to try and invoke it earlier. However, despite there being a Jedi: Key complete option in customisation pages, it does not seem to have any effect. From the other hand, elpy's company-mode's shortcut does that on <code>C-M-i</code>.</li>\n<li>When both Jedi and company-mode are on, sometimes two completion lists appear (with same contents; i have also company jedi backend installed) - but only one of them allows changing selection (completion list from Jedi), but on Enter selection from company is used. This is not usable.</li>\n</ol>\n\n<p>Is there any way to setup things so that i will have autocompletion from a single source with jedi backend and jedi's go to definition?</p>\n\n<p>This is how i currently setup jedi in my <code>init.el</code>:</p>\n\n<pre class=\"lang-lisp prettyprint-override\"><code>(add-hook 'python-mode-hook 'jedi:setup)\n(setq jedi:complete-on-dot t)\n</code></pre>\n"}, {"tags": ["python", "memory", "numpy", "time"], "comments": [{"owner": {"reputation": 1873, "user_id": 1725553, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-CsRuoQmwqLo/AAAAAAAAAAI/AAAAAAAAAFM/hESpKGJTWZo/photo.jpg?sz=128", "display_name": "paddyg", "link": "https://stackoverflow.com/users/1725553/paddyg"}, "edited": false, "score": 0, "creation_date": 1429737724, "post_id": 29808982, "comment_id": 47746286, "body": "if you&#39;re using linux you could use top to give memory and cpu. You can also get loads of info using cprofile"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1429737858, "post_id": 29808982, "comment_id": 47746358, "body": "What is the problem with timeit? That should be exactly what you need for timing profiling."}, {"owner": {"reputation": 2506, "user_id": 1013568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/y05VS.png?s=128&g=1", "display_name": "Roman Kutlak", "link": "https://stackoverflow.com/users/1013568/roman-kutlak"}, "edited": false, "score": 0, "creation_date": 1429740578, "post_id": 29808982, "comment_id": 47747660, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/110259/which-python-memory-profiler-is-recommended\">Which Python memory profiler is recommended?</a>"}, {"owner": {"reputation": 2506, "user_id": 1013568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/y05VS.png?s=128&g=1", "display_name": "Roman Kutlak", "link": "https://stackoverflow.com/users/1013568/roman-kutlak"}, "edited": false, "score": 0, "creation_date": 1429740686, "post_id": 29808982, "comment_id": 47747717, "body": "I think this is answered <a href=\"http://stackoverflow.com/questions/7370801/measure-time-elapsed-in-python\">here</a> and <a href=\"http://stackoverflow.com/questions/110259/which-python-memory-profiler-is-recommended\">here</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1429747217, "post_id": 29808982, "comment_id": 47750116, "body": "Whenever you say <i>&quot;I have tried X, but it seems not to be exactly what I&#39;m looking for&quot;</i>, please explain <i>why</i> you think it isn&#39;t what you&#39;re looking for. Maybe we can explain how to achieve what you want using X, or at least we can get a better idea of what your actual needs are."}], "owner": {"reputation": 1, "user_id": 4791073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2da8cd990ee8768e74ce1636a957df?s=128&d=identicon&r=PG&f=1", "display_name": "SaraH", "link": "https://stackoverflow.com/users/4791073/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429737247, "creation_date": 1429737247, "question_id": 29808982, "link": "https://stackoverflow.com/questions/29808982/how-to-measure-the-time-and-memory-costs-of-my-function", "title": "How to measure the time and memory costs of my function?", "body": "<p>I have written my code in python (using numpy). It is a simple code for classification problems, but I would really like to compare how for instance Neural Nets performs in comparison to decision trees. I would like to measure the time taken to run my function and the memory cost, I have tried to find a numpy function for this, and have tried timeit, but it seems not to be exactly what im looking for.</p>\n\n<p>I would like to simply have a function that I can say time(NeuralNets()) and then it tells me how long running that function with its given input takes.</p>\n\n<p>any help would be very welcome!</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1429739095, "post_id": 29808879, "comment_id": 47746990, "body": "Check the indentation on your final <code>return render...</code> line. This is the behavior you&#39;d see if you had accidentally indented it too far, making it only trigger as part of the <code>if request.method == &#39;POST&#39;:</code> block."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1429773541, "post_id": 29808879, "comment_id": 47759811, "body": "You should be using a Django form for all this logic."}, {"owner": {"reputation": 21, "user_id": 4747847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dba2c507b9af7f624535f752e802b748?s=128&d=identicon&r=PG&f=1", "display_name": "maxprot", "link": "https://stackoverflow.com/users/4747847/maxprot"}, "edited": false, "score": 0, "creation_date": 1429777365, "post_id": 29808879, "comment_id": 47762172, "body": "Just got off work, I will try these things tomorrow I am beat. Thank you guys SO much for responding."}], "answers": [{"tags": [], "owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429737297, "creation_date": 1429737297, "answer_id": 29808996, "question_id": 29808879, "link": "https://stackoverflow.com/questions/29808879/django-views-contact-didnt-return-an-httpresponse-object/29808996#29808996", "title": "Django views.contact didn&#39;t return an HttpResponse object", "body": "<p>can you try</p>\n\n<pre><code>return render_to_response(request, 'contact.html',\n    {'errors': errors})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1429739133, "post_id": 29809008, "comment_id": 47747007, "body": "You probably don&#39;t want a permanent redirect on form submission."}], "tags": [], "owner": {"reputation": 234, "user_id": 4218825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d02a58e2e4db988bb6bef8cd81c565c?s=128&d=identicon&r=PG&f=1", "display_name": "Tanorix", "link": "https://stackoverflow.com/users/4218825/tanorix"}, "is_accepted": false, "score": 1, "last_activity_date": 1429737366, "creation_date": 1429737366, "answer_id": 29809008, "question_id": 29808879, "link": "https://stackoverflow.com/questions/29808879/django-views-contact-didnt-return-an-httpresponse-object/29809008#29809008", "title": "Django views.contact didn&#39;t return an HttpResponse object", "body": "<p>If you want to redirect at other view, I advice you to use :</p>\n\n<pre><code>return redirect(&lt;name of a view&gt;, permanent=True)\n</code></pre>\n\n<p>instead of <code>HttpResponseRedirecter</code></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4747847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dba2c507b9af7f624535f752e802b748?s=128&d=identicon&r=PG&f=1", "display_name": "maxprot", "link": "https://stackoverflow.com/users/4747847/maxprot"}, "is_accepted": false, "score": 1, "last_activity_date": 1429889859, "creation_date": 1429889859, "answer_id": 29851746, "question_id": 29808879, "link": "https://stackoverflow.com/questions/29808879/django-views-contact-didnt-return-an-httpresponse-object/29851746#29851746", "title": "Django views.contact didn&#39;t return an HttpResponse object", "body": "<p>So I did what Peter suggested, checking the indentation of the last return statement (needed to not be indented) and yes... that was it. It's almost like I knew I was going to overlook something like this :p thanks to Peter and everybody for your help, I really appreciate you guys!! Have a good weekend</p>\n"}], "owner": {"reputation": 21, "user_id": 4747847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dba2c507b9af7f624535f752e802b748?s=128&d=identicon&r=PG&f=1", "display_name": "maxprot", "link": "https://stackoverflow.com/users/4747847/maxprot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1429889859, "creation_date": 1429736946, "last_edit_date": 1429819313, "question_id": 29808879, "link": "https://stackoverflow.com/questions/29808879/django-views-contact-didnt-return-an-httpresponse-object", "title": "Django views.contact didn&#39;t return an HttpResponse object", "body": "<p>Hey guys I am running a blog with Django on a server but the contact form is not working, and after messing with it a bit, I broke it but the code is the original so I have no idea why it wouldn't be working. Here is my contact form:</p>\n\n<pre><code>def contact(request):\n    errors = []\n    if request.method == 'POST':\n        if not request.POST.get('subject', ''):\n            errors.append('Enter a subject.')\n        if not request.POST.get('message', ''):\n            errors.append('Enter a message.')\n        if request.POST.get('email') and '@' not in request.POST['email']:\n            errors.append('Enter a valid e-mail address.')\n        if not errors:\n            send_mail(\n                request.POST['subject'],\n                \"User's Email:              \" + request.POST['email'] + \"           User's Message:     \" + request.POST['message'],\n                request.POST.get('email', 'my_email@mail.com'),\n                ['my_email@mail.com'], #email address where message is sent.\n            )\n            return HttpResponseRedirect('/thanks/')\n    return render(request, 'contact.html',\n        {'errors': errors})\n</code></pre>\n\n<p>Now I get this error when I run this page in the site:</p>\n\n<pre><code>ValueError at /contact/\n\nThe view blog.views.contact didn't return an HttpResponse object. It returned None instead.\n\nRequest Method:     GET\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1429736371, "post_id": 29808671, "comment_id": 47745543, "body": "Why do you mean by &quot;insert more commands&quot;? You want to pass commands to <code>candc</code>&#39;s standard input?"}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429736805, "post_id": 29808671, "comment_id": 47745766, "body": "yes. when the above subprocess is running, it is in the candc environment and is waiting to receive a sentence. so I simply want to pass any sentence."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429736998, "post_id": 29808671, "comment_id": 47745864, "body": "There&#39;s about 30 different things named <code>candc</code>, so I don&#39;t know which one you&#39;re using; it would help to put a link in the question. But the important part is: does it have an interactive prompt, that you want to use interactively (as in, you don&#39;t know what to send, or at least when to send the next thing, until you get the response/prompt)?"}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429737190, "post_id": 29808671, "comment_id": 47745978, "body": "this candc is an NLP library. yes it has an interactive prompt."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429737234, "post_id": 29808671, "comment_id": 47745999, "body": "If you want to send commands you need to use Popen"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429737431, "post_id": 29808671, "comment_id": 47746125, "body": "@mid: &quot;An NLP library&quot; still doesn&#39;t tell us which one. (At least it tells me it&#39;s not the Node.js daemon command-and-control library or C&amp;C Django Factory, which were my first two guesses\u2026)"}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429737686, "post_id": 29808671, "comment_id": 47746268, "body": "@abarnert here is the <a href=\"http://svn.ask.it.usyd.edu.au/trac/candc/wiki/Documentation\" rel=\"nofollow noreferrer\">link</a>."}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429737719, "post_id": 29808671, "comment_id": 47746280, "body": "@PadraicCunningham can I pass the cwd argument to Popen as well?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429737758, "post_id": 29808671, "comment_id": 47746304, "body": "yes, you can also pipe without using shell=True, are you using <a href=\"http://svn.ask.it.usyd.edu.au/trac/candc/wiki/Installation\" rel=\"nofollow noreferrer\">svn.ask.it.usyd.edu.au/trac/candc/wiki/Installation</a>?"}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429737977, "post_id": 29808671, "comment_id": 47746412, "body": "@PadraicCunningham thank you i will check on that, yes I am using that C&amp;C"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429737993, "post_id": 29808671, "comment_id": 47746420, "body": "@mid: Put that in the question, not in a comment."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429738021, "post_id": 29808671, "comment_id": 47746430, "body": "If you want to input after certain lines you will need to <code>for line in iter(proc.sdtout.readline,&quot;&quot;)</code>, parse the line and then proc.stdin.write"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429738263, "post_id": 29808671, "comment_id": 47746555, "body": "As a side note, instead of using <code>|tee &#47;dev&#47;stderr</code> in the shell, you can have the <code>Popen</code> do the equivalent, and then you don&#39;t need a shell at all. You&#39;ll have to skim the entire <code>subprocess</code> docs and read the <a href=\"https://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module\" rel=\"nofollow noreferrer\">replacing older functions</a> part carefully to understand how, but it&#39;s not that hard."}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429737342, "post_id": 29808817, "comment_id": 47746067, "body": "this would be helpful if only it worked. by doing what you suggested I get this erorr : <code>TypeError: __init__() got an unexpected keyword argument &#39;input&#39;</code>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429737514, "post_id": 29808817, "comment_id": 47746174, "body": "@mid: If you check the docs I linked, it&#39;ll tell you what version of Python added each wrapper function and each argument to that wrapper. Or, if you told us what version of Python you&#39;re on, I could check it."}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429737514, "post_id": 29808817, "comment_id": 47746175, "body": "I guess its because of python 2.7 that &quot;input&quot; is unexpected."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 3, "last_activity_date": 1429738176, "last_edit_date": 1429738176, "creation_date": 1429736723, "answer_id": 29808817, "question_id": 29808671, "link": "https://stackoverflow.com/questions/29808671/python-subprocess-insert-commands-inside-of-a-running-subprocess/29808817#29808817", "title": "python subprocess insert commands inside of a running subprocess", "body": "<p>I think what you're asking is how to pass commands to the standard input of <code>candc</code>, as if you'd run it on the command line and typed commands on its interface.</p>\n\n<hr>\n\n<p>If you can pass all the commands at once as one big string (presumably joined by newlines), you can do that with the <code>input</code> parameter, as shown in the examples in the <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.check_output\" rel=\"nofollow\"><code>check_output</code></a> docs:</p>\n\n<pre><code>cmd=\"bin/candc --models models\"\ncommands=\"\"\"first candc command\nsecond candc command\nthird candc command\n\"\"\"\nsubprocess.check_output('{} | tee /dev/stderr'.format(cmd), shell=True,\n                        cwd=os.path.abspath('candc'),\n                        input=commands)\n</code></pre>\n\n<p>If this is Python 3.x, you have to also use encoded bytes for <code>commands</code>, or add <code>universal_newlines=True</code> to make <code>check_output</code> do it for you. If your commands are pure ASCII, the former is easier; just change that line to <code>commands = b\"\"\"\u2026</code>.</p>\n\n<p>If this is an old enough version (I think that means 2.6/3.2, but I'm not sure\u2014check the docs linked above), the <code>input</code> parameter didn't exist yet. In that case, you have three options:</p>\n\n<ul>\n<li>Install <a href=\"https://pypi.python.org/pypi/subprocess32/\" rel=\"nofollow\"><code>subprocess32</code></a> off PyPI, which backports the newer version of the library to older versions of Python.</li>\n<li>Look at how the <a href=\"https://hg.python.org/cpython/file/default/Lib/subprocess.py#l588\" rel=\"nofollow\">current source</a> handles the <code>input</code> argument and do exactly the same thing yourself.</li>\n<li><code>Popen.communicate</code> took an <code>input</code> argument before <code>check_output</code> did, so, you can just manually create a <code>Popen</code> and call <code>communicate</code> on it.</li>\n</ul>\n\n<p>The last one is basically just a simpler version of the second one\u2026\u00a0but it is a lot simpler. In fact, it's just a two-liner if you don't need all the extra complexity of handling timeouts and doing something with the output and so on:</p>\n\n<pre><code>p = subprocess.Popen('{} | tee /dev/stderr'.format(cmd), shell=True,\n                     cwd=os.path.abspath('candc'), stdin=PIPE)\np.communicate(commands)\n</code></pre>\n\n<hr>\n\n<p>If you need to send the commands interactively (wait for one response before sending the next), then <code>check_output</code> can't do that. It's just a convenience wrapper around the <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.Popen\" rel=\"nofollow\"><code>Popen</code></a> object. You will instead want to create a <code>Popen</code> object explicitly, then do <code>p.stdin.write</code> and <code>p.stdout.read</code> to communicate with it.</p>\n\n<p>For example, a quick&amp;dirty version might be:</p>\n\n<pre><code>p = subprocess.Popen('{} | tee /dev/stderr'.format(cmd), shell=True,\n                     cwd=os.path.abspath('candc'), \n                     stdin=PIPE, stdout=PIPE)\nfor command in commands.splitlines():\n    p.stdout.readline() # read and ignore a prompt\n    p.stdin.write(command + '\\n')\nrc = p.wait()\nif rc: raise SomeException() # this is the check in check_output\n</code></pre>\n\n<p>But that code can block if, say, the prompt is ever more than one line, or it isn't guaranteed to fit in one buffer, or\u2026</p>\n\n<p>In general, this can be very hard to get right. (Python itself didn't get it right in the <code>communicate</code> function until 3.2 or 3.3\u2026) Especially if you don't understand what the docs are talking about with blocking the output pipe. So if that's really what you need, you may want to consider using a third-party library that's made for driving interactive command-line programs, like <a href=\"https://pexpect.readthedocs.org/en/latest/\" rel=\"nofollow\"><code>pexpect</code></a>, instead of doing it yourself.</p>\n"}], "owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1486, "favorite_count": 0, "accepted_answer_id": 29808817, "answer_count": 1, "score": 1, "last_activity_date": 1429738839, "creation_date": 1429736252, "last_edit_date": 1429738839, "question_id": 29808671, "link": "https://stackoverflow.com/questions/29808671/python-subprocess-insert-commands-inside-of-a-running-subprocess", "title": "python subprocess insert commands inside of a running subprocess", "body": "<p>I have a subprocess running:</p>\n\n<pre><code>cmd=\"bin/candc --models models\"\nsubprocess.check_output('{} | tee /dev/stderr'.format( cmd ), shell=True,cwd=os.path.abspath('candc'))\n</code></pre>\n\n<p>and i want to be able to insert more commands that is recognized only by the currently running subprocess.<br>\nnote that there must be a <code>cwd=os.path.abspath('candc')</code> parameter so that the subprocess would be called from outside of the binary folder, otherwise it won't run.<br>\n<strong><a href=\"http://svn.ask.it.usyd.edu.au/trac/candc/wiki/Documentation\" rel=\"nofollow\">C&amp;C</a></strong> is a NLP library and what it is actually going to do is to parse a given sentence. I want to be able to pass a sentence to the subprocess. how can I do this ?</p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430175215, "post_id": 29808660, "comment_id": 47937200, "body": "Hey, I worked out the workaround I originally suggested. I don&#39;t think you&#39;re going to get anything better built-in."}], "answers": [{"comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 1070, "user_id": 2575273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc322ece13a23b019d2291c891e0220f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2575273/martin"}, "edited": false, "score": 0, "creation_date": 1479889244, "post_id": 29809166, "comment_id": 68743240, "body": "I don&#39;t know if Pandas can plot it, but matplotlib can do it with a Pandas time series dataframe. New question?"}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 2, "last_activity_date": 1429834898, "last_edit_date": 1429834898, "creation_date": 1429737990, "answer_id": 29809166, "question_id": 29808660, "link": "https://stackoverflow.com/questions/29808660/pandas-area-plot-interpolation-step-style/29809166#29809166", "title": "pandas area plot interpolation / step style", "body": "<p>As far as I can tell, <code>df.plot(drawstyle=\"steps\")</code> doesn't even store the calculated step vertices; </p>\n\n<pre><code>out = df.plot(kind = 'line', drawstyle = 'steps') # stepped, not filled\nstepline = out.get_lines()[0]\nprint(stepline.get_data())\n</code></pre>\n\n<blockquote>\n  <p>(array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), array([0, 1, 2, 3, 4, 5, 6, 7,\n  8, 9]))</p>\n</blockquote>\n\n<p>so I think you'll have to roll your own. Which is just inserting <code>(x[i+1],y[i])</code> directly after every <code>(x[i],y[i])</code> in the list of points:</p>\n\n<pre><code>df = pd.DataFrame({'x':range(10)})\nx = df.x.values\nxx = np.array([x,x])\nxx.flatten('F')\ndoubled = xx.flatten('F') # NOTE! if x, y weren't the same, need a yy\nplt.fill_between(doubled[:-1], doubled[1:], label='area')\nax = plt.gca()\ndf.plot(drawstyle = 'steps', color='red', ax=ax) \n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/T1Piy.png\" alt=\"enter image description here\"></p>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 2575273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc322ece13a23b019d2291c891e0220f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2575273/martin"}, "is_accepted": false, "score": 4, "last_activity_date": 1479895020, "creation_date": 1479895020, "answer_id": 40761108, "question_id": 29808660, "link": "https://stackoverflow.com/questions/29808660/pandas-area-plot-interpolation-step-style/40761108#40761108", "title": "pandas area plot interpolation / step style", "body": "<p>Recently an <a href=\"https://github.com/matplotlib/matplotlib/pull/4433\" rel=\"nofollow noreferrer\">update</a> of <code>.fill_between()</code> was shipped with <strong>matplotlib version 1.5.0</strong> that allows to fill the area between two step functions. This even works with Pandas time series.</p>\n\n<p>Since the argument <code>step='pre'</code> exists, it can be used like this:</p>\n\n<pre><code># For error bands around a series df\nax.fill_between(df.index, df - offset, df + offset, step='pre', **kwargs)\n\n# For filling the whole area below a function\nax.fill_between(df.index, df, 0, step='pre', **kwargs)\n</code></pre>\n\n<p>Additional key word arguments that make sense to me are for example <code>alpha=0.3</code> and <code>lw=0</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 5446933, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Y0izJ.gif?s=128&g=1", "display_name": "horseshoe", "link": "https://stackoverflow.com/users/5446933/horseshoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1563282796, "creation_date": 1563282796, "answer_id": 57058100, "question_id": 29808660, "link": "https://stackoverflow.com/questions/29808660/pandas-area-plot-interpolation-step-style/57058100#57058100", "title": "pandas area plot interpolation / step style", "body": "<p>with area this isnot possbile but you can use a stacked bar plot do get what you want</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'x':range(10)})\ndf.plot(kind=\"bar\",stacked=True,width = 1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qaNM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qaNM4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 61, "user_id": 4821420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7221b33e7d790f33bcad7e2743276f51?s=128&d=identicon&r=PG&f=1", "display_name": "123py", "link": "https://stackoverflow.com/users/4821420/123py"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3382, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1563282796, "creation_date": 1429736219, "question_id": 29808660, "link": "https://stackoverflow.com/questions/29808660/pandas-area-plot-interpolation-step-style", "title": "pandas area plot interpolation / step style", "body": "<p>Is there a way to disable the interpolation in the pandas area plot?\nI would like to get a \"step-style\" area plot.\nE.g. in the normal line plot it is possible to specify: </p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'x':range(10)})\ndf.plot(drawstyle = 'steps') # this works\n#df.plot(kind = 'area', drawstyle = 'steps') # this does not work\n</code></pre>\n\n<p>I am using python 2.7 and pandas 0.14.1.</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["python", "python-2.7", "pygame"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 0, "creation_date": 1429736229, "post_id": 29808634, "comment_id": 47745447, "body": "Get the offset of the center from the position clicked and then use it to &quot;un-offset&quot; it."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4301903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-jSpfFej7aQE/AAAAAAAAAAI/AAAAAAAAF54/83wGDGhVRlc/photo.jpg?sz=128", "display_name": "Roman Formicola", "link": "https://stackoverflow.com/users/4301903/roman-formicola"}, "edited": false, "score": 0, "creation_date": 1429737136, "post_id": 29808729, "comment_id": 47745943, "body": "How do I get the mouse x coordinates and mouse y coordinates seperately"}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "reply_to_user": {"reputation": 85, "user_id": 4301903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-jSpfFej7aQE/AAAAAAAAAAI/AAAAAAAAF54/83wGDGhVRlc/photo.jpg?sz=128", "display_name": "Roman Formicola", "link": "https://stackoverflow.com/users/4301903/roman-formicola"}, "edited": false, "score": 0, "creation_date": 1429744046, "post_id": 29808729, "comment_id": 47749022, "body": "@RomanFormicola:  You already have separate values (<code>pygame.mouse.get_pos()[0&#47;1]</code>).  See the answer above for more details I&#39;ve added."}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "reply_to_user": {"reputation": 85, "user_id": 4301903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-jSpfFej7aQE/AAAAAAAAAAI/AAAAAAAAF54/83wGDGhVRlc/photo.jpg?sz=128", "display_name": "Roman Formicola", "link": "https://stackoverflow.com/users/4301903/roman-formicola"}, "edited": false, "score": 0, "creation_date": 1429764519, "post_id": 29808729, "comment_id": 47755350, "body": "Isn&#39;t that the point?  I must be misunderstanding something greatly."}], "tags": [], "owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "is_accepted": false, "score": 1, "last_activity_date": 1429743879, "last_edit_date": 1429743879, "creation_date": 1429736476, "answer_id": 29808729, "question_id": 29808634, "link": "https://stackoverflow.com/questions/29808634/how-do-i-click-and-drag-an-image-from-the-point-that-i-clicked-it-and-not-at-th/29808729#29808729", "title": "How do I click and drag an Image from the point that I clicked it, and not at the center in python", "body": "<p>Like sshashank124 said, you need to offset the image x, y position with its width, height dimensions.  An example being:</p>\n\n<pre><code>imageX = mouseX - (imageWidth / 2)\nimageY = mouseY - (imageHeight / 2)\n</code></pre>\n\n<p>I hope I am not reading your question wrongly.</p>\n\n<p>EDIT:  The code snippet above would translate out in your program to something like the code below.</p>\n\n<pre><code>import pygame\n\npygame.init()\ngameDisplay = pygame.display.set_mode((272, 552))\n\nmapWidth = 0  # MUST FILL IN SIZE\nmapHeight = 0 # MUST FILL IN SIZE\ngameMap = pygame.image.load(\"SPEMap.jpg\")\nmapRect = map.get_rect()\n\nstop = False\nwhile not stop:\n    if pygame.mouse.get_pressed()[0]:\n        if mapRect.collidepoint(pygame.mouse.get_pos()):\n            mapRect.x = pygame.mouse.get_pos()[0] - (mapWidth / 2)\n            mapRect.x = pygame.mouse.get_pos()[0] - (mapWidth / 2)\n\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            stop = True\n\n    gameDisplay.blit(gameMap, mapRect)\n    pygame.display.update()\n\npygame.quit()\nexit()\n</code></pre>\n\n<p>If worthy, please show your appreciation by choosing as the Best Answer. :)</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 4301903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-jSpfFej7aQE/AAAAAAAAAAI/AAAAAAAAF54/83wGDGhVRlc/photo.jpg?sz=128", "display_name": "Roman Formicola", "link": "https://stackoverflow.com/users/4301903/roman-formicola"}, "edited": false, "score": 0, "creation_date": 1429742551, "post_id": 29809479, "comment_id": 47748506, "body": "I&#39;m afraid I haven&#39;t been able to successfully apply your help. I am very new to python, and it would be great if someone could be more literal in there advice. I apologize for the inconvenience I am quite the novice."}], "tags": [], "owner": {"reputation": 215, "user_id": 2008762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb71bf85786d2794f7eb75393032222b?s=128&d=identicon&r=PG", "display_name": "Lennart Wijers", "link": "https://stackoverflow.com/users/2008762/lennart-wijers"}, "is_accepted": false, "score": 0, "last_activity_date": 1429739203, "creation_date": 1429739203, "answer_id": 29809479, "question_id": 29808634, "link": "https://stackoverflow.com/questions/29808634/how-do-i-click-and-drag-an-image-from-the-point-that-i-clicked-it-and-not-at-th/29809479#29809479", "title": "How do I click and drag an Image from the point that I clicked it, and not at the center in python", "body": "<p>pygame.mouse.get_pos() returns a tuple of the mouse x and y position</p>\n\n<p>you get the mouse positions seperately like so:  </p>\n\n<pre><code>mouse_x = pygame.mouse.get_pos()[0]\nmouse_y = pygame.mouse.get_pos()[1]\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4301903, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-jSpfFej7aQE/AAAAAAAAAAI/AAAAAAAAF54/83wGDGhVRlc/photo.jpg?sz=128", "display_name": "Roman Formicola", "link": "https://stackoverflow.com/users/4301903/roman-formicola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429743879, "creation_date": 1429736146, "question_id": 29808634, "link": "https://stackoverflow.com/questions/29808634/how-do-i-click-and-drag-an-image-from-the-point-that-i-clicked-it-and-not-at-th", "title": "How do I click and drag an Image from the point that I clicked it, and not at the center in python", "body": "<pre><code>import pygame\n\npygame.init()\n\nwidth = 272\nheight = 552\n\nwhite = 255,255,255\n\ngameDisplay = pygame.display.set_mode((width,height))\npygame.display.set_caption('War Games')\n\nMap = pygame.image.load(\"SPEMap.jpg\"); pygame.Surface((800,552))\nrect = Map.get_rect(); rect.center = (400,286)\n\nstop = False\n\nwhile not stop:\n\n    gameDisplay.blit(Map, rect)\n\n\n    if pygame.mouse.get_pressed()[0]:\n        if rect.collidepoint(pygame.mouse.get_pos()):\n            rect.center = pygame.mouse.get_pos()\n\n    for event in pygame.event.get():\n\n        if event.type == pygame.QUIT:\n            pygame.quit()\n            quit()\n\n\n    pygame.display.update()\n</code></pre>\n\n<p>Here I have an image of a map that is larger than the screen. I have it set up so that when I click on the image, the image moves so that the center of the image is under my mouse, and then I can drag the image around. I was wondering how I could make so that I drag the image from the point that I clicked it, instead of having it jump to the center. I hope that wasn't too confusing. </p>\n"}, {"tags": ["python", "django", "foreign-keys", "generic-foreign-key"], "owner": {"reputation": 563, "user_id": 2814610, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/07dgY.jpg?s=128&g=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/2814610/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429736036, "creation_date": 1429736036, "question_id": 29808603, "link": "https://stackoverflow.com/questions/29808603/django-generic-foreign-key-or-query-in-forms-py", "title": "Django - Generic Foreign Key or Query in forms.py?", "body": "<p>I have been piecing together a model for the best part of today using ContentType/Generic Foreign Key as, from my Googling, it seemed to be the solution I was looking for. However, now that I have something rendering, it doesn't seem to be the case. </p>\n\n<p>All I want is a foreign key dropdown that allows the user to select a record from One of Two models. With a GenericForeignKey it lists the models specified in my 'limit' statement but then expects the user to know the ID/PK and enter it in the 'object_id' field. Is this correct?</p>\n\n<p>I am now thinking a query to get all records from both models and list them in a dropdown would be a much cleaner solution. If so, would I just achieve this in forms.py?</p>\n\n<p>The foreign key element isnt too important as I only need to be able to import/manipulate some fields from the Two associated models and save them to the new model. </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "edited": false, "score": 0, "creation_date": 1429735962, "post_id": 29808453, "comment_id": 47745262, "body": "Thanks Kikohs, that was simpler than I thought. Can you explain why adding the &#39;group&#39; as the first sorting argument leaves it as is?"}, {"owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "reply_to_user": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "edited": false, "score": 0, "creation_date": 1429736143, "post_id": 29808453, "comment_id": 47745398, "body": "It doesn&#39;t, it sorts in descending order. GroupC would appear first if it was here. If you want to specifically have groupB always on top, you can then use the reindex method and provide a custom index with rows of groupB on top."}, {"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "edited": false, "score": 0, "creation_date": 1429736316, "post_id": 29808453, "comment_id": 47745508, "body": "Ah so it just happened that alphabetically it worked. Could you point me in the right direction of what type of custom method would achieve this?"}, {"owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "reply_to_user": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "edited": false, "score": 1, "creation_date": 1429736434, "post_id": 29808453, "comment_id": 47745578, "body": "You can use DataFrame.reindex, <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reindex.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>   You supply a new index and the dataframe you will change accordingly."}], "tags": [], "owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "is_accepted": true, "score": 0, "last_activity_date": 1429735574, "creation_date": 1429735574, "answer_id": 29808453, "question_id": 29808355, "link": "https://stackoverflow.com/questions/29808355/sorting-within-a-pandas-group-without-changing-group-position/29808453#29808453", "title": "Sorting within a Pandas group without changing group position", "body": "<p>Something like:</p>\n\n<pre><code>df.sort(['group', 'revenue'], ascending=False).reset_index(drop=True)\n</code></pre>\n\n<p>It gives me</p>\n\n<pre><code>    group   name    revenue\n0   GroupB  Name3   3\n1   GroupB  Name2   2\n2   GroupB  Name1   1\n3   GroupA  Name6   6\n4   GroupA  Name5   5\n5   GroupA  Name4   4\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29808453, "answer_count": 1, "score": 0, "last_activity_date": 1429735574, "creation_date": 1429735214, "question_id": 29808355, "link": "https://stackoverflow.com/questions/29808355/sorting-within-a-pandas-group-without-changing-group-position", "title": "Sorting within a Pandas group without changing group position", "body": "<p>I am trying to sort within a pandas group without actually changing the group position in the Dataframe.</p>\n\n<p>The original dataframe is in this format:</p>\n\n<pre><code>    group   name  revenue\n0  GroupB  Name1        1\n1  GroupB  Name2        2\n2  GroupB  Name3        3\n3  GroupA  Name4        4\n4  GroupA  Name5        5\n5  GroupA  Name6        6\n</code></pre>\n\n<p>And I am trying to achieve the following output:</p>\n\n<pre><code>    group   name  revenue\n0  GroupB  Name3        3\n1  GroupB  Name2        2\n2  GroupB  Name1        1\n3  GroupA  Name6        6\n4  GroupA  Name5        5\n5  GroupA  Name4        4\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'name': ['Name1','Name2','Name3','Name4','Name5','Name6'], \n    'group':['GroupB','GroupB','GroupB','GroupA','GroupA','GroupA'],'revenue':[1,2,3,4,5,6]})\n\ndef sort_group(grp):\n    grp = grp.sort(columns='revenue',ascending=False)\n    return grp\n\ndf = df.groupby('group').apply(sort_group)\n\nprint df\n</code></pre>\n\n<p>The result I get is:</p>\n\n<pre><code>           group   name  revenue\ngroup\nGroupA 5  GroupA  Name6        6\n       4  GroupA  Name5        5\n       3  GroupA  Name4        4\nGroupB 2  GroupB  Name3        3\n       1  GroupB  Name2        2\n       0  GroupB  Name1        1\n</code></pre>\n\n<p>Essentially, my current code shifts Group B under Group A, but I want Group B to remain at the top.</p>\n\n<p>Any thoughts? Thanks in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1429735181, "post_id": 29808306, "comment_id": 47744790, "body": "sorry, what is your question?"}, {"owner": {"reputation": 19, "user_id": 4755717, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205469712174884/picture?type=large", "display_name": "&#201;di Leung", "link": "https://stackoverflow.com/users/4755717/%c3%89di-leung"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1431201534, "post_id": 29808306, "comment_id": 48397323, "body": "I want to know in the figure MAP, L is the axe horizontal or B is"}], "answers": [{"tags": [], "owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "is_accepted": false, "score": 1, "last_activity_date": 1429735158, "creation_date": 1429735158, "answer_id": 29808336, "question_id": 29808306, "link": "https://stackoverflow.com/questions/29808306/drawing-a-map-in-python/29808336#29808336", "title": "drawing a map in python", "body": "<p>You can do it as follows:</p>\n\n<pre><code>plt.savefig('Q8_' + str(k) + '.jpg')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1873, "user_id": 1725553, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-CsRuoQmwqLo/AAAAAAAAAAI/AAAAAAAAAFM/hESpKGJTWZo/photo.jpg?sz=128", "display_name": "paddyg", "link": "https://stackoverflow.com/users/1725553/paddyg"}, "is_accepted": false, "score": 3, "last_activity_date": 1429735488, "creation_date": 1429735488, "answer_id": 29808431, "question_id": 29808306, "link": "https://stackoverflow.com/questions/29808306/drawing-a-map-in-python/29808431#29808431", "title": "drawing a map in python", "body": "<p>Sometimes it's useful to get the files in the right order so:</p>\n\n<pre><code>plt.savefig(\"Q8_{:04d}.jpg\".format(k))\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4755717, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205469712174884/picture?type=large", "display_name": "&#201;di Leung", "link": "https://stackoverflow.com/users/4755717/%c3%89di-leung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537914173, "creation_date": 1429735081, "last_edit_date": 1537914173, "question_id": 29808306, "link": "https://stackoverflow.com/questions/29808306/drawing-a-map-in-python", "title": "drawing a map in python", "body": "<p>I'm trying to make a really simple animation of a voyage around the milky way.</p>\n\n<pre><code>for k in range(7):\n    Rs += k\n    Zs += 0.01*k\n    for i in range(len(B)):\n        print 'i=',i\n        for j in range(len(L)):\n            MAP[i,j] = DensiteCol(L[j], B[i], 20., 1000.)\n\n    plt.xlabel('l')\n    plt.ylabel('b')\n    plt.imshow(MAP)\n    plt.show()\n    #plt.savefig('Q8_'k'.jpg')\n</code></pre>\n\n<p>How can I save an image each time in the loop and save it as different names?</p>\n\n<pre><code>MAP[i,j] = DensiteCol(L[j], B[i], 20., 1000.)\n</code></pre>\n\n<p>In this case, is L the axe horizontal or B is?</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "edited": false, "score": 0, "creation_date": 1429736519, "post_id": 29808286, "comment_id": 47745621, "body": "Have you looked <a href=\"http://stackoverflow.com/questions/4575747/get-selected-subcommand-with-argparse\">here</a> yet?"}, {"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1429736551, "post_id": 29808286, "comment_id": 47745635, "body": "And <a href=\"http://stackoverflow.com/questions/10448200/how-to-parse-multiple-sub-commands-using-python-argparse\">here</a>."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1429738371, "post_id": 29808286, "comment_id": 47746622, "body": "I don&#39;t think he wants to handle multiple subparsers at once."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 2, "last_activity_date": 1429738543, "last_edit_date": 1429738543, "creation_date": 1429736992, "answer_id": 29808898, "question_id": 29808286, "link": "https://stackoverflow.com/questions/29808286/how-can-i-most-efficiently-parse-these-arguments-in-python/29808898#29808898", "title": "How can I most efficiently parse these arguments in python?", "body": "<p>This sample set me off in the wrong direction.  I've sketched a subparser implementation at the end that I think does the trick.</p>\n\n<pre><code>parser = argparse.ArgumentParser()\ngroup = parser.add_mutually_exclusive_group()\ngroup.add_argument('list')\ngroup.add_argument('check')\ngroup.add_argument('watch')\n</code></pre>\n\n<p>It expects 3 strings, and will assign them to the 3 attributes.</p>\n\n<p>However, you cannot put 3 'positional` arguments in a mutually exclusive group.  One optional positional (yes the terminology is confusing) can be in such a group, but the rest must 'optionals' (flagged).</p>\n\n<hr>\n\n<p>Going back to your initial list.  Are these different patterns that you'd like to accept</p>\n\n<pre><code>program list [integer]\nprogram check name\nprogram watch name [quality]\n</code></pre>\n\n<p>where 'list','check','watch' are literal strings, while 'integer','name','quality' are variable names.</p>\n\n<p>If that is the case, then subparsers is probably the best choice.  <code>nargs='?'</code> can be used to make positional arguments 'optional'.</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nsp = parser.add_subparsers(dest='cmd')  # put the command string in `cmd` attribute\np1 = sp.add_parser('list')\np2 = sp.add_parser('check')\np3 = sp.add_parser('watch')\np1.add_argument('value',dtype=int, nargs='?') # ok with 0 or 1 values\np2.add_argument('name')\np3.add_argument('name')\np3.add_argument('quality',nargs='?')\n</code></pre>\n\n<p><code>value</code> and <code>quality</code> will get the default value if none is explicitly given.  The default <code>default</code> is <code>None</code>.  But you can define a meaningful alternative, e.g. <code>default=0</code> for the integer value.</p>\n\n<hr>\n\n<p>You could also define a parser like:</p>\n\n<pre><code>parser = ...\nparser.add_argument('command', choices=['list','check','watch'])\nparser.add_argument('rest', nargs='*')\n</code></pre>\n\n<p>This will expect one of the 3 'command' strings, and put anything else in the 'rest' attribute (as a list of strings).  You could then interpret those strings however you want.  </p>\n"}], "owner": {"reputation": 404, "user_id": 2780518, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ada328d2fd9f81bdb8f029454541695?s=128&d=identicon&r=PG&f=1", "display_name": "Spencer Wood", "link": "https://stackoverflow.com/users/2780518/spencer-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 1, "accepted_answer_id": 29808898, "answer_count": 1, "score": 3, "last_activity_date": 1518554174, "creation_date": 1429735027, "last_edit_date": 1518554174, "question_id": 29808286, "link": "https://stackoverflow.com/questions/29808286/how-can-i-most-efficiently-parse-these-arguments-in-python", "title": "How can I most efficiently parse these arguments in python?", "body": "<p>So I'm trying to come up with a strategy using the argparse library.</p>\n\n<p>Here's how I want to interface with my program:</p>\n\n<pre><code>$ program list [&lt;number&gt;] \n$ program check &lt;name&gt;\n$ program watch &lt;name&gt; [&lt;quality&gt;]\n</code></pre>\n\n<p>Right now I have an argument parser like the following:</p>\n\n<pre><code>parser = argparse.ArgumentParser()\ngroup = parser.add_mutually_exclusive_group()\ngroup.add_argument('list')\ngroup.add_argument('check')\ngroup.add_argument('watch')\n</code></pre>\n\n<p>But how can I add an optional argument, say an integer, to an existing argument?</p>\n\n<p>Meaning the user could invoke the list command in the following ways:</p>\n\n<pre><code>program list \n</code></pre>\n\n<p>Where the list action would be called with a default value, or:</p>\n\n<pre><code>program list 10\n</code></pre>\n\n<p>Where the list action would be called with an argument of 10.</p>\n\n<p>I saw the subcommands option in the documentation, but I ran into the problem where I would have a sub parser for list arguments, but then I would have to add a flag, such as -n and then provide the number. Perhaps this is a better way of doing it? But I like the idea of just providing the number if you want to, or omitting it if you don't.</p>\n\n<p>Is what I'm trying to achieve good practice? Is it possible with argparse?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 5811, "user_id": 685834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2UldP.jpg?s=128&g=1", "display_name": "Rafa\u0142 \u0141u\u017cy\u0144ski", "link": "https://stackoverflow.com/users/685834/rafa%c5%82-%c5%81u%c5%bcy%c5%84ski"}, "is_accepted": false, "score": 0, "last_activity_date": 1429735910, "creation_date": 1429735910, "answer_id": 29808565, "question_id": 29808283, "link": "https://stackoverflow.com/questions/29808283/should-i-be-using-controllers-py-or-staticmethod-in-django/29808565#29808565", "title": "Should I be using controllers.py or @staticmethod in Django?", "body": "<p>Static methods are used for grouping related functions in one class (mostly for factory methods), beside that, there is no difference between static method and function.</p>\n\n<p>BUT. In your example you are assigning behavior to DATABASE model. DATABASE models are not LOGIC models, and you should separate them from your app logic. Anyway, <em>controllers</em> is also a bad name in that matter.</p>\n\n<p>I'm not sure what <em>process_entry</em> does, but if it's only changing one Entry entity, then it can be named: Entry.process(), but NOT Entry as DB model! just another Entry class. However if that function does more than just changing Entry, then it shouldn't be assigned to Entry entity, but made as a service function.</p>\n"}], "owner": {"reputation": 1635, "user_id": 195540, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/BGQYw.jpg?s=128&g=1", "display_name": "scoopseven", "link": "https://stackoverflow.com/users/195540/scoopseven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429736400, "creation_date": 1429735020, "last_edit_date": 1429736400, "question_id": 29808283, "link": "https://stackoverflow.com/questions/29808283/should-i-be-using-controllers-py-or-staticmethod-in-django", "title": "Should I be using controllers.py or @staticmethod in Django?", "body": "<p>The person on our team who initially taught us django (and has subsequently left) utilized a controllers.py file for helper functions. A lot of these functions are directly related to classes. I prefer to use @staticmethod to house these helpers with the classes they're related to. For example, rather than doing this:</p>\n\n<pre><code># controllers.py\ndef process_entry():\n    # do some exciting stuff that might not have to do with an instance\n</code></pre>\n\n<p>Called like this:</p>\n\n<pre><code>from myapp.controllers import process_entry\nprocess_entry()\n</code></pre>\n\n<p>I'd prefer this:</p>\n\n<pre><code># models.py\nclass Entry(models.Model):\n    name = CharField...\n    # some other fields\n\n    @staticmethod\n    def process_entry():\n    # do some exciting stuff that might not have to do with an instance\n</code></pre>\n\n<p>Called like so:</p>\n\n<pre><code>from myapp.models import Entry\nEntry.process_entry()\n</code></pre>\n\n<p>Is there a preferred, standard way to deal with situations like this or is it just personal preference? Does anyone else utilize a controllers.py file? What goes in there?</p>\n\n<p>Thanks.</p>\n\n<p>EDIT:</p>\n\n<p>Possibly a better example, commissions. </p>\n\n<pre><code># models.py\nclass Commission(models.Model):\n    check = ForeignKey\n    payment = ForeignKey\n    # other fields\n\nclass Check(models.Model):\n    # fields\n\nclass Payment(models.Model):\n    # fields\n</code></pre>\n\n<p>Any time a Check or Payment instance is modified an adjustment as to be made to any related Commission instances or any time someone wants to manually run commissions, they can do so. So where should run_commissions() go? I prefer this, but apparently this shouldn't be encapsulated in a data-related model?</p>\n\n<pre><code># models.py\nclass Commission(models.Model):\n    check = ForeignKey\n    payment = ForeignKey\n    # other fields\n\n   @staticmethod \n   def run_commissions():\n       # do stuff\n</code></pre>\n"}, {"tags": ["python", "regex", "exact-match"], "comments": [{"owner": {"reputation": 780, "user_id": 1249759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1340125616a6a61668aa0f3143e24b06?s=128&d=identicon&r=PG", "display_name": "Saicharan S M", "link": "https://stackoverflow.com/users/1249759/saicharan-s-m"}, "edited": false, "score": 0, "creation_date": 1429737142, "post_id": 29808263, "comment_id": 47745952, "body": "Check out this link. Similar question <a href=\"http://stackoverflow.com/questions/4664850/find-all-occurrences-of-a-substring-in-python\" title=\"find all occurrences of a substring in python\">stackoverflow.com/questions/4664850/&hellip;</a>"}, {"owner": {"reputation": 13500, "user_id": 1401975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1LLiP.png?s=128&g=1", "display_name": "HamZa", "link": "https://stackoverflow.com/users/1401975/hamza"}, "edited": false, "score": 0, "creation_date": 1429740174, "post_id": 29808263, "comment_id": 47747496, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/3519565/find-the-indexes-of-all-regex-matches-in-python\">Find the indexes of all regex matches in Python?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "reply_to_user": {"reputation": 21, "user_id": 4821344, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nDwnho1Tz5A/AAAAAAAAAAI/AAAAAAAAAbI/BRD5SZ8veJM/photo.jpg?sz=128", "display_name": "Sirian", "link": "https://stackoverflow.com/users/4821344/sirian"}, "edited": false, "score": 0, "creation_date": 1429812615, "post_id": 29808757, "comment_id": 47788936, "body": "@Sirian feel free to <a href=\"http://stackoverflow.com/help/someone-answers\">vote up and accept</a> it then. Cheers!"}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1429736546, "creation_date": 1429736546, "answer_id": 29808757, "question_id": 29808263, "link": "https://stackoverflow.com/questions/29808263/how-to-find-the-index-of-exact-match/29808757#29808757", "title": "How to find the index of exact match?", "body": "<p>Use <a href=\"https://docs.python.org/2/library/re.html#re.finditer\" rel=\"nofollow\"><code>finditer</code></a>:</p>\n\n<pre><code>[(g.start(), g.group()) for g in re.finditer('\\\\b(hello)\\\\b',word)]\n# [(0, 'hello'), (14, 'hello')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1429737624, "post_id": 29808824, "comment_id": 47746233, "body": "<code>str.find</code> will return all occurrences, without respecting the word boundary condition as desired in the question."}], "tags": [], "owner": {"reputation": 189, "user_id": 4714153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7SbrE.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/4714153/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1429736751, "creation_date": 1429736751, "answer_id": 29808824, "question_id": 29808263, "link": "https://stackoverflow.com/questions/29808263/how-to-find-the-index-of-exact-match/29808824#29808824", "title": "How to find the index of exact match?", "body": "<p>instead use word.find('hello',x)</p>\n\n<pre><code>word = 'hello,_hello,\"hello'\ntmp = 0\nindex = [] \nfor i in range(len(word)):\n   tmp = word.find('hello', tmp)\n   if tmp &gt;= 0:\n       index.append(tmp)\n       tmp += 1\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4821344, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nDwnho1Tz5A/AAAAAAAAAAI/AAAAAAAAAbI/BRD5SZ8veJM/photo.jpg?sz=128", "display_name": "Sirian", "link": "https://stackoverflow.com/users/4821344/sirian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1429736754, "creation_date": 1429734925, "last_edit_date": 1429736754, "question_id": 29808263, "link": "https://stackoverflow.com/questions/29808263/how-to-find-the-index-of-exact-match", "title": "How to find the index of exact match?", "body": "<p>I know how to use python to report exact match in a string:</p>\n\n<pre><code>import re\nword='hello,_hello,\"hello'\nre.findall('\\\\bhello\\\\b',word)\n['hello', 'hello']\n</code></pre>\n\n<p>How do I report the indices of the exact matches? (in this case, 0 and 14)</p>\n"}, {"tags": ["python", "user-interface"], "comments": [{"owner": {"reputation": 803, "user_id": 918624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5b52081ddcac72891479920bbd27cf?s=128&d=identicon&r=PG&f=1", "display_name": "CCovey", "link": "https://stackoverflow.com/users/918624/ccovey"}, "edited": false, "score": 1, "creation_date": 1429735517, "post_id": 29808232, "comment_id": 47744983, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/29459803/python-only-show-tuple-items-in-loop-x-amount-of-times\">python only show tuple items in loop x amount of times</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1429735859, "creation_date": 1429735859, "answer_id": 29808546, "question_id": 29808232, "link": "https://stackoverflow.com/questions/29808232/how-to-write-a-string-representing-a-card-for-gui/29808546#29808546", "title": "How to write a string representing a card for GUI?", "body": "<pre><code>&gt;&gt;&gt; my_hand = [('spades','ace'), ('hearts','five'), ('hearts','six')]\n&gt;&gt;&gt; def showhand(hand):\n...     return '\\n'.join([rank.title() + ' of ' + suit.title() for (suit,rank) in hand])\n...\n&gt;&gt;&gt; print(showhand(my_hand))\nAce of Spades\nFive of Hearts\nSix of Hearts\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4665040, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a7c9f0f3590489a3aadd09c5467abdbf?s=128&d=identicon&r=PG&f=1", "display_name": "Charterer Sling", "link": "https://stackoverflow.com/users/4665040/charterer-sling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1429735859, "creation_date": 1429734807, "question_id": 29808232, "link": "https://stackoverflow.com/questions/29808232/how-to-write-a-string-representing-a-card-for-gui", "title": "How to write a string representing a card for GUI?", "body": "<p>I'm writing a card game program in Python and I want the GUI to display all the cards in a hand.</p>\n\n<pre><code>suits = ['spades','hearts','diamonds','clubs']\nranks = ['ace','two','three','four','five','six','seven','eight','nine','ten','jack','queen','king']\n\ndef create_deck():\n    deck = []\n    for suit in suits:\n        for rank in ranks:\n            deck.append((suit,rank))\n    return deck\n\ndef shuffle(deck):\n    for i in range(100):\n        card = deck.pop(randint(0,51)) \n        deck.append(card)\n\nvalues = {}\ni = 1\nfor card in deck:\n    values[card]=i\n    if i == 13:\n        i = 1\n    else:\n        i += 1\nprint values #dictionary mapping values to cards\n</code></pre>\n\n<p>I want a function that writes a string representing each card in a hand, which I believe can be done by iterating a function that writes a string representing each card over each card in the hand. However, I'm not really sure what it should look like (i.e. if I need parameters for the function, if the parameters should be 'suit, rank', or simply 'card', etc.).</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": true, "score": 2, "last_activity_date": 1429735982, "last_edit_date": 1429735982, "creation_date": 1429734885, "answer_id": 29808251, "question_id": 29808198, "link": "https://stackoverflow.com/questions/29808198/switch-dimensions-of-1d-ndarray/29808251#29808251", "title": "Switch dimensions of 1D ndarray", "body": "<p>Transposing an array does not happen in place. Writing <code>a.T</code> creates a view of the transpose of the array <code>a</code>, but this view is then lost immediately since no variable is assigned to it. <code>a</code> remains unchanged.</p>\n\n<p>You need to write <code>a = a.T</code> to bind the name <code>a</code> to the transpose:</p>\n\n<pre><code>&gt;&gt;&gt; a = a.T\n&gt;&gt;&gt; a.shape\n(4, 1)\n</code></pre>\n\n<p>In your example <code>a</code> is indeed a 2D array. Transposing a 1D array (with shape <code>(n,)</code>) does not change that array at all. </p>\n"}, {"tags": [], "owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "is_accepted": false, "score": 0, "last_activity_date": 1429735068, "creation_date": 1429735068, "answer_id": 29808302, "question_id": 29808198, "link": "https://stackoverflow.com/questions/29808198/switch-dimensions-of-1d-ndarray/29808302#29808302", "title": "Switch dimensions of 1D ndarray", "body": "<p>You probably don't want or need the singular dimension, unless you are trying to force a broadcasting operation.</p>\n\n<p><a href=\"http://wiki.scipy.org/NumPy_for_Matlab_Users\" rel=\"nofollow\">http://wiki.scipy.org/NumPy_for_Matlab_Users</a></p>\n\n<blockquote>\n  <p>You can treat rank-1 arrays as either row or column vectors. <code>dot(A,v)</code>\n  treats <code>v</code> as a column vector, while <code>dot(v,A)</code> treats <code>v</code> as a row vector.\n  This can save you having to type a lot of transposes.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1873, "user_id": 1725553, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-CsRuoQmwqLo/AAAAAAAAAAI/AAAAAAAAAFM/hESpKGJTWZo/photo.jpg?sz=128", "display_name": "paddyg", "link": "https://stackoverflow.com/users/1725553/paddyg"}, "is_accepted": false, "score": 0, "last_activity_date": 1429737460, "creation_date": 1429737460, "answer_id": 29809033, "question_id": 29808198, "link": "https://stackoverflow.com/questions/29808198/switch-dimensions-of-1d-ndarray/29809033#29809033", "title": "Switch dimensions of 1D ndarray", "body": "<p>you can alter the shape 'in place' which will be the same as a.T for (1,4) but see the comment by Mr E whether it's needed. i.e.</p>\n\n<pre><code>...\nprint(a.shape)\na.shape = (4, 1)\nprint(a.shape) \n</code></pre>\n"}], "owner": {"reputation": 730, "user_id": 4449777, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f8de45e8675a994afd4da053a37f868d?s=128&d=identicon&r=PG&f=1", "display_name": "willpower2727", "link": "https://stackoverflow.com/users/4449777/willpower2727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 29808251, "answer_count": 3, "score": 0, "last_activity_date": 1483651018, "creation_date": 1429734678, "last_edit_date": 1483651018, "question_id": 29808198, "link": "https://stackoverflow.com/questions/29808198/switch-dimensions-of-1d-ndarray", "title": "Switch dimensions of 1D ndarray", "body": "<p>I have a 'row' vector cast as a numpy ndarray. I would simply like to make it a 'column' vector (I don't care too much about the type as long as it is compatible with matplotlib). Here is an example of what I'm trying:</p>\n\n<pre><code>import numpy as np\n\na = np.ndarray(shape=(1,4), dtype=float, order='F')\nprint(a.shape)\na.T #I think this performs the transpose?\nprint(a.shape)\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<pre><code>(1, 4)\n(1, 4)\n</code></pre>\n\n<p>I was hoping to get:</p>\n\n<pre><code>(1, 4)\n(4, 1)\n</code></pre>\n\n<p>Can someone point me in the right direction? I have seen that the transpose in numpy doesn't do anything to a 1D array. But is this a 1D array? </p>\n"}, {"tags": ["python", "csv", "export", "scrapy"], "comments": [{"owner": {"reputation": 4268, "user_id": 3896300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXS6P.png?s=128&g=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/3896300/ahmed"}, "edited": false, "score": 0, "creation_date": 1429734700, "post_id": 29808161, "comment_id": 47744500, "body": "can you upload the CSV file?"}, {"owner": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "reply_to_user": {"reputation": 4268, "user_id": 3896300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXS6P.png?s=128&g=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/3896300/ahmed"}, "edited": false, "score": 0, "creation_date": 1429735516, "post_id": 29808161, "comment_id": 47744982, "body": "@boussouira Yup! Updated"}], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "edited": false, "score": 1, "creation_date": 1429735813, "post_id": 29808222, "comment_id": 47745150, "body": "I typically export to CSV via arguments at launch (scrapy crawl myspider -o items.csv). Can I accommodate that with unicodecsv somehow?"}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "reply_to_user": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "edited": false, "score": 1, "creation_date": 1429735872, "post_id": 29808222, "comment_id": 47745190, "body": "You&#39;d have to check which CSV module scrapy is using. <a href=\"https://github.com/scrapy/scrapy/search?utf8=%E2%9C%93&amp;q=csv\" rel=\"nofollow noreferrer\">Seems they are using regular csv module.</a> Going to python 3 and this issue goes away."}, {"owner": {"reputation": 2387, "user_id": 556079, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2023fd0c7b1a1cab5d98a71f72f46d30?s=128&d=identicon&r=PG", "display_name": "jkupczak", "link": "https://stackoverflow.com/users/556079/jkupczak"}, "reply_to_user": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "edited": false, "score": 0, "creation_date": 1430927544, "post_id": 29808222, "comment_id": 48276568, "body": "@Charles Watson Did you figure out how to use unicodecsv at launch? I&#39;m having the same issue as you."}], "tags": [], "owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "is_accepted": false, "score": 1, "last_activity_date": 1429734764, "creation_date": 1429734764, "answer_id": 29808222, "question_id": 29808161, "link": "https://stackoverflow.com/questions/29808161/python-scrapy-csv-exports-incorrectly/29808222#29808222", "title": "Python: Scrapy CSV exports incorrectly?", "body": "<p>The CSV module from Python 2.7 does not support Unicode, so it's suggested to use <a href=\"https://pypi.python.org/pypi/unicodecsv\" rel=\"nofollow\">unicodecsv</a> instead.</p>\n\n<pre><code>$pip install unicodecsv\n</code></pre>\n\n<blockquote>\n  <p>The unicodecsv is a drop-in replacement for Python 2's csv module which supports unicode strings without a hassle.</p>\n</blockquote>\n\n<p>And then use this instead of <code>import csv</code></p>\n\n<pre><code>import unicodecsv as csv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4268, "user_id": 3896300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXS6P.png?s=128&g=1", "display_name": "ahmed", "link": "https://stackoverflow.com/users/3896300/ahmed"}, "is_accepted": true, "score": 2, "last_activity_date": 1429737481, "creation_date": 1429737481, "answer_id": 29809044, "question_id": 29808161, "link": "https://stackoverflow.com/questions/29808161/python-scrapy-csv-exports-incorrectly/29809044#29809044", "title": "Python: Scrapy CSV exports incorrectly?", "body": "<p>Your order of exporting element is logical to what you find in CSV file, first you exported all the titles then all subtext elements.<br>\nI guess you are trying to scrap HN articles, here is my suggestion:</p>\n\n<pre><code>def parse(self, response):\n    hxs = HtmlXPathSelector(response)\n    titles = hxs.select('//td[@class=\"title\"]')\n    items = []\n    for title in titles:\n        item = HackernewsItem()\n        item[\"title\"] = title.select(\"a/text()\").extract()\n        item[\"url\"] = title.select(\"a/@href\").extract()\n        item[\"score\"] = title.select('../td[@class=\"subtext\"]/span/text()').extract()\n        items.append(item)\n    return items\n</code></pre>\n\n<p>I didn't test it, but it will give you an idea.</p>\n"}], "owner": {"reputation": 945, "user_id": 4697384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/313b48bfa7e25f11cb12623a563946b2?s=128&d=identicon&r=PG", "display_name": "Charles Watson", "link": "https://stackoverflow.com/users/4697384/charles-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 29809044, "answer_count": 2, "score": 2, "last_activity_date": 1448124289, "creation_date": 1429734560, "last_edit_date": 1448124289, "question_id": 29808161, "link": "https://stackoverflow.com/questions/29808161/python-scrapy-csv-exports-incorrectly", "title": "Python: Scrapy CSV exports incorrectly?", "body": "<p>I am simply trying to write to a csv. However I have two separate for-statements, therefore the data from each for-statement exports independently and breaks order. Suggestions?</p>\n\n<pre><code>def parse(self, response):\n        hxs = HtmlXPathSelector(response)\n        titles = hxs.select('//td[@class=\"title\"]')\n        subtext = hxs.select('//td[@class=\"subtext\"]')\n        items = []\n        for title in titles:\n            item = HackernewsItem()\n            item[\"title\"] = title.select(\"a/text()\").extract()\n            item[\"url\"] = title.select(\"a/@href\").extract()\n            items.append(item)\n        for score in subtext:\n            item = HackernewsItem()\n            item[\"score\"] = score.select(\"span/text()\").extract()\n            items.append(item)\n        return items\n</code></pre>\n\n<p>As is apparent in the image below, the second for-statement prints below the others instead of \"among\" others as header does.</p>\n\n<p>CSV image attached:<img src=\"https://i.stack.imgur.com/1AZfr.jpg\" alt=\"csv file\"></p>\n\n<p>and github link for full file: <a href=\"https://github.com/nchlswtsn/scrapy/blob/master/items.csv\" rel=\"nofollow noreferrer\">https://github.com/nchlswtsn/scrapy/blob/master/items.csv</a></p>\n"}, {"tags": ["python", "bash", "command-line-interface"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 0, "creation_date": 1429734600, "post_id": 29808160, "comment_id": 47744442, "body": "Does it really matter if you&#39;re just printing to the console?"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 2, "creation_date": 1429734632, "post_id": 29808160, "comment_id": 47744461, "body": "The top google hit for <code>python wordwrap</code> is the <code>textwrap</code> module in the standard library. Pretty sure it does exactly what you want."}, {"owner": {"reputation": 1873, "user_id": 1725553, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-CsRuoQmwqLo/AAAAAAAAAAI/AAAAAAAAAFM/hESpKGJTWZo/photo.jpg?sz=128", "display_name": "paddyg", "link": "https://stackoverflow.com/users/1725553/paddyg"}, "edited": false, "score": 0, "creation_date": 1429738093, "post_id": 29808160, "comment_id": 47746472, "body": "or just use split() then join() back together within line length constraint"}], "answers": [{"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1429775851, "creation_date": 1429775851, "answer_id": 29817152, "question_id": 29808160, "link": "https://stackoverflow.com/questions/29808160/how-to-avoid-word-breaking-while-line-wrapping-in-python-cli/29817152#29817152", "title": "how to avoid word breaking while line wrapping in python (CLI)", "body": "<p>The python script is unaware of the width of the output string.\nYou can add a parameter width= to the commandline options of your script, but that shouldn't be what you want.\nWhen you call your script, redirect the output to <code>fold</code>. Fold has options for witdth and cut add word boundaries:</p>\n\n<pre><code>$ python yotam.py 2&gt;&amp;1 | fold -s -w80\n</code></pre>\n"}], "owner": {"reputation": 8897, "user_id": 596691, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b5503df110a2855854e5656e4340abb6?s=128&d=identicon&r=PG", "display_name": "Yotam", "link": "https://stackoverflow.com/users/596691/yotam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 29817152, "answer_count": 1, "score": 0, "last_activity_date": 1429775851, "creation_date": 1429734560, "question_id": 29808160, "link": "https://stackoverflow.com/questions/29808160/how-to-avoid-word-breaking-while-line-wrapping-in-python-cli", "title": "how to avoid word breaking while line wrapping in python (CLI)", "body": "<p>I am writing a script in python that reads text from file and print random part of this file to the screen. The problem I have is that sometimes the line is too long and words are split in the middle. How can I force python to split words at words? </p>\n"}, {"tags": ["python", "python-2.7", "file-io", "scipy"], "owner": {"reputation": 3075, "user_id": 1361752, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/540f72a55f1ef83d43ffd4372a388643?s=128&d=identicon&r=PG", "display_name": "Caleb", "link": "https://stackoverflow.com/users/1361752/caleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429734467, "creation_date": 1429734467, "question_id": 29808133, "link": "https://stackoverflow.com/questions/29808133/how-to-detect-end-of-file-using-scipy-io-fortranfile", "title": "How to detect end of file using scipy.io.FortranFile", "body": "<p>I am reading an formatted sequential file output from a Fortran program. I am using the <a href=\"http://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.io.FortranFile.html\" rel=\"nofollow\">scipy.io.FortranFile</a> class to do this, and am successfully extracting the information I need. </p>\n\n<p>My problem: I do not know how long the input file is, and have no way of knowing how many records to read in. Currently, I am simply iteratively reading the file until an exception is raised (a <code>TypeError</code>, but I don't know if this is how it would always fail). I would prefer to do this more elegantly. </p>\n\n<p>Is there anyway to detect EOF using the <code>FortranFile</code> class? Or alternately is there a better way to read in unformatted sequential files?</p>\n\n<p>Some cursory research (I am not a Fortran programmer) indicates to me that if reading this using the Fortran <code>READ</code> function, one can check the <code>IOSTAT</code> flag to determine if you are at the end of the file. I would be surprised if a similar capability isn't provided in the <code>FortranFile</code> class, but I don't see any mention of it in the documentation.</p>\n"}, {"tags": ["python", "git-submodules"], "comments": [{"owner": {"reputation": 2558, "user_id": 527088, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5859af3feb3e6929ff46501982fa812e?s=128&d=identicon&r=PG", "display_name": "Hack Saw", "link": "https://stackoverflow.com/users/527088/hack-saw"}, "edited": false, "score": 0, "creation_date": 1429734881, "post_id": 29808096, "comment_id": 47744617, "body": "What do you see if you run dir(yo.yo)?"}, {"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "reply_to_user": {"reputation": 2558, "user_id": 527088, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5859af3feb3e6929ff46501982fa812e?s=128&d=identicon&r=PG", "display_name": "Hack Saw", "link": "https://stackoverflow.com/users/527088/hack-saw"}, "edited": false, "score": 0, "creation_date": 1429735184, "post_id": 29808096, "comment_id": 47744791, "body": "@HackSaw I would get: [&#39;<b>call</b>&#39;, &#39;<b>class</b>&#39;, &#39;<b>cmp</b>&#39;, &#39;<b>delattr</b>&#39;, &#39;<b>doc</b>&#39;, &#39;<b>format</b>&#39;, &#39;<b>func</b>&#39;, &#39;<b>get</b>&#39;, &#39;<b>getattribute</b>&#39;, &#39;<b>hash</b>&#39;, &#39;<b>init</b>&#39;, &#39;<b>new</b>&#39;, &#39;<b>reduce</b>&#39;, &#39;<b>reduce_ex</b>&#39;, &#39;<b>repr</b>&#39;, &#39;<b>self</b>&#39;, &#39;<b>setattr</b>&#39;, &#39;<b>sizeof</b>&#39;, &#39;<b>str</b>&#39;, &#39;<b>subclasshook</b>&#39;, &#39;im_class&#39;, &#39;im_func&#39;, &#39;im_self&#39;]"}, {"owner": {"reputation": 870, "user_id": 2759486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf28a293332fb8421d6c02316a6bd47e?s=128&d=identicon&r=PG", "display_name": "JimmyK", "link": "https://stackoverflow.com/users/2759486/jimmyk"}, "edited": false, "score": 0, "creation_date": 1429735329, "post_id": 29808096, "comment_id": 47744869, "body": "Please check the indention for /gitmodules/yopy/yopy.py. It sounds weird I know, but I have encountered this scenario a few times."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429735352, "post_id": 29808096, "comment_id": 47744882, "body": "Are you sure that what you have in <code>gitmodules&#47;yopy</code> is the same thing that&#39;s at <a href=\"https://github.com/parthanium/YoPy\" rel=\"nofollow noreferrer\">github.com/parthanium/YoPy</a>?  Because what you&#39;re getting from <code>dir</code> doesn&#39;t seem like it could possibly have come from the file at <a href=\"https://github.com/parthanium/YoPy/blob/master/yopy.py\" rel=\"nofollow noreferrer\">github.com/parthanium/YoPy/blob/master/yopy.py</a>. Maybe you have an old version, and he&#39;s changed the API since then?"}, {"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "reply_to_user": {"reputation": 870, "user_id": 2759486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf28a293332fb8421d6c02316a6bd47e?s=128&d=identicon&r=PG", "display_name": "JimmyK", "link": "https://stackoverflow.com/users/2759486/jimmyk"}, "edited": false, "score": 0, "creation_date": 1429735392, "post_id": 29808096, "comment_id": 47744907, "body": "@JimmyK but if it was indentation wouldn&#39;t the first scenario also fail?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429735433, "post_id": 29808096, "comment_id": 47744933, "body": "Hold on\u2026 Do you have something <i>else</i> that&#39;s <i>also</i> named <code>yopy</code> somewhere on your <code>sys.path</code>? Like, say, right in the current directory? Because if so, <code>sys.path.append(\u2026)</code> is going to put this new <code>yopy</code> that you wanted <i>after</i> the old one that you didn&#39;t want. (Note that if you had a file named <code>yopy.py</code>, and deleted it, you may still have left behind <code>yopy.pyc</code>, and Python will still import that.)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1429735460, "post_id": 29808096, "comment_id": 47744947, "body": "Try adding a <code>print yopy.__file__</code> and see what it tells you."}, {"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429735511, "post_id": 29808096, "comment_id": 47744979, "body": "@abarnert yeah, the files are updated.."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429735683, "post_id": 29808096, "comment_id": 47745065, "body": "In that case, you&#39;re not importing the file you think you are. You have something else called either <code>yopy.py</code> or <code>yopy.pyc</code>, or a directory named <code>yopy</code>, that&#39;s somewhere on` sys.path`, probably right there in the current working directory you&#39;re trying to run this from."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429736064, "post_id": 29808096, "comment_id": 47745346, "body": "Wow, two totally different modules that happen to have the same name, and define a class with the same name and the same constructor, but otherwise aren&#39;t compatible at all. You really got unlucky here\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "edited": false, "score": 0, "creation_date": 1429736227, "post_id": 29808534, "comment_id": 47745445, "body": "wow, that was weird ! If I use the sys.insert() it works nicely, but sys.append() fails. But I don&#39;t have any *.pyc files in my directory, so how can append() still fails?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "edited": false, "score": 0, "creation_date": 1429737136, "post_id": 29808534, "comment_id": 47745944, "body": "@pedrorijo91: I don&#39;t understand. You must have printed out <code>__file__</code> or <code>getsourcefile</code> and gotten a path, or you couldn&#39;t have made the edit to your question that shows the contents of whatever&#39;s at that path. So how do you not know what the path is?"}, {"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "edited": false, "score": 0, "creation_date": 1429737841, "post_id": 29808534, "comment_id": 47746353, "body": "sorry, misunderstand your words! everything fine now ! thanks a lot"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1429735820, "creation_date": 1429735820, "answer_id": 29808534, "question_id": 29808096, "link": "https://stackoverflow.com/questions/29808096/why-im-getting-attributeerror/29808534#29808534", "title": "Why I&#39;m getting AttributeError?", "body": "<p>The problem is almost certainly that you have something else named <code>yopy.py</code>, <code>yopy.pyc</code>, or <code>yopy</code> in your <code>sys.path</code>, most likely in the current working directory that you're trying to run this from. It may be an old version of the same library, or some test program that you wrote to test the library, or some different project that has the same name.</p>\n\n<p>Now, your <code>sys.path.append(\"gitmodules/yopy\")</code> does add the right directory to the importer search path\u2014but it adds it at the <em>end</em>, not the <em>start</em>. So, if there's a <code>./yopy.py</code> and also a <code>./gitmodules/yopy/yopy.py</code>, it's the first one that Python's going to import.</p>\n\n<p>You can see what got imported by doing a <code>print yopy.__file__</code>. Or, better, <code>import inspect</code> and then <code>print inspect.getsourcefile(yopy)</code>.</p>\n\n<p>Assuming this is the problem, the fix is to get rid of the other thing with the conflicting name. (You <em>could</em> instead just change the <code>sys.path.append(\u2026)</code> to <code>sys.path.insert(0, \u2026)</code>, but having the other <code>yopy</code> around is just going to lead to more confusion\u2026)</p>\n"}], "owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 29808534, "answer_count": 1, "score": 0, "last_activity_date": 1429735820, "creation_date": 1429734357, "last_edit_date": 1429735796, "question_id": 29808096, "link": "https://stackoverflow.com/questions/29808096/why-im-getting-attributeerror", "title": "Why I&#39;m getting AttributeError?", "body": "<p>I'm making an application with the Yo api in python ( <a href=\"https://github.com/parthanium/YoPy\" rel=\"nofollow\">https://github.com/parthanium/YoPy</a> ) and I'm getting a very strange error.</p>\n\n<p>So, I've cloned the repo into my workspace, and I've created the following file (test.py) that works as expected when I run 'python test.py' :</p>\n\n<pre><code>import yopy\n\ntoken = \"secret\"\nusername = \"testUser\"\nlink = \"https://github.com/parthanium/YoPy\"\n\nyo = yopy.Yo(token)\nprint yo\nprint yo.number()\n</code></pre>\n\n<p>Now the problem:</p>\n\n<p>I've a project that includes the previous project (Yo api in python) as a git submodule:</p>\n\n<pre><code>yo/\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 gitmodules\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 yopy\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 LICENSE\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 yopy.py\n\u2514\u2500\u2500 yo.py\n</code></pre>\n\n<p>the yo.py file has the following:</p>\n\n<pre><code>import sys\nsys.path.append(\"gitmodules/yopy\")\nimport yopy\nimport struct\n\ntoken = \"secret\"\nusername = \"testUser\"\nlink = \"https://github.com/parthanium/YoPy\"\n\nyo = yopy.Yo(token)\nprint yo\nprint dir(yo)\nprint yo.number()\n</code></pre>\n\n<p>and I get the following error output when running:</p>\n\n<pre><code>&lt;yopy.Yo object at 0x10cc29190&gt;\n['__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_session', 'token', 'user', 'yo', 'yo_all']\nTraceback (most recent call last):\n  File \"yo.py\", line 13, in &lt;module&gt;\n    print yo.number()\nAttributeError: 'Yo' object has no attribute 'number'\n</code></pre>\n\n<p>Why am I getting this error? The dir(yo) is outputing weird attributes like 'yo_all' and 'yo', 'user'...</p>\n\n<p>Edit: \nTried 'print yopy.<strong>file</strong>' and the result was <a href=\"https://gist.github.com/pedrorijo91/4fb4defe7a7c2d8a2fdc\" rel=\"nofollow\">https://gist.github.com/pedrorijo91/4fb4defe7a7c2d8a2fdc</a> (thanks @abarnert)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 3, "creation_date": 1429734310, "post_id": 29808066, "comment_id": 47744259, "body": "Where are you calling <code>trip_cost</code>?"}, {"owner": {"reputation": 16894, "user_id": 1180720, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1881822323a2374c602ec8dafb18d46d?s=128&d=identicon&r=PG&f=1", "display_name": "gefei", "link": "https://stackoverflow.com/users/1180720/gefei"}, "edited": false, "score": 1, "creation_date": 1429734318, "post_id": 29808066, "comment_id": 47744264, "body": "where do you call <code>trip_cost</code>?"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1429734330, "post_id": 29808066, "comment_id": 47744270, "body": "Please post complete code. You are not calling trip cost in the code given"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429734419, "post_id": 29808066, "comment_id": 47744327, "body": "I&#39;m guessing this is an assignment, and your teacher has some &quot;driver script&quot; that loads your code and calls <code>trip_cost</code>, and this error means that you didn&#39;t follow the instructions correctly."}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429734463, "post_id": 29808066, "comment_id": 47744356, "body": "@abarnert, If I remember correctly, this is a Codecademy question"}, {"owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "edited": false, "score": 0, "creation_date": 1429734471, "post_id": 29808066, "comment_id": 47744359, "body": "this is course from code academy, and the editor calling trip cost without my interference."}, {"owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "reply_to_user": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 0, "creation_date": 1429734542, "post_id": 29808066, "comment_id": 47744414, "body": "@sshashank124 Exactly !"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429734570, "post_id": 29808066, "comment_id": 47744428, "body": "Then either (a) you didn&#39;t follow the instructions, or (b) CodeAcademy is just handling all <code>TypeError</code> exceptions with this message (because it&#39;s the most likely reason for a <code>TypeError</code> on this assignment) and you have a <code>TypeError</code> somewhere else. Can you link to the instructions? (I don&#39;t know much about how CodeAcademy works\u2026)"}, {"owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "edited": false, "score": 0, "creation_date": 1429734652, "post_id": 29808066, "comment_id": 47744474, "body": "1.Modify your trip_cost function definition. Add a third argument, spending_money. 2.Modify what the trip_cost function does. Add the variable spending_money to the sum that it returns.     This is what I have to do."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429734681, "post_id": 29808066, "comment_id": 47744490, "body": "My best guess is that it&#39;s a combination of both: Maybe you&#39;re taking the arguments in the wrong order, so you get, say, the city name and the days mixed up. So, inside <code>rental_car_cost(days)</code>, where you try to do <code>if days &gt;= 7</code>, it&#39;s comparing the string <code>&quot;Charlotte&quot;</code> to the number <code>7</code>, which raises a <code>TypeError</code>, which CodeAcademy assumes is because you put the wrong number of parameters rather than the wrong order, so it gives you a misleading error message."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429734757, "post_id": 29808066, "comment_id": 47744537, "body": "Wait a second, you&#39;ve tagged this <code>oop</code>. Are these functions supposed to methods of a class, rather than plain functions? In that case, it&#39;s a different problem: you&#39;re just missing the <code>self</code> parameter\u2026 (If they&#39;re not methods, then this isn&#39;t an OOP problem.)"}, {"owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "edited": false, "score": 0, "creation_date": 1429734938, "post_id": 29808066, "comment_id": 47744655, "body": "Oh, sorry THIS IS NOT an OOP problem, I&#39;m new at stackoverflow and I&#39;m still learning. I apologize for misleading"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429734980, "post_id": 29808066, "comment_id": 47744682, "body": "No problem; just edit the question to remove the tag. And while you&#39;re editing: if you can add a link to the CodeAcademy page, please do so; if you can&#39;t, please put more information into the question (whatever seems relevant from that page, and/or how to find it\u2014question number or whatever they use)."}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "edited": false, "score": 0, "creation_date": 1429735084, "post_id": 29808066, "comment_id": 47820474, "body": "See <a href=\"http://i.stack.imgur.com/wcTHb.png\" rel=\"nofollow noreferrer\">this screenshot</a>, I ran your code in my Codecademy account and it works perfectly!"}, {"owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "edited": false, "score": 0, "creation_date": 1429735108, "post_id": 29808066, "comment_id": 47744754, "body": "<a href=\"http://www.codecademy.com/courses/python-beginner-P5YtY/1/5?curriculum_id=4f89dab3d788890003000096\" rel=\"nofollow noreferrer\">codecademy.com/courses/python-beginner-P5YtY/1/&hellip;</a>  Can you see the content of this page?"}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429736275, "post_id": 29808375, "comment_id": 47745477, "body": "Ha, exactly what I suggested in my comments; CodeAcademy screwed up and confused their users by not considering that they might have gotten <code>days</code> and <code>city</code> backward (even though they <i>did</i> consider the exact same thing in the very next question)."}, {"owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429736480, "post_id": 29808375, "comment_id": 47745604, "body": "@abarnert ikr. I should probably add that it&#39;s not an issue in real life. when others come by to view it. Can&#39;t blame codecademy through, checking for correctness isn&#39;t easy"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429737304, "post_id": 29808375, "comment_id": 47746042, "body": "From your edit: In real life programming, you&#39;re often coding to a defined API. Not necessarily a formal spec, just you and the guy in the next cubicle or the rest of the people on the email list agreed that they&#39;re going to call your function with <code>days, city, spending_money</code>, and if you change your mind about the order without telling them it&#39;ll be just as big a problem for the real-life project as it is at CodeAcademy. The only hope is if you always make sure to write better unit tests than theirs. :)"}, {"owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429737702, "post_id": 29808375, "comment_id": 47746272, "body": "@abarnert agree with you on that. at least CodeCademy gives a prompt on the specific order now (it did in my screenshot), so that&#39;s good. Sides, parameter orders are usually a defined requirement, not a formal spec but something discussed as you said."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429738611, "post_id": 29808375, "comment_id": 47746744, "body": "Of course I won&#39;t admit that I ever agreed to a parameter order with the guy in the cubicle next to me and then changed my mind after he&#39;d written all the unit tests, it&#39;s just something that could happen in theory. And it might cost you an expensive bottle of bourbon to make up for it. In theory."}], "tags": [], "owner": {"reputation": 5825, "user_id": 4512948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/smfCE.png?s=128&g=1", "display_name": "matrixanomaly", "link": "https://stackoverflow.com/users/4512948/matrixanomaly"}, "is_accepted": false, "score": 2, "last_activity_date": 1429736718, "last_edit_date": 1429736718, "creation_date": 1429735267, "answer_id": 29808375, "question_id": 29808066, "link": "https://stackoverflow.com/questions/29808066/python-wrong-function-argument/29808375#29808375", "title": "Python: Wrong function argument?", "body": "<p>The error given is slightly misleading to you, because you have got your arguments passed in the wrong order. </p>\n\n<p>The instructions ask for </p>\n\n<blockquote>\n  <p>define a function called trip_cost that takes two arguments, city and days.</p>\n</blockquote>\n\n<p>Which you later will add a third argument called <code>spending_money</code></p>\n\n<blockquote>\n  <p>Modify your trip_cost function definition. Add a third argument, spending_money.</p>\n</blockquote>\n\n<p>The resulting function you want is:</p>\n\n<pre><code>def trip_cost(city,days,spending_money):\n    return rental_car_cost(days) + hotel_cost(days) + plane_ride_cost(city) + spending_money\n</code></pre>\n\n<p>If you changed the argument orders you would get an error like so: </p>\n\n<blockquote>\n  <p>Oops, try again. trip_cost('Tampa', 7, 0) raised an error: unsupported operand type(s) for -: 'str' and 'int'</p>\n</blockquote>\n\n<p>This is in Step 6. </p>\n\n<p><strong>So changing your order should do it.</strong> </p>\n\n<p>For step 7, I tried changing the order and I got this error as well:</p>\n\n<blockquote>\n  <p>Oops, try again. trip_cost should take exactly three parameters: city, days, and spending_money (in that order).</p>\n</blockquote>\n\n<p>Source: Just tried it myself since I took the course before.</p>\n\n<p><strong>EDIT</strong>: Just so people are clear about this, it is <strong>perfectly okay</strong> if your parameter order isn't in that specific order when you write your own programs. However, in assignments and projects where a script not written by you is used to check if your function does what it should do, <strong>you should follow instructions</strong> on the order of it. I've had students come to my office hours demanding their function is right (and it is) but the grading script docked points off because of different parameter orders. Then we TAs have to manually regrade it. In short, it's fine if the order isn't exactly the same as someone else's only when you're not being graded with a script or the <strong>requirements</strong> do not force you to follow the order.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ww8lq.png\" alt=\"error\"></p>\n"}], "owner": {"reputation": 23, "user_id": 4821295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4a5d1eec2a47dfcc4bcc52a1847fec?s=128&d=identicon&r=PG&f=1", "display_name": "Hornise", "link": "https://stackoverflow.com/users/4821295/hornise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "closed_date": 1429745713, "answer_count": 1, "score": -2, "last_activity_date": 1429736718, "creation_date": 1429734243, "last_edit_date": 1429734997, "question_id": 29808066, "link": "https://stackoverflow.com/questions/29808066/python-wrong-function-argument", "closed_reason": "Not suitable for this site", "title": "Python: Wrong function argument?", "body": "<p>What is wrong with this code? \nI get this error :</p>\n\n<blockquote>\n  <p>Oops, try again. trip_cost should take exactly 3 arguments!</p>\n</blockquote>\n\n<p>What is wrong with this code? </p>\n\n<pre><code>def hotel_cost(nights):\n    return 140*nights\ndef plane_ride_cost(city):\n    if city == \"Charlotte\":\n        return 183\n    elif city == \"Tampa\":\n        return 220\n    elif city == \"Pittsburgh\":\n        return 222\n    elif city == \"Los Angeles\":\n        return 475\ndef rental_car_cost(days):\n    money = 40 * days\n    if days &gt;= 7:\n        money -= 50\n    elif days &gt;= 3:\n        money -= 20\n    return money\n\ndef trip_cost(days,city,spending_money):\n    return rental_car_cost(days)+hotel_cost(days) + plane_ride_cost(city) +spending_money\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "is_accepted": false, "score": 2, "last_activity_date": 1429735032, "last_edit_date": 1429735032, "creation_date": 1429734697, "answer_id": 29808201, "question_id": 29808016, "link": "https://stackoverflow.com/questions/29808016/extracting-text-node-inside-a-tag-that-has-a-child-element-in-beautifulsoup4/29808201#29808201", "title": "Extracting text node inside a tag that has a child element in beautifulsoup4", "body": "<p>I used the <code>str.replace</code> method for this:</p>\n\n<pre><code>&gt;&gt;&gt; li = soup.find('li') # or however you need to drill down to the &lt;li&gt; tag \n&gt;&gt;&gt; mytext = li.text.replace(li.find('span').text, \"\") \n&gt;&gt;&gt; print mytext\nServe Returned\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "is_accepted": false, "score": 3, "last_activity_date": 1429734882, "creation_date": 1429734882, "answer_id": 29808249, "question_id": 29808016, "link": "https://stackoverflow.com/questions/29808016/extracting-text-node-inside-a-tag-that-has-a-child-element-in-beautifulsoup4/29808249#29808249", "title": "Extracting text node inside a tag that has a child element in beautifulsoup4", "body": "<pre><code>import bs4\nhtml = r\"&lt;li&gt; &lt;span&gt; 929&lt;/span&gt; Serve Returned &lt;/li&gt;\"\nsoup = bs4.BeautifulSoup(html)\nprint soup.li.findAll(text=True, recursive=False)\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>[u' ', u' Serve Returned ']\n</code></pre>\n\n<p>The first element is the \"text\" you have before the span. This method could help you find text before and after (and in-between) any child elements.</p>\n"}], "owner": {"reputation": 1403, "user_id": 3562812, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/33783c0144d6ea611bad11205567c7ce?s=128&d=identicon&r=PG&f=1", "display_name": "user3562812", "link": "https://stackoverflow.com/users/3562812/user3562812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1442441596, "creation_date": 1429734115, "last_edit_date": 1442441596, "question_id": 29808016, "link": "https://stackoverflow.com/questions/29808016/extracting-text-node-inside-a-tag-that-has-a-child-element-in-beautifulsoup4", "title": "Extracting text node inside a tag that has a child element in beautifulsoup4", "body": "<p>The HTML that I am parsing and scraping has the following code:</p>\n\n<pre><code>&lt;li&gt; &lt;span&gt; 929&lt;/span&gt; Serve Returned &lt;/li&gt;\n</code></pre>\n\n<p>How can I extract just the text node of <code>&lt;li&gt;</code>, \"serve returned\" in this case with <code>Beautifulsoup</code>?</p>\n\n<p><code>.string</code> doesn't work since <code>&lt;li&gt;</code> has a child element, and <code>.text</code> returns the text inside <code>&lt;span&gt;</code>. </p>\n"}, {"tags": ["python", "matplotlib", "ipython"], "comments": [{"owner": {"reputation": 13651, "user_id": 2997574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/692bdd849c43a550cc59734ebfa41dd8?s=128&d=identicon&r=PG", "display_name": "Alvaro Fuentes", "link": "https://stackoverflow.com/users/2997574/alvaro-fuentes"}, "edited": false, "score": 0, "creation_date": 1429735239, "post_id": 29807975, "comment_id": 47744818, "body": "Is better when you put multiline code in a block, it improves readability and the chances of a good answer. Your title also should go straight at what you need, adjectives sometimes are not needed.  Always put the tag of the language you are using, that will attract the attention of more users as the languages tags are more populated."}, {"owner": {"reputation": 13651, "user_id": 2997574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/692bdd849c43a550cc59734ebfa41dd8?s=128&d=identicon&r=PG", "display_name": "Alvaro Fuentes", "link": "https://stackoverflow.com/users/2997574/alvaro-fuentes"}, "edited": false, "score": 0, "creation_date": 1429735382, "post_id": 29807975, "comment_id": 47744901, "body": "It will be very helpful if you specify how the visualization should be (what kind of plot do you need) and show what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "is_accepted": true, "score": 1, "last_activity_date": 1429736273, "creation_date": 1429736273, "answer_id": 29808676, "question_id": 29807975, "link": "https://stackoverflow.com/questions/29807975/function-for-ploting-a-matrix-in-ipython-using-matplotlib/29808676#29808676", "title": "Function for ploting a matrix in ipython using matplotlib", "body": "<p>A very simple example to \"plot\" a matrix:</p>\n\n<pre><code>import numpy as np\nimport pylab as plt\n\nS  = np.random.randn(100,100)\n\n# Make symmetric so everything is real\nS += S.T\nW,V = np.linalg.eigh(S)\n\nimport pylab as plt\nplt.imshow(V,interpolation=\"none\")\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/73vGY.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 159, "user_id": 4279890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1582417925345583/picture?type=large", "display_name": "Michael Ji", "link": "https://stackoverflow.com/users/4279890/michael-ji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "accepted_answer_id": 29808676, "answer_count": 1, "score": 0, "last_activity_date": 1429736273, "creation_date": 1429733992, "last_edit_date": 1429735239, "question_id": 29807975, "link": "https://stackoverflow.com/questions/29807975/function-for-ploting-a-matrix-in-ipython-using-matplotlib", "title": "Function for ploting a matrix in ipython using matplotlib", "body": "<p>I have created a matrix:</p>\n\n<pre><code>s1=np.random.randn(1000,1000)\nv1=la.eigvals(s1)\nmatrix1=np.matrix(v1)\n</code></pre>\n\n<p>I want to plot the matrix in <code>ipython</code>. </p>\n\n<p>What appropriate <code>matplotlib</code> function should I use?</p>\n"}, {"tags": ["python", "html", "selenium", "tags"], "comments": [{"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 1, "creation_date": 1429733688, "post_id": 29807856, "comment_id": 47743907, "body": "price.text should be the way to go. probably the selector for <i>price</i> is wrong..Can you provide the code which finds the price object? And, specify the error"}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "reply_to_user": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1429733926, "post_id": 29807856, "comment_id": 47744024, "body": "Thank you for prompt reply. Yeah, I think price.text should work. Here is my code to get the element         price = fltright.find_element(By.CSS_SELECTOR, &quot;*[id$=&#39;_price&#39;]&quot;). There is no error, that&#39;s why I got even more confused. I tried to print out price.text, but nothing happens."}, {"owner": {"reputation": 2107, "user_id": 1700106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7asln.jpg?s=128&g=1", "display_name": "Samuel Hawksby-Robinson", "link": "https://stackoverflow.com/users/1700106/samuel-hawksby-robinson"}, "edited": false, "score": 1, "creation_date": 1429734051, "post_id": 29807856, "comment_id": 47744104, "body": "Your id in the html snippet is &quot;_priceMobile&quot; and in your code it is &quot;_price&quot;. Is that correct?"}, {"owner": {"reputation": 4724, "user_id": 1315120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LVVPY.jpg?s=128&g=1", "display_name": "Erki M.", "link": "https://stackoverflow.com/users/1315120/erki-m"}, "edited": false, "score": 0, "creation_date": 1429734807, "post_id": 29807856, "comment_id": 47744572, "body": "<a href=\"https://code.google.com/p/selenium/wiki/FrequentlyAskedQuestions#Q:_Why_is_it_not_possible_to_interact_with_hidden_elements?\" rel=\"nofollow noreferrer\">Why is it not possible to interact with hidden elements?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429734926, "post_id": 29808000, "comment_id": 47744647, "body": "I&#39;m so sorry. I copied the wrong html snippet. I&#39;ve already updated my question. Can you take a look, please? Thank you!"}, {"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "reply_to_user": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429734980, "post_id": 29808000, "comment_id": 47744681, "body": "The edit still should work. Have you tried changing the selector? And, is that hidden?"}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429736016, "post_id": 29808000, "comment_id": 47745312, "body": "Thanks for your reply. Actually, it&#39;s different, it doesn&#39;t have the tag &lt;strong&gt; now. I think I correctly locate the element I need, cause when I try to print the id for &quot;price&quot;, I got what I was looking for. But I can&#39;t get the text:("}], "tags": [], "owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "is_accepted": false, "score": 0, "last_activity_date": 1429735506, "last_edit_date": 1429735506, "creation_date": 1429734079, "answer_id": 29808000, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div/29808000#29808000", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>Change the css selector to</p>\n\n<pre><code>div[id$='_price']\n</code></pre>\n\n<p>Complete code</p>\n\n<pre><code> price = fltright.find_element(By.CSS_SELECTOR, \"div[id$='_price']\")\n price.text\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1429734576, "post_id": 29808151, "comment_id": 47744432, "body": "I do not think using <code>getElementById</code> is a very good idea in this case"}, {"owner": {"reputation": 4724, "user_id": 1315120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LVVPY.jpg?s=128&g=1", "display_name": "Erki M.", "link": "https://stackoverflow.com/users/1315120/erki-m"}, "reply_to_user": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1429734770, "post_id": 29808151, "comment_id": 47744546, "body": "I was just suggesting, that the way to achieve what is asked is to execute javascript."}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429734836, "post_id": 29808151, "comment_id": 47744595, "body": "I&#39;m so sorry. I copied the wrong html snippet. I&#39;ve already updated my question. Can you take a look, please? Thank you!"}, {"owner": {"reputation": 4724, "user_id": 1315120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LVVPY.jpg?s=128&g=1", "display_name": "Erki M.", "link": "https://stackoverflow.com/users/1315120/erki-m"}, "edited": false, "score": 0, "creation_date": 1429735108, "post_id": 29808151, "comment_id": 47744753, "body": "<code>driver.get_element_by_xpath(&quot;&#47;&#47;div[@class=&#39;price inlineBlock strong mediumText&#39;]&quot;).text</code> ?"}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429735605, "post_id": 29808151, "comment_id": 47745035, "body": "@Erki M. I think you mean,  find_element_by_xpath. Unfortunately, I got the same result. Nothing happens, When I try to print, no error, no printing."}, {"owner": {"reputation": 4724, "user_id": 1315120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LVVPY.jpg?s=128&g=1", "display_name": "Erki M.", "link": "https://stackoverflow.com/users/1315120/erki-m"}, "edited": false, "score": 0, "creation_date": 1429735901, "post_id": 29808151, "comment_id": 47745215, "body": "does the find element return you the element you need? maybe there are more than one elements matching the xpath? If so, refine that xpath. if the xpath does not result in a webElement, then get the locator right."}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429736350, "post_id": 29808151, "comment_id": 47745527, "body": "@Erki M. Yes. I think I correctly locate the element I need, cause when I try to print the id for &quot;price&quot;, I got what I was looking for. But I can&#39;t get the text:("}], "tags": [], "owner": {"reputation": 4724, "user_id": 1315120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LVVPY.jpg?s=128&g=1", "display_name": "Erki M.", "link": "https://stackoverflow.com/users/1315120/erki-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1429734517, "creation_date": 1429734517, "answer_id": 29808151, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div/29808151#29808151", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>You element is hidden, last I worked with <code>Selenium</code> you were not able to get text of hidden elements. That said, you can always execute javascript, I dont usually write in python, but it should be something like:</p>\n\n<pre><code>def val = driver.execute_script(\"return document.getElementById('locator').innerHTML\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429735044, "post_id": 29808188, "comment_id": 47744721, "body": "Sorry, I don&#39;t quite get it. Can you explain a little bit, please? Thanks."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429735671, "post_id": 29808188, "comment_id": 47745057, "body": "Well is it working, first of all? This is basically a code to search the HTML for the contents between the tags."}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429736251, "post_id": 29808188, "comment_id": 47745460, "body": "Sorry, It doesn&#39;t work for me. I tried this code, there is an error while compiling:    raise error, v # invalid expression"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429736286, "post_id": 29808188, "comment_id": 47745486, "body": "Did you import <code>re</code> and do you have a <code>price</code> element?"}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429737083, "post_id": 29808188, "comment_id": 47745903, "body": "Yes, I did. And I&#39;ve already correctly located the element I want."}, {"owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "edited": false, "score": 0, "creation_date": 1429903073, "post_id": 29808188, "comment_id": 47837301, "body": "Partly, I&#39;ve already updated the solution in my post~ I marked it as solution because it&#39;s the most helpful in finding my solution. Thanks for your help."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1429735941, "last_edit_date": 1429735941, "creation_date": 1429734644, "answer_id": 29808188, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div/29808188#29808188", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>Can't you use a regular expression or Beautiful Soup to find the contents of the element in HTML:</p>\n\n<pre><code>re.search(r'&lt;div.*?&gt;(*.?)&lt;/div&gt;', price.get_attribute('innerHTML')).group(1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1076, "user_id": 789491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d88046d5f80de0fdd0daaef0599a449?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/789491/jason"}, "edited": false, "score": 0, "creation_date": 1521754166, "post_id": 49438690, "comment_id": 85879505, "body": "This question was asked and answer accepted 3 years ago."}], "tags": [], "owner": {"reputation": 1, "user_id": 2805243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70525c1bdbd2213715874060ab4e9c37?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/2805243/leo"}, "is_accepted": false, "score": -2, "last_activity_date": 1521753689, "creation_date": 1521753689, "answer_id": 49438690, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div/49438690#49438690", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>browser.find_element_by_xpath(\"//form[@id='workQueueTaskListForm']/div[1]/p\").text</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11779959, "user_type": "registered", "profile_image": "https://graph.facebook.com/2364057513812380/picture?type=large", "display_name": "T&#249;ng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/11779959/t%c3%b9ng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1563030222, "last_edit_date": 1563030222, "creation_date": 1563028903, "answer_id": 57020147, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div/57020147#57020147", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>I tried your edited solution, but they only get 1 <code>div</code> having <code>class</code>. So, I tried these below to print a List of <code>div</code> having the same <code>class</code>.</p>\n\n<p>Changing <code>element</code> to <code>elements</code> will output a List:</p>\n\n<pre><code>price = driver.find_elements_by_xpath('//div[@class = \"price inlineBlock strong mediumText\"]')\n</code></pre>\n\n<p>Use <code>for ... in range ()</code> to print a List:</p>\n\n<pre><code>num = len (price)\nfor i in range (num):\n  print (price[i].text)\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 4526072, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CR8XY.jpg?s=128&g=1", "display_name": "Julia", "link": "https://stackoverflow.com/users/4526072/julia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18671, "favorite_count": 0, "accepted_answer_id": 29808188, "answer_count": 5, "score": 7, "last_activity_date": 1597628130, "creation_date": 1429733579, "last_edit_date": 1597628130, "question_id": 29807856, "link": "https://stackoverflow.com/questions/29807856/selenium-python-how-to-get-texthtml-source-from-div", "title": "Selenium Python how to get text(html source) from &lt;div&gt;", "body": "<p>I'm trying to get text <code>$27.5</code> inside tag <code>&lt;div&gt;</code>, I located the element by id and the element is called \"price\". </p>\n\n<p>The snippet of html is as follows:</p>\n\n<pre><code>&lt;div id=\"PPP,BOSSST,NYCPAS,2015-04-26T01:00:00-04:00,2015-04-26T05:20:00-04:00,_price\" class=\"price inlineBlock strong mediumText\"&gt;$27.50&lt;/div&gt;\n</code></pre>\n\n<p>Here is what I've tried</p>\n\n<pre><code>price.text\nprice.get_attribute('value')\n</code></pre>\n\n<p>Both of the above doesn't work.</p>\n\n<p><strong>Update:</strong>\nThanks for everyone that tries to help.\nI combined your answers together and got the solution:)</p>\n\n<pre><code>    price = driver.find_element_by_xpath(\"//div[@class='price inlineBlock strong mediumText']\")\n    price_content = price.get_attribute('innerHTML')\n    print price_content.strip()\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyside", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 4796605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f10b2d7ce06a267e51edea93aa4fb3d0?s=128&d=identicon&r=PG&f=1", "display_name": "adam b", "link": "https://stackoverflow.com/users/4796605/adam-b"}, "edited": false, "score": 0, "creation_date": 1429736832, "post_id": 29808027, "comment_id": 47745782, "body": "It still doesn&#39;t seem to help anything. I have tried to explicitly select the with -p &lt;path/DataFunctions.py&gt;"}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "reply_to_user": {"reputation": 247, "user_id": 4796605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f10b2d7ce06a267e51edea93aa4fb3d0?s=128&d=identicon&r=PG&f=1", "display_name": "adam b", "link": "https://stackoverflow.com/users/4796605/adam-b"}, "edited": false, "score": 0, "creation_date": 1429736927, "post_id": 29808027, "comment_id": 47745832, "body": "Maybe a good case to <a href=\"http://stackoverflow.com/a/67692/2327328\">import from an absolute path</a>"}, {"owner": {"reputation": 247, "user_id": 4796605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f10b2d7ce06a267e51edea93aa4fb3d0?s=128&d=identicon&r=PG&f=1", "display_name": "adam b", "link": "https://stackoverflow.com/users/4796605/adam-b"}, "edited": false, "score": 0, "creation_date": 1429738930, "post_id": 29808027, "comment_id": 47746911, "body": "Thanks for the suggestion, but it still hasn&#39;t worked. I&#39;m beginning to think it might be a problem with pyinstaller itself."}], "tags": [], "owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "is_accepted": false, "score": 2, "last_activity_date": 1429734137, "creation_date": 1429734137, "answer_id": 29808027, "question_id": 29807727, "link": "https://stackoverflow.com/questions/29807727/how-to-get-pyinstaller-to-include-imported-py-files/29808027#29808027", "title": "How to get pyinstaller to include imported .py files", "body": "<ol>\n<li><p>Drop the <strong>.py</strong> extension in the import line </p>\n\n<pre><code>  import Datafunctions\n</code></pre></li>\n<li><p>Make sure the Datafunctions.py code is in the same folder.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 247, "user_id": 4796605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f10b2d7ce06a267e51edea93aa4fb3d0?s=128&d=identicon&r=PG&f=1", "display_name": "adam b", "link": "https://stackoverflow.com/users/4796605/adam-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1429775210, "last_edit_date": 1495542127, "creation_date": 1429775210, "answer_id": 29816924, "question_id": 29807727, "link": "https://stackoverflow.com/questions/29807727/how-to-get-pyinstaller-to-include-imported-py-files/29816924#29816924", "title": "How to get pyinstaller to include imported .py files", "body": "<p>It turns out that the DataFunctions.py file was included in the .exe, however some file paths relative to the DataFunctions.py file inside it were not set correctly due to the .exe being created in another folder. If anyone else is having similar problems, make sure you don't specify -w so that you can use the console to debug your .exe. Look <a href=\"https://stackoverflow.com/a/404750/4796605\">here</a> for how to find the location of the .exe file when it is run.</p>\n"}], "owner": {"reputation": 247, "user_id": 4796605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f10b2d7ce06a267e51edea93aa4fb3d0?s=128&d=identicon&r=PG&f=1", "display_name": "adam b", "link": "https://stackoverflow.com/users/4796605/adam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3204, "favorite_count": 0, "accepted_answer_id": 29816924, "answer_count": 2, "score": 0, "last_activity_date": 1429775210, "creation_date": 1429733115, "question_id": 29807727, "link": "https://stackoverflow.com/questions/29807727/how-to-get-pyinstaller-to-include-imported-py-files", "title": "How to get pyinstaller to include imported .py files", "body": "<p>I have a GUI script, called ui.py, created in PySide that uses functions from another script, called DataFunctions.py. When I run the ui.py file in python it all works perfectly, and when I run the ui.exe file it will all work fine apart from the button that runs the DataFunctions.py file, which does nothing.\nIn my ui.py file I am importing DataFunctions.py with:</p>\n\n<pre><code>import DataFunctions.py\n\nbuttonAction = DataFunctions.writeFile(filename, data)\n</code></pre>\n\n<p>I am using the following code to create the .exe:</p>\n\n<pre><code>pyinstaller ui.py -w -F\n</code></pre>\n\n<p>Am I importing the DataFunctions.py file in a way that pyinstaller doesn't support?</p>\n"}, {"tags": ["python", "dictionary", "recursion", "tree"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1429733273, "creation_date": 1429733273, "answer_id": 29807771, "question_id": 29807685, "link": "https://stackoverflow.com/questions/29807685/python-3-4-recursion-function-not-being-called-on-dict-tree-flattening/29807771#29807771", "title": "Python (3.4) Recursion function not being called on dict/tree flattening", "body": "<pre><code>flatten_dict(value, values_dict[key])\n</code></pre>\n\n<p>This call does the same thing inside a generator as it would outside; it creates a generator object. It does not automatically run the generator and yield its items. If you want to use a generator recursively, you have to iterate over it yourself:</p>\n\n<pre><code>for item in flatten_dict(value, values_dict[key]):\n    yield item\n</code></pre>\n\n<p>or in Python 3:</p>\n\n<pre><code>yield from flatten_dict(value, values_dict[key])\n</code></pre>\n"}], "owner": {"reputation": 831, "user_id": 699440, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f1c8913dcc3436ab109dd1bb19cc32a?s=128&d=identicon&r=PG", "display_name": "schodge", "link": "https://stackoverflow.com/users/699440/schodge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "closed_date": 1429733494, "accepted_answer_id": 29807771, "answer_count": 1, "score": 2, "last_activity_date": 1429824694, "creation_date": 1429732962, "last_edit_date": 1429824694, "question_id": 29807685, "link": "https://stackoverflow.com/questions/29807685/python-3-4-recursion-function-not-being-called-on-dict-tree-flattening", "closed_reason": "Duplicate", "title": "Python (3.4) Recursion function not being called on dict/tree flattening", "body": "<p>I'm trying to flatten a nested dictionary while also swapping out its keys according to another nested dict.  I assume that none of the branches will have identical keys.  E.g.:</p>\n\n<p>In:</p>\n\n<pre><code>values_dict_test = {\"abs\": 3, \"cd\": 23, \"sdf\": \"abc\", \"gxr\":\n{\"rea\": 21, \"bdf\": 95}}\nmapping_dict_test = {\"abs\": \"one\", \"cd\": \"two\", \"sdf\": \"three\", \"gxr\":\n{\"rea\": \"four\", \"bdf\": \"five\"}}\n</code></pre>\n\n<p>Expected Out:</p>\n\n<p><code>{\"one\": 3, \"two\": 23, \"three\": \"abc\", \"four\": 21, \"five\": 95}</code></p>\n\n<p>I'm using the <code>iteritems</code> hack to try to make this code compatible with Python 2.7, but am testing on 3.4.  I've added a bunch of print statements to trace execution; it appears the recursive call never actually happens.</p>\n\n<pre><code>try:\n    dict.iteritems\nexcept AttributeError:\n    # Python 3\n    def itervalues(d):\n        return iter(d.values())\n    def iteritems(d):\n        return iter(d.items())\nelse:\n    # Python 2\n    def itervalues(d):\n        return d.itervalues()\n    def iteritems(d):\n        return d.iteritems()\n\ndef flatten_dict(mapping, values_dict):\n    print(\"Function called with {} and {}\".format(mapping, values_dict))\n    for (key, value) in iteritems(mapping):\n        print(\"K: {} V: {} Mapping: {}\".format(key, value, mapping))\n        if isinstance(value, dict):\n            # Note that we have to flatten the values_dict as we flatten\n            # mapping dict, hence the [key]\n            print(\"Going to recurse\")\n            print(\"Passing {} and {}\".format(value, values_dict[key]))\n            flatten_dict(value, values_dict[key])\n        else:\n            print(\"Going to yield {}, {}\".format(value, values_dict[key]))\n            yield (value, values_dict[key])\n\nvalues_dict_test = {\"abs\": 3, \"cd\": 23, \"sdf\": \"abc\", \"gxr\":\n{\"rea\": 21, \"bdf\": 95}}\nmapping_dict_test = {\"abs\": \"one\", \"cd\": \"two\", \"sdf\": \"three\", \"gxr\":\n{\"rea\": \"four\", \"bdf\": \"five\"}}\n\nfor (x,y) in flatten_dict(mapping_dict_test, values_dict_test):\n    print(x, y)\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>Function called with {'cd': 'two', 'sdf': 'three', 'abs': 'one', 'gxr': {'rea': 'four', 'bdf': 'five'}} and {'cd': 23, 'sdf': 'abc', 'abs': 3, 'gxr': {'rea': 21, 'bdf': 95}}\nK: cd V: two Mapping: {'cd': 'two', 'sdf': 'three', 'abs': 'one', 'gxr': {'rea': 'four', 'bdf': 'five'}}\nGoing to yield two, 23\ntwo 23\nK: sdf V: three Mapping: {'cd': 'two', 'sdf': 'three', 'abs': 'one', 'gxr': {'rea': 'four', 'bdf': 'five'}}\nGoing to yield three, abc\nthree abc\nK: abs V: one Mapping: {'cd': 'two', 'sdf': 'three', 'abs': 'one', 'gxr': {'rea': 'four', 'bdf': 'five'}}\nGoing to yield one, 3\none 3\nK: gxr V: {'rea': 'four', 'bdf': 'five'} Mapping: {'cd': 'two', 'sdf': 'three', 'abs': 'one', 'gxr': {'rea': 'four', 'bdf': 'five'}}\nGoing to recurse\nPassing {'rea': 'four', 'bdf': 'five'} and {'rea': 21, 'bdf': 95}\n</code></pre>\n\n<p>(Normally, I'd use <code>values = {key: value for (key, value) in values_dict_gen}</code> where values_dict_gen is the generator returned by that function.)</p>\n\n<p>EDIT: In favor of reopening, (1) the duplicate linked to uses a mutable default argument, which is known to behave counter-intuitively in these situations (2) it's older, and the answer given below shows a Python 3.3 solution I didn't see on the older question.</p>\n"}, {"tags": ["python", "numpy", "installation", "pip"], "comments": [{"owner": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 1, "creation_date": 1429733080, "post_id": 29807662, "comment_id": 47743524, "body": "It looks like it tries to install globally, so you need permissions for that, or use virtualenv to create virtual storage where you can install numpy without problem.  Exactly in your case it says it cannot copy file to <code>&#47;usr&#47;local&#47;man&#47;man1&#47;nosetests.1</code>"}, {"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "reply_to_user": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 0, "creation_date": 1429733292, "post_id": 29807662, "comment_id": 47743676, "body": "Okay. How would I get the permissions for it? Would sudo do the right thing? I should also mention, when I tried running pip again, it told me that numpy was already installed and up to date."}, {"owner": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 0, "creation_date": 1429733385, "post_id": 29807662, "comment_id": 47743741, "body": "Yes, <code>sudo</code> may help you. Or, if you don&#39;t need it globally, try to create a <code>virtualenv</code>"}, {"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "reply_to_user": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 0, "creation_date": 1429733481, "post_id": 29807662, "comment_id": 47743802, "body": "Trying to run it with sudo tells me the same as the when I ran it the second time, that it is already installed and up to date. I do need it globally."}, {"owner": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 0, "creation_date": 1429733554, "post_id": 29807662, "comment_id": 47743838, "body": "Try <code>pip uninstall numpy</code> and <code>sudo install numpy</code> after them."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 1546, "user_id": 885210, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b7616e49892ba31eec338d27ba4765e2?s=128&d=identicon&r=PG", "display_name": "wanderlust", "link": "https://stackoverflow.com/users/885210/wanderlust"}, "edited": false, "score": 0, "creation_date": 1429734063, "post_id": 29807662, "comment_id": 47744112, "body": "@wanderlust: That&#39;s a bad idea. The more stuff you <code>sudo</code> into <code>&#47;usr&#47;local</code>, the more problems you&#39;ll have with Homebrew."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429739714, "post_id": 29807910, "comment_id": 47747258, "body": "Okay. Is there an easy way to clean all my added stuff up and go to scratch without a rebuild? Most stuff I need is fairly organized, so a rebuild wouldn&#39;t be the end of the world. I am guessing that just from trying to load different packages from different sources I have created problems all over the place. What&#39;s the easiest way to get back to scratch? Thanks!"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429740376, "post_id": 29807910, "comment_id": 47747578, "body": "@Grimey: Which way do you want to end up? Apple site-packages and no Homebrew, or Homebrew site-packages and empty Apple site-packages? The first one is simpler, but if it&#39;s not the one you want, that doesn&#39;t help\u2026 Also, have you ever installed any packages without <code>pip</code> (or do you not know the answer to that)?"}, {"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429740551, "post_id": 29807910, "comment_id": 47747648, "body": "I have certainly tried to install packages. I am still quite new to Python, so I have tried installing packages in a plethora of different ways. In retrospect, should have read more into it. It seems to me that homebrew is useful and has many useful packages. Maybe this would be the best way to go? Which would you suggest? I am pretty indifferent."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429741086, "post_id": 29807910, "comment_id": 47747885, "body": "First, for installing programs and shared libraries, Homebrew is definitely the way to go, even if you don&#39;t use it for Python itself. As for which Python to use\u2026 well, I&#39;d say learn Python 3, then leave Apple&#39;s as the only 2.7, which you rarely use, and install 3.4 from python.org or Homebrew. If you can&#39;t do that, I personally think it&#39;s easier to stick with Apple&#39;s Python 2.7, but a lot of people disagree. (I wrote <a href=\"http://stupidpythonideas.blogspot.com/2013/02/sticking-with-apples-python-27.html\" rel=\"nofollow noreferrer\">a blog post a couple years ago explaining why</a>.)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429741320, "post_id": 29807910, "comment_id": 47747986, "body": "@Grimey: Or, since you&#39;re looking to install NumPy and SciPy\u2026 have you looked into using one of the scientific distributions of Python+extras, like Enthought or PythonXY? (Maybe not those two in particular\u2013I think the first is non-free and the second doesn&#39;t yet work on Mac\u2014but there are others.) That would get you not just NumPy and SciPy, but also Qt (which is much more painful to set up) and other things, and some of them have self-contained package management\u2026"}, {"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429741787, "post_id": 29807910, "comment_id": 47748186, "body": "Okay. I like the idea of installing Python 3, only problem is that I am working on a project with some other people and they are running Python 2.7. Maybe it would be a good idea to keep Homebrew for my personal use, then load up NumPy, SciPy, Biopython, and bx-python onto Apple python. I think this would be the best way to go. So, how would I go about cleaning up to get back to Mac&#39;s &quot;default python state&quot;? I&#39;m sure it&#39;s hard to totally clean up. Thanks!"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429824948, "post_id": 29807910, "comment_id": 47796225, "body": "@Grimey: Yeah, if you&#39;re working on a project with other people on 2.7, the project will be 2.7, so you have to use 2.7. But if you&#39;re planning to use Apple&#39;s Python for that project, but a Homebrew 3.4 for your own personal use, cleaning up should be easy: just <code>brew uninstall python</code>, then make sure you have <code>pip</code> installed for Apple&#39;s Python and <code>sudo pip2.7 install</code> everything you need, then <code>brew install python3</code> for your personal 3.4."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429825069, "post_id": 29807910, "comment_id": 47796291, "body": "@Grimey: Depending on your OS X version, Apple may have preinstalled NumPy for you. Also, you may need to <code>brew install gcc</code> if you want Fortran-optimized SciPy. Also, do you know about <a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow noreferrer\"><code>virtualenv</code></a>? (3.4 has an equivalent built in as <code>venv</code>, but 2.7 doesn&#39;t.) If you&#39;re trying to maintain multiple Python environments, <code>virtualenv</code> is a lot easier than remembering when to use <code>sudo</code> and which commands need <code>2.7</code> vs. <code>2</code> suffixes and worrying about screwing up your central site-packages."}, {"owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429840039, "post_id": 29807910, "comment_id": 47801277, "body": "I have heard of virtualenv, although I don&#39;t kow much about it. I would love to learn more. The other thing I am a little worried about is that I believe at one point I installed via python.org, and I have installed from all sorts of different .tar.gz files. Is there any easy way to make sure I get all of it cleaned up as far as deleting some of the other packages installed?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429840686, "post_id": 29807910, "comment_id": 47801440, "body": "@Grimey: I&#39;m pretty sure the python.org build isn&#39;t a problem, as it sets any packages to install everything into <code>&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;X.Y</code> (and then tells you to add <code>&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;X.Y&#47;bin</code> to your <code>PATH</code>), so just removing <code>&#47;Library&#47;Frameworks&#47;Python.framework</code> cleans up everything."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429840835, "post_id": 29807910, "comment_id": 47801474, "body": "@Grimey: But Homebrew and Apple Python, while they handle site-packages itself nicely, I think they both put scripts, manpages, etc. in <code>&#47;usr&#47;local&#47;bin</code>, <code>&#47;usr&#47;local&#47;man</code>, etc., so you may have to clean those out. And I don&#39;t know any way to automate that. Some of them may be symlinks, so just <code>ls -l &#47;usr&#47;local&#47;bin | grep &#47;usr&#47;local&#47;Cellar&#47;python</code> or similar will make them easy to find. For others, you can <code>pip list</code> and then try to guess which files sound like they go with which packages, then look at those files and verify you&#39;re right."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "edited": false, "score": 0, "creation_date": 1429840921, "post_id": 29807910, "comment_id": 47801504, "body": "@Grimey: Also, any script that was automatically generated by <code>setuptools</code>, which should be most of them, will be easy to verify; it&#39;ll have a <code>#!</code> pointing to one particular Python, then a comment with the pip info for the package, then 5 lines of boilerplate code where the only interesting bit is <code>load_entry_point(&#39;spam=1.2&#39;, &#39;console_scripts&#39;, &#39;spam&#39;)</code>."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 6, "last_activity_date": 1429734124, "last_edit_date": 1429734124, "creation_date": 1429733754, "answer_id": 29807910, "question_id": 29807662, "link": "https://stackoverflow.com/questions/29807662/exception-error-when-installing-numpy-with-pip/29807910#29807910", "title": "Exception Error when Installing NumPy with pip", "body": "<p><a href=\"http://brew.sh/\" rel=\"noreferrer\">Homebrew</a> tries to leave /usr/local writable, so you don't need <code>sudo</code>. <a href=\"https://github.com/Homebrew/homebrew/blob/master/share/doc/homebrew/FAQ.md#why-does-homebrew-say-sudo-is-bad-\" rel=\"noreferrer\">See the FAQ for details.</a></p>\n\n<p>However, if you accidentally use <code>sudo</code> once\u2014or if some other installer you run installs stuff into <code>/usr/local</code> that doesn't realize you wanted it Homebrew-style\u2014then you'll start getting errors, when your Homebrew stuff attempt to modify files that were saved with <code>sudo</code>.</p>\n\n<p>There's a particular problem if you try to use both Apple's pre-installed Python 2.7 and a Homebrew Python 2.7: they both want to install scripts to <code>/usr/local/bin</code>, man pages to <code>/usr/local/man</code>, etc. And Apple's wants to use sudo.</p>\n\n<p>So, most likely, you did a <code>sudo pip install nose</code> for Apple's Python in the past, and now <code>pip install nose</code> for Homebrew's Python is trying to overwrite its files and doesn't have permissions to do so. (Or maybe not <code>nose</code> itself, but something else that requires <code>nose</code> without you realizing it.)</p>\n\n<p>Using <code>sudo</code> with the Homebrew Python will just make the problem worse; don't do that.</p>\n\n<p>The right solution is to either:</p>\n\n<ul>\n<li>Not use a third-party Python 2.7, Homebrew or otherwise, and just stick with Apple's (or upgrade to Python 3; then there's usually no conflict with Apple's 2.7\u2026), or</li>\n<li>Never touch Apple's Python 2.7, and only use the other one.</li>\n</ul>\n\n<p>But at this point, you've already screwed things up, and I doubt you want to reinstall your OS from scratch, right?</p>\n\n<p>You can fix things by <code>brew uninstall python</code> for the former, or by uninstalling everything you installed with Apple's Python for the latter. (You can't uninstall Apple's Python; that would break the OS, and the next OS update would just undo it anyway\u2026) And then, either way, you'll probably want to reinstall every package you need for whichever Python you chose to go with, to be safe.</p>\n\n<p>Or, for a quick&amp;dirty solution, every time you get an error like this, you can either delete the conflicting file (<code>sudo rm /usr/local/man/man1/nosetests.1</code>) or make it overwritable (<code>sudo chmod a+w /usr/local/man/man1/nosetests.1</code>); then, your <code>pip</code> will work. Until the next error, which you can fix the same way.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 8516895, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/894833d3aedfbd1d3a76f8bc9dd9c52e?s=128&d=identicon&r=PG", "display_name": "kakarot", "link": "https://stackoverflow.com/users/8516895/kakarot"}, "is_accepted": false, "score": -3, "last_activity_date": 1503668986, "last_edit_date": 1503668986, "creation_date": 1503667767, "answer_id": 45882571, "question_id": 29807662, "link": "https://stackoverflow.com/questions/29807662/exception-error-when-installing-numpy-with-pip/45882571#45882571", "title": "Exception Error when Installing NumPy with pip", "body": "<p>Just run cmd as Admin it worked for me.</p>\n"}], "owner": {"reputation": 67, "user_id": 1447884, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3507572c5c0cf89198fb6d6412af218a?s=128&d=identicon&r=PG", "display_name": "Grimey", "link": "https://stackoverflow.com/users/1447884/grimey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4714, "favorite_count": 0, "accepted_answer_id": 29807910, "answer_count": 2, "score": 1, "last_activity_date": 1503668986, "creation_date": 1429732896, "last_edit_date": 1429733994, "question_id": 29807662, "link": "https://stackoverflow.com/questions/29807662/exception-error-when-installing-numpy-with-pip", "title": "Exception Error when Installing NumPy with pip", "body": "<p>I have been trying to install NumPy and have been have a brutal time with it. I keep getting an exception error no matter what I try. I used the command</p>\n\n<pre><code>$pip install numpy\n</code></pre>\n\n<p>but it threw this error</p>\n\n<pre><code>    Exception:\n  Traceback (most recent call last):\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/basecommand.py\", line 246, in main\n      status = self.run(options, args)\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/commands/install.py\", line 352, in run\n      root=options.root_path,\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/req/req_set.py\", line 693, in install\n      **kwargs\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/req/req_install.py\", line 817, in install\n      self.move_wheel_files(self.source_dir, root=root)\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/req/req_install.py\", line 1018, in move_wheel_files\n      isolated=self.isolated,\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/wheel.py\", line 269, in move_wheel_files\n      clobber(source, dest, False, fixer=fixer, filter=filter)\n    File \"/Library/Python/2.7/site-packages/pip-6.1.1-py2.7.egg/pip/wheel.py\", line 215, in clobber\n      shutil.copyfile(srcfile, destfile)\n    File \"/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 83, in copyfile\n      with open(dst, 'wb') as fdst:\n  IOError: [Errno 13] Permission denied: '/usr/local/man/man1/nosetests.1'\n</code></pre>\n\n<p>Just to check, I used import in Python to see if it got anything, it also threw an error though. I have no idea what is going on. </p>\n\n<pre><code>$pip install scipy\n</code></pre>\n\n<p>gave me no problems. Any help is appreciated! I can't seem to find anything on how to fix this.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1429733246, "post_id": 29807644, "comment_id": 47743646, "body": "why doesnt <code>i.split(&#39;,&#39;)</code> work as a solution?"}, {"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1429733296, "post_id": 29807644, "comment_id": 47743680, "body": "@letsc It will also split <code>one, two, etc.</code> and <code>&#39;long, list&#39;</code> in quotes."}, {"owner": {"reputation": 830, "user_id": 1492838, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2459503e41d148c1bff514bbcff227f1?s=128&d=identicon&r=PG", "display_name": "alcedine", "link": "https://stackoverflow.com/users/1492838/alcedine"}, "edited": false, "score": 3, "creation_date": 1429733829, "post_id": 29807644, "comment_id": 47743978, "body": "Although it&#39;s not quite what you asked for, you may actually want the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">csv</a> module instead of regexes (see also <a href=\"http://stackoverflow.com/questions/11805535/transform-comma-separated-string-into-a-list-but-ignore-comma-in-quotes\">this</a> question)."}, {"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "reply_to_user": {"reputation": 830, "user_id": 1492838, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2459503e41d148c1bff514bbcff227f1?s=128&d=identicon&r=PG", "display_name": "alcedine", "link": "https://stackoverflow.com/users/1492838/alcedine"}, "edited": false, "score": 1, "creation_date": 1429735741, "post_id": 29807644, "comment_id": 47745103, "body": "@alcedine I did not read your comment until now. My solution is the same as the one you suggest, but I did not copy from it :-)"}, {"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "edited": false, "score": 1, "creation_date": 1429735785, "post_id": 29807644, "comment_id": 47745129, "body": "What&#39;s with <b>NULL</b>? It is just another string in Python"}], "answers": [{"comments": [{"owner": {"reputation": 1253, "user_id": 339384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c666d7e4d75a54f97de068f9aec8bc2b?s=128&d=identicon&r=PG", "display_name": "constructor", "link": "https://stackoverflow.com/users/339384/constructor"}, "edited": false, "score": 0, "creation_date": 1429733601, "post_id": 29807733, "comment_id": 47743859, "body": "in line &quot;i = &quot;1,&#39;Test&#39;,NULL,&#39;items (one, two, etc.)&#39;,1,&#39;long, list&#39;&quot;&quot;  NULL ignored. How to update suggested code to support NULL too?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 1253, "user_id": 339384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c666d7e4d75a54f97de068f9aec8bc2b?s=128&d=identicon&r=PG", "display_name": "constructor", "link": "https://stackoverflow.com/users/339384/constructor"}, "edited": false, "score": 0, "creation_date": 1429733777, "post_id": 29807733, "comment_id": 47743955, "body": "@constructor If your problem is just <code>NULL</code> use <code>&gt;&gt;&gt; [k for j in re.findall(r&quot;(\\d)|&#39;([^&#39;]*)&#39;|(NULL)&quot;,i) for k in j if k]</code>"}, {"owner": {"reputation": 1253, "user_id": 339384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c666d7e4d75a54f97de068f9aec8bc2b?s=128&d=identicon&r=PG", "display_name": "constructor", "link": "https://stackoverflow.com/users/339384/constructor"}, "edited": false, "score": 0, "creation_date": 1429733894, "post_id": 29807733, "comment_id": 47744009, "body": "@tommy.carstensen I parse SQL file and have a problems. I am sure that I am not first. Solution of part of problems found and implemented in my code. I cannot solution (regexp) the published sample."}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 4, "last_activity_date": 1429735075, "last_edit_date": 1429735075, "creation_date": 1429733138, "answer_id": 29807733, "question_id": 29807644, "link": "https://stackoverflow.com/questions/29807644/split-a-python-string-with-nested-separated-symbol/29807733#29807733", "title": "Split a Python string with nested separated symbol", "body": "<p>You don't need <code>re.split</code> in this case.you can use <code>re.findall</code> within a list comprehension :</p>\n\n<pre><code>&gt;&gt;&gt; [k for j in re.findall(r\"(\\d)|'([^']*)'\",i) for k in j if k]\n['1', 'Test', 'items (one, two, etc.)', '1', 'long, list']\n</code></pre>\n\n<p>The preceding regex will match any thing between one quote <code>'([^']*)'</code> or any digit (<code>\\d</code>).</p>\n\n<p>Or as a more efficient way in this case you can use <code>ast.literal_eval</code> :</p>\n\n<pre><code>&gt;&gt;&gt; from ast import literal_eval\n&gt;&gt;&gt; literal_eval(i)\n(1, 'Test', 'items (one, two, etc.)', 1, 'long, list')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1429739398, "last_edit_date": 1429739398, "creation_date": 1429733886, "answer_id": 29807954, "question_id": 29807644, "link": "https://stackoverflow.com/questions/29807644/split-a-python-string-with-nested-separated-symbol/29807954#29807954", "title": "Split a Python string with nested separated symbol", "body": "<p>You can split on single quotes:</p>\n\n<pre><code>i = \"1,'Test','items (one, two, etc.)',1,'long, list'\"\n\n\n\nprint([ele.strip(\" ,\") for ele in i.split(\"'\") if ele.strip(\",\")])\n['1', 'Test', 'items (one, two, etc.)', '1', 'long, list']\n</code></pre>\n\n<p>Or use it with map:</p>\n\n<pre><code>print([ele for ele in map(lambda x:  x.strip(\", \"), i.split(\"'\")) if ele])\n</code></pre>\n\n<p>Using map with python 3 is pretty efficient:</p>\n\n<pre><code>In [7]: i = \"1,'Test','items (one, two, etc.)',1,'long, list'\"\n\nIn [8]: timeit [ele for ele in map(lambda x:  x.strip(\", \"), i.split(\"'\")) if ele]\n1000000 loops, best of 3: 1.5 \u00b5s per loop\n\nIn [9]: r = re.compile(r\"(\\d)|'([^']*)'\") \n\nIn [10]: timeit [k for j in r.findall(i) for k in j if k]\n100000 loops, best of 3: 3.92 \u00b5s per loop\n</code></pre>\n\n<p>Better using python2 and <code>itertools.imap</code>:</p>\n\n<pre><code>In [9]: from itertools  import imap   \nIn [10]: timeit [ele for ele in imap(lambda x:  x.strip(\", \"), i.split(\"'\")) if ele]\n1000000 loops, best of 3: 871 ns per loop  \n\nIn [11]: r = re.compile(r\"(\\d)|'([^']*)'\")\nIn [12]: timeit [k for j in r.findall(i) for k in j if k]\n100000 loops, best of 3: 4.27 \u00b5s per loop\n\nIn [17]: from ast import literal_eval\nIn [18]: timeit literal_eval(i)\n100000 loops, best of 3: 16.2 \u00b5s per loop\n</code></pre>\n\n<p>All of which return the same output bar literal_eval as it evaluates the numbers as ints:</p>\n\n<pre><code>In [19]: literal_eval(i)\nOut[19]: (1, 'Test', 'items (one, two, etc.)', 1, 'long, list')\n\nIn [20]: [k for j in r.findall(i) for k in j if k]\nOut[20]: ['1', 'Test', 'items (one, two, etc.)', '1', 'long, list']\n\nIn [21]: [ele for ele in imap(lambda x:  x.strip(\", \"), i.split(\"'\")) if ele]Out[21]: ['1', 'Test', 'items (one, two, etc.)', '1', 'long, list']\n</code></pre>\n\n<p>There is nothing different with the NUll line:</p>\n\n<pre><code>i = \"1,'Test',NULL,'items (one, two, etc.)',1,'long, list'\"\n\n\n\nprint([ele for ele in map(lambda x:  x.strip(\", \"), i.split(\"'\")) if ele])\n\n['1', 'Test', 'NULL', 'items (one, two, etc.)', '1', 'long, list']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1429734034, "creation_date": 1429734034, "answer_id": 29807990, "question_id": 29807644, "link": "https://stackoverflow.com/questions/29807644/split-a-python-string-with-nested-separated-symbol/29807990#29807990", "title": "Split a Python string with nested separated symbol", "body": "<p>This is a task for the <code>csv</code> module:</p>\n\n<pre><code>import csv\nfrom StringIO import StringIO\nline = \"1,'Test','items (one, two, etc.)',1,'long, list'\"\nreader = csv.reader(StringIO(line), quotechar=\"'\")\nrow = next(reader)\n\n# row == ['1', 'Test', 'items (one, two, etc.)', '1', 'long, list']\n</code></pre>\n\n<p>The key here is to create a CSV reader, specifying single quote as the quote character.</p>\n"}], "owner": {"reputation": 1253, "user_id": 339384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c666d7e4d75a54f97de068f9aec8bc2b?s=128&d=identicon&r=PG", "display_name": "constructor", "link": "https://stackoverflow.com/users/339384/constructor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1429739398, "creation_date": 1429732823, "last_edit_date": 1429735478, "question_id": 29807644, "link": "https://stackoverflow.com/questions/29807644/split-a-python-string-with-nested-separated-symbol", "title": "Split a Python string with nested separated symbol", "body": "<p>I need from string</p>\n\n<pre><code>i = \"1,'Test','items (one, two, etc.)',1,'long, list'\"\n</code></pre>\n\n<p>extract array of next strings:</p>\n\n<pre><code>['1', \"'Test'\", \"'items (one, two, etc.)'\", '1', \"'long, list'\"]\n</code></pre>\n\n<p>with help of regexpress</p>\n\n<pre><code>r=re.split(r',+(?=[^()]*(?:\\(|$))', i)\n</code></pre>\n\n<p>I receive next result only:</p>\n\n<pre><code>['1', \"'Test'\", \"'items (one, two, etc.)'\", '1', \"'long\", \" list'\"]\n</code></pre>\n\n<p><strong>UPD1</strong></p>\n\n<p><strong>NULL</strong> should be supported</p>\n\n<pre><code>i = \"1,'Test',NULL,'items (one, two, etc.)',1,'long, list'\"\n['1', \"'Test'\", 'NULL', \"'items (one, two, etc.)'\", '1', \"'long, list'\"]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 4, "creation_date": 1429732939, "post_id": 29807633, "comment_id": 47743440, "body": "This isn&#39;t your problem, but <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">you shouldn&#39;t build SQL statements with dynamic data in them this way</a>."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 1, "last_activity_date": 1429733057, "creation_date": 1429733057, "answer_id": 29807710, "question_id": 29807633, "link": "https://stackoverflow.com/questions/29807633/python-search-database-using-sql/29807710#29807710", "title": "Python: Search database using SQL", "body": "<p>There isn't enough information in your question to be sure, but this certainly is fishy:</p>\n\n<pre><code>sql_search = 'SELECT * FROM BOOKS WHERE' + ' ' + record[colNum] + ' ' + 'LIKE \"%' + ' ' + self.searchTerm + '%\"'\n</code></pre>\n\n<p>That <code>record[colNum]</code> is the value in a row for your column, not the name of the column. For example, if the column you wanted is <code>Title</code>, you're going to treat every title of every book as if it were a column name. </p>\n\n<p>So, you end up running queries like this:</p>\n\n<pre><code>SELECT * FROM BOOKS WHERE The Meaning of Life: The Script like %Spam%\n</code></pre>\n\n<p>Even if that were valid SQL (quoted properly), <code>The Meaning of Life: The Script</code> is probably not a column in the <code>BOOKS</code> table.</p>\n\n<hr>\n\n<p>Meanwhile, <code>SELECT *</code> returns the columns in an arbitrary order, so using <code>colNum</code> isn't really guaranteed to do anything useful. But, if you really want to do what you're trying to do, I think it's this:</p>\n\n<pre><code>sql = 'SELECT * FROM BOOKS'\ncursor.execute(sql)\ncolName = cursor.description[colNum][0]\nsql_search = 'SELECT * FROM BOOKS WHERE ' + colName + ' LIKE \"%' + ' ' + self.searchTerm + '%\"'\n</code></pre>\n\n<p>However, you really shouldn't be wanting to do that\u2026</p>\n"}, {"comments": [{"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1429733931, "post_id": 29807819, "comment_id": 47744027, "body": "Not quoting correctly is often the cause of errors for these queries, but in this case it&#39;s not the cause. The record[colNum] returns a data field and not a column name."}, {"owner": {"reputation": 693, "user_id": 4686928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0623ff426e92a3a600cbbf1fafc5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Gagliardo", "link": "https://stackoverflow.com/users/4686928/joseph-gagliardo"}, "reply_to_user": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1429737045, "post_id": 29807819, "comment_id": 47745883, "body": "I didn&#39;t quote record[colNum] I added the quotes to the LIKE clause. The original code had single quotes around the Python string and double quotes around the SQL string. SQL never uses double quotes to surround string constants, that&#39;s why I reversed it. When you double quote something in SQL it treats it as an identifier for a named object not as a string constant."}, {"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1429737139, "post_id": 29807819, "comment_id": 47745948, "body": "record[colNum] is data, not header."}, {"owner": {"reputation": 693, "user_id": 4686928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0623ff426e92a3a600cbbf1fafc5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Gagliardo", "link": "https://stackoverflow.com/users/4686928/joseph-gagliardo"}, "reply_to_user": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1429737477, "post_id": 29807819, "comment_id": 47746147, "body": "normally in a LIKE clause you have col LIKE &#39;%pattern%&#39; so I don&#39;t understand what you mean by record[colNum] is data? The value that is in record[colNum] should be the name of a field in the SQL table. You get the message  &quot;sqlite3.OperationalError: no such column:&quot; because it cannot find a column named whatever value you have in there. If that is not a column name it makes no sense to do a LIKE operation on it in the first place, so I am not sure what you are trying to compare."}], "tags": [], "owner": {"reputation": 693, "user_id": 4686928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0623ff426e92a3a600cbbf1fafc5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Gagliardo", "link": "https://stackoverflow.com/users/4686928/joseph-gagliardo"}, "is_accepted": false, "score": -1, "last_activity_date": 1429733436, "creation_date": 1429733436, "answer_id": 29807819, "question_id": 29807633, "link": "https://stackoverflow.com/questions/29807633/python-search-database-using-sql/29807819#29807819", "title": "Python: Search database using SQL", "body": "<p>It looks to me like you are just not forming the SQL correctly. Remember that whatever you put after the LIKE clause needs to be quoted. Your SQL needs to look like </p>\n\n<pre><code>SELECT * FROM BOOKS WHERE Title like '%Spam%'\n</code></pre>\n\n<p>So you need another set of single quotes in there so that's why I would use double quotes to surround your Python string:</p>\n\n<pre><code>sql_search = \"SELECT * FROM BOOKS WHERE \" + record[colNum] + \" LIKE '%\" + self.searchTerm + \"%'\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "is_accepted": false, "score": 0, "last_activity_date": 1429733849, "creation_date": 1429733849, "answer_id": 29807948, "question_id": 29807633, "link": "https://stackoverflow.com/questions/29807633/python-search-database-using-sql/29807948#29807948", "title": "Python: Search database using SQL", "body": "<p>You need to get the column name from the fields of the table, or from somewhere else. Your query uses record[colNum] but record contains rows of data. Instead, to get the field names, use something like this:</p>\n\n<pre><code>fields = []\nfor field in cursor.description:\n    fields.append(field[0])\n</code></pre>\n\n<p>When you use <code>rows = cursor.fetchall()</code>, you are only getting data (and not the column headers).</p>\n"}], "owner": {"reputation": 23, "user_id": 4816857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d6a97a2bbbec5e2dbe61b90bdb65b6?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/4816857/a-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4159, "favorite_count": 0, "accepted_answer_id": 29807710, "answer_count": 3, "score": 2, "last_activity_date": 1429733849, "creation_date": 1429732787, "question_id": 29807633, "link": "https://stackoverflow.com/questions/29807633/python-search-database-using-sql", "title": "Python: Search database using SQL", "body": "<p>I am new to programming and working on a homework assignment. I am trying to search a database by comparing a user's search term with any matching values from a selected column. If a user searches \"Smith\" and clicks on the \"Smith\" radio button in my GUI, all the records containing \"Smith\" as its author should appear. I am able to print all the records in the database, but not the records that relate to my search.</p>\n\n<pre><code>db = None\ncolNum = None\n\ndef search_db(self):\n    global db\n    global colNum\n\n    self.searchTerm = self.searchvalue.get()\n    dbname = 'books.db'\n    if os.path.exists(dbname):\n        db = sqlite3.connect(dbname)\n        cursor = db.cursor()\n        sql = 'SELECT * FROM BOOKS'\n        cursor.execute(sql)\n        rows = cursor.fetchall()\n        for record in rows:\n            sql_search = 'SELECT * FROM BOOKS WHERE' + ' ' + record[colNum] + ' ' + 'LIKE \"%' + ' ' + self.searchTerm + '%\"'\n            cursor.execute(sql_search)\n            searched_rows = cursor.fetchall()\n        print(searched_rows)\n</code></pre>\n\n<p>The error I'm receiving is \"sqlite3.OperationalError: no such column:\"</p>\n"}, {"tags": ["python", "qt", "pyqt", "qt4", "pyqt4"], "answers": [{"comments": [{"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1429741197, "post_id": 29807934, "comment_id": 47747939, "body": "Many thanks, I was stuck for hours and literally going nowhere, much appreciated!"}], "tags": [], "owner": {"reputation": 13651, "user_id": 2997574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/692bdd849c43a550cc59734ebfa41dd8?s=128&d=identicon&r=PG", "display_name": "Alvaro Fuentes", "link": "https://stackoverflow.com/users/2997574/alvaro-fuentes"}, "is_accepted": true, "score": 2, "last_activity_date": 1429734258, "last_edit_date": 1429734258, "creation_date": 1429733803, "answer_id": 29807934, "question_id": 29807630, "link": "https://stackoverflow.com/questions/29807630/pyqt-button-click-doesnt-work/29807934#29807934", "title": "PyQT Button click doesn&#39;t work", "body": "<p>You should perform the connection to the <em>clicked</em> signal on the <code>__init__</code> method:</p>\n\n<pre><code>from PyQt4 import QtGui,QtCore\n\nclass Button(QtGui.QPushButton):\n    def __init__(self, parent):\n        super(Button, self).__init__(parent)\n        self.setAcceptDrops(True)\n\n        self.setGeometry(QtCore.QRect(90, 90, 61, 51))\n        self.setText(\"Change Me!\")\n        self.clicked.connect(self.printSomething) #connect here!\n\n    #no need for retranslateUi in your code example\n\n    def printSomething(self):\n        print \"Hello\"\n\nclass MyWindow(QtGui.QWidget):\n    def __init__(self):\n        super(MyWindow,self).__init__()\n        self.btn = Button(self)\n\n        layout = QtGui.QVBoxLayout(self)\n        layout.addWidget(self.btn)\n        self.setLayout(layout)\n\n\napp = QtGui.QApplication([])\nw = MyWindow()\nw.show()\napp.exec_()\n</code></pre>\n\n<p>You can run it and will see the <em>Hello</em> printed on the console every time you click the button.</p>\n\n<p>The <code>retranslateUi</code> method is for i18n. You can check <a href=\"http://doc.qt.io/qt-5/designer-using-a-ui-file.html#reacting-to-language-changes\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3261, "favorite_count": 0, "accepted_answer_id": 29807934, "answer_count": 1, "score": 1, "last_activity_date": 1429802598, "creation_date": 1429732784, "last_edit_date": 1429802598, "question_id": 29807630, "link": "https://stackoverflow.com/questions/29807630/pyqt-button-click-doesnt-work", "title": "PyQT Button click doesn&#39;t work", "body": "<p>So my problem is that instead of manually writing a ton of code for a bunch of buttons, I want to create a class for a <code>QPushButton</code> and then change so many variables upon calling that class to create my individual buttons. </p>\n\n<p>My problem is that my button does not seem to be clickable despite calling the clicked.connect function and having no errors upon running the code. Here are the relevant parts of the button class:</p>\n\n<pre><code>class Button(QtGui.QPushButton):\n    def __init__(self, parent):\n        super(Button, self).__init__(parent)\n        self.setAcceptDrops(True)\n\n        self.setGeometry(QtCore.QRect(90, 90, 61, 51))\n        self.setText(\"Change Me!\")\n\n    def retranslateUi(self, Form):\n        self.clicked.connect(self.printSomething)\n\n    def printSomething(self):\n        print \"Hello\"\n</code></pre>\n\n<p>Here is how I call the button class:</p>\n\n<pre><code>class MyWindow(QtGui.QWidget):\n    def __init__(self):\n        super(MyWindow,self).__init__()\n        self.btn = Button(self)\n\n        layout = QtGui.QVBoxLayout(self)\n        layout.addWidget(self.btn)\n        self.setLayout(layout)\n</code></pre>\n"}, {"tags": ["python", "web", "spynner"], "comments": [{"owner": {"reputation": 660, "user_id": 1817946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/olzVN.png?s=128&g=1", "display_name": "AllBlackt", "link": "https://stackoverflow.com/users/1817946/allblackt"}, "edited": false, "score": 0, "creation_date": 1429733095, "post_id": 29807583, "comment_id": 47743534, "body": "You might have a typo, you wrote hhttp instead of http."}, {"owner": {"reputation": 101, "user_id": 3457394, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3b3afea960e4305040b23ecb5ea09e74?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowmak", "link": "https://stackoverflow.com/users/3457394/shadowmak"}, "reply_to_user": {"reputation": 660, "user_id": 1817946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/olzVN.png?s=128&g=1", "display_name": "AllBlackt", "link": "https://stackoverflow.com/users/1817946/allblackt"}, "edited": false, "score": 0, "creation_date": 1429733283, "post_id": 29807583, "comment_id": 47743667, "body": "Sorry, just missspell :) in my program its ok."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429733633, "post_id": 29807583, "comment_id": 47743883, "body": "You have to accept the licence when downloading from oracle"}, {"owner": {"reputation": 101, "user_id": 3457394, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3b3afea960e4305040b23ecb5ea09e74?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowmak", "link": "https://stackoverflow.com/users/3457394/shadowmak"}, "edited": false, "score": 1, "creation_date": 1429734641, "post_id": 29807583, "comment_id": 47744466, "body": "I know, thats why I have &quot;browser.runjs(&quot;acceptAgreement(window.self, &#39;sjre-8u40-oth-JPR&#39;);&quot;)&quot; in my script. But propably its not working so my whole question is how to accept them and download a file."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429737121, "post_id": 29807583, "comment_id": 47745933, "body": "Yes but I mean you have to sign in"}, {"owner": {"reputation": 101, "user_id": 3457394, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3b3afea960e4305040b23ecb5ea09e74?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowmak", "link": "https://stackoverflow.com/users/3457394/shadowmak"}, "edited": false, "score": 0, "creation_date": 1429738055, "post_id": 29807583, "comment_id": 47746451, "body": "When I am signed in a browser, that doesn&#39;t count?"}], "owner": {"reputation": 101, "user_id": 3457394, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3b3afea960e4305040b23ecb5ea09e74?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowmak", "link": "https://stackoverflow.com/users/3457394/shadowmak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429741205, "creation_date": 1429732648, "last_edit_date": 1429741205, "question_id": 29807583, "link": "https://stackoverflow.com/questions/29807583/automate-acceptance-of-license-terms-in-order-to-download-file", "title": "Automate acceptance of license terms in order to download file", "body": "<p>I need to download a file, but in order to do so, I have to accept license agreement. </p>\n\n<p>For example, from </p>\n\n<p><code>http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html</code>,</p>\n\n<p>I would like to download </p>\n\n<pre><code> Linux x86  146.84 MB     jdk-8u40-linux-i586.rpm\n</code></pre>\n\n<p>I thought about something like:</p>\n\n<pre><code>browser = spynner.Browser()\nurl = \"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase8-2177648.html\"\nbrowser.load(url)\nbrowser.runjs(\"acceptAgreement(window.self, 'sjre-8u40-oth-JPR');\")\nfile = browser.download(\"http://download.oracle.com/otn/java/jdk/8u40-b26/jdk-8u40-linux-i586.rpm\")\nif file == None or file == \"\":\n    print(\"Wrong\")\nelse:\n    data = file.read()\n    with open(\"code3.rpm\", \"wb\") as code:\n        code.write(data)\n</code></pre>\n\n<p>but it always says \"Wrong\" so there is probably nothing in the <code>file</code> variable.</p>\n\n<p>Can someone please give me a hint?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 1, "creation_date": 1429733106, "post_id": 29807551, "comment_id": 47743547, "body": "Give a minimum working example for us to play around with and i&#39;m sure someone will be able to come up with an answer."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 1416125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75081afd76cac5bcea8bd43419e174e?s=128&d=identicon&r=PG", "display_name": "user1416125", "link": "https://stackoverflow.com/users/1416125/user1416125"}, "edited": false, "score": 0, "creation_date": 1429735459, "post_id": 29807999, "comment_id": 47744945, "body": "There is no PathPatch that &#39;patch&#39; list."}], "tags": [], "owner": {"reputation": 22131, "user_id": 205508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4437e31fa0c1333736b30c9543891198?s=128&d=identicon&r=PG", "display_name": "Ofri Raviv", "link": "https://stackoverflow.com/users/205508/ofri-raviv"}, "is_accepted": true, "score": 1, "last_activity_date": 1429734066, "creation_date": 1429734066, "answer_id": 29807999, "question_id": 29807551, "link": "https://stackoverflow.com/questions/29807551/how-to-change-matplotlib-line-color-in-scipy-spatial-delaunay-plot-2d/29807999#29807999", "title": "How to change matplotlib line color in scipy.spatial.delaunay_plot_2d", "body": "<pre><code>from scipy.spatial import Delaunay, delaunay_plot_2d\nx = randn(100,2)\nd = Delaunay(x)\na = delaunay_plot_2d(d)\npatch = [l for l in a.axes[0].get_children() if type(l) is matplotlib.patches.PathPatch][0]\n</code></pre>\n\n<p>Then you can set the color of the patch object:</p>\n\n<pre><code>patch.set_color('black')\n</code></pre>\n\n<p>You may need to use <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.draw\" rel=\"nofollow\">draw</a> to make your update visible.</p>\n"}], "owner": {"reputation": 133, "user_id": 1416125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75081afd76cac5bcea8bd43419e174e?s=128&d=identicon&r=PG", "display_name": "user1416125", "link": "https://stackoverflow.com/users/1416125/user1416125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 29807999, "answer_count": 1, "score": 0, "last_activity_date": 1429737250, "creation_date": 1429732522, "last_edit_date": 1429737250, "question_id": 29807551, "link": "https://stackoverflow.com/questions/29807551/how-to-change-matplotlib-line-color-in-scipy-spatial-delaunay-plot-2d", "title": "How to change matplotlib line color in scipy.spatial.delaunay_plot_2d", "body": "<p>I'm using the delaunay_plot_2d function in scipy.spatial; sparse documentation here:\n<a href=\"http://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.spatial.delaunay_plot_2d.html#scipy.spatial.delaunay_plot_2d\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.spatial.delaunay_plot_2d.html#scipy.spatial.delaunay_plot_2d</a></p>\n\n<p>Does anyone know how to change the line color? The default is red. The delaunay_plot_2d function does not accept keywords. I suspect this is a general matplotlib question (e.g., how to get to line color from a Figure), but I can't find the answer anywhere. Thanks!</p>\n\n<p>Here's a code snippet inspired by @ofri-raviv (though this one makes the lines green):</p>\n\n<pre><code>import numpy as np\nimport matplotlib\nfrom scipy.spatial import Delaunay, delaunay_plot_2d\n\nx = np.random.normal(size=(10,2))\nd = Delaunay(x)\nh = delaunay_plot_2d(d)\n</code></pre>\n\n<p>Again, modifying @ofri-raviv 's code below, this seems to work.</p>\n\n<pre><code>for l in h.axes[0].get_children():\n    if type(l) is Line2D:\n        l.set_color('0.75')\n</code></pre>\n\n<p>That changes <strong>every</strong> line to have color '0.75'. But that's good enough. </p>\n"}, {"tags": ["python", "for-loop", "indexoutofrangeexception"], "comments": [{"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1429732477, "post_id": 29807512, "comment_id": 47743126, "body": "how many items are in your data2?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4821222, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153251332626407/picture?type=large", "display_name": "Brent Dial", "link": "https://stackoverflow.com/users/4821222/brent-dial"}, "edited": false, "score": 0, "creation_date": 1429732818, "post_id": 29807541, "comment_id": 47743361, "body": "Thanks guys!  you are the best!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429732843, "post_id": 29807541, "comment_id": 47743384, "body": "might as well go all out and use a list comp ;)"}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "reply_to_user": {"reputation": 13, "user_id": 4821222, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153251332626407/picture?type=large", "display_name": "Brent Dial", "link": "https://stackoverflow.com/users/4821222/brent-dial"}, "edited": false, "score": 0, "creation_date": 1429732851, "post_id": 29807541, "comment_id": 47743391, "body": "@BrentDial, Glad I could help"}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "reply_to_user": {"reputation": 13, "user_id": 4821222, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153251332626407/picture?type=large", "display_name": "Brent Dial", "link": "https://stackoverflow.com/users/4821222/brent-dial"}, "edited": false, "score": 0, "creation_date": 1429733085, "post_id": 29807541, "comment_id": 47743529, "body": "@BrentDial, If that was helpful, please consider accepting my answer. Thanks"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1429733137, "post_id": 29807541, "comment_id": 47743558, "body": "Or use itertools to avoid building more lists <code>print [i for i,j in izip(islice(data2,None,len(data2)-1),islice(data2, 1,None)) if i != j]</code>"}, {"owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429733222, "post_id": 29807541, "comment_id": 47743623, "body": "@PadraicCunningham, You should post these as answer so you get credit for them. If not, you are more than welcome to improve my answer. Thanks"}], "tags": [], "owner": {"reputation": 27886, "user_id": 3337070, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8974b88c4bd084f5928ad99d4e8033da?s=128&d=identicon&r=PG", "display_name": "sshashank124", "link": "https://stackoverflow.com/users/3337070/sshashank124"}, "is_accepted": true, "score": 3, "last_activity_date": 1429733477, "last_edit_date": 1429733477, "creation_date": 1429732480, "answer_id": 29807541, "question_id": 29807512, "link": "https://stackoverflow.com/questions/29807512/index-error-from-python-loop/29807541#29807541", "title": "Index Error from Python Loop", "body": "<p>Then you should loop in all but the last element of <code>data2</code> as follows:</p>\n\n<pre><code>for row2 in data2[:-1]:\n</code></pre>\n\n<p>A more compact version for your code is:</p>\n\n<pre><code>for i,j in zip(data2[:-1], data2[1:]):\n    if i!=j:\n       data3.append(i)\n</code></pre>\n\n<p>Even more compact:</p>\n\n<pre><code>data3 = [i for i,j in zip(data2[:-1], data2[1:]) if i!=j]\n</code></pre>\n\n<p>Or use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.islice\" rel=\"nofollow\">itertools.islice</a> and <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip\" rel=\"nofollow\">izip</a> to avoid creating new lists:</p>\n\n<pre><code>from itertools import islice, izip\n\nprint [i for i, j in izip(islice(data2, None, len(data2) - 2), islice(data2, 1, None)) if i != j]\n</code></pre>\n\n<p>Use <code>zip</code> if using python3.</p>\n"}], "owner": {"reputation": 13, "user_id": 4821222, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153251332626407/picture?type=large", "display_name": "Brent Dial", "link": "https://stackoverflow.com/users/4821222/brent-dial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 29807541, "answer_count": 1, "score": 1, "last_activity_date": 1429733477, "creation_date": 1429732380, "last_edit_date": 1429732505, "question_id": 29807512, "link": "https://stackoverflow.com/questions/29807512/index-error-from-python-loop", "title": "Index Error from Python Loop", "body": "<p>For some reason I keep getting index out of range error for the following code!  All I want to do is compare the next data item to current one to check redundancy.</p>\n\n<pre><code>count =  0\nfor row2 in data2:\n    count = count +1\n    if data2[count][0]!=row2[0]:\n       data3.append(row2)\n</code></pre>\n"}, {"tags": ["python", "numpy", "sympy", "numexpr"], "comments": [{"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1429737093, "post_id": 29807509, "comment_id": 47745911, "body": "I&#39;m not sure if <code>lambdify()</code> works with <code>numexpr</code>. E.g, <code>numexpr.sqrt()</code> does not exist."}, {"owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "reply_to_user": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1429741186, "post_id": 29807509, "comment_id": 47747935, "body": "See my edit. It works with the string &#39;numexpr&#39;, but not the module object itself."}, {"owner": {"reputation": 1996, "user_id": 3357105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c368973a174d114614a9debc188dad1?s=128&d=identicon&r=PG&f=1", "display_name": "ptb", "link": "https://stackoverflow.com/users/3357105/ptb"}, "edited": false, "score": 2, "creation_date": 1429806678, "post_id": 29807509, "comment_id": 47785100, "body": "filed an issue: <a href=\"https://github.com/sympy/sympy/issues/9334\" rel=\"nofollow noreferrer\">github.com/sympy/sympy/issues/9334</a>"}, {"owner": {"reputation": 1996, "user_id": 3357105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c368973a174d114614a9debc188dad1?s=128&d=identicon&r=PG&f=1", "display_name": "ptb", "link": "https://stackoverflow.com/users/3357105/ptb"}, "edited": false, "score": 2, "creation_date": 1429810172, "post_id": 29807509, "comment_id": 47787404, "body": "And the fix: <a href=\"https://github.com/sympy/sympy/pull/9335\" rel=\"nofollow noreferrer\">github.com/sympy/sympy/pull/9335</a>"}], "owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 3, "answer_count": 0, "score": 3, "last_activity_date": 1429733913, "creation_date": 1429732363, "last_edit_date": 1429733913, "question_id": 29807509, "link": "https://stackoverflow.com/questions/29807509/sympy-lambdify-with-numexpr-and-sqrt", "title": "sympy lambdify with numexpr and sqrt", "body": "<p>I'm trying to speed up some numeric code generated by <code>lambdify</code> using <code>numexpr</code>. Unfortunately, the <code>numexpr</code>-based function breaks when using the <code>sqrt</code> function, even though it's one of the <a href=\"https://github.com/pydata/numexpr#supported-functions\" rel=\"nofollow\">supported functions</a>.</p>\n\n<p>This reproduces the issue for me:</p>\n\n<pre><code>import sympy\nimport numpy as np\nimport numexpr\n\nfrom sympy.utilities.lambdify import lambdify\n\nexpr = sympy.S('b*sqrt(a) - a**2')\na, b = sorted(expr.free_symbols, key=lambda s: s.name)\n\nfunc_numpy = lambdify((a,b), expr, modules=[np], dummify=False)\nfunc_numexpr = lambdify((a,b), expr, modules=[numexpr], dummify=False)\n\nfoo, bar = np.random.random((2, 4))\n\nprint sympy.__version__\nprint func_numpy(foo, bar)\nprint func_numexpr(foo, bar)\n</code></pre>\n\n<p>When I run this, the output is:</p>\n\n<pre><code>0.7.6\n[-0.02062061  0.08648306 -0.57868128  0.27598245]\nTraceback (most recent call last):\n  File \"sympy_test.py\", line 17, in &lt;module&gt;\n    print func_numexpr(foo, bar)\n  File \"&lt;string&gt;\", line 1, in &lt;lambda&gt;\nNameError: global name 'sqrt' is not defined\n</code></pre>\n\n<p>As a sanity check, I also tried calling <code>numexpr</code> directly:</p>\n\n<pre><code>numexpr.evaluate('b*sqrt(a) - a**2', local_dict=dict(a=foo, b=bar))\n</code></pre>\n\n<p>which works as expected, producing the same result as <code>func_numpy</code>.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: It works when I use the line:</p>\n\n<pre><code>func_numexpr = lambdify((a,b), expr, modules=['numexpr'], dummify=False)\n</code></pre>\n\n<p>Is this a sympy bug?</p>\n"}, {"tags": ["python", "audio", "mp3", "pyglet"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429733059, "post_id": 29807565, "comment_id": 47743515, "body": "I wrote it down as such and it gave me a syntax error? setx path &quot;%path%;C:\\Windows\\System32\\avbin64.dll&quot;"}, {"owner": {"reputation": 3589, "user_id": 513919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GXd6t.jpg?s=128&g=1", "display_name": "Victor Ribeiro da Silva Eloy", "link": "https://stackoverflow.com/users/513919/victor-ribeiro-da-silva-eloy"}, "reply_to_user": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429733336, "post_id": 29807565, "comment_id": 47743708, "body": "try to follow these steps <a href=\"http://www.howtogeek.com/118594/how-to-edit-your-system-path-for-easy-command-line-access/\" rel=\"nofollow noreferrer\">howtogeek.com/118594/&hellip;</a>"}, {"owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429733928, "post_id": 29807565, "comment_id": 47744025, "body": "Ok i added the file path to the system environment variable, do i need to type something in the cmd?"}, {"owner": {"reputation": 3589, "user_id": 513919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GXd6t.jpg?s=128&g=1", "display_name": "Victor Ribeiro da Silva Eloy", "link": "https://stackoverflow.com/users/513919/victor-ribeiro-da-silva-eloy"}, "reply_to_user": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429734050, "post_id": 29807565, "comment_id": 47744102, "body": "no, just open a new cmd and try to call your python script"}, {"owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429734583, "post_id": 29807565, "comment_id": 47744433, "body": "So AVbin can only play mp3s when python is launched via the cmd? also im not sure how to call the script T_T"}, {"owner": {"reputation": 3589, "user_id": 513919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GXd6t.jpg?s=128&g=1", "display_name": "Victor Ribeiro da Silva Eloy", "link": "https://stackoverflow.com/users/513919/victor-ribeiro-da-silva-eloy"}, "reply_to_user": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429735301, "post_id": 29807565, "comment_id": 47744852, "body": "no, you should be able to call it just double clicking the script. What happens when you try thisk approach?"}, {"owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "edited": false, "score": 0, "creation_date": 1429735562, "post_id": 29807565, "comment_id": 47745019, "body": "I moved the script to the desktop and opened it. the cmd appears for a split second and then disappears, no sound is played. im hoping to implement the audio player in with a gui so im not keen on running straight from cmd."}], "tags": [], "owner": {"reputation": 3589, "user_id": 513919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GXd6t.jpg?s=128&g=1", "display_name": "Victor Ribeiro da Silva Eloy", "link": "https://stackoverflow.com/users/513919/victor-ribeiro-da-silva-eloy"}, "is_accepted": true, "score": 0, "last_activity_date": 1429732583, "creation_date": 1429732583, "answer_id": 29807565, "question_id": 29807497, "link": "https://stackoverflow.com/questions/29807497/trouble-playing-an-mp3-file-in-python-via-pyglet/29807565#29807565", "title": "Trouble playing an MP3 file in python via Pyglet", "body": "<p>Add AvBin to your PATH enviroment variable:</p>\n\n<p>you can do this with the folowwing command</p>\n\n<pre><code>setx path \"%path%;c:\\pathToAvBin\"\n</code></pre>\n\n<p>plase note that you need to change \"c:\\pathToAvBin\" for your real path to av bin :)</p>\n\n<p><strong>BE CAREFULL TO NOT CLEAR YOUR PATH</strong></p>\n"}], "owner": {"reputation": 151, "user_id": 4700611, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10204071630011433/picture?type=large", "display_name": "Doug Barta", "link": "https://stackoverflow.com/users/4700611/doug-barta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1797, "favorite_count": 0, "accepted_answer_id": 29807565, "answer_count": 1, "score": 1, "last_activity_date": 1429732583, "creation_date": 1429732319, "question_id": 29807497, "link": "https://stackoverflow.com/questions/29807497/trouble-playing-an-mp3-file-in-python-via-pyglet", "title": "Trouble playing an MP3 file in python via Pyglet", "body": "<p>Summary: (Trying to play MP3 in python via pyglet library, AVbin not detected, Mp3 not played) </p>\n\n<p>So i'm trying to to play an MP3 file in python with pyglet. i installed pyglet with the command prompt and all that good stuff, and I went to the AVbin website and downloaded and ran their .exe file. Im not sure if just running the .exe file actually installs AVbin, but that's all ive done with it so far. So my problem is im trying to play an mp3 that i have located on my desktop, but Pyglet still doesnt recognize AVbin? Here's the code as well as the error message: </p>\n\n<p>Code: </p>\n\n<pre><code>import pyglet\n\nmusic = pyglet.media.load(r\"C:\\Users\\Doug\\Desktop\\01 Gem Shards - 4A.mp3\")\nmusic.play()\n\npyglet.app.run()\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Python34/test.py\", line 3, in &lt;module&gt;\n    music = pyglet.media.load(r\"C:\\Users\\Doug\\Desktop\\01 Gem Shards - 4A.mp3\")\n  File \"C:\\Python34\\lib\\site-packages\\pyglet-1.2.3a1-py3.4.egg\\pyglet\\media\\__init__.py\", line 1429, in load\n    source = get_source_loader().load(filename, file)\n  File \"C:\\Python34\\lib\\site-packages\\pyglet-1.2.3a1-py3.4.egg\\pyglet\\media\\__init__.py\", line 1410, in load\n    return riff.WaveSource(filename, file)\n  File \"C:\\Python34\\lib\\site-packages\\pyglet-1.2.3a1-py3.4.egg\\pyglet\\media\\riff.py\", line 201, in __init__\n    'AVbin is required to decode compressed media')\npyglet.media.riff.WAVEFormatException: AVbin is required to decode compressed media\n</code></pre>\n"}, {"tags": ["python", "django", "forms", "registration"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 1976614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c393e9ddd19c14ee3d964808a71dc17?s=128&d=identicon&r=PG", "display_name": "mfdev", "link": "https://stackoverflow.com/users/1976614/mfdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1429732868, "creation_date": 1429732868, "answer_id": 29807655, "question_id": 29807436, "link": "https://stackoverflow.com/questions/29807436/django-user-creation-form-required-keyerror/29807655#29807655", "title": "django user creation form required keyerror", "body": "<p>It looks like that you have changed the original error messages for the 'username' field (you are not adding, but overriding):</p>\n\n<pre><code>#add custom errormessages\nself.fields['username'].error_messages = {\n    'invalid': 'Invalid username'\n}\n</code></pre>\n\n<p>So when you leave the username empty, it failed to find the key 'required'.</p>\n"}, {"comments": [{"owner": {"reputation": 1690, "user_id": 2088173, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fDcbK.jpg?s=128&g=1", "display_name": "Hans de Jong", "link": "https://stackoverflow.com/users/2088173/hans-de-jong"}, "edited": false, "score": 0, "creation_date": 1429734714, "post_id": 29807882, "comment_id": 47744515, "body": "This indeed removed the key error. Didn&#39;t realize that i replaced the all the error messages. Thanks"}], "tags": [], "owner": {"reputation": 116, "user_id": 4821300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399b191c28728bb546b866b4f4615fb9?s=128&d=identicon&r=PG&f=1", "display_name": "kleinsbeer", "link": "https://stackoverflow.com/users/4821300/kleinsbeer"}, "is_accepted": true, "score": 3, "last_activity_date": 1429733657, "creation_date": 1429733657, "answer_id": 29807882, "question_id": 29807436, "link": "https://stackoverflow.com/questions/29807436/django-user-creation-form-required-keyerror/29807882#29807882", "title": "django user creation form required keyerror", "body": "<p>You are replacing all of the 'username' field error_messages dict with your own dict. Instead, you should update the error_messages dict with your custom message like so:</p>\n\n<pre><code>self.fields['username'].error_messages.update({\n    'invalid': 'Invalid username'\n})\n</code></pre>\n"}], "owner": {"reputation": 1690, "user_id": 2088173, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fDcbK.jpg?s=128&g=1", "display_name": "Hans de Jong", "link": "https://stackoverflow.com/users/2088173/hans-de-jong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 29807882, "answer_count": 2, "score": 2, "last_activity_date": 1429733657, "creation_date": 1429732119, "last_edit_date": 1429732322, "question_id": 29807436, "link": "https://stackoverflow.com/questions/29807436/django-user-creation-form-required-keyerror", "title": "django user creation form required keyerror", "body": "<p>I made a custom registration form, that inherits from the <code>UserCreationForm</code>. However, when you try to submit, with one of the fields empty, i get a <code>KeyError</code> on required.\nThis seems to happen somewhere in the django source code, however I'm pretty sure it comes because of my custom clean method.</p>\n\n<p>Form:</p>\n\n<pre><code>class RegistrationForm(UserCreationForm):\n    \"\"\"\n    edit the User Registration form to add an emailfield\n    \"\"\"\n\n    class Meta:\n        model = User\n        fields = ('username', 'password1', 'password2')\n\n    def __init__(self, *args, **kwargs):\n        super(RegistrationForm, self).__init__(*args, **kwargs)\n        #add custom errormessages\n        self.fields['username'].error_messages = {\n        'invalid': 'Invalid username'\n        }\n        self.fields['password2'].label = \"Confirm Password\"\n\n    #make sure username is lowered and unique\n    def clean_username(self):\n        username = self.cleaned_data.get('username')\n        try:\n            User.objects.get(username__iexact=username)\n            raise forms.ValidationError(\"This username is already in use.\")\n        except User.DoesNotExist:\n            pass\n\n        return username\n\n    def save(self, commit=True):\n        user = super(RegistrationForm, self).save(commit=False)\n        if commit:\n            user.save()\n        return user\n</code></pre>\n\n<p>The errorlog <a href=\"http://pastebin.com/8Y6Tp7Rw\" rel=\"nofollow\">http://pastebin.com/8Y6Tp7Rw</a></p>\n\n<p><em>Note: I am using django 1.8</em></p>\n"}, {"tags": ["python", "windows", "process", "wmi", "remote-access"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1429734382, "post_id": 29807381, "comment_id": 47744303, "body": "<code>Win32_Process</code> has a <a href=\"https://msdn.microsoft.com/en-us/library/aa393907\" rel=\"nofollow noreferrer\"><code>Terminate</code></a> method."}], "answers": [{"tags": [], "owner": {"reputation": 763, "user_id": 1333797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7a136e4e9909442a0afb1f59d8e49ab?s=128&d=identicon&r=PG", "display_name": "Matthew Lueder", "link": "https://stackoverflow.com/users/1333797/matthew-lueder"}, "is_accepted": false, "score": 0, "last_activity_date": 1429732749, "creation_date": 1429732749, "answer_id": 29807619, "question_id": 29807381, "link": "https://stackoverflow.com/questions/29807381/possible-to-kill-processes-using-wmi-python/29807619#29807619", "title": "Possible to Kill Processes using WMI Python", "body": "<p>I'm not sure about using the WMI module but you can use <a href=\"https://technet.microsoft.com/en-us/sysinternals/bb896683\" rel=\"nofollow\">PsKill</a> to exit processes on a remote machine</p>\n"}, {"tags": [], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "is_accepted": true, "score": 1, "last_activity_date": 1429737529, "creation_date": 1429737529, "answer_id": 29809058, "question_id": 29807381, "link": "https://stackoverflow.com/questions/29807381/possible-to-kill-processes-using-wmi-python/29809058#29809058", "title": "Possible to Kill Processes using WMI Python", "body": "<p>I figured out the answer in case anybody else runs into a similar issue; You actually dont even need <code>WMI</code> and can be run directly from command prompt:</p>\n\n<p>if you are in the same network you can issue a command via command prompt with the following format:</p>\n\n<p><code>taskkill /s [Computer name or IP] /u [USER or DOMAIN\\USER] /p Password /pid [The process to kill i.e. notepad.exe]</code><br>\nThis will take a few moments but will eventuall kill the process that is running.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2417279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a3e37a86515999295a5a2d4628cc7d?s=128&d=identicon&r=PG", "display_name": "user2417279", "link": "https://stackoverflow.com/users/2417279/user2417279"}, "is_accepted": false, "score": 0, "last_activity_date": 1527653400, "creation_date": 1527653400, "answer_id": 50596270, "question_id": 29807381, "link": "https://stackoverflow.com/questions/29807381/possible-to-kill-processes-using-wmi-python/50596270#50596270", "title": "Possible to Kill Processes using WMI Python", "body": "<p>You can use below WMI python library to terminate process</p>\n\n<pre><code>def terminate_process_id(self,process_id):\n    for process in self.connection.Win32_Process (ProcessId=process_id):\n        print(process.ProcessId, process.Name)\n\n    try:\n        process.Terminate()\n        print(\"Process terminated successfully: %d\" % process.ProcessId)\n    except:\n        print(\"There is no process running with id: %d\" % process_id)\n</code></pre>\n"}], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 0, "accepted_answer_id": 29809058, "answer_count": 3, "score": 2, "last_activity_date": 1527653400, "creation_date": 1429731916, "question_id": 29807381, "link": "https://stackoverflow.com/questions/29807381/possible-to-kill-processes-using-wmi-python", "title": "Possible to Kill Processes using WMI Python", "body": "<p>I know it is possible to create a process on a remote windows machine using the <code>WMI</code> module but I wish to know if the same can be said for ending a process. I havent been able to find a thread or any documentation for this so please if you can help me It would be greatly appreciated.</p>\n"}, {"tags": ["python", "curl", "python-requests"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429731761, "post_id": 29807249, "comment_id": 47742706, "body": "It&#39;s not &quot;bad&quot; to run <code>len</code>. It&#39;s <i>possible</i> that it&#39;s relevant\u2014maybe <code>curl</code> stops reading data once it sees that you don&#39;t want the output, while <code>requests</code> can&#39;t do that because <code>len(response.text)</code> needs the output. But I don&#39;t think <code>curl</code> actually does that, so\u2026"}, {"owner": {"reputation": 39460, "user_id": 13009, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cc09155d4a43cc770bf1e77fd87867a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/13009/greg"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429731933, "post_id": 29807249, "comment_id": 47742802, "body": "Yeah, the requests.get step is instant, so I guess it doesn&#39;t download the data until you try to access it?  I&#39;m wondering is asking for response.text is causing it to some processing on the data.  I&#39;m not sure why it&#39;s only certain URL&#39;s though."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429732157, "post_id": 29807249, "comment_id": 47742940, "body": "Right; <code>requests.get</code> basically reads only one packet of data (unless it needs more just for the header part of the response); accessing <code>text</code> downloads everything. But the only processing it&#39;s doing, other than the download, is decoding from bytes to unicode, which should take a tiny fraction of a second."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1429732228, "post_id": 29807249, "comment_id": 47742978, "body": "If you want to rule out response processing, you can access <a href=\"http://docs.python-requests.org/en/latest/user/quickstart/#binary-response-content\" rel=\"nofollow noreferrer\"><code>response.content</code></a> instead, which downloads the raw bytes but doesn&#39;t process them. But, again, I doubt that&#39;s the issue."}, {"owner": {"reputation": 39460, "user_id": 13009, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cc09155d4a43cc770bf1e77fd87867a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/13009/greg"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429732341, "post_id": 29807249, "comment_id": 47743040, "body": "That was absolutely the issue. Thanks!  Changing to len(response.content) completely fixed it.  I guess only certain data triggered the slowness, maybe related to content."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429732529, "post_id": 29807514, "comment_id": 47743163, "body": "Is the response not actually text? In that case, especially if you&#39;re on Python 2.6 or 3.0, but maybe also with 2.7 and 3.1+, I could imagine the decoding taking a long time. The old version of the code had to call a function for every single character that failed to decode, and there was no way to short-circuit it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429732613, "post_id": 29807514, "comment_id": 47743218, "body": "Anyway, <code>r.text</code> is basically just <code>r.content.decode(r.encoding)</code>, which isn&#39;t &quot;a lot of extra stuff&quot;, it&#39;s just one extra thing. Everything else (gzip decoding, etc.) already happens in <code>content</code>."}, {"owner": {"reputation": 39460, "user_id": 13009, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cc09155d4a43cc770bf1e77fd87867a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/13009/greg"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1429791610, "post_id": 29807514, "comment_id": 47772661, "body": "It&#39;s not text, it&#39;s binary data.  It&#39;s looking like that was the issue."}], "tags": [], "owner": {"reputation": 39460, "user_id": 13009, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cc09155d4a43cc770bf1e77fd87867a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/13009/greg"}, "is_accepted": true, "score": 0, "last_activity_date": 1429732387, "creation_date": 1429732387, "answer_id": 29807514, "question_id": 29807249, "link": "https://stackoverflow.com/questions/29807249/python-requests-library-strange-behavior-vs-curl/29807514#29807514", "title": "Python requests library - Strange behavior vs curl", "body": "<p>Ok, changing to response.content fixed it.  response.text does a lot of extra stuff you don't need for binary data.</p>\n\n<pre><code>response = requests.get('http://localhost:81/proxy/bparc/my_key')\nprint len(response.content)\n</code></pre>\n"}], "owner": {"reputation": 39460, "user_id": 13009, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cc09155d4a43cc770bf1e77fd87867a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/13009/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 29807514, "answer_count": 1, "score": 0, "last_activity_date": 1429732387, "creation_date": 1429731471, "question_id": 29807249, "link": "https://stackoverflow.com/questions/29807249/python-requests-library-strange-behavior-vs-curl", "title": "Python requests library - Strange behavior vs curl", "body": "<p>I was comparing these two code snippets:</p>\n\n<pre><code>subprocess.call('curl -XGET http://localhost:81/proxy/bparc/my_key &gt; /dev/null' ,shell=True)\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>response = requests.get('http://localhost:81/proxy/bparc/my_key')\nprint len(response.text)\n</code></pre>\n\n<p>And the first one will always run in under .01 seconds. But the second one will some times take up to 30 seconds, and other times take less than .01 seconds.</p>\n\n<p>Any ideas what could be going on?  Is requests doing something fancy that's slowing things down?  Is it bad to run len?</p>\n"}, {"tags": ["python", "iphone", "django", "swift", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "edited": false, "score": 0, "creation_date": 1429735040, "post_id": 29807908, "comment_id": 47744718, "body": "I would upvote you but I am not allowed yet as I am not important enough yet lol.  Many many thanks."}], "tags": [], "owner": {"reputation": 4614, "user_id": 1644198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5324ceb4187d1608a61968c3e76707?s=128&d=identicon&r=PG", "display_name": "aumo", "link": "https://stackoverflow.com/users/1644198/aumo"}, "is_accepted": true, "score": 1, "last_activity_date": 1429733744, "creation_date": 1429733744, "answer_id": 29807908, "question_id": 29807246, "link": "https://stackoverflow.com/questions/29807246/how-can-i-get-django-to-stop-returning-response-code-403-to-iphone-app/29807908#29807908", "title": "How can i get django to stop returning &quot;Response code: 403&quot; to iPhone App", "body": "<p>Sounds like a <a href=\"https://docs.djangoproject.com/en/1.8/ref/csrf/\" rel=\"nofollow\">CSRF protection</a> related problem. </p>\n\n<p>Try decorating the views accessed by the iPhone App with <a href=\"https://docs.djangoproject.com/en/1.8/ref/csrf/#django.views.decorators.csrf.csrf_exempt\" rel=\"nofollow\">csrf_exempt</a>.</p>\n"}], "owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 29807908, "answer_count": 1, "score": -1, "last_activity_date": 1429733744, "creation_date": 1429731464, "question_id": 29807246, "link": "https://stackoverflow.com/questions/29807246/how-can-i-get-django-to-stop-returning-response-code-403-to-iphone-app", "title": "How can i get django to stop returning &quot;Response code: 403&quot; to iPhone App", "body": "<p>I have the following swift code for my iPhone app:</p>\n\n<pre><code>        var post:NSString = \"username=\\(username)&amp;password=\\(password)\"\n\n        NSLog(\"PostData: %@\",post);\n\n        var url:NSURL = NSURL(string: \"http://localhost:8000/straightred/login/\")!\n\n        var postData:NSData = post.dataUsingEncoding(NSASCIIStringEncoding)!\n\n        var postLength:NSString = String( postData.length )\n\n        var request:NSMutableURLRequest = NSMutableURLRequest(URL: url)\n        request.HTTPMethod = \"POST\"\n        request.HTTPBody = postData\n        request.setValue(postLength, forHTTPHeaderField: \"Content-Length\")\n        request.setValue(\"application/x-www-form-urlencoded\", forHTTPHeaderField: \"Content-Type\")\n        request.setValue(\"application/json\", forHTTPHeaderField: \"Accept\")\n\n\n        var reponseError: NSError?\n        var response: NSURLResponse?\n\n        var urlData: NSData? = NSURLConnection.sendSynchronousRequest(request, returningResponse:&amp;response, error:&amp;reponseError)\n\n\n        let res = response as NSHTTPURLResponse!;\n\n        NSLog(\"Response code: %ld\", res.statusCode);\n</code></pre>\n\n<p>The code above gives me the following result in the xcode output window:</p>\n\n<p>2015-04-22 20:30:03.768 SwiftLoginScreen[2290:70315] PostData: username=test&amp;password=password</p>\n\n<p>2015-04-22 20:30:03.821 SwiftLoginScreen[2290:70315] Response code: 403</p>\n\n<p>Below is the django views.py part (although in all honesty it seems it will not matter what is put here as the error 403 is returned before any code is run):</p>\n\n<pre><code>@require_POST\ndef login(request):\n    username = request.POST['username']\n    password = request.POST['password']\n    user = authenticate(username=username, password=password)\n    if user and user.is_active:\n        return HttpResponse(\"{\\\"succes:1\\\" }\",content_type = 'application/json')\n    else:\n        return HttpResponse(\"{\\\"success\\\":0,\\\"error_message\\\":\\\"Invalid Data\\\"}\",content_type = 'application/json')\n</code></pre>\n\n<p>So, in summary, do I need to add something to my iphone app and / or django setup to allow requests from my iPhone app?</p>\n\n<p>Any help would be greatly appreciated, many thanks, Alan.</p>\n"}, {"tags": ["python", "operator-overloading", "built-in"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731582, "post_id": 29807242, "comment_id": 47742580, "body": "What happens if you make TimeStamp inherit from <code>object</code>?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731787, "post_id": 29807242, "comment_id": 47742723, "body": "You also might want to check out <code>functools.total_ordering</code> to prevent you from having to write all the rich comparison methods yourself."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731944, "post_id": 29807242, "comment_id": 47742808, "body": "Final comment -- Rather than raising <code>TypeError</code>, you should return <code>NotImplemented</code> -- There&#39;s no reason to tell other classes that they shouldn&#39;t be able to be compared to a <code>TimeStamp</code> if they know how to do it.  (It also eliminates funky errors like <code>time_stamp &gt; my_class</code> raising TypeError, but <code>my_class &lt;= time_stamp</code> working just fine)"}], "answers": [{"comments": [{"owner": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "edited": false, "score": 2, "creation_date": 1429731980, "post_id": 29807280, "comment_id": 47742832, "body": "So, to clarify: Python in fact does not make the automatic assumption that    (a &gt; b) || (a == b)     is equivalent to (a&gt;=b) ? I was kind of suspecting that, but docs <a href=\"https://docs.python.org/3.1/library/stdtypes.html\" rel=\"nofollow noreferrer\">link</a> says Instances of a class cannot be ordered with respect to other instances of the same class, or other types of object, unless the class defines enough of the methods __lt__(), __le__(), __gt__(), and __ge__() (in general, __lt__() and __eq__() are sufficient, if you want the conventional meanings of the comparison operators). which would mean lt and eq should be enough"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "reply_to_user": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "edited": false, "score": 1, "creation_date": 1429732359, "post_id": 29807280, "comment_id": 47743054, "body": "That is correct; Python does not make that assumption.  See <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__ge__\" rel=\"nofollow noreferrer\">the documentation</a>, which says: &quot;There are no implied relationships among the comparison operators.&quot;  In the documentation you linked to, &quot;can be ordered&quot; means &quot;you can come up with a way to order them&quot;; it doesn&#39;t mean &quot;Python will come up with a way to order them for you&quot;.  If you write <code>&gt;=</code>, <code>__ge__</code> is called.  If you only defined <code>__gt__</code> and <code>__eq__</code>, you <i>can</i> order the objects, but you have to do it explicitly by using <code>&gt;</code> and <code>==</code> separately."}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 2, "last_activity_date": 1429732086, "last_edit_date": 1429732086, "creation_date": 1429731583, "answer_id": 29807280, "question_id": 29807242, "link": "https://stackoverflow.com/questions/29807242/python-operator-on-classes/29807280#29807280", "title": "python &gt;= operator on classes", "body": "<p>The old one worked because it inherited from <code>tuple</code>, and <code>tuple</code> provides <code>__ge__</code>.  Your new version does not inherit from <code>tuple</code>, so it doesn't have a <code>__ge__</code> method.</p>\n\n<p>Even in your old version, your <code>__gt__</code> and <code>__lt__</code> methods were never being called when using <code>&gt;=</code> (as you can verify by putting <code>print</code> inside those methods).  The underlying <code>tuple.__ge__</code> was being called instead.  However, for your case, the effect is the same, so you didn't notice.  That is, given that the \"minutes\" number is always less than 60, comparing <code>(hours, minutes)</code> tuples in the usual way is equivalent to comparing <code>60*hours + minutes</code>.  So I don't think you really need to define the comparison methods at all if you inherit from tuple.</p>\n"}], "owner": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "accepted_answer_id": 29807280, "answer_count": 1, "score": 1, "last_activity_date": 1429732086, "creation_date": 1429731449, "last_edit_date": 1429731923, "question_id": 29807242, "link": "https://stackoverflow.com/questions/29807242/python-operator-on-classes", "title": "python &gt;= operator on classes", "body": "<p>I have a question regarding python '>=' behaviour.</p>\n\n<p>I have an old TimeStamp class, which holds (hour, minute) tuple and offers some methods such as <code>__eq__</code>, <code>__gt__</code>, <code>__lt__</code>.</p>\n\n<p>I am refactoring it to also account for day and second, and to store the data as total seconds. Here I implemented <code>__eq__</code>, <code>__gt__</code>, <code>__lt__</code> as well.</p>\n\n<p>However, further in code I am using >= operator for this class and while the old class version is working properly, with the new one I am getting</p>\n\n<pre><code>TypeError: unorderable types: TimeStamp() &gt;= TimeStamp() error.\n</code></pre>\n\n<p>Code is below:</p>\n\n<pre><code>class TimeStamp(tuple): # OLD, WORKING VERSION\n    \"\"\"TimeStamp, hh:mm tuple supporting comparison and addition\"\"\"\n    __slots__ = ()\n    def __new__(cls, *args):\n        if len(args) == 1:  # tuple entrance\n            hour, minute = args[0]\n        elif len(args) == 2: # hour, minute entrance\n            hour, minute = args[0], args[1]\n        else:\n            raise TypeError('wrong input to TimeStamp')\n        div, minute = divmod(minute, 60)\n        hour += div\n        _, hour = divmod(hour, 24)\n        return tuple.__new__(cls, (hour, minute))\n\n    @property\n    def abs_min(self):\n        return self.hour * 60 + self.minute\n\n    def __gt__(self, rhs):\n        return self.abs_min &gt; rhs.abs_min\n\n    def __lt__(self, rhs):\n        return self.abs_min &lt; rhs.abs_min\n\n    def __eq__(self, rhs):\n        return self.abs_min == rhs.abs_min\n</code></pre>\n\n<p>New version:</p>\n\n<pre><code>class TimeStamp:\n    def __init__(self, *args):\n        for argument in args:\n            if not isinstance(argument, int):\n                raise TypeError(\"Can only build TimeStamp from ints, not: \" + str(argument))\n\n        if len(args) == 1:  # init by abs\n            self.abs = args[0] # put the ELEMENT, not the tuple itself\n        elif len(args) == 2:    # init by hour:minute\n            hour, minute = args\n            self.abs = hour * 60 * 60 + minute * 60\n        elif len(args) == 4:    #init by day:hour:minute:second\n            day, hour, minute, second = args\n            self.abs = day * 24 * 60 * 60 + hour * 60 * 60 + minute * 60 + second\n        else:\n            raise TypeError(\"wrong data for TimeStamp: \" + str(args))\n\n    def __eq__(self, other):\n        if isinstance(other, TimeStamp):\n            return self.abs == other.abs\n        else:\n            raise TypeError(\"wrong argument for comparison: \" + str(other))\n\n    def __gt__(self, other):\n        if isinstance(other, TimeStamp):\n            return self.abs &gt; other.abs\n        else:\n            raise TypeError(\"wrong argument for comparison: \" + str(other))\n\n    def __lt__(self, other):\n        if isinstance(other, TimeStamp):\n            return self.abs &lt; other.abs\n        else:\n            raise TypeError(\"wrong argument for comparison: \" + str(other))\n</code></pre>\n\n<p>Now for the comparison part:</p>\n\n<pre><code>if args[1] &gt;= self.start:\n&gt;&gt;TypeError: unorderable types: TimeStamp() &gt;= TimeStamp()\n</code></pre>\n\n<p>I have found two fixes: first, to replace my comparison line with</p>\n\n<pre><code>if args[1] &gt; self.start or args[1] == self.start:\n</code></pre>\n\n<p>or an alternative, to add</p>\n\n<pre><code>def __ge__(self, other):\n    if isinstance(other, TimeStamp):\n        return self.abs &gt;= other.abs\n    else:\n        raise TypeError(\"wrong argument for comparison: \" + str(other))\n</code></pre>\n\n<p>to my new class. However, the old one did work with neither of those fixes. It looks to me as if Python stopped deducting that ((a>b) or (a==b)) implies (a>=b). But why did it work before? Does it have something to do with me subclassing tuple?</p>\n\n<p>PS. don't be scared by my <code>__init__</code> code, which I included for completeness. It's supposed to be overload-like, but I might be doing it in a non-pythonic way (still learning)</p>\n"}, {"tags": ["python", "parsing", "postfix-notation"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1429732261, "post_id": 29807238, "comment_id": 47743002, "body": "Just test whether the operator is in the operator list. If not, then it&#39;s invalid. For &quot;too few operands&quot;, test whether the stack is empty when you need to pop from it. For &quot;too few operators&quot;, test whether there&#39;s something left on the stack when you finish the loop."}, {"owner": {"reputation": 41, "user_id": 4129923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432a886df95dc4b04c0bec6e91007c18?s=128&d=identicon&r=PG&f=1", "display_name": "lindsay", "link": "https://stackoverflow.com/users/4129923/lindsay"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1429752987, "post_id": 29807238, "comment_id": 47751949, "body": "@Barmar is this correct? if token.isdigit(): operandStack.push(int(token)) else: operand2 = operandStack.pop() operand1 = operandStack.pop() result = doMath(token,operand1,operand2) operandStack.push(result) except IndexError: if operandStack == Empty: print(result, &quot;$$$&quot;) print(&quot;Error: Insufficient number of operators.&quot;) if len(operandStack) &gt; 1: print (result, &quot;$$$&quot;) print(&quot;Error: Insufficient number of operators.&quot;) return operandStack.pop("}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4129923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432a886df95dc4b04c0bec6e91007c18?s=128&d=identicon&r=PG&f=1", "display_name": "lindsay", "link": "https://stackoverflow.com/users/4129923/lindsay"}, "edited": false, "score": 0, "creation_date": 1429745741, "post_id": 29807513, "comment_id": 47749631, "body": "&#39;if token.isdigit():             operandStack.push(int(token))         else:             operand2 = operandStack.pop()             operand1 = operandStack.pop()             result = doMath(token,operand1,operand2)             operandStack.push(result)         except IndexError:             if operandStack == Empty:                 print(result, &quot;$$$&quot;)                 print(&quot;Error: Insufficient number of operators.&quot;)             if len(operandStack) &gt; 1:                 print (result, &quot;$$$&quot;)                 print(&quot;Error: Insufficient number of operators.&quot;)     return operandStack.pop()&#39;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 41, "user_id": 4129923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432a886df95dc4b04c0bec6e91007c18?s=128&d=identicon&r=PG&f=1", "display_name": "lindsay", "link": "https://stackoverflow.com/users/4129923/lindsay"}, "edited": false, "score": 1, "creation_date": 1429758560, "post_id": 29807513, "comment_id": 47753598, "body": "@lindsay Don&#39;t try to put code in comments, there&#39;s no formatting so it&#39;s very difficult to read. If you&#39;re having trouble getting it to work, add it as an addition to the question."}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 0, "last_activity_date": 1429732384, "creation_date": 1429732384, "answer_id": 29807513, "question_id": 29807238, "link": "https://stackoverflow.com/questions/29807238/postfix-expression-parser-in-python/29807513#29807513", "title": "Postfix expression parser in Python", "body": "<p>The assignmment tells that </p>\n\n<blockquote>\n  <p>Assume all operators and operands are valid. The operands should be integer values while the valid operators include <code>+</code> <code>-</code> <code>/</code> <code>*</code> <code>%</code></p>\n</blockquote>\n\n<p>Thus one can assume that nothing else is input, and the only errors that happen are too many or not enough operands on the stack, so you would only need to test those.</p>\n\n<hr>\n\n<p>The line</p>\n\n<pre><code>if token in \"0123456789\":\n</code></pre>\n\n<p>only checks if the whole token is a substring of <code>0123456789</code>, a.k.a a single digit, <code>01</code>, <code>4567</code> or so.</p>\n\n<p>What you want to do instead is to check whether the token is all digits: </p>\n\n<pre><code>if token.isdigit():\n    ...\n</code></pre>\n\n<hr>\n\n<p>As for the <em>too few operands</em>, either one of the <code>pop</code>s could throw an exception <code>IndexError</code>; you'd catch it and report an error:</p>\n\n<pre><code>try:\n    operand2 = operandStack.pop()\n    operand1 = operandStack.pop()        \nexcept IndexError:\n    # handle appropriately\n</code></pre>\n\n<p>Similarly too many operands would mean that the <code>operandStack</code> has more than 1 item at the end, so just check the <code>len(operandStack)</code>; if greater than 1 then report \"too many operands\".</p>\n"}], "owner": {"reputation": 41, "user_id": 4129923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432a886df95dc4b04c0bec6e91007c18?s=128&d=identicon&r=PG&f=1", "display_name": "lindsay", "link": "https://stackoverflow.com/users/4129923/lindsay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1548, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429735616, "creation_date": 1429731439, "last_edit_date": 1429735616, "question_id": 29807238, "link": "https://stackoverflow.com/questions/29807238/postfix-expression-parser-in-python", "title": "Postfix expression parser in Python", "body": "<p>I trying to complete my program but a running into a few things that I need help with. I need help trying to:\nmake sure my user input is correct and do an error test. Would i just do something like.....</p>\n\n<pre><code>if token == \"\" or token == \" \"\n</code></pre>\n\n<p>I am not sure how to make sure the user input is correct.</p>\n\n<p>Assignment:</p>\n\n<blockquote>\n  <p>Write a program (postfix.py) that extracts a postfix expression from\n  the user and evaluates it as described in class. Your program should\n  extract the expression from the user via standard input. The\n  expression should be formatted such that there is at least one blank\n  space between each operator and operand. For example,</p>\n  \n  <p>Enter a postfix expression: <code>5 6 * 13 2 * +</code> Assume all operators and operands are valid. The operands should be integer values while\n  the valid operators include <code>+ - / * %</code></p>\n  \n  <p>After extracting the expression, use the <code>split()</code> method on the string\n  to split it into individual tokens that are stored in a Python list.\n  Note that a multi-digit operand (i.e. <code>13</code>) is considered a single\n  token.</p>\n  \n  <p>The postfix expression should be printed to standard output, one token\n  at a time, as it is being evaluated. In addition, if the expression is\n  valid, the result should be printed on the next line following the\n  expression as shown below</p>\n\n<pre><code>5 6 * 13 2 * +\n= 56\n</code></pre>\n  \n  <p>If the expression is invalid, stop evaluating the expression once it\n  is determined there is an error and print 3 dollar signs. then print\n  an error message on the next line to indicate the error. For example,\n  if there are too many operators for the given operands encountered,\n  your program should produce the results shown below</p>\n\n<pre><code>Enter a postfix expression: 17 6 / + 8 *\n17 6 / + $$$\nError: insufficient number of operands.\n</code></pre>\n  \n  <p>When there are too few operators for the given operands, your program\n  should produce the results shown below</p>\n\n<pre><code>Enter a postfix expression: 17 6 / 25 5 +\n17 6 / 25 5 + $$$\nError: insufficient number of operators.\n</code></pre>\n</blockquote>\n\n<p>My Code:</p>\n\n<pre><code>  input(\"Enter a postfix expression: \")\n  operorList(\"*, /, -, +, %\")\n\n  def postfixEval(postfixExpr):\n     operandStack = Stack()\n     tokenList = postfixExpr.split()\n\n     for token in tokenList:\n        if token in \"0123456789\":\n          operandStack.push(int(token))\n     else:\n        operand2 = operandStack.pop()\n        operand1 = operandStack.pop()\n        result = doMath(token,operand1,operand2)\n        operandStack.push(result)\n     return operandStack.pop()\n\n def doMath(op, op1, op2):\n     if op == \"*\":\n      return op1 * op2\n     elif op == \"/\":\n      return op1 / op2\n     elif op == \"+\":\n      return op1 + op2\n     elif op == \"%\":\n      return op1 % op2\n     else:\n      return op1 - op2\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": true, "score": 3, "last_activity_date": 1429732928, "last_edit_date": 1495541183, "creation_date": 1429732928, "answer_id": 29807678, "question_id": 29807201, "link": "https://stackoverflow.com/questions/29807201/update-qwidget-every-minutes/29807678#29807678", "title": "Update QWidget every minutes", "body": "<p>The <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qtimer.html\" rel=\"nofollow noreferrer\">QTimer</a> class has a <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qtimer.html#setInterval\" rel=\"nofollow noreferrer\"><code>setInterval</code></a> method. You can utilize this to change the wait time on the fly. As a short example, this block of code will show the current second. However, if the second is a multiple of 10 it will wait 5 seconds before starting again:</p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui, QtCore\nfrom time import strftime\n\nclass Main(QtGui.QMainWindow):\n    def __init__(self):\n        QtGui.QMainWindow.__init__(self)\n        self.initUI()\n\n    def initUI(self):\n        self.timer = QtCore.QTimer(self)\n        self.timer.timeout.connect(self.Time)\n        self.timer.start(1000)\n        self.lcd = QtGui.QLCDNumber(self)\n        self.lcd.display(strftime(\"%S\"))\n        self.setCentralWidget(self.lcd)\n        self.setGeometry(300,300,250,100)\n\n    def Time(self):\n        if int(strftime(\"%S\")) % 10 == 0:\n            self.timer.setInterval(5000)\n        else:\n            self.timer.setInterval(1000)\n        self.lcd.display(strftime(\"%S\"))\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    main = Main()\n    main.show()\n    sys.exit(app.exec_())\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>(This was modified slightly from a <a href=\"http://thecodeinn.blogspot.com/2013/07/tutorial-pyqt-digital-clock.html\" rel=\"nofollow noreferrer\">tutorial</a> showing how to build a digital clock)</p>\n\n<p>It looks like this for 4 consecutive changes of the display:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8ZGgO.png\" alt=\"Seconds\"></p>\n\n<hr>\n\n<p>For your particular problem, when you start the application, you can find how long it is until the next quarter hour via a function like is presented in this <a href=\"https://stackoverflow.com/a/13071613/189134\">answer</a>: </p>\n\n<pre><code>def next_quarter_hour(self):\n    dt = datetime.datetime.now()\n    nsecs = dt.minute*60+dt.second+dt.microsecond*1e-6  \n    delta = (nsecs//900)*900+900-nsecs\n    return delta * 1000.0\n</code></pre>\n\n<p>This would change the following:</p>\n\n<pre><code>def initUI(self):\n    ...\n    self.timer.start(next_qt_hour)\n    ...\n\ndef Time(self):\n    if int(strftime(\"%M\")) % 15 == 0:\n        self.timer.setInterval(900000)\n    self.lcd.display(strftime(\"%M\"))\n</code></pre>\n\n<p>Use this to set your first interval. Then once that timer has been exhausted, reset your interval to 15 minutes. </p>\n"}], "owner": {"reputation": 235, "user_id": 4281851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/600e24cb6868d2a7d5906b9611f99f20?s=128&d=identicon&r=PG&f=1", "display_name": "Driedan", "link": "https://stackoverflow.com/users/4281851/driedan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2021, "favorite_count": 0, "accepted_answer_id": 29807678, "answer_count": 1, "score": 1, "last_activity_date": 1429732928, "creation_date": 1429731275, "question_id": 29807201, "link": "https://stackoverflow.com/questions/29807201/update-qwidget-every-minutes", "title": "Update QWidget every minutes", "body": "<p>Is their a way possible to update a Qwidget in PyQT4 every  15 minutes ? I know their is something like a Qtimer but is it also possible to make a QWidget update itself at a specific time,for example 00h00 00h15 00h30 00h45 01h00,... . So is their a way to make the Qtimer depend on the time? </p>\n"}, {"tags": ["python", "elasticsearch", "elasticsearch-dsl"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4663607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9a71daab7d989f4954ed634aeca6d8?s=128&d=identicon&r=PG&f=1", "display_name": "kandito", "link": "https://stackoverflow.com/users/4663607/kandito"}, "reply_to_user": {"reputation": 173079, "user_id": 893780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j1db.jpg?s=128&g=1", "display_name": "robertklep", "link": "https://stackoverflow.com/users/893780/robertklep"}, "edited": false, "score": 0, "creation_date": 1430120237, "post_id": 29807730, "comment_id": 47903123, "body": "@robertklep yes, that won&#39;t work with aggregations, do you have answer? thanks."}, {"owner": {"reputation": 173079, "user_id": 893780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j1db.jpg?s=128&g=1", "display_name": "robertklep", "link": "https://stackoverflow.com/users/893780/robertklep"}, "reply_to_user": {"reputation": 19, "user_id": 4663607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9a71daab7d989f4954ed634aeca6d8?s=128&d=identicon&r=PG&f=1", "display_name": "kandito", "link": "https://stackoverflow.com/users/4663607/kandito"}, "edited": false, "score": 0, "creation_date": 1430120938, "post_id": 29807730, "comment_id": 47903516, "body": "@kandito aggregations are memory-hungry. You can read <a href=\"http://www.elastic.co/guide/en/elasticsearch/guide/master/fielddata.html\" rel=\"nofollow noreferrer\">the docs</a> (or <a href=\"http://www.elastic.co/guide/en/elasticsearch/reference/current/fielddata-formats.html\" rel=\"nofollow noreferrer\">here</a>, but that&#39;s pretty low level) to see if you can limit the amount of RAM required, but ultimately, 1G for 2M docs may just be too little."}], "tags": [], "owner": {"reputation": 1197, "user_id": 3734935, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a291f944029dfce911eda465fc47d84b?s=128&d=identicon&r=PG&f=1", "display_name": "cybergoof", "link": "https://stackoverflow.com/users/3734935/cybergoof"}, "is_accepted": false, "score": 0, "last_activity_date": 1429733125, "last_edit_date": 1495539807, "creation_date": 1429733125, "answer_id": 29807730, "question_id": 29807139, "link": "https://stackoverflow.com/questions/29807139/get-word-frequency-in-elasticsearch-with-large-document/29807730#29807730", "title": "Get word frequency in Elasticsearch with large document", "body": "<p>When I ran into this problem I had to go here for the answer: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/8829468/elasticsearch-query-to-return-all-records\">Elasticsearch query to return all records</a></p>\n\n<p>You need to grab the documents in chunks.  Lets say, 2000 at a time.  Then, loop over and make multiple queries.</p>\n"}], "owner": {"reputation": 19, "user_id": 4663607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9a71daab7d989f4954ed634aeca6d8?s=128&d=identicon&r=PG&f=1", "display_name": "kandito", "link": "https://stackoverflow.com/users/4663607/kandito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1429733125, "creation_date": 1429731068, "question_id": 29807139, "link": "https://stackoverflow.com/questions/29807139/get-word-frequency-in-elasticsearch-with-large-document", "title": "Get word frequency in Elasticsearch with large document", "body": "<p>i have been trying to get word frequency in Elasticsearch. I using Elasticsearch Python and Elasticsearch DSL Python Client.</p>\n\n<p>here is my code:</p>\n\n<pre><code>client = Elasticsearch([\"my_ip_machine:port\"])\ns = Search(using=client, index=settings.ES_INDEX) \\\n                .filter(\"term\",content=keyword)\\\n                .filter(\"term\",provider=json_input[\"media\"])\\\n                .filter(\"range\",**{'publish': {\"from\": begin,\"to\": end}})\ns.aggs.bucket(\"group_by_state\",\"terms\",field=\"content\")\nresult = s.execute()\n</code></pre>\n\n<p>i run that code and i get output like this: (i modified the output more concise)</p>\n\n<pre><code>{\n\"word1\": 8,\n\"word2\": 8,\n\"word3\": 6,\n\"word4\": 4,\n}\n</code></pre>\n\n<p>The code run without problem in Elasticsearch with only 2000 document in my laptop. \nBut, got problem when run that code in my Droplet in DO. I have >2.000.000 document in my Elasticsearch and i use Droplet with 1 GB RAM. Every time i run that code, memory usage will increase and Elasticsearch is shutting down.</p>\n\n<p>There is another way (more efficient) to get word frequency in Elasticsearch with large document? Answer in Elasticsearch query is not problem, i will convert to DSL.</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["python", "numpy", "sympy", "numexpr"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731099, "post_id": 29807087, "comment_id": 47742244, "body": "I&#39;m not sure I&#39;m following with the ask here ... But can&#39;t you just wrap the <code>numexpr.evaluate</code> call in a <code>lambda</code> function?"}, {"owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731150, "post_id": 29807087, "comment_id": 47742279, "body": "I suppose I could, but would that incur the cost of re-parsing the expression string at every evaluation?"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1429731209, "post_id": 29807087, "comment_id": 47742329, "body": "Can you <a href=\"http://docs.sympy.org/latest/modules/utilities/lambdify.html\" rel=\"nofollow noreferrer\"><code>lambdify</code></a>?"}, {"owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "edited": false, "score": 0, "creation_date": 1429731354, "post_id": 29807087, "comment_id": 47742413, "body": "Oh, wow, I completely missed <code>lambdify</code>. If you make that an answer, I&#39;ll accept it. Thanks!"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429731377, "post_id": 29807087, "comment_id": 47742433, "body": "numexpr expressions are cached, so reuse is fast:  <a href=\"https://github.com/pydata/numexpr/wiki/Numexpr-Users-Guide#usage-notes\" rel=\"nofollow noreferrer\">github.com/pydata/numexpr/wiki/Numexpr-Users-Guide#usage-not&zwnj;&#8203;es</a>"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1429731468, "post_id": 29807087, "comment_id": 47742489, "body": "Will do, glad it helped."}], "answers": [{"comments": [{"owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "edited": false, "score": 0, "creation_date": 1429733371, "post_id": 29807718, "comment_id": 47743732, "body": "Works great, though you don&#39;t need the parens around <code>expr</code>. Thanks!"}], "tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": true, "score": 2, "last_activity_date": 1429733416, "last_edit_date": 1429733416, "creation_date": 1429733080, "answer_id": 29807718, "question_id": 29807087, "link": "https://stackoverflow.com/questions/29807087/creating-a-callable-with-numexpr/29807718#29807718", "title": "Creating a callable with numexpr", "body": "<p>You can make use of the <a href=\"http://docs.sympy.org/latest/modules/utilities/lambdify.html\" rel=\"nofollow\"><code>lambdify</code></a> module, which allows you to transform SymPy expressions to lambda functions for efficient calculation. This is nice in its ability to return a function with an attached implementation. </p>\n\n<p><code>Lambdify</code>ing your own function could look something like this:</p>\n\n<pre><code>func = lambdify((a,b),expr, dict(sqrt=np.sqrt))\n</code></pre>\n"}], "owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 29807718, "answer_count": 1, "score": 3, "last_activity_date": 1429733416, "creation_date": 1429730902, "question_id": 29807087, "link": "https://stackoverflow.com/questions/29807087/creating-a-callable-with-numexpr", "title": "Creating a callable with numexpr", "body": "<p>I'm doing some symbolic math with sympy, then generating a Python lambda function using <code>eval</code> and sympy's <code>lambdastr</code> utility. Here's a simplified example of what I mean:</p>\n\n<pre><code>import sympy\nimport numpy as np\nfrom sympy.utilities.lambdify import lambdastr\n\n# simple example expression (my use-case is more complex)\nexpr = sympy.S('b*sqrt(a) - a**2')\na, b = sorted(expr.free_symbols, key=lambda s: s.name)\n\nfunc = eval(lambdastr((a,b), expr), dict(sqrt=np.sqrt))\n\n# call func on some numpy arrays\nfoo, bar = np.random.random((2, 4))\nprint func(foo, bar)\n</code></pre>\n\n<p>This works, but I don't like the use of <code>eval</code>, and sympy doesn't necessarily generate computationally-efficient code. Instead, I'd like to use <code>numexpr</code>, which seems perfect for this use-case:</p>\n\n<pre><code>import numexpr\nprint numexpr.evaluate(str(expr), local_dict=dict(a=foo, b=bar))\n</code></pre>\n\n<p>The only problem is that I'd like to generate a callable (like the <code>func</code> lambda), instead of calling <code>numexpr.evaluate</code> every time. Is this possible?</p>\n"}, {"tags": ["python", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429731333, "post_id": 29807140, "comment_id": 47742401, "body": "thank you for the suggestion, but the problem persists."}], "tags": [], "owner": {"reputation": 9267, "user_id": 2284221, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/120d229a55c7a6ce3037e6932c190616?s=128&d=identicon&r=PG", "display_name": "Patrick Collins", "link": "https://stackoverflow.com/users/2284221/patrick-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1429731070, "creation_date": 1429731070, "answer_id": 29807140, "question_id": 29807046, "link": "https://stackoverflow.com/questions/29807046/python-subprocess-shouldnt-run-from-within-the-folder/29807140#29807140", "title": "python subprocess shouldn&#39;t run from within the folder", "body": "<p>Use the full path in <code>cmd</code>:</p>\n\n<pre><code>cmd = \"/home/your-username/python-programs/cnc/candc/bin/canc --models models\n</code></pre>\n\n<p>Whatever that full path might be. You can use (if you're on linux) <code>pwd</code> inside the <code>candc</code> directory to find out what it is.</p>\n"}, {"comments": [{"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429731481, "post_id": 29807208, "comment_id": 47742504, "body": "thank you I didn&#39;t know about the cwd argument. now it works just fine."}, {"owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429733319, "post_id": 29807208, "comment_id": 47743697, "body": "there is a new problem I am facing now... I will have to be able to add other commands on the same terminal process; as when it is running the candc parser, I give it a sentence and it parses the sentence. how can I achieve this goal?"}, {"owner": {"reputation": 4019, "user_id": 286655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c9bf5815875df6482e3fd6c0f237bd6?s=128&d=identicon&r=PG", "display_name": "Artur Gaspar", "link": "https://stackoverflow.com/users/286655/artur-gaspar"}, "reply_to_user": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "edited": false, "score": 0, "creation_date": 1429733793, "post_id": 29807208, "comment_id": 47743961, "body": "@mid Ask another question explaining it better."}], "tags": [], "owner": {"reputation": 4019, "user_id": 286655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c9bf5815875df6482e3fd6c0f237bd6?s=128&d=identicon&r=PG", "display_name": "Artur Gaspar", "link": "https://stackoverflow.com/users/286655/artur-gaspar"}, "is_accepted": true, "score": 0, "last_activity_date": 1429731292, "creation_date": 1429731292, "answer_id": 29807208, "question_id": 29807046, "link": "https://stackoverflow.com/questions/29807046/python-subprocess-shouldnt-run-from-within-the-folder/29807208#29807208", "title": "python subprocess shouldn&#39;t run from within the folder", "body": "<p>Pass the <code>cwd</code> argument with your desired working directory.</p>\n\n<p>For example, if you want to run it as <code>bin/candc</code> from the <code>candc</code> directory:</p>\n\n<pre><code>import os\ncmd=\"bin/candc --models models\"  \nsubprocess.check_output('{} | tee /dev/stderr'.format( cmd ), shell=True, cwd=os.path.abspath('candc'))\n</code></pre>\n\n<p>(I'm not sure whether you actually need os.path.abspath. Do test both with and without it.)</p>\n"}], "owner": {"reputation": 204, "user_id": 3540131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d84b57ec2510258442d5271e07a78e8?s=128&d=identicon&r=PG&f=1", "display_name": "mid", "link": "https://stackoverflow.com/users/3540131/mid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 29807208, "answer_count": 2, "score": 0, "last_activity_date": 1429731292, "creation_date": 1429730710, "last_edit_date": 1429731049, "question_id": 29807046, "link": "https://stackoverflow.com/questions/29807046/python-subprocess-shouldnt-run-from-within-the-folder", "title": "python subprocess shouldn&#39;t run from within the folder", "body": "<p>I am trying to use the <strong>C&amp;C NLP library</strong> in my mac and it uses terminal as its interface. so naturally I'm trying to run the command from my python, but here's what happens:  </p>\n\n<pre><code>candc:could not open model configuration file for reading:models/config  \n</code></pre>\n\n<p>turns out candc should not be called from the same directory, and should be called from outside of the binary folder, something like \"bin/candc\".\nhow can I make this work?</p>\n\n<p>this is my code:  </p>\n\n<pre><code>cmd=\"candc/bin/candc --models models\"  \nsubprocess.check_output('{} | tee /dev/stderr'.format( cmd ), shell=True)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 5, "creation_date": 1429730597, "post_id": 29806957, "comment_id": 47741940, "body": "I hate problems with your for loop... maybe we could help if you would post whatever python you do have ... (an maybe what those problems are)"}, {"owner": {"reputation": 12296, "user_id": 461597, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fa573d21875f5b980a2d81c695c71f3?s=128&d=identicon&r=PG", "display_name": "Unapiedra", "link": "https://stackoverflow.com/users/461597/unapiedra"}, "edited": false, "score": 2, "creation_date": 1429730796, "post_id": 29806957, "comment_id": 47742058, "body": "Are you trying to learn something new, or do you want to get work done. If the latter, please use <code>str.count</code>: <a href=\"http://www.tutorialspoint.com/python/string_count.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/python/string_count.htm</a>"}, {"owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "edited": false, "score": 1, "creation_date": 1429731115, "post_id": 29806957, "comment_id": 47742259, "body": "Incorrect. <code>str.count()</code> includes only non-overlapping occurrences  in contrast to the pseudocode."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1429730761, "post_id": 29807026, "comment_id": 47742038, "body": "ahhh thats what those bars mean :P (+1)"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 3, "creation_date": 1429730826, "post_id": 29807026, "comment_id": 47742077, "body": "Cardinality! I think that notation is actually quite common in pseudocode."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1429730949, "post_id": 29807026, "comment_id": 47742141, "body": "<code>| -3 |</code> however makes me think <code>abs(-3)</code> .... but yeah i forgot about this symbol for magnitude/cardinality."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 3, "last_activity_date": 1429730659, "creation_date": 1429730659, "answer_id": 29807026, "question_id": 29806957, "link": "https://stackoverflow.com/questions/29806957/python-pseudocode-to-code/29807026#29807026", "title": "Python pseudocode to code", "body": "<p>I think this should work:</p>\n\n<pre><code>def pattern_count(text, pattern):\n    count = 0\n    for i in range(len(text)-len(pattern)):\n        if text[i:i+len(pattern)] == pattern:\n            count += 1\n    return count\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1429730948, "post_id": 29807039, "comment_id": 47742139, "body": "Works, of course, but I have a <i>slight</i> feeling this is OP&#39;s homework and they won&#39;t let OP get away with this."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 1, "creation_date": 1429731025, "post_id": 29807039, "comment_id": 47742190, "body": "(actually I have a feeling there are a few edge cases that the pseudo-code  (and by proxy your solution) would return a different count that the teacher might be looking for) (of coarse your solution is not much different (wrt it being hw) since he didnt write that one either)"}, {"owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "edited": false, "score": 1, "creation_date": 1429731027, "post_id": 29807039, "comment_id": 47742192, "body": "Incorrect. <code>str.count()</code> includes only non-overlapping occurrences  in contrast to the pseudocode."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "edited": false, "score": 0, "creation_date": 1429731069, "post_id": 29807039, "comment_id": 47742215, "body": "@ArekBulski that was the difference I was refering too in the comment 3 seconds b4 your comment"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1429731177, "post_id": 29807039, "comment_id": 47742304, "body": "@JoranBeasley True, in that case it matters what the task was. I remember having homework that consisted of turning pseudocode into real code, which this looks like to me."}, {"owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "edited": false, "score": 0, "creation_date": 1429731260, "post_id": 29807039, "comment_id": 47742371, "body": "This answer should not be higher voted than Leviathans since strictly it is not correct."}, {"owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1429731374, "post_id": 29807039, "comment_id": 47742430, "body": "@L3viathan Agreed, might be a homework. It does not mean it is a valid and possibly worthy question, so why are people downvoting it..."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "edited": false, "score": 0, "creation_date": 1429731394, "post_id": 29807039, "comment_id": 47742441, "body": "@ArekBulski In some sense I think my answer is &quot;more correct&quot; than JoranBeasley&#39;s, but I will not remove my upvote, because if it is, OP will keep on reading, and in any case they should know how it should be done in reality."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 1, "creation_date": 1429731556, "post_id": 29807039, "comment_id": 47742561, "body": "(I upvoted your answer @L3viathan... and it will almost certainly be the accepted answer (assuming OP bothers to accept any))"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 4, "last_activity_date": 1429730702, "creation_date": 1429730702, "answer_id": 29807039, "question_id": 29806957, "link": "https://stackoverflow.com/questions/29806957/python-pseudocode-to-code/29807039#29807039", "title": "Python pseudocode to code", "body": "<p>I think this should work:</p>\n\n<pre><code> text.count(pattern)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4821103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad85b72813d500fa1a592687fe63c497?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Wood", "link": "https://stackoverflow.com/users/4821103/matthew-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1429731428, "creation_date": 1429730442, "last_edit_date": 1429731428, "question_id": 29806957, "link": "https://stackoverflow.com/questions/29806957/python-pseudocode-to-code", "title": "Python pseudocode to code", "body": "<p>I am having some problems implementing the code I need to write based on the pseudocode I have.  I would like to code in Python (because I have very limited experience with it), but I have having problems with my \"for\" statement.</p>\n\n<p>My pseudocode is:</p>\n\n<pre><code>PatternCount(Text, Pattern)\n\n    count \u2190 0\n\n    for i \u2190 0 to |Text| \u2212 |Pattern|\n\n        if Text(i, |Pattern|) = Pattern\n\n        count \u2190 count + 1\n\n    return count\n</code></pre>\n\n<p>with an input of strings Text and Pattern\nand I need an output of count(text, pattern)</p>\n"}, {"tags": ["python", "numpy", "pandas", "ram"], "comments": [{"owner": {"reputation": 2353, "user_id": 1044561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cOjPX.jpg?s=128&g=1", "display_name": "gabe", "link": "https://stackoverflow.com/users/1044561/gabe"}, "edited": false, "score": 2, "creation_date": 1429730565, "post_id": 29806936, "comment_id": 47741921, "body": "can you give more information in terms of: number of rows, columns per dataframe. what the types are, per field. what you&#39;re joining on."}, {"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "reply_to_user": {"reputation": 2353, "user_id": 1044561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cOjPX.jpg?s=128&g=1", "display_name": "gabe", "link": "https://stackoverflow.com/users/1044561/gabe"}, "edited": false, "score": 0, "creation_date": 1429730648, "post_id": 29806936, "comment_id": 47741976, "body": "Yes I will edit my question to answer those."}, {"owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "edited": false, "score": 1, "creation_date": 1429731602, "post_id": 29806936, "comment_id": 47742598, "body": "@sfortney it will help if you could add a small, complete, runnable example showing how your code works. Then we will all be on the same page. You can hand-code or randomly generate say three or four small DataFrames and show exactly how you are concatenating them in the form of code. See this recent question for a similar example: <a href=\"http://stackoverflow.com/q/29629821/553404\">stackoverflow.com/q/29629821/553404</a>"}, {"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "edited": false, "score": 0, "creation_date": 1429732229, "post_id": 29806936, "comment_id": 47742980, "body": "I have edited it with code examples. I will also link to a question that has some example output."}, {"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "edited": false, "score": 0, "creation_date": 1429732483, "post_id": 29806936, "comment_id": 47743132, "body": "Here is a link to another question (which I actually asked some time ago) that does exactly what I am talking about. <a href=\"http://stackoverflow.com/questions/28842681/concatenating-multiple-dataframes-with-non-standard-columns-python-pandas-solve\" title=\"concatenating multiple dataframes with non standard columns python pandas solve\">stackoverflow.com/questions/28842681/&hellip;</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 5, "creation_date": 1429732864, "post_id": 29806936, "comment_id": 47743400, "body": "In general, sequentially concatenating subarrays is a slow way to produce a single large array. Concatenating <code>a</code> and <code>b</code> involves allocating a new output array the size of both <code>a</code> and <code>b</code> combined. As your output array gets longer and longer, the cost of allocating each new array gets larger and larger. It&#39;s much better to pre-allocate a single array the size of your whole output array, then fill in the rows as you go along."}, {"owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "edited": false, "score": 2, "creation_date": 1429733638, "post_id": 29806936, "comment_id": 47743887, "body": "Yep - see the similar case of StringBuilder classes <a href=\"http://www.yoda.arachsys.com/csharp/stringbuilder.html\" rel=\"nofollow noreferrer\">yoda.arachsys.com/csharp/stringbuilder.html</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 3, "creation_date": 1429734357, "post_id": 29806936, "comment_id": 47744287, "body": "Another pandas-specific point - you will definitely want to pass <code>copy=False</code> to <code>pd.concat()</code> to avoid generating unnecessary copies"}, {"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1429806910, "post_id": 29806936, "comment_id": 47785271, "body": "@ali_m That actually sounds like the ideal way to approach this problem. Do you have any sample code that does that? I know how I would put the data into the numpy array but I dont know how I would make the columns match up when adding in."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1429827497, "post_id": 29806936, "comment_id": 47797453, "body": "@sfortney Hmm, I&#39;ve never before had to deal with DataFrames large enough for this to become a problem. One thing I would say is that <code>pd.concat</code> might not be that bad as long as you do it for all your subarrays in a single operation. <code>np.concatenate</code> iterates over its inputs, works out how big the output array needs to be, then preallocates it, so in principle a single call to <code>pd.concat</code> ought to be able to take care of the preallocation without you having to do it manually. What&#39;s <i>really</i> bad is looping over your subarrays and concatenating them sequentially to build your array."}], "answers": [{"comments": [{"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "edited": false, "score": 3, "creation_date": 1429807012, "post_id": 29808739, "comment_id": 47785348, "body": "This actually is my current workaround. It seems to work okay but I was wondering if there is an even better way. Thanks!"}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "edited": false, "score": 1, "creation_date": 1484161372, "post_id": 29808739, "comment_id": 70400122, "body": "This cut my run time in half.  Thanks!"}, {"owner": {"reputation": 654, "user_id": 1812073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e1528a0485287e39da9f6c653176515?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/1812073/konrad"}, "edited": false, "score": 0, "creation_date": 1508508545, "post_id": 29808739, "comment_id": 80649240, "body": "This does not work for me at all. When you have a list of data frames and you want to concatenate rows (add rows to the dataframe with the same cols), do you have to do pd.concat(my_list, axis=1)?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 654, "user_id": 1812073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e1528a0485287e39da9f6c653176515?s=128&d=identicon&r=PG", "display_name": "Konrad", "link": "https://stackoverflow.com/users/1812073/konrad"}, "edited": false, "score": 0, "creation_date": 1508511070, "post_id": 29808739, "comment_id": 80650829, "body": "@Konrad <code>axis=0</code> to stack them on top of each other."}, {"owner": {"reputation": 5744, "user_id": 443854, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3be5daadf4bce2f84a26b4098af021c1?s=128&d=identicon&r=PG", "display_name": "user443854", "link": "https://stackoverflow.com/users/443854/user443854"}, "edited": false, "score": 0, "creation_date": 1557874591, "post_id": 29808739, "comment_id": 98909929, "body": "Me too! Appending to a growing DataFrame becomes progressively slower. But when the types are misaligned, e.g. concatenating int64 and float64, it grinds to a halt (about 100x slower). The workaround, like @Alexander, was to concat a list of frames. But I never managed to figure out why the append was slow."}, {"owner": {"reputation": 355, "user_id": 5565000, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0073c6037644a49b0ddff6669b4bf0ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Borodach", "link": "https://stackoverflow.com/users/5565000/eli-borodach"}, "edited": false, "score": 0, "creation_date": 1560155145, "post_id": 29808739, "comment_id": 99629854, "body": "This idea doesn&#39;t work for me. I have almost 6 million rows, which I split into 1,000 rows chunks, according to this: <a href=\"http://deo.im/2016/09/22/Load-data-from-mongodb-to-Pandas-DataFrame/\" rel=\"nofollow noreferrer\">deo.im/2016/09/22/Load-data-from-mongodb-to-Pandas-DataFrame</a>&zwnj;&#8203;. It runs fine, but when I get to the concat point it simply stucks my computer. Any ideas?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 355, "user_id": 5565000, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0073c6037644a49b0ddff6669b4bf0ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Borodach", "link": "https://stackoverflow.com/users/5565000/eli-borodach"}, "edited": false, "score": 0, "creation_date": 1560180315, "post_id": 29808739, "comment_id": 99641777, "body": "@EliBorodach If your data is truly too big for your computer, consider using Dask (<a href=\"https://dask.org/\" rel=\"nofollow noreferrer\">dask.org</a>)."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 16, "last_activity_date": 1429736500, "creation_date": 1429736500, "answer_id": 29808739, "question_id": 29806936, "link": "https://stackoverflow.com/questions/29806936/why-is-pandas-concatenation-pandas-concat-so-memory-inefficient/29808739#29808739", "title": "Why is Pandas Concatenation (pandas.concat) so Memory Inefficient?", "body": "<p>I've had performance issues concatenating a large number of DataFrames to a 'growing' DataFrame.  My workaround was appending all sub DataFrames to a list, and then concatenating the list of DataFrames once processing of the sub DataFrames has been completed.</p>\n"}, {"comments": [{"owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "edited": false, "score": 0, "creation_date": 1429808525, "post_id": 29810937, "comment_id": 47786333, "body": "Actually axis=0 is the correct choice. In the above comments I posted a link that demonstrates the desired output. I also did some tests with both options to make sure and axis=0 is the right choice. Sorry if that wasn&#39;t clear."}, {"owner": {"reputation": 302, "user_id": 3540579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3e053eddd4b6a4fb0ed5f648b5fdb8?s=128&d=identicon&r=PG&f=1", "display_name": "rajeshcis", "link": "https://stackoverflow.com/users/3540579/rajeshcis"}, "edited": false, "score": 0, "creation_date": 1503314391, "post_id": 29810937, "comment_id": 78549079, "body": "for effiecient memory utilization you can use category type for all the dtype objects."}, {"owner": {"reputation": 6178, "user_id": 3307520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/jWlYC.jpg?s=128&g=1", "display_name": "Cyzanfar", "link": "https://stackoverflow.com/users/3307520/cyzanfar"}, "reply_to_user": {"reputation": 302, "user_id": 3540579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3e053eddd4b6a4fb0ed5f648b5fdb8?s=128&d=identicon&r=PG&f=1", "display_name": "rajeshcis", "link": "https://stackoverflow.com/users/3540579/rajeshcis"}, "edited": false, "score": 0, "creation_date": 1581390236, "post_id": 29810937, "comment_id": 106408065, "body": "@rajeshcis not entirely true. If there is less than 50% of them are duplicated I wouldn&#39;t convert them to categorical"}], "tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": false, "score": 3, "last_activity_date": 1429746153, "creation_date": 1429746153, "answer_id": 29810937, "question_id": 29806936, "link": "https://stackoverflow.com/questions/29806936/why-is-pandas-concatenation-pandas-concat-so-memory-inefficient/29810937#29810937", "title": "Why is Pandas Concatenation (pandas.concat) so Memory Inefficient?", "body": "<p>Looks like you are trying to row-wise concat, even though you text indicates that you what column-wise. Specify <code>axis=1</code>.</p>\n\n<p>Other points to consider:</p>\n\n<p><code>copy=False</code> flag will not help at all; this only matters if you are not concatting blocks of the same dtype (which you indicated you are).</p>\n\n<p><code>pd.concat</code> <em>does</em> use <code>np.concatenate</code> under the hood. If you think you can do better, then go for it.</p>\n\n<pre><code>def make_frames(n=100, rows=100, cols=100):\n    return [ pd.DataFrame(np.random.randn(rows,cols),columns=np.random.choice(110,100,replace=False)) for i in xrange(n) ]\n\nIn [28]: l = make_frames(rows=10000)\n\nIn [29]: l[0].head()\nOut[29]: \n        60        75        101       103       87        29        10        106       71        26        30        83        2         28        99        85        88        62        58        18        42        1         105       25        34     ...          102       27        22   \\\n0 -0.854117 -0.007549 -0.510359 -0.993757  0.877635 -0.303199 -1.488548  1.179360  0.578095  0.807792  0.169930 -1.781403  0.204696 -0.515057 -0.954246  1.106073  0.666516 -1.146988  1.335709  0.362838 -0.675379  1.483469  0.670385 -0.483312 -0.703795    ...     1.322645 -1.942183  1.053502   \n1  2.057542  0.860946 -0.037665 -0.347265  0.152562 -0.859537  1.431045  1.306419  0.623013  1.192325  0.909597  1.710507  1.319330 -0.402874  1.749581  1.223489  0.036354  0.140255  0.844330 -0.091447 -0.347245  0.259055  1.187882 -0.216858 -1.421336    ...     1.122068  0.887538  0.205854   \n2 -0.077974  0.947503  0.688666  0.288104 -1.275329 -0.840847 -2.014090 -1.318507 -0.889416 -0.098005  0.055492  0.847597 -1.289428 -0.910093  0.201312 -1.699879  0.103062 -1.041608  0.379171 -1.089937  0.894626 -1.500215 -0.501182  0.042078 -0.840789    ...     0.539192  0.193256  0.196138   \n3  0.291993  1.138577  1.061509  0.856553  1.118931  0.725806 -0.689776  1.337957 -1.009835 -0.976506 -0.392317  0.295876  0.092240  0.418201  0.473585  0.013809 -1.169947  0.424797  0.019051 -0.526189  0.066991 -0.268750  1.277004 -0.736560 -0.314987    ...     0.272045 -0.333272  0.573267   \n4 -2.073985 -0.016950 -1.712770  0.286212 -0.159693 -0.495864  1.286450 -1.168880  1.031456 -3.080568  1.443880 -0.604405  0.406383 -0.162986  1.077255  1.160726  0.943949 -1.517681 -1.049972  1.208850 -0.859617 -0.145358 -0.638898  0.248012 -2.985845    ...    -0.699697  0.051352  0.575304   \n\n        69        76        91        45        14        37        0         81        38        72        107       11        5         73        70        8         90        94        53        3         55        12   \n0 -0.972965 -0.298674  1.283482  2.344092 -0.597735 -0.407978  0.971726 -0.935620  0.236889 -0.957096 -2.366399 -0.943760  0.293325 -0.240385 -0.392554 -0.887556  0.261402 -2.050122 -1.776865 -1.513899 -0.953916  0.630495  \n1 -1.471033  0.269830 -0.744507 -0.982779  0.624527 -1.782704  1.197262 -0.297730  1.122939 -1.039226  0.171351 -0.828985  0.698245  0.563430  0.718177  0.682369  1.415918  0.049931  0.648000  1.785455 -0.190021 -1.329753  \n2 -1.942792  0.560981 -0.353782 -1.637407 -1.495131 -0.593041 -1.617116 -0.910257 -0.506877  0.178378 -0.623986  0.302544  0.279309 -0.266409  0.780306  0.986510 -1.549847  0.063632 -0.480434  1.393221 -1.237682  1.577320  \n3  0.468151 -1.002872 -0.147329 -0.420609  0.183696  0.527632  0.018911 -2.059989  1.642613 -0.428345  1.350693 -1.323321 -0.247263  0.331525 -2.036862 -2.593575  0.362101 -0.184095  0.419231 -0.633878  0.097499 -0.026044  \n4 -0.581330 -0.848421 -0.682027 -1.260004 -0.357354 -0.304743  0.409537 -1.189925 -0.609352 -0.610345 -0.798009  0.219822 -0.681764  1.872736  1.738017  0.439148  1.012881 -0.934613 -1.007427 -0.390359  0.329949  0.486906  \n\n[5 rows x 100 columns]\n</code></pre>\n\n<p>Concat, note using <code>axis=1</code> as this is column-wise concat.</p>\n\n<pre><code>In [31]: df = pd.concat(l,axis=1,ignore_index=True)\n\nIn [32]: df.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nInt64Index: 10000 entries, 0 to 9999\nColumns: 10000 entries, 0 to 9999\ndtypes: float64(10000)\nmemory usage: 763.0 MB\n</code></pre>\n\n<p>Timings</p>\n\n<pre><code>In [33]: %timeit pd.concat(l,axis=1,ignore_index=True)\n1 loops, best of 3: 1.15 s per loop\n\nIn [34]: %memit pd.concat(l,axis=1,ignore_index=True)\npeak memory: 2390.25 MiB, increment: 651.28 MiB\n</code></pre>\n"}], "owner": {"reputation": 1736, "user_id": 3314282, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9ea2bf353f4ca811aaa3d101c507f8ed?s=128&d=identicon&r=PG&f=1", "display_name": "sfortney", "link": "https://stackoverflow.com/users/3314282/sfortney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16427, "favorite_count": 7, "answer_count": 2, "score": 23, "last_activity_date": 1572518327, "creation_date": 1429730364, "last_edit_date": 1429732641, "question_id": 29806936, "link": "https://stackoverflow.com/questions/29806936/why-is-pandas-concatenation-pandas-concat-so-memory-inefficient", "title": "Why is Pandas Concatenation (pandas.concat) so Memory Inefficient?", "body": "<p>I have about 30 GB of data (in a list of about 900 dataframes) that I am attempting to concatenate together. The machine I am working with is a moderately powerful Linux Box with about 256 GB of ram. However, when I try to concatenate my files I quickly run out of available ram. I have tried all sorts of workarounds to fix this (concatenating in smaller batches with for loops, etc.) but I still cannot get these to concatenate. Two questions spring to mind:</p>\n\n<ol>\n<li><p>Has anyone else dealt with this and found an effective workaround? I cannot use a straight append because I need the 'column merging' (for lack of a better word) functionality of the <code>join='outer'</code> argument in <code>pd.concat()</code>.</p></li>\n<li><p>Why is Pandas concatenation (which I know is just calling <code>numpy.concatenate</code>) so inefficient with its use of memory?</p></li>\n</ol>\n\n<p>I should also note that I do not think the problem is an explosion of columns as concatenating 100 of the dataframes together gives about 3000 columns whereas the base dataframe has about 1000. </p>\n\n<h2>Edit:</h2>\n\n<p>The data I am working with is financial data about 1000 columns wide and about 50,000 rows deep for each of my 900 dataframes. The types of data going across left to right are:</p>\n\n<ol>\n<li>date in string format,</li>\n<li><code>string</code></li>\n<li><code>np.float</code></li>\n<li><code>int</code></li>\n</ol>\n\n<p>... and so on repeating. I am concatenating on column name with an outer join which means that any columns in <code>df2</code> that are not in <code>df1</code> will not be discarded but shunted off to the side.  </p>\n\n<hr>\n\n<h2>Example:</h2>\n\n<pre><code> #example code\n data=pd.concat(datalist4, join=\"outer\", axis=0, ignore_index=True)\n #two example dataframes (about 90% of the column names should be in common\n #between the two dataframes, the unnamed columns, etc are not a significant\n #number of the columns)\n\nprint datalist4[0].head()\n                800_1     800_2   800_3  800_4               900_1     900_2  0 2014-08-06 09:00:00  BEST_BID  1117.1    103 2014-08-06 09:00:00  BEST_BID   \n1 2014-08-06 09:00:00  BEST_ASK  1120.0    103 2014-08-06 09:00:00  BEST_ASK   \n2 2014-08-06 09:00:00  BEST_BID  1106.9     11 2014-08-06 09:00:00  BEST_BID   \n3 2014-08-06 09:00:00  BEST_ASK  1125.8     62 2014-08-06 09:00:00  BEST_ASK   \n4 2014-08-06 09:00:00  BEST_BID  1117.1    103 2014-08-06 09:00:00  BEST_BID   \n\n    900_3  900_4              1000_1    1000_2    ...     2400_4  0  1017.2    103 2014-08-06 09:00:00  BEST_BID    ...        NaN   \n1  1020.1    103 2014-08-06 09:00:00  BEST_ASK    ...        NaN   \n2  1004.3     11 2014-08-06 09:00:00  BEST_BID    ...        NaN   \n3  1022.9     11 2014-08-06 09:00:00  BEST_ASK    ...        NaN   \n4  1006.7     10 2014-08-06 09:00:00  BEST_BID    ...        NaN   \n\n                      _1  _2  _3  _4                   _1.1 _2.1 _3.1  _4.1  0  #N/A Invalid Security NaN NaN NaN  #N/A Invalid Security  NaN  NaN   NaN   \n1                    NaN NaN NaN NaN                    NaN  NaN  NaN   NaN   \n2                    NaN NaN NaN NaN                    NaN  NaN  NaN   NaN   \n3                    NaN NaN NaN NaN                    NaN  NaN  NaN   NaN   \n4                    NaN NaN NaN NaN                    NaN  NaN  NaN   NaN   \n\n      dater  \n0  2014.8.6  \n1  2014.8.6  \n2  2014.8.6  \n3  2014.8.6  \n4  2014.8.6  \n\n[5 rows x 777 columns]\n\nprint datalist4[1].head()\n                150_1     150_2   150_3  150_4               200_1     200_2  0 2013-12-04 09:00:00  BEST_BID  1639.6     30 2013-12-04 09:00:00  BEST_ASK   \n1 2013-12-04 09:00:00  BEST_ASK  1641.8    133 2013-12-04 09:00:08  BEST_BID   \n2 2013-12-04 09:00:01  BEST_BID  1639.5     30 2013-12-04 09:00:08  BEST_ASK   \n3 2013-12-04 09:00:05  BEST_BID  1639.4     30 2013-12-04 09:00:08  BEST_ASK   \n4 2013-12-04 09:00:08  BEST_BID  1639.3    133 2013-12-04 09:00:08  BEST_BID   \n\n    200_3  200_4               250_1     250_2    ...                 2500_1  0  1591.9    133 2013-12-04 09:00:00  BEST_BID    ...    2013-12-04 10:29:41   \n1  1589.4     30 2013-12-04 09:00:00  BEST_ASK    ...    2013-12-04 11:59:22   \n2  1591.6    103 2013-12-04 09:00:01  BEST_BID    ...    2013-12-04 11:59:23   \n3  1591.6    133 2013-12-04 09:00:04  BEST_BID    ...    2013-12-04 11:59:26   \n4  1589.4    133 2013-12-04 09:00:07  BEST_BID    ...    2013-12-04 11:59:29   \n\n     2500_2 2500_3 2500_4         Unnamed: 844_1  Unnamed: 844_2  0  BEST_ASK   0.35     50  #N/A Invalid Security             NaN   \n1  BEST_ASK   0.35     11                    NaN             NaN   \n2  BEST_ASK   0.40     11                    NaN             NaN   \n3  BEST_ASK   0.45     11                    NaN             NaN   \n4  BEST_ASK   0.50     21                    NaN             NaN   \n\n  Unnamed: 844_3 Unnamed: 844_4         Unnamed: 848_1      dater  \n0            NaN            NaN  #N/A Invalid Security  2013.12.4  \n1            NaN            NaN                    NaN  2013.12.4  \n2            NaN            NaN                    NaN  2013.12.4  \n3            NaN            NaN                    NaN  2013.12.4  \n4            NaN            NaN                    NaN  2013.12.4  \n\n[5 rows x 850 columns]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1429730152, "post_id": 29806855, "comment_id": 47741649, "body": "python 2 or python 3 ?"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 1, "creation_date": 1429730217, "post_id": 29806855, "comment_id": 47741690, "body": "@anmol_uppal Notice the lack of parentheses. A sure sign of Python 2.x"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1429730274, "post_id": 29806855, "comment_id": 47741719, "body": "Thanks for that :) @DonkeyKong"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1429730340, "post_id": 29806855, "comment_id": 47741772, "body": "<code>originallist = list(raw_input(&quot;Enter message to encode: &quot;))</code> would work perfect in case of Python 2.x"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429730662, "post_id": 29806855, "comment_id": 47741983, "body": "A list of characters? A list of words? A list of lengths of each word?"}, {"owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "edited": false, "score": 0, "creation_date": 1429730886, "post_id": 29806855, "comment_id": 47742110, "body": "<code>originallist = list(raw_input(&quot;Enter message to encode: &quot;))</code> breaks it down into a list of characters.  This probably isn&#39;t what the OP wanted."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429731069, "post_id": 29806855, "comment_id": 47742213, "body": "Each of the answers so far either starts with an assumption or makes multiple guesses. This question needs a more specific description of the task."}, {"owner": {"reputation": 384, "user_id": 4803033, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cXt5wYhFuAc/AAAAAAAAAAI/AAAAAAAAAEE/cZR9o9lxnx0/photo.jpg?sz=128", "display_name": "Josh B.", "link": "https://stackoverflow.com/users/4803033/josh-b"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429731264, "post_id": 29806855, "comment_id": 47742372, "body": "@TigerhawkT3 This question does need more information <code>&#39;Whatever I input&#39;</code> is only mentioned in the error, not any of the code he posted."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429733123, "post_id": 29806855, "comment_id": 47743554, "body": "That part is presumably what was entered at the <code>input()</code> prompt, causing the error. The desired behavior, however, is still undetermined."}], "answers": [{"tags": [], "owner": {"reputation": 3078, "user_id": 841477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123951c133ee402a988c1993c68bfb81?s=128&d=identicon&r=PG", "display_name": "Christophe Biocca", "link": "https://stackoverflow.com/users/841477/christophe-biocca"}, "is_accepted": false, "score": 0, "last_activity_date": 1429730241, "creation_date": 1429730241, "answer_id": 29806906, "question_id": 29806855, "link": "https://stackoverflow.com/questions/29806855/how-can-i-turn-an-inputed-string-into-a-list-in-python/29806906#29806906", "title": "How can I turn an inputed string into a list in python?", "body": "<p>It looks like you're using <code>input</code> in python 2. Try <code>raw_input</code> instead:</p>\n\n<pre><code>original=raw_input(\"Enter message to encode: \")\noriginallist = list(original)\nprint originallist \n# OR try these alternative ways of splitting:\nprint original.split(' ')\nprint original.split(',')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "is_accepted": false, "score": 2, "last_activity_date": 1429736677, "last_edit_date": 1429736677, "creation_date": 1429730248, "answer_id": 29806909, "question_id": 29806855, "link": "https://stackoverflow.com/questions/29806855/how-can-i-turn-an-inputed-string-into-a-list-in-python/29806909#29806909", "title": "How can I turn an inputed string into a list in python?", "body": "<p>I don't understand exactly what you mean, but if you want the whole string put inside a list, then you could do:</p>\n\n<pre><code>a = list(raw_input())\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>a = [raw_input()]\n# `split()` can take an argument \u2014 the character (or string) at which to split\n# i.e.: \"Jim and Tim; Bob and Rob\".split(\";\") -&gt; [\"Jim and Tim\", \"Bob and Rob\"]\n</code></pre>\n\n<p>If you wanted the string split up into tokens, then you could use the built-in <code>split</code> method.</p>\n\n<pre><code>a = raw_input().split()\n</code></pre>\n\n<p>NOTE: Of course, for Python 3, <code>raw_input()</code> would be replaced with <code>input()</code>.</p>\n\n<p>Hope this helps! :)</p>\n"}, {"tags": [], "owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1429730809, "creation_date": 1429730809, "answer_id": 29807068, "question_id": 29806855, "link": "https://stackoverflow.com/questions/29806855/how-can-i-turn-an-inputed-string-into-a-list-in-python/29807068#29807068", "title": "How can I turn an inputed string into a list in python?", "body": "<p>Assuming that you're using a delimiting character in your input string (such as <code>,</code>), you would do it like:</p>\n\n<pre><code>&gt;&gt;&gt; original = raw_input('Enter message to encode: ')\nEnter message to encode: foo,bar,baz\n&gt;&gt;&gt; print original\nfoo,bar,baz\n&gt;&gt;&gt; my_list = original.split(',')  # Replace `,` with your actual delimiter.\n&gt;&gt;&gt; assert my_list == ['foo', 'bar', 'baz']\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Note the use of <code>split()</code> rather than <code>list()</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4821076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e4a0d144263caea5edeea33648116e?s=128&d=identicon&r=PG&f=1", "display_name": "Forcechemist", "link": "https://stackoverflow.com/users/4821076/forcechemist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1429736677, "creation_date": 1429730055, "question_id": 29806855, "link": "https://stackoverflow.com/questions/29806855/how-can-i-turn-an-inputed-string-into-a-list-in-python", "title": "How can I turn an inputed string into a list in python?", "body": "<p>How can I have a user enter a string and then have that string made into a list? I have tried the following code: </p>\n\n<pre><code>    original=input(\"Enter message to encode: \")\n    originallist = list(original)\n    print originallist \n</code></pre>\n\n<p>I keep getting this error though: </p>\n\n<pre><code>    NameError: name 'Whatever I input' is not defined \n</code></pre>\n"}, {"tags": ["python", "scope"], "comments": [{"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1429730137, "post_id": 29806831, "comment_id": 47741640, "body": "No, it&#39;s not. Why don&#39;t you want to use arguments?"}, {"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "edited": false, "score": 0, "creation_date": 1429730173, "post_id": 29806831, "comment_id": 47741661, "body": "Did you try to use <code>import foo</code> instead of <code>from foo import *</code>?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429730611, "post_id": 29806831, "comment_id": 47741943, "body": "why are you declaring foo globally if you want to use foo from main.py?"}, {"owner": {"reputation": 13, "user_id": 2856562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40529e42d08a39e980572c1460ed7f5?s=128&d=identicon&r=PG&f=1", "display_name": "imayukh", "link": "https://stackoverflow.com/users/2856562/imayukh"}, "edited": false, "score": 0, "creation_date": 1442322184, "post_id": 29806831, "comment_id": 53027239, "body": "I was simply trying out a code design. I now realize that it was poor design."}], "answers": [{"tags": [], "owner": {"reputation": 2515, "user_id": 3212623, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Y2gBj.jpg?s=128&g=1", "display_name": "pnv", "link": "https://stackoverflow.com/users/3212623/pnv"}, "is_accepted": false, "score": -1, "last_activity_date": 1429730919, "last_edit_date": 1495540310, "creation_date": 1429730919, "answer_id": 29807092, "question_id": 29806831, "link": "https://stackoverflow.com/questions/29806831/python-imported-functions-access-to-global-variables/29807092#29807092", "title": "Python: Imported functions access to global variables", "body": "<p>Change main.py to</p>\n\n<pre><code>#main.py\n\nimport foobar\n\nfoobar.foo = True\nfoobar.bar()\nprint foobar.foo\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>change foobar.py to</p>\n\n<pre><code>#foobar.py\nimport __main__\nfoo = False\n\ndef bar():\n    if __main__.foo:\n        print \"Worked\"\n    else:\n        print \"Did not work\"\n</code></pre>\n\n<p>Well, the variable foo in main.py has scope to that module only, same goes for foobar.py. For further reading.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24075140/how-to-access-global-variable-within-main-scope\">how to access global variable within __main__ scope?</a></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 2856562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40529e42d08a39e980572c1460ed7f5?s=128&d=identicon&r=PG&f=1", "display_name": "imayukh", "link": "https://stackoverflow.com/users/2856562/imayukh"}, "is_accepted": true, "score": 0, "last_activity_date": 1442322946, "last_edit_date": 1495541033, "creation_date": 1442322946, "answer_id": 32587123, "question_id": 29806831, "link": "https://stackoverflow.com/questions/29806831/python-imported-functions-access-to-global-variables/32587123#32587123", "title": "Python: Imported functions access to global variables", "body": "<p>Accepting the comment by L3viathan as the answer.</p>\n\n<blockquote>\n  <p>No, it's not. Why don't you want to use arguments? \u2013  L3viathan Apr 22 at 19:15<br>\n  <a href=\"https://stackoverflow.com/questions/29806831/python-imported-functions-access-to-global-variables#comment47741640_29806831\">Python: Imported functions access to global variables</a></p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 2856562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40529e42d08a39e980572c1460ed7f5?s=128&d=identicon&r=PG&f=1", "display_name": "imayukh", "link": "https://stackoverflow.com/users/2856562/imayukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 32587123, "answer_count": 2, "score": 1, "last_activity_date": 1442322946, "creation_date": 1429729972, "last_edit_date": 1429732512, "question_id": 29806831, "link": "https://stackoverflow.com/questions/29806831/python-imported-functions-access-to-global-variables", "title": "Python: Imported functions access to global variables", "body": "<p>I have two files as shown below.</p>\n\n<pre><code>#foobar.py\n\nfoo = False\n\ndef bar():\n    if foo:\n        print \"Worked\"\n    else:\n        print \"Did not work\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#main.py\n\nfrom foobar import *\n\nfoo = True\nbar()\nprint foo\n</code></pre>\n\n<p>The output when I run <code>$ python main.py</code> is</p>\n\n<pre><code>Did not work\nTrue\n</code></pre>\n\n<p>Is it possible for <code>bar()</code> to get access to the global <code>foo</code> defined in <code>main.py</code>?</p>\n\n<p><strong>update</strong></p>\n\n<p>Should have clarified earlier but I thought the question should remain as bare-bone as possible. </p>\n\n<p><code>foobar.py</code> is actually a supporting file (with other functions having different parameters that also use the global <code>foo</code>) that I want to use with a bunch of related iPython notebooks. </p>\n\n<p>The notebooks should ideally have their own definitions of <code>foo</code> and it's absence should be caught and handled.</p>\n\n<p>I chose to not include it as an argument simply to try and make the code look cleaner.</p>\n\n<p>I am aware that:</p>\n\n<blockquote>\n  <p>Wildcard imports ( from  import * ) should be avoided, as they make it unclear which names are present in the namespace, confusing both readers and many automated tools.-<a href=\"https://www.python.org/dev/peps/pep-0008/#imports\" rel=\"nofollow\">pep8</a></p>\n</blockquote>\n"}, {"tags": ["python", "outlook", "win32com"], "comments": [{"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429731058, "post_id": 29806821, "comment_id": 47742208, "body": "I don&#39;t know if this helps but if this is possible I would think it would be located somewhere around this site: <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.office.interop.outlook.olresponsestatus.aspx\" rel=\"nofollow noreferrer\">link</a>."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429735354, "post_id": 29808216, "comment_id": 47744886, "body": "Would it be possible to get ReplyTime for each Recipient?  Thanks!"}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429735526, "post_id": 29808216, "comment_id": 47744993, "body": "Sure, use Recipient.MeetingResponseStatus property. Note that it will be set only on the appointment in the organizer&#39;s calendar folder."}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429735754, "post_id": 29808216, "comment_id": 47745114, "body": "I believe getting &#39;ReplyTime&#39; is not possible for MeetingResponseStatus (see <a href=\"https://msdn.microsoft.com/en-us/library/office/microsoft.office.interop.outlook.olresponsestatus.aspx\" rel=\"nofollow noreferrer\">here</a>)."}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429737829, "post_id": 29808216, "comment_id": 47746347, "body": "It is possible - Recipient.TrackingStatusTime will return the time will the response was sent by the attendee."}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429740589, "post_id": 29808216, "comment_id": 47747665, "body": "Great.  Is there any caveat to Recipient.TrackingStatusTime?  When I get this field, I am retrieving nearly all &#39;01/01/01 00:00:00&#39; values.  I am referencing namespace.GetSharedDefaultFolder() to get this data... is this possibly restricting what info I can see?  Thanks for your help."}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429740791, "post_id": 29808216, "comment_id": 47747767, "body": "It will only be populated on the organizer&#39;s side - create a meeting, send it to another attendee, have that attendee accept it and send the response. You can see the property in OutlookSpy: select the appointment, click Item button, select Recipients property, clic kBrowse, go to the IEnumVariant tab, double click on the attendee."}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429741806, "post_id": 29808216, "comment_id": 47748196, "body": "I would need this to be all in Python.  It sounds like what I am asking for is not possible.  I appreciate your time."}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429741915, "post_id": 29808216, "comment_id": 47748240, "body": "Why is it not possible? What prevents you from looping through the MailItem.Recipients collection and for each Recipient object reading the MeetingResponseStatus and TrackingStatusTime properties?"}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429742095, "post_id": 29808216, "comment_id": 47748316, "body": "I did loop through that but I was getting &#39;01/01/01 00:00:00&#39;.  You mentioned that it will only be populated on the organizer&#39;s side.  I have access to everyone&#39;s calendar... is there a way to get the organizer&#39;s calendar folder?"}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429742196, "post_id": 29808216, "comment_id": 47748367, "body": "You can opens it using Namespace.GetSharedDefaultFolder, but you must be given an explicit permission to access it. At the very least (if GetSharedDefaultFolder cannot be used) you will be able to read the attendee status for the appointments that the current user organized."}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429742807, "post_id": 29808216, "comment_id": 47748597, "body": "I must be doing something incorrectly then.  I edited the code above to show the for loop I am using (at the end) to retrieve the TrackingStatusTime.  I am still getting all &#39;01/01/01 00:00:00&#39;.  I should have full permission to this individuals calendar."}, {"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429743703, "post_id": 29808216, "comment_id": 47748903, "body": "Nevermind... I had a minor error in my code.  I figured it out.  Thanks for all your help!"}], "tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1429734748, "creation_date": 1429734748, "answer_id": 29808216, "question_id": 29806821, "link": "https://stackoverflow.com/questions/29806821/python-outlook-response-accept-reject-etc-date-time/29808216#29808216", "title": "Python - Outlook Response (Accept, Reject, etc.) Date/Time", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/office/ff869193.aspx\" rel=\"nofollow\">AppointmentItem.ReplyTime</a> and <a href=\"https://msdn.microsoft.com/en-us/library/office/ff868658.aspx\" rel=\"nofollow\">AppointmentItem.ResponseStatus</a></p>\n"}, {"tags": [], "owner": {"reputation": 841, "user_id": 6120381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7cb1fb2c79aae57df57eef8fe4c9d38?s=128&d=identicon&r=PG&f=1", "display_name": "Hietsh Kumar", "link": "https://stackoverflow.com/users/6120381/hietsh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1618862261, "creation_date": 1618862261, "answer_id": 67168582, "question_id": 29806821, "link": "https://stackoverflow.com/questions/29806821/python-outlook-response-accept-reject-etc-date-time/67168582#67168582", "title": "Python - Outlook Response (Accept, Reject, etc.) Date/Time", "body": "<p>here is another way</p>\n<pre><code>import win32com.client\noutlook = win32com.client.Dispatch(&quot;Outlook.Application&quot;).GetNamespace(&quot;MAPI&quot;)\n\ninbox = outlook.GetDefaultFolder(6)\nmessages = inbox.Items\nmessages.Sort(&quot;[ReceivedTime]&quot;, True)\n\nfor i, msg in enumerate(messages):\n    \n    print(msg.MessageClass) # use this in condition\n\n    if msg.MessageClass=='IPM.Note':\n        print('This a Meeting')\n\n    elif msg.MessageClass =='IPM.Schedule.Meeting.Request':\n        print('This is a meeting Meeting')\n    elif msg.MessageClass =='IPM.Schedule.Meeting.Resp.Pos':\n        print('Accepted Response , POS = Positive')\n    elif msg.MessageClass =='IPM.Schedule.Meeting.Resp.Tent':\n        print('Accepted as Tentative ')\n    elif msg.MessageClass == 'IPM.Schedule.Meeting.Resp.Neg':\n        print('Declined Meeting , Neg = Negative')\n\n    # Check only first 10 items, change the number as per requirement\n    if i &gt; 10:\n        break \n</code></pre>\n<p><a href=\"https://docs.microsoft.com/en-us/office/vba/outlook/Concepts/Forms/item-types-and-message-classes\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/office/vba/outlook/Concepts/Forms/item-types-and-message-classes</a></p>\n"}], "owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1183, "favorite_count": 0, "accepted_answer_id": 29808216, "answer_count": 2, "score": 0, "last_activity_date": 1618862261, "creation_date": 1429729934, "last_edit_date": 1429743118, "question_id": 29806821, "link": "https://stackoverflow.com/questions/29806821/python-outlook-response-accept-reject-etc-date-time", "title": "Python - Outlook Response (Accept, Reject, etc.) Date/Time", "body": "<p>I am working on a project that involves pulling a lot of appointment/meeting data from Outlook from multiple people.  One piece of information that I am trying to find is the response for <em>each</em> attendee and, if possible, the date and time that the response happened.  For example, if Person X sends me a meeting request on 4/21/2015 12:31:00 PM and I accepted the meeting request at 4/21/2015 1:30:00 PM, how would I get the latter of those two times?  I have been browsing the Microsoft docs for this (<a href=\"https://msdn.microsoft.com/en-us/library/microsoft.office.interop.outlook.appointmentitem_properties.aspx\" rel=\"nofollow\">Link</a>) but have had no luck so far.</p>\n\n<p>Here is a quick summary in Python:</p>\n\n<pre><code>import win32com.client\n\noutlook = win32com.client.Dispatch('Outlook.Application')\nnamespace = outlook.GetNamespace('MAPI')\n\nrecipient = namespace.createRecipient('Other Person')\nresolved = recipient.Resolve()\nsharedCalendar = namespace.GetSharedDefaultFolder(recipient, 9)\n\nappointments = sharedCalendar.Items\n\nfor i in range(0,1):\n    print appointments[i]\n    print appointments[i].start\n    print appointments[i].end\n    print appointments[i].organizer\n    print appointments[i].location\n    print appointments[i].duration\n\n    for j in range(0,len(appointments[i].recipients)):\n        print 'recip, status: ' + str(appointments[i].recipients[j]) + ', ' + str(appointments[i].recipients[j].TrackingStatusTime)\n</code></pre>\n"}, {"tags": ["python", "csv", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 10, "creation_date": 1429729881, "post_id": 29806787, "comment_id": 47741492, "body": "<code>data[0]</code> is <code>[&quot;Name&quot;, &quot;Score&quot;]</code> not a string."}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 4803033, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cXt5wYhFuAc/AAAAAAAAAAI/AAAAAAAAAEE/cZR9o9lxnx0/photo.jpg?sz=128", "display_name": "Josh B.", "link": "https://stackoverflow.com/users/4803033/josh-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1429733315, "last_edit_date": 1429733315, "creation_date": 1429732676, "answer_id": 29807592, "question_id": 29806787, "link": "https://stackoverflow.com/questions/29806787/can-anyone-explain-this-error-attributeerror-list-object-has-no-attribute-e/29807592#29807592", "title": "Can anyone explain this error? AttributeError: &#39;list&#39; object has no attribute &#39;encode&#39;", "body": "<p>The reason that you are getting that error is because you are trying to encode a list, not a string.</p>\n\n<p>I made a working code that wrote \"Name\" in a .csv file with this script.</p>\n\n<pre><code>import csv\nname = \"X\"\nscore = \"Y\"\nwith open('some.csv', 'wb') as f:\n    writer = csv.writer(f)\n    data = [[\"Name\", \"Score\"],\n            [name,score]]\n    f.write(data[0][0].encode('utf-8'))  #&lt;-- Change made here\n    #Removed line here\n</code></pre>\n\n<p>On the line that I changed, I added an extra <code>[0]</code>.  You data list is nested, which means that there is more than one list inside of it. </p>\n\n<p>If you want to get the <code>\"Name\"</code> string, you need to reference <code>data[0][0]</code>. This gets the first element in the outer list, with is <code>[\"Name\", \"Score\"]</code>. The next <code>[0]</code> gets the first element is that list, which is <code>\"Name\"</code>.</p>\n\n<p>I got rid of the line with <code>writer.writerows(data)</code>. It was throwing me an error and I had no idea what it was supposed to do.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 4821040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a603d021bcb773c2e512d703f1230f?s=128&d=identicon&r=PG&f=1", "display_name": "Roughbladez", "link": "https://stackoverflow.com/users/4821040/roughbladez"}, "edited": false, "score": 0, "creation_date": 1429813078, "post_id": 29812376, "comment_id": 47789230, "body": "Thanks for the answer. I got another question: Let&#39;s say the name and score variables were user input ie. input(). How would I write the name and score variable then move down a cell and repeat? I thought it was the newline but that seems to do something else."}, {"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "reply_to_user": {"reputation": 61, "user_id": 4821040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a603d021bcb773c2e512d703f1230f?s=128&d=identicon&r=PG&f=1", "display_name": "Roughbladez", "link": "https://stackoverflow.com/users/4821040/roughbladez"}, "edited": false, "score": 0, "creation_date": 1429836410, "post_id": 29812376, "comment_id": 47800321, "body": "<code>writerows</code> takes a list of lists as above.  <code>writerow</code> takes a single list of the elements in the row.  So you&#39;d just say <code>writer.writerow([name,score])</code> for each row you want to add.  the <code>csv.writer</code> takes care of adding the delimiters and the newlines."}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 2, "last_activity_date": 1429755397, "last_edit_date": 1429755397, "creation_date": 1429754970, "answer_id": 29812376, "question_id": 29806787, "link": "https://stackoverflow.com/questions/29806787/can-anyone-explain-this-error-attributeerror-list-object-has-no-attribute-e/29812376#29812376", "title": "Can anyone explain this error? AttributeError: &#39;list&#39; object has no attribute &#39;encode&#39;", "body": "<p>Use the csv writer you created.  Don't write <code>f</code> directly.  Drop the <code>f.write</code> line:</p>\n\n<pre><code>import csv\nname = \"X\"\nscore = \"Y\"\nwith open('some.csv', 'wb') as f:\n    writer = csv.writer(f)\n    data = [[\"Name\", \"Score\"],\n            [name,score]]\n    writer.writerows(data)\n</code></pre>\n\n<p>Content of <code>some.csv</code>:</p>\n\n<pre><code>Name,Score\nX,Y\n</code></pre>\n\n<p>Note this is assuming Python 2.  If you are actually on Python 3, and are writing non-ASCII characters, the <code>open</code> has different parameters.</p>\n\n<pre><code>#coding:utf8\nimport csv\nname = \"\u9a6c\u514b\"\nscore = \"Y\"\nwith open('some.csv', 'w', encoding='utf8', newline='') as f:\n    writer = csv.writer(f)\n    data = [[\"Name\", \"Score\"],\n            [name,score]]\n    writer.writerows(data)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4821040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a603d021bcb773c2e512d703f1230f?s=128&d=identicon&r=PG&f=1", "display_name": "Roughbladez", "link": "https://stackoverflow.com/users/4821040/roughbladez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18684, "favorite_count": 0, "accepted_answer_id": 29812376, "answer_count": 2, "score": 0, "last_activity_date": 1429755397, "creation_date": 1429729823, "question_id": 29806787, "link": "https://stackoverflow.com/questions/29806787/can-anyone-explain-this-error-attributeerror-list-object-has-no-attribute-e", "title": "Can anyone explain this error? AttributeError: &#39;list&#39; object has no attribute &#39;encode&#39;", "body": "<p>From the research I've been doing, this code should write text into a CSV file.</p>\n\n<pre><code>import csv\nname = \"X\"\nscore = \"Y\"\nwith open('some.csv', 'wb') as f:\n    writer = csv.writer(f)\n    data = [[\"Name\", \"Score\"],\n            [name,score]]\n    f.write(data[0].encode('utf-8'))        \n    writer.writerows(data)\n</code></pre>\n\n<p>At first, it threw me an encoding error. After hunting around on Stack Overflow, I found something about needing to encode the text into UTF8. So I tried encoding with X.encode(). Then I got this:</p>\n\n<pre><code>f.write(data[0].encode('utf-8'))\nAttributeError: 'list' object has no attribute 'encode'\n</code></pre>\n\n<p>I can't find an answer as to why this is happening. Can anyone explain why I'm getting this error?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1429729587, "post_id": 29806650, "comment_id": 47741290, "body": "It&#39;s a convenience for a common pattern, and it makes the intent clearer."}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1429729624, "post_id": 29806650, "comment_id": 47741318, "body": "See <a href=\"https://stackoverflow.com/questions/12803709/re-match-vs-re-search-performance-difference\">this question</a> for performance benchmarks. <code>re.search</code> can actually be faster at times."}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 1, "creation_date": 1429729937, "post_id": 29806650, "comment_id": 47741534, "body": "possible duplicate: <a href=\"http://stackoverflow.com/questions/180986/what-is-the-difference-between-pythons-re-search-and-re-match\" title=\"what is the difference between pythons re search and re match\">stackoverflow.com/questions/180986/&hellip;</a>"}, {"owner": {"reputation": 1296, "user_id": 2112218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3852a53c1360be0c62439c9eb2f3ee7?s=128&d=identicon&r=PG", "display_name": "Smit Johnth", "link": "https://stackoverflow.com/users/2112218/smit-johnth"}, "edited": false, "score": 0, "creation_date": 1436901447, "post_id": 29806650, "comment_id": 50803633, "body": "Zen of Python: &quot;There should be one \u2014 and preferably only one \u2014 obvious way to do it.&quot;. This obviously violates that."}, {"owner": {"reputation": 1296, "user_id": 2112218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3852a53c1360be0c62439c9eb2f3ee7?s=128&d=identicon&r=PG", "display_name": "Smit Johnth", "link": "https://stackoverflow.com/users/2112218/smit-johnth"}, "reply_to_user": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1436901814, "post_id": 29806650, "comment_id": 50803831, "body": "@karthikmanchala this question doen&#39;t ask what&#39;s the difference but &quot;who the heck done it and why?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 2189977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07127c4f9ac7d01a920c422ff4987ae?s=128&d=identicon&r=PG", "display_name": "jai.maruthi", "link": "https://stackoverflow.com/users/2189977/jai-maruthi"}, "edited": false, "score": 0, "creation_date": 1429841389, "post_id": 29806772, "comment_id": 47801636, "body": "This may be true for pattern.match() and pattern.search() functions. For the re.match(patn, string, flags=0) function, which doesn&#39;t have &#39;pos&#39; arguments, this explanation holds no good. As @Tim pointed, it may be an useful shortcut which doesn&#39;t need programmer to use &#39;^&#39;."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 157, "user_id": 2189977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07127c4f9ac7d01a920c422ff4987ae?s=128&d=identicon&r=PG", "display_name": "jai.maruthi", "link": "https://stackoverflow.com/users/2189977/jai-maruthi"}, "edited": false, "score": 0, "creation_date": 1429872441, "post_id": 29806772, "comment_id": 47816625, "body": "@mhr: It would be inconsistent if the match method was missing at the module level though"}], "tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": false, "score": 11, "last_activity_date": 1429730082, "last_edit_date": 1429730082, "creation_date": 1429729766, "answer_id": 29806772, "question_id": 29806650, "link": "https://stackoverflow.com/questions/29806650/why-use-re-match-when-re-search-can-do-the-same-thing/29806772#29806772", "title": "Why use re.match(), when re.search() can do the same thing?", "body": "<p>The <code>pos</code> argument behaves differently in important ways:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"a ab abc abcd\"\n&gt;&gt;&gt; re.compile('a').match(s, pos=2)\n&lt;_sre.SRE_Match object; span=(2, 3), match='a'&gt;\n&gt;&gt;&gt; re.compile('^a').search(s, pos=2)\nNone\n</code></pre>\n\n<p><code>match</code> makes it possible to write a tokenizer, and ensure that characters are never skipped. <code>search</code> has no way of saying \"start from the earliest allowable character\". </p>\n\n<p>Example use of match to break up a string with no gaps:</p>\n\n<pre><code>def tokenize(s, patt):\n    at = 0\n    while at &lt; len(s):\n        m = patt.match(s, pos=at)\n        if not m:\n            raise ValueError(\"Did not expect character at location {}\".format(at))\n        at = m.end()\n        yield m\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 1, "creation_date": 1429730281, "post_id": 29806773, "comment_id": 47741726, "body": "<i>&quot;you could define the function&quot;</i> No you can&#39;t. This match gives a different result when used with the <code>pos</code> argument (assuming you forwarded it where necesary)"}, {"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "reply_to_user": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1429730333, "post_id": 29806773, "comment_id": 47741766, "body": "@Eric: The module-level <i>functions</i> don&#39;t have a <code>pos</code> argument. Only the regex object&#39;s methods do (which is why I mentioned your answer in the last line)."}], "tags": [], "owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "is_accepted": true, "score": 4, "last_activity_date": 1429729767, "creation_date": 1429729767, "answer_id": 29806773, "question_id": 29806650, "link": "https://stackoverflow.com/questions/29806650/why-use-re-match-when-re-search-can-do-the-same-thing/29806773#29806773", "title": "Why use re.match(), when re.search() can do the same thing?", "body": "<p>\"Why\" questions are hard to answer. As a matter of fact, you could define the function  <code>re.match()</code> like this:</p>\n\n<pre><code>def match(pattern, string, flags):\n    return re.search(r\"\\A(?:\" + pattern + \")\", string, flags)\n</code></pre>\n\n<p>(because <code>\\A</code> always matches at the start of the string, regardless of the <code>re.M</code> flag status\u00b4). </p>\n\n<p>So <code>re.match</code> is a useful shortcut but not strictly necessary. It's especially confusing for Java programmers who have <code>Pattern.matches()</code> which anchors the search to the start <em>and end</em>  of the string (which is probably a more common use case than just anchoring to the start).</p>\n\n<p>It's different for the <code>match</code> and <code>search</code> methods of regex <em>objects</em>, though, as Eric has pointed out.</p>\n"}], "owner": {"reputation": 157, "user_id": 2189977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07127c4f9ac7d01a920c422ff4987ae?s=128&d=identicon&r=PG", "display_name": "jai.maruthi", "link": "https://stackoverflow.com/users/2189977/jai-maruthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 4, "accepted_answer_id": 29806773, "answer_count": 2, "score": 14, "last_activity_date": 1429735090, "creation_date": 1429729391, "last_edit_date": 1429735090, "question_id": 29806650, "link": "https://stackoverflow.com/questions/29806650/why-use-re-match-when-re-search-can-do-the-same-thing", "title": "Why use re.match(), when re.search() can do the same thing?", "body": "<p>From the documentation, it's very clear that:</p>\n\n<ul>\n<li><code>match()</code> -> apply pattern match at the beginning of the string</li>\n<li><code>search()</code> -> search through the string and return first match</li>\n</ul>\n\n<p>And <code>search</code> with <code>'^'</code> and without <code>re.M</code> flag would work the same as <code>match</code>.</p>\n\n<p>Then why does python have <code>match()</code>? Isn't it redundant?\nAre there any performance benefits to keeping <code>match()</code> in python?</p>\n"}]