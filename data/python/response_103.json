[{"tags": ["python", "django", "usergroups"], "owner": {"reputation": 95, "user_id": 6358350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7Jcn.jpg?s=128&g=1", "display_name": "Jatto_abdul", "link": "https://stackoverflow.com/users/6358350/jatto-abdul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514982103, "creation_date": 1482969323, "last_edit_date": 1514982103, "question_id": 41371357, "link": "https://stackoverflow.com/questions/41371357/userena-group-based-categorization-on-signup-registration", "title": "Userena group based categorization on signup/registration", "body": "<p>I would like to separate users into two different groups, sellers or buyers, at signup. I'm using django-userena and for the authentication and registration of users. I'm thinking of using a clone of the same signup view except with a different url tied to it.</p>\n\n<p>So whoever signs up at url(r'^account/signup/seller/$) linked to a seller signup button will be added to the seller group \nand whoever signs up at url(r'^account/signup/$) linked to a buyer signup button will be added to the buyer group. </p>\n\n<p>Note: I will be using this grouping to grant access to view functions in another django app in my project via signals/decorators. </p>\n\n<p>in my <strong>accounts/form.py</strong> file, I have:</p>\n\n<pre><code>class SellerSignupFormExtra(SignupForm): \n    def save(self): \n    new_user = super(SignupFormExtra, self).save()\n    new_user.groups.add(Group.objects.get(name=\u200c\u200b'seller')) \n    return new_user\n</code></pre>\n\n<p>and I added this to <strong>accounts/urls.py</strong> file </p>\n\n<pre><code>url(r'^accounts/signup/seller$', 'userena_views.signup', {'signup_form': SellerSignupFormExtra}),\n</code></pre>\n\n<p>So my question is that can I add the other users that click the buyer signup button by doing the same thing I did for sellers above or is their a better way to achieve this so that I remain DRY. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1642513"}, "edited": false, "score": 1, "creation_date": 1482969934, "post_id": 41371337, "comment_id": 69944669, "body": "Thanks. I was not aware of the <code>corrwith</code> function"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1482970125, "post_id": 41371337, "comment_id": 69944724, "body": "np, glad I could help"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 5, "last_activity_date": 1482969161, "creation_date": 1482969161, "answer_id": 41371337, "question_id": 41371312, "link": "https://stackoverflow.com/questions/41371312/pandas-how-to-compute-correlation-of-between-one-column-with-multiple-other-col/41371337#41371337", "title": "pandas: how to compute correlation of between one column with multiple other columns?", "body": "<p>use <code>groupby</code> + <code>corrwith</code></p>\n\n<pre><code>df.groupby('group').apply(lambda d: d.filter(like='x').corrwith(d.y))\n\n             x1        x2\ngroup                    \na      0.127141  0.434080\nb     -0.892755  0.524215\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1642513"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 0, "accepted_answer_id": 41371337, "answer_count": 1, "score": 4, "last_activity_date": 1482969161, "creation_date": 1482969009, "question_id": 41371312, "link": "https://stackoverflow.com/questions/41371312/pandas-how-to-compute-correlation-of-between-one-column-with-multiple-other-col", "title": "pandas: how to compute correlation of between one column with multiple other columns?", "body": "<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({'group': ['a'] * 5 + ['b'] * 5, 'x1': np.random.normal(0, 1, 10), 'x2': np.random.normal(0, 1, 10), 'y': np.random.normal(0, 1, 10)})\n\ndf\nOut[4]: \n  group        x1        x2         y\n0     a -0.468746  1.254817 -1.629483\n1     a -1.849347 -2.776032  1.413563\n2     a  1.186306  0.766866  0.163395\n3     a -0.314397 -0.531984  0.473665\n4     a  0.278961  0.510429  1.484343\n5     b  2.240489  0.856263  0.369464\n6     b  2.029284  1.020894 -0.042139\n7     b  1.571930 -0.415627  0.865577\n8     b  0.609133  1.370543  0.450230\n9     b -1.820421 -0.211467  0.704480\n</code></pre>\n\n<p>I would like to calculate the correlations between <code>y</code> and some specific(not all) columns of the same dataframe by group to produce an output dataframe that looks like:</p>\n\n<pre><code>Out[5]: \n         x1        x2\na -0.168390 -0.622155\nb -0.467561 -0.771757\n</code></pre>\n\n<p>I had tried to use one-liner like:</p>\n\n<pre><code>df.groupby('group')[['x1', 'x2']].apply(...some function here that takes y as argument...)\n</code></pre>\n\n<p>However, I am having difficulty on how to write the function so that it will iterate through the specified columns(<code>x1</code> and <code>x2</code>) and how to specify <code>y</code> as the fixed column.</p>\n\n<p>Does anyone know an elegant one-liner that can achieve this?</p>\n"}, {"tags": ["python", "linux", "bash", "shell", "python-3.x"], "comments": [{"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 1, "creation_date": 1482969398, "post_id": 41371306, "comment_id": 69944503, "body": "the subprocess module spawns a new process. when you send the CTRL+C signal to your python code,  you are existing your python application but the subprocess is still running and your code decides not to wait for the process to finish. I posted my possible solution as an answer."}, {"owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "reply_to_user": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 0, "creation_date": 1482969503, "post_id": 41371306, "comment_id": 69944536, "body": "thank you, so what is the best soultion for this ?"}, {"owner": {"reputation": 374, "user_id": 5775722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxDNb.jpg?s=128&g=1", "display_name": "FMaz", "link": "https://stackoverflow.com/users/5775722/fmaz"}, "edited": false, "score": 0, "creation_date": 1482969838, "post_id": 41371306, "comment_id": 69944645, "body": "Kill em&#39; at the end of your main thread."}, {"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 1, "creation_date": 1483031182, "post_id": 41371306, "comment_id": 69970364, "body": "there is <code>os.system(command)</code> call. but apparently that is going to be depreciated. see <a href=\"https://docs.python.org/3/library/os.html#os.system\" rel=\"nofollow noreferrer\">docs.python.org/3/library/os.html#os.system</a>"}, {"owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "edited": false, "score": 0, "creation_date": 1483031220, "post_id": 41371306, "comment_id": 69970388, "body": "yes that exactly what I did :), thanks"}, {"owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "edited": false, "score": 0, "creation_date": 1483031288, "post_id": 41371306, "comment_id": 69970423, "body": "but still it doesn&#39;t give the full soultion like <code>ruby</code> <code>system()</code>, because once you stop the script with <code>ctrl+c</code> its continue to the next command on the python script."}, {"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 0, "creation_date": 1483031980, "post_id": 41371306, "comment_id": 69970799, "body": "I updated my answer and added a working code using subprocess. The important thing is you tried and that is how you learn"}], "answers": [{"comments": [{"owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "edited": false, "score": 0, "creation_date": 1482969744, "post_id": 41371391, "comment_id": 69944612, "body": "thank you, I will try your soultion, I wonder why you can do it with <code>ruby</code> only with one command <code>system()</code>."}, {"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "reply_to_user": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "edited": false, "score": 0, "creation_date": 1482969924, "post_id": 41371391, "comment_id": 69944666, "body": "I don&#39;t know ruby, but having this level of control over spawning sub-processes is good since someone might want a different behavior for example, starting a subprocess and existing afterwards like a multi process initialization process or something."}, {"owner": {"reputation": 374, "user_id": 5775722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxDNb.jpg?s=128&g=1", "display_name": "FMaz", "link": "https://stackoverflow.com/users/5775722/fmaz"}, "edited": false, "score": 0, "creation_date": 1482969972, "post_id": 41371391, "comment_id": 69944678, "body": "He&#39;s also doing it in one line, the rest is just a cherry on the top ;)"}, {"owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "edited": false, "score": 0, "creation_date": 1482970080, "post_id": 41371391, "comment_id": 69944704, "body": "I tried for example - <code>command_line = input()</code> <code>args = shlex.split(&#39;ping 8.8.8.8&#39;)</code> <code>print(args)</code> <code>p = subprocess.Popen(args)</code> , but you cant see the stdout unless you press <code>enter</code>, any idea?"}, {"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 0, "creation_date": 1482971691, "post_id": 41371391, "comment_id": 69945086, "body": "You can use Popen.Communicate see <a href=\"https://docs.python.org/3.5/library/subprocess.html#subprocess.Popen.communicate\" rel=\"nofollow noreferrer\">docs.python.org/3.5/library/&hellip;</a>"}, {"owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "edited": false, "score": 0, "creation_date": 1482972433, "post_id": 41371391, "comment_id": 69945246, "body": "Sure, after you make it work,  maybe post the code - that would be a better answer."}], "tags": [], "owner": {"reputation": 1750, "user_id": 960475, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IID7g.png?s=128&g=1", "display_name": "ArmenB", "link": "https://stackoverflow.com/users/960475/armenb"}, "is_accepted": false, "score": 1, "last_activity_date": 1483031916, "last_edit_date": 1483031916, "creation_date": 1482969559, "answer_id": 41371391, "question_id": 41371306, "link": "https://stackoverflow.com/questions/41371306/python-3-5-subprocess-run-still-running-after-the-script-was-terminated/41371391#41371391", "title": "python 3.5 - subprocess.run still running after the script was terminated", "body": "<p>the subprocess module spawns a new process. when you send the CTRL+C signal to your python code,  you are existing your python application but the subprocess is still running and your code decides not to wait for the process to finish. </p>\n\n<p>Try catching the Ctrl+C signal in your code, and then use Popen terminate call to end the subprocess before existing your application. </p>\n\n<pre><code>import shlex, subprocess\ncommand_line = input()\n\nargs = shlex.split(command_line)\nprint(args)\n\np = subprocess.Popen(args) # Success!\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3.5/library/subprocess.html#popen-constructor\" rel=\"nofollow noreferrer\">Popen and subprocess docs</a></p>\n\n<p>Here is the API doc for the terminate call:</p>\n\n<p><a href=\"https://docs.python.org/3.5/library/subprocess.html#subprocess.Popen.terminate\" rel=\"nofollow noreferrer\">Popen.Terminate</a></p>\n\n<p><b>EDIT</b>\nHere is sample demo code for python 2.7, the section of the code that prints strout doesn't apply for ping, because it will still output the ping result to the terminal, but I placed it there for reference.</p>\n\n<pre><code>import subprocess\nimport signal\nimport sys\n\ncommand = 'ping {0}'.format('8.8.8.8')\np = subprocess.Popen(command, shell=True, stderr=subprocess.PIPE)\n\n# callback for the Ctrl+C signal\ndef signal_handler(signal, frame):\n    print(\"CTRL+C received\")\n    p.kill() # or terminate\n    p.wait()\n    sys.exit(0)    \n\n# register signal with the callback\nsignal.signal(signal.SIGINT, signal_handler)\n\n# white subprocess hasn't finished\nwhile p.poll() is None:\n    out = p.communicate()\n    print(out.stdoutdata)\n</code></pre>\n"}], "owner": {"reputation": 1310, "user_id": 4308473, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3Pk1P.png?s=128&g=1", "display_name": "Berlin", "link": "https://stackoverflow.com/users/4308473/berlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1821, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483031916, "creation_date": 1482968953, "last_edit_date": 1482972554, "question_id": 41371306, "link": "https://stackoverflow.com/questions/41371306/python-3-5-subprocess-run-still-running-after-the-script-was-terminated", "title": "python 3.5 - subprocess.run still running after the script was terminated", "body": "<p>Why after I terminate a python script with <code>ctrl+c</code> while the command <code>subprocess.run('knife ec2 server create...', shell=True, check=True)</code> is running from this script, the control returns to the terminal session but after a few min/sec the shell command reappears in the terminal session and the shell command from <code>subprocess.run</code> still running?</p>\n\n<p>I think I saw the same issue with <code>os.system</code>, for example <code>os.system('ping 8.8.8.8')</code> .</p>\n\n<p><code>^C</code></p>\n\n<pre><code>Waiting for EC2 to create the instance.....^CTraceback (most recent call last):\n  File \"t.py\", line 177, in &lt;module&gt;\n    subprocess.run(command, shell=True, check=True)\n  File \"/usr/lib/python3.5/subprocess.py\", line 695, in run\n    stdout, stderr = process.communicate(input, timeout=timeout)\n  File \"/usr/lib/python3.5/subprocess.py\", line 1064, in communicate\n    self.wait()\n  File \"/usr/lib/python3.5/subprocess.py\", line 1658, in wait\n    (pid, sts) = self._try_wait(0)\n  File \"/usr/lib/python3.5/subprocess.py\", line 1608, in _try_wait\n    (pid, sts) = os.waitpid(self.pid, wait_flags)\nKeyboardInterrupt\n$ ..............................................................................done\n\nSSH Target Address: ec2()\nDoing old-style registration with the validation key at /etc/chef/validation.pem...\nDelete your validation key in order to use your user credentials instead\n</code></pre>\n\n<p>I tried also the below code but I got an error:</p>\n\n<pre><code>command = ('knife ec2 server create -N ' + fullname + ' -f ' + instance_type + ' -i ' + pem_file)...\n\np = subprocess.Popen(command, shell=True, stderr=subprocess.PIPE)\nwhile True:\n    out = p.stderr.read(1)\n    if out == '' and p.poll() != None:\n        break\n    if out != '':\n        sys.stdout.write(out)\n        sys.stdout.flush()\n</code></pre>\n\n<p>error: </p>\n\n<pre><code>`sys.stdout.write(out) TypeError: write() argument must be str, not bytes'\n</code></pre>\n\n<p>Is there a simple way to run a shell command with <code>python</code> like <code>Ruby</code> with <code>system()</code> ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "algorithm", "dictionary", "permutation"], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1482969169, "creation_date": 1482969169, "answer_id": 41371338, "question_id": 41371305, "link": "https://stackoverflow.com/questions/41371305/python-add-values-and-remove-entry-for-tuple-permutations-in-a-dictionary/41371338#41371338", "title": "Python: Add Values and Remove Entry for Tuple Permutations in a Dictionary", "body": "<p>Use a <a href=\"https://docs.python.org/3/library/stdtypes.html#frozenset\" rel=\"nofollow noreferrer\"><code>frozenset</code></a> for the dict key instead of a tuple.  Then you can just add them as you go along, without worrying about ordering.  </p>\n"}, {"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 1, "last_activity_date": 1482970121, "last_edit_date": 1482970121, "creation_date": 1482969815, "answer_id": 41371422, "question_id": 41371305, "link": "https://stackoverflow.com/questions/41371305/python-add-values-and-remove-entry-for-tuple-permutations-in-a-dictionary/41371422#41371422", "title": "Python: Add Values and Remove Entry for Tuple Permutations in a Dictionary", "body": "<p>As @wim suggested, you should probably use a <code>frozenset</code>, then you can use <code>collections.Counter</code> and <code>sum</code> to cumulate the values into a new dictionary:</p>\n\n<pre><code>from collections import Counter\n\nd = {(1, 3): 14, (1, 4): 13, (1, 2): 10, (11, 11): 19, (3, 1): 50, (4, 1): 5}\n\nr = sum((Counter({frozenset(k): v}) for k, v in d.items()), Counter())\nprint(r)\n# Counter({frozenset({1, 3}): 64, frozenset({11}): 19, frozenset({1, 4}): 18, frozenset({1, 2}): 10})\n</code></pre>\n\n<p>You may turn the <code>Counter</code> object into a vanilla dict and the keys back to tuples if you so wish using a dictionary comprehension.</p>\n"}], "owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 41371422, "answer_count": 2, "score": 3, "last_activity_date": 1482970121, "creation_date": 1482968942, "question_id": 41371305, "link": "https://stackoverflow.com/questions/41371305/python-add-values-and-remove-entry-for-tuple-permutations-in-a-dictionary", "title": "Python: Add Values and Remove Entry for Tuple Permutations in a Dictionary", "body": "<p>I have a dictionary where the key is a tuple. Some of these tuples are permutations of each other (e.g. <code>(1, 2)</code> vs <code>(2, 1)</code>). I want to add the value of one permutation to the other, and then get rid of the second permutation. </p>\n\n<pre><code>d = {(1, 3): 14, (1, 4): 13, (1, 2): 10, (11, 11): 19, (3, 1): 50, (4, 1): 5, ...}\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>{(1, 3): 64, (1, 4): 18, (1, 2): 10, (11, 11): 19, ...}\n</code></pre>\n\n<p>I thought about sorting them and then doing something based on position in the dictionary, but this is not very easy to scale up. Input is welcome!</p>\n"}, {"tags": ["php", "python", "codeigniter", "python-3.x", "php-7"], "comments": [{"owner": {"reputation": 647, "user_id": 3358181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1sPG.png?s=128&g=1", "display_name": "jardis", "link": "https://stackoverflow.com/users/3358181/jardis"}, "edited": false, "score": 0, "creation_date": 1482969402, "post_id": 41371300, "comment_id": 69944505, "body": "What are you using listOfWords.py for? While there are many ways to accomplish this, the real question is why would you want to do it in the first place?"}, {"owner": {"reputation": 31, "user_id": 5552171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bad16a40f7bd205c1e1c12a89d8222?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie White", "link": "https://stackoverflow.com/users/5552171/robbie-white"}, "reply_to_user": {"reputation": 647, "user_id": 3358181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1sPG.png?s=128&g=1", "display_name": "jardis", "link": "https://stackoverflow.com/users/3358181/jardis"}, "edited": false, "score": 0, "creation_date": 1482969883, "post_id": 41371300, "comment_id": 69944655, "body": "@jardis I&#39;m using it for a machine learning algorithm, in particular textblobs for python. This was the simplest algorithm to use and did a good enough job. The llist of words is actually the train in the format:"}, {"owner": {"reputation": 31, "user_id": 5552171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bad16a40f7bd205c1e1c12a89d8222?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie White", "link": "https://stackoverflow.com/users/5552171/robbie-white"}, "reply_to_user": {"reputation": 647, "user_id": 3358181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1sPG.png?s=128&g=1", "display_name": "jardis", "link": "https://stackoverflow.com/users/3358181/jardis"}, "edited": false, "score": 0, "creation_date": 1482970092, "post_id": 41371300, "comment_id": 69944711, "body": "@jardis <code>list = [&#39;sentence&#47;word&#39;, &#39;category name&#39;]</code>. I was just trying to keep it simple for others that may need this question for different reasons, trying to generalise."}, {"owner": {"reputation": 909, "user_id": 1683027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a91bdb3b9fa3763833b863f928b98d?s=128&d=identicon&r=PG", "display_name": "Jay Hewitt", "link": "https://stackoverflow.com/users/1683027/jay-hewitt"}, "edited": false, "score": 2, "creation_date": 1482970155, "post_id": 41371300, "comment_id": 69944738, "body": "Does listOfWords.py only consist of this list? If so, why not just make this a JSON file, and let PHP read/write using json_decode and json_encode"}, {"owner": {"reputation": 31, "user_id": 5552171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bad16a40f7bd205c1e1c12a89d8222?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie White", "link": "https://stackoverflow.com/users/5552171/robbie-white"}, "reply_to_user": {"reputation": 909, "user_id": 1683027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a91bdb3b9fa3763833b863f928b98d?s=128&d=identicon&r=PG", "display_name": "Jay Hewitt", "link": "https://stackoverflow.com/users/1683027/jay-hewitt"}, "edited": false, "score": 0, "creation_date": 1482970401, "post_id": 41371300, "comment_id": 69944795, "body": "@JayHewitt I&#39;ve updated the code to include the listOfWords.py file (although its not actually called that - like I say, I was trying to generalise the question)"}, {"owner": {"reputation": 1152, "user_id": 7253166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AaCUW.jpg?s=128&g=1", "display_name": "lucianopaz", "link": "https://stackoverflow.com/users/7253166/lucianopaz"}, "reply_to_user": {"reputation": 909, "user_id": 1683027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1a91bdb3b9fa3763833b863f928b98d?s=128&d=identicon&r=PG", "display_name": "Jay Hewitt", "link": "https://stackoverflow.com/users/1683027/jay-hewitt"}, "edited": false, "score": 0, "creation_date": 1482972453, "post_id": 41371300, "comment_id": 69945250, "body": "I completely agree with @JayHewitt, the simplest way is to write the words into a json string and then let python interact with the json file."}], "owner": {"reputation": 31, "user_id": 5552171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2bad16a40f7bd205c1e1c12a89d8222?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie White", "link": "https://stackoverflow.com/users/5552171/robbie-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482981016, "creation_date": 1482968903, "last_edit_date": 1482970467, "question_id": 41371300, "link": "https://stackoverflow.com/questions/41371300/how-to-add-information-from-php-into-a-list-inside-of-python-codeigniter-php", "title": "How to add information from PHP into a list inside of Python? (CodeIgniter, PHP 7, Python 3.4)", "body": "<p>For instance, using the form helper, I create a view (we'll call it <code>form.php</code>) that allows the user to enter the word and then this passed to the controller (we'll call this <code>controller.php</code>). I also have a python file (we'll call it <code>listOfWords.py</code>) that currently consists of an empty list. What is the best way to go about importing the words entered from <code>form.php</code> to the list inside of <code>listOfWords.py</code>?</p>\n\n<pre><code>from textblob import TextBlob;\nfrom textblob.classifiers import NaiveBayesClassifier;\nimport sys;\n\ndef machineLearning(issue):\n    train = [\n        ('I cannot enter or exit the building','idCard'),\n        ('Enter or exit', 'idCard'),\n        ('Card needs replacing','idCard'),\n        ('ID card not working','idCard'),\n        ('Printing', 'printer'),\n        (\"My ID Card doesn't sign me into the printers\", \"printer\"),\n        ('Mono', \"printer\"),\n        ('Colour Printing',\"printer\"),\n        ('I cannot connect my phone to the wifi', 'byod'),\n        ('I do not get emails on my phone, tablet, or laptop', 'byod'),\n        ('Cannot send emails','email'),\n        ('Do not recieve emails','email'),\n        ('Cannot sign in to moodle', 'email'),\n        ('Cannot sign in to computer','desktop_pc'),\n        (\"Software isn't working\",'desktop_pc'),\n        ('I cannot find my work', 'lost_work'),\n        ('My work has been corrupted', 'lost_work'),\n        ('My work has been lost', 'lost_work'),\n        ('Coursework gone missing', 'lost_work')\n    ];\n\n    test = [\n        (\"My id card does not allow me to go through the gates, the light flashes orange and then goes red. The gate doesn't open\", \"idCard\"),\n        ('My id card has snapped', 'idCard'),\n        ('When printing, swiping my ID card does not automatically sign me in, I have to manually register my card', 'printer'),\n        ('I am getting errors when trying to sign into my email account on the website', 'email'),\n        ('Microsoft applications were not working','desktop_pc'),\n        ('Software is missing','desktop_pc'),\n        ('software keeps crashing','desktop_pc'),\n        ('my phone refuses to connect to the internet','byod'),\n        ('I cannot sign in to the computers, moodle or emails because I have forgotten my password','desktop_pc'),\n        ('I cannot get my emails on my device I bought from home','byod'),\n        ('My ID card does not allow me to print. I go to scan my card on the printer, and it comes up with a message saying that I need to associate my card every day I want to print. Other peoples cards work fine?','idCard'),\n        ('My password does not allow me to sign in to the computers, laptops, moodle or emails','forgotten_password'),\n        ('I have forgotten my password','forgotten_poassword'),\n    ];\n\n    cl = NaiveBayesClassifier(train);\n\n    print(cl.classify(issue));\n\nif __name__ == \"__main__\": \n    machineLearning(sys.argv[1]);\n</code></pre>\n"}, {"tags": ["python", "xpath", "lxml", "lxml.html", "calibre"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1482969124, "creation_date": 1482969124, "answer_id": 41371328, "question_id": 41371271, "link": "https://stackoverflow.com/questions/41371271/select-and-modify-xpath-nodes-after-specific-text/41371328#41371328", "title": "Select and modify xpath nodes after specific text", "body": "<p>You can use that <code>translation:</code> <em>text node</em> to distinguish authors from translators - authors are preceding siblings of the \"translation:\" text node, translators - following siblings.</p>\n\n<p><strong>Authors:</strong></p>\n\n<pre><code>//text()[contains(., 'translation:')]/preceding-sibling::a[@class='booklink' and contains(@href, '/author/')]/text()\n</code></pre>\n\n<p><strong>Translators:</strong></p>\n\n<pre><code>//text()[contains(., 'translation:')]/following-sibling::a[@class='booklink' and contains(@href, '/author/')]/text()\n</code></pre>\n\n<p>Working sample code:</p>\n\n<pre><code>from lxml.html import fromstring\n\ndata = \"\"\"\n&lt;td&gt;\n    &lt;a class=\"booklink\" href=\"/author/43710/Author 1\"&gt;Author 1&lt;/a&gt;\n    ,\n     &lt;a class=\"booklink\" href=\"/author/46907/Author 2\"&gt;Author 2&lt;/a&gt;\n     &lt;br&gt;\n     translation:\n     &lt;a class=\"booklink\" href=\"/author/47669/translator 1\"&gt;Translator 1&lt;/a&gt;\n     ,\n     &lt;a class=\"booklink\" href=\"/author/9382/translator 2\"&gt;Translator 2&lt;/a&gt;\n&lt;/td&gt;\"\"\"\n\nroot = fromstring(data)\n\nauthors = root.xpath(\"//text()[contains(., 'translation:')]/preceding-sibling::a[@class='booklink' and contains(@href, '/author/')]/text()\")\ntranslators = root.xpath(\"//text()[contains(., 'translation:')]/following-sibling::a[@class='booklink' and contains(@href, '/author/')]/text()\")\n\nprint(authors)\nprint(translators)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>['Author 1', 'Author 2']\n['Translator 1', 'Translator 2']\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4494702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/059807557fccc4f538a59cc876f18cb2?s=128&d=identicon&r=PG&f=1", "display_name": "wrangly", "link": "https://stackoverflow.com/users/4494702/wrangly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 41371328, "answer_count": 1, "score": 1, "last_activity_date": 1482969430, "creation_date": 1482968644, "last_edit_date": 1482969430, "question_id": 41371271, "link": "https://stackoverflow.com/questions/41371271/select-and-modify-xpath-nodes-after-specific-text", "title": "Select and modify xpath nodes after specific text", "body": "<p><a href=\"https://i.stack.imgur.com/JLSOy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JLSOy.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I use this code to get all names:</p>\n\n<pre><code>def parse_authors(self, root): \n    author_nodes = root.xpath('//a[@class=\"booklink\"][contains(@href,\"/author/\")]/text()')\n    if author_nodes:\n        return [unicode(author) for author in author_nodes]\n</code></pre>\n\n<p>But i want if there are any translators to add \"(translation)\" next to their names:</p>\n\n<pre><code>example:translator1(translation)\n</code></pre>\n"}, {"tags": ["python", "text-files"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1482968798, "post_id": 41371260, "comment_id": 69944320, "body": "That code won&#39;t work. You&#39;ll get an <code>IndexError</code> and you need <code>range</code> to iterate on the array or simply iterate on the array directly"}, {"owner": {"reputation": 206, "user_id": 7347576, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2c292cb284de3a40321cc65a1630ef8d?s=128&d=identicon&r=PG&f=1", "display_name": "user7347576", "link": "https://stackoverflow.com/users/7347576/user7347576"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1482969049, "post_id": 41371260, "comment_id": 69944392, "body": "@MosesKoledoye The code executes fine and prints the right output. However, it is not written to the file."}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 1, "creation_date": 1482969588, "post_id": 41371260, "comment_id": 69944561, "body": "that looks like it should work, you sure is not that you have the output file open somewhere else like a text editor and that is causing some interference/confusion? if so, close those, run the code and then check the file. Also, the recommended way to work with files is with the <code>with</code> statement"}, {"owner": {"reputation": 206, "user_id": 7347576, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2c292cb284de3a40321cc65a1630ef8d?s=128&d=identicon&r=PG&f=1", "display_name": "user7347576", "link": "https://stackoverflow.com/users/7347576/user7347576"}, "reply_to_user": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1482969772, "post_id": 41371260, "comment_id": 69944624, "body": "@Copperfield Nope, the text file isn&#39;t open. Running in Atom v1.12.7 using Script package."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482970139, "post_id": 41371260, "comment_id": 69944730, "body": "create minimal, working example with this problem or show full code. Maybe your code opens file many times and last time <code>array</code> is empty so it writes only <code>&#39;some text&#39;</code> and delete previous text (because you use <code>w</code> mode)"}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1482970417, "post_id": 41371260, "comment_id": 69944800, "body": "mmm, and I suppose you don&#39;t modify or touch the file in any way in some other part or your code, right? and are you sure that the file you are checking is the correct one in the same folder as the scrip and not some other one with a similar name and/or some other folder?"}, {"owner": {"reputation": 1167, "user_id": 4988506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j5bqo.jpg?s=128&g=1", "display_name": "Ekeyme Mo", "link": "https://stackoverflow.com/users/4988506/ekeyme-mo"}, "edited": false, "score": 1, "creation_date": 1482973765, "post_id": 41371260, "comment_id": 69945522, "body": "I also think your code should work. Could you try to change the code <code>text_file.write(str(row.encode(&#39;ascii&#39;, errors=&#39;ignore&#39;)))</code> to <code>text_file.write(&#39;ok\\n&#39;)</code> to see whether the <code>ok\\n</code>-s are writed into the <code>Output.txt</code>? If yes, then you should check what it&#39;s returned in <code>str(row.encode(&#39;ascii&#39;, errors=&#39;ignore&#39;))</code>."}], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 7347576, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2c292cb284de3a40321cc65a1630ef8d?s=128&d=identicon&r=PG&f=1", "display_name": "user7347576", "link": "https://stackoverflow.com/users/7347576/user7347576"}, "edited": false, "score": 0, "creation_date": 1482969011, "post_id": 41371299, "comment_id": 69944379, "body": "Did that but received this error: <code>ValueError: must have exactly one of create&#47;read&#47;write&#47;append mode</code>"}, {"owner": {"reputation": 374, "user_id": 5775722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxDNb.jpg?s=128&g=1", "display_name": "FMaz", "link": "https://stackoverflow.com/users/5775722/fmaz"}, "edited": false, "score": 0, "creation_date": 1482969740, "post_id": 41371299, "comment_id": 69944608, "body": "I think the error is pretty verbose. Python doesn&#39;t take mixes of file modes as parameter in <code>open()</code>. Replace <code>wa</code> with <code>a</code>."}], "tags": [], "owner": {"reputation": 1, "user_id": 6010415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--vRg8Z445Qg/AAAAAAAAAAI/AAAAAAAAAGI/FPhTPnnfr3w/photo.jpg?sz=128", "display_name": "Cody Spate", "link": "https://stackoverflow.com/users/6010415/cody-spate"}, "is_accepted": false, "score": 0, "last_activity_date": 1482970112, "last_edit_date": 1482970112, "creation_date": 1482968898, "answer_id": 41371299, "question_id": 41371260, "link": "https://stackoverflow.com/questions/41371260/printing-to-text-file-using-python/41371299#41371299", "title": "Printing to text file using Python", "body": "<p>Open the file in as open(\"Output.txt\", \"a\") instead of just \"w\". This will allow you to append the rest of the text.</p>\n\n<p><a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files</a></p>\n\n<p>Have Fun!</p>\n"}], "owner": {"reputation": 206, "user_id": 7347576, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2c292cb284de3a40321cc65a1630ef8d?s=128&d=identicon&r=PG&f=1", "display_name": "user7347576", "link": "https://stackoverflow.com/users/7347576/user7347576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482970112, "creation_date": 1482968544, "last_edit_date": 1482968913, "question_id": 41371260, "link": "https://stackoverflow.com/questions/41371260/printing-to-text-file-using-python", "title": "Printing to text file using Python", "body": "<p>I have written the following code and have executed it several times:</p>\n\n<pre><code>import statements....\n\n#Scrape some information....\ntext_file = open(\"Output.txt\", \"w\")\ntext_file.write('some text')\nfor each in array:\n   #some code to find the value of row...\n   text_file.write(str(row.encode('ascii', errors='ignore')))\n   print (row.encode('ascii', errors='ignore'))\ntext_file.close()\n</code></pre>\n\n<p>However, only the 'some text' is written to the file. I have printed the row text and it produces the correct output. What am I doing wrong?</p>\n"}, {"tags": ["python", "json", "d3.js", "flask"], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482971035, "post_id": 41371326, "comment_id": 69944956, "body": "So from what you&#39;re saying, I&#39;m gathering that d3.json() accepts a URL (i.e. a static file or something from a REST API), but to do that I&#39;ll need to invoke a separate method somehow to actually render the template, won&#39;t I? I tried a (slightly modified--<code>request.args.get</code> instead of <code>requests.get</code>) version of your first snippet suggestion but it just prints the raw JSON on the page instead of rendering the JS. This was another issue I ran into repeatedly..."}, {"owner": {"reputation": 4459, "user_id": 6079732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WHuY.jpg?s=128&g=1", "display_name": "abigperson", "link": "https://stackoverflow.com/users/6079732/abigperson"}, "reply_to_user": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482971544, "post_id": 41371326, "comment_id": 69945062, "body": "yes it&#39;s an asynchronous method so accepts any valid http URL. The requests.get was an error, good catch. Can you explain in more detail what is happening? Maybe share more code."}, {"owner": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482972035, "post_id": 41371326, "comment_id": 69945156, "body": "I pasted almost all of my code in its entirety (omitted imports and the &quot;if <b>name</b> == &#39;<b>main</b>&#39;&quot; bit) and I think I might be doing something wrong in my approach... when I go to the url <code>[domain]&#47;thread?thread_id=12345</code> it does all the right backend stuff, but it just literally prints { &quot;source&quot;: 1, &quot;target&quot;: 2 } etc on the page instead of rendering that JSON. Maybe I shouldn&#39;t be going directly to the URL?"}, {"owner": {"reputation": 4459, "user_id": 6079732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WHuY.jpg?s=128&g=1", "display_name": "abigperson", "link": "https://stackoverflow.com/users/6079732/abigperson"}, "reply_to_user": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482972584, "post_id": 41371326, "comment_id": 69945291, "body": "Yes i assume you were loading an html page and then calling this route using d3.json so it would load asynchronously"}, {"owner": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482974481, "post_id": 41371326, "comment_id": 69945676, "body": "I think I&#39;m not being clear and it&#39;s confusing... if I want to use your first Python snippet, this requires that I use your last javascript snippet--otherwise &quot;/thread&quot; is always going to return the default path. And that requires that I pass &quot;12345&quot; into something so that &quot;id.toString()&quot; returns 12345, and thus the d3.json parameter becomes &quot;/thread?thread_id=12345&quot;, right? I don&#39;t understand what &quot;id.toString()&quot; refers to or how to pass that 12345 into d3.json"}, {"owner": {"reputation": 4459, "user_id": 6079732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WHuY.jpg?s=128&g=1", "display_name": "abigperson", "link": "https://stackoverflow.com/users/6079732/abigperson"}, "reply_to_user": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "edited": false, "score": 0, "creation_date": 1482996778, "post_id": 41371326, "comment_id": 69951785, "body": "Sorry for the confusion on the <code>.toString()</code>. You figured it out!"}], "tags": [], "owner": {"reputation": 4459, "user_id": 6079732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WHuY.jpg?s=128&g=1", "display_name": "abigperson", "link": "https://stackoverflow.com/users/6079732/abigperson"}, "is_accepted": true, "score": 6, "last_activity_date": 1482971383, "last_edit_date": 1482971383, "creation_date": 1482969110, "answer_id": 41371326, "question_id": 41371214, "link": "https://stackoverflow.com/questions/41371214/passing-json-data-from-server-to-client-with-flask/41371326#41371326", "title": "Passing JSON data from server to client with Flask", "body": "<p>You are really close!</p>\n\n<p>First off, the statement: \"clearly the d3.json() function wants a location of a static JSON file\" is not correct.</p>\n\n<p><a href=\"https://github.com/d3/d3-request/blob/master/README.md#json\" rel=\"noreferrer\">d3.json()</a> is part of the <code>d3-request</code> library and, as such, is an XHR method (e.g. expects a URL, which could be a static JSON like <code>data.json</code>, but not literal JSON data).</p>\n\n<p>I would adjust your Flask route to accept a <code>GET</code> parameter as the function will only accept a parameter via the URL:</p>\n\n<pre><code>@app.route(\"/thread\")\ndef get_graph_data():\n    thread_id = request.args.get(\"thread_id\", 3532967, type=int)\n    pqdict, userdict = graphs.get_post_quote_dict(thread_id)\n    G = graphs.create_graph(pqdict)\n    s = graphs.graph_to_node_link(G, remove_singlets=True) # returns dict\n    return flask.jsonify(s)\n</code></pre>\n\n<p><em>What I mean here is if you want to use the function parameter you'd need to do something like this:</em></p>\n\n<pre><code>@app.route(\"/thread/&lt;int:thread_id&gt;\")\ndef get_graph_data(thread_id):\n    ...\n</code></pre>\n\n<p>Then, adjust your XHR call a bit to send the GET parameter:</p>\n\n<pre><code>var url = \"/thread?thread_id=\" + id.toString();\nd3.json(url, function (json) {\n    var force = d3.layout.force()\n        .charge(-120)\n        .linkDistance(30)\n        .nodes(json.nodes)\n        .links(json.links)\n        .size([w, h])\n        .start();\n\n   // a bunch more js that i copied and pasted from a tutorial\n});\n</code></pre>\n\n<p>And it should be fine.</p>\n\n<p>Also, FYI, if you ever want to use Jinja2 to \"read\" an object into a Javascript Object you need to use 2 filters: <code>{{ data|tojson|safe }}</code></p>\n"}, {"tags": [], "owner": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "is_accepted": false, "score": 3, "last_activity_date": 1482975780, "creation_date": 1482975780, "answer_id": 41372093, "question_id": 41371214, "link": "https://stackoverflow.com/questions/41371214/passing-json-data-from-server-to-client-with-flask/41372093#41372093", "title": "Passing JSON data from server to client with Flask", "body": "<p>The solution was:</p>\n\n<p>Python:</p>\n\n<pre><code>@app.route(\"/thread\")\ndef get_graph_data():\n\n    \"\"\"\n    returns json of a network graph for the specified thread\n    :param thread_id:\n    :return:\n    \"\"\"\n    thread_id = request.args.get(\"thread_id\", 3532967, type=int)\n    pqdict, userdict = graphs.get_post_quote_dict(thread_id)\n    G = graphs.create_graph(pqdict)\n    s = graphs.graph_to_node_link(G, remove_singlets=True)\n    return json.dumps(s)\n\n\n@app.route(\"/showgraph\")\ndef showgraph():\n    thread_id = request.args.get(\"thread_id\", 3532967, type=int)\n    return render_template(\"index.html\", threadid=thread_id)\n</code></pre>\n\n<p>HTML/Jinja2:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Index thing&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"http://d3js.org/d3.v2.js\"&gt;&lt;/script&gt;\n    &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"templates/graph.css\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"chart\"&gt;&lt;/div&gt;\n&lt;script&gt;\n    var w = 1500,\n        h = 1500,\n        fill = d3.scale.category20();\n\n    var vis = d3.select(\"#chart\")\n        .append(\"svg:svg\")\n        .attr(\"width\", w)\n        .attr(\"height\", h);\n\n    d3.json(\"/thread?thread_id={{ threadid }}\", function (json) {\n        var force = d3.layout.force()\n            .charge(-120)\n            .linkDistance(30)\n            .nodes(json.nodes)\n            .links(json.links)\n            .size([w, h])\n            .start();\n\n        // irrelevant stuff\n    });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Needed separate methods to return the JSON and render the page. Still seems silly to have to parse the thread_id arg twice but whatever. Accepted PJ's answer since it was 99% of the issue!</p>\n"}], "owner": {"reputation": 841, "user_id": 4449954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07ee6cc057d651494c7374f18617760b?s=128&d=identicon&r=PG&f=1", "display_name": "stuart", "link": "https://stackoverflow.com/users/4449954/stuart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3886, "favorite_count": 1, "accepted_answer_id": 41371326, "answer_count": 2, "score": 4, "last_activity_date": 1482975780, "creation_date": 1482968236, "last_edit_date": 1482973542, "question_id": 41371214, "link": "https://stackoverflow.com/questions/41371214/passing-json-data-from-server-to-client-with-flask", "title": "Passing JSON data from server to client with Flask", "body": "<p>I'm completely new to Flask and am trying to figure out how to display networkx graph data with d3js force layouts. Here is the relevant Python code:</p>\n\n<pre><code>@app.route(\"/\")\ndef index():\n    \"\"\"\n    When you request the root path, you'll get the index.html template.\n\n    \"\"\"\n    return flask.render_template(\"index.html\")\n\n\n@app.route(\"/thread\")\ndef get_graph_data(thread_id: int=3532967):\n    \"\"\"\n    returns json of a network graph for the specified thread\n    :param thread_id:\n    :return:\n    \"\"\"\n    pqdict, userdict = graphs.get_post_quote_dict(thread_id)\n    G = graphs.create_graph(pqdict)\n    s = graphs.graph_to_node_link(G, remove_singlets=True) # returns dict\n    return flask.jsonify(s)\n</code></pre>\n\n<p>And here is the index.html file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Index thing&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"http://d3js.org/d3.v2.js\"&gt;&lt;/script&gt;\n    &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"templates/graph.css\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"chart\"&gt;&lt;/div&gt;\n&lt;script&gt;\n    var w = 1500,\n        h = 1500,\n        fill = d3.scale.category20();\n\n    var vis = d3.select(\"#chart\")\n        .append(\"svg:svg\")\n        .attr(\"width\", w)\n        .attr(\"height\", h);\n\n    d3.json(\"/thread\", function (json) {\n        var force = d3.layout.force()\n            .charge(-120)\n            .linkDistance(30)\n            .nodes(json.nodes)\n            .links(json.links)\n            .size([w, h])\n            .start();\n\n        var link = vis.selectAll(\"line.link\")\n            .data(json.links)\n            .enter().append(\"svg:line\")\n            .attr(\"class\", \"link\")\n            .style(\"stroke-width\", function (d) {\n                return Math.sqrt(d.value);\n            })\n            .attr(\"x1\", function (d) {\n                return d.source.x;\n            })\n            .attr(\"y1\", function (d) {\n                return d.source.y;\n            })\n            .attr(\"x2\", function (d) {\n                return d.target.x;\n            })\n            .attr(\"y2\", function (d) {\n                return d.target.y;\n            });\n\n        var node = vis.selectAll(\"circle.node\")\n            .data(json.nodes)\n            .enter().append(\"svg:circle\")\n            .attr(\"class\", \"node\")\n            .attr(\"cx\", function (d) {\n                return d.x;\n            })\n            .attr(\"cy\", function (d) {\n                return d.y;\n            })\n            .attr(\"r\", 5)\n            .style(\"fill\", function (d) {\n                return fill(d.group);\n            })\n            .call(force.drag);\n\n        vis.style(\"opacity\", 1e-6)\n            .transition()\n            .duration(1000)\n            .style(\"opacity\", 1);\n\n        force.on(\"tick\", function () {\n            link.attr(\"x1\", function (d) {\n                return d.source.x;\n            })\n                .attr(\"y1\", function (d) {\n                    return d.source.y;\n                })\n                .attr(\"x2\", function (d) {\n                    return d.target.x;\n                })\n                .attr(\"y2\", function (d) {\n                    return d.target.y;\n                });\n\n            node.attr(\"cx\", function (d) {\n                return d.x;\n            })\n                .attr(\"cy\", function (d) {\n                    return d.y;\n                });\n        });\n    });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So clearly the d3.json() function wants a location of a static JSON file, which in this case I'm trying to generate dynamically based on the request URL. </p>\n\n<p>I've tried about a dozen approaches that I've found around here. Per the suggestion below, I tried:</p>\n\n<pre><code>@app.route(\"/\")\ndef index():\n    \"\"\"\n    When you request the root path, you'll get the index.html template.\n\n    \"\"\"\n    return flask.render_template(\"index.html\")\n\n\n@app.route(\"/thread\")\ndef get_graph_data():\n\n    \"\"\"\n    returns json of a network graph for the specified thread\n    :param thread_id:\n    :return:\n    \"\"\"\n    thread_id = request.args.get(\"thread_id\", 3532967, type=int)\n    pqdict, userdict = graphs.get_post_quote_dict(thread_id)\n    G = graphs.create_graph(pqdict)\n    s = graphs.graph_to_node_link(G, remove_singlets=True)\n    return jsonify(s)\n</code></pre>\n\n<p>With the template index.html unchanged, and navigated to \"<a href=\"http://localhost/thread?thread_id=12345\" rel=\"nofollow noreferrer\">http://localhost/thread?thread_id=12345</a>\" but this failed because it was printing the JSON for ID 12345 on the page instead of rendering the javascript.</p>\n\n<p>So to sum up, my current goal is to specify a parameter in the Python method from the URL (\".../showgraph?threadid=whatever...\"), generate a json in the Python code, and pass it back to the html/js. How do I accomplish this? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 2, "creation_date": 1482968067, "post_id": 41371122, "comment_id": 69944117, "body": "Stackoverflow is for helping you <i>after</i> you seriously attempt to write a program and have a problem."}, {"owner": {"reputation": 37, "user_id": 7122611, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5210155a5fd7a1014f3012f791e110c8?s=128&d=identicon&r=PG&f=1", "display_name": "xarix", "link": "https://stackoverflow.com/users/7122611/xarix"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1482968130, "post_id": 41371122, "comment_id": 69944142, "body": "But i dont have idea how to start. I need some advise."}, {"owner": {"reputation": 5124, "user_id": 582136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a8bb7614e134c7b03f531b1827fdd22f?s=128&d=identicon&r=PG", "display_name": "Ryan Amos", "link": "https://stackoverflow.com/users/582136/ryan-amos"}, "edited": false, "score": 1, "creation_date": 1482968362, "post_id": 41371122, "comment_id": 69944201, "body": "Start by doing a few examples by hand. What do you do? Try to turn your manual algorithm into a software algorithm.  The way I would approach this problem is by making an observation about how each individual coefficient comes from the list of roots. (each can be computed independently)"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 1, "creation_date": 1482968694, "post_id": 41371122, "comment_id": 69944291, "body": "Lookup polynomial multiplication.  For instance, <a href=\"https://www.khanacademy.org/math/algebra2/arithmetic-with-polynomials/multiplying-polynomials-review/v/more-multiplying-polynomials\" rel=\"nofollow noreferrer\">khanacademy.org/math/algebra2/arithmetic-with-polynomials/&hellip;</a> is about multiple a general polynomial by a binomial, which all you need for this problem."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 37, "user_id": 7122611, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5210155a5fd7a1014f3012f791e110c8?s=128&d=identicon&r=PG&f=1", "display_name": "xarix", "link": "https://stackoverflow.com/users/7122611/xarix"}, "edited": false, "score": 0, "creation_date": 1482974768, "post_id": 41371206, "comment_id": 69945726, "body": "That&#39;s great to hear!  Can you add your solution to my posting?  That would really help complete the answer."}, {"owner": {"reputation": 37, "user_id": 7122611, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5210155a5fd7a1014f3012f791e110c8?s=128&d=identicon&r=PG&f=1", "display_name": "xarix", "link": "https://stackoverflow.com/users/7122611/xarix"}, "edited": false, "score": 0, "creation_date": 1483052592, "post_id": 41371206, "comment_id": 69979166, "body": "how can i add solution to ur post? And names of variables are in polish leangue its ok for u?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 37, "user_id": 7122611, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5210155a5fd7a1014f3012f791e110c8?s=128&d=identicon&r=PG&f=1", "display_name": "xarix", "link": "https://stackoverflow.com/users/7122611/xarix"}, "edited": false, "score": 0, "creation_date": 1483052756, "post_id": 41371206, "comment_id": 69979211, "body": "Ah.  You do not have enough reputation to edit my answer.  Perhaps post an answer of your own, and I will add your code to mine.  Polska is good for me.  I may translate your variable names as I go, since SO is supposed to be in English.  Djiekuje!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1482968129, "creation_date": 1482968129, "answer_id": 41371206, "question_id": 41371122, "link": "https://stackoverflow.com/questions/41371122/how-to-convert-polynominal-to-general-form/41371206#41371206", "title": "How to convert polynominal to general form", "body": "<p>Sure.  You need to write a function that takes two lists, which are the coefficients of a polynomial, in order.  For general use, I suggest that you go lowest to highest.  That would make your known roots appear as</p>\n\n<p>[-1, 1]\n[5, 1]\n[-9, 1]</p>\n\n<p>The routine simply works through a nested loop, one index for each list.  The product of coefficients i (in one list) and j (in the other) get added to coefficient i+j in the result.</p>\n\n<p>Use this repeatedly to build a running product.  Call it once with ([-1, 1], [5, 1]) to get the result [-5, 4, 1].  Call it again with that and the last root to get your final answer.</p>\n\n<p>Does that get you moving?</p>\n"}], "owner": {"reputation": 37, "user_id": 7122611, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5210155a5fd7a1014f3012f791e110c8?s=128&d=identicon&r=PG&f=1", "display_name": "xarix", "link": "https://stackoverflow.com/users/7122611/xarix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 41371206, "answer_count": 1, "score": 0, "last_activity_date": 1483053748, "creation_date": 1482967602, "last_edit_date": 1483053748, "question_id": 41371122, "link": "https://stackoverflow.com/questions/41371122/how-to-convert-polynominal-to-general-form", "title": "How to convert polynominal to general form", "body": "<p>I am having trouble with an algorithm which will convert polynominal from factor form <code>( (x-1)(x+5)(x-9) )</code> to general form <code>( x^3 -5x^2 -41x +45)</code>. At the start I have only a list of roots </p>\n\n<p>For example: <code>[1, -5, 9]</code></p>\n\n<p>The output should be a list of coefficients: <code>[1, -5, -41, 45]</code></p>\n\n<p>Any ideas how I can work this out?</p>\n\n<pre><code>def przeksztalc(wielomian):\n    pierwiastki = []\n    for i in wielomian:\n        lista_pomocniacza = []\n        lista_pomocniacza.append(i * (-1))\n        lista_pomocniacza.append(1)\n        pierwiastki.append(lista_pomocniacza)\n    rezultat = dzielenie_na_pary(pierwiastki)\n    return rezultat\n\n\ndef dzielenie_na_pary(lista_z_pierwiastkami):\n    dlugosc = len(lista_z_pierwiastkami)\n    wynik = []\n    for i in range(dlugosc-1):\n        wynik = mnozenie_nawiasow(lista_z_pierwiastkami[i], lista_z_pierwiastkami[i+1])\n        lista_z_pierwiastkami[i+1] = wynik\n    return wynik[::-1]\n\n\ndef mnozenie_nawiasow(nawias1, nawias2):\n    wynik_mnozenia = [0] * (len(nawias1 + nawias2) - 1)\n    for i in range(len(nawias1)):\n        for j in range(len(nawias2)):\n            wynik_mnozenia[i+j] += nawias1[i] * nawias2[j]\n    return wynik_mnozenia\n\nwielomian = [1, -5, 9]\nprint(przeksztalc(wielomian))\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 1, "creation_date": 1482967247, "post_id": 41371047, "comment_id": 69943859, "body": "I&#39;m not sure that I understand if your problem is &quot;how to get input from the user?&quot; or &quot;how to repeat that?&quot;"}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 1, "creation_date": 1482967252, "post_id": 41371047, "comment_id": 69943860, "body": "Welcome to Stack Overflow! You might want to <a href=\"http://stackoverflow.com/help/mcve\">read this</a> to get a better idea how to phrase your question. Specifically, you have nothing here that interacts with <code>Enter</code> at all: thus it&#39;s a little vague and hard to answer without simply writing the code for you."}], "answers": [{"tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": false, "score": 0, "last_activity_date": 1482967322, "creation_date": 1482967322, "answer_id": 41371087, "question_id": 41371047, "link": "https://stackoverflow.com/questions/41371047/python-pressing-enter-calls-a-piece-of-code-or-a-function/41371087#41371087", "title": "Python: Pressing enter calls a piece of code or a function", "body": "<p>Here's a very simple idea for you:</p>\n\n<pre><code>import sys\n\nwhile True:\n  print \"yes\"\n  sys.stdin.read(1) # read one byte from terminal\n</code></pre>\n\n<p>Modify to your taste.</p>\n\n<p>Note: on Windows you'll likely need <code>.read(2)</code>, because Enter sends <code>\\n\\r</code>, not just an <code>\\n</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 3347180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VHPFW.jpg?s=128&g=1", "display_name": "PriamoRamirez", "link": "https://stackoverflow.com/users/3347180/priamoramirez"}, "edited": false, "score": 0, "creation_date": 1482967509, "post_id": 41371098, "comment_id": 69943947, "body": "Great! Never thought about this!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1482967377, "creation_date": 1482967377, "answer_id": 41371098, "question_id": 41371047, "link": "https://stackoverflow.com/questions/41371047/python-pressing-enter-calls-a-piece-of-code-or-a-function/41371098#41371098", "title": "Python: Pressing enter calls a piece of code or a function", "body": "<p>Usually you just do this with a <code>while</code> loop:</p>\n\n<pre><code>from random import randint\n\nprint \"Simple Dice\"\n\nprint\"Press Enter to Roll Again\"\n\ns = ''\nwhile s != 'q':\n    print\"\"\"\n\n     ---------\n    |         |\n    |    %d    |\n    |         |\n     ---------\n    \"\"\" % randint(1,6)\n    s = raw_input()\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 3347180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VHPFW.jpg?s=128&g=1", "display_name": "PriamoRamirez", "link": "https://stackoverflow.com/users/3347180/priamoramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 41371098, "answer_count": 2, "score": 1, "last_activity_date": 1482967377, "creation_date": 1482967060, "question_id": 41371047, "link": "https://stackoverflow.com/questions/41371047/python-pressing-enter-calls-a-piece-of-code-or-a-function", "title": "Python: Pressing enter calls a piece of code or a function", "body": "<p>I recently started coding on Python, one of my first challenges was to create a small script that it will be a Dice, and each time you hit ENTER it should \"roll\" the dice, and give you a new number.</p>\n\n<p>Creating the dice itself was simple for me, since I used the randint(0,6) which gave me the number.\nI'm having trouble is on the pressing ENTER part.\nAny advise? Here's my code</p>\n\n<pre><code> from random import randint\n\nprint \"Simple Dice\"\n\nprint\"Press Enter to Roll Again\"\nDado_Actual = randint(1,6)\n\nprint\"\"\"\n\n ---------\n|         |\n|    %d    |\n|         |\n ---------\n\"\"\" %Dado_Actual\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1482967122, "post_id": 41371030, "comment_id": 69943813, "body": "You could plot the &quot;No&quot; points first, then overlay the &quot;Yes&quot; points after.  You might have to ditch the legend, or tweak it manually though."}, {"owner": {"reputation": 781, "user_id": 5538805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qcmGCwGjWbU/AAAAAAAAAAI/AAAAAAAAABs/9AJejHA-JP8/photo.jpg?sz=128", "display_name": "Ahmed Dhanani", "link": "https://stackoverflow.com/users/5538805/ahmed-dhanani"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1482967362, "post_id": 41371030, "comment_id": 69943903, "body": "That worked. Didn&#39;t think of doing that, thanks."}, {"owner": {"reputation": 787, "user_id": 7224142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63eb4c2b31a647580ff5bdc5fb78fb83?s=128&d=identicon&r=PG&f=1", "display_name": "morsecodist", "link": "https://stackoverflow.com/users/7224142/morsecodist"}, "edited": false, "score": 2, "creation_date": 1482967975, "post_id": 41371030, "comment_id": 69944085, "body": "You could try a logarithmic scale as well to space out the data that is clumped around the lower values."}, {"owner": {"reputation": 1152, "user_id": 7253166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AaCUW.jpg?s=128&g=1", "display_name": "lucianopaz", "link": "https://stackoverflow.com/users/7253166/lucianopaz"}, "edited": false, "score": 2, "creation_date": 1482972778, "post_id": 41371030, "comment_id": 69945339, "body": "I think the best way is to discard the scatter plot and switch to a 2d histogram. That way, you&#39;ll be able to plot heatmaps that will give you a better sense of the densities than the overlapping scattered markers"}, {"owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "edited": false, "score": 1, "creation_date": 1483045796, "post_id": 41371030, "comment_id": 69976774, "body": "Also you can cut a little x_lim and y_lim to make the margins of the plot smaller!"}], "answers": [{"tags": [], "owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "is_accepted": true, "score": 2, "last_activity_date": 1483045306, "last_edit_date": 1495540420, "creation_date": 1483045306, "answer_id": 41387127, "question_id": 41371030, "link": "https://stackoverflow.com/questions/41371030/better-way-to-visualize-a-very-dense-scatter-plot-in-matplotlib/41387127#41387127", "title": "Better way to visualize a very dense scatter plot in matplotlib", "body": "<p>In addition to the <a href=\"https://stackoverflow.com/users/674039/wim\">win</a> solution (plot second no points) you can play with the <code>alpha</code> of the points, to give more color to the no.</p>\n\n<pre><code># Sample data\nblue_data = np.random.normal(size=(3000, 2))\nred_data = np.random.normal(size=(10, 2))\n\nfor blue_point in blue_data:\n    plt.plot(blue_point[0], blue_point[1], 'ob')\nfor red_point in red_data:\n    plt.plot(red_point[0], red_point[1], 'or')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bS9sR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bS9sR.png\" alt=\"enter image description here\"></a></p>\n\n<p>With 0.3 alpha for the blues, and 0.8 alpha for the reds</p>\n\n<pre><code>for blue_point in blue_data:\n    plt.plot(blue_point[0], blue_point[1], 'ob', alpha=0.3)\nfor red_point in red_data:\n    plt.plot(red_point[0], red_point[1], 'or', alpha=0.8)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ncxHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ncxHS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Best! You can play with the alpha until you find what you are looking for.</p>\n"}], "owner": {"reputation": 781, "user_id": 5538805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qcmGCwGjWbU/AAAAAAAAAAI/AAAAAAAAABs/9AJejHA-JP8/photo.jpg?sz=128", "display_name": "Ahmed Dhanani", "link": "https://stackoverflow.com/users/5538805/ahmed-dhanani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 41387127, "answer_count": 1, "score": 2, "last_activity_date": 1483045306, "creation_date": 1482966955, "question_id": 41371030, "link": "https://stackoverflow.com/questions/41371030/better-way-to-visualize-a-very-dense-scatter-plot-in-matplotlib", "title": "Better way to visualize a very dense scatter plot in matplotlib", "body": "<p>I am working with sarcasm dataset from reddit. The two main columns are the <code>text</code> and the <code>sarcasm_tag</code>. I have added two more columns to the dataframe, <code>positive_score</code> and <code>negative_score</code>. Where both represent the scores of positive and negative sentiment respectively. In order to visualize this distribution of the score, I plotted a scatter plot, which looks like this<br/>\n<a href=\"https://i.stack.imgur.com/w6MgZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6MgZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Since the text with <code>sarcasm_tag == Yes</code> are very less, it hides many points on the graph. Separate plot for both tags are as follows:<br/>\n<a href=\"https://i.stack.imgur.com/M9U24.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9U24.png\" alt=\"enter image description here\"></a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/6AMO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6AMO2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any better way to visualize the scores so that both classes are visible?</p>\n"}, {"tags": ["python", "machine-learning", "tensorflow"], "comments": [{"owner": {"reputation": 15373, "user_id": 1667256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a9deb943177413468eb294d4a3b3e16?s=128&d=identicon&r=PG", "display_name": "greeness", "link": "https://stackoverflow.com/users/1667256/greeness"}, "edited": false, "score": 0, "creation_date": 1482968378, "post_id": 41370987, "comment_id": 69944206, "body": "I think you should construct a new graph with multi heads instead so that you can <b>co-train</b> the two models."}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 2, "creation_date": 1482986184, "post_id": 41370987, "comment_id": 69948057, "body": "<code>import_meta_graph</code> appends to current graph, so maybe call <code>import_meta_graph</code> twice and use <code>import_scope</code> to place graphs in separate namespaces"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 7, "last_activity_date": 1482969483, "creation_date": 1482969483, "answer_id": 41371381, "question_id": 41370987, "link": "https://stackoverflow.com/questions/41370987/is-it-possible-to-merge-multiple-tensorflow-graphs-into-one/41371381#41371381", "title": "Is it possible to merge multiple TensorFlow graphs into one?", "body": "<p>I kicked this around with my local TF expert, and the brief answer is \"no\"; TF doesn't have a built-in facility for this.  However, you <em>could</em> write custom endpoint layers (input and output) with synch operations from Python's process management, so that they'd maintain parallel processing of each input, and concatenate the outputs.</p>\n\n<p><strong>Rationale</strong></p>\n\n<p>I like the way this could be used to get greater accuracy with multiple features, where the features have little or no correlation.  For instance, you could train two character recognition models: one to identify the digit, the other to discriminate between left- and right-handed writers.</p>\n\n<p>This would also allow you to examine the internal kernels that evolved for each individual feature, without interdependence with other features: the double-loop of an '8' vs the general slant of right-handed writing.</p>\n\n<p>I also expect that the models for individual features will converge measurably faster than one over-arching training session.</p>\n\n<p>Finally, it's quite possible that the individual models could be used in mix-and-match feature sets.  For instance, train another model to differentiate letters, while letting your previously-trained left/right flagger would still have a pretty good guess at the writer's moiety.</p>\n"}], "owner": {"reputation": 411, "user_id": 3610140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-iFb7Fx2XiJI/AAAAAAAAAAI/AAAAAAAAAEc/Mtz4mer6VK4/photo.jpg?sz=128", "display_name": "yuan0122", "link": "https://stackoverflow.com/users/3610140/yuan0122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2613, "favorite_count": 1, "accepted_answer_id": 41371381, "answer_count": 1, "score": 8, "last_activity_date": 1482969483, "creation_date": 1482966595, "question_id": 41370987, "link": "https://stackoverflow.com/questions/41370987/is-it-possible-to-merge-multiple-tensorflow-graphs-into-one", "title": "Is it possible to merge multiple TensorFlow graphs into one?", "body": "<p>I have two models trained with Tensorflow Python, exported to binary files named <code>export1.meta</code> and <code>export2.meta</code>. Both files will generate only one output when feeding with input, say output1 and output2.</p>\n\n<p>My question is if it is possible to merge two graphs into one big graph so that it will generate output1 and output2 together in one execution.</p>\n\n<p>Any comment will be helpful. Thanks in advance!</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "marshmallow"], "comments": [{"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1482973554, "post_id": 41370917, "comment_id": 69945484, "body": "A side note: I frankly don&#39;t think you need <i>both</i> <code>course_id</code> and <code>course</code>, or <code>school_id</code> and <code>school</code>; the latter in the pairs should suffice."}, {"owner": {"reputation": 161, "user_id": 6315656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jyHFg.jpg?s=128&g=1", "display_name": "CareFree", "link": "https://stackoverflow.com/users/6315656/carefree"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1482974020, "post_id": 41370917, "comment_id": 69945575, "body": "Yes, I have seen this in examples, and assumed the backref is necessary."}], "answers": [{"tags": [], "owner": {"reputation": 72, "user_id": 4724107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gUxJ0uTHbUA/AAAAAAAAAAI/AAAAAAAADEw/tbntSq5y9dY/photo.jpg?sz=128", "display_name": "Alex Seifi", "link": "https://stackoverflow.com/users/4724107/alex-seifi"}, "is_accepted": true, "score": 2, "last_activity_date": 1482968885, "creation_date": 1482968885, "answer_id": 41371298, "question_id": 41370917, "link": "https://stackoverflow.com/questions/41370917/flask-sqlalchemy-query-from-heirarchy/41371298#41371298", "title": "Flask SQLAlchemy query from heirarchy", "body": "<p>I'm not familiar with Marshmallow but I guess you can do something similar to this:</p>\n\n<pre><code>School.query.\\\n         join(Course).\\\n         join(Course.schoola).\\\n         filter(School.name == 'School Name').all()\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Student.query \\\n            .join(Course) \\\n            .join(School) \\\n            .filter(School.name == 'School Name')\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 6315656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jyHFg.jpg?s=128&g=1", "display_name": "CareFree", "link": "https://stackoverflow.com/users/6315656/carefree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 41371298, "answer_count": 1, "score": 0, "last_activity_date": 1482972655, "creation_date": 1482966063, "last_edit_date": 1482972655, "question_id": 41370917, "link": "https://stackoverflow.com/questions/41370917/flask-sqlalchemy-query-from-heirarchy", "title": "Flask SQLAlchemy query from heirarchy", "body": "<p>I'm using Flask and SQLAlchemy with marshmallow, and trying to work my head around something. If I have several models (tables) that work using Foreign Keys in a heirarchy, how can I properly query a result from the furthest child?</p>\n\n<p>Eg:</p>\n\n<pre><code>class School(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name =  db.Column(db.String(50))\n\nclass Course(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(50))\n    school_id = db.Column(db.Integer,db.ForeignKey('school.id'))\n    school = db.relationship(\"School\", backref=db.backref(\"schoola\", uselist=False))\n\nclass Student(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(60))\n    course_id = db.Column(db.Integer, db.ForeignKey('course.id'))\n    course = db.relationship(\"Course\", backref=db.backref(\"coursea\", uselist=False))\n</code></pre>\n\n<p>I've got Schemas for each in Marshmallow. What I'm looking for here is how I could retrieve all the student information for Students in a particular school (using SQLAlchemy). Later I will serialize these into JSON.</p>\n"}, {"tags": ["python", "python-3.x", "button", "tkinter", "label"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1482965667, "post_id": 41370850, "comment_id": 69943402, "body": "you need to use <code>stringVar</code>  and set <code>variable=myStringVariable</code> instead of <code>text=blah</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1482965748, "post_id": 41370850, "comment_id": 69943427, "body": "you don&#39;t need <code>bind(&#39;&lt;Button-1&gt;&#39;,...)</code> - <code>Button</code> has <code>command= </code> and you can assign function with do two things - <code>play</code> and <code>hide_me</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1482965991, "post_id": 41370850, "comment_id": 69943487, "body": "<code>bind(&#39;&lt;Button-1&gt;&#39;,...)</code> catch mouse click and doesn&#39;t send to button so it doesn&#39;t execute function assigned with <code>command=</code>. Use only <code>command=</code> and ie. <code>play(&#39;C&#39;, 2, C2)</code> to hide <code>C2</code>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1482971527, "post_id": 41370850, "comment_id": 69945057, "body": "@JoranBeasley: You don&#39;t <i>need</i> to use <code>StringVar</code>. It&#39;s one solution but it&#39;s not the only solution. You can change the text directly without using <code>StringVar</code>."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1482967271, "creation_date": 1482967271, "answer_id": 41371082, "question_id": 41370850, "link": "https://stackoverflow.com/questions/41370850/how-to-get-a-label-to-appear-on-button-press-in-python-3s-tkinter/41371082#41371082", "title": "How to get a label to appear on button press in python 3&#39;s tkinter", "body": "<p>Problem is because you use <code>bind('&lt;Button-1&gt;', ...)</code> which catch click and button doesn't execute function assigned with <code>command=</code></p>\n\n<p>Use only <code>command=</code> and send widget to <code>play()</code></p>\n\n<pre><code>import tkinter as tk\n\n# --- functions ---\n\ndef play(x, y, widget):\n\n    widget.place_forget()\n\n    l = tk.Label(root, text='HI')\n    l.place(x=x,y=y)\n\n# --- main ---\n\nroot = tk.Tk()\nroot.geometry('400x400')\nroot.configure(bg='#FFFFFF')\nroot.title('Noughts and Crosses')\n\nl = tk.Label(text='Noughts and Crosses', bg='#FFFFFF')\nl.place(x=160,y = 50)\n\nfor r, row in enumerate(('A', 'B', 'C'), 1):\n    for c, col in enumerate(('1', '2', '3'), 1):\n        name = row + col\n        x = c*100\n        y = r*100\n        b = Button(root, text=name)\n        b['command'] = lambda x0=x,y0=y,b0=b: play(x0, y0, b0)\n        b.place(x=x, y=y)\n\nroot.mainloop()\n</code></pre>\n\n<p>I use <code>for</code> loop to make it simpler but <code>lambda</code> used in <code>for</code> need <code>x0=x,y0=y,b0=b</code> to send correctly arguments to <code>play</code></p>\n\n<pre><code>lambda x0=x,y0=y,b0=b: play(x0, y0, b0)\n</code></pre>\n\n<hr>\n\n<p><strong>BTW:</strong> if you use </p>\n\n<pre><code>var = Widget(...).place(...)\nvar = Widget(...).grid(...)\nvar = Widget(...).pack(...)\n</code></pre>\n\n<p>then you assign <code>None</code> to <code>var</code> because <code>place()/grid()/pack()</code> returns <code>None</code>. </p>\n\n<p>You have to do it in two steps</p>\n\n<pre><code>var = Widget(...)\nvar.place(...)\n\nvar = Widget(...)\nvar.grid(...)\n\nvar = Widget(...)\nvar.pack(...)\n</code></pre>\n\n<p>or if you don't need <code>var</code></p>\n\n<pre><code>Widget(...).place(...)\nWidget(...).grid(...)\nWidget(...).pack(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1482967440, "creation_date": 1482967440, "answer_id": 41371103, "question_id": 41370850, "link": "https://stackoverflow.com/questions/41370850/how-to-get-a-label-to-appear-on-button-press-in-python-3s-tkinter/41371103#41371103", "title": "How to get a label to appear on button press in python 3&#39;s tkinter", "body": "<p>Replacing a single button with a label is easy.  Slightly harder is replacing any of several buttons with a label.  This requires packaging together information required to access a particular button with the generic replacement function.</p>\n\n<pre><code>import tkinter as tk\nroot = tk.Tk()\n\ndef replace_at(i,j):\n    items[i][j].grid_forget()\n    label = tk.Label(root, text='Label {}, {}'.format(i,j))\n    label.grid(row=i, column=j)\n    items[i][j] = label\n\nitems = []\nfor i in range(3):\n    row = []\n    for j in range(3):\n        button = tk.Button(root, text='Button {}, {}'.format(i,j),\n                           command=lambda i=i, j=j: replace_at(i,j))\n        button.grid(row=i, column=j)\n        row.append(button)\n    items.append(row)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 6860641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H-yWatFk-sk/AAAAAAAAAAI/AAAAAAAAADo/RT8kC5Bcj4k/photo.jpg?sz=128", "display_name": "Harvey", "link": "https://stackoverflow.com/users/6860641/harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 41371082, "answer_count": 2, "score": 0, "last_activity_date": 1482967440, "creation_date": 1482965554, "question_id": 41370850, "link": "https://stackoverflow.com/questions/41370850/how-to-get-a-label-to-appear-on-button-press-in-python-3s-tkinter", "title": "How to get a label to appear on button press in python 3&#39;s tkinter", "body": "<p>I'm attempting to write a noughts and crosses program and want it to be that when a button is pressed the button disappears and a label appears in its place, however, when i run the code as seen below the buttons disappear but the labels do not appear, any help will be appreciated and i apologize if this is a duplicate question but while searching for and answer i couldn't find an appropriate thread.</p>\n\n<pre><code>import sys\n\nfrom tkinter import *\n\ndef hide_me(event):\n    event.widget.place_forget()\n\ndef play(row, column):\n    holdx = int()\n    holdy = int()\n    if row == 'A':\n        holdx = 100\n    elif row == 'B':\n        holdx = 200\n    elif row == 'C':\n        holdx = 300\n    else:\n        print('FATAL ERROR')\n    if column == 1:\n        holdy = 100\n    elif column == 2:\n        holdy = 200\n    elif column == 3:\n        holdy = 300\n    else:\n        print('FATAL ERROR')\n    placement = Label(text='HI').place(x=holdx,y=holdy)\n\nmGui = Tk()\n\nmGui.geometry('400x400')\n\nmGui.configure(bg='#FFFFFF')\n\nmGui.title('Noughts and Crosses')\n\nmLabel= Label(text='Noughts and Crosses', bg='#FFFFFF').place(x=160,y = 50)\n\nA1 = Button(mGui, text='A1', command = lambda: play('A', 2))\n\nA1.bind('&lt;Button-1&gt;', hide_me)\n\nA1.place(x=100,y=100)\n\nA2 = Button(mGui, text='A2', command = lambda: play('A', 2))\n\nA2.bind('&lt;Button-1&gt;', hide_me)\n\nA2.place(x=200,y=100)\n\nA3 = Button(mGui, text='A3', command = lambda: play('A', 3))\n\nA3.bind('&lt;Button-1&gt;', hide_me)\n\nA3.place(x=300,y=100)\n\nB1 = Button(mGui, text='B1', command = lambda: play('B', 1))\n\nB1.bind('&lt;Button-1&gt;', hide_me)\n\nB1.place(x=100,y=200)\n\nB2 = Button(mGui, text='B2', command = lambda: play('B', 2))\n\nB2.bind('&lt;Button-1&gt;', hide_me)\n\nB2.place(x=200,y=200)\n\nB3 = Button(mGui, text='B3', command = lambda: play('B', 3))\n\nB3.bind('&lt;Button-1&gt;', hide_me)\n\nB3.place(x=300,y=200)\n\nC1 = Button(mGui, text='C1', command = lambda: play('C', 1))\n\nC1.bind('&lt;Button-1&gt;', hide_me)\n\nC1.place(x=100,y=300)\n\nC2 = Button(mGui, text='C2', command = lambda: play('C', 2))\n\nC2.bind('&lt;Button-1&gt;', hide_me)\n\nC2.place(x=200,y=300)\n\nC3 = Button(mGui, text='C3', command = lambda: play('C', 3))\n\nC3.bind('&lt;Button-1&gt;', hide_me)\n\nC3.place(x=300,y=300)\n\nmGui.mainloop()\n</code></pre>\n\n<p>Thanks in advance to anyone who answers my question.</p>\n"}, {"tags": ["python", "django", "django-cms"], "comments": [{"owner": {"reputation": 6108, "user_id": 389453, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oCmID.jpg?s=128&g=1", "display_name": "Paulo", "link": "https://stackoverflow.com/users/389453/paulo"}, "edited": false, "score": 0, "creation_date": 1482977666, "post_id": 41370827, "comment_id": 69946284, "body": "Hello, does this happen to all pages? or only a select few? And do these placeholders render on the toolbar? or nothing renders at all?"}, {"owner": {"reputation": 111, "user_id": 6854954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73221c955d825d93be422b3b263e2a44?s=128&d=identicon&r=PG", "display_name": "Harry Wallace", "link": "https://stackoverflow.com/users/6854954/harry-wallace"}, "reply_to_user": {"reputation": 6108, "user_id": 389453, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oCmID.jpg?s=128&g=1", "display_name": "Paulo", "link": "https://stackoverflow.com/users/389453/paulo"}, "edited": false, "score": 0, "creation_date": 1483030731, "post_id": 41370827, "comment_id": 69970104, "body": "Hi @Paulo, thanks for your comment. This is happening on all pages, and no, the placeholders do not render on the toolbar. There is no option to navigate to the Structure view in the toolbar, so I think the placeholders themselves are not being recognized/rendered at all."}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1483099237, "post_id": 41370827, "comment_id": 69993481, "body": "Can you post an example template that&#39;s not rendering placeholders? I had this recently, so maybe it&#39;ll help."}, {"owner": {"reputation": 111, "user_id": 6854954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73221c955d825d93be422b3b263e2a44?s=128&d=identicon&r=PG", "display_name": "Harry Wallace", "link": "https://stackoverflow.com/users/6854954/harry-wallace"}, "reply_to_user": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1483120749, "post_id": 41370827, "comment_id": 70003170, "body": "@markwalker_ , I edited the question to include snippets of an example template where a placeholder is not rendering. Hope this gives more context. Thanks in advance for the help!"}], "owner": {"reputation": 111, "user_id": 6854954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73221c955d825d93be422b3b263e2a44?s=128&d=identicon&r=PG", "display_name": "Harry Wallace", "link": "https://stackoverflow.com/users/6854954/harry-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483120681, "creation_date": 1482965381, "last_edit_date": 1483120681, "question_id": 41370827, "link": "https://stackoverflow.com/questions/41370827/placeholders-not-rendering-after-upgrade-to-django-cms-3-4", "title": "Placeholders not rendering after upgrade to django CMS 3.4", "body": "<p>I am trying to upgrade django CMS to version 3.4.1 from 3.3.0. I am following the upgrade instructions <a href=\"http://docs.django-cms.org/en/release-3.4.x/upgrade/3.4.html#upgrading-to-3-4\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>After running</p>\n\n<pre><code>python manage.py migrate \npython manage.py cms fix-tree\n</code></pre>\n\n<p>I boot up my dev server and navigate to one of my pages, but none of the configured placeholders render. </p>\n\n<p>I have verified that there are placeholders for the page, and plugins for those placeholders, in the database. Furthermore, by simply downgrading back to version 3.3.0, the placeholders and plugins all render correctly again.</p>\n\n<p>I am not manually rendering the placeholders, as is mentioned as a possible issue <a href=\"http://docs.django-cms.org/en/release-3.4.x/upgrade/3.4.html#manual-plugin-rendering\" rel=\"nofollow noreferrer\">here in the upgrade notes</a>. I am simply using the placeholder tag from <code>cms_tags</code> as mentioned in the documentation <a href=\"http://docs.django-cms.org/en/release-3.4.x/reference/templatetags.html#placeholder\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Does anyone have any idea what the issue could be? Let me know if I can provide any further information or clarification. Thanks in advance!</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>It was asked that I provide an example template where the placeholder is not rendering. I have provided that below:</p>\n\n<p>cms/home.html</p>\n\n<pre><code>{% extends 'cms/base.html' %}\n\n{% load cms_tags sekizai_tags %}\n{% load humanize %}\n{% load staticfiles %}\n\n{%block content %}\n  &lt;div class=\" o-page-content o-page-content--home\"&gt;\n    &lt;div class=\"o-hero o-hero--home\"&gt;\n      &lt;div class=\"o-hero__content\"&gt;\n        &lt;h1 class=\"o-hero__heading\"&gt;\n        &lt;span class=\"o-hero__heading--topline\"&gt;Your guide to&lt;/span&gt;\n        financial &lt;span class=\"o-hero__heading--emphasized\"&gt;health.&lt;/span&gt;\n        &lt;/h1&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"l-container\"&gt;\n      {{ block.super }}\n      &lt;div class=\"l-row\"&gt;\n        &lt;div class=\"l-whole--xs c-under-hero\"&gt;\n          &lt;h1 class=\"c-under-hero__text\"&gt;Some content&lt;/h1&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"l-row\"&gt;\n        &lt;div class=\"l-whole--xs\"&gt;\n          &lt;div class=\"o-service-block\"&gt;\n            {% placeholder 'body' %}\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>cms/base.html</p>\n\n<pre><code>{% load cms_tags staticfiles sekizai_tags django_seo_js %}\n{% load static from staticfiles %}\n{% load imagekit %}\n{% load pipeline %}\n\n&lt;!DOCTYPE html&gt;\n&lt;!--[if IE 8]&gt; &lt;html lang=\"en\" class=\"ie8\" {% if post.vertical %}ng-app=\"app\" ng-controller=\"{{ post.vertical }}Controller\"{% endif %}&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 9]&gt; &lt;html lang=\"en\" class=\"ie9\" {% if post.vertical %}ng-app=\"app\" ng-controller=\"{{ post.vertical }}Controller\"{% endif %}&gt;\n&lt;![endif]--&gt;\n&lt;!--[if !IE]&gt;&lt;!--&gt;\n&lt;html lang=\"en\" ng-app=\"app\"\n  {% if request.current_page.verticalextension %}\n    ng-controller=\"{{ request.current_page.verticalextension.vertical }}Controller as vm\"\n  {% endif %}&gt;&lt;!--&lt;![endif]--&gt;\n\n  &lt;head&gt;\n    {% block appletitle %}\n    {% endblock %}\n\n    &lt;!-- For the bots --&gt;\n    {% block metadata %}\n      &lt;!-- Meta --&gt;\n      &lt;meta charset=\"utf-8\" /&gt;\n      &lt;meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\"&gt;\n      &lt;meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\" /&gt;\n      &lt;meta content=\"en-US\" property=\"og:locale\" itemprop=\"inLanguage\"/&gt;\n    {% endblock %}\n\n    {% block header_scripts %}\n      {% seo_js_head %}\n    {% endblock %}\n\n    {% addtoblock \"css\" %}\n      &lt;!-- CSS Support --&gt;\n      {% stylesheet 'base' %}\n\n      {% if request.toolbar.edit_mode %}\n        {% stylesheet 'edit' %}\n      {% endif %}\n    {% endaddtoblock %}\n\n    {% render_block \"css\" %}\n\n    &lt;!-- Style Sheet Files --&gt;\n    {% block css_files %}\n      {% stylesheet request.onsite_stylesheet %}\n    {% endblock %}\n\n    &lt;!-- Adding a favicon --&gt;\n    &lt;link rel=\"apple-touch-icon-precomposed\" sizes=\"144x144\" href=\"{% static \"img/apple-touch-icon-144x144.png\" %}\" /&gt;\n    &lt;link rel=\"apple-touch-icon-precomposed\" sizes=\"152x152\" href=\"{% static \"img/apple-touch-icon-152x152.png\" %}\" /&gt;\n    &lt;link rel=\"icon\" type=\"image/png\" href=\"{% static \"img/favicon-32x32.png\" %}\" sizes=\"32x32\" /&gt;\n    &lt;link rel=\"icon\" type=\"image/png\" href=\"{% static \"img/favicon-16x16.png\" %}\" sizes=\"16x16\" /&gt;\n    &lt;meta name=\"msapplication-TileColor\" content=\"#FFFFFF\"/&gt;\n    &lt;meta name=\"msapplication-TileImage\" content=\"{% static \"img/mstile-144x144.png\" %}\" /&gt;\n\n    &lt;!-- Include the dataLayer, Google Tag Manager, and the MF variable --&gt;\n    {% include 'cms/partials/data_layer.html' %}\n\n    &lt;!-- Analytics Tracking Codes --&gt;\n    {% include 'cms/partials/segment.html' %}\n\n    &lt;!-- Import jQuery before all other JS --&gt;\n    &lt;script src='{% static \"bower_components/jquery/dist/jquery.min.js\" %}'&gt;&lt;/script&gt;\n\n    &lt;!-- Taboola Script --&gt;\n    {% include 'cms/partials/taboola.html' %}\n\n  &lt;/head&gt;\n  &lt;body&gt;\n    {% cms_toolbar %}\n\n    &lt;!--=== Header ===--&gt;\n    {% block header_content %}\n      {% include 'cms/partials/header.html' %}\n    {% endblock %}\n    {% block breadcrumbs%}\n    {% endblock %}\n\n    {% block content %}\n    {% endblock %}\n\n    {% block input_block %}\n    {% endblock %}\n\n\n    {% block footer_content %}\n      {% include 'cms/partials/footer.html' %}\n    {% endblock %}\n\n    {% block optin %}\n      {% include 'cms/partials/optin.html' %}\n    {% endblock optin %}\n\n    &lt;script&gt;\n      $(document).ready(function() {\n        App.init();\n      });\n    &lt;/script&gt;\n\n    {% addtoblock \"js\" %}\n      &lt;!-- Mixpanel --&gt;\n      &lt;script src='{% static \"js/vendor/mixpanel.js\" %}'&gt;&lt;/script&gt;\n\n      {% javascript 'base' %}\n      &lt;!-- Djangular Javascript --&gt;\n      &lt;script src=\"{% static 'djangular/js/django-angular.min.js' %}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n      &lt;!-- custom angular code --&gt;\n      {% javascript 'ng' %}\n\n      {% javascript 'jq' %}\n      &lt;script src=\"https://maps.googleapis.com/maps/api/js?libraries=places&amp;extension=.js\"&gt;&lt;/script&gt;\n\n      {% if request.toolbar.edit_mode %}\n        {% javascript 'edit' %}\n      {% endif %}\n    {% endaddtoblock %}\n\n    {% block page_scripts %}\n    {% endblock %}\n\n    {% render_block \"js\" %}\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can see the <code>{% placeholder 'body' %}</code> tag included in cms/home.html, and I have included cms/base.html since the home template inherits from it.</p>\n"}, {"tags": ["python", "amazon-redshift", "psycopg2", "psql"], "comments": [{"owner": {"reputation": 126, "user_id": 5451566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eVnG4FjAc-I/AAAAAAAAAAI/AAAAAAAAF3Y/27p_xqkZAK4/photo.jpg?sz=128", "display_name": "Karen Clark", "link": "https://stackoverflow.com/users/5451566/karen-clark"}, "edited": false, "score": 0, "creation_date": 1482965815, "post_id": 41370810, "comment_id": 69943446, "body": "The pattern you are using assumes a FIELD/VALUES pair will be modified. Does the pattern work for an INSERT statement with a FIELD/VALUE pair? Thinking maybe you can&#39;t use this paradigm for a single statement like you are trying...?"}, {"owner": {"reputation": 126, "user_id": 5451566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eVnG4FjAc-I/AAAAAAAAAAI/AAAAAAAAF3Y/27p_xqkZAK4/photo.jpg?sz=128", "display_name": "Karen Clark", "link": "https://stackoverflow.com/users/5451566/karen-clark"}, "edited": false, "score": 0, "creation_date": 1482965893, "post_id": 41370810, "comment_id": 69943463, "body": "If you scroll down, you can see sample code that exhibits this paradigm:  # Execute a command: this creates a new table &gt;&gt;&gt; cur.execute(&quot;CREATE TABLE test (id serial PRIMARY KEY, num integer, data varchar);&quot;)  # Pass data to fill a query placeholders and let Psycopg perform # the correct conversion (no more SQL injections!) &gt;&gt;&gt; cur.execute(&quot;INSERT INTO test (num, data) VALUES (%s, %s)&quot;, ...      (100, &quot;abc&#39;def&quot;))"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1482965740, "last_edit_date": 1482965740, "creation_date": 1482965414, "answer_id": 41370835, "question_id": 41370810, "link": "https://stackoverflow.com/questions/41370810/psycopg2-query-not-parsing-parameters-properly/41370835#41370835", "title": "psycopg2 query not parsing parameters properly?", "body": "<p>You've got an exceptional case that is described later in the <a href=\"http://initd.org/psycopg/docs/usage.html#passing-parameters-to-sql-queries\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Only variable values should be bound via this method: <strong>it shouldn\u2019t be\n  used to set table or field names</strong>. For these elements, ordinary string\n  formatting should be used before running execute().</p>\n</blockquote>\n\n<p>In other words, <em>you cannot parameterize table or column names</em> and have to use <em>string formatting</em>:</p>\n\n<pre><code>query = \"TRUNCATE TABLE %s;\"\nvalues = (\"schema_one.tbl_six\",)\ncur.execute(query % values)\n</code></pre>\n\n<p>Or, with <code>str.format()</code>:</p>\n\n<pre><code>query = \"TRUNCATE TABLE {table_name};\"\ncur.execute(query.format(table_name=\"schema_one.tbl_six\"))\n</code></pre>\n\n<p>That said, you should still be careful and validate/escape the table name to prevent <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection attacks</a> even if you trust the source.</p>\n"}], "owner": {"reputation": 1137, "user_id": 1955720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6af8482c7db54924a35d1148515b964f?s=128&d=identicon&r=PG", "display_name": "Thom Rogers", "link": "https://stackoverflow.com/users/1955720/thom-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 1, "accepted_answer_id": 41370835, "answer_count": 1, "score": 3, "last_activity_date": 1482965740, "creation_date": 1482965266, "question_id": 41370810, "link": "https://stackoverflow.com/questions/41370810/psycopg2-query-not-parsing-parameters-properly", "title": "psycopg2 query not parsing parameters properly?", "body": "<p>Using python 2.7.12  with psycopg2 version 2.6.2 and having no success in submitting a generated query (as opposed to a string I just type in). Querying against an AWS RedShift instance.</p>\n\n<p>When I try to run the code what happens is that it fails because an extraneous parenthesis is added (when I use the <code>(%s)</code> construction ... or an extra single quote is added if I use just <code>%s</code> instead).  I've tried to follow the docs very carefully and have also searched here and google, but am getting nowhere.  Does anybody out there have any advice on how to solve this problem?</p>\n\n<p>I've tried very hard to follow the docs at <a href=\"http://initd.org/psycopg/docs/usage.html#query-parameters\" rel=\"nofollow noreferrer\">http://initd.org/psycopg/docs/usage.html#query-parameters</a>:\n<a href=\"https://i.stack.imgur.com/N7NWl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N7NWl.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code looks like this:</p>\n\n<pre><code>con = psycopg2.connect(dbname=dbname, host=host, port=port, user=user, password=password)\ncur = con.cursor()\n\ntry3 = \"TRUNCATE TABLE (%s);\"\nvalues = (\"schema_one.tbl_six\",)\ncur.execute(try3,values)\n\ntry4 = \"TRUNCATE TABLE %s;\"\nvalues = (\"schema_four.tbl_four\",)\ncur.execute(try4,values)  \n</code></pre>\n\n<p>Which produces this output:</p>\n\n<pre><code>$ ./test_qry.py\nTraceback (most recent call last):\n  File \"./test_qry.py\", line 23, in &lt;module&gt;\n    cur.execute(try3,values)\npsycopg2.ProgrammingError: syntax error at or near \"(\"\nLINE 1: TRUNCATE TABLE ('schema_one.tbl_six');\n\n$ ./test_qry.py\nTraceback (most recent call last):\n  File \"./test_qry.py\", line 28, in &lt;module&gt;\n    cur.execute(try4,values)\npsycopg2.ProgrammingError: syntax error at or near \"'schema_four.tbl_four'\"\nLINE 1: TRUNCATE TABLE 'schema_four.tbl_four';\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482967049, "post_id": 41370790, "comment_id": 69943791, "body": "Just do <code>w2vmodel.save(sc, &#39;filename&#39;)</code>"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482967404, "post_id": 41370790, "comment_id": 69943916, "body": "Doesn&#39;t work. I did that. Same error.Wait. I need pass spark context. ok let me try that"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482967688, "post_id": 41370790, "comment_id": 69944000, "body": "Ok doesn&#39;t work. Same error. Spark Docs also doesn&#39;t say we need to pass spark context."}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482968363, "post_id": 41370790, "comment_id": 69944202, "body": "I was looking through previous open issues on GitHub and saw that, but perhaps I made a mistake. It does appear however that this is a known issue, and that there appears to be problems loading it as well. Is it not possible to <code>pickle</code> this model for use later? What version of Spark are you using as well?"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482968555, "post_id": 41370790, "comment_id": 69944252, "body": "It&#39;s a spark model. Can I pickle it?"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482968734, "post_id": 41370790, "comment_id": 69944301, "body": "You should be able to. It is strange that you can&#39;t save it since it is clearly mentioned here <a href=\"https://spark.apache.org/docs/2.0.0/api/java/org/apache/spark/ml/util/MLWritable.html\" rel=\"nofollow noreferrer\">spark.apache.org/docs/2.0.0/api/java/org/apache/spark/ml/uti&zwnj;&#8203;l/&hellip;</a> as being able to be saved."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482968840, "post_id": 41370790, "comment_id": 69944334, "body": "well there docs example of word2vec shows too that it can be saved. But I get the error"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1482970190, "post_id": 41370790, "comment_id": 69944749, "body": "its a spark model object. While pickling it is throwing an error"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482965140, "creation_date": 1482965140, "question_id": 41370790, "link": "https://stackoverflow.com/questions/41370790/spark-word2vec-save-method-error", "title": "Spark Word2Vec .save() method error", "body": "<p>I am trying to use Word2Vec method of Spark ML. However when I try to save the model object using both </p>\n\n<p>model.save() or model.write().save() it throws me the following error. </p>\n\n<pre><code>---&gt; 69 w2vdf,w2vmodel=word2Vec(sdf_cleaned)\n\n&lt;ipython-input-244-e0067f9959c6&gt; in word2Vec(df)\n     60 \n     61     # Saving the model\n---&gt; 62     w2vmodel.write().save()\n     63 \n     64     return w2vdf,w2vmodel\n\nAttributeError: 'Word2VecModel' object has no attribute 'write\n</code></pre>\n\n<p>Here is the code I wrote. </p>\n\n<pre><code>def word2Vec(df):\n    \"\"\" This function takes in the data frame of the texts and finds the Word vector \n    representation of that\n\n    \"\"\"\n\n\n    from pyspark.ml.feature import Tokenizer, Word2Vec\n\n\n    # Carrying out the Tokenization of the text documents (splitting into words)\n\n    tokenizer = Tokenizer(inputCol=\"desc\", outputCol=\"tokenised_text\")\n    tokensDf = tokenizer.transform(df)\n\n    # Implementing the word2Vec model\n\n    word2Vec = Word2Vec(vectorSize=100, seed=42, inputCol=\"tokenised_text\", outputCol=\"model\")\n    w2vmodel = word2Vec.fit(tokensDf)\n    w2vdf=w2vmodel.transform(tokensDf)\n\n    # Saving the model \n    w2vmodel.write().save()\n\n    return w2vdf,w2vmodel\n</code></pre>\n\n<p>My second question is is it possible to get vector representation for each document and not individual words?. Like does Spark have Doc2Vec functionality implemented?</p>\n"}, {"tags": ["python", "qt", "matplotlib", "tk", "ubuntu-16.04"], "answers": [{"comments": [{"owner": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1483035503, "post_id": 41383235, "comment_id": 69972442, "body": "Where is the <code>.wishrc</code> file located on Ubuntu?"}, {"owner": {"reputation": 5004, "user_id": 1930666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiEzi.jpg?s=128&g=1", "display_name": "Brad Lanam", "link": "https://stackoverflow.com/users/1930666/brad-lanam"}, "reply_to_user": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1483041521, "post_id": 41383235, "comment_id": 69975078, "body": "You will need to create it in your $HOME directory."}, {"owner": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1483127905, "post_id": 41383235, "comment_id": 70006292, "body": "I entered <code>tk scaling -displayof . 2</code> into the <code>.wishrc</code> file but it does nothing to the figure size."}, {"owner": {"reputation": 5004, "user_id": 1930666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiEzi.jpg?s=128&g=1", "display_name": "Brad Lanam", "link": "https://stackoverflow.com/users/1930666/brad-lanam"}, "reply_to_user": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1483129236, "post_id": 41383235, "comment_id": 70006765, "body": "To be expected.   Plots canvases do not automatically scale.  You will need to push this back to the TkAgg author and have him honor <code>tk scaling</code>.   You really only have two choices at this point:  Use a magnifier tool or change your monitor resolution."}, {"owner": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1484617518, "post_id": 41383235, "comment_id": 70572584, "body": "Can I make Matplotlib use a different backend that supports 4K displays?"}], "tags": [], "owner": {"reputation": 5004, "user_id": 1930666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiEzi.jpg?s=128&g=1", "display_name": "Brad Lanam", "link": "https://stackoverflow.com/users/1930666/brad-lanam"}, "is_accepted": false, "score": 0, "last_activity_date": 1483027592, "creation_date": 1483027592, "answer_id": 41383235, "question_id": 41370779, "link": "https://stackoverflow.com/questions/41370779/using-matplotlib-with-tkagg-or-qt5agg-backend-on-4k-screen/41383235#41383235", "title": "Using Matplotlib with TKAgg or Qt5Agg backend on 4K screen", "body": "<p>One thing you will want to do is set your <code>tk scaling</code> factor properly.  Add a <code>tk scaling</code> command to your <code>.wishrc</code> file.  The <a href=\"http://wiki.tcl-lang.org/8484\" rel=\"nofollow noreferrer\">tk scaling wiki</a> page has a couple of tools that can be used to determine the proper scaling factor.</p>\n\n<p>This might help, but most likely, whoever wrote TkAgg will also need to put in some work to make their application work better on high resolution displays (it is mostly possible).  In general, too many programs are written around pixel sizes (where the real size changes depending on resolution) and not points or mm.</p>\n\n<p>And your display might turn out worse, as the plot canvas will not scale and other widgets and font might scale properly.</p>\n\n<p>As this is a canvas display, getting the scaling to work properly will be a lot of hard work.</p>\n\n<p>You may have to find a fast way to switch your monitor resolution back and forth so that you can get your work done.</p>\n\n<p>References: <a href=\"http://www.tcl-lang.org/man/tcl/TkCmd/tk.htm\" rel=\"nofollow noreferrer\">tk scaling</a> , <a href=\"http://wiki.tcl-lang.org/8484\" rel=\"nofollow noreferrer\">tk scaling (wiki)</a></p>\n"}, {"comments": [{"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1549978808, "post_id": 54650655, "comment_id": 96094091, "body": "One addition: To have this work automatically, you can just add the <code>dpi</code> setting to your <code>rcParams</code>: <code>plt.rcParams[&quot;figure.dpi&quot;] = 300</code>. But I think, in new mpl versions, the Qt5 backend automatically detects the pixel scaling"}], "tags": [], "owner": {"reputation": 7392, "user_id": 869482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355452612bf8ed80ee87ba7567387c49?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Timmerman", "link": "https://stackoverflow.com/users/869482/jens-timmerman"}, "is_accepted": true, "score": 1, "last_activity_date": 1549976330, "creation_date": 1549976330, "answer_id": 54650655, "question_id": 41370779, "link": "https://stackoverflow.com/questions/41370779/using-matplotlib-with-tkagg-or-qt5agg-backend-on-4k-screen/54650655#54650655", "title": "Using Matplotlib with TKAgg or Qt5Agg backend on 4K screen", "body": "<p>You can tell matplotlib to create a high dpi figure using</p>\n\n<pre><code>plt.figure(dpi=300)\n</code></pre>\n\n<p>before creating your plot. You can save your plot in higher dpi using:</p>\n\n<pre><code>plt.savefig(\"figurename.png\", dpi=300)\n</code></pre>\n"}], "owner": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2362, "favorite_count": 2, "accepted_answer_id": 54650655, "answer_count": 2, "score": 5, "last_activity_date": 1549976330, "creation_date": 1482965074, "last_edit_date": 1486858584, "question_id": 41370779, "link": "https://stackoverflow.com/questions/41370779/using-matplotlib-with-tkagg-or-qt5agg-backend-on-4k-screen", "title": "Using Matplotlib with TKAgg or Qt5Agg backend on 4K screen", "body": "<p>I'm using Matplotlib 2.0 with Python 3.6 on Ubuntu 16.04 to create plots of data. The computer monitor is 4k resolution at 3840x2160. Plot figures appear really small with tiny font:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yemme.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yemme.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried the <code>TKAgg</code> and <code>Qt5Agg</code> backends for Matplotlib but the figure window still appears small on my 4K display.</p>\n\n<p>Can the backend be configured to scale the figure windows for better viewing on high resolution displays?</p>\n"}, {"tags": ["python", "matplotlib", "machine-learning", "plot", "graph"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1482966278, "post_id": 41370734, "comment_id": 69943569, "body": "You have more than 10 y-values per x value. You need to tell us what you would like to plot against what."}, {"owner": {"reputation": 77, "user_id": 5935291, "user_type": "registered", "profile_image": "https://graph.facebook.com/947430878623387/picture?type=large", "display_name": "Danyal Imran", "link": "https://stackoverflow.com/users/5935291/danyal-imran"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1483009026, "post_id": 41370734, "comment_id": 69958243, "body": "I have no idea tbh, i just to check how they can be visualized in a scatterplot @ImportanceOfBeingErnest"}], "answers": [{"tags": [], "owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "is_accepted": true, "score": 1, "last_activity_date": 1483048204, "last_edit_date": 1495542827, "creation_date": 1483048204, "answer_id": 41387670, "question_id": 41370734, "link": "https://stackoverflow.com/questions/41370734/eplotting-scatter-plot-of-multidimensional-features/41387670#41387670", "title": "EPlotting Scatter Plot of Multidimensional Features", "body": "<p>As <a href=\"https://stackoverflow.com/users/4124317/importanceofbeingernest\">ImportanceOfBeingEarnest</a> says, the problem is the size of the array.</p>\n\n<p>For scatter you need an array with the coordinates of the points (x and y).\nBut featureB is an array with many values.</p>\n\n<pre><code>&gt;&gt;&gt; print(featureB[:2])\n[[11, 36, 60, 85, 110, 134, 159, 183, 208, 232, 257, 286, 310, 335],\n[11, 41, 69, 98, 127, 155, 184, 213, 241, 270, 299, 327, 356]]\n</code></pre>\n\n<p>Then you need to transform training_feature to something like this:</p>\n\n<pre><code>points = []\nfor x in training_feature:\n    for y in x[1]:\n        points.append([x[0], y])\npoints = np.array(points)\n\npoints.shape # (80, 2)\n</code></pre>\n\n<p>And now if we can use plt.scatter!</p>\n\n<pre><code>plt.scatter(points[:, 0], points[:, 1])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QKQs6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKQs6.png\" alt=\"scatter_example\"></a></p>\n\n<p>I do not understand that you wanted to plot, but I hope it works for you!...</p>\n"}], "owner": {"reputation": 77, "user_id": 5935291, "user_type": "registered", "profile_image": "https://graph.facebook.com/947430878623387/picture?type=large", "display_name": "Danyal Imran", "link": "https://stackoverflow.com/users/5935291/danyal-imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 41387670, "answer_count": 1, "score": 0, "last_activity_date": 1551897035, "creation_date": 1482964751, "last_edit_date": 1551897035, "question_id": 41370734, "link": "https://stackoverflow.com/questions/41370734/eplotting-scatter-plot-of-multidimensional-features", "title": "EPlotting Scatter Plot of Multidimensional Features", "body": "<p>I am having problem plotting a scatter plot</p>\n\n<p>I want to plot the value of Audio features on a scatter plot for clear visuals (for not i have 5 audio files in my training set - which i'll use to train KNN/SVM etc after increasing my data set) </p>\n\n<p>The training_labels marked are\n<code>[0, 0, 1, 2, 1]</code></p>\n\n<p>While training_feature values are</p>\n\n<pre><code>[\n    [103.359375, [11, 36, 60, 85, 110, 134, 159, 183, 208, 232, 257, 286, 310, 335]], \n    [89.10290948275862, [11, 41, 69, 98, 127, 155, 184, 213, 241, 270, 299, 327, 356]], \n    [151.99908088235293, [7, 24, 41, 57, 73, 90, 107, 123, 140, 157, 173, 189, 206, 223, 239, 256, 272, 290, 307, 325, 343, 360, 377]], \n    [143.5546875, [39, 57, 77, 95, 114, 132, 150, 168, 186, 204, 222, 239, 256, 272, 288, 305, 322, 340]], \n    [83.35433467741936, [8, 38, 70, 101, 137, 168, 199, 230, 266, 298, 334, 365]]\n]\n</code></pre>\n\n<p>Each object to be classified have 2 features called <code>tempo</code> and <code>beat per minute</code></p>\n\n<p>How can i plot this in a scatter plot?</p>\n\n<p>I tried the following but it fails due to difference between sizes of x and y</p>\n\n<pre><code>featureA = [x[0] for x in training_features]\nfeatureB = [x[1] for x in training_features]\n\nplt.scatter(featureA[:2], featureB[:2])\nplt.scatter(featureA[2:], featureB[2:], color='r')\nplt.xlabel('Beat Frame')\nplt.ylabel('Tempo')\n</code></pre>\n\n<p>This give me an error <code>ValueError: setting an array element with a sequence.</code>. Help please :)</p>\n\n<p>Edit: One more thing, how can i plot multiple feature i.e(>2), i want to use spectral centroid, zero crossing rate, mfcc etc, and then plot the results</p>\n"}, {"tags": ["python", "urllib"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1482964871, "post_id": 41370728, "comment_id": 69943145, "body": "Which version of python are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 5840953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8d19ee7f7690241d755b2e7a75a495?s=128&d=identicon&r=PG&f=1", "display_name": "Boyka", "link": "https://stackoverflow.com/users/5840953/boyka"}, "edited": false, "score": 0, "creation_date": 1482965685, "post_id": 41370747, "comment_id": 69943407, "body": "thank you sir for helping .I made that mistake by checking online source for python 2.x"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1482964856, "creation_date": 1482964856, "answer_id": 41370747, "question_id": 41370728, "link": "https://stackoverflow.com/questions/41370728/what-is-wrong-with-my-code-urlopen-function/41370747#41370747", "title": "What is wrong with my code urlopen function?", "body": "<p>In Python 3, <a href=\"https://docs.python.org/3/library/urllib.html\" rel=\"nofollow noreferrer\"><code>urllib</code></a> is now a package that collects multiple modules. <a href=\"https://docs.python.org/3/library/urllib.request.html#urllib.request.urlopen\" rel=\"nofollow noreferrer\"><code>urlopen()</code> is now a part of <code>urllib.request</code> module</a>:</p>\n\n<pre><code>from urllib.request import urlopen\n</code></pre>\n\n<p>Then using it:</p>\n\n<pre><code>connection = urlopen(\"https://www.wdylike.appspot.com/?q=\" + text)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "is_accepted": false, "score": 1, "last_activity_date": 1482964891, "creation_date": 1482964891, "answer_id": 41370751, "question_id": 41370728, "link": "https://stackoverflow.com/questions/41370728/what-is-wrong-with-my-code-urlopen-function/41370751#41370751", "title": "What is wrong with my code urlopen function?", "body": "<p>Well, because <code>urllib</code> does not have a <code>urlopen</code> method.</p>\n\n<p>In Python2 you should use <code>urllib2</code>, while in Python 3 you should use <code>urllib.request</code></p>\n"}], "owner": {"reputation": 138, "user_id": 5840953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8d19ee7f7690241d755b2e7a75a495?s=128&d=identicon&r=PG&f=1", "display_name": "Boyka", "link": "https://stackoverflow.com/users/5840953/boyka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 41370747, "answer_count": 2, "score": 0, "last_activity_date": 1482965075, "creation_date": 1482964727, "last_edit_date": 1482965075, "question_id": 41370728, "link": "https://stackoverflow.com/questions/41370728/what-is-wrong-with-my-code-urlopen-function", "title": "What is wrong with my code urlopen function?", "body": "<p>Below is my python code to check curse word in the file.\nBut i am unable to find why the compiler is showing error: <code>module 'urllib' has no attribute 'urlopen'</code>.</p>\n\n<pre><code>import urllib\ndef read_txt():\n   quote = open(\"c:\\\\read.txt\")  #for opening the file\n\n   content = quote.read()  #for reading content in a file\n   print(content)\n   quote.close()  #for closing the file\n   check_profanity(content)\n\n\ndef check_profanity(text):\n   connection = urllib.urlopen(\"https://www.wdylike.appspot.com/?q=\" + text)\n   ouput = connection.read()\n   print(output)\n   connection.close() \nread_txt()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 1851402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FCecO.jpg?s=128&g=1", "display_name": "Blackecho", "link": "https://stackoverflow.com/users/1851402/blackecho"}, "is_accepted": true, "score": 4, "last_activity_date": 1482965529, "creation_date": 1482965529, "answer_id": 41370848, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/41370848#41370848", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>In your loop, <code>df</code> is just a temporary value, not a reference to the corresponding list element. If you want to modify the list while iterating it, you have to reference the list by index. You can do that using Python's enumerate:</p>\n\n<pre><code>for i, (df, dikt) in enumerate(zip(dfs, dicts)):\n    dfs[i] = df.from_dict(dikt, orient='columns', dtype=None)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 447, "user_id": 5556887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb86c8d689592c71cc88a42c7981c252?s=128&d=identicon&r=PG&f=1", "display_name": "bouletta", "link": "https://stackoverflow.com/users/5556887/bouletta"}, "edited": false, "score": 0, "creation_date": 1482965651, "post_id": 41370856, "comment_id": 69943393, "body": "leaving this here but @Blackecho is much better"}], "tags": [], "owner": {"reputation": 447, "user_id": 5556887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb86c8d689592c71cc88a42c7981c252?s=128&d=identicon&r=PG&f=1", "display_name": "bouletta", "link": "https://stackoverflow.com/users/5556887/bouletta"}, "is_accepted": false, "score": 0, "last_activity_date": 1482965579, "creation_date": 1482965579, "answer_id": 41370856, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/41370856#41370856", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>I don't have an explanation for why that is so. However a workaround is:</p>\n\n<pre><code>dict0={'actual': {'2013-02-20 13:30:00': 0.93}}\ndict1={'actual': {'2013-02-20 13:30:00': 0.85}}\ndict2={'actual': {'2013-02-20 13:30:00': 0.98}}\ndicts=[dict0, dict1, dict2]\n\ndfs = []\n\nfor dikt in dicts:\n    df = df.from_dict(dikt, orient='columns', dtype=None)\n    dfs.append(df)\n</code></pre>\n\n<p>Now </p>\n\n<pre><code>dfs[0]\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>                     actual\n2013-02-20 13:30:00    0.93\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2451, "user_id": 4702072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hub0mTOr0DQ/AAAAAAAAAAI/AAAAAAAAABI/Kmd7FYRMRwY/photo.jpg?sz=128", "display_name": "YOBA", "link": "https://stackoverflow.com/users/4702072/yoba"}, "is_accepted": false, "score": 1, "last_activity_date": 1482965783, "creation_date": 1482965783, "answer_id": 41370886, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/41370886#41370886", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>You need to keep the reference to the df objects, so you can try:</p>\n\n<pre><code>for idx, dikt in enumerate(dicts):\n    dfs[idx] = dfs[idx].from_dict(dikt, orient='columns', dtype=None)\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4322543"}, "edited": false, "score": 0, "creation_date": 1482971047, "post_id": 41370939, "comment_id": 69944959, "body": "Your three for-loop solution needlessly deconstructs the existing dicts."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1482971203, "post_id": 41370939, "comment_id": 69944988, "body": "@fuzzyhedge no, it doesn&#39;t, I need to get at those keys and values in order to use <code>set_value</code>.  Using <code>set_value</code> or <code>pd.DataFrame.at</code> or <code>pd.DataFrame.loc</code> are the only options I could think of to edit dataframe in place.  In order to get at those row, column, value combinations, I had to iterate.  I could have used a dataframe constructor just to iterate through it, but that was unnecessary."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1482970343, "last_edit_date": 1482970343, "creation_date": 1482966234, "answer_id": 41370939, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/41370939#41370939", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>This will get it done in place!!!<br>\nPlease <strong><em>note</em></strong> the 3 exclamations </p>\n\n<p><strong><em>one liner</em></strong>  </p>\n\n<pre><code>[dfs[i].set_value(r, c, v)\n for i, dn in enumerate(dicts)\n for r, dr in dn.items()\n for c, v in dr.items()]; \n</code></pre>\n\n<hr>\n\n<p><strong><em>somewhat more intuitive</em></strong>  </p>\n\n<pre><code>for d, df in zip(dicts, dfs):\n    temp = pd.DataFrame(d).stack()\n    for (r, c), v in temp.iteritems():\n        df.set_value(r, c, v)\n\ndf0\n\n                     actual\n2013-02-20 13:30:00    0.93\n</code></pre>\n\n<hr>\n\n<p><strong><em>equivalent alternative</em></strong><br>\nwithout the <code>pd.DataFrame</code> construction</p>\n\n<pre><code>for i, dn in enumerate(dicts):\n    for r, dr in dn.items():\n        for c, v in dr.items():\n            dfs[i].set_value(r, c, v)\n</code></pre>\n\n<hr>\n\n<p><strong><em>Why is this different?</em></strong><br>\nAll the other answers, so far, reassign a new dataframe to the requisite position in the list of dataframes.  They clobber the dataframe that was there.  The original dataframe is left empty while a new non-empty one rests in the list.  </p>\n\n<p>This solution edits the dataframe in place ensuring the original dataframe is updated with new information.</p>\n\n<p>Per OP:</p>\n\n<blockquote>\n  <p>However, when trying to retrieve for instance 1 of the df outside of the loop, it is still empty</p>\n</blockquote>\n\n<hr>\n\n<p><strong><em>timing</em></strong><br>\nIt's also considerably faster  </p>\n\n<p><a href=\"https://i.stack.imgur.com/lu2b8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lu2b8.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong><em>setup</em></strong>  </p>\n\n<pre><code>dict0={'actual': {'2013-02-20 13:30:00': 0.93}}\ndict1={'actual': {'2013-02-20 13:30:00': 0.85}}\ndict2={'actual': {'2013-02-20 13:30:00': 0.98}}\ndicts=[dict0, dict1, dict2]\n\ndf0=pd.DataFrame()\ndf1=pd.DataFrame()\ndf2=pd.DataFrame()\ndfs=[df0, df1, df2]\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4322543"}, "is_accepted": false, "score": 0, "last_activity_date": 1482966557, "creation_date": 1482966557, "answer_id": 41370979, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/41370979#41370979", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>One liner.</p>\n\n<pre><code>&gt;&gt;&gt;df_list = [df.from_dict(dikt, orient='columns', dtype=None) for (df, dikt) in zip(dfs, dicts)]\n\n&gt;&gt;&gt;df_list\n[                     actual\n2013-02-20 13:30:00    0.93,\n                      actual\n2013-02-20 13:30:00    0.85, \n                      actual\n2013-02-20 13:30:00    0.98]\n\n&gt;&gt;&gt;df_list[0]\n                     actual\n2013-02-20 13:30:00    0.93\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 7648578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3zKg.jpg?s=128&g=1", "display_name": "nocibambi", "link": "https://stackoverflow.com/users/7648578/nocibambi"}, "is_accepted": false, "score": 0, "last_activity_date": 1566994311, "creation_date": 1566994311, "answer_id": 57692127, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop/57692127#57692127", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>You can also do this by putting the dataframes into a dictionary:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>dfs = {\n    'df0': df0,\n    'df1': df1,\n    'df2': df2\n}\n</code></pre>\n\n<p>And then calling and assigning the contents of the dictionary in the for loop.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for dfname, dikt in zip(dfs.keys(), dicts):\n    dfs[dfname] = dfs[dfname].from_dict(dikt, orient='columns', dtype=None)\n</code></pre>\n\n<p>This is useful if you can still want to call the dataframes by their name (instead of an arbitrary index in a list...)</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>dfs['df0']\n</code></pre>\n"}], "owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2719, "favorite_count": 2, "accepted_answer_id": 41370848, "answer_count": 6, "score": 4, "last_activity_date": 1566994311, "creation_date": 1482964530, "last_edit_date": 1482965372, "question_id": 41370695, "link": "https://stackoverflow.com/questions/41370695/python-pandas-editing-multiple-dataframes-with-a-for-loop", "title": "python pandas - Editing multiple DataFrames with a for loop", "body": "<p>Considering the following 2 lists of 3 dicts and 3 empty DataFrames</p>\n\n<pre><code>dict0={'actual': {'2013-02-20 13:30:00': 0.93}}\ndict1={'actual': {'2013-02-20 13:30:00': 0.85}}\ndict2={'actual': {'2013-02-20 13:30:00': 0.98}}\ndicts=[dict0, dict1, dict2]\n\ndf0=pd.DataFrame()\ndf1=pd.DataFrame()\ndf2=pd.DataFrame()\ndfs=[df0, df1, df2]\n</code></pre>\n\n<p>I want to recursively modify the 3 Dataframes within a loop, by using the following line:</p>\n\n<pre><code>for df, dikt in zip(dfs, dicts):\n    df = df.from_dict(dikt, orient='columns', dtype=None)\n</code></pre>\n\n<p>However, when trying to retrieve for instance 1 of the df outside of the loop, it is still empty</p>\n\n<pre><code>print (df0)\n</code></pre>\n\n<p>will return</p>\n\n<pre><code>Empty DataFrame\nColumns: []\nIndex: []\n</code></pre>\n\n<p>When printing the df from within the for loop, we can see the data is correctly appended though.</p>\n\n<p>How to make the loop so that it is possible to print the 3 dfs with their changes outside of the loop?</p>\n"}, {"tags": ["python", "gcc", "cuda", "gpu", "theano"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 2, "creation_date": 1482964487, "post_id": 41370591, "comment_id": 69943006, "body": "CUDA 8.0 is generally incompatible with GCC 6.x compilers.  The compatibility and support is outlined in the <a href=\"http://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#system-requirements\" rel=\"nofollow noreferrer\">linux install guide for CUDA 8</a>.  The 5.3.x compilers that ship with some versions of Ubuntu 16.04 are compatible.  Take a look <a href=\"http://stackoverflow.com/questions/41157739/compiling-with-nvcc-causes-errors-with-c-includes-path-headers\">here</a> for example.  I think your question is basically a duplicate of that and others."}, {"owner": {"reputation": 796, "user_id": 3109123, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b430816649ae2033e8114850618b6ae8?s=128&d=identicon&r=PG&f=1", "display_name": "Feras", "link": "https://stackoverflow.com/users/3109123/feras"}, "edited": false, "score": 0, "creation_date": 1482965398, "post_id": 41370591, "comment_id": 69943333, "body": "your problem is related to your Cuda version."}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "reply_to_user": {"reputation": 796, "user_id": 3109123, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b430816649ae2033e8114850618b6ae8?s=128&d=identicon&r=PG&f=1", "display_name": "Feras", "link": "https://stackoverflow.com/users/3109123/feras"}, "edited": false, "score": 0, "creation_date": 1482997361, "post_id": 41370591, "comment_id": 69952044, "body": "@feras: no the problem is related to the gcc version."}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 1, "creation_date": 1483001572, "post_id": 41370591, "comment_id": 69953953, "body": "<a href=\"http://stackoverflow.com/q/6622454/681865\">stackoverflow.com/q/6622454/681865</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 6372052, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10154192700480238/picture?type=large", "display_name": "Sean Corbett", "link": "https://stackoverflow.com/users/6372052/sean-corbett"}, "edited": false, "score": 0, "creation_date": 1483317835, "post_id": 41372768, "comment_id": 70045948, "body": "Yep! I missed that line on the Nvidia page. I&#39;ll install the gcc/g++ 5.3.* compilers!"}], "tags": [], "owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "is_accepted": true, "score": 1, "last_activity_date": 1483001722, "last_edit_date": 1495541785, "creation_date": 1482982283, "answer_id": 41372768, "question_id": 41370591, "link": "https://stackoverflow.com/questions/41370591/theano-errors-for-gpu-use/41372768#41372768", "title": "Theano errors for GPU use", "body": "<blockquote>\n  <p>I've installed all prerequisites as per the instructions.</p>\n</blockquote>\n\n<p>Except that you haven't. If you consult the installation documentation for CUDA 8, you will see that GCC 6 is not currently supported. You will need to install a supported compiler version if you wish to compile code with the CUDA toolchain (which is apparently a prerequisite for running Theano).</p>\n\n<p>You might also want to consult this <a href=\"https://stackoverflow.com/q/6622454/681865\">question</a>, which outlines a number of different strategies for managing and using an alternate compiler version for the CUDA toolkit.</p>\n"}], "owner": {"reputation": 29, "user_id": 6372052, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10154192700480238/picture?type=large", "display_name": "Sean Corbett", "link": "https://stackoverflow.com/users/6372052/sean-corbett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 41372768, "answer_count": 1, "score": -1, "last_activity_date": 1483001722, "creation_date": 1482963982, "question_id": 41370591, "link": "https://stackoverflow.com/questions/41370591/theano-errors-for-gpu-use", "title": "Theano errors for GPU use", "body": "<p>I've been attempting to use theano for pthon on my GPU (a 980m) with GCC 6.2.0 and G++ 6.2.0 for Python 3.5.1 on Ubuntu 16.04. I've installed all prerequisites as per the instructions and Theano given no errors on import. However, when I run theano.test() I get the following rather verbose ad cryptic error.</p>\n\n<pre><code>===============================\nnvcc warning : The 'compute_20', 'sm_20', and 'sm_21' architectures are deprecated, and may be removed in a future release (Use -Wno-deprecated-gpu-targets to suppress warning).\nIn file included from mod.cu:10:0:\n/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/cuda/cuda_ndarray.cuh:17:0: warning: \"PyString_Check\" redefined\n #define PyString_Check PyUnicode_Check\n/usr/lib/gcc/x86_64-linux-gnu/6/include/stddef.h(436): error: expected a \";\"\n/usr/include/x86_64-linux-gnu/c++/6/bits/c++config.h(202): error: expected a \";\"\n/usr/include/c++/6/exception(63): error: expected a \";\"\n/usr/include/c++/6/exception(69): error: expected a \";\"\n/usr/include/c++/6/exception(77): error: expected a \";\"\n/usr/include/c++/6/exception(85): error: expected a \";\"\n/usr/include/c++/6/exception(95): error: expected a \"{\"\n/usr/include/c++/6/bits/exception_ptr.h(64): error: function \"std::current_exception\" returns incomplete type \"std::__exception_ptr::exception_ptr\"\n/usr/include/c++/6/bits/exception_ptr.h(64): error: expected a \"{\"\n/usr/include/c++/6/bits/exception_ptr.h(71): error: namespace \"std\" has no member \"rethrow_exception\"\n/usr/include/c++/6/bits/exception_ptr.h(81): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(83): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(84): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(86): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(88): error: declaration is incompatible with previous \"std::current_exception\"\n(64): here\n/usr/include/c++/6/bits/exception_ptr.h(88): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(88): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(89): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(92): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(94): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(97): error: incomplete type is not allowed\n/usr/include/c++/6/bits/exception_ptr.h(97): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(118): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(128): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(145): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(146): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(149): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(154): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(155): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(158): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(159): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(162): error: use of a local type to declare a function\n/usr/include/c++/6/bits/exception_ptr.h(163): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(171): error: expected a \";\"\n/usr/include/c++/6/bits/exception_ptr.h(197): error: expected a \";\"\n/usr/include/c++/6/bits/move.h(47): error: expected a \";\"\n/usr/include/c++/6/type_traits(71): error: identifier \"constexpr\" is undefined\n/usr/include/c++/6/type_traits(71): error: template parameter \"_Tp\" may not be redeclared in this scope\n/usr/include/c++/6/type_traits(71): error: expected a \";\"\n/usr/include/c++/6/type_traits(72): error: member \"std::integral_constant&lt;_Tp, __v&gt;::_Tp\" is not a type name\n/usr/include/c++/6/type_traits(73): error: member \"std::integral_constant&lt;_Tp, __v&gt;::_Tp\" is not a type name\n/usr/include/c++/6/type_traits(74): error: identifier \"constexpr\" is undefined\n/usr/include/c++/6/type_traits(79): error: identifier \"constexpr\" is undefined\n/usr/include/c++/6/type_traits(79): error: \"value_type\" has already been declared in the current scope\n/usr/include/c++/6/type_traits(79): error: expected a \";\"\n/usr/include/c++/6/type_traits(84): error: identifier \"constexpr\" is undefined\n/usr/include/c++/6/type_traits(84): error: \"_Tp\" is not a function or static data member\n/usr/include/c++/6/type_traits(93): error: expected a declaration\n/usr/include/c++/6/type_traits(93): error: expected a \";\"\n/usr/include/c++/6/type_traits(126): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(235): error: identifier \"char16_t\" is undefined\n/usr/include/c++/6/type_traits(239): error: identifier \"char32_t\" is undefined\n/usr/include/c++/6/type_traits(239): error: class \"std::__is_integral_helper&lt;&lt;error-type&gt;&gt;\" has already been defined\n/usr/include/c++/6/type_traits(337): error: identifier \"__float128\" is undefined\n/usr/include/c++/6/type_traits(453): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(457): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(465): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(469): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(477): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(481): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(489): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(493): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(501): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(505): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(513): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(517): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(525): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(529): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(537): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(541): error: expected a \"&gt;\"\n/usr/include/c++/6/type_traits(551): error: namespace \"std\" has no member \"nullptr_t\"\n/usr/include/c++/6/type_traits(572): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(578): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(585): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(592): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(602): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(628): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(738): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(752): error: expected a \";\"\n/usr/include/c++/6/type_traits(767): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(777): error: expected a \")\"\n/usr/include/c++/6/type_traits(788): error: an explicit template argument list is not allowed on this declaration\n/usr/include/c++/6/type_traits(788): error: expected a type specifier\n/usr/include/c++/6/type_traits(788): error: function returning function is not allowed\n/usr/include/c++/6/type_traits(788): error: expected a \";\"\n/usr/include/c++/6/type_traits(794): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(795): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(825): error: identifier \"noexcept\" is undefined\n/usr/include/c++/6/type_traits(825): error: function call is not allowed in a constant expression\n/usr/include/c++/6/type_traits(825): error: function call is not allowed in a constant expression\n/usr/include/c++/6/type_traits(825): error: this operator is not allowed in a template argument expression\n/usr/include/c++/6/type_traits(836): error: an explicit template argument list is not allowed on this declaration\n/usr/include/c++/6/type_traits(836): error: expected a type specifier\n/usr/include/c++/6/type_traits(836): error: function returning function is not allowed\n/usr/include/c++/6/type_traits(836): error: expected a \";\"\n/usr/include/c++/6/type_traits(842): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(843): error: space required between adjacent \"&gt;\" delimiters of nested template argument lists (\"&gt;&gt;\" is the right shift operator)\n/usr/include/c++/6/type_traits(868): error: function returning function is not allowed\n/usr/include/c++/6/type_traits(879): error: an explicit template argument list is not allowed on this declaration\nError limit reached.\n100 errors detected in the compilation of \"/tmp/tmpxft_00002ddd_00000000-9_mod.cpp1.ii\".\nCompilation terminated.\nERROR (theano.sandbox.cuda): Failed to compile cuda_ndarray.cu: ('nvcc return status', 4, 'for cmd', 'nvcc -shared -O3 -m64 -Xcompiler -D_FORCE_INLINES,-DCUDA_NDARRAY_CUH=mc72d035fdf91890f3b36710688069b2e,-DNPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION,-fPIC,-fvisibility=hidden -Xlinker -rpath,/home/sean/.theano/compiledir_Linux-4.4--generic-x86_64-with-Ubuntu-16.04-xenial-x86_64-3.5.2-64/cuda_ndarray -I/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/cuda -I/home/sean/.local/lib/python3.5/site-packages/numpy/core/include -I/usr/include/python3.5m -I/home/sean/.local/lib/python3.5/site-packages/theano/gof -o /home/sean/.theano/compiledir_Linux-4.4--generic-x86_64-with-Ubuntu-16.04-xenial-x86_64-3.5.2-64/cuda_ndarray/cuda_ndarray.so mod.cu -L/usr/lib -lcublas -lpython3.5m -lcudart')\n/home/sean/.local/lib/python3.5/site-packages/theano/misc/pycuda_init.py:34: UserWarning: PyCUDA import failed in theano.misc.pycuda_init\n  warnings.warn(\"PyCUDA import failed in theano.misc.pycuda_init\")\n/home/sean/.local/lib/python3.5/site-packages/theano/tensor/signal/downsample.py:6: UserWarning: downsample module has been moved to the theano.tensor.signal.pool module.\n  \"downsample module has been moved to the theano.tensor.signal.pool module.\")\n......WARNING (theano.tensor.blas): We did not found a dynamic library into the library_dir of the library we use for blas. If you use ATLAS, make sure to compile it with dynamics library.\n..............S........................................S..................WARNING (theano.tensor.blas): We did not found a dynamic library into the library_dir of the library we use for blas. If you use ATLAS, make sure to compile it with dynamics library.\n======================================================================\nERROR: Failure: RuntimeError (('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.'))\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/failure.py\", line 39, in runTest\n    raise self.exc_val.with_traceback(self.tb)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/loader.py\", line 418, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/usr/lib/python3.5/imp.py\", line 234, in load_module\n    return load_source(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 172, in load_source\n    module = _load(spec)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 693, in _load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 673, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 665, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/test_abstractconv.py\", line 9, in &lt;module&gt;\n    from .config import mode_with_gpu, test_ctx_name\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/config.py\", line 10, in &lt;module&gt;\n    theano.sandbox.gpuarray.init_dev('cuda')\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/__init__.py\", line 46, in init_dev\n    \"Make sure Theano and libgpuarray/pygpu \"\nRuntimeError: ('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.')\n\n======================================================================\nERROR: Failure: RuntimeError (('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.'))\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/failure.py\", line 39, in runTest\n    raise self.exc_val.with_traceback(self.tb)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/loader.py\", line 418, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/usr/lib/python3.5/imp.py\", line 234, in load_module\n    return load_source(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 172, in load_source\n    module = _load(spec)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 693, in _load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 673, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 665, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/test_basic_ops.py\", line 25, in &lt;module&gt;\n    from .config import mode_with_gpu, mode_without_gpu, test_ctx_name\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/config.py\", line 10, in &lt;module&gt;\n    theano.sandbox.gpuarray.init_dev('cuda')\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/__init__.py\", line 46, in init_dev\n    \"Make sure Theano and libgpuarray/pygpu \"\nRuntimeError: ('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.')\n\n======================================================================\nERROR: Failure: RuntimeError (('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.'))\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/failure.py\", line 39, in runTest\n    raise self.exc_val.with_traceback(self.tb)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/loader.py\", line 418, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/usr/lib/python3.5/imp.py\", line 234, in load_module\n    return load_source(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 172, in load_source\n    module = _load(spec)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 693, in _load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 673, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 665, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/test_blas.py\", line 13, in &lt;module&gt;\n    from .config import mode_with_gpu\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/config.py\", line 10, in &lt;module&gt;\n    theano.sandbox.gpuarray.init_dev('cuda')\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/__init__.py\", line 46, in init_dev\n    \"Make sure Theano and libgpuarray/pygpu \"\nRuntimeError: ('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.')\n\n======================================================================\nERROR: Failure: RuntimeError (('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.'))\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/failure.py\", line 39, in runTest\n    raise self.exc_val.with_traceback(self.tb)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/loader.py\", line 418, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/home/sean/.local/lib/python3.5/site-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/usr/lib/python3.5/imp.py\", line 234, in load_module\n    return load_source(name, filename, file)\n  File \"/usr/lib/python3.5/imp.py\", line 172, in load_source\n    module = _load(spec)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 693, in _load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 673, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 665, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/test_dnn.py\", line 19, in &lt;module&gt;\n    from .config import mode_with_gpu, mode_without_gpu, test_ctx_name\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/tests/config.py\", line 10, in &lt;module&gt;\n    theano.sandbox.gpuarray.init_dev('cuda')\n  File \"/home/sean/.local/lib/python3.5/site-packages/theano/sandbox/gpuarray/__init__.py\", line 46, in init_dev\n    \"Make sure Theano and libgpuarray/pygpu \"\nRuntimeError: ('Wrong major API version for gpuarray:', 0, 'Make sure Theano and libgpuarray/pygpu are in sync.')\n</code></pre>\n\n<p>Given the syntax-like errors, I'm guessing it's a compiler issue of some sort, or perhaps Theano not knowing where to find my GCC or G++, but rather than mucking about aimlessly, I was wondering if anyone could shed some light on this.</p>\n"}, {"tags": ["python", "memory-management", "multiprocessing", "valgrind", "shared-memory"], "owner": {"reputation": 125, "user_id": 5021781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64750df0bbd61e04cf47a949e985f458?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/5021781/shaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1482968334, "creation_date": 1482963880, "last_edit_date": 1495535431, "question_id": 41370570, "link": "https://stackoverflow.com/questions/41370570/determining-memory-consumption-with-python-multiprocessing-and-shared-arrays", "title": "Determining Memory Consumption with Python Multiprocessing and Shared Arrays", "body": "<p>I've spent some time research the Python <code>multiprocessing</code> module, it's use of <code>os.fork</code>, and shared memory using <code>Array</code> in <code>multiprocessing</code> for a piece of code I'm writing.</p>\n\n<p>The project itself boils down to this: I have several MxN arrays (let's suppose I have 3 arrays called A, B, and C) that I need to process to calculate a new MxN array (called D), where:</p>\n\n<p>Dij = f(Aij, Bij, Cij)</p>\n\n<p>The function <code>f</code> is such that standard vector operations cannot be applied. This task is what I believe is called \"embarrassing parallel\". Given the overhead involved in <code>multiprocessing</code>, I am going to break the calculation of D into blocks. For example, if D was 8x8 and I had 4 processes, each processor would be responsible for solving a 4x4 \"chunk\" of D.</p>\n\n<p>Now, the size of the arrays has the potential to be very big (on the order of several GB), so I want <em>all</em> arrays to use shared memory (even array D, which will have sub-processes writing to it). I believe I have a solution to the shared array issue using a modified version of what is presented <a href=\"https://stackoverflow.com/questions/5549190/is-shared-readonly-data-copied-to-different-processes-for-python-multiprocessing\" title=\"here\">here</a>.</p>\n\n<p>However, from an implementation perspective it'd be nice to place arrays A, B, and C into a dictionary. What is unclear to me is if doing this will cause the arrays to be copied in memory when the reference counter for the dictionary is incremented within each sub-process.</p>\n\n<p>To try and answer this, I wrote a little test script (see below) and tried running it using <code>valgrind --tool=massif</code> to track memory usage. However, I am not quite clear how to intemperate the results from it. Specifically, whether each massiff.out file (where the number of files is equal to the number of sub-processes created by my test script + 1) denotes the memory used by that process (i.e. I need to sum them all up to get the total memory usage) or if I just need to consider the massif.out associated with the parent process.</p>\n\n<p>On a side note: One of my shared memory arrays has the sub-processes writing to it. I know that this sound be avoided, especially since I am <em>not</em> using locks to limit only one sub-process writing to the array at any given time. Is this a problem? My thought is that since the order that the array is filled out is irrelevant, the calculation of any index is independent of any other index, and that any given sub-process will never write to the same array index as any other process, there will not be any sort of race conditions. Is this correct?</p>\n\n<pre><code>#! /usr/bin/env python\n\nimport multiprocessing as mp\nimport ctypes\nimport numpy as np\nimport time\nimport sys\nimport timeit\n\ndef shared_array(shape=None, lock=False):\n    \"\"\"\n    Form a shared memory numpy array.\n\n    https://stackoverflow.com/questions/5549190/is-shared-readonly-data-copied-to-different-processes-for-python-multiprocessing \n    \"\"\"\n\n    shared_array_base = mp.Array(ctypes.c_double, shape[0]*shape[1], lock=lock)\n\n    # Create a locked or unlocked array\n    if lock:\n\n        shared_array = np.frombuffer(shared_array_base.get_obj())\n\n    else:\n\n        shared_array = np.frombuffer(shared_array_base)\n\n    shared_array = shared_array.reshape(*shape)\n\n    return shared_array\n\ndef worker(indices=None, queue=None, data=None):\n\n    # Loop over each indice and \"crush\" some data\n    for i in indices:\n\n        time.sleep(0.01)\n\n        if data is not None:\n\n            data['sink'][i, :] = data['source'][i, :] + i\n\n        # Place ID for completed indice into the queue\n        queue.put(i)\n\nif __name__ == '__main__':\n\n    # Set the start time\n    begin = timeit.default_timer()\n\n    # Size of arrays (m x n)\n    m = 1000\n\n    n = 1000\n\n    # Number of Processors\n    N = 2\n\n    # Create a queue to use for tracking progress\n    queue = mp.Queue()\n\n    # Create dictionary and shared arrays\n    data = dict()\n\n    # Form a shared array without a lock.\n    data['source'] = shared_array(shape=(m, n), lock=True)\n\n    data['sink']   = shared_array(shape=(m, n), lock=False)\n\n    # Create a list of the indices associated with the m direction\n    indices = range(0, m)\n\n    # Parse the indices list into range blocks; each process will get a block\n    indices_blocks = [int(i) for i in np.linspace(0, 1000, N+1)]\n\n    # Initialize a list for storing created sub-processes\n    procs = []\n\n    # Print initialization time-stap\n    print 'Time to initialize time: {}'.format(timeit.default_timer() - begin)\n\n    # Create and start each sbu-process\n    for i in range(1, N+1):\n\n        # Start of the block\n        start = indices_blocks[i-1]\n\n        # End of the block\n        end   = indices_blocks[i]\n\n        # Create the sub-process\n        procs.append(mp.Process(target=worker,\n                                args=(indices[start:end], queue, data)))\n\n        # Kill the sub-process if/when the parent is killed\n        procs[-1].daemon=True\n\n        # Start the sub-process\n        procs[-1].start()\n\n\n    # Initialize a list to store the indices that have been processed\n    completed = []\n\n    # Entry a loop dependent on whether any of the sub-processes are still alive\n    while any(i.is_alive() for i in procs):\n\n        # Read the queue, append completed indices, and print the progress\n        while not queue.empty():\n\n            done = queue.get()\n\n            if done not in completed:\n\n                completed.append(done)\n\n            message = \"\\rCompleted {:.2%}\".format(float(len(completed))/len(indices))\n\n            sys.stdout.write(message)\n\n            sys.stdout.flush()\n\n    print ''\n\n    # Join all the sub-processes\n    for p in procs:\n\n        p.join()    \n\n    # Print the run time and the modified sink array\n    print 'Running time: {}'.format(timeit.default_timer() - begin)\n\n    print data['sink']\n</code></pre>\n\n<p><strong>Edit:</strong> I seems I've run into another issue; specifically, an value of n equal to 3 million will result in the kernel killing the process (I assume it's due to a memory issue). This appears to be with how shared_array() works (I can create np.zeros arrays of the same size and not have an issue). After playing with it a bit I get the traceback shown below. I'm not entirely sure what is causing the memory allocation error, but a quick Google search gives discussions about how mmap maps virtual address space, which I'm guessing is smaller than the amount of physical memory a machine has?</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"./shared_array.py\", line 66, in &lt;module&gt;\n    data['source'] = shared_array(shape=(m, n), lock=True)\nFile \"./shared_array.py\", line 17, in shared_array\n    shared_array_base = mp.Array(ctypes.c_double, shape[0]*shape[1], lock=lock)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/__init__.py\", line 260, in Array\n    return Array(typecode_or_type, size_or_initializer, **kwds)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/sharedctypes.py\", line 120, in Array\n    obj = RawArray(typecode_or_type, size_or_initializer)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/sharedctypes.py\", line 88, in RawArray\n    obj = _new_value(type_)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/sharedctypes.py\", line 68, in _new_value\n    wrapper = heap.BufferWrapper(size)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/heap.py\", line 243, in __init__\n    block = BufferWrapper._heap.malloc(size)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/heap.py\", line 223, in malloc\n    (arena, start, stop) = self._malloc(size)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/heap.py\", line 120, in _malloc\n    arena = Arena(length)\nFile \"/usr/apps/python/lib/python2.7/multiprocessing/heap.py\", line 82, in __init__\n    self.buffer = mmap.mmap(-1, size)\nmmap.error: [Errno 12] Cannot allocate memory\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tabs", "listbox"], "comments": [{"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1484916413, "post_id": 41370563, "comment_id": 70719391, "body": "I eventually found out that the underscore (or the &#39;dotbox&#39;, depending on the <code>activestyle</code> property of a Listbox) marks the active item, whereas the cursor is for selected item(s). Since Tab only changes the ACTIVE attribute to the item in the appropiate Listbox, that item should also be marked as &quot;selected&quot; to move the cursor to it. This is done by binding the Tab key to allow that extra manouver. I&#39;ve Edited the question to show how it&#39;s done."}], "answers": [{"tags": [], "owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "is_accepted": true, "score": 0, "last_activity_date": 1484917583, "creation_date": 1484917583, "answer_id": 41764445, "question_id": 41370563, "link": "https://stackoverflow.com/questions/41370563/pressing-tab-with-tkinter-listboxes-moves-the-active-underscore-but-not-the-cu/41764445#41764445", "title": "Pressing tab with tkinter Listboxes moves the &quot;Active&quot; underscore but not the cursor", "body": "<p>The underscore and cursor represent different attributes of Listbox items - </p>\n\n<ul>\n<li><p>The underscore marking, which is the default <code>activestyle</code> attribute\nof a Listbox, shows the active item. </p></li>\n<li><p>The cursor is for (a) selected item(s).</p></li>\n</ul>\n\n<p>The Tab key, by default, alternates the \"active\" state in this context, so it does not affect the cursor. </p>\n\n<p>To change the cursor position, we need to set the active item to be the (a) selected item as well. I've done so by binding the Tab key to lambda functions that perform this additional manouver:</p>\n\n<pre><code>l1.bind('&lt;Tab&gt;', lambda e: l2.select_set(l2.index(ACTIVE)))\nl2.bind('&lt;Tab&gt;', lambda e: l1.select_set(l1.index(ACTIVE)))\n</code></pre>\n\n<p>The active index is given as an argument to the appropriate <code>select_set()</code>, which then moves the cursor over the underscored item.</p>\n\n<p><strong>Note:</strong> I think that for a more general case, the event <code>e</code> should be used to pick up the active item, rather than referring to the Listboxes directly. However, this seems to work fine for 2 listboxes.</p>\n"}], "owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 41764445, "answer_count": 1, "score": 0, "last_activity_date": 1484917583, "creation_date": 1482963849, "last_edit_date": 1484916262, "question_id": 41370563, "link": "https://stackoverflow.com/questions/41370563/pressing-tab-with-tkinter-listboxes-moves-the-active-underscore-but-not-the-cu", "title": "Pressing tab with tkinter Listboxes moves the &quot;Active&quot; underscore but not the cursor", "body": "<pre><code>l1=Listbox()\nl1.pack(side=LEFT)\nl1.insert(END, *xrange(1,4))\n\nl2=Listbox()\nl2.pack(side=RIGHT)\nl2.insert(END, *'abc')\n</code></pre>\n\n<p>When I press tab, the underscore jumps to the other Listbox, but the cursor only joins in when I start using the up/down arrows. Is it possible to make it hop along together with the underscore, on pressing tab?</p>\n\n<p><strong>Edit</strong>: This is done by binding the Tab key to invoke the select_set() method on the active item:</p>\n\n<pre><code>l1.bind('&lt;Tab&gt;', lambda e: l2.select_set(l2.index(ACTIVE)))\nl2.bind('&lt;Tab&gt;', lambda e: l1.select_set(l1.index(ACTIVE)))\n</code></pre>\n\n<ul>\n<li><p>l.index(ACTIVE) returns the index of the active item, which is the one with the underscore after Tab is pressed. </p></li>\n<li><p>It is then set to be \"selected\" using l.select_set(), which moves the cursor to it as well.</p></li>\n<li><p>the \"e\" after lambda is required since any function called from a tkinter bind is implicitly given an event object, though it isn't used in any way here.</p></li>\n</ul>\n\n<p>Hope this comes handy.</p>\n"}, {"tags": ["python", "python-3.x", "debugging", "pdb"], "owner": {"reputation": 840, "user_id": 7338551, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ru_OoJtUTFs/AAAAAAAAAAI/AAAAAAAAAEU/EAZHPGv_iM8/photo.jpg?sz=128", "display_name": "Eliakin Costa", "link": "https://stackoverflow.com/users/7338551/eliakin-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1482963618, "creation_date": 1482963618, "question_id": 41370522, "link": "https://stackoverflow.com/questions/41370522/how-to-make-a-front-end-to-invoke-pdb-methods-interactively", "title": "How to make a Front-end to invoke pdb methods interactively?", "body": "<p>I'm trying to make a GUI that invokes pdb methods interactivaly without a terminal. My code looks like this:</p>\n\n<pre><code>class Debugger(pdb.Pdb):\n\n  def user_call(self, frame, args):\n    name = frame.f_code.co_name or \"&lt;unknown&gt;\"\n    print(\"call\", name, args, frame)\n    print('local:', frame.f_locals)\n    print('global:', frame.f_globals)\n\n  def user_line(self, frame):\n    name = frame.f_code.co_name or \"&lt;unknown&gt;\"\n    filename = self.canonic(frame.f_code.co_filename)\n    print(\"break at\", filename, frame.f_lineno, \"in\", name)\n    print(\"continue...\")\n\n  def user_return(self, frame, value):\n    name = frame.f_code.co_name or \"&lt;unknown&gt;\"\n    print(\"return from\", name, value)\n    print(\"continue...\")\n\n  def user_exception(self, frame, exception):\n    name = frame.f_code.co_name or \"&lt;unknown&gt;\"\n    print(\"exception in\", name, exception)\n    print(\"continue...\")\n\ndef debug():\n  debugger = Debugger()\n\n  # invoke the interactive debugging commands here \n\nif __name__=='__main__':\n  debug()\n</code></pre>\n\n<p>How to start a debug session from the code pointing to a file and invoke commands like <strong>step</strong> and <strong>continue</strong>?</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 5, "creation_date": 1482963360, "post_id": 41370434, "comment_id": 69942618, "body": "There is something seriously wrong with your database design if you have a table with 1000 columns."}, {"owner": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 0, "creation_date": 1482963411, "post_id": 41370434, "comment_id": 69942640, "body": "Are the column names predefined or you are reading from some file?"}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1482963677, "post_id": 41370434, "comment_id": 69942725, "body": "@DanielRoseman :-( actually I have more than 1000 columns."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 0, "creation_date": 1482963757, "post_id": 41370434, "comment_id": 69942754, "body": "@MYGz The columns are new. The data should be imported from a text file."}, {"owner": {"reputation": 5092, "user_id": 5481471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6efc50461d3521db348bf483652040?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sliepen", "link": "https://stackoverflow.com/users/5481471/g-sliepen"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1482963950, "post_id": 41370434, "comment_id": 69942817, "body": "@doglas: I have to concur with @DanielRoseman, this means your database design <i>is</i> seriously wrong. ESPECIALLY if they are all named <code>Col_</code> + some number!"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1482964406, "post_id": 41370434, "comment_id": 69942974, "body": "<code>SQL_Titles = [&#39;Col_{}&#39;.format(column) for column in range(1, 1001)]</code>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1482964483, "post_id": 41370434, "comment_id": 69943005, "body": "Or <code>SQL_Titles = map(&#39;Col_{}&#39;.format, range(1, 1001))</code>"}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1482964711, "post_id": 41370434, "comment_id": 69943082, "body": "@PeterWood Thanks. But how about the column AAA and BBB, that I also want to have."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "reply_to_user": {"reputation": 5092, "user_id": 5481471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6efc50461d3521db348bf483652040?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sliepen", "link": "https://stackoverflow.com/users/5481471/g-sliepen"}, "edited": false, "score": 0, "creation_date": 1482964934, "post_id": 41370434, "comment_id": 69943166, "body": "@G.Sliepen Thanks for your advice."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1482965040, "post_id": 41370434, "comment_id": 69943204, "body": "@doglas this isn&#39;t really a chat forum. Ask a singular good question, get a hopefully singularly good answer. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1482964731, "post_id": 41370546, "comment_id": 69943091, "body": "Not really. SELECTing thousands of records while JOINing tables is usually a problem."}, {"owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "edited": false, "score": 1, "creation_date": 1482964813, "post_id": 41370546, "comment_id": 69943129, "body": "Thanks! Pandas sounds good. I actually thought sqlite could do this task easily."}], "tags": [], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "is_accepted": false, "score": 3, "last_activity_date": 1482963757, "creation_date": 1482963757, "answer_id": 41370546, "question_id": 41370434, "link": "https://stackoverflow.com/questions/41370434/python-sqlite-how-to-make-table-columns-using-a-list/41370546#41370546", "title": "Python + SQLite: How to make table columns using a list?", "body": "<p>Please don't do that. This is a very un-SQL thing to do. Instead you should create another table with three rows - main_row_id (a foreign key to the main table), col_number (the number 1 to 1000), value (the text field).</p>\n\n<p>So instead of 1,000 columns per row, you have 1,000 <em>records</em> in the second table per row.</p>\n\n<p>If, on the other hand, you need to store such table because it makes sense, you shouldn't use SQLite but rather something else. I would look at pandas.</p>\n"}], "owner": {"reputation": 95, "user_id": 6874871, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/76e38621e33ebf498a80e910fcf7e1d7?s=128&d=identicon&r=PG&f=1", "display_name": "doglas", "link": "https://stackoverflow.com/users/6874871/doglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482963757, "creation_date": 1482963208, "last_edit_date": 1482963435, "question_id": 41370434, "link": "https://stackoverflow.com/questions/41370434/python-sqlite-how-to-make-table-columns-using-a-list", "title": "Python + SQLite: How to make table columns using a list?", "body": "<p>I want to make a sqlite table with a lot of columns. </p>\n\n<p>The table and sqlite codes look like...</p>\n\n<pre><code>cur.execute('''CREATE TABLE MyTable\n          (AAA  INTEGER PRIMARY KEY  AUTOINCREMENT,\n           BBB  INTEGER,\n           Col_1  TEXT,\n           Col_2  TEXT,\n           Col_3  TEXT,\n           Col_4  TEXT,\n           ........There are 1000x columns here......\n           Col_1000  TEXT);\n           ''')\n</code></pre>\n\n<p>Because there are so many columns, I use a list to generate the column names. </p>\n\n<pre><code>SQL_Title_List = []\nfor i in range(1, 1001, 1):\n    Temp = \"Col_\" + str(i)\n    SQL_Title_List.append(Temp)\n</code></pre>\n\n<p>My question is, how to write the SQL codes <strong>professionally</strong>? It'll be very painful to write them manually. </p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "pyqt4", "qpushbutton"], "answers": [{"tags": [], "owner": {"reputation": 21748, "user_id": 869951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/63uk6.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/869951/oliver"}, "is_accepted": true, "score": 6, "last_activity_date": 1482964482, "creation_date": 1482964482, "answer_id": 41370685, "question_id": 41370410, "link": "https://stackoverflow.com/questions/41370410/check-the-state-of-qpushbutton-in-pyqt4/41370685#41370685", "title": "Check the state of QPushButton in PyQt4?", "body": "<p>Use <code>QPushButton.isEnabled</code>. The following code toggles a button between enabled and disabled and uses an \"if\" test to do something depending on the state. It is for PyQt5 but you should only have to adjust the imports to make it work with PyQt4 (if you are using Python 2.x, you will also have to adjust the print statements): </p>\n\n<pre><code>from PyQt5.QtCore import QTimer\nfrom PyQt5.QtWidgets import QApplication, QPushButton\n\ndef check_button():\n    if push.isEnabled():\n        print('enabled')\n        push.setEnabled(False)\n    else:\n        print('not enabled')\n        push.setEnabled(True)\n\n    QTimer.singleShot(1000, check_button)\n\napp = QApplication([])\npush = QPushButton()\npush.show()\nQTimer.singleShot(0, check_button)\napp.exec()\n</code></pre>\n"}], "owner": {"reputation": 845, "user_id": 6876431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a1724a8e70d2428573d305868055f4?s=128&d=identicon&r=PG&f=1", "display_name": "learncode", "link": "https://stackoverflow.com/users/6876431/learncode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8120, "favorite_count": 0, "accepted_answer_id": 41370685, "answer_count": 1, "score": 2, "last_activity_date": 1482965913, "creation_date": 1482963066, "last_edit_date": 1482965913, "question_id": 41370410, "link": "https://stackoverflow.com/questions/41370410/check-the-state-of-qpushbutton-in-pyqt4", "title": "Check the state of QPushButton in PyQt4?", "body": "<p>I want to write a <code>if</code> with a condition as the state of <code>QPushButton</code>. I would like to execute <code>if</code> if the button is enabled. So, how can i check the state of the Button.</p>\n\n<p>Code:</p>\n\n<pre><code>self.pushButton = QtGui.QPushButton()\nself.pushbutton.setEnabled(False)\n</code></pre>\n\n<hr>\n\n<pre><code>self.pushbutton.setEnabled(False) ##some where in the another class I have enabled it this line will not be executed all the time,so I want the check state.\n</code></pre>\n\n<hr>\n\n<pre><code>if self.pushbutton.checkstate() == Enabled:  ##??? How to write this condition?\n    some code I want to execute\n</code></pre>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482968302, "post_id": 41370861, "comment_id": 69944188, "body": "it it worst solution - don&#39;t change code in oryginal flask code."}], "tags": [], "owner": {"reputation": 1235, "user_id": 894950, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0986e4ba7a536c989a035ed757e3201e?s=128&d=identicon&r=PG", "display_name": "D3l_Gato", "link": "https://stackoverflow.com/users/894950/d3l-gato"}, "is_accepted": false, "score": 0, "last_activity_date": 1482965594, "creation_date": 1482965594, "answer_id": 41370861, "question_id": 41370406, "link": "https://stackoverflow.com/questions/41370406/change-flask-ip-without-arguments/41370861#41370861", "title": "Change Flask IP without arguments", "body": "<p>I had to update a section of lib/python2.7/site-packages/flask/cli.py</p>\n\n<pre><code>@click.option('--host', '-h', default='192.168.1.99',    #127.0.0.1',\n               help='The interface to bind to.')\n</code></pre>\n"}], "owner": {"reputation": 1235, "user_id": 894950, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0986e4ba7a536c989a035ed757e3201e?s=128&d=identicon&r=PG", "display_name": "D3l_Gato", "link": "https://stackoverflow.com/users/894950/d3l-gato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482965594, "creation_date": 1482963051, "last_edit_date": 1482964370, "question_id": 41370406, "link": "https://stackoverflow.com/questions/41370406/change-flask-ip-without-arguments", "title": "Change Flask IP without arguments", "body": "<p>How can I change my flask app to run on its local ip <em>without</em> using a command line arg? </p>\n\n<p>I am using argparse in a module and it crys when I pass --host=192.168.1.99 as a command line arg</p>\n\n<pre><code>(asd) carrier@carrier:~/public_html/asd$ printenv | grep FLASK\nFLASK_APP=/home/carrier/public_html/asd/do/autoapp.py\nFLASK_DEBUG=1\n(asd) carrier@carrier:~/public_html/asd$ flask run\n * Serving Flask app \"autoapp\"\n * Forcing debug mode on\n/home/carrier/public_html/asd/local/lib/python2.7/site-packages/flask_debugtoolbar/panels/sqlalchemy.py:2: ExtDeprecationWarning: Importing flask.ext.sqlalchemy is deprecated, use flask_sqlalchemy instead.\n  from flask.ext.sqlalchemy import get_debug_queries, SQLAlchemy\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\n/home/carrier/public_html/asd/local/lib/python2.7/site-packages/flask_debugtoolbar/panels/sqlalchemy.py:2: ExtDeprecationWarning: Importing flask.ext.sqlalchemy is deprecated, use flask_sqlalchemy instead.\n  from flask.ext.sqlalchemy import get_debug_queries, SQLAlchemy\n * Debugger is active!\n * Debugger pin code: 131-221-175\n</code></pre>\n\n<p>I am not familiar with using 'flask run' to run my apps but i followed a guide. normally i would do python manage.py runserver. any help is appreciated.</p>\n\n<p>my code is a direct clone from this: <a href=\"https://github.com/sloria/cookiecutter-flask\" rel=\"nofollow noreferrer\">https://github.com/sloria/cookiecutter-flask</a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 4946, "user_id": 1168524, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0af464867fd0fc487284e03583b3c0ef?s=128&d=identicon&r=PG", "display_name": "Gokhan Sari", "link": "https://stackoverflow.com/users/1168524/gokhan-sari"}, "is_accepted": false, "score": 4, "last_activity_date": 1483015336, "last_edit_date": 1483015336, "creation_date": 1482963207, "answer_id": 41370433, "question_id": 41370377, "link": "https://stackoverflow.com/questions/41370377/django-modelform-custom-required-message/41370433#41370433", "title": "Django - ModelForm custom required message", "body": "<p>Looks like indentation is the issue. <code>__init__</code> shouldn't be a method of <code>Meta</code> class, it should be a method of <code>gruposModelForm</code>. Like this:</p>\n\n<pre><code>class gruposModelForm(forms.ModelForm):\n    class Meta:\n        model = grupos\n        fields = ['nombre_grupo']\n\n    def __init__(self, *args, **kwargs):\n        super(gruposModelForm, self).__init__(*args, **kwargs)\n\n        self.fields['nombre_grupo'].error_messages = {'required': 'custom required message'}\n</code></pre>\n\n<p>Also, <code>GruposModelForm</code> is the preferred way of naming such a class according to <a href=\"https://www.python.org/dev/peps/pep-0008/#class-names\" rel=\"nofollow noreferrer\">PEP 8</a>.</p>\n"}], "owner": {"reputation": 467, "user_id": 7136955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d629f7144acd331a77aa71267c181fae?s=128&d=identicon&r=PG&f=1", "display_name": "User100696", "link": "https://stackoverflow.com/users/7136955/user100696"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1483015336, "creation_date": 1482962877, "question_id": 41370377, "link": "https://stackoverflow.com/questions/41370377/django-modelform-custom-required-message", "title": "Django - ModelForm custom required message", "body": "<p>I want to override my required message but my code is not working. </p>\n\n<p>Can someone help me? </p>\n\n<p>Here's what I got:</p>\n\n<p><strong>models. py</strong></p>\n\n<pre><code>class grupos(models.Model):\n    nombre_grupo = models.CharField(max_length=100)\n\n\n    def __unicode__(self):\n        return self.nombre_grupo\n\n    def __str__(self):\n        return self.nombre_grupo\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class gruposModelForm(forms.ModelForm):\n    class Meta:\n        model = grupos\n        fields = [\"nombre_grupo\"]\n\n\n\n        def __init__(self, *args, **kwargs):\n            super(gruposModelForm, self).__init__(*args, **kwargs)\n            self.fields['nombre_grupo'].error_messages = {'required': 'custom required message'}\n</code></pre>\n\n<p><strong>Thanks in advance!!!</strong></p>\n"}, {"tags": ["python", "windows", "phantomjs", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "edited": false, "score": 0, "creation_date": 1482991526, "post_id": 41370359, "comment_id": 69949612, "body": "Is building a forked PhantomJS with download support an option?"}, {"owner": {"reputation": 450, "user_id": 6014277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sX30H.jpg?s=128&g=1", "display_name": "Suzanne", "link": "https://stackoverflow.com/users/6014277/suzanne"}, "reply_to_user": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "edited": false, "score": 0, "creation_date": 1483019454, "post_id": 41370359, "comment_id": 69963934, "body": "Yes! Is there an existing fork of PhantomJS that does that?"}], "owner": {"reputation": 450, "user_id": 6014277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sX30H.jpg?s=128&g=1", "display_name": "Suzanne", "link": "https://stackoverflow.com/users/6014277/suzanne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482962784, "creation_date": 1482962784, "last_edit_date": 1495540802, "question_id": 41370359, "link": "https://stackoverflow.com/questions/41370359/running-chrome-headless-in-python-2-7-with-selenium-on-windows-to-download-files", "title": "Running Chrome headless in Python 2.7 with Selenium on Windows to download files", "body": "<p>tl;dr: I want to do what <a href=\"https://stackoverflow.com/questions/41205673/python-2-7-selenium-headless-testing-with-xvfb-not-working\">Python 2.7 - Selenium headless testing with Xvfb not working</a> &lt;-- this person does, but on Windows.  </p>\n\n<p>Non-negotiable: Navigate a headless webdriver that allows for download of files.</p>\n\n<p>From reading other answers, it looks like xvfb isn't available for Windows, so PyVirtualDisplay can't be used with Chrome: <a href=\"https://stackoverflow.com/questions/32173839/easyprocess-easyprocesscheckinstallederror-cmd-xvfb-help-oserror-errno?noredirect=1&amp;lq=1\">easyprocess.EasyProcessCheckInstalledError: cmd=[&#39;Xvfb&#39;, &#39;-help&#39;] OSError=[Errno 2] No such file or directory</a></p>\n\n<p>It also seems like it requires a lot of crazy hacks to get PhantomJS to download files.</p>\n\n<p>Some answers suggest the use of urrlib or HTTPrequest:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19602931/basic-http-file-downloading-and-saving-to-disk-in-python?noredirect=1&amp;lq=1\">Basic http file downloading and saving to disk in python?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38615811/how-to-download-a-file-with-python-selenium-and-phantomjs?noredirect=1&amp;lq=1\">How to download a file with Python, Selenium and PhantomJS</a></p>\n\n<p>...which would work, except to get to the files I want to download, I have to login and do a bunch of Xpath navigating, using Selenium.</p>\n\n<p>Is there an easier way to do this? (in the hope that there's something new since the previous related posts) </p>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 0, "creation_date": 1482964207, "post_id": 41370349, "comment_id": 69942902, "body": "You are plugging in x instead of sol. Do <code>print(obj(sol, a, b, c))</code> instead."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 0, "creation_date": 1482964313, "post_id": 41370349, "comment_id": 69942937, "body": "Voting to close since this is just a typo. The root-finding works fine.  But should you need verbose output in the future, do <code>sol, infodict, ier, mesg = scipy.optimize.fsolve(fun, guess, full_output=True)</code> and examine the output of these, especially infodict."}], "owner": {"reputation": 145, "user_id": 7351617, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47097cb2d11ca1281faa1b4c30510d69?s=128&d=identicon&r=PG&f=1", "display_name": "Glxblt76", "link": "https://stackoverflow.com/users/7351617/glxblt76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482963959, "creation_date": 1482962731, "last_edit_date": 1482963959, "question_id": 41370349, "link": "https://stackoverflow.com/questions/41370349/fsolve-returns-a-point-at-which-the-function-is-not-zero", "title": "fsolve returns a point at which the function is not zero", "body": "<p>I'm quite new in Python programming and I'm struggling to optimize a simple non linear function. The code is as follows (I have anaconda on my computer which includes numpy and scipy libraries):</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: Latin-1 -*-\n\n# System libraries\n\nimport os\nimport sys\nimport math\nimport getopt\nimport scipy\n\nfrom scipy import optimize\n\n#params\na = 78.0\nb = 47.0\nc = 0.0203242205945909\n\n#initial guess (solution is not far to c so we use c parameter as initial guess)\nguess = c   \n#objective function to find root\ndef obj(_x, _a, _b, _c):\n    f = (_c - (_x + (_b*x**_b)*(10**_a)))\n    return f;\n\nx = guess\n\nsol = scipy.optimize.fsolve(lambda x: obj(x, _a=a, _b=b,  _c=c), guess)\n#aaaand when we calculate the solution, it does not correspond to a root of the function!\nprint(sol)\nprint(obj(x, a, b, c))\n</code></pre>\n\n<p>Result when I use script is:</p>\n\n<pre><code>[-1.38815731]\n-1.40848153538\n</code></pre>\n\n<p>I would expect:</p>\n\n<pre><code>[correct root that I don't know]\n0.00000000000\n</code></pre>\n\n<p>Why does it give that result? What did I do wrong? How to make fsolve verbose? I don't get that in documentation.</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-datastore", "app-engine-ndb"], "comments": [{"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 1, "creation_date": 1482963311, "post_id": 41370271, "comment_id": 69942599, "body": "On both production and development env console you can go in the memcache viewer and manually flush the cache after you update the values. You app should no longer see the older values. This flushes all entries, but impact should be small - your app should be prepared to handle vanishing memcache values anyways."}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 1, "creation_date": 1482963467, "post_id": 41370271, "comment_id": 69942653, "body": "Depending on how your app uses these configs you may need to also restart app instances already running."}, {"owner": {"reputation": 7280, "user_id": 1475331, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9df3aad1564b696a0f0df49db5251236?s=128&d=identicon&r=PG", "display_name": "turdus-merula", "link": "https://stackoverflow.com/users/1475331/turdus-merula"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1482967526, "post_id": 41370271, "comment_id": 69943950, "body": "@DanCornilescu I use the cache for other purposes, too (not only for storing configuration entries). Flushing the whole cache has a non-negligible performance impact in my case. But your idea sounds great in other scenarios."}], "answers": [{"comments": [{"owner": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "edited": false, "score": 2, "creation_date": 1482964741, "post_id": 41370497, "comment_id": 69943097, "body": "Option 1 does not have to be complicated - all you need is a simple (protected) handler that triggers cleaning of necessary Memcache entries (e.g. &quot;/admin/update_config&quot;)"}, {"owner": {"reputation": 37598, "user_id": 153407, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zoFYE.png?s=128&g=1", "display_name": "Dan McGrath", "link": "https://stackoverflow.com/users/153407/dan-mcgrath"}, "reply_to_user": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "edited": false, "score": 1, "creation_date": 1482965177, "post_id": 41370497, "comment_id": 69943251, "body": "@AndreiVolgin - indeed it doesn&#39;t, but it&#39;s still setting up more code/services. Ultimately it could serve as a jumping point to building a more functional admin experience for the app, such as scheduled updates, roll backs, logging, verification of changes, etc."}], "tags": [], "owner": {"reputation": 37598, "user_id": 153407, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zoFYE.png?s=128&g=1", "display_name": "Dan McGrath", "link": "https://stackoverflow.com/users/153407/dan-mcgrath"}, "is_accepted": true, "score": 2, "last_activity_date": 1482963544, "last_edit_date": 1592644375, "creation_date": 1482963544, "answer_id": 41370497, "question_id": 41370271, "link": "https://stackoverflow.com/questions/41370271/how-to-refresh-configuration-entries-kept-in-google-app-engine-datastore/41370497#41370497", "title": "How to refresh configuration entries kept in Google App Engine Datastore?", "body": "<h1>Option 1 - Most work</h1>\n<p>Implement your own admin module in App Engine using the NDB client libraries. If you make changes to the entity via your own app then it would naturally write the correct memcache key for you.</p>\n<h1>Option 2 - Trading cost for update delays</h1>\n<p>As you already suggested, reduce maximum cache age for the model. For example, in most cases allow a 1 hour period before changes are live is not an unreasonable.</p>\n<h1>Option 3 - Least work, but a bad idea at scale</h1>\n<p>Flush the entire cache via the Cloud Console for memcache.</p>\n<p><strong>Warning:</strong> If you run at significant scale this is a bad idea, as it could cause a huge spike in requests. For example, if you are running 1 million reads/second to datastore after a 90% cache hit rate, you could spike to 10 million reads/second immediately upon flush.</p>\n"}], "owner": {"reputation": 7280, "user_id": 1475331, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9df3aad1564b696a0f0df49db5251236?s=128&d=identicon&r=PG", "display_name": "turdus-merula", "link": "https://stackoverflow.com/users/1475331/turdus-merula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "accepted_answer_id": 41370497, "answer_count": 1, "score": 3, "last_activity_date": 1482963623, "creation_date": 1482962206, "last_edit_date": 1482963623, "question_id": 41370271, "link": "https://stackoverflow.com/questions/41370271/how-to-refresh-configuration-entries-kept-in-google-app-engine-datastore", "title": "How to refresh configuration entries kept in Google App Engine Datastore?", "body": "<p>I would like to keep some application configuration entries as entities in the <strong>datastore</strong>. Now, when I update these entries from the Datastore Viewer (development environment) or Google Cloud Platform Datastore user interface (production environment), the new values aren't seen by the application. This is because <strong>ndb</strong> caches the entities.</p>\n\n<p>My (quite open) question is: what is your technique for keeping configuration entries in the datastore, updating them from Google's user interface, and also providing fresh values to the application?</p>\n\n<p>I have thought of the following:</p>\n\n<ol>\n<li><p>Set a reasonable <code>_memcache_timeout</code> on the <code>ndb.Model</code> subclass which defines the configuration entries - but memcache usage is suboptimal in this case (unnecessary datastore reads are performed).</p></li>\n<li><p>Keep cache settings at maximum, but implement a <code>flush</code> operation in the admin area of the application to flush entities individually. This is tricky because you can't be sure of the actual cache key of the entity. But normally it should be <code>_memcache_prefix + key.urlsafe()</code>, where <code>_memcache_prefix</code> is defined in <a href=\"https://github.com/GoogleCloudPlatform/datastore-ndb-python/blob/master/ndb/context.py\" rel=\"nofollow noreferrer\">ndb.context module</a>.</p></li>\n<li><p>Update all configuration entries from the admin area of the application, and don't use Google's datastore user interfaces - this requires extra effort.</p></li>\n</ol>\n"}, {"tags": ["python", "ssl", "urllib2"], "comments": [{"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482962258, "post_id": 41370251, "comment_id": 69942247, "body": "PS: I am using python2.7.10"}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482962474, "post_id": 41370251, "comment_id": 69942320, "body": "Handshake failure might be anything like missing SNI or an old OpenSSL version which does not support newer protocols or ciphers. You might try requests library which depending on the unknown cause of the problem might work better or fail too. If this does not help provide information about platform, OpenSSL version (<code>ssl.OPENSSL_VERSION</code>)  and target URL so that others can  reproduce the problem and help you."}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "reply_to_user": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482962718, "post_id": 41370251, "comment_id": 69942403, "body": "&#39;OpenSSL 0.9.8zh 14 Jan 2016&#39;"}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482962859, "post_id": 41370251, "comment_id": 69942450, "body": "Since the target URL is still unknown my guess is that it requires either ciphers like ECDHE and/or protocol versions like TLS 1.2 which are not available in this obsolete OpenSSL version. You might check with <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" rel=\"nofollow noreferrer\">ssllabs</a>. In this case upgrade everything to use a newer OpenSSL."}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "reply_to_user": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482962918, "post_id": 41370251, "comment_id": 69942466, "body": "Website: bs.to!"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "reply_to_user": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482963264, "post_id": 41370251, "comment_id": 69942584, "body": "Can you do something with the URL?"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "reply_to_user": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482964034, "post_id": 41370251, "comment_id": 69942848, "body": "Any idea what I am doing wrong?"}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1482990936, "post_id": 41370251, "comment_id": 69949414, "body": "My guess this is related to SNI which is required by this target. See also <a href=\"http://stackoverflow.com/questions/30918761/sslv3-alert-handshake-failure-with-urllib2\" title=\"sslv3 alert handshake failure with urllib2\">stackoverflow.com/questions/30918761/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1721, "user_id": 1243419, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a70dbea161f37794ca9e91149b06a213?s=128&d=identicon&r=PG&f=1", "display_name": "Aliweb", "link": "https://stackoverflow.com/users/1243419/aliweb"}, "reply_to_user": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482962587, "post_id": 41370310, "comment_id": 69942355, "body": "what kind of error do you get when you use <code>request</code> ?"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482962642, "post_id": 41370310, "comment_id": 69942376, "body": "This: requests.exceptions.SSLError: [SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:590)"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482962808, "post_id": 41370310, "comment_id": 69942433, "body": "Can you do something with this?"}, {"owner": {"reputation": 1721, "user_id": 1243419, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a70dbea161f37794ca9e91149b06a213?s=128&d=identicon&r=PG&f=1", "display_name": "Aliweb", "link": "https://stackoverflow.com/users/1243419/aliweb"}, "reply_to_user": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482962983, "post_id": 41370310, "comment_id": 69942485, "body": "Does it happen when you&#39;re trying to connect to ANY host or just the one that you specified in the question?"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482963019, "post_id": 41370310, "comment_id": 69942501, "body": "Just to a specific host!"}, {"owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "edited": false, "score": 0, "creation_date": 1482963927, "post_id": 41370310, "comment_id": 69942811, "body": "Have you found a solution for my problem?"}], "tags": [], "owner": {"reputation": 1721, "user_id": 1243419, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a70dbea161f37794ca9e91149b06a213?s=128&d=identicon&r=PG&f=1", "display_name": "Aliweb", "link": "https://stackoverflow.com/users/1243419/aliweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1482962463, "creation_date": 1482962463, "answer_id": 41370310, "question_id": 41370251, "link": "https://stackoverflow.com/questions/41370251/python-get-website-source-code-using-urllib2-ssl-problems/41370310#41370310", "title": "Python: get website source code using urllib2 (ssl problems)", "body": "<p>It might be happening due to some ssl options that the server requests and <code>urllib2</code> library doesn't support.</p>\n\n<p>I recommend you to install and use <code>request</code> library as it provides more security packages and options.</p>\n"}], "owner": {"reputation": 57, "user_id": 4825080, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e91a5ef9a9c88038cf5f72f0b6e24cdb?s=128&d=identicon&r=PG&f=1", "display_name": "ghnome", "link": "https://stackoverflow.com/users/4825080/ghnome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482962463, "creation_date": 1482962112, "question_id": 41370251, "link": "https://stackoverflow.com/questions/41370251/python-get-website-source-code-using-urllib2-ssl-problems", "title": "Python: get website source code using urllib2 (ssl problems)", "body": "<p>As I mentioned in the title, I want to read the source code of a website. Everything is working fine, but sometimes I get an Error.</p>\n\n<p><strong>Error</strong></p>\n\n<pre><code>urllib2.URLError: &lt;urlopen error [SSL: SSLV3_ALERT_HANDSHAKE_FAILURE] sslv3 alert handshake failure (_ssl.c:590)\n</code></pre>\n\n<p>I know that there is a problem with the ssl certificate, but I don't know how to fix it. I already spent several hours to find a solution to my problem, but until now I was not successful (I have already tried a couple things with the <code>ssl</code> module).</p>\n\n<p><strong>The way I do it:</strong></p>\n\n<pre><code>import urllib2\nurllib2.openurl(\"https://www.website.com\")\n</code></pre>\n\n<p>If there is no way doing this kind of stuff with <code>urllib2</code>, is there a different module, which you recommend?</p>\n"}, {"tags": ["python", "matrix", "random", "theano"], "answers": [{"tags": [], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "is_accepted": false, "score": 0, "last_activity_date": 1482963160, "last_edit_date": 1482963160, "creation_date": 1482962744, "answer_id": 41370351, "question_id": 41370214, "link": "https://stackoverflow.com/questions/41370214/how-to-generate-a-matrix-of-two-number-in-python/41370351#41370351", "title": "How to generate a matrix of two number in python", "body": "<p>How about something like this?</p>\n\n<pre><code>import random\n\ndef create_matrix(width, height):\n    mat = []\n    for i in range(height):\n        mat.append([]) # create sublist for each height level\n        for _ in range(width):\n            # generate a random number in inclusive range [1, 5]\n            random_number = random.randint(1, 5)\n            # 80% chance the number is one of 1, 2, 3, or 4 (arbitrary; could be 1, 3, 4, or 5, just not the entire range)\n            if random_number in {1, 2, 3, 4}:\n                mat[i].append(1)\n            # 20% chance it's 5\n            else:\n                mat[i].append(2.5)\n    return mat\n</code></pre>\n\n<p>One result:</p>\n\n<pre><code>&gt;&gt;&gt; print(create_matrix(10, 10))\n[[1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2.5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 2.5, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 2.5, 2.5], [2.5, 1, 1, 1, 1, 1, 1, 1, 1, 1], [2.5, 1, 1, 1, 1, 2.5, 1, 1, 2.5, 2.5], [1, 2.5, 1, 1, 1, 2.5, 1, 1, 2.5, 1], [1, 1, 1, 2.5, 2.5, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2.5, 1, 1, 1, 2.5, 1], [1, 2.5, 1, 1, 1, 1, 1, 1, 2.5, 1]]\n</code></pre>\n\n<p>We can verify the number of <code>1</code>s and <code>2.5</code>s matches (or gets very close to) the proportion you designated:</p>\n\n<pre><code>&gt;&gt;&gt; {number: [val for row in mat for val in row].count(number) for number in {1, 2.5}}\n{1: 82, 2.5: 18}\n</code></pre>\n\n<p>With many iterations, these proportions will approach 80% and 20%, respectively. But random chance creates some variation around those means.</p>\n\n<p>Note that this doesn't ensure at all that each row has at least one <code>2.5</code> (don't know if that's relevant to your problem). But this should give you a good start.</p>\n"}, {"tags": [], "owner": {"reputation": 447, "user_id": 5556887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb86c8d689592c71cc88a42c7981c252?s=128&d=identicon&r=PG&f=1", "display_name": "bouletta", "link": "https://stackoverflow.com/users/5556887/bouletta"}, "is_accepted": false, "score": 0, "last_activity_date": 1482964876, "last_edit_date": 1482964876, "creation_date": 1482963470, "answer_id": 41370478, "question_id": 41370214, "link": "https://stackoverflow.com/questions/41370214/how-to-generate-a-matrix-of-two-number-in-python/41370478#41370478", "title": "How to generate a matrix of two number in python", "body": "<p>If you are not looking to directly generate a matrix with 2.5 values, you can manually replace 0 values :</p>\n\n<pre><code>srng = RandomStreams()    \nA = srng.binomial(X.shape, p=0.8)\nA[A == 0]=2.5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1482963834, "last_edit_date": 1482963834, "creation_date": 1482963531, "answer_id": 41370492, "question_id": 41370214, "link": "https://stackoverflow.com/questions/41370214/how-to-generate-a-matrix-of-two-number-in-python/41370492#41370492", "title": "How to generate a matrix of two number in python", "body": "<p>the same way you make a line that cross 2 point in the plane</p>\n\n<pre><code>y = m*x + a\n</code></pre>\n\n<p>choose <code>m</code> and <code>a</code> such that when x=0 is the lower extreme of the interval and when x=1 is the other extreme.</p>\n\n<p>So for the interval <code>[a,b]</code> it is <code>y = (b-a)x + a</code> </p>\n\n<p>In this case for [1,2.5] then a=1 and m=1.5, but in your case <code>a</code> is a matrix of pure 1.</p>\n\n<p>Maybe your library have some other utility to do it, but when everything else fail this always will work</p>\n"}, {"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 0, "last_activity_date": 1482963630, "creation_date": 1482963630, "answer_id": 41370523, "question_id": 41370214, "link": "https://stackoverflow.com/questions/41370214/how-to-generate-a-matrix-of-two-number-in-python/41370523#41370523", "title": "How to generate a matrix of two number in python", "body": "<p>You can do this with NumPy:</p>\n\n<pre><code>import numpy as np\n\nx = np.zeros((3, 4))\na = np.random.binomial(1, p=0.8, size=x.shape).astype(float)\na[a==0] = 2.5\n</code></pre>\n\n<p>Now <code>a</code> looks like this:</p>\n\n<pre><code>array([[ 1. ,  1. ,  2.5,  1. ],\n       [ 1. ,  1. ,  1. ,  2.5],\n       [ 1. ,  1. ,  2.5,  1. ]])\n</code></pre>\n\n<p>The line:</p>\n\n<pre><code>a[a==0] = 2.5\n</code></pre>\n\n<p>replaces all occurrences of of <code>0</code> with <code>2.5</code>.</p>\n"}], "owner": {"reputation": 329, "user_id": 4744673, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/caf81b0af7fc0f5123363c3fb0d28a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amn Kh", "link": "https://stackoverflow.com/users/4744673/amn-kh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1482964876, "creation_date": 1482961881, "last_edit_date": 1482962701, "question_id": 41370214, "link": "https://stackoverflow.com/questions/41370214/how-to-generate-a-matrix-of-two-number-in-python", "title": "How to generate a matrix of two number in python", "body": "<p>Suppose <code>X</code> is a matrix. The following commands generate a matrix with the shape of <code>X</code> in randomly selected the members between <code>0</code> and <code>1</code> (<code>80%</code> of the members are <code>1</code> and the rest <code>0</code>).     </p>\n\n<pre><code>srng = RandomStreams()    \nsrng.binomial(X.shape, p=0.8)\n</code></pre>\n\n<p>The question is how to make the similar random matrix between <code>1</code> and another number likes <code>2.5</code>. In another word, I need a matrix with the shape of <code>X</code> in randomly selected the members between <code>1</code> and <code>2.5</code> (<code>80%</code> of the members are <code>1</code> and the rest <code>2.5</code>)</p>\n"}, {"tags": ["python", "datetime-format", "bokeh"], "owner": {"reputation": 269, "user_id": 7227434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1255963147810031/picture?type=large", "display_name": "Yasir Azeem", "link": "https://stackoverflow.com/users/7227434/yasir-azeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "closed_date": 1483228144, "answer_count": 0, "score": 1, "last_activity_date": 1483006559, "creation_date": 1482961764, "last_edit_date": 1483006559, "question_id": 41370188, "link": "https://stackoverflow.com/questions/41370188/python-bokeh-hover-tool-tips-date-time", "closed_reason": "Duplicate", "title": "Python: Bokeh hover tool tips date time", "body": "<p>I am trying to get a line plot via Bokeh in Python. I am new to Bokeh and I am trying to apply hover tool tips over the plot. The x-axis of the plot has Timestamp values which are converted into epoch string. I've reviewed some same problems here and tried to use the workaround for my case but it doesn't seem to work. On the plot it gives <code>???</code> where the time should show up. </p>\n\n<p>Any suggestions for my code?</p>\n\n<p>Timestamp is in format <code>2016-12-29 02:49:12</code></p>\n\n<p>Also can someone tell how do I format x-axis ticks to show up vertically ? </p>\n\n<pre><code>p = figure(width=1100,height=300,tools='resize,pan,wheel_zoom,box_zoom,reset,previewsave,hover',logo=None)\np.title.text = \"Time Series for Price in Euros\"\np.grid.grid_line_alpha = 0\np.xaxis.axis_label = \"Day\"\np.yaxis.axis_label = \"Euros\"\np.ygrid.band_fill_color = \"olive\"\np.ygrid.band_fill_alpha = 0.1\np.circle(df['DateTime'],df['EuP'], size=4, legend='close',\n      color='darkgrey', alpha=0.2)\np.xaxis.formatter = DatetimeTickFormatter(formats=dict(\n    hours=[\"%d %B %Y\"],\n    days=[\"%d %B %Y\"],\n    months=[\"%d %B %Y\"],\n    years=[\"%d %B %Y\"],\n))\n\n\nsource = ColumnDataSource(data=dict(time=[x.strftime(\"%Y-%m-%d %H:%M:%S\")for x in df['DateTime']]))\nhover = p.select(dict(type=HoverTool))\nhover.tooltips = {\"time\":'@time', \"y\":\"$y\"}\nhover.mode = 'mouse'\np.line(df['DateTime'],df['EuP'],legend='Price',color='navy',alpha=0.7)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "csv"], "comments": [{"owner": {"reputation": 405, "user_id": 263232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J7LhG.jpg?s=128&g=1", "display_name": "ScottEdwards2000", "link": "https://stackoverflow.com/users/263232/scottedwards2000"}, "edited": false, "score": 0, "creation_date": 1482963135, "post_id": 41370183, "comment_id": 69942550, "body": "What&#39;s the need for the single-double-comma-single-double pattern?  Is that so that it ignores commas embedded within quotes?"}, {"owner": {"reputation": 405, "user_id": 263232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J7LhG.jpg?s=128&g=1", "display_name": "ScottEdwards2000", "link": "https://stackoverflow.com/users/263232/scottedwards2000"}, "edited": false, "score": 0, "creation_date": 1482963189, "post_id": 41370183, "comment_id": 69942568, "body": "Do you need the &quot;for city in citys&quot;? You are only running the IF statement on one line at a time, right?"}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "reply_to_user": {"reputation": 405, "user_id": 263232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J7LhG.jpg?s=128&g=1", "display_name": "ScottEdwards2000", "link": "https://stackoverflow.com/users/263232/scottedwards2000"}, "edited": false, "score": 0, "creation_date": 1482963282, "post_id": 41370183, "comment_id": 69942589, "body": "@ScottEdwards2000 The single-double-comma-single-double pattern is due to the format of my csv"}, {"owner": {"reputation": 405, "user_id": 263232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J7LhG.jpg?s=128&g=1", "display_name": "ScottEdwards2000", "link": "https://stackoverflow.com/users/263232/scottedwards2000"}, "edited": false, "score": 0, "creation_date": 1482963348, "post_id": 41370183, "comment_id": 69942612, "body": "ah, ok - could you elaborate on the specific format of your csv that requires that pattern?  just haven&#39;t seen it before"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1482963040, "post_id": 41370230, "comment_id": 69942508, "body": "Thanks for the help and advice. I keep getting this error after adding your code in... Traceback (most recent call last):   File &quot;yelpscrape.py&quot;, line 51, in &lt;module&gt;     cw.writerow(next(cr))  # copy title ValueError: I/O operation on closed file"}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1482965277, "post_id": 41370230, "comment_id": 69943297, "body": "Nevermind. I got it working. Didn&#39;t piece it in quite right. I believe it&#39;s working now. Thank you for you help!"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 2, "last_activity_date": 1482963044, "last_edit_date": 1482963044, "creation_date": 1482962011, "answer_id": 41370230, "question_id": 41370183, "link": "https://stackoverflow.com/questions/41370183/how-to-copy-header-row-to-new-csv-in-python/41370230#41370230", "title": "How to copy header row to new csv in python", "body": "<p>you can just consume the first line of the file to read and write it back in the file to be written:</p>\n\n<pre><code>with open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    matched.write(next(master)) # can't use readline when iterating on the file afterwards\n</code></pre>\n\n<p>Seems that you really need <code>csv</code> module, though, for the rest. I'll edit my answer to attempt something in that direction</p>\n\n<p>With the <code>csv</code> module, no need for those unsafe <code>split</code>. Comma is the default separator and quotes are also handled properly. So I'd just write:</p>\n\n<pre><code>import csv\nwith open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    cr = csv.reader(master)\n    cw = csv.writer(matched)\n    cw.writerow(next(cr))  # copy title\n\n    for row in cr:  # iterate on the rows, already organized as lists\n        if any(city in row[5] for city in citys) and \\\n        any(state in row[6] for state in states) and \\\n        not any(category in row[2] for category in categorys):\n            cw.writerow(row)\n</code></pre>\n\n<p>BTW your filter checks that <code>city</code> is contained in <code>row[5]</code>, but maybe you'd like an exact match. Ex: <code>\"York\"</code> would match <code>\"New York\"</code>, which is probably not what you want. So my proposal would be using <code>in</code> to check if the string is in the list of strings, for each criterion:</p>\n\n<pre><code>import csv\nwith open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    cr = csv.reader(master)\n    cw = csv.writer(matched)\n    cw.writerow(next(cr))  # copy title\n    for row in cr:\n        if row[5] in citys and row[6] in states and not row[2] in categorys:\n           cw.writerow(row)\n</code></pre>\n\n<p>which can be even bettered using <em>generator comprehension</em> and write all lines at once:</p>\n\n<pre><code>import csv\nwith open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    cr = csv.reader(master)\n    cw = csv.writer(matched)\n    cw.writerow(next(cr))  # copy title\n    cw.writerows(row for row in cr if row[5] in citys and row[6] in states and not row[2] in categorys)\n</code></pre>\n\n<p>note that <code>citys</code>, <code>states</code>, and <code>categorys</code> would be better as <code>set</code>s rather than <code>list</code>s so lookup algorithm is much faster (you didn't provide that information)</p>\n"}, {"tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 0, "last_activity_date": 1482962058, "creation_date": 1482962058, "answer_id": 41370240, "question_id": 41370183, "link": "https://stackoverflow.com/questions/41370183/how-to-copy-header-row-to-new-csv-in-python/41370240#41370240", "title": "How to copy header row to new csv in python", "body": "<p>If you don't want to think too hard about how the line-producing iterator works, oOne straightforward way to do it is to treat the first line special:</p>\n\n<pre><code>with open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    first_line = True\n    for line in master:\n            if first_line or (any(city in line.split('\",\"')[5] for city in citys) and \\\n            any(state in line.split('\",\"')[6] for state in states) and \\\n            not any(category in line.split('\",\"')[2] for category in categorys)):\n                matched.write(line)\n            first_line = False\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2132, "favorite_count": 0, "accepted_answer_id": 41370230, "answer_count": 2, "score": 1, "last_activity_date": 1482963044, "creation_date": 1482961748, "question_id": 41370183, "link": "https://stackoverflow.com/questions/41370183/how-to-copy-header-row-to-new-csv-in-python", "title": "How to copy header row to new csv in python", "body": "<p>I can't seem to figure out how to copy my header row from master to matched... I need to grab the first row in my master csv and write it first in matched, then write the remaining lines if they match the criteria...</p>\n\n<pre><code>with open('master.csv', 'r') as master, open('match.csv', 'w') as matched:\n    for line in master:\n            if any(city in line.split('\",\"')[5] for city in citys) and \\\n            any(state in line.split('\",\"')[6] for state in states) and \\\n            not any(category in line.split('\",\"')[2] for category in categorys):\n                matched.write(line)\n</code></pre>\n\n<p>Please help. I am new to python and don't know how to use pandas or anything else...</p>\n"}, {"tags": ["python", "arduino", "pyserial"], "answers": [{"tags": [], "owner": {"reputation": 464, "user_id": 6187538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cacb5a0481aaf812460831543f68b64?s=128&d=identicon&r=PG&f=1", "display_name": "dodell", "link": "https://stackoverflow.com/users/6187538/dodell"}, "is_accepted": false, "score": 0, "last_activity_date": 1484151781, "creation_date": 1484151781, "answer_id": 41595822, "question_id": 41370175, "link": "https://stackoverflow.com/questions/41370175/pyserial-with-arduino-and-multiple-ds18b20/41595822#41595822", "title": "Pyserial with Arduino and multiple ds18b20", "body": "<p>You need to do a back-and-forth serial conversation where the python code sends \"I want sensor {1}\". The Arduino code must act on this input by first determining which sensor reading is required, reading the relevant sensor, converting signal to degF or degC or whatever, then sending the result back through serial.</p>\n\n<p>This function can then be called from within GUI code.</p>\n\n<p>Python pseudocode:</p>\n\n<pre><code>set up serial connection\n\ndef get_val(sensor):\n    serial send sensor\n    serial get value\n    return value\n\nsensors = [1,2,3]\n\nfor each in sensors:\n    temp = get_val(each)\n</code></pre>\n\n<p>Arduino pseudocode:</p>\n\n<pre><code>SENSOR1_PIN = A4;\nSENSOR2_PIN = A3;\n\nsetup {\n    serial\n    pins\n}\n\nmain {\n    get serial char\n    if (char==1) {\n        value = analog read SENSOR1_PIN\n        - do some maths -\n        serial send temp\n    }\n    if (char==2) { ...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7308516, "user_type": "registered", "profile_image": "https://graph.facebook.com/1621061954586438/picture?type=large", "display_name": "Jonathan Wagoner", "link": "https://stackoverflow.com/users/7308516/jonathan-wagoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1484151781, "creation_date": 1482961717, "last_edit_date": 1482968717, "question_id": 41370175, "link": "https://stackoverflow.com/questions/41370175/pyserial-with-arduino-and-multiple-ds18b20", "title": "Pyserial with Arduino and multiple ds18b20", "body": "<p>I am building a thermostat GUI using Arduino and Python 3 <a href=\"https://wiki.python.org/moin/TkInter\" rel=\"nofollow noreferrer\">Tkinter</a>. I have multiple <a href=\"http://datasheets.maximintegrated.com/en/ds/DS18B20.pdf\" rel=\"nofollow noreferrer\">ds18b20</a> sensors hooked to an Arduino card. I can get all the sensors to read in one tkinter label, however, I need to just read one sensor and place it in a label, then read the second and place it in a different label etc. I can't figure out how to read each sensor separately. Any help is greatly appreciated.</p>\n"}, {"tags": ["python", "opencv", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3585317, "user_type": "registered", "profile_image": "https://graph.facebook.com/510398626/picture?type=large", "display_name": "user3585317", "link": "https://stackoverflow.com/users/3585317/user3585317"}, "is_accepted": false, "score": 0, "last_activity_date": 1490211193, "creation_date": 1490211193, "answer_id": 42961055, "question_id": 41370145, "link": "https://stackoverflow.com/questions/41370145/cv2-namedwindow-doesnt-work-in-virtualenv/42961055#42961055", "title": "cv2.namedWindow() doesn&#39;t work in virtualenv", "body": "<p>I encountered this same problem. You can try the following:</p>\n\n<pre><code># Symlink your global cv.so file to your virtualenv\ncd ~/.virtualenvs/&lt;YOUR_VIRTUALENV&gt;/lib/python2.7/site-packages/cv2\ncp cv2.so cv2.so.backup\nrm cv2.so\nln -s /usr/local/lib/python2.7/dist-packages/cv2.so cv2.so\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3624407, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001305005955/picture?type=large", "display_name": "Aditya", "link": "https://stackoverflow.com/users/3624407/aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490211193, "creation_date": 1482961475, "question_id": 41370145, "link": "https://stackoverflow.com/questions/41370145/cv2-namedwindow-doesnt-work-in-virtualenv", "title": "cv2.namedWindow() doesn&#39;t work in virtualenv", "body": "<p>When I ran<code>import cv2;cv2.namedWindow('hello')</code> in a virtualenv I get the following error:</p>\n\n<pre><code>OpenCV Error: Unspecified error (The function is not implemented. Rebuild the library with Windows, GTK+ 2.x or Carbon support. If you are on Ubuntu or Debian, install libgtk2.0-dev and pkg-config, then re-run cmake or configure script) in cvNamedWindow, file /io/opencv/modules/highgui/src/window.cpp, line 527\n</code></pre>\n\n<p>I tried doing what was suggested there, installed all the dependencies as mentioned in the <a href=\"http://docs.opencv.org/trunk/d7/d9f/tutorial_linux_install.html\" rel=\"nofollow noreferrer\">OpenCV</a> website. And followed the steps mentioned there to install opencv. I used WITH_GTK=ON tag while running cmake.</p>\n\n<p>But this error doesn't occur when I use <code>cv2.namedWindow()</code>. But error doesn't occur with system python. So I did as it was mentioned in the this <a href=\"http://www.pyimagesearch.com/2015/06/22/install-opencv-3-0-and-python-2-7-on-ubuntu/\" rel=\"nofollow noreferrer\">link</a>. I created a soft link of /usr/local/lib/python2.7/dist-packages/cv2.so in the virtualenv site-packages. </p>\n\n<p>Still the error persists. Can anyone tell me where I am going wrong?</p>\n\n<p>Thanks in advanced </p>\n"}, {"tags": ["python", "pandas", "data-analysis"], "answers": [{"comments": [{"owner": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "edited": false, "score": 0, "creation_date": 1482962402, "post_id": 41370228, "comment_id": 69942297, "body": "Very cool! Instead of hard coding the range, is there a way to infer the min and max of the corresponding index values? (I only want to fill in values in between the existing extremes)."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "edited": false, "score": 0, "creation_date": 1482962736, "post_id": 41370228, "comment_id": 69942406, "body": "@SRobertJames lol!  I just had that in my answer and deleted it.  Oh well.  Yes.  One moment while I update my post."}, {"owner": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "edited": false, "score": 0, "creation_date": 1482976969, "post_id": 41370228, "comment_id": 69946153, "body": "Works great! Ensure that the <code>df.index.is_unique</code> before trying this."}, {"owner": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "edited": false, "score": 0, "creation_date": 1482978015, "post_id": 41370228, "comment_id": 69946333, "body": "Ahh, spoke too soon.  I&#39;m getting MemoryError (top shows 30 GB in use before error, which is all I have!).  The index size is 400 (level 0) * 300 (level 1) * 2000 (level 2) = 240 million, which, at &gt; 100 bytes a row (very reasonable given that <code>p</code> and <code>q</code> are floats), exhausts 24 GB.  Is there a way to handle this in Pandas? If not, is there an equivalent SQL command (I can load the data into SQL)?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "edited": false, "score": 0, "creation_date": 1482979422, "post_id": 41370228, "comment_id": 69946626, "body": "@SRobertJames at this point we need other mem efficient strategies. Like sparse dataframes. I&#39;ll look into it later."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1482963021, "last_edit_date": 1482963021, "creation_date": 1482962002, "answer_id": 41370228, "question_id": 41370111, "link": "https://stackoverflow.com/questions/41370111/pandas-adding-zero-values-where-no-rows-exist-sparse/41370228#41370228", "title": "Pandas: Adding zero values where no rows exist (sparse)", "body": "<p>Consider this <code>df</code></p>\n\n<pre><code>data = {\n    (1, 0): dict(p=1, q=1),\n    (3, 2): dict(p=1, q=1),\n    (5, 4): dict(p=1, q=1),\n    (7, 6): dict(p=1, q=1),\n}\ndf = pd.DataFrame(data).T\ndf\n\n     p  q\n1 0  1  1\n3 2  1  1\n5 4  1  1\n7 6  1  1\n</code></pre>\n\n<hr>\n\n<p>Use <code>reindex</code> with <code>fill_value=0</code> from a constructed <code>pd.MultiIndex.from_product</code></p>\n\n<pre><code>mux = pd.MultiIndex.from_product([range(8), range(8)])\ndf.reindex(mux, fill_value=0)\n\n     p  q\n0 0  0  0\n  1  0  0\n  2  0  0\n  3  0  0\n  4  0  0\n  5  0  0\n  6  0  0\n  7  0  0\n1 0  1  1\n  1  0  0\n  2  0  0\n  3  0  0\n  4  0  0\n  5  0  0\n  6  0  0\n  7  0  0\n2 0  0  0\n  1  0  0\n  2  0  0\n  3  0  0\n</code></pre>\n\n<hr>\n\n<p><strong>response to comment</strong><br>\nYou can get min, max of index levels like this</p>\n\n<pre><code>def mn_mx(idx):\n    return idx.min(), idx.max()\n\nmn0, mx0 = mn_mx(df.index.levels[0])\nmn1, mx1 = mn_mx(df.index.levels[1])\n\nmux = pd.MultiIndex.from_product([range(mn0, mx0 + 1), range(mn1, mx1 + 1)])\ndf.reindex(mux, fill_value=0)\n</code></pre>\n"}], "owner": {"reputation": 6777, "user_id": 785494, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/53a1f0aba6f0489d49f5e6fc3df323fa?s=128&d=identicon&r=PG", "display_name": "SRobertJames", "link": "https://stackoverflow.com/users/785494/srobertjames"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "accepted_answer_id": 41370228, "answer_count": 1, "score": 3, "last_activity_date": 1482963021, "creation_date": 1482961279, "question_id": 41370111, "link": "https://stackoverflow.com/questions/41370111/pandas-adding-zero-values-where-no-rows-exist-sparse", "title": "Pandas: Adding zero values where no rows exist (sparse)", "body": "<p>I have a Pandas DataFrame with a MultiIndex.  The MultiIndex has values in the range <code>(0,0)</code> to <code>(1000,1000)</code>, and the column has two fields <code>p</code> and <code>q</code>.</p>\n\n<p>However, the DataFrame is <em>sparse</em>.  That is, if there was no measurement corresponding to a particular index (say <code>(3,2)</code>), there won't be <em>any</em> row for it <code>(3,2)</code>.  I'd like to make it not sparse, by filling in these rows with <code>p=0 and q=0</code>. Continuing the example, if I do <code>df.loc[3].loc[2]</code>, I want it to return <code>p=0 q=0</code>, <em>not</em> No Such Record (as it currently does).</p>\n\n<p><em>Clarification: By \"sparse\", I mean it only in the sense I used it, that zero values are omitted.  I'm not referring to anything in Pandas or Numpy internals.</em></p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "bar-chart", "data-visualization"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1482968907, "creation_date": 1482968907, "answer_id": 41371301, "question_id": 41370097, "link": "https://stackoverflow.com/questions/41370097/matplotlib-bar-chart-with-different-color-bars-and-bar-showing-values/41371301#41371301", "title": "Matplotlib Bar chart with different color bars and bar showing values", "body": "<pre><code>import matplotlib.pylab as plt\nimport numpy as np\nmax_tweets = 19\np = 20\nn = 30\n\ndatas = [{'label':'tweets', 'color': 'r', 'height': max_tweets},\n    {'label':'positivity', 'color': 'g', 'height': p},\n    {'label':'nagitivity', 'color': 'b', 'height': n}]\n\ni = 0\nfor data in datas:\n    plt.bar(i, data['height'],align='center',color=data['color'])\n    i += 1\n\nlabels = [data['label'] for data in datas]\npos = [i for i in range(len(datas)) ]\nplt.xticks(pos, labels)\nplt.xlabel('People Behaviour and Emotions')\nplt.title('Sentiment Analysis')\nplt.show()\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1TdXA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TdXA.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 71, "user_id": 7169099, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208751368044712/picture?type=large", "display_name": "IFfy KhAn", "link": "https://stackoverflow.com/users/7169099/iffy-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6212, "favorite_count": 0, "accepted_answer_id": 41371301, "answer_count": 1, "score": 1, "last_activity_date": 1482983895, "creation_date": 1482961194, "last_edit_date": 1482969902, "question_id": 41370097, "link": "https://stackoverflow.com/questions/41370097/matplotlib-bar-chart-with-different-color-bars-and-bar-showing-values", "title": "Matplotlib Bar chart with different color bars and bar showing values", "body": "<p>I want to change the color of the bars in this code all the bars are of same color and I want to show different values on top of each bar which are stored in maxtweet,p,n variables.</p>\n\n<pre><code>x=[]\nx.append(max_tweets)\nx.append(p)\nx.append(n)\nlabel=('tweets','positivity','nagitivity')\nlabel_pos=np.arange(len(label))\nplt.bar(label_pos,x,align='center',color='k')\nplt.xticks(label_pos,label)\nplt.xlabel('People Behaviour and Emotions')\nplt.title('Sentiment Analysis')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "bokeh"], "answers": [{"tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": false, "score": 0, "last_activity_date": 1482988602, "creation_date": 1482988602, "answer_id": 41373509, "question_id": 41370055, "link": "https://stackoverflow.com/questions/41370055/bokeh-dashboard-error/41373509#41373509", "title": "Bokeh dashboard error", "body": "<p>The current version of <code>dashboard.py</code> on GitHub does not have a call to <code>Select.create</code> on line 360:</p>\n\n<p><a href=\"https://github.com/bokeh/datashader/blob/master/examples/dashboard/dashboard.py#L360\" rel=\"nofollow noreferrer\">https://github.com/bokeh/datashader/blob/master/examples/dashboard/dashboard.py#L360</a></p>\n\n<p>Or anywhere else in the file. That call is a very old part of Bokeh that was removed some time last year. My best guest is that your local checkout of the Datashader repo is out of date, and needs to be updated (or you need to install older versions of Bokeh)</p>\n"}], "owner": {"reputation": 151, "user_id": 4234315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHwY7.jpg?s=128&g=1", "display_name": "David Saroff", "link": "https://stackoverflow.com/users/4234315/david-saroff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482997828, "creation_date": 1482960981, "last_edit_date": 1482997828, "question_id": 41370055, "link": "https://stackoverflow.com/questions/41370055/bokeh-dashboard-error", "title": "Bokeh dashboard error", "body": "<p>The <a href=\"https://github.com/bokeh/datashader/tree/master/examples\" rel=\"nofollow noreferrer\">bokeh datashader dashboard example</a>\ncrashes with the long traceback ending with this error message</p>\n\n<pre><code>File \"dashboard/dashboard.py\", line 360, in create_layout\naxes_select = Select.create(name='Axes', options=axes_options)\nAttributeError: type object 'Select' has no attribute 'create'\nERROR:tornado.access:500 GET / (::1) 11998.72ms\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p>I'm running Python-2.7 on RHEL6</p>\n"}, {"tags": ["python", "orange"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1482961104, "post_id": 41370029, "comment_id": 69941759, "body": "<code>_variable</code> is meant to be a <a href=\"https://github.com/biolab/orange3/blob/master/Orange/data/_variable.pyx\" rel=\"nofollow noreferrer\">compiled module</a>. How did you install this?"}, {"owner": {"reputation": 1036, "user_id": 638504, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9bdd6fc4d7af26497c200c96702e4359?s=128&d=identicon&r=PG", "display_name": "ddofborg", "link": "https://stackoverflow.com/users/638504/ddofborg"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1482961278, "post_id": 41370029, "comment_id": 69941831, "body": "<code>pip install orange3</code> on a Mac in a <code>venv</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1482961343, "post_id": 41370029, "comment_id": 69941860, "body": "Was there any error output? Do you have <a href=\"http://cython.readthedocs.io/en/latest/src/quickstart/install.html\" rel=\"nofollow noreferrer\"><code>cython</code> installed</a>? Do you have XCode installed (<a href=\"http://stackoverflow.com/questions/15371925/how-to-check-if-command-line-tools-is-installed\">check if the command line tools are installed</a>)?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1482961604, "post_id": 41370029, "comment_id": 69941981, "body": "ah, there are a few more requirements, see the <a href=\"https://github.com/biolab/orange3/wiki/Installation-on-OSX-Yosemite\" rel=\"nofollow noreferrer\">orange3 wiki</a>."}, {"owner": {"reputation": 1036, "user_id": 638504, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9bdd6fc4d7af26497c200c96702e4359?s=128&d=identicon&r=PG", "display_name": "ddofborg", "link": "https://stackoverflow.com/users/638504/ddofborg"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1482965218, "post_id": 41370029, "comment_id": 69943267, "body": "@MartijnPieters that works. Thanks!!!"}], "answers": [{"tags": [], "owner": {"reputation": 1036, "user_id": 638504, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9bdd6fc4d7af26497c200c96702e4359?s=128&d=identicon&r=PG", "display_name": "ddofborg", "link": "https://stackoverflow.com/users/638504/ddofborg"}, "is_accepted": false, "score": 1, "last_activity_date": 1482965195, "last_edit_date": 1495540805, "creation_date": 1482965195, "answer_id": 41370801, "question_id": 41370029, "link": "https://stackoverflow.com/questions/41370029/orange3-importerror-cannot-import-name-variable/41370801#41370801", "title": "orange3: ImportError: cannot import name &#39;_variable&#39;", "body": "<p><a href=\"https://github.com/biolab/orange3/wiki/Installation-on-OSX-Yosemite#from-source\" rel=\"nofollow noreferrer\">Installing Orange3 from source</a> like <a href=\"https://stackoverflow.com/users/100297/martijn-pieters\">@MartijnPieters</a> suggested works! Thanks.</p>\n"}], "owner": {"reputation": 1036, "user_id": 638504, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9bdd6fc4d7af26497c200c96702e4359?s=128&d=identicon&r=PG", "display_name": "ddofborg", "link": "https://stackoverflow.com/users/638504/ddofborg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2056, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482965195, "creation_date": 1482960836, "last_edit_date": 1482961213, "question_id": 41370029, "link": "https://stackoverflow.com/questions/41370029/orange3-importerror-cannot-import-name-variable", "title": "orange3: ImportError: cannot import name &#39;_variable&#39;", "body": "<p>I'm trying to use Orange3 on my Mac, but I get this error: <code>ImportError: cannot import name '_variable'</code>.</p>\n\n<p>This is my setup:</p>\n\n<pre><code>$ cd orange_playground\n$ virtualenv -p python3 venv\n$ pip install orange3\n$ source venv/bin/activate\n$ python\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>Python 3.4.2 (default, Oct  8 2014, 19:29:52)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.51)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import Orange\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"orange_playground/venv/lib/python3.4/site-packages/Orange/__init__.py\", line 11, in &lt;module&gt;\n    from .misc.lazy_module import _LazyModule\n  File \"orange_playground/venv/lib/python3.4/site-packages/Orange/misc/__init__.py\", line 3, in &lt;module&gt;\n    from .distmatrix import DistMatrix\n  File \"orange_playground/venv/lib/python3.4/site-packages/Orange/misc/distmatrix.py\", line 3, in &lt;module&gt;\n    from Orange.data import Table, StringVariable, Domain\n  File \"orange_playground/venv/lib/python3.4/site-packages/Orange/data/__init__.py\", line 4, in &lt;module&gt;\n    from .variable import *\n  File \"orange_playground/venv/lib/python3.4/site-packages/Orange/data/variable.py\", line 11, in &lt;module&gt;\n    from Orange.data import _variable\nImportError: cannot import name '_variable'\n</code></pre>\n\n<p>First lines of code from <code>orange_playground/venv/lib/python3.4/site-packages/Orange/data/variable.py</code>:</p>\n\n<pre><code>import collections\nimport re\n\nfrom datetime import datetime, timedelta, timezone\nfrom numbers import Number, Real, Integral\nfrom math import isnan, floor\nfrom pickle import PickleError\n\nimport numpy as np\n\nfrom Orange.data import _variable\nfrom Orange.util import Registry, color_to_hex, hex_to_color\n\n__all__ = [\"Unknown\", \"MISSING_VALUES\", \"make_variable\", \"is_discrete_values\",\n           \"Value\", \"Variable\", \"ContinuousVariable\", \"DiscreteVariable\",\n           \"StringVariable\", \"TimeVariable\"]\n\n\n# For storing unknowns\nUnknown = ValueUnknown = float(\"nan\")\n# For checking for unknowns\nMISSING_VALUES = {np.nan, \"?\", \"nan\", \".\", \"\", \"NA\", \"~\", None}\n\n...\n</code></pre>\n\n<p>Any ideas what to do?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1482960931, "post_id": 41370018, "comment_id": 69941684, "body": "fix your indentation and your code may work."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7351541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921b885199bd36759eadfc60a33b817b?s=128&d=identicon&r=PG&f=1", "display_name": "user7351541", "link": "https://stackoverflow.com/users/7351541/user7351541"}, "edited": false, "score": 0, "creation_date": 1483039061, "post_id": 41370416, "comment_id": 69974026, "body": "Great, thanks so much. Actually stocklist[ticker] = df is much more in line with what I was tying to do. What I&#39;d really like to do is have the Adj Close for all put in one dataframe. That way I could 1. plot all prices on one graf and 2. see what the price change since IPO was for each. I&#39;m still not able to figure that out so any pointers would help!"}], "tags": [], "owner": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "is_accepted": true, "score": 1, "last_activity_date": 1482963081, "creation_date": 1482963081, "answer_id": 41370416, "question_id": 41370018, "link": "https://stackoverflow.com/questions/41370018/adding-stock-price-data-frames-to-a-list-so-you-have-a-list-of-stock-prices-hist/41370416#41370416", "title": "Adding stock price data frames to a list so you have a list of stock prices histories", "body": "<p>You're not appending to <code>stocklist</code> inside the loop due to bad indentation.</p>\n\n<p>Also, you're messing with the loop variable <code>i</code> needlessly.</p>\n\n<p>This might work, although it's difficult to test since the <code>Share</code> class is not available:</p>\n\n<pre><code>tickers = ['LC', 'ZAYO', 'GPRO', 'ANET', 'GRUB',\n           'CSLT', 'ONDK', 'QUOT', 'NEWR', 'ATEN']\nstocklist = []\n\nfor ticker in tickers:\n    stock = Share(ticker)\n    adj = stock.get_historical('2014-1-1', '2016-12-27')\n    df = pd.DataFrame(adj)\n    df.set_index('Date', inplace=True)\n    df['Adj_Close'] = df['Adj_Close'].astype(float, errors='coerce')\n    df.sort_index(inplace=True)\n    stocklist.append(df)\n</code></pre>\n\n<p>Changes I made:</p>\n\n<ul>\n<li>use <code>tickers</code> as a variable name instead of <code>list</code> which is the name of a built-in type</li>\n<li>set index and sort the dataframe in-place instead of making copies</li>\n<li>use <code>DataFrame.sort_index()</code> for sorting since <code>DataFrame.sort()</code> is deprecated</li>\n<li>fixed indentation so <code>stocklist</code> is populated inside the loop</li>\n<li>removed the unnecessary assignment before <code>stocklist</code> appending</li>\n</ul>\n\n<p>It might also be more useful to collect the dataframes in a dictionary keyed by tickers. So you would initialize <code>stocklist = {}</code> and instead of appending do <code>stocklist[ticker] = df</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7351541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921b885199bd36759eadfc60a33b817b?s=128&d=identicon&r=PG&f=1", "display_name": "user7351541", "link": "https://stackoverflow.com/users/7351541/user7351541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 41370416, "answer_count": 1, "score": 0, "last_activity_date": 1482963113, "creation_date": 1482960799, "last_edit_date": 1482963113, "question_id": 41370018, "link": "https://stackoverflow.com/questions/41370018/adding-stock-price-data-frames-to-a-list-so-you-have-a-list-of-stock-prices-hist", "title": "Adding stock price data frames to a list so you have a list of stock prices histories", "body": "<p>I'm trying to get the historical stock price data for all these tickers going back to 2014. All of these companies went public in 2014, so it will automatically get them from the day they first traded.</p>\n\n<p>What I would like is for the <code>stocklist</code> list to contain at the end is a list of dataframes/price histories for each company, but separately and not put together.</p>\n\n<p>So stocklist would be data frames/stock histories for each company, i.e. <code>['LC', 'ZAYO']</code> etc. </p>\n\n<pre><code>tickers = ['LC', 'ZAYO', 'GPRO', 'ANET', 'GRUB', 'CSLT', 'ONDK', 'QUOT', 'NEWR', 'ATEN']\nstocklist = []\n\nfor i in tickers:\n    stock = Share(i)\n    adj = stock.get_historical('2014-1-1', '2016-12-27')\n    df = pd.DataFrame(adj)\n    df = df.set_index('Date')\n    df['Adj_Close'] = df['Adj_Close'].astype(float, errors='coerce')\n    price = df.sort()\n\ni = price\nstocklist.append(i)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 9, "user_id": 7274377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb44428dfdd7fc260500ae7c7346f8a9?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/7274377/manish"}, "reply_to_user": {"reputation": 1663, "user_id": 2261442, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hMSLZ.png?s=128&g=1", "display_name": "phk", "link": "https://stackoverflow.com/users/2261442/phk"}, "edited": false, "score": 0, "creation_date": 1482961618, "post_id": 41370873, "comment_id": 69943410, "body": "what do you mean by U&amp;L"}, {"owner": {"reputation": 9, "user_id": 7274377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb44428dfdd7fc260500ae7c7346f8a9?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/7274377/manish"}, "reply_to_user": {"reputation": 1663, "user_id": 2261442, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hMSLZ.png?s=128&g=1", "display_name": "phk", "link": "https://stackoverflow.com/users/2261442/phk"}, "edited": false, "score": 0, "creation_date": 1482962211, "post_id": 41370873, "comment_id": 69943412, "body": "This is related to Python Scripting in Linux"}, {"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1482965949, "post_id": 41370873, "comment_id": 69943473, "body": "&quot;but I am not getting required values&quot;. What are you getting and what is it you want?"}], "answers": [{"tags": [], "owner": {"reputation": 1594, "user_id": 3824945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RS5Rq.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3824945/dmitry"}, "is_accepted": false, "score": 3, "last_activity_date": 1482966717, "creation_date": 1482966717, "answer_id": 41371001, "question_id": 41370873, "link": "https://stackoverflow.com/questions/41370873/how-to-extract-particular-text-using-python/41371001#41371001", "title": "how to extract particular text using python", "body": "<p>You can use <code>re.findall()</code>:</p>\n\n<pre><code>import re\nServerC = \"WebSphere:cell=abc,cluster=Cluster1+WebSphere:cell=abc,cluster=Cluster2\"\npat = re.compile(\"cluster\\=(\\w+)\")\nprint(pat.findall(ServerC))\n\n# Output: ['Cluster1', 'Cluster2'] \n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1482965642, "question_id": 333376}, "owner": {"reputation": 9, "user_id": 7274377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb44428dfdd7fc260500ae7c7346f8a9?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/7274377/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1482966717, "creation_date": 1482960790, "last_edit_date": 1482965795, "question_id": 41370873, "link": "https://stackoverflow.com/questions/41370873/how-to-extract-particular-text-using-python", "title": "how to extract particular text using python", "body": "<p>I have one variable having value</p>\n\n<pre><code>ServerC = \"WebSphere:cell=abc,cluster=Cluster1+WebSphere:cell=abc,cluster=Cluster2\"\n</code></pre>\n\n<p>I want only all Cluster values in another variable \nI am trying to use</p>\n\n<pre><code>clusterN = ServerC.split(\"cluster=\")\nclusterN = clusterN[1]\n</code></pre>\n\n<p>but I am not getting required values</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1482974460, "post_id": 41369936, "comment_id": 69945671, "body": "Please explain clearly what you mean (i.e., why merge if needed to drop later) which can be done with current results and desired output."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7308269"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1483001159, "post_id": 41369936, "comment_id": 69953724, "body": "Simply i used logistic.fit(xtrain, ytrain) where xtrain =some columns of df whereas i want to use logistic.predict(xtest)  where xtest = same columns but with the data from df_1"}], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1482960828, "creation_date": 1482960828, "answer_id": 41370028, "question_id": 41369936, "link": "https://stackoverflow.com/questions/41369936/merging-two-dataframes-and-drop-one-afterwards/41370028#41370028", "title": "Merging two dataFrames and drop one afterwards", "body": "<p>IIUC:</p>\n\n<pre><code>df_1.merge(\n    df_2, on='Name', how='outer',\n    suffixes=['', '_']\n).reindex_axis(df_1.columns.tolist(), 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 0, "last_activity_date": 1483037077, "creation_date": 1483037077, "answer_id": 41385472, "question_id": 41369936, "link": "https://stackoverflow.com/questions/41369936/merging-two-dataframes-and-drop-one-afterwards/41385472#41385472", "title": "Merging two dataFrames and drop one afterwards", "body": "<p>Consider the <code>left</code> join merge to retain all records from one dataframe (i.e., <em>df_1</em>) that match or not with another dataframe (i.e., <em>df_2</em>). Unmatched records will result in NaNs for merged columns. Otherwise use the default <code>inner</code> which keeps matching records in both frames.</p>\n\n<p>Per your comment --<em>where xtest = same columns but with the data from df_1</em>-- below the resulting dataframe, <em>xtest</em> are all columns in both frames retaining only <em>df_1</em> records:</p>\n\n<pre><code>xtest = pd.merge(df_1, df_2, on='Name', how='left')\n# OR xtest = df_1.merge(df_2, on='Name', how='left')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7308269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 41370028, "answer_count": 2, "score": 1, "last_activity_date": 1483037077, "creation_date": 1482960356, "last_edit_date": 1482963201, "question_id": 41369936, "link": "https://stackoverflow.com/questions/41369936/merging-two-dataframes-and-drop-one-afterwards", "title": "Merging two dataFrames and drop one afterwards", "body": "<p>I have two DataFrames <code>df_1</code> <code>df_2</code> and they have mutual colmms eg <code>'Name'</code>. how ever the names underneath the <code>'Name'</code> column may differ, so I merged them into <code>df</code> frame and created new several columns out of both of them.</p>\n\n<p>Is it possible to drop <code>df_2</code> and keep all the newly created columns and df_1? in no step? one line ? Or  <code>df_1</code> with the same columns than <code>df</code></p>\n\n<pre><code>df_1 Name Age Sex Jop RoomID \n\ndf_1 Name Age Sex Jop address RoomID\n\ndf  Name Age Sex Jop address Fmaily_size  Floor_NR e.g\n</code></pre>\n\n<p>That df_1 looks like this <code>Name Age Sex Jop address Fmaily_size  Floor_NR e.g</code> \nSame columns, type and order than <code>df</code>.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1482960891, "post_id": 41369910, "comment_id": 69941673, "body": "That&#39;s not a separate row, it&#39;s just wrapping in the display because the data is too wide to fit on one line.  The SettingWithCopyWarning is something you can find a gazillion questions about by searching this site or googling."}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1482961037, "post_id": 41369910, "comment_id": 69941734, "body": "@BrenBarn in regards to the separate row, that&#39;s what I believed. In regards to the error. I&#39;m unsure of why it&#39;s happening on this dataframe and not the other &#39;test&#39; one. I have searched the issue and can&#39;t figure out why the error is not across both sets of code."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1482961431, "post_id": 41369910, "comment_id": 69941907, "body": "I can&#39;t reproduce the SettingWithCopyWarning.  What pandas version are you using?"}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1482961589, "post_id": 41369910, "comment_id": 69941972, "body": "version is 0.18.1. Using Conda 4.2.9 if that matters"}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1483023026, "post_id": 41369910, "comment_id": 69965863, "body": "@BrenBarn The error goes away when removing the <code>df.dropna()</code>. Any idea why this would  happen?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1483039792, "post_id": 41369910, "comment_id": 69974344, "body": "I was wondering about.  It is likely that the <code>dropna</code> is returning a DataFrame whose data is somehow linked to the original.  You could try doing <code>df3 = d2.copy().dropna()</code> and see if that fixes it.  It is odd though because <code>.dropna()</code> should be returning a new DataFrame as long as you don&#39;t use <code>inplace=True</code>."}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1483041925, "post_id": 41369910, "comment_id": 69975237, "body": "@BrenBarn. That is exactly what I did. See my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "is_accepted": true, "score": 0, "last_activity_date": 1483023549, "last_edit_date": 1495540426, "creation_date": 1483023549, "answer_id": 41382151, "question_id": 41369910, "link": "https://stackoverflow.com/questions/41369910/pandas-dataframe-behavior/41382151#41382151", "title": "Pandas Dataframe Behavior", "body": "<p>So after some playing with the code I found that the reason why the SettingWithCopyWarning 'error' was appearing was due to using <code>dropna()</code></p>\n\n<p>When removing that from the code, it worked fine. Following off <a href=\"https://stackoverflow.com/questions/22532302/pandas-peculiar-performance-drop-for-inplace-rename-after-dropna\">this post</a>\ni used below code to remove the 'error' while still dropping the nulls in my DataFrame:</p>\n\n<pre><code>df3 = df2.dropna().copy()  \n</code></pre>\n"}], "owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41382151, "answer_count": 1, "score": -2, "last_activity_date": 1483023549, "creation_date": 1482960246, "last_edit_date": 1482961096, "question_id": 41369910, "link": "https://stackoverflow.com/questions/41369910/pandas-dataframe-behavior", "title": "Pandas Dataframe Behavior", "body": "<p>I've checked around on the forums, but can't seem to find an answer to this:</p>\n\n<p>I created some test code to add a column to a dataframe based on if 'Score' is great or equal to 9: </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\ndf1 = pd.DataFrame.from_items([('Score', [1,9,10]),\\\n ('Response',['this is text', 'have some more text',\\\n                            'how about one more?'])])\n\ndf1['1 or 2'] = np.where(df1['Score'] &gt;= 9, '1', '0')\nprint(df1)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>   Score             Response    1 or 2\n0      1         this is text      0\n1      9  have some more text      1\n2     10  how about one more?      1\n</code></pre>\n\n<p>This works perfectly. </p>\n\n<p>However, when i run the same type of code for my real data set which comes from a csv, it does not work. I get a strange output with either the index or the added column in a different \"row\" and an error message. Yet i don't get the error message with the test code?</p>\n\n<p>Code:</p>\n\n<pre><code>df1 = pd.DataFrame.from_csv('C:PATH_HERE\\\\SOME_FILE.csv', encoding = 'ISO-8859-1')  # opens the file\n\ndf2 = df1.reset_index()  # Resets the columns to correct position\n\ndf3 = df2.dropna() # dropping the nulls\ndf3['1 or 2'] = np.where(df3['LIKELY_TO_RECOMMEND'] &gt;= 9, '1', '0')\n\nprint(df3.head(n=5)) #displaying top 5 so fits on screen for Stack\n</code></pre>\n\n<p>output and error:</p>\n\n<pre><code>   LIKELY_TO_RECOMMEND                              VERB_REASON_FOR_SCORE  \\\n0                  0.0  Atendimento robotizado, nenhuma flexibilidade ...   \n1                  0.0  The migration specialist, Lynette Throckmorton...   \n2                  0.0           Lousy lying and no recommendable service   \n3                  0.0  The new software is - not only, apparently, fu...   \n4                  0.0  I feel that the portal for the garnishments is...   \n\n  1 or 2  \n0      0  \n1      0  \n2      0  \n3      0  \n4      0  \n\nSettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n  df3['1 or 2'] = np.where(df3['LIKELY_TO_RECOMMEND'] &gt;= 9, '1', '0')\n</code></pre>\n\n<p>Why this 'error' on the one code and not the other?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1482962356, "post_id": 41369897, "comment_id": 69942283, "body": "To improve your question, I&#39;d tell more about the use case and ask about suitability of the mentioned tools for the task instead of asking for a preference of one over the others. In a separate question, I would describe what&#39;s done with the external resources and ask how to best bundle them with your application, or what alternatives (e.g. to using Firefox) might make packaging easier."}], "owner": {"reputation": 31, "user_id": 7039332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e8dd82b1107f3a7936c19f1f48b9bd?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Hannaby", "link": "https://stackoverflow.com/users/7039332/simon-hannaby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1482965796, "answer_count": 0, "score": 3, "last_activity_date": 1482960807, "creation_date": 1482960178, "last_edit_date": 1482960212, "question_id": 41369897, "link": "https://stackoverflow.com/questions/41369897/creating-an-executable-from-a-python-script", "closed_reason": "Opinion-based", "title": "Creating an executable from a python script", "body": "<p>I am using Python 3.4 and I wish to convert my .PY file into a single .EXE file.  I have heard of Py2exe, cx_freeze and Pyinstaller.  Are any of these better than the others?</p>\n\n<p>Also, my Python source code calls upon external resources, such as Firefox.  How do you ensure that the functionality of Firefox is included, given that the person I am handing the app to might not even have it installed on their PC?</p>\n"}, {"tags": ["python", "pandas", "scipy", "jupyter"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1482960387, "post_id": 41369868, "comment_id": 69941468, "body": "That <code>lil_matrix</code> is just an empty one.  It has a shape, but no values."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1482960592, "post_id": 41369868, "comment_id": 69941562, "body": "I&#39;ve participated in SO questions about creating a sparse matrix from a sparse data frame.  The required code might give you a sense of how involved it is.  I believe a sparse data frame consists of one sparse data series per column.  Evidently the columns are converted individually."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1482963122, "post_id": 41369868, "comment_id": 69942545, "body": "<a href=\"http://stackoverflow.com/questions/31084942/pandas-sparse-dataframe-to-sparse-matrix-without-generating-a-dense-matrix-in-m\" title=\"pandas sparse dataframe to sparse matrix without generating a dense matrix in m\">stackoverflow.com/questions/31084942/&hellip;</a>"}, {"owner": {"reputation": 750, "user_id": 266208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1c340e13d187142fc34a5cff3a5eed5?s=128&d=identicon&r=PG", "display_name": "jamesj629", "link": "https://stackoverflow.com/users/266208/jamesj629"}, "edited": false, "score": 1, "creation_date": 1537810350, "post_id": 41369868, "comment_id": 91910579, "body": "<a href=\"https://github.com/pandas-dev/pandas/issues/16773\" rel=\"nofollow noreferrer\">github.com/pandas-dev/pandas/issues/16773</a>"}], "owner": {"reputation": 191, "user_id": 6147304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a0ac02844339bdba65b4f30b49c0750?s=128&d=identicon&r=PG&f=1", "display_name": "dlorch", "link": "https://stackoverflow.com/users/6147304/dlorch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 448, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1482960067, "creation_date": 1482960067, "question_id": 41369868, "link": "https://stackoverflow.com/questions/41369868/why-does-it-take-so-long-to-create-a-sparsedataframe-python-pandas", "title": "Why does it take so long to create a SparseDataFrame (Python pandas)?", "body": "<p>Given the following code (executed in a Jupyter notebook):</p>\n\n<pre><code>In [1]: import pandas as pd\n        %time df=pd.SparseDataFrame(index=range(0,1000), columns=range(0,1000));\n\nCPU times: user 3.89 s, sys: 30.3 ms, total: 3.92 s\nWall time: 3.92 s\n</code></pre>\n\n<p>Why does it take so long to create a sparse data frame?</p>\n\n<p>Note that it seems to be irrelevant if I increse the dimension for the rows. But when I increase the number of columns from 1000 to say 10000, the code seems to take forever and I always had to abort it.</p>\n\n<p>Compare this with scipy's sparse matrix:</p>\n\n<pre><code>In [2]: from scipy.sparse import lil_matrix\n        %time m=lil_matrix((1000, 1000))\n\nCPU times: user 1.09 ms, sys: 122 \u00b5s, total: 1.21 ms\nWall time: 1.18 ms\n</code></pre>\n"}, {"tags": ["python", "multithreading", "web-services", "multiprocessing", "autotest"], "comments": [{"owner": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1482963530, "post_id": 41369858, "comment_id": 69942671, "body": "Please specify which test framework you are using (unittest? nose? pytest?) and what is the command line and configuration you attempt to use to run the tests in parallel. Also, please improve the code example so it&#39;s valid Python (&quot;class&quot; instead of &quot;Class&quot;) with some dummy code and <code>time.sleep</code> calls in your test methods so it&#39;s possible to verify whether it&#39;s running in parallel."}, {"owner": {"reputation": 21, "user_id": 7193241, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171645909595288/picture?type=large", "display_name": "Aleksey  Krekotnev", "link": "https://stackoverflow.com/users/7193241/aleksey-krekotnev"}, "reply_to_user": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1482993899, "post_id": 41369858, "comment_id": 69950599, "body": "I use command line config: --mode=NameResourceForTesting -v. I have several .py Classes for the selected resource. Each Class contains several defs. The Class &#39;start.py&#39; contains string &#39;if <b>name</b> == &quot;<b>main</b>&quot;:&#39; and &#39;unittest.main()&#39; in it."}, {"owner": {"reputation": 21, "user_id": 7193241, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171645909595288/picture?type=large", "display_name": "Aleksey  Krekotnev", "link": "https://stackoverflow.com/users/7193241/aleksey-krekotnev"}, "reply_to_user": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1483006812, "post_id": 41369858, "comment_id": 69957007, "body": "Maybe must I to use nose?.."}, {"owner": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1483102538, "post_id": 41369858, "comment_id": 69994929, "body": "Nose supports running tests in parallel. Which test runner are you using if not nose?"}, {"owner": {"reputation": 21, "user_id": 7193241, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171645909595288/picture?type=large", "display_name": "Aleksey  Krekotnev", "link": "https://stackoverflow.com/users/7193241/aleksey-krekotnev"}, "reply_to_user": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1483439244, "post_id": 41369858, "comment_id": 70088693, "body": "This is unittest.."}], "owner": {"reputation": 21, "user_id": 7193241, "user_type": "registered", "profile_image": "https://graph.facebook.com/1171645909595288/picture?type=large", "display_name": "Aleksey  Krekotnev", "link": "https://stackoverflow.com/users/7193241/aleksey-krekotnev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482960024, "creation_date": 1482960024, "question_id": 41369858, "link": "https://stackoverflow.com/questions/41369858/multithreading-and-multiprocessing-for-python-tests-of-web-services", "title": "Multithreading and multiprocessing for python tests of web-services", "body": "<p>I have python class that contains several def's (>100). Each def contains one test. I'm trying to set up defs to multithreading / multiprocessing run. But it is unsuccessfully.  </p>\n\n<pre><code>Class Method1(unittest.TestCase):\n   def test1(self):\n      #some test\n\n   def test1(self):\n      #some test\n\n   ...\n\n   def testN(self):\n      #some test\n</code></pre>\n\n<p>How can I to set up this running?\nThanks!</p>\n"}, {"tags": ["python", "pandas", "newline", "python-2.x", "lf"], "comments": [{"owner": {"reputation": 8215, "user_id": 367319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cLGQd.jpg?s=128&g=1", "display_name": "Saher Ahwal", "link": "https://stackoverflow.com/users/367319/saher-ahwal"}, "edited": false, "score": 0, "creation_date": 1482959912, "post_id": 41369772, "comment_id": 69941308, "body": "I suggest you try to write the filename without an extension that is familiar to Windows (.txt) maybe just not have an extension. It doesn&#39;t matter to linux anyways."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 8215, "user_id": 367319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cLGQd.jpg?s=128&g=1", "display_name": "Saher Ahwal", "link": "https://stackoverflow.com/users/367319/saher-ahwal"}, "edited": false, "score": 0, "creation_date": 1482974344, "post_id": 41369772, "comment_id": 69945650, "body": "@SaherAhwal: the file extension has nothing to do with the problem, the problem is with the data <i>in</i> the file."}], "answers": [{"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 5, "last_activity_date": 1592377029, "last_edit_date": 1592377029, "creation_date": 1482961357, "answer_id": 41370126, "question_id": 41369772, "link": "https://stackoverflow.com/questions/41369772/how-to-change-end-of-line-conventions/41370126#41370126", "title": "How to change end-of-line conventions?", "body": "<p>Note this answer is specific to Python 2's CSV handling.</p>\n\n<p><code>to_csv</code> defaults to opening the file in <code>'w'</code> mode which defaults to text mode.  On Windows text mode translates <code>\\n</code> to <code>\\r\\n</code>.  Open the the file in binary mode instead, and specify an encoding if you have non-ASCII text in your frame.</p>\n\n<pre><code>df.to_csv('filename.txt',sep='\\t',mode='wb',encoding='utf8')\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6383336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9EzV.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/6383336/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 41370126, "answer_count": 1, "score": 3, "last_activity_date": 1592377029, "creation_date": 1482959516, "last_edit_date": 1592376903, "question_id": 41369772, "link": "https://stackoverflow.com/questions/41369772/how-to-change-end-of-line-conventions", "title": "How to change end-of-line conventions?", "body": "<p>I have what I thought would be a simple task. I need to create a text file that has uses the unix LF convention at the end of a line. However, when I attempt to accomplish this using pandas .to_csv, I end up with CR LF. This wouldn't be a problem if I were staying on my machine and if I were using python for everything. But I am not. The code will be part of an app that a coworker will be using, and the file is being sent to a third party for automation. The code is as follows:</p>\n\n<pre><code>df.to_csv(\"filename.txt\", sep = '\\t',line_terminator = '\\n')\n</code></pre>\n\n<p>This sits in the middle of my code, but it always switches back to CR LF when the files is saved in the target folder. I think it may be something to do with Windows being \"<a href=\"https://stackoverflow.com/questions/1535922/c-change-newline-from-crlf-to-lf\">helpful</a>\". I have tried to use <a href=\"https://stackoverflow.com/questions/36422107/how-to-convert-crlf-to-lf-on-a-windows-machine-in-python#36422321\">this</a> type of solution with no luck. I am also not having any luck finding a <a href=\"https://kb.iu.edu/d/acux\" rel=\"nofollow noreferrer\">dos2unix</a> type package for Python. Is there anyway that I can write lines that end in '\\n' and have it stick in Windows (using to_csv if possible)?</p>\n\n<p>I am using Python 2.7 and Windows 7.</p>\n\n<p>Edit: I know about notepad++, but I am trying to write this all in Python, so my coworker only has to click a button (I will be using Tkinter and freezing this to an .exe once I am finished). The .txt can be Windows formatted, but I will be (am) writing the same information to a .MAT and .ref file. In those files it needs the '\\n' end of line, but Windows is still giving me '\\r\\n'.</p>\n"}, {"tags": ["python", "azure", "office365", "microsoft-graph-api"], "comments": [{"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 0, "creation_date": 1482962783, "post_id": 41369729, "comment_id": 69942424, "body": "The error is the classic NullReferenceException in .NET. Could be a bug in the API, or something missing that it expected. Doesn&#39;t seem like a permission issue."}], "answers": [{"comments": [{"owner": {"reputation": 5463, "user_id": 4092015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jskhe.jpg?s=128&g=1", "display_name": "Dan Kershaw - MSFT", "link": "https://stackoverflow.com/users/4092015/dan-kershaw-msft"}, "edited": false, "score": 0, "creation_date": 1483068686, "post_id": 41388086, "comment_id": 69982704, "body": "Just to add to Sriram&#39;s answer.  Once you have the admin consent as indicated (might need to match the redirect_uri to what you have registered for your app), you&#39;ll now see a <i>roles</i> claim in the access token, which indicates the roles (or app permissions) granted to the app (when using client_credential flow).  NOTE: You&#39;ll find a <i>scp</i> claim in the access token, if you are using a delegated (code) flow."}], "tags": [], "owner": {"reputation": 709, "user_id": 5339734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3564acaed74a5b708bbe4e715453c248?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram Dhanasekaran-MSFT", "link": "https://stackoverflow.com/users/5339734/sriram-dhanasekaran-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1483064048, "last_edit_date": 1483064048, "creation_date": 1483050663, "answer_id": 41388086, "question_id": 41369729, "link": "https://stackoverflow.com/questions/41369729/azure-ad-scope-property-missing-from-access-token-response-body/41388086#41388086", "title": "Azure AD: &quot;scope&quot; Property Missing from Access Token Response Body", "body": "<p>Since client_credential token flow is being used (i.e., there is no authenticated user context), any request with /me is not valid as /me refers to current signed-in user. Please try with delegated token if you to access files in user's drive.</p>\n\n<p>To access root drive in Sharepoint, request url is /drive/root/children (myorganization is optional).</p>\n\n<p>With regards to missing claims, admin has to consent the app. You can force consent by asking the admin to access the below url (replace  with that of your app's)</p>\n\n<p><a href=\"https://login.microsoftonline.com/common/oauth2/authorize?client_id=\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/common/oauth2/authorize?client_id=</a>&amp;response_type=code&amp;redirect_uri=<a href=\"http://localhost&amp;resource=https://graph.microsoft.com&amp;prompt=consent\" rel=\"nofollow noreferrer\">http://localhost&amp;resource=https://graph.microsoft.com&amp;prompt=consent</a></p>\n"}, {"tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1483350602, "last_edit_date": 1495540376, "creation_date": 1483350602, "answer_id": 41424486, "question_id": 41369729, "link": "https://stackoverflow.com/questions/41369729/azure-ad-scope-property-missing-from-access-token-response-body/41424486#41424486", "title": "Azure AD: &quot;scope&quot; Property Missing from Access Token Response Body", "body": "<p>As @juunas said, the first error information below should be the NULL exception in .NET which be caused at the server end, but also not an API bug or a permission issue.</p>\n\n<blockquote>\n<pre><code>error\": {\n    \"code\": \"InternalServerError\",\n    \"message\": \"Object reference not set to an instance of an object.\",\n</code></pre>\n</blockquote>\n\n<p>You can refer to the <a href=\"https://stackoverflow.com/questions/8206810/object-reference-not-set-to-an-instance-of-an-object\">SO thread</a> to know this case which seems to update for backend, please try again later.</p>\n\n<p>To explain for the second error when you changed the option <code>me</code> to <code>myOrganization</code> in the Graph API url, as @SriramDhanasekaran-MSFT, it's accessing files for the current user or a specified user with <code>&lt;user-id&gt;</code> instead of <code>me</code>.</p>\n\n<p>However, based on my understanding, you want to edit an Excel spreadsheet lived in SharePoint for your orgnization, it seems to be not suitable via using Graph APIs. Per my experience, it should be done via using the APIs of OneDrive for Business to copy the Excel file to local to edit &amp; upload to overwrite it, please refer to <a href=\"https://dev.onedrive.com/getting-started.htm\" rel=\"nofollow noreferrer\">the dev documents for OneDrive</a> and try to use <a href=\"https://dev.onedrive.com/resources/drive.htm#\" rel=\"nofollow noreferrer\">the API for drive resource</a>.</p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 6918040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ap_hsVRr81I/AAAAAAAAAAI/AAAAAAAAAKQ/g0P82GHcEpg/photo.jpg?sz=128", "display_name": "Juan Casse", "link": "https://stackoverflow.com/users/6918040/juan-casse"}, "is_accepted": true, "score": 2, "last_activity_date": 1483473361, "creation_date": 1483473361, "answer_id": 41451344, "question_id": 41369729, "link": "https://stackoverflow.com/questions/41369729/azure-ad-scope-property-missing-from-access-token-response-body/41451344#41451344", "title": "Azure AD: &quot;scope&quot; Property Missing from Access Token Response Body", "body": "<p>Thanks all for your responses. After more research, I found the answer to my question.</p>\n\n<p>The original problem: \"Microsoft Graph API Returns Object reference not set to an instance of an object\"</p>\n\n<p>The request</p>\n\n<pre><code>GET https://graph.microsoft.com/v1.0/me/drive/root/children\nAuthorization: Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6...\n</code></pre>\n\n<p>gets the response</p>\n\n<pre><code>{\n  \"error\": {\n    \"code\": \"InternalServerError\",\n    \"message\": \"Object reference not set to an instance of an object.\",\n    \"innerError\": {\n      \"request-id\": \"aa97a822-7ac5-4986-8ac0-9852146e149a\",\n      \"date\": \"2016-12-26T22:13:54\"\n    }\n  }\n}\n</code></pre>\n\n<p>As @SriramDhanasekaran-MSFT noted, <code>/me</code> refers to the currently signed-in user. In our case, we do not have a signed-in user, so we cannot use <code>/me</code>. Instead, we can either use <code>/myOrganization</code> or nothing, it is optional.</p>\n\n<p>The updated problem: \"Azure AD \"scope\" Property Missing from Access Token Response\"</p>\n\n<p>The updated (replaces /me with /myOrganization) request</p>\n\n<pre><code>GET https://graph.microsoft.com/v1.0/myOrganization/drive/root/children\nAuthorization: Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6...\n</code></pre>\n\n<p>gets the response</p>\n\n<pre><code>{\n  \"error\": {\n    \"code\": \"AccessDenied\",\n    \"message\": \"Either scp or roles claim need to be present in the token.\",\n    \"innerError\": {\n      \"request-id\": \"bddb8c51-535f-456b-b43e-5cfdf32bd8a5\",\n      \"date\": \"2016-12-28T22:39:25\"\n    }\n  }\n}\n</code></pre>\n\n<p>As @SriramDhanasekaran-MSFT and @DanKershaw-MSFT mentioned, the reason why the <code>access_token</code> response was missing the <code>scope</code> property is that the permissions had not been \"granted\" in Azure AD by the administrator.</p>\n\n<p>However, the solution that @SriramDhanasekaran-MSFT provided:</p>\n\n<pre><code>https://login.microsoftonline.com/common/oauth2/authorize?client_id=&amp;response_type=code&amp;redirect_uri=http://localhost&amp;resource=https://graph.microsoft.com&amp;prompt=consent\n</code></pre>\n\n<p>doesn't help me because my app doesn't have a <code>redirect uri</code>. The solution to granting the permissions is simpler than that: simply have the administrator login in to Azure AD and click the \"Grant Permissions\" link to grant the permissions.</p>\n\n<p>Additionally, <code>/myOrganization/driver/root/children</code> lists the contents of the administrator's drive. As @PeterPan-MSFT noted, to list a different user's drive, replace <code>/myOrganization</code> with <code>/users/&lt;user-id&gt;</code>.</p>\n\n<p>Success:</p>\n\n<p>My application can now edit my Excel spreadsheets online, without the intervention of a human user. Contrary to what @PeterPan-MSFT stated, this is possible with Graph API and there is no need to download the Excel spreadsheet and edit offline.</p>\n\n<p>Summary:</p>\n\n<p>There were two problems: (1) using <code>/me</code> and (2) the application permissions had not been granted in Azure AD by the administrator.</p>\n"}], "owner": {"reputation": 73, "user_id": 6918040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ap_hsVRr81I/AAAAAAAAAAI/AAAAAAAAAKQ/g0P82GHcEpg/photo.jpg?sz=128", "display_name": "Juan Casse", "link": "https://stackoverflow.com/users/6918040/juan-casse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2596, "favorite_count": 2, "accepted_answer_id": 41451344, "answer_count": 3, "score": 1, "last_activity_date": 1483473361, "creation_date": 1482959351, "last_edit_date": 1482968405, "question_id": 41369729, "link": "https://stackoverflow.com/questions/41369729/azure-ad-scope-property-missing-from-access-token-response-body", "title": "Azure AD: &quot;scope&quot; Property Missing from Access Token Response Body", "body": "<p>I am writing a Python script to edit an Excel spreadsheet that lives in SharePoint. We have Office 365 for Business. I am using Microsoft Graph API.\nI registered the Python app with Microsoft Azure Active Directory (AD) and added the following 2 (app-only) permissions for Graph API: (1) Read and write files in all site collections (preview) and (2) Read directory data. (I had our company administrator register the app for me.)</p>\n\n<p>My Python script uses the requests library to send REST requests:</p>\n\n<pre><code>import json\nimport requests\n\nMSGRAPH_URI = 'https://graph.microsoft.com'\nVERSION = 'v1.0'\n\ndef requestAccessToken(tenant_id, app_id, app_key):\n    MSLOGIN_URI = 'https://login.microsoftonline.com'\n    ACCESS_TOKEN_PATH = 'oauth2/token'\n    GRANT_TYPE = 'client_credentials'\n    endpoint = '{0}/{1}/{2}'.format(MSLOGIN_URI, tenant_id, ACCESS_TOKEN_PATH)\n    headers = {'Content-Type': 'Application/Json'}\n    data = {\n        'grant_type': GRANT_TYPE,\n        'client_id': app_id,\n        'client_secret': app_key,\n        'resource': MSGRAPH_URI\n\n    }\n    access_token = response.json()['access_token']\n    return access_token\n\ndef getWorkbookID(access_token, fileName):\n    endpoint = '{0}/{1}/me/drive/root/children'.format(MSGRAPH_URI, VERSION)\n    headers = {\n        'Content-Type': 'Application/Json',\n        'Authorization': 'Bearer {}'.format(access_token)\n    }\n    response = requests.get(endpoint, headers=headers)\n    print response.text\n    assert response.status_code == 200\n    items = response.json()['value']\n    workbook_id = None\n    for item in items:\n        if item['name'] == fileName:\n            workbook_id = item['id']\n    return workbook_id\n\naccess_token = requestAccessToken(TENANT_ID, APP_ID, APP_KEY)\nworkbook_id = getWorkbookID(access_token, WORKBOOK_FILENAME)\n</code></pre>\n\n<p>The Python app successfully requests and receives an <code>access_token</code> from the Microsoft server. The access token starts like this</p>\n\n<pre><code>eyJ0eXAiOiJKV1QiLCJub25jZSI6...\n</code></pre>\n\n<p>Then it requests a list of my files in getWorkbookID():</p>\n\n<pre><code>GET https://graph.microsoft.com/v1.0/me/drive/root/children\nAuthorization: Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6...\n</code></pre>\n\n<p>This is the response to that REST request:</p>\n\n<pre><code>{\n  \"error\": {\n    \"code\": \"InternalServerError\",\n    \"message\": \"Object reference not set to an instance of an object.\",\n    \"innerError\": {\n      \"request-id\": \"aa97a822-7ac5-4986-8ac0-9852146e149a\",\n      \"date\": \"2016-12-26T22:13:54\"\n    }\n  }\n}\n</code></pre>\n\n<p>Note that I successfully get a list of my files when I request it via Graph Explorer (<a href=\"https://graph.microsoft.io/en-us/graph-explorer\" rel=\"nofollow noreferrer\">https://graph.microsoft.io/en-us/graph-explorer</a>).</p>\n\n<p>EDIT:</p>\n\n<ol>\n<li>Changed the title from \"Microsoft Graph API Returns Object reference not set to an instance of an object\" to \"Azure AD \"scope\" Missing from Access Token Response\".</li>\n<li>Changed the \"me\" in the uri of the GET request to \"myOrganization\", after reading this: graph.microsft.io/en-us/docs/overview/call_api</li>\n</ol>\n\n<p>That is,</p>\n\n<pre><code>GET https://graph.microsoft.com/v1.0/myOrganization/drive/root/children\nAuthorization: Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6...\n</code></pre>\n\n<p>Now get the following response.</p>\n\n<pre><code>{\n  \"error\": {\n    \"code\": \"AccessDenied\",\n    \"message\": \"Either scp or roles claim need to be present in the token.\",\n    \"innerError\": {\n      \"request-id\": \"bddb8c51-535f-456b-b43e-5cfdf32bd8a5\",\n      \"date\": \"2016-12-28T22:39:25\"\n    }\n  }\n}\n</code></pre>\n\n<p>Looking at an example in graph.microsoft.io/en-us/docs/authorization/app_authorization, I see that the access token response body contains a \"scope\" property that lists the permissions granted for the app during the app's registration. However, the access token response I receive from the server does not have the \"scope\" property. Here is what my access token response looks like.</p>\n\n<pre><code>{\n\"token_type\":\"Bearer\",\n\"expires_in\":\"3599\",\n\"ext_expires_in\":\"0\",\n\"expires_on\":\"1482968367\",\n\"not_before\":\"1482964467\",\n\"resource\":\"https://graph.microsoft.com\",\n\"access_token\":\"eyJ0eXAiOiJKV...\"\n}\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>I had the administrator register the app in Azure AD and check the boxes for the Microsoft Graph API application permissions needed. Apparently that is not enough. What else is needed? Why are the permissions not in the access token response body?</li>\n<li>What is the correct URI for the GET request? Is \"MyOrganization\" the correct value in the URI?</li>\n</ol>\n"}, {"tags": ["python", "argparse", "subparsers"], "answers": [{"tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": false, "score": 0, "last_activity_date": 1482960318, "creation_date": 1482960318, "answer_id": 41369932, "question_id": 41369681, "link": "https://stackoverflow.com/questions/41369681/python-argparse-get-name-of-subparser-program-in-help-string/41369932#41369932", "title": "Python argparse: Get name of subparser program in help string", "body": "<p>This is not a direct answer to your question, but I would use <a href=\"http://click.pocoo.org/6/\" rel=\"nofollow noreferrer\">Click_</a> for what you are trying to do.</p>\n\n<p><a href=\"http://click.pocoo.org/6/\" rel=\"nofollow noreferrer\">Click_</a> in three points:</p>\n\n<ol>\n<li>arbitrary nesting of commands</li>\n<li>automatic help page generation</li>\n<li>supports lazy loading of subcommands at runtime</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1581586559, "last_edit_date": 1581586559, "creation_date": 1482962549, "answer_id": 41370325, "question_id": 41369681, "link": "https://stackoverflow.com/questions/41369681/python-argparse-get-name-of-subparser-program-in-help-string/41370325#41370325", "title": "Python argparse: Get name of subparser program in help string", "body": "<p>I can explain what is going on, but may not be able offer a solution.</p>\n\n<p>The short answer is that the <code>sp1.prog</code> is used both in its <code>usage</code> format and as the <code>%(prog)s</code> value in the help lines.  And it is constructed with that <code>usage</code> line in mind.</p>\n\n<hr>\n\n<pre><code>sp1 = subparsers.add_parser('prog1', parents = [parser1, parser2])\n</code></pre>\n\n<p>creates a parser, and adds arguments from the <code>parents</code>.  <code>add_parser</code> is a method of the <code>class _SubParsersAction</code> (the subparser Action class).  And the <code>prog</code> attribute for that parser is created with:</p>\n\n<pre><code>     if kwargs.get('prog') is None:\n        kwargs['prog'] = '%s %s' % (self._prog_prefix, name)\n</code></pre>\n\n<p>You should be able to see this attribute with <code>print(sp1.prog)</code> (I expect 'master prog1').  That's the value that is used in the <code>usage</code> line, and in any of the help lines with <code>%(prog)s</code>.</p>\n\n<p><code>subparsers._prog_prefix</code> is derived from <code>parser.prog</code> (see the <code>add_subparsers</code> code for details).  But you can also specify a <code>prog</code> parameter:</p>\n\n<pre><code>sp1 = subparsers.add_parser('prog1', parents = [parser1, parser2], prog='prog1')\n</code></pre>\n\n<p>That should correct the string in the <code>help</code> line.  But it will also change the string the <code>usage</code>.  </p>\n\n<p>You could also give the subparser an explicit <code>usage</code>:</p>\n\n<pre><code>sp1 = subparsers.add_parser('prog1', parents = [parser1, parser2], prog='prog1', usage='master prog1 ...')\n</code></pre>\n\n<p>Without doing surgery to the <code>HelpFormatter</code> I don't think you can change <code>prog</code> in the help lines without also changing it in the usage.</p>\n\n<p>And given the way <code>parents</code> works you can't change the help line for <code>prog1 foo</code> without also changing it for <code>prog2 foo</code>.  <code>parents</code> copies Action objects by reference, so the two subparsers share the <code>foo</code> Action object.</p>\n\n<p>You many have to abandon the <code>parents</code> approach, at least for this argument, and hardcode the name.  If you need to add the argument to multiple subparsers, write a little utility function to facilitate that.  The <code>parents</code> mechanism is just (usually) a convenience, something that saves some typing/editing.</p>\n\n<hr>\n\n<p>This modified script will illustrate my points</p>\n\n<pre><code>parser = ArgumentParser(prog = 'master')\n\nparser1 = ArgumentParser(add_help = False)\nfooarg=parser1.add_argument('foo', type = int, help = 'foo prog: %(prog)s') # Line of interest\nparser2 = ArgumentParser(add_help = False)\nparser2.add_argument('--bar', type = int, default = 0, help = 'Start at this number')\nparser3 = ArgumentParser(add_help = False)\nparser3.add_argument('--baz', type = str, default = 'DEFAULT', help = 'Init file with this text')\n\nsubparsers = parser.add_subparsers(prog='subparsers')\nsp1 = subparsers.add_parser('prog1', parents = [parser1, parser2], prog='name1')\nsp2 = subparsers.add_parser('prog2', parents = [parser1, parser3])\n\n#parser.print_help()\n\n# fooarg is an Action for both subparsers\n# print(fooarg.help)\n# fooarg.help = 'FOO HELP'\n\nprint('==&gt;sp1 prog:', sp1.prog)\nsp1.print_help()\nprint('==&gt;sp2 prog:', sp2.prog)\nsp2.print_help()\n\nsp1.prog = 'custom'\nsp1.print_help()\n\n# addition\nfooarg.default = 'default'\nfooarg.metavar = 'META'\nfooarg.help = 'prog: %(prog)s, dest=%(dest)s, nargs=%(nargs)s, type=%(type)s, default=%(default)s'\nsp1.print_help()\n</code></pre>\n\n<p>This last bit adds a bunch of Action attributes to the help.  But <code>prog</code> is the only one that comes from the <code>parser</code>:</p>\n\n<pre><code>positional arguments:\n  META        prog: custom, dest=foo, nargs=None, type=int, default=default\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5780609, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kj9cngZ7iGg/AAAAAAAAAAI/AAAAAAAAABc/6I-_d_tKCbQ/photo.jpg?sz=128", "display_name": "Scott Norton", "link": "https://stackoverflow.com/users/5780609/scott-norton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1581586559, "creation_date": 1482959028, "question_id": 41369681, "link": "https://stackoverflow.com/questions/41369681/python-argparse-get-name-of-subparser-program-in-help-string", "title": "Python argparse: Get name of subparser program in help string", "body": "<p>I'm writing an argument parser for a python module with various subparsers.  My objective is to have an argument that's shared whose Argument constructor is passed to multiple children:</p>\n\n<pre><code>from argparse import ArgumentParser\nparser = ArgumentParser(prog = 'master')\nparser1 = ArgumentParser(help = None)\nparser1.add_argument('foo', type = int, help = 'Number of times to process %(prog)s') # Line of interest\nparser2 = ArgumentParser(help = None)\nparser2.add_argument('--bar', type = int, default = 0, help = 'Start at this number')\nparser3 = ArgumentParser(help = None)\nparser3.add_argument('--baz', type = str, default = 'DEFAULT', help = 'Init file with this text')\nsubparsers = parser.add_subparsers()\nsp1 = subparsers.add_parser('prog1', parents = [parser1, parser2])\nsp2 = subparsers.add_parser('prog2', parents = [parser1, parser3])\nparser.parse_args('prog1 -h'.split())\n</code></pre>\n\n<p>The desired output would be something like</p>\n\n<pre><code>usage: master prog1 [-h] [--bar BAR] foo\n\npositional arguments:\n  foo            Number of times to process prog1\n\noptional arguments:\n  -h, --help     show this message and exit\n  --bar          Start at this number\n</code></pre>\n\n<p>When I use this exact setup, i get <code>master prog1</code> instead of <code>prog1</code> in the help string for <code>foo</code>.  What should i change in the line marked <code>#Line of interest</code> to get the desired result?</p>\n"}, {"tags": ["python", "list", "loops", "indexing", "iterable"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482960097, "post_id": 41369680, "comment_id": 69941363, "body": "If you try to explain in words (as briefly as possible) what your method is, and how you tried to implement it, the bug will probably be revealed quite quickly."}, {"owner": {"reputation": 1007, "user_id": 3946214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b9fe2a4005f7867e8a0566ae266f371f?s=128&d=identicon&r=PG", "display_name": "Arya", "link": "https://stackoverflow.com/users/3946214/arya"}, "edited": false, "score": 0, "creation_date": 1482963963, "post_id": 41369680, "comment_id": 69942822, "body": "You can always visualize your python code at www.pythontutor.com to figure out where it went wrong."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1482960363, "post_id": 41369899, "comment_id": 69941452, "body": "That seems to be what it&#39;s supposed to do. <code>nthPrime(4)</code> should just return the 4th prime, not the first 4 primes."}], "tags": [], "owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "is_accepted": false, "score": -1, "last_activity_date": 1482960179, "creation_date": 1482960179, "answer_id": 41369899, "question_id": 41369680, "link": "https://stackoverflow.com/questions/41369680/python-3-list-of-over-100-indices-cycles-back-around-after-index-47-why-how-d/41369899#41369899", "title": "Python 3: List of over 100 indices cycles back around after index 47. why? how do I stop this?", "body": "<p>This isn't a <em>Python issue</em>, the problem is in your calculation on how you calculate the results. When you do <code>final[51]</code> it actually returns the value that holds that position, do this:</p>\n\n<pre><code># Modify your line\n# return final[ind-1]\n# return final\n\n# Call your method\no_final = nthPrime(100)\nfor k in range(len(o_final)):\n    print(k, y[k])\n</code></pre>\n\n<p>Then you realize that at pos <code>93</code> you reach the next one and keep incrementing.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482961543, "post_id": 41369961, "comment_id": 69941951, "body": "Wow. awesome response."}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482961654, "post_id": 41369961, "comment_id": 69942006, "body": "Wow. awesome response. I learned so much from this. Not just what I was doing wrong. But i was also unaware that you didnt have to explicitly states if v== True.  Also didnt know you can do an if statement within creating the list.  thank you. this worked."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482961782, "post_id": 41369961, "comment_id": 69942072, "body": "yes, almost a candidate for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a> that one. I&#39;m not sure that (I&#39;m sure of the contrary) generating the entire list to take one 1 element is not optimized. Well, it works. I wouldn&#39;t have chosen a dictionary but a <code>list</code>, too to avoid unnecessary hashing."}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482962529, "post_id": 41369961, "comment_id": 69942338, "body": "Yea im doing a challenge. the point is efficiency. And I know im FAR from with this. this was my first go at this particular challenge. The end result needs to be able to quickly get the nth prime where n=200000.  when I run this code in IDLE and pass it 200000 as the index to get, it just sits there. so..... yea... going to have to try again."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482962669, "post_id": 41369961, "comment_id": 69942385, "body": "once it works, don&#39;t hesitate to post a working code to <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a> and request for help. Seeking for a better performance is on-topic here too. And you may find me there as well :)"}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482962750, "post_id": 41369961, "comment_id": 69942412, "body": "at n=1000 it already takes a couple seconds to return a value.   thanks again Jean. I might just do that."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482962857, "post_id": 41369961, "comment_id": 69942448, "body": "I already have some ideas to optimize your code. Maybe a simple erathostenes sieve using an array would be more efficient. There are a lot of examples of that in python on SO."}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482964787, "post_id": 41369961, "comment_id": 69943113, "body": "just some examples of the time it takes. so i altered the function to return, in a list, the prime requested and the time it took to complete the function.  &gt;&gt;&gt; OP.nthPrime(47) [211, 0.004000186920166016] &gt;&gt;&gt; OP.nthPrime(1000) [8009, 1.718343734741211] &gt;&gt;&gt; OP.nthPrime(5000) [49033, 63.030603647232056] &gt;&gt;&gt;"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1482960498, "creation_date": 1482960498, "answer_id": 41369961, "question_id": 41369680, "link": "https://stackoverflow.com/questions/41369680/python-3-list-of-over-100-indices-cycles-back-around-after-index-47-why-how-d/41369961#41369961", "title": "Python 3: List of over 100 indices cycles back around after index 47. why? how do I stop this?", "body": "<p>You need to count how many primes you have in your list, but you accumulate in <code>final</code> within the loop, so you add all the numbers up to the limit several times in the loop. Starts at 2 again after 199.</p>\n\n<p>Also, using dictionaries and relying on the order is dangerous. You should sort them when iterating.</p>\n\n<p>My solution only counts the primes to know when to end the loop, and compose the list just in the end, omitting 1 and shifting the index by 1.</p>\n\n<p>I also sort the dictionary when iterating over it to make sure:</p>\n\n<pre><code>import math\n\ndef nthPrime(ind): #gets nth prime number. IE: 5th prime == 11. works based off very in-efficient version of Sieve of Eratosthenes. but in increments of 200\n    p = {}\n    T = 2\n    incST = 2\n    incEND = incST + 200\n\n    lenfinal = 1\n    while lenfinal &lt; ind:\n        for i in range(incST,incEND):\n            p[i] = True\n\n        while T &lt;= math.sqrt(incEND):\n            l = 0\n            while l &lt;= incEND:\n                p[T**2 + (T*l)] = False\n                l+=1\n                if T**2+(T*l) &gt; incEND:\n                   break\n\n            for k,v in sorted(p.items()):\n                if v and k &gt; T:\n                    T = int(k)\n                    break\n\n\n        incST = incEND + 1\n        incEND = incST + 200\n        # compute length, no need to order or to actually create the list\n        lenfinal = sum(1 for k,v in p.items() if v)\n\n    # now compose the list\n    final = [k for k,v in sorted(p.items()) if v]\n\n    return final[ind-2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482966442, "post_id": 41370536, "comment_id": 69943622, "body": "this does look much neater. Im playing around with it now. thank you. Ill see if i can post time comparisons between my original and yours."}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482966985, "post_id": 41370536, "comment_id": 69943777, "body": "so... it does appear to be slightly faster at lower indexes. I couldnt test out the higher indexes though. Python starts throwing errors with ind = 2000: RecursionError: maximum recursion depth exceeded in comparison  This needs to be able to handle LARGE numbers. at least to the 200,000th index."}, {"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1482967883, "post_id": 41370536, "comment_id": 69944064, "body": "so I changed the recursive function to a while loop. your code cut the time almost in half.        &gt;&gt;&gt; OP.nthPrime(47)  [211, 0.004000425338745117] &gt;&gt;&gt; OP.nthPrime2(47)  [211, 0.003000497817993164] &gt;&gt;&gt; OP.nthPrime(2000)  [17539, 11.65716552734375] &gt;&gt;&gt; OP.nthPrime2(2000) [17389, 6.237623691558838] &gt;&gt;&gt;"}, {"owner": {"reputation": 2451, "user_id": 4702072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hub0mTOr0DQ/AAAAAAAAAAI/AAAAAAAAABI/Kmd7FYRMRwY/photo.jpg?sz=128", "display_name": "YOBA", "link": "https://stackoverflow.com/users/4702072/yoba"}, "reply_to_user": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 0, "creation_date": 1483000313, "post_id": 41370536, "comment_id": 69953287, "body": "Great, a while loop would do the job indeed."}], "tags": [], "owner": {"reputation": 2451, "user_id": 4702072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hub0mTOr0DQ/AAAAAAAAAAI/AAAAAAAAABI/Kmd7FYRMRwY/photo.jpg?sz=128", "display_name": "YOBA", "link": "https://stackoverflow.com/users/4702072/yoba"}, "is_accepted": false, "score": 1, "last_activity_date": 1482963694, "creation_date": 1482963694, "answer_id": 41370536, "question_id": 41369680, "link": "https://stackoverflow.com/questions/41369680/python-3-list-of-over-100-indices-cycles-back-around-after-index-47-why-how-d/41370536#41370536", "title": "Python 3: List of over 100 indices cycles back around after index 47. why? how do I stop this?", "body": "<p>A more efficient way to do this would be a recursive function:\nI'll put some explanation in the code.</p>\n\n<pre><code>def nthPrime(ind):\n    first_prime=1                              #first prime number\n    number = 1                                 # all numbers that we will check, this will be incremented\n    prime_numbers = [first_prime]              # The list of prime numbers we will find\n\n    def findPrimeInPosition(ind, number):\n        if ind &gt; len(prime_numbers):           # This recursive function will exit if find a sufficient number of primes\n            number+=1                          # incrementing to check the next number\n            is_prime = True                    # Assuming number is a prime\n\n            for p in prime_numbers[1:]:        # Check if it is a prime\n                if not number % p:\n                    is_prime = False\n\n            if is_prime:\n                prime_numbers.append(number)   # Add to the list of primes\n\n            findPrimeInPosition(ind, number) \n        return prime_numbers[-1]               # Get the last element found\n    return findPrimeInPosition(ind, number)\n</code></pre>\n\n<p>Example of usage:</p>\n\n<pre><code>print nthPrime(47)\n&gt;&gt; 199\nprint nthPrime(48)\n&gt;&gt; 211\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 41369961, "answer_count": 3, "score": 2, "last_activity_date": 1482963694, "creation_date": 1482959020, "last_edit_date": 1482959613, "question_id": 41369680, "link": "https://stackoverflow.com/questions/41369680/python-3-list-of-over-100-indices-cycles-back-around-after-index-47-why-how-d", "title": "Python 3: List of over 100 indices cycles back around after index 47. why? how do I stop this?", "body": "<p>so this is a function that gets the nth prime number. I know its been done before and that my method may not be very efficient (new coder btw minor dabbling in the past). \nAnyway the code below works and returns the prime number of the supplied index. \nie: </p>\n\n<pre><code>ind = 4\nfinal[1,2,3,5,7,11]\nreturn final[ind-1]\nreturns: 5\n</code></pre>\n\n<p>But final[51-1] returns whats in final[3-1]. Seems like after index 47 it loops back around and starts over. Ive printed the whole of the list contained in final. and it prints every prime, even those past 47. Im not sure whats going on. Is there some limit to lists in python?</p>\n\n<p>Here is the code: </p>\n\n<pre><code>def nthPrime(ind): #gets nth prime number. IE: 5th prime == 11. works based off very in-efficient version of Sieve of Eratosthenes. but in increments of 200\n    p = {}\n    T = 2\n    incST = 2\n    incEND = incST + 200\n    final=[1]\n\n    while len(final) &lt; ind:\n        for i in range(incST,incEND):\n            p[i] = True\n\n        while T &lt;= math.sqrt(incEND):\n            l = 0\n            while l &lt;= incEND:\n                p[T**2 + (T*l)] = False\n                l+=1\n                if T**2+(T*l) &gt; incEND:\n                   break\n\n            for k,v in p.items():\n                if p[k] == True and k &gt; T:\n                    T = int(k)\n                    break\n\n        for k in p:\n            if p[k] == True:\n                final.append(k)\n\n        incST = incEND + 1\n        incEND = incST + 200\n\n    '''\n    currently function works perfectly for\n    any index under 48.\n    at index 48 and above it seems to start\n    back at index 1.\n    IE: final[51]\n    ^would actually return final[4]\n    '''\n\n\n    return final[ind-1]\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 1639846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013afd51484e07a23c6bd46f9ce7a02a?s=128&d=identicon&r=PG", "display_name": "Lucas Currah", "link": "https://stackoverflow.com/users/1639846/lucas-currah"}, "is_accepted": false, "score": 2, "last_activity_date": 1482962572, "creation_date": 1482962572, "answer_id": 41370328, "question_id": 41369614, "link": "https://stackoverflow.com/questions/41369614/path-dependent-slicing-function-code-modification/41370328#41370328", "title": "Path dependent slicing - function code modification", "body": "<p>I don't have too much experience with generators or Pandas, but does this work? My data has different output due to the random seed so I am not sure. </p>\n\n<p>I changed the generator to include the alternative case given, that the first column <code>row[col2] == 4000</code>, so calling the generator twice should give both values:</p>\n\n<pre><code>def mover_df(df, col, col2, move_size=10, found=False):\n    ref = None\n    for i, row in df.iterrows():\n        #added test condition for new col2 signal column\n        if row[col2] == 4000:\n            if ref is None or (abs(ref - row.loc[col]) &gt;= move_size):\n                yield row\n                found = True   # flag that we found the first row we want\n                ref = row.loc[col]\n        elif found:  # if we found the first row, find the second meeting the condition\n            if ref is None or (abs(ref - row.loc[col]) &gt;= move_size):\n                yield row\n</code></pre>\n\n<p>And then you can use it like this:</p>\n\n<pre><code>data_generator = mover_df(df, 'A', 'B', 3)\nmoves_df = pd.concat([data.next(), data.next()], axis=1).T\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "edited": false, "score": 0, "creation_date": 1482966256, "post_id": 41370721, "comment_id": 69943561, "body": "Thanks again @piRSquared  Caveat noted.  Very nice getting feedback from a finance professional who is so good with Python!  Are there any approaches  I should also investigate to perform this kind of basic back-testing?  It is easy to get the signals with np.where and similar filters - it is just this kind of target and stop loss analysis I find more challenging.  I am only looking at simple intra-day strategies."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "edited": false, "score": 1, "creation_date": 1482966739, "post_id": 41370721, "comment_id": 69943700, "body": "Usually when I go down the road of building a backtesting tool, I ask many, many questions.  It&#39;s difficult to predict them all up front (though we try).  I get where you are going from a very high level.  But without all the gory details, I don&#39;t have much to add.  As always, ask lots of questions as you come across problems.  I&#39;ll try to help when I can."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1482964685, "creation_date": 1482964685, "answer_id": 41370721, "question_id": 41369614, "link": "https://stackoverflow.com/questions/41369614/path-dependent-slicing-function-code-modification/41370721#41370721", "title": "Path dependent slicing - function code modification", "body": "<p>I'd edit the <code>mover_df</code> like this<br>\n<strong><em>note:</em></strong><br>\nI changed <code>4000</code> condition to <code>% 1000 == 0</code> to give a few more samples</p>\n\n<pre><code>def mover_df(df, move_col, look_col, move_size=10):\n    ref, seen = None, False\n    for i, row in df.iterrows():\n        #added test condition for new col2 signal column\n        look_cond = row[look_col] % 1000 == 0\n        if look_cond and not seen:\n            yield row\n            ref, seen = row.loc[move_col], True\n        elif seen:\n            move_cond = (abs(ref - row.loc[move_col]) &gt;= move_size)\n            if move_cond:\n                yield row\n                ref, seen = None, False\n\n\ndf = s.to_frame()\ndf['B'] = range(0,len(df))\n\nmoves_df = pd.concat(mover_df(df, 'A','B', 3), axis=1).T\n\nprint(moves_df)\n\n                                       A       B\n2013-02-06 08:00:03.264481639   0.554390     0.0\n2013-02-06 08:04:26.609855185  -2.479520    35.0\n2013-02-06 09:38:07.962175581 -15.042391  1000.0\n2013-02-06 09:40:50.737806497 -18.385956  1026.0\n2013-02-06 11:13:03.018013689 -29.074125  2000.0\n2013-02-06 11:14:30.980633575 -32.221009  2019.0\n2013-02-06 12:49:41.432845325 -35.048040  3000.0\n2013-02-06 12:50:28.098114592 -38.881795  3012.0\n2013-02-06 14:27:15.008225195  13.437165  4000.0\n2013-02-06 14:27:32.790466500   9.513736  4003.0\n</code></pre>\n\n<hr>\n\n<p><strong><em>caveat</em></strong><br>\nThis will continue to look for an exit until it is found or you reach the end of the dataframe even if you reach another potential entry point.  Meaning, in my example, I look every 1000 rows and enter.  I then look for when the move is greater than 10 and exit.  If I do not find a move greater than 10 before the next 1000 row market arrives, I'll ignore that 1000 row marker and continue looking for an exit.  </p>\n\n<p>The philosophy was that if I'm in the trade, I have to exit.  I don't want to enter into another trade prior to resolving the one I'm still in.</p>\n"}], "owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 41370721, "answer_count": 2, "score": 1, "last_activity_date": 1506531297, "creation_date": 1482958635, "last_edit_date": 1506531297, "question_id": 41369614, "link": "https://stackoverflow.com/questions/41369614/path-dependent-slicing-function-code-modification", "title": "Path dependent slicing - function code modification", "body": "<p>I am playing with the really nice code @piRSquared has provided and this code can be seen below.</p>\n\n<p>I have added another condition <code>if row[col2] == 4000</code> and this is only seen once in the additional column I added. As expected this additional code has the function yield only a single row as the condition is only seen once. </p>\n\n<p>My question is how can the code be modified to then yield another row after the move is <code>&gt;= move_size</code>.  </p>\n\n<p>Desired output is two rows.  One when <code>row['B'] == 4000</code> (as the code produces now) and another when a move is seen <code>&gt;= move_size</code> in Col <code>A</code>.  I see these as a trade entry and exit so it would be nice to have an order id in another dataframe column <code>df['C']</code> as per desired output shown below.</p>\n\n<p><strong>Code from original post</strong>:</p>\n\n<pre><code>#starting python community conventions\nimport numpy as np\nimport pandas as pd\n\n# n is number of observations\nn = 5000\n\nday = pd.to_datetime(['2013-02-06'])\n# irregular seconds spanning 28800 seconds (8 hours)\nseconds = np.random.rand(n) * 28800 * pd.Timedelta(1, 's')\n# start at 8 am\nstart = pd.offsets.Hour(8)\n# irregular timeseries\ntidx = day + start + seconds\ntidx = tidx.sort_values()\n\ns = pd.Series(np.random.randn(n), tidx, name='A').cumsum()\ns.plot()\n</code></pre>\n\n<p><strong>Generator function with slight modification:</strong></p>\n\n<pre><code>def mover_df(df, col,col2, move_size=10):\n    ref = None\n    for i, row in df.iterrows():\n        #added test condition for new col2 signal column\n        if row[col2] == 4000:\n            if ref is None or (abs(ref - row.loc[col]) &gt;= move_size):\n                yield row\n                ref = row.loc[col]\n</code></pre>\n\n<p><strong>Generate data</strong></p>\n\n<pre><code>df = s.to_frame()\ndf['B'] = range(0,len(df))\n\nmoves_df = pd.concat(mover_df(df, 'A','B', 3), axis=1).T\n</code></pre>\n\n<p><strong>Current output:</strong></p>\n\n<pre><code>                                  A         B\n2013-02-06 14:30:43.874386317   -50.136432  4000.0\n</code></pre>\n\n<p><strong>Desired output:</strong></p>\n\n<p>(Values in cols <code>A,B</code> on the second row would be whatever the code generates,I have just added random values to show the format I'm interested in. Col <code>C</code> is the trade id and for every two rows this would increment +1)</p>\n\n<pre><code>                                  A         B       C\n2013-02-06 14:30:43.874386317   -50.136432  4000.0  1\n2013-02-06 14:30:43.874386317   -47.136432  6000.0  1\n</code></pre>\n\n<p>I have been tying to code this for hours (doesn't help with the kids running around the house now its the school holidays...) and appreciate any help. Would be fantastic to get input from @piRSquared but appreciate people are busy.</p>\n"}, {"tags": ["python", "oop"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1482958786, "post_id": 41369613, "comment_id": 69940852, "body": "So they clearly are <i>not</i> the same variable; what, then, is your question?  Did you try making other <code>employee</code> objects?"}, {"owner": {"reputation": 87, "user_id": 5402847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9478fb452c21d77d41e4adaaf12d48?s=128&d=identicon&r=PG&f=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/5402847/vijay"}, "edited": false, "score": 0, "creation_date": 1482958909, "post_id": 41369613, "comment_id": 69940902, "body": "No... self.count and employee.count both refers to the same class variable  count which I declared earlier"}, {"owner": {"reputation": 7251, "user_id": 6214222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oYplt.png?s=128&g=1", "display_name": "Keiwan", "link": "https://stackoverflow.com/users/6214222/keiwan"}, "edited": false, "score": 0, "creation_date": 1482959167, "post_id": 41369613, "comment_id": 69941005, "body": "@vijay But only until you declare the instance variable <code>self.count</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5402847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9478fb452c21d77d41e4adaaf12d48?s=128&d=identicon&r=PG&f=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/5402847/vijay"}, "edited": false, "score": 0, "creation_date": 1482960580, "post_id": 41369664, "comment_id": 69941555, "body": "So,  in the right hand side (self.count+1) , initially self.count is looked up and no instance variable is found. So, It took the value of class variable count (which is initialized earlier). After it found the value (0) it incremented the value and assigned it to instance variable . Please correct me if I am wrong"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 87, "user_id": 5402847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9478fb452c21d77d41e4adaaf12d48?s=128&d=identicon&r=PG&f=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/5402847/vijay"}, "edited": false, "score": 0, "creation_date": 1482961134, "post_id": 41369664, "comment_id": 69941769, "body": "That&#39;s correct."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1482959899, "last_edit_date": 1482959899, "creation_date": 1482958946, "answer_id": 41369664, "question_id": 41369613, "link": "https://stackoverflow.com/questions/41369613/difference-between-self-variable-name-and-classname-variable-in-python/41369664#41369664", "title": "Difference between self.variable name and classname.variable in python", "body": "<p>This is somewhat subtle because of the line below:</p>\n\n<pre><code>self.count = self.count + 1\n</code></pre>\n\n<p>Here, the <code>self.count</code> on the left hand side and the <code>self.count</code> on the right hand side are <strong>not the same thing</strong>!  </p>\n\n<p>This line of code creates an instance variable on the <code>self</code> object (an <code>employee</code> instance) with a name (i.e. <code>count</code>) which shadows the variable of the same name that already exists on the class object (i.e. the <code>employee</code> class).  </p>\n\n<p>The right hand side is evaluated first, and that actually resolves the name <code>self.count</code> on the class object.  The presence of an instance attribute is actually checked for beforehand, but it doesn't exist yet since the instance attribute has not been bound.  Then, after the right hand side has been evaluated (i.e. the name <code>self.count</code> gets resolved, and <code>1</code> is added to it), the result of evaluation is bound to an instance attribute.  </p>\n\n<p>Both variables co-exist:</p>\n\n<pre><code>&gt;&gt;&gt; emp1.count\n1\n&gt;&gt;&gt; emp1.__class__.count\n0\n</code></pre>\n\n<p>The key thing to learn here is Python's attribute lookup process: <em>the instance namespace is checked and then the class namespace is checked</em>.  </p>\n"}, {"comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 2, "creation_date": 1482959601, "post_id": 41369673, "comment_id": 69941182, "body": "Please add some text to your answer explaining how this code snippet answers the OP&#39;s question"}, {"owner": {"reputation": 52, "user_id": 6896231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a75282eff8b81d19c1532daad52a060e?s=128&d=identicon&r=PG&f=1", "display_name": "Patryk Laskowski", "link": "https://stackoverflow.com/users/6896231/patryk-laskowski"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1483572363, "post_id": 41369673, "comment_id": 70155842, "body": "Here You go! Hope I helped You guys"}], "tags": [], "owner": {"reputation": 52, "user_id": 6896231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a75282eff8b81d19c1532daad52a060e?s=128&d=identicon&r=PG&f=1", "display_name": "Patryk Laskowski", "link": "https://stackoverflow.com/users/6896231/patryk-laskowski"}, "is_accepted": true, "score": -1, "last_activity_date": 1483572254, "last_edit_date": 1483572254, "creation_date": 1482958981, "answer_id": 41369673, "question_id": 41369613, "link": "https://stackoverflow.com/questions/41369613/difference-between-self-variable-name-and-classname-variable-in-python/41369673#41369673", "title": "Difference between self.variable name and classname.variable in python", "body": "<p>If You want to count number of created <code>Employee</code>, You have to create method which will invoke to every objects at all (not individually).</p>\n\n<p>To do that, create method and decorate her with <code>@staticmethod</code>. Notice that this method don't have <code>self</code> in parenthesies. Moreover create variable (here: <code>count</code>), which also invoke to every class object at all (without <code>self.</code> before).</p>\n\n<p>Finally put our <code>count</code> variable inside <code>__init__</code> method with <code>+= 1</code> equation (than every time when new <code>Employee</code> will be created <code>__init__</code> will add +1 to our variable). But remember to add <code>Employee.</code> before <code>count</code> here, to count every single create <code>Employee</code> as a class population.</p>\n\n<pre><code>class Employee(object):\n    count = 0\n\n    @staticmethod\n    def status():\n        print(Employee.count)\n\n    def __init__(self, x):\n        self.x = x\n        Employee.count += 1\n        print(\"this method is executed\")\n        print(\"Now, we have got\", Employee.count, \"Employees\")\n\n\nemp1 = Employee(\"John\")\n</code></pre>\n\n<p>We can show up population number with :</p>\n\n<pre><code>print(emp1.count)\nemp1.status()\nprint(Employee.count)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "is_accepted": false, "score": 0, "last_activity_date": 1482959084, "creation_date": 1482959084, "answer_id": 41369692, "question_id": 41369613, "link": "https://stackoverflow.com/questions/41369613/difference-between-self-variable-name-and-classname-variable-in-python/41369692#41369692", "title": "Difference between self.variable name and classname.variable in python", "body": "<p><code>emp1</code> is an <em>instance</em> of the class <code>employee</code>. Each instance has its own set of variables, called instance variables. These are the ones assigned as <code>self.var = ...</code> inside methods of the class.</p>\n\n<p>If you try accessing <code>emp1.var</code> and this instance variable is not assigned, Python looks for a <code>var</code> variable attached to the class of <code>emp1</code>, meaning it looks up <code>employee.var</code>. These kind of variable are called a class variable, and they are defined the way you have defined <code>count=0</code> at the top of your class.</p>\n\n<p>Now, in your example, <code>self.count=self.count+1</code>, the left-hand side assigns to the instance, so you are creating an instance variable called <code>count</code>. The right-hand side, however, looks up <code>self.count</code>, which does not yet exist as an instance variable, so <code>employee.count</code> is really used instead. This confusing behavior is avoided if you do not use the same variable name for both an instance variable and a class variable.</p>\n"}], "owner": {"reputation": 87, "user_id": 5402847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9478fb452c21d77d41e4adaaf12d48?s=128&d=identicon&r=PG&f=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/5402847/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "closed_date": 1482960441, "accepted_answer_id": 41369673, "answer_count": 3, "score": 0, "last_activity_date": 1483572254, "creation_date": 1482958626, "last_edit_date": 1482958650, "question_id": 41369613, "link": "https://stackoverflow.com/questions/41369613/difference-between-self-variable-name-and-classname-variable-in-python", "closed_reason": "Duplicate", "title": "Difference between self.variable name and classname.variable in python", "body": "<p>I am trying to learn oop concepts and i chose python. As far as I know self.count and employee.count both calls the class variable count and they both should have same value. However, for the following code, I see that self.count is 1 and employee.count is 0. </p>\n\n<pre><code>class employee:\n    count=0\n    def __init__(self,x):\n        self.x=x\n        self.count=self.count+1\n        print (\"this method is executed\")\n        print (self.count)\n        print (employee.count)\nemp1=employee(\"John\")       \n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 1, "creation_date": 1482958813, "post_id": 41369550, "comment_id": 69940866, "body": "<i>So the string to the left would be false</i> - what does it mean?"}, {"owner": {"reputation": 108, "user_id": 6287355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DdSFm.jpg?s=128&g=1", "display_name": "Fibonacci", "link": "https://stackoverflow.com/users/6287355/fibonacci"}, "reply_to_user": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 0, "creation_date": 1482959341, "post_id": 41369550, "comment_id": 69941078, "body": "All of the letters in the string have to be surrounded by a + so the string In the question would be false because the last three characters are ==a."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482960501, "post_id": 41369874, "comment_id": 69941515, "body": "<a href=\"http://ideone.com/7ODDQ5\" rel=\"nofollow noreferrer\">This doesn&#39;t work when a <code>+</code> is surrounded by letters.</a>"}, {"owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482961545, "post_id": 41369874, "comment_id": 69941953, "body": "Where is that requirement stated?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482961703, "post_id": 41369874, "comment_id": 69942033, "body": "<code>+a+b+</code> fits the requirements as stated in the problem - it is a string where each letter is surrounded by <code>+</code> symbols."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482962087, "post_id": 41369874, "comment_id": 69942190, "body": "@Jack. Your test fails if there are overlapping matches."}, {"owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "edited": false, "score": 0, "creation_date": 1482962451, "post_id": 41369874, "comment_id": 69942314, "body": "Yes, all <code>re.findall</code> solutions will probably fail since it only finds non-overlapping matches."}], "tags": [], "owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "is_accepted": false, "score": 1, "last_activity_date": 1482960083, "creation_date": 1482960083, "answer_id": 41369874, "question_id": 41369550, "link": "https://stackoverflow.com/questions/41369550/how-can-you-group-a-very-specfic-pattern-with-regex/41369874#41369874", "title": "How can you group a very specfic pattern with regex?", "body": "<p>Something like this should do the trick:</p>\n\n<pre><code>import re\n\ndef is_valid_str(s):\n  return re.findall('[a-zA-Z]', s) == re.findall('\\+([a-zA-Z])\\+', s)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>In [10]: is_valid_str(\"f++d+\")\nOut[10]: False\n\nIn [11]: is_valid_str(\"+d+=3=+s+\")\nOut[11]: True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482967924, "post_id": 41369913, "comment_id": 69944073, "body": "This will fail if there are overlapping matches."}], "tags": [], "owner": {"reputation": 408, "user_id": 1639846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013afd51484e07a23c6bd46f9ce7a02a?s=128&d=identicon&r=PG", "display_name": "Lucas Currah", "link": "https://stackoverflow.com/users/1639846/lucas-currah"}, "is_accepted": false, "score": 1, "last_activity_date": 1482960255, "creation_date": 1482960255, "answer_id": 41369913, "question_id": 41369550, "link": "https://stackoverflow.com/questions/41369550/how-can-you-group-a-very-specfic-pattern-with-regex/41369913#41369913", "title": "How can you group a very specfic pattern with regex?", "body": "<p>I think you are on the right track. The regular expression you have is correct, but it can simplify down to just letters:</p>\n\n<pre><code>search_pattern = re.compile(r'\\+[a-zA-z]\\+')\n</code></pre>\n\n<p>for upper and lower case strings. Now we can use this regex with the <code>findall</code> function: </p>\n\n<pre><code>results = re.findall(search_pattern, 'adf+a+=4=+S+')  # returns ['+a+', '+S+']\n</code></pre>\n\n<p>Now the question needs you to return a boolean depending on if the string is valid to the specified pattern so we can wrap this all up into a function:</p>\n\n<pre><code>def is_valid_pattern(pattern_string):\n    search_pattern =  re.compile(r'\\+[a-zA-z]?\\+')\n    letter_pattern = re.compile(r'[a-zA-z]')  # to search for all letters\n    results = re.findall(search_pattern, pattern_string)\n    letters = re.findall(letter_pattern, pattern_string)\n    # if the lenght of the list of all the letters equals the length of all\n    # the values found with the pattern, we can say that it is a valid string\n    return len(results) == len(letter_pattern)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482967952, "post_id": 41370156, "comment_id": 69944080, "body": "This will fail if there are overlapping matches."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6732861"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482968128, "post_id": 41370156, "comment_id": 69944140, "body": "By overlapping matches, do you mean for cases such as <code>&quot;...+a+b+...&quot;</code>? Or as in <code>&quot;+abc+&quot;</code>? Or something else entirely?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6732861"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482968427, "post_id": 41370156, "comment_id": 69944217, "body": "Because in both of these cases, my regex works fine. Overlapping matches shouldn&#39;t be an issue for this solution."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482969487, "post_id": 41370156, "comment_id": 69944532, "body": "Try it with <code>+a+b</code>, <code>a+b</code> or <code>a+b+</code>, etc."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6732861"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482969847, "post_id": 41370156, "comment_id": 69944646, "body": "I think it&#39;s because of the situation in which I&#39;m doing it. My solution breaks not due to &quot;overlapping matches&quot;, but because of beginning/end of string match errors."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6732861"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482970450, "post_id": 41370156, "comment_id": 69944813, "body": "In which case your solution with the look-ahead/behind is the next logical step. I need to get used to those more. Thanks for the insight in how to use them"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1482974219, "post_id": 41370156, "comment_id": 69945622, "body": "Yes, you&#39;re right - it&#39;s not really a problem with overlapping matches. But I think you can fix your pattern by explicitly matching the start/end of the string, like this: <code>(^|[^\\+])[A-Za-z]|[A-Za-z]([^\\+]|$)</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6732861"}, "is_accepted": false, "score": 1, "last_activity_date": 1482968501, "last_edit_date": 1482968501, "creation_date": 1482961549, "answer_id": 41370156, "question_id": 41369550, "link": "https://stackoverflow.com/questions/41369550/how-can-you-group-a-very-specfic-pattern-with-regex/41370156#41370156", "title": "How can you group a very specfic pattern with regex?", "body": "<p>You should be looking for what <strong>isn't</strong> there, as opposed to what <strong>is</strong>. You should search for something like, <code>([^\\+][A-Za-z]|[A-Za-z][^\\+])</code>. The <code>|</code> in the middle is a logical <code>or</code> operator. Then on either side, it checks if it can find <em>any</em> scenario where there is a letter without a \"+\" on the left/right respectively. If if finds something, that means the string fails. If it can't find anything, that means that there are no instances of a letter not being surrounded by \"+\"'s.</p>\n"}, {"comments": [{"owner": {"reputation": 108, "user_id": 6287355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DdSFm.jpg?s=128&g=1", "display_name": "Fibonacci", "link": "https://stackoverflow.com/users/6287355/fibonacci"}, "edited": false, "score": 0, "creation_date": 1482966135, "post_id": 41370635, "comment_id": 69943522, "body": "This makes sense, but can you explain to me what you are doing  here (?&lt;!\\+)? Specifically the ?&lt;!. And why isn&#39;t the &lt; on the other side of the |?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 108, "user_id": 6287355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DdSFm.jpg?s=128&g=1", "display_name": "Fibonacci", "link": "https://stackoverflow.com/users/6287355/fibonacci"}, "edited": false, "score": 1, "creation_date": 1482967400, "post_id": 41370635, "comment_id": 69943914, "body": "<code>(?&lt;!\\+)</code> is a negative look-behind assertion: it means match only if the current character is <i>not</i> preceeded by a <code>+</code>. Similarly, <code>(?!\\+)</code>  is a negative look-ahead assertion: it means match only if the current character is <i>not</i> followed by a <code>+</code>. The &quot;current character&quot; is specified by the pattern <code>[a-zA-Z]</code>, which matches a single alphabetic letter. So the whole pattern is trying to find any letter that does <i>not</i> have either a <code>+</code> before it, or a <code>+</code> after it."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1482964207, "creation_date": 1482964207, "answer_id": 41370635, "question_id": 41369550, "link": "https://stackoverflow.com/questions/41369550/how-can-you-group-a-very-specfic-pattern-with-regex/41370635#41370635", "title": "How can you group a very specfic pattern with regex?", "body": "<p>One approach is to search the string for any letters that are either: (1) <em>not</em> preceeded by a <code>+</code>, or (2) <em>not</em> followed by a <code>+</code>. This can be done using look ahead and look behind assertions:</p>\n\n<pre><code>&gt;&gt;&gt; rgx = re.compile(r'(?&lt;!\\+)[a-zA-Z]|[a-zA-Z](?!\\+)')\n</code></pre>\n\n<p>So if <code>rgx.search(string)</code> returns <code>None</code>, the string is <em>valid</em>:</p>\n\n<pre><code>&gt;&gt;&gt; rgx.search('+a+') is None\nTrue\n&gt;&gt;&gt; rgx.search('+a+b+') is None\nTrue\n</code></pre>\n\n<p>but if it returns a match, the string is <em>invalid</em>:</p>\n\n<pre><code>&gt;&gt;&gt; rgx.search('+ab+') is None\nFalse\n&gt;&gt;&gt; rgx.search('+a=b+') is None\nFalse\n&gt;&gt;&gt; rgx.search('a') is None\nFalse\n&gt;&gt;&gt; rgx.search('+a') is None\nFalse\n&gt;&gt;&gt; rgx.search('a+') is None\nFalse\n</code></pre>\n\n<p>The important thing about look ahead/behind assertions is that they don't consume characters, so they can handle overlapping matches.</p>\n"}], "owner": {"reputation": 108, "user_id": 6287355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DdSFm.jpg?s=128&g=1", "display_name": "Fibonacci", "link": "https://stackoverflow.com/users/6287355/fibonacci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 41370635, "answer_count": 4, "score": 2, "last_activity_date": 1482968501, "creation_date": 1482958327, "last_edit_date": 1482967689, "question_id": 41369550, "link": "https://stackoverflow.com/questions/41369550/how-can-you-group-a-very-specfic-pattern-with-regex", "title": "How can you group a very specfic pattern with regex?", "body": "<blockquote>\n  <p>Problem:</p>\n  \n  <p><a href=\"https://coderbyte.com/editor/Simple%20Symbols\" rel=\"nofollow noreferrer\">https://coderbyte.com/editor/Simple%20Symbols</a></p>\n  \n  <p>The str parameter will be composed of + and = symbols with\n  several letters between them (ie. ++d+===+c++==a) and for the string\n  to be true each letter must be surrounded by a + symbol. So the string\n  to the left would be false. The string will not be empty and will have\n  at least one letter.</p>\n  \n  <p>Input:\"+d+=3=+s+\"</p>\n  \n  <p>Output:\"true\"</p>\n  \n  <p>Input:\"f++d+\"</p>\n  \n  <p>Output:\"false\"</p>\n</blockquote>\n\n<p>I'm trying to create a regular expression for the following problem, but I keep running into various problems. How can I produce something that returns the specified rules('+\\D+')?</p>\n\n<pre><code>import re\nplusReg = re.compile(r'[(+A-Za-z+)]')\nplusReg.findall()\n&gt;&gt;&gt; []\n</code></pre>\n\n<p>Here I thought I could create my own class that searches for the pattern.</p>\n\n<pre><code>import re\nplusReg = re.compile(r'([\\\\+,\\D,\\\\+])')\nplusReg.findall('adf+a+=4=+S+')\n&gt;&gt;&gt; ['a', 'd', 'f', '+', 'a', '+', '=', '=', '+', 'S', '+']\n</code></pre>\n\n<p>Here I thought I the '\\\\+' would single out the plus symbol and read it as a char.</p>\n\n<pre><code>mo = plusReg.search('adf+a+=4=+S+')\nmo.group()\n&gt;&gt;&gt;'a'\n</code></pre>\n\n<p>Here using the same shell, I tried using the search instead of findall, but I just ended up with the first letter which isn't even surrounded by a plus. </p>\n\n<p>My end result is to group the string 'adf+a+=4=+S+' into ['+a+','+S+'] and so on. </p>\n\n<p>edit:</p>\n\n<p>Solution:</p>\n\n<pre><code>import re\ndef SimpleSymbols(str): \n    #added padding, because if str = 'y+4==+r+'\n    #then program would return true when it should return false. \n    string = '=' + str + '=' \n    #regex that returns false if a letter *doesn't* have a + in front or back\n    plusReg = re.compile(r'[^\\+][A-Za-z].|.[A-Za-z][^\\+]')\n    #if statement that returns \"true\" if regex doesn't find any letters\n    #without a + behind or in front\n    if plusReg.search(string) is None:\n        return \"true\"\n    return \"false\"\n\nprint SimpleSymbols(raw_input())\n</code></pre>\n\n<p>I borrowed some code from ekhumoro and Sanjay. Thanks</p>\n"}, {"tags": ["python", "functional-programming"], "answers": [{"tags": [], "owner": {"reputation": 2052, "user_id": 1539446, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/837408461bb4d5dfb38091e3456299bb?s=128&d=identicon&r=PG", "display_name": "nichochar", "link": "https://stackoverflow.com/users/1539446/nichochar"}, "is_accepted": false, "score": 0, "last_activity_date": 1483483794, "creation_date": 1483483794, "answer_id": 41453593, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41453593#41453593", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>I think you need to provide more information of exactly what you're trying to achieve, and what the clear constraints are. For instance, how many times can <code>$$</code> occur? Will there always be a <code>|</code> dividor? That kind of thing.</p>\n\n<p>To answer your question broadly, an elegant pythonic way to do this is to use python's unpacking feature, combined with split. for example</p>\n\n<pre><code>secret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\n\nfirst_$$_part, last_$$_part = secret_code_1.split('$$')\n</code></pre>\n\n<p>By using this technique, in addition to simple <code>if</code> blocks, you should be able to write an elegant parser.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 7370877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4fc3897a28f0847e8e74195b8b4d39?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Schumacher", "link": "https://stackoverflow.com/users/7370877/bill-schumacher"}, "is_accepted": false, "score": 1, "last_activity_date": 1483502839, "last_edit_date": 1483502839, "creation_date": 1483501332, "answer_id": 41455842, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41455842#41455842", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>I believe something like this could work:</p>\n\n<pre><code>secret_codes = ['asdf|qwer-sdfg-wert$$otherthing', 'qwersdfg-qw|er$$otherthing']\n\n\ndef parse_code(code):\n    _code = code.split('$$')\n    if '-' in _code[0]:\n        return _parse_secrets(_code[1], *_code[0].split('-'))\n    return _parse_secrets(_code[0], *_code[1].split('-'))\n\n\ndef _parse_secrets(code, a, b, c=None):\n    \"\"\"\n    a, b, and c are descriptive parameters that explain\n    the different components in the secret code\n\n    returns a tuple of the decoded parts\n    \"\"\"\n    if c is not None:\n        return a.split('|')[0], b, c\n    return a, b.split('|')[1]\n\n\nfor secret_code in secret_codes:\n    print(parse_code(secret_code))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>('asdf', 'sdfg', 'wert')\n('qwersdfg', 'er')\n</code></pre>\n\n<p>I'm not sure about your secret data structure but if you used the index of the position of elements with data that has | in it and had an appropriate number of secret data you could also do something like this and have an infinite(well almost) amount of secrets potentially:</p>\n\n<pre><code>def _parse_secrets(code, *data):\n    \"\"\"\n    data is descriptive parameters that explain\n    the different components in the secret code\n\n    returns a tuple of the decoded parts\n    \"\"\"\n    i = 0\n    decoded_secrets = []\n    for secret in data:\n        if '|' in secret:\n            decoded_secrets.append(secret.split('|')[i])\n        else:\n            decoded_secrets.append(secret)\n        i += 1\n    return tuple(decoded_secrets)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7187, "user_id": 2629036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d3cf6b8ced5482eb2d97982d6e89f07d?s=128&d=identicon&r=PG", "display_name": "Filip Dobrovoln&#253;", "link": "https://stackoverflow.com/users/2629036/filip-dobrovoln%c3%bd"}, "is_accepted": false, "score": 1, "last_activity_date": 1483654483, "creation_date": 1483654483, "answer_id": 41495678, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41495678#41495678", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>\nI'm really not sure what exactly you mean. But I came with idea which might be what you are looking for.</p>\n\n<p>What about using a simple function like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def split_secret_code(code): \n    return [code] + code[:code.find(\"$$\")].split(\"-\")\n</code></pre>\n\n<p>And than just use:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>parse_code_1(*split_secret_code(secret_code_1))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 465742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56debac0eb94a71a09793644d851b64a?s=128&d=identicon&r=PG", "display_name": "Swaroop Vajrapu", "link": "https://stackoverflow.com/users/465742/swaroop-vajrapu"}, "is_accepted": false, "score": 0, "last_activity_date": 1483700210, "creation_date": 1483700210, "answer_id": 41504178, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41504178#41504178", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>If I understand it correctly, you want to be able to define your functions as if the parsed arguments are passed, but want to pass the unparsed code to the functions instead.</p>\n\n<p>You can do that very similarly to the first solution you presented.</p>\n\n<pre><code>from functools import wraps\n\ndef parse_secret(f):\n  @wraps(f)\n  def wrapper(code):\n    args = code.split('$$')[0].split('-')\n    return f(*args)\n  return wrapper\n\n@parse_secret\ndef parse_code_1(a, b, c):\n  a = a.split('|')[0]\n  return (a,b,c)\n\n@parse_secret\ndef parse_code_2(a, b):\n  b = b.split('|')[1]\n  return (a,b)\n</code></pre>\n\n<p>For the secret codes mentioned in the examples,</p>\n\n<pre><code>secret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\n\nprint (parse_code_1(secret_code_1))\n&gt;&gt; ('asdf', 'sdfg', 'wert')\n\nsecret_code_2 = 'qwersdfg-qw|er$$otherthing'\nprint (parse_code_2(secret_code_2))\n&gt;&gt; ('qwersdfg', 'er')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1636, "user_id": 5823489, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-bro5cVB4qfs/AAAAAAAAAAI/AAAAAAAAADs/YkUCNICk1e4/photo.jpg?sz=128", "display_name": "Guillaume Lebreton", "link": "https://stackoverflow.com/users/5823489/guillaume-lebreton"}, "is_accepted": false, "score": 0, "last_activity_date": 1483906628, "creation_date": 1483906628, "answer_id": 41537398, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41537398#41537398", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>I haven't understood anything of your question, neither your code, but maybe a simple way to do it is by regular expression?</p>\n\n<pre><code>import re\n\nsecret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\nsecret_code_2 = 'qwersdfg-qw|er$$otherthing'\n\ndef parse_code(code):\n    regex = re.search('([\\w-]+)\\|([\\w-]+)\\$\\$([\\w]+)', code)  # regular expression\n    return regex.group(3), regex.group(1).split(\"-\"), regex.group(2).split(\"-\")\n\notherthing, first_group, second_group = parse_code(secret_code_2)\n\nprint(otherthing)  # otherthing, string\nprint(first_group)  # first group, list\nprint(second_group)  # second group, list\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>otherthing\n['qwersdfg', 'qw']\n['er']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 934, "user_id": 3142882, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003477858906/picture?type=large", "display_name": "Danilo", "link": "https://stackoverflow.com/users/3142882/danilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1484598023, "last_edit_date": 1484598023, "creation_date": 1483970749, "answer_id": 41549770, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41549770#41549770", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>Are you married to the string parsing? If you are passing variables with values and are in no need for variable names you can \"pack\" them into integer. </p>\n\n<p>If you are working with cryptography you can formulate a long hexadecimal number of characters and then pass it as int with \"stop\" bytes (0000 for example since \"0\" is actually 48 try: <code>chr(48)</code> ) and if you are married to a string I would suggest a lower character byte identifier for example ( 1 -> aka try: <code>chr(1)</code> ) so you can scan the integer and bit shift it by 8 to get bytes with 8 bit mask ( this would look like <code>(secret_code&gt;&gt;8)&amp;0xf</code>. </p>\n\n<p>Hashing works in similar manner since one variable with <strong>somename</strong> and <strong>somevalue</strong>, <em>somename</em> and <em>somevalue</em> can be parsed as integer and then joined with stop module, then retrieved when needed. </p>\n\n<p>Let me give you an example for hashing</p>\n\n<pre><code># lets say \na = 1\n# of sort hashing would be \nhash = ord('a')+(0b00&lt;&lt;8)+(1&lt;&lt;16)\n#where a hashed would be 65633 in integer value on 64 bit computer\n# and then you just need to find a 0b00 aka separator\n</code></pre>\n\n<p>if you want to use only variables ( names don't matter ) then you need to hash only variable value so the size of parsed value is a lot smaller ( not name part and no need for separator (0b00) and you can use separator cleverly to divide necessary data one fold (0b00) twofolds (0b00, 0b00&lt;&lt;8) etc.</p>\n\n<pre><code>a = 1\nhash = a&lt;&lt;8 #if you want to shift it 1 byte\n</code></pre>\n\n<p>But if you want to hide it and you need cryptography example, you can do the above methods and then scramble, shift ( a->b ) or just convert it to another type later. You just need to figure out the order of operations you are doing. Since a-STOP-b-PASS-c is not equal to a-PASS-b-STOP-c.</p>\n\n<p>You can find bitwise operators here <a href=\"https://wiki.python.org/moin/BitwiseOperators\" rel=\"nofollow noreferrer\">binary operators</a></p>\n\n<p>But have in mind that 65 is number and 65 is a character as well it only matters where are those bytes sent, if they are sent to graphics card they are pixels, if they are sent to audiocard they are sounds and if they are sent to mathematical processing they are numbers, and as programmers that is our playground. </p>\n\n<p>But if this is not answering your problem, you can always use map.</p>\n\n<pre><code>def mapProcces(proccesList,listToMap):\n\n   currentProcces = proccesList.pop(0)\n   listToMap = map( currentProcces, listToMap )\n\n   if proccesList != []: \n       return mapProcces( proccesList, listToMap )\n   else:\n       return list( listToMap )\n</code></pre>\n\n<p>then you could map it:</p>\n\n<pre><code>mapProcces([str.lower,str.upper,str.title],\"stackowerflow\")\n</code></pre>\n\n<p>or you can simply replace every definitive separator with space and then split space.</p>\n\n<pre><code>secret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\nsepar = \"|,-,$\".split(\",\")\nsecret_code_1 = [x if x not in separ else \" \" for x in secret_code_1]# replaces separators with empty chars\nsecret_code_1 = \"\".join(secret_code_1) #coverts list to a string\nsecret_code_1 = secret_code_1.split(\" \") #it splited them to list\nsecret_code_1 = filter(None,secret_code_1) # filter empty chars ''\nfirst,second,third,fourth,other = secret_code_1\n</code></pre>\n\n<p>And there you have it, your secret_code_1 is split and assigned to definitive amount of variables. Of course \" \" is used as declaration, you can use whatever you want, you can replace every separator with \"someseparator\" if you want and then split with \"someseparator\". You can also use <code>str.replace</code> function to make it clearer.</p>\n\n<p>I hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1484006242, "last_edit_date": 1484006242, "creation_date": 1484004163, "answer_id": 41558650, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41558650#41558650", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>I'm not sure exactly what constraints you're working with, but it looks like:</p>\n\n<ol>\n<li>There are different types of codes with different rules</li>\n<li>The number of dash separated args can vary</li>\n<li>Which arg has a pipe can vary</li>\n</ol>\n\n<p><strong>Straightforward Example</strong></p>\n\n<p>This is not too hard to solve, and you don't need fancy wrappers, so I would just drop them because it adds reading complexity.</p>\n\n<pre><code>def pre_parse(code):\n    dash_code, otherthing = code.split('$$')\n    return dash_code.split('-')\n\ndef parse_type_1(code):\n    dash_args = pre_parse(code)\n    dash_args[0], toss = dash_args[0].split('|')\n    return dash_args\n\ndef parse_type_2(code):\n    dash_args = pre_parse(code)\n    toss, dash_args[1] = dash_args[1].split('|')\n    return dash_args\n\n# Example call\nparse_type_1(secret_code_1)\n</code></pre>\n\n<p><strong>Trying to answer question as stated</strong></p>\n\n<p>You can supply arguments in this way by using python's native decorator pattern combined with <code>*</code>, which rolls/unrolls positional arguments into a tuple, so you don't need to know exactly how many there are.</p>\n\n<pre><code>def dash_args(code):\n    dash_code, otherthing = code.split('$$')\n    return dash_code.split('-')\n\ndef pre_parse(f):\n    def wrapper(code):\n        # HERE is where the outer function, the wrapper,\n        # supplies arguments to the inner function.\n        return f(code, *dash_args(code))\n    return wrapper\n\n@pre_parse\ndef parse_type_1(code, *args):\n    new_args = list(args)\n    new_args[0], toss = args[0].split('|')\n    return new_args\n\n@pre_parse\ndef parse_type_2(code, *args):\n    new_args = list(args)\n    toss, new_args[1] = args[1].split('|')\n    return new_args\n\n# Example call:\nparse_type_1(secret_code_1)\n</code></pre>\n\n<p><strong>More Extendable Example</strong></p>\n\n<p>If for some reason you needed to support many variations on this kind of parsing, you could use a simple OOP setup, like</p>\n\n<pre><code>class BaseParser(object):\n    def get_dash_args(self, code):\n        dash_code, otherthing = code.split('$$')\n        return dash_code.split('-')\n\nclass PipeParser(BaseParser):\n    def __init__(self, arg_index, split_index):\n        self.arg_index = arg_index\n        self.split_index = split_index\n\n    def parse(self, code):\n        args = self.get_dash_args(code)\n        pipe_arg = args[self.arg_index]\n        args[self.arg_index] = pipe_arg.split('|')[self.split_index]\n        return args\n\n# Example call\npipe_parser_1 = PipeParser(0, 0)\npipe_parser_1.parse(secret_code_1)\npipe_parser_2 = PipeParser(1, 1)\npipe_parser_2.parse(secret_code_2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1820, "user_id": 465270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39118e0595db4e7f6779558885059b8d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/465270/tom"}, "edited": false, "score": 0, "creation_date": 1484065829, "post_id": 41568658, "comment_id": 70351984, "body": "I Love the parser map idea!"}], "tags": [], "owner": {"reputation": 354, "user_id": 6342009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e1F8O7xkzqM/AAAAAAAAAAI/AAAAAAAAAHY/5FqzLCPm4ZU/photo.jpg?sz=128", "display_name": "Emerson Cardoso", "link": "https://stackoverflow.com/users/6342009/emerson-cardoso"}, "is_accepted": false, "score": 1, "last_activity_date": 1484050581, "creation_date": 1484050581, "answer_id": 41568658, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41568658#41568658", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>My suggestion attempts the following:</p>\n\n<ul>\n<li>to be non-verbose enough</li>\n<li>to separate common and specific logic in a clear way</li>\n<li>to be sufficiently extensible</li>\n</ul>\n\n<p>Basically, it separates common and specific logic into different functions (you could do the same using OOP). The thing is that it uses a mapper variable that contains the logic to select a specific parser, according to each code's content. Here it goes:</p>\n\n<pre><code>    def parse_common(code):\n        \"\"\"\n        Provides common parsing logic.\n        \"\"\"\n        encoded_components = code.split('$$')[0].split('-')\n        return encoded_components\n\n    def parse_code_1(code, components):\n        \"\"\"\n        Specific parsing for type-1 codes.\n        \"\"\"\n        components[0] = components[0].split('|')[0] # decoding some type-1 component\n        return tuple([c for c in components])\n\n    def parse_code_2(code, components):\n        \"\"\"\n        Specific parsing for type-2 codes.\n        \"\"\"\n        components[1] = components[1].split('|')[1] # decoding some type-2 component\n        return tuple([c for c in components])\n\n    def parse_code_3(code, components):\n        \"\"\"\n        Specific parsing for type-3 codes.\n        \"\"\"\n        components[2] = components[2].split('||')[0] # decoding some type-3 component\n        return tuple([c for c in components])\n\n    # ... and so on, if more codes need to be added ...\n\n    # Maps specific parser, according to the number of components\n    CODE_PARSER_SELECTOR = [\n        (3, parse_code_1),\n        (2, parse_code_2),\n        (4, parse_code_3)\n    ]\n\n    def parse_code(code):\n        # executes common parsing\n        components = parse_common(code)\n\n        # selects specific parser\n        parser_info = [s for s in CODE_PARSER_SELECTOR if len(components) == s[0]]\n\n        if parser_info is not None and len(parser_info) &gt; 0:\n            parse_func = parser_info[0][1]\n            return parse_func(code, components)\n        else:\n            raise RuntimeError('No parser found for code: %s' % code)\n\n    secret_codes = [\n        'asdf|qwer-sdfg-wert$$otherthing',              # type 1 \n        'qwersdfg-qw|er$$otherthing',                   # type 2\n        'qwersdfg-hjkl-yui||poiuy-rtyu$$otherthing'     # type 3\n        ]\n\n    print [parse_code(c) for c in secret_codes]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 2, "creation_date": 1484065258, "post_id": 41573091, "comment_id": 70351576, "body": "Using named lambdas function are <a href=\"http://www.python.org/dev/peps/pep-0008/#programming-recommendations\" rel=\"nofollow noreferrer\">discourage by PEP8</a>"}], "tags": [], "owner": {"reputation": 4889, "user_id": 4578017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00c6eb40762597ca5e04d0b128791356?s=128&d=identicon&r=PG&f=1", "display_name": "DarkKnight", "link": "https://stackoverflow.com/users/4578017/darkknight"}, "is_accepted": true, "score": 2, "last_activity_date": 1505617529, "last_edit_date": 1505617529, "creation_date": 1484064107, "answer_id": 41573091, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne/41573091#41573091", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p><a href=\"https://repl.it/FFPu/0\" rel=\"nofollow noreferrer\">repl.it example</a></p>\n\n<p>Functional approaches are more concise and make more sense.</p>\n\n<p>We can start from expressing concepts in <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">pure functions</a>, the form that is easiest to compose.</p>\n\n<p>Strip <code>$$otherthing</code> and split values:</p>\n\n<pre><code>parse_secret = lambda code: code.split('$$')[0].split('-')\n</code></pre>\n\n<p>Take one of inner values:</p>\n\n<pre><code>take = lambda value, index: value.split('|')[index]\n</code></pre>\n\n<p>Replace one of the values with its inner value:</p>\n\n<pre><code>parse_code = lambda values, p, q: \\\n  [take(v, q) if p == i else v for (i, v) in enumerate(values)]\n</code></pre>\n\n<p>These 2 types of codes have 3 differences:</p>\n\n<ul>\n<li>Number of values</li>\n<li>Position to parse \"inner\" values</li>\n<li>Position of \"inner\" values to take</li>\n</ul>\n\n<p>And we can compose parse functions by describing these differences. Split values are keep packed so that things are easier to compose.</p>\n\n<pre><code>compose = lambda length, p, q: \\\n  lambda code: parse_code(parse_secret(code)[:length], p, q)\n\nparse_code_1 = compose(3, 0, 0)\nparse_code_2 = compose(2, 1, 1)\n</code></pre>\n\n<p>And use composed functions:</p>\n\n<pre><code>secret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\nsecret_code_2 = 'qwersdfg-qw|er$$otherthing'\nresults = [parse_code_1(secret_code_1), parse_code_2(secret_code_2)]\nprint(results)\n</code></pre>\n"}], "owner": {"reputation": 1820, "user_id": 465270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39118e0595db4e7f6779558885059b8d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/465270/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 41573091, "answer_count": 9, "score": 12, "last_activity_date": 1505617529, "creation_date": 1482957679, "question_id": 41369419, "link": "https://stackoverflow.com/questions/41369419/how-to-compose-two-functions-whose-outer-function-supplies-arguments-to-the-inne", "title": "How to compose two functions whose outer function supplies arguments to the inner function", "body": "<p>I have two similar codes that need to be parsed and I'm not sure of the most pythonic way to accomplish this.</p>\n\n<p>Suppose I have two similar \"codes\"</p>\n\n<pre><code>secret_code_1 = 'asdf|qwer-sdfg-wert$$otherthing'\nsecret_code_2 = 'qwersdfg-qw|er$$otherthing'\n</code></pre>\n\n<p>both codes end with <code>$$otherthing</code> and contain a number of values separated by <code>-</code></p>\n\n<p>At first I thought of using <code>functools.wrap</code> to separate some of the common logic from the logic specific to each type of code, something like this:</p>\n\n<pre><code>from functools import wraps\n\ndef parse_secret(f):\n  @wraps(f)\n  def wrapper(code, *args):\n    _code = code.split('$$')[0]\n    return f(code, *_code.split('-'))\n  return wrapper\n\n@parse_secret\ndef parse_code_1b(code, a, b, c):\n  a = a.split('|')[0]\n  return (a,b,c)\n\n@parse_secret\ndef parse_code_2b(code, a, b):\n  b = b.split('|')[1]\n  return (a,b)\n</code></pre>\n\n<p>However doing it this way makes it kind of confusing what parameters you should actually pass to the <code>parse_code_*</code> functions i.e.</p>\n\n<pre><code>parse_code_1b(secret_code_1)\nparse_code_2b(secret_code_2)\n</code></pre>\n\n<p>So to keep the formal parameters of the function easier to reason about I changed the logic to something like this:</p>\n\n<pre><code>def _parse_secret(parse_func, code):\n  _code = code.split('$$')[0]\n  return parse_func(code, *_code.split('-'))\n\ndef _parse_code_1(code, a, b, c):\n  \"\"\"\n  a, b, and c are descriptive parameters that explain\n  the different components in the secret code\n\n  returns a tuple of the decoded parts\n  \"\"\"\n  a = a.split('|')[0]\n  return (a,b,c)\n\ndef _parse_code_2(code, a, b):\n  \"\"\"\n  a and b are descriptive parameters that explain\n  the different components in the secret code\n\n  returns a tuple of the decoded parts\n  \"\"\"\n  b = b.split('|')[1]\n  return (a,b)\n\ndef parse_code_1(code):\n  return _parse_secret(_parse_code_1, code)\n\ndef parse_code_2(code):\n  return _parse_secret(_parse_code_2, code)\n</code></pre>\n\n<p>Now it's easier to reason about what you pass to the functions:</p>\n\n<pre><code>parse_code_1(secret_code_1)\nparse_code_2(secret_code_2)\n</code></pre>\n\n<p>However this code is significantly more verbose.</p>\n\n<p>Is there a better way to do this? Would an object-oriented approach with classes make more sense here?</p>\n\n<p><a href=\"https://repl.it/Exqh/7\" rel=\"noreferrer\">repl.it example</a></p>\n"}, {"tags": ["java", "android", "python", "sockets"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1482958111, "post_id": 41369416, "comment_id": 69940555, "body": "Start debugging step by step. I were you, I would have started by checking the firewalls of my server.  Then would have checked whether request is received on the server by using <code>tcpdump</code>"}, {"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1482959051, "post_id": 41369416, "comment_id": 69940957, "body": "this <code>HOST = &#39;127.0.0.1&#39;   # Symbolic name, meaning all available interfaces</code> is your original code?... because it ain&#39;t mean what the comment says. If you already check what @MoinuddinQuadri said, I think this is the main issue. I can explain more if you say that line is actually your original code."}, {"owner": {"reputation": 53, "user_id": 5093617, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2aeb95913c878a1ba33b058da0422a4b?s=128&d=identicon&r=PG&f=1", "display_name": "TotalyNotUbisoft", "link": "https://stackoverflow.com/users/5093617/totalynotubisoft"}, "reply_to_user": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 0, "creation_date": 1482960313, "post_id": 41369416, "comment_id": 69941433, "body": "Actually @RafaelAguilar the connection itself isn&#39;t a part that I made by myself. It&#39;s more.. .borrowed."}], "owner": {"reputation": 53, "user_id": 5093617, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2aeb95913c878a1ba33b058da0422a4b?s=128&d=identicon&r=PG&f=1", "display_name": "TotalyNotUbisoft", "link": "https://stackoverflow.com/users/5093617/totalynotubisoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482963041, "creation_date": 1482957655, "last_edit_date": 1482963041, "question_id": 41369416, "link": "https://stackoverflow.com/questions/41369416/why-cant-i-communicate-with-my-server", "title": "Why Can&#39;t I communicate with my server?", "body": "<p>I have been trying to make a client project on Android Studio that will connect to a server that I made in Python (Pycharm). As for the IP used, I entered at the server the local host and in the client the IPV4 of the computer's server.\nThe debugging was made through the phone itself and not the emulator.</p>\n\n<p>When I tried running the code and connect to the server through out the ipv4 with the same port, I got connection timed out. \nAt the moment, the debugger is stuck on the client class while trying to get a message from the server, the - \"while ((bytesRead = inputStream.read(buffer))\" - line  while on the server, the code did not recieve any message from the client and thus its stuck on receiving.</p>\n\n<p>How do I solve this issue?</p>\n\n<p>Client code:  - Where the connection occurs</p>\n\n<pre><code>public class RequestAndAnswer extends AsyncTask&lt;Void, Void, Void&gt; {\nprivate String dstAddress,result1;\nprivate int dstPort;\nprivate String response = \"\";\nprivate String out;\n\n\nRequestAndAnswer(String output)\n{\n    dstAddress = \"1.5.0.66\"; //fake ipv4\n    out= output;\n    dstPort= 8886;\n\n}\n\n@Override\nprotected Void doInBackground(Void... arg0) {\n\n    Socket socket = null;\n\n    try {\n        socket = new Socket(dstAddress, dstPort);\n\n     //send out to server\n        DataOutputStream DOS = new DataOutputStream(socket.getOutputStream());\n        DOS.writeUTF(out);\n\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(1024);\n        byte[] buffer = new byte[1024];\n\n        int bytesRead;\n        InputStream inputStream = socket.getInputStream();\n\n\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byteArrayOutputStream.write(buffer, 0, bytesRead);\n            response += byteArrayOutputStream.toString(\"UTF-8\");\n        }\n\n    } catch (UnknownHostException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        response = \"UnknownHostException: \" + e.toString();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        response = \"IOException: \" + e.toString();\n    } finally {\n        if (socket != null) {\n            try {\n                socket.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>The main code:</p>\n\n<pre><code>public void onClick(View v)\n{\n    if(v == loginButton)\n    {\n\n        String userNameString =  userName.getText().toString();\n        String passwordString = password.getText().toString();\n\n        String output =\"100\"+\n        intToString(userNameString.length())\n        +userNameString \n        + intToString(passwordString.length())\n        +passwordString;\n\n        RequestAndAnswer myClient = new RequestAndAnswer(output);\n\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.HONEYCOMB)\n            myClient.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\n        else\n            myClient.execute();\n\n        String answer=\"\";\n\n        do {\n            answer = myClient.getResult();   /**In order to make sure that I\n                                              will get my response after the\n                                              communication started between\n                                              the server and the client **/\n        }\n        while(answer.matches(\"\"));\n\n\n        if(answer.matches(\"1100\"))\n        {\n            Intent i = new  Intent(this,Computer_choosing_selection_activity.class);\n            i.putExtra(\"username\",userNameString);\n            startActivity(i);\n            finish();\n        }\n        else if(answer.matches(\"1101\"))\n            {\n            String error = \"The username and password do not match\";\n            errorText.setTextColor(Color.RED);\n            errorText.setText(error);\n        }\n        else\n        {\n            String error = \"Could not connect\";\n            errorText.setTextColor(Color.RED);\n            errorText.setText(error);\n        }\n\n    }\n</code></pre>\n\n<p>The AndroidManifest.XML includes the following lines - </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>The server code: - In python</p>\n\n<pre><code>import socket\nimport sys\n\nHOST = '127.0.0.1'   # Symbolic name, meaning all available interfaces\nPORT = 8886 # Arbitrary non-privileged port\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nprint 'Socket created'\n\n#Bind socket to local host and port\ntry:\n    s.bind((HOST, PORT))\nexcept socket.error as msg:\n    print 'Bind failed. Error Code : ' + str(msg[0]) + ' Message ' + msg[1]\n    sys.exit()\n\nprint 'Socket bind complete'\n\n#Start listening on socket\ns.listen(10)\nprint 'Socket now listening'\n\n#now keep talking with the client\nwhile 1:\n    #wait to accept a connection - blocking call\n    conn, addr = s.accept()\n    print 'Connected with ' + addr[0] + ':' + str(addr[1])\n    data = s.recv(1024)\n    number = data.substr(0,3)\n\n    if(number == \"100\"):\n        data = data[4:]\n        len=data[0:3]\n        data=data[2:]\n        name = data[:int(len)]\n        data = data[int(len):]\n        len=data[0:3]\n        data=data[2:]\n        password = data[:int(len)]\n        if((name == \"Tod\") and (password == \"Aa123456\")):\n            conn.send(\"1100\")\n        else:\n            conn.send(\"1101\")\n\ns.close()\n</code></pre>\n\n<p>EDIT:\nI changed in the server the address to the IPV4 instead of the local 127.0.0.1 and I managed to connect although it gave me the following error before hand</p>\n\n<p>\"Socket.error: [Errno 10057] request to send or receive data was denied because the component is not connected to the socket and provided an address (when sending data socket unit via a call to sendto)\"</p>\n\n<p>after this message I got an output of\"connected\" and the program shut down.</p>\n"}, {"tags": ["python", "python-3.x", "scope"], "comments": [{"owner": {"reputation": 1583, "user_id": 3705492, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042dbbc966f6f20285761d42b09f7298?s=128&d=identicon&r=PG", "display_name": "Jose Ramirez", "link": "https://stackoverflow.com/users/3705492/jose-ramirez"}, "edited": false, "score": 0, "creation_date": 1482957795, "post_id": 41369408, "comment_id": 69940442, "body": "It might be that you need a space after the plus sign. Swift will also give errors if the signs are not separated by a space."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1482958351, "post_id": 41369408, "comment_id": 69940655, "body": "Please add the code from the image as <i>text</i> into the question itself."}, {"owner": {"reputation": 6604, "user_id": 880772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uu3qs.png?s=128&g=1", "display_name": "approxiblue", "link": "https://stackoverflow.com/users/880772/approxiblue"}, "edited": false, "score": 0, "creation_date": 1482971825, "post_id": 41369408, "comment_id": 69945113, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/9264763/unboundlocalerror-in-python\">UnboundLocalError in Python</a>"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 6604, "user_id": 880772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uu3qs.png?s=128&g=1", "display_name": "approxiblue", "link": "https://stackoverflow.com/users/880772/approxiblue"}, "edited": false, "score": 2, "creation_date": 1482979434, "post_id": 41369408, "comment_id": 69946627, "body": "This question includes the desired behaviour, a specific problem or error and, unless we&#39;re <i>really</i> splitting hairs over a single line, the shortest code necessary to reproduce it. It&#39;s undeniably a dupe of the question referenced by @approxiblue, but probably a better one, since that question uses augmented assignment (for which the error message makes no sense at all to a beginner), and the accepted answer irresponsibly advises only the use of <code>global</code> or <code>nonlocal</code> rather than avoidance of globals in the first place."}, {"owner": {"reputation": 6604, "user_id": 880772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uu3qs.png?s=128&g=1", "display_name": "approxiblue", "link": "https://stackoverflow.com/users/880772/approxiblue"}, "reply_to_user": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 0, "creation_date": 1482979615, "post_id": 41369408, "comment_id": 69946681, "body": "@ZeroPiraeus Do you want to reopen then reclose this as a duplicate?"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 1, "creation_date": 1482979917, "post_id": 41369408, "comment_id": 69946763, "body": "I&#39;ve already voted to reopen. While one is certainly a dupe of the other, I&#39;d argue that the referenced question should be marked a dupe of this one, as it&#39;s marginally less clear, the accepted answer is terrible, and the question it&#39;s currently marked as a dupe of is even worse. See <a href=\"http://meta.stackoverflow.com/questions/251938/should-i-flag-a-question-as-duplicate-if-it-has-received-better-answers\" title=\"should i flag a question as duplicate if it has received better answers\">meta.stackoverflow.com/questions/251938/&hellip;</a> for background to this rationale."}, {"owner": {"reputation": 6604, "user_id": 880772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uu3qs.png?s=128&g=1", "display_name": "approxiblue", "link": "https://stackoverflow.com/users/880772/approxiblue"}, "reply_to_user": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 0, "creation_date": 1482993595, "post_id": 41369408, "comment_id": 69950466, "body": "@ZeroPiraeus Open now, work your gold badge magic."}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 6604, "user_id": 880772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uu3qs.png?s=128&g=1", "display_name": "approxiblue", "link": "https://stackoverflow.com/users/880772/approxiblue"}, "edited": false, "score": 0, "creation_date": 1482993892, "post_id": 41369408, "comment_id": 69950597, "body": "@approxiblue left to my own devices, I would probably have let some random passerby decide whether to change the dupe target (wouldn&#39;t want to be thought to be taking advantage), but since you insist ..."}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 2849491, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/948496018502300/picture?type=large", "display_name": "Nudin", "link": "https://stackoverflow.com/users/2849491/nudin"}, "is_accepted": false, "score": -4, "last_activity_date": 1482957989, "creation_date": 1482957989, "answer_id": 41369479, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/41369479#41369479", "title": "How to change a global variable from within a function?", "body": "<p>Your error has nothing to do with is being already defined\u2026\nA variable is only valid inside it's so called scope: If you create a variable in a function it is only defined in this function.</p>\n\n<pre><code>def test():\n   x=17\n   print(x) # returns 17\n\ntest()\nprint(x) # results in an error.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 2, "creation_date": 1482960813, "post_id": 41369517, "comment_id": 69941645, "body": "While using <code>global</code> solves the immediate problem, it&#39;s bad programming practice, and you shouldn&#39;t really be teaching it as a solution to a beginner without also pointing out that it&#39;s both poor practice and easily avoided. <code>global</code> really shouldn&#39;t be used by someone who doesn&#39;t already thoroughly understand why it&#39;s usually the wrong thing to do."}, {"owner": {"reputation": 1214, "user_id": 2540282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE4UP.jpg?s=128&g=1", "display_name": "d4vsanchez", "link": "https://stackoverflow.com/users/2540282/d4vsanchez"}, "reply_to_user": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 0, "creation_date": 1482961556, "post_id": 41369517, "comment_id": 69941956, "body": "You are right and I present my excuses for not expressing the bad choice of using global. I will update my answer in a moment to express that. Thanks so much. @ZeroPiraeus"}], "tags": [], "owner": {"reputation": 1214, "user_id": 2540282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE4UP.jpg?s=128&g=1", "display_name": "d4vsanchez", "link": "https://stackoverflow.com/users/2540282/d4vsanchez"}, "is_accepted": false, "score": 2, "last_activity_date": 1482958161, "creation_date": 1482958161, "answer_id": 41369517, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/41369517#41369517", "title": "How to change a global variable from within a function?", "body": "<p>You're modifying a variable <code>a</code> created in the scope of the function <code>test()</code>. If you want the outter <code>a</code> to be modified you could do:</p>\n\n<pre><code>a = 15\n\ndef test():\n    global a\n    a = a + 1\n    print(a)\n\ntest()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 1, "creation_date": 1482961021, "post_id": 41369646, "comment_id": 69941726, "body": "Before someone points out that <code>x</code> actually got <i>replaced</i> rather than <i>changed</i> \u2026 I know. I already had to cover a fair bit of ground to properly answer the question, though, and decided not to open that particular can of worms."}, {"owner": {"reputation": 99, "user_id": 10181102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d00e99d1c9976a15c081f785a1190d6?s=128&d=identicon&r=PG", "display_name": "user26866", "link": "https://stackoverflow.com/users/10181102/user26866"}, "edited": false, "score": 0, "creation_date": 1608751316, "post_id": 41369646, "comment_id": 115676938, "body": "This was a great answer, thanks.  So, to be sure, there&#39;s really no way to define the test function such that it will actually change &quot;a&quot;? I.e., there&#39;s no way to incorporate the external reassignment step a = test(a) into the function itself through some more complicated code?"}], "tags": [], "owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "is_accepted": false, "score": 35, "last_activity_date": 1482961225, "last_edit_date": 1482961225, "creation_date": 1482958797, "answer_id": 41369646, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/41369646#41369646", "title": "How to change a global variable from within a function?", "body": "<p>The error that you get when you try to run your code is:</p>\n\n<pre><code>UnboundLocalError: local variable 'a' referenced before assignment\n</code></pre>\n\n<p>\u2026 which, on the face of it, seems strange: after all, the <em>first</em> statement in the code above (<code>a = 15</code>) is an assignment. So, what's going on?</p>\n\n<p>Actually, there are two distinct things happening, and neither of them are obvious unless you already know about them.</p>\n\n<p>First of all, you actually have two different variables:</p>\n\n<ul>\n<li><p>The <code>a</code> in your first line is a global variable (so called because it exists in the global scope, outside of any function definitions).</p></li>\n<li><p>The <code>a</code> in the other lines is a local variable, meaning that it only exists inside your <code>test()</code> function.</p></li>\n</ul>\n\n<p>These two variables are completely unrelated to each other, even though they have the same name.</p>\n\n<p>A variable is local to a function if there's a statement assigning to it inside that function - for instance, your <code>a = a +10</code> line.</p>\n\n<p>Even so, the error still looks strange - after all, the very first thing you do inside <code>test()</code> is assign to <code>a</code>, so how can it be referenced beforehand?</p>\n\n<p>The answer is that, in an assignment statement, Python evaluates everything on the right hand side of the <code>=</code> sign before assigning it to the name on the left hand side \u2013 so even though the assignment is <em>written</em> first in your code, <code>a</code> gets <em>referenced</em> first in that right hand side: <code>a +10</code>.</p>\n\n<p>There are two ways you can get around this. The first is to tell Python that you really want the <code>a</code> inside <code>test()</code> to be the same <code>a</code> in the global scope:</p>\n\n<pre><code>def test():\n    global a\n    a = a + 10\n    print(a)\n</code></pre>\n\n<p>This will work, but it's a pretty bad way to write programs. Altering global variables inside functions gets hard to manage really quickly, because you usually have lots of functions, and none of them can ever be sure that another one isn't messing with the global variable in some way they aren't expecting.</p>\n\n<p>A better way is to pass variables as arguments to functions, like this:</p>\n\n<pre><code>a = 15\n\ndef test(x):\n    x = x + 10\n    print(x)\n\ntest(a)\n</code></pre>\n\n<p>Notice that the name doesn't have to be the same - your new definition of <code>test()</code> just says that it accepts a value, and then does something with it. You can pass in anything you like \u2013 it could be <code>a</code>, or the number <code>7</code>, or something else. In fact, your code will always be easier to understand if you try to avoid having variables with the same name in different scopes.</p>\n\n<p>If you play with the code above, you'll notice something interesting:</p>\n\n<pre><code>&gt;&gt;&gt; a = 15\n&gt;&gt;&gt; test(a)\n25\n&gt;&gt;&gt; a\n15\n</code></pre>\n\n<p>\u2026 <code>a</code> didn't change! That's because although you passed it into <code>test()</code> and it got assigned to <code>x</code>, it was then <code>x</code> that got changed, leaving the original <code>a</code> alone.</p>\n\n<p>If you want to actually change <code>a</code>, you need to return your modified <code>x</code> from the function, and then reassign it back to <code>a</code> on the outside:</p>\n\n<pre><code>&gt;&gt;&gt; a = 15\n&gt;&gt;&gt; \n&gt;&gt;&gt; def test(x):\n...     x = x + 10\n...     print(x)\n...     return x\n... \n&gt;&gt;&gt; a = test(a)\n25\n&gt;&gt;&gt; a\n25\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 4, "creation_date": 1483136614, "post_id": 41370612, "comment_id": 70009373, "body": "Why not do simply: <code>def test(a): return a + 10</code>?"}], "tags": [], "owner": {"reputation": 121, "user_id": 7337882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd343e6041f4fd12d47365cf254f4739?s=128&d=identicon&r=PG&f=1", "display_name": "americansanti", "link": "https://stackoverflow.com/users/7337882/americansanti"}, "is_accepted": false, "score": 3, "last_activity_date": 1482964085, "creation_date": 1482964085, "answer_id": 41370612, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/41370612#41370612", "title": "How to change a global variable from within a function?", "body": "<p>I would do it this way:</p>\n\n<pre><code>def test(a):\n    a = a +10\n    return a\n\nprint(test(15))\n</code></pre>\n\n<p>Note that in the version hereby proposed there are some things differing from yours.</p>\n\n<p>First, what I wrote down would create a function that has, as an input, the value <strong>a</strong> (in this case set to 15 when we call the function -already defined in the last line-), then assigns to the object <strong>a</strong> the value <strong>a</strong>  (which was 15) plus 10, then returns <strong>a</strong> (which has been modified and now is 25) and, finally, prints <strong>a</strong> out thanks to the last line of code:</p>\n\n<pre><code>print(test(15))\n</code></pre>\n\n<p>Note that what you did wasn't actually a pure function, so to speak. Usually we want functions to get an input value (or several) and return an input value (or several). In your case you had an input value that was actually empty and no output value (as you didn't use <strong>return</strong>). Besides, you tried to write this input <strong>a</strong> outside the function (which, when you called it by saying <code>test(a)</code> the value <strong>a</strong> was not loaded an gave you the error -i.e. in the eyes of the computer it was \"empty\").</p>\n\n<p>Furthermore, I would encourage you to get used to writing <strong>return</strong> within the function and then using a print when you call it (just like I wrote in the last coding line: <code>print(test(15))</code>) instead of using it inside the function. It is better to use print only when you call the function and want to see what the function is actually doing. </p>\n\n<p>At least, this is the way they showed me in basic programming lessons. This can be justified as follows: if you are using the return within the function, the function will give you a value that can be later used in other functions (i.e. the function <strong>return</strong>s something you can work with). Otherwise, you would only get a number displayed on screen with a <strong>print</strong>, but the computer could not further work with it.</p>\n\n<p>P.S. You could do the same doing this:</p>\n\n<pre><code>def test(a):\n    a +=10      \n    return a\n\nprint(test(15))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 1243786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMRFH.jpg?s=128&g=1", "display_name": "Down the Stream", "link": "https://stackoverflow.com/users/1243786/down-the-stream"}, "is_accepted": false, "score": -2, "last_activity_date": 1491922659, "creation_date": 1491922659, "answer_id": 43349522, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/43349522#43349522", "title": "How to change a global variable from within a function?", "body": "<pre><code># All the mumbo jumbo aside, here is an experiment \n# to illustrate why this is something useful \n# in the language of Python:\na = 15    # This could be read-only, should check docs\n\ndef test_1():\n    b = a + 10    # It is perfectly ok to use 'a'\n    print(b)\n\ndef test_2():\n    a = a + 10    # Refrain from attempting to change 'a'\n    print(a)\n\ntest_1()    # No error\ntest_2()    # UnboundLocalError: ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2092, "user_id": 1704235, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/673f1d81e228a0e81f916f8c5ed8d501?s=128&d=identicon&r=PG&f=1", "display_name": "MaNKuR", "link": "https://stackoverflow.com/users/1704235/mankur"}, "is_accepted": false, "score": 0, "last_activity_date": 1528122817, "creation_date": 1528122817, "answer_id": 50682986, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/50682986#50682986", "title": "How to change a global variable from within a function?", "body": "<p>Scope of the variable is local to the block unless defined explicitly using keyword <code>global</code>. There is other way to access the global variable local to a function using <code>globals</code> function</p>\n\n<pre><code>a = 15\n\ndef test():\n    a = globals()['a']\n    a += 10\n    print ( a )\n\ntest()\n</code></pre>\n\n<p>Above example will print <code>25</code> while keeping the global value intact i.e <code>15</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 12034620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991313d0662fd21faacd8c0d6ba67cf8?s=128&d=identicon&r=PG&f=1", "display_name": "NAIDU", "link": "https://stackoverflow.com/users/12034620/naidu"}, "is_accepted": false, "score": 1, "last_activity_date": 1611372260, "creation_date": 1611372260, "answer_id": 65855416, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function/65855416#65855416", "title": "How to change a global variable from within a function?", "body": "<pre><code>a = 15\n\ndef test():\n    global a\n    a = a +10\n    print ( a )\n    \ntest()\n</code></pre>\n<p>if you want to change values of local variables inside a function you need to use global keyword.</p>\n"}], "owner": {"reputation": 279, "user_id": 7351337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43ee1766faae14350fdaed88db9dcab?s=128&d=identicon&r=PG&f=1", "display_name": "user7351337", "link": "https://stackoverflow.com/users/7351337/user7351337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18906, "favorite_count": 10, "answer_count": 7, "score": 27, "last_activity_date": 1611372260, "creation_date": 1482957604, "last_edit_date": 1607572356, "question_id": 41369408, "link": "https://stackoverflow.com/questions/41369408/how-to-change-a-global-variable-from-within-a-function", "title": "How to change a global variable from within a function?", "body": "<p>I'm trying to add or subtract from a defined variable, but I can't figure out how to overwrite the old value with the new one.</p>\n\n<pre><code>a = 15\n\ndef test():\n    a = a +10\n    print ( a )\n\ntest()\n</code></pre>\n\n<p>Error message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File \"test.py\", line 7, in &lt;module&gt;\n    test()\n  File \"test.py\", line 4, in test\n    a = a +10\nUnboundLocalError: local variable 'a' referenced before assignment\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "selenium", "cron"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958156, "post_id": 41369383, "comment_id": 69940575, "body": "What is the exact command that works successfully from the terminal?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958225, "post_id": 41369383, "comment_id": 69940611, "body": "Have you tried running <code>gnome-terminal -e &#39;sudo python3 &#47;path&#47;to&#47;script&#47;script.py&#39;</code> from a terminal?"}, {"owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958361, "post_id": 41369383, "comment_id": 69940662, "body": "I have, it opens a new instance of <code>gnome-terminal</code> and executes the <code>python</code> script."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958530, "post_id": 41369383, "comment_id": 69940722, "body": "Is a 60 second sleep after bootup long enough?  Maybe there&#39;s some service the python script needs that hasn&#39;t started up yet?"}, {"owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958580, "post_id": 41369383, "comment_id": 69940746, "body": "Worth a shot - I&#39;m going to try a longer sleep and report back."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482958608, "post_id": 41369383, "comment_id": 69940760, "body": "Does the python script say which connection was refused?"}, {"owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1482959113, "post_id": 41369383, "comment_id": 69940982, "body": "Error is too long to post as a comment, here is a <code>gist.github.com</code>   <a href=\"https://gist.github.com/dcstrassburger/6fdd94f7ac50fade56d35df38e12dcea\" rel=\"nofollow noreferrer\">gist.github.com/dcstrassburger/6fdd94f7ac50fade56d35df38e12d&zwnj;&#8203;cea</a>"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1482962590, "post_id": 41369383, "comment_id": 69942359, "body": "@Daniel You should edit it into the question."}], "owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527770683, "creation_date": 1482957496, "last_edit_date": 1527770683, "question_id": 41369383, "link": "https://stackoverflow.com/questions/41369383/crontab-job-wont-run-python-script-at-reboot", "title": "Crontab Job Won&#39;t Run Python Script at Reboot", "body": "<p>When running a <code>python</code> script manually from terminal, the script runs successfully.</p>\n\n<p>When scheduled with <code>crontab -e</code> with the following entry:</p>\n\n<p><code>@reboot export DISPLAY=:0 sudo /bin/sleep 60 &amp;&amp; gnome-terminal -e 'sudo python3 /path/to/script/script.py'</code></p>\n\n<p>The script fails.  Reports a <code>connection refused</code> message.</p>\n\n<p>The script imports <code>selenium</code> and relies on the <code>Firefox</code> webdriver to navigate through websites in a kiosk-like display.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p><strong>EDIT:</strong> When I schedule the script with <code>crontab</code>, the following error is printed in the terminal:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/home/pi/Desktop/photo_frames/becky/get_urls.py\", line 19, in &lt;module&gt;    \ndriver = webdriver.Firefox()\nFile \"/usr/local/lib/python3.4/dist- \npackages/selenium/webdriver/firefox/webdriver.py\", line 150, in __init__keep_alive=True)\n\nFile \"/usr/local/lib/python3.4/dist- \npackages/selenium/webdriver/remote/webdriver.py\", line 92, in __init__\nself.start_session(desired_capabilities, browser_profile)\n\nFile \"/usr/local/lib/python3.4/dist- \npackages/selenium/webdriver/remote/webdriver.py\", line 179, in start_session\nresponse = self.execute(Command.NEW_SESSION, capabilities)\n\nFile \"/usr/local/lib/python3.4/dist- \npackages/selenium/webdriver/remote/webdriver.py\", line 236, in execute\nself.error_handler.check_response(response)\n\nFile \"/usr/local/lib/python3.4/dist- \npackages/selenium/webdriver/remote/errorhandler.py\", line 192, in \ncheck_response raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: connection refused\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1482957550, "post_id": 41369344, "comment_id": 69940347, "body": "I tried more than 20 combination using var.find(&#39;td&#39;) and var.(&quot;tr&quot;, {&quot;class&quot;[]) var.(&#39;td.class&#39;) etc."}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1483012526, "post_id": 41369344, "comment_id": 69960087, "body": "@depperm I guess you downvoted me. Thanks to elrull I found the .join(s[&#39;class&#39;]) I was looking for. I&#39;d be interested to know where I could have find it in the bf4 documentation: <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc</a>"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1483012984, "post_id": 41369459, "comment_id": 69960360, "body": "python35 syntax: for s in dayPrecipit.find_all(&#39;td&#39;):  print(&#39;&#39;.join(s[&#39;class&#39;]).strip(), s.text)"}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1483013466, "post_id": 41369459, "comment_id": 69960647, "body": "the <code>&#39;&#39;.join(listToConvert)</code> convert the list to string <a href=\"http://stackoverflow.com/questions/5618878/how-to-convert-list-to-string\" title=\"how to convert list to string\">stackoverflow.com/questions/5618878/&hellip;</a>"}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1483013684, "post_id": 41369459, "comment_id": 69960787, "body": "the <code>variable[&#39;class&#39;]</code> send the class name"}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1483303436, "post_id": 41369459, "comment_id": 70042879, "body": "for those looking for the docs: <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#attributes\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc/#attributes</a>"}], "tags": [], "owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "is_accepted": true, "score": 1, "last_activity_date": 1482957872, "creation_date": 1482957872, "answer_id": 41369459, "question_id": 41369344, "link": "https://stackoverflow.com/questions/41369344/beautifulsoup4-how-to-retrieve-a-list-of-the-class-name-of-specific-tag/41369459#41369459", "title": "beautifulsoup4: how to retrieve a list of the class name of specific tag", "body": "<pre><code>for s in soup.find_all('td'):\n    print ''.join(s['class']).strip(), s.text\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "accepted_answer_id": 41369459, "answer_count": 1, "score": -1, "last_activity_date": 1482957872, "creation_date": 1482957270, "question_id": 41369344, "link": "https://stackoverflow.com/questions/41369344/beautifulsoup4-how-to-retrieve-a-list-of-the-class-name-of-specific-tag", "title": "beautifulsoup4: how to retrieve a list of the class name of specific tag", "body": "<p>I get that from beautifulsoup4:</p>\n\n<pre><code>&lt;tr class=\"Details\"&gt; &lt;td class=\" s-12-to-15 \"&gt;ABC&lt;/td&gt; &lt;td class=\"s-15-to-18 \"&gt;DEF&lt;/td&gt; &lt;td class=\" s-18-to-21 \"&gt;GHI&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>how can I get:</p>\n\n<pre><code>s-12-to-15 ABC\ns-15-to-18 DEF\ns-18-to-21 GHI\n</code></pre>\n\n<p>I looked into bf4 documentation and several stack questions about retrieving class name but without success. I can't the way to retrieve these class. (I know I could parse the string to get the result but I'm interested to learn about bf4).</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 1, "creation_date": 1482957658, "post_id": 41369326, "comment_id": 69940386, "body": "After you have written to the file, the file object <code>target</code> is &quot;at the end of the file&quot;. You have to go back a bit before you can read anything. You can use the <code>.tell</code> and <code>.seek</code> methods to see and change the position within the file. See the docs for more information: <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a>"}, {"owner": {"reputation": 3, "user_id": 5229713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/onWhb.png?s=128&g=1", "display_name": "rg666", "link": "https://stackoverflow.com/users/5229713/rg666"}, "reply_to_user": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1482957879, "post_id": 41369326, "comment_id": 69940470, "body": "Thanks. Got it. @jmd_dk"}], "answers": [{"tags": [], "owner": {"reputation": 1136, "user_id": 1868358, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6cb3289da78e443dc0323802c5dc7a66?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/1868358/ivan"}, "is_accepted": true, "score": 3, "last_activity_date": 1482957732, "creation_date": 1482957732, "answer_id": 41369430, "question_id": 41369326, "link": "https://stackoverflow.com/questions/41369326/unable-to-read-file-in-python-in-w-mode/41369430#41369430", "title": "Unable to read file in python in w+ mode", "body": "<p>When you write to the file, the line you begin reading from only occurs after the line you wrote to. For this to work, you need to reset the \"head\" back to the beginning of the file.</p>\n\n<pre><code>target.write(\"blah\")\n\n# This is new\ntarget.seek(0)\n\nprint target.read() \ntarget.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13823191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XKql7.jpg?s=128&g=1", "display_name": "M Siraj Abbasi", "link": "https://stackoverflow.com/users/13823191/m-siraj-abbasi"}, "is_accepted": false, "score": 3, "last_activity_date": 1597863357, "creation_date": 1597863357, "answer_id": 63493313, "question_id": 41369326, "link": "https://stackoverflow.com/questions/41369326/unable-to-read-file-in-python-in-w-mode/63493313#63493313", "title": "Unable to read file in python in w+ mode", "body": "<pre><code>with open(file_name,&quot;w+&quot;) as f:\n    f.write(&quot;I love programming and i love python &quot;)\n    f.seek(0) #move cursor to the start of the file\n    data=f.read()\n    print(data)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5229713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/onWhb.png?s=128&g=1", "display_name": "rg666", "link": "https://stackoverflow.com/users/5229713/rg666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "accepted_answer_id": 41369430, "answer_count": 2, "score": 0, "last_activity_date": 1597863357, "creation_date": 1482957202, "question_id": 41369326, "link": "https://stackoverflow.com/questions/41369326/unable-to-read-file-in-python-in-w-mode", "title": "Unable to read file in python in w+ mode", "body": "<p>I'm new to Python, and I am currently learning file operations. I am unable to read from a file, that I just wrote into. I'm using w+ mode. </p>\n\n<p>Also please tell me, what I'm doing wrong in the</p>\n\n<p>textbuffer = str(\"%r\\n %r\\n %r\\n\" % input(), input(), input())\nwhich is commented.</p>\n\n<p>Below is the code snippet: </p>\n\n<pre><code>filename = '/home/ranadeep/PycharmProjects/HelloWorld/ex15_sample.txt'\ntarget = open(filename,'w+')\ntarget.truncate()\n\nprint(\"Input the 3 lines: \")\ntextbuffer = \"Just a demo text input\"\n#textbuffer = str(\"%r\\n %r\\n %r\\n\" % input(), input(), input())\ntarget.write(textbuffer)\n# read not working in w+ mode\nprint(target.read())\ntarget.close()\n\n# read only mode\nupdated_target = open(filename,'r')\nprint(updated_target.read())\n</code></pre>\n"}, {"tags": ["python", "regex", "python-2.7"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1482957270, "post_id": 41369310, "comment_id": 69940219, "body": "can you show us the code you&#39;re using"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1482957384, "post_id": 41369310, "comment_id": 69940272, "body": "Define your input string and regex pattern with an <code>r</code> prefix (you seem to have lost literal backslashes in the output)."}, {"owner": {"reputation": 57, "user_id": 1453459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c980e95388fefa946d4c63b5b2a761bb?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/1453459/chloe"}, "edited": false, "score": 0, "creation_date": 1482957979, "post_id": 41369310, "comment_id": 69940504, "body": "I&#39;ve added in the r prefix, but that doesn&#39;t seem to have changed anything.. re.findall(r&quot;((?:[^,\\&quot;&#39;]|\\&quot;(?:\\\\.|[^\\&quot;])*\\&quot;|&#39;(?:\\\\.|[^&#39;])*&#39;)&zwnj;&#8203;+)&quot;,input_string, re.IGNORECASE) Result: [&#39;1266&#39;, &#39;206&#39;, &quot;&#39;_xyz_xy&#39;&quot;, &quot;&#39;Abcde don&#39;t etc abc sdfkjhlsd&quot;, &#39; sdfkjhkehwc&#39;, &#39; sdfkjhwei kjhiensnfb.&#39;]"}], "owner": {"reputation": 57, "user_id": 1453459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c980e95388fefa946d4c63b5b2a761bb?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/1453459/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1482957652, "answer_count": 0, "score": 0, "last_activity_date": 1482958135, "creation_date": 1482957135, "last_edit_date": 1482958135, "question_id": 41369310, "link": "https://stackoverflow.com/questions/41369310/python-regex-different-in-regex-testers", "closed_reason": "Duplicate", "title": "Python regex different in regex testers", "body": "<p>I have the following regex:</p>\n\n<pre><code>((?:[^,\\\"']|\\\"(?:\\\\.|[^\\\"])*\\\"|'(?:\\\\.|[^'])*')+)\n</code></pre>\n\n<p>which when run against...</p>\n\n<pre><code>1266,206,'_xyz_xy','Abcde don\\'t etc abc sdfkjhlsd, sdfkjhkehwc, sdfkjhwei kjhiensnfb.'\n</code></pre>\n\n<p>in an online tester gives me...</p>\n\n<pre><code>[1266,206,'_xyz_xy','Abcde don\\'t etc abc sdfkjhlsd, sdfkjhkehwc, sdfkjhwei kjhiensnfb.']\n</code></pre>\n\n<p>but when I run it in my python script gives me...</p>\n\n<pre><code>['1266', '206', \"'_xyz_xy'\", \"'Abcde don't etc abc sdfkjhlsd\", ' sdfkjhkehwc', ' sdfkjhwei kjhiensnfb.']\n</code></pre>\n\n<p>I'm trying to split the string based on commas, but ignore commas that are within quotation marks (as per the tester string).</p>\n\n<p>The regex tester and python seem to be treating the strings differently despite the face that the same regex is used (and I've switched to regex mode on the tester)</p>\n\n<p>Can someone tell me why this is and how I can fix it?</p>\n\n<p><strong>Edit:</strong>\nThe code I'm using is:</p>\n\n<pre><code>result_items = re.findall(\"((?:[^,\\\"']|\\\"(?:\\\\.|[^\\\"])*\\\"|'(?:\\\\.|[^'])*')+)\",input_string, re.IGNORECASE)\n</code></pre>\n\n<p>Adding an r prefix also provides the same result</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1482958662, "post_id": 41369300, "comment_id": 69940797, "body": "What is the need of <code>i</code> in the <code>for i in range(len(self.theempty)):</code> ?"}, {"owner": {"reputation": 1, "user_id": 7201920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8213d5abe145357a7f49752a5ccaa1?s=128&d=identicon&r=PG&f=1", "display_name": "mryus", "link": "https://stackoverflow.com/users/7201920/mryus"}, "reply_to_user": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1482959375, "post_id": 41369300, "comment_id": 69941088, "body": "I realized that the for loop is unnecessary. I thought I was able to get the minimum value of list with a for loop. By the way, I am beginner in programming. :)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7201920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8213d5abe145357a7f49752a5ccaa1?s=128&d=identicon&r=PG&f=1", "display_name": "mryus", "link": "https://stackoverflow.com/users/7201920/mryus"}, "edited": false, "score": 0, "creation_date": 1482959561, "post_id": 41369355, "comment_id": 69941162, "body": "I should write the sort and add function without using Python&#39;s built-in method."}], "tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 1, "last_activity_date": 1482957343, "creation_date": 1482957343, "answer_id": 41369355, "question_id": 41369300, "link": "https://stackoverflow.com/questions/41369300/adding-value-and-sorting-them-in-python-class/41369355#41369355", "title": "Adding value and sorting them in python class", "body": "<p><code>theempty</code> only ever has the last value passed to <code>sorttheList</code>, so that is always appended to the end of <code>theList</code>.</p>\n\n<p>You might be better off using Python's built-in sorting methods.</p>\n"}], "owner": {"reputation": 1, "user_id": 7201920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8213d5abe145357a7f49752a5ccaa1?s=128&d=identicon&r=PG&f=1", "display_name": "mryus", "link": "https://stackoverflow.com/users/7201920/mryus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1482958043, "creation_date": 1482957093, "question_id": 41369300, "link": "https://stackoverflow.com/questions/41369300/adding-value-and-sorting-them-in-python-class", "title": "Adding value and sorting them in python class", "body": "<p>I would like to form a list by adding numbers one by one. When numbers is added, the list will be sorted by ascending. For this reason, I wrote codes as below but when I execute these codes, the order of numbers in the list become as I added. What is wrong with these codes?</p>\n\n<pre><code>class SortList:\n    theList = []\n    theempty = []\n\n    def sorttheList(self,number):\n        self.theempty.append(number)\n        for i in range(len(self.theempty)):\n            mini = min(self.theempty)\n            self.theList.append(mini)\n            self.theempty.remove(mini)\n    return self.theList\n\n    def printList(self):\n        return print(self.theList)\n\nlst = SortList()\nlst.sorttheList(2)\nlst.sorttheList(4)\nlst.sorttheList(9)\nlst.sorttheList(15)\nlst.sorttheList(0)\n\nlst.printList()\n</code></pre>\n"}, {"tags": ["python", "bash", "python-2.7", "unit-testing"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 9, "creation_date": 1482957127, "post_id": 41369283, "comment_id": 69940167, "body": "This doesn&#39;t look like Python code to me. Python doesn&#39;t use curly brackets to surround a function body. The first line says <code>#!&#47;bin&#47;bash</code>. Are you sure this isn&#39;t a bash script?"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 3, "creation_date": 1482957318, "post_id": 41369283, "comment_id": 69940243, "body": "Here&#39;s what I suspect: OP is getting a Python error because he&#39;s trying to run this file using the Python interpreter. When he says &quot;I&#39;m sure this worked last time I tested it on my local machine&quot;, it&#39;s because the last time he tested it, he ran it in bash."}, {"owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 1, "creation_date": 1482957384, "post_id": 41369283, "comment_id": 69940271, "body": "Ahh yes: it so happens that all the statements before it are also correct Python! Funny."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1482960460, "post_id": 41369283, "comment_id": 69941497, "body": "Expected better from Yoda, I did."}, {"owner": {"reputation": 5092, "user_id": 5481471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6efc50461d3521db348bf483652040?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sliepen", "link": "https://stackoverflow.com/users/5481471/g-sliepen"}, "edited": false, "score": 0, "creation_date": 1482960863, "post_id": 41369283, "comment_id": 69941660, "body": "GNU coreutils provides the command <code>realpath</code>, so you don&#39;t need to start Python just for that."}, {"owner": {"reputation": 24080, "user_id": 15770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XEC8x.jpg?s=128&g=1", "display_name": "akaihola", "link": "https://stackoverflow.com/users/15770/akaihola"}, "edited": false, "score": 0, "creation_date": 1482963325, "post_id": 41369283, "comment_id": 69942602, "body": "As others pointed out, the answer to &quot;Why doesn&#39;t Python run my bash code?&quot; is that Python cannot run Bash code. Python can only run proper Python code. The script presented in the question should be run with Bash instead."}, {"owner": {"reputation": 1054, "user_id": 1430973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ad148fc363edef037e406aa61c0410?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1430973/yoda"}, "edited": false, "score": 0, "creation_date": 1483438578, "post_id": 41369283, "comment_id": 70088268, "body": "So as it turns out, I&#39;m an idiot who was too tired and stressed to notice I was trying to run a shell script in Python. Thanks for the assist! ;)"}], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 1430973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ad148fc363edef037e406aa61c0410?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1430973/yoda"}, "edited": false, "score": 1, "creation_date": 1483438561, "post_id": 41370080, "comment_id": 70088252, "body": "So as it turns out, I&#39;m an idiot who was too tired and stressed to notice I was trying to run a shell script in Python. Thanks for the assist! ;)"}], "tags": [], "owner": {"reputation": 4811, "user_id": 2874789, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/VKbXD.jpg?s=128&g=1", "display_name": "Christopher Shroba", "link": "https://stackoverflow.com/users/2874789/christopher-shroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1482961075, "creation_date": 1482961075, "answer_id": 41370080, "question_id": 41369283, "link": "https://stackoverflow.com/questions/41369283/why-doesnt-python-run-my-bash-code/41370080#41370080", "title": "Why doesn&#39;t Python run my bash code?", "body": "<p>This is a bash script, not a Python script.  Run it using <code>./script_name.sh</code> or <code>bash script_name.sh</code> instead of <code>python script_name.sh</code>.</p>\n"}], "owner": {"reputation": 1054, "user_id": 1430973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31ad148fc363edef037e406aa61c0410?s=128&d=identicon&r=PG", "display_name": "Yoda", "link": "https://stackoverflow.com/users/1430973/yoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 41370080, "answer_count": 1, "score": -6, "last_activity_date": 1482961075, "creation_date": 1482957029, "last_edit_date": 1482960530, "question_id": 41369283, "link": "https://stackoverflow.com/questions/41369283/why-doesnt-python-run-my-bash-code", "title": "Why doesn&#39;t Python run my bash code?", "body": "<p>I'm trying to debug some unit tests that have been provided for testing an integration.</p>\n\n<p>I'm sure this worked last time I tested it on my local machine, but that seems to have changed - the file hasn't been altered, so I don't know what's changed since then.</p>\n\n<p>I have stripped out the identifying comments and changed some names from the original unit tests because it's proprietary software.</p>\n\n<p>The syntax error is: </p>\n\n<pre><code>  File \"unitTests.sh\", line 39\n    gLastFullPath=`python -c \"import os; print os.path.realpath('${1}')\"`\n                 ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>The full script is here:</p>\n\n<pre><code>#!/bin/bash\n\n# If non-zero, then run in debug mode, outputting debug information\ndebug=0\n\n# Set the following to 1 to force an error for testing purposes\nforceError=0\n\nseparator=\"====================================================================================================\"\n\n#-------------------------------------------------------------------------------\n# Convert the specified path to a full path and return it in the gLastFullPath\n# global variable.\n#\n# Input params:\n#   $1  - Path to convert to full\n#\n# Output params:\n#   $gLastFullPath  -   Set to the converted full path\ngLastFullPath=\"\"\ngetFullPath()\n{\n    # Use Python (because it's easier than Bash) to convert the passed path to\n    # a full path.\n    gLastFullPath=`python -c \"import os; print os.path.realpath('${1}')\"`\n}\n\n#-------------------------------------------------------------------------------\nfatalError()\n{\n    echo \"${separator}\"\n    echo \"Fatal Error: $1\"\n    echo \"${separator}\"\n    exit 1\n}\n\n#-------------------------------------------------------------------------------\n# If a file or folder exists at the specified path, then delete it. If it's a\n# directory, then its entire contents is deleted.\n#-------------------------------------------------------------------------------\ndeleteIfExists()\n{\n    if [[ 0 -ne $debug ]]; then\n        echo \"deleteIfExists called...\"\n    fi\n\n    if [[ -e \"$1\" ]]; then\n        # If it's a directory, then make sure it contains no locked files\n        if [[ -d \"$1\" ]]; then\n            chflags -R nouchg \"$1\"\n        fi\n\n        if [[ 0 -ne $debug ]]; then\n            echo \"  Deleting the existing file or directory:\"\n            echo \"    $1\"\n        fi\n\n        # Do the remove and check for an error.\n        /bin/rm -rf \"$1\"\n        if [[ $? -ne 0 ]]; then\n            fatalError \"Unable to delete $1.\"\n        fi\n    fi\n\n    if [[ 0 -ne $debug ]]; then\n        echo\n    fi\n}\n\n\n#-------------------------------------------------------------------------------\n# Script starts here\n#-------------------------------------------------------------------------------\n\n# Get the full path to this script\nscriptPath=`which \"$0\"`\ngetFullPath \"${scriptPath}\"\nscriptFullPath=\"${gLastFullPath}\"\nscriptDir=`dirname \"${scriptFullPath}\"`\nscriptName=`basename \"${scriptFullPath}\"`\n\nif [[ 0 -ne $debug ]]; then\n    echo \"$scriptName: Debug tracing is on.\"\n    echo\nfi\n\n# Get the SDK project root path\ngetFullPath \"${scriptDir}/..\"\nprojRoot=\"${gLastFullPath}\"\n\n# Get the top of the server tree\ngetFullPath \"${projRoot}/SUBSYS_TOP\"\nsubsysTop=\"${gLastFullPath}\"\n\nlibPythonBase=\"${projRoot}/src/lib/py/devilsoftPy\"\ndevilsoftPython=\"${libPythonBase}/devilsoftpy\"\n\nif [[ 0 -ne $debug ]]; then\n    echo \"$scriptName: Project root dir:     \\\"${projRoot}\\\"\"\n    echo \"$scriptName: SUBSYS_TOP:           \\\"${subsysTop}\\\"\"\n    echo \"$scriptName: Lib python base:      \\\"${libPythonBase}\\\"\"\n    echo \"$scriptName: devilsoft python:    \\\"${devilsoftPython}\\\"\"\n    echo\nfi\n\n# First we have to launch the test python server. This is used by some of the other client tests to \n# run against.\ntestServer=\"${devilsoftPython}/test/TestServer.py\"\nif [[ ! -f \"${testServer}\" ]]; then\n    fatalError \"Could not find the expected test server: \\\"${testServer}\\\"\"\nfi\n\n# Carve out a place for our test server log file\ntempFolder=\"/tmp/devilsoft\"\nmkdir -p \"${tempFolder}\"\ntestServerLogFile=\"${tempFolder}/TestServer.log\"\n\necho \"Starting the test server: \\\"${testServer}\\\"\"\necho \"  Logging to this file:   \\\"${testServerLogFile}\\\"\"\nexport PYTHONPATH=\"${libPythonBase}:${PYTHONPATH}\"; \"${testServer}\" &gt; \"${testServerLogFile}\" 2&gt;&amp;1 &amp;\ntestServerPid=$!\necho \"  Server started with pid ${testServerPid}...\"\necho\n\necho \"  Taking a little snooze to let the test server initialize...\"\nsleep 2\n\n# If we're forcing errors for testing, then kill the test server. This will cause downstream scripts\n# to fail because there will be no server to talk to.\nif [[ $forceError -ne 0 ]]; then\n    echo \"Forcing downstream errors by killing the test server...\"\n    kill ${testServerPid}\n    wait ${testServerPid}\n    testServerPid=0\n    echo\nfi\n\ntestResultsLogFile=\"${tempFolder}/TestResults.log\"\necho \"Testing each python script in the library...\"\necho \"  Test results will be written to this log file: \\\"${testResultsLogFile}\\\"\"\necho\ndeleteIfExists \"${testResultsLogFile}\"\n\n# Save and set the field separator so that we can handle spaces in paths\nSAVEIFS=$IFS\nIFS=$'\\n'\n\nfailedScripts=()\nlastError=0\npythonSources=($(find \"${devilsoftPython}\" -name '*.py'  ! -name '*.svn*' ! -name '__init__.py' ! -name 'TestServer.py' ! -name 'ServerClient.py'))\nfor pythonSourceFile in ${pythonSources[*]}; do\n    echo \"  Testing python source \\\"${pythonSourceFile}\\\"\"\n    export PYTHONPATH=\"${libPythonBase}:${PYTHONPATH}\"; \"${pythonSourceFile}\" &gt;&gt; \"${testResultsLogFile}\" 2&gt;&amp;1\n    result=$?\n    if [[ $result -ne 0 ]]; then\n        pythonSourceName=`basename \"${pythonSourceFile}\"`\n        echo \"    Error ${result} returned from the above script ${pythonSourceName}!\"\n        lastError=${result}\n        failedScripts+=(\"${pythonSourceFile}\")\n    fi\ndone\necho\n\n# Restore the original field separator\nIFS=$SAVEIFS\n\nif [[ ${testServerPid} -ne 0 ]]; then\n    echo \"Telling the test server to quit...\"\n    kill ${testServerPid}\n    wait ${testServerPid}\n    echo\nfi\n\n# If we got an error, tell the user\nif [[ $lastError -ne 0 ]]; then\n    echo \"IMPORTANT! The following scripts failed with errors:\"\n    for failedScript in \"${failedScripts[@]}\"; do\n       echo \"  \\\"${failedScript}\\\"\"\n    done\n    echo\n\n    fatalError \"Review the log files to figure out why the above scripts failed.\"\nfi\n\necho \"${separator}\"\necho \" Hurray! All tests passed!\"\necho \"${separator}\"\necho\n\nexit 0\n</code></pre>\n\n<p>This is all being run in Python 2.7</p>\n"}, {"tags": ["python", "pandas", "datetime", "format", "date-formatting"], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 26, "last_activity_date": 1482957328, "last_edit_date": 1482957328, "creation_date": 1482956930, "answer_id": 41369260, "question_id": 41369227, "link": "https://stackoverflow.com/questions/41369227/formatting-quarter-time-in-pandas-columns/41369260#41369260", "title": "Formatting Quarter time in pandas columns", "body": "<p>You can use <code>to_period(\"Q\")</code>:</p>\n\n<pre><code>df.index = df.index.to_period(\"Q\")\n</code></pre>\n\n<hr>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({\"y\": [1,2,3]}, \n                  index=pd.to_datetime([\"2000-03-31 00:00:00\", \"2000-05-31 00:00:00\", \"2000-08-31 00:00:00\"]))\n\ndf.index = df.index.to_period(\"Q\")\ndf\n#       y\n#2000Q1 1\n#2000Q2 2\n#2000Q3 3\n</code></pre>\n\n<hr>\n\n<p>To convert a normal column <code>col</code>, use <code>dt</code> to access the <code>Datetime</code> objects in the series:</p>\n\n<pre><code>df = pd.DataFrame({\"y\": [1,2,3], 'col': pd.to_datetime([\"2000-03-31 00:00:00\", \"2000-05-31 00:00:00\", \"2000-08-31 00:00:00\"])})\n\n\ndf['col'] = df['col'].dt.to_period(\"Q\")\n\ndf\n#      col  y\n#0  2000Q1  1\n#1  2000Q2  2\n#2  2000Q3  3\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18513, "favorite_count": 3, "accepted_answer_id": 41369260, "answer_count": 1, "score": 15, "last_activity_date": 1507897331, "creation_date": 1482956803, "last_edit_date": 1507897331, "question_id": 41369227, "link": "https://stackoverflow.com/questions/41369227/formatting-quarter-time-in-pandas-columns", "title": "Formatting Quarter time in pandas columns", "body": "<p>I have a <code>DataFrame</code> with columns in <code>DateTime</code> index, representing quarters such as:</p>\n\n<pre><code>2000-03-31 00:00:00\n</code></pre>\n\n<p>How can I do to transform this into '2000q1'?</p>\n\n<p>I have looked around the docs, but they only say DateTimeIndex.quarter\nHere: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DatetimeIndex.quarter.html\" rel=\"noreferrer\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DatetimeIndex.quarter.html</a></p>\n\n<p><code>format='%Y%q'</code> does not work. Neither does the option <code>on='%Y%q</code></p>\n"}, {"tags": ["python", "user-interface", "tkinter", "togglebutton"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482957959, "post_id": 41369178, "comment_id": 69940500, "body": "use list to keep all created buttons and then you can use buttons from list to hide them. Or create <code>Frame</code> with buttons and you will have to only show/hide one frame."}], "answers": [{"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482960151, "post_id": 41369759, "comment_id": 69941383, "body": "I added example with <code>Frame</code>"}, {"owner": {"reputation": 57, "user_id": 5734826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f065e2fe109d01c5f4106137cef80b8?s=128&d=identicon&r=PG&f=1", "display_name": "Astrodude11", "link": "https://stackoverflow.com/users/5734826/astrodude11"}, "edited": false, "score": 0, "creation_date": 1482960294, "post_id": 41369759, "comment_id": 69941426, "body": "Thanks, @furas! Storing the button objects in a list then calling <code>grid_forget()</code> on each item in the else condition did the trick."}, {"owner": {"reputation": 57, "user_id": 5734826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f065e2fe109d01c5f4106137cef80b8?s=128&d=identicon&r=PG&f=1", "display_name": "Astrodude11", "link": "https://stackoverflow.com/users/5734826/astrodude11"}, "edited": false, "score": 0, "creation_date": 1482960491, "post_id": 41369759, "comment_id": 69941511, "body": "The text of the buttons will change so using a list or making a new frame are the best solutions to my case."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1482960576, "post_id": 41369759, "comment_id": 69941552, "body": "<code>grid_forget</code> doesn&#39;t destroy widgets, it only hides them. If you aren&#39;t going to reuse them, you need to destroy them. In the first example you have a memory leak because you keep creating more and more widgets and never destroy the old hidden widgets."}, {"owner": {"reputation": 57, "user_id": 5734826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f065e2fe109d01c5f4106137cef80b8?s=128&d=identicon&r=PG&f=1", "display_name": "Astrodude11", "link": "https://stackoverflow.com/users/5734826/astrodude11"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1482960828, "post_id": 41369759, "comment_id": 69941650, "body": "@BryanOakley I should have specified that in my use case I plan to reuse the buttons."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482961670, "post_id": 41369759, "comment_id": 69942022, "body": "I changed <code>grid_forget()</code> in first example and also remove all destroyed buttons from list."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1482961624, "last_edit_date": 1482961624, "creation_date": 1482959475, "answer_id": 41369759, "question_id": 41369178, "link": "https://stackoverflow.com/questions/41369178/remove-forget-buttons-in-a-toggle-button/41369759#41369759", "title": "Remove/Forget Buttons in a Toggle Button", "body": "<p>You have to create list to keep buttons and then you can use <code>grid()</code> and <code>grid_forget()</code></p>\n\n<pre><code>import tkinter as tk\n\n# --- functions ---\n\ndef toggle_text():\n    global buttons # inform function to use external/global variable\n\n    if btn['text'] == 'Show':\n        btn['text']  = 'Hide'\n\n        for i, item in enumerate(some_list, 6):\n            # don't use name `btn` because you overwrite external `btn`\n            b = tk.Button(root, text=item)\n            b.grid(row=i, column=0, sticky='we')\n            buttons.append(b)\n    else:\n        btn['text'] = 'Show'\n\n        for b in buttons:\n            #b.grid_forget()\n            # better `destroy` because you will create new buttons \n            # so you can free memory \n            b.destroy() \n\n        # remove all buttons from list\n        #buttons.clear() # only Python 3 (doesn't need `global buttons`)\n        #buttons[:] = [] # Python 2 and 3 (doesn't need `global buttons`)\n        buttons = [] # Python 2 and 3 but needs `global buttons`\n\n# --- main ---\n\nsome_list = ['A', 'B', 'C']\nbuttons = [] # create global variable\n\nroot = tk.Tk()\n\nbtn = tk.Button(root, text='Show', command=toggle_text)\nbtn.grid(row=5, column=0, sticky='w')\n\nroot.mainloop()\n</code></pre>\n\n<hr>\n\n<p>If you have always the same buttons then you can create them once.</p>\n\n<pre><code>import tkinter as tk\n\n# --- functions ---\n\ndef toggle_text():\n\n    if btn['text'] == 'Show':\n        btn['text']  = 'Hide'\n\n        for i, b in enumerate(buttons, 6):\n            b.grid(row=i, column=0, sticky='we')\n\n    else:\n        btn['text'] = 'Show'\n\n        for b in buttons:\n            b.grid_forget()\n\n# --- main ---\n\nroot = tk.Tk()\n\nsome_list = ['A', 'B', 'C']\n\nbuttons = [] # create global variable\nfor item in some_list:\n    b = tk.Button(root, text=item)\n    buttons.append(b)\n\nbtn = tk.Button(root, text='Show', command=toggle_text)\nbtn.grid(row=5, column=0, sticky='w')\n\nroot.mainloop()\n</code></pre>\n\n<hr>\n\n<p>Or you can use <code>Frame</code> to group <code>Buttons</code></p>\n\n<pre><code>import tkinter as tk\n\n# --- functions ---\n\ndef toggle_text():\n\n    if btn['text'] == 'Show':\n        btn['text']  = 'Hide'\n        frame.grid(row=6, column=0, sticky='we')\n    else:\n        btn['text'] = 'Show'\n        frame.grid_forget()\n\n# --- main ---\n\nroot = tk.Tk()\n\nsome_list = ['A', 'B', 'C']\n\nframe = tk.Frame(root)\nframe.columnconfigure(0, weight=1) # resise column\n\nfor i, item in enumerate(some_list):\n    b = tk.Button(frame, text=item)\n    b.grid(row=i, column=0, sticky='we')\n\nbtn = tk.Button(root, text='Show', command=toggle_text)\nbtn.grid(row=5, column=0, sticky='w')\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5734826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f065e2fe109d01c5f4106137cef80b8?s=128&d=identicon&r=PG&f=1", "display_name": "Astrodude11", "link": "https://stackoverflow.com/users/5734826/astrodude11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 1, "accepted_answer_id": 41369759, "answer_count": 1, "score": 1, "last_activity_date": 1482961624, "creation_date": 1482956571, "question_id": 41369178, "link": "https://stackoverflow.com/questions/41369178/remove-forget-buttons-in-a-toggle-button", "title": "Remove/Forget Buttons in a Toggle Button", "body": "<p>In my GUI application I have a Show/Hide toggle button. By default the button text is \"Show\". When clicked the button creates a number of subsequent buttons from a predefined list and the button text is changed to \"Hide\".</p>\n\n<p>When the user clicks \"Hide\" I desire to hide/remove the buttons that were created. I presume I need to use the <code>grid_forget()</code> function in the <code>else</code> condition but how so?</p>\n\n<p>Thanks for reading.</p>\n\n<pre><code># Toggles between Show/Hide and creates buttons\ndef toggle_text():\n    if btn['text'] == 'Show':\n        btn['text']  = 'Hide'\n        for i, item in enumerate(some_list):\n            btn = Button(root, text='%s' % item)\n            btn.grid(row=6+i, column=0, sticky=W)\n    else:\n        btn['text'] = 'Hide'\n\n# Show/Hide button\nbtn = Button(root, text='Show', command=toggle_text)\nbtn.grid(row=5, column=0, sticky=W)\n</code></pre>\n"}, {"tags": ["python", "multithreading", "macos", "python-3.x", "audio"], "answers": [{"tags": [], "owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "is_accepted": false, "score": 1, "last_activity_date": 1482989352, "creation_date": 1482989352, "answer_id": 41373620, "question_id": 41369145, "link": "https://stackoverflow.com/questions/41369145/play-a-sound-using-python-subprocess-and-threading/41373620#41373620", "title": "Play a sound using python subprocess and threading", "body": "<p>It's because <code>process.poll()</code> returns <code>0</code> after the process finishes, which is a falsy value.</p>\n\n<p>Quick fix:</p>\n\n<pre><code>while not stop_sound:\n    if process.poll() is not None:\n        break\n</code></pre>\n"}], "owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482989352, "creation_date": 1482956355, "last_edit_date": 1482957275, "question_id": 41369145, "link": "https://stackoverflow.com/questions/41369145/play-a-sound-using-python-subprocess-and-threading", "title": "Play a sound using python subprocess and threading", "body": "<p>I am trying to open an alert, then loop a sound until the alert is closed. Then the sound should stop.</p>\n\n<p>I tried this:</p>\n\n<pre><code>import threading\nimport time\nimport subprocess\n\n\nstop_sound = False\ndef play_alarm(file_name = \"beep.wav\"):\n    \"\"\"Repeat the sound specified to mimic an alarm.\"\"\"\n    while not stop_sound:\n        process = subprocess.Popen([\"afplay\", file_name], shell=False)\n        while not stop_sound:\n            if process.poll():\n                break\n            time.sleep(0.1)\n        if stop_sound:\n            process.kill()\n\ndef alert_after_timeout(timeout, message):\n    \"\"\"After timeout seconds, show an alert and play the alarm sound.\"\"\"\n    global stop_sound\n    time.sleep(timeout)\n    process = None\n    thread = threading.Thread(target=play_alarm)\n    thread.start()\n    # show_alert is synchronous, it blocks until alert is closed\n    show_alert(message)\n\n    stop_sound = True\n    thread.join()\n</code></pre>\n\n<p>But for some reason the sound doesn't even play.</p>\n"}, {"tags": ["python", "oracle"], "comments": [{"owner": {"reputation": 35470, "user_id": 6348498, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0zu4m.jpg?s=128&g=1", "display_name": "Gurwinder Singh", "link": "https://stackoverflow.com/users/6348498/gurwinder-singh"}, "edited": false, "score": 2, "creation_date": 1482956325, "post_id": 41369128, "comment_id": 69939819, "body": "Please post the complete SQL."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 1, "creation_date": 1482956445, "post_id": 41369128, "comment_id": 69939879, "body": "It&#39;s <code>WHERE &lt;conditon&gt; OR &lt;codintion&gt;</code>"}, {"owner": {"reputation": 37365, "user_id": 5683823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8551ed09606092a75f36b0638e5c318f?s=128&d=identicon&r=PG&f=1", "display_name": "mathguy", "link": "https://stackoverflow.com/users/5683823/mathguy"}, "edited": false, "score": 1, "creation_date": 1482957636, "post_id": 41369128, "comment_id": 69940374, "body": "Can you describe the problem in plain English though? It is not at all clear why you would compare &quot;something&quot; either to a 10-character substring starting at position 10 or an 11-character string starting at position 11. (Specifically, why the comparison would be to substrings of different length.) Are you 100% sure you are using <code>SUBSTR( , , )</code> correctly to begin with - never mind using two of them, separated by <code>OR</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7259570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abe7ce2676b46f35bf4f34072caae3b?s=128&d=identicon&r=PG&f=1", "display_name": "gwestdev1", "link": "https://stackoverflow.com/users/7259570/gwestdev1"}, "edited": false, "score": 0, "creation_date": 1482956740, "post_id": 41369169, "comment_id": 69939984, "body": "<code>Where SUBSTR(b.JOBID,11,11) OR SUBSTR(b.JOBID,10,10) = a.MEMBERCODE</code> does not work."}, {"owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "reply_to_user": {"reputation": 83, "user_id": 7259570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abe7ce2676b46f35bf4f34072caae3b?s=128&d=identicon&r=PG&f=1", "display_name": "gwestdev1", "link": "https://stackoverflow.com/users/7259570/gwestdev1"}, "edited": false, "score": 1, "creation_date": 1482956780, "post_id": 41369169, "comment_id": 69940002, "body": "Where SUBSTR(b.JOBID,11,11) = a.MEMBERCODE OR SUBSTR(b.JOBID,10,10) = a.MEMBERCODE"}, {"owner": {"reputation": 83, "user_id": 7259570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abe7ce2676b46f35bf4f34072caae3b?s=128&d=identicon&r=PG&f=1", "display_name": "gwestdev1", "link": "https://stackoverflow.com/users/7259570/gwestdev1"}, "edited": false, "score": 0, "creation_date": 1482957071, "post_id": 41369169, "comment_id": 69940138, "body": "if you change your answer I will mark it correct!  Thanks!"}], "tags": [], "owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "is_accepted": true, "score": 1, "last_activity_date": 1482958244, "last_edit_date": 1482958244, "creation_date": 1482956494, "answer_id": 41369169, "question_id": 41369128, "link": "https://stackoverflow.com/questions/41369128/how-to-use-or-operator-with-substr-in-oracle/41369169#41369169", "title": "How to use OR operator with SUBSTR in Oracle?", "body": "<p>Try </p>\n\n<pre><code>Where SUBSTR(b.JOBID,11,11) = a.MEMBERCODE OR \n        SUBSTR(b.JOBID,10,10) = a.MEMBERCODE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35470, "user_id": 6348498, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0zu4m.jpg?s=128&g=1", "display_name": "Gurwinder Singh", "link": "https://stackoverflow.com/users/6348498/gurwinder-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1482957443, "last_edit_date": 1482957443, "creation_date": 1482956986, "answer_id": 41369278, "question_id": 41369128, "link": "https://stackoverflow.com/questions/41369128/how-to-use-or-operator-with-substr-in-oracle/41369278#41369278", "title": "How to use OR operator with SUBSTR in Oracle?", "body": "<p>You'll have do the each comparison separately and then, <code>OR</code> them together</p>\n\n<pre><code>Where SUBSTR(b.JOBID,11,11) = a.MEMBERCODE OR SUBSTR(b.JOBID,10,10) = a.MEMBERCODE\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7259570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7abe7ce2676b46f35bf4f34072caae3b?s=128&d=identicon&r=PG&f=1", "display_name": "gwestdev1", "link": "https://stackoverflow.com/users/7259570/gwestdev1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 41369169, "answer_count": 2, "score": -1, "last_activity_date": 1482958244, "creation_date": 1482956274, "last_edit_date": 1482956549, "question_id": 41369128, "link": "https://stackoverflow.com/questions/41369128/how-to-use-or-operator-with-substr-in-oracle", "title": "How to use OR operator with SUBSTR in Oracle?", "body": "<p>I would like to select values of a substring with an OR operator, but I am receiving <code>ORA-00920: invalid relational operator</code></p>\n\n<p>I am using Oracle CX and Python to execute this query.  How should this be written to successfully execute <code>SUBSTR(b.JOBID,11,11) OR Where SUBSTR(b.JOBID,10,10)</code>?</p>\n\n<p>I am unable to add the complete SQL.  </p>\n"}, {"tags": ["python", "astropy", "astroquery"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 522319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36f16840d6ae4bb0cf3760764cc2ebfb?s=128&d=identicon&r=PG", "display_name": "civa", "link": "https://stackoverflow.com/users/522319/civa"}, "edited": false, "score": 0, "creation_date": 1483178073, "post_id": 41403950, "comment_id": 70017384, "body": "Thank you very much for the detailed answer! Didn&#39;t know I can actually convert from one frame to another with astropy."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 3, "last_activity_date": 1483144243, "last_edit_date": 1483144243, "creation_date": 1483140387, "answer_id": 41403950, "question_id": 41369114, "link": "https://stackoverflow.com/questions/41369114/astroquery-simbad-obtaining-coordinates-for-all-frames/41403950#41403950", "title": "Astroquery SIMBAD : Obtaining coordinates for all frames", "body": "<p>Instead of querying multiple coordinates (which seems impossible with astroquery) from SIMBAD you could convert the coordinates by using <a href=\"http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#skycoord\" rel=\"nofollow noreferrer\"><code>astropy.coordinates.SkyCoord</code></a>. </p>\n\n<p>For example:</p>\n\n<pre><code>from astroquery.simbad import Simbad\nfrom astropy.coordinates import SkyCoord\n\nSimbad.reset_votable_fields()\nSimbad.remove_votable_fields('coordinates')\nSimbad.add_votable_fields('ra(:;A;ICRS;J2000)', 'dec(:;D;ICRS;2000)')\ntable = Simbad.query_object(\"Betelgeuse\", wildcard=False)\ncoords = SkyCoord(ra=['{}h{}m{}s'.format(*ra.split(':')) for ra in table['RA___A_ICRS_J2000']], \n                  dec=['{}d{}m{}s'.format(*dec.split(':')) for dec in table['DEC___D_ICRS_2000']],\n                  frame='icrs', equinox='J2000')\n</code></pre>\n\n<p>Which is a now a SkyCoord object that can be transformed to other frames:</p>\n\n<pre><code>&gt;&gt;&gt; coords\n&lt;SkyCoord (ICRS): (ra, dec) in deg\n    ( 88.79293875,  7.40706389)&gt;\n&gt;&gt;&gt; coords.fk4\n&lt;SkyCoord (FK4: equinox=J2000.000, obstime=B1950.000): (ra, dec) in deg\n    ( 88.79274075,  7.40705223)&gt;\n&gt;&gt;&gt; coords.fk5\n&lt;SkyCoord (FK5: equinox=J2000.000): (ra, dec) in deg\n    ( 88.79294545,  7.40705842)&gt;\n</code></pre>\n\n<p>This can be converted to strings again, for example in <code>hms dms</code> formatting:</p>\n\n<pre><code>&gt;&gt;&gt; coords.fk5.to_string('hmsdms')\n['05h55m10.3069s +07d24m25.4103s']\n</code></pre>\n\n<p>If you want these as additional columns in your table, you can simply add these:</p>\n\n<pre><code>&gt;&gt;&gt; table['RA FK5'] = coords.fk5.ra\n&gt;&gt;&gt; table['DEC FK5'] = coords.fk5.dec\n&gt;&gt;&gt; table['FK4'] = coords.fk4.to_string('hmsdms')\n&gt;&gt;&gt; table\n MAIN_ID  RA___A_ICRS_J2000 DEC___D_ICRS_2000     RA FK5       DEC FK5                 FK4             \n               \"h:m:s\"           \"d:m:s\"           deg           deg     \n--------- ----------------- ----------------- ------------- ------------- -----------------------------\n* alf Ori     05:55:10.3053     +07:24:25.430 88.7929454548 7.40705841559 05h55m10.2578s +07d24m25.388s\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15710, "user_id": 814354, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7abcbf6044bd332643732412d82e24bd?s=128&d=identicon&r=PG", "display_name": "keflavich", "link": "https://stackoverflow.com/users/814354/keflavich"}, "is_accepted": false, "score": 1, "last_activity_date": 1483400541, "creation_date": 1483400541, "answer_id": 41434622, "question_id": 41369114, "link": "https://stackoverflow.com/questions/41369114/astroquery-simbad-obtaining-coordinates-for-all-frames/41434622#41434622", "title": "Astroquery SIMBAD : Obtaining coordinates for all frames", "body": "<p>For reasons I can't determine, astroquery did not support multiple configurable added VO options.  It will soon, though: see <a href=\"https://github.com/astropy/astroquery/pull/820\" rel=\"nofollow noreferrer\">this pull request</a>.  There were no problems with the code you posted, just a bug in astroquery.</p>\n"}], "owner": {"reputation": 449, "user_id": 522319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36f16840d6ae4bb0cf3760764cc2ebfb?s=128&d=identicon&r=PG", "display_name": "civa", "link": "https://stackoverflow.com/users/522319/civa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 41403950, "answer_count": 2, "score": 4, "last_activity_date": 1483400541, "creation_date": 1482956205, "last_edit_date": 1483293861, "question_id": 41369114, "link": "https://stackoverflow.com/questions/41369114/astroquery-simbad-obtaining-coordinates-for-all-frames", "title": "Astroquery SIMBAD : Obtaining coordinates for all frames", "body": "<p>I'm trying to obtain coordinates for all frames using the <code>Simbad</code> class from <code>astroquery</code>, just like it is shown on the <a href=\"http://simbad.u-strasbg.fr/simbad/sim-basic?Ident=Betelgeuse&amp;submit=SIMBAD+search\" rel=\"nofollow noreferrer\">SIMBAD web page</a>\n(Basic data section)</p>\n\n<p>I have the following code :</p>\n\n<pre><code>from astroquery.simbad import Simbad\n\ndef get():\n    Simbad.reset_votable_fields()\n    Simbad.remove_votable_fields('coordinates')\n\n    Simbad.add_votable_fields('ra(:;A;ICRS;J2000)', 'dec(:;D;ICRS;2000)')\n    Simbad.add_votable_fields('ra(:;A;FK5;J2000)', 'dec(:;D;FK5;2000)')\n\n    table = Simbad.query_object(\"Betelgeuse\", wildcard=False)\n</code></pre>\n\n<p>but I'm getting the error:</p>\n\n<blockquote>\n  <p>KeyError: 'ra(:;A;FK5;J2000): field already present. Fields ra,dec,id,otype, and bibcodelist can only be specified once.  To change their options, first remove the existing entry, then add a new one.'</p>\n</blockquote>\n\n<p>Everything I could find in the doc about manipulating votable fields, especially coordinates is this :</p>\n\n<p><a href=\"http://astroquery.readthedocs.io/en/latest/simbad/simbad.html#specifying-the-format-of-the-included-votable-fields\" rel=\"nofollow noreferrer\">http://astroquery.readthedocs.io/en/latest/simbad/simbad.html#specifying-the-format-of-the-included-votable-fields</a></p>\n\n<p>Is there a way to get coordinates for all frames sending one query to SIMBAD?</p>\n"}, {"tags": ["python", "tensorflow", "google-cloud-ml"], "comments": [{"owner": {"reputation": 8771, "user_id": 2050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2d1e9a607c47a89730352dd7b9dacaab?s=128&d=identicon&r=PG", "display_name": "Eric Platon", "link": "https://stackoverflow.com/users/2050/eric-platon"}, "edited": false, "score": 0, "creation_date": 1482961723, "post_id": 41369062, "comment_id": 69942047, "body": "Is you checkpoint stored as binary? You may need to specify the format when saving. I think the default is text. Also, bear in mind that there might be a big if you are not using a released version (e.g. the edge from the repository)."}, {"owner": {"reputation": 4856, "user_id": 4392784, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh4.googleusercontent.com/-EG88fsSohpM/AAAAAAAAAAI/AAAAAAAAAGA/CR3igr5KRvw/photo.jpg?sz=128", "display_name": "Jeremy Lewi", "link": "https://stackoverflow.com/users/4392784/jeremy-lewi"}, "edited": false, "score": 0, "creation_date": 1482971447, "post_id": 41369062, "comment_id": 69945042, "body": "Where does the model you are trying to load reside? Does it reside on GCS? Its not clear to me whether this is a single training job or multiple training jobs. My interpretation of your question was that you run one Cloud ML training job to produce an initial checkpoint. So presumably you saved this to GCS to make it available after the job finishes. In your second job you are trying to read that checkpoint. You are using relative paths. Did you copy the model from GCS to the local filesystem?"}, {"owner": {"reputation": 754, "user_id": 4543908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8t2zM.jpg?s=128&g=1", "display_name": "Thibaut Loiseleur", "link": "https://stackoverflow.com/users/4543908/thibaut-loiseleur"}, "reply_to_user": {"reputation": 8771, "user_id": 2050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2d1e9a607c47a89730352dd7b9dacaab?s=128&d=identicon&r=PG", "display_name": "Eric Platon", "link": "https://stackoverflow.com/users/2050/eric-platon"}, "edited": false, "score": 0, "creation_date": 1483009837, "post_id": 41369062, "comment_id": 69958647, "body": "@EricPlaton I am using tensorflow r0.12. Also, I save my checkpoint in the default manner which implies the argument as_text=False."}, {"owner": {"reputation": 754, "user_id": 4543908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8t2zM.jpg?s=128&g=1", "display_name": "Thibaut Loiseleur", "link": "https://stackoverflow.com/users/4543908/thibaut-loiseleur"}, "reply_to_user": {"reputation": 4856, "user_id": 4392784, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh4.googleusercontent.com/-EG88fsSohpM/AAAAAAAAAAI/AAAAAAAAAGA/CR3igr5KRvw/photo.jpg?sz=128", "display_name": "Jeremy Lewi", "link": "https://stackoverflow.com/users/4392784/jeremy-lewi"}, "edited": false, "score": 0, "creation_date": 1483009840, "post_id": 41369062, "comment_id": 69958651, "body": "@JeremyLewi Your interpretation is right, I have two different training jobs. Also, since my project is not completely ready to produce satisfying results, I am working on a mini dataset and locally. I will clarify my question accordingly to your suggestions, thanks."}, {"owner": {"reputation": 4856, "user_id": 4392784, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh4.googleusercontent.com/-EG88fsSohpM/AAAAAAAAAAI/AAAAAAAAAGA/CR3igr5KRvw/photo.jpg?sz=128", "display_name": "Jeremy Lewi", "link": "https://stackoverflow.com/users/4392784/jeremy-lewi"}, "edited": false, "score": 0, "creation_date": 1483025659, "post_id": 41369062, "comment_id": 69967373, "body": "Added a potential answer."}], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 4543908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8t2zM.jpg?s=128&g=1", "display_name": "Thibaut Loiseleur", "link": "https://stackoverflow.com/users/4543908/thibaut-loiseleur"}, "edited": false, "score": 0, "creation_date": 1483540598, "post_id": 41382741, "comment_id": 70138234, "body": "Turns out that I finally found the solution of my problem. I thought that only transferring the checkpoint files was sufficient but it appears that it was not. Thanks anyway !"}], "tags": [], "owner": {"reputation": 4856, "user_id": 4392784, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh4.googleusercontent.com/-EG88fsSohpM/AAAAAAAAAAI/AAAAAAAAAGA/CR3igr5KRvw/photo.jpg?sz=128", "display_name": "Jeremy Lewi", "link": "https://stackoverflow.com/users/4392784/jeremy-lewi"}, "is_accepted": false, "score": 1, "last_activity_date": 1483025697, "creation_date": 1483025697, "answer_id": 41382741, "question_id": 41369062, "link": "https://stackoverflow.com/questions/41369062/tensorflow-fail-with-unable-to-get-element-from-the-feed-as-bytes-when-attemp/41382741#41382741", "title": "Tensorflow fail with &quot;Unable to get element from the feed as bytes.&quot; when attempting to restore checkpoint", "body": "<p>I think the problem could be that when you save the model you set write_meta_graph=False. As a result I don't think you are actually saving the graph so when you try to restore there is no graph to restore. Try setting write_meta_graph=True </p>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 4543908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8t2zM.jpg?s=128&g=1", "display_name": "Thibaut Loiseleur", "link": "https://stackoverflow.com/users/4543908/thibaut-loiseleur"}, "is_accepted": true, "score": 12, "last_activity_date": 1483540599, "creation_date": 1483540599, "answer_id": 41466410, "question_id": 41369062, "link": "https://stackoverflow.com/questions/41369062/tensorflow-fail-with-unable-to-get-element-from-the-feed-as-bytes-when-attemp/41466410#41466410", "title": "Tensorflow fail with &quot;Unable to get element from the feed as bytes.&quot; when attempting to restore checkpoint", "body": "<p>The error message was due to the absence of the file named \"checkpoint\" by inadvertency.</p>\n\n<p>After the reintroduction of this file in the appropriate folder, it appears that the loading of the checkpoint is working.</p>\n\n<p>Sorry for having omitted this key point.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7159652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/704ef834d4152c1378db7bf6f71ccd0d?s=128&d=identicon&r=PG&f=1", "display_name": "bob sherlock", "link": "https://stackoverflow.com/users/7159652/bob-sherlock"}, "is_accepted": false, "score": -1, "last_activity_date": 1508833069, "creation_date": 1508833069, "answer_id": 46905432, "question_id": 41369062, "link": "https://stackoverflow.com/questions/41369062/tensorflow-fail-with-unable-to-get-element-from-the-feed-as-bytes-when-attemp/46905432#46905432", "title": "Tensorflow fail with &quot;Unable to get element from the feed as bytes.&quot; when attempting to restore checkpoint", "body": "<p>The error message was also due to the mistakes in the file named \"checkpoint\" by inadvertency.</p>\n\n<p>For examples, the folder which contains the models has been moved, but the value of \"model_checkpoint_path:\" in \"checkpoint\" still is old path.</p>\n"}], "owner": {"reputation": 754, "user_id": 4543908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8t2zM.jpg?s=128&g=1", "display_name": "Thibaut Loiseleur", "link": "https://stackoverflow.com/users/4543908/thibaut-loiseleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9262, "favorite_count": 0, "accepted_answer_id": 41466410, "answer_count": 3, "score": 9, "last_activity_date": 1517911255, "creation_date": 1482955966, "last_edit_date": 1495541376, "question_id": 41369062, "link": "https://stackoverflow.com/questions/41369062/tensorflow-fail-with-unable-to-get-element-from-the-feed-as-bytes-when-attemp", "title": "Tensorflow fail with &quot;Unable to get element from the feed as bytes.&quot; when attempting to restore checkpoint", "body": "<p>I am using Tensorflow r0.12.</p>\n\n<p>I use google-cloud-ml locally to run 2 different training jobs. In the first job, I find good initial values for my variables. I store them in a V2-checkpoint.</p>\n\n<p>When I try to restore my variables for using them in the second job :</p>\n\n<pre><code>import tensorflow as tf\n\nsess = tf.Session()\nnew_saver = tf.train.import_meta_graph('../variables_pred/model.ckpt-10151.meta', clear_devices=True)\nnew_saver.restore(sess, tf.train.latest_checkpoint('../variables_pred/'))\nall_vars = tf.trainable_variables()\nfor v in all_vars:\n    print(v.name)\n</code></pre>\n\n<p>I got the following error message :</p>\n\n<pre><code>tensorflow.python.framework.errors_impl.InternalError: Unable to get element from the feed as bytes.\n</code></pre>\n\n<p>The checkpoint is created with these lines in the first job :</p>\n\n<pre><code>saver = tf.train.Saver()\nsaver.export_meta_graph(filename=os.path.join(output_dir, 'export.meta'))\nsaver.save(sess, os.path.join(output_dir, 'export'), write_meta_graph=False)\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/a/40340103/4543908\">this answer</a>, it could come from the absence of metadata file but I am loading the metadata file.</p>\n\n<p>PS : I use the argument <code>clear_devices=True</code> because the device specifications generated by a launch on google-cloud-ml are quite intricated and I don't need to necessarily get the same dispatch.</p>\n"}, {"tags": ["python", "plotly", "networkx"], "owner": {"reputation": 311, "user_id": 5164906, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/729a48bdbd5e7c8486e87c982445758d?s=128&d=identicon&r=PG&f=1", "display_name": "Alperen Taciroglu", "link": "https://stackoverflow.com/users/5164906/alperen-taciroglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505141096, "creation_date": 1482955843, "last_edit_date": 1505141096, "question_id": 41369042, "link": "https://stackoverflow.com/questions/41369042/python2-7-plotly-with-networkx-node-attributes-as-long-string-only-visible-th", "title": "Python2.7: plotly with networkx; Node attributes as long string (only visible through hover over the node)", "body": "<p>I want to draw a network of gene interactions with plotly using a network built with networkx.  Lets assume that I have 10 nodes and for the sake of simplicity 9 edges connecting 1 node to all other 9 nodes. </p>\n\n<p>I would like the keep the node labels visible as genes (say EGFR, TP53 etc..) and I would like the have some nodes to have an attribute specific to individual nodes. Now these attributes will be long strings (or a list object of few string elements) (I am OK with list object being converted to string as whole) and I would like the option to show the attribute associated with that list object when I hover over the node with mouse. </p>\n\n<p>I would appreciate if I could set the margins of the pop up box (that comes when hover over the node) to be able to visualize the attribute nicely in a few newlines (not as a whole line of string, which would get out of screen)</p>\n"}, {"tags": ["python", "numpy", "array-broadcasting"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 7351362, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9fd1b1a53e65032506451e08b8ea4063?s=128&d=identicon&r=PG&f=1", "display_name": "user7351362", "link": "https://stackoverflow.com/users/7351362/user7351362"}, "edited": false, "score": 0, "creation_date": 1482961428, "post_id": 41369211, "comment_id": 69941906, "body": "I&#39;m running 3.6 so I think i should be okay!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 1, "last_activity_date": 1482957060, "last_edit_date": 1482957060, "creation_date": 1482956739, "answer_id": 41369211, "question_id": 41369038, "link": "https://stackoverflow.com/questions/41369038/multiplying-an-array-by-a-designated-row-vector-of-another-matrix/41369211#41369211", "title": "Multiplying an array by a designated row vector of another matrix", "body": "<p>To \"slice\" a vector of row <code>n</code> out of 2-dimensional array <code>A</code>, you use a syntax like <code>A[n]</code>.  If it's slicing columns you wanted instead, the syntax is <code>A[:,n]</code>.  </p>\n\n<p>For transformations with numpy arrays and vectors, the syntax is with matrix multiplication operator:</p>\n\n<pre><code>&gt;&gt;&gt; A = np.array([[0, -1], [1, 0]])\n&gt;&gt;&gt; vs = np.array([[1, 2], [3, 4]])\n&gt;&gt;&gt; A @ vs[0]  # this is a rotation of the first row of vs by A\narray([-2,  1])\n&gt;&gt;&gt; A @ vs[1]  # this is a rotation of second row of vs by A\narray([-4,  3])\n</code></pre>\n\n<p><em>Note:</em> If you're on older python version (&lt; 3.5), you might not have <code>@</code> available yet.  Then you'll have to use a <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html\" rel=\"nofollow noreferrer\">function</a> <code>np.dot(array, vector)</code> instead of the operator.  </p>\n"}], "owner": {"reputation": 171, "user_id": 7351362, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9fd1b1a53e65032506451e08b8ea4063?s=128&d=identicon&r=PG&f=1", "display_name": "user7351362", "link": "https://stackoverflow.com/users/7351362/user7351362"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482957060, "creation_date": 1482955834, "last_edit_date": 1482956255, "question_id": 41369038, "link": "https://stackoverflow.com/questions/41369038/multiplying-an-array-by-a-designated-row-vector-of-another-matrix", "title": "Multiplying an array by a designated row vector of another matrix", "body": "<p>Good afternoon all relatively simple`question here from a mechanical standpoint.</p>\n\n<p>I'm currently performing PCA and have successfully written a code that computes the covariance matrix and correlation matrix, and the associated eigenspectrum.</p>\n\n<p>Now, I have created an array that represents the eigenvectors row wise, and i would like to compute the transformation C*v^t, where c is the observation matrix and v^t is the element wise entries of the eigen vector transposed.</p>\n\n<p>Now, since some of these matrices are pretty big-i'd like to be able to tell python which row of the eigenvector matrix to mulitply C by.  So far I have tried some of the numpy functions, but to no avail.</p>\n\n<p>(for those of you wondering, i don't want to compute the matrix product of all the eigen vecotrs, i only need to multiply by a small subset of them-the ones associated with the largest eigenvalues)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "xml", "jenkins"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 5370652, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9f3dde348a2ca993373b7c6aa66cdf5c?s=128&d=identicon&r=PG&f=1", "display_name": "user54", "link": "https://stackoverflow.com/users/5370652/user54"}, "edited": false, "score": 0, "creation_date": 1482999787, "post_id": 41369259, "comment_id": 69953022, "body": "It prints all besides: &lt;host&gt;test.server&lt;/host&gt;     &lt;port&gt;7777&lt;/port&gt;     &lt;credentialsId&gt;d0970a8f-d124&lt;/credentialsId&gt;     &lt;maxNumRetries&gt;0&lt;/maxNumRetries&gt;     &lt;retryWaitTime&gt;0&lt;/retryWaitTime&gt;"}, {"owner": {"reputation": 413, "user_id": 5370652, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9f3dde348a2ca993373b7c6aa66cdf5c?s=128&d=identicon&r=PG&f=1", "display_name": "user54", "link": "https://stackoverflow.com/users/5370652/user54"}, "edited": false, "score": 0, "creation_date": 1483001081, "post_id": 41369259, "comment_id": 69953674, "body": "I have already found mistake: instead of root.findall(&#39;name&#39;) I had to put  root.findall(&#39;.//host&#39;). According to docs &quot;//&quot; selects all subelements, on all levels beneath the current element (search the entire subtree). For example, \u201c.//egg\u201d selects all \u201cegg\u201d elements in the entire tree etc. Thanks for help!"}], "tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1482958618, "last_edit_date": 1482958618, "creation_date": 1482956919, "answer_id": 41369259, "question_id": 41368989, "link": "https://stackoverflow.com/questions/41368989/get-value-from-variable-which-contains-xml/41369259#41369259", "title": "get value from variable which contains xml", "body": "<pre><code>xml_text = \"\"\"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;slave&gt;\n  &lt;name&gt;test.server&lt;/name&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;remoteFS&gt;/var/lib/jenkins&lt;/remoteFS&gt;\n  &lt;numExecutors&gt;1&lt;/numExecutors&gt;\n  &lt;mode&gt;EXCLUSIVE&lt;/mode&gt;\n  &lt;retentionStrategy class=\"hudson.slaves.RetentionStrategy$Always\"/&gt;\n  &lt;launcher class=\"hudson.plugins.sshslaves.SSHLauncher\" plugin=\"ssh-slaves@1.10\"&gt;\n    &lt;host&gt;test.server&lt;/host&gt;\n    &lt;port&gt;7777&lt;/port&gt;\n    &lt;credentialsId&gt;d0970a8f-d124&lt;/credentialsId&gt;\n    &lt;maxNumRetries&gt;0&lt;/maxNumRetries&gt;\n    &lt;retryWaitTime&gt;0&lt;/retryWaitTime&gt;\n  &lt;/launcher&gt;\n  &lt;label&gt;BuildServer&lt;/label&gt;\n  &lt;nodeProperties/&gt;\n  &lt;userId&gt;test&lt;/userId&gt;\n&lt;/slave&gt;\n\"\"\"\n\nimport xml.etree.ElementTree\nroot = xml.etree.ElementTree.fromstring(xml_text)\n\n# show only a particular tag\nfor name in root.findall('name'):\n    print(name.text)\n\n# show all children at first level\nfor child in root:\n    print('%s: %s' % (child.tag, child.text))\n\n# build a dict (will only get last of any duplicate tags, and no children)\nslave = {child.tag: child.text for child in root}\n\n# build a dict (will only get last of any duplicate tags)\ndef xml_todict(xml_node):\n    dict_ = {}\n    for child in xml_node:\n        dict_[child.tag] = xml_todict(child)\n    dict_.update(xml_node.attrib)\n    if not dict_:\n        return xml_node.text\n    if xml_node.text and 'text' not in dict_:\n        dict_['text'] = xml_node.text\n    return dict_\n\nslave = xml_todict(root)\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 5370652, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9f3dde348a2ca993373b7c6aa66cdf5c?s=128&d=identicon&r=PG&f=1", "display_name": "user54", "link": "https://stackoverflow.com/users/5370652/user54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 41369259, "answer_count": 1, "score": 1, "last_activity_date": 1482958618, "creation_date": 1482955598, "question_id": 41368989, "link": "https://stackoverflow.com/questions/41368989/get-value-from-variable-which-contains-xml", "title": "get value from variable which contains xml", "body": "<p>I have the next jenkins API script: </p>\n\n<pre><code>import jenkins\nimport json\nimport re\n\nserver = jenkins.Jenkins('https://jenkins_url', username, password)\nnodes = json.dumps(server.get_nodes())\nnodes = re.sub('\\\"offline\\\"|[:{} \\[\\]]|true,|false,|\\\"name\\\"|\\\"','',nodes).split(',')\nfor label in nodes:\n    if label != 'master':\n        print label\n        node_config = server.get_node_config(label)\n        print node_config\n</code></pre>\n\n<p>node_config contains for example the next xml text: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;slave&gt;\n  &lt;name&gt;test.server&lt;/name&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;remoteFS&gt;/var/lib/jenkins&lt;/remoteFS&gt;\n  &lt;numExecutors&gt;1&lt;/numExecutors&gt;\n  &lt;mode&gt;EXCLUSIVE&lt;/mode&gt;\n  &lt;retentionStrategy class=\"hudson.slaves.RetentionStrategy$Always\"/&gt;\n  &lt;launcher class=\"hudson.plugins.sshslaves.SSHLauncher\" plugin=\"ssh-slaves@1.10\"&gt;\n    &lt;host&gt;test.server&lt;/host&gt;\n    &lt;port&gt;7777&lt;/port&gt;\n    &lt;credentialsId&gt;d0970a8f-d124&lt;/credentialsId&gt;\n    &lt;maxNumRetries&gt;0&lt;/maxNumRetries&gt;\n    &lt;retryWaitTime&gt;0&lt;/retryWaitTime&gt;\n  &lt;/launcher&gt;\n  &lt;label&gt;BuildServer&lt;/label&gt;\n  &lt;nodeProperties/&gt;\n  &lt;userId&gt;test&lt;/userId&gt;\n&lt;/slave&gt;\n</code></pre>\n\n<p>I want to get value of each of  tag to obtain on output eg test.server etc.</p>\n\n<p>Could you please help me with it?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 2, "last_activity_date": 1482956180, "last_edit_date": 1482956180, "creation_date": 1482955667, "answer_id": 41369005, "question_id": 41368972, "link": "https://stackoverflow.com/questions/41368972/pandas-filter-columns-in-one-level/41369005#41369005", "title": "Pandas: Filter columns in one level", "body": "<p>using <code>pd.IndexSlice</code></p>\n\n<pre><code>df.loc[:, pd.IndexSlice[:, :12]]\n</code></pre>\n\n<p>consider <code>df</code></p>\n\n<pre><code>mux = pd.MultiIndex.from_product([list('ab'), range(5,30,5)])\ndf = pd.DataFrame([np.arange(10)], columns=mux)\nprint(df)\n\n   a              b            \n  5  10 15 20 25 5  10 15 20 25\n0  0  1  2  3  4  5  6  7  8  9\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>df.loc[:, pd.IndexSlice[:, :12]]\n\n   a     b   \n  5  10 5  10\n0  0  1  5  6\n</code></pre>\n\n<hr>\n\n<p><strong><em>caveat</em></strong><br>\nThis requires that <code>df.columns</code> is sorted.  You may need to sort ahead of time</p>\n\n<pre><code>df.sort_index(axis=1).loc[:, pd.IndexSlice[:, :12]]\n</code></pre>\n"}], "owner": {"reputation": 2995, "user_id": 1742188, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/df7cb616eb3851d9c3e53d8c6d18c5fe?s=128&d=identicon&r=PG", "display_name": "user1742188", "link": "https://stackoverflow.com/users/1742188/user1742188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482956180, "creation_date": 1482955524, "question_id": 41368972, "link": "https://stackoverflow.com/questions/41368972/pandas-filter-columns-in-one-level", "title": "Pandas: Filter columns in one level", "body": "<p>I have a pandas dataframe with a MultiIndex. I want to drop all the column values in level <code>1</code> that have value greater than <code>12</code>. I can do</p>\n\n<pre><code>df.drop([13, 14, 15, 16, 17, 18, 19, 20], level=1, axis=1, inplace=True)\n</code></pre>\n\n<p>but that does not remove values greater than 20. Is there a way to limit the values to 12 only?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482955575, "post_id": 41368963, "comment_id": 69939495, "body": "You keep trying to remove <code>startVertex</code> over and over in the loop."}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1482955578, "post_id": 41368963, "comment_id": 69939496, "body": "Also <code>pop()</code> is a good function to remove things from list too as it does it in place."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1482955750, "post_id": 41368963, "comment_id": 69939567, "body": "@MooingRawr so does <code>.remove</code>"}, {"owner": {"reputation": 3, "user_id": 7183398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OwvbYhTxppA/AAAAAAAAAAI/AAAAAAAABt4/D4E5_18UbAw/photo.jpg?sz=128", "display_name": "almondmilk", "link": "https://stackoverflow.com/users/7183398/almondmilk"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482955794, "post_id": 41368963, "comment_id": 69939588, "body": "@user2357112 I prevent it from doing so later in the code, I just didnt want to post the whole code cause it would be too long"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1482970182, "last_edit_date": 1482970182, "creation_date": 1482955657, "answer_id": 41369002, "question_id": 41368963, "link": "https://stackoverflow.com/questions/41368963/how-to-remove-an-instance-of-object-from-a-list-in-python/41369002#41369002", "title": "How to remove an instance of object from a list in python?", "body": "<p><code>list.remove()</code> will remove the first item from the list where that item is equal to whatever you wanted to remove.</p>\n\n<p>In other words, the algorithm is to do this:</p>\n\n<pre><code>def remove(self, item_to_remove):\n    for index, item in enumerate(self):\n        if item == item_to_remove:\n            del self[index]\n            return\n    raise ValueError('list.remove(x): x not in list')\n</code></pre>\n\n<p>The trick then is to make the <code>==</code> equality test pass. This is done with the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__eq__\" rel=\"nofollow noreferrer\"><code>__eq__</code> method</a>. The <em>default</em> implementation is to only return <code>True</code> when the two items are <em>one and the same object</em>, so <code>item is item_to_remove</code> is true.</p>\n\n<p>You can create a custom method for your <code>Vertex</code> class:</p>\n\n<pre><code>def __eq__(self, other):\n    if not isinstance(other, Vertex):\n        return NotImplemented\n    return self.id == other.id  # refine as needed\n</code></pre>\n\n<p>You need to decide when two <code>Vertex</code> instances are equal.</p>\n"}], "owner": {"reputation": 3, "user_id": 7183398, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OwvbYhTxppA/AAAAAAAAAAI/AAAAAAAABt4/D4E5_18UbAw/photo.jpg?sz=128", "display_name": "almondmilk", "link": "https://stackoverflow.com/users/7183398/almondmilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "closed_date": 1482955907, "accepted_answer_id": 41369002, "answer_count": 1, "score": -4, "last_activity_date": 1482970182, "creation_date": 1482955468, "question_id": 41368963, "link": "https://stackoverflow.com/questions/41368963/how-to-remove-an-instance-of-object-from-a-list-in-python", "closed_reason": "Duplicate", "title": "How to remove an instance of object from a list in python?", "body": "<p>I'm working on implementing Dijkstra's algorithm in python and I was wondering how I can remove an instance of an object from a list ? \nHere's a part of my code in which I get an error: \"list.remove(x): x not in list\".</p>\n\n<pre><code>class Vertex:\n    def __init__(self, id, name):\n        self.id = id\n        self.name = name\n        self.minDistance = float(\"inf\")\n        self.previousVertex = None\n        self.edges = []\n\n    def computePath(self, sourceId):\n        for i in self.vertexes:\n            if i.id == sourceId:\n                startVertex = i\n                startVertex.minDistance=0\n                break\n            else:\n                continue\n        unvisited = []\n        for vertex in self.vertexes:\n            unvisited.append(vertex)\n        while len(unvisited)!=0:\n            self.visited.append(startVertex)\n            unvisited.remove(startVertex)\n</code></pre>\n"}, {"tags": ["python", "numpy", "ipython", "window-resize"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1482964772, "post_id": 41368940, "comment_id": 69943107, "body": "<a href=\"https://github.com/ipython/ipython/issues/8469\" rel=\"nofollow noreferrer\">This ipython issue</a> seems relevant."}, {"owner": {"reputation": 3966, "user_id": 2132213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31de75b6e3603efbc437ab3475a757d?s=128&d=identicon&r=PG", "display_name": "Nick Matteo", "link": "https://stackoverflow.com/users/2132213/nick-matteo"}, "edited": false, "score": 0, "creation_date": 1482983082, "post_id": 41368940, "comment_id": 69947416, "body": "Your code works for me in IPython 4.2.0, with Python 3.5.1, but not with IPython 5.1.0 and Python 3.5.2."}], "answers": [{"tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 1, "last_activity_date": 1482962065, "last_edit_date": 1495541338, "creation_date": 1482962065, "answer_id": 41370242, "question_id": 41368940, "link": "https://stackoverflow.com/questions/41368940/signal-handler-works-in-python-but-not-in-ipython/41370242#41370242", "title": "Signal handler works in python but not in ipython", "body": "<p>Inspired by <a href=\"https://stackoverflow.com/a/1988024/5067311\">the standard fix for printing large arrays without truncation</a>, I tried setting the line width to infinity. This seems to be working fine both in the REPL and in ipython, so I suggest this workaround:</p>\n\n<pre><code>import numpy\nnumpy.set_printoptions(linewidth=numpy.inf)\n</code></pre>\n\n<p>This doesn't explain why your fix doesn't work for ipython, but in case the above line doesn't mess with anything unexpected, it should make printing immune to resizing.</p>\n"}], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 41370242, "answer_count": 1, "score": 3, "last_activity_date": 1482962065, "creation_date": 1482955352, "question_id": 41368940, "link": "https://stackoverflow.com/questions/41368940/signal-handler-works-in-python-but-not-in-ipython", "title": "Signal handler works in python but not in ipython", "body": "<p>I'm attempting to set the numpy print options using a signal handler on the window resize event.  Don't want to make the connection until numpy has been imported, and don't want to import numpy automatically at python startup.  I've got it almost-working with the code below:</p>\n\n<pre><code># example.py\nimport wrapt\n\n@wrapt.when_imported('numpy')\ndef post_import_hook(numpy):\n    import signal\n    try:\n        from shutil import get_terminal_size\n    except ImportError:\n        # Python 2\n        from shutil_backports import get_terminal_size\n\n    def resize_handler(signum=signal.SIGWINCH, frame=None):\n        w, h = get_terminal_size()\n        numpy.set_printoptions(linewidth=w)\n        print('handled window resize {}'.format(w))\n\n    resize_handler()\n    signal.signal(signal.SIGWINCH, resize_handler)\n</code></pre>\n\n<p>It works in vanilla python REPL (test with <code>python -i example.py</code> and resize the terminal a bit).  But it doesn't work in <code>ipython</code> when the same code is added to my startup ipython config, and I don't understand why.  </p>\n\n<p>I'm not fixed on this particular approach (that's just what I've tried so far), so I'll phrase the question more generally:  </p>\n\n<p><strong>How can numpy correctly fill to the terminal width automatically in ipython?</strong></p>\n\n<p>You can use <code>print(np.arange(200))</code>, for example, to check numpy's line wrapping behaviour.  </p>\n"}, {"tags": ["python", "django", "models", "foreign-key-relationship"], "comments": [{"owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "reply_to_user": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1482955462, "post_id": 41368923, "comment_id": 69939447, "body": "Ah! I&#39;ll fix that in just a mo. Thank you for informing me :)"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482956147, "post_id": 41368988, "comment_id": 69939751, "body": "Oh wow! that worked! Thank you ever so much for the help! So when working with relational data (for lack of a better word), I would need to capture the model instance that I want to create, and then save or do whatever I need with that?"}, {"owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482956206, "post_id": 41368988, "comment_id": 69939776, "body": "I&#39;ll mark your response as the answer as soon as I can. Really appreciate the help you&#39;ve given me :)"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "reply_to_user": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482956258, "post_id": 41368988, "comment_id": 69939797, "body": "If the relation isn&#39;t determined from the form, yeah. This is a pretty common pattern if, say, you want to record the user who created each record."}, {"owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482956905, "post_id": 41368988, "comment_id": 69940065, "body": "Perfect!! I think I understand what you mean now with the non-form determined relationship. Wish I&#39;d known that earlier. Cheers for that! (y)"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "reply_to_user": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482957212, "post_id": 41368988, "comment_id": 69940199, "body": "The point there is that you can have form fields to choose related objects - say, a dropdown to select from a predefined set of categories or something like that. If all your relationships are of that type you can just save the form without <code>commit=False</code>.  But you usually don&#39;t want to do that for relationships that depend on the user or other request attributes, as in this case."}, {"owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "edited": false, "score": 0, "creation_date": 1482958631, "post_id": 41368988, "comment_id": 69940775, "body": "Ah. Dropdowns being populated from other models. Something that I feel I need to look into sooner or later as I progress. I think I&#39;ll be able to populate a dropdown through a ModelChoiceField and getting a list of objects. Bahh! I think I&#39;ll leave it for today. Thank you so very much for walking me through this. You&#39;re an absolute star!"}], "tags": [], "owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "is_accepted": true, "score": 3, "last_activity_date": 1482955596, "creation_date": 1482955596, "answer_id": 41368988, "question_id": 41368923, "link": "https://stackoverflow.com/questions/41368923/django-get-related-key-and-insert-into-database/41368988#41368988", "title": "Django - Get Related Key and Insert into Database", "body": "<p>You're close, but don't try to edit the shop value into the form. Instead, capture the in-memory <code>Product</code> instance from saving the form and assign its <code>business</code> attribute:</p>\n\n<pre><code>def form_valid(self, form):\n    new_product = form.save(commit=False)\n    # get current logged in user\n    user = self.request.user.id\n    # match the current logged in user to an owner in the Shop model\n    s = Shop.objects.get(owner=user)\n    # assign the shop instance to the product\n    new_product.business = s\n    # record the product to the database\n    new_product.save()\n    # This method is called when valid form data has been POSTed.\n    # It should return an HttpResponse.\n    return super(ProductCreate, self).form_valid(form)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6850529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244a0ac6b23b22741c02e70fe9e5186?s=128&d=identicon&r=PG&f=1", "display_name": "U.Ali", "link": "https://stackoverflow.com/users/6850529/u-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 41368988, "answer_count": 1, "score": 1, "last_activity_date": 1482955605, "creation_date": 1482955286, "last_edit_date": 1482955605, "question_id": 41368923, "link": "https://stackoverflow.com/questions/41368923/django-get-related-key-and-insert-into-database", "title": "Django - Get Related Key and Insert into Database", "body": "<p>Ok, so what I'm trying to do is allow the user to add a \"product\" to their shop but without having to choose the shop to add it to as each user will only have ONE shop. </p>\n\n<p>I'm getting the:\n\"IntegrityError at /shop/product/add/\nNOT NULL constraint failed: shop_product.business_id\"</p>\n\n<p>This is what's being shown in the local variables:\n<a href=\"https://i.stack.imgur.com/QolAv.jpg\" rel=\"nofollow noreferrer\">Local Vars</a></p>\n\n<p><strong>Local Vars:</strong></p>\n\n<pre><code>Variable    Value\n__class__   &lt;class 'shop.views.ProductCreate'&gt;\nform    &lt;AddProductForm bound=True, valid=True, fields=(product_name;product_desc;product_image)&gt;\ns    &lt;Shop: 4&gt;\nself     &lt;shop.views.ProductCreate object at 0x048B0370&gt;\nuser     10\n</code></pre>\n\n<p>Now I believe the issue might be the \"s\" variable's  as the code is actually getting the correct shop.. but it's also adding that weird \"\n\n<p>My Code as it is right now.</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code> # Shop Model. A Shop Object will be created when the user registers\nclass Shop(models.Model):\n    name = models.CharField(max_length=150)\n    owner = models.OneToOneField(User, related_name=\"owner\")\n    shop_logo = models.FileField()\n\n    def __str__(self):\n        return str(self.name) + \": \" + str(self.owner)\n\n    def create_shop(sender, **kwargs):\n        user = kwargs[\"instance\"]\n        if kwargs[\"created\"]:\n            up = Shop(owner=user)\n            up.save()\n    post_save.connect(create_shop, sender=User)\n\n    def shoplogo_or_default(self, default_path='/static/images/dft/no-img.png'):\n        if self.shop_logo:\n            return self.shop_logo\n        return default_path\n\n\n    # The class that will link a product to the shop\nclass Product(models.Model):\n            product_name = models.CharField(max_length=250)\n            # connect the product to the shop\n            business = models.ForeignKey(Shop, on_delete=models.CASCADE, related_name=\"products\")\n            product_desc = models.TextField()\n            product_image = models.FileField()\n\n            def __str__(self):\n                return self.product_name\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>class ProductCreate(CreateView):\n    model = Product\n    form_class = AddProductForm\n    template_name = 'shop/add-product.html'\n\n        def form_valid(self, form):\n        form.save(commit=False)\n        # get current logged in user\n        user = self.request.user.id\n        # match the current logged in user to an owner in the Shop model\n        s = Shop.objects.get(owner=user)\n        #  get the id of that owner's shop identification number\n        form.business = str(s.id)\n        form.save()\n        # This method is called when valid form data has been POSTed.\n        # It should return an HttpResponse.\n        return super(ProductCreate, self).form_valid(form)\n</code></pre>\n\n<p>The above should in theory get the current logged in user, match that user to a shop within the shop model as an owner and then get that shop ID.</p>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class AddProductForm(forms.ModelForm):\nclass Meta:\n    model = Product\n    fields = ['product_name', 'product_desc', 'product_image']\n    exclude = ['business']\n</code></pre>\n\n<p>I'm rather new to Django and a student so I'd like to apologise if you see anything weird.</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["python", "html", "visual-studio", "beautifulsoup", "python-3.4"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1482955344, "post_id": 41368869, "comment_id": 69939399, "body": "<code>.td</code> is looking for class named td, see <a href=\"http://stackoverflow.com/questions/13074586/extracting-selected-columns-from-a-table-using-beautifulsoup\" title=\"extracting selected columns from a table using beautifulsoup\">stackoverflow.com/questions/13074586/&hellip;</a> to get a certain column"}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "edited": false, "score": 0, "creation_date": 1482976906, "post_id": 41368869, "comment_id": 69946139, "body": "&quot;Sorry, AHD.com&#39;s Free Hospital Information service is not available to your region.&quot;. You should post html code."}, {"owner": {"reputation": 69, "user_id": 5531463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OVpgu.jpg?s=128&g=1", "display_name": "Sig", "link": "https://stackoverflow.com/users/5531463/sig"}, "edited": false, "score": 0, "creation_date": 1482979566, "post_id": 41368869, "comment_id": 69946664, "body": "I&#39;ll try to do that later, I can&#39;t reach it right now. I also tried it without the period, didn&#39;t work. Will try your suggestion, thanks."}, {"owner": {"reputation": 69, "user_id": 5531463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OVpgu.jpg?s=128&g=1", "display_name": "Sig", "link": "https://stackoverflow.com/users/5531463/sig"}, "edited": false, "score": 0, "creation_date": 1483035573, "post_id": 41368869, "comment_id": 69972477, "body": "I get the error <code>soup.findAll(&#39;table&#39;)[0] does not have the attribute tbody</code>"}, {"owner": {"reputation": 69, "user_id": 5531463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OVpgu.jpg?s=128&g=1", "display_name": "Sig", "link": "https://stackoverflow.com/users/5531463/sig"}, "edited": false, "score": 0, "creation_date": 1483035755, "post_id": 41368869, "comment_id": 69972564, "body": "I should also mention that I switched to BeautifulSoup from bs4 and to 2.7 to try to mach that code"}], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 637754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L4KrL.png?s=128&g=1", "display_name": "Governa", "link": "https://stackoverflow.com/users/637754/governa"}, "edited": false, "score": 0, "creation_date": 1482955712, "post_id": 41368913, "comment_id": 69939552, "body": "Using a regex to parse HTML/XML is not exatly pleasant and it may even be dangerous if(and you will in this case) get some part of the regex wrong"}, {"owner": {"reputation": 69, "user_id": 5531463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OVpgu.jpg?s=128&g=1", "display_name": "Sig", "link": "https://stackoverflow.com/users/5531463/sig"}, "edited": false, "score": 0, "creation_date": 1482979460, "post_id": 41368913, "comment_id": 69946633, "body": "The book I&#39;m learning all this from said regex isn&#39;t helpful, I might try it if I have to though."}, {"owner": {"reputation": 743, "user_id": 5129424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FzaynzbkUXs/AAAAAAAAAAI/AAAAAAAAAbo/tZPRVGCfGY0/photo.jpg?sz=128", "display_name": "TinkerTenorSoftwareGuy", "link": "https://stackoverflow.com/users/5129424/tinkertenorsoftwareguy"}, "reply_to_user": {"reputation": 858, "user_id": 637754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L4KrL.png?s=128&g=1", "display_name": "Governa", "link": "https://stackoverflow.com/users/637754/governa"}, "edited": false, "score": 0, "creation_date": 1483044843, "post_id": 41368913, "comment_id": 69976389, "body": "@Governa It&#39;s only dangerous if it is untested. And getting a regex &quot;wrong&quot; may be due to any number of things - format changes, malformed expressions, etc."}], "tags": [], "owner": {"reputation": 743, "user_id": 5129424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FzaynzbkUXs/AAAAAAAAAAI/AAAAAAAAAbo/tZPRVGCfGY0/photo.jpg?sz=128", "display_name": "TinkerTenorSoftwareGuy", "link": "https://stackoverflow.com/users/5129424/tinkertenorsoftwareguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1483044756, "last_edit_date": 1495535433, "creation_date": 1482955222, "answer_id": 41368913, "question_id": 41368869, "link": "https://stackoverflow.com/questions/41368869/getting-table-attributes-from-a-website/41368913#41368913", "title": "Getting Table Attributes from a Website", "body": "<p>Why not grab the entire page HTML as a string and then use a regular expression to parse it? Is that not where Python excels?</p>\n\n<p>In case you are afraid of regex, here is a beginner-friendly tutorial:\n<a href=\"https://regexone.com/\" rel=\"nofollow noreferrer\">https://regexone.com/</a></p>\n\n<p>The syntax for Python might be slightly different:\n<a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/re.html</a></p>\n\n<p>And I seriously hope you are not scraping phone numbers for nefarious purposes. I don't want a phone call from you :-).</p>\n\n<p>Here is another Stack Overflow answer which gives a good starting regex:\n<a href=\"https://stackoverflow.com/a/123666/5129424\">https://stackoverflow.com/a/123666/5129424</a></p>\n\n<p>Here's a regex for a 7 or 10 digit number, with extensions allowed, delimiters are spaces, dashes, or periods:</p>\n\n<pre><code>^(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$\n</code></pre>\n\n<p>Just because you \"might mess it up\" doesn't mean you shouldn't try it and test it. Regardless of what you do, you are either at the mercy of the structure of the page, which may change, or the format of the phone numbers, which may also change. There is no perfect solution.</p>\n"}], "owner": {"reputation": 69, "user_id": 5531463, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OVpgu.jpg?s=128&g=1", "display_name": "Sig", "link": "https://stackoverflow.com/users/5531463/sig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1483044756, "creation_date": 1482954994, "question_id": 41368869, "link": "https://stackoverflow.com/questions/41368869/getting-table-attributes-from-a-website", "title": "Getting Table Attributes from a Website", "body": "<p>I am using Python 3.4, Windows 10, and Visual Studio 2015. I am trying to make a program that scrapes phone numbers from <a href=\"https://www.ahd.com/states/hospital_AK.html\" rel=\"nofollow noreferrer\">websites formatted like this one.</a>\n I am using Beautiful Soup 4, and am trying to get the number of beds from the table. I have tried <code>soup.select('.td')</code> and it only returns an empty array, I am not sure what else to try.</p>\n"}, {"tags": ["python", "matplotlib", "violin-plot"], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 2, "last_activity_date": 1482963484, "last_edit_date": 1495535431, "creation_date": 1482963484, "answer_id": 41370480, "question_id": 41368757, "link": "https://stackoverflow.com/questions/41368757/changing-the-color-of-matplotlibs-violin-plots-in-a-subplot/41370480#41370480", "title": "Changing the color of matplotlib&#39;s violin plots in a subplot", "body": "<p>As the <a href=\"https://stackoverflow.com/a/35712079/4124317\">linked solution</a>\nsuggests, you need to work on the violinplot dictionary, like so</p>\n\n<pre><code>r = axes[1].violinplot(...)\nr['cmeans'].set_color('b')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7351263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b18cc197df2ef1ad548168db53b825?s=128&d=identicon&r=PG&f=1", "display_name": "Debbi", "link": "https://stackoverflow.com/users/7351263/debbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1953, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482963484, "creation_date": 1482954506, "last_edit_date": 1495540516, "question_id": 41368757, "link": "https://stackoverflow.com/questions/41368757/changing-the-color-of-matplotlibs-violin-plots-in-a-subplot", "title": "Changing the color of matplotlib&#39;s violin plots in a subplot", "body": "<p>I'm trying to change the color of the mean in a violin plot like is discribed here: <a href=\"https://stackoverflow.com/questions/35711151/matplotlib-differentiate-between-mean-and-median-with-colour-or-shape\">Matplotlib differentiate between mean and median with colour or shape</a></p>\n\n<p>but my violin plot is a subplot and this doesn't work. Is there a way for me to do this?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>fig, axes = plt.subplots(figsize = (16, 7), ncols = 2)\nfig.suptitle('Distribution of Domain Lengths', size = 18)\n\naxes[0].boxplot(human_pfam_domains['length'], showmeans = True)\n\naxes[1].violinplot(human_pfam_domains['length'], showmeans = True, showmedians=True, vert=True, points= 500)\n\naxes[1]['cmeans'].set_color('b')\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n&lt;ipython-input-62-22cdd9b07029&gt; in &lt;module&gt;()\n  6 axes[1].violinplot(human_pfam_domains['length'], showmeans = True, showmedians=True, vert=True, points= 500)\n  7 \n----&gt; 8 axes[1]['cmeans'].set_color('b')\n\nTypeError: 'AxesSubplot' object has no attribute '__getitem_\n</code></pre>\n\n<p>Thanks!!</p>\n"}, {"tags": ["python", "functional-programming"], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 624586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921fb9868e0ee8d79f74d7a6d556a0be?s=128&d=identicon&r=PG", "display_name": "Maarten", "link": "https://stackoverflow.com/users/624586/maarten"}, "is_accepted": false, "score": 1, "last_activity_date": 1482956037, "last_edit_date": 1482956037, "creation_date": 1482954781, "answer_id": 41368822, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm/41368822#41368822", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<p>If by functional programming, you mean by using higher order functions and lambdas:</p>\n\n<pre><code>sum(map(lambda k, v: v * stock[k], prices.items()))\n</code></pre>\n\n<p>you get an error because the expression <code>x[1:]</code> is a dictionary, not a key</p>\n"}, {"tags": [], "owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "is_accepted": false, "score": -2, "last_activity_date": 1482954922, "creation_date": 1482954922, "answer_id": 41368849, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm/41368849#41368849", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<pre><code>def total(stock):\n    return sum([v*prices[k] for k,v in stock.iteritems()]) #.iteritems() is a built in method for dicts. it returns key, value pairs\n                                                           #same as i, dict[i]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 8916, "user_id": 1478537, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bf406f0fceb7b3b5e561354374d023fb?s=128&d=identicon&r=PG", "display_name": "Guillaume Jacquenot", "link": "https://stackoverflow.com/users/1478537/guillaume-jacquenot"}, "edited": false, "score": 0, "creation_date": 1482955463, "post_id": 41368860, "comment_id": 69939450, "body": "@GuillaumeJacquenot I disagree with the edit. Pasting the output of an interactive interpreter session is common on StackOverflow. Removing the In/Out lines actually makes it non-sensical, because the last line only works like that <i>in an interactive session</i>"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1482955353, "last_edit_date": 1482955353, "creation_date": 1482954958, "answer_id": 41368860, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm/41368860#41368860", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<p>Using generator expressions or list/set/dictionary comprehensions is very functional:</p>\n\n<pre><code>In [1]: prices = {\n   ...:     \"banana\" : 4,\n   ...:     \"apple\"  : 2,\n   ...:     \"orange\" : 1.5,\n   ...:     \"pear\"   : 3,\n   ...: }\n   ...: stock = {\n   ...:     \"banana\" : 6,\n   ...:     \"apple\"  : 0,\n   ...:     \"orange\" : 32,\n   ...:     \"pear\"   : 15,\n   ...: }\n   ...:\n\nIn [2]: total_value = sum(stock[k]*prices[k] for k in stock)\n\nIn [3]: total_value\nOut[3]: 117.0\n\nIn [4]:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1482956550, "post_id": 41369150, "comment_id": 69939923, "body": "Recursion is generally to be avoided in Python. Functional != recursion."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1482957314, "post_id": 41369150, "comment_id": 69940239, "body": "?? Stop being so dramatic. I&#39;m simply stating that if you are going to give advice on how to write code in a particular language, you should not encourage the use of constructs that are generally result in inferior performance. Python is not built for recursion, there is a lot of overhead associated with allocating a new stack-frame, and there is no tail-call optimization. There is also a recursion limit. There are some cases, like walking down a tree you know isn&#39;t very deep, where the simplicity of the recursive implementation could outweigh a non-recursive implementation."}, {"owner": {"reputation": 816, "user_id": 7350549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f41b87f298f58cb8681167667e387?s=128&d=identicon&r=PG&f=1", "display_name": "LexH", "link": "https://stackoverflow.com/users/7350549/lexh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1482961608, "post_id": 41369150, "comment_id": 69941986, "body": "Oops! I apologize for my vague tone.  I wasn&#39;t trying to be dramatic at all.  I was agreeing with you.  I&#39;ve always thought functional implied heavy use of recursion.  Then I thought about what you said, and remembered some of my troubles using lots of tail-recursion in Python 3, which still emits an error when the maximum recursion depth is exceeded."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1482968232, "post_id": 41369150, "comment_id": 69944168, "body": "No, no. The apologies are mine. I misread your comment as saying &quot;StackOverflow [the site] sucks&quot;."}, {"owner": {"reputation": 816, "user_id": 7350549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f41b87f298f58cb8681167667e387?s=128&d=identicon&r=PG&f=1", "display_name": "LexH", "link": "https://stackoverflow.com/users/7350549/lexh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1482975243, "post_id": 41369150, "comment_id": 69945813, "body": "I got the error message wrong, anyway.  It should read <code>RuntimeError: maximum recursion depth exceeded</code>."}, {"owner": {"reputation": 13, "user_id": 7351295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8239cf24e82a65147575a5449c1045?s=128&d=identicon&r=PG&f=1", "display_name": "Som Bagchi", "link": "https://stackoverflow.com/users/7351295/som-bagchi"}, "edited": false, "score": 0, "creation_date": 1483025202, "post_id": 41369150, "comment_id": 69967100, "body": "I&#39;m sorry, I should have mentioned that although, it is in Python, I don&#39;t care too much about the actual language."}, {"owner": {"reputation": 816, "user_id": 7350549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f41b87f298f58cb8681167667e387?s=128&d=identicon&r=PG&f=1", "display_name": "LexH", "link": "https://stackoverflow.com/users/7350549/lexh"}, "reply_to_user": {"reputation": 13, "user_id": 7351295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8239cf24e82a65147575a5449c1045?s=128&d=identicon&r=PG&f=1", "display_name": "Som Bagchi", "link": "https://stackoverflow.com/users/7351295/som-bagchi"}, "edited": false, "score": 0, "creation_date": 1483068118, "post_id": 41369150, "comment_id": 69982587, "body": "You&#39;re welcome, @SomBagchi.  (1) I do hope you understand <i>why</i> it works.  Picking the arguments for a recursive function are tricky and require experience.  (2) Non-recursive functional style is better in Python, as juanpa.arrivillaga stated.  I think Marcus Vin&#237;cius Monteiro&#39;s dict comprehension is better in the long run."}], "tags": [], "owner": {"reputation": 816, "user_id": 7350549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f41b87f298f58cb8681167667e387?s=128&d=identicon&r=PG&f=1", "display_name": "LexH", "link": "https://stackoverflow.com/users/7350549/lexh"}, "is_accepted": true, "score": 1, "last_activity_date": 1482961730, "last_edit_date": 1482961730, "creation_date": 1482956375, "answer_id": 41369150, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm/41369150#41369150", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<p>First, let's look at the imperative loop:</p>\n\n<pre><code>total = 0\nfor key in prices:\n    total = total + prices[key]*stock[key]\nprint total\n</code></pre>\n\n<p>Examining the imperative loop, the two things that are changing every iteration are <code>total</code>, which is fine by itself, and <code>key</code>, which originates from <code>prices.keys()</code>.  So, we'll need something from those.</p>\n\n<p>Let's try rewriting the imperative loop in natural language.  I'll pick English.  For each <code>key</code> in <code>prices</code> [or perhaps that should be <code>prices.keys()</code>], increase the total by <code>prices[key]*stock[key]</code>.</p>\n\n<p>Since we cannot mutate total, let's rewrite the statement:</p>\n\n<p>For each <code>key</code> in <code>prices.keys()</code>, increase the running total by <code>prices[key]*stock[key]</code>.</p>\n\n<p>And, since the <code>prices.keys()</code> are names of fruits, let's write it again:</p>\n\n<p>For each <code>key</code> in <code>fruitNames</code>, increase the running total by <code>prices[key]*stock[key]</code>.</p>\n\n<p>Now, here is a mental jump I can't quite explain.  The hints were that <code>total</code> and <code>key</code> were changing through each iteration of the loop.  We can ignore <code>total</code> for now (because I am not going to confuse this further with tail-recursion-optimization).  For functional style, the <code>key</code> becomes the entire list of keys, <code>fruitNames</code>.</p>\n\n<pre><code>def totalRecur(fruitNames):\n</code></pre>\n\n<p>Now, let's think about the base case.  What if <code>prices</code> (and <code>stock</code>) were empty?  Well, the total would zero:</p>\n\n<pre><code>    if len(fruitNames) == 0:\n        return 0\n</code></pre>\n\n<p>That looks just fine.  Now, what if there is only one item at position zero?</p>\n\n<pre><code>    key = fruitNames[0]\n    return prices[key] * stock[key]\n</code></pre>\n\n<p>Because we know that <code>totalRecur([])</code> == 0, we can instead say</p>\n\n<pre><code>    return prices[key] * stock[key] + totalRecur([])\n</code></pre>\n\n<p>And, because the list only has one item, we know that <code>fruitNames[1:]</code> is the empty list:</p>\n\n<pre><code>    return prices[key] * stock[key] + totalRecur(fruitNames[1:])\n</code></pre>\n\n<p>That should give you enough information to write a good definition of <code>totalRecur</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5237, "user_id": 819720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5bfa5cdbed8fbe25e9fb607a3b788aa4?s=128&d=identicon&r=PG", "display_name": "Marcus Vin&#237;cius Monteiro", "link": "https://stackoverflow.com/users/819720/marcus-vin%c3%adcius-monteiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1482962153, "last_edit_date": 1495540805, "creation_date": 1482962153, "answer_id": 41370261, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm/41370261#41370261", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<p>You can use a <a href=\"https://docs.python.org/3.6/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">dict comprehension</a> to return the value you want without side effects, avoiding state and mutation too (See <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">Functional Programming</a>):</p>\n\n<pre><code>def total(prices, stock):\n    return sum([p * stock[k] for k, p in prices.items() if k in stock])\n\n&gt;&gt;&gt; total(prices, stock)\n&gt;&gt;&gt; 117.0\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/15334783/multiplying-values-from-two-different-dictionaries-together-in-python\">This answer</a> provided the inspiration.</p>\n"}], "owner": {"reputation": 13, "user_id": 7351295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8239cf24e82a65147575a5449c1045?s=128&d=identicon&r=PG&f=1", "display_name": "Som Bagchi", "link": "https://stackoverflow.com/users/7351295/som-bagchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 41369150, "answer_count": 5, "score": 1, "last_activity_date": 1482962153, "creation_date": 1482954489, "last_edit_date": 1482954561, "question_id": 41368750, "link": "https://stackoverflow.com/questions/41368750/how-would-i-convert-this-code-to-a-functional-program-as-in-the-paradigm", "title": "How would I convert this code to a functional program (as in the paradigm)?", "body": "<p>I have to calculate the total value f my stock based on the price per unit and number of units. I have the following code in Python:</p>\n\n<pre><code>prices = {\n    \"banana\" : 4,\n    \"apple\"  : 2,\n    \"orange\" : 1.5,\n    \"pear\"   : 3,\n}\nstock = {\n    \"banana\" : 6,\n    \"apple\"  : 0,\n    \"orange\" : 32,\n    \"pear\"   : 15,\n}\n\nfor key in prices:\n    print key\n    print \"price: %s\" % prices[key]\n    print \"stock: %s\" % stock[key]\n\ntotal = 0\nfor key in prices:\n    total = total + prices[key]*stock[key]\nprint total\n</code></pre>\n\n<p>And I've tried to convert it to a more functional program by replacing the last block with this:</p>\n\n<pre><code>def total(x):\n    if len(x) == 1:\n        return prices[prices.keys()[0]]*stock[prices.keys()[0]]\n    else:\n        return prices[prices.keys()[0]]*stock[prices.keys()[0]] + total(x[1:])\n\nprint total(prices)\n</code></pre>\n\n<p>The above code gets this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File \"python\", line 30, in &lt;module&gt;\n  File \"python\", line 28, in total\nTypeError: unhashable type\n</code></pre>\n\n<p>Can someone please correct my code to a more functional programming version?</p>\n"}, {"tags": ["python", "django", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 7338532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3732b2ba667ed4cd8d60c188bbd1221e?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Aggarwal", "link": "https://stackoverflow.com/users/7338532/pranav-aggarwal"}, "is_accepted": true, "score": 0, "last_activity_date": 1483003173, "creation_date": 1483003173, "answer_id": 41376580, "question_id": 41368720, "link": "https://stackoverflow.com/questions/41368720/django-contact-form-how-to-use-the-form-inside-any-template-without-a-new-url/41376580#41376580", "title": "django-contact-form how to use the form inside any template, without a new url?", "body": "<p>You can call the <code>ContactFormView</code> from the <code>contact_us</code> by:\n1. By overriding the url</p>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from contact_form.views import ContactFormView\nfrom django.views.generic import TemplateView\n\nurlpatterns = [\n# ... other URL patterns for your site ...\nurl(r'^contact_us/$',\n    ContactFormView.as_view(),\n    name='contact_form'),\nurl(r'^contact_us/sent/$',\n    TemplateView.as_view(template_name='contact_form/contact_form_sent.html'),\n    name='contact_form_sent'),\n]\n</code></pre>\n\n<p>2. If you want to customize this view</p>\n\n<p>In <strong>views.py</strong></p>\n\n<pre><code>from contact_form.views import ContactFormView\n\nclass CustomContactFormView(ContactFormView):\n    # Customize any function that you want to\n    template_name = 'custom_template.html'\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from views import CustomContactFormView\n\nurlpatterns = [\n# ... other URL patterns for your site ...\nurl(r'^contact_us/$',\n    CustomContactFormView.as_view(),\n    name='contact_form'),\n]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7351292"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 41376580, "answer_count": 1, "score": 0, "last_activity_date": 1483003173, "creation_date": 1482954337, "last_edit_date": 1482954490, "question_id": 41368720, "link": "https://stackoverflow.com/questions/41368720/django-contact-form-how-to-use-the-form-inside-any-template-without-a-new-url", "title": "django-contact-form how to use the form inside any template, without a new url?", "body": "<p>I have installed <code>django-contact-form</code>, and the default <code>url</code> to the form is <code>'contact/'</code>. But, I already have my own contact page, let's call it <code>'contact_us/'</code>, I wish to include the form inside <code>'contact_us/'</code>, using the <code>url</code> and view I already have for <code>'contact_us/'</code>.</p>\n\n<p>The usual way to do that is by using <code>{% extends 'contact_us' %}</code>, but if I do this, and remove my original <code>'contact_us/'</code> url, it gives me an <code>ReverseError</code>.</p>\n\n<p>The way I think that would be possible is if sent the <code>ContactFormView</code> (from <code>django-contact-form</code>) as context to <code>'contact_us/'</code>, but I think that's not possible because each view has it's own <code>url</code>.</p>\n\n<p>I want to know a way to be able to put the form easily inside of any template. There's probably a simple way to do that and I don't know.</p>\n"}, {"tags": ["python", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 8, "last_activity_date": 1482955012, "creation_date": 1482955012, "answer_id": 41368874, "question_id": 41368687, "link": "https://stackoverflow.com/questions/41368687/lastrowid-returning-none-in-sqlite3-in-python-3/41368874#41368874", "title": "lastrowid returning None in sqlite3 in python 3", "body": "<p>The <code>lastrowid</code> value is set <em>per cursor</em>, and only visible to that cursor.</p>\n\n<p>You need to execute your query <em>on the cursor that executed the query</em> to get the last row id. You are asking an arbitrary cursor, one that never actually is used to execute the query for a last row id, but that cursor can't know that value.</p>\n\n<p>If you actually execute the query on the <code>cursor</code> object, it works:</p>\n\n<pre><code>cursor.execute(\"INSERT INTO Category (category, parent_id) VALUES ('Food', NULL)\")\nfood_category = cursor.lastrowid\n</code></pre>\n\n<p>The <code>connection.execute()</code> function creates a new (local) cursor for that query and the last row id is only visible on that local cursor. That cursor <em>is</em> returned when you use <code>connection.execute()</code>, so you could get the same value from that return value:</p>\n\n<pre><code>cursor_used = conn.execute(\"INSERT INTO Category (category, parent_id) VALUES ('Food', NULL)\")\nfood_category = cursor_used.lastrowid\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 6580766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01ba193c4ac6bc61aaaf8ae0ddc2fd03?s=128&d=identicon&r=PG&f=1", "display_name": "christfan868", "link": "https://stackoverflow.com/users/6580766/christfan868"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3020, "favorite_count": 0, "accepted_answer_id": 41368874, "answer_count": 1, "score": 4, "last_activity_date": 1482955012, "creation_date": 1482954215, "question_id": 41368687, "link": "https://stackoverflow.com/questions/41368687/lastrowid-returning-none-in-sqlite3-in-python-3", "title": "lastrowid returning None in sqlite3 in python 3", "body": "<p>I'm having a bit of trouble trying to fix a problem I'm having in retrieving the last insert id from a query in SQLite3 using Python. \nHere's a sample of my code:</p>\n\n<pre><code>import sqlite3\n\n# Setup our SQLite Database\nconn = sqlite3.connect('value_serve.db')\nconn.execute(\"PRAGMA foreign_keys = 1\") # Enable Foreign Keys\ncursor = conn.cursor()\n\n# Create table for Categories\nconn.executescript('DROP TABLE IF EXISTS Category;')\nconn.execute('''CREATE TABLE    Category (\n                id              INTEGER PRIMARY KEY AUTOINCREMENT,\n                category        CHAR(132),\n                description     TEXT,\n                parent_id       INT,\n                FOREIGN KEY     (parent_id) REFERENCES Category (id)\n                );''')\n\nconn.execute(\"INSERT INTO Category (category, parent_id) VALUES ('Food', NULL)\")\nfood_category = cursor.lastrowid\nconn.execute(\"INSERT INTO Category (category, parent_id) VALUES ('Beverage', NULL)\")\nbeverage_category = cursor.lastrowid\n...\nconn.commit()  # Commit to Database\n</code></pre>\n\n<p>No matter what I do, when I try to get the value of 'food_category' I get a return value of 'None'. </p>\n\n<p>Any help would be appreciated, thanks in advance. </p>\n"}, {"tags": ["python", "gaussian"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1482954847, "post_id": 41368653, "comment_id": 69939191, "body": "Can you point us to the solution you found online so that we don&#39;t have to try to derive it for ourselves?"}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1482955293, "post_id": 41368653, "comment_id": 69939373, "body": "I think the solution they&#39;re referring to may be this <a href=\"http://stackoverflow.com/a/22579904/752843\">SO question</a>. So we can&#39;t entirely blame them for an atrocious lack of commenting in the code."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1482956128, "post_id": 41368653, "comment_id": 69939740, "body": "@Richard, that&#39;s what I think too."}], "answers": [{"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1482956087, "creation_date": 1482956087, "answer_id": 41369087, "question_id": 41368653, "link": "https://stackoverflow.com/questions/41368653/intersection-between-gaussian/41369087#41369087", "title": "Intersection between Gaussian", "body": "<p>I don't know where the mistake lies in your code. But I think I found the code your borrowed from and made part of the adjustment you need.</p>\n\n<pre><code>import numpy as np \nimport matplotlib.pyplot as plt \nfrom scipy.stats import norm\n\ndef solve(m1,m2,std1,std2):\n  a = 1/(2*std1**2) - 1/(2*std2**2)\n  b = m2/(std2**2) - m1/(std1**2)\n  c = m1**2 /(2*std1**2) - m2**2 / (2*std2**2) - np.log(std2/std1)\n  return np.roots([a,b,c])\n\nm1 = 5\nstd1 = 0.5\nm2 = 7\nstd2 = 1\n\nresult = solve(m1,m2,std1,std2)\n\nx = np.linspace(-5,9,10000)\nplot1=plt.plot(x,[norm.pdf(_,m1,std1) for _ in x])\nplot2=plt.plot(x,[norm.pdf(_,m2,std2) for _ in x])\nplot3=plt.plot(result[0],norm.pdf(result[0],m1,std1) ,'o')\n\nplt.show()\n</code></pre>\n\n<p>I will offer two pieces of unsolicited advice that might make life easier for you (in the way they do for me):</p>\n\n<ul>\n<li>When you adapt code try to make small, incremental changes and check that the code still works at each step.</li>\n<li>Look for existing free libraries. In this case <strong>norm</strong> from scipy is a good replacement for what was used in the original code.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1482956543, "last_edit_date": 1492087457, "creation_date": 1482956543, "answer_id": 41369175, "question_id": 41368653, "link": "https://stackoverflow.com/questions/41368653/intersection-between-gaussian/41369175#41369175", "title": "Intersection between Gaussian", "body": "<p>The mistake is here. This line:</p>\n\n<pre><code>def plot_normal(x, mean = 0, sigma = 1):\n  return 1.0/(2*np.pi*sigma**2) * np.exp(-((x-mean)**2)/(2*sigma**2))\n</code></pre>\n\n<p>Should be this:</p>\n\n<pre><code>def plot_normal(x, mean = 0, sigma = 1):\n  return 1.0/np.sqrt(2*np.pi*sigma**2) * np.exp(-((x-mean)**2)/(2*sigma**2))\n</code></pre>\n\n<p>You forgot the <code>sqrt</code>.</p>\n\n<p>It would be wiser to use a pre-existing normal pdf if that's available, such as:</p>\n\n<pre><code>import scipy.stats\ndef plot_normal(x, mean = 0, sigma = 1):\n  return scipy.stats.norm.pdf(x,loc=mean,scale=sigma)\n</code></pre>\n\n<p>It's also possible to solve for the intersections exactly. <a href=\"https://stats.stackexchange.com/a/12213/12116\">This answer</a> provides a quadratic equation for the roots of the Gaussians' intersections. Using maxima to solve for x gives the following expression. Which, while complicated, does not rely on iterative methods and can be automatically generated from simpler expressions.</p>\n\n<pre><code>def solve_gaussians(m1,s1,m2,s2):\n  x1 = (s1*s2*np.sqrt((-2*np.log(s1/s2)*s2**2)+2*s1**2*np.log(s1/s2)+m2**2-2*m1*m2+m1**2)+m1*s2**2-m2*s1**2)/(s2**2-s1**2)\n  x2 = -(s1*s2*np.sqrt((-2*np.log(s1/s2)*s2**2)+2*s1**2*np.log(s1/s2)+m2**2-2*m1*m2+m1**2)-m1*s2**2+m2*s1**2)/(s2**2-s1**2)\n  return x1,x2\n</code></pre>\n\n<p>Putting it altogether gives:</p>\n\n<pre><code>import numpy as np \nimport matplotlib.pyplot as plt \nimport scipy.stats\n\ndef plot_normal(x, mean = 0, sigma = 1):\n  return scipy.stats.norm.pdf(x,loc=mean,scale=sigma)\n\n#Use the equation from [this answer](https://stats.stackexchange.com/a/12213/12116) solved for x\ndef solve_gaussians(m1,s1,m2,s2):\n  x1 = (s1*s2*np.sqrt((-2*np.log(s1/s2)*s2**2)+2*s1**2*np.log(s1/s2)+m2**2-2*m1*m2+m1**2)+m1*s2**2-m2*s1**2)/(s2**2-s1**2)\n  x2 = -(s1*s2*np.sqrt((-2*np.log(s1/s2)*s2**2)+2*s1**2*np.log(s1/s2)+m2**2-2*m1*m2+m1**2)-m1*s2**2+m2*s1**2)/(s2**2-s1**2)\n  return x1,x2\n\ns = np.linspace(0, 14,300)\nx = solve_gaussians(5.0,0.5,7.0,1.0)\n\nplt.figure('Baseline Distributions')\nplt.title('Baseline Distributions')\nplt.xlabel('Response Rate')\nplt.ylabel('Probability')\nplt.plot(s, plot_normal(s, 5.0, 0.5),'r', label='s1')\nplt.plot(s, plot_normal(s, 7.0, 1.0),'b', label='s2')\nplt.plot(x[0],plot_normal(x[0],5.,0.5),'mo')\nplt.plot(x[1],plot_normal(x[1],5.,0.5),'mo')\nplt.legend()\nplt.show()\n</code></pre>\n\n<p>Giving:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2FiEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FiEk.png\" alt=\"Intersection of Gaussians\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 5316984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89aaf78a23ca896b71dad4bf505dd2bb?s=128&d=identicon&r=PG&f=1", "display_name": "Gwidryj", "link": "https://stackoverflow.com/users/5316984/gwidryj"}, "is_accepted": true, "score": 0, "last_activity_date": 1482958320, "last_edit_date": 1482958320, "creation_date": 1482957460, "answer_id": 41369377, "question_id": 41368653, "link": "https://stackoverflow.com/questions/41368653/intersection-between-gaussian/41369377#41369377", "title": "Intersection between Gaussian", "body": "<p>You have a small bug in <code>plot_normal</code> function - you are missing square root in the denominator. Proper version:</p>\n\n<pre><code>def plot_normal(x, mean = 0, sigma = 1):\n    return 1.0/np.sqrt(2*np.pi*sigma**2) * np.exp(-((x-mean)**2)/(2*sigma**2))\n</code></pre>\n\n<p>gives the expected result:\n<a href=\"https://i.stack.imgur.com/Pnh1a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pnh1a.png\" alt=\"enter image description here\"></a></p>\n\n<p>And two remarks.</p>\n\n<ol>\n<li>Remember that you can have 2 roots of the equation in general (two intersection points), and this is the case with parameters you provided.</li>\n<li><p>As far as I know <code>np.roots</code> gives you approximate result, but you cat get exact result easily, rewriting <code>solve_gasussians</code> function as:</p>\n\n<pre><code>def solve_gasussians(m1, s1, m2, s2):\n    # coefficients of quadratic equation ax^2 + bx + c = 0\n    a = (s1**2.0) - (s2**2.0)\n    b = 2 * (m1 * s2**2.0 - m2 * s1**2.0)\n    c = m2**2.0 * s1**2.0 - m1**2.0 * s2**2.0 - 2 * s1**2.0 * s2**2.0 * np.log(s1/s2)\n    x1 = (-b + np.sqrt(b**2.0 - 4.0 * a * c)) / (2.0 * a)\n    x2 = (-b - np.sqrt(b**2.0 - 4.0 * a * c)) / (2.0 * a)\n    return x1, x2\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 731, "user_id": 6347839, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/108a0c420ed46b19279b7e71fe5d008a?s=128&d=identicon&r=PG&f=1", "display_name": "jlarks32", "link": "https://stackoverflow.com/users/6347839/jlarks32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 41369377, "answer_count": 3, "score": 2, "last_activity_date": 1482958320, "creation_date": 1482954038, "question_id": 41368653, "link": "https://stackoverflow.com/questions/41368653/intersection-between-gaussian", "title": "Intersection between Gaussian", "body": "<p>I'm just trying to plot two gaussians and to find the intersection point. I have the following code. It's not plotting the exact intersection though and I really cannot figure out why. It's like just barely slightly off but I worked through the derived solution if we took the log of subtracted gaussians and yeah it seems like it should be correct. Can anyone help? Thank you so much!</p>\n\n<pre><code>import numpy as np \nimport matplotlib.pyplot as plt \n\ndef plot_normal(x, mean = 0, sigma = 1):\n    return 1.0/(2*np.pi*sigma**2) * np.exp(-((x-mean)**2)/(2*sigma**2))\n\n# found online\ndef solve_gasussians(m1, s1, m2, s2):\n  a = 1.0/(2.0*s1**2) - 1.0/(2.0*s2**2)\n  b = m2/(s2**2) - m1/(s1**2)\n  c = m1**2 /(2*s1**2) - m2**2 / (2.0*s2**2) - np.log(s2/s1)\n  return np.roots([a,b,c])\n\ns1 = np.linspace(0, 10,300)\ns2 = np.linspace(0, 14, 300)\n\nsolved_val = solve_gasussians(5.0, 0.5, 7.0, 1.0)\nprint solved_val\nsolved_val = solved_val[0]\nplt.figure('Baseline Distributions')\nplt.title('Baseline Distributions')\nplt.xlabel('Response Rate')\nplt.ylabel('Probability')\nplt.plot(s1, plot_normal(s1, 5.0, 0.5),'r', label='s1')\nplt.plot(s2, plot_normal(s2, 7.0, 1.0),'b', label='s2')\nplt.plot(solved_val, plot_normal(solved_val, 7.0, 1.0), 'mo')\nplt.legend()\nplt.show()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3445, "user_id": 2396502, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R6e2l.png?s=128&g=1", "display_name": "Peaceful", "link": "https://stackoverflow.com/users/2396502/peaceful"}, "edited": false, "score": 1, "creation_date": 1482954112, "post_id": 41368607, "comment_id": 69938888, "body": "Try printing something after <code>checkWin==True.</code>"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1482954166, "post_id": 41368607, "comment_id": 69938914, "body": "<code>while checkWin == True:</code>  --&gt; <code>while checkWin() == True:</code>"}, {"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1482954242, "post_id": 41368607, "comment_id": 69938948, "body": "<code>while checkWin() == True:</code> is unnecessary because by the time the code reaches this point <code>checkWin()</code> is True (this is after a <code>while checkWin() ==False</code>) so you can just have your <code>if...elif...else</code>"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1482954403, "post_id": 41368607, "comment_id": 69939020, "body": "It would be more useful if <code>checkWin</code> would return the number of the player that won. Then you don&#39;t have to repeat all those checks to know who did."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1482954813, "post_id": 41368607, "comment_id": 69939179, "body": "You can get rid of all those <code>if&#47;elif</code> chains by creating a list of tuples with the winning sequences: <code>[(1,2,3),(4,5,6),(7,8,9), ...]</code>, and then looping through them."}], "owner": {"reputation": 45, "user_id": 7351297, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YoGf1glncqA/AAAAAAAAAAI/AAAAAAAAABE/AKEbQXD6Yxo/photo.jpg?sz=128", "display_name": "Something", "link": "https://stackoverflow.com/users/7351297/something"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482953895, "creation_date": 1482953895, "question_id": 41368607, "link": "https://stackoverflow.com/questions/41368607/python-tictactoe-error", "title": "Python - TicTacToe Error", "body": "<p>So this is my tic tac toe python game, but the result is that after someone wins, you have to choose another square before it ends, and when it ends, it never shows 'player one won!' or 'player two won!' I'm not sure why that is happening. Can someone please help?</p>\n\n<pre><code># Tic Tac Toe Game\nimport time\nimport sys\nwho = 'p1'\nfinished = 'no'\nboard = [0,1,2,\n         3,4,5,\n         6,7,8]\n\ndef show():\n    print (board[0], '|', board [1], '|', board[2])\n    print ('---------')\n    print (board[3], '|', board [4], '|', board[5])\n    print ('---------')\n    print (board[6], '|', board [7], '|', board[8])\n\ndef checkWin():\n    if board[0] == 'x' and board[3] == 'x' and board[6] == 'x':\n        finished = 'yes'\n        return True\n    elif board[0] == 'y' and board[3] == 'y' and board[6] == 'y':\n        finished = 'yes'\n        return True\n    elif board[1] == 'x' and board[4] == 'x' and board[7] == 'x':\n        finished = 'yes'\n        return True\n    elif board[1] == 'y' and board[4] == 'y' and board[7] == 'y':\n        finished = 'yes'\n        return True\n    elif board[2] == 'y' and board[5] == 'y' and board[8] == 'y':\n        finished = 'yes'\n        return True\n    elif board[2] == 'x' and board[5] == 'x' and board[8] == 'x':\n        finished = 'yes'\n        return True\n    elif board[0] == 'y' and board[1] == 'y' and board[2] == 'y':\n        finished = 'yes'\n        return True\n    elif board[0] == 'x' and board[1] == 'x' and board[2] == 'x':\n        finished = 'yes'\n        return True\n    elif board[3] == 'x' and board[4] == 'x' and board[5] == 'x':\n        finished = 'yes'\n        return True\n    elif board[3] == 'y' and board[4] == 'y' and board[5] == 'y':\n        finished = 'yes'\n        return True\n    elif board[6] == 'y' and board[7] == 'y' and board[8] == 'y':\n        finished = 'yes'\n        return True\n    elif board[6] == 'x' and board[7] == 'x' and board[8] == 'x':\n        finished = 'yes'\n        return True\n    elif board[0] == 'x' and board[4] == 'x' and board[8] == 'x':\n        finished = 'yes'\n        return True\n    elif board[0] == 'y' and board[4] == 'y' and board[8] == 'y':\n        finished = 'yes'\n        return True\n    elif board[2] == 'y' and board[4] == 'y' and board[6] == 'y':\n        finished = 'yes'\n        return True\n    elif board[2] == 'x' and board[4] == 'x' and board[6] == 'x':\n        finished = 'yes'\n        return True\n    else:\n        return False\n\nprint ('Welcome to a two-player Tic.Tac.Toe Game!')\ntime.sleep(2)\nprint (\"Just pick a spot to put your mark!\")\ntime.sleep(1.5)\nprint ('Now, start!')\ntime.sleep(0.2)\nprint (show())\n\nwhile checkWin() == False:\n    while who == 'p1':\n        try:\n            p1 = int(input('Player 1, select a spot: '))\n\n            if board[p1] != 'x' and board[p1] != 'o':\n                board[p1] = 'x'\n                who = 'p2'\n                break\n\n            else:\n                print ('This spot is taken.')\n                pass\n\n        except (ValueError, IndexError):\n            print ('That is not available. Please try again.')\n\n    print (show())\n    while who == 'p2':\n        try:\n            p2 = int(input('Player 2, select a spot: '))\n\n            if board[p2] != 'x' and board[p2] != 'o':\n                board[p2] = 'o'\n                who = 'p1'\n                break\n\n            else:\n                print ('This spot is taken.')\n                pass\n\n        except (ValueError, IndexError):\n            print ('That is not available. Please try again.')\n\n    print (show())\nwhile checkWin == True:\n    # x\n    if board[0] == 'x' and board[3] == 'x' and board[6] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[1] == 'x' and board[4] == 'x' and board[7] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[2] == 'x' and board[5] == 'x' and board[8] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[0] == 'x' and board[1] == 'x' and board[2] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[3] == 'x' and board[4] == 'x' and board[5] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[6] == 'x' and board[7] == 'x' and board[8] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[0] == 'x' and board[4] == 'x' and board[8] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    elif board[2] == 'x' and board[4] == 'x' and board[6] == 'x':\n        print ('Player 1 won!')\n        sys.exit()\n    # y\n    else:\n        print ('Player 2 won!')\n        sys.exit()\n</code></pre>\n"}, {"tags": ["python", "function", "time", "measurement"], "comments": [{"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1482953847, "post_id": 41368563, "comment_id": 69938773, "body": "sum([count_once(I) for I in range(100)])/100.0?"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "reply_to_user": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1482953949, "post_id": 41368563, "comment_id": 69938824, "body": "@kabanus but I need 100 different averages. I would like to measure time 10 times for each C and then count an average for each C."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1482954140, "post_id": 41368563, "comment_id": 69938900, "body": "So you mean you mean you want to average count_once over 10 times for 10 different arguments? Say C=0...9?"}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "reply_to_user": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1482954370, "post_id": 41368563, "comment_id": 69939008, "body": "@kabanus I would like to use count_once 10 times for C = 1. And count the average. Then use count_once 10 times for C = 2. And again - average. And so on till C = 100. At the end I would like to have 100 averages for each C."}], "answers": [{"comments": [{"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1482954555, "post_id": 41368752, "comment_id": 69939080, "body": "I want to note here that range(0,101,1)=range(101) and yields numbers from 0 to 100 (101 numbers)."}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1482955017, "post_id": 41368752, "comment_id": 69939254, "body": "Thanks a lot! That really helps me and what is nice - the solution isn&#39;t very complex. Yes, of course - you&#39;re right. I made a mistake with ranges. Is the elimination of the timing overhead really important?"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1482955106, "post_id": 41368752, "comment_id": 69939289, "body": "Usually is. Try and test it! Run the count function with times=1,10,100,1000 and see if there are differences! Also don&#39;t forget to mark accepted - that&#39;s the V next to the up/downvote - so users know this has been answered."}, {"owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "edited": false, "score": 0, "creation_date": 1482955217, "post_id": 41368752, "comment_id": 69939337, "body": "Thanks. I&#39;m going to test it :) I&#39;m new to Python so I need some time to learn what is and what isn&#39;t important!"}], "tags": [], "owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "is_accepted": true, "score": 2, "last_activity_date": 1482954491, "creation_date": 1482954491, "answer_id": 41368752, "question_id": 41368563, "link": "https://stackoverflow.com/questions/41368563/time-measurement-many-measurements-and-variable-in-an-iterval/41368752#41368752", "title": "Time measurement - many measurements and variable in an iterval", "body": "<p>Why not:</p>\n\n<pre><code>for C in range(100):\n     print \"C=\",C,\"averages\",sum([count_once(C) for_ in range(10)])/10.0\n</code></pre>\n\n<p>You can easily change the first <code>range(100)</code> with any list/iterable of <code>C</code> values you want to test, and the 10s on the second line with the amount you want to average over.</p>\n\n<p>By the way to eliminate the timing overhead I would go about this a bit differently:</p>\n\n<pre><code>def count(c,times):\n    start = time.perf_counter()\n    for _ in range(times): amount(c)\n    return (time.perf_counter() - start)/float(times)\n</code></pre>\n\n<p>Then your outer loop becomes:</p>\n\n<pre><code>for C in range(100): print \"C=\",C,\"averages\",count(C,10)\n</code></pre>\n\n<p>I would probably use more times than 10 (say 100 or 1000 at least).</p>\n"}], "owner": {"reputation": 529, "user_id": 7346393, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dgps3.png?s=128&g=1", "display_name": "Hendrra", "link": "https://stackoverflow.com/users/7346393/hendrra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 41368752, "answer_count": 1, "score": 0, "last_activity_date": 1482954491, "creation_date": 1482953650, "question_id": 41368563, "link": "https://stackoverflow.com/questions/41368563/time-measurement-many-measurements-and-variable-in-an-iterval", "title": "Time measurement - many measurements and variable in an iterval", "body": "<p>I am to measure how long does it take for my function to represent C:</p>\n\n<pre><code>C in range (0, 100, 1)\n</code></pre>\n\n<p>with integers from a list which is given.\nThere is my code:</p>\n\n<pre><code>import itertools\nimport time    \ndef amount(c):\n    a = [1, 2, 5, 10, 20, 50]\n\n    dp = [[0 for _ in range(len(a))] for __ in range(c + 1)]\n    dp[0][0] = 1\n\n    for i in range(c):\n        for j in range(len(a)):\n            for k in range(j, len(a)):\n                if i + a[k] &lt;= c:\n                     dp[i + a[k]][k] += dp[i][j]\n\n    return sum(dp[c])\n</code></pre>\n\n<p>I decided to create a function which measures how long does one call of my function last:</p>\n\n<pre><code>def count_once(c):\n    start = time.perf_counter()\n    amount(c)\n    return time.perf_counter() - start\n</code></pre>\n\n<p>It's pretty easy. Now I would like to make 10 measurements for each C from 0 to 100 and then to count the average from those measurements for each C.<br>\nSo the output should contain 100 numbers (each number would be the average).<br>\nI started with this:</p>\n\n<pre><code>for i in range(0, 101, 1):\n    count_once(i)\n    print(count_once(i))\n</code></pre>\n\n<p>But I have no idea how can I use that formula to calculate an average of 10 measurements for each C.</p>\n"}, {"tags": ["python", "python-2.7", "list", "for-loop", "compare"], "answers": [{"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1482954283, "last_edit_date": 1482954283, "creation_date": 1482953955, "answer_id": 41368625, "question_id": 41368558, "link": "https://stackoverflow.com/questions/41368558/python-compare-user-input-with-list-and-append-to-a-new-list-limitng-the-entry/41368625#41368625", "title": "python - compare user input with list and append to a new list limitng the entry items", "body": "<p>If you want to use <code>while</code> loop, you can try:</p>\n\n<pre><code>num = input(\"Enter your disciplines number &gt;&gt; \")  # This is not required if you want to fix num to 5\nj = 0\n\nwhile j &lt; int(num):\n    d = raw_input(\"enter your choice of discipline &gt;&gt; \")\n    d = str(d)\n\n    found_d = False\n    for i in discipline_list:\n        if d == i:\n            found_d = True\n\n    if found_d:\n        your_disciplines.append(d)\n    else:\n        print(\"Incorrect entry\")\n    j += 1\n</code></pre>\n\n<p><strong>Some notes:</strong></p>\n\n<p>Instead of:</p>\n\n<pre><code>for i in discipline_list:\n    if d == i:\n        found_d = True\n</code></pre>\n\n<p>You can do:</p>\n\n<pre><code>if d in discipline_list:\n    found_d = True\n</code></pre>\n\n<p>Also, you do not need to use <code>found_d</code> variable.</p>\n\n<p>A simplified code could be:</p>\n\n<pre><code>num = input(\"Enter your disciplines number &gt;&gt; \")\ni = 0\n\nwhile i &lt; int(num):\n    d = raw_input(\"enter your choice of discipline &gt;&gt; \")\n    d = str(d)\n\n    if d in discipline_list:\n        your_disciplines.append(d)\n    else:\n        print(\"Incorrect entry\")\n    i += 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7351142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ILD5vAkXFPU/AAAAAAAAAAI/AAAAAAAADIo/fRbVGsUJbqw/photo.jpg?sz=128", "display_name": "Vitek Rous", "link": "https://stackoverflow.com/users/7351142/vitek-rous"}, "edited": false, "score": 0, "creation_date": 1482999953, "post_id": 41368664, "comment_id": 69953106, "body": "Your code simlify it really well. I only had to make one simple change to check if the user entry is in the main list and add condition to check if the entry is not already in new user list (so user can&#39;t repeat correct inputs). It functions very well now, thanks      <code>if d in discipline_list and not d in your_disciplines:</code>           <code>your_disciplines.append(d)</code>"}], "tags": [], "owner": {"reputation": 2189, "user_id": 783836, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG", "display_name": "user783836", "link": "https://stackoverflow.com/users/783836/user783836"}, "is_accepted": true, "score": 0, "last_activity_date": 1482954080, "creation_date": 1482954080, "answer_id": 41368664, "question_id": 41368558, "link": "https://stackoverflow.com/questions/41368558/python-compare-user-input-with-list-and-append-to-a-new-list-limitng-the-entry/41368664#41368664", "title": "python - compare user input with list and append to a new list limitng the entry items", "body": "<p>To combine both conditions, check the length of <code>your_disciplines</code> as the <code>while</code> loop condition and only exit when you have 5.</p>\n\n<pre><code>while len(your_disciplines) &lt; 5:\n    d = raw_input(\"enter your choice of discipline &gt;&gt; \")\n    d = str(d)\n\n    if d not in your_disciplines:\n        your_disciplines.append(d)\n    else:\n        print(\"Incorrect entry\")\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7351142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ILD5vAkXFPU/AAAAAAAAAAI/AAAAAAAADIo/fRbVGsUJbqw/photo.jpg?sz=128", "display_name": "Vitek Rous", "link": "https://stackoverflow.com/users/7351142/vitek-rous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1510, "favorite_count": 0, "accepted_answer_id": 41368664, "answer_count": 2, "score": 0, "last_activity_date": 1482954283, "creation_date": 1482953635, "question_id": 41368558, "link": "https://stackoverflow.com/questions/41368558/python-compare-user-input-with-list-and-append-to-a-new-list-limitng-the-entry", "title": "python - compare user input with list and append to a new list limitng the entry items", "body": "<p>I'm learning the python with LPTHW and I'm trying to build own game as exercise 36. I want the user to enter a specific string from the set of 10 disciplines. I can compare the input with defined list, but I can't limit the user to only 5 items. Rather I can restrict the user to only five inputs but not to do both.</p>\n\n<p>I created list of disciplines (originally strings-names</p>\n\n<pre><code>discipline_list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>Then I created an empty list</p>\n\n<pre><code>your_disciplines = []\n</code></pre>\n\n<p>Here's the code for comparing user input with discipline_list and appending user input to a new empty list (code from other answer).</p>\n\n<pre><code>while True:\n    d = raw_input(\"enter your choice of discipline &gt;&gt; \")\n    d = str(d)\n\n    found_d = False\n    for i in discipline_list:\n        if d == i:\n            found_d = True\n\n    if found_d:\n        your_disciplines.append(d)\n    else:\n        print(\"Incorrect entry\")\n</code></pre>\n\n<p>I can use the for-loop for limiting the user entries, but I can't combine it with comparing. All of my attempts ran more than five times.</p>\n\n<pre><code>for d in range(0, 5):\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["python", "algorithm", "pandas", "optimization"], "comments": [{"owner": {"reputation": 7235, "user_id": 6626530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2d315fdb052dd476609a7039a317757?s=128&d=identicon&r=PG&f=1", "display_name": "Shijo", "link": "https://stackoverflow.com/users/6626530/shijo"}, "edited": false, "score": 0, "creation_date": 1482956716, "post_id": 41368547, "comment_id": 69939975, "body": "Sorry , the question is not clear . can you please post the expected output"}], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 4899308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a54739081b9c622d7ee3d9fcf0656b2?s=128&d=identicon&r=PG&f=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/4899308/bmw"}, "edited": false, "score": 0, "creation_date": 1482970498, "post_id": 41369911, "comment_id": 69944826, "body": "Hi @piRSquared, I wasn&#39;t able to produce the expected outcome with this code."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 509, "user_id": 4899308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a54739081b9c622d7ee3d9fcf0656b2?s=128&d=identicon&r=PG&f=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/4899308/bmw"}, "edited": false, "score": 0, "creation_date": 1482973072, "post_id": 41369911, "comment_id": 69945390, "body": "@BMW I&#39;ve updated my answer, apologies for the confusion."}, {"owner": {"reputation": 509, "user_id": 4899308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a54739081b9c622d7ee3d9fcf0656b2?s=128&d=identicon&r=PG&f=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/4899308/bmw"}, "edited": false, "score": 0, "creation_date": 1482974781, "post_id": 41369911, "comment_id": 69945730, "body": "Thanks! Nice solution."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1482973047, "last_edit_date": 1482973047, "creation_date": 1482960247, "answer_id": 41369911, "question_id": 41368547, "link": "https://stackoverflow.com/questions/41368547/counting-present-entities-on-each-day-given-each-entities-present-date-range-op/41369911#41369911", "title": "Counting present entities on each day given each entities present date range (optimization)", "body": "<p>First order of business, convert columns to datetime:</p>\n\n<pre><code>data = data.apply(pd.to_datetime)\n</code></pre>\n\n<p>Second order of business, create an index of days from min date to max date.</p>\n\n<pre><code>v = data.values\ntidx = pd.date_range(v.min(), v.max())\n</code></pre>\n\n<hr>\n\n<p>Now use numpy broadcasting to evaluate what's greater than/less than what and count.</p>\n\n<pre><code>data = data.apply(pd.to_datetime)\n\nv = data.values\ntidx = pd.date_range(v.min(), v.max())\n\nstarts = data.start.values[:, None] &lt;= tidx.values\nends = data.end.values[:, None] &gt;= tidx.values\n\npd.Series((starts &amp; ends).sum(0), tidx)\n\n2016-12-24    1\n2016-12-25    1\n2016-12-26    2\n2016-12-27    5\n2016-12-28    5\n2016-12-29    5\n2016-12-30    4\n2016-12-31    4\n2017-01-01    1\nFreq: D, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 4899308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a54739081b9c622d7ee3d9fcf0656b2?s=128&d=identicon&r=PG&f=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/4899308/bmw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 41369911, "answer_count": 1, "score": 1, "last_activity_date": 1482973047, "creation_date": 1482953574, "last_edit_date": 1482970902, "question_id": 41368547, "link": "https://stackoverflow.com/questions/41368547/counting-present-entities-on-each-day-given-each-entities-present-date-range-op", "title": "Counting present entities on each day given each entities present date range (optimization)", "body": "<p>An entity is present for a given continuous date range. Assuming a collection of such entities, calculate the count of present entities on each day from the oldest start date to the newest end date in the collection.</p>\n\n<p>For example, consider the following dataset which contains one entity per row. </p>\n\n<pre><code>        start         end\n0  2016-12-24  2017-01-01\n1  2016-12-26  2016-12-31\n2  2016-12-27  2016-12-31\n3  2016-12-27  2016-12-29\n4  2016-12-27  2016-12-31\n</code></pre>\n\n<p>The expected output should be:</p>\n\n<pre><code>            entity_count\n2016-12-24           1.0\n2016-12-25           1.0\n2016-12-26           2.0\n2016-12-27           5.0\n2016-12-28           5.0\n2016-12-29           5.0\n2016-12-30           4.0\n2016-12-31           4.0\n2017-01-01           1.0\n</code></pre>\n\n<p><strong>Does a solution exist that performs better than the naive approach provided below?</strong></p>\n\n<p>naive approach (iterates by entity)</p>\n\n<pre><code>import datetime\nimport numpy as np\nimport pandas as pd\n\ndef sample(n=100, rng=50, dt=datetime.date.today(), seed=True):\n    if seed:\n        np.random.seed(30)\n    for i in range(n):\n        start = dt - datetime.timedelta(np.random.randint(rng))\n        end = dt + datetime.timedelta(np.random.randint(rng))\n        yield (start, end)\n\ndef agg_rng(df, start, end):\n    idx = pd.date_range(df[start].min(), df[end].max())\n    base = pd.DataFrame(np.zeros(len(idx)), idx, ['entity_count'])\n    for i, s in df.iterrows():\n        idx = pd.date_range(s[start], s[end])\n        entity = pd.DataFrame(np.ones(len(idx)), idx, ['entity_count'])\n        base = base.add(entity, fill_value=0)\n    return base\n\n# generates the above example\ndata = pd.DataFrame([x for x in sample(5, 5)], columns=['start', 'end'])\nagg_rng(data, 'start', 'end')\n</code></pre>\n\n<p>With 10,000 entities and a range of +/- 1,000 days <code>agg_rng</code> takes 16s.</p>\n\n<pre><code>data = pd.DataFrame([x for x in sample(10000, 1000)], columns=['start', 'end'])\nagg_rng(data, 'start', 'end')\n</code></pre>\n"}, {"tags": ["python", "opencv", "numpy"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1482960015, "post_id": 41368492, "comment_id": 69941341, "body": "Something like <a href=\"http://docs.opencv.org/trunk/d2/de8/group__core__array.html#gaed7df59a3539b4cc0fe5c9c8d7586190\" rel=\"nofollow noreferrer\"><code>findNonZero</code></a>? NB: It exists even in the 2.4 branch, although for some reason documentation doesn&#39;t seem to mention it. Or you could go with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.nonzero.html#numpy.nonzero\" rel=\"nofollow noreferrer\"><code>numpy.nonzero</code></a>."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1482960411, "post_id": 41368492, "comment_id": 69941480, "body": "Another option would be <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\" rel=\"nofollow noreferrer\"><code>numpy.where</code></a>. Something like <code>blue_vals = blue[np.where(mask &gt; 0)]</code>..."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1482973226, "post_id": 41368492, "comment_id": 69945416, "body": "@DanMa\u0161ek, the one-argument form of <code>where</code> is identical to <code>nonzero</code>, so that&#39;s really just the same option. Also, <code>blue[mask &gt; 0]</code> is a shorter way of spelling that"}, {"owner": {"reputation": 33, "user_id": 4920899, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5c03ef79c3682fca4bd9e054e5bade61?s=128&d=identicon&r=PG&f=1", "display_name": "Exclusiveicon", "link": "https://stackoverflow.com/users/4920899/exclusiveicon"}, "edited": false, "score": 0, "creation_date": 1483026721, "post_id": 41368492, "comment_id": 69967969, "body": "I&#39;m trying to use your suggestion of blueval = blue[mask&gt;0]  I&#39;m getting a type error saying that only integer arrays with 1 element can be added to an index.   a solution for that error suggested that you turn blue[] in the an np.array[]  but then that gave me an index error &quot;index 992 is out of bounds of axis..&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1482973413, "creation_date": 1482973413, "answer_id": 41371851, "question_id": 41368492, "link": "https://stackoverflow.com/questions/41368492/how-would-you-take-the-white-pixels-generated-by-a-mask-and-put-them-into-a-list/41371851#41371851", "title": "how would you take the white pixels generated by a mask and put them into a list", "body": "<p>It sounds like you're simply looking for:</p>\n\n<pre><code>rgb = cropimg[mask,:]  # or mask &gt; 0, if mask is not a boolean array\n</code></pre>\n\n<p>which will return an <code>Nx3</code> array of the pixels under the mask</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4920899, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5c03ef79c3682fca4bd9e054e5bade61?s=128&d=identicon&r=PG&f=1", "display_name": "Exclusiveicon", "link": "https://stackoverflow.com/users/4920899/exclusiveicon"}, "edited": false, "score": 0, "creation_date": 1483025219, "post_id": 41379764, "comment_id": 69967115, "body": "thanks for your answer, I&#39;m getting a value error at &quot;if closing[y, x] == (0, 0, 0):&quot; value error:  &quot;the truth value of an array with more then one element is ambiguous try a.all() or a.any()"}], "tags": [], "owner": {"reputation": 2368, "user_id": 7224320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f3cKz1WtSmo/AAAAAAAAAAI/AAAAAAAAAMo/Sd5vYEkZY8U/photo.jpg?sz=128", "display_name": "ebeneditos", "link": "https://stackoverflow.com/users/7224320/ebeneditos"}, "is_accepted": false, "score": 1, "last_activity_date": 1483032798, "last_edit_date": 1483032798, "creation_date": 1483014517, "answer_id": 41379764, "question_id": 41368492, "link": "https://stackoverflow.com/questions/41368492/how-would-you-take-the-white-pixels-generated-by-a-mask-and-put-them-into-a-list/41379764#41379764", "title": "how would you take the white pixels generated by a mask and put them into a list", "body": "<p>In order to get the lists you asked, you can do it like:</p>\n\n<pre><code>coords, colors = [], []\nfor y in range(closing.shape[0]):\n    for x in range(closing.shape[1]):\n        if np.all(closing[y, x] &gt; 0):\n            coords.append((y, x))\n            colors.append(original[y, x])\n</code></pre>\n\n<p>Thus you get a list with the white coordinates and the BGR values in those coordinates in the original image.</p>\n"}, {"comments": [{"owner": {"reputation": 2368, "user_id": 7224320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f3cKz1WtSmo/AAAAAAAAAAI/AAAAAAAAAMo/Sd5vYEkZY8U/photo.jpg?sz=128", "display_name": "ebeneditos", "link": "https://stackoverflow.com/users/7224320/ebeneditos"}, "edited": false, "score": 0, "creation_date": 1483032985, "post_id": 41383825, "comment_id": 69971279, "body": "I know, it is not the optimal way, maybe you should look for another approach. I edited my answer btw!"}], "tags": [], "owner": {"reputation": 33, "user_id": 4920899, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5c03ef79c3682fca4bd9e054e5bade61?s=128&d=identicon&r=PG&f=1", "display_name": "Exclusiveicon", "link": "https://stackoverflow.com/users/4920899/exclusiveicon"}, "is_accepted": false, "score": 1, "last_activity_date": 1483029970, "creation_date": 1483029970, "answer_id": 41383825, "question_id": 41368492, "link": "https://stackoverflow.com/questions/41368492/how-would-you-take-the-white-pixels-generated-by-a-mask-and-put-them-into-a-list/41383825#41383825", "title": "how would you take the white pixels generated by a mask and put them into a list", "body": "<p>ebeneditos, I found that this works, but for large images it takes too much time.</p>\n\n<pre><code> coords, colors = [], []\n    for y in range(closing.shape[0]):\n        for x in range(closing.shape[1]):\n            if np.all(closing[y, x] &gt; 0):\n                coords.append((y, x))\n                colors.append(img[y, x])\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4920899, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5c03ef79c3682fca4bd9e054e5bade61?s=128&d=identicon&r=PG&f=1", "display_name": "Exclusiveicon", "link": "https://stackoverflow.com/users/4920899/exclusiveicon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1483032798, "creation_date": 1482953240, "last_edit_date": 1482973327, "question_id": 41368492, "link": "https://stackoverflow.com/questions/41368492/how-would-you-take-the-white-pixels-generated-by-a-mask-and-put-them-into-a-list", "title": "how would you take the white pixels generated by a mask and put them into a list", "body": "<p>I have a picture of a street, (the street has small variations of color) and with some help I was able to crop part of the street for a sample of the color I then took the color and calculated the mean and stdv and created the lower and upper boundry for a mask. \nI took the mask output and ran <code>closing = cv2.morphologyEx(output, cv2.MORPH_CLOSE, kernel)</code></p>\n\n<p>I would like to take all the white pixels that are in closing and create a list of their x,y coordinates.\nthen I would like to take the x,y coordinates and create another list of there b,g,r values.</p>\n\n<p>so then I can run it back through </p>\n\n<pre><code>blue=cropimg[:,:,0]; green=cropimg[:,:,1]; red=cropimg[:,:,2];\n</code></pre>\n\n<p>See image, showing: original, mask, closing, cropped areas:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jmchd.jpg\" alt=\"original, mask, closing, cropped areas\"></p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1482953706, "post_id": 41368463, "comment_id": 69938707, "body": "Typically, you should post the entire Traceback with your question(s).  Does it occur when calling apply_along_axis?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1482953769, "post_id": 41368463, "comment_id": 69938731, "body": "Your <code>myfunc</code> doesn&#39;t return results of a consistent shape."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1482959337, "post_id": 41368463, "comment_id": 69941076, "body": "<code>apply_along_axis</code> is just a convenient way of iterating over the &#39;other&#39; axes.  In your case that is just 1 dimension, rows.  So even when it works (as with <code>np.mean</code>) it is not a miracle worker.  You can do just as well with plain iteration over rows, <code>[myfunc(row) for row in temp]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 488, "user_id": 5718471, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e87a1d8d8f2191d8183767d14ebfe097?s=128&d=identicon&r=PG&f=1", "display_name": "Heavy Breathing", "link": "https://stackoverflow.com/users/5718471/heavy-breathing"}, "edited": false, "score": 0, "creation_date": 1483032711, "post_id": 41368621, "comment_id": 69971138, "body": "Thanks for the #protip!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1482955015, "last_edit_date": 1482955015, "creation_date": 1482953942, "answer_id": 41368621, "question_id": 41368463, "link": "https://stackoverflow.com/questions/41368463/numpy-apply-along-axis-returns-error-setting-an-array-element-with-a-sequence/41368621#41368621", "title": "Numpy: apply along axis returns error: Setting an array element with a sequence", "body": "<p>As mentioned in the documentation -</p>\n\n<blockquote>\n  <p>Returns:   apply_along_axis : ndarray The output array. The shape of\n  outarr is identical to the shape of arr, except along the axis\n  dimension, where the length of outarr is equal to the size of the\n  return value of func1d. If func1d returns a scalar outarr will have\n  one fewer dimensions than arr.</p>\n</blockquote>\n\n<p>Because of the inconsistent shapes of the output at different iterations, it seems we are getting that error.</p>\n\n<p>Now, to solve your problem, let me suggest a method with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.nonzero.html\" rel=\"nofollow noreferrer\"><code>np.nonzero</code></a> on the entire array and then splitting the second output from it -</p>\n\n<pre><code>In [165]: temp = np.array([[5,0,3,5,6,0],\n     ...:                  [2,2,1,3,0,0],\n     ...:                  [5,3,4,5,3,4]])\n\nIn [166]: r,c = np.nonzero(temp)\n     ...: idx = np.unique(r,return_index=1)[1]\n     ...: out = np.split(c,idx[1:])\n     ...: \n\nIn [167]: out\nOut[167]: [array([0, 2, 3, 4]), array([0, 1, 2, 3]), array([0, 1, 2, 3, 4, 5])]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1493197010, "last_edit_date": 1493197010, "creation_date": 1482973932, "answer_id": 41371916, "question_id": 41368463, "link": "https://stackoverflow.com/questions/41368463/numpy-apply-along-axis-returns-error-setting-an-array-element-with-a-sequence/41371916#41371916", "title": "Numpy: apply along axis returns error: Setting an array element with a sequence", "body": "<p>In numpy <code>1.13</code>, this definition should work:</p>\n\n<pre><code>def myfunc(x):\n    res = np.empty((), dtype=object)\n    res[()] = x[np.nonzero(x)]\n    return res\n</code></pre>\n\n<p>By returning a 0d array containing the array, numpy will not try and stack the subarrays.</p>\n"}], "owner": {"reputation": 488, "user_id": 5718471, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e87a1d8d8f2191d8183767d14ebfe097?s=128&d=identicon&r=PG&f=1", "display_name": "Heavy Breathing", "link": "https://stackoverflow.com/users/5718471/heavy-breathing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "accepted_answer_id": 41368621, "answer_count": 2, "score": 2, "last_activity_date": 1493197010, "creation_date": 1482953091, "last_edit_date": 1482953614, "question_id": 41368463, "link": "https://stackoverflow.com/questions/41368463/numpy-apply-along-axis-returns-error-setting-an-array-element-with-a-sequence", "title": "Numpy: apply along axis returns error: Setting an array element with a sequence", "body": "<p>a very quick and simple error that I can't figure out to save my life:</p>\n\n<pre><code>temp = np.array([[5,0,3,5,6,0],\n                 [2,2,1,3,0,0],\n                 [5,3,4,5,3,4]])\n\ndef myfunc(x):\n    return x[np.nonzero(x)]\n\nnp.apply_along_axis(myfunc, axis=1, arr=temp)\n</code></pre>\n\n<p>Expected output is the non-zero numbers of each ROW of my temp array:</p>\n\n<pre><code>[5,3,5,6],[2,2,1,3],[5,3,4,5,3,4]\n</code></pre>\n\n<p>However, I'm getting the error:ValueError: setting an array element with a sequence.</p>\n\n<p>If I simply do it without apply_along_axis, it works:</p>\n\n<pre><code># prints [5,3,5,6]\nprint temp[0][np.nonzero(temp[0])]\n</code></pre>\n\n<p>The weird thing is that, if I just add a np.mean() to the myfunc return to the first code block above, it works as expected:</p>\n\n<pre><code># This works as expected    \ntemp = np.array([[5,0,3,5,6,0],\n                 [2,2,1,3,0,0],\n                 [5,3,4,5,3,4]])\n\ndef myfunc(x):\n        return np.mean(x[np.nonzero(x)])\n\nnp.apply_along_axis(myfunc, axis=1, arr=temp)\n</code></pre>\n\n<p>I suspect it's something to do with how apply_along_axis work underneath the hood. Any tips will be appreciated!</p>\n"}, {"tags": ["python", "django", "database"], "answers": [{"comments": [{"owner": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1482954622, "post_id": 41368700, "comment_id": 69939104, "body": "thanks that worked! Now let&#39;s say I just need the price from <code>data_dict[0]</code> how would I retrieve it?"}, {"owner": {"reputation": 111, "user_id": 5048191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41dda2595948d222995b135514092257?s=128&d=identicon&r=PG&f=1", "display_name": "mukul", "link": "https://stackoverflow.com/users/5048191/mukul"}, "reply_to_user": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1482958649, "post_id": 41368700, "comment_id": 69940789, "body": "add price in values and access it using data_dict[0][&#39;price&#39;]"}, {"owner": {"reputation": 111, "user_id": 5048191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41dda2595948d222995b135514092257?s=128&d=identicon&r=PG&f=1", "display_name": "mukul", "link": "https://stackoverflow.com/users/5048191/mukul"}, "reply_to_user": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1482958734, "post_id": 41368700, "comment_id": 69940827, "body": "You can access prefetched data using values and values_list."}], "tags": [], "owner": {"reputation": 111, "user_id": 5048191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41dda2595948d222995b135514092257?s=128&d=identicon&r=PG&f=1", "display_name": "mukul", "link": "https://stackoverflow.com/users/5048191/mukul"}, "is_accepted": true, "score": 1, "last_activity_date": 1482954241, "creation_date": 1482954241, "answer_id": 41368700, "question_id": 41368397, "link": "https://stackoverflow.com/questions/41368397/how-to-organize-data-after-using-filter/41368700#41368700", "title": "How to organize data after using filter", "body": "<pre><code>colour = request.POST.get('FormColour') #colour = blue \ndata_dict = Database.objects.filter(ColourCOL=colour).values('NameCOL', 'AgeCOL', 'NumCOL')\nfor data in data_dict:\n    print(data['NameCOL'], data['AgeCOL'], data['NumCOL'])\n</code></pre>\n\n<p>You can create a dict out of the retrieved data using values, iterate over it and access the column name from dict.</p>\n"}], "owner": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 41368700, "answer_count": 1, "score": 0, "last_activity_date": 1482954241, "creation_date": 1482952686, "question_id": 41368397, "link": "https://stackoverflow.com/questions/41368397/how-to-organize-data-after-using-filter", "title": "How to organize data after using filter", "body": "<p>Let's say I have a database table like this:</p>\n\n<pre><code>NumCOL    NameCol    AgeCOL    ColourCOL\n----------------------------------------\n1         Joel       18         Blue\n2         Joey       22         Red\n3         Jacob      25         Green\n4         Jack       27         Blue\n5         Joey       21         Red\n</code></pre>\n\n<p>In this example, <code>NumCOL</code> is unique and icrements by 1, <code>NameCOL, AgeCOL &amp; ColourCOL</code> are not unique. I need to filter them in a way that I can grab all entries based on <code>ColourCOL</code>, and then  grab   the entries in <code>NameCOL &amp; AgeCOL</code>that are assiocated to the colour. I use this code below (where a user selects the colour blue):</p>\n\n<pre><code>colour = request.POST.get('FormColour') #colour = blue \nname = Database.objects.filter(ColourCOL=colour).values_list('NameCOL', flat=True)\n</code></pre>\n\n<p>Now there two names that have the colour blue, so I was thinking to use  a list and append all the data into a list and just call from the list when needs be, like this:</p>\n\n<pre><code>ex_list = []\ntracker = 0\nfor x in name:\n    age = Database.objects.filter(ColourCOL=colour, NameCOL=name).values_list('AgeCOL', flat=True)\n    ex_list.append([name[tracker], name, age])\n    tracker += 1\n</code></pre>\n\n<p>My concern is that I won't be able to retrieve data from the list effectively (if at all) if I need to write to a PDF or display it in a table. Another solution is sorting by the <code>NumCOL</code> but users only have access to the data in the <code>ColourCOL</code>. So what is the best way to sort all the information where I can display the colour selected, and then the name and age of everyone assicoated with that colour?</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "monkeypatching", "inspect"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1482952776, "post_id": 41368325, "comment_id": 69938329, "body": "Can you explain what you&#39;re actually trying to do?  Are you saying you want a bare name reference like <code>blah()</code> to dynamically create a function?  That is probably not possible.  You could write a fake module object so that if you do <code>import foo</code>, then <code>foo.bar()</code> does something dynamic to get the function that is called, but that won&#39;t work if you&#39;re trying to access a bare name in the same module.  Also, I don&#39;t understand what you think your implementation gains by using <code>inspect</code>.  You could just write an ordinary <code>__getattr__</code> that creates a function on the fly."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1482953732, "post_id": 41368325, "comment_id": 69938717, "body": "If a thing&#39;s not worth doing, it&#39;s not worth doing it well."}, {"owner": {"reputation": 6114, "user_id": 39413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9f10636344fc74da3b38bcb6e200de?s=128&d=identicon&r=PG", "display_name": "Sean McSomething", "link": "https://stackoverflow.com/users/39413/sean-mcsomething"}, "edited": false, "score": 0, "creation_date": 1482955152, "post_id": 41368325, "comment_id": 69939305, "body": "Feels like you should be doing this in Perl."}, {"owner": {"reputation": 11, "user_id": 7351035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1478a254198d9f8359df9e9497eb70e?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Massaro", "link": "https://stackoverflow.com/users/7351035/cory-massaro"}, "edited": false, "score": 0, "creation_date": 1484200232, "post_id": 41368325, "comment_id": 70413922, "body": "Hahaha, I think I was using inspect() to ensure that the function was defined with the correct name. It would have been much more sane to set func_name manually. Not sure what made me overlook that solution.  On topic, &quot;dynamically creat[ing] a function&quot; from &quot;a bare name reference&quot; is exactly what I am trying to do! It absolutely makes sense for it not to be possible. It was an academic exercise. I guess I was mostly interested in what happens, under the hood, when we call a bare name defined within the same module."}], "owner": {"reputation": 11, "user_id": 7351035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1478a254198d9f8359df9e9497eb70e?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Massaro", "link": "https://stackoverflow.com/users/7351035/cory-massaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482953035, "creation_date": 1482952430, "last_edit_date": 1482953035, "question_id": 41368325, "link": "https://stackoverflow.com/questions/41368325/lazily-define-functions-in-python", "title": "Lazily Define Functions in Python", "body": "<p>This is more of a theoretical than practical question.  In Python, we can do this very ugly thing:</p>\n\n<pre><code>import inspect\nimport re\n\n\nclass A(object):\n  def __init__(self, *args, **kwargs):\n    super(A, self).__init__(*args, **kwargs)\n    self._name_cache = {}\n    # Still want to be able to do proper lookups.\n    self._old_get = self.__getattr__\n\n  def __getattr__(self, n, *args, **kwargs):\n    # Gets the name of the most local reference.\n    frame = inspect.currentframe().f_back\n    tmp = frame.f_locals.items() + frame.f_globals.items()\n    for k, var in tmp.items():\n      if isinstance(var, self.__class__):\n        if var is self:\n          name = k\n          break\n        else:\n         assert 'Life' == 'Bad'\n    patt = re.compile(r'^add_(\\d+)$')\n    if patt.search(n):\n      # Add to the cached functions and return new \"attribute.\"\n      if n not in self._name_cache:\n          exec('def %s(n):\\n  return %s + n' % (n, patt.sub(r'\\1', n)))\n          exec('%s._name_cache[\"%s\"] = %s' % (name, n, n))\n          exec('print \"Is it there? %s\"' % str(n in self._name_cache))\n        return self._name_cache[n]\n      else:\n        return self._old_get(n, *args, **kwargs)\n\n\na = A()\nprint a.add_2(3)  # Prints 5\n</code></pre>\n\n<p>There's probably a cleaner solution to this using metaclasses, but I'm not sure I would be able to whip it up. In any case, we did something that looks syntactically like lazy, on-the-fly member function generation.</p>\n\n<p>I have two questions:</p>\n\n<ol>\n<li><p>I am now wondering whether there is a way I could do this globally. I would just monkey-patch <code>inspect.current_frame().f_globals</code>'s <code>get()</code> method, but its attributes are read-only. Is there an interpreter-writable function governing lookup of top-level <code>def</code>ed functions?</p></li>\n<li><p>What other depraved things can one do with the <code>inspect</code> module?</p></li>\n</ol>\n"}, {"tags": ["python", "postgresql", "flask-sqlalchemy", "alembic"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11682276, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yUq_Tf8Vv8Y/AAAAAAAAAAI/AAAAAAAAEcY/9Ovtc2Dvl0k/photo.jpg?sz=128", "display_name": "Paul Savala", "link": "https://stackoverflow.com/users/11682276/paul-savala"}, "is_accepted": false, "score": 0, "last_activity_date": 1563288039, "creation_date": 1563288039, "answer_id": 57059866, "question_id": 41368317, "link": "https://stackoverflow.com/questions/41368317/flask-migrate-makes-sqlite-migration-instead-of-psql/57059866#57059866", "title": "Flask-migrate makes SQLite migration instead of PSQL", "body": "<p>You do not have the correct connection string. The format is</p>\n\n<p><code>dialect+driver://username:password@host:port/database</code></p>\n\n<p>So yours should be</p>\n\n<p><code>postgresql://username:password@localhost:5432/dbname</code></p>\n\n<p>Source: <a href=\"https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls\" rel=\"nofollow noreferrer\">https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7351175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfba70971051bfacac274cc329b0212?s=128&d=identicon&r=PG&f=1", "display_name": "rhb", "link": "https://stackoverflow.com/users/7351175/rhb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1563288039, "creation_date": 1482952403, "question_id": 41368317, "link": "https://stackoverflow.com/questions/41368317/flask-migrate-makes-sqlite-migration-instead-of-psql", "title": "Flask-migrate makes SQLite migration instead of PSQL", "body": "<p>Hi I've exported in virtualenv database with command     </p>\n\n<pre><code>export DATABASE_URL=\"postgresql://localhost/dbname\"\n</code></pre>\n\n<p>But after running </p>\n\n<pre><code>python manage.py init\n</code></pre>\n\n<p>and</p>\n\n<pre><code>python manage.py db migrate\n</code></pre>\n\n<p>Result is:</p>\n\n<pre><code>INFO  [alembic.runtime.migration] Context impl SQLiteImpl.\n</code></pre>\n\n<p>PostreSQL database have been previously created and SQLAlchemy URI have been set in config.py file. During migration i have opened psql db in another terminal window (in the venv) with commands</p>\n\n<pre><code>psql\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>\\c dbname\n</code></pre>\n\n<p>How can I connect to the PSQL db?</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": false, "score": 1, "last_activity_date": 1482989542, "creation_date": 1482989542, "answer_id": 41373652, "question_id": 41368269, "link": "https://stackoverflow.com/questions/41368269/use-pythons-kivy-to-change-homescreen-and-lockscreen-wallpaper/41373652#41373652", "title": "Use Python&#39;s Kivy to change HomeScreen and LockScreen Wallpaper", "body": "<p>Use <a href=\"https://github.com/kivy/pyjnius\" rel=\"nofollow noreferrer\">pyjnius</a> to call the native java API to do that</p>\n"}], "owner": {"reputation": 33, "user_id": 5646721, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1497173247251692/picture?type=large", "display_name": "Sami Samp", "link": "https://stackoverflow.com/users/5646721/sami-samp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1482989542, "creation_date": 1482952099, "question_id": 41368269, "link": "https://stackoverflow.com/questions/41368269/use-pythons-kivy-to-change-homescreen-and-lockscreen-wallpaper", "title": "Use Python&#39;s Kivy to change HomeScreen and LockScreen Wallpaper", "body": "<p>I'm trying to make an Android app in python. My app needs a function that's able to change the homescreen and lockscreen wallpapers based on user inputs.</p>\n\n<p>Any ideeas on how could I achieve that with kivy? </p>\n"}, {"tags": ["python", "matrix", "scipy"], "comments": [{"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "edited": false, "score": 0, "creation_date": 1482952202, "post_id": 41368109, "comment_id": 69938093, "body": "I was confused by this too, and asked this question: <a href=\"http://stackoverflow.com/questions/19122024/setting-elements-in-data-attribute-to-zero-unpleasant-behaivor-in-scipy-sparse\" title=\"setting elements in data attribute to zero unpleasant behaivor in scipy sparse\">stackoverflow.com/questions/19122024/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1482981912, "last_edit_date": 1482981912, "creation_date": 1482951966, "answer_id": 41368239, "question_id": 41368109, "link": "https://stackoverflow.com/questions/41368109/csr-scipy-matrix-does-not-update-after-updating-its-values/41368239#41368239", "title": "CSR scipy matrix does not update after updating its values", "body": "<p>Yes, you are trying to change elements of the matrix one by one. :) </p>\n\n<p>Ok, it does work that way, though if you changed things the other way (setting a 0 to nonzero) you will get an Efficiency warning.</p>\n\n<p>To keep your kind of change fast, it only changes the value in the <code>M.data</code> array, and does not recalculate the indices.  You have to invoke a separate <a href=\"https://docs.scipy.org/doc/scipy-0.18.1/reference/generated/scipy.sparse.csr_matrix.eliminate_zeros.html\" rel=\"nofollow noreferrer\">csr_matrix.eliminate_zeros</a> method the clean up the matrix.  To get best speed call this once at the end of the loop.</p>\n\n<p>There is a <a href=\"https://docs.scipy.org/doc/scipy-0.18.1/reference/generated/scipy.sparse.csr_matrix.setdiag.html\" rel=\"nofollow noreferrer\">csr_matrix.setdiag</a> method that lets you set the whole diagonal with one call.  It still needs the cleanup.</p>\n\n<pre><code>In [1633]: M=sparse.csr_matrix(np.arange(9).reshape(3,3))\nIn [1634]: M\nOut[1634]: \n&lt;3x3 sparse matrix of type '&lt;class 'numpy.int32'&gt;'\n    with 8 stored elements in Compressed Sparse Row format&gt;\nIn [1635]: M.A\nOut[1635]: \narray([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]], dtype=int32)\nIn [1636]: M.setdiag(0)\n/usr/local/lib/python3.5/dist-packages/scipy/sparse/compressed.py:730: SparseEfficiencyWarning: Changing the sparsity structure of a csr_matrix is expensive. lil_matrix is more efficient.\n  SparseEfficiencyWarning)\nIn [1637]: M\nOut[1637]: \n&lt;3x3 sparse matrix of type '&lt;class 'numpy.int32'&gt;'\n    with 9 stored elements in Compressed Sparse Row format&gt;\nIn [1638]: M.A\nOut[1638]: \narray([[0, 1, 2],\n       [3, 0, 5],\n       [6, 7, 0]])\nIn [1639]: M.data\nOut[1639]: array([0, 1, 2, 3, 0, 5, 6, 7, 0])\nIn [1640]: M.eliminate_zeros()\nIn [1641]: M\nOut[1641]: \n&lt;3x3 sparse matrix of type '&lt;class 'numpy.int32'&gt;'\n    with 6 stored elements in Compressed Sparse Row format&gt;\nIn [1642]: M.data\nOut[1642]: array([1, 2, 3, 5, 6, 7])\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 3747610, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c040ea23240d36f49fa4220414964d80?s=128&d=identicon&r=PG&f=1", "display_name": "mark", "link": "https://stackoverflow.com/users/3747610/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482981912, "creation_date": 1482951399, "question_id": 41368109, "link": "https://stackoverflow.com/questions/41368109/csr-scipy-matrix-does-not-update-after-updating-its-values", "title": "CSR scipy matrix does not update after updating its values", "body": "<p>I have the following code in python:</p>\n\n<pre><code>import numpy as np\nfrom scipy.sparse import csr_matrix\nM = csr_matrix(np.ones([2, 2],dtype=np.int32))\nprint(M)\nprint(M.data.shape)\nfor i in range(np.shape(mat)[0]):\n    for j in range(np.shape(mat)[1]):\n        if i==j:\n            M[i,j] = 0\nprint(M)\nprint(M.data.shape)\n</code></pre>\n\n<p>The output of the first 2 prints is:</p>\n\n<pre><code>  (0, 0)    1\n  (0, 1)    1\n  (1, 0)    1\n  (1, 1)    1\n(4,)\n</code></pre>\n\n<p>The code is changing the value of the same index (i==j) and setting the value to zero.\nAfter executing the loops then the output of the last 2 prints is:</p>\n\n<pre><code>  (0, 0)    0\n  (0, 1)    1\n  (1, 0)    1\n  (1, 1)    0\n(4,)\n</code></pre>\n\n<p>If I understand the concept of sparse matrices correctly, it should not be the case. It should not show me the zero values and the output of last 2 prints should be like this:</p>\n\n<pre><code>  (0, 1)    1\n  (1, 0)    1\n(2,)\n</code></pre>\n\n<p>Does anyone have explanation for this? Am I doing something wrong?</p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1482959270, "post_id": 41368144, "comment_id": 69941044, "body": "and what if some elements contain commas? and passing directly <code>abc</code> is undocumented/unsupported."}], "tags": [], "owner": {"reputation": 7231, "user_id": 236345, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ekgwV.jpg?s=128&g=1", "display_name": "Alfabravo", "link": "https://stackoverflow.com/users/236345/alfabravo"}, "is_accepted": false, "score": 2, "last_activity_date": 1482952157, "last_edit_date": 1495541339, "creation_date": 1482951555, "answer_id": 41368144, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list/41368144#41368144", "title": "Converting CSV to List results in lists within list", "body": "<p>Once you have the CSV row, you can simply use</p>\n\n<pre><code>result = abc.split(\",\") \n</code></pre>\n\n<p>To get the list avoiding the commas as elements (your approach is using quotes as string delimiters, it seems.</p>\n\n<p>Also, using csv library itself, <a href=\"https://stackoverflow.com/questions/1707558/can-python-remove-double-quotes-from-a-string-when-reading-in-text-file#1707581\">this question</a> could help.</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n\n&gt;&gt;&gt; with open(name, 'rb') as f:\n...     for row in csv.reader(abc, delimiter=',', skipinitialspace=True):\n...             result = row\n</code></pre>\n\n<p>And the answer there says the quotes should be treated automatically, while <a href=\"https://stackoverflow.com/q/15374430/236345\">this answer</a> says you get the row as a list!</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 4528508, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/GI9tX.png?s=128&g=1", "display_name": "bluefalcon", "link": "https://stackoverflow.com/users/4528508/bluefalcon"}, "is_accepted": false, "score": -1, "last_activity_date": 1482951687, "creation_date": 1482951687, "answer_id": 41368178, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list/41368178#41368178", "title": "Converting CSV to List results in lists within list", "body": "<p>Have you tried string.split(',') ?    </p>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 1, "last_activity_date": 1482951943, "creation_date": 1482951943, "answer_id": 41368232, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list/41368232#41368232", "title": "Converting CSV to List results in lists within list", "body": "<p>If the first input is one string, you can use <a href=\"https://docs.python.org/3/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><code>ast.literal_eval()</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import ast\n&gt;&gt;&gt; \n&gt;&gt;&gt; s = '\"58478000\",\"\",\"NEW\",\"2016-12-28T14:34:18\",\"C\",\"\",\"\"'\n&gt;&gt;&gt; list(ast.literal_eval(s))\n['58478000', '', 'NEW', '2016-12-28T14:34:18', 'C', '', '']\n</code></pre>\n\n<p>If you want to flatten your result, you can use:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; \n&gt;&gt;&gt; my_list = [['58478000'], ['', ''], [''], ['', ''], ['NEW'], ['', ''], ['2016-12-28T14:34:18'], ['', ''], ['C'], ['', ''], ['']]\n&gt;&gt;&gt;\n&gt;&gt;&gt; list(itertools.chain.from_iterable(my_list))\n['58478000', '', '', '', '', '', 'NEW', '', '', '2016-12-28T14:34:18', '', '', 'C', '', '', '']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1482953188, "post_id": 41368367, "comment_id": 69938486, "body": "Hi, I&#39;m trying this response right now.  Works great - thanks!"}, {"owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1482953608, "post_id": 41368367, "comment_id": 69938669, "body": "in regards to your edit - i&#39;m not sure I follow.  Does the original details = [x[0] for x in csvreader if x[0]] not work?  It seemed to for me"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1482953975, "post_id": 41368367, "comment_id": 69938837, "body": "It works dont worry. I m just looking for something more elegant."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1482959180, "post_id": 41368367, "comment_id": 69941011, "body": "@keynesiancross check my last edit. Seems that we exploited some undocumented feature."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 2, "last_activity_date": 1482959155, "last_edit_date": 1482959155, "creation_date": 1482952572, "answer_id": 41368367, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list/41368367#41368367", "title": "Converting CSV to List results in lists within list", "body": "<p>You were close. There's something about string support in the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>And while the module doesn\u2019t directly support parsing strings, it can easily be done:</p>\n</blockquote>\n\n<pre><code>import csv\nfor row in csv.reader(['one,two,three']):\n    print(row)\n</code></pre>\n\n<p>Note the <code>[]</code> around the string. Without those braces, <code>csv</code> module seems to returns 1 row per element, but that seem undocumented.</p>\n\n<p>Since I didn't know about the part above from the documentation at first, my first \"pragmatic\" approach was to take the element inside the row using a list comprehension:</p>\n\n<pre><code>import csv\n\nabc = '\"58478000\",\"\",\"NEW\",\"2016-12-28T14:34:18\",\"C\",\"\",\"\",\"N\",\"N\",\"ON\",\"2017-03-15\",\"2022-03-15\",\"30/360\",\"EUR\",\"IR\",\"\",\"InterestRate:IRSwap:FixedFloat\",\"Trade\",\"EUR-EURIBOR-Reuters\",\"FIXED\",\"Percent\",\"-0.003\",\"\",\"\",\"EUR\",\"EUR\",\"25,000,000\",\"25,000,000\",\"3M\",\"1Y\",\"3M\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"'\n\ncsvreader=csv.reader(abc, delimiter=',')\ndetails = [x[0] for x in csvreader]\nprint(details)\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>['58478000', '', '', '', 'NEW', '', '2016-12-28T14:34:18', '', 'C', '', '', '', '', '', 'N', '', 'N', '', 'ON', '', '2017-03-15', '', '2022-03-15', '', '30/360', '', 'EUR', '', 'IR', '', '', '', 'InterestRate:IRSwap:FixedFloat', '', 'Trade', '', 'EUR-EURIBOR-Reuters', '', 'FIXED', '', 'Percent', '', '-0.003', '', '', '', '', '', 'EUR', '', 'EUR', '', '25,000,000', '', '25,000,000', '', '3M', '', '1Y', '', '3M', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\n</code></pre>\n\n<p>With this approach, we <em>have</em> to get rid of the empty strings (that's just a workaround), if we need them intact, we're stuck BTW:</p>\n\n<pre><code>details = [x[0] for x in csvreader if x[0]]\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['58478000', 'NEW', '2016-12-28T14:34:18', 'C', 'N', 'N', 'ON', '2017-03-15', '2022-03-15', '30/360', 'EUR', 'IR', 'InterestRate:IRSwap:FixedFloat', 'Trade', 'EUR-EURIBOR-Reuters', 'FIXED', 'Percent', '-0.003', 'EUR', 'EUR', '25,000,000', '25,000,000', '3M', '1Y', '3M']\n</code></pre>\n\n<p>But after having read the documentation, the correct way to do this would be:</p>\n\n<pre><code>import csv\n\nabc = '\"58478000\",\"\",\"NEW\",\"2016-12-28T14:34:18\",\"C\",\"\",\"\",\"N\",\"N\",\"ON\",\"2017-03-15\",\"2022-03-15\",\"30/360\",\"EUR\",\"IR\",\"\",\"InterestRate:IRSwap:FixedFloat\",\"Trade\",\"EUR-EURIBOR-Reuters\",\"FIXED\",\"Percent\",\"-0.003\",\"\",\"\",\"EUR\",\"EUR\",\"25,000,000\",\"25,000,000\",\"3M\",\"1Y\",\"3M\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"'\n\ncsvreader=csv.reader([abc], delimiter=',') # pass a list of 1 element\ndetails = list(csvreader)[0]\nprint(details)\n</code></pre>\n\n<p>result (note that the number of empty strings are respected now):</p>\n\n<pre><code>['58478000', '', 'NEW', '2016-12-28T14:34:18', 'C', '', '', 'N', 'N', 'ON', '2017-03-15', '2022-03-15', '30/360', 'EUR', 'IR', '', 'InterestRate:IRSwap:FixedFloat', 'Trade', 'EUR-EURIBOR-Reuters', 'FIXED', 'Percent', '-0.003', '', '', 'EUR', 'EUR', '25,000,000', '25,000,000', '3M', '1Y', '3M', '', '', '', '', '', '', '', '', '', '', '', '', '']\n</code></pre>\n\n<p>If we want to remove the empty string, let's do it with a list comprehension, simpler than the other one:</p>\n\n<pre><code>csvreader=csv.reader([abc], delimiter=',')\ndetails = [x for x in list(csvreader)[0] if x]\nprint(details)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['58478000', 'NEW', '2016-12-28T14:34:18', 'C', 'N', 'N', 'ON', '2017-03-15', '2022-03-15', '30/360', 'EUR', 'IR', 'InterestRate:IRSwap:FixedFloat', 'Trade', 'EUR-EURIBOR-Reuters', 'FIXED', 'Percent', '-0.003', 'EUR', 'EUR', '25,000,000', '25,000,000', '3M', '1Y', '3M']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1483564199, "post_id": 41368426, "comment_id": 70152267, "body": "Hi, when I try this, I get: &quot;58478000&quot; only"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1483565687, "post_id": 41368426, "comment_id": 70152977, "body": "All I can say is I don&#39;t (in either Python 2 and 3). Perhaps you left something out of the code that&#39;s in my answer. Be sure you have exactly the following line: <code>reader = csv.reader([abc], delimiter=&#39;,&#39;)</code>. The <code>[abc]</code> part is important."}, {"owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1483565747, "post_id": 41368426, "comment_id": 70153002, "body": "you know what, thats it.  the extra [] around the string"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 2, "last_activity_date": 1482952829, "creation_date": 1482952829, "answer_id": 41368426, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list/41368426#41368426", "title": "Converting CSV to List results in lists within list", "body": "<p>Since you only have one string, you need to put it in an iterable, like a <code>list</code>, so the <code>csv.reader</code> will read it properly.</p>\n\n<pre><code>import csv\n\nabc = (u'\"58478000\",\"\",\"NEW\",\"2016-12-28T14:34:18\",\"C\",\"\",\"\",\"N\",\"N\",\"ON\",'\n       u'\"2017-03-15\",\"2022-03-15\",\"30/360\",\"EUR\",\"IR\",\"\",'\n       u'\"InterestRate:IRSwap:FixedFloat\",\"Trade\",\"EUR-EURIBOR-Reuters\",\"FIXED\",'\n       u'\"Percent\",\"-0.003\",\"\",\"\",\"EUR\",\"EUR\",\"25,000,000\",\"25,000,000\",\"3M\",'\n       u'\"1Y\",\"3M\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"')\n\nreader = csv.reader([abc], delimiter=',')\ndetails = next(reader)  # read and process single line that is in list [abc]\nprint(details)\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>['58478000', '', 'NEW', '2016-12-28T14:34:18', 'C', '', '', 'N', 'N', 'ON', '2017-03-15', '2022-03-15', '30/360', 'EUR', 'IR', '', 'InterestRate:IRSwap:FixedFloat', 'Trade', 'EUR-EURIBOR-Reuters', 'FIXED', 'Percent', '-0.003', '', '', 'EUR', 'EUR', '25,000,000', '25,000,000', '3M', '1Y', '3M', '', '', '', '', '', '', '', '', '', '', '', '', '']</code></p>\n"}], "owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 41368367, "answer_count": 5, "score": 3, "last_activity_date": 1482959155, "creation_date": 1482951277, "last_edit_date": 1482952138, "question_id": 41368078, "link": "https://stackoverflow.com/questions/41368078/converting-csv-to-list-results-in-lists-within-list", "title": "Converting CSV to List results in lists within list", "body": "<p>I'm trying to convert the following Unicode string to a list  [I threw two spaces in to make it fit...]:</p>\n\n<p><code>\"58478000\",\"\",\"NEW\",\"2016-12-28T14:34:18\",\"C\",\"\",\"\",\"N\",\"N\",\"ON\",\"2017-03-15\",\"2022-03-15\",\"30/360\",\"EUR\",\"IR\",\"\",\"InterestRate:IRSwap:FixedFloat\",\"Trade\",\"EUR-EURIBOR-Reuters\",\"FIXED\",\"Percent\",\"-0.003\",\"\",\"\",\"EUR\",\"EUR\",\"25,000,000\",\"25,000,000\",\"3M\",\"1Y\",\"3M\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"</code></p>\n\n<p>I use the following code to convert the string above, <code>abc</code>, to a list:</p>\n\n<pre><code>csv.reader(abc, delimiter=',')\ndetails = list(csvreader)\n</code></pre>\n\n<p>This results in this though, and I can't seem to drop the <code>['','']</code> easily...</p>\n\n<p><code>[['58478000'], ['', ''], [''], ['', ''], ['NEW'], ['', ''],['2016-12-28T14:34:18'], ['', ''], ['C'], ['', ''], [''], ['', ''],[''], ['', ''], ['N'], ['', ''], ['N'], ['', ''], ['ON'], ['', ''],['2017-03-15'], ['', ''], ['2022-03-15'], ['', ''], [' 30/360'], ['',''], ['EUR'], ['', ''], ['IR'], ['', ''], [''], ['', ''],['InterestRate:IRSwap:FixedFloat'], ['', ''], ['Trade'], ['', ''],['EUR-EURIBOR-Reuters'], ['', ''], ['FIXED'], ['', ''], ['Percent'],['', ''], ['-0.003'], ['', ''], [''], ['', ''], [''], ['', ''],['EUR'], ['', ''], ['EUR'], ['', ''], ['25,000,000'], ['', ''],['25,000,000'], ['', ''], ['3M'], ['', ''], ['1Y'], ['', ''], ['3M'],['', ''], [''], ['', ''], [''], ['', ''], [''], ['', ''], [''], ['',''], [''], ['', ''], [''], ['', ''], [''], ['', ''], [''], ['', ''],[''], ['', ''], [''], ['', ''], [''], ['', ''], [''], ['', ''], ['']]</code></p>\n\n<p>My goal is to put this into some sort of list, or any other collection, that makes it easier to extract the information out of that...</p>\n"}, {"tags": ["python", "django", "loops", "scope"], "comments": [{"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1482951695, "post_id": 41368066, "comment_id": 69937883, "body": "Please fix your indentation. It&#39;s impossible for us to know what&#39;s in the functions. Use 4 spaces to get a code block and another 4 spaces to show the indentation of the function."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 4, "creation_date": 1482951810, "post_id": 41368066, "comment_id": 69937934, "body": "Are you sure you&#39;re writing Python here, rather than something else like Java? Quite apart from the issue with <code>.length()</code>, strings don&#39;t have an <code>.equals</code> method in Python either."}, {"owner": {"reputation": 181, "user_id": 1778743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c73def74cad0ae639a92d91aec1337ea?s=128&d=identicon&r=PG", "display_name": "user1778743", "link": "https://stackoverflow.com/users/1778743/user1778743"}, "edited": false, "score": 0, "creation_date": 1483014615, "post_id": 41368066, "comment_id": 69961273, "body": "i think that could be the problem cause i code daily with two langauges python and c# so i might be just confusing the two"}], "answers": [{"tags": [], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "is_accepted": true, "score": 5, "last_activity_date": 1482954323, "last_edit_date": 1495542830, "creation_date": 1482951393, "answer_id": 41368105, "question_id": 41368066, "link": "https://stackoverflow.com/questions/41368066/str-object-has-no-attribute-len/41368105#41368105", "title": "&#39;str&#39; object has no attribute &#39;len&#39;", "body": "<blockquote>\n  <p>Python String len() Method</p>\n</blockquote>\n\n<p><strong>Syntax</strong></p>\n\n<p>Following is the syntax for len() method \u2212</p>\n\n<pre><code>len( str )\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>str = \"this is string example....wow!!!\";\nprint(\"Length of the string: \", len(str))\n</code></pre>\n\n<p>When we run above program, it produces following result \u2212</p>\n\n<pre><code>Length of the string:  32\n</code></pre>\n\n<p><strong>Reference</strong>: <a href=\"https://www.tutorialspoint.com/python/string_len.htm\" rel=\"noreferrer\">Python String len() Method</a> </p>\n\n<blockquote>\n  <p>UnboundLocalError: local variable 'a' referenced before assignment</p>\n</blockquote>\n\n<p><strong>Explanation</strong></p>\n\n<p>This is because, even though <code>a</code> and <code>b</code> exists, you're also using an assignment statement on the name <code>a</code> and <code>b</code> inside of the function <code>combineProcess()</code>. Naturally, this creates a variable inside the function's scope called <code>a</code> and <code>b</code>. </p>\n\n<p>The Python interpreter sees this at module load time and decides that the global scope's of <code>a</code> and <code>b</code> should not be used inside the local scope, which leads to a problem when you try to reference the variable before it is locally assigned.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>Var1 = 1\nVar2 = 0\ndef function():\n    if Var2 == 0 and Var1 &gt; 0:\n        print(\"Result One\")\n    Var1 =- 1\n\nfunction()\n</code></pre>\n\n<p>If you run this program, it gives the following error.</p>\n\n<pre><code>UnboundLocalError: local variable 'Var1' referenced before assignment\n</code></pre>\n\n<p>Since, the value of <code>Var1</code> is modified, this creates a variable inside the function's scope called <code>Var1</code>. As a result error is reported because of the condition check, <code>Var1 &gt; 0</code> before the <code>Var1 =- 1</code> statement.</p>\n\n<p>But if we modify the code as follows.</p>\n\n<pre><code>Var1 = 1\nVar2 = 0\ndef function():\n    global Var1\n    if Var2 == 0 and Var1 &gt; 0:\n        print(\"Result One\")\n    Var1 =- 1\n\nfunction()\n</code></pre>\n\n<p>Then it works fine.</p>\n\n<p>Note that, if we move the statement <code>Var1 =- 1</code> before the <code>if</code> condition check, then it will not report any error even if you don't use <code>global Var1</code> statement. So, the following code works fine.</p>\n\n<pre><code>Var1 = 1\nVar2 = 0\ndef function():\n    Var1 =- 1\n    if Var2 == 0 and Var1 &gt; 0:\n        print(\"Result One\")\n\nfunction()\n</code></pre>\n\n<p><strong>Reference</strong>: See this SO <a href=\"https://stackoverflow.com/a/10852003/5352399\">answer</a>.</p>\n\n<blockquote>\n  <p>NameError: name 'a' is not defined</p>\n</blockquote>\n\n<p><strong>Explanation</strong></p>\n\n<p>Probably you are getting this error because in Python, you cannot compare two strings using <code>equals()</code> method. There is no such method exists. </p>\n\n<p><strong>Example</strong>: Comparing two strings</p>\n\n<p>You can use <code>&gt; , &lt; , &lt;= , &lt;= , == , !=</code> to compare two strings. Python compares string lexicographically i.e using ASCII value of the characters. For example, to compare two strings for equality, you can do as follows.</p>\n\n<pre><code>if string1 == string2:\n    // do something\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 1778743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c73def74cad0ae639a92d91aec1337ea?s=128&d=identicon&r=PG", "display_name": "user1778743", "link": "https://stackoverflow.com/users/1778743/user1778743"}, "edited": false, "score": 0, "creation_date": 1483014832, "post_id": 41368306, "comment_id": 69961373, "body": "thansk for the help i dont know why but i got the two confused ( C# and python ) and it was only when you guys helped that it became clear but what i still dont understand was why was the code working like the original way......im puzzled why it just stopped but thanks i will make the necessary changes"}], "tags": [], "owner": {"reputation": 383, "user_id": 7089349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bp6nT.jpg?s=128&g=1", "display_name": "FlipTack", "link": "https://stackoverflow.com/users/7089349/fliptack"}, "is_accepted": false, "score": 2, "last_activity_date": 1482952700, "last_edit_date": 1482952700, "creation_date": 1482952305, "answer_id": 41368306, "question_id": 41368066, "link": "https://stackoverflow.com/questions/41368066/str-object-has-no-attribute-len/41368306#41368306", "title": "&#39;str&#39; object has no attribute &#39;len&#39;", "body": "<p>I assume you've come from a language such as Java where you call functions directly on strings. You <em>could</em> do that in Python:</p>\n\n<pre><code>&gt;&gt;&gt; A = \"Hello\"\n&gt;&gt;&gt; B = \"Hello\"\n&gt;&gt;&gt; A.__len__()\n5\n\n&gt;&gt;&gt; A.__eq__(B)\nTrue\n</code></pre>\n\n<p>However, the proper way of doing it is like so:</p>\n\n<pre><code>&gt;&gt;&gt; len(A)\n5\n\n&gt;&gt;&gt; A == B\nTrue\n</code></pre>\n\n<hr>\n\n<p>With that being said, I'm not sure what you're trying to accomplish with the length function there. You said your code is checking whether the first 3 letters of the 2 strings are the same - you can do that like so:</p>\n\n<pre><code>A = \"car123\"\nB = \"car456\"\n\nprint(A[:3] == B[:3]) # -&gt; True\n</code></pre>\n\n<p>This uses Python's slice notation to get the first 3 characters of each string, and compares these slices with each other.</p>\n"}], "owner": {"reputation": 181, "user_id": 1778743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c73def74cad0ae639a92d91aec1337ea?s=128&d=identicon&r=PG", "display_name": "user1778743", "link": "https://stackoverflow.com/users/1778743/user1778743"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28762, "favorite_count": 1, "accepted_answer_id": 41368105, "answer_count": 2, "score": 0, "last_activity_date": 1482954323, "creation_date": 1482951226, "last_edit_date": 1482951764, "question_id": 41368066, "link": "https://stackoverflow.com/questions/41368066/str-object-has-no-attribute-len", "title": "&#39;str&#39; object has no attribute &#39;len&#39;", "body": "<p>Ive got a method that use to work by checking the first three letters/numbers and making sure they are the same before it continues like so </p>\n\n<pre><code>def combineProcess(request):\n    carID1 = request.POST['carID1']\n    carID2 = request.POST['carID2']\n    for x in range (0,3):\n        a += carID1.length(x)\n        b += carID2.length(x)\n    if a.equals(b):\n        //do something\n</code></pre>\n\n<p>before it use to work now it stopped and i get this error.</p>\n\n<pre><code>Exception Type: UnboundLocalError\nException Value:    \n\nlocal variable 'a' referenced before assignment\n</code></pre>\n\n<p>which i never use to get a few weeks ago didnt change anything so i made a and b global.</p>\n\n<pre><code>def combineProcess(request):\n    carID1 = request.POST['carID1']\n    carID2 = request.POST['carID2']\n    global a,b\n    for x in range (0,3):\n        a += carID1.length(x)\n        b += carID2.length(x)\n    if a.equals(b):\n        //do something\n</code></pre>\n\n<p>Now I am getting this error.</p>\n\n<pre><code>Exception Type: NameError\nException Value:    \n\nname 'a' is not defined\n</code></pre>\n\n<p>Then i removed the global line and just put this</p>\n\n<pre><code>a = \"P\"\n</code></pre>\n\n<p>and got the following error</p>\n\n<pre><code>str object has no attribute length() or len()\n</code></pre>\n\n<p>which now has me puzzled how has this code stop working and why cant it recognize that a string object has a len() method. mainly I am lost how my code went from working to not working over a two weeks off.</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "anaconda"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1482952006, "post_id": 41368065, "comment_id": 69938014, "body": "What did it look like?"}], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 6441254, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f7RGBsCVVbc/AAAAAAAAAAI/AAAAAAAAEFo/exvjgvMYrEc/photo.jpg?sz=128", "display_name": "Stein", "link": "https://stackoverflow.com/users/6441254/stein"}, "edited": false, "score": 0, "creation_date": 1483455371, "post_id": 41370710, "comment_id": 70098666, "body": "Thanks! That would of kept my busy for days. Great lesson, always check your axis."}], "tags": [], "owner": {"reputation": 1484, "user_id": 1419514, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cojl7.jpg?s=128&g=1", "display_name": "Greg Reda", "link": "https://stackoverflow.com/users/1419514/greg-reda"}, "is_accepted": false, "score": 2, "last_activity_date": 1482964627, "creation_date": 1482964627, "answer_id": 41370710, "question_id": 41368065, "link": "https://stackoverflow.com/questions/41368065/combining-stacked-bars-and-total-line/41370710#41370710", "title": "Combining stacked bars and total line", "body": "<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ntd = pd.util.testing.makeTimeDataFrame(10)\nax = td.plot(kind='bar', stacked=True)\nax.plot(ax.get_xticks(), td.sum(axis=1), label='Total')\nplt.legend(loc='best')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/i66Hs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i66Hs.png\" alt=\"enter image description here\"></a></p>\n\n<p>pandas/matplotlib doesn't seem to like the (slightly) different axis/index after each operation. If you create just the bar plot, you'll notice that the axis defaults to datetime values, whereas if you create just the line chart, the axis will default to date values. This seems to cause some underlying confusion, thus requiring you to be explicit with <code>ax.get_xticks()</code>.</p>\n"}], "owner": {"reputation": 281, "user_id": 6441254, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f7RGBsCVVbc/AAAAAAAAAAI/AAAAAAAAEFo/exvjgvMYrEc/photo.jpg?sz=128", "display_name": "Stein", "link": "https://stackoverflow.com/users/6441254/stein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482964627, "creation_date": 1482951217, "question_id": 41368065, "link": "https://stackoverflow.com/questions/41368065/combining-stacked-bars-and-total-line", "title": "Combining stacked bars and total line", "body": "<p>I had some code that would produce a nice stacked graph and a total line when given a DataFrame. when I upgraded my Anaconda to 4.0 (pandas 0.18, matplotlib 1.5.1) the total line stoped being produced. I can't seem to figure out why. </p>\n\n<p>Here is some test code that worked originally.</p>\n\n<pre><code>import pandas as pd\nfrom matplotlib import pyplot as plt\n\ntd = pd.util.testing.makeTimeDataFrame(10)\nfig = plt.figure()\ntd.plot(kind='bar',stacked=True, ax=fig.gca())\nplt.plot(td.sum(axis=1),'k-',label = 'Total')\n</code></pre>\n\n<p>Curently this just leaves the barplot but does not add the line.<a href=\"https://i.stack.imgur.com/rmZeD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rmZeD.png\" alt=\"Stacked bar no Total :( \"></a></p>\n\n<p>Thanks in advanced!</p>\n"}, {"tags": ["python", "itertools", "magic-square"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1482951127, "post_id": 41368021, "comment_id": 69937616, "body": "...do you have a question? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1482952093, "post_id": 41368021, "comment_id": 69938051, "body": "I understand the requirement ... give me a few minutes to edit and clarify."}, {"owner": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1482957650, "post_id": 41368021, "comment_id": 69940381, "body": "Thanks @Prune for your help."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1482966094, "post_id": 41368021, "comment_id": 69943510, "body": "You&#39;re welcome; now all we need is more votes to reopen.  I have an answer ready to give."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "edited": false, "score": 0, "creation_date": 1483013166, "post_id": 41371654, "comment_id": 69960467, "body": "Thanks, @Prune but I keep taking baby steps, but I&#39;m not getting anywhere without your support."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "edited": false, "score": 0, "creation_date": 1483028784, "post_id": 41371654, "comment_id": 69969080, "body": "Is there another question in that?  The double &quot;but&quot; isn&#39;t clear."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "edited": false, "score": 0, "creation_date": 1483029146, "post_id": 41371654, "comment_id": 69969256, "body": "If you&#39;re stuck, you haven&#39;t explained how."}, {"owner": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "edited": false, "score": 0, "creation_date": 1483303912, "post_id": 41371654, "comment_id": 70043033, "body": "In the case of magic square, the itertools.combinations is the way to avoid any duplication and speed up the process.Now. How to combine, three at time, the output resulting from the code: for sequence in list(itertools.combinations(range(1, 10),3)):     if sum(sequence)==15:         print(sequence)"}, {"owner": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "edited": false, "score": 0, "creation_date": 1483304540, "post_id": 41371654, "comment_id": 70043180, "body": "Using the code, see above, i combine only sequences with sum 15, The sequences of three elements , converted in matrix, will allow loop more efficient."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1483029159, "last_edit_date": 1483029159, "creation_date": 1482971558, "answer_id": 41371654, "question_id": 41368021, "link": "https://stackoverflow.com/questions/41368021/magic-square-with-python-using-itertools/41371654#41371654", "title": "Magic Square with python, using itertools", "body": "<p>I see -- you want to generate all permutations of magic squares.  You need to cover all permutations of the range from 1 through <strong>N</strong>^2, returned as <strong>N</strong> lists of <strong>N</strong> elements each.</p>\n\n<pre><code>import itertools\n\nN = 3\nfor seq in itertools.permutations(range(1, N*N+1)):\n    # Split the sequence into a candidate magic square,\n    #   N rows of N elements each.\n    cand = [seq[i:i+N] for i in range(0, N*N, N)]\n</code></pre>\n\n<p>This produces a series of candidate squares; feed each one, in turn, to your checking routine, and print the ones that come up <strong>True</strong>.  I expect that you can handle that part.</p>\n\n<p>Here are a few sample candidates from the early part of the generation:</p>\n\n<pre><code>[(1, 3, 5), (6, 2, 8), (4, 7, 9)]\n[(1, 3, 5), (6, 2, 8), (4, 9, 7)]\n[(1, 3, 5), (6, 2, 8), (7, 4, 9)]\n[(1, 3, 5), (6, 2, 8), (7, 9, 4)]\n[(1, 3, 5), (6, 2, 8), (9, 4, 7)]\n[(1, 3, 5), (6, 2, 8), (9, 7, 4)]\n[(1, 3, 5), (6, 2, 9), (4, 7, 8)]\n[(1, 3, 5), (6, 2, 9), (4, 8, 7)]\n[(1, 3, 5), (6, 2, 9), (7, 4, 8)]\n[(1, 3, 5), (6, 2, 9), (7, 8, 4)]\n[(1, 3, 5), (6, 2, 9), (8, 4, 7)]\n[(1, 3, 5), (6, 2, 9), (8, 7, 4)]\n</code></pre>\n\n<hr>\n\n<p><strong>Change of method</strong></p>\n\n<p>Note that this is <em>not</em> your original algorithm: this generates whole squares, rather than just rows of 3.  The independent generation has a logic flaw, in that it will generate magic squares that do not include all 9 numbers, while duplicating others.  For instance:</p>\n\n<pre><code>7 2 6\n4 5 6\n4 8 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1483465769, "creation_date": 1483465769, "answer_id": 41449439, "question_id": 41368021, "link": "https://stackoverflow.com/questions/41368021/magic-square-with-python-using-itertools/41449439#41449439", "title": "Magic Square with python, using itertools", "body": "<p><strong>Algorithm from given stopping point</strong></p>\n\n<p>You currently have all eight possible combinations of three distinct integers 1-9 that sum to 15.  To solve the magic square in the straightforward way you requested, I suggest these steps:</p>\n\n<ul>\n<li>Generate all permutations of each combination: six per combination, for a total of 48.  One way to do this is to generate all permutations (instead of combinations) in your current code.</li>\n<li>Consider these rows in permutations of 3 at a time.  For each permutation, check to see whether stacking the rows in the generated order forms a square.  You can check:\n\n<ul>\n<li>Does each of the three columns sum to 15?</li>\n<li>Does each diagonal sum to 15?</li>\n<li>Are the 9 numbers unique?</li>\n</ul></li>\n</ul>\n\n<p><strong>Faster Code</strong></p>\n\n<p>There are various ways to attack the permutations for efficiency.  For instance, divide the rows into four groups by lowest element (1, 2, 3, or 4).  In generating your squares, pick no more than one row from each group.  This will greatly reduce the total squares you check, since it reduces duplication of elements.</p>\n\n<p>Another way is to pick the first two rows, and then <em>derive</em> the third row from column sums.  Then you have only four checks to make: that the two diagonals sum to 15, that the generated bottom row is legal (has only numbers 1-9), and that there are no duplicated numbers.</p>\n\n<p><strong>Finding the 8 rows more efficiently</strong></p>\n\n<p>You don't have to paw through the 720 triples to find the 8 rows.  Instead, generate the 90 starting pairs; for each, derive the third element (15 minus the first two).  If the third element is one of the 7 missing numbers (1-9, but neither of the first two), then it's one of your desired rows.</p>\n\n<p>I hope that this leads you to a solution.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10073277, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2f6def354be76739988f790165a84f5a?s=128&d=identicon&r=PG", "display_name": "FoConrad", "link": "https://stackoverflow.com/users/10073277/foconrad"}, "is_accepted": false, "score": 0, "last_activity_date": 1531439850, "creation_date": 1531439850, "answer_id": 51315960, "question_id": 41368021, "link": "https://stackoverflow.com/questions/41368021/magic-square-with-python-using-itertools/51315960#51315960", "title": "Magic Square with python, using itertools", "body": "<p>Here is a solution in a quasi one-liner (with the benefit of producing answers as they are found). It maps the permutations of length N*N to numpy reshape, then determines if the matrix is magic.    </p>\n\n<pre><code>import numpy\nimport functools\nimport itertools\n\nN = 3\nfor item in filter(lambda o: len(set(numpy.sum(o, axis=0))\n                                 .union(numpy.sum(o, axis=1))\n                                 .union({o.diagonal().sum()})\n                                 .union({numpy.fliplr(o).diagonal().sum()})\n                                 ) == 1,\n                   map(functools.partial(numpy.reshape, newshape=(N, N)), \n                       itertools.permutations(range(N*N)))):\n    print(item)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5542908, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/57553fce81eb0fb16b0c84c520ea427e?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5542908/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1499, "favorite_count": 2, "answer_count": 3, "score": -5, "last_activity_date": 1531439850, "creation_date": 1482951025, "last_edit_date": 1482958809, "question_id": 41368021, "link": "https://stackoverflow.com/questions/41368021/magic-square-with-python-using-itertools", "title": "Magic Square with python, using itertools", "body": "<p>I have some code that will determine if a N*N list of integers forms a magic square:</p>\n\n<pre><code>import itertools\n\n#Function square magic\ndef magic_square(matrix):\n    dimension = len(matrix[0])\n    sum_list = []\n\n    #Horizontal code:\n    sum_list.extend([sum (lines) for lines in matrix])   \n\n    #Vertical code:\n    for col in range(dimension):\n        sum_list.append(sum(row[col] for row in matrix))\n\n    #Diagonals code\n    diagonal1 = 0\n    for i in range(0,dimension):\n        diagonal1 +=matrix[i][i]\n    sum_list.append(diagonal1)  \n\n    diagonal2 = 0\n    for i in range(dimension-1,-1,-1):\n        diagonal2 +=matrix[i][i]\n    sum_list.append(diagonal2)\n\n    if len(set(sum_list))&gt;1:\n        return False\n    return True\n\nm=[[7, 12, 1, 14], [2, 13, 8, 11], [16, 3, 10, 5], [9, 6, 15, 4]] \nprint(magic_square(m))\n\nm=[[2, 7, 6], [9, 5, 1], [4, 3, 8]]\nprint(magic_square(m))\n\nm=[[2, 7, 6], [9, 5, 1], [4, 3, 7]]\nprint(magic_square(m))\n\nprint(\"**************************\")\n\n#Now, i use itertools like this:\nfor i in itertools.combinations(range(1,10), 3):\n    if sum(i) == 15:\n        print (i)\n# I get the combinations each of three numbers with sum 15\n</code></pre>\n\n<p>My problem is the last part: I want to generate all permutations of the integers 1 through N^2, break each into a square -- a 2-D list of N rows and N columns -- and use my function to find all magic squares.  The <strong>itertools</strong> code I wrote finds combinations of 3 numbers that will do the job, but I can't figure out the combinatorics to form squares.</p>\n\n<p>Thanks @Prune for your help.</p>\n\n<p>If i have: <br>\n[1 5 9]<br>\n[1 6 8]<br>\n[2 4 9]<br>\n[2 5 8]<br>\n[2 6 7]<br>\n[3 4 8]<br>\n[3 5 7]<br>\n[4 5 6]<br>\nhow i can generate an square magic and know if it's True o False, using three at a time the elements of matrix?<br> \nExample: <br>[[1 5 9],[1 6 8], [2 4 9]]<br> or <br>[[1 5 9],[1 6 8], [2 5 8]]<br> or<br> [[1 5 9],[1 6 8], [2 6 9]] Etcetera, etcetera.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1482951064, "post_id": 41367998, "comment_id": 69937594, "body": "Please put a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question. Also you&#39;re not using <code>self.</code> for what I assume are intended to be instance attributes; read a tutorial."}, {"owner": {"reputation": 37, "user_id": 3740374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef571d46c6081c5194f80ba1b5ef2903?s=128&d=identicon&r=PG&f=1", "display_name": "Thun", "link": "https://stackoverflow.com/users/3740374/thun"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482952478, "post_id": 41367998, "comment_id": 69938216, "body": "Sorry, now example should be more readable. I want to initialize background from main inside other function so I don&#39;t want to use self in this case."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1482954815, "post_id": 41367998, "comment_id": 69939181, "body": "Maybe have a read through <a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">section 9, Classes</a> of the tutorial. Looks like you need to spend some more time learning how to do things the Python way. . <code>display</code> is an instance of <code>Display</code> and its attributes are accessed with <code>display.attribute</code>. - But the way you wrote your class, there aren&#39;t any instance attributes. You should also probably read through <a href=\"https://docs.python.org/3/references/executionmodel.html#naming-and-binding\" rel=\"nofollow noreferrer\">naming and binding</a>."}, {"owner": {"reputation": 37, "user_id": 3740374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef571d46c6081c5194f80ba1b5ef2903?s=128&d=identicon&r=PG&f=1", "display_name": "Thun", "link": "https://stackoverflow.com/users/3740374/thun"}, "edited": false, "score": 0, "creation_date": 1482956420, "post_id": 41367998, "comment_id": 69939865, "body": "Because I don&#39;t want it to be attribute of display. I want background to be in main. That&#39;s why I pass it as argument to functions"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1482962282, "post_id": 41367998, "comment_id": 69942253, "body": "<code>return</code> in Python can send many objects so there is no need to use pointers as arguments - you can simple do <code>display, background = init()</code> and <code>return display, background</code>"}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 4016119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c9fb13d2546e67baf64d642b03ca27?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Ringer", "link": "https://stackoverflow.com/users/4016119/darren-ringer"}, "edited": false, "score": 0, "creation_date": 1483301430, "post_id": 41418502, "comment_id": 70042273, "body": "For that reason I would advise against using &quot;map&quot; as a parameter name, but technically it shouldn&#39;t cause any problems in this very limited case (because it only exists within the scope of a function call)"}, {"owner": {"reputation": 37, "user_id": 3740374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef571d46c6081c5194f80ba1b5ef2903?s=128&d=identicon&r=PG&f=1", "display_name": "Thun", "link": "https://stackoverflow.com/users/3740374/thun"}, "edited": false, "score": 0, "creation_date": 1483350107, "post_id": 41418502, "comment_id": 70054200, "body": "Yeah that&#39;s exactly what I did and it&#39;s working nice. It&#39;s much better approach to put background inside class. Thanks!  Edit: you forgot to put self. before other &quot;background&quot; :)"}, {"owner": {"reputation": 1759, "user_id": 2467544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP1mx.png?s=128&g=1", "display_name": "Blake O&#39;Hare", "link": "https://stackoverflow.com/users/2467544/blake-ohare"}, "edited": false, "score": 0, "creation_date": 1483379030, "post_id": 41418502, "comment_id": 70068040, "body": "No, the other <code>background</code> variable is just a local variable and does not have a <code>self.</code> in front of it. It is only set after it is returned from <code>.convert()</code>. Making it a class field is redundant as it will just be overwritten by <code>self.background = [self.]background.convert()</code> anyway."}], "tags": [], "owner": {"reputation": 1759, "user_id": 2467544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP1mx.png?s=128&g=1", "display_name": "Blake O&#39;Hare", "link": "https://stackoverflow.com/users/2467544/blake-ohare"}, "is_accepted": true, "score": 0, "last_activity_date": 1483300709, "creation_date": 1483300709, "answer_id": 41418502, "question_id": 41367998, "link": "https://stackoverflow.com/questions/41367998/correct-way-to-mutate-initialized-objects-in-python/41418502#41418502", "title": "Correct way to mutate initialized objects in python", "body": "<p>Fixed. I think you're looking for preserved state in class instance variables. Use <code>self.</code> if you want to save stuff on the class. Like most languages, variables, unless specifically defined as global, will not affect anything outside their scope. I added <code>self.</code> and removed the background variable function parameter. </p>\n\n<pre><code>class Display:\n\n    def __init__(self):\n        resolution = (800, 600)    \n        screen = pygame.display.set_mode(resolution)\n        background = pygame.Surface(screen.get_size())\n        background.fill((255, 255, 255))\n        self.background = background.convert()\n\ndef init(map):\n    pygame.init()\n    display = Display()\n    map.draw(display.background) \n\ndef main():\n    init(map)\n</code></pre>\n\n<p>Additionally you haven't defined <code>map</code> so you're going to have problems with <code>map.draw</code>. It only runs because <code>map</code> just happens to be a built-in Python function. </p>\n\n<p>EDIT: nevermind, forget what I just said ^.</p>\n\n<p>I see your full code sample defines it. </p>\n"}], "owner": {"reputation": 37, "user_id": 3740374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef571d46c6081c5194f80ba1b5ef2903?s=128&d=identicon&r=PG&f=1", "display_name": "Thun", "link": "https://stackoverflow.com/users/3740374/thun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 41418502, "answer_count": 1, "score": 0, "last_activity_date": 1483300709, "creation_date": 1482950921, "last_edit_date": 1482952267, "question_id": 41367998, "link": "https://stackoverflow.com/questions/41367998/correct-way-to-mutate-initialized-objects-in-python", "title": "Correct way to mutate initialized objects in python", "body": "<p>I have recently decided to start learning python. For most of my time I have used C++ and some things are very confusing to me.</p>\n\n<p>Here is my code that I have problem with (full code here: <a href=\"http://pastebin.com/tj3qJnvM\" rel=\"nofollow noreferrer\">http://pastebin.com/tj3qJnvM</a>)</p>\n\n<pre><code>class Display:\n\n    def __init__(self, background):\n        resolution = (800, 600)    \n        screen = pygame.display.set_mode(resolution)\n        background = pygame.Surface(screen.get_size())\n        background.fill((255, 255, 255))\n        background = background.convert()\n\ndef init(map, background):\n    pygame.init()\n    display = Display(background)\n    map.draw(background)\n\ndef main():\n    background = None\n    init(map, background)\n</code></pre>\n\n<p>When I call <code>display = Display(background)</code> in <code>init</code> (line 61), it should initialize background so it can be used on the next line. Instead I get error saying that background is None.</p>\n\n<p>If I understand it correctly it's due to the fact that background was set to None and None is not mutable so it creates local variable background in Display constructor.</p>\n\n<p>How should I approach this situation?</p>\n\n<p>I know it would be best to make background a member of Display class but I want to understand how to create something similar to declaring a pointer/reference in C. And then initialize it in some function. \nThis would be useful to pass it then to some functions.</p>\n\n<p>Is it possible in python or is workaround needed every time?</p>\n"}]