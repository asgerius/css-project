[{"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1391, "user_id": 3826759, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7a732492ee414b03e4439b8ec50d38e?s=128&d=identicon&r=PG&f=1", "display_name": "double_j", "link": "https://stackoverflow.com/users/3826759/double-j"}, "edited": false, "score": 0, "creation_date": 1492646411, "post_id": 43507957, "comment_id": 74070527, "body": "It only matches the bottom line because they are all touching. But line 1 has stuff in between, like spaces and <code>foo</code>. Your current regex doesn&#39;t account for that."}, {"owner": {"reputation": 875, "user_id": 6918481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949bc6de647c79a6a432bc8ed1a51b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Shiping", "link": "https://stackoverflow.com/users/6918481/shiping"}, "edited": false, "score": 0, "creation_date": 1492646479, "post_id": 43507957, "comment_id": 74070543, "body": "how about this? re.search(&#39;100\\.00%.*100\\.00%.*100\\.00%&#39;, string)"}, {"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "reply_to_user": {"reputation": 875, "user_id": 6918481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949bc6de647c79a6a432bc8ed1a51b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Shiping", "link": "https://stackoverflow.com/users/6918481/shiping"}, "edited": false, "score": 0, "creation_date": 1492646778, "post_id": 43507957, "comment_id": 74070612, "body": "@Shiping This will match strings that have <code>100.00%</code> repeated more than 3 times"}, {"owner": {"reputation": 875, "user_id": 6918481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949bc6de647c79a6a432bc8ed1a51b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Shiping", "link": "https://stackoverflow.com/users/6918481/shiping"}, "reply_to_user": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492646951, "post_id": 43507957, "comment_id": 74070658, "body": "@silel yes, it&#39;ll match lines with 3 or more 100.00%. the post is not clear if it has to be exact 3 occurrences of 100.00%."}, {"owner": {"reputation": 33, "user_id": 7887073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2da31e3524d4292afd535d3527ac10?s=128&d=identicon&r=PG&f=1", "display_name": "peterj", "link": "https://stackoverflow.com/users/7887073/peterj"}, "reply_to_user": {"reputation": 875, "user_id": 6918481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949bc6de647c79a6a432bc8ed1a51b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Shiping", "link": "https://stackoverflow.com/users/6918481/shiping"}, "edited": false, "score": 0, "creation_date": 1492745912, "post_id": 43507957, "comment_id": 74119268, "body": "@Shiping, Sorry for not clarifying my question. I want to match exact 3 occurrences"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7887073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2da31e3524d4292afd535d3527ac10?s=128&d=identicon&r=PG&f=1", "display_name": "peterj", "link": "https://stackoverflow.com/users/7887073/peterj"}, "edited": false, "score": 0, "creation_date": 1492746965, "post_id": 43508110, "comment_id": 74119579, "body": "Both of you and Halemur Ali&#39;s answer solved my problem, and thanks a lot for your detailed explanation!"}], "tags": [], "owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "is_accepted": false, "score": 5, "last_activity_date": 1492650066, "last_edit_date": 1492650066, "creation_date": 1492647196, "answer_id": 43508110, "question_id": 43507957, "link": "https://stackoverflow.com/questions/43507957/python-regex-how-to-match-a-string-for-n-times-of-occurrences/43508110#43508110", "title": "Python regex, how to match a string for n times of occurrences", "body": "<p>Halemur Ali's answer is much cleaner than this one which I leave only for completeness.</p>\n\n<p>The notation <code>{3}</code> is merely a shortcut, you can always replace it by expanding the repeated sequence. To match line where the sequence <code>100.00%</code> appears exactly 3 times, you can use:</p>\n\n<pre><code>\"^(?:(?!100\\.00%).)*(?:100\\.00%(?:(?!100\\.00%).)*){3}$\"\n</code></pre>\n\n<p>This uses <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">negative-lookaheads</a>.</p>\n\n<p>It can be read this way:</p>\n\n<ul>\n<li><code>^</code> start of the line</li>\n<li><code>(?:(?!100\\.00%).)*</code> any character (zero or more), until a <code>100.00%</code> sequence</li>\n<li><code>(?:100\\.00%</code> the <code>100.00%</code> sequence</li>\n<li><code>(?!100\\.00%).)*</code> followed by any character (zero or more) until a <code>100.00%</code> sequence</li>\n<li><code>{3}</code> repeated 3 times</li>\n<li><code>$</code> end of line</li>\n</ul>\n\n<p>Consider taking a look at python's documentation of the <a href=\"https://docs.python.org/3/library/re.html\" rel=\"noreferrer\"><code>re</code></a> module.</p>\n\n<p><em>Note: brackets are not necessary to match a single character.</em></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7887073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2da31e3524d4292afd535d3527ac10?s=128&d=identicon&r=PG&f=1", "display_name": "peterj", "link": "https://stackoverflow.com/users/7887073/peterj"}, "edited": false, "score": 0, "creation_date": 1492746888, "post_id": 43508156, "comment_id": 74119561, "body": "Thanks so much for your answer!"}], "tags": [], "owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "is_accepted": true, "score": 2, "last_activity_date": 1492647559, "creation_date": 1492647559, "answer_id": 43508156, "question_id": 43507957, "link": "https://stackoverflow.com/questions/43507957/python-regex-how-to-match-a-string-for-n-times-of-occurrences/43508156#43508156", "title": "Python regex, how to match a string for n times of occurrences", "body": "<p>an alternative that requires a <em>simpler</em> regular expression is to find all substrings that match <code>100.00%</code> and test if the count == 3.</p>\n\n<p>example</p>\n\n<pre><code>import re\n\np = re.compile(r'100\\.00%')\ntexts = ['some string 100.00% foo 100.00% 100.00%',\n         'some string  99.91%  foo 100.00% 99.91%',\n         'some string 100.00%100.00%100.00%']\n\nmatches = [i for i, t in enumerate(texts)\n           if len(re.findall(p, t)) == 3]\n# matches = [0, 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 0, "creation_date": 1492647851, "post_id": 43508191, "comment_id": 74070861, "body": "maybe <code>r&#39;(100\\.00%.*){3}&#39;</code>"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "reply_to_user": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 0, "creation_date": 1492648092, "post_id": 43508191, "comment_id": 74070912, "body": "@HaleemurAli yeah thanks, edited in the radix and forgot to escape t_t"}, {"owner": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492650348, "post_id": 43508191, "comment_id": 74071482, "body": "This will also match lines with more than 3 <code>100.00%</code> sequences."}, {"owner": {"reputation": 33, "user_id": 7887073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2da31e3524d4292afd535d3527ac10?s=128&d=identicon&r=PG&f=1", "display_name": "peterj", "link": "https://stackoverflow.com/users/7887073/peterj"}, "reply_to_user": {"reputation": 537, "user_id": 7853136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f12e850087da5b28d65b2e31e81d2a?s=128&d=identicon&r=PG&f=1", "display_name": "silel", "link": "https://stackoverflow.com/users/7853136/silel"}, "edited": false, "score": 0, "creation_date": 1492746012, "post_id": 43508191, "comment_id": 74119305, "body": "just like @silel said. It will match more than 3 occurrences, and I would like to match exact 3 times"}], "tags": [], "owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1492648069, "last_edit_date": 1492648069, "creation_date": 1492647783, "answer_id": 43508191, "question_id": 43507957, "link": "https://stackoverflow.com/questions/43507957/python-regex-how-to-match-a-string-for-n-times-of-occurrences/43508191#43508191", "title": "Python regex, how to match a string for n times of occurrences", "body": "<p><code>r'(100\\.00%.*){3}'</code> should also do the trick, and is readable, concise, and (I think) performant. </p>\n"}], "owner": {"reputation": 33, "user_id": 7887073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2da31e3524d4292afd535d3527ac10?s=128&d=identicon&r=PG&f=1", "display_name": "peterj", "link": "https://stackoverflow.com/users/7887073/peterj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6364, "favorite_count": 0, "accepted_answer_id": 43508156, "answer_count": 3, "score": 3, "last_activity_date": 1492650066, "creation_date": 1492646164, "question_id": 43507957, "link": "https://stackoverflow.com/questions/43507957/python-regex-how-to-match-a-string-for-n-times-of-occurrences", "title": "Python regex, how to match a string for n times of occurrences", "body": "<p>I want to match the line that contains word 100.00% for 3 occurrences.</p>\n\n<p>e.g </p>\n\n<pre><code>some string 100.00% foo 100.00% 100.00%\nsome string  99.91%  foo 100.00% 99.91%\nsome string 100.00%100.00%100.00%\n</code></pre>\n\n<p>So line 1 and 3 should all be matched.</p>\n\n<p>However, my following regex seems only to match the case that has 100.00% repeated for 3 times. (Only match line 3)</p>\n\n<pre><code>re.search(r\"([1][0][0]\\.[0][0][%]){3}\",string)\n</code></pre>\n\n<p>I wonder how should I do to match line 1 as well?</p>\n\n<p>Thanks everybody!</p>\n"}, {"tags": ["python", "angularjs", "selenium", "beautifulsoup"], "comments": [{"owner": {"reputation": 1018, "user_id": 5156102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNozE.png?s=128&g=1", "display_name": "mark jay", "link": "https://stackoverflow.com/users/5156102/mark-jay"}, "edited": false, "score": 0, "creation_date": 1492666147, "post_id": 43507840, "comment_id": 74075768, "body": "have you tried finding elements by link text? for example <code>driver.find_element_by_link_text(&quot;Category 2&quot;)</code>"}, {"owner": {"reputation": 95, "user_id": 4200273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pk8yH.jpg?s=128&g=1", "display_name": "dataryne", "link": "https://stackoverflow.com/users/4200273/dataryne"}, "reply_to_user": {"reputation": 1018, "user_id": 5156102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNozE.png?s=128&g=1", "display_name": "mark jay", "link": "https://stackoverflow.com/users/5156102/mark-jay"}, "edited": false, "score": 0, "creation_date": 1492700538, "post_id": 43507840, "comment_id": 74099819, "body": "yes, I have tried that. I get a &quot;NoSuchElementException&quot; when I do. I think this is because the text I want to search for is a child of the element I want to click?"}], "answers": [{"comments": [{"owner": {"reputation": 1018, "user_id": 5156102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNozE.png?s=128&g=1", "display_name": "mark jay", "link": "https://stackoverflow.com/users/5156102/mark-jay"}, "edited": false, "score": 0, "creation_date": 1492666000, "post_id": 43510742, "comment_id": 74075727, "body": "I think OP is using Selenium with python bindings."}], "tags": [], "owner": {"reputation": 96, "user_id": 5113613, "user_type": "registered", "profile_image": "https://graph.facebook.com/842969459115161/picture?type=large", "display_name": "Richard", "link": "https://stackoverflow.com/users/5113613/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1492665289, "creation_date": 1492665289, "answer_id": 43510742, "question_id": 43507840, "link": "https://stackoverflow.com/questions/43507840/navigating-website-using-selenium/43510742#43510742", "title": "Navigating website using selenium", "body": "<p>I assume your tabs load on runtime.\nSo, to activate the tab, you need to use FindElement(By) to locate the tab and click it before you could access the information from that tab.</p>\n\n<p>According to your code, no Id found to use FindElement(By.Id). So I suggest you use either FindElement(By.CSSSelector) or FindElement(By.Xpath) which you could copy the Locator string from browser's development tool, i.e. in Google Chrome right click==> inspect==>Copy==>Copy Selector or Copy Xpath.</p>\n\n<p>After you got the Tab Element, i.e. </p>\n\n<pre><code>IWebElement tab = driver.FindElement(By.CSSSelector);\n\ntab.Click();//Tab activated\n//...Do your thing afterwards.\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 95, "user_id": 4200273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pk8yH.jpg?s=128&g=1", "display_name": "dataryne", "link": "https://stackoverflow.com/users/4200273/dataryne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492709344, "creation_date": 1492645353, "last_edit_date": 1492709344, "question_id": 43507840, "link": "https://stackoverflow.com/questions/43507840/navigating-website-using-selenium", "title": "Navigating website using selenium", "body": "<p>I am trying to scrape information from a website but am having trouble navigating it using Selenium. The site uses ng-click to update a table so I must activate different tabs on the page to get the information I want. This is the html that generates the tabs: </p>\n\n<pre><code>&lt;ul class=\"tabs swiper-wrapper\" ng-class=\"{'swiper-wrapper' : swiperActive }\"&gt;\n    &lt;li ng-repeat=\"category in Report.Winners track by $index\" ng-click=\"updateCategory(category.key)\" ng-class=\"{'active' : category.key == activeCategory, 'swiper-slide' : swiperActive }\" class=\"ng-scope active\"&gt;\n        &lt;p class=\"category text-small ng-binding\"&gt;Category 1&lt;/p&gt;\n        &lt;p class=\"winner\"&gt;\n        &lt;/p&gt;\n    &lt;/li&gt;&lt;li ng-repeat=\"category in Report.Winners track by $index\" ng-click=\"updateCategory(category.key)\" ng-class=\"{'active' : category.key == activeCategory, 'swiper-slide' : swiperActive }\" class=\"ng-scope\"&gt;\n        &lt;p class=\"category text-small ng-binding\"&gt;Category 2&lt;/p&gt;\n        &lt;p class=\"winner\"&gt;\n        &lt;/p&gt;\n    &lt;/li&gt;&lt;li ng-repeat=\"category in Report.Winners track by $index\" ng-click=\"updateCategory(category.key)\" ng-class=\"{'active' : category.key == activeCategory, 'swiper-slide' : swiperActive }\" class=\"ng-scope\"&gt;\n        &lt;p class=\"category text-small ng-binding\"&gt;Category 3&lt;/p&gt;\n        &lt;p class=\"winner\"&gt;\n        &lt;/p&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I have figured out how to scrape the information from \"Category 1\" since it loads by default. How do I navigate to \"Category 2\" and \"Category 3\" so I can scrape those as well? Thanks!</p>\n\n<p><b>Update:</b><br>\nI ended up using this to find the links for each category:  </p>\n\n<pre><code>available_categories_links = browser.find_elements_by_css_selector(\"ul &gt; [ng-click*=updateCategory]\") \n</code></pre>\n\n<p>And then I loop through them like this:  </p>\n\n<pre><code>for x in range(len(available_categories_links)):\n    available_categories_links[x].click()\n</code></pre>\n\n<p>Doing it this way doesn't let me access different tabs by name like I had originally hoped to do, and it's probably not the most efficient or very robust, but it gets the job done in my particular case.</p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1492645959, "post_id": 43507767, "comment_id": 74070415, "body": "Took me a couple of tries... but I got eventually :-)"}], "answers": [{"comments": [{"owner": {"reputation": 4137, "user_id": 6346698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c20ab6d6a6597a7be342a662a0d42e6b?s=128&d=identicon&r=PG&f=1", "display_name": "everestial007", "link": "https://stackoverflow.com/users/6346698/everestial007"}, "edited": false, "score": 0, "creation_date": 1492645926, "post_id": 43507868, "comment_id": 74070405, "body": "hi @piRSquared: Can you please look into this problem? <a href=\"http://stackoverflow.com/questions/43475370/how-to-merge-two-pandas-dataframes-or-transfer-values-by-comparing-ranges-of-v\" title=\"how to merge two pandas dataframes or transfer values by comparing ranges of v\">stackoverflow.com/questions/43475370/&hellip;</a>"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1492646207, "post_id": 43507868, "comment_id": 74070484, "body": "That&#39;s it, thanks as always.  Mind jotting down a quick blurb about exactly what&#39;s going on there?  The second line I get... first and third are a little over my head."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1492646480, "post_id": 43507868, "comment_id": 74070544, "body": "@pshep123 blurbed"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1492646565, "post_id": 43507868, "comment_id": 74070562, "body": "Excellent - this is incredibly helpful.  Thanks again!"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1492646783, "post_id": 43507868, "comment_id": 74070613, "body": "Yet another @piRSquared solution that I will file away in my cabinet of tricks to use in the future.  &quot;reverse cumsum groupby transform&quot;  Got it!"}, {"owner": {"reputation": 4137, "user_id": 6346698, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c20ab6d6a6597a7be342a662a0d42e6b?s=128&d=identicon&r=PG&f=1", "display_name": "everestial007", "link": "https://stackoverflow.com/users/6346698/everestial007"}, "edited": false, "score": 0, "creation_date": 1492658188, "post_id": 43507868, "comment_id": 74073430, "body": "@piRSquared: Did you had any chance to look into the problem/question I posted. I am trying to work out a solution but failing. The expected output should explain what i want, but I also have a code posted which was not successful but kinda explains what I am trying to do."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 12, "last_activity_date": 1492647206, "last_edit_date": 1492647206, "creation_date": 1492645571, "answer_id": 43507868, "question_id": 43507767, "link": "https://stackoverflow.com/questions/43507767/pandas-fill-nans-with-next-non-nan-consecutive-nans/43507868#43507868", "title": "Pandas: Fill NaNs with next non-NaN / # consecutive NaNs", "body": "<ul>\n<li>Take a reverse <code>cumsum</code> of <code>notnull</code></li>\n<li>Use that to <code>groupby</code> and <code>transform</code> with <code>mean</code></li>\n</ul>\n\n<hr>\n\n<pre><code>csum = df.num.notnull()[::-1].cumsum()\nfiller = df.num.fillna(0).groupby(csum).transform('mean')\ndf.assign(filler=filler)\n\n         date   num  filler\n0  2016-01-01  10.0    10.0\n1  2016-01-02  12.0    12.0\n2  2016-01-03   NaN    13.0\n3  2016-01-04   NaN    13.0\n4  2016-01-05  39.0    13.0\n5  2016-01-06  10.0    10.0\n6  2016-01-07  11.0    11.0\n7  2016-01-08   NaN    12.0\n8  2016-01-09   NaN    12.0\n9  2016-01-10   NaN    12.0\n10 2016-01-11   NaN    12.0\n11 2016-01-12  60.0    12.0\n</code></pre>\n\n<hr>\n\n<p><strong><em>how it works</em></strong>  </p>\n\n<ul>\n<li><code>df.num.notnull().cumsum()</code> is a standard technique to find groups of contiguous nulls.  However, I wanted my groups to end with the next numeric value.  So I reversed the series and then <code>cumsum</code>'d.</li>\n<li>I want my average to include the number of nulls.  Easiest way to do that is to fill with zero and take a normal mean over the groups I I just made.</li>\n<li><code>transform</code> to broadcast across the existing index</li>\n<li><code>assign</code> new column.  Despite having reversed the series, the index will realign like magic.  Could have used <code>loc</code> but that overwrites the existing <code>df</code>.  I'll let OP decide to overwrite if they want to.</li>\n</ul>\n"}], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 43507868, "answer_count": 1, "score": 9, "last_activity_date": 1509781911, "creation_date": 1492644841, "last_edit_date": 1509781911, "question_id": 43507767, "link": "https://stackoverflow.com/questions/43507767/pandas-fill-nans-with-next-non-nan-consecutive-nans", "title": "Pandas: Fill NaNs with next non-NaN / # consecutive NaNs", "body": "<p>I'm looking to take a pandas series and fill <code>NaN</code> with the average of the next numerical value where: <code>average = next numerical value / (# consecutive NaNs + 1)</code></p>\n\n<p>Here's my code so far, I just can't figure out how to divide the <code>filler</code> column among the <code>NaN</code>s (and the next numerical value as well) in <code>num</code>:</p>\n\n<pre><code>import pandas as pd\n\ndates = pd.date_range(start = '1/1/2016',end = '1/12/2016', freq = 'D')\nnums = [10, 12, None, None, 39, 10, 11, None, None, None, None, 60]\n\ndf = pd.DataFrame({\n        'date':dates, \n        'num':nums\n        })\n\ndf['filler'] = df['num'].fillna(method = 'bfill')\n</code></pre>\n\n<p>Current Output:</p>\n\n<pre><code>         date   num  filler\n0  2016-01-01  10.0    10.0\n1  2016-01-02  12.0    12.0\n2  2016-01-03   NaN    39.0\n3  2016-01-04   NaN    39.0\n4  2016-01-05  39.0    39.0\n5  2016-01-06  10.0    10.0\n6  2016-01-07  11.0    11.0\n7  2016-01-08   NaN    60.0\n8  2016-01-09   NaN    60.0\n9  2016-01-10   NaN    60.0\n10 2016-01-11   NaN    60.0\n11 2016-01-12  60.0    60.0\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>         date   num\n0  2016-01-01  10.0\n1  2016-01-02  12.0\n2  2016-01-03  13.0\n3  2016-01-04  13.0\n4  2016-01-05  13.0\n5  2016-01-06  10.0\n6  2016-01-07  11.0\n7  2016-01-08  12.0\n8  2016-01-09  12.0\n9  2016-01-10  12.0\n10 2016-01-11  12.0\n11 2016-01-12  12.0\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "visualization", "data-visualization", "seaborn"], "comments": [{"owner": {"reputation": 121, "user_id": 4241955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a649b54c874927ba39dfc6a70da757ba?s=128&d=identicon&r=PG&f=1", "display_name": "shallow_water", "link": "https://stackoverflow.com/users/4241955/shallow-water"}, "edited": false, "score": 0, "creation_date": 1551236862, "post_id": 43507756, "comment_id": 96563424, "body": "Assuming you&#39;re using Jupyter notebooks, the nicest solution I&#39;ve found is to just use rpy2/ggplot. There&#39;s a great correlation plot library: <a href=\"http://www.sthda.com/english/wiki/ggcorrplot-visualization-of-a-correlation-matrix-using-ggplot2\" rel=\"nofollow noreferrer\">ggcorrplot</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 3848765, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ITRqu.jpg?s=128&g=1", "display_name": "amonk", "link": "https://stackoverflow.com/users/3848765/amonk"}, "edited": false, "score": 1, "creation_date": 1590225078, "post_id": 43516144, "comment_id": 109603937, "body": "Actually you need to remove len(corr) from the coordinates of both the text and values. Otherwise they overlap"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 10, "last_activity_date": 1492683175, "last_edit_date": 1492683175, "creation_date": 1492682094, "answer_id": 43516144, "question_id": 43507756, "link": "https://stackoverflow.com/questions/43507756/python-seaborn-how-to-replicate-corrplot/43516144#43516144", "title": "Python, Seaborn: how to replicate corrplot?", "body": "<p>First, the fact that <code>corrplot()</code> is depreciated does not mean that you cannot use it. It is just likely that it will be removed in some future version of seaborn or has some other issue accompanying it. However, if you are happy with what it gives you now, you may still use it.</p>\n\n<p>In order to get a result similar to the <code>corrplot</code> but using a <code>heatmap</code>, you may need to tweak the plot a bit.</p>\n\n<p>An example is shown below:</p>\n\n<pre><code>import numpy as np; np.random.seed(1)\nimport pandas as pd\nimport seaborn.apionly as sns\nimport matplotlib.pyplot as plt\n\n# Generate a random dataset\ncols = [s*4 for s in list(\"ABCD\")]\ndf = pd.DataFrame(data=np.random.rayleigh(scale=5, size=(100, 4)), columns=cols)\n\n# Compute the correlation matrix\ncorr = df.corr()\nprint(corr)\n# Generate a mask for the upper triangle\nmask = np.zeros_like(corr, dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n\n# Set up the matplotlib figure\nfig, ax = plt.subplots()\n\n# Draw the heatmap with the mask and correct aspect ratio\nvmax = np.abs(corr.values[~mask]).max()\nsns.heatmap(corr, mask=mask, cmap=plt.cm.PuOr, vmin=-vmax, vmax=vmax,\n            square=True, linecolor=\"lightgray\", linewidths=1, ax=ax)\nfor i in range(len(corr)):\n    ax.text(i+0.5,len(corr)-(i+0.5), corr.columns[i], \n            ha=\"center\", va=\"center\", rotation=45)\n    for j in range(i+1, len(corr)):\n        s = \"{:.3f}\".format(corr.values[i,j])\n        ax.text(j+0.5,len(corr)-(i+0.5),s, \n            ha=\"center\", va=\"center\")\nax.axis(\"off\")\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/S5DLe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/S5DLe.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1331, "user_id": 2576153, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d899b73ca8fb940c8ddf9a70a4285cf1?s=128&d=identicon&r=PG&f=1", "display_name": "pragman", "link": "https://stackoverflow.com/users/2576153/pragman"}, "edited": false, "score": 1, "creation_date": 1550945918, "post_id": 54844539, "comment_id": 96462429, "body": "Can you explain your solution in more detail to give better context for your answer?"}], "tags": [], "owner": {"reputation": 1, "user_id": 7971552, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1_WIDhmfXi4/AAAAAAAAAAI/AAAAAAAAAA0/H-cjcbbXeCM/photo.jpg?sz=128", "display_name": "Kyle Derwin", "link": "https://stackoverflow.com/users/7971552/kyle-derwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1550945287, "creation_date": 1550945287, "answer_id": 54844539, "question_id": 43507756, "link": "https://stackoverflow.com/questions/43507756/python-seaborn-how-to-replicate-corrplot/54844539#54844539", "title": "Python, Seaborn: how to replicate corrplot?", "body": "<pre><code>for i in range(len(corr)):\n    ax.text(i+0.5,(i+0.5), corr.columns[i], ha=\"center\", va=\"center\", rotation=45)\n    for j in range(i+1, len(corr)):\n        s = \"{:.3f}\".format(corr.values[i,j])\n        ax.text(j+0.5,(i+0.5),s, \n            ha=\"center\", va=\"center\")[my plt.show][1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13466613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgT5gfA6GZ7MclFaaKjdlUh4mqWBPbzmOTAvVdEKA=k-s128", "display_name": "Parthiv Shah", "link": "https://stackoverflow.com/users/13466613/parthiv-shah"}, "is_accepted": false, "score": 3, "last_activity_date": 1588872398, "creation_date": 1588872398, "answer_id": 61663992, "question_id": 43507756, "link": "https://stackoverflow.com/questions/43507756/python-seaborn-how-to-replicate-corrplot/61663992#61663992", "title": "Python, Seaborn: how to replicate corrplot?", "body": "<p>this simple thing below gets me a corrplot. Now you can play with map_upper and map_lower and generate what you want.</p>\n\n<pre><code>tech_rets_corr= tech_rets.dropna().corr()\nsns.heatmap(tech_rets_corr, annot=True, fmt='.2f')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11946, "favorite_count": 7, "accepted_answer_id": 43516144, "answer_count": 3, "score": 6, "last_activity_date": 1588872398, "creation_date": 1492644754, "last_edit_date": 1492683112, "question_id": 43507756, "link": "https://stackoverflow.com/questions/43507756/python-seaborn-how-to-replicate-corrplot", "title": "Python, Seaborn: how to replicate corrplot?", "body": "<p>I'm taking a course on UDemy about data visualization (I'd recommend it to you, but it might look as spam), prior to that course, I've been using matplotlib to do my visualizations, so Seaborn is quite new to me. In the course they talk about <code>corrplot()</code> function, which can produce something like the following chart:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cGv4N.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cGv4N.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But now, <code>corrplot()</code> has been deprecated. I've been looking in the Seaborn documentation, and some links on the web, and the \"closer\" I've done is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PllRS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PllRS.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Of course, I like much more the original <code>corrplot()</code> output, and its way easier to implement, what would be the way to do the same using the <code>heatmap()</code> or any other function?</p>\n\n<p>BTW: The data that produced the charts is different, the first one comes from a capture of the video, while the other one is a screenshot of my PC, so the values aren't the same.</p>\n"}, {"tags": ["python", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "is_accepted": false, "score": 1, "last_activity_date": 1492646513, "creation_date": 1492646513, "answer_id": 43508007, "question_id": 43507722, "link": "https://stackoverflow.com/questions/43507722/dividing-dataframe-with-a-key/43508007#43508007", "title": "Dividing DataFrame with a key", "body": "<p>You can use <code>groupby</code>:</p>\n\n<pre><code>for k,g in df.groupby('Month'):\n    g.to_csv('my_csv_{}.csv'.format(k))\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5597043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c5a283e4158304168a6b17cec914a6?s=128&d=identicon&r=PG&f=1", "display_name": "MartinKitty", "link": "https://stackoverflow.com/users/5597043/martinkitty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492646513, "creation_date": 1492644456, "last_edit_date": 1492646496, "question_id": 43507722, "link": "https://stackoverflow.com/questions/43507722/dividing-dataframe-with-a-key", "title": "Dividing DataFrame with a key", "body": "<p>I've got a big CSV file(with over 7milion records) with 30 columns, where the some of data in columns are short codes as for example \"ORD\" or numbers of months from 1 to 12.\nI want to write a loop that will divide this csv file to smaller ones on a given key, for example i would like to create 12CSVs with name as the key for the months(that means my_csv_1.CSV, my_csv_2.CSV etc) or every code(my_csv_code1.CSV,my_csv_code2.CSV etc)</p>\n\n<p>Here is my try:</p>\n\n<pre><code>for i in range(1,len(my_csv.Month.unique())+1):\n    my_csv_i = my_csv[(my_csv['Month'] == i) | (my_csv['Month']==i)]\n    my_csv_i.to_csv\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 553, "user_id": 7675348, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2362f37a0e537a7cc070d284578d17f7?s=128&d=identicon&r=PG&f=1", "display_name": "scutnex", "link": "https://stackoverflow.com/users/7675348/scutnex"}, "edited": false, "score": 0, "creation_date": 1492646626, "post_id": 43507731, "comment_id": 74070570, "body": "@scutnex depends on what you mean by record.  I am updating the <code>sampled</code> array with <code>True</code> values... that is recording it.  This is an algorithm for doing it.  There are many things that could be tweaked according to taste."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1492645216, "last_edit_date": 1492645216, "creation_date": 1492644522, "answer_id": 43507731, "question_id": 43507689, "link": "https://stackoverflow.com/questions/43507689/select-some-random-points-from-numpy-array/43507731#43507731", "title": "Select &#39;some&#39; random points from numpy array", "body": "<p>I'd manage an array of boolean values that I continually use to slice an index array and randomly choose from the result.</p>\n\n<pre><code>n = X.shape[0]\nsampled = np.empty(n, dtype=np.bool)\nsampled.fill(False)\nrng = np.arange(n)\n\nk = 2\n\nwhile not sampled.all():\n    sample = np.random.choice(rng[~sampled], size=k, replace=False)\n    print(X[sample])\n    print()\n    print(y[sample])\n    print()\n    sampled[sample] = True\n\n[[ 0.2  0.8]\n [ 0.5  0.5]]\n\n[[0]\n [1]]\n\n[[ 0.3  0.7]\n [ 0.1  0.9]]\n\n[[0]\n [1]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3557, "user_id": 7827863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4401c9efd5a7a0a9a00f643b1484a25?s=128&d=identicon&r=PG&f=1", "display_name": "qbzenker", "link": "https://stackoverflow.com/users/7827863/qbzenker"}, "is_accepted": false, "score": 0, "last_activity_date": 1492659094, "last_edit_date": 1492659094, "creation_date": 1492650264, "answer_id": 43508502, "question_id": 43507689, "link": "https://stackoverflow.com/questions/43507689/select-some-random-points-from-numpy-array/43508502#43508502", "title": "Select &#39;some&#39; random points from numpy array", "body": "<p>If you want to select <code>n</code> rows at random, with an equal probability of choosing any row:</p>\n\n<pre><code>n = 2 #for sake of argument\nrandomlySelectedY = np.argsort(np.random.random(4))[:n] #generate a 1x4 array of random, uniformly distributed numbers and then select the indices of the lowest n numbers\n\nrandomylSelected = X[randomlySelectedY]\nindex = np.linspace(1,np.size(X[:,1]),np.size(X[:,1]))\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 7892429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a2e89752f43216baaf454ef86cea85?s=128&d=identicon&r=PG&f=1", "display_name": "jdoe", "link": "https://stackoverflow.com/users/7892429/jdoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2368, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1492659094, "creation_date": 1492644268, "question_id": 43507689, "link": "https://stackoverflow.com/questions/43507689/select-some-random-points-from-numpy-array", "title": "Select &#39;some&#39; random points from numpy array", "body": "<p>I have two related numpy arrays, <code>X</code> and <code>y</code>. I need to select <code>n</code> random rows from <code>X</code> and store this in an array, the corresponding <code>y</code> value and the appends to it the index of the points randomly selected. </p>\n\n<p>I have another array <code>index</code> which stores a list of index which I dont want to sample. </p>\n\n<p>How can I do this?</p>\n\n<p>Sample data:</p>\n\n<pre><code>index = [2,3]\nX = np.array([[0.3,0.7],[0.5,0.5] ,[0.2,0.8], [0.1,0.9]])\ny = np.array([[0], [1], [0], [1]])\n</code></pre>\n\n<p>If these <code>X</code>'s were randomly selected (where <code>n=2</code>): </p>\n\n<pre><code>randomylSelected = np.array([[0.3,0.7],[0.5,0.5]])\n</code></pre>\n\n<p>the desired output would be:</p>\n\n<pre><code>index = [0,1,2,3]\nrandomlySelectedY = [0,1]\n</code></pre>\n\n<p>How can I do this? </p>\n"}, {"tags": ["python", "list", "function"], "answers": [{"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1492644876, "post_id": 43507730, "comment_id": 74070145, "body": "Are you sure that it is a valid Python syntax? PS: Not a downvoter"}], "tags": [], "owner": {"reputation": 448, "user_id": 2499645, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tbsis.gif?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2499645/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1492644981, "last_edit_date": 1492644981, "creation_date": 1492644518, "answer_id": 43507730, "question_id": 43507681, "link": "https://stackoverflow.com/questions/43507681/python-how-to-make-change-a-list-with-lists/43507730#43507730", "title": "python, how to make/change a list with lists", "body": "<pre><code>def raiseInt():\n    for v in z:\n        for i in range(len(v)): \n            v[i] += 1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 7886157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11151fb042a7290e7abb3831b10c9efe?s=128&d=identicon&r=PG&f=1", "display_name": "Reederboard", "link": "https://stackoverflow.com/users/7886157/reederboard"}, "edited": false, "score": 0, "creation_date": 1492656036, "post_id": 43507733, "comment_id": 74072907, "body": "this looks like the simplest way to do it.  still isn&#39;t working correctly for me but i&#39;m guessing i&#39;m doing something else wrong. i have these variables in a sub class. a, b c have been in there and worked fine, so i added the list z and the &#39;def raiseInt()&#39; and i get an    error:   name raiseInt not defined"}, {"owner": {"reputation": 19, "user_id": 7886157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11151fb042a7290e7abb3831b10c9efe?s=128&d=identicon&r=PG&f=1", "display_name": "Reederboard", "link": "https://stackoverflow.com/users/7886157/reederboard"}, "edited": false, "score": 0, "creation_date": 1492656463, "post_id": 43507733, "comment_id": 74073000, "body": "as a better example of what i&#39;m doing i had another question post which will have alot more detail in some of the stuff i&#39;m trying to do. all my defs don&#39;t work   <a href=\"http://stackoverflow.com/questions/43482829/working-on-classes-for-a-text-based-game-in-python\" title=\"working on classes for a text based game in python\">stackoverflow.com/questions/43482829/&hellip;</a>"}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 0, "last_activity_date": 1492647410, "last_edit_date": 1492647410, "creation_date": 1492644537, "answer_id": 43507733, "question_id": 43507681, "link": "https://stackoverflow.com/questions/43507681/python-how-to-make-change-a-list-with-lists/43507733#43507733", "title": "python, how to make/change a list with lists", "body": "<p>A very simple way to do this</p>\n\n<pre><code>a = [1,2]\nb = [3,4,5]\nc = [6,7,8,9]\n\nz = [a,b,c]\n\ndef raiseInt():\n\n    for L in z:\n        for i in range(len(L)):\n            L[i] +=1\n\nprint(z)\nraiseInt()\nprint(z)\n</code></pre>\n\n<p>output</p>\n\n<pre><code>[[1, 2], [3, 4, 5], [6, 7, 8, 9]]\n[[2, 3], [4, 5, 6], [7, 8, 9, 10]]\n</code></pre>\n\n<p>Iterate over the lists in <code>z</code> and then iterate for a number of times equal to the lists length and increment each element.</p>\n\n<p>You could certainly improve your function by passing the lists to be operated on in as a parameter. This would make your function more generally useful, as it is, it can only operate on that one list called <code>z</code>.            </p>\n"}, {"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1492644781, "post_id": 43507744, "comment_id": 74070118, "body": "I do not see the usage of <code>enumerate</code> here. All you are using is index, why not use <code>range</code> instead? :)"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1492644976, "post_id": 43507744, "comment_id": 74070177, "body": "If you do insist on using enumerate, then the <code>element</code> variable would be better expressed as <code>_</code>."}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1492645000, "post_id": 43507744, "comment_id": 74070184, "body": "@Moinuddin Quadri, Paul Rooney  You are rigth. It is all about pedagogy."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1492645041, "post_id": 43507744, "comment_id": 74070194, "body": "Well, if enumerate is insisted to use, I&#39;ll go with <code>sublist[index_of_element] = element  + 1</code>. + 1 from me for your answer"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1492645392, "post_id": 43507744, "comment_id": 74070274, "body": "My issue with this solution (aside from the overly verbose variable names) is that it not only returns the updated list but also mutates it in place. This is contrary to python best practice, that any in place modifying function returns <code>None</code>. It should do one or the other and if the choice is to return it should return a copy and leave the original intact."}, {"owner": {"reputation": 19, "user_id": 7886157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11151fb042a7290e7abb3831b10c9efe?s=128&d=identicon&r=PG&f=1", "display_name": "Reederboard", "link": "https://stackoverflow.com/users/7886157/reederboard"}, "edited": false, "score": 0, "creation_date": 1492653068, "post_id": 43507744, "comment_id": 74072187, "body": "i&#39;m pretty new to coding, so i don&#39;t know all the special function names or just coding vocab in general. are sublist, index_of_element, and enumerate just random variables put in?"}], "tags": [], "owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "is_accepted": false, "score": 1, "last_activity_date": 1492645969, "last_edit_date": 1492645969, "creation_date": 1492644620, "answer_id": 43507744, "question_id": 43507681, "link": "https://stackoverflow.com/questions/43507681/python-how-to-make-change-a-list-with-lists/43507744#43507744", "title": "python, how to make/change a list with lists", "body": "<p>I will try to make my code self-explanatory. Note the name of each object</p>\n\n<pre><code>a = [1,2]\nb = [3,4,5]\nc = [6,7,8,9]\n\nz = [a,b,c]\n\ndef raiseInt(list_to_increase_by_1):\n    #x = 0 we may actually do not need to assign this variable.    \n\n    for sublist in list_to_increase_by_1:\n        for index_of_element, element in enumerate(sublist):\n            sublist[index_of_element] += 1\n    return list_to_increase_by_1\n\n\nprint raiseInt(z)\n</code></pre>\n\n<h3>best practice related details</h3>\n\n<p>As you can see from Moinuddin Quadri's comments, I do not use the variable (iteratively assigned) <code>element</code>. In this case, the convention is about naming it <code>_</code>, so as to explicit that tha variable is actually not used.Which thus turns the code into</p>\n\n<pre><code>def raiseInt(list_to_increase_by_1):\n    for sublist in list_to_increase_by_1:\n        for index_of_element, _ in enumerate(sublist):\n            sublist[index_of_element] += 1\n    return list_to_increase_by_1\n</code></pre>\n\n<h3>more best practice related details</h3>\n\n<p>As can be read from Paul Ronney's comment </p>\n\n<blockquote>\n  <p>[strictly doing as above] is contrary to python best practice, that any in place modifying function returns None. It should do one or the other and if the choice is to return it should return a copy and leave the original intact</p>\n</blockquote>\n\n<p>Thus, folowing this comment implies to define <code>raiseInt</code> as an in place modifying function, as follows</p>\n\n<pre><code>def raiseInt(list_to_increase_by_1):\n    for sublist in list_to_increase_by_1:\n        for index_of_element, _ in enumerate(sublist):\n            sublist[index_of_element] += 1\n</code></pre>\n\n<p>I.e. with the function returning <code>None</code></p>\n"}], "owner": {"reputation": 19, "user_id": 7886157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/11151fb042a7290e7abb3831b10c9efe?s=128&d=identicon&r=PG&f=1", "display_name": "Reederboard", "link": "https://stackoverflow.com/users/7886157/reederboard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 43507733, "answer_count": 3, "score": 0, "last_activity_date": 1492647410, "creation_date": 1492644199, "question_id": 43507681, "link": "https://stackoverflow.com/questions/43507681/python-how-to-make-change-a-list-with-lists", "title": "python, how to make/change a list with lists", "body": "<p>So more or less i am trying to figure this out:   </p>\n\n<pre><code>a = [1,2]\nb = [3,4,5]\nc = [6,7,8,9]\n\nz = [a,b,c]\n\ndef raiseInt():\n    x = 0    \n\n    for int in z:\n        a[x] + 1\n        b[x] + 1\n        c[x] + 1\n</code></pre>\n\n<p>I'm trying to increase every int in every list by 1        </p>\n"}, {"tags": ["python", "arrays", "numpy", "cython", "numba"], "comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1492646167, "post_id": 43507677, "comment_id": 74070469, "body": "<i>&quot;I tried writing a C-compatible version [...] but it turns out this is slower&quot;</i> - can you show us this implementation?"}, {"owner": {"reputation": 133, "user_id": 3703070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2afa195df29b8150be36d386048d58b2?s=128&d=identicon&r=PG&f=1", "display_name": "Matt D.", "link": "https://stackoverflow.com/users/3703070/matt-d"}, "reply_to_user": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1492650537, "post_id": 43507677, "comment_id": 74071539, "body": "The implementation is as above. By &quot;C-compatible&quot; what I mean is it uses loops instead of vectorization."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3703070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2afa195df29b8150be36d386048d58b2?s=128&d=identicon&r=PG&f=1", "display_name": "Matt D.", "link": "https://stackoverflow.com/users/3703070/matt-d"}, "edited": false, "score": 0, "creation_date": 1492650868, "post_id": 43508103, "comment_id": 74071607, "body": "I am timing the code using &quot;time.time()&quot;--record the time before each while loop and record the time after, and take the difference."}, {"owner": {"reputation": 133, "user_id": 3703070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2afa195df29b8150be36d386048d58b2?s=128&d=identicon&r=PG&f=1", "display_name": "Matt D.", "link": "https://stackoverflow.com/users/3703070/matt-d"}, "edited": false, "score": 0, "creation_date": 1492651113, "post_id": 43508103, "comment_id": 74071686, "body": "One thing I found makes a difference for me--if I &quot;.flatten()&quot; the inputs to maxabs, it runs faster."}, {"owner": {"reputation": 133, "user_id": 3703070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2afa195df29b8150be36d386048d58b2?s=128&d=identicon&r=PG&f=1", "display_name": "Matt D.", "link": "https://stackoverflow.com/users/3703070/matt-d"}, "edited": false, "score": 0, "creation_date": 1492651205, "post_id": 43508103, "comment_id": 74071713, "body": "AND--I have tried doing a &quot;dry run&quot; of maxabs() outside the timing brackets, and this seems to &quot;fix&quot; the &quot;problem&quot;. With the &quot;dry run&quot; to jit the function first, the recorded time for Numba is slightly better. But, as you find also, the gain is not big--less than 10%."}], "tags": [], "owner": {"reputation": 56759, "user_id": 392949, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ef7a66dcbb260f54c3d06b0490b844bf?s=128&d=identicon&r=PG", "display_name": "JoshAdel", "link": "https://stackoverflow.com/users/392949/joshadel"}, "is_accepted": true, "score": 1, "last_activity_date": 1492647132, "creation_date": 1492647132, "answer_id": 43508103, "question_id": 43507677, "link": "https://stackoverflow.com/questions/43507677/can-a-cython-numba-compiled-function-improve-on-numpy-maxnumpy-absa-b/43508103#43508103", "title": "Can a Cython/Numba compiled function improve on numpy.max(numpy.abs(a-b))?", "body": "<p>When I time your <code>maxabs</code> function vs <code>np.max(np.abs(vec1 - vec2))</code> for an array of shape <code>(1200,)</code>, the numba version is ~2.6x faster using numba 0.32.0. </p>\n\n<p>When you time the code, make sure you run your function once before you time it so that you don't include the time it takes to jit the code, which you only pay the first time. In general using <code>timeit</code> and running multiple times takes care of this. I'm not sure how you did the timing though since I see almost no difference in using <code>maxabs</code> vs the numpy call, most of the runtime seems to be in the call to <code>Piteration</code>.</p>\n"}], "owner": {"reputation": 133, "user_id": 3703070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2afa195df29b8150be36d386048d58b2?s=128&d=identicon&r=PG&f=1", "display_name": "Matt D.", "link": "https://stackoverflow.com/users/3703070/matt-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "accepted_answer_id": 43508103, "answer_count": 1, "score": 2, "last_activity_date": 1492651468, "creation_date": 1492644179, "last_edit_date": 1492651468, "question_id": 43507677, "link": "https://stackoverflow.com/questions/43507677/can-a-cython-numba-compiled-function-improve-on-numpy-maxnumpy-absa-b", "title": "Can a Cython/Numba compiled function improve on numpy.max(numpy.abs(a-b))?", "body": "<p>I am optimizing a bottleneck section of my code--iterating on a function a' = f(a), where a and a' are N by 1 vectors, until max(abs(a' - a)) is sufficiently small.</p>\n\n<p>I have put a Numba wrapper on f(a), and got a nice speedup over the most optimized pure NumPy version I was able to produe (cut runtime by about 50%).</p>\n\n<p>I tried writing a C-compatible version of numpy.max(numpy.abs(aprime - a)), but it turns out this is slower! I actually lose back ALL of the gains I got from Numba-fying the first portion of the iteration!</p>\n\n<p>Is there likely to be a way for Numba or Cython to improve upon numpy.max(numpy.abs(aprime - a))? I reproduce my code below for reference, where a is P0 and a' is Pprime:</p>\n\n<p>EDIT: For me, it seems that it is important to \"flatten()\" the inputs to \"maxabs()\". When I do this, the performance is no worse than NumPy. Then, when I do a \"dry run\" of the function outside the timing brackets as JoshAdel suggested, the loop with \"maxabs\" does slightly better than the loop with numpy.max(numpy.abs()).</p>\n\n<pre><code>from numba import jit\nimport numpy as np\n\n### Preliminaries, to make the working example fully functional\n\nn = 1200\nGammer = np.exp(-np.random.rand(n,n))\n\nalpher = np.ones((n,1))\nxxer = 10000*np.random.rand(n,1)\n\nchii = 6.5\nvarkappa = 6.5\nphi3 = 1.5\nA = .5\nsig = .2 \n\nmmer = np.dot(Gammer,xxer**phi3)\n\n\ntotalprod = A*alpher + (1-A)*mmer\nGammerchii = Gammer**chii\nGammerrats = Gammerchii[:,0].flatten()/Gammerchii[0,:].flatten()\nGammerrats[(Gammerchii[0,:].flatten() == 0) | (Gammerchii[:,0].flatten() == 0)] = 1.\nP0 = (Gammerrats*(xxer[0]/totalprod[0])*(totalprod/xxer).flatten())**(1/(1+2*chii))\nP0 *= n/np.sum(P0)\n### End of preliminaries\n\n### This is the function to produce a' = f(a)\n@jit\ndef Piteration(P0, chii, sig, n, xxer, totalprod, Gammerrats, Gammerchii):\n    Mac = np.zeros((n,))\n    Pprime = np.zeros((n,))\n    themacpow = 1-(1/chii)*(sig/(1-sig))\n    specialchiipow = 1/(1+2*chii)\n    Psum = 0.\n\n    for i in range(n):\n        for j in range(n):\n            Mac[j] += ((P0[i]/P0[j])**chii)*Gammerchii[i,j]*totalprod[j]\n\n    for i in range(n):\n        Pprime[i] = (Gammerrats[i]*(xxer[0]/totalprod[0])*(totalprod[i]/xxer[i])*((Mac[i]/Mac[0])**themacpow))**specialchiipow\n        Psum += Pprime[i]\n\n    Psum = n/Psum\n\n    for i in range(n):\n        Pprime[i] *= Psum\n\n    return Pprime\n\n### This is the function to find max(abs(aprime - a))\n@jit\ndef maxabs(vec1,vec2,n):\n    themax = 0.\n    curdiff = 0.\n    for i in range(n):\n        curdiff = vec1[i] - vec2[i]\n        if curdiff &lt; 0:\n            curdiff *= -1\n        if curdiff &gt; themax:\n            themax = curdiff\n    return themax\n\n### This is the main loop\ndiff = 1000.\nwhile diff &gt; 1e-2:\n    Pprime = Piteration(P0.flatten(),  chii,  sig,  n,  xxer.flatten(), totalprod.flatten(), Gammerrats.flatten(),  Gammerchii)\n\n    diff = maxabs(P0.flatten(),Pprime.flatten(),n)\n    P0 = 1.*Pprime\n</code></pre>\n"}, {"tags": ["python", "tkinter", "photo"], "comments": [{"owner": {"reputation": 3400, "user_id": 5881884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be2f31d6dd614035752705c636b7b824?s=128&d=identicon&r=PG&f=1", "display_name": "DevB2F", "link": "https://stackoverflow.com/users/5881884/devb2f"}, "edited": false, "score": 0, "creation_date": 1492644707, "post_id": 43507633, "comment_id": 74070091, "body": "is your image stored in the same directory as your script?"}, {"owner": {"reputation": 1, "user_id": 7892560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bad9f44930019a976d7bbae90583e297?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hubbard", "link": "https://stackoverflow.com/users/7892560/a-hubbard"}, "reply_to_user": {"reputation": 3400, "user_id": 5881884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be2f31d6dd614035752705c636b7b824?s=128&d=identicon&r=PG&f=1", "display_name": "DevB2F", "link": "https://stackoverflow.com/users/5881884/devb2f"}, "edited": false, "score": 0, "creation_date": 1492695060, "post_id": 43507633, "comment_id": 74095301, "body": "I&#39;m a relatively new beginner to Python so what do you mean by this?"}, {"owner": {"reputation": 3400, "user_id": 5881884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be2f31d6dd614035752705c636b7b824?s=128&d=identicon&r=PG&f=1", "display_name": "DevB2F", "link": "https://stackoverflow.com/users/5881884/devb2f"}, "edited": false, "score": 0, "creation_date": 1492730242, "post_id": 43507633, "comment_id": 74115397, "body": "I mean that you have to make sure the python file is in the same folder as your gif image. For example if your python file is on your desktop, make sure the gif image is also on the desktop."}], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 7668522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d334ee91d03b79414dec1b172742a0?s=128&d=identicon&r=PG&f=1", "display_name": "LZYan", "link": "https://stackoverflow.com/users/7668522/lzyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1492644996, "creation_date": 1492644996, "answer_id": 43507785, "question_id": 43507633, "link": "https://stackoverflow.com/questions/43507633/not-printing-what-i-need-it-too-python/43507785#43507785", "title": "Not printing what I need it too (Python)", "body": "<p>Your script isn't able to find the picture file. Try replacing <code>\"background.gif\"</code> with the full path, or copy it to the same directory as your script. </p>\n"}, {"comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1492646768, "post_id": 43507823, "comment_id": 74070608, "body": "Why would you need to do that? tkinter supports .gif format images <a href=\"http://effbot.org/tkinterbook/photoimage.htm\" rel=\"nofollow noreferrer\">effbot.org/tkinterbook/photoimage.htm</a> and OP is using python 3 so you will need to use the Pillow fork not PIL. And the error states that it can not locate the file, not unsupported format."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1492647740, "post_id": 43507823, "comment_id": 74070840, "body": "The error clearly states it can&#39;t find the file at the given path. Your solution is using the same path, so it will generate the same error."}], "tags": [], "owner": {"reputation": 1597, "user_id": 7321360, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6081373b1971c9df51425b3e62e7634d?s=128&d=identicon&r=PG&f=1", "display_name": "Jebby", "link": "https://stackoverflow.com/users/7321360/jebby"}, "is_accepted": false, "score": -1, "last_activity_date": 1492645237, "creation_date": 1492645237, "answer_id": 43507823, "question_id": 43507633, "link": "https://stackoverflow.com/questions/43507633/not-printing-what-i-need-it-too-python/43507823#43507823", "title": "Not printing what I need it too (Python)", "body": "<p>put these imports at the top:    </p>\n\n<pre><code>from PIL import Image\nimport ImageTk\n</code></pre>\n\n<p>and replace this:</p>\n\n<pre><code>self.bg = PhotoImage(file = \"background.gif\")\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>self.bg = ImageTk.PhotoImage(Image.open('background.gif'))\n</code></pre>\n\n<p>if that doesn't work, try:</p>\n\n<pre><code>self.bg = PhotoImage(Image.open('background.gif'))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7892560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bad9f44930019a976d7bbae90583e297?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hubbard", "link": "https://stackoverflow.com/users/7892560/a-hubbard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1492645237, "creation_date": 1492643879, "last_edit_date": 1492644117, "question_id": 43507633, "link": "https://stackoverflow.com/questions/43507633/not-printing-what-i-need-it-too-python", "title": "Not printing what I need it too (Python)", "body": "<p>Here is the code I made: and it is gonna say this is JS but its Python</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>from tkinter import *\r\nimport random\r\nimport time\r\n\r\nclass Game:\r\n    def __init__(self):\r\n        self.tk = Tk()\r\n        self.tk.title(\"Mr. Stick Man Races for the Exit\")\r\n        self.tk.resizable(0, 0)\r\n        self.tk.wm_attributes(\"-topmost\", 1)\r\n        self.canvas = Canvas(self.tk, width=500, height=500, highlightthickness=0)\r\n        self.canvas.pack()\r\n        self.tk.update()\r\n        self.canvas_height = 500\r\n        self.canvas_width = 500\r\n        self.bg = PhotoImage(file = \"background.gif\")\r\n        w = self.bg.width()\r\n        h = self.bg.height()\r\n        for x in range(0, 5):\r\n            for y in range(0, 5):\r\n                self.canvas.create_image(x * w, y * h, image=self.bg, anchor='nw')\r\n        self.sprites = []\r\n        self.running = True\r\n\r\n    def mainloop(self):\r\n        while 1:\r\n            if self.running == True:\r\n                for sprite in self.sprites:\r\n                    sprite.move()\r\n                self.tk.update_idletasks()\r\n                self.tk.update()\r\n                time.sleep(0.01)\r\n\r\ng = Game()\r\ng.mainloop()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The error that I get is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Traceback (most recent call last):\r\n  File \"C:\\Users\\USER\\AppData\\Local\\Programs\\Python\\Python36-32\\stickfiguregame.py\", line 34, in &lt;module&gt;\r\n    g = Game()\r\n  File \"C:\\Users\\USER\\AppData\\Local\\Programs\\Python\\Python36-32\\stickfiguregame.py\", line 16, in __init__\r\n    self.bg = PhotoImage(file = \"background.gif\")\r\n  File \"C:\\Users\\USER\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 3539, in __init__\r\n    Image.__init__(self, 'photo', name, cnf, master, **kw)\r\n  File \"C:\\Users\\USER\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 3495, in __init__\r\n    self.tk.call(('image', 'create', imgtype, name,) + options)\r\n_tkinter.TclError: couldn't open \"background.gif\": no such file or directory</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have a file of a picture called background and it is .gif.\nWhy is it not working?\nFYI I'm using Python 3.6.1</p>\n"}, {"tags": ["python", "text", "sum", "line", "readline"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7879863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10211365411842924/picture?type=large", "display_name": "Miguel Caparo", "link": "https://stackoverflow.com/users/7879863/miguel-caparo"}, "edited": false, "score": 0, "creation_date": 1492645799, "post_id": 43507847, "comment_id": 74070376, "body": "Thank you i will tri it out"}], "tags": [], "owner": {"reputation": 56, "user_id": 3308873, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abe1213667126e167ab019dade7df574?s=128&d=identicon&r=PG&f=1", "display_name": "FelipeCosta", "link": "https://stackoverflow.com/users/3308873/felipecosta"}, "is_accepted": false, "score": 0, "last_activity_date": 1492645422, "creation_date": 1492645422, "answer_id": 43507847, "question_id": 43507617, "link": "https://stackoverflow.com/questions/43507617/read-specific-line-in-text-and-sum-the-numbers-and-the-following-lines/43507847#43507847", "title": "read specific line in text and sum the numbers and the following lines", "body": "<p>I dont really get what your code is doing wrong (kind of in a hurry so not enough time to analyse sorry) but if you're looking for a code that kind of does what you need (I think) here it is:</p>\n\n<pre><code>f = open(\"test.txt\", \"r\")\nstart_line = input(\"line to start \") - 1\nfinish_line = input(\"line to finish \") - 1\nsoma = 0\nfor i, line in enumerate(f):\n    if i &gt;= start_line and i &lt;= finish_line:\n        soma += int(line)\nprint soma\n</code></pre>\n\n<p>Just a quick explanation, enumeration is a built-in function that will iterate through the file f and return a tuple containing the line number (starting from zero) and whatever is in the line. All you need to do is check if i is equal or greater than the line you wanna start reading from and also smaller than the line you wanna stop reading at. </p>\n\n<p>Hope it helps :)</p>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 7886529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3SwNNh_-o3U/AAAAAAAAAAI/AAAAAAAABIo/KD6OiVI744Y/photo.jpg?sz=128", "display_name": "Superspork", "link": "https://stackoverflow.com/users/7886529/superspork"}, "reply_to_user": {"reputation": 21, "user_id": 7879863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10211365411842924/picture?type=large", "display_name": "Miguel Caparo", "link": "https://stackoverflow.com/users/7879863/miguel-caparo"}, "edited": false, "score": 0, "creation_date": 1492651985, "post_id": 43508207, "comment_id": 74071915, "body": "No problem. Hope it helped. I&#39;m not sure what the issues were with your code, so I cannot comment on it, but you should use &quot;with open(&quot;nombres.txt&quot;, &quot;r&quot;) as fichNbr:&quot; instead of &quot;fichNbr = open(&quot;nombres.txt&quot;, &quot;r&quot;)&quot; because your script never closes the file, but with...as it does."}, {"owner": {"reputation": 395, "user_id": 7886529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3SwNNh_-o3U/AAAAAAAAAAI/AAAAAAAABIo/KD6OiVI744Y/photo.jpg?sz=128", "display_name": "Superspork", "link": "https://stackoverflow.com/users/7886529/superspork"}, "reply_to_user": {"reputation": 21, "user_id": 7879863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10211365411842924/picture?type=large", "display_name": "Miguel Caparo", "link": "https://stackoverflow.com/users/7879863/miguel-caparo"}, "edited": false, "score": 0, "creation_date": 1492659105, "post_id": 43508207, "comment_id": 74073686, "body": "If one of these responses answered your question, please remember to mark it as answered."}], "tags": [], "owner": {"reputation": 395, "user_id": 7886529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3SwNNh_-o3U/AAAAAAAAAAI/AAAAAAAABIo/KD6OiVI744Y/photo.jpg?sz=128", "display_name": "Superspork", "link": "https://stackoverflow.com/users/7886529/superspork"}, "is_accepted": false, "score": 0, "last_activity_date": 1492647935, "creation_date": 1492647935, "answer_id": 43508207, "question_id": 43507617, "link": "https://stackoverflow.com/questions/43507617/read-specific-line-in-text-and-sum-the-numbers-and-the-following-lines/43508207#43508207", "title": "read specific line in text and sum the numbers and the following lines", "body": "<p>To do the sum of all lines (including the given line) from the designated line, you line variable needs to subtract 1. If it is exclusive of that line then just use the variable as is. Open the file using with ... as to have it close automatically and choose read ('r') as the mode. Create a variable to store the lines and choose readlines(). This stores each line into its own place in a list. </p>\n\n<p>Create another variable to actually sum the lines. Using a while loop associated to you given start line variable, as long as it is less than the length of your list, iterate through the list adding each line to your sum variable (as shown using nums). </p>\n\n<p>Because of how open() read the lines, it pulls it all as strings with \\n at the end. Add strip('\\n') to remove the \\n and convert it all into an integer. Add 1 to your line variable to properly iterate and end the loop. </p>\n\n<pre><code>def example(file_name, line):\n    with open(file_name, 'r') as f:\n        x = f.readlines()\n    line = line - 1\n    nums = 0\n    while line &lt; len(x):\n        nums += int(x[line].strip('\\n'))\n        line += 1\n    print(nums)\n\nexample(\"example.txt\", 4)\n# My example.txt file has a different number on each line in this order: 2, 4, 3, 7, 5, 6, 4\n</code></pre>\n\n<p>If you want to do only a certain number of lines following the given line, add this extra number to the function and then add the line variable to this extra variable BEFORE subtracting 1 from the line variable. Instead of going iterating the length of the list, using this modified extra variable as you end. </p>\n\n<pre><code>def example(file_name, line, end_line):\n    with open(file_name, 'r') as f:\n        x = f.readlines()\n    end_line += line\n    line = line - 1\n    nums = 0\n    while line &lt; end_line:\n        nums += int(x[line].strip('\\n'))\n        line += 1\n    print(nums)\n\nexample(\"example.txt\", 4, 2)\n# My example.txt file has a different number on each line in this order: 2, 4, 3, 7, 5, 6, 4\n</code></pre>\n\n<p>Again, if you do not want the given line included, do not subtract 1. </p>\n"}], "owner": {"reputation": 21, "user_id": 7879863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10211365411842924/picture?type=large", "display_name": "Miguel Caparo", "link": "https://stackoverflow.com/users/7879863/miguel-caparo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492647935, "creation_date": 1492643791, "question_id": 43507617, "link": "https://stackoverflow.com/questions/43507617/read-specific-line-in-text-and-sum-the-numbers-and-the-following-lines", "title": "read specific line in text and sum the numbers and the following lines", "body": "<p>hi im having trouble with some homework that i got. i have a list of number in a text file written in several lines. my project is asking me to select a specific line and then a number of line after to sum them up. For example from line 4 sum the next 4 line. \nthis is the code i have tried for now</p>\n\n<pre><code>fichNbr = open(\"nombres.txt\", \"r\")\nligneDepart = int(input(\"entrer la ligne de depart: \"))\nnb_lignes = int(input(\"entrer le nombre de ligne a lire: \"))\nsomme3 = 0\nfor line in fichNbr:\n    line = fichNbr.readline()\n    print(line)\n    for i in range(ligneDepart,(ligneDepart + nb_lignes),1):\n        n = fichNbr.readline().split()\n        for f in n:\n                somme3 += int(f)\nprint(somme3)\n</code></pre>\n"}, {"tags": ["python", "pyqt"], "comments": [{"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493460712, "post_id": 43507616, "comment_id": 74434066, "body": "The question might hinge on what the <code>QPoint</code> argument of <code>mapToScene()</code> is relative to. If it&#39;s relative to the <code>QGraphicsView</code> widget&#39;s drawing origin in its enclosing widget or to its containing <code>QFrame</code>&#39;s drawing origin, then even if Qt wanted to, it could not reliably map points without the widget being displayed, as <code>QGraphicsView</code> is scrollable and in both cases the mapping would depend on the scroll position."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493653866, "post_id": 43507616, "comment_id": 74487511, "body": "I had similar thoughts, and I feel like I need to know what is going on under the hood, but I can&#39;t find anything other than how to make things work under normal conditions (with the GUI being used).  In my particular cases the view is never going to be scrolled and the scene rect never changed (although the view transformation is not just trivial as depicted here), but even so shouldn&#39;t there be a way to programmatically get/set the viewport and whatever other parent offsets are required without doing the drawing?"}, {"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493654508, "post_id": 43507616, "comment_id": 74487869, "body": "What I was wondering is why is it so important to you to test the mapping between viewport and scene coordinates? Wouldn&#39;t it be better if you treated the mapping as a black box or implementation detail of Qt?"}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493654987, "post_id": 43507616, "comment_id": 74488135, "body": "I&#39;m not quite sure what you mean - the mapping I&#39;m dealing with is dynamic, different for every instance of the GUI based on parameter inputs, and I&#39;m relying on mapToScene to pull data from the correct place.  As I add complication to the transformation, why would I not need to test the actual thing I&#39;m going to be using?"}, {"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493655816, "post_id": 43507616, "comment_id": 74488524, "body": "Well, I&#39;m sure I&#39;m just misunderstanding what you&#39;re doing. But from my naive point of view, testing mapToScene or mapFromScene feels like testing whether Qt works correctly, as this is just for transforming mouse clicks (and similar) into scene coordinates for the former and for how the scene is presented to the user in terms of scale, rotation and shear for the latter. The objects in the scene and in the scene alone is what would be by concern. Also, wouldn&#39;t you get a different mapping on that HiDPI stuff some systems have?"}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493656271, "post_id": 43507616, "comment_id": 74488718, "body": "Okay I kinda see what you mean, but what I&#39;m really testing is not so much if Qt is working properly, but if my implementation is doing what I think it should - in real code things like putting in <code>scale(1,-1)</code> where it should be <code>scale(-1,1)</code> (for example) in the transformation would cause havoc and without a unit test could very easily go unnoticed for a long time. Given that the points are going in by mouse click, having the view play in is crucial."}], "answers": [{"comments": [{"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1493826409, "post_id": 43761701, "comment_id": 74570673, "body": "Sadly, while this code does actually function properly, when I add the resizeEvent override to my own view subclass it does not work (I get the same behavior as before). I was hoping to distill the problem down but I may need to put back a more complicated example into the question."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1493826648, "post_id": 43761701, "comment_id": 74570827, "body": "I just rolled the question back by one edit, so now the code includes the subclass I&#39;m using plus example data.  In this context, adding the resizeEvent method doesn&#39;t change the behavior (which may somehow be indicative of whatever is happening underneath...)"}, {"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1493830509, "post_id": 43761701, "comment_id": 74573116, "body": "The resize event doesn&#39;t happen until the object is being shown, which is what I would expect, as it makes sense in my book. @Ajean That&#39;s the same what happens for you, correct?"}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493830692, "post_id": 43761701, "comment_id": 74573217, "body": "@blubberdiblub I believe so, yes ... actually in this answer&#39;s code if I remove the resize event override what happens is the point prints correctly before the show but <i>not</i> after (which ... kind of makes sense ... ?). However even if in my code above (with the subclass ... sorry for futzing with the code in the question) I add a resizeEvent override and explicitly call <code>resize</code> on the view (without showing it) the point still doesn&#39;t transform properly."}, {"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1493830988, "post_id": 43761701, "comment_id": 74573402, "body": "@Ajean maybe you can somehow force the layout to do its layouting before being shown? If that doesn&#39;t help, one possible explanation could still be that Qt cannot know the size of the left and top window borders before it asks the windowing system to display it."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493831224, "post_id": 43761701, "comment_id": 74573534, "body": "@blubberdiblub Interesting idea, I&#39;ve been so focused on the view and scene I hadn&#39;t thought of the layout.  You may be right about the window system; it was always a possibility that I can&#39;t really do this, but I <i>hope</i> there&#39;s a way."}, {"owner": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1493831340, "post_id": 43761701, "comment_id": 74573598, "body": "@Ajean the <code>layout.update()</code> method looks promising."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "reply_to_user": {"reputation": 3757, "user_id": 794539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b694f0dd066ad600b16e4440cf0e9a91?s=128&d=identicon&r=PG", "display_name": "blubberdiblub", "link": "https://stackoverflow.com/users/794539/blubberdiblub"}, "edited": false, "score": 0, "creation_date": 1493831667, "post_id": 43761701, "comment_id": 74573809, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/143315/discussion-between-ajean-and-blubberdiblub\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1300, "user_id": 6801746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvdFc.jpg?s=128&g=1", "display_name": "yurisnm", "link": "https://stackoverflow.com/users/6801746/yurisnm"}, "is_accepted": false, "score": 1, "last_activity_date": 1493818590, "creation_date": 1493818590, "answer_id": 43761701, "question_id": 43507616, "link": "https://stackoverflow.com/questions/43507616/maptoscene-requires-the-view-being-shown-for-correct-transformations/43761701#43761701", "title": "mapToScene requires the view being shown for correct transformations?", "body": "<p>have you tried implementing your own qgraphicsview and overriding your resizeEvent? When you mess around with mapTo\"something\" you gotta take care of your resizeEvents, have a look in this piece of code I've took from yours and modified a bit >&lt;</p>\n\n<pre><code>from PyQt5.QtCore import QRectF\nfrom PyQt5.QtWidgets import (QGraphicsScene, QGraphicsView, QVBoxLayout,\n                             QApplication, QFrame, QSizePolicy)\nfrom PyQt5.QtCore import QPoint\n\n\nclass GraphicsView(QGraphicsView):\n\n    def __init__(self):\n        super(GraphicsView, self).__init__()\n\n\n        # Scene and view\n        scene = QGraphicsScene(0, 0, 150, 200,)\n        scene.setSceneRect(0, 0, 150, 200)\n\n\n    def resizeEvent(self, QResizeEvent):\n        self.setSceneRect(QRectF(self.viewport().rect()))\n\nqapp = QApplication(['python'])\n\n# Just something to be a parent\n\nview = GraphicsView()\n\n\n# Short layout\n\n\n# Make a test point\np0 = QPoint(50, 125)\n\n# Pass in the test point before and after\nprint(\"Passing in point: \", p0)\nprint(\"Received point before show:\", view.mapToScene(p0))\nview.show()\nprint(\"Received point after show:\", view.mapToScene(p0))\n\nqapp.exec_()\n</code></pre>\n\n<p><strong>Is that the behavior you wanted? \")</strong></p>\n"}, {"tags": [], "owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "is_accepted": true, "score": 2, "last_activity_date": 1500650860, "last_edit_date": 1500650860, "creation_date": 1493845672, "answer_id": 43770038, "question_id": 43507616, "link": "https://stackoverflow.com/questions/43507616/maptoscene-requires-the-view-being-shown-for-correct-transformations/43770038#43770038", "title": "mapToScene requires the view being shown for correct transformations?", "body": "<p>Upon diving into the C++ Qt source code, this is the Qt definition of <code>mapToScene</code> for a QPoint:</p>\n\n<pre><code>QPointF QGraphicsView::mapToScene(const QPoint &amp;point) const\n{\n    Q_D(const QGraphicsView);\n    QPointF p = point;\n    p.rx() += d-&gt;horizontalScroll();\n    p.ry() += d-&gt;verticalScroll();\n    return d-&gt;identityMatrix ? p : d-&gt;matrix.inverted().map(p);\n}\n</code></pre>\n\n<p>The critical things there are the <code>p.rx() += d-&gt;horizontalScroll();</code> and likewise vertical scroll. A QGraphicsView always contains scroll bars, even if they are always off or not shown.  The offsets observed before the widget is shown are from the values of the horizontal and vertical scroll bars upon initialization, which must get modified to match the view/viewport when the widgets are shown and layouts calculated.  In order for <code>mapToScene</code> to operate properly, the scroll bars must be set up to match the scene/view.</p>\n\n<p>If I put the following lines put before the call to <code>mapToScene</code> in the example, then I get the appropriate transformation result without the necessity of showing the widget.</p>\n\n<pre><code>pick.view.horizontalScrollBar().setRange(0, 150)\npick.view.verticalScrollBar().setRange(-200, 0)\npick.view.horizontalScrollBar().setValue(0)\npick.view.verticalScrollBar().setValue(-200)\n</code></pre>\n\n<p>To do this more generally, you can pull some relevant transformations from the view.</p>\n\n<pre><code># Use the size hint to get shape info\nwid, hgt = (pick.view.sizeHint().width()-2,\n            pick.view.sizeHint().height()-2) # -2 removes padding ... maybe?\n\n# Get the opposing corners through the view transformation\npx = pick.view.transform().map(QPoint(wid, 0))\npy = pick.view.transform().map(QPoint(0, hgt))\n\n# Set the scroll bars accordingly\npick.view.horizontalScrollBar().setRange(px.y(), px.x())\npick.view.verticalScrollBar().setRange(py.y(), py.x())\npick.view.horizontalScrollBar().setValue(px.y())\npick.view.verticalScrollBar().setValue(py.y())\n</code></pre>\n\n<p>This is a hack-ish and ugly solution, so while it does work there may be a more elegant way to handle this.</p>\n"}], "owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 0, "accepted_answer_id": 43770038, "answer_count": 2, "score": 16, "last_activity_date": 1500650860, "creation_date": 1492643775, "last_edit_date": 1493826531, "question_id": 43507616, "link": "https://stackoverflow.com/questions/43507616/maptoscene-requires-the-view-being-shown-for-correct-transformations", "title": "mapToScene requires the view being shown for correct transformations?", "body": "<p><strong>Primary issue:</strong> the <code>QGraphicsView.mapToScene</code> method returns different answers depending on whether or not the GUI is shown. <strong>Why, and can I get around it?</strong></p>\n\n<p>The context is I'm trying to write unit tests but I don't want to actually <em>show</em> the tools for the tests.</p>\n\n<p>The small example below illustrates the behavior.  I use a sub-classed view that prints mouse click event positions in scene coordinates with the origin at the lower left (it has a -1 scale vertically) by calling <code>mapToScene</code>. However, <code>mapToScene</code> does not return what I am expecting before the dialog is shown.  If I run the main section at the bottom, I get the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Size is (150, 200)\nPutting in (50, 125) - This point should return (50.0, 75.0)\nBefore show(): PyQt5.QtCore.QPointF(84.0, -20.0)\nAfter show() : PyQt5.QtCore.QPointF(50.0, 75.0)\n</code></pre>\n\n<p>Before <code>show()</code>, there is a consistent offset of 34 pixels in x and 105 in y (and in y the offset moves in reverse as if the scale is not being applied). Those offset seem rather random, I have no idea where they are coming from.</p>\n\n<p>Here is the example code:</p>\n\n<pre><code>import numpy as np\nfrom PyQt5.QtCore import pyqtSignal, pyqtSlot, QPointF, QPoint\nfrom PyQt5.QtWidgets import (QDialog, QGraphicsView, QGraphicsScene,\n                             QVBoxLayout, QPushButton, QApplication,\n                             QSizePolicy)\nfrom PyQt5.QtGui import QPixmap, QImage\n\nclass MyView(QGraphicsView):\n    \"\"\"View subclass that emits mouse events in the scene coordinates.\"\"\"\n\n    mousedown = pyqtSignal(QPointF)\n\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n        self.setSizePolicy(QSizePolicy.Fixed,\n                           QSizePolicy.Fixed)\n\n        # This is the key thing I need\n        self.scale(1, -1)\n\n    def mousePressEvent(self, event):\n        return self.mousedown.emit(self.mapToScene(event.pos()))\n\nclass SimplePicker(QDialog):\n\n    def __init__(self, data, parent=None):\n        super().__init__(parent=parent)\n\n        # Get a grayscale image\n        bdata = ((data - data.min()) / (data.max() - data.min()) * 255).astype(np.uint8)\n        wid, hgt = bdata.shape\n        img = QImage(bdata.T.copy(), wid, hgt, wid,\n                     QImage.Format_Indexed8)\n\n        # Construct a scene with pixmap\n        self.scene = QGraphicsScene(0, 0, wid, hgt, self)\n        self.scene.setSceneRect(0, 0, wid, hgt)\n        self.px = self.scene.addPixmap(QPixmap.fromImage(img))\n\n        # Construct the view and connect mouse clicks\n        self.view = MyView(self.scene, self)\n        self.view.mousedown.connect(self.mouse_click)\n\n        # End button\n        self.doneb = QPushButton('Done', self)\n        self.doneb.clicked.connect(self.accept)\n\n        # Layout\n        layout = QVBoxLayout(self)\n        layout.addWidget(self.view)\n        layout.addWidget(self.doneb)\n\n    @pyqtSlot(QPointF)\n    def mouse_click(self, xy):\n        print((xy.x(), xy.y()))\n\n\nif __name__ == \"__main__\":\n\n    # Fake data\n    x, y = np.mgrid[0:4*np.pi:150j, 0:4*np.pi:200j]\n    z = np.sin(x) * np.sin(y)\n\n    qapp = QApplication.instance()\n    if qapp is None:\n        qapp = QApplication(['python'])\n\n    pick = SimplePicker(z)\n\n    print(\"Size is (150, 200)\")\n    print(\"Putting in (50, 125) - This point should return (50.0, 75.0)\")\n    p0 = QPoint(50, 125)\n    print(\"Before show():\", pick.view.mapToScene(p0))\n\n    pick.show()\n    print(\"After show() :\", pick.view.mapToScene(p0))\n\n    qapp.exec_()\n</code></pre>\n\n<p>This example is in PyQt5 on Windows, but PyQt4 on Linux does the same thing.</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1492644510, "post_id": 43507601, "comment_id": 74070019, "body": "<code>items_by_attr = defaultdict(list); for item in itemlist: if &#39;yy&#39; in item:  items_by_attr[item[:2]].append(item)</code>."}, {"owner": {"reputation": 1, "user_id": 5195138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9c6b43ef111bea643d225f24dff812?s=128&d=identicon&r=PG&f=1", "display_name": "stantonh", "link": "https://stackoverflow.com/users/5195138/stantonh"}, "reply_to_user": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1492755553, "post_id": 43507601, "comment_id": 74122557, "body": "Thank You.  I was missing SIMPLE"}], "owner": {"reputation": 1, "user_id": 5195138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9c6b43ef111bea643d225f24dff812?s=128&d=identicon&r=PG&f=1", "display_name": "stantonh", "link": "https://stackoverflow.com/users/5195138/stantonh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1492644441, "answer_count": 0, "score": 0, "last_activity_date": 1492711176, "creation_date": 1492643687, "last_edit_date": 1492711176, "question_id": 43507601, "link": "https://stackoverflow.com/questions/43507601/py3-build-a-dict-of-lists-from-a-flat-list", "closed_reason": "Duplicate", "title": "Py3 Build a dict of lists from a flat list", "body": "<p>Given a list/set of items:\n<code>itemlist = ['aaxx01', 'aaxx02', 'aayy03', 'aayy04','bbxx01', 'bbxx02', 'bbyy03', 'bbyy04','ccxx01', 'ccxx02', 'ccyy03', 'ccyy04']</code></p>\n\n<p>Currently using the following long code:</p>\n\n<pre><code>items_by_attr = {}\nset_of_attributes = {item[0:2] for item in itemlist}\nfor attr in set_of_attributes:\n    items_by_attr[attr] = [\n        item for item in itemlist \n       if 'yy' in item and attr in item\n    ]\n</code></pre>\n\n<p>to separate into a dict of lists:\n    <code>{'aa': ['aayy03', 'aayy04'], 'bb': ['bbyy03', 'bbyy04'], 'cc': ['ccyy03', 'ccyy04']}</code></p>\n\n<p>Is there a simpler language construct to produce the above dict of lists with a single data pass?</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "notnull"], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "edited": false, "score": 0, "creation_date": 1492647802, "post_id": 43507742, "comment_id": 74070853, "body": "in rest_frame work tutorial it was done like that, i did ur suggestion, but now i get another problem that u have to choose the assigner and it&#39;s not automatically declared. but the problem is solved anyway and i can now add tasks"}, {"owner": {"reputation": 326, "user_id": 5010734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vN1Xl.jpg?s=128&g=1", "display_name": "FraserES", "link": "https://stackoverflow.com/users/5010734/fraseres"}, "reply_to_user": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "edited": false, "score": 0, "creation_date": 1492648212, "post_id": 43507742, "comment_id": 74070936, "body": "it&#39;s not automatically what?"}, {"owner": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "edited": false, "score": 0, "creation_date": 1492648329, "post_id": 43507742, "comment_id": 74070961, "body": "is there a way to solve it without making the user able to choose the assigner and assign it automatically to the user of the current session?"}, {"owner": {"reputation": 326, "user_id": 5010734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vN1Xl.jpg?s=128&g=1", "display_name": "FraserES", "link": "https://stackoverflow.com/users/5010734/fraseres"}, "reply_to_user": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "edited": false, "score": 1, "creation_date": 1492648676, "post_id": 43507742, "comment_id": 74071035, "body": "Just to check, is the typo in <code>perform_create</code> also in your code? You&#39;ve written it as <code>preform</code> rather than <code>perform</code>. I think this might actually have been your original problem - you can go back to your previous implementation and just correct this typo and it will work fine"}, {"owner": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "edited": false, "score": 0, "creation_date": 1492802605, "post_id": 43507742, "comment_id": 74153306, "body": "nope, i write it perform in the code and still the same problem"}], "tags": [], "owner": {"reputation": 326, "user_id": 5010734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vN1Xl.jpg?s=128&g=1", "display_name": "FraserES", "link": "https://stackoverflow.com/users/5010734/fraseres"}, "is_accepted": true, "score": 2, "last_activity_date": 1492644992, "last_edit_date": 1492644992, "creation_date": 1492644608, "answer_id": 43507742, "question_id": 43507531, "link": "https://stackoverflow.com/questions/43507531/rest-framework-not-null-constraint-failed-tasks-tasks-assigner-id/43507742#43507742", "title": "rest_framework NOT NULL constraint failed: tasks_tasks.assigner_id", "body": "<p>You've made <code>assigner</code> a read only field with source <code>assigner.username</code> -this is your problem. I think you could get around this by defining two fields instead, one read_only and one write_only:</p>\n\n<pre><code>class TasksSerializer(serializers.ModelSerializer):\nassigner_name = serializers.ReadOnlyField(source='assigner.username')\nassigner = serializers.PrimaryKeyRelatedField(write_only=True, queryset=User.objects.all(), required=True)\nclass Meta:\n    model = Tasks\n    fields = ('id', 'url', 'title', 'description', 'assigner', 'assignee', 'assigner_name')\n</code></pre>\n\n<p>The effect of this code is that when your serializer is 'writing' (de-serializing) it will accept the assigner id which you pass into the save method as the keyword argument <code>assigner</code>. When it then serializes the task to json, it will look for the <code>assigner.name</code> and return it under the key <code>assigner_name</code> and miss out <code>assigner</code>.</p>\n\n<p>In the view, you'd then pass in the primary key (rather than the whole object) to the serializer save method:</p>\n\n<pre><code>serializer.save(assigner=self.request.user.pk)\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 4017492, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100001928818505/picture?type=large", "display_name": "Hossam Salah", "link": "https://stackoverflow.com/users/4017492/hossam-salah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 43507742, "answer_count": 1, "score": 0, "last_activity_date": 1492644992, "creation_date": 1492643307, "question_id": 43507531, "link": "https://stackoverflow.com/questions/43507531/rest-framework-not-null-constraint-failed-tasks-tasks-assigner-id", "title": "rest_framework NOT NULL constraint failed: tasks_tasks.assigner_id", "body": "<p>I am making an app where assigner can assign tasks to assignee \nwhen i run the server and try to add a task i get this error: </p>\n\n<p>NOT NULL constraint failed: tasks_tasks.assigner_id</p>\n\n<p>here is my views:</p>\n\n<pre><code>from rest_framework import viewsets, permissions\nfrom .models import Tasks\nfrom .serializers import TasksSerializer, UserSerializer\nfrom django.contrib.auth.models import User\n\n\nclass UserViewSet(viewsets.ReadOnlyModelViewSet):\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n\n\nclass TasksViewSet(viewsets.ModelViewSet):\n    queryset = Tasks.objects.all()\n    serializer_class = TasksSerializer\n    permission_classes = (permissions.IsAuthenticatedOrReadOnly,)\n\n    def prefrom_create(self, serializer):\n        serializer.save(self, assigner=self.request.user)\n</code></pre>\n\n<p>here is my serializers.py</p>\n\n<pre><code>from rest_framework import serializers\nfrom .models import Tasks\nfrom django.contrib.auth.models import User\n\n\nclass TasksSerializer(serializers.ModelSerializer):\n    assigner = serializers.ReadOnlyField(source='assigner.username')\n\n    class Meta:\n        model = Tasks\n        fields = ('id', 'url', 'title', 'description', 'assigner', 'assignee')\n\n\nclass UserSerializer(serializers.ModelSerializer):\n    tasks = serializers.HyperlinkedIdentityField(many=True, view_name='tasks_details', read_only=True)\n\n    class Meta:\n        model = User\n        fields = ('id', 'url', 'username', 'tasks')\n</code></pre>\n\n<p>and finally my models.py:</p>\n\n<pre><code>from django.db import models\n\nclass Tasks(models.Model):\n    created = models.DateTimeField(auto_now_add=True)\n    title = models.CharField(max_length=100)\n    description = models.TextField()\n    assigner = models.ForeignKey('auth.User', related_name='tasks', on_delete=models.CASCADE)\n    assignee = models.ForeignKey('auth.User', related_name='assigned', on_delete=models.CASCADE)\n\n    class Meta:\n        ordering = ('created',)\n</code></pre>\n"}, {"tags": ["python", "cplex"], "comments": [{"owner": {"reputation": 4187, "user_id": 1718477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iisrz.jpg?s=128&g=1", "display_name": "rkersh", "link": "https://stackoverflow.com/users/1718477/rkersh"}, "edited": false, "score": 0, "creation_date": 1492702170, "post_id": 43507494, "comment_id": 74101059, "body": "This <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21399929\" rel=\"nofollow noreferrer\">technote</a> may be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1492643193, "creation_date": 1492643193, "answer_id": 43507520, "question_id": 43507494, "link": "https://stackoverflow.com/questions/43507494/how-to-get-multiple-optimal-solutions-for-mip-in-cplex/43507520#43507520", "title": "How to get multiple optimal solutions for MIP in CPLEX?", "body": "<p>Perhaps you can:</p>\n\n<ul>\n<li>Find one optimal solution</li>\n<li>Add a term to your objective function that penalizes that solution</li>\n<li>Check to see if there's another feasible solution that matches the value (to tolerance) of the previously found optimal solution. If so, repeat.</li>\n</ul>\n"}], "owner": {"reputation": 421, "user_id": 4723266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7ff15b7caea532b9f9994a19e6933cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Stanley Gan", "link": "https://stackoverflow.com/users/4723266/stanley-gan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492643193, "creation_date": 1492643023, "question_id": 43507494, "link": "https://stackoverflow.com/questions/43507494/how-to-get-multiple-optimal-solutions-for-mip-in-cplex", "title": "How to get multiple optimal solutions for MIP in CPLEX?", "body": "<p>I constructed a Mixed Integer LP using CPLEX Python API and also a brute force checking program (which solves an LP) using MATLAB. I found that for a particular random example that I created, brute force checking finds 2 optimal solutions i.e. same objective value. Let's call them A and B. However, CPLEX only finds one of them, for example A. </p>\n\n<p>So I tried to set different values for these parameters:</p>\n\n<pre><code>model.parameters.mip.pool.capacity\nmodel.parameters.mip.pool.intensity\nmodel.parameters.mip.limits.populate\nmodel.parameters.mip.pool.absgap\nmodel.parameters.mip.pool.replace\n</code></pre>\n\n<p>and finally called <code>model.populate_solution_pool()</code>. This gives me solution B but it does not find A. Are there other ways to find more than 1 optimal solutions?</p>\n"}, {"tags": ["python", "numpy", "rotation", "linear-algebra", "rotational-matrices"], "comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1492644903, "post_id": 43507491, "comment_id": 74070156, "body": "You need to norm <code>u, v, w</code>"}, {"owner": {"reputation": 365, "user_id": 986122, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e0c7ace84d7bcac43640d7dbc46f40f5?s=128&d=identicon&r=PG", "display_name": "user986122", "link": "https://stackoverflow.com/users/986122/user986122"}, "reply_to_user": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1492645229, "post_id": 43507491, "comment_id": 74070234, "body": "Wow... such a simple solution. I&#39;m not sure how I missed that. Thank you so much!"}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 986122, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e0c7ace84d7bcac43640d7dbc46f40f5?s=128&d=identicon&r=PG", "display_name": "user986122", "link": "https://stackoverflow.com/users/986122/user986122"}, "edited": false, "score": 0, "creation_date": 1492645387, "post_id": 43507814, "comment_id": 74070270, "body": "This is pretty close to what I had originally in the algorithm, but my uvw was still incorrect I guess - so I ended up with this other solution as I debugged. I&#39;ll definitely used the faster solution going forward. Thanks again!"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 365, "user_id": 986122, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e0c7ace84d7bcac43640d7dbc46f40f5?s=128&d=identicon&r=PG", "display_name": "user986122", "link": "https://stackoverflow.com/users/986122/user986122"}, "edited": false, "score": 0, "creation_date": 1492645819, "post_id": 43507814, "comment_id": 74070381, "body": "Note that composing the matrix like this is probably not faster than doing it elementwise - I just did that for clarity. Avoiding <code>arccos</code> is worthwhile though, as that and <code>cos</code> together will lose precision."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 365, "user_id": 986122, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e0c7ace84d7bcac43640d7dbc46f40f5?s=128&d=identicon&r=PG", "display_name": "user986122", "link": "https://stackoverflow.com/users/986122/user986122"}, "edited": false, "score": 0, "creation_date": 1492645852, "post_id": 43507814, "comment_id": 74070386, "body": "Also, you should skip the normalizing step when <code>rsin == 0</code>"}, {"owner": {"reputation": 196, "user_id": 2230763, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XIheo.jpg?s=128&g=1", "display_name": "kabammi", "link": "https://stackoverflow.com/users/2230763/kabammi"}, "edited": false, "score": 1, "creation_date": 1508793992, "post_id": 43507814, "comment_id": 80744784, "body": "It looks like the calculation of uvw is incorrect. It should be uvw=np.cross(unit,i_v) not the other way around. What is there now yields the opposite angle. I&#39;ve been banging my head against the wall working with this, with 3D volume phantoms. With the change I outline it works for me."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 196, "user_id": 2230763, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XIheo.jpg?s=128&g=1", "display_name": "kabammi", "link": "https://stackoverflow.com/users/2230763/kabammi"}, "edited": false, "score": 0, "creation_date": 1508920086, "post_id": 43507814, "comment_id": 80801802, "body": "@kabammi: Actually, my mistake is in the transcription of the <code>[u]_x</code> matrix, but they&#39;re essentially equivalent. Good catch!"}], "tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": true, "score": 2, "last_activity_date": 1508920181, "last_edit_date": 1508920181, "creation_date": 1492645165, "answer_id": 43507814, "question_id": 43507491, "link": "https://stackoverflow.com/questions/43507491/imprecision-with-rotation-matrix-to-align-a-vector-to-an-axis/43507814#43507814", "title": "Imprecision with rotation matrix to align a vector to an axis", "body": "<p>You need to norm <code>uvw</code> for that to work. So replace</p>\n\n<p>u, v, w = np.cross(i_v, unit)</p>\n\n<p>With</p>\n\n<pre><code>uvw = np.cross(i_v, unit)\nuvw /= np.linalg.norm(uvw)\n</code></pre>\n\n<p>Which is basically the same as the <code>i_v = np.divide(i_v, np.sqrt(np.dot(i_v, i_v)))</code> line you already had.</p>\n\n<p>You can do better though, and avoid trig entirely:</p>\n\n<pre><code>def get_rotation_matrix(i_v, unit=None):\n    # From http://www.j3d.org/matrix_faq/matrfaq_latest.html#Q38\n    if unit is None:\n        unit = [1.0, 0.0, 0.0]\n    # Normalize vector length\n    i_v /= np.linalg.norm(i_v)\n\n    # Get axis\n    uvw = np.cross(i_v, unit)\n\n    # compute trig values - no need to go through arccos and back\n    rcos = np.dot(i_v, unit)\n    rsin = np.linalg.norm(uvw)\n\n    #normalize and unpack axis\n    if not np.isclose(rsin, 0):\n        uvw /= rsin\n    u, v, w = uvw\n\n    # Compute rotation matrix - re-expressed to show structure\n    return (\n        rcos * np.eye(3) +\n        rsin * np.array([\n            [ 0, -w,  v],\n            [ w,  0, -u],\n            [-v,  u,  0]\n        ]) +\n        (1.0 - rcos) * uvw[:,None] * uvw[None,:]\n    )\n</code></pre>\n\n<p>That last expression is this equation from the wikipedia page:</p>\n\n<p><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/f827afdaa2db894d60ea99810125d8e0f928bcf4\" alt=\"\"></p>\n"}], "owner": {"reputation": 365, "user_id": 986122, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e0c7ace84d7bcac43640d7dbc46f40f5?s=128&d=identicon&r=PG", "display_name": "user986122", "link": "https://stackoverflow.com/users/986122/user986122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1854, "favorite_count": 1, "accepted_answer_id": 43507814, "answer_count": 1, "score": 2, "last_activity_date": 1508920181, "creation_date": 1492643002, "last_edit_date": 1492644320, "question_id": 43507491, "link": "https://stackoverflow.com/questions/43507491/imprecision-with-rotation-matrix-to-align-a-vector-to-an-axis", "title": "Imprecision with rotation matrix to align a vector to an axis", "body": "<p>I've been banging my head against the wall with this for several hours and I can't seem to figure out what I'm doing wrong. </p>\n\n<p>I'm trying to <strong>generate a rotation matrix which will align a vector with a particular axis</strong> (I'll ultimately be transforming more data, so having the rotation matrix is important).</p>\n\n<p>I feel like my method is right, and if I test it on a variety of vectors, it works <em>pretty well</em>, but the transformed vectors are <em>always a little off</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fa9uJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fa9uJ.png\" alt=\"Always a little off...\"></a></p>\n\n<p>Here's a full code sample I'm using to test the method:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport mpl_toolkits.mplot3d\nimport matplotlib as mpl\n\n\ndef get_rotation_matrix(i_v, unit=None):\n    # From http://www.j3d.org/matrix_faq/matrfaq_latest.html#Q38\n    if unit is None:\n        unit = [1.0, 0.0, 0.0]\n    # Normalize vector length\n    i_v = np.divide(i_v, np.sqrt(np.dot(i_v, i_v)))\n    # Get axis\n    u, v, w = np.cross(i_v, unit)\n    # Get angle\n    phi = np.arccos(np.dot(i_v, unit))\n    # Precompute trig values\n    rcos = np.cos(phi)\n    rsin = np.sin(phi)\n    # Compute rotation matrix\n    matrix = np.zeros((3, 3))\n    matrix[0][0] = rcos + u * u * (1.0 - rcos)\n    matrix[1][0] = w * rsin + v * u * (1.0 - rcos)\n    matrix[2][0] = -v * rsin + w * u * (1.0 - rcos)\n    matrix[0][1] = -w * rsin + u * v * (1.0 - rcos)\n    matrix[1][1] = rcos + v * v * (1.0 - rcos)\n    matrix[2][1] = u * rsin + w * v * (1.0 - rcos)\n    matrix[0][2] = v * rsin + u * w * (1.0 - rcos)\n    matrix[1][2] = -u * rsin + v * w * (1.0 - rcos)\n    matrix[2][2] = rcos + w * w * (1.0 - rcos)\n    return matrix\n\n# Example Vector\norigv = np.array([0.47404573,  0.78347482,  0.40180573])\n\n# Compute the rotation matrix\nR = get_rotation_matrix(origv)\n\n# Apply the rotation matrix to the vector\nnewv = np.dot(origv.T, R.T)\n\n# Get the 3D figure\nfig = plt.figure()\nax = fig.gca(projection='3d')\n\n# Plot the original and rotated vector\nax.plot(*np.transpose([[0, 0, 0], origv]), label=\"original vector\", color=\"r\")\nax.plot(*np.transpose([[0, 0, 0], newv]), label=\"rotated vector\", color=\"b\")\n\n# Plot some axes for reference\nax.plot([0, 1], [0, 0], [0, 0], color='k')\nax.plot([0, 0], [0, 1], [0, 0], color='k')\nax.plot([0, 0], [0, 0], [0, 1], color='k')\n\n# Show the plot and legend\nax.legend()\nplt.show()\n</code></pre>\n\n<p>I've linked found the method <a href=\"http://www.j3d.org/matrix_faq/matrfaq_latest.html#Q38\" rel=\"nofollow noreferrer\">here</a>. Why is the transform this produces always <strong>just a little bit off</strong>???</p>\n"}, {"tags": ["python", "flask", "uwsgi"], "answers": [{"comments": [{"owner": {"reputation": 4913, "user_id": 859434, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aTTwX.png?s=128&g=1", "display_name": "jab", "link": "https://stackoverflow.com/users/859434/jab"}, "edited": false, "score": 0, "creation_date": 1492696888, "post_id": 43507762, "comment_id": 74096806, "body": "I&#39;m assuming there isn&#39;t an equivalent callback for after server startup is there?  before_first_request normally should work, but this code contains some performance intensive sections. I wouldn&#39;t really want to run it during any regular request traffic."}, {"owner": {"reputation": 10874, "user_id": 36656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a29caa1a66ae5e3772ed976f6b63527?s=128&d=identicon&r=PG", "display_name": "Adam Byrtek", "link": "https://stackoverflow.com/users/36656/adam-byrtek"}, "reply_to_user": {"reputation": 4913, "user_id": 859434, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aTTwX.png?s=128&g=1", "display_name": "jab", "link": "https://stackoverflow.com/users/859434/jab"}, "edited": false, "score": 0, "creation_date": 1492706904, "post_id": 43507762, "comment_id": 74104066, "body": "Not that I&#39;m aware of, but in general performance intensive code shouldn&#39;t depend on the web server, so you might want to rethink your design and consider background queues or scheduled jobs."}], "tags": [], "owner": {"reputation": 10874, "user_id": 36656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a29caa1a66ae5e3772ed976f6b63527?s=128&d=identicon&r=PG", "display_name": "Adam Byrtek", "link": "https://stackoverflow.com/users/36656/adam-byrtek"}, "is_accepted": true, "score": 1, "last_activity_date": 1492645890, "last_edit_date": 1492645890, "creation_date": 1492644823, "answer_id": 43507762, "question_id": 43507477, "link": "https://stackoverflow.com/questions/43507477/flask-callback-when-application-context-is-available/43507762#43507762", "title": "Flask Callback when Application Context is Available", "body": "<p>You could use the <a href=\"http://flask.pocoo.org/docs/0.12/api/#flask.Flask.before_first_request\" rel=\"nofollow noreferrer\"><code>before_first_request</code></a> hook to run the code once, inside the application context, and after the server is fully initialised.</p>\n"}], "owner": {"reputation": 4913, "user_id": 859434, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aTTwX.png?s=128&g=1", "display_name": "jab", "link": "https://stackoverflow.com/users/859434/jab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 43507762, "answer_count": 1, "score": 1, "last_activity_date": 1492645890, "creation_date": 1492642919, "last_edit_date": 1492643146, "question_id": 43507477, "link": "https://stackoverflow.com/questions/43507477/flask-callback-when-application-context-is-available", "title": "Flask Callback when Application Context is Available", "body": "<p>I have a function that I want to call that generates a set of urls. However, to fully generate the urls (using <code>url_for()</code>) I need to have an application context that's available with <code>SERVER_NAME</code> set.</p>\n\n<p>I'm looking for a solution that doesn't involve setting <code>SERVER_NAME</code> explicitly, but instead a solution that would involve running my function as soon as a full application context is available, that is, after a <code>app.run()</code> provides a full application context. I'm running this application on uWSGI, so I'm looking for a solution that works with the uWSGI initialization.</p>\n"}, {"tags": ["python", "list", "python-3.x", "dictionary", "set"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1492642727, "post_id": 43507421, "comment_id": 74069481, "body": "A better link to answer the question is <a href=\"http://stackoverflow.com/questions/14956313/why-is-dictionary-ordering-non-deterministic\" title=\"why is dictionary ordering non deterministic\">stackoverflow.com/questions/14956313/&hellip;</a>"}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1492642835, "post_id": 43507421, "comment_id": 74069516, "body": "@MarkRansom added it to the list of duplicates"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1492643032, "post_id": 43507421, "comment_id": 74069580, "body": "@vaultah thanks. I could have done it myself if I had remembered the ability to edit duplicate link lists."}], "owner": {"reputation": 2132, "user_id": 6304774, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2215ab275c4a2de53158e47224309a33?s=128&d=identicon&r=PG&f=1", "display_name": "Lau", "link": "https://stackoverflow.com/users/6304774/lau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1492642631, "answer_count": 0, "score": 0, "last_activity_date": 1492642762, "creation_date": 1492642561, "question_id": 43507421, "link": "https://stackoverflow.com/questions/43507421/python-sets-in-dictionary-not-consistant-sort-behaviour", "closed_reason": "Duplicate", "title": "Python sets in dictionary not consistant sort behaviour", "body": "<p>I created a dictionary of sets in Python:</p>\n\n<pre><code>graph = {'A': {'B', 'C'},\n     'B': {'D', 'E'},\n     'C': {'F','A'}}\n\nprint(graph['A'])\nprint(graph['B'])\nprint(graph['C'])\n</code></pre>\n\n<p>However the order that elements are printed differ everytime I execute my code!</p>\n\n<pre><code>{'B', 'C'}\n{'E', 'D'}\n{'F', 'A'}\n</code></pre>\n\n<p>and next time:</p>\n\n<pre><code>{'B', 'C'}\n{'D', 'E'}\n{'A', 'F'}\n</code></pre>\n\n<p>What causes this inconsistent behaviour?</p>\n"}, {"tags": ["python", "macos", "terminal", "binary", "find"], "comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1492642799, "post_id": 43507418, "comment_id": 74069502, "body": "Generate an <code>md5sum</code> once for each file, then find duplicates by comparing just the sums... <a href=\"http://stackoverflow.com/a/38829497/2836621\">stackoverflow.com/a/38829497/2836621</a>"}, {"owner": {"reputation": 16210, "user_id": 819340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NJ0q8ZFwD6s/AAAAAAAAAAI/AAAAAAAAACI/Wy1G-7NtYCU/photo.jpg?sz=128", "display_name": "Paulo Mattos", "link": "https://stackoverflow.com/users/819340/paulo-mattos"}, "edited": false, "score": 0, "creation_date": 1492693524, "post_id": 43507418, "comment_id": 74094055, "body": "For a quick hack, try <code>cmp</code>."}], "answers": [{"tags": [], "owner": {"reputation": 873, "user_id": 2518451, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/65ef20b854804607065dd2bbf339d5ef?s=128&d=identicon&r=PG", "display_name": "escapecharacter", "link": "https://stackoverflow.com/users/2518451/escapecharacter"}, "is_accepted": true, "score": 1, "last_activity_date": 1492787525, "creation_date": 1492787525, "answer_id": 43546237, "question_id": 43507418, "link": "https://stackoverflow.com/questions/43507418/tool-for-high-performance-search-of-binary-file-match-in-a-directory-of-thousand/43546237#43546237", "title": "Tool for high-performance search of binary file match in a directory of thousands of files on OSX", "body": "<p>I solved my problem by writing a pair of Python scripts, based on Mark's suggestions.</p>\n\n<p>md5index.py:</p>\n\n<pre><code>#given a folder path, makes a hash index of every file, recursively\nimport sys, os, hashlib, io\n\nhash_md5 = hashlib.md5()\n\n#some files need to be hashed incrementally as they may be too big to fit in memory\n#http://stackoverflow.com/a/40961519/2518451\ndef md5sum(src, length=io.DEFAULT_BUFFER_SIZE):\n    md5 = hashlib.md5()\n    with io.open(src, mode=\"rb\") as fd:\n        for chunk in iter(lambda: fd.read(length), b''):\n            md5.update(chunk)\n    return md5\n\n#this project done on macOS. There may be other files that are appropriate to hide on other platforms.\nignore_files = [\".DS_Store\"]\n\ndef index(source, index_output):\n\n    index_output_f = open(index_output, \"wt\")\n    index_count = 0\n\n    for root, dirs, filenames in os.walk(source):\n\n        for f in filenames:\n            if f in ignore_files:\n                continue\n\n            #print f\n            fullpath = os.path.join(root, f)\n            #print fullpath\n\n            md5 = md5sum(fullpath)\n            md5string = md5.hexdigest()\n            line = md5string + \":\" + fullpath\n            index_output_f.write(line + \"\\n\")\n            print line\n            index_count += 1\n\n    index_output_f.close()\n    print(\"Index Count: \" + str(index_count))\n\n\nif __name__ == \"__main__\":\n    index_output = \"index_output.txt\"\n\n    if len(sys.argv) &lt; 2:\n        print(\"Usage: md5index [path]\")\n    else:\n        index_path = sys.argv[1]\n        print(\"Indexing... \" + index_path)\n        index(index_path, index_output)\n</code></pre>\n\n<p>And uniquemerge.py:</p>\n\n<pre><code>#given an index_output.txt in the same directory and an input path,\n#remove all files that already have a hash in index_output.txt\n\nimport sys, os\nfrom md5index import md5sum\nfrom send2trash import send2trash\nSENDING_TO_TRASH = True\n\ndef load_index():\n    index_output = \"index_output.txt\"\n    index = []\n    with open(index_output, \"rt\") as index_output_f:\n        for line in index_output_f:\n            line_split = line.split(':')\n            md5 = line_split[0]\n            index.append(md5)\n    return index\n\n#traverse file, compare against index\ndef traverse_merge_path(merge_path, index):\n    found = 0\n    not_found = 0\n\n    for root, dirs, filenames in os.walk(merge_path):\n        for f in filenames:\n            #print f\n            fullpath = os.path.join(root, f)\n            #print fullpath\n\n            md5 = md5sum(fullpath)\n            md5string = md5.hexdigest()\n\n            if md5string in index:\n                if SENDING_TO_TRASH:\n                    send2trash(fullpath)\n\n                found += 1\n            else:\n                print \"\\t NON-DUPLICATE ORIGINAL: \" + fullpath\n                not_found += 1\n\n\n    print \"Found Duplicates: \" + str(found) + \" Originals: \" + str(not_found)\n\n\nif __name__ == \"__main__\":\n    index = load_index()\n    print \"Loaded index with item count: \" + str(len(index))\n\n    print \"SENDING_TO_TRASH: \" + str(SENDING_TO_TRASH) \n\n    merge_path = sys.argv[1]\n    print \"Merging To: \" + merge_path\n\n    traverse_merge_path(merge_path, index)\n</code></pre>\n\n<p>Assuming I want to merge folderA into folderB, I do:\n    python md5index.py folderA\n    # creates index_output.txt with all the hashes from folderA</p>\n\n<pre><code>python uniquemerge.py folderB\n# deletes all files in folderB that already existed in folderA\n# I can now manually merge folderB into folderA\n</code></pre>\n"}], "owner": {"reputation": 873, "user_id": 2518451, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/65ef20b854804607065dd2bbf339d5ef?s=128&d=identicon&r=PG", "display_name": "escapecharacter", "link": "https://stackoverflow.com/users/2518451/escapecharacter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 43546237, "answer_count": 1, "score": 1, "last_activity_date": 1492787525, "creation_date": 1492642518, "question_id": 43507418, "link": "https://stackoverflow.com/questions/43507418/tool-for-high-performance-search-of-binary-file-match-in-a-directory-of-thousand", "title": "Tool for high-performance search of binary file match in a directory of thousands of files on OSX", "body": "<p>I'm merging two large (1000s) sets of photos with different directory structures, where many photos already exist in both sets. I was going to write a script such that:</p>\n\n<pre><code>For a given photo in set B,\nCheck if a binary match for it exists in set A.\nIf there's a match, delete the file.\n</code></pre>\n\n<p>After all of the files in set B have been reviewed, I'll then merge the (now unique) remainders of set B into set A.</p>\n\n<p>There may be binary matches with different file names, so file names should be ignored when testing.</p>\n\n<p>Also, I'm going to be doing the set A search for every single file in set B, so I'd prefer a tool that builds an index of set A as part of an initial scan. Fortunately, this index can be done once and never needs to be updated.</p>\n\n<p>I was going to use a OSX shell script, but python is fine too.</p>\n"}, {"tags": ["python", "tkinter", "python-imaging-library"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1492643707, "post_id": 43507399, "comment_id": 74069780, "body": "It&#39;s difficult to tell without an m.c.v.e but it may be a lifetime issue. Sometimes tkinter doesnt bump up the ref count of objects passed to it and so they can be garbage collected after they go out of scope. The solution usually is to attach the object to <code>self</code>."}, {"owner": {"reputation": 11, "user_id": 7892503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2add5b6d28e05faa8166a08adfc400b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bailey", "link": "https://stackoverflow.com/users/7892503/alexander-bailey"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1492645035, "post_id": 43507399, "comment_id": 74070192, "body": "i was using Tk instead of Toplevel. something about Tk makes images drop in a spawned process. so if one tk window creates another, and that one uses Tk instead of Toplevel. certain data can be messed up."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1492645144, "post_id": 43507399, "comment_id": 74070220, "body": "I have no idea as to the issue. If you can provide an <a href=\"https://stackoverflow.com/help/mcve\">m.c.v.e.</a> it will allow others the opportunity to reproduce your issue."}, {"owner": {"reputation": 1290, "user_id": 4180176, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1022787394506806/picture?type=large", "display_name": "Joshua Nixon", "link": "https://stackoverflow.com/users/4180176/joshua-nixon"}, "edited": false, "score": 0, "creation_date": 1492708499, "post_id": 43507399, "comment_id": 74105018, "body": "From my experience this error is normally brought up when the image is loaded before the main window has been created or (most likely) the image when loaded is &#39;forgotten&#39;. I fix this by using classes and defining the image as an attribute <code>self.</code>"}], "owner": {"reputation": 11, "user_id": 7892503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2add5b6d28e05faa8166a08adfc400b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bailey", "link": "https://stackoverflow.com/users/7892503/alexander-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1492643963, "creation_date": 1492642428, "last_edit_date": 1492643963, "question_id": 43507399, "link": "https://stackoverflow.com/questions/43507399/using-a-method-to-set-the-image-of-a-label-in-python-3", "title": "Using a method to set the image of a label in python 3", "body": "<p>i'm trying to set an image on a label with this method, the photo image package is limited in the image extensions it can use, for instance it will not read .jpg without first putting in through the <code>Image</code> class. i know this image can be put onto a label as i do it the same way elsewhere, the only difference is that this one is setting in a separate method as opposed to in the same block as the label that uses it.\nthis is the label i'm trying to create by calling this method.</p>\n\n<pre><code>Label(self.daysCanvas, height=5, width=5, bg=self.setColor(), image=self.setalert(),relief = RIDGE)\n</code></pre>\n\n<p>the error i keep getting is a <code>pyimage1 does not exist</code> error</p>\n\n<p>i'm wondering if it's because i'm trying to set it in a method, or if there is another error</p>\n\n<pre><code>def setalert(self):\n     print(self.accdis,self.arrdis,self.hrdis,self.metric)\n     image = ''\n     # acc alert checker if checked in expertGUI\n     if self.accdis == 1 and self.metric == 'ACC':\n         print('acc')\n         temp = Image.open(self.accimg)\n         temp = temp.resize((5, 5), Image.ANTIALIAS)\n         image = ImageTk.PhotoImage(temp)\n     # arousal alert checker if checked in expertGUI\n     elif self.arrdis == 1 and self.metric == 'EDA':\n         print('eda')\n         temp = Image.open(self.arrimg)\n         temp = temp.resize((5, 5), Image.ANTIALIAS)\n         image = ImageTk.PhotoImage(temp)\n     # heart rate alert checker if checked in expertGUI\n     elif self.hrdis == 1 and self.metric == 'HR':\n         print('hr')\n         temp = Image.open(self.hrimg)\n         temp = temp.resize((5, 5), Image.ANTIALIAS)\n         image = ImageTk.PhotoImage(temp)\n     return image\n</code></pre>\n\n<p>i'm using python 3.6 on windows and the pillow package for PIL</p>\n"}, {"tags": ["python", "string", "unicode"], "comments": [{"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1492642370, "post_id": 43507350, "comment_id": 74069352, "body": "what do you get if you do print repr(your comment string) ?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1492642424, "post_id": 43507350, "comment_id": 74069375, "body": "some url encoding somewhere didn&#39;t get unencoded"}, {"owner": {"reputation": 226, "user_id": 5959493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2rBQG.jpg?s=128&g=1", "display_name": "Sri Hari Vignesh", "link": "https://stackoverflow.com/users/5959493/sri-hari-vignesh"}, "reply_to_user": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1492642465, "post_id": 43507350, "comment_id": 74069389, "body": "@user1753919 I get &#39;u&#39;&#39; followed by the string with plus signs between the words"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1492642606, "post_id": 43507350, "comment_id": 74069443, "body": "As @wim says, translating space to <code>+</code> is part of URL encoding. So something is not doing the necessary URL decoding before processing the JSON. Post your code so we can see what you&#39;re doing."}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 1, "creation_date": 1492642645, "post_id": 43507350, "comment_id": 74069458, "body": "one solution is to replace the &quot;+&quot; with &quot; &quot; using replace command."}, {"owner": {"reputation": 226, "user_id": 5959493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2rBQG.jpg?s=128&g=1", "display_name": "Sri Hari Vignesh", "link": "https://stackoverflow.com/users/5959493/sri-hari-vignesh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492642834, "post_id": 43507350, "comment_id": 74069515, "body": "@Barmar I have edited my question"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492642904, "post_id": 43507350, "comment_id": 74069540, "body": "payload_from_post... what is that exactly? You are implementing server side code, right? Where did you get the post data, exactly?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492642948, "post_id": 43507350, "comment_id": 74069554, "body": "If you&#39;re writing server-side code, there are libraries to parse the POST data."}, {"owner": {"reputation": 226, "user_id": 5959493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2rBQG.jpg?s=128&g=1", "display_name": "Sri Hari Vignesh", "link": "https://stackoverflow.com/users/5959493/sri-hari-vignesh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492642996, "post_id": 43507350, "comment_id": 74069571, "body": "@Barmar no I am just writing client side. I have no control over the server I am getting the data from"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1492643081, "post_id": 43507350, "comment_id": 74069594, "body": "How does a client get POST data from the server? POST data goes from the client to the server. Show how you&#39;re setting <code>payload_from_POST</code>."}, {"owner": {"reputation": 226, "user_id": 5959493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2rBQG.jpg?s=128&g=1", "display_name": "Sri Hari Vignesh", "link": "https://stackoverflow.com/users/5959493/sri-hari-vignesh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492643217, "post_id": 43507350, "comment_id": 74069640, "body": "@Barmar I get POST payload through a web hook (github webhook). When an event happens in my Pull Request, I get a POST message from the github web hook I had setup."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 1, "creation_date": 1492643225, "post_id": 43507350, "comment_id": 74069643, "body": "@user1753919: No"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1492643240, "post_id": 43507350, "comment_id": 74069649, "body": "@SriHariVignesh: Present your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That is a requirement"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1492643329, "post_id": 43507350, "comment_id": 74069674, "body": "@SriHariVignesh A web hook is server-side code."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7838251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb90f1f0d639a647e8201959ebc1970?s=128&d=identicon&r=PG&f=1", "display_name": "Nenya Edjah", "link": "https://stackoverflow.com/users/7838251/nenya-edjah"}, "is_accepted": false, "score": 1, "last_activity_date": 1492644354, "last_edit_date": 1492644354, "creation_date": 1492643992, "answer_id": 43507654, "question_id": 43507350, "link": "https://stackoverflow.com/questions/43507350/python-prints-string-with-sign-in-between/43507654#43507654", "title": "Python prints string with &quot;+&quot; sign in between", "body": "<p>This is a matter of parsing a request string into an appropriate dictionary representation. To do so, you can use the <code>parse_qs</code> function.</p>\n\n<p>In Python 2,</p>\n\n<pre><code>from urlparse import parse_qs\n\nvar = parse_qs(payload_from_POST)\nprint var['comment'][0]\n</code></pre>\n\n<p>In Python 3</p>\n\n<pre><code>from urllib.parse import parse_qs\n\nvar = parse_qs(payload_from_POST)\nprint(var['comment'][0])\n</code></pre>\n\n<p><br>\nAn important note: <code>parse_qs</code> will return a JSON that maps keys to <strong>lists</strong>, NOT strings. So in order to actually print \"The Quick Brown Fox Jumped Over The Lazy Dog\", you have to access <code>var['comment'][0]</code>, because <code>var['comment']</code> would just return you a list with one element in it.</p>\n"}], "owner": {"reputation": 226, "user_id": 5959493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2rBQG.jpg?s=128&g=1", "display_name": "Sri Hari Vignesh", "link": "https://stackoverflow.com/users/5959493/sri-hari-vignesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492644354, "creation_date": 1492642098, "last_edit_date": 1495535462, "question_id": 43507350, "link": "https://stackoverflow.com/questions/43507350/python-prints-string-with-sign-in-between", "title": "Python prints string with &quot;+&quot; sign in between", "body": "<p>I extracted comments made in a website by converting the POST payload from the website to JSON and extracting the value in the comments field in Python.</p>\n\n<p>The JSON looks something like this:</p>\n\n<pre><code>{\n    .\n    .\n    \"comment\": \"The Quick Brown Fox Jumped Over The Lazy Dog\"\n    .\n    .\n}\n</code></pre>\n\n<p>When I print the comment using the <code>print()</code> function, this is how the comment is printed: The+Quick+Brown+Fox+Jumped+Over+The+Lazy+Dog</p>\n\n<p>The type of the comment seems to be 'unicode'. I have tried everything mentioned <a href=\"https://stackoverflow.com/questions/35083374/how-to-decode-a-unicode-string-python\">here</a> and <a href=\"https://stackoverflow.com/questions/1207457/convert-a-unicode-string-to-a-string-in-python-containing-extra-symbols\">here</a> but those don't solve my problem.</p>\n\n<p>I am using python 2.7. Right now I am printing it for debugging purposes but I want to store it in a database later. So I would need a permanent solution to convert unicode to string.</p>\n\n<p>EDIT: I use <code>var = json.loads(payload_from_POST)</code> to convert the POST payload to JSON. Then I extract the value of \"comment\" by var['comment'].</p>\n"}, {"tags": ["python", "csv", "web-crawler"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1492642312, "post_id": 43507345, "comment_id": 74069333, "body": "Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a Minimal, Complete, and Verifiable example."}], "answers": [{"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1492669231, "post_id": 43507611, "comment_id": 74077146, "body": "Thanks Tnerual for your answer. You are very near to what i was expecting. Encoding doesn&#39;t work in this case so I discarded that line. All the results are now in the csv file but they are positioned not in the separate columns but in a single column delimited by comma. Can you make it in two columns? Thanks. Here is the link to that output: &quot;<a href=\"https://www.dropbox.com/s/okb7hxocmv5lbax/data.csv?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/okb7hxocmv5lbax/data.csv?dl=0</a>&quot;"}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 1, "creation_date": 1492675606, "post_id": 43507611, "comment_id": 74080994, "body": "@SMth80 you can try to change the variable whose name is <code>delimiter</code>. Changing the semi-colon <code>&quot;;&quot;</code> for a comma <code>&quot;,&quot;</code>."}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1492676888, "post_id": 43507611, "comment_id": 74081718, "body": "It works but faces issues when it sees the price exceeding thousand cause you know thousand is written like this &quot;1,000&quot;. So, your code creates a separate column as soon as it meets &quot;,&quot;. Anyways, I&#39;ve fixed it and rewritten the rectified one in my first post. Could you tell me how can I shake off duplicates while writing in csv. Thanks."}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1492677862, "post_id": 43507611, "comment_id": 74082355, "body": "@SMth80 This is exactly the reason why i prefer not to use a comma as delimiter. Since it looks like you use excel to visualise your csv file, note that you can actually tell it what to consider as delimiter. It works directly with comma because it is (often) the default one. To control duplicates, you can create a list in which each element to write goes only if not already present. You would then have to iter over this list to write the content. Furthermore, the UnicodeEncodeError does not occur in python3.+, I.e. The version of python that you use."}, {"owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1492679005, "post_id": 43507611, "comment_id": 74083168, "body": "@SMth80 Furthermore, note you must not change the title of your question substantially so as to get a completely new related answer. I answered your question, my answer does what you need, you declare it as the correct one. If you have something else to ask, you create/open a new question."}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1492681603, "post_id": 43507611, "comment_id": 74084999, "body": "Thanks Tnerual for everything."}], "tags": [], "owner": {"reputation": 4815, "user_id": 4194079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cOfnc.jpg?s=128&g=1", "display_name": "keepAlive", "link": "https://stackoverflow.com/users/4194079/keepalive"}, "is_accepted": true, "score": 1, "last_activity_date": 1492644117, "last_edit_date": 1492644117, "creation_date": 1492643737, "answer_id": 43507611, "question_id": 43507345, "link": "https://stackoverflow.com/questions/43507345/getting-duplicates-in-csv-from-a-spider-written-in-python/43507611#43507611", "title": "Getting duplicates in csv from a spider written in python", "body": "<p>You do not need <code>csv</code> module to wrtie csv files. Specifying the extension is enough. Thus, turning your code into</p>\n\n<pre><code>import requests\nfrom lxml import html\n\ndelimiter = \";\"\nfile_name = 'data.csv'\n\ndef Startpoint():\n    address = \"https://www.sephora.ae/en/stores/\"\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//li[contains(@class,\"level0\")]')\n    for title in titles:\n        href = title.xpath('.//a[contains(@class,\"level0\")]/@href')[0]\n        Layer2(href)\n\ndef Layer2(address):\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//li[contains(@class,\"amshopby-cat\")]')\n    for title in titles:\n        href = title.xpath('.//a/@href')[0]\n        Endpoint(href)\n\ndef Endpoint(address):\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//div[@class=\"product-info\"]')\n    for title in titles:\n        Name = title.xpath('.//div[contains(@class,\"h3\")]/a[@title]/text()')[0]\n        Price = title.xpath('.//span[@class=\"price\"]/text()')[0]\n        metco=(Name,Price)\n        print(metco)\n        with open(file_name,'a') as outfile:\n            outfile.write(delimiter.join(metco).encode('utf8') + '\\n')\n\nwith open(file_name,'w') as outfile:\n    outfile.write(delimiter.join([\"Product Name\", \"Price\"])+'\\n')\nStartpoint()\n</code></pre>\n\n<p>should do the trick. Note the <code>.encode('utf8')</code> part which prevents your writing process from <code>UnicodeEncodeError</code>. Furthermore, note the arguments <code>'w'</code> and <code>'a'</code> used in the <code>open</code> function. While the first means \"write\", the second means \"append\". However, even if from an heuristic point of view, this code works, it is far from being \"well\" thought.</p>\n"}], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1492651645, "accepted_answer_id": 43507611, "answer_count": 1, "score": -2, "last_activity_date": 1492675788, "creation_date": 1492642069, "last_edit_date": 1492675788, "question_id": 43507345, "link": "https://stackoverflow.com/questions/43507345/getting-duplicates-in-csv-from-a-spider-written-in-python", "closed_reason": "Not suitable for this site", "title": "Getting duplicates in csv from a spider written in python", "body": "<p>I've created a spider that is collecting data as I expected.The only problem I'm facing at this moment is that the results are with lots of duplicates. However, I want to shake the duplicates off while writing results in csv:</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import csv\nimport requests\nfrom lxml import html\n\ndef Startpoint():\n    global writer\n    outfile=open('Data.csv','w',newline='')\n    writer=csv.writer(outfile)\n    writer.writerow([\"Name\",\"Price\"])\n    address = \"https://www.sephora.ae/en/stores/\"\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//li[contains(@class,\"level0\")]')\n    for title in titles:\n        href = title.xpath('.//a[contains(@class,\"level0\")]/@href')[0]\n        Layer2(href)\n\ndef Layer2(address):\n    global writer\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//li[contains(@class,\"amshopby-cat\")]')\n    for title in titles:\n        href = title.xpath('.//a/@href')[0]\n        Endpoint(href)\n\ndef Endpoint(address):\n    global writer\n    page = requests.get(address)\n    tree = html.fromstring(page.text)\n    titles=tree.xpath('//div[@class=\"product-info\"]')\n    for title in titles:\n        Name = title.xpath('.//div[contains(@class,\"h3\")]/a[@title]/text()')[0]\n        Price = title.xpath('.//span[@class=\"price\"]/text()')[0]\n        metco=(Name,Price)\n        print(metco)\n        writer.writerow(metco)\n\nStartpoint()\n</code></pre>\n"}, {"tags": ["python", "nlp", "nltk", "text-analysis"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1492642846, "post_id": 43507338, "comment_id": 74069521, "body": "First things first, NLTK features corpus <code>nltk.corpus.names</code> that has a list of ~8,000 English names, which probably more complete than the list that you collected."}, {"owner": {"reputation": 109, "user_id": 2060713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b19804048e1cb83e77e8b5ff56ec3da?s=128&d=identicon&r=PG", "display_name": "Dwaxe", "link": "https://stackoverflow.com/users/2060713/dwaxe"}, "edited": false, "score": 0, "creation_date": 1492642871, "post_id": 43507338, "comment_id": 74069528, "body": "Could you make a list of the word preceding every instance of &quot;Jackson&quot; and loop through it to check if it&#39;s in your nltk.corpus.names?"}, {"owner": {"reputation": 3, "user_id": 7853211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3b2d4612b73db5772386c6d866fb3b?s=128&d=identicon&r=PG&f=1", "display_name": "newreadia", "link": "https://stackoverflow.com/users/7853211/newreadia"}, "edited": false, "score": 0, "creation_date": 1492643238, "post_id": 43507338, "comment_id": 74069645, "body": "I thought about creating a concordance and then checking for any names from the list in the corpus, but then there is the matter of getting the concordance in NLTK to output to variable (which it doesn&#39;t want to do) as well as tuning the concordance length so that it would catch the names, but not over catch. I thought I would look into this first as it seemed like if I could just go ([any from this list] + &quot;Jackson&quot;) might be the most straightforward way. Also, thank you for pointing out the NLTK names list. That might be a better way to go about assembling the first names."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7853211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3b2d4612b73db5772386c6d866fb3b?s=128&d=identicon&r=PG&f=1", "display_name": "newreadia", "link": "https://stackoverflow.com/users/7853211/newreadia"}, "edited": false, "score": 1, "creation_date": 1492644580, "post_id": 43507542, "comment_id": 74070040, "body": "This works wonderfully! Thank you so much for your help on this. I just tested it and I&#39;ve already got it up and running."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 0, "last_activity_date": 1492643384, "creation_date": 1492643384, "answer_id": 43507542, "question_id": 43507338, "link": "https://stackoverflow.com/questions/43507338/how-to-count-any-name-from-a-list-of-names-specific-last-name-in-a-block-o/43507542#43507542", "title": "How to count [any name from a list of names] + [specific last name] in a block of text?", "body": "<p>I propose to use regular expressions in combination with the list of names from NLTK. Suppose your text is:</p>\n\n<pre><code>text = \"I met Fred Jackson and Mary Jackson in Jackson Mississippi\"\n</code></pre>\n\n<p>Take a list of all names and convert it in a (huge) regular expression:</p>\n\n<pre><code>jackson_names = re.compile(\"|\".join(w + r\"\\s+\" + \"Jackson\" \\\n                           for w in nltk.corpus.names.words()))\n</code></pre>\n\n<p>In case you are not familiar with regular expressions, <code>r'\\s+'</code> means \"separated by one or more white spaces\" and <code>\"|\"</code> means \"or\". The regular expression can be expanded to handle other last names.</p>\n\n<p>Now, extract all \"Jackson\" matches from your text:</p>\n\n<pre><code>jackson_catch = jackson_names.findall(text)\n#['Fred Jackson', 'Mary Jackson']\nlen(jackson_catch)\n#2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1492643721, "post_id": 43507595, "comment_id": 74069787, "body": "Regardless of everything else, make sure that <code>FIRST_NAMES</code> is a set, not a list, because large lists have horrible lookup time."}, {"owner": {"reputation": 1961, "user_id": 7022459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/646lY.png?s=128&g=1", "display_name": "Apollys supports Monica", "link": "https://stackoverflow.com/users/7022459/apollys-supports-monica"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1492643968, "post_id": 43507595, "comment_id": 74069866, "body": "I will add a note about that :)"}, {"owner": {"reputation": 3, "user_id": 7853211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3b2d4612b73db5772386c6d866fb3b?s=128&d=identicon&r=PG&f=1", "display_name": "newreadia", "link": "https://stackoverflow.com/users/7853211/newreadia"}, "edited": false, "score": 0, "creation_date": 1492646515, "post_id": 43507595, "comment_id": 74070550, "body": "Taking at look at this as well and will update when I get it working in the larger picture. Thank you very much for this as well!"}], "tags": [], "owner": {"reputation": 1961, "user_id": 7022459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/646lY.png?s=128&g=1", "display_name": "Apollys supports Monica", "link": "https://stackoverflow.com/users/7022459/apollys-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1492643900, "last_edit_date": 1492643900, "creation_date": 1492643653, "answer_id": 43507595, "question_id": 43507338, "link": "https://stackoverflow.com/questions/43507338/how-to-count-any-name-from-a-list-of-names-specific-last-name-in-a-block-o/43507595#43507595", "title": "How to count [any name from a list of names] + [specific last name] in a block of text?", "body": "<p>Let's start by assuming that you are able to work with your data by iterating through words, e.g.</p>\n\n<pre><code>s = 'Hello. I am a string.'\ns.split()\nOutput: ['Hello.', 'I', 'am', 'a', 'string.']\n</code></pre>\n\n<p>and you have managed to normalize the words by eliminating punctuation, capitalization, etc.</p>\n\n<p>So you have a list of words <code>words_list</code> (which is your text converted into a list) and an index <code>i</code> at which you think there might be a city name, OR it might be someone's last name falsely identified as a city name.  Let's call your list of first names <code>FIRST_NAMES</code>, which should be of type <code>set</code> (see comments).</p>\n\n<pre><code>if i &gt;= 1:\n  prev_word = words_list[i-1]\n  if prev_word in FIRST_NAMES:\n    # put false positive code here\n  else:\n    # put true positive code here\n</code></pre>\n\n<hr>\n\n<p>You may also prefer to use regular expressions, as they are more flexible and more powerful.  For example, you may notice that even after implementing this, you still have false positives or false negatives for some previously unforeseen reason.  RE's could allow you to quickly adapt to the new problem.</p>\n\n<p>On the other hand, if performance is a primary concern, you may be better off not using something so powerful and flexible, so that you can hone your algorithm to fit your specific requirements and run as efficiently as possible.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7853211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3b2d4612b73db5772386c6d866fb3b?s=128&d=identicon&r=PG&f=1", "display_name": "newreadia", "link": "https://stackoverflow.com/users/7853211/newreadia"}, "edited": false, "score": 0, "creation_date": 1492646668, "post_id": 43507902, "comment_id": 74070583, "body": "I&#39;ll take a look at this as well and see what I might be able to do with this. Thanks for the heads up on this!"}], "tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 0, "last_activity_date": 1492645776, "creation_date": 1492645776, "answer_id": 43507902, "question_id": 43507338, "link": "https://stackoverflow.com/questions/43507338/how-to-count-any-name-from-a-list-of-names-specific-last-name-in-a-block-o/43507902#43507902", "title": "How to count [any name from a list of names] + [specific last name] in a block of text?", "body": "<blockquote>\n  <p>The current problem I am having is figuring out how to remove false positives from city names that are also last names. So, for instance, I would want to count, say Jackson Mississippi, but not count \u201cFrank Jackson\u201d \u201cJane Jackson\u201d etc\u2026</p>\n</blockquote>\n\n<p>The problem you have is called \"named entity recognition\", and is best solved with a classifier that takes multiple cues into account to find the named entities and classify them according to type (PERSON, ORGANIZATION, LOCATION, etc., or a similar list).</p>\n\n<p><a href=\"http://www.nltk.org/book/ch07.html\" rel=\"nofollow noreferrer\">Chapter 7</a> in the nltk book, and especially <a href=\"http://www.nltk.org/book/ch07.html#developing-and-evaluating-chunkers\" rel=\"nofollow noreferrer\">section 3, Developing and evaluating chunkers</a>, walks you through the process of building and training a recognizer. Alternatively, you could install the Stanford named-entity recognizer and measure its performance on your data.</p>\n"}], "owner": {"reputation": 3, "user_id": 7853211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3b2d4612b73db5772386c6d866fb3b?s=128&d=identicon&r=PG&f=1", "display_name": "newreadia", "link": "https://stackoverflow.com/users/7853211/newreadia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 43507542, "answer_count": 3, "score": 0, "last_activity_date": 1492645776, "creation_date": 1492642047, "last_edit_date": 1492642897, "question_id": 43507338, "link": "https://stackoverflow.com/questions/43507338/how-to-count-any-name-from-a-list-of-names-specific-last-name-in-a-block-o", "title": "How to count [any name from a list of names] + [specific last name] in a block of text?", "body": "<p>first time post here. I\u2019m hoping I can find a little help on something I\u2019m trying to accomplish in terms of text analysis. </p>\n\n<p>First, I\u2019m doing this in python and would like to remain in python as this function would be part of a larger, otherwise healthy tool I\u2019m happy with. I have NLKT and Anaconda all set up as well, so drawing on those resources is also possible.</p>\n\n<p>I\u2019ve been working on a tool that tracks and adds up references to city names in large blocks of text. For instance, the tool can count how many times \u201cChicago,\u201d \u201cNew York\u201d or \u201cLos Angeles,\u201d \u201cSan Francisco\u201d etc\u2026 are detected in a text chunk and can rank them. </p>\n\n<p>The current problem I am having is figuring out how to remove false positives from city names that are also last names. So, for instance, I would want to count, say Jackson Mississippi, but not count \u201cFrank Jackson\u201d \u201cJane Jackson\u201d etc\u2026</p>\n\n<p>What I would like to do however is figure out a way to account for any false positive that might be [any name from a long list of first names] + [Select last name]. </p>\n\n<p>I have assembled a list of ~5000 first names from the census data that I can also bring into python as a list. I can also check true/false to find if a name is on that list, so I know I\u2019m getting closer.</p>\n\n<p>However, what I can\u2019t figure out is how to express what I want, which is something like (I\u2019ll use Jackson as an example again):</p>\n\n<pre><code>totalfirstnamejacksoncount = count (\u201c[any name from census list] + Jackson\u201d)\n</code></pre>\n\n<p>More or less. Is there some way I can phrase it as a wildcard from census list so ? Set a variable that would read as \u201cany item in this list\u201d so I could go \u201canynamevariable + Jackson,\u201d?  Or is there any other way to denote something like \u201cany word in census list + Jackson\u201d? </p>\n\n<p>Ideally, my aim is to get a total count of \u201c[Any first name] + [Specified last name]\u201d so I can a) subtract them from the total of [Last name that is also a city name] count and maybe use that count for some other refinements. </p>\n\n<p>In a worst case scenario I can see a way I could directly modify the census list and add  Jackson (or whatever last name I need) to each name and have the lines manually add, but I feel like that would make a complete mess of my code when you look at ~5000 names for each name I\u2019d like to do. </p>\n\n<p>Sorry for the long-winded post. I appreciate your help with all this. If you have other suggestions you think might be better ways to approach it I\u2019m happy to hear those out as well. </p>\n"}, {"tags": ["python", "menu", "pydev", "user-defined-functions"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7892448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5cec9fd6316feec1c7184e819b243d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bonkoski", "link": "https://stackoverflow.com/users/7892448/paul-bonkoski"}, "edited": false, "score": 0, "creation_date": 1492643438, "post_id": 43507466, "comment_id": 74069702, "body": "Oh ha thanks! And yeah it&#39;s a bad habit that I keep forgetting about. Keeping that in mind there."}], "tags": [], "owner": {"reputation": 66, "user_id": 3957945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7805c7719c4dc68c65e1f49ce76e17?s=128&d=identicon&r=PG&f=1", "display_name": "mule.ear", "link": "https://stackoverflow.com/users/3957945/mule-ear"}, "is_accepted": false, "score": 1, "last_activity_date": 1492642833, "creation_date": 1492642833, "answer_id": 43507466, "question_id": 43507314, "link": "https://stackoverflow.com/questions/43507314/how-to-write-a-menu-driven-python-program-that-works-with-an-address-book-pydev/43507466#43507466", "title": "How to write a menu driven python program that works with an address book? Pydev", "body": "<p>In <code>option=input('Pick your option: ')</code>, option is a string. You could either convert it to an int, or test it with </p>\n\n<pre><code>if option=='1':\n</code></pre>\n\n<p>And - not to be picky, but you might want to consider 'elif'</p>\n"}], "owner": {"reputation": 1, "user_id": 7892448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5cec9fd6316feec1c7184e819b243d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Bonkoski", "link": "https://stackoverflow.com/users/7892448/paul-bonkoski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492642833, "creation_date": 1492641924, "question_id": 43507314, "link": "https://stackoverflow.com/questions/43507314/how-to-write-a-menu-driven-python-program-that-works-with-an-address-book-pydev", "title": "How to write a menu driven python program that works with an address book? Pydev", "body": "<pre><code>def write():\n    writefile=input(\"Please enter the last name: \")\n    name=input(\"Please enter your name:\")\n    street=input(\"Enter House Number and Street Name:\")\n    city=input('Enter City, State and ZIP:')\n    home=input('Enter Home Phone Number:')\n    mobile=input('Enter Cell Phone Number:')\n    outfile=open('C:\\\\Users\\\\Force\\workspace\\addressbook.txt','w')\n    outfile.write(\"Added \"+name+writefile)\n    outfile.write(street+city+home+mobile)\n    outfile.close()\ndef read():\n    phonebook=open(\"C:\\\\Users\\\\Force\\workspace\\addressbook.txt\",'r')\n    numEntries=0\n    lastName=phonebook.readline().rstrip()\n    while lastName!='':\n        firstName=phonebook.readline().rstrip()\n        street=phonebook.readline().rstrip()\n        city=phonebook.readline().rstrip()\n        homephone=phonebook.readline().rstrip()\n        mobilephone=phonebook.readline().rstrip()\n        numEntries=numEntries+1\n        LastName=phonebook.readline().rstrip()\ndef menu():\n    print('1: Look up person by last name')\n    print('2: Add a person to the address book')\n    print('3: Quit')\n    option=input('Pick your option: ')\n    if option==1:\n        read()\n    if option==2:\n        write()\n    if option==3:\n        print(\"Good bye!\")\nmenu()\n</code></pre>\n\n<p>Every time it brings me to the menu and I try selecting an option it just terminates the program. Not sure if it's my user defined functions, the opening of the text file or even just all of it. (Using Pydev 3.6)</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1492641925, "post_id": 43507290, "comment_id": 74069227, "body": "Please make the example smaller. There is a lot of code there unrelated to making a button work. See <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492641947, "post_id": 43507290, "comment_id": 74069235, "body": "This perhaps: <code>command=lambda: self.connect</code> .... that doesn&#39;t call connect. Likely <code>command=self.connect</code> will do. Or <code>command=lambda: self.connect(&#39;other stuff&#39;)</code> if you meant to add parameters."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "edited": false, "score": 0, "creation_date": 1492696188, "post_id": 43507380, "comment_id": 74096222, "body": "Thank you! Just a follow up, if I call function with arguments with a button, would command=self.connect(arg1, arg2) work?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "edited": false, "score": 0, "creation_date": 1492696624, "post_id": 43507380, "comment_id": 74096602, "body": "@HansongLi: no. That&#39;s when you might want to use <code>lambda</code> or <code>functools.partial</code>. The important thing here is to not memorize rules, but understand what is actually required. You must provide a <i>callable</i>  for the <code>command</code>.  <a href=\"http://stackoverflow.com/questions/111234/what-is-a-callable-in-python\" title=\"what is a callable in python\">stackoverflow.com/questions/111234/what-is-a-callable-in-pyt&zwnj;&#8203;hon</a>"}, {"owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "edited": false, "score": 0, "creation_date": 1492698923, "post_id": 43507380, "comment_id": 74098518, "body": "Thanks a lot! I will look into it."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1492642297, "creation_date": 1492642297, "answer_id": 43507380, "question_id": 43507290, "link": "https://stackoverflow.com/questions/43507290/tkinter-function-not-called-when-button-pressed/43507380#43507380", "title": "tkinter: function not called when button pressed", "body": "<p><code>lambda: self.connect</code> doesn't call connect. In this case there is no need for <code>lambda</code>, just directly reference the function. As a general rule of thumb, buttons should always be tied directly to functions rather than using <code>lambda</code></p>\n\n<pre><code>connect_button = ttk.Button(..., command=self.connect)\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 43507380, "answer_count": 1, "score": -2, "last_activity_date": 1492642297, "creation_date": 1492641727, "question_id": 43507290, "link": "https://stackoverflow.com/questions/43507290/tkinter-function-not-called-when-button-pressed", "title": "tkinter: function not called when button pressed", "body": "<p>This is a minimal example I made to show the problem, and it is extracted from a large project so please forgive the naming. So basically I have an GUI that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vGzfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vGzfH.png\" alt=\"enter image description here\"></a></p>\n\n<p>the connect button and BE\\RP... buttons belongs to a frame (control_container), which is like a navigator or tab selector that should always show up, and the info button belongs to another frame (container), which, when you click on BE\\RP... buttons, should change to those corresponding frame class, and it does. what confused me is that when clicking the connect button, it should call function connect and do a print. However, it doesn't work: when you click on it, simply nothing happened. But I do know that the program recognize the connect function since it would complain if you delete the function. For contrast, if you click on info on StartPage, it works just fine and print. This is really strange to me.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\nfrom tkinter import *\n\n\n\nclass emcAutoApp(tk.Tk):\n\n    def __init__(self, *args, **kwargs):\n\n        tk.Tk.__init__(self, *args, **kwargs)\n\n\n        self.control_container = tk.Frame(self)\n        self.control_container.pack(side=\"top\", fill=\"both\", expand = True)\n\n\n        container = tk.Frame(self, width=768, height=576, bg=\"\")\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        container.grid_rowconfigure(0, weight=1)     \n        container.grid_columnconfigure(0, weight=1)\n\n        self.frames = {}\n\n        for F in (StartPage, BE, RP, PreScan, RSE):\n            frame = F(container, self)\n            self.frames[F] = frame\n            frame.grid(row=0, column = 0, sticky='nsew')\n\n        self.show_frame(StartPage)\n\n    def show_frame(self, cont):\n\n        frame = self.frames[cont]\n        frame.tkraise()\n\n    def get_page(self, page_class):\n        return self.frames[page_class]\n\n\nclass StartPage(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n\n        self.frame_controller = controller\n\n        #control frame starts here\n        control_frame = ttk.Frame(self.frame_controller.control_container)\n        control_frame.pack(side='top')\n\n        chamber_frame = Frame(control_frame,\n                           borderwidth=5,   \n                           relief=RIDGE,\n                           width=200\n                          )\n        chamber_frame.pack(side=TOP, expand=YES, fill=X)\n\n        chamber_frame_1 = Frame(chamber_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        chamber_frame_1.pack(side=LEFT, expand=YES, fill=X)\n\n        chamber_frame_2 = Frame(chamber_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        chamber_frame_2.pack(side=LEFT, expand=YES, fill=X)\n\n\n        connect_button = ttk.Button(chamber_frame_2, text=\"connect\", command=lambda: self.connect)\n        connect_button.pack()\n\n        tab_frame = Frame(control_frame,\n                           borderwidth=5,   \n                           relief=RIDGE,\n                           width=500\n                          )\n        tab_frame.pack(side=TOP, expand=YES, fill=X)\n\n        tab_frame_1 = Frame(tab_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        tab_frame_1.pack(side=LEFT, expand=YES, fill=X)\n\n        tab_frame_2 = Frame(tab_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        tab_frame_2.pack(side=LEFT, expand=YES, fill=X)\n\n        tab_frame_3 = Frame(tab_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        tab_frame_3.pack(side=LEFT, expand=YES, fill=X)\n\n        tab_frame_4 = Frame(tab_frame,\n                           borderwidth=1,   \n                           relief=RIDGE,\n                           width=100\n                          )\n        tab_frame_4.pack(side=LEFT, expand=YES, fill=X)\n\n        BE_button = ttk.Button(tab_frame_1, text=\"BE\", \n                            command=lambda: self.frame_controller.show_frame(BE))\n        BE_button.pack()\n\n        RP_button = ttk.Button(tab_frame_2, text=\"RP\", \n                            command=lambda: self.frame_controller.show_frame(RP))\n        RP_button.pack()\n\n        PreScan_button = ttk.Button(tab_frame_3, text=\"PreScan\", \n                            command=lambda: self.frame_controller.show_frame(PreScan))\n        PreScan_button.pack()\n\n        RSE_button = ttk.Button(tab_frame_4, text=\"RSE\", \n                            command=lambda: self.frame_controller.show_frame(RSE))\n        RSE_button.pack()\n\n\n        infobutton = ttk.Button(self, text = \"info\", command = self.info)\n        infobutton.pack()\n\n\n    def info(self):\n        print(\"info\")\n\n    def connect(self):\n        print(\"connected\")\n\nclass BE(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n\n\n        self.frame_controller = controller\n\nclass RP(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n\n\n        self.frame_controller = controller\n\nclass PreScan(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n\n\n        self.frame_controller = controller\n\nclass RSE(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n\n\n        self.frame_controller = controller\n\n\nif __name__ == \"__main__\":\n\n    #=== GUI ===#\n    LARGE_FONT = (\"Verdana\", 12)\n    NORM_FRONT = (\"Verdana\", 10)\n\n    app = emcAutoApp()\n    app.mainloop()\n</code></pre>\n"}, {"tags": ["python", "candlestick-chart"], "answers": [{"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": true, "score": 1, "last_activity_date": 1492648518, "last_edit_date": 1492648518, "creation_date": 1492648101, "answer_id": 43508235, "question_id": 43507288, "link": "https://stackoverflow.com/questions/43507288/plot-intraday-candlestick-with-python/43508235#43508235", "title": "Plot intraday candlestick with python", "body": "<p>Your <code>width</code> setting seems to be wrong, <code>width</code> in the plot should be in terms of <a href=\"http://matplotlib.org/api/finance_api.html\" rel=\"nofollow noreferrer\">fraction of day</a>. In your case, you are setting it to .6 (51840 sec), but your data is sampled every 1 minute (60 sec). Here is your code modified with different width, see below.</p>\n\n<pre><code>from matplotlib.finance import candlestick_ohlc\nimport matplotlib.dates as mdates\nimport numpy as np\nimport pandas as pd\n\ndef main(filename):\n    df = pd.read_csv(filename, sep = ',', parse_dates = True, index_col = ['DateTime'])\n    print 'raw data'\n    print df\n\n    \"\"\"Creating open high low and close from  bid price at every 1 min. in your case, you will get different values for the first minute\n    but for second minute high, low, close and open and are all same\"\"\"\n\n    ohlc_data = df.resample('1Min')['Bid'].ohlc()\n    print 'ohlc data'\n    print ohlc_data\n    ohlc_data = ohlc_data.reset_index()\n    ohlc_data['DateTime'] = ohlc_data['DateTime'].apply(mdates.date2num)\n\n    #plot\n    plt.close('all')\n    fig = plt.figure()\n    ax = plt.subplot2grid((1,1), (0,0))\n    ax.xaxis_date()\n    ax.xaxis.set_major_formatter(mdates.DateFormatter('%y-%m-%d %H:%M:%S'))\n    plt.xticks(rotation=45)\n    plt.xlabel(\"Date\")\n    plt.ylabel(\"Price\")\n    plt.title(\"EURUSD\")\n    # width should in terms of fraction of day, here i choose width of 0.25 min\n    candlestick_ohlc(ax, ohlc_data.values,width = 0.25/(24*60), colorup='#53c156', colordown='#ff1717')\n    plt.show()\n\nif __name__ == \"__main__\":\n    main(\"EUR_USD.csv\")\n</code></pre>\n\n<p>This produces</p>\n\n<pre><code>raw data\n                                Tid Dealable     Pair      Bid      Ask\nDateTime                                                               \n2017-04-09 17:00:04.343  5803730773        D  EUR/USD  1.05855  1.05905\n2017-04-09 17:00:38.593  5803730842        D  EUR/USD  1.05866  1.05896\n2017-04-09 17:00:39.343  5803730879        D  EUR/USD  1.05868  1.05898\n2017-04-09 17:00:41.593  5803730894        D  EUR/USD  1.05871  1.05897\n2017-04-09 17:01:47.843  5803731109        D  EUR/USD  1.05868  1.05898\n\nohlc data\n\n                        open     high      low    close\nDateTime                                               \n2017-04-09 17:00:00  1.05855  1.05871  1.05855  1.05871\n2017-04-09 17:01:00  1.05868  1.05868  1.05868  1.05868\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/z3e88.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3e88.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 87, "user_id": 5294534, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cD23j.jpg?s=128&g=1", "display_name": "wbeuil", "link": "https://stackoverflow.com/users/5294534/wbeuil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 43508235, "answer_count": 1, "score": 0, "last_activity_date": 1492648518, "creation_date": 1492641719, "question_id": 43507288, "link": "https://stackoverflow.com/questions/43507288/plot-intraday-candlestick-with-python", "title": "Plot intraday candlestick with python", "body": "<p>I started to create a program for fun that plot intraday candlestick but I struggle with it. If someone can help me with it.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndef main(filename):\n    df = pd.read_csv(filename, sep = ',', parse_dates = ['DateTime'])\n\n    del df['Tid']\n    del df['Dealable']\n    del df['Pair']\n    del df['Ask']\n\n    df = df.set_index(['DateTime'])\n\n    df.index = pd.to_datetime(df.index, unit='s')\n\n    # group every 1 minutes and create OHLC\n    data = df.resample('1Min').ohlc()\n\n    # groupe our ohlc data\n    ohlc_data = data.reset_index()\n    ohlc_data['DateTime'] = ohlc_data['DateTime'].apply(mdates.date2num)\n\n    plt.close('all')\n    fig = plt.figure()\n    ax = plt.subplot2grid((1,1), (0,0))\n    ax.xaxis_date()\n    ax.xaxis.set_major_formatter(mdates.DateFormatter('%y-%m-%d %H:%M:%S'))\n    plt.xticks(rotation=45)\n    plt.xlabel(\"Date\")\n    plt.ylabel(\"Price\")\n    plt.title(\"EURUSD\")\n    candlestick_ohlc(ax, ohlc_data.values, width=.6, colorup='#53c156', colordown='#ff1717')\n    plt.show()\n\nif __name__ == \"__main__\":\n    main(\"EUR_USD.csv\")\n</code></pre>\n\n<p>The EUR_USD.csv file of form:\nTid,Dealable,Pair,DateTime,Bid,Ask\n5803730773,D,EUR/USD,2017-04-09 17:00:04.343000000,1.058550,1.059050\n5803730842,D,EUR/USD,2017-04-09 17:00:38.593000000,1.058660,1.058960\n5803730879,D,EUR/USD,2017-04-09 17:00:39.343000000,1.058680,1.058980\n5803730894,D,EUR/USD,2017-04-09 17:00:41.593000000,1.058710,1.058970\n5803731109,D,EUR/USD,2017-04-09 17:01:47.843000000,1.058680,1.058980</p>\n"}, {"tags": ["python", "python-2.7", "beautifulsoup"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492643789, "post_id": 43507221, "comment_id": 74069811, "body": "Why are you using a regexp to find the numbers instead of using BeautifulSoup to find the <code>&lt;span&gt;</code> that contains the number?"}, {"owner": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492653286, "post_id": 43507221, "comment_id": 74072232, "body": "@Barmar to be honest, I&#39;m not too familiar with Beautiful soup. Is there an easier way to do it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492664396, "post_id": 43507221, "comment_id": 74075186, "body": "The same way you found the <code>td</code> element, you can also find the <code>span</code> inside it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492664437, "post_id": 43507221, "comment_id": 74075200, "body": "<code>for span in d.findAll(&#39;span&#39;):</code>"}], "answers": [{"tags": [], "owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "is_accepted": true, "score": 1, "last_activity_date": 1492642388, "last_edit_date": 1492642388, "creation_date": 1492641769, "answer_id": 43507295, "question_id": 43507221, "link": "https://stackoverflow.com/questions/43507221/why-does-beautifulsoup-in-python-script-only-return-some-of-the-numbers-from-h/43507295#43507295", "title": "Why does BeautifulSoup (in Python script) only return some of the numbers from HTML", "body": "<p><code>re.search</code> only returns the first match: <a href=\"https://docs.python.org/2/library/re.html#re.search\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/re.html#re.search</a></p>\n\n<p>You can pull out all of the strings with <a href=\"https://docs.python.org/2/library/re.html#re.finditer\" rel=\"nofollow noreferrer\"><code>re.finditer()</code></a>:</p>\n\n<pre><code>for i in re.finditer('([0-9]+)',str(d.findAll(text=True))):\n    search1.append(i.group(0))\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 43507295, "answer_count": 1, "score": 1, "last_activity_date": 1492642388, "creation_date": 1492641325, "question_id": 43507221, "link": "https://stackoverflow.com/questions/43507221/why-does-beautifulsoup-in-python-script-only-return-some-of-the-numbers-from-h", "title": "Why does BeautifulSoup (in Python script) only return some of the numbers from HTML", "body": "<p>Due to some help I received from here, I was able to put together a Python script that allows me to pull numbers from HTML data. However, for some reason, not all of the numbers are being pulled even though I believe I am using the correct criteria in my findall() method. Here is what my script looks like:</p>\n\n<pre><code>search1 = []\nsoup = BeautifulSoup(data_payload, 'html.parser')\ndata = soup.findAll(\"td\", {\"class\":\"confluenceTd\"})\nfor d in data:\n    m = re.search('([0-9]+)',str(d.findAll(text=True)))\n    if m:\n        search1.append(m.group(0))\n\nprint search1\n</code></pre>\n\n<p>Here is a sample of HTML where the numbers ARE all pulled:</p>\n\n<pre><code>&lt;td class=\"confluenceTd\"&gt;\n         &lt;span&gt;\n          AutoRun\n         &lt;/span&gt;\n        &lt;/td&gt;\n        &lt;td class=\"confluenceTd\"&gt;\n         &lt;span&gt;\n          1514444\n         &lt;/span&gt;\n        &lt;/td&gt;\n        &lt;td class=\"confluenceTd\" colspan=\"1\"&gt;\n         &lt;span style=\"color: rgb(0,0,0);\"&gt;\n          61888758\n         &lt;/span&gt;\n</code></pre>\n\n<p>And in the sample below, only \"63811289\" is getting pulled but nothing else:</p>\n\n<pre><code>&lt;td class=\"confluenceTd\" colspan=\"1\"&gt;\n         &lt;p&gt;\n          CSY: 63811289, 62277372, 612377891, 653856796\n         &lt;/p&gt;\n         &lt;p&gt;\n          RTY: 54346678\n         &lt;/p&gt;\n         &lt;/td&gt;\n</code></pre>\n\n<p>Any help would be appreciated. Thanks.</p>\n"}, {"tags": ["python", "matplotlib", "cgi"], "comments": [{"owner": {"reputation": 3013, "user_id": 3545745, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/1hd2s.jpg?s=128&g=1", "display_name": "nick_gabpe", "link": "https://stackoverflow.com/users/3545745/nick-gabpe"}, "edited": false, "score": 0, "creation_date": 1492640896, "post_id": 43507117, "comment_id": 74068899, "body": "Did you install pwd module? If you on windws you should use winpwd"}, {"owner": {"reputation": 29, "user_id": 5812489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0aed0cd4b18a1b1c9b82d38ed9d7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Storbod", "link": "https://stackoverflow.com/users/5812489/storbod"}, "reply_to_user": {"reputation": 3013, "user_id": 3545745, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/1hd2s.jpg?s=128&g=1", "display_name": "nick_gabpe", "link": "https://stackoverflow.com/users/3545745/nick-gabpe"}, "edited": false, "score": 0, "creation_date": 1492643471, "post_id": 43507117, "comment_id": 74069711, "body": "Pip cannot find any module called pwd or winpwd"}, {"owner": {"reputation": 4758, "user_id": 1382869, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/a96J8.jpg?s=128&g=1", "display_name": "ngoldbaum", "link": "https://stackoverflow.com/users/1382869/ngoldbaum"}, "edited": false, "score": 0, "creation_date": 1492643851, "post_id": 43507117, "comment_id": 74069827, "body": "What python version are you using? <code>getpass.getuser()</code> is supposed to work on Windows."}, {"owner": {"reputation": 4758, "user_id": 1382869, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/a96J8.jpg?s=128&g=1", "display_name": "ngoldbaum", "link": "https://stackoverflow.com/users/1382869/ngoldbaum"}, "edited": false, "score": 0, "creation_date": 1492643912, "post_id": 43507117, "comment_id": 74069850, "body": "I think your Python is broken? This is supposed to work. How did you install Python? See e.g. <a href=\"https://github.com/conda-forge/matplotlib-feedstock/issues/114\" rel=\"nofollow noreferrer\">github.com/conda-forge/matplotlib-feedstock/issues/114</a>"}, {"owner": {"reputation": 29, "user_id": 5812489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0aed0cd4b18a1b1c9b82d38ed9d7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Storbod", "link": "https://stackoverflow.com/users/5812489/storbod"}, "edited": false, "score": 0, "creation_date": 1492644684, "post_id": 43507117, "comment_id": 74070083, "body": "I run python 3.6.1 downloaded from python.org while all required modules are installed via pip. I&#39;m quite a noob at this so i wont be surprised if that&#39;s not how it&#39;s supposed to be done"}, {"owner": {"reputation": 29, "user_id": 5812489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0aed0cd4b18a1b1c9b82d38ed9d7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Storbod", "link": "https://stackoverflow.com/users/5812489/storbod"}, "edited": false, "score": 0, "creation_date": 1492645625, "post_id": 43507117, "comment_id": 74070334, "body": "I downloaded python 3.6.1 64-bit instead and reinstalled all my modules. No difference"}, {"owner": {"reputation": 29, "user_id": 5812489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0aed0cd4b18a1b1c9b82d38ed9d7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Storbod", "link": "https://stackoverflow.com/users/5812489/storbod"}, "edited": false, "score": 0, "creation_date": 1492688348, "post_id": 43507117, "comment_id": 74089994, "body": "I tried installing anaconda instead but i get the same errors"}], "owner": {"reputation": 29, "user_id": 5812489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0aed0cd4b18a1b1c9b82d38ed9d7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Storbod", "link": "https://stackoverflow.com/users/5812489/storbod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1492640757, "creation_date": 1492640757, "question_id": 43507117, "link": "https://stackoverflow.com/questions/43507117/modulenotfounderror-no-module-named-pwd-using-matplotlib-via-cgi-on-windows", "title": "ModuleNotFoundError: No module named &#39;pwd&#39;, using matplotlib via cgi on windows", "body": "<p>I have a simple webpage that is using a python script and cgi to display some data. I'm trying do import matplotlib when i get the following error:</p>\n\n<pre><code> C:\\wampstack-5.6.24-0\\apache2\\cgi-bin\\makeImage.py in ()\n     10 \n     11 #For plotting\n=&gt;   12 import matplotlib.pyplot as pyplot\n     13 \n     14 #Setting the image size\nmatplotlib undefined, pyplot undefined\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in ()\n   1180 \n   1181 # this is the instance used by the matplotlib classes\n=&gt; 1182 rcParams = rc_params()\n   1183 \n   1184 if rcParams['examples.directory']:\nrcParams undefined, rc_params = &lt;function rc_params&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in rc_params(fail_on_error=False)\n   1013     default matplotlib rc file.\n   1014     \"\"\"\n=&gt; 1015     fname = matplotlib_fname()\n   1016     if not os.path.exists(fname):\n   1017         # this should never happen, default in mpl-data should always be found\nfname undefined, global matplotlib_fname = &lt;function matplotlib_fname&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in matplotlib_fname()\n    823                 return fname\n    824 \n=&gt;  825     configdir = _get_configdir()\n    826     if configdir is not None:\n    827         fname = os.path.join(configdir, 'matplotlibrc')\nconfigdir undefined, global _get_configdir = &lt;function _get_configdir&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in _get_configdir()\n    678     5. A writable directory could not be found or created; return None.\n    679     \"\"\"\n=&gt;  680     return _get_config_or_cache_dir(_get_xdg_config_dir())\n    681 \n    682 get_configdir = verbose.wrap('CONFIGDIR=%s', _get_configdir, always=False)\nglobal _get_config_or_cache_dir = &lt;function _get_config_or_cache_dir&gt;, global _get_xdg_config_dir = &lt;function _get_xdg_config_dir&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in _get_config_or_cache_dir(xdg_base=None)\n    655                 return p\n    656 \n=&gt;  657     return _create_tmp_config_dir()\n    658 \n    659 \nglobal _create_tmp_config_dir = &lt;function _create_tmp_config_dir&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\site-packages\\matplotlib\\__init__.py in _create_tmp_config_dir()\n    581         return None\n    582     try:\n=&gt;  583         username = getpass.getuser()\n    584     except KeyError:\n    585         username = str(os.getuid())\nusername undefined, getpass = &lt;module 'getpass' from 'C:\\\\Program Files (x86)\\\\Python36-32\\\\lib\\\\getpass.py'&gt;, getpass.getuser = &lt;function getuser&gt;\n C:\\Program Files (x86)\\Python36-32\\lib\\getpass.py in getuser()\n    166 \n    167     # If this fails, the exception will \"explain\" why\n=&gt;  168     import pwd\n    169     return pwd.getpwuid(os.getuid())[0]\n    170 \npwd undefined\nModuleNotFoundError: No module named 'pwd' \n      args = (\"No module named 'pwd'\",) \n      msg = \"No module named 'pwd'\" \n      name = 'pwd' \n      path = None \n      with_traceback = &lt;built-in method with_traceback of ModuleNotFoundError object&gt;\n</code></pre>\n\n<p>When i google pwd it says it's a linux thing, so whats going on?</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "seaborn", "subplot"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2483446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd89dae949dd10cb385e05e7666f5cfe?s=128&d=identicon&r=PG", "display_name": "jdep", "link": "https://stackoverflow.com/users/2483446/jdep"}, "edited": false, "score": 0, "creation_date": 1492641592, "post_id": 43507177, "comment_id": 74069134, "body": "Is there a way to store the x-axis so that I can use it on the next run through the loop? I don&#39;t want all the plots on one contiguous figure; they need to be saved as individual .png files."}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 143, "user_id": 2483446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd89dae949dd10cb385e05e7666f5cfe?s=128&d=identicon&r=PG", "display_name": "jdep", "link": "https://stackoverflow.com/users/2483446/jdep"}, "edited": false, "score": 0, "creation_date": 1492641906, "post_id": 43507177, "comment_id": 74069221, "body": "you can store x limits in a temp variable. Lets say from zeroth run and apply it for the next run ( first run). But you may have the problem that for the second run, you will be applying limits from first run. you may not want that."}], "tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 0, "last_activity_date": 1492641141, "creation_date": 1492641141, "answer_id": 43507177, "question_id": 43507107, "link": "https://stackoverflow.com/questions/43507107/make-x-axes-of-all-subplots-same-length-on-the-page/43507177#43507177", "title": "Make x-axes of all subplots same length on the page", "body": "<p>To get matching x axis for the subplots (same x axis length for each subplot) , you need to share the x axis between subplots.</p>\n\n<p>See the example here <a href=\"https://matplotlib.org/examples/pylab_examples/shared_axis_demo.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/examples/pylab_examples/shared_axis_demo.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 2483446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd89dae949dd10cb385e05e7666f5cfe?s=128&d=identicon&r=PG", "display_name": "jdep", "link": "https://stackoverflow.com/users/2483446/jdep"}, "edited": false, "score": 0, "creation_date": 1492644515, "post_id": 43507323, "comment_id": 74070020, "body": "That&#39;s what I get for uncritically cannibalizing some code I found. However, when I take away the <code>bbox_inches=&#39;tight&#39;</code>, my y-axis labels only fully appear when I set <code>figsize</code> at a huge x value (&gt;25 inches). Can I somehow force it all into an 8.5x11 inch size?"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 2, "last_activity_date": 1492671315, "last_edit_date": 1492671315, "creation_date": 1492641995, "answer_id": 43507323, "question_id": 43507107, "link": "https://stackoverflow.com/questions/43507107/make-x-axes-of-all-subplots-same-length-on-the-page/43507323#43507323", "title": "Make x-axes of all subplots same length on the page", "body": "<p>Unless you use an axes of specifically defined aspect ratio (like in an imshow plot or by calling <code>.set_aspect(\"equal\")</code>), the space taken by the axes should only depend on the figure size along that direction and the spacings set to the figure. </p>\n\n<p>You are therefore pretty much asking for the default behaviour and the only thing that prevents you from obtaining that is that you use <code>bbox_inches='tight'</code> in the <code>savefig</code> command.</p>\n\n<p><code>bbox_inches='tight'</code> will change the figure size! So don't use it and the axes will remain constant in size. `</p>\n\n<p>Your figure size, defined like <code>figsize=(16, len(line_subset)*0.5)</code> seems to make sense according to what I understand from the question. So what remains is to make sure the axes inside the figure are the size you want them to be. You can do that by manually placing it using <a href=\"https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure.add_axes\" rel=\"nofollow noreferrer\"><code>fig.add_axes</code></a> </p>\n\n<pre><code>fig.add_axes([left, bottom, width, height])\n</code></pre>\n\n<p>where <code>left, bottom, width, height</code> are in figure coordinates ranging from 0 to 1. Or, you can adjust the spacings outside the subplot using <a href=\"https://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure.subplots_adjust\" rel=\"nofollow noreferrer\"><code>subplots_adjust</code></a> </p>\n\n<pre><code>plt.subplots_adjust(left, bottom, right, top)\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 2483446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd89dae949dd10cb385e05e7666f5cfe?s=128&d=identicon&r=PG", "display_name": "jdep", "link": "https://stackoverflow.com/users/2483446/jdep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1492671315, "creation_date": 1492640738, "question_id": 43507107, "link": "https://stackoverflow.com/questions/43507107/make-x-axes-of-all-subplots-same-length-on-the-page", "title": "Make x-axes of all subplots same length on the page", "body": "<p>I am new to matplotlib and trying to create and save plots from pandas dataframes via a loop. Each plot should have an identical x-axis, but different y-axis lengths and labels. I have no problem creating and saving the plots with different y-axis lengths and labels, but when I create the plots, matplotlib rescales the x-axis depending on how much space is needed for the y-axis labels on the left side of the figure.</p>\n\n<p>These figures are for a technical report. I plan to place one on each page of the report and I would like to have all of the x-axes take up the same amount of space on the page.</p>\n\n<p>Here is an MSPaint version of what I'm getting and what I'd like to get.\n<a href=\"https://i.stack.imgur.com/zjf2n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zjf2n.png\" alt=\"MSPaint-drawn plot examples of the problem and desired solution\"></a></p>\n\n<p>Hopefully this is enough code to help. I'm sure there are lots of non-optimal parts of this.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport pylab as pl\nfrom matplotlib import collections as mc\nfrom matplotlib.lines import Line2D\nimport seaborn as sns\n\n# elements for x-axis\nstart = -1600\nend = 2001\ninterval = 200 # x-axis tick interval\nxticks = [x for x in range(start, end, interval)] # create x ticks\n\n# items needed for legend construction\nlw_bins = [0,10,25,50,75,90,100] # bins for line width\nlw_labels = [3,6,9,12,15,18] # line widths\ndef make_proxy(zvalue, scalar_mappable, **kwargs):\n    color = 'black'\n    return Line2D([0, 1], [0, 1], color=color, solid_capstyle='butt', **kwargs)\n\n# generic image ID\nimg_path = r'C:\\\\Users\\\\user\\\\chart'\nimg_ID = 0\n\nfor line_subset in data:\n    # create line collection for this run through loop\n    lc = mc.LineCollection(line_subset)\n\n    # create plot and set properties\n    sns.set(style=\"ticks\")\n    sns.set_context(\"notebook\")\n    fig, ax = pl.subplots(figsize=(16, len(line_subset)*0.5)) # I want the height of the figure to change based on number of labels on y-axis\n                                                              # Figure width should stay the same\n    ax.add_collection(lc)\n    ax.set_xlim(left=start, right=end)\n    ax.set_xticks(xticks)\n    ax.set_ylim(0, len(line_subset)+1)\n    ax.margins(0.05)\n    sns.despine(left=True)\n    ax.xaxis.set_ticks_position('bottom')\n    ax.set_yticks(line_subset['order'])\n    ax.set_yticklabels(line_subset['ylabel'])\n    ax.tick_params(axis='y', length=0)\n\n    # legend\n    proxies = [make_proxy(item, lc, linewidth=item) for item in lw_labels]\n    ax.legend(proxies, ['0-10%', '10-25%', '25-50%', '50-75%', '75-90%', '90-100%'], bbox_to_anchor=(1.05, 1.0), \n              loc=2, ncol=2, labelspacing=1.25, handlelength=4.0, handletextpad=0.5, markerfirst=False, \n              columnspacing=1.0)\n\n    # title\n    ax.text(0, len(line_subset)+2, s=str(img_ID), fontsize=20)\n\n    # save as .png images\n    plt.savefig(r'C:\\\\Users\\\\user\\\\Desktop\\\\chart' + str(img_ID) + '.png', dpi=300, bbox_inches='tight')\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql", "psycopg2"], "answers": [{"comments": [{"owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "edited": false, "score": 0, "creation_date": 1492642616, "post_id": 43507259, "comment_id": 74069444, "body": "I&#39;ve just thought about solution like this :) Thanks, I&#39;ll try."}, {"owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "edited": false, "score": 0, "creation_date": 1492650291, "post_id": 43507259, "comment_id": 74071466, "body": "Yep, that helped. Thanks!"}], "tags": [], "owner": {"reputation": 118, "user_id": 4930621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a01aaefcb8e64a43b62b7bc2594d537?s=128&d=identicon&r=PG&f=1", "display_name": "Thrasd", "link": "https://stackoverflow.com/users/4930621/thrasd"}, "is_accepted": true, "score": 6, "last_activity_date": 1492641533, "creation_date": 1492641533, "answer_id": 43507259, "question_id": 43507066, "link": "https://stackoverflow.com/questions/43507066/django-hangs-on-applying-huge-migration/43507259#43507259", "title": "Django hangs on applying huge migration", "body": "<p>I am unable to make comment, because of too little reputation, so it will have to be an answer. </p>\n\n<p>I do not have a solution, but an idea to a workaround. You can type <a href=\"https://docs.djangoproject.com/en/1.10/ref/django-admin/#django-admin-sqlmigrate\" rel=\"noreferrer\"><code>python manage.py sqlmigrate</code></a> which will show the SQL it performs, and then manually run it towards the database. If this can succeed, you need to add an entry in the database-table <code>django_migrations</code> with the migration name and app for the migration.</p>\n\n<p>I have no idea if this will work, but you might be able to pinpoint the error in the SQL statement and optimize it a bit.</p>\n"}], "owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 43507259, "answer_count": 1, "score": 3, "last_activity_date": 1492641533, "creation_date": 1492640536, "question_id": 43507066, "link": "https://stackoverflow.com/questions/43507066/django-hangs-on-applying-huge-migration", "title": "Django hangs on applying huge migration", "body": "<p>I have a table in Postgres 9.5 with about 7KK rows. Django version is 1.10.5. Database and App are different servers with Ubuntu 16.04.2 within one local network.</p>\n\n<p>Django's gunicorn server is stopped, so no other operations are being executed. I'm going to add one field there:</p>\n\n<pre><code>migrations.AlterField(\n            model_name='balanceentry',\n            name='reason',\n            field=models.CharField(\n                choices=[(b'default', b'Default'), (b'referral', b'Referral'), (b'referrer', b'Referrer'),\n                         (b'random', b'Random'), (b'android_offer', b'Android Offer'), (b'ios_offer', b'iOS Offer'),\n                         (b'offerwall', b'Offerwall'), (b'withdrawal', b'Withdrawal')],\n                default=b'default', db_index=True, max_length=32),\n        ),\n</code></pre>\n\n<p>And then I'm applying it:</p>\n\n<pre><code>$ ./manage.py migrate users 0026_auto_20170419_1758\nOperations to perform:\n  Target specific migration: 0026_auto_20170419_1758, from users\nRunning migrations:\n  Applying users.0026_auto_20170419_1758...\n</code></pre>\n\n<p>And monitoring Postgres with pg_top.</p>\n\n<p>It's doing ALTER for about 15 minutes, then I see this:</p>\n\n<pre><code>34567 postgres  20    0  401M   39M sleep   2:17  0.10%  0.00% postgres: *** *** ip(45200) idle in transaction\n</code></pre>\n\n<p>This does not change for about 10 minutes (only WCPU is changing from 0% to about 0.1% and back).</p>\n\n<p>Then this record disappears (I think this means that client is disconnected), but <code>./manage.py migrate ...</code> does not change its status at all, it just stays \"running\" with no changes (I've waited for about 2 hours).</p>\n\n<p>I tried to restart postgres service, if I do this, it rolls back transaction (I think), frees some disk space, but migrate management command still hangs. It does not even react on Ctrl-C, I can only kill it with -9.</p>\n\n<p>I also noticed that about 1-2 GB free disk space disappears after every attempt.</p>\n\n<p>So, how can I fix this issue?</p>\n"}, {"tags": ["python", "django", "templates"], "answers": [{"tags": [], "owner": {"reputation": 2740, "user_id": 3380209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f59b14e9d68ea636c6a70bc080e1f74?s=128&d=identicon&r=PG&f=1", "display_name": "albar", "link": "https://stackoverflow.com/users/3380209/albar"}, "is_accepted": true, "score": 1, "last_activity_date": 1492677534, "creation_date": 1492677534, "answer_id": 43514381, "question_id": 43507048, "link": "https://stackoverflow.com/questions/43507048/pre-loading-templates-and-template-variables-before-parsing-in-django/43514381#43514381", "title": "Pre loading templates and template variables before parsing in Django", "body": "<p>You have to use the <a href=\"https://docs.djangoproject.com/en/1.10/topics/templates/#usage\" rel=\"nofollow noreferrer\">template loader</a> module, and change your <code>get_document</code> function:</p>\n\n<pre><code>from django.template.loader import render_to_string \ndef get_document(self, context):\n    data = render_to_string('documents\\sample.txt', context)\n    return data.split(\"\\n\\n\")\n</code></pre>\n\n<p>And you call it this way:</p>\n\n<pre><code>context['document'] = self.get_document(context)\n</code></pre>\n\n<p>Before that, you have to modify your <code>settings.TEMPLATES</code> in order for the loader to find your file <code>documents\\sample.txt</code>.</p>\n"}], "owner": {"reputation": 65, "user_id": 7659929, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4a1adc65d001ed364d4c9e4e49f25e7?s=128&d=identicon&r=PG&f=1", "display_name": "MWit", "link": "https://stackoverflow.com/users/7659929/mwit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 43514381, "answer_count": 1, "score": 0, "last_activity_date": 1492677534, "creation_date": 1492640408, "last_edit_date": 1492644594, "question_id": 43507048, "link": "https://stackoverflow.com/questions/43507048/pre-loading-templates-and-template-variables-before-parsing-in-django", "title": "Pre loading templates and template variables before parsing in Django", "body": "<p>I have a txt file I load in views.py and do some work on (right now it's just splitting by paragraph, but later there will be more work done).</p>\n\n<p>Within this document, I have some of Django template tags {{ user.firstName }}, etc.</p>\n\n<p>I send this document to the template to get its HTML added, etc.  But it won't render the tags.  I do know that Django loads the template once and stores it all within a tree for speed.  I just can't find a workaround.  Can I pre-load the document, then have the parser run?  Could I add the HTML tags within the view.py and send it to the template before parsing?</p>\n\n<p>Any ideas or thoughts would be great.</p>\n\n<p>Here is what I have for code:</p>\n\n<p>View.py</p>\n\n<pre><code>class DocumentReview(TemplateView):\ntemplate_name = 'paperwork\\document.html'\n\ndef get_context_data(self, **kwargs):\n    context = super(DocumentReview, self).get_context_data(**kwargs)\n    context['user'] = {'firstName': 'x', 'lastName': 'y'}\n    context['document'] = self.get_document()\n    return context\n\n\ndef get_document(self):\n    module_dir = os.path.dirname(__file__)  # get current directory\n    file_path = os.path.join(module_dir, 'documents\\sample.txt')\n    document = {}\n    with open(file_path, 'r') as fp:\n        data = fp.read()\n        document = data.split(\"\\n\\n\")\n    return document\n</code></pre>\n\n<p>Here is sample.txt:</p>\n\n<pre><code>Hello {{ user.firstName }} {{ user.lastName }},\n\n This is a sample txt file.\n</code></pre>\n\n<p>And this is the document.html</p>\n\n<pre><code>      {% for para in document %}\n                &lt;p&gt;{{ para }}&lt;/p&gt;\n                {% endfor %}\n</code></pre>\n"}, {"tags": ["python", "cntk"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 7179348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61db8bb7852286e3b576b2be6d958311?s=128&d=identicon&r=PG&f=1", "display_name": "Zhou Wang", "link": "https://stackoverflow.com/users/7179348/zhou-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1492670586, "creation_date": 1492670586, "answer_id": 43512075, "question_id": 43507047, "link": "https://stackoverflow.com/questions/43507047/cntk-python-api-evaluating-hidden-layers-multiple-outputs/43512075#43512075", "title": "CNTK Python API: evaluating hidden layers / multiple outputs", "body": "<p>After getting all layers you want, you can use Combine() to create a new Function, then call eval on the new Function. It works in C++, though I have not tried it in Python. </p>\n\n<p><a href=\"https://www.cntk.ai/pythondocs/cntk.ops.html?highlight=combine#cntk.ops.combine\" rel=\"nofollow noreferrer\">https://www.cntk.ai/pythondocs/cntk.ops.html?highlight=combine#cntk.ops.combine</a></p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 7571170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10210316416500795/picture?type=large", "display_name": "Sebastian Kochman", "link": "https://stackoverflow.com/users/7571170/sebastian-kochman"}, "edited": false, "score": 0, "creation_date": 1492731491, "post_id": 43529591, "comment_id": 74115721, "body": "Preparing the last layer of the model using <code>cntk.combine</code> before saving it (per Zhou&#39;s suggestion in another post) and then using <code>as_composite(model.outputs[0].owner).eval(...)</code> after loading the model solved my problem - thanks a lot!"}], "tags": [], "owner": {"reputation": 221, "user_id": 7571544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a45d9ca9410b5e8f913e2f5a28f47acf?s=128&d=identicon&r=PG&f=1", "display_name": "KeD", "link": "https://stackoverflow.com/users/7571544/ked"}, "is_accepted": true, "score": 1, "last_activity_date": 1492721109, "creation_date": 1492721109, "answer_id": 43529591, "question_id": 43507047, "link": "https://stackoverflow.com/questions/43507047/cntk-python-api-evaluating-hidden-layers-multiple-outputs/43529591#43529591", "title": "CNTK Python API: evaluating hidden layers / multiple outputs", "body": "<p>model.outputs[0] is a variable, you can go to its function by model.outputs[0].owner, or as_composite(model.outputs[0].owner) if the owner is a primitive function (which only shows the immediate inputs, vs. composite function that shows the root input variables for mapping)</p>\n\n<p>So try this:</p>\n\n<pre><code>as_composite(model.outputs[0].owner).eval(...)\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7571170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10210316416500795/picture?type=large", "display_name": "Sebastian Kochman", "link": "https://stackoverflow.com/users/7571170/sebastian-kochman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 1, "accepted_answer_id": 43529591, "answer_count": 2, "score": 2, "last_activity_date": 1492721109, "creation_date": 1492640392, "last_edit_date": 1492641506, "question_id": 43507047, "link": "https://stackoverflow.com/questions/43507047/cntk-python-api-evaluating-hidden-layers-multiple-outputs", "title": "CNTK Python API: evaluating hidden layers / multiple outputs", "body": "<p>What are the recommendations for creating, saving, loading and evaluating models with multiple outputs in CNTK Python APIs? (I'm using CNTK 2.0 RC1)</p>\n\n<p>When I define a network in run-time, I can evaluate any layer of the network easily, by passing a minibatch dictionary to the <em>eval</em> function.</p>\n\n<p>However, after I save the model and load it again, I can evaluate only the output node by providing the inputs (and I don't know how to define multiple outputs in Python API). I can access any layer by using the <em>find_all_by_name</em> method, but when I try to evaluate hidden layers using the <em>eval</em> method, it expects me to provide the <strong>layer's immediate input</strong>, rather than relevant network's inputs:</p>\n\n<pre><code>ValueError: No value specified for input Variable 'Output('Block1958_Output_0', [#], [1024 x 200])' of Function 'Dense: Output('Block1958_Output_0', [#], [1024\nx 200]) -&gt; Output('conversation_vector', [#], [100])'. \n</code></pre>\n\n<p>I only found the following documentation on the topic, which applies to Brainscript: <a href=\"https://github.com/Microsoft/CNTK/wiki/CNTK-Evaluate-Hidden-Layers\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/CNTK/wiki/CNTK-Evaluate-Hidden-Layers</a> -- I couldn't find anything specific to Python API.</p>\n"}, {"tags": ["python", "python-3.x", "types", "interface", "abstract-class"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1492640864, "post_id": 43507024, "comment_id": 74068881, "body": "1. Not as far as I&#39;m aware. 2. As you note, the <i>&quot;string-like containers&quot;</i> <i>are</i> sequences, of single-character strings/bytes (<code>ByteString</code> inherits <code>Sequence</code>, even), so <i>&quot;vs&quot;</i> doesn&#39;t really make sense. In many cases a string would be considered a perfectly valid argument to a function or method that takes a sequence, so you&#39;ll have to be explicit when that is not the case."}, {"owner": {"reputation": 915, "user_id": 514210, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9cd0a17ca7e2987d65320b5aacaa043a?s=128&d=identicon&r=PG", "display_name": "DGrady", "link": "https://stackoverflow.com/users/514210/dgrady"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1492732643, "post_id": 43507024, "comment_id": 74116004, "body": "@jonrsharpe thanks for the comments! I&#39;d argue that &quot;<i>vs</i>&quot; could be appropriate, depending on the situation. Often, I&#39;m thinking of strings (bytes, etc) as single atomic data points, and I want to know, am I dealing with a list-like container of string-like items, or am I dealing with a single string-like item. One place this comes up is using a recursive function to flatten a nested dictionary, for example \u2014 inside the recursive function you&#39;d like to dispatch on the type of the item."}], "answers": [{"tags": [], "owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "is_accepted": true, "score": 1, "last_activity_date": 1493779116, "creation_date": 1493779116, "answer_id": 43750171, "question_id": 43507024, "link": "https://stackoverflow.com/questions/43507024/how-to-test-for-sequences-that-are-not-string-like-using-python-3s-standard-lib/43750171#43750171", "title": "How to test for sequences that are not string-like using Python 3&#39;s standard library", "body": "<p>No, there is nothing in the standard library to easily distinguish between <code>str</code> and <code>bytes</code>-like sequences vs other sequence types.  If this is common in your code-base then you may want to roll your own.</p>\n"}], "owner": {"reputation": 915, "user_id": 514210, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9cd0a17ca7e2987d65320b5aacaa043a?s=128&d=identicon&r=PG", "display_name": "DGrady", "link": "https://stackoverflow.com/users/514210/dgrady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 43750171, "answer_count": 1, "score": 7, "last_activity_date": 1493779116, "creation_date": 1492640261, "last_edit_date": 1492640417, "question_id": 43507024, "link": "https://stackoverflow.com/questions/43507024/how-to-test-for-sequences-that-are-not-string-like-using-python-3s-standard-lib", "title": "How to test for sequences that are not string-like using Python 3&#39;s standard library", "body": "<p>For some time, Python has had <a href=\"https://docs.python.org/3/library/abc.html\" rel=\"noreferrer\">Abstract Base Classes</a> (proposed orignally in <a href=\"https://www.python.org/dev/peps/pep-3119/\" rel=\"noreferrer\">PEP 3119</a>) that, especially for container types, make it easier to write code that generalizes across custom types. For example,</p>\n\n<pre><code>from collections.abc import Sequence, Set\n\nif isinstance(x, Sequence):\n    # Handle lists, tuples, or custom objects that behave like lists\nelif isinstance(x, Set):\n    # Handle anything that behaves like a set\n</code></pre>\n\n<p>One of the \u2018gotchas\u2019 that\u2019s tripped me up a few times is that <code>str</code>, <code>bytes</code>, and <code>bytearray</code> are all considered <code>Sequence</code>s, in addition to more obviously list-like objects:</p>\n\n<pre><code>from collections.abc import ByteString, Sequence\n\ns = 'hello'\nb = b'hello'\nba = bytearray(b'hello')\nlst = [0, 1, 2]\nt = (0, 1, 2)\n\nislistlike = lambda x: isinstance(x, Sequence)\n\nlist(map(islistlike, [s, b, ba, lst, t])) # -&gt; [True, True, True, True, True]\n</code></pre>\n\n<p>This certainly makes sense: usually these three types behave just like lists or tuples of characters (or bytes). However, it seems like a pretty common use case to ask, is this object <code>x</code> both list-like and not string-like? The fix is straightforward:</p>\n\n<pre><code>islistlike = lambda x: isinstance(x, Sequence) and not isinstance(x, (str, ByteString))\n\nlist(map(islistlike, [s, b, ba, lst, t])) # -&gt; [False, False, False, True, True]\n</code></pre>\n\n<p>But this seems like it would be a common enough pattern that I wonder if I'm missing something in the standard library.</p>\n\n<ul>\n<li>Is there any <code>abc</code> in Python's standard library such that <code>islistlike = lambda x: isinstance(x, abc)</code> will behave like the last example above?</li>\n<li>Is there any design discussion around <code>Sequence</code> vs string-like containers somewhere? (I haven't found anything related to this in the standard library documentation or PEP 3119.)</li>\n</ul>\n"}, {"tags": ["python", "django", "forms", "validation", "audio"], "answers": [{"tags": [], "owner": {"reputation": 10207, "user_id": 5113242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eead101dcb134792a08d0e4d21e40ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/5113242/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1492681730, "creation_date": 1492681730, "answer_id": 43515998, "question_id": 43507004, "link": "https://stackoverflow.com/questions/43507004/django-audio-file-form-validation/43515998#43515998", "title": "Django audio file form validation", "body": "<p>Where is <code>clean_audio_file()</code> getting called? The form automatically calls <a href=\"https://docs.djangoproject.com/en/1.11/ref/forms/validation/#cleaning-a-specific-field-attribute\" rel=\"nofollow noreferrer\"><code>clean_{field name}()</code></a> and <code>clean()</code> when validating, but your field name is called <code>sound</code> instead. Renaming it to <code>clean_sound()</code> or just <code>clean()</code> since you don't already have one will work.</p>\n\n<p>Also <a href=\"https://docs.djangoproject.com/en/1.11/ref/files/uploads/#django.core.files.uploadedfile.UploadedFile.size\" rel=\"nofollow noreferrer\"><code>UploadedFile.size</code> is a thing</a>, not sure why you're looking at <code>_size</code> instead.</p>\n"}], "owner": {"reputation": 137, "user_id": 6137997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qEhHZdBQETU/AAAAAAAAAAI/AAAAAAAAAII/URNsjgVkXxE/photo.jpg?sz=128", "display_name": "Adam Yui", "link": "https://stackoverflow.com/users/6137997/adam-yui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 43515998, "answer_count": 1, "score": 1, "last_activity_date": 1492681730, "creation_date": 1492640139, "question_id": 43507004, "link": "https://stackoverflow.com/questions/43507004/django-audio-file-form-validation", "title": "Django audio file form validation", "body": "<p>I'm trying to add file validation to my Django project. Before I try and add a python library that will parse the file, I want to make sure I can check the file size, extension and content type. For my model form in forms.py I have:</p>\n\n<pre><code>class PostForm(forms.ModelForm):\n\ndef clean_audio_file(self, form):\n    file = self.cleaned_data.get('sound')\n\n\n    if file:\n        if file._size &gt; 4*1024*1024:\n            raise ValidationError(\"Audio file too large ( &gt; 4mb )\")\n        if not file.content-type in [\"audio/mpeg\",\"audio/wav\"]:\n            raise ValidationError(\"Content-Type is not mpeg\")\n        if not os.path.splitext(file.name)[1] in [\".mp3\",\".wav\"]:\n            raise ValidationError(\"Doesn't have proper extension\")\n\n            return file\n        else:\n            raise ValidationError(\"Couldn't read uploaded file\")\n\nclass Meta:\n    model = Places\n    fields = [\n\n        'title',\n        'longitude',\n        'latitude',\n        'sound',\n\n    ]\n</code></pre>\n\n<p>for my view, I have:</p>\n\n<pre><code>def post_create(request):\nform= PostForm(request.POST or None, request.FILES or None)\nform_class = PostForm()\n\nif form.is_valid():     \n    instance = form.save(commit=False)\n    instance.save()\n    messages.success(request, 'Successfully Created')\n    return HttpResponseRedirect('/')\n\n\ncontext= {\n    'form': form,\n}\nreturn render(request, 'location/post_form.html',context)\n</code></pre>\n\n<p>I've gone through the Docs a few times, and looked for examples of similar file validation, but for some reason the files I upload are not getting validated. The form works as expected, but it still allows files that are too large and incorrect file types without raising the validation error. Any hints on where I'm going wrong?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "pivot"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1492642662, "post_id": 43507043, "comment_id": 74069462, "body": "or using the last index level by default <code>results.unstack()</code>"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1492640375, "creation_date": 1492640375, "answer_id": 43507043, "question_id": 43507000, "link": "https://stackoverflow.com/questions/43507000/how-to-pivot-the-result-of-an-aggregated-series/43507043#43507043", "title": "How to Pivot the result of an aggregated series", "body": "<p>You can call <code>unstack</code> on <code>results</code> directly with <code>level=1</code>(vc):</p>\n\n<pre><code>results.unstack(level=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0MUvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MUvD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or more explicitly:</p>\n\n<pre><code>results.unstack(\"vc\")\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 7600334, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cbdcd16db25660265573fac86e88f885?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Ginsburg", "link": "https://stackoverflow.com/users/7600334/mark-ginsburg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 43507043, "answer_count": 1, "score": 1, "last_activity_date": 1492640375, "creation_date": 1492640126, "question_id": 43507000, "link": "https://stackoverflow.com/questions/43507000/how-to-pivot-the-result-of-an-aggregated-series", "title": "How to Pivot the result of an aggregated series", "body": "<p>I have a series called 'results' I created with a </p>\n\n<pre><code>groupby\n</code></pre>\n\n<p>on 2 columns 'dt' and 'vc', summing a third numeric column 'numcol'.</p>\n\n<p>The result looks like this:</p>\n\n<pre><code>dt     vc       \nabc    ghi       3.2\n       jkl      44.1\n       mmm      15.2\nxyz    def      11.3\n       hhh       8.2\n       jjj       4.4\n</code></pre>\n\n<p>Wanting to do a pivot, I create a dataframe:</p>\n\n<pre><code>resultsdf = results.to_frame() \n</code></pre>\n\n<p>It looks like this :</p>\n\n<pre><code>                   numcol\ndt    vc       \nabc   ghi          3.2\n      jkl         44.1\n[....]\n</code></pre>\n\n<p>How to pivot resultsdf such that the index is dt, the columns are vc, and the values of the cells are numcol? </p>\n\n<p>I had trouble resetting index of this structure and then setting to dt.</p>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 3557, "user_id": 7827863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4401c9efd5a7a0a9a00f643b1484a25?s=128&d=identicon&r=PG&f=1", "display_name": "qbzenker", "link": "https://stackoverflow.com/users/7827863/qbzenker"}, "edited": false, "score": 0, "creation_date": 1492650954, "post_id": 43506980, "comment_id": 74071635, "body": "To fit your data to a normal distribution see this <a href=\"http://stackoverflow.com/questions/20011122/fitting-a-normal-distribution-to-1d-data\">stackoverflow answer</a>."}, {"owner": {"reputation": 19105, "user_id": 3005167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t0bMQ.png?s=128&g=1", "display_name": "kazemakase", "link": "https://stackoverflow.com/users/3005167/kazemakase"}, "edited": false, "score": 0, "creation_date": 1492684721, "post_id": 43506980, "comment_id": 74087256, "body": "I don&#39;t think <i>fitting</i> is the correct term, here (it suggests you want to determine the parameters - mu and sigma - of the bell curve from data). The question itself sounds more like you want to <i>transform</i> the distribution."}], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 2, "last_activity_date": 1492642370, "creation_date": 1492642370, "answer_id": 43507391, "question_id": 43506980, "link": "https://stackoverflow.com/questions/43506980/python-fit-a-distribution-to-a-bell-curve/43507391#43507391", "title": "Python fit a distribution to a bell curve", "body": "<p>One tool you might consider is the <a href=\"http://www.itl.nist.gov/div898/handbook/eda/section3/boxcoxno.htm\" rel=\"nofollow noreferrer\">Box-Cox transformation</a>.  The implementation in scipy is <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.boxcox.html\" rel=\"nofollow noreferrer\"><code>scipy.stats.boxcox</code></a>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>import numpy as np\nfrom scipy.stats import boxcox, gamma\nimport matplotlib.pyplot as plt\n\n\n# Generate a random sample that is not from a normal distribution.\nnp.random.seed(1234)\nx = gamma.rvs(1.5, size=250)\n\n# Transform the data.\ny, lam = boxcox(x)\n\n# Plot the histograms.\nplt.subplot(2, 1, 1)\nplt.hist(x, bins=21, rwidth=0.9)\nplt.title('Histogram of Original Data')\nplt.subplot(2, 1, 2)\nplt.hist(y, bins=21, rwidth=0.9)\nplt.title('Histogram After Box-Cox Transformation\\n($\\\\lambda$ = %.4g)' % lam)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oCGRj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCGRj.png\" alt=\"plot\"></a></p>\n"}], "owner": {"reputation": 1933, "user_id": 5449456, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh5.googleusercontent.com/-2pNZV5O6iBo/AAAAAAAAAAI/AAAAAAAAAEk/eEtyVSBbwSk/photo.jpg?sz=128", "display_name": "Kendall Weihe", "link": "https://stackoverflow.com/users/5449456/kendall-weihe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2956, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1492642370, "creation_date": 1492640049, "question_id": 43506980, "link": "https://stackoverflow.com/questions/43506980/python-fit-a-distribution-to-a-bell-curve", "title": "Python fit a distribution to a bell curve", "body": "<p>I'm working on a predictive model. My model predictions don't always come out as a standard distribution. I want to transform, or fit the distribution values so that the distribution is fit to a bell curve. It's like I want a sort of transformation function that will transform my distribution into a bell curve (not necessarily normalized).</p>\n\n<p>For example, here is what my distribution looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4CVPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CVPc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Notice that the distribution is somewhat skewed and not <em>perfectly</em> standard/shaped like a bell curve.</p>\n\n<p>Here is something close to what I want that distribution to look like: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Xj16c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xj16c.png\" alt=\"enter image description here\"></a></p>\n\n<p>NOTE: This is not the perfect distribution either, just closer</p>\n\n<p>NOTE: I'm not trying to normalize the values, just fit the distribution. Notice that the goal distribution is not normalized.</p>\n\n<p>I thought I could use something with <code>scipy.norm</code> or <code>numpy</code> but I can't seem to find exactly what I want. </p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641101, "post_id": 43506978, "comment_id": 74068963, "body": "Change <code>([0-9])*</code> to <code>([0-9]*)</code> and if possible get rid of your weird wrapper class around the re module."}, {"owner": {"reputation": 1554, "user_id": 1055520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d52421064802d8a2961923725f7b30f3?s=128&d=identicon&r=PG", "display_name": "Sugitime", "link": "https://stackoverflow.com/users/1055520/sugitime"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641189, "post_id": 43506978, "comment_id": 74068995, "body": "I didnt noticed I did this, but I did try it and I&#39;m still not getting matches."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641290, "post_id": 43506978, "comment_id": 74069033, "body": "Can you show us the output of <code>print(repr(line))</code>? Is there perhaps some leading whitespace?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641467, "post_id": 43506978, "comment_id": 74069093, "body": "Or perhaps you meant to use <code>re.search</code> rather than <code>re.match</code>?"}, {"owner": {"reputation": 1554, "user_id": 1055520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d52421064802d8a2961923725f7b30f3?s=128&d=identicon&r=PG", "display_name": "Sugitime", "link": "https://stackoverflow.com/users/1055520/sugitime"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641514, "post_id": 43506978, "comment_id": 74069105, "body": "There is a leading whitespace on some lines but not all. Host: 192.168.1.38 ()\\tPorts: 7/open/tcp//echo?///, 9/open|filtered/tcp//tcpwrapped///, 13/open/tcp//daytime?///, 21/open/tcp//ftp?///, 22/open/tcp//ssh?///, 23/open/tcp//telnet?///, 25/open|filtered/tcp//tcpwrapped///\\n&#39;"}, {"owner": {"reputation": 1554, "user_id": 1055520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d52421064802d8a2961923725f7b30f3?s=128&d=identicon&r=PG", "display_name": "Sugitime", "link": "https://stackoverflow.com/users/1055520/sugitime"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492641831, "post_id": 43506978, "comment_id": 74069194, "body": "That pretty much did it. I used search and changed things up a bit and it worked. Thank you. Throw it as an answer and I&#39;ll accept it."}], "owner": {"reputation": 1554, "user_id": 1055520, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d52421064802d8a2961923725f7b30f3?s=128&d=identicon&r=PG", "display_name": "Sugitime", "link": "https://stackoverflow.com/users/1055520/sugitime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492640041, "creation_date": 1492640041, "question_id": 43506978, "link": "https://stackoverflow.com/questions/43506978/matching-gnmap-output-in-python", "title": "Matching gnmap Output in Python", "body": "<p>I'm trying to match the following line in a gnmap file:</p>\n\n<p>23/open/tcp//telnet</p>\n\n<p>and I'd like it to out put just the port number. Sometimes the port is 23. Othertimes, its 2323 or 6000, or some other number.</p>\n\n<p>I've tried this code, but the regex will not match properly:</p>\n\n<pre><code>import re\n\nclass REMatcher(object):\n    def __init__(self, matchstring):\n        self.matchstring = matchstring\n\n    def match(self,regexp):\n        self.rematch = re.match(regexp, self.matchstring)\n        return bool(self.rematch)\n\n    def group(self,i):\n        return self.rematch.group(i)\n\ngnmap_file = \"telnet.gnmap\"\n\nwith open(gnmap_file, \"r\") as f:\n    lines = f.readlines()\n    for line in lines:\n        m = REMatcher(line)\n        if m.match(\"([0-9])*\\/open\\/tcp\\/\\/telnet\"):\n            print m.group(1)\n</code></pre>\n\n<p>I think I'm missing something in the regex. Any help would be appreciated.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492641325, "post_id": 43507121, "comment_id": 74069043, "body": "I&#39;m getting: ValueError: operands could not be broadcast together with shapes (253,2) (253,) which I know is because of the X and Y have different shapes, that is because the Y has two types that are getting graphed together against X. Is there a way around this? or do I have to use the same dimensions."}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492641653, "post_id": 43507121, "comment_id": 74069150, "body": "instead of one scatter plot with y+noise, you can generate two more scatter plots but use y[:,0]+noise and y[:,1]+noise for y argument."}, {"owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492641791, "post_id": 43507121, "comment_id": 74069182, "body": "The problem is that I want all the data on one scatter plot"}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492641999, "post_id": 43507121, "comment_id": 74069254, "body": "they will be on one figure, just that you use the command plt.scatter multiple times with different arguments."}, {"owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492642355, "post_id": 43507121, "comment_id": 74069345, "body": "plt.scatter(genders2,age)  plt.scatter(genders2 + normal_curve,age[:,0] + normal_curve) plt.scatter(genders2 + normal_curve,age[:,] + normal_curve)  for some reason now im getting error: ValueError: x and y must be the same size"}, {"owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492642380, "post_id": 43507121, "comment_id": 74069358, "body": "Is there some difference between plt.scatter and plt.plot, because it seemed to have triggered this different message."}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492642448, "post_id": 43507121, "comment_id": 74069381, "body": "Can you try replacing age[:,] + normal_curve with age[:,1] + normal_curve"}, {"owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492642620, "post_id": 43507121, "comment_id": 74069447, "body": "My mistake, didn&#39;t mean to do that but it&#39;s still giving me that error with that."}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492642939, "post_id": 43507121, "comment_id": 74069552, "body": "your are probably getting error from plt.scatter(genders2,age), because genders2 and age are different size. instead of this, use plt.scatter(genders2,age[:,0]) and plt.scatter(genders2,age[:,1])"}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "reply_to_user": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "edited": false, "score": 0, "creation_date": 1492709924, "post_id": 43507121, "comment_id": 74105886, "body": "I hope you were able to resolve your problem. Happy to help. If this answer or any other one solved your issue, please mark it as accepted."}], "tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 1, "last_activity_date": 1492640783, "creation_date": 1492640783, "answer_id": 43507121, "question_id": 43506964, "link": "https://stackoverflow.com/questions/43506964/adding-small-normally-distributed-random-displacement-to-a-pandas-based-scatterp/43507121#43507121", "title": "Adding small normally distributed random displacement to a pandas-based scatterplot", "body": "<p>you can add normally distributed random displacement using <code>randn</code> as show below.</p>\n\n<pre><code># some example data\nx = np.arange(1,10, 0.1)\ny = x**2\n\n# pick a sigma and mu for normal distribution\nsigma = 1\nmu =0.01\n\n# generate normally distributed samples\nnoise = sigma * np.random.randn(len(x)) + mu\n\n# plot with original data points\nplt.scatter(x,y, color = 'r')\n# plot with normally distributed random displacement\nplt.scatter(x+noise,y+noise, color = 'g')\n</code></pre>\n\n<p>this results in </p>\n\n<p><a href=\"https://i.stack.imgur.com/Y6aqY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6aqY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 157, "user_id": 7674915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/10c0ff85705bfda37d1c5d082ab5aeff?s=128&d=identicon&r=PG&f=1", "display_name": "ksalerno", "link": "https://stackoverflow.com/users/7674915/ksalerno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492640783, "creation_date": 1492639979, "question_id": 43506964, "link": "https://stackoverflow.com/questions/43506964/adding-small-normally-distributed-random-displacement-to-a-pandas-based-scatterp", "title": "Adding small normally distributed random displacement to a pandas-based scatterplot", "body": "<p>So I created a scatterplot based off of 2 dataframes. I'm trying to now add a small normally distributed random displacement to my X and Y so the points look better (very clustered right now). </p>\n\n<pre><code>normal_curve = np.random.normal(loc=mean_genders, scale=spread_genders, size=253)\n</code></pre>\n\n<p>Is what I have now, i'm not sure if im using this right. If i did this right, how do I implement it to my points?</p>\n"}, {"tags": ["python", "email"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1492642307, "post_id": 43506957, "comment_id": 74069332, "body": "Try using port 587."}], "answers": [{"tags": [], "owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "is_accepted": true, "score": 0, "last_activity_date": 1492641794, "creation_date": 1492641794, "answer_id": 43507299, "question_id": 43506957, "link": "https://stackoverflow.com/questions/43506957/why-some-email-servers-do-not-respond-to-smtlib-smtpxxxx/43507299#43507299", "title": "Why some email servers do not respond to smtlib.SMTP(&#39;xxxx&#39;)?", "body": "<p>In trying this myself, I came across <em>possibly</em> a different problem, that may help others. Here are my findings.</p>\n\n\n\n<p>Internet Service Providers are terrible. In every way.</p>\n\n<p>In this instance, my ISP is blocking port 25.</p>\n\n<p>From my local machine I tried this.</p>\n\n<pre><code>&gt;&gt;&gt; import smtplib\n&gt;&gt;&gt; s=smtplib.SMTP('smtp.gmail.com')\n</code></pre>\n\n<p>This eventually time out with the same <code>error: [Errno 10060]</code>.</p>\n\n<p>Curious, I dropped back to telnet</p>\n\n<pre><code>$ telnet smtp.gmail.com 25\nTrying ...\ntelnet: Unable to connect to remote host: Connection timed out\n</code></pre>\n\n<p>Huh? Why is GMail dropping my connection request? Unless...</p>\n\n<pre><code>$ ssh some.ec2.machine\n$ python\n&gt;&gt;&gt; import smtplib\n&gt;&gt;&gt; s=smtplib.SMTP('smtp.gmail.com')\n&gt;&gt;&gt;\n</code></pre>\n\n<p>It instantly connects.. Turns out, my ISP, who else but Comcast, is blocking all traffic on port 25.</p>\n\n<p>By using a VPS, I was able to establish a connection to both Google mail, and other hosts.</p>\n\n<p>I attempted the same telnet connection for your given address:</p>\n\n<pre><code>$ telnet smtpmail.t-online.de 25\ntelnet: connect to address 194.25.134.114: Connection refused\ntelnet: connect to address 194.25.134.115: Connection refused\n</code></pre>\n\n<p>In the case of a <a href=\"https://serverfault.com/a/725263/146878\"><code>Connection Refused</code></a>, this is misconfiguration on the server side.</p>\n\n<p>Generally, a server will either accept the packet, or completely throw it away. In this situation, the server is running, and actively denying the connection.</p>\n"}], "owner": {"reputation": 13, "user_id": 7892008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e1ff40a7388d6c933367aa0bdb05cc?s=128&d=identicon&r=PG&f=1", "display_name": "Adil", "link": "https://stackoverflow.com/users/7892008/adil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 43507299, "answer_count": 1, "score": 1, "last_activity_date": 1492641794, "creation_date": 1492639960, "question_id": 43506957, "link": "https://stackoverflow.com/questions/43506957/why-some-email-servers-do-not-respond-to-smtlib-smtpxxxx", "title": "Why some email servers do not respond to smtlib.SMTP(&#39;xxxx&#39;)?", "body": "<p>I tested the following code with different email servers and only smtp.gmail.com is responding to the following simple code:</p>\n\n<pre><code>&gt;&gt;&gt; import smtplib\n&gt;&gt;&gt; s=smtplib.SMTP('smtp.gmail.com')\n&gt;&gt;&gt; s.help()\n'2.0.0  https://www.google.com/search?btnI&amp;q=RFC+5321 b188sm4817528wmh.6    - gsmtp'\n&gt;&gt;&gt; s.quit()\n(221, '2.0.0 closing connection b188sm4817528wmh.6 - gsmtp')\n</code></pre>\n\n<p>it is OK.</p>\n\n<p>But this (and many other providers) time out:</p>\n\n<pre><code>&gt;&gt;&gt; s=smtplib.SMTP('smtpmail.t-online.de')\n</code></pre>\n\n<p>returning error:</p>\n\n<blockquote>\n  <p>error: [Errno 10061] No connection could be made because the target machine actively refused it</p>\n</blockquote>\n\n<p>or </p>\n\n<pre><code>&gt;&gt;&gt; s=smtplib.SMTP('wpxxxxxxxx.mailout.server-he.de',25)\n</code></pre>\n\n<p>returning:</p>\n\n<blockquote>\n  <p>error: [Errno 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond</p>\n</blockquote>\n\n<p>I thought because of SSL. So I used:</p>\n\n<pre><code>&gt;&gt;&gt; smtplib.SMTP_SSL(\"wpxxxxxxx.mailout.server-he.de\", 465)\n</code></pre>\n\n<p>tried with different port nr's. The email servers name sure correct. \nSo what is unique about <strong>smtp.gmail.com</strong> ?\nHow could I make the others work?</p>\n\n<p>-Thanks-</p>\n"}, {"tags": ["python", "django", "postgresql", "django-admin"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1492640050, "post_id": 43506907, "comment_id": 74068627, "body": "do yourself a favor and download a nice ide like pycharm... (im gonna take a stab in the dark that you are a student, so get the free pro version for students), create a new django project, use breakpoints and debug like a superstar (I think if you set <code>DEBUG=True</code> in your settings you will see your normal stdout as well ... but im not sure ... admin may handle it different)"}], "answers": [{"tags": [], "owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "is_accepted": true, "score": 3, "last_activity_date": 1492654935, "creation_date": 1492654935, "answer_id": 43509120, "question_id": 43506907, "link": "https://stackoverflow.com/questions/43506907/debug-from-django-admin/43509120#43509120", "title": "Debug from Django admin", "body": "<p>In your Admin object, you can put a <code>print</code> statement in the <code>save_model()</code> method. It sounds like that's where it will best suit you if you want to print something after adding data.</p>\n\n<p>It would look something like this:</p>\n\n<pre><code>class FooAdmin(admin.ModelAdmin):\n    ...\n\n    class Meta:\n        model = Foo\n\n    def save_model(self, request, obj, form, change):\n        print('Post succeeded')\n        obj.save()\n\nadmin.site.register(Foo, FooAdmin)\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1493, "favorite_count": 0, "accepted_answer_id": 43509120, "answer_count": 1, "score": 1, "last_activity_date": 1492654935, "creation_date": 1492639746, "last_edit_date": 1492640282, "question_id": 43506907, "link": "https://stackoverflow.com/questions/43506907/debug-from-django-admin", "title": "Debug from Django admin", "body": "<p>I'm trying to have a print statement appear on the console every time I add data into my Postgres Database (For example \"Post succeeded\") from the Django admin but no matter where I put print statements (in admin.py or the models) nothing is appearing. I know the data is going through as there is a POST statement that goes through <a href=\"https://i.stack.imgur.com/tCDAv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tCDAv.png\" alt=\"example of post going through\"></a><br>\nand the data is in the database.</p>\n"}, {"tags": ["python", "beautifulsoup", "pip"], "comments": [{"owner": {"reputation": 1574, "user_id": 6304906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/783a08c5d7a3ca42d6fb007774a49f45?s=128&d=identicon&r=PG&f=1", "display_name": "Barney", "link": "https://stackoverflow.com/users/6304906/barney"}, "edited": false, "score": 1, "creation_date": 1492639904, "post_id": 43506898, "comment_id": 74068567, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4750806/how-do-i-install-pip-on-windows\">How do I install pip on Windows?</a>"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1492639964, "post_id": 43506898, "comment_id": 74068586, "body": "In Python 3.6, pip is located in a subdirectory named &#39;Scripts&#39; below the location of Python.exe. Did you look on your drive to see where pip is actually located?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1492640133, "post_id": 43506898, "comment_id": 74068653, "body": "If pip is indeed installed, try <code>python -m pip install beautifulsoup4</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7892352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae64bf23b65600e3f75e49aaa37eeb?s=128&d=identicon&r=PG&f=1", "display_name": "James Howard", "link": "https://stackoverflow.com/users/7892352/james-howard"}, "edited": false, "score": 0, "creation_date": 1492641389, "post_id": 43506979, "comment_id": 74069068, "body": "when i try that this happens C:\\Python27\\Scripts&gt;pip install -U setuptools Traceback (most recent call last):   File &quot;c:\\python27\\lib\\runpy.py&quot;, line 174, in <i>run_module_as_main     &quot;<b>main</b>&quot;, fname, loader, pkg_name)   File &quot;c:\\python27\\lib\\runpy.py&quot;, line 72, in _run_code     exec code in run_globals   File &quot;C:\\Python27\\Scripts\\pip.exe__main_</i>.py&quot;, line 9, in &lt;module&gt;   File &quot;c:\\python27\\pip.py&quot;, line 194, in main     bootstrap(tmpdir=tmpdir)   File &quot;c:\\python27\\pip.py&quot;, line 83, in bootstrap     from pip.commands.install import InstallCommand ImportError: No module named"}], "tags": [], "owner": {"reputation": 109, "user_id": 5074361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09dcc80473b41d65daef261c3e507d17?s=128&d=identicon&r=PG", "display_name": "Troy R", "link": "https://stackoverflow.com/users/5074361/troy-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1492640043, "creation_date": 1492640043, "answer_id": 43506979, "question_id": 43506898, "link": "https://stackoverflow.com/questions/43506898/pip-is-not-recognized-on-python-2-7-12/43506979#43506979", "title": "&#39;pip&#39; is not recognized on python 2.7.12", "body": "<p>Try: </p>\n\n<pre><code>C:\\Python\\Scripts\\pip install\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 7892352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae64bf23b65600e3f75e49aaa37eeb?s=128&d=identicon&r=PG&f=1", "display_name": "James Howard", "link": "https://stackoverflow.com/users/7892352/james-howard"}, "edited": false, "score": 0, "creation_date": 1492813531, "post_id": 43508972, "comment_id": 74157999, "body": "i get hit with no module named commands.install and when i try to pip install -U setuptools same thing happens"}], "tags": [], "owner": {"reputation": 8073, "user_id": 1893164, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f058499cabc6e56e7622015b4db79304?s=128&d=identicon&r=PG", "display_name": "Al Sweigart", "link": "https://stackoverflow.com/users/1893164/al-sweigart"}, "is_accepted": false, "score": 0, "last_activity_date": 1492653993, "creation_date": 1492653993, "answer_id": 43508972, "question_id": 43506898, "link": "https://stackoverflow.com/questions/43506898/pip-is-not-recognized-on-python-2-7-12/43508972#43508972", "title": "&#39;pip&#39; is not recognized on python 2.7.12", "body": "<p><code>pip</code> is in the <code>Scripts</code> subdirectory. Try this instead:</p>\n\n<pre><code>C:\\Python27&gt;cd Scripts\nC:\\Python27\\Scripts&gt;pip install beautifulsoup4\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7892352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ae64bf23b65600e3f75e49aaa37eeb?s=128&d=identicon&r=PG&f=1", "display_name": "James Howard", "link": "https://stackoverflow.com/users/7892352/james-howard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1492839316, "creation_date": 1492639681, "last_edit_date": 1492640824, "question_id": 43506898, "link": "https://stackoverflow.com/questions/43506898/pip-is-not-recognized-on-python-2-7-12", "title": "&#39;pip&#39; is not recognized on python 2.7.12", "body": "<p>when I try to install beautiful soup with pip, this always happens</p>\n\n<pre><code>C:\\Python27&gt;pip install beautifulsoup4\n'pip' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>I have tried to uninstall python 2.7.12 but when I try, it says that there is a problem with the windows installer package</p>\n\n<p>EDIT:pip is installed under C:\\Python27\\Scripts</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 2740, "user_id": 3380209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f59b14e9d68ea636c6a70bc080e1f74?s=128&d=identicon&r=PG&f=1", "display_name": "albar", "link": "https://stackoverflow.com/users/3380209/albar"}, "is_accepted": true, "score": 2, "last_activity_date": 1492677886, "creation_date": 1492677886, "answer_id": 43514498, "question_id": 43506895, "link": "https://stackoverflow.com/questions/43506895/django-limit-choices-to-with-python-index/43514498#43514498", "title": "Django limit_choices_to with python Index", "body": "<p>Try this:</p>\n\n<pre><code>device = models.ForeignKey('Device', limit_choices_to=Q(address__startswith='S'),) \n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 4640899, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-XuWoBNL7l48/AAAAAAAAAAI/AAAAAAAAAKQ/T2-FJs2EwZU/photo.jpg?sz=128", "display_name": "Spinnaay", "link": "https://stackoverflow.com/users/4640899/spinnaay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 43514498, "answer_count": 1, "score": 0, "last_activity_date": 1492677886, "creation_date": 1492639664, "last_edit_date": 1492642703, "question_id": 43506895, "link": "https://stackoverflow.com/questions/43506895/django-limit-choices-to-with-python-index", "title": "Django limit_choices_to with python Index", "body": "<p>I want to limit a Django relationship using <code>limit_choices_by</code> like this.</p>\n\n<pre><code>device = models.ForeignKey('Device', limit_choices_to=Q(address[0]='S'),) \n</code></pre>\n\n<p>But this doesn't work. </p>\n\n<p>Basically my related address field contains values like <code>'TA', 'SA', 'CA', 'SB', 'CB'</code> etc and I only want the relationship to show the values beginning with <code>'S'</code>. </p>\n\n<p>Using a standard Python command</p>\n\n<pre><code>address[0] == 0\n</code></pre>\n\n<p>I can get it working using </p>\n\n<pre><code>limit_choices_to=Q(address='SA')\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 557, "user_id": 6779190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcba1950ebc59c140e0bb91699b5b9af?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/6779190/jonas"}, "edited": false, "score": 0, "creation_date": 1492639970, "post_id": 43506886, "comment_id": 74068588, "body": "It appears that dict1 will always be empty when the loop finishes. So could you problem be solved by simply overwriting dict1 when you have completed your loop?"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1492640350, "post_id": 43506886, "comment_id": 74068712, "body": "<a href=\"http://stackoverflow.com/questions/12753351/removing-one-or-multiple-keys-from-a-dictionary\" title=\"removing one or multiple keys from a dictionary\">stackoverflow.com/questions/12753351/&hellip;</a>  <a href=\"http://stackoverflow.com/questions/8995611/removing-multiple-keys-from-a-dictionary-safely\" title=\"removing multiple keys from a dictionary safely\">stackoverflow.com/questions/8995611/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1492642988, "post_id": 43506886, "comment_id": 74069565, "body": "iterate over <code>list(dict1.keys())</code> But why must you delete the keys one-by-one? Just <code>dict1.clear()</code> after the loop."}], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 5600976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da61ebedaf1ae27a0a84d2b5e031ddfd?s=128&d=identicon&r=PG&f=1", "display_name": "LiorA", "link": "https://stackoverflow.com/users/5600976/liora"}, "is_accepted": false, "score": 3, "last_activity_date": 1492640281, "creation_date": 1492640281, "answer_id": 43507027, "question_id": 43506886, "link": "https://stackoverflow.com/questions/43506886/iterating-through-and-mutating-dictionary/43507027#43507027", "title": "Iterating through and mutating dictionary", "body": "<p>why not simply dict1.clear()? \nnotice that on your loop you delete each element per iteration?</p>\n\n<p>one simplified (and naive) solution I can think about is</p>\n\n<pre><code>delkeys=[]\ndict2 = {}\n\nfor an entry in dict1:\n  if key is A or B:\n    dict2[key] = dict1[key]         # copy the dictionary entry\n  if key is C:\n    do this...\n  elif:\n    do something else...\n  delkeys.append(key)\n\nfor x in delkeys:\n   del dict1[x]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 2, "last_activity_date": 1492651910, "creation_date": 1492651910, "answer_id": 43508708, "question_id": 43506886, "link": "https://stackoverflow.com/questions/43506886/iterating-through-and-mutating-dictionary/43508708#43508708", "title": "Iterating through and mutating dictionary", "body": "<p>Just use the <code>.keys()</code> method to create an independent list of keys.</p>\n\n<p>Here is a working version of your code for Python 2.7:</p>\n\n<pre><code>&gt;&gt;&gt; dict1 = {'A' : 'first', 'B' : 'second', 'C' : 'third', 'D' : 'fourth'}\n&gt;&gt;&gt; dict2 = {}\n&gt;&gt;&gt; for key in dict1.keys():     # this makes a separate list of keys\n        if key in ('A', 'B'):\n            dict2[key] = dict1[key]\n        elif key == 'C':\n            print 'Do this!'\n        else:\n            print 'Do something else'\n        del dict1[key]\n\nDo this!\nDo something else\n&gt;&gt;&gt; dict1\n{}\n&gt;&gt;&gt; dict2\n{'A': 'first', 'B': 'second'}   \n</code></pre>\n\n<p>For Python 3, add <em>list()</em> around the <code>.keys()</code> and use the print-function:</p>\n\n<pre><code>&gt;&gt;&gt; dict1 = {'A' : 'first', 'B' : 'second', 'C' : 'third', 'D' : 'fourth'}\n&gt;&gt;&gt; dict2 = {}\n&gt;&gt;&gt; for key in list(dict1.keys()):     # this makes a separate list of keys\n        if key in ('A', 'B'):\n            dict2[key] = dict1[key]\n        elif key == 'C':\n            print('Do this!')\n        else:\n            print('Do something else')\n        del dict1[key]\n\nDo this!\nDo something else\n&gt;&gt;&gt; dict1\n{}\n&gt;&gt;&gt; dict2\n{'A': 'first', 'B': 'second'}   \n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 2696225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3084427aa385b2a8d64e3444d434e388?s=128&d=identicon&r=PG&f=1", "display_name": "user2696225", "link": "https://stackoverflow.com/users/2696225/user2696225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 43508708, "answer_count": 2, "score": 2, "last_activity_date": 1495017830, "creation_date": 1492639582, "last_edit_date": 1592644375, "question_id": 43506886, "link": "https://stackoverflow.com/questions/43506886/iterating-through-and-mutating-dictionary", "title": "Iterating through and mutating dictionary", "body": "<p>I am running into issues iterating through, and modifying, a dictionary...</p>\n<p>Say I have a dictionary:</p>\n<pre><code>dict1 = {'A' : 'first', 'B' : 'second', 'C' : 'third', 'D' : 'fourth'}\n</code></pre>\n<p>I want to iterate through dict1, using the data within to build up a second dictionary. Once finished with each entry in <code>dict1</code>, I delete it.</p>\n<p>In pseudocode:</p>\n<pre><code>dict2 = {}\n\nfor an entry in dict1:\n    if key is A or B:\n        dict2[key] = dict1[key]   # copy the dictionary entry\n    if key is C:\n        do this...\n    otherwise:\n        do something else...\n    del dict1[key]\n</code></pre>\n<p>I know that altering the length of an iterable in a loop causes problems and the above may not be simple to achieve.</p>\n<p>The answer to this question to <a href=\"https://stackoverflow.com/questions/3616721/iterating-over-dictionary-items-values-keys-in-python-3\">this question</a> seems to indicate that I can use the <code>keys()</code> function as it returns a dynamic object. I've thus tried:</p>\n<pre><code>for k in dict1.keys():\n    if k == A or k == B:\n        dict2[k] = dict1[k]\n    elif k == C:\n        dothis()\n    else:\n        dosomethingelse()\n    del dict1[k]\n</code></pre>\n<p>But, this simply gives:</p>\n<blockquote>\n<p>'RuntimeError: dictionary changed size during iteration'</p>\n</blockquote>\n<p>after the first deletion. I have also tried using <code>iter(dict1.keys())</code> but got the same error.</p>\n<p>I'm thus a little confused and could do with some advice. Thanks</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 738924, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ee57204de04a618ddf0bfefae8429c6f?s=128&d=identicon&r=PG", "display_name": "theannouncer", "link": "https://stackoverflow.com/users/738924/theannouncer"}, "is_accepted": true, "score": 1, "last_activity_date": 1492639883, "last_edit_date": 1495541429, "creation_date": 1492639883, "answer_id": 43506940, "question_id": 43506871, "link": "https://stackoverflow.com/questions/43506871/subprocess-failing-in-gui-applications-on-windows/43506940#43506940", "title": "subprocess failing in GUI applications on Windows", "body": "<p>I found an answer <a href=\"https://stackoverflow.com/questions/40108816/python-running-as-windows-service-oserror-winerror-6-the-handle-is-invalid\">here</a> by Alastair McCormack (thanks!!!!). Turns out the issue is that subprocess fails to properly resolve default stdin/out.</p>\n\n<p>Copied for posterity:</p>\n\n<hr>\n\n<p>Line 1117 in <code>subprocess.py</code> is:</p>\n\n<pre><code>p2cread = _winapi.GetStdHandle(_winapi.STD_INPUT_HANDLE)\n</code></pre>\n\n<p>which made me suspect that service processes do not have a STDIN associated with them (TBC)</p>\n\n<p>This troublesome code can be avoided by supplying a file or null device as the stdin argument to <code>popen</code>.</p>\n\n<p>In <strong>Python 3.3, 3.4, and 3.5</strong>, you can simply pass <code>stdin=subprocess.DEVNULL</code>. E.g.</p>\n\n<pre><code>subprocess.Popen( args=[self.exec_path], stdout=subprocess.PIPE, stderr=subprocess.STDOUT, stdin=subprocess.DEVNULL)\n</code></pre>\n\n<p>In <strong>Python 2.x</strong>, you need to get a filehandler to null, then pass that to popen:</p>\n\n<pre><code>devnull = open(os.devnull, 'wb')\nsubprocess.Popen( args=[self.exec_path], stdout=subprocess.PIPE, stderr=subprocess.STDOUT, stdin=devnull)\n</code></pre>\n"}], "owner": {"reputation": 935, "user_id": 738924, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ee57204de04a618ddf0bfefae8429c6f?s=128&d=identicon&r=PG", "display_name": "theannouncer", "link": "https://stackoverflow.com/users/738924/theannouncer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 43506940, "answer_count": 1, "score": 2, "last_activity_date": 1492639883, "creation_date": 1492639536, "question_id": 43506871, "link": "https://stackoverflow.com/questions/43506871/subprocess-failing-in-gui-applications-on-windows", "title": "subprocess failing in GUI applications on Windows", "body": "<p>Calling subprocess Popen, call, or check_output while running a python windows exe created with pyinstaller --noconsole results in an error with the following stack:</p>\n\n<pre><code>...\nFile \"subprocess.py\", line 566, in check_output\nFile \"subprocess.py\", line 702, in __init__\nFile \"subprocess.py\", line 823, in _get_handles\nWindowsError: [Error 6] The handle is invalid\n</code></pre>\n\n<p>Came across <a href=\"https://bugs.python.org/issue3905\" rel=\"nofollow noreferrer\">this issue</a> but no direct answer, so creating this post to hopefully make the solution easier to find. </p>\n"}, {"tags": ["python", "pandas", "numpy", "floating-point", "underflow"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1492650527, "post_id": 43506868, "comment_id": 74071535, "body": "You can check this pretty easily.  For example, set <code>x = np.array([1e-5, 1e-30, 1e-100, 1e-200, 1e50, 1e150])</code>, and compare <code>np.cumprod(x)</code> with <code>np.exp(np.cumsum(np.log(x)))</code>."}, {"owner": {"reputation": 3167, "user_id": 3123992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca672660899533ec8102cdea4dc84556?s=128&d=identicon&r=PG&f=1", "display_name": "WillZ", "link": "https://stackoverflow.com/users/3123992/willz"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1492770663, "post_id": 43506868, "comment_id": 74132474, "body": "Yes I did something similar but wasn&#39;t sure where the theoretical bounds are, or if it was just hitting the limit of my platoform (machine/os/etc)."}], "answers": [{"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1492777474, "last_edit_date": 1492777474, "creation_date": 1492657833, "answer_id": 43509542, "question_id": 43506868, "link": "https://stackoverflow.com/questions/43506868/python-do-pandas-dataframe-comprod-and-numpy-comprod-handle-numerical-under/43509542#43509542", "title": "Python: Do pandas.DataFrame.comprod() and numpy.comprod() handle numerical underflow?", "body": "<p>Unfortunately, no.  @warren-weckesser 's comment shows this to not work.  </p>\n\n<pre><code>np.array([1e-5, 1e-30, 1e-100, 1e-200, 1e50, 1e150]).cumprod()\n\n# returns\narray([1.0e-005, 1.0e-035, 1.0e-135, 0.0e+000, 0.0e+000, 0.0e+000])\n</code></pre>\n\n<p>The reason is that numpy floats support a smallest positive value of 2**-1022, or about  2.225e-308.  Once your calculation becomes smaller than that, it is dropped to zero, which is what we see in the above output.  The same is true for pandas.</p>\n"}], "owner": {"reputation": 3167, "user_id": 3123992, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca672660899533ec8102cdea4dc84556?s=128&d=identicon&r=PG&f=1", "display_name": "WillZ", "link": "https://stackoverflow.com/users/3123992/willz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 43509542, "answer_count": 1, "score": 0, "last_activity_date": 1492777474, "creation_date": 1492639519, "question_id": 43506868, "link": "https://stackoverflow.com/questions/43506868/python-do-pandas-dataframe-comprod-and-numpy-comprod-handle-numerical-under", "title": "Python: Do pandas.DataFrame.comprod() and numpy.comprod() handle numerical underflow?", "body": "<p>Specifically, are these cumulative product functions in <code>pandas</code> and <code>numpy</code> implemented in a robust way to handle underflow when multiplying lots of small numbers together? For example, are they using the log-sum-exp trick?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "scope", "nameerror"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1492642056, "post_id": 43506815, "comment_id": 74069265, "body": "<code>global</code> isn&#39;t actually global. It&#39;s module-level. Functions from one module won&#39;t look in another module&#39;s globals for name resolution."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2143528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e9c3d2fdfc3fdb0c287e257025a912?s=128&d=identicon&r=PG", "display_name": "an d re", "link": "https://stackoverflow.com/users/2143528/an-d-re"}, "edited": false, "score": 0, "creation_date": 1492663754, "post_id": 43507275, "comment_id": 74074973, "body": "Thank you for your answer. But I also tried importing lib1.py in moalib.py. Wihtout any success"}], "tags": [], "owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "is_accepted": false, "score": 0, "last_activity_date": 1492641636, "last_edit_date": 1495542342, "creation_date": 1492641636, "answer_id": 43507275, "question_id": 43506815, "link": "https://stackoverflow.com/questions/43506815/nameerror-in-pretty-much-nested-project/43507275#43507275", "title": "NameError in pretty much nested project", "body": "<p>For starters, the <code>global</code> keyword isn't doing anything for a variable already in the top-level namespace (as is <code>line</code> in this case). <a href=\"https://stackoverflow.com/questions/4693120/use-of-global-keyword-in-python\">This Stack Overflow question</a> discusses why.</p>\n\n<p>The reason you're getting a NameError is because <code>lib1.py</code> imports the namespace of <code>moalibs.py</code>, not vice-versa. You made <code>line</code> global, in <code>lib1.py</code>, but <code>moalibs.py</code> doesn't import <code>lib1.py</code>. </p>\n\n<p>To see what I mean, you can ask each module to tell you its current namespace contents by using the <a href=\"https://docs.python.org/3/library/functions.html#dir\" rel=\"nofollow noreferrer\"><code>dir()</code></a> function. You'll find that lib1.py is fully aware of all of moalibs.py's identifiers, but moalibs.py is not aware of lib1.py's identifiers.</p>\n"}], "owner": {"reputation": 63, "user_id": 2143528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e9c3d2fdfc3fdb0c287e257025a912?s=128&d=identicon&r=PG", "display_name": "an d re", "link": "https://stackoverflow.com/users/2143528/an-d-re"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492682966, "creation_date": 1492639270, "last_edit_date": 1492682966, "question_id": 43506815, "link": "https://stackoverflow.com/questions/43506815/nameerror-in-pretty-much-nested-project", "title": "NameError in pretty much nested project", "body": "<p>I'm having serious trouble sorting out scoping error in my project.\nMy project looks something like this:</p>\n\n<p>There is this mainfile wich contains the process and creates the gui with tkinter</p>\n\n<pre><code>interfaceAndProcess.pyw\nimport lib1\n...\n#do something with tkinter\nfilePath = askopenfilename(filetypes=((\"All files\", \"*.*\")))\n...\nlib1.checkSomeDocument(filePath)\n</code></pre>\n\n<p>Then I have a \"motherOfAllLlibs\" where other libs get the functions from.</p>\n\n<pre><code>moalibs.py\n\ndef parseSomething(lookForStringX)\n  position = line.index(lookForStringX, 0)\n  return(position)\n\ndef bla():\n  ...\n\ndef blabla():\n  ...\n</code></pre>\n\n<p>And here is one of many libs which use the methods from moalibs.py</p>\n\n<pre><code>lib1.py\nfrom moalibs import *\ndef checkSomeDocument(filePath)\nglobal line\n  fileContent = open(filePath, 'r')\n  for line in fileContent:\n    tmpVar = parseSomething(lookForStringX)\n    ...\n    tmpVar = bla()\n    ...\n    tmpVar = blabla()\n    ...\n    tmpVar = bla()\n    # In any of my many libs the methods from moalib are called\n    # serveral times in different orders, that's why this part\n    # is pretty \"hard coded\"\n</code></pre>\n\n<p>My problem is, that the execution of interfaceAndProcess.pyw throws an NameError on the line where lib1 calls the function parseSomething(lookForStringX) saying \"name 'line' is not defined\".</p>\n\n<p>Why can't <code>parseSomething</code> see the var <code>line</code>?</p>\n\n<p>When I put <code>parseSomething</code> in the file <code>moalibs.py</code> everthing is working fine.</p>\n\n<p>I'm sorry for this question to be pretty specific but I'm searching and trying for for more than two hours now.\nBeen playing with <code>global line</code> inside the methods, been defining <code>line</code> inside interfaceAndProcess.pyw, nothing...</p>\n\n<p>Any suggestions?</p>\n\n<p>Edit:\nOk, I understood that what I have tried can't work as I expected. \nHow would I achieve this without passing the variable as an argument? </p>\n"}, {"tags": ["python", "python-3.x", "config", "os.system"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1492639320, "post_id": 43506784, "comment_id": 74068324, "body": "Remove the quotes from your text file and then try with <code>os.system(appone.strip())</code> to remove the trailing newline character."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492639494, "post_id": 43506784, "comment_id": 74068398, "body": "Try <code>print(repr(appone))</code> to see what that variable really is - and post it here. Also, get the return code from <code>os.system</code> so we know what error really happened. Also &quot;does not launch anything&quot; is more vague than showing exactly the text printed for the fail."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1492639553, "post_id": 43506784, "comment_id": 74068422, "body": "<code>os.system</code> is <b>really</b> the wrong tool for the job. Most particularly, it runs a shell (<code>&#47;bin&#47;sh</code>) -- meaning you need to worry about strings in your command or its parameters that try to run arbitrary code."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1492639686, "post_id": 43506784, "comment_id": 74068485, "body": "(and beyond that, this question needs a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to ensure that folks are addressing the exact problem you&#39;re hitting in practice and can test their answers)."}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 1729118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1356210f767f70bc53952b9041b931cd?s=128&d=identicon&r=PG", "display_name": "Matt Vang", "link": "https://stackoverflow.com/users/1729118/matt-vang"}, "edited": false, "score": 0, "creation_date": 1493812437, "post_id": 43506852, "comment_id": 74559673, "body": "Suggesting an alternative approach might be very handy, but doesn&#39;t actually answer the original question."}, {"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "reply_to_user": {"reputation": 441, "user_id": 1729118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1356210f767f70bc53952b9041b931cd?s=128&d=identicon&r=PG", "display_name": "Matt Vang", "link": "https://stackoverflow.com/users/1729118/matt-vang"}, "edited": false, "score": 0, "creation_date": 1493815253, "post_id": 43506852, "comment_id": 74561782, "body": "If old stuff does not work and the nowadays recommended way does, why try to fix the old way?"}], "tags": [], "owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1493815350, "last_edit_date": 1493815350, "creation_date": 1492639427, "answer_id": 43506852, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable/43506852#43506852", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>Nowadays, you should use the standard libraries <code>subprocess</code> module to do such tasks.</p>\n\n<p>Also, you should always use context managers with files. These handle automical closing and exception handling.</p>\n\n<p>What might also be a problem, is that <code>readlines()</code> will return all lines in the file as a list but <em>with endline character</em>.\nUse <code>f.read().splitlines()</code> to remove the endline or call <code>.strip()</code> on the individual lines.</p>\n\n<p>putting it together:</p>\n\n<pre><code>import subprocess as sp\n\nwith open('config.txt') as config:\n    lines = config.read().splitlines()\n\nappone = lines[0]\n\ndef launch_appone():\n    sp.run([appone])\n</code></pre>\n\n<p>Edit: also the python docs mention that os.system should not be used anymore</p>\n\n<blockquote>\n  <p>The subprocess module provides more powerful facilities for spawning new processes and retrieving their results; using that module is preferable to using this function. See the Replacing Older Functions with the subprocess Module section in the subprocess documentation for some helpful recipes.</p>\n</blockquote>\n\n<p><a href=\"https://docs.python.org/3/library/os.html#os.system\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/os.html#os.system</a></p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 7892172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gMP0I.jpg?s=128&g=1", "display_name": "N Cheadle", "link": "https://stackoverflow.com/users/7892172/n-cheadle"}, "is_accepted": false, "score": 0, "last_activity_date": 1492639608, "creation_date": 1492639608, "answer_id": 43506890, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable/43506890#43506890", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>If you just need it to execute you could try using call from the subprocess module</p>\n\n<pre><code>from subprocess import call\ncall([appone])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1492639809, "post_id": 43506909, "comment_id": 74068525, "body": "No, using a global variable inside a function is perfectly fine. If you look at your function, you will see, that you just renamed <code>os.system</code> ;)"}], "tags": [], "owner": {"reputation": 825, "user_id": 5108838, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMH5l.png?s=128&g=1", "display_name": "0xMH", "link": "https://stackoverflow.com/users/5108838/0xmh"}, "is_accepted": false, "score": 0, "last_activity_date": 1492639748, "creation_date": 1492639748, "answer_id": 43506909, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable/43506909#43506909", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>your problem could be with the variable scope also you should use context managers like @MaxNoe said.</p>\n\n<p>but for now try putting argument to the function.</p>\n\n<pre><code>config = open(\"config.txt\")\nlines=config.readlines()\nappone = lines[0]\n\ndef launchappone(appone):\n    os.system(appone)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 4689206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MytPb.gif?s=128&g=1", "display_name": "hadi", "link": "https://stackoverflow.com/users/4689206/hadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1492640653, "creation_date": 1492640653, "answer_id": 43507093, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable/43507093#43507093", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>your code worked if launchappone() method called</p>\n\n<pre><code>    import os\n\n    config = open(\"config.txt\")\n    lines=config.readlines()\n    appone = lines[0]\n\n    def launchappone():\n        os.system(appone)\n\n    launchappone() # calling method\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 1729118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1356210f767f70bc53952b9041b931cd?s=128&d=identicon&r=PG", "display_name": "Matt Vang", "link": "https://stackoverflow.com/users/1729118/matt-vang"}, "is_accepted": false, "score": 0, "last_activity_date": 1493812381, "creation_date": 1493812381, "answer_id": 43759305, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable/43759305#43759305", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>I've been having some trouble with os.system and found something very odd that might be the issue here.  It seems like os.system removes the first and last quote in the command string.</p>\n\n<p>To test I make a batch file named test.bat with the single command:</p>\n\n<p>echo %*</p>\n\n<p>I put it into c:\\Test Folder</p>\n\n<p>and I am obviously on Windows, I don't know if this issue would carry to other OS's.  Also to note I have been working in Python 2.7.x, so this might be different in Python 3 or even newer patches of 2.7 (I think the newest I've tried is 2.7.6).</p>\n\n<p>I run python and then try some basic commands.</p>\n\n<p>import os</p>\n\n<p>os.system('c:\\Test Folder\\test.bat')\n'test.bat\" \"Hello\"' is not recognized as an internal or external command,\noperable program or batch file.</p>\n\n<p>Fails as expected, the path has a space in it and there are no quotes.  Also, the backslashes should be escaped (or replaced with forward slashes).</p>\n\n<p>os.system('\"c:\\Test Folder\\test.bat\"')\nECHO is on.</p>\n\n<p>This works.  I can add a parameter and get the echo back:</p>\n\n<p>os.system('\"c:\\Test Folder\\test.bat\" Hello')\nHello</p>\n\n<p>But if I quote the parameter it breaks:</p>\n\n<p>os.system('\"c:\\Test Folder\\test.bat\" \"Hello\"')\n'test.bat\" \"Hello\"' is not recognized as an internal or external command,\noperable program or batch file.</p>\n\n<p>I tried all sorts of stuff and then noticed that the double quote at the start is missing.  So I put an extra one in and I get:</p>\n\n<p>os.system('\"\"c:\\Test Folder\\test.bat\" \"Hello\"')\n\"Hello</p>\n\n<p>So that worked, but the output is also missing the closing quote.  So I put an extra closing quote:</p>\n\n<p>os.system('\"\"c:\\Test Folder\\test.bat\" \"Hello\"\"')\n\"Hello\"</p>\n\n<p>(Please note none of the above changes if you escape the double quotes or not.)</p>\n\n<p>So...I don't know why this is happening, but hey, there you are.</p>\n"}], "owner": {"reputation": 13, "user_id": 7840455, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T__1eV60LSI/AAAAAAAAAAI/AAAAAAAAAOM/oc6zB4Y6q40/photo.jpg?sz=128", "display_name": "acdop100", "link": "https://stackoverflow.com/users/7840455/acdop100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 43506852, "answer_count": 5, "score": 1, "last_activity_date": 1493815350, "creation_date": 1492639121, "question_id": 43506784, "link": "https://stackoverflow.com/questions/43506784/use-os-system-to-launch-executable-from-path-assigned-to-a-variable", "title": "Use os.system to launch executable from path assigned to a variable?", "body": "<p>first time asking a question here. What I am trying to do is launch an executable with os.system after the exe path has been assigned to a variable, and having os.system open the path assigned to the variable. It works fine if I have just the path pasted in the parenthesis (with the quotes ofc) but when I only have the variable there, it does not launch anything. I have tried the print function on the same variable and it prints the path out correctly. Here is what I have that creates the variable and then the call.</p>\n\n<pre><code>config = open(\"config.txt\")\nlines=config.readlines()\nappone = lines[0]\n\ndef launchappone():\nos.system(appone)\n</code></pre>\n\n<p>I have even put the quotes on the text in the config file I have, but still no dice. Any help? Thanks.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1492639129, "post_id": 43506766, "comment_id": 74068252, "body": "So, is <code>randomylSelected</code> given or to be created?"}, {"owner": {"reputation": 553, "user_id": 7675348, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2362f37a0e537a7cc070d284578d17f7?s=128&d=identicon&r=PG&f=1", "display_name": "scutnex", "link": "https://stackoverflow.com/users/7675348/scutnex"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1492639225, "post_id": 43506766, "comment_id": 74068286, "body": "To be created by randomly selecting <code>n</code> rows from <code>X</code>. @Divakar"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1492640765, "post_id": 43506766, "comment_id": 74068848, "body": "Could you please clarify how your <code>index</code> changes from <code>[2,3]</code> to <code>[0,1]</code> when it&#39;s not sampled? What&#39;s the purpose of the <code>index</code> and how does it relate to the other arrays?"}, {"owner": {"reputation": 553, "user_id": 7675348, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2362f37a0e537a7cc070d284578d17f7?s=128&d=identicon&r=PG&f=1", "display_name": "scutnex", "link": "https://stackoverflow.com/users/7675348/scutnex"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1492644069, "post_id": 43506766, "comment_id": 74069895, "body": "@MSeifert <code>index</code> contains a list of items already sampled which should not be sampled again."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1492677316, "post_id": 43506766, "comment_id": 74081987, "body": "@scutnex In that case: Thanks for the clarification but you should rather ask a new question instead of changing the question (after it received answers) in such fundamental ways. Could you please rollback your question to the original version and ask a new question?"}], "answers": [{"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 41, "last_activity_date": 1609077167, "last_edit_date": 1609077167, "creation_date": 1492639345, "answer_id": 43506833, "question_id": 43506766, "link": "https://stackoverflow.com/questions/43506766/randomly-select-from-numpy-array/43506833#43506833", "title": "Randomly select from numpy array", "body": "<p>You can create random indices with <a href=\"https://numpy.org/doc/stable/reference/random/generated/numpy.random.choice.html\" rel=\"noreferrer\"><code>np.random.choice</code></a>:</p>\n<pre><code>n = 2  # for 2 random indices\nindex = np.random.choice(X.shape[0], n, replace=False)  \n</code></pre>\n<p>Then you just need to index your arrays with the result:</p>\n<pre><code>x_random = X[index]\ny_random = Y[index]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 6580990, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kZNPw.jpg?s=128&g=1", "display_name": "stimulate", "link": "https://stackoverflow.com/users/6580990/stimulate"}, "edited": false, "score": 2, "creation_date": 1614871641, "post_id": 61953034, "comment_id": 117523046, "body": "Seriously why is there no function for this, that is such a common use case. So annoying."}], "tags": [], "owner": {"reputation": 1380, "user_id": 8953378, "user_type": "registered", "profile_image": "https://graph.facebook.com/1716438658366791/picture?type=large", "display_name": "Alon Gouldman", "link": "https://stackoverflow.com/users/8953378/alon-gouldman"}, "is_accepted": false, "score": 1, "last_activity_date": 1603266153, "last_edit_date": 1603266153, "creation_date": 1590143611, "answer_id": 61953034, "question_id": 43506766, "link": "https://stackoverflow.com/questions/43506766/randomly-select-from-numpy-array/61953034#61953034", "title": "Randomly select from numpy array", "body": "<p>just to wrap @MSeifert 's answer in a function:</p>\n<pre><code>def random_sample(arr: numpy.array, size: int = 1) -&gt; numpy.array:\n    return arr[np.random.choice(len(arr), size=size, replace=False)]\n</code></pre>\n<p>useage:</p>\n<pre><code>randomly_selected_y = random_sample(Y)\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 7675348, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2362f37a0e537a7cc070d284578d17f7?s=128&d=identicon&r=PG&f=1", "display_name": "scutnex", "link": "https://stackoverflow.com/users/7675348/scutnex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38647, "favorite_count": 4, "accepted_answer_id": 43506833, "answer_count": 2, "score": 23, "last_activity_date": 1609077167, "creation_date": 1492639004, "last_edit_date": 1492643867, "question_id": 43506766, "link": "https://stackoverflow.com/questions/43506766/randomly-select-from-numpy-array", "title": "Randomly select from numpy array", "body": "<p>I have two related numpy arrays, <code>X</code> and <code>y</code>. I need to select <code>n</code> random rows from <code>X</code> and store this in an array, the corresponding <code>y</code> value and the appends to it the index of the points randomly selected. </p>\n\n<p>I have another array <code>index</code> which stores a list of index which I dont want to sample. </p>\n\n<p>How can I do this?</p>\n\n<p>Sample data:</p>\n\n<pre><code>index = [2,3]\nX = np.array([[0.3,0.7],[0.5,0.5] ,[0.2,0.8], [0.1,0.9]])\ny = np.array([[0], [1], [0], [1]])\n</code></pre>\n\n<p>If these <code>X</code>'s were randomly selected (where <code>n=2</code>): </p>\n\n<pre><code>randomylSelected = np.array([[0.3,0.7],[0.5,0.5]])\n</code></pre>\n\n<p>the desired output would be:</p>\n\n<pre><code>index = [0,1,2,3]\nrandomlySelectedY = [0,1]\n</code></pre>\n\n<p>How can I do this? </p>\n"}, {"tags": ["python", "mysql", "django", "apache", "mod-wsgi"], "comments": [{"owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "reply_to_user": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493061486, "post_id": 43506738, "comment_id": 74242176, "body": "@Thameem I still get a server error when I do this with the same output in the error logs."}, {"owner": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493066074, "post_id": 43506738, "comment_id": 74244759, "body": "WSGIDaemonProcess site python-path=/usr/bin/python  try something instead of this  WSGIDaemonProcess site  python-path=/var/www/site/site  python-home=/usr/bin/python"}, {"owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "reply_to_user": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493075867, "post_id": 43506738, "comment_id": 74248445, "body": "@Thameem I tried those and received the same error. Do you know if there is any way I can get a more detailed error message?"}, {"owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "reply_to_user": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493079377, "post_id": 43506738, "comment_id": 74249324, "body": "@Thameem I am here. I also disabled WSGIDaemonProcess and WSGIProcessGroup and I get the same error."}, {"owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "reply_to_user": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493079542, "post_id": 43506738, "comment_id": 74249360, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/142554/discussion-between-kevin-and-thameem\">continue this discussion in chat</a>."}, {"owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "reply_to_user": {"reputation": 2681, "user_id": 3075463, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b8550391d5e361a9975b4306dde00d90?s=128&d=identicon&r=PG&f=1", "display_name": "Thameem", "link": "https://stackoverflow.com/users/3075463/thameem"}, "edited": false, "score": 0, "creation_date": 1493081335, "post_id": 43506738, "comment_id": 74249734, "body": "@Thameem I have installed virtualenv and Django."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7892350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d586421a4bf245ef365b2ad0b179beee?s=128&d=identicon&r=PG&f=1", "display_name": "Rewhe", "link": "https://stackoverflow.com/users/7892350/rewhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1492639488, "creation_date": 1492639488, "answer_id": 43506860, "question_id": 43506738, "link": "https://stackoverflow.com/questions/43506738/500-server-error-on-django-website-importerror-no-module-named-django-core-ws/43506860#43506860", "title": "500 Server Error on Django Website - ImportError: No module named django.core.wsgi", "body": "<p>You need to edit your wsgi.py file to set the sys.path to include the parent directory that contains your novabucket module, probably like this:</p>\n\n<p>import sys\nsys.path.insert(0, '/home/maxmackie/webapps/django/novabucket')\nMore information is available in our documentation: Adding to sys.path within Python and WSGI Scripts</p>\n\n<p>Be sure to restart your Apache after making these changes. .</p>\n"}], "owner": {"reputation": 569, "user_id": 4383443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1fbaa974f151efc8d562d9c252e1bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4383443/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492639879, "creation_date": 1492638856, "last_edit_date": 1492639879, "question_id": 43506738, "link": "https://stackoverflow.com/questions/43506738/500-server-error-on-django-website-importerror-no-module-named-django-core-ws", "title": "500 Server Error on Django Website - ImportError: No module named django.core.wsgi", "body": "<p>I am uploading a Django website to an Apache 2.4 server on Ubuntu 16.04. My server is running mod_wsgi. I am getting an ImportError: No module named django.core.wsgi. I have read through many other solutions, but none seem to work. I am thinking that my error has something to do with my Python installation (Python 2.7), but I am not sure. My <code>wsgi.py</code>, server conf, and error messages from the Apache logs are below:</p>\n\n<p>Apache Error Log:</p>\n\n<pre><code>[Thu Apr 13 15:51:06.891778 2017] [authz_core:debug] [pid 27832:tid 140404955539200] mod_authz_core.c(809): [client 134.53.122.114:63670] AH01626: authorization result of Require all granted: granted, referer: http://173.255.204.6/\n[Thu Apr 13 15:51:06.891833 2017] [authz_core:debug] [pid 27832:tid 140404955539200] mod_authz_core.c(809): [client 134.53.122.114:63670] AH01626: authorization result of &lt;RequireAny&gt;: granted, referer: http://173.255.204.6/\n[Thu Apr 13 15:51:06.891884 2017] [authz_core:debug] [pid 27832:tid 140404955539200] mod_authz_core.c(809): [client 134.53.122.114:63670] AH01626: authorization result of Require all granted: granted, referer: http://173.255.204.6/\n[Thu Apr 13 15:51:06.891891 2017] [authz_core:debug] [pid 27832:tid 140404955539200] mod_authz_core.c(809): [client 134.53.122.114:63670] AH01626: authorization result of &lt;RequireAny&gt;: granted, referer: http://173.255.204.6/\n[Thu Apr 13 15:51:06.892105 2017] [wsgi:info] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921] mod_wsgi (pid=27831, process='site', application='site.com|'): Loading WSGI script '/var/www/site/site/wsgi.py'.\n[Thu Apr 13 15:51:06.892490 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921] mod_wsgi (pid=27831): Target WSGI script '/var/www/site/site/wsgi.py' cannot be loaded as Python module.\n[Thu Apr 13 15:51:06.892504 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921] mod_wsgi (pid=27831): Exception occurred processing WSGI script '/var/www/site/site/wsgi.py'.\n[Thu Apr 13 15:51:06.892532 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921] Traceback (most recent call last):\n[Thu Apr 13 15:51:06.892564 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921]   File \"/var/www/site/site/wsgi.py\", line 9, in &lt;module&gt;\n[Thu Apr 13 15:51:06.892611 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921]     from django.core.wsgi import get_wsgi_application\n[Thu Apr 13 15:51:06.892647 2017] [wsgi:error] [pid 27831:tid 140404925069056] [remote 134.53.122.114:11921] ImportError: No module named django.core.wsgi\n</code></pre>\n\n<p>wsgy.py:</p>\n\n<pre><code>import os, sys\n\nsys.path.append('/var/www/site')\n\nfrom django.core.wsgi import get_wsgi_application\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"site.settings\")\n\napplication = get_wsgi_application()\n</code></pre>\n\n<p>Apache Conf:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerName site.com\n        ServerAlias www.site.com\n        ServerAdmin admin@site.com\n        DocumentRoot /var/www/site\n\n        WSGIDaemonProcess site python-path=/usr/bin/python\n        WSGIProcessGroup site\n\n        WSGIScriptAlias / /var/www/site/site/wsgi.py process-group=site\n\n        &lt;Directory /var/www/site/site&gt;\n        &lt;Files wsgi.py&gt;\n        Require all granted\n        &lt;/Files&gt;\n        &lt;/Directory&gt;\n\n        Alias /media/ /var/www/site/media/\n        Alias /static/ /var/www/site/static/\n\n        &lt;Directory /var/www/site/static&gt;\n        Require all granted\n        &lt;/Directory&gt;\n\n        &lt;Directory /var/www/site/media&gt;\n        Require all granted\n        &lt;/Directory&gt;\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>When I type <code>which python</code> to find where Python is installed, the result is <code>/usr/bin/python</code></p>\n\n<p>When I try to visit my IP Address in the browser, I receive a 500 Server Error with the admin email provided in the Apache Conf, so I know this file is being used. </p>\n\n<p>When I disable my <code>wsgi.py</code> file through my Apache Conf and visit my IP Address, there is a webpage for me to navigate the files I have in my <code>/var/www/</code> folder.</p>\n\n<p>When I test <code>from django.core.wsgi import get_wsgi_application</code> in the Python console, it works fine.</p>\n\n<p>I am not using virtualenv.</p>\n\n<p>Is there any other way for me to debug this, or has anyone found a solution to this error?</p>\n"}, {"tags": ["python", "pandas", "python-3.6", "timedelta", "python-datetime"], "comments": [{"owner": {"reputation": 2445, "user_id": 940592, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5871e9f85062586b2fc2721d4b997c80?s=128&d=identicon&r=PG", "display_name": "gies0r", "link": "https://stackoverflow.com/users/940592/gies0r"}, "edited": false, "score": 0, "creation_date": 1572789641, "post_id": 43506680, "comment_id": 103661484, "body": "Convert <code>df[&quot;Delta&quot;]</code> to <code>datetime.timedelta</code>"}], "answers": [{"tags": [], "owner": {"reputation": 24193, "user_id": 5811078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NlknE.png?s=128&g=1", "display_name": "zipa", "link": "https://stackoverflow.com/users/5811078/zipa"}, "is_accepted": false, "score": 1, "last_activity_date": 1492639996, "creation_date": 1492639996, "answer_id": 43506968, "question_id": 43506680, "link": "https://stackoverflow.com/questions/43506680/python-pandas-typeerror-unsupported-operand-types-for-datetime-time-and/43506968#43506968", "title": "Python Pandas: TypeError: unsupported operand type(s) for +: &#39;datetime.time&#39; and &#39;Timedelta&#39;", "body": "<p>Try this:</p>\n\n<pre><code>import datetime as dt\n\ndf[\"end_Time\"] = df[\"Start_Time\"] + df[\"Delta\"].map(dt.timedelta)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 7891700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGd3U.jpg?s=128&g=1", "display_name": "DoctorWhom", "link": "https://stackoverflow.com/users/7891700/doctorwhom"}, "edited": false, "score": 0, "creation_date": 1493079062, "post_id": 43506981, "comment_id": 74249251, "body": "pd.to_timedelta worked well for the Delta series to turn it into timedelta64[ns] format but I was having no success converting the Start_Time series into datetime64[ns] with pd.to_datetime.  Another poster suggested converting to string and then using pd.to_datetime which did the trick."}], "tags": [], "owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "is_accepted": true, "score": 11, "last_activity_date": 1492640449, "last_edit_date": 1492640449, "creation_date": 1492640056, "answer_id": 43506981, "question_id": 43506680, "link": "https://stackoverflow.com/questions/43506680/python-pandas-typeerror-unsupported-operand-types-for-datetime-time-and/43506981#43506981", "title": "Python Pandas: TypeError: unsupported operand type(s) for +: &#39;datetime.time&#39; and &#39;Timedelta&#39;", "body": "<h3>The cause</h3>\n\n<p>The error is pretty clear. If you check the types of the elements, you will find out that at some point you are tying to add <code>datetime.time</code> object and <code>pandas.Timedelta</code>. </p>\n\n<p>There are 2 kinds of dates, times and timedeltas: </p>\n\n<ul>\n<li>python's builtin from <code>datetime</code> module i.e. <code>datetime.time</code>, <code>datetime.date</code>, <code>datetime.timedelta</code>, ...</li>\n<li>pandas / numpy i.e <code>pandas.Timestamp</code>, <code>pandas.Timedelta</code></li>\n</ul>\n\n<p>these two stacks are incompatible for basic operations as addition or comparison.</p>\n\n<h3>Solution 1</h3>\n\n<p>Convert everything to pandas type and extract the times in the end</p>\n\n<p>You should make sure, that <code>dtypes</code> of your columns are something like <code>datetime64[ns]</code> and <code>timedelta64[ns]</code>. For that, try converting them explicitly using <code>pd.to_datetime</code> and <code>pd.to_timedelta</code>.</p>\n\n<h3>Solution 2</h3>\n\n<p>Another approach would be just converting the <code>Delta</code> column to <code>datetime.timedelta</code> you could try </p>\n\n<pre><code>df[\"end_Time\"] = df[\"Start_Time\"] + df[\"Delta\"].map(pd.Timedelta.to_pytimedelta)\n</code></pre>\n\n<p>But you may run into some more errors depending on what is in your <code>df[\"Delta\"]</code> and <code>df[\"Start_Time\"]</code></p>\n"}], "owner": {"reputation": 99, "user_id": 7891700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGd3U.jpg?s=128&g=1", "display_name": "DoctorWhom", "link": "https://stackoverflow.com/users/7891700/doctorwhom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34131, "favorite_count": 6, "accepted_answer_id": 43506981, "answer_count": 2, "score": 7, "last_activity_date": 1492640698, "creation_date": 1492638608, "question_id": 43506680, "link": "https://stackoverflow.com/questions/43506680/python-pandas-typeerror-unsupported-operand-types-for-datetime-time-and", "title": "Python Pandas: TypeError: unsupported operand type(s) for +: &#39;datetime.time&#39; and &#39;Timedelta&#39;", "body": "<p>I am attempting to add two series in a dataframe in pandas with the first series being a 24-hr time value (e.g. 17:30) exported from an excel file and the second series being a series of the same length in Timedelta format converted from floats with the 'pd.Timedelta' command.  </p>\n\n<p>The desired resulting third column would be a 24-hr time regardless of day change (e.g. 22:00 + 4 hours = 02:00).</p>\n\n<p>I created the Delta series like this:</p>\n\n<pre><code>delta = pd.Series(0 for x in range(0, len(df.Time_In_Hours)))\n\nfor j in range(0, len(df.Time_In_Hours)):\n    delta[j] = pd.Timedelta(df.Time_In_Hours[j], 'h')\ndf = df.assign(Delta = delta)   \nprint (\"Delta dtype = %s\" % (df.Delta.dtype))\nprint (\"Start_Time dtype = %s\" % (df.Start_Time.dtype))\n\n#Output\nDelta dtype = object\nStart_Time dtype = object\n</code></pre>\n\n<p>My goal is:</p>\n\n<pre><code>df[\"end_Time\"] = df[\"Start_Time\"] + df[\"Delta\"]  \n</code></pre>\n\n<p>The error I am receiving is:\n<strong>TypeError: unsupported operand type(s) for +: 'datetime.time' and 'Timedelta'</strong></p>\n\n<p>It seems this datetime.time format is immutable.  Am I missing something?</p>\n"}, {"tags": ["python", "xml", "python-3.x", "csv", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 6510843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rUZH8ZKizSg/AAAAAAAAAAI/AAAAAAAAA7M/d5BE2lHdH8c/photo.jpg?sz=128", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6510843/santhosh"}, "edited": false, "score": 0, "creation_date": 1492706126, "post_id": 43508107, "comment_id": 74103630, "body": "Thanks Stephen, it worked!! I would like to write output to a CSV file. Can you help me again?"}, {"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "reply_to_user": {"reputation": 309, "user_id": 6510843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rUZH8ZKizSg/AAAAAAAAAAI/AAAAAAAAA7M/d5BE2lHdH8c/photo.jpg?sz=128", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6510843/santhosh"}, "edited": false, "score": 0, "creation_date": 1492706417, "post_id": 43508107, "comment_id": 74103775, "body": "The output I have shown is CSV... Just write to a file instead of printing to the screen"}], "tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 2, "last_activity_date": 1492647177, "creation_date": 1492647177, "answer_id": 43508107, "question_id": 43506613, "link": "https://stackoverflow.com/questions/43506613/xml-to-csv-using-python/43508107#43508107", "title": "XML to CSV using Python", "body": "<p><code>BeautifulSoup</code> can be used to parse XML data.  With well organized data, you just need to loop over the nested tag types and collect the data as you go.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>from BeautifulSoup import BeautifulSoup as Soup\n\ndef parse_xml(file_like):\n    data = []\n    names = []\n    soup = Soup(file_like)\n    for batch in soup.findAll('sample:batch'):\n        for test_data in batch.findAll('sample:testdata'):\n            item = {}\n            for test_item in test_data.findAll('sample:testitem'):\n                name = test_item.find('sample:testitemname').text\n                value = test_item.find('sample:testvalue').text\n                item[name] = value\n                if name not in names:\n                    names.append(name)\n            data.append(item)\n\n    return [names] + [[datum.get(name) for name in names] for datum in data]\n</code></pre>\n\n<p><strong>Test Code:</strong></p>\n\n<pre><code>data = parse_xml(xml_data)\nfor datum in data:\n    print(','.join(datum))\n</code></pre>\n\n<p><strong>Test Data:</strong></p>\n\n<pre><code>from io import StringIO\nxml_data = StringIO(u\"\"\"\n    &lt;sample:batch xmlns:sample=\"http://sample.com/schema/sampleimport\"&gt;\n        &lt;sample:TestData&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field1&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;1&lt;/sample:Testvalue&gt;\n            &lt;/sample:Testitem&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field2&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;Hi&lt;/sample:Testvalue&gt;\n            &lt;/sample:Testitem&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field3&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;1234&lt;/sample:Testvalue&gt;\n        &lt;/sample:TestData&gt;\n        &lt;sample:TestData&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field1&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;3&lt;/sample:Testvalue&gt;\n            &lt;/sample:Testitem&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field2&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;Hello&lt;/sample:Testvalue&gt;\n            &lt;/sample:Testitem&gt;\n            &lt;sample:Testitem&gt;\n                &lt;sample:TestitemName&gt;Field3&lt;/sample:TestitemName&gt;\n                &lt;sample:Testvalue&gt;999&lt;/sample:Testvalue&gt;\n            &lt;/sample:TestItem&gt;\n        &lt;/sample:TestData&gt;\n    &lt;/sample:batch&gt;\n\"\"\")\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<pre><code>Field1,Field2,Field3\n1,Hi,1234\n3,Hello,999\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 530, "user_id": 7929028, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207794047781861/picture?type=large", "display_name": "Vishnu Kiran", "link": "https://stackoverflow.com/users/7929028/vishnu-kiran"}, "is_accepted": false, "score": 1, "last_activity_date": 1552521049, "creation_date": 1552521049, "answer_id": 55152854, "question_id": 43506613, "link": "https://stackoverflow.com/questions/43506613/xml-to-csv-using-python/55152854#55152854", "title": "XML to CSV using Python", "body": "<p>Use pyxmlparser</p>\n\n<p>It is a command line utility to do the same thing!</p>\n\n<p><a href=\"https://pypi.org/project/pyxmlparser/\" rel=\"nofollow noreferrer\">https://pypi.org/project/pyxmlparser/</a></p>\n\n<p>Disclaimer: I am the author of the library. Since it is new I am more than happy to know if it worked.</p>\n"}], "owner": {"reputation": 309, "user_id": 6510843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rUZH8ZKizSg/AAAAAAAAAAI/AAAAAAAAA7M/d5BE2lHdH8c/photo.jpg?sz=128", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/6510843/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2412, "favorite_count": 1, "accepted_answer_id": 43508107, "answer_count": 2, "score": 2, "last_activity_date": 1552521049, "creation_date": 1492638281, "last_edit_date": 1492647160, "question_id": 43506613, "link": "https://stackoverflow.com/questions/43506613/xml-to-csv-using-python", "title": "XML to CSV using Python", "body": "<p>I have XML file which I want to convert to CSV using Python. I need contents from the <code>Testitemname</code> tag as <code>CSV</code> headers and contents in the <code>Testvalue</code> tag as values in CSV.  Can some one help me with this?</p>\n\n<p>Sample XML file (input)</p>\n\n<pre><code>&lt;sample:batch xmlns:sample=\"http://sample.com/schema/sampleimport\"&gt;\n    &lt;sample:TestData&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field1&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;1&lt;/sample:Testvalue&gt;\n        &lt;/sample:Testitem&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field2&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;Hi&lt;/sample:Testvalue&gt;\n        &lt;/sample:Testitem&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field3&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;1234&lt;/sample:Testvalue&gt;\n        &lt;/sample:TestData&gt;\n        &lt;sample:TestData&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field1&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;3&lt;/sample:Testvalue&gt;\n        &lt;/sample:Testitem&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field2&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;Hello&lt;/sample:Testvalue&gt;\n        &lt;/sample:Testitem&gt;\n        &lt;sample:Testitem&gt;\n            &lt;sample:TestitemName&gt;Field3&lt;/sample:TestitemName&gt;\n            &lt;sample:Testvalue&gt;999&lt;/sample:Testvalue&gt;\n        &lt;/sample:TestData&gt;\n</code></pre>\n\n<p>Desired CSV file (Output)</p>\n\n<pre><code>Field1,Field2,Filed3 (Header field names)\n1,Hi,1234 (1st record)\n3,Hello,999 (2nd record)\n</code></pre>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1492638393, "post_id": 43506600, "comment_id": 74067962, "body": "You could show how to link the spacebar with the function."}, {"owner": {"reputation": 1, "user_id": 7892243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d11c1a233916167273fd98fd19fbdfe?s=128&d=identicon&r=PG&f=1", "display_name": "ExplodingCritersz_", "link": "https://stackoverflow.com/users/7892243/explodingcritersz"}, "edited": false, "score": 0, "creation_date": 1492654873, "post_id": 43506600, "comment_id": 74072637, "body": "I used turtle.onkey"}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1559968228, "last_edit_date": 1559968228, "creation_date": 1559967629, "answer_id": 56503385, "question_id": 43506600, "link": "https://stackoverflow.com/questions/43506600/turtle-graphics-keyboard-bound-function-not-working-after-first-time/56503385#56503385", "title": "Turtle graphics: keyboard bound function not working after first time", "body": "<p>You've probably not supplied enough code to debug but any tutorial that includes a <code>time.sleep()</code> in an event-driven environment like turtle is suspect.  Below is a complete, runnable, simplified example of how I might approach this problem.  The player only moves in one dimension, to keep the example simple, but the basic idea should also work in two dimensions:</p>\n\n<pre><code>from turtle import Screen, Turtle\nfrom functools import partial\n\nclass Missle(Turtle):\n    def __init__(self):\n        super().__init__(\"circle\")\n\n        self.hideturtle()\n        self.shapesize(0.5)\n        self.setheading(90)\n        self.penup()\n\n        screen.onkey(self.shoot, \"space\")  # enable shooting\n\n    def track_missle(self, milliseconds=5000):\n        if milliseconds &gt; 0:\n            self.forward(10)\n            milliseconds -= 100\n\n            # can't use partial() due to object has no attribute '__name__'\n            screen.ontimer(lambda: self.track_missle(milliseconds), 100)\n        else:\n            self.hideturtle()  # this shot is finished\n            screen.onkey(self.shoot, \"space\")  # reenable shooting\n\n    def shoot(self):\n        screen.onkey(None, \"space\")  # disable further shots for now\n\n        self.goto(player.position())  # shots originate from player's position\n        self.showturtle()\n\n        screen.ontimer(self.track_missle, 100)  # move for 5 secs, update every 0.1 sec\n\nclass Player(Turtle):\n    def __init__(self):\n        super().__init__(\"triangle\")\n\n        self.settiltangle(90)  # move side to side but face upward\n        self.penup()\n        self.sety(-screen.window_height() / 4)\n\n        screen.onkey(partial(self.forward, 10), \"Right\")\n        screen.onkey(partial(self.backward, 10), \"Left\")\n\nscreen = Screen()\nplayer = Player()\nmissle = Missle()\n\nscreen.listen()\nscreen.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7892243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d11c1a233916167273fd98fd19fbdfe?s=128&d=identicon&r=PG&f=1", "display_name": "ExplodingCritersz_", "link": "https://stackoverflow.com/users/7892243/explodingcritersz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559968228, "creation_date": 1492638212, "last_edit_date": 1559967932, "question_id": 43506600, "link": "https://stackoverflow.com/questions/43506600/turtle-graphics-keyboard-bound-function-not-working-after-first-time", "title": "Turtle graphics: keyboard bound function not working after first time", "body": "<p>I am an inexperienced Python 3 programmer. I created this game following a tutorial on YouTube using the turtle module and I came across a problem. Here is a portion of the code where I think the problem is:</p>\n\n<pre><code>def missile_status(self):\n    i = 0\n    if self.status == \"firing\":\n        while i &lt;= 5:\n            i += 1\n            turtle.time.sleep(1)\n    if i &gt;= 5:\n        self.status = \"ready\"\n\ndef shoot(self):\n    if self.status == \"ready\":\n        self.goto(player_traits.xcor(), player_traits.ycor())\n        self.setheading(player_traits.heading())\n        self.status = \"firing\"\n        self.st()\n</code></pre>\n\n<p>I bound the function <code>shoot</code> to the space bar. When I press the space bar the first time, it executes the function and works fine. But afterwards, if I press the space bar to shoot again (after five seconds) the function doesn't work (it doesn't shoot).</p>\n"}, {"tags": ["python", "tensorflow"], "owner": {"reputation": 75, "user_id": 6411997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86d4ed4f3b89ab16cacf6d180c519cfc?s=128&d=identicon&r=PG&f=1", "display_name": "jdc", "link": "https://stackoverflow.com/users/6411997/jdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1492638011, "creation_date": 1492638011, "question_id": 43506557, "link": "https://stackoverflow.com/questions/43506557/converting-patches-of-a-binary-tensor-to-decimal-in-tensorflow", "title": "Converting patches of a binary tensor to decimal in TensorFlow", "body": "<p>I would like to convert patches of a binary matrix into a decimal matrix with the same shape in TensorFlow. More explicitly,</p>\n\n<ul>\n<li>Input: A binary <code>H x L</code> matrix <code>A</code></li>\n<li>Ouput: An integer matrix <code>X</code> such that <code>X[i,j] = decimal(A[i,(j-k/2):(j+k/2)])</code>. That is for each element of the output it takes a <code>1xk</code> patch of <code>A</code> and converts it to its decimal representation with zero-padding.</li>\n<li>Computational Considerations: <code>k</code> is typically quite large (i.e. 16) and <code>H x L = 32*400</code>. Thus, expanding anything in terms of <code>2**k</code> is computationally infeasible. </li>\n</ul>\n\n<p><strong>Example</strong></p>\n\n<pre><code>A = [[1,1,0,1,0,1],\n     [1,0,1,0,0,0]]\nk = 3\nX = [[3,6,5,2,5,2],\n     [2,5,2,4,0,0]]\n</code></pre>\n\n<p><strong>Naive Solution</strong></p>\n\n<pre><code># Compute all possible binary substrings\nrows = []\nfor i in range(2**k):\n    binary = bin(i)[2:].zfill(k)\n    row = np.array(map(float, list(binary)))\n    rows.append(row)\nW = tf.transpose(tf.to_float(tf.stack(rows))) # K x 2^K\nW = tf.expand_dims(W,0) # 1 x K x 2^K\n\n# Extract the indicator values via convolution\nX = tf.nn.conv2d(A, W, strides=[1,1,1,1], padding = 'SAME') # H x L x 2^K\n\n# Collapse to find the decimal value\nX = tf.argmax(X, axis = 2) # H x L\n</code></pre>\n\n<p>However, the convolution approach forces you to define a tensor with shape <code>H x L x 2^K</code>. Is there a good computationally efficient way to do this in tensorflow without this?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1492669105, "post_id": 43506433, "comment_id": 74077068, "body": "Please check my answer below. Note that while a lookbehind-based regex will be more optimal in this case, I decided to introduce as few changes to the original pattern itself as possible to show how <i>multiple</i> groups can be handled in a single lambda replacement."}], "answers": [{"comments": [{"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1492698153, "post_id": 43506493, "comment_id": 74097859, "body": "Stribizew Thank you so much for the detailed explanation of how pieces work together in your suggested solution!! It works like a charm. I ended up using <code>re.sub(r&#39;\\W+&#39;, &#39;_&#39;, m.group(2))</code> because it&#39;s easier. I&#39;m not very familiar with <code>lambda</code> yet, so I wonder how it is returning groups that matches the regex pattern (without us writing anything explicit like <code>re.search(pat, s)</code> within the <code>lambda</code> statement). If you don&#39;t mind explaining that further or direct me to a good resource, which explains that, I&#39;d greatly appreciate it! :)"}, {"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1492713646, "post_id": 43506493, "comment_id": 74107988, "body": "Thank you so much for the detailed explanation! Your answers are very helpful and clear because of the patient/detail explanation. Today I learned that <code>re.sub</code> passes the matched objects into <code>lambda</code> (or <code>lambda</code> captures whatever matches in <code>re.sub</code>). Very powerful!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 1, "creation_date": 1492713798, "post_id": 43506493, "comment_id": 74108080, "body": "Sorry for formatting. Reposting the comment: Actually, the <code>m</code> in the lambda stands for a match data object. When you use <code>re.sub</code>, the regex engine searches for all non-overlapping occurrences of the pattern, and when a match is found, all the capturing group form <code>.group()</code>s. So, <code>(a)|(b)</code> contains 2 capturing groups, and when used on an <code>abc</code> string, first, <code>a</code> is found (with <code>a</code> in <code>m.group(1)</code> and null/empty (depending on Python version) in <code>m.group(2)</code>). You may access any capturing group or the whole match (<code>m.group()</code>), and do whatever you please (cast to int, increment, etc.)"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1492638080, "last_edit_date": 1492638080, "creation_date": 1492637717, "answer_id": 43506493, "question_id": 43506433, "link": "https://stackoverflow.com/questions/43506433/replacing-the-space-character-with-underscore-within-a-matched-group/43506493#43506493", "title": "Replacing the space character with underscore within a matched group?", "body": "<p>You need a <code>re.sub</code> with a lambda expression as the replacement argument:</p>\n\n<pre><code>import re\ns = \"(case when Campaign='Back to School' and VariableName='Total_FB_Spend' then VariableValue else 0 end) AS Back to School_Total_FB_Spend,(case when Campaign='Back to School' and VariableName='Total_FB_Imp' then VariableValue else 0 end) AS Back to School_Total_FB_Imp\"\npat = r'(end\\) as )([^,]*)'\nprint(re.sub(pat, lambda m: \"{}{}\".format(m.group(1), m.group(2).replace(\" \", \"_\")), s))\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/MAZwn4\" rel=\"nofollow noreferrer\">Python demo</a></p>\n\n<p>Note that I replaced your <code>(.*?(,|$))</code> with a more efficient <code>([^,]*)</code>, any zero or more chars other than <code>,</code>. Now, the whole regex matches:</p>\n\n<ul>\n<li><code>(end\\) as )</code> - Group 1: <code>end) as </code></li>\n<li><code>([^,]*)</code> - Group 2: any zero or more chars other than <code>,</code></li>\n</ul>\n\n<p>Then, with <code>lambda m: \"{}{}\".format(m.group(1), m.group(2).replace(\" \", \"_\"))</code>, the contents of the first  capturing group is copied back to the result unchanged, and the second group contents are modified with <code>.replace(\" \", \"_\")</code>. Certainly, you may run another regex on it if there may be any whitespace, <code>re.sub(r'\\s+', '_', m.group(2))</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "is_accepted": false, "score": 0, "last_activity_date": 1492637822, "creation_date": 1492637822, "answer_id": 43506521, "question_id": 43506433, "link": "https://stackoverflow.com/questions/43506433/replacing-the-space-character-with-underscore-within-a-matched-group/43506521#43506521", "title": "Replacing the space character with underscore within a matched group?", "body": "<p>Use the <a href=\"https://docs.python.org/3/library/stdtypes.html?highlight=replace#bytes.replace\" rel=\"nofollow noreferrer\"><code>bytes.replace()</code></a> function.</p>\n\n<pre><code>'Back to School'.replace(' ', '_')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1492639895, "post_id": 43506838, "comment_id": 74068561, "body": "Just note that a lookbehind is not that flexible as a capturing group as a lookbehind pattern should be of fixed length. You cannot use <code>\\s*</code> nor <code>\\w+</code> there."}, {"owner": {"reputation": 557, "user_id": 6779190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcba1950ebc59c140e0bb91699b5b9af?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/6779190/jonas"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1492640267, "post_id": 43506838, "comment_id": 74068691, "body": "Indeed, but as we are looking for a fixed suffix and postfix this will no be a problem in this scenario."}, {"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1492698266, "post_id": 43506838, "comment_id": 74097938, "body": "@Jonas Thank you for the alternative suggestion. I learned a bit about lookahead/lookbehind pattern in regex for the first time here. When I tried the code you shared above though, I received <code>IndexError: no such group</code>."}, {"owner": {"reputation": 557, "user_id": 6779190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcba1950ebc59c140e0bb91699b5b9af?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/6779190/jonas"}, "edited": false, "score": 1, "creation_date": 1492700342, "post_id": 43506838, "comment_id": 74099675, "body": "My bad, I did some cleaning without testing. <code>group(0)</code> contains the full match, and consecutive indexes will contain the subgroups if any such exists. When I removed the parentheses around <code>[\\w\\s]</code> i also removed the subgroup."}], "tags": [], "owner": {"reputation": 557, "user_id": 6779190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcba1950ebc59c140e0bb91699b5b9af?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas", "link": "https://stackoverflow.com/users/6779190/jonas"}, "is_accepted": false, "score": 1, "last_activity_date": 1492699991, "last_edit_date": 1492699991, "creation_date": 1492639368, "answer_id": 43506838, "question_id": 43506433, "link": "https://stackoverflow.com/questions/43506433/replacing-the-space-character-with-underscore-within-a-matched-group/43506838#43506838", "title": "Replacing the space character with underscore within a matched group?", "body": "<p>Another solution inspired by @Wiktor.</p>\n\n<pre><code>import re\ns = \"(case when Campaign='Back to School' and VariableName='Total_FB_Spend' then VariableValue else 0 end) AS Back to School_Total_FB_Spend,(case when Campaign='Back to School' and VariableName='Total_FB_Imp' then VariableValue else 0 end) AS Back to School_Total_FB_Imp\"\npat = r'(?&lt;=end\\) as )[\\w\\s]*(?=,)'\nprint(re.sub(pat, lambda m: m.group(0).replace(\" \", \"_\"), s, flags=re.IGNORECASE))\n</code></pre>\n\n<p>Here we use the lookahead and lookbehind feature of regex to only match the substring we want to alter. The regex will match any sequence of <strong>word characters</strong> <code>[a-zA-Z0-9_]</code> and <strong>spaces</strong> preceded by <code>end ) as</code>, and followed by <code>,</code>. The main difference is that the match will only contain a single group. </p>\n"}], "owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 43506493, "answer_count": 3, "score": 1, "last_activity_date": 1492699991, "creation_date": 1492637485, "last_edit_date": 1492639130, "question_id": 43506433, "link": "https://stackoverflow.com/questions/43506433/replacing-the-space-character-with-underscore-within-a-matched-group", "title": "Replacing the space character with underscore within a matched group?", "body": "<p>I have a string that looks something like this:</p>\n\n<p><code>\"(case when Campaign='Back to School' and VariableName='Total_FB_Spend' then VariableValue else 0 end) AS Back to School_Total_FB_Spend,(case when Campaign='Back to School' and VariableName='Total_FB_Imp' then VariableValue else 0 end) AS Back to School_Total_FB_Imp\"</code></p>\n\n<p>I would like to use Python regex to remove spaces in the column names after 'end) AS ' character. The result should become something like this</p>\n\n<p><code>\"(case when Campaign='Back to School' and VariableName='Total_FB_Spend' then VariableValue else 0 end) AS Back_to_School_Total_FB_Spend,(case when Campaign='Back to School' and VariableName='Total_FB_Imp' then VariableValue else 0 end) AS Back_to_School_Total_FB_Imp\"</code></p>\n\n<p>I am able to match those parts that I am interested using regex in Python<a href=\"http://pythex.org/?regex=(end%5C)%20as%20)(.*%3F(%2C%7C%24))&amp;test_string=(case%20when%20Campaign%3D%27Back%20to%20School%27%20and%20VariableName%3D%27Total_FB_Spend%27%20then%20VariableValue%20else%200%20end)%20as%20Back%20to%20School_Total_FB_Spend%2C(case%20when%20Campaign%3D%27Back%20to%20School%27%20and%20VariableName%3D%27Total_FB_Imp%27%20then%20VariableValue%20else%200%20end)%20as%20Back%20to%20School_Total_FB_Imp&amp;ignorecase=0&amp;multiline=0&amp;dotall=1&amp;verbose=0\" rel=\"nofollow noreferrer\"> [example here]</a> But I would like to know how to elegantly (e.g., one liner or in a Pythonic way) substitute space characters in groups that matches.</p>\n"}, {"tags": ["python", "redirect", "flask"], "comments": [{"owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "edited": false, "score": 0, "creation_date": 1492637949, "post_id": 43506407, "comment_id": 74067777, "body": "I&#39;m wondering where its getting the <code>http:&#47;&#47;flux</code> from at all if you didn&#39;t have a server_name before. If you search the codebase is the word flux specified anywhere?"}, {"owner": {"reputation": 14299, "user_id": 791713, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1d51e358999bd31439d3810486942e9b?s=128&d=identicon&r=PG", "display_name": "Niklas R", "link": "https://stackoverflow.com/users/791713/niklas-r"}, "reply_to_user": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "edited": false, "score": 0, "creation_date": 1492640439, "post_id": 43506407, "comment_id": 74068740, "body": "@davidejones I think the only place where it could have snatched up that string was <code>app = Flask(__name__)</code> since <code>__name__ == &#39;flask&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 14299, "user_id": 791713, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1d51e358999bd31439d3810486942e9b?s=128&d=identicon&r=PG", "display_name": "Niklas R", "link": "https://stackoverflow.com/users/791713/niklas-r"}, "edited": false, "score": 1, "creation_date": 1492684305, "post_id": 43507170, "comment_id": 74086957, "body": "Unfortunately I get the same behaviour as with the scheme included. What does this change exactly? My app is hidden behind an NGinx proxy as <code>prox_pass http:&#47;&#47;localhost:5001$request_uri;</code>, maybe that is causing some issue? I tried adding <a href=\"https://www.nginx.com/resources/wiki/start/topics/examples/likeapache/#nginx\" rel=\"nofollow noreferrer\">these</a> in case Flask checks the <code>Host</code> header but that didn&#39;t change it either."}, {"owner": {"reputation": 14299, "user_id": 791713, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1d51e358999bd31439d3810486942e9b?s=128&d=identicon&r=PG", "display_name": "Niklas R", "link": "https://stackoverflow.com/users/791713/niklas-r"}, "edited": false, "score": 0, "creation_date": 1492684352, "post_id": 43507170, "comment_id": 74086989, "body": "Hm nevermind, using <code>prox_set_header Host $host;</code> worked!"}, {"owner": {"reputation": 10874, "user_id": 36656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a29caa1a66ae5e3772ed976f6b63527?s=128&d=identicon&r=PG", "display_name": "Adam Byrtek", "link": "https://stackoverflow.com/users/36656/adam-byrtek"}, "reply_to_user": {"reputation": 14299, "user_id": 791713, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1d51e358999bd31439d3810486942e9b?s=128&d=identicon&r=PG", "display_name": "Niklas R", "link": "https://stackoverflow.com/users/791713/niklas-r"}, "edited": false, "score": 0, "creation_date": 1492707096, "post_id": 43507170, "comment_id": 74104171, "body": "Glad that you found a solution, proxies sometimes require special handling: <a href=\"http://flask.pocoo.org/docs/0.12/deploying/wsgi-standalone/#deploying-proxy-setups\" rel=\"nofollow noreferrer\">flask.pocoo.org/docs/0.12/deploying/wsgi-standalone/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10874, "user_id": 36656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a29caa1a66ae5e3772ed976f6b63527?s=128&d=identicon&r=PG", "display_name": "Adam Byrtek", "link": "https://stackoverflow.com/users/36656/adam-byrtek"}, "is_accepted": true, "score": 0, "last_activity_date": 1492641116, "creation_date": 1492641116, "answer_id": 43507170, "question_id": 43506407, "link": "https://stackoverflow.com/questions/43506407/flask-redirect-sends-invalid-host/43507170#43507170", "title": "Flask redirect() sends invalid host", "body": "<p>I think you were on the right track, but you should use just the hostname without the protocol: <code>SERVER_NAME=flux.example.com</code>.</p>\n"}], "owner": {"reputation": 14299, "user_id": 791713, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1d51e358999bd31439d3810486942e9b?s=128&d=identicon&r=PG", "display_name": "Niklas R", "link": "https://stackoverflow.com/users/791713/niklas-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 43507170, "answer_count": 1, "score": 0, "last_activity_date": 1492641116, "creation_date": 1492637403, "question_id": 43506407, "link": "https://stackoverflow.com/questions/43506407/flask-redirect-sends-invalid-host", "title": "Flask redirect() sends invalid host", "body": "<p>I'm pulling out an old Flask application and trying to get it to run. However, <code>flask.redirect()</code> gives me some headache. This used to work before, maybe something changed in the recent Flask versions?</p>\n\n<p>When I visit the application index page (<code>/</code>), it should redirect me to <code>/login</code> due to the <code>requires_auth()</code> decorator on the index view (see below). It actuall does redirect me, but the host is incorrect. Instead of ending up at <code>flux.example.com/login</code>, I end up at <code>flux/login</code>.</p>\n\n<pre><code>def requires_auth(func):\n  ''' Decorator for view functions that require basic authentication. '''\n\n  from .models import Session, User\n\n  @functools.wraps(func)\n  def wrapper(*args, **kwargs):\n    app.logger.warn('Checking authentication ..')  # added for debug purposes just now\n    app.logger.warn('Note: url_for(\\'login\\'): {}'.format(url_for('login')))\n    user_name = session.get('user_name')\n    user_passhash = session.get('user_passhash')\n    with Session() as db_session:\n      user = User.get_by(db_session, user_name, user_passhash)\n      if not user:\n        return redirect(url_for('login'))\n\n    request.user = user\n    return func(*args, **kwargs)\n\n  return wrapper\n</code></pre>\n\n<p>This is the response header:</p>\n\n<pre><code>Connection:keep-alive\nContent-Length:219\nContent-Type:text/html; charset=utf-8\nDate:Wed, 19 Apr 2017 21:18:51 GMT\nLocation:http://flux/login\nServer:nginx/1.6.2\n</code></pre>\n\n<p>Setting <code>SERVER_NAME=https://flux.example.com</code> in the configuration didn't work. Actually, the whole app didn't work anymore, any page I visited I got 404.</p>\n\n<p>How can I fix this redirect issue?</p>\n\n<p>Python 3.6, Flask 0.10.1</p>\n"}, {"tags": ["python", "decorator", "python-2.x", "python-decorators"], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1492639972, "post_id": 43506509, "comment_id": 74068590, "body": "For Python 2, would it not also be relatively easy to write your own <code>wraps()</code> decorator that defined said &quot;convenience&quot; attribute? Seem like that code might work in Python 3 even though not necessary (i.e. it would be portable)?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1492641178, "post_id": 43506509, "comment_id": 74068994, "body": "@martineau: provided you control the source code of the decorator you can easily swap out the <code>wraps()</code> implementation, sure. You probably can monkey-patch <code>functools.update_wrapper</code> too."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 18, "last_activity_date": 1492671256, "last_edit_date": 1492671256, "creation_date": 1492637774, "answer_id": 43506509, "question_id": 43506378, "link": "https://stackoverflow.com/questions/43506378/how-to-get-source-code-of-function-that-is-wrapped-by-a-decorator/43506509#43506509", "title": "How to get source code of function that is wrapped by a decorator?", "body": "<p>In Python 2, the <code>@functools.wraps()</code> decorator does not set the convenience <code>__wrapped__</code> attribute that the <a href=\"https://docs.python.org/3/library/functools.html#functools.wraps\" rel=\"noreferrer\">Python 3 version</a> adds (new in Python 3.2).</p>\n\n<p>This means you'll have to resort to extracting the original function <em>from the closure</em>. Exactly at what location will depend on the exact decorator implementation, but picking the first function object should be a good generalisation:</p>\n\n<pre><code>from types import FunctionType\n\ndef extract_wrapped(decorated):\n    closure = (c.cell_contents for c in decorated.__closure__)\n    return next((c for c in closure if isinstance(c, FunctionType)), None)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>print inspect.getsource(extract_wrapped(my_func))\n</code></pre>\n\n<p>Demo using your sample:</p>\n\n<pre><code>&gt;&gt;&gt; print inspect.getsource(extract_wrapped(my_func))\n@my_decorator\ndef my_func():\n    print \"supposed to return this instead!\"\n    return\n</code></pre>\n\n<p>Another option is to update the <code>functools</code> library to add a <code>__wrapped__</code> attribute for you, the same way Python 3 does:</p>\n\n<pre><code>import functools\n\ndef add_wrapped(uw):\n    @functools.wraps(uw)\n    def update_wrapper(wrapper, wrapped, **kwargs):\n        wrapper = uw(wrapper, wrapped, **kwargs)\n        wrapper.__wrapped__ = wrapped\n        return wrapper\n\nfunctools.update_wrapper = add_wrapped(functools.update_wrapper)\n</code></pre>\n\n<p>Run that code <strong>before</strong> importing the decorator you want to see affected (so they end up using the new version of <code>functools.update_wrapper()</code>). \nYou'll have to manually unwrap still (the Python 2 <code>inspect</code> module doesn't go looking for the attribute); here's a simple helper function do that:</p>\n\n<pre><code>def unwrap(func):\n    while hasattr(func, '__wrapped__'):\n        func = func.__wrapped__\n    return func\n</code></pre>\n\n<p>This will unwrap any level of decorator wrapping. Or use a copy of the <a href=\"https://github.com/python/cpython/blob/v3.6.1/Lib/inspect.py#L458-L488\" rel=\"noreferrer\"><code>inspect.unwrap()</code> implementation from Python 3</a>, which includes checking for accidental circular references.</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 3, "last_activity_date": 1492645894, "creation_date": 1492645894, "answer_id": 43507917, "question_id": 43506378, "link": "https://stackoverflow.com/questions/43506378/how-to-get-source-code-of-function-that-is-wrapped-by-a-decorator/43507917#43507917", "title": "How to get source code of function that is wrapped by a decorator?", "body": "<p>As Martijn Pieters points out in his answer, the Python 2 <code>@functool.wraps()</code> decorator doesn't define a <code>__wrapped__</code> attribute, which would make doing what you want to do very easy. According to the <a href=\"https://docs.python.org/3/library/functools.html?highlight=__wrapped__#functools.update_wrapper\" rel=\"nofollow noreferrer\">documentation</a> I read, even though it was added in Python 3.2, there was a <a href=\"https://bugs.python.org/issue17482\" rel=\"nofollow noreferrer\">bug</a> in the ways it was sometimes handled until version 3.4 was released\u2014so the code below uses v3.4 as the cut-off for defining a custom <code>wraps()</code> decorator.</p>\n\n<p>Since from its name it sounds like you have control over <code>my_decorator()</code>, you can workaround the issue by defining you're own <code>wraps</code>-like function, rather than extracting the original function from the closure, as shown in his answer. Here's how to do it (which works in Python 2 and 3):</p>\n\n<p><sup>(As Martijn also points out, you could monkey-patch the change in by overwriting the <code>functools.wraps</code> module attribute, which would make the change also affect other modules that use <code>functools</code> instead of only the one where it's defined.)</sup></p>\n\n<pre><code>import functools\nimport inspect\nimport sys\n\nif sys.version_info[0:2] &gt;= (3, 4):  # Python v3.4+?\n    wraps = functools.wraps  # built-in has __wrapped__ attribute\nelse:\n    def wraps(wrapped, assigned=functools.WRAPPER_ASSIGNMENTS,\n              updated=functools.WRAPPER_UPDATES):\n        def wrapper(f):\n            f = functools.wraps(wrapped, assigned, updated)(f)\n            f.__wrapped__ = wrapped  # set attribute missing in earlier versions\n            return f\n        return wrapper\n\ndef my_decorator(some_function):\n    @wraps(some_function)\n    def wrapper():\n        some_function()\n\n    return wrapper\n\n@my_decorator\ndef my_func():\n    print(\"supposed to return this instead!\")\n    return\n\nprint(inspect.getsource(my_func.__wrapped__))\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@my_decorator\ndef my_func():\n    print(\"supposed to return this instead!\")\n    return\n</code></pre>\n"}], "owner": {"reputation": 1763, "user_id": 551705, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7311c566c1f1a5fd2326da17fce4a50f?s=128&d=identicon&r=PG", "display_name": "Mariska", "link": "https://stackoverflow.com/users/551705/mariska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4690, "favorite_count": 6, "accepted_answer_id": 43506509, "answer_count": 2, "score": 12, "last_activity_date": 1539722542, "creation_date": 1492637296, "last_edit_date": 1539722542, "question_id": 43506378, "link": "https://stackoverflow.com/questions/43506378/how-to-get-source-code-of-function-that-is-wrapped-by-a-decorator", "title": "How to get source code of function that is wrapped by a decorator?", "body": "<p>I wanted to print the source code for <code>my_func</code>, that is wrapped by <code>my_decorator</code>:</p>\n\n<pre><code>import inspect\nfrom functools import wraps\n\ndef my_decorator(some_function):\n    @wraps(some_function)\n    def wrapper():\n        some_function()\n\n    return wrapper\n\n@my_decorator\ndef my_func():\n    print \"supposed to return this instead!\"\n    return\n\nprint inspect.getsource(my_func)\n</code></pre>\n\n<p>However, it returns source for wrapper instead:</p>\n\n<pre><code>@wraps(some_function)\ndef wrapper():\n    some_function()\n</code></pre>\n\n<p>Is there a way for it to print the following instead?</p>\n\n<pre><code>def my_func():\n    print \"supposed to return this instead!\"\n    return\n</code></pre>\n\n<p>Note that the above is abstracted from a larger program. Of course we can just get rid of the decorator in this example, but that's not what I am looking for. </p>\n"}, {"tags": ["python", "raspberry-pi", "subprocess"], "comments": [{"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "edited": false, "score": 2, "creation_date": 1492637271, "post_id": 43506339, "comment_id": 74067484, "body": "Use <a href=\"https://docs.python.org/2/library/shutil.html\" rel=\"nofollow noreferrer\">shutil.rmtree</a>, it&#39;s simpler."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1492637448, "post_id": 43506339, "comment_id": 74067569, "body": "Also, <a href=\"https://docs.python.org/2/library/shlex.html#shlex.split\" rel=\"nofollow noreferrer\"><code>shlex.split()</code></a> is far more reliable for parsing shell commands."}, {"owner": {"reputation": 89, "user_id": 7881823, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/db6a99fe781c6cf716de1422b4359450?s=128&d=identicon&r=PG&f=1", "display_name": "smartzer", "link": "https://stackoverflow.com/users/7881823/smartzer"}, "edited": false, "score": 0, "creation_date": 1492637980, "post_id": 43506339, "comment_id": 74067792, "body": "I tried shutil.rmtree and nothing happens. And by the way, I only want to delete the contents of the Test folder, not the folder itself"}, {"owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "edited": false, "score": 0, "creation_date": 1492638342, "post_id": 43506339, "comment_id": 74067944, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11025784/calling-rm-from-subprocess-using-wildcards-does-not-remove-the-files\">Calling rm from subprocess using wildcards does not remove the files</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1492694249, "creation_date": 1492694249, "answer_id": 43520705, "question_id": 43506339, "link": "https://stackoverflow.com/questions/43506339/using-subprocess-popen-to-remove-contents-of-folder/43520705#43520705", "title": "Using subprocess.Popen to remove contents of folder", "body": "<p>os.remove deletes files:</p>\n\n<pre><code>directoryToClean = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'Test')\ndirectoryItems = [os.path.join(directoryToClean, f) for f in os.listdir(directoryToClean)]\n[os.remove(f) for f in directoryItems if os.path.isfile(f)]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7881823, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/db6a99fe781c6cf716de1422b4359450?s=128&d=identicon&r=PG&f=1", "display_name": "smartzer", "link": "https://stackoverflow.com/users/7881823/smartzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492694249, "creation_date": 1492637150, "question_id": 43506339, "link": "https://stackoverflow.com/questions/43506339/using-subprocess-popen-to-remove-contents-of-folder", "title": "Using subprocess.Popen to remove contents of folder", "body": "<p>I have this piece of code that works in Python on my Raspberry Pi:</p>\n\n<pre><code>a1 = \"arecord --device=hw:0,0 --format S16_LE --rate 44100 -c1 test.wav\"\nproc = subprocess.Popen(a1.split())\ntime.sleep(5)\nproc.kill()\n</code></pre>\n\n<p>When this executes, the USB sound card I have starts to record audio, and then stops after 5 seconds. But I am trying to execute another command line command using the same format, and it doesn't work:</p>\n\n<pre><code>a2 = \"rm -f Test/*\"\ndelete_contents = subprocess.Popen(a2.split())\n</code></pre>\n\n<p>I am trying to call this to delete everything within my Test folder, and it works when I type the command in the command prompt, but will not delete when I call it from my Python program.</p>\n"}, {"tags": ["python", "jenkins"], "comments": [{"owner": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1492637292, "post_id": 43506322, "comment_id": 74067494, "body": "If you close Python shell (<code>quit()</code>) and issue command <code>whoami</code>, what is the output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4889345"}, "reply_to_user": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1492637338, "post_id": 43506322, "comment_id": 74067510, "body": "@Miros\u0142awZalewski <code># python3.4 Python 3.4.5 (default, Nov  9 2016, 16:24:59)  [GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt;  &gt;&gt;&gt; quit() root@dselilx6390 ~ # whoami root</code>"}, {"owner": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1492637434, "post_id": 43506322, "comment_id": 74067562, "body": "OK, that looks good. What about <code>pwd</code> output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4889345"}, "reply_to_user": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1492637476, "post_id": 43506322, "comment_id": 74067582, "body": "@Miros\u0142awZalewski <code># pwd &#47;root </code>"}], "answers": [{"tags": [], "owner": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "is_accepted": true, "score": 0, "last_activity_date": 1492637893, "last_edit_date": 1495535462, "creation_date": 1492637893, "answer_id": 43506539, "question_id": 43506322, "link": "https://stackoverflow.com/questions/43506322/python-strange-behavior-with-jenkinsapi-module/43506539#43506539", "title": "Python - Strange behavior with jenkinsapi module", "body": "<p>The problem at hand is that when you were able to import <code>jenkinsapi</code>, your working directory was <code>~/jenkinsapi-0.3.4</code>; after log out and log in, your working directory is <code>~</code>. In latter case, Python is unable to find module in the same directory and fails.</p>\n\n<p>If you do <code>cd ~/jenkinsapi-0.3.4</code> and then open Python shell, <code>import jenkinsapi</code> should work.</p>\n\n<p>As a side note, you might want to learn about Pythons virtual environments (see <a href=\"https://stackoverflow.com/q/5844869/3552063\">this StackOverflow question</a> for pointers) and installing packages through <a href=\"https://docs.python.org/3/installing/\" rel=\"nofollow noreferrer\">pip</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4889345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 0, "accepted_answer_id": 43506539, "answer_count": 1, "score": 0, "last_activity_date": 1492637893, "creation_date": 1492637070, "question_id": 43506322, "link": "https://stackoverflow.com/questions/43506322/python-strange-behavior-with-jenkinsapi-module", "title": "Python - Strange behavior with jenkinsapi module", "body": "<p>I am trying to use python to interact with jenkins.</p>\n\n<p>Initially when I tried to <code>import jenkinsapi</code> , I got the below ERROR.</p>\n\n<pre><code>&gt;&gt;&gt; import jenkinsapi\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/__init__.py\", line 49, in &lt;module&gt;\n    from jenkinsapi import (\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/api.py\", line 15, in &lt;module&gt;\n    from jenkinsapi.jenkins import Jenkins\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/jenkins.py\", line 12, in &lt;module&gt;\n    from jenkinsapi.jobs import Jobs\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/jobs.py\", line 6, in &lt;module&gt;\n    from jenkinsapi.job import Job\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/job.py\", line 10, in &lt;module&gt;\n    from jenkinsapi.build import Build\n  File \"/root/jenkinsapi-0.3.4/jenkinsapi/build.py\", line 17, in &lt;module&gt;\n    import pytz\nImportError: No module named 'pytz'\n</code></pre>\n\n<p>Then I installed <code>pytz</code>.</p>\n\n<pre><code># yum install python34-pytz.noarch -y\nLoaded plugins: product-id, rhnplugin, search-disabled-repos, subscription-manager\nThis system is receiving updates from RHN Classic or Red Hat Satellite.\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package python34-pytz.noarch 0:2016.7-1.el7 will be installed\n--&gt; Processing Dependency: python(abi) = 3.4 for package: python34-pytz-2016.7-1.el7.noarch\n--&gt; Running transaction check\n---&gt; Package python34.x86_64 0:3.4.5-3.el7 will be installed\n--&gt; Processing Dependency: python34-libs(x86-64) = 3.4.5-3.el7 for package: python34-3.4.5-3.el7.x86_64\n--&gt; Processing Dependency: libpython3.4m.so.1.0()(64bit) for package: python34-3.4.5-3.el7.x86_64\n--&gt; Running transaction check\n---&gt; Package python34-libs.x86_64 0:3.4.5-3.el7 will be installed\n--&gt; Finished Dependency Resolution\n\nDependencies Resolved\n\n==============================================================================================================================================================================================================================================================================\n Package                                                               Arch                                                           Version                                                              Repository                                                    Size\n==============================================================================================================================================================================================================================================================================\nInstalling:\n python34-pytz                                                         noarch                                                         2016.7-1.el7                                                         epel                                                          46 k\nInstalling for dependencies:\n python34                                                              x86_64                                                         3.4.5-3.el7                                                          epel                                                          50 k\n python34-libs                                                         x86_64                                                         3.4.5-3.el7                                                          epel                                                         6.7 M\n\nTransaction Summary\n==============================================================================================================================================================================================================================================================================\nInstall  1 Package (+2 Dependent packages)\n\nTotal download size: 6.8 M\nInstalled size: 28 M\nDownloading packages:\n(1/3): python34-3.4.5-3.el7.x86_64.rpm                                                                                                                                                                                                                 |  50 kB  00:00:00     \n(2/3): python34-pytz-2016.7-1.el7.noarch.rpm                                                                                                                                                                                                           |  46 kB  00:00:00     \n(3/3): python34-libs-3.4.5-3.el7.x86_64.rpm                                                                                                                                                                                                            | 6.7 MB  00:00:01     \n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nTotal                                                                                                                                                                                                                                         4.2 MB/s | 6.8 MB  00:00:01     \nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : python34-3.4.5-3.el7.x86_64                                                                                                                                                                                                                                1/3 \n  Installing : python34-libs-3.4.5-3.el7.x86_64                                                                                                                                                                                                                           2/3 \n  Installing : python34-pytz-2016.7-1.el7.noarch                                                                                                                                                                                                                          3/3 \n  Verifying  : python34-pytz-2016.7-1.el7.noarch                                                                                                                                                                                                                          1/3 \n  Verifying  : python34-libs-3.4.5-3.el7.x86_64                                                                                                                                                                                                                           2/3 \n  Verifying  : python34-3.4.5-3.el7.x86_64                                                                                                                                                                                                                                3/3 \n\nInstalled:\n  python34-pytz.noarch 0:2016.7-1.el7                                                                                                                                                                                                                                         \n\nDependency Installed:\n  python34.x86_64 0:3.4.5-3.el7                                                                                                       python34-libs.x86_64 0:3.4.5-3.el7                                                                                                      \n\nComplete!\n</code></pre>\n\n<p>This resulted in successful import of <code>jenkinsapi</code> </p>\n\n<pre><code>root@dselilx6390 ~/jenkinsapi-0.3.4\n# python3.4\nPython 3.4.5 (default, Nov  9 2016, 16:24:59) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import jenkinsapi\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I was able to do a lot of work and then logged out of python CLI. I then logged back in and tried to <code>import jenkinsapi</code> and then got the ERROR.</p>\n\n<pre><code>&gt;&gt;&gt; import jenkinsapi\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'jenkinsapi'\n</code></pre>\n\n<p>All of a sudden, its giving me an <code>ImportError: No module named 'jenkinsapi'</code> error. I have not installed any packages or modified anything. What could have gone wrong ?</p>\n"}, {"tags": ["python", "url", "dom", "python-requests"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1492636977, "post_id": 43506268, "comment_id": 74067350, "body": "What&#39;s &quot;more or less nothing&quot;? The specifics would be helpful."}, {"owner": {"reputation": 6200, "user_id": 1040092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/se31H.jpg?s=128&g=1", "display_name": "Wondercricket", "link": "https://stackoverflow.com/users/1040092/wondercricket"}, "edited": false, "score": 3, "creation_date": 1492637119, "post_id": 43506268, "comment_id": 74067409, "body": "A majority of the content appears to be dynamically loaded through ajax, which requests does not handle. Try <a href=\"http://stackoverflow.com/questions/17540971/how-to-use-selenium-with-python\">selenium</a>"}, {"owner": {"reputation": 593, "user_id": 6709460, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5690f0e727245b25c629f15db11e251c?s=128&d=identicon&r=PG&f=1", "display_name": "Testing man", "link": "https://stackoverflow.com/users/6709460/testing-man"}, "edited": false, "score": 0, "creation_date": 1492637176, "post_id": 43506268, "comment_id": 74067435, "body": "Sorry guys, yes content is completely different. IT has to do something with Ajax... Any clue how to solve that? A lot of data is missing. EDITED: O.K. I will try with Selenium"}, {"owner": {"reputation": 3857, "user_id": 3552063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/H6Z98.png?s=128&g=1", "display_name": "Mirek D\u0142ugosz", "link": "https://stackoverflow.com/users/3552063/mirek-d%c5%82ugosz"}, "edited": false, "score": 0, "creation_date": 1492638184, "post_id": 43506268, "comment_id": 74067885, "body": "@Testingman you might start with my <a href=\"http://stackoverflow.com/a/34474093/3552063\">old answer to the same problem</a>. That was for R, but resolution is exactly the same - you either reverse-engineer their API and use it directly, or you hook into running browser that takes care of loading dynamic content for you."}, {"owner": {"reputation": 593, "user_id": 6709460, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5690f0e727245b25c629f15db11e251c?s=128&d=identicon&r=PG&f=1", "display_name": "Testing man", "link": "https://stackoverflow.com/users/6709460/testing-man"}, "edited": false, "score": 0, "creation_date": 1492683834, "post_id": 43506268, "comment_id": 74086660, "body": "Miroslaw, thank you. May I just ask how do i reverse-enigneer of their api? Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 3554727, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/tvUzL.jpg?s=128&g=1", "display_name": "felixc", "link": "https://stackoverflow.com/users/3554727/felixc"}, "is_accepted": false, "score": 0, "last_activity_date": 1492643102, "creation_date": 1492643102, "answer_id": 43507509, "question_id": 43506268, "link": "https://stackoverflow.com/questions/43506268/python-requests-what-i-am-missing/43507509#43507509", "title": "python requests, what i am missing?", "body": "<p>Did you try to use space instead of '%20' here?</p>\n"}], "owner": {"reputation": 593, "user_id": 6709460, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5690f0e727245b25c629f15db11e251c?s=128&d=identicon&r=PG&f=1", "display_name": "Testing man", "link": "https://stackoverflow.com/users/6709460/testing-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492643102, "creation_date": 1492636823, "question_id": 43506268, "link": "https://stackoverflow.com/questions/43506268/python-requests-what-i-am-missing", "title": "python requests, what i am missing?", "body": "<pre><code>import requests\n\na = 'http://www.wipo.int/branddb/en/?q={\"searches\":[{\"te\":\"coca%20cola\",\"fi\":\"BRAND\"}]}'\n\nb = requests.get(a)\n\nprint(b.text)\n</code></pre>\n\n<p>Here is a simple webpage. If I paste url in browser and open the link, I get the results I want to see. If I check DOM, I get to see whole html, however if I use python requests, I get more or less nothing. Anybody understand why and how could i solve that?</p>\n"}, {"tags": ["python", "mongodb", "pymongo", "bson"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 2, "creation_date": 1492636867, "post_id": 43506233, "comment_id": 74067300, "body": "<code>print</code> calls <code>str</code> on each argument, so <code>print(ObjectId())</code> outputs the result of <code>str(ObjectId())</code>. You&#39;ll have to call <code>repr</code> (explicitly): <code>print(repr(ObjectId()))</code>"}, {"owner": {"reputation": 1294, "user_id": 3939059, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ede6e5871a5dbaa20848216bb42554a?s=128&d=identicon&r=PG&f=1", "display_name": "user3939059", "link": "https://stackoverflow.com/users/3939059/user3939059"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1492638282, "post_id": 43506233, "comment_id": 74067923, "body": "thanks - make sense."}], "answers": [{"tags": [], "owner": {"reputation": 880, "user_id": 1600523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e3cd6e9f621b8309a480e8b83f021b1a?s=128&d=identicon&r=PG", "display_name": "skynyrd", "link": "https://stackoverflow.com/users/1600523/skynyrd"}, "is_accepted": true, "score": 0, "last_activity_date": 1492637770, "creation_date": 1492637770, "answer_id": 43506508, "question_id": 43506233, "link": "https://stackoverflow.com/questions/43506233/pymongo-objectid-prints-string-instead-of-object/43506508#43506508", "title": "PyMongo: ObjectId() prints string instead of Object", "body": "<p>You are already converting converting your id <code>string</code> to <code>ObjectId</code> indeed.\nAs print function returns your <code>ObjectId</code> to <code>string</code> type in order to print properly, instead of printing the value itself, try printing the type.</p>\n\n<pre><code>var1 = ObjectId(session['id'])\nvar2 = ObjectId()\n\nprint(var1)\nprint(var2)\nprint(type(var1))\nprint(type(var2))\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>58a09f4255c205690833f9dd\n58f7d1606cb710c54a14ae82\n&lt;class 'bson.objectid.ObjectId'&gt;\n&lt;class 'bson.objectid.ObjectId'&gt;\n</code></pre>\n\n<p>So you can use <code>var1</code> and <code>var2</code> in where you want to use your ObjectIds.</p>\n"}, {"tags": [], "owner": {"reputation": 2194, "user_id": 5728217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xB1kwBRrfk0/AAAAAAAAAAI/AAAAAAAAALs/b_r00eLGBbM/photo.jpg?sz=128", "display_name": "julian salas", "link": "https://stackoverflow.com/users/5728217/julian-salas"}, "is_accepted": false, "score": 0, "last_activity_date": 1492641598, "creation_date": 1492641598, "answer_id": 43507267, "question_id": 43506233, "link": "https://stackoverflow.com/questions/43506233/pymongo-objectid-prints-string-instead-of-object/43507267#43507267", "title": "PyMongo: ObjectId() prints string instead of Object", "body": "<p>Before of converting directly from <code>str</code> to <code>objectid</code> try you validate with <code>ObjectId.is_valid</code> if is a validate str for <code>objectid</code> return <code>True</code> so you can do something as like:</p>\n\n<pre><code>  if ObjectId(session['id']):\n      try:\n          id_object_valid = ObjectId(session['id'])\n      except (InvalidId, TypeError):\n          return False\n</code></pre>\n"}], "owner": {"reputation": 1294, "user_id": 3939059, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ede6e5871a5dbaa20848216bb42554a?s=128&d=identicon&r=PG&f=1", "display_name": "user3939059", "link": "https://stackoverflow.com/users/3939059/user3939059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2652, "favorite_count": 0, "accepted_answer_id": 43506508, "answer_count": 2, "score": -1, "last_activity_date": 1492641598, "creation_date": 1492636682, "question_id": 43506233, "link": "https://stackoverflow.com/questions/43506233/pymongo-objectid-prints-string-instead-of-object", "title": "PyMongo: ObjectId() prints string instead of Object", "body": "<p>I am trying to convert an <code>id</code> string to an <code>ObjectId()</code></p>\n\n<p>I have the following imports:</p>\n\n<pre><code>from pymongo import MongoClient\nimport pymongo\nfrom bson.objectid import ObjectId\n</code></pre>\n\n<p>If i print:</p>\n\n<pre><code>print(ObjectId(session['id']))\nprint(ObjectId())\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>58a09f4255c205690833f9dd\n58f7d1606cb710c54a14ae82\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>ObjectId(\"58a09f4255c205690833f9dd\")\nObjectId(\"58f7d1606cb710c54a14ae82\")\n</code></pre>\n\n<p>FYI:</p>\n\n<pre><code>pymongo==3.4.0\nbson==0.4.7\n</code></pre>\n\n<p>I have tried (with no luck):</p>\n\n<pre><code>import bson\nprint(bson.ObjectId(session['id']))\nprint(bson.ObjectId())\n</code></pre>\n"}, {"tags": ["python", "opencv", "blob", "typeerror"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492636919, "post_id": 43506228, "comment_id": 74067322, "body": "Is that just the error message?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5717710"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492669285, "post_id": 43506228, "comment_id": 74077174, "body": "Indeed, the error is &quot;TypeError: bad argument type for built-in operation&quot; on line &quot;im = cv2.imread(stream.array, cv2.IMREAD_GRAYSCALE)&quot;"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492669814, "post_id": 43506228, "comment_id": 74077477, "body": "Where did you get the code? And what version of opencv do you have?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5717710"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492673900, "post_id": 43506228, "comment_id": 74079927, "body": "I actually made it myself by copying parts of other scripts. The Blob detection is coming from <a href=\"https://www.learnopencv.com/blob-detection-using-opencv-python-c/\" rel=\"nofollow noreferrer\">learnopencv.com/blob-detection-using-opencv-python-c</a>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492673999, "post_id": 43506228, "comment_id": 74079997, "body": "The problem is that in the example shown in the link uses an image, instead in your code you use a video."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492674086, "post_id": 43506228, "comment_id": 74080063, "body": "Must change <code>im = cv2.imread(stream.array, cv2.IMREAD_GRAYSCALE)</code> to <code>im = cv2.cvtColor(stream.array, cv2.COLOR_BGR2GRAY)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5717710"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492674116, "post_id": 43506228, "comment_id": 74080080, "body": "Indeed. So I want it for video."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492674185, "post_id": 43506228, "comment_id": 74080136, "body": "Can you try the change?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5717710"}, "is_accepted": false, "score": 0, "last_activity_date": 1492723915, "creation_date": 1492723915, "answer_id": 43530281, "question_id": 43506228, "link": "https://stackoverflow.com/questions/43506228/imread-on-raspberry-typeerror/43530281#43530281", "title": "Imread on Raspberry TypeError", "body": "<p>Answer from Eyllanesc was correct:</p>\n\n<p>Must change im = cv2.imread(stream.array, cv2.IMREAD_GRAYSCALE) to im = cv2.cvtColor(stream.array, cv2.COLOR_BGR2GRAY)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5717710"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492723915, "creation_date": 1492636655, "question_id": 43506228, "link": "https://stackoverflow.com/questions/43506228/imread-on-raspberry-typeerror", "title": "Imread on Raspberry TypeError", "body": "<p>I am trying the Blob detection Example from LearnOpenCV on the Raspberry Pi, but continue to get errors om the imread file. The error is \"TypeError: bad argument type for built-in operation\".</p>\n\n<p>This is the code:</p>\n\n<pre><code>import picamera.array\nimport picamera\nimport numpy as np\nimport cv2\n\nwith picamera.PiCamera() as camera:\n    with picamera.array.PiRGBArray(camera) as stream:\n        camera.resolution = (320,240)\n\n        while True:\n            camera.capture(stream, 'bgr', use_video_port=True)\n\n            im = cv2.imread(stream.array, cv2.IMREAD_GRAYSCALE)\n            detector = cv2.SimpleBlobDetector_create()\n            keypoints = detector.detect(im)\n            im_with_keypoints = cv2.drawKeypoints(im, keypoints, np.array([]), (0,0,255), cv2.DRAW_MATCHES_FLAGS_DRAW_RICH_KEYPOINTS)\n            cv2.imshow(\"Keypoints\", im_with_keypoints)\n            if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n                break\n\n            stream.seek(0)\n            stream.truncate()\n        cv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492636727, "post_id": 43506180, "comment_id": 74067227, "body": "I think the button is pressed?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492636773, "post_id": 43506180, "comment_id": 74067255, "body": "Is that the complete code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7697343"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492637408, "post_id": 43506180, "comment_id": 74067548, "body": "I took the photo when I wasn&#39;t pressing any buttons. Additionally, 1 should be printed if it was pressed. No, I took out a bit of it (the imports and creating the QApplication, creating and showing the window and starting the event loop)."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492637495, "post_id": 43506180, "comment_id": 74067593, "body": "You have tried running it back, it seems like a very strange behavior."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7697343"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492645352, "post_id": 43506180, "comment_id": 74070263, "body": "Running it back?"}, {"owner": {"reputation": 1183, "user_id": 2525237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/05lHI.jpg?s=128&g=1", "display_name": "sunyata", "link": "https://stackoverflow.com/users/2525237/sunyata"}, "edited": false, "score": 0, "creation_date": 1492710732, "post_id": 43506180, "comment_id": 74106324, "body": "Have you tried running this code on another platform? Is the problem still there?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7697343"}, "edited": false, "score": 0, "creation_date": 1492716172, "post_id": 43506180, "comment_id": 74109394, "body": "I only have my mac to run it on."}], "owner": {"user_type": "does_not_exist", "display_name": "user7697343"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492636784, "creation_date": 1492636420, "last_edit_date": 1492636784, "question_id": 43506180, "link": "https://stackoverflow.com/questions/43506180/pyqt5-one-button-is-differently-shaped", "title": "PyQt5: One button is differently shaped", "body": "<p>I using PyQt5.8 to create a horizontal layout of buttons to be displayed in the center of the window. However, I am having a display issue when the program is run.</p>\n\n<pre><code>class MainWindow(QMainWindow):\n    def __init__(self, *args, **kwargs):\n        super(MainWindow, self).__init__(*args, **kwargs)     \n\n        self.setWindowTitle('Test Title')\n\n        layout = QHBoxLayout()\n\n        for n in range(10):\n\n            btn = QPushButton(str(n))                \n            btn.pressed.connect(lambda x = n: self.my_custom_fn(x))                \n            layout.addWidget(btn)\n\n        widget = QWidget()            \n        widget.setLayout(layout)\n\n        self.setCentralWidget(widget)\n\n    def my_custom_fn(self, a):\n        print (a)\n</code></pre>\n\n<p>My issue is when I run the program, the '1' button is a different shape than the rest of the buttons. </p>\n\n<p><a href=\"https://i.stack.imgur.com/udRWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/udRWO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is this? If I expand the window, the '1' button matches the format of the other buttons. What can I do to prevent the '1' button from becoming 'square'?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 2514, "user_id": 6130540, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/DthfT.png?s=128&g=1", "display_name": "Clone", "link": "https://stackoverflow.com/users/6130540/clone"}, "edited": false, "score": 0, "creation_date": 1492659397, "post_id": 43506206, "comment_id": 74073772, "body": "This code works well but I don&#39;t get how this works: <code>[^&#39;]*</code>. Is that used to capture the question-mark or perhaps everything after <code>\\w{3}</code> that is not a single quote?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2514, "user_id": 6130540, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/DthfT.png?s=128&g=1", "display_name": "Clone", "link": "https://stackoverflow.com/users/6130540/clone"}, "edited": false, "score": 1, "creation_date": 1492669359, "post_id": 43506206, "comment_id": 74077214, "body": "@Clone: I have added the explanation for <code>[^&#39;]*</code> in the answer, look: 1) <code>[^&#39;]</code> is a <a href=\"http://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\"><b>negated character class</b></a> that matches <b><i>any</b> 0+ chars <b>other than</b> a single quote</i> - <i>zero or more</i>  is expressed with the help of the <code>*</code> quantifier."}, {"owner": {"reputation": 2514, "user_id": 6130540, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/DthfT.png?s=128&g=1", "display_name": "Clone", "link": "https://stackoverflow.com/users/6130540/clone"}, "edited": false, "score": 0, "creation_date": 1492669680, "post_id": 43506206, "comment_id": 74077404, "body": "Thank you for your comment! So basically it matches anything after <code>\\w{3}</code> that is <b>not</b> a single quote? Am I right?"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1492636543, "creation_date": 1492636543, "answer_id": 43506206, "question_id": 43506147, "link": "https://stackoverflow.com/questions/43506147/regex-select-an-expression-between-single-quotes/43506206#43506206", "title": "Regex - select an expression between single quotes", "body": "<p>You may use:</p>\n\n<pre><code>import re\nteststring = \"Lorem 'hello_kitty.cmd?command91' ipsum hello_kitty.cmd?command92\"\nprint(re.sub(r\"'\\w+\\.\\w{3}[^']*'\", \"'x'\", teststring))\n# =&gt; Lorem 'x' ipsum hello_kitty.cmd?command92\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/nZAYzI\" rel=\"nofollow noreferrer\">Python demo</a></p>\n\n<p>The pattern now matches:</p>\n\n<ul>\n<li><code>'</code> - a single quote</li>\n<li><code>\\w+</code> - 1 or more word chars</li>\n<li><code>\\.</code> - a dot</li>\n<li><code>\\w{3}</code>  - 3 word chars</li>\n<li><code>[^']*</code> - a negated character class matching any 0+ chars other than a single quote</li>\n<li><code>'</code> - a single quote.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1255, "user_id": 7739713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3hPF.png?s=128&g=1", "display_name": "acidtobi", "link": "https://stackoverflow.com/users/7739713/acidtobi"}, "is_accepted": false, "score": 0, "last_activity_date": 1492636762, "creation_date": 1492636762, "answer_id": 43506254, "question_id": 43506147, "link": "https://stackoverflow.com/questions/43506147/regex-select-an-expression-between-single-quotes/43506254#43506254", "title": "Regex - select an expression between single quotes", "body": "<p>Simply use a non-greedy regular expression:</p>\n\n<pre><code>import re\nteststring = \"Lorem 'hello_kitty.cmd?command91' ipsum hello_kitty.cmd?command92\"\nprint(re.sub(r\"'.*?'\", \"'x'\", teststring)\n</code></pre>\n\n<p>Returns <code>Lorem 'x' ipsum hello_kitty.cmd?command9</code></p>\n\n<p>The regular expression <code>'.*?'</code> matches everything between single quotes, but takes the shortest possible string.</p>\n"}, {"comments": [{"owner": {"reputation": 2514, "user_id": 6130540, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/DthfT.png?s=128&g=1", "display_name": "Clone", "link": "https://stackoverflow.com/users/6130540/clone"}, "edited": false, "score": 0, "creation_date": 1492658988, "post_id": 43506321, "comment_id": 74073657, "body": "Thank you for your contribution! It is a very interesting <b>Regex</b>-snippet which does indeed work on this example but it will also selects all things between single quotes so it will get <code>&#39;dontselect_me&#39;</code> too which is not what I want in my project. I want to select things between single quotes hat match a specific relationship that I devised in my post; select everything between single quotes that is separated by a dot and has some word characters (<code>\\w</code>) between before the dot and has at least 3 word characters after the dot (<code>.</code>) ."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1492637062, "creation_date": 1492637062, "answer_id": 43506321, "question_id": 43506147, "link": "https://stackoverflow.com/questions/43506147/regex-select-an-expression-between-single-quotes/43506321#43506321", "title": "Regex - select an expression between single quotes", "body": "<p>To put my two cents in, you could use:</p>\n\n<pre><code>'[^']+' # quotes with a negated character class in between\n</code></pre>\n\n<p><hr>\nWhich in <code>Python</code> would be:</p>\n\n<pre><code>import re\n\nstring = \"\"\"\n\"Lorem 'hello_kitty.dat' ipsum.\"\n\"Lorem 'hello_kitty.cmd?command91' ipsum hello_kitty.cmd?command92\"\n\"\"\"\n\nrx = re.compile(r\"'[^']+'\")\nstring = rx.sub(\"x\", string)\nprint(string)\n\n# \"Lorem x ipsum.\"\n# \"Lorem x ipsum hello_kitty.cmd?command92\"\n</code></pre>\n"}], "owner": {"reputation": 2514, "user_id": 6130540, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/DthfT.png?s=128&g=1", "display_name": "Clone", "link": "https://stackoverflow.com/users/6130540/clone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1210, "favorite_count": 0, "accepted_answer_id": 43506206, "answer_count": 3, "score": 2, "last_activity_date": 1492637062, "creation_date": 1492636306, "question_id": 43506147, "link": "https://stackoverflow.com/questions/43506147/regex-select-an-expression-between-single-quotes", "title": "Regex - select an expression between single quotes", "body": "<p>My goal is to select strings like <code>hello_kitty.dat</code> from <code>Lorem 'hello_kitty.dat' ipsum.</code>. </p>\n\n<p>I have written this snippet that works to some extent for smaller strings\n (from <code>teststring</code> select one or more (<code>+</code>) word characters (<code>\\w</code>) before a dot (<code>\\.</code>) with three word characters after that (<code>\\w{3}</code>) and <strong>sub</strong>stitute selection with <code>x</code>). </p>\n\n<pre><code>&gt;&gt;&gt; teststring = \"Lorem 'hello_kitty.dat' ipsum.\"\n&gt;&gt;&gt; print(re.sub(r'\\w+\\.\\w{3}', \"x\", teststring))\n\n\"Lorem 'x' ipsum.\"\n</code></pre>\n\n<p>But how would I modify the code to select everything between single quotes even if that does not follow my pattern completely after the <code>\\w{3}</code>?</p>\n\n<p><code>teststring</code> could be \n<code>\"Lorem 'hello_kitty.cmd?command91' ipsum hello_kitty.cmd?command92\"</code> but wouldn't want to select <code>hello_kitty.cmd?command92</code> in this case since its outside of single quotes.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1492637002, "last_edit_date": 1492637002, "creation_date": 1492636323, "answer_id": 43506150, "question_id": 43506123, "link": "https://stackoverflow.com/questions/43506123/slicing-to-reverse-part-of-a-list-in-python/43506150#43506150", "title": "Slicing to reverse part of a list in python", "body": "<p>Use <code>None</code> if <code>begin</code> is <code>0</code>:</p>\n\n<pre><code>mysublist = mylist[end - 1:None if not begin else begin - 1:-1]\n</code></pre>\n\n<p><code>None</code> means 'default', the same thing as omitting a value.</p>\n\n<p>You can always put the conditional expression on a separate line:</p>\n\n<pre><code>start, stop, step = end - 1, None if not begin else begin - 1, -1\nmysublist = mylist[start:stop:step]\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; mylist = ['foo', 'bar', 'baz', 'eggs']\n&gt;&gt;&gt; begin, end = 1, 3\n&gt;&gt;&gt; mylist[end - 1:None if not begin else begin - 1:-1]\n['baz', 'bar']\n&gt;&gt;&gt; begin, end = 0, 3\n&gt;&gt;&gt; mylist[end - 1:None if not begin else begin - 1:-1]\n['baz', 'bar', 'foo']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492636387, "post_id": 43506157, "comment_id": 74067037, "body": "<code>reversed()</code> doesn&#39;t return a list, it returns an <i>iterator</i>."}], "tags": [], "owner": {"reputation": 1370, "user_id": 2797066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/n7U7h.jpg?s=128&g=1", "display_name": "enedil", "link": "https://stackoverflow.com/users/2797066/enedil"}, "is_accepted": false, "score": 1, "last_activity_date": 1492636406, "last_edit_date": 1492636406, "creation_date": 1492636353, "answer_id": 43506157, "question_id": 43506123, "link": "https://stackoverflow.com/questions/43506123/slicing-to-reverse-part-of-a-list-in-python/43506157#43506157", "title": "Slicing to reverse part of a list in python", "body": "<p>You can always use the power of functional transformations:</p>\n\n<pre><code>mysublist = list(reversed(mylist[begin:end]))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492636497, "post_id": 43506185, "comment_id": 74067099, "body": "This still creates <i>two</i> list objects however."}, {"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1492636574, "post_id": 43506185, "comment_id": 74067143, "body": "@MartijnPieters it does, but it depends what you&#39;re trying to optimize.  The mission was to do it &quot;in one line&quot; so I assume readability trumps efficiency.  Your solution with the ternary operator is technically unassailable, but I would find it unreadable."}], "tags": [], "owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "is_accepted": false, "score": 3, "last_activity_date": 1492636451, "creation_date": 1492636451, "answer_id": 43506185, "question_id": 43506123, "link": "https://stackoverflow.com/questions/43506123/slicing-to-reverse-part-of-a-list-in-python/43506185#43506185", "title": "Slicing to reverse part of a list in python", "body": "<p>You could simply collapse your two lines into one:</p>\n\n<pre><code>mysublist = mylist[begin:end][::-1]\n</code></pre>\n"}], "owner": {"reputation": 19375, "user_id": 1735003, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qNeQo.png?s=128&g=1", "display_name": "P-Gn", "link": "https://stackoverflow.com/users/1735003/p-gn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 43506150, "answer_count": 3, "score": 4, "last_activity_date": 1492637002, "creation_date": 1492636220, "question_id": 43506123, "link": "https://stackoverflow.com/questions/43506123/slicing-to-reverse-part-of-a-list-in-python", "title": "Slicing to reverse part of a list in python", "body": "<p>I have a list, of which I want to extract a subslice from back to end. With two lines of code, this is</p>\n\n<pre><code>mylist = [...]\nmysublist = mylist[begin:end]\nmysublist = mysublist[::-1]\n</code></pre>\n\n<p>Is there a slicing notation to get the same effect in one line? This</p>\n\n<pre><code>mysublist = mylist[end:begin:-1]\n</code></pre>\n\n<p>is incorrect, because it includes the <code>end</code> and excludes the <code>begin</code> elements. This</p>\n\n<pre><code>mysublist = mylist[end-1:begin-1:-1]\n</code></pre>\n\n<p>fails when <code>begin</code> is 0, because <code>begin-1</code> is now <code>-1</code> which is interpreted as the index of the last element of <code>mylist</code>.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1492636465, "post_id": 43506115, "comment_id": 74067079, "body": "Could you explain how to install the numpy library?"}, {"owner": {"reputation": 824, "user_id": 1133237, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/35558a157957edc310fbf1239f92350a?s=128&d=identicon&r=PG", "display_name": "excalibur", "link": "https://stackoverflow.com/users/1133237/excalibur"}, "edited": false, "score": 0, "creation_date": 1492636624, "post_id": 43506115, "comment_id": 74067179, "body": "only relevant code is &quot;import numpy&quot;"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1492636775, "post_id": 43506115, "comment_id": 74067258, "body": "<a href=\"http://stackoverflow.com/questions/36643549/no-module-found-in-my-python-solved\" title=\"no module found in my python solved\">stackoverflow.com/questions/36643549/&hellip;</a>"}, {"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 0, "creation_date": 1492637001, "post_id": 43506115, "comment_id": 74067364, "body": "do you have pip tool installed??? If yes then simply do <code>pip install numpy</code>"}, {"owner": {"reputation": 824, "user_id": 1133237, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/35558a157957edc310fbf1239f92350a?s=128&d=identicon&r=PG", "display_name": "excalibur", "link": "https://stackoverflow.com/users/1133237/excalibur"}, "edited": false, "score": 0, "creation_date": 1492637134, "post_id": 43506115, "comment_id": 74067415, "body": "bwt i do have a core inside numpy in the same location - no idea why its not finding it - packages/python/2.7.2/lib/python2.7/site-packages//numpy/cor&zwnj;&#8203;e/__init__.py"}, {"owner": {"reputation": 1486, "user_id": 6828711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G2j21.png?s=128&g=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/6828711/nan"}, "edited": false, "score": 0, "creation_date": 1492640125, "post_id": 43506115, "comment_id": 74068649, "body": "from numpy import core   .... then do a dir(core) to see what you have"}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "edited": false, "score": 0, "creation_date": 1492663917, "post_id": 43506115, "comment_id": 74075028, "body": "It&#39;s not trying to import <code>numpy.core</code>, it&#39;s trying to import <code>numpy.ma.core</code>."}, {"owner": {"reputation": 633, "user_id": 4558602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lAKtLomiKDU/AAAAAAAAAAI/AAAAAAAAAB0/GSkJkVYn9HM/photo.jpg?sz=128", "display_name": "Abhishek Menon", "link": "https://stackoverflow.com/users/4558602/abhishek-menon"}, "edited": false, "score": 0, "creation_date": 1492666142, "post_id": 43506115, "comment_id": 74075765, "body": "Do you have multiple versions of python/pip installed? Check the directory of python and pip using <code>which pip</code> and <code>which python</code>."}], "answers": [{"tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": false, "score": 0, "last_activity_date": 1492664513, "last_edit_date": 1492664513, "creation_date": 1492663765, "answer_id": 43510440, "question_id": 43506115, "link": "https://stackoverflow.com/questions/43506115/python-numpy-importerror-no-module-named-core/43510440#43510440", "title": "python numpy ImportError: No module named core", "body": "<p>You are using a very old numpy version (older than 1.7, which was released 4+ years ago) that still uses implicit relative imports within the package. The error you're seeing is a common issue with such imports, and has been addressed in more recent NumPy releases. Update NumPy, and this problem should go away.</p>\n"}], "owner": {"reputation": 824, "user_id": 1133237, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/35558a157957edc310fbf1239f92350a?s=128&d=identicon&r=PG", "display_name": "excalibur", "link": "https://stackoverflow.com/users/1133237/excalibur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2914, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492664513, "creation_date": 1492636190, "question_id": 43506115, "link": "https://stackoverflow.com/questions/43506115/python-numpy-importerror-no-module-named-core", "title": "python numpy ImportError: No module named core", "body": "<p>Im unable to launch a python script using numpy - any idea what/where this core is?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/scripts/python/foo.py\", line 9, in &lt;module&gt;\n    import numpy\n  File \"/packages/python/2.7.2/lib/python2.7/site-packages/numpy/__init__.py\", line 156, in &lt;module&gt;\n    import ma\n  File \"/packages/python/2.7.2/lib/python2.7/site-packages/numpy/ma/__init__.py\", line 44, in &lt;module&gt;\n    import core\nImportError: No module named core\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "function", "input"], "comments": [{"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 1, "creation_date": 1492636234, "post_id": 43506075, "comment_id": 74066961, "body": "Take a look at the <code>input</code> function for a start :-)"}, {"owner": {"reputation": 280, "user_id": 7892199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a7db2b9896c551979b0dae76afc65d4?s=128&d=identicon&r=PG&f=1", "display_name": "icelandico", "link": "https://stackoverflow.com/users/7892199/icelandico"}, "reply_to_user": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 0, "creation_date": 1492636294, "post_id": 43506075, "comment_id": 74066995, "body": "I did it already. I put 4 &#39;inputs&#39; before every functions definition but I still don&#39;t know what to type at the end of code..."}], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 7892199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a7db2b9896c551979b0dae76afc65d4?s=128&d=identicon&r=PG&f=1", "display_name": "icelandico", "link": "https://stackoverflow.com/users/7892199/icelandico"}, "edited": false, "score": 0, "creation_date": 1492637095, "post_id": 43506175, "comment_id": 74067400, "body": "That&#39;s the point. The last line solved my problem. Thanks a lot !"}], "tags": [], "owner": {"reputation": 24193, "user_id": 5811078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NlknE.png?s=128&g=1", "display_name": "zipa", "link": "https://stackoverflow.com/users/5811078/zipa"}, "is_accepted": true, "score": 2, "last_activity_date": 1492636398, "creation_date": 1492636398, "answer_id": 43506175, "question_id": 43506075, "link": "https://stackoverflow.com/questions/43506075/how-to-make-function-variables-defined-by-user/43506175#43506175", "title": "How to make function variables defined by user?", "body": "<p>Try this for start:</p>\n\n<pre><code>a = input(\"Town:\\n\")\nb = int(input(\"Days:\\n\"))\nc = int(input(\"Money:\\n\"))\n\nprint (trip_cost(a, b, c))\n</code></pre>\n"}], "owner": {"reputation": 280, "user_id": 7892199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a7db2b9896c551979b0dae76afc65d4?s=128&d=identicon&r=PG&f=1", "display_name": "icelandico", "link": "https://stackoverflow.com/users/7892199/icelandico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 43506175, "answer_count": 1, "score": -2, "last_activity_date": 1492636398, "creation_date": 1492636040, "question_id": 43506075, "link": "https://stackoverflow.com/questions/43506075/how-to-make-function-variables-defined-by-user", "title": "How to make function variables defined by user?", "body": "<p>So I have code like this: </p>\n\n<pre><code>def hotel_cost(nights):\n    return 140 * nights\n\ndef plane_ride_cost(city):\n    if city == \"Charlotte\":\n        return 183\n    elif city == \"Tampa\":\n        return 220\n    elif city == \"Pittsburgh\":\n        return 222\n    elif city == \"Los Angeles\":\n        return 475\n\ndef rental_car_cost(days):\n    cost = 40 * days\n    if days &gt;= 7:\n        cost -= 50\n    elif days &gt;= 3:\n        cost -= 20\n    return cost\n\ndef trip_cost(city, days, spending_money):\n    return plane_ride_cost(city) + rental_car_cost(days) + hotel_cost(days) + spending_money\n\nprint (trip_cost(\"Tampa\", 2, 200))\n</code></pre>\n\n<p>I know that I need to use input() to make all 4 variables (nights, city, days, spending_money) to be defined by user. But how exactly?</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1492636244, "post_id": 43506067, "comment_id": 74066968, "body": "<code>soup.find_all(&#39;h2&#39;,{&#39;class&#39;:&#39;product-name&#39;})</code>"}, {"owner": {"reputation": 76, "user_id": 7892175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6756f98085779ff3b5b6570e03081a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wakun", "link": "https://stackoverflow.com/users/7892175/wakun"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1492636574, "post_id": 43506067, "comment_id": 74067144, "body": "I tried it and it prints only a &quot;None&quot; dozen of times.         `        for link in soup.find_all(&#39;h2&#39;,{&#39;class&#39;:&#39;product-name&#39;}):             title = link.string             print title`"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1492636828, "post_id": 43506067, "comment_id": 74067283, "body": "You want <code>link.text</code> and not <code>link.string</code>"}, {"owner": {"reputation": 76, "user_id": 7892175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6756f98085779ff3b5b6570e03081a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wakun", "link": "https://stackoverflow.com/users/7892175/wakun"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1492637442, "post_id": 43506067, "comment_id": 74067565, "body": "Oh, that was the problem. Thank you so much!"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1492637584, "post_id": 43506067, "comment_id": 74067615, "body": "You&#39;re very welcome!"}], "owner": {"reputation": 76, "user_id": 7892175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6756f98085779ff3b5b6570e03081a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wakun", "link": "https://stackoverflow.com/users/7892175/wakun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1492636263, "answer_count": 0, "score": 0, "last_activity_date": 1492636017, "creation_date": 1492636017, "question_id": 43506067, "link": "https://stackoverflow.com/questions/43506067/getting-a-string-from-a-in-specific-h2-header", "closed_reason": "Duplicate", "title": "Getting a string from a in specific h2 header", "body": "<p>I have html which have couple headers. Single one looks like this: </p>\n\n<pre><code>&lt;h2 class=\"product-name\"&gt;\n                &lt;a href=\"url\"&gt;\n                    text&lt;/a&gt;\n            &lt;/h2&gt;\n</code></pre>\n\n<p>How I can get the 'text' only if there is class=product-name in the h2?\nI tried some ways to do this and none of them worked. </p>\n"}, {"tags": ["python", "google-analytics"], "answers": [{"comments": [{"owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1492720538, "post_id": 43517675, "comment_id": 74111716, "body": "Where do I change that?"}, {"owner": {"reputation": 2699, "user_id": 7813005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AK9sU.png?s=128&g=1", "display_name": "Ben P", "link": "https://stackoverflow.com/users/7813005/ben-p"}, "reply_to_user": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "edited": false, "score": 0, "creation_date": 1492764307, "post_id": 43517675, "comment_id": 74127897, "body": "When you edit your segment in GA there&#39;s a drop down in the top left corner to select &#39;user&#39; or &#39;session&#39; level."}], "tags": [], "owner": {"reputation": 2699, "user_id": 7813005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AK9sU.png?s=128&g=1", "display_name": "Ben P", "link": "https://stackoverflow.com/users/7813005/ben-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1492686071, "creation_date": 1492686071, "answer_id": 43517675, "question_id": 43506047, "link": "https://stackoverflow.com/questions/43506047/google-analytics-api-gaday-not-showing-correct-data/43517675#43517675", "title": "Google Analytics API - ga:day not showing correct data", "body": "<p>One thing worth checking if the setup of your segments in GA - if you want to pull session data from them ensure they are set to session level, rather than user level, as this may be impacting your data when you try and match it back to GA reports.</p>\n"}], "owner": {"reputation": 11447, "user_id": 1072337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/072d9a026068ebfb9292d6c2aada071d?s=128&d=identicon&r=PG", "display_name": "user1072337", "link": "https://stackoverflow.com/users/1072337/user1072337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492686071, "creation_date": 1492635939, "question_id": 43506047, "link": "https://stackoverflow.com/questions/43506047/google-analytics-api-gaday-not-showing-correct-data", "title": "Google Analytics API - ga:day not showing correct data", "body": "<p>I am trying to pull Session data by day for particular segments.  I am trying to do this with the script below.</p>\n\n<p>However, when I use ga:day as a dimension, the sessions returned are much lower than what they are in the Google Analytics user interface.</p>\n\n<p>Also, the results.get(date) item is returning \"None\" (if I give a range of dates, it still only comes up with one session number).</p>\n\n<p>What am I not seeing?</p>\n\n<pre><code>def get_segment_sessions(service, profile_id, segment_id):\n\n    return service.data().ga().get(\n      ids='ga:' + profile_id,\n      segment='gaid::' + segment_id,\n      dimensions='ga:day',\n      start_date='2017-04-14',\n      end_date='2017-04-14',\n      metrics='ga:sessions').execute()\n\ndef print_results(results):\n  # Print data nicely for the user.\n  if results:\n    print 'View (Profile): %s' % results.get('profileInfo').get('profileName')\n    print 'Date: %s' % results.get('date') + ' Total Sessions: %s' % results.get('rows')[0][0]\n\n  else:\n    print 'No results found'\n\ndef main():\n  # Define the auth scopes to request.\n  scope = ['https://www.googleapis.com/auth/analytics.readonly']\n\n  # Use the developer console and replace the values with your\n  # service account email and relative location of your key file.\n  service_account_email = '**********'\n  key_file_location = '********'\n\n  # Authenticate and construct service.\n  service = get_service('analytics', 'v3', scope, key_file_location,\n    service_account_email)\n  profile = get_first_profile_id(service)\n  print_results(get_results(service, profile))\n  get_segments(service)\n\n  #print odd video sessions\n  print_results(get_segment_sessions(service, profile, '*********'))\n\n  #print even video sessions\n  print_results(get_segment_sessions(service, profile, '********'))\n\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n"}, {"tags": ["python", "json", "openssl"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492636003, "post_id": 43506011, "comment_id": 74066834, "body": "Use <code>json.dumps</code> to convert <i>to</i> JSON."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492636219, "post_id": 43506011, "comment_id": 74066951, "body": "What do you want to serialize? A string of the output lines? That&#39;s just <code>json.dumps(temp_txt_strings)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 7631879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f96672808646dd5a2f7bae549e383f?s=128&d=identicon&r=PG&f=1", "display_name": "zguesmi", "link": "https://stackoverflow.com/users/7631879/zguesmi"}, "is_accepted": true, "score": 2, "last_activity_date": 1492638478, "creation_date": 1492638478, "answer_id": 43506654, "question_id": 43506011, "link": "https://stackoverflow.com/questions/43506011/convert-the-output-of-openssl-command-to-json/43506654#43506654", "title": "Convert the output of openssl command to JSON", "body": "<p>You can split every line with \"=\" as a separator, put the two parts in an ordered dictionary and then dump it to json:</p>\n\n<pre><code>my_list = \"serial=CABCSDUMMY4A168847703FGH\".split(\"=\")\nordered_dict = OrderedDict()\nordered_dict[my_list[0]] = my_list[1]\nprint(json.dumps(ordered_dict))\n</code></pre>\n\n<p>the output would be like this:</p>\n\n<pre><code>{\"serial\": \"CABCSDUMMY4A168847703FGH\"}\n</code></pre>\n\n<p>you can do it for all lines.\nPS don't forget to import json and OrderedDict</p>\n"}], "owner": {"reputation": 465, "user_id": 1140106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0909a8b4bb65fc36f018e5f707ba857a?s=128&d=identicon&r=PG", "display_name": "GManika", "link": "https://stackoverflow.com/users/1140106/gmanika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1971, "favorite_count": 0, "accepted_answer_id": 43506654, "answer_count": 1, "score": 1, "last_activity_date": 1536200687, "creation_date": 1492635787, "last_edit_date": 1536200687, "question_id": 43506011, "link": "https://stackoverflow.com/questions/43506011/convert-the-output-of-openssl-command-to-json", "title": "Convert the output of openssl command to JSON", "body": "<p>The output of the <code>openssl</code> command looks like this:</p>\n\n<pre><code>serial=CABCSDUMMY4A168847703FGH\nnotAfter=Oct 21 16:43:47 2024 GMT\nsubject= /C=US/ST=WA/L=Seattle/O=MyCo/OU=TME/CN=MyCo.example.com\n</code></pre>\n\n<p>How do I convert this string to JSON?</p>\n\n<p>I tried these:</p>\n\n<pre><code>temp_txt_bytes = subprocess.check_output ([\"openssl\", \"x509\", \"-serial\", \"-enddate\", \"-subject\", \"-noout\", \"-in\", pem_file_name])\n\ntemp_txt_strings = temp_txt_bytes.decode(\"utf-8\")\n\ntest = json.loads(temp_txt_strings) #json.parse, json.dump, and json.load also failing\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492636790, "post_id": 43506103, "comment_id": 74067268, "body": "Nope doesn&#39;t work. I added the static file finders, I don&#39;t think I need them because django.contrib.staticfiles is already included. But I changed the static root to the directory where it is in my app and it still doesn&#39;t work."}, {"owner": {"reputation": 20414, "user_id": 2532070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XA5Jn.jpg?s=128&g=1", "display_name": "YPCrumble", "link": "https://stackoverflow.com/users/2532070/ypcrumble"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492637213, "post_id": 43506103, "comment_id": 74067451, "body": "@MarkBarrett <code>STATIC_ROOT</code> should be a new directory, like <code>.&#47;static&#47;</code> where your files get collected...not where it&#39;s collecting the static files from. Collectstatic finds static files in all the directories you specify, and collects them in one place."}, {"owner": {"reputation": 20414, "user_id": 2532070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XA5Jn.jpg?s=128&g=1", "display_name": "YPCrumble", "link": "https://stackoverflow.com/users/2532070/ypcrumble"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492637350, "post_id": 43506103, "comment_id": 74067518, "body": "@MarkBarrett I&#39;m guessing the issue is my edit, your directory structure."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492637586, "post_id": 43506103, "comment_id": 74067617, "body": "Yea that fixed it. It collects the static but all of the static files are 404"}, {"owner": {"reputation": 20414, "user_id": 2532070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XA5Jn.jpg?s=128&g=1", "display_name": "YPCrumble", "link": "https://stackoverflow.com/users/2532070/ypcrumble"}, "reply_to_user": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492637689, "post_id": 43506103, "comment_id": 74067662, "body": "@MarkBarrett that&#39;s a separate problem, but the best solution is probably looking at what the URL is that is a 404 and making sure your <code>STATIC_URL</code> and <code>STATIC_ROOT</code> work together to point the files there."}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "edited": false, "score": 0, "creation_date": 1492639848, "post_id": 43506103, "comment_id": 74068537, "body": "Yea not sure why I&#39;m getting the 404. Very confused about the whole thing because I deployed a second app and never had this problem!"}, {"owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "reply_to_user": {"reputation": 20414, "user_id": 2532070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XA5Jn.jpg?s=128&g=1", "display_name": "YPCrumble", "link": "https://stackoverflow.com/users/2532070/ypcrumble"}, "edited": false, "score": 0, "creation_date": 1492640040, "post_id": 43506103, "comment_id": 74068621, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/142119/discussion-between-mark-barrett-and-ypcrumble\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 20414, "user_id": 2532070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XA5Jn.jpg?s=128&g=1", "display_name": "YPCrumble", "link": "https://stackoverflow.com/users/2532070/ypcrumble"}, "is_accepted": false, "score": 0, "last_activity_date": 1492637334, "last_edit_date": 1495540947, "creation_date": 1492636132, "answer_id": 43506103, "question_id": 43505953, "link": "https://stackoverflow.com/questions/43505953/django-static-files-no-module-named-app-name/43506103#43506103", "title": "Django Static Files No module named &lt;app_name&gt;", "body": "<p>Make sure you set <code>STATICFILES_FINDERS</code> to the <a href=\"https://docs.djangoproject.com/en/1.11/ref/settings/#staticfiles-finders\" rel=\"nofollow noreferrer\">default setting in the docs</a> - that's what finds static files within your apps. Your static files are appropriately located in the <code>/static/</code> folder within your app, so you can delete your <code>STATICFILES_DIRS</code> setting.</p>\n\n<p>You'll probably want to add a <code>STATIC_ROOT</code> and <code>STATIC_URL</code> per <a href=\"https://docs.djangoproject.com/en/1.11/ref/settings/#static-files\" rel=\"nofollow noreferrer\">the docs</a> as well.</p>\n\n<p>EDIT: You also have a weird directory structure. It should look more like <a href=\"https://stackoverflow.com/a/41963237/2532070\">https://stackoverflow.com/a/41963237/2532070</a> - with <code>ticketr</code> directory inside the first <code>django_project</code> directory, at the same level as <code>manage.py</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "is_accepted": true, "score": 0, "last_activity_date": 1492642391, "creation_date": 1492642391, "answer_id": 43507394, "question_id": 43505953, "link": "https://stackoverflow.com/questions/43505953/django-static-files-no-module-named-app-name/43507394#43507394", "title": "Django Static Files No module named &lt;app_name&gt;", "body": "<p>So basically my problem was a couple of things. I setup a new droplet and started again and I got it to work:</p>\n\n<ol>\n<li>My app was in the wrong directory. It must be within the django_project directory in the same directory as the manage.py file.</li>\n<li>As stated above I had to alter my STATIC_URL and STATIC_ROOT</li>\n<li><p>Once thats done I had to restart gunicorn and refresh the static files using:</p>\n\n<p>python manage.py collectstatic --noinput --clear</p>\n\n<p>NB. Make sure that the application is in the same directory as the django_project. home/django/django_project &lt;- there.</p></li>\n</ol>\n"}], "owner": {"reputation": 166, "user_id": 5434276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01c59de1bec7a7bd15f8423b257efa14?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Barrett", "link": "https://stackoverflow.com/users/5434276/mark-barrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "accepted_answer_id": 43507394, "answer_count": 2, "score": 1, "last_activity_date": 1492642391, "creation_date": 1492635534, "question_id": 43505953, "link": "https://stackoverflow.com/questions/43505953/django-static-files-no-module-named-app-name", "title": "Django Static Files No module named &lt;app_name&gt;", "body": "<p>I'm writing a Django app and I deployed it online but I am running into some problems with the static files. When I run the collectstatic command it says 'There is no module named '. I have looked at the questions on here and none of them answer my question. </p>\n\n<p>My static files were stupidly put into the apps specific directory, however I moved them out and tried to run it when they are in the right directory but still no luck.</p>\n\n<p>It is really strange:</p>\n\n<p><strong>Settings.py:</strong></p>\n\n<pre><code>\"\"\"\nDjango settings for django_project project.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.6/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.6/ref/settings/\n\"\"\"\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nimport os\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.6/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'secret'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nTEMPLATE_DEBUG = True\n\nALLOWED_HOSTS = ['*']\n\n# Application definition\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'ticketr', # App name\n)\n\nMIDDLEWARE_CLASSES = (\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n)\n\nROOT_URLCONF = 'django_project.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, '../templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'django_project.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/1.6/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, '../db.sqlite3'),\n    }\n}\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.6/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.6/howto/static-files/\nSTATICFILES_DIRS = '/home/django/ticketr/static'\n# Tried it at: '/home/django/django_project/django_project/static'\n# Also tried it at: '/home/django/static'\nSTATIC_URL = '/static/'\n</code></pre>\n\n<p><strong>Directory</strong></p>\n\n<pre><code>   .\n    \u251c\u2500\u2500 db.sqlite3\n    \u251c\u2500\u2500 django_project\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 db.sqlite3\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 django_project\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.pyc\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.pye\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.pyc\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 wsgi.py\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.pyc\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 manage.py\n    \u251c\u2500\u2500 images\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 event_images\n    \u251c\u2500\u2500 media\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 images\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 qrcode\n    \u251c\u2500\u2500 qrcode\n    \u251c\u2500\u2500 templates\n    \u2514\u2500\u2500 ticketr\n        \u251c\u2500\u2500 admin.py\n        \u251c\u2500\u2500 admin.pyc\n        \u251c\u2500\u2500 apps.py\n        \u251c\u2500\u2500 forms.py\n        \u251c\u2500\u2500 forms.pyc\n        \u251c\u2500\u2500 helper.py\n        \u251c\u2500\u2500 helper.pyc\n        \u251c\u2500\u2500 __init__.py\n        \u251c\u2500\u2500 __init__.pyc\n        \u251c\u2500\u2500 media\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 images\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 event_images\n        \u251c\u2500\u2500 migrations\n        \u251c\u2500\u2500 models.py\n        \u251c\u2500\u2500 models.pyc\n        \u251c\u2500\u2500 static\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 css\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap.css\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap.css.map\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap.min.css\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap.min.css.map\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap-theme.css\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap-theme.css.map\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bootstrap-theme.min.css\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 bootstrap-theme.min.css.map\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 fonts\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyphicons-halflings-regular.eot\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyphicons-halflings-regular.svg\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyphicons-halflings-regular.ttf\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyphicons-halflings-regular.woff\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 glyphicons-halflings-regular.woff2\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 images\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 background1.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 event_images\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 logo.png\n        \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 qr.jpg\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 js\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 bootstrap.min.js\n        \u251c\u2500\u2500 templatetags\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 ticket_extras.py\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 ticket_extras.pyc\n        \u251c\u2500\u2500 tests.py\n        \u251c\u2500\u2500 urls.py\n        \u251c\u2500\u2500 urls.pyc\n        \u251c\u2500\u2500 views.py\n        \u2514\u2500\u2500 views.pyc\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 0, "creation_date": 1492636783, "post_id": 43505938, "comment_id": 74067265, "body": "The line <code>if sys.argv[1] == &#39;a&#39;:</code> compares the user input to the character <code>a</code>. I don&#39;t think this is what you want. Try removing the single quotes so that you compare <code>argv[1]</code> to the value of the variable <code>a</code>, not the character <code>&#39;a&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 7819572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f21d73f3f9fc0267ea2f11bf37b5de0?s=128&d=identicon&r=PG&f=1", "display_name": "Piduna", "link": "https://stackoverflow.com/users/7819572/piduna"}, "edited": false, "score": 0, "creation_date": 1492636434, "post_id": 43506120, "comment_id": 74067064, "body": "but what about my way ? it should not work ? if i want to use loop ?"}, {"owner": {"reputation": 7083, "user_id": 4211135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70fd7db022a4fc71ad40335fce1e750e?s=128&d=identicon&r=PG&f=1", "display_name": "brianpck", "link": "https://stackoverflow.com/users/4211135/brianpck"}, "reply_to_user": {"reputation": 145, "user_id": 7819572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f21d73f3f9fc0267ea2f11bf37b5de0?s=128&d=identicon&r=PG&f=1", "display_name": "Piduna", "link": "https://stackoverflow.com/users/7819572/piduna"}, "edited": false, "score": 0, "creation_date": 1492636635, "post_id": 43506120, "comment_id": 74067184, "body": "Your example mixes up the function variable (<code>a</code>) with a similar string (<code>&#39;a&#39;</code>): they&#39;re not the same. There&#39;s no need to add a loop, since the <code>in</code> operator in my example does all the checking you need."}], "tags": [], "owner": {"reputation": 7083, "user_id": 4211135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70fd7db022a4fc71ad40335fce1e750e?s=128&d=identicon&r=PG&f=1", "display_name": "brianpck", "link": "https://stackoverflow.com/users/4211135/brianpck"}, "is_accepted": true, "score": 0, "last_activity_date": 1492636217, "creation_date": 1492636217, "answer_id": 43506120, "question_id": 43505938, "link": "https://stackoverflow.com/questions/43505938/change-conditions-using-loop-and-array-in-python/43506120#43506120", "title": "Change conditions using loop and array in python", "body": "<p>You can add the functions to the dictionary and then use the user-input string to retrieve the function:</p>\n\n<pre><code>actions = {\n    'add': add,\n    'rem': rem,\n    'rmusr': rmusr,\n}\n\naction = sys.argv[1]\n\nif action in actions:\n    sys.exit(actions[action](db, usr))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 1, "last_activity_date": 1492636375, "creation_date": 1492636375, "answer_id": 43506166, "question_id": 43505938, "link": "https://stackoverflow.com/questions/43505938/change-conditions-using-loop-and-array-in-python/43506166#43506166", "title": "Change conditions using loop and array in python", "body": "<p>Use a dictionary:</p>\n\n<pre><code>actions = {'add': add, 'rem': rem, 'rmusr': rmusr}\n\ntry:\n    sys.exit(actions[sys.argv[1]](db, usr))\nexcept KeyError:\n   pass\n   # or whatever you need to do for an invalid action\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 825, "user_id": 5108838, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMH5l.png?s=128&g=1", "display_name": "0xMH", "link": "https://stackoverflow.com/users/5108838/0xmh"}, "is_accepted": false, "score": 0, "last_activity_date": 1492639062, "creation_date": 1492639062, "answer_id": 43506776, "question_id": 43505938, "link": "https://stackoverflow.com/questions/43505938/change-conditions-using-loop-and-array-in-python/43506776#43506776", "title": "Change conditions using loop and array in python", "body": "<p>your code could be right but there is a typo on it.</p>\n\n<pre><code>actions = ['add','rem','rmusr']\nfor a in actions:\n    if sys.argv[1] == 'a':\n        sys.exit(a(db, usr))\n</code></pre>\n\n<p>I think It's better using in:</p>\n\n<pre><code>actions = ['add','rem','rmusr']\nif sys.argv[1] in actions:\n    sys.exit(sys.argv[1](db, usr))\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 7819572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f21d73f3f9fc0267ea2f11bf37b5de0?s=128&d=identicon&r=PG&f=1", "display_name": "Piduna", "link": "https://stackoverflow.com/users/7819572/piduna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 43506120, "answer_count": 3, "score": 1, "last_activity_date": 1492639062, "creation_date": 1492635490, "question_id": 43505938, "link": "https://stackoverflow.com/questions/43505938/change-conditions-using-loop-and-array-in-python", "title": "Change conditions using loop and array in python", "body": "<p>i have and old script in python, where in <br></p>\n\n<pre><code>if __name__ == '__main__': &lt;br&gt;\n</code></pre>\n\n<p>We call arguments of functions. And if it argument equals some string we should call function. \nOld code. </p>\n\n<pre><code>if sys.argv[1] == 'add':\n    sys.exit(add(db, usr))\nif sys.argv[1] == 'rem':\n    sys.exit(rem(db, usr))\nif sys.argv[1] == 'rmusr':\n    sys.exit(rmusr(db, usr))\n</code></pre>\n\n<p>At the first time, i thought about \"switch case\", but how i find out, python does not have it. And i tried to loop and array. \nCan i use it on this ? Sorry, i started learn python, 2 hours ago. But it is very interesting, and i hope, that you can help me.</p>\n\n<pre><code> actions = ['add','rem','rmusr']\n    for a in actions:\n    if sys.argv[1] == 'a':\n        sys.exit(a(db, usr))\n</code></pre>\n\n<p>Is it correct ? How i find out, we should not call variables with \"$\". Please help. </p>\n"}, {"tags": ["python", "dictionary", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 475, "user_id": 2391458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7597c607b98cbca3c8d548bb78f4262?s=128&d=identicon&r=PG&f=1", "display_name": "FCo", "link": "https://stackoverflow.com/users/2391458/fco"}, "edited": false, "score": 2, "creation_date": 1492635710, "post_id": 43505971, "comment_id": 74066699, "body": "alternatively, <code>for idx, item in enumerate list: d[index] = item</code>"}, {"owner": {"reputation": 2020, "user_id": 1433712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2be98543dfefb8fbc4c9560de093c34c?s=128&d=identicon&r=PG", "display_name": "Alden", "link": "https://stackoverflow.com/users/1433712/alden"}, "edited": false, "score": 3, "creation_date": 1492635732, "post_id": 43505971, "comment_id": 74066710, "body": "Also alternatively, <code>d = { k: v for k, v in enumerate(list) }</code>"}], "tags": [], "owner": {"reputation": 8268, "user_id": 7602518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddcddc4afafdfc5603b2473b191c74f?s=128&d=identicon&r=PG", "display_name": "Pedro Castilho", "link": "https://stackoverflow.com/users/7602518/pedro-castilho"}, "is_accepted": true, "score": 7, "last_activity_date": 1492635605, "creation_date": 1492635605, "answer_id": 43505971, "question_id": 43505921, "link": "https://stackoverflow.com/questions/43505921/python-trying-to-create-a-dictionary-through-a-for-loop/43505971#43505971", "title": "Python - Trying to create a dictionary through a for loop", "body": "<p>You set an item in a dictionary by doing <code>dictionary[key] = item</code>, so in your case you would do:</p>\n\n<pre><code>list = [102, 232, 424]\ncount = 0\nd = {} #Empty dictionary to add values into\n\nfor i in list:\n    d[count] = i\n    count+=1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1183, "user_id": 1843486, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/182a396a44b8707669ccb54f34c3c703?s=128&d=identicon&r=PG&f=1", "display_name": "sparkonhdfs", "link": "https://stackoverflow.com/users/1843486/sparkonhdfs"}, "is_accepted": false, "score": 2, "last_activity_date": 1492635731, "creation_date": 1492635731, "answer_id": 43505996, "question_id": 43505921, "link": "https://stackoverflow.com/questions/43505921/python-trying-to-create-a-dictionary-through-a-for-loop/43505996#43505996", "title": "Python - Trying to create a dictionary through a for loop", "body": "<p>You can do this in one line without using a For loop or a Counter variable:</p>\n\n<pre><code>dict(zip(range(0, len(list)), list))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 5, "last_activity_date": 1492636305, "creation_date": 1492636305, "answer_id": 43506146, "question_id": 43505921, "link": "https://stackoverflow.com/questions/43505921/python-trying-to-create-a-dictionary-through-a-for-loop/43506146#43506146", "title": "Python - Trying to create a dictionary through a for loop", "body": "<p>You can use enumerate:</p>\n\n<pre><code>list = [102, 232, 424]\nd = {}\n\nfor a, b in enumerate(list):\n    d[a] = b\n</code></pre>\n\n<p>or, using dictionary comprehension:</p>\n\n<pre><code>d = {a:b for a, b in enumerate(list)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10099323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2Imc.jpg?s=128&g=1", "display_name": "jethro_the_cat", "link": "https://stackoverflow.com/users/10099323/jethro-the-cat"}, "is_accepted": false, "score": 1, "last_activity_date": 1540376814, "creation_date": 1540376814, "answer_id": 52966631, "question_id": 43505921, "link": "https://stackoverflow.com/questions/43505921/python-trying-to-create-a-dictionary-through-a-for-loop/52966631#52966631", "title": "Python - Trying to create a dictionary through a for loop", "body": "<p>This is a more complicated version of the problem but it is still essentially creating a dictionary with a for loop. I wanted to create a database of all my photos/videos on my computer - 1000s of them and create a dictionary record for each photo which used the name of the photo/movie to identify the record. That way I would have unique dictionary records from which to create the database\nStep to achieve this.<br>\n1) Using another <a href=\"https://stackoverflow.com/questions/168409/how-do-you-get-a-directory-listing-sorted-by-creation-date-in-python\">StackOverflow answer</a> but modifying it slightly I got the list of files and their Modified date, (which on Windows better reflected the date they were taken, rather than created date, which was the date the files was created on the Windows machine):</p>\n\n<pre><code>from stat import S_ISREG, ST_MTIME, ST_MODE\nimport os, sys, time\ndestdir=\"C:/Pictures/jiphone/jiPhone-2017\"\n# get all entries in the directory w/ stats\nentries = (os.path.join(destdir, fn) for fn in os.listdir(destdir))\nentries = ((os.stat(path), path) for path in entries)\n\n# leave only regular files, insert creation date\nentries = ((stat[ST_MTIME], path)\n           for stat, path in entries if S_ISREG(stat[ST_MODE]))\n</code></pre>\n\n<p>2) Then I created the dictionary</p>\n\n<pre><code>dict_J_iphone_2017=dict()\n</code></pre>\n\n<p>3) Then in a For loop over the entries I made recFile (the file record) from the name of the file, removing the fullstop (but you could have made it from whatever you were looping over)</p>\n\n<pre><code>for cdate, path in sorted(entries):\n    fullDate=time.ctime(cdate)\n    basePath=os.path.basename(path)\n    recFile=basePath.replace(\".\",\"\")\n    etc\n</code></pre>\n\n<p>4) I then created the dictionary entry for each photo/movie</p>\n\n<pre><code>  dict_J_iphone_2017[recFile]={'name': recName, 'date': recDate, 'time':recTime, 'day': recDay,'tags': [], 'folder': recFolder, 'comment': recComment, 'rating': 0}\n</code></pre>\n\n<p>and I am able to reference each item in the dictionary by putting in the file's actual name e.g.</p>\n\n<pre><code>print(dict_J_iphone_2017['JiP6_1291PNG']\n#{'date': '5-Mar-2017', 'folder': 'C:/Pictures/jiphone/jiPhone-2017', 'tags': [], 'comment': 'PNG', 'name': 'JiP6_1291.PNG', 'time': '16:19:19', 'rating': 0, 'day': 'Sun '}\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 123, "user_id": 7837937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831fa917c8178260c72eb512730d96e9?s=128&d=identicon&r=PG&f=1", "display_name": "XxEthan70xX", "link": "https://stackoverflow.com/users/7837937/xxethan70xx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25312, "favorite_count": 2, "accepted_answer_id": 43505971, "answer_count": 4, "score": 6, "last_activity_date": 1540376814, "creation_date": 1492635464, "question_id": 43505921, "link": "https://stackoverflow.com/questions/43505921/python-trying-to-create-a-dictionary-through-a-for-loop", "title": "Python - Trying to create a dictionary through a for loop", "body": "<p>I am trying to create a dictionary by using a for loop. I have an ordered list, and I am trying to match up the values from the list to ordered numbers. For Example: \n{0: 100,\n1: 423,\n2: 434}</p>\n\n<p>I am just having trouble making the for loop.</p>\n\n<pre><code>list = [102, 232, 424]\ncount = 0\nd = {} #Empty dictionary to add values into\n\nfor i in list:\n    #dictionary key = count\n    #key.append(i)\n    count+=1\n</code></pre>\n\n<p>So in the for loop I essentially want to make the count variable the key, and have the corresponding item in the list as the value. Then I would add one to count, and continue. Also I am sorry if my code is a little unclear in the for loop. That isn't actual code, but is just a general idea of what I was looking for. Can anyone help me? Thank you.</p>\n"}, {"tags": ["python", "parsing"], "comments": [{"owner": {"reputation": 25686, "user_id": 975097, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dbbc1b2bc18739858cfa3b7ddcba7362?s=128&d=identicon&r=PG", "display_name": "Anderson Green", "link": "https://stackoverflow.com/users/975097/anderson-green"}, "edited": false, "score": 1, "creation_date": 1492635630, "post_id": 43505876, "comment_id": 74066660, "body": "If the input is a string, I would start by <a href=\"http://stackoverflow.com/questions/8113782/split-string-on-whitespace-in-python\">splitting the string on whitespace characters</a>."}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 0, "last_activity_date": 1492636634, "creation_date": 1492636634, "answer_id": 43506225, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements/43506225#43506225", "title": "Python - How to split text input into separate elements", "body": "<p>You could use a regular expression, which would require each record to start with a 9-digit number, taking words together where necessary, and skipping the location:</p>\n\n<pre><code>res = re.findall(r\"(\\d{9})\\s+(\\S*)\\s+(\\S*(?:\\s+\\D\\S*)*)\\s+(\\d+)\\s+(\\S*)\", data)\n</code></pre>\n\n<p><a href=\"https://repl.it/HQpL\" rel=\"nofollow noreferrer\">Result</a> is:</p>\n\n<pre><code>[('123456789', 'John', 'Doe', '90', 'A'), \n ('987654321', 'Jane', 'Doe', '70', 'B'), \n ('432167895', 'John', 'Cena', '60', 'B'), \n ('473829105', 'Donald', 'Trump', '70', 'E'), \n ('098743215', 'Bernie', 'Sanders', '92', 'A')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "is_accepted": false, "score": 0, "last_activity_date": 1492636840, "creation_date": 1492636840, "answer_id": 43506271, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements/43506271#43506271", "title": "Python - How to split text input into separate elements", "body": "<p>Since splitting on whitespace is not helpful for identification of the location, I would directly go for a regex:</p>\n\n<pre><code>import re\n\ninput_string = \"\"\"123456789 John Doe 90 A New York City 987654321\nJane Doe 70 B CAL 432167895 John\n\nCena 60 B FL 473829105 Donald Trump 70 E\n098743215 Bernie Sanders 92 A AR\"\"\"\n\nsearch_string=re.compile(r\"([0-9]{9})\\W+([a-zA-Z ]+)\\W+([a-zA-Z ]+)\\W+([0-9]{1,3})\\W+([AB])\\W+([a-zA-Z ]+)\\W+\")\nperson_list = re.findall(search_string, input_string)\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>[('123456789', 'John', 'Doe', '90', 'A', 'New York City'),\n ('987654321', 'Jane', 'Doe', '70', 'B', 'CAL'),\n ('432167895', 'John', 'Cena', '60', 'B', 'FL')]\n</code></pre>\n\n<p>Explanation of the groups in the regex:</p>\n\n<ul>\n<li>ID: 9 digits (followed by at least one whitespace)</li>\n<li>first and last name: 2 separate groups of characters divided by at least one whitespace  (followed by at least one whitespace)</li>\n<li>Score: one, two or three digits  (followed by at least one whitespace)</li>\n<li>Letter: A or B  (followed by at least one whitespace)</li>\n<li>Location: a group of characters (followed by at least one whitespace)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "is_accepted": false, "score": 0, "last_activity_date": 1492637160, "creation_date": 1492637160, "answer_id": 43506341, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements/43506341#43506341", "title": "Python - How to split text input into separate elements", "body": "<p>Since you know the ID number is going to be at the start of each \"record\" and is 9 digits long, try splitting by the 9-digit id-number:</p>\n\n<pre><code># Assuming your file is read in as a string s:\nimport re\nrecords = re.split(r'[ ](?=[0-9]{9}\\b)', s)\n\n# record locator will end up holding your records as: {'&lt;full name&gt;' -&gt; {'ID'-&gt;&lt;ID value&gt;, 'FirstName'-&gt;&lt;FirstName value&gt;, 'LastName'-&gt;&lt;LastName value&gt;, 'Letter'-&gt;&lt;LetterValue&gt;}, 'full name 2'-&gt;{...} ...}\nrecord_locator = {}\n\nfield_names = ['ID', 'FirstName', 'LastName', 'Letter']\n\n# Get the individual records and store their values:\nfor record in records:\n\n    # You could filter the record string before doing this if it contains newlines etc\n    values = record.split(' ')[:5]\n\n    # Discard the int after the name eg. 90 in the first record\n    del values[3]\n\n    # Create a new entry for the full name. This will overwrite entries with the same name so you might want to use a unique id instead\n    record_locator[values[1]+values[2]] = dict(zip(field_names, values))\n</code></pre>\n\n<p>Then to access the information:</p>\n\n<pre><code>print record_locator['John Doe']['ID'] # 987654321\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": false, "score": 0, "last_activity_date": 1492637492, "creation_date": 1492637492, "answer_id": 43506434, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements/43506434#43506434", "title": "Python - How to split text input into separate elements", "body": "<p>I think trying to split by the 9 digit number might be the best option.</p>\n\n<pre><code>import re\n\nwith open('data.txt') as f:\n    data = f.read()\n    results = re.split(r'(\\d{9}[\\s\\S]*?(?=[0-9]{9}))', data)\n    results = list(filter(None, results))\n    print(results)\n</code></pre>\n\n<p>Gave me these results</p>\n\n<pre><code>['123456789 John Doe 90 A New York City ', '987654321\\nJane Doe 70 B CAL ', '432167895 John\\n\\nCena 60 B FL ', '473829105 Donald Trump 70 E\\n', '098743215 Bernie Sanders 92 A AR']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 7806446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae0a7cc5f39eccce5cb0370931f0e31?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson Blankenship", "link": "https://stackoverflow.com/users/7806446/jackson-blankenship"}, "edited": false, "score": 0, "creation_date": 1492642492, "post_id": 43506745, "comment_id": 74069406, "body": "This works perfect except when the location is not specified! Do you know how to fix it? The location element is optional."}, {"owner": {"reputation": 83, "user_id": 7892172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gMP0I.jpg?s=128&g=1", "display_name": "N Cheadle", "link": "https://stackoverflow.com/users/7892172/n-cheadle"}, "reply_to_user": {"reputation": 15, "user_id": 7806446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae0a7cc5f39eccce5cb0370931f0e31?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson Blankenship", "link": "https://stackoverflow.com/users/7806446/jackson-blankenship"}, "edited": false, "score": 0, "creation_date": 1492644182, "post_id": 43506745, "comment_id": 74069929, "body": "I did an update that just puts an empty string in location if nothing is there."}], "tags": [], "owner": {"reputation": 83, "user_id": 7892172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gMP0I.jpg?s=128&g=1", "display_name": "N Cheadle", "link": "https://stackoverflow.com/users/7892172/n-cheadle"}, "is_accepted": true, "score": 0, "last_activity_date": 1492644144, "last_edit_date": 1492644144, "creation_date": 1492638881, "answer_id": 43506745, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements/43506745#43506745", "title": "Python - How to split text input into separate elements", "body": "<p>There is probably a more elegant way to do this but based on an example string input below is an idea.</p>\n\n<pre><code>input = \"123456789 John Doe 90 A New York City 987654321 Jane Doe 70 B CAL 473829105 Donald Trump 70 E 098743215 Bernie Sanders 92 A AR\"\n\n#split by whitespaces\noutput = input.split()\n\n#create output to store as dictionary this could then be dumped to a json file\ndata = {'output':[]}\nend = len(output)\n\ni=0\n\nwhile i&lt; end:\n    tmp = {}\n    tmp['id'] = output[i]\n    i=i+1\n    tmp['fname']=output[i]\n    i=i+1\n    tmp['lname']=output[i]\n    i=i+1\n    tmp['score']=output[i]\n    i=i+1\n    tmp['letter']=output[i]\n    i=i+1\n    location = \"\"\n    #Catch index out of bounds errors\n    try:\n        bool = output[i].isdigit()\n        while not bool:\n            location = location + \" \" + output[i]\n            i=i+1\n            bool = output[i].isdigit()\n    except IndexError:\n        print('Completed Array')\n\n    tmp['location'] = location\n    data['output'].append(tmp)\n\nprint(data)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7806446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ae0a7cc5f39eccce5cb0370931f0e31?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson Blankenship", "link": "https://stackoverflow.com/users/7806446/jackson-blankenship"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "accepted_answer_id": 43506745, "answer_count": 5, "score": 1, "last_activity_date": 1492644144, "creation_date": 1492635293, "last_edit_date": 1492639034, "question_id": 43505876, "link": "https://stackoverflow.com/questions/43505876/python-how-to-split-text-input-into-separate-elements", "title": "Python - How to split text input into separate elements", "body": "<p>Input will be inconsistent with newlines so I cannot use newlines as some sort of delimiter. The text coming in will be in the following format:</p>\n\n<blockquote>\n  <p>IDNumber FirstName LastName Score Letter Location</p>\n  \n  <ul>\n  <li>IDNumber: 9 numbers</li>\n  <li>Score: 0-100</li>\n  <li>Letter: A or B</li>\n  <li>Location: Could be anything from abbreviated State name to a City and    State fully spelled out. This is optional.</li>\n  </ul>\n</blockquote>\n\n<p>Ex: </p>\n\n<pre><code>123456789 John Doe 90 A New York City 987654321\nJane Doe 70 B CAL 432167895 John\n\nCena 60 B FL 473829105 Donald Trump 70 E\n098743215 Bernie Sanders 92 A AR\n</code></pre>\n\n<p>The elements would be:</p>\n\n<pre><code>123456789 John Doe 90 A New York City\n987654321 Jane Doe 70 B CAL\n432167895 John Cena 60 B FL\n473829105 Donald Trump 70 E\n098743215 Bernie Sanders 92 A AR\n</code></pre>\n\n<p>I need to individually access each element for each person. So for the John Cena object, I would need to be able to access the ID:432167895, the first name: John, the last name: Cena, the B or A: B. I don\u2019t really need the location, but it will be part of the input.</p>\n\n<p><strong>Edit: It should be worth mentioning I am not allowed to import any modules such as regular expressions.</strong></p>\n"}, {"tags": ["python", "slots"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1492635249, "post_id": 43505844, "comment_id": 74066463, "body": "Only use slots if you think you need to create lots and lots (read 100,000s) of such objects. Otherwise, it seems totally unecessary."}, {"owner": {"reputation": 17165, "user_id": 532978, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/605b27d2287fbf324b32d55c1f3c0299?s=128&d=identicon&r=PG", "display_name": "JCOC611", "link": "https://stackoverflow.com/users/532978/jcoc611"}, "edited": false, "score": 1, "creation_date": 1492635380, "post_id": 43505844, "comment_id": 74066518, "body": "Pretty comprehensive answer to this here <a href=\"http://stackoverflow.com/a/28059785/532978\">stackoverflow.com/a/28059785/532978</a>"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1492635417, "post_id": 43505844, "comment_id": 74066543, "body": "If you&#39;re wondering whether or not you should use slots, don&#39;t use slots.  If you really need it, you&#39;ll know."}, {"owner": {"reputation": 4845, "user_id": 3601660, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9dfe9498ed911a8b1c7e386e14f98ea9?s=128&d=identicon&r=PG&f=1", "display_name": "c z", "link": "https://stackoverflow.com/users/3601660/c-z"}, "edited": false, "score": 0, "creation_date": 1570000743, "post_id": 43505844, "comment_id": 102771999, "body": "There are secondary benefits - you can add a <code>__slots__</code> <code>dict</code> to document your code, and linters/IDEs such as <i>PyCharm</i>  use <code>__slots__</code> to check your variable access."}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": true, "score": 1, "last_activity_date": 1492638632, "creation_date": 1492638632, "answer_id": 43506684, "question_id": 43505844, "link": "https://stackoverflow.com/questions/43505844/is-it-a-good-idea-to-use-slots-in-python/43506684#43506684", "title": "Is it a good idea to use slots in python?", "body": "<p>Here is the <a href=\"https://docs.python.org/3/glossary.html#term-slots\" rel=\"nofollow noreferrer\">'official' answer</a>\n\"<strong>slots</strong>\n    A declaration inside a class that saves memory by pre-declaring space for instance attributes and eliminating instance dictionaries. Though popular, the technique is somewhat tricky to get right and is best reserved for rare cases where there are large numbers of instances in a memory-critical application.\"</p>\n\n<p>I believe that changes to the CPython dict internals in 3.6 reduced the gain from <code>__slots__</code> a bit.</p>\n"}], "owner": {"reputation": 3064, "user_id": 2289710, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/057Jk.jpg?s=128&g=1", "display_name": "freude", "link": "https://stackoverflow.com/users/2289710/freude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 43506684, "answer_count": 1, "score": 2, "last_activity_date": 1492638632, "creation_date": 1492635173, "last_edit_date": 1492635268, "question_id": 43505844, "link": "https://stackoverflow.com/questions/43505844/is-it-a-good-idea-to-use-slots-in-python", "title": "Is it a good idea to use slots in python?", "body": "<p>Is using slots in python a good pythonic technique or it is a habit coming from the C family of languages? I heard that they enhance performance of the program and reduce memory consumption, espessially when many objects are created. In principle, using slots may become a daily routine because almost always one may know what attributes of the class will be. So should I use slots all the times? When should I use slots exactly?</p>\n"}, {"tags": ["python", "ubuntu", "pip", "virtualenv"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492636256, "post_id": 43505823, "comment_id": 74066972, "body": "What version of virtualenv are you using? My Python 3 virtualenvs all have a <code>pip3</code> script (which is just a copy of the <code>pip</code> script)."}, {"owner": {"reputation": 63, "user_id": 7432540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fP5ce.jpg?s=128&g=1", "display_name": "LettuceTurnipTheBeets", "link": "https://stackoverflow.com/users/7432540/lettuceturnipthebeets"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492699901, "post_id": 43505823, "comment_id": 74099345, "body": "virtualenv==15.0.1, virtualenv-clone==0.2.5, virtualenvwrapper==4.3.1.  If I make a python3 virtualenv then my python3 packages install in the virtualenv but my python2 packages install to /usr/lib/python2.7."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492701137, "post_id": 43505823, "comment_id": 74100313, "body": "Yes, a virtualenv only covers <i>one version of Python</i>. You can&#39;t use them to manage both Python 2 and Python 3 versions in one environment."}, {"owner": {"reputation": 63, "user_id": 7432540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fP5ce.jpg?s=128&g=1", "display_name": "LettuceTurnipTheBeets", "link": "https://stackoverflow.com/users/7432540/lettuceturnipthebeets"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1492703093, "post_id": 43505823, "comment_id": 74101694, "body": "Ok.  I understand.  Thank you!"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1492703317, "post_id": 43505823, "comment_id": 74101855, "body": "\u207a1 for salad username"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 0, "last_activity_date": 1492703082, "creation_date": 1492703082, "answer_id": 43524212, "question_id": 43505823, "link": "https://stackoverflow.com/questions/43505823/how-to-have-python-2-and-3-in-virtualenv/43524212#43524212", "title": "How to have python 2 and 3 in virtualenv", "body": "<p>A virtualenv encapsulates <strong>one version of Python</strong>.</p>\n\n<p>You can't use it to manage more than one version, and Python 2.x and Python 3.x are separate versions here.</p>\n\n<p>Use two separate virtualenvs, one for each Python version.</p>\n"}], "owner": {"reputation": 63, "user_id": 7432540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fP5ce.jpg?s=128&g=1", "display_name": "LettuceTurnipTheBeets", "link": "https://stackoverflow.com/users/7432540/lettuceturnipthebeets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 0, "accepted_answer_id": 43524212, "answer_count": 1, "score": 2, "last_activity_date": 1492703082, "creation_date": 1492635105, "question_id": 43505823, "link": "https://stackoverflow.com/questions/43505823/how-to-have-python-2-and-3-in-virtualenv", "title": "How to have python 2 and 3 in virtualenv", "body": "<p>I have a virtualenv (python2api) made in python2.7 on Ubuntu 16.04.  In the virtualenv I installed python3.5:</p>\n\n<pre><code>$ virtualenv -p python3.5 python2api\n</code></pre>\n\n<p>Then I installed pip3:</p>\n\n<pre><code>$ sudo apt-get install python3-pip\n</code></pre>\n\n<p>But when I run 'which pip' it shows that pip3 installed outside of the virtualenv and any pip3 packages I install go to '/usr/lib/python2.7' instead of '/var/env/python2api/lib/python3.5/site-packages/'.</p>\n\n<pre><code>(python2api) user@comp:/var/env/python2api/lib$ which pip\n/var/env/python2api/bin/pip\n(python2api) user@comp:/var/env/python2api/lib$ which pip3\n/usr/bin/pip3\n</code></pre>\n\n<p>Is there a way to make pip3 install packages in the virtualenv?  It seems like only python2 or only python3 packages can exist in the virtualenv.</p>\n"}, {"tags": ["python", "arrays", "numpy", "square-root"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 3, "creation_date": 1492635052, "post_id": 43505773, "comment_id": 74066369, "body": "Why not use vectorized ufuncs : <code>np.sqrt(A**2 + B**2)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 24193, "user_id": 5811078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NlknE.png?s=128&g=1", "display_name": "zipa", "link": "https://stackoverflow.com/users/5811078/zipa"}, "is_accepted": true, "score": 2, "last_activity_date": 1492635330, "creation_date": 1492635330, "answer_id": 43505884, "question_id": 43505773, "link": "https://stackoverflow.com/questions/43505773/how-to-return-array-from-element-wise-calculation-on-two-different-arrays/43505884#43505884", "title": "How to return array from element-wise calculation on two different arrays?", "body": "<p>As mentioned in comments you can use:</p>\n\n<pre><code>C = np.sqrt(A**2 + B**2)\n</code></pre>\n\n<p>Or you can use <code>comprehension</code> and <code>zip</code>:</p>\n\n<pre><code>C = [sqrt(a**2 + b**2) for a, b in zip(A,B)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "is_accepted": false, "score": 1, "last_activity_date": 1492636066, "creation_date": 1492636066, "answer_id": 43506084, "question_id": 43505773, "link": "https://stackoverflow.com/questions/43505773/how-to-return-array-from-element-wise-calculation-on-two-different-arrays/43506084#43506084", "title": "How to return array from element-wise calculation on two different arrays?", "body": "<p>If your arrays are huge in size, consider using <code>np.square</code> instead of <code>**</code> operator.</p>\n\n<pre><code>In [16]: np.sqrt(np.square(A) + np.square(B))\nOut[16]: \narray([  8.24621125,  10.29563014,  10.        ,  10.29563014,\n         8.24621125,  10.63014581,   7.07106781,   9.21954446])\n</code></pre>\n\n<hr>\n\n<p>The difference in execution times are very minimal though.</p>\n\n<pre><code>In [13]: ar = np.arange(100000)\n\nIn [14]: %timeit np.square(ar)\n10000 loops, best of 3: 158 \u00b5s per loop\n\nIn [15]: %timeit ar**2\n10000 loops, best of 3: 179 \u00b5s per loop\n</code></pre>\n"}], "owner": {"reputation": 1615, "user_id": 3000014, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/862c2edb8707ea662df19224baeb48e0?s=128&d=identicon&r=PG&f=1", "display_name": "bkr879", "link": "https://stackoverflow.com/users/3000014/bkr879"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 43505884, "answer_count": 2, "score": 0, "last_activity_date": 1492636267, "creation_date": 1492634941, "last_edit_date": 1492636267, "question_id": 43505773, "link": "https://stackoverflow.com/questions/43505773/how-to-return-array-from-element-wise-calculation-on-two-different-arrays", "title": "How to return array from element-wise calculation on two different arrays?", "body": "<p>I have the following two numpy arrays of n elements:</p>\n\n<pre><code>A = np.array([2 5 8 9 8 7 5 6])\nB = np.array([8 9 6 5 2 8 5 7])\n</code></pre>\n\n<p>I would like to obtain array C:</p>\n\n<pre><code>C = np.array([sqrt(2^2+8^2) sqrt(5^2+9^2) ... sqrt(6^2+7^2)])\n</code></pre>\n\n<p>That is, array C would consist of n elements; each element would be equal to the square root of the square of the respective element in A plus the square of the respective element in B.</p>\n\n<p>I tried using <code>np.apply_along_axis</code> but it seems that this function is designed for one array only.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "reply_to_user": {"reputation": 42, "user_id": 4996357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1b5cd397dce060699a6ef37b6695bf?s=128&d=identicon&r=PG&f=1", "display_name": "penuts", "link": "https://stackoverflow.com/users/4996357/penuts"}, "edited": false, "score": 0, "creation_date": 1492636264, "post_id": 43505834, "comment_id": 74066978, "body": "That&#39;s great glad it worked, please accept the answer if you can."}], "tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": true, "score": 3, "last_activity_date": 1492635127, "creation_date": 1492635127, "answer_id": 43505834, "question_id": 43505751, "link": "https://stackoverflow.com/questions/43505751/django-template-if-item-return-field-from-model-object/43505834#43505834", "title": "Django Template - If item == return field from model object", "body": "<p>If i'm following this correctly shouldn't this work?</p>\n\n<p><code>{% if building.type.buildingType == \"Inn\" %}</code></p>\n\n<p>as type is an instance of a Building_type model which in turn has a field of buildingType so accessing that is <code>type.buildingType</code></p>\n"}], "owner": {"reputation": 42, "user_id": 4996357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1b5cd397dce060699a6ef37b6695bf?s=128&d=identicon&r=PG&f=1", "display_name": "penuts", "link": "https://stackoverflow.com/users/4996357/penuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 43505834, "answer_count": 1, "score": 0, "last_activity_date": 1492635127, "creation_date": 1492634838, "question_id": 43505751, "link": "https://stackoverflow.com/questions/43505751/django-template-if-item-return-field-from-model-object", "title": "Django Template - If item == return field from model object", "body": "<p>Django 1.10, python 3.5</p>\n\n<p>Hi All!</p>\n\n<p>I have a model, in models.py called \"Building_type\":</p>\n\n<pre><code>class Building_type(models.Model):\n    buildingType = models.CharField(max_length=40)\n    def __str__(self):\n        return self.buildingType\n</code></pre>\n\n<p>and a list of buildings that is sent to the django HTML template, called \"buildingList\", that looks like so:</p>\n\n<pre><code>[\n {'name': 'building1', 'type': &lt;Building_type: Blacksmith&gt;},\n {'name': 'building2', 'type': &lt;Building_type: Inn&gt;},\n {'name': 'building3', 'type': &lt;Building_type: Chemist&gt;},\n]\n</code></pre>\n\n<p>I would like to do this:</p>\n\n<pre><code>{% for building in buildingList %}\n    {% if building.type == \"Inn\" %}\n        &lt;p&gt; this is an Inn &lt;/p&gt;\n    {% endif %}\n{% endfor %}\n</code></pre>\n\n<p>However the IF statement never completes as true.\nI have tried the following, all have failed:</p>\n\n<pre><code>{% if building.type == building.type.Inn %}\n{% if building.type == Inn %}\n{% if building.type == \"Inn\" %}\n</code></pre>\n\n<hr>\n\n<p>If it helps, the following correctly returns \"Blacksmith\", \"Inn\", and \"Chemist\" to HTML:</p>\n\n<pre><code>{% for building in buildingList %}\n    {% if building.type %}\n        {{building.type}}\n    {% endif %}\n{% endfor %}\n</code></pre>\n\n<p>Many thanks if you all can help</p>\n"}, {"tags": ["python", "html", "pdf", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7892134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8ff9d3e952bf46472b879eec6f5da5?s=128&d=identicon&r=PG&f=1", "display_name": "led53", "link": "https://stackoverflow.com/users/7892134/led53"}, "edited": false, "score": 0, "creation_date": 1493842751, "post_id": 43506079, "comment_id": 74579955, "body": "Thanks @HFBrowning. I have one question. How do you pass the context? I can&#39;t find this rendering technique in the jinja2 documentation. I&#39;m used to rendering like:\\n print(&quot;Content-Type: text/html\\n\\n&quot;) print(template.render(ID = ACCESSION_ID, DATE = date.today()) so I&#39;m not sure how you rendered your &quot;context&quot; variable if you are rendering multiple things. If you could point me to the documentation for html = render(template_path, context), that would be great!"}, {"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "reply_to_user": {"reputation": 3, "user_id": 7892134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8ff9d3e952bf46472b879eec6f5da5?s=128&d=identicon&r=PG&f=1", "display_name": "led53", "link": "https://stackoverflow.com/users/7892134/led53"}, "edited": false, "score": 0, "creation_date": 1493843560, "post_id": 43506079, "comment_id": 74580393, "body": "Edited to show the origin and use of that function - good question. There are lots of code snippets out there demonstrating wildly different strategies for using <code>jinja2</code>"}, {"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "reply_to_user": {"reputation": 3, "user_id": 7892134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8ff9d3e952bf46472b879eec6f5da5?s=128&d=identicon&r=PG&f=1", "display_name": "led53", "link": "https://stackoverflow.com/users/7892134/led53"}, "edited": false, "score": 0, "creation_date": 1493843885, "post_id": 43506079, "comment_id": 74580551, "body": "And if it&#39;s not clear (not sure how familiar you are with Python), context is a dictionary. My workflow includes saving many (~50) elements to that dictionary, e.g., <code>context[&quot;DATE&quot;] = datetime.datetime.now()</code>, etc"}], "tags": [], "owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "is_accepted": true, "score": 0, "last_activity_date": 1493843528, "last_edit_date": 1592644375, "creation_date": 1492636058, "answer_id": 43506079, "question_id": 43505746, "link": "https://stackoverflow.com/questions/43505746/python-cgi-html-pdf/43506079#43506079", "title": "python cgi html pdf", "body": "<p>If you've done a lot of searching then I am sure you have seen all of the really complicated options for converting html to pdf: ReportLab, weasyprint, pdfkit, etc: as catalogued in this post: <a href=\"https://stackoverflow.com/questions/23359083/how-to-convert-webpage-into-pdf-by-using-python\">How to convert webpage into pdf using Python</a>.</p>\n<p>However, I literally just spent the last month working on the Jinja2 -&gt; HTML -&gt; PDF workflow, so hopefully something of my solution can help you. I found downloading wkhtmltopdf (a small command line program written in C - it's pretty great) and using it from <code>subprocess</code> be <em>by far</em> the easiest way to accomplish this task. My sample below:</p>\n<pre><code>import os\nimport jinja2\nimport subprocess\n\ndef render(template_path, context):\n    # Context = jinja context dictionary \n    path, filename = os.path.split(template_path)\n    return jinja2.Environment(loader=jinja2.FileSystemLoader(path or './')\n                             ).get_template(filename\n                                           ).render(context)\n\ndef create_pdf(custom_data, template_path, out_dir, context, keep_html=False):\n    # Custom data = the part of my workflow that won't matter to you\n    report_name = os.path.join(out_dir, custom_data + &quot;_report&quot;)\n    html_name = report_name + &quot;.html&quot;\n    pdf_name = report_name + &quot;.pdf&quot;\n\n    def write_html():\n        with open(html_name, 'w') as f:\n            html = render(template_path, context)\n            f.write(html)\n    write_html()\n\n    args = '&quot;C:\\\\Program Files\\\\wkhtmltopdf\\\\bin\\\\wkhtmltopdf.exe&quot; --zoom 0.75 -B 0 -L 0 -R 0 -T 0 {} {}'.format(html_name, pdf_name)\n    child = subprocess.Popen(args, shell=True, stdout=subprocess.PIPE)\n    # Wait for the sub-process to terminate (communicate) then find out the\n    # status code\n    output, errors = child.communicate()\n    if child.returncode or errors:\n        # Change this to a log message\n        print &quot;ERROR: PDF conversion failed. Subprocess exit status {}&quot;.format(\n        child.returncode)\n    if not keep_html:\n        # Try block only to avoid raising an error if you've already moved\n        # or deleted the html\n        try:\n            os.remove(html_name)\n        except OSError:\n            pass\n</code></pre>\n<p>Most of this code is well-explained by the documentation for <code>jinja2</code> and <code>subprocess</code> so I won't laboriously go over it here. The arg flags in wkhtmltopdf translate to Zoom = 75% and 0 width margins (the -B, -L, etc are short hand for bottom, left, etc). The <a href=\"https://wkhtmltopdf.org/usage/wkhtmltopdf.txt\" rel=\"nofollow noreferrer\">wkhtmltopdf documention</a> is also quite good.</p>\n<p><strong>Edited:</strong> Credit for the <code>render</code> function goes to <a href=\"https://web.archive.org/web/20170503202707/http://matthiaseisen.com/pp/patterns/p0198/\" rel=\"nofollow noreferrer\">Matthias Eisen</a>. Usage:</p>\n<blockquote>\n<p>Assuming a template at /some/path/my_tpl.html, containing:</p>\n<p>Hello {{ firstname }} {{ lastname }}!</p>\n</blockquote>\n<pre><code>context = {\n    'firstname': 'John',\n    'lastname': 'Doe'\n}\nresult = render('/some/path/my_tpl.html', context)\n\nprint(result)\n</code></pre>\n<blockquote>\n<p>Hello John Doe!</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 7892134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8ff9d3e952bf46472b879eec6f5da5?s=128&d=identicon&r=PG&f=1", "display_name": "led53", "link": "https://stackoverflow.com/users/7892134/led53"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 43506079, "answer_count": 1, "score": 0, "last_activity_date": 1493843528, "creation_date": 1492634825, "question_id": 43505746, "link": "https://stackoverflow.com/questions/43505746/python-cgi-html-pdf", "title": "python cgi html pdf", "body": "<p>I am writing a python CGI script that parses a csv file line by line and creates a HTML table using jinja2. Ideally, each individual HTML instance (one for each line) will get saved as a PDF report. </p>\n\n<p>I've done a lot of searching, and I haven't been able to find a good way to go from HTML to PDF using python. Is it possible to render CGI to PDF? What methods would you recommend to accomplish this task?</p>\n"}, {"tags": ["python", "dictionary", "gensim"], "answers": [{"tags": [], "owner": {"reputation": 1077, "user_id": 6131248, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f0e4a5f52cfcbaa7b27d957da309c8eb?s=128&d=identicon&r=PG", "display_name": "Vadim Smolyakov", "link": "https://stackoverflow.com/users/6131248/vadim-smolyakov"}, "is_accepted": false, "score": 4, "last_activity_date": 1492636379, "creation_date": 1492636379, "answer_id": 43506169, "question_id": 43505696, "link": "https://stackoverflow.com/questions/43505696/how-to-reduce-dictionary-size-in-gensim/43506169#43506169", "title": "How to reduce dictionary size in gensim?", "body": "<p>I found the following code helped reduce the dictionary size dramatically and achieve more meaningful topics:</p>\n\n<pre><code>dictionary = corpora.Dictionary(docs, prune_at=num_features)\ndictionary.filter_extremes(no_below=10,no_above=0.5, keep_n=num_features)\ndictionary.compactify()\n</code></pre>\n\n<p>The first attempt at reducing the dictionary size is the prune_at parameter, the second attempt is the filter_extremes() function defined at:\n<a href=\"https://radimrehurek.com/gensim/corpora/dictionary.html\" rel=\"nofollow noreferrer\">gensim dictionary</a>. </p>\n"}], "owner": {"reputation": 1077, "user_id": 6131248, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f0e4a5f52cfcbaa7b27d957da309c8eb?s=128&d=identicon&r=PG", "display_name": "Vadim Smolyakov", "link": "https://stackoverflow.com/users/6131248/vadim-smolyakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492636379, "creation_date": 1492634588, "question_id": 43505696, "link": "https://stackoverflow.com/questions/43505696/how-to-reduce-dictionary-size-in-gensim", "title": "How to reduce dictionary size in gensim?", "body": "<p>I'm fitting a Hierarchical Dirichlet Process (HDP) topic model using the python gensim package on the 20newsgroups dataset, and I discover that my topics are not very informative (the top word probability is very small). </p>\n\n<p>I'm using standard text pre-processing that includes tokenization, stop-words removal, and stemming. I was thinking that reducing dictionary size can help generate more meaningful topics. What are some of ways of reducing the dictionary size in gensim?</p>\n"}, {"tags": ["python", "windows", "anaconda", "launcher"], "answers": [{"tags": [], "owner": {"reputation": 1299, "user_id": 7648791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f2cf93875d2cf6514d54bd16ecf3c?s=128&d=identicon&r=PG&f=1", "display_name": "ally-e", "link": "https://stackoverflow.com/users/7648791/ally-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1492707838, "creation_date": 1492707838, "answer_id": 43525706, "question_id": 43505627, "link": "https://stackoverflow.com/questions/43505627/anaconda-launcher-failure-in-win-10/43525706#43525706", "title": "Anaconda Launcher Failure in Win 10", "body": "<p>What version of Anaconda Navigator (as it is now known) are you using? Often when Navigator will not launch it is due to permissions issues. If you launch from the command line it will often provide a useful traceback that will help pinpoint the issue. Try running in your command prompt:</p>\n\n<pre><code>anaconda-navigator\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 5147567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f21e6e6873bcf87d4a95f799105c116?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Feng", "link": "https://stackoverflow.com/users/5147567/alex-feng"}, "is_accepted": false, "score": 0, "last_activity_date": 1502354775, "creation_date": 1502354775, "answer_id": 45608717, "question_id": 43505627, "link": "https://stackoverflow.com/questions/43505627/anaconda-launcher-failure-in-win-10/45608717#45608717", "title": "Anaconda Launcher Failure in Win 10", "body": "<p>I have encountered the same problem. One workaround is that I switched to an administrator account and reinstalled it, and then it works. But this workaround is not a satisfactory one since I could not launch the applications after switching back to a standard user account, although I chose to 'install for all users' when I installed it as the system admin. Some discussions about this could be found in <a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/1514\" rel=\"nofollow noreferrer\">the project's Github repository</a></p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 8529265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f29c0dcc8df699f22603d75302af495?s=128&d=identicon&r=PG&f=1", "display_name": "PC_Wind", "link": "https://stackoverflow.com/users/8529265/pc-wind"}, "is_accepted": false, "score": 0, "last_activity_date": 1557137018, "creation_date": 1557137018, "answer_id": 56002942, "question_id": 43505627, "link": "https://stackoverflow.com/questions/43505627/anaconda-launcher-failure-in-win-10/56002942#56002942", "title": "Anaconda Launcher Failure in Win 10", "body": "<p>My solution may help you if you encountered a similar problem after win10 1089 update.</p>\n\n<p>Here is my solution:</p>\n\n<ol>\n<li>Go to <strong>Control Panel</strong></li>\n<li>Click <strong>Uninstall a program</strong></li>\n<li><p>Go through your programs, then find the following two programs:\n<code>Microsoft Visual C++ 2017 redistributable(x64)</code> and \n<code>Microsoft Visual C++ 2017 redistributable(x86)</code>.</p>\n\n<p>Both should look like this image: <a href=\"https://i.stack.imgur.com/dZ0Ci.png\" rel=\"nofollow noreferrer\">2015 version</a></p></li>\n<li>If the number after \"C++\" is 2017, firstly uninstall both programs, and then install 2015 version of both.</li>\n<li>Here is the official link of the 2015 version: <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=48145</a></li>\n</ol>\n"}], "owner": {"reputation": 1705, "user_id": 5287011, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e0aeb1e86e9c3c29581c71f034b715c0?s=128&d=identicon&r=PG&f=1", "display_name": "Toly", "link": "https://stackoverflow.com/users/5287011/toly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1557137018, "creation_date": 1492634316, "question_id": 43505627, "link": "https://stackoverflow.com/questions/43505627/anaconda-launcher-failure-in-win-10", "title": "Anaconda Launcher Failure in Win 10", "body": "<p>I successfully used Anaconda 4.0.0 Launcher in Win 10 (64 bit). After not using it for several months, it stopped working: it would open and got stuck at the \"Loading Application\" screen</p>\n\n<p>I removed it completely from the system and installed the newest version of Anaconda Launcher and it does not work either</p>\n"}, {"tags": ["python", "class", "oop", "ipython", "warnings"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492634832, "post_id": 43505615, "comment_id": 74066241, "body": "<code>warn</code> was not delayed from the command line. The message goes to stderr, maybe your environment delays viewing that."}, {"owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1492635107, "post_id": 43505615, "comment_id": 74066391, "body": "I like the way  warn() behaves.  It outputs the offending module name, the code line number, and then your proposed warning message formatting in pink to alert the user something is wrong. Is there a way to work around the issue?  Ideas welcome.  (Just trying to make my code better). Note:  regarding the delay theory, while the code in this example is instaneous, in my real code, a calculation took 3+ minutes to complete, and the warning still appeared at the end.  If it is a delay, it seems to be &quot;delay until after all code completes&quot; rather than time based."}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 1, "creation_date": 1492635189, "post_id": 43505615, "comment_id": 74066431, "body": "What about flushing stderr? Would that help in anyway?"}, {"owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "edited": false, "score": 0, "creation_date": 1492635432, "post_id": 43505615, "comment_id": 74066555, "body": "That might be worth a try.  I&#39;ll check the warn() documentation to see if there&#39;s a way to do it on warn or one of the related warn() functions before calling in stderr directly to do it.  Working on a number of kinks in my code right now.  If you have a sample to post it could save me time.  Otherwise, my next comment on this may be a little while."}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 1, "creation_date": 1492635733, "post_id": 43505615, "comment_id": 74066711, "body": "@TMWP Place under <code>warn</code> this call: <code>sys.stderr.flush()</code>. If you check <a href=\"https://docs.python.org/3.1/library/warnings.html#module-warnings\" rel=\"nofollow noreferrer\"><code>warnings</code></a> module documentation, you would find: <i>&quot;The determination whether to issue a warning message is controlled by the warning filter, which is a sequence of matching rules and actions.&quot;</i> Could be a filter issue. Try to flush <code>stderr</code> first and see what happens."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1492639359, "post_id": 43505615, "comment_id": 74068344, "body": "GUI-based IDE&#39;s replace the standard streams and may change their behavior.  Running your code on Win 10 with both 2.7 and 3.6, both from the console and IDLE editor, the warning is printed first.  The warning is pink with IDLE, not with the console.  If IPython delays the stderr output until after the print statement, I would consider it a bug to be reported to its developers."}, {"owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "reply_to_user": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1492640656, "post_id": 43505615, "comment_id": 74068810, "body": "@direprobs - thanks so much!  Your answer works.  I have tested it.  Much to my surprise, <code>resetwarnings</code> had no visible effect I could see but <code>sys.stderr.flush</code> solves the problem."}, {"owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1492640779, "post_id": 43505615, "comment_id": 74068853, "body": "@TerryJanReedy - solution by direprobs works and only requires one line of code added after a warn() call.  Granted, if riddling your code with warnings, you might need to do this after each one, but that still makes me suspicious.  Bug or feature?  what do you think?  If a bug, do you know the best URL to report it?"}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1492676926, "post_id": 43505615, "comment_id": 74081745, "body": "@TerryJanReedy I don&#39;t think it&#39;s a bug. I have experienced many cases in Windows just like this one before. Perhaps, Windows APIs used by Python developers delay flushing, either intentionally or as you speculated due to a bug. I only can confirm that I personally ran into many cases where I had to flush <code>stdout</code> under Windows."}, {"owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "edited": false, "score": 0, "creation_date": 1492706205, "post_id": 43505615, "comment_id": 74103670, "body": "Thanks guys.  Going to post the experiments I did to figure out my code as a solution in case it is useful to anyone.  Your comments are what got me there.  Going to refrain from a bug report as per comments on here by direprobs - not clear if it is a bug or not though if its a &quot;feature&quot; it is an anoying one.  :-)  Best wishes."}], "answers": [{"comments": [{"owner": {"reputation": 2336, "user_id": 7389264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160900497f0373247800b2ad89798e32?s=128&d=identicon&r=PG&f=1", "display_name": "jirassimok", "link": "https://stackoverflow.com/users/7389264/jirassimok"}, "edited": false, "score": 1, "creation_date": 1577137882, "post_id": 43525639, "comment_id": 105104249, "body": "You still need to import <code>sys</code>, because imports in a module are not imported into the importer&#39;s namespace. (You could use <code>warnings.sys</code>, but this is not guaranteed to work by the documentation.)"}], "tags": [], "owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "is_accepted": true, "score": 5, "last_activity_date": 1616094390, "last_edit_date": 1616094390, "creation_date": 1492707631, "answer_id": 43525639, "question_id": 43505615, "link": "https://stackoverflow.com/questions/43505615/python-warnings-come-after-thing-trying-to-warn-user-about/43525639#43525639", "title": "Python warnings come after thing trying to warn user about", "body": "<p>@direprobs provided the simplest answer to this question in the comments.  Add this line of code after the call to <code>warn()</code>.</p>\n<p><code>sys.stderr.flush()</code></p>\n<p>This code can be copied-and-pasted into Python 2.7 (Jupyter Notebooks) to quickly run it and see the effects:</p>\n<p><strong>Experiment One (for comparison to code that follows it):</strong></p>\n<pre><code># Note how warnings in this sample are held until after code is run and then output at the end ...\n\nfrom warnings import warn\nfrom warnings import resetwarnings\n\nclass myClass(object):        \n    def __init__(self, numberArg):\n\n        if numberArg &gt; 1000:\n            self._tmpTxt = &quot;That's a really big number for this code.&quot; + \\\n                           &quot;Code may take a while to run...&quot;\n            warn(&quot;\\n%s %s&quot; %(numberArg, self._tmpTxt), stacklevel=1, category=RuntimeWarning)\n                                                       # possible categories (some of them):\n                                                       # UserWarning, Warning, RunTimeWarning, ResourceWarning\n                                                       # stacklevel was a experiment w/ no visible effect\n                                                       # in this instance\n            \n            resetwarnings()                            # tried putting this before and after the warn()\n            print(&quot;If this were real code:&quot;)\n            print(&quot;Actions code takes because this is a big number would happen here.&quot;)\n        \n        print(&quot;If this were real code, it would be doing more stuff here ...&quot;)\n        \nmc1 = myClass(1001)\n</code></pre>\n<p><strong>Experiment Two:</strong></p>\n<pre><code># In this case, we want the warning to come before code execution.  This is easily fixed as shown below.\n# note: removed some extraneous useless stuff, the line to look for is sys.stderr.flush()\n\nfrom warnings import warn\nfrom warnings import resetwarnings\nimport sys\n\nclass myClass(object):        \n    def __init__(self, numberArg):\n\n        if numberArg &gt; 1000:\n            self._tmpTxt = &quot;That's a really big number for this code.&quot; + \\\n                           &quot;Code may take a while to run...&quot;\n            warn(&quot;\\n%s %s&quot; %(numberArg, self._tmpTxt), category=Warning)            \n            sys.stderr.flush()                         # put this after each warn() to make it output more immediately\n            print(&quot;If this were real code:&quot;)\n            print(&quot;Actions code takes because this is a big number would happen here.&quot;)\n        \n        print(&quot;If this were real code, it would be doing more stuff here ...&quot;)\n        \nmc1 = myClass(1001)  \n</code></pre>\n<p><strong>Experiment Three:</strong></p>\n<pre><code># code provided as an experiment ... may be updated later with a more useful example ...\n# in theory, filterwarnings should help shake out repeat warnings if used with right arguments\n#   * note how our loop causes the content to print twice, and in theory, the 3 instances of warnings\n#   * occur twice each for 6 possible output warnings\n#   * each new occurance (3 of them) still outputs, but when the same ones come up again, they don't\n#   * we get 3 instead of 6 warnings ... this should be the effect of filterwarning(&quot;once&quot;)\n#     in this instance\n\n# help on this: https://docs.python.org/3/library/warnings.html#warning-filter\n#               in this example:\n#                  &quot;once&quot; arg = print only the first occurrence of matching warnings, regardless of location\n\nfrom warnings import warn\nfrom warnings import resetwarnings\nfrom warnings import filterwarnings\n\nclass myClass(object):        \n    def __init__(self, numberArg):\n        \n        for i in [1,2]:\n\n            if numberArg &gt; 1000:\n                print(&quot;loop count %d:&quot; %(i))\n                self._tmpTxt = &quot;That's a really big number for this code.&quot; + \\\n                               &quot;Code may take a while to run...&quot;\n                filterwarnings(&quot;once&quot;)\n                warn(&quot;\\n%s %s&quot; %(numberArg, self._tmpTxt), stacklevel=1, category=RuntimeWarning)\n                sys.stderr.flush() # this provides warning ahead of the output instead of after it\n                # resetwarnings()  # no noticeable effect on the code\n                print(&quot;If this were real code:&quot;)\n                print(&quot;Actions code takes because this is a big number would happen here.&quot;)\n\n            if numberArg &gt; 20000:\n                self._tmpTxt = &quot;That's a really really really big number for this code.&quot; + \\\n                               &quot;Code may take a while to run...&quot;                \n                filterwarnings(&quot;once&quot;, &quot;\\nFW: %s %s&quot; %(numberArg, self._tmpTxt))\n                warn(&quot;\\n%s %s&quot; %(numberArg, self._tmpTxt), stacklevel=0)\n                # resetwarnings()  # no noticeable effect on the code\n                sys.stderr.flush() # this provides warning ahead of the output instead of after it\n\n            print(&quot;loop count %d:&quot; %(i))    \n            print(&quot;If this were real code, it would be doing more stuff here ...&quot;)\n\nmc1 = myClass(1001)\nprint(&quot;====================&quot;)\nmc2 = myClass(20001)\n</code></pre>\n<p>Look for this code on github later.  Posted it here to help others investigating how to use <code>warnings</code>.</p>\n"}], "owner": {"reputation": 1359, "user_id": 7525365, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4d0e089f8b44b1b50e9f0ccefce3674f?s=128&d=identicon&r=PG&f=1", "display_name": "TMWP", "link": "https://stackoverflow.com/users/7525365/tmwp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 43525639, "answer_count": 1, "score": 5, "last_activity_date": 1616094390, "creation_date": 1492634266, "last_edit_date": 1492706287, "question_id": 43505615, "link": "https://stackoverflow.com/questions/43505615/python-warnings-come-after-thing-trying-to-warn-user-about", "title": "Python warnings come after thing trying to warn user about", "body": "<p>I am using warnings in object code to alert users that something has happened but not halt the code.  Below is a simple mockup based on the more complex scenarios I am encountering in my real code:</p>\n\n<pre><code>from warnings import warn\nclass myClass(object):        \n    def __init__(self, numberArg):\n\n        if numberArg &gt; 1000:\n            self._tmpTxt = \"That's a really big number for this code.\" + \\\n                           \"Code may take a while to run...\"\n            warn(\"\\n%s %s\" %(numberArg, self._tmpTxt))\n            print(\"If this were real code:\")\n            print(\"Actions code takes because this is a big number would happen here.\")\n\n        print(\"If this were real code, it would be doing more stuff here ...\")\n\nmc1 = myClass(1001)\n</code></pre>\n\n<p>In my real code, when I instantiate the class which executes <code>__init__(self, numberArg)</code>, the warning is output at the end after all the processing that follows the warning is done.  Why does this happen?  </p>\n\n<p>More importantly, is there a way to ensure the warning is output first and then the rest of my code runs and delivers its output?  </p>\n\n<p>As with the example provided here, the desired effect is to alert the user what is going to happen before it happens, not afterwards, and deliver the output like a warning with warning format.</p>\n\n<p>Note:  This problem was encountered using Python 2.7 on iPython/Jupyter on a Windows 7 environment</p>\n"}, {"tags": ["python", "copy", "deep-copy", "ordereddictionary"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1492634508, "post_id": 43505611, "comment_id": 74066053, "body": "What makes you think they share the same object id?  <code>==</code> does not check object identity, it checks <i>equality</i>."}, {"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1492634639, "post_id": 43505611, "comment_id": 74066124, "body": "i checked with <code>id()</code> as well"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 3, "creation_date": 1492634847, "post_id": 43505611, "comment_id": 74066249, "body": "Then please show a self-contained example demonstrating the actual problem.  Nothing in your posted code actually shows that the objects have the same id, and it&#39;s impossible to test because your examples are not self-contained."}, {"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1492635007, "post_id": 43505611, "comment_id": 74066345, "body": "Fair point. Will do"}], "answers": [{"comments": [{"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 2, "creation_date": 1492636045, "post_id": 43505818, "comment_id": 74066860, "body": "So in preparing as condensed an example as I could I found my error. I had omitted a deepcopy when returning self.b to the original state."}], "tags": [], "owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1492635097, "creation_date": 1492635097, "answer_id": 43505818, "question_id": 43505611, "link": "https://stackoverflow.com/questions/43505611/two-orderedicts-contained-in-class-share-object-id-regardless-of-copy-method/43505818#43505818", "title": "Two OrdereDict&#39;s contained in class share object id regardless of copy method", "body": "<p>The problem is in something you haven't shown us, so work harder at providing an executable example that actually demonstrates the problem.  For example, you can run this:</p>\n\n<pre><code>from collections import OrderedDict\n\nclass C:\n    def __init__(self):\n        self.d1 = OrderedDict(a=1, b=2)\n\n    def copy(self):\n        self.d2 = self.d1.copy()\n\nc = C()\nc.copy()\nprint(c.d1 is c.d2)\nc.d1['a'] = 666\nprint(c.d1)\nprint(c.d2)\n</code></pre>\n\n<p>For me, under Python 2 or 3, it prints:</p>\n\n<pre><code>False\nOrderedDict([('a', 666), ('b', 2)])\nOrderedDict([('a', 1), ('b', 2)])\n</code></pre>\n\n<p>What does it print for you?  Assuming it works for you, what <em>haven't</em> you shown us about your code?</p>\n"}], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1492635977, "creation_date": 1492634246, "last_edit_date": 1492635977, "question_id": 43505611, "link": "https://stackoverflow.com/questions/43505611/two-orderedicts-contained-in-class-share-object-id-regardless-of-copy-method", "title": "Two OrdereDict&#39;s contained in class share object id regardless of copy method", "body": "<p>I have a class in python that is used to generate parameter files for a piece of software. This software is used in an iterative process and requires a new set of parameter files for each iteration. As such the class <code>PropGen</code> is called upon to create the new files just before each iteration. </p>\n\n<p>The class is feed the default parameters for these files once before the entire process and then given the current iteration modifies these parameters and writes them to the new file. The way I have been accomplishing this is by storing the defaults into an <code>OrderedDict</code> <code>self.params</code> and creating another <code>OrderedDict</code> <code>self.output_params</code> that collects the modified values before being used to write to a file. </p>\n\n<p>My problem is that no matter how I move the values from <code>self.params</code> to <code>self.output_params</code> the two dictionaries have the same object id and thus any changes to <code>self.output_params</code> are reflected in <code>self.params</code>. So far I have tried the following:</p>\n\n<p><strong>EDIT</strong> Found error with missing call to deepcopy at end of file.</p>\n\n<pre><code>class A(object):\n    def __init__(self):\n        self.a = OrderedDict({'a':1, 'b':2})\n        self.b = deepcopy(self.a)\n        self.iter = 0\n\n    def do_some_work(self, key):\n        val = self.a[key]           \n        self.b[key] = val.replace('#', self.iter)\n\n    def create(self):\n        lines = []\n        for item in self.output_params.items():\n            lines.append('='.join(item) + '\\n')\n        with open(filename, 'w') as file_obj:\n            file_obj.writelines(lines)\n        # Here was the error\n        self.b = self.a\n        # should have been self.b = deepcopy(self.a)\n</code></pre>\n"}, {"tags": ["python", "postgresql", "python-3.x", "heroku", "peewee"], "answers": [{"comments": [{"owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "edited": false, "score": 0, "creation_date": 1492659497, "post_id": 43507178, "comment_id": 74073807, "body": "I have changed table name still getting same error."}, {"owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "edited": false, "score": 0, "creation_date": 1492659515, "post_id": 43507178, "comment_id": 74073812, "body": "LINE 1: INSERT INTO &quot;users&quot; (&quot;name&quot;, &quot;email&quot;) VALUES (&#39;John&#39;, &#39;Doe&#39;)... 2017-04-20T03:36:57.055897+00:00 app[web.1]:                     ^ 2017-04-20T03:36:57.055896+00:00 app[web.1]: psycopg2.ProgrammingError: relation &quot;users&quot; does not exist"}, {"owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "reply_to_user": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "edited": false, "score": 0, "creation_date": 1492717888, "post_id": 43507178, "comment_id": 74110321, "body": "Well you need to create the table, obviously."}], "tags": [], "owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "is_accepted": false, "score": 1, "last_activity_date": 1492641143, "creation_date": 1492641143, "answer_id": 43507178, "question_id": 43505529, "link": "https://stackoverflow.com/questions/43505529/peewee-and-postgres-on-heroku-not-able-to-create-table/43507178#43507178", "title": "Peewee and postgres on heroku, not able to create table", "body": "<p>\"user\" is a reserved table -- try:</p>\n\n<pre><code>class User(Model):\n    ...\n    class Meta:\n        db_table = 'users'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1492672153, "creation_date": 1492672153, "answer_id": 43512561, "question_id": 43505529, "link": "https://stackoverflow.com/questions/43505529/peewee-and-postgres-on-heroku-not-able-to-create-table/43512561#43512561", "title": "Peewee and postgres on heroku, not able to create table", "body": "<pre><code>from playhouse.db_url import connect\nimport settings\n\nlocal_url = 'postgresql://{}:{}@localhost:5432/{}'.format(settings.DB_USER, settings.DB_PASS, settings.DB_NAME)\n\ndatabase = connect(os.environ.get('DATABASE_URL') or local_url)\n\n\nclass BaseModel(Model):\n    class Meta:\n        database = database\n</code></pre>\n\n<p>Use this way, its easy and there is very few chance of getting it wrong.</p>\n\n<p>And you must create table before <code>if __name__ == '__main__:</code>, this statement, because on heroku you give settings such that, anything under that wont work.</p>\n\n<p>Like mine <code>uswgi.ini</code></p>\n\n<pre><code>[uwsgi]\nhttp-socket = :$(PORT)\nmaster = true\ndie-on-term = true\nmodule = app:app\nmemory-report = true\n</code></pre>\n\n<p><code>module = app:app</code> means run the app from app.py not run app.py</p>\n"}], "owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1492672153, "creation_date": 1492633924, "last_edit_date": 1492660179, "question_id": 43505529, "link": "https://stackoverflow.com/questions/43505529/peewee-and-postgres-on-heroku-not-able-to-create-table", "title": "Peewee and postgres on heroku, not able to create table", "body": "<p>I tried without database my app working great but with peewee and postgres, Its not able to create table at all.</p>\n\n<p><a href=\"https://github.com/rahul3103/test-heroku\" rel=\"nofollow noreferrer\">my app</a></p>\n\n<p>I tried different methods posted online but its not working, anyone if you have used peewee on heroku please help.</p>\n\n<p>My model.py</p>\n\n<pre><code>if os.environ.get('DATABASE_URL'):\n    DATABASE_URL = os.environ.get('DATABASE_URL')\n    db = urlparse(DATABASE_URL)\n    user = db.username\n    password = db.password\n    path = db.path[1:]\n    host = db.hostname\n    port = db.port\n    database = PostgresqlDatabase(path, user=user, password=password, host=host, port=port)\nelse:\n    database = PostgresqlDatabase('heroku')\n\n\nclass BaseModel(Model):\n    class Meta:\n        database = database\n\n\nclass User(BaseModel):\n    name = CharField()\n    email = CharField(null=False, unique=True)\n</code></pre>\n\n<p>After moving create table from if statement to welcome function table is created.</p>\n\n<pre><code>@app.route('/')\ndef welcome():\n    call('printenv')\n    a = 'Default'\n    b = 'Default'\n    if os.environ.get('DATABASE_URL'):\n        a = os.environ.get('DATABASE_URL')\n    if os.environ.get('HEROKU'):\n        b = os.environ.get('HEROKU')\n    create_model_tables([Users], fail_silently=True)\n    Users.insert(name='John', email='Doe').execute()\n    return render_template('index.html', a=a, b=b)\n\n\nif __name__ == '__main__':\n    app.run(port=5000, debug=True)\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "svm", "text-classification", "multilabel-classification"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1492653880, "post_id": 43505451, "comment_id": 74072383, "body": "You could try both and check which one gives better results for your specific data."}], "answers": [{"comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 2, "creation_date": 1523874029, "post_id": 43506826, "comment_id": 86724212, "body": "To add here,SVC will internally always use the <code>OvO</code>, the decision_function_shape is for compatibility only, its not used in fitting of data. So the <code>coef_</code> will always be equal. I have answered this in <a href=\"https://stackoverflow.com/questions/39604468/what-is-the-difference-between-onevsrestclassifier-with-svc-and-svc-with-decisio?rq=1\">the linked question</a>"}], "tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": true, "score": 4, "last_activity_date": 1492639330, "creation_date": 1492639330, "answer_id": 43506826, "question_id": 43505451, "link": "https://stackoverflow.com/questions/43505451/which-decision-function-shape-for-sklearn-svm-svc-when-using-onevsrestclassifier/43506826#43506826", "title": "Which decision_function_shape for sklearn.svm.SVC when using OneVsRestClassifier?", "body": "<p>I think the question of which should be used is best left up to a situational. That could easily be a part of your GridSearch. But just intuitively I would feel that as far as differences go you are going to be doing the same thing. Here is my reasoning:</p>\n\n<p><code>OneVsRestClassifier</code> is designed to model each class against all of the other classes independently, and create a classifier for each situation. The way I understand this process is that <code>OneVsRestClassifier</code> grabs a class, and creates a binary label for whether a point is or isn't that class. Then this labelling gets fed into whatever estimator you have chosen to use. I believe the confusion comes in in that <code>SVC</code> also allows you to make this same choice, but in effect with this implementation the choice will not matter because you will always only be feeding two classes into the <code>SVC</code>.  </p>\n\n<p>And here is an example:</p>\n\n<pre><code>from sklearn.datasets import load_iris\nfrom sklearn.multiclass import OneVsRestClassifier\nfrom sklearn.svm import SVC\n\ndata = load_iris()\n\nX, y = data.data, data.target\nestim1 = OneVsRestClassifier(SVC(kernel='linear', decision_function_shape='ovo'))\nestim1.fit(X,y)\n\nestim2 = OneVsRestClassifier(SVC(kernel='linear', decision_function_shape='ovr'))\nestim2.fit(X,y)\n\nprint(estim1.coef_ == estim2.coef_)\narray([[ True,  True,  True,  True],\n       [ True,  True,  True,  True],\n       [ True,  True,  True,  True]], dtype=bool)\n</code></pre>\n\n<p>So you can see the coefficients are all equal for all three estimators built by the two models. Granted this dataset only has 150 samples and 3 classes so it is possible these results could be different for a more complex dataset, but it's a simple proof of concept. </p>\n"}, {"comments": [{"owner": {"reputation": 1834, "user_id": 5491423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0bCUw.png?s=128&g=1", "display_name": "PeterB", "link": "https://stackoverflow.com/users/5491423/peterb"}, "edited": false, "score": 0, "creation_date": 1492672587, "post_id": 43512403, "comment_id": 74079161, "body": "Great answer. Could you please explain why would you use LinearSVC() instead of SVC(kernel=&#39;linear&#39;) for this particular problem? Aren&#39;t they basically the same just with some implementation differences according to docs? (I know about only one advantage of LinearSVC() - it scales better for bigger datasets)"}], "tags": [], "owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "is_accepted": false, "score": 3, "last_activity_date": 1492700261, "last_edit_date": 1492700261, "creation_date": 1492671650, "answer_id": 43512403, "question_id": 43505451, "link": "https://stackoverflow.com/questions/43505451/which-decision-function-shape-for-sklearn-svm-svc-when-using-onevsrestclassifier/43512403#43512403", "title": "Which decision_function_shape for sklearn.svm.SVC when using OneVsRestClassifier?", "body": "<p>The shape of the decision functions are different because <code>ovo</code> trains a classifier for each <strong>2-pair class combination</strong> whereas <code>ovr</code> trains one classifier for each class fitted against all other classes.</p>\n\n<p>The best example I could find can be <a href=\"http://scikit-learn.org/stable/modules/svm.html#multi-class-classification\" rel=\"nofollow noreferrer\">found here on http://scikit-learn.org</a>:</p>\n\n<blockquote>\n  <p><strong>SVC</strong> and <strong>NuSVC</strong> implement the \u201cone-against-one\u201d approach (Knerr et al.,\n  1990) for multi- class classification. If <code>n_class</code> is the number of\n  classes, then <code>n_class * (n_class - 1) / 2</code> classifiers are constructed\n  and each one trains data from two classes. To provide a consistent\n  interface with other classifiers, the <code>decision_function_shape</code> option\n  allows to aggregate the results of the \u201cone-against-one\u201d classifiers\n  to a decision function of shape (n_samples, n_classes)</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; X = [[0], [1], [2], [3]]\n&gt;&gt;&gt; Y = [0, 1, 2, 3]\n&gt;&gt;&gt; clf = svm.SVC(decision_function_shape='ovo')\n&gt;&gt;&gt; clf.fit(X, Y) \nSVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0,\n    decision_function_shape='ovo', degree=3, gamma='auto', kernel='rbf',\n    max_iter=-1, probability=False, random_state=None, shrinking=True,\n    tol=0.001, verbose=False)\n&gt;&gt;&gt; dec = clf.decision_function([[1]])\n&gt;&gt;&gt; dec.shape[1] # 4 classes: 4*3/2 = 6\n6\n&gt;&gt;&gt; clf.decision_function_shape = \"ovr\"\n&gt;&gt;&gt; dec = clf.decision_function([[1]])\n&gt;&gt;&gt; dec.shape[1] # 4 classes\n4\n</code></pre>\n\n<p><strong>What does this mean in simple terms?</strong></p>\n\n<p>To understand what <code>n_class * (n_class - 1) / 2</code> means, generate two-class combinations using <code>itertools.combinations</code>.</p>\n\n<pre><code>def ovo_classifiers(classes):\n    import itertools\n    n_class = len(classes)\n    n = n_class * (n_class - 1) / 2\n    combos = itertools.combinations(classes, 2)\n    return (n, list(combos))\n\n&gt;&gt;&gt; ovo_classifiers(['a', 'b', 'c'])\n(3.0, [('a', 'b'), ('a', 'c'), ('b', 'c')])\n&gt;&gt;&gt; ovo_classifiers(['a', 'b', 'c', 'd'])\n(6.0, [('a', 'b'), ('a', 'c'), ('a', 'd'), ('b', 'c'), ('b', 'd'), ('c', 'd')])\n</code></pre>\n\n<p><strong>Which estimator should be used for multi-label classification?</strong></p>\n\n<p>In your situation, you have a question with multiple tags (like here on StackOverflow). If you know your tags (classes) in-advance, I might suggest <code>OneVsRestClassifier(LinearSVC())</code> but you could try DecisionTreeClassifier or RandomForestClassifier (I think):</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.preprocessing import MultiLabelBinarizer\nfrom sklearn.svm import SVC, LinearSVC\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.multiclass import OneVsRestClassifier, OneVsOneClassifier\n\ndf = pd.DataFrame({\n  'Tags': [['python', 'pandas'], ['c#', '.net'], ['ruby'],\n           ['python'], ['c#'], ['sklearn', 'python']],\n  'Questions': ['This is a post about python and pandas is great.',\n           'This is a c# post and i hate .net',\n           'What is ruby on rails?', 'who else loves python',\n           'where to learn c#', 'sklearn is a python package for machine learning']},\n                  columns=['Questions', 'Tags'])\n\nX = df['Questions']\nmlb = MultiLabelBinarizer()\ny = mlb.fit_transform(df['Tags'].values)\n\npipeline = Pipeline([\n  ('vect', CountVectorizer(token_pattern='|'.join(mlb.classes_))),\n  ('linear_svc', OneVsRestClassifier(LinearSVC()))\n  ])\npipeline.fit(X, y)\n\nfinal = pd.DataFrame(pipeline.predict(X), index=X, columns=mlb.classes_)\n\ndef predict(text):\n  return pd.DataFrame(pipeline.predict(text), index=text, columns=mlb.classes_)\n\ntest = ['is python better than c#', 'should i learn c#',\n        'should i learn sklearn or tensorflow',\n        'ruby or c# i am a dinosaur',\n        'is .net still relevant']\nprint(predict(test))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                                      .net  c#  pandas  python  ruby  sklearn\nis python better than c#                 0   1       0       1     0        0\nshould i learn c#                        0   1       0       0     0        0\nshould i learn sklearn or tensorflow     0   0       0       0     0        1\nruby or c# i am a dinosaur               0   1       0       0     1        0\nis .net still relevant                   1   0       0       0     0        0\n</code></pre>\n"}], "owner": {"reputation": 1834, "user_id": 5491423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0bCUw.png?s=128&g=1", "display_name": "PeterB", "link": "https://stackoverflow.com/users/5491423/peterb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9852, "favorite_count": 6, "accepted_answer_id": 43506826, "answer_count": 2, "score": 6, "last_activity_date": 1492700261, "creation_date": 1492633567, "last_edit_date": 1495535483, "question_id": 43505451, "link": "https://stackoverflow.com/questions/43505451/which-decision-function-shape-for-sklearn-svm-svc-when-using-onevsrestclassifier", "title": "Which decision_function_shape for sklearn.svm.SVC when using OneVsRestClassifier?", "body": "<p>I am doing multi-label classification where I am trying to predict correct tags to questions:</p>\n\n<p>(X = questions, y = list of tags for each question from X).</p>\n\n<p>I am wondering, which <code>decision_function_shape</code> for <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.svm.SVC.html\" rel=\"nofollow noreferrer\"><code>sklearn.svm.SVC</code></a> should be be used with <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.multiclass.OneVsRestClassifier.html\" rel=\"nofollow noreferrer\"><code>OneVsRestClassifier</code></a>?</p>\n\n<p>From docs we can read that <code>decision_function_shape</code> can have two values <code>'ovo'</code> and <code>'ovr'</code>:</p>\n\n<blockquote>\n  <p><strong>decision_function_shape</strong> : \u2018ovo\u2019, \u2018ovr\u2019 or None, default=None</p>\n  \n  <p>Whether to return a one-vs-rest (\u2018ovr\u2019) decision function of shape (n_samples, n_classes) as all other classifiers, or the original\n  one-vs-one (\u2018ovo\u2019) decision function of libsvm which has shape\n  (n_samples, n_classes * (n_classes - 1) / 2). The default of None will\n  currently behave as \u2018ovo\u2019 for backward compatibility and raise a\n  deprecation warning, but will change \u2018ovr\u2019 in 0.19.</p>\n</blockquote>\n\n<p>But I still don't understand what is the difference between:</p>\n\n<pre><code># First decision_function_shape set to 'ovo'\nestim = OneVsRestClassifier(SVC(kernel='linear', decision_function_shape ='ovo'))\n\n# Second decision_function_shape set to 'ovr'\nestim = OneVsRestClassifier(SVC(kernel='linear', decision_function_shape ='ovr'))\n</code></pre>\n\n<p>Which <code>decision_function_shape</code> should be used for <a href=\"http://scikit-learn.org/stable/modules/multiclass.html#multiclass-and-multilabel-algorithms\" rel=\"nofollow noreferrer\">multi-label classification</a> problem?</p>\n\n<p><strong>EDIT:</strong> <a href=\"https://stackoverflow.com/questions/39604468/what-is-the-difference-between-onevsrestclassifier-with-svc-and-svc-with-decisio?rq=1\">Question</a> asking a similar thing with no answer.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 3, "creation_date": 1492633425, "post_id": 43505384, "comment_id": 74065414, "body": "Have you read <a href=\"https://docs.python.org/2/tutorial/introduction.html#lists\" rel=\"nofollow noreferrer\">the tutorial for lists</a>?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 2, "creation_date": 1492633466, "post_id": 43505384, "comment_id": 74065440, "body": "This is a basic operation with a list. I mean, what&#39;d be the purpose of a list if you couldn&#39;t extract data from it? Please read the documentation first."}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1492634354, "post_id": 43505384, "comment_id": 74065967, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3019909/using-an-index-to-get-an-item-python\">Using an index to get an item, Python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1492633708, "post_id": 43505414, "comment_id": 74065584, "body": "Why do you call a list &quot;array&quot;? An <a href=\"https://docs.python.org/3/library/array.html\" rel=\"nofollow noreferrer\"><code>array</code></a> is something different."}, {"owner": {"reputation": 726, "user_id": 7780772, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51e914134e488de42999994a203e24ec?s=128&d=identicon&r=PG&f=1", "display_name": "quantik", "link": "https://stackoverflow.com/users/7780772/quantik"}, "reply_to_user": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1492634051, "post_id": 43505414, "comment_id": 74065788, "body": "Bad habit of mine I changed it"}], "tags": [], "owner": {"reputation": 726, "user_id": 7780772, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51e914134e488de42999994a203e24ec?s=128&d=identicon&r=PG&f=1", "display_name": "quantik", "link": "https://stackoverflow.com/users/7780772/quantik"}, "is_accepted": false, "score": 0, "last_activity_date": 1492634678, "last_edit_date": 1492634678, "creation_date": 1492633423, "answer_id": 43505414, "question_id": 43505384, "link": "https://stackoverflow.com/questions/43505384/how-to-find-the-nth-digit-in-a-list-in-python/43505414#43505414", "title": "How to find the nth digit in a list in python", "body": "<p>You can just print the value of the array which points to the value contained in index <code>n-1</code> <code>print(list[n-1])</code></p>\n\n<p>If you want to add user interface you can do: </p>\n\n<pre><code>import sys\np = int(sys.argv[1])\na=[...]\nprint(a[p-1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 7797433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f96c98c332cc99a3f6b6d27761b2c4?s=128&d=identicon&r=PG&f=1", "display_name": "gr8tech", "link": "https://stackoverflow.com/users/7797433/gr8tech"}, "is_accepted": false, "score": -1, "last_activity_date": 1492633460, "creation_date": 1492633460, "answer_id": 43505421, "question_id": 43505384, "link": "https://stackoverflow.com/questions/43505384/how-to-find-the-nth-digit-in-a-list-in-python/43505421#43505421", "title": "How to find the nth digit in a list in python", "body": "<pre><code>data=['a','b','c','d','e','f','g']\n</code></pre>\n\n<p>Arrays index start from 0 so data[0] would be 'a' and data[5] would be 'f'</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6132481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e149cafaba6558ea46850f0dc50bda37?s=128&d=identicon&r=PG&f=1", "display_name": "Chritical", "link": "https://stackoverflow.com/users/6132481/chritical"}, "is_accepted": true, "score": 0, "last_activity_date": 1492633783, "creation_date": 1492633783, "answer_id": 43505493, "question_id": 43505384, "link": "https://stackoverflow.com/questions/43505384/how-to-find-the-nth-digit-in-a-list-in-python/43505493#43505493", "title": "How to find the nth digit in a list in python", "body": "<p>Lists work in an index form. So index[0] of a list is the first item. So to find the nth item in a list, your code would look something like this.</p>\n\n<pre><code>list = [a, b, c, d, e, f, g]\nchosen_number = input(\"Which number would you like from 1-7?\")\nprint(\"The item {} places into the list is {}\".format(chosen_number, list[chosen_number-1]))\n</code></pre>\n\n<p>Hopefully this helps. This doesn't account for errors that might occur when the user is typing in e.g. if they type in a word.</p>\n"}], "owner": {"reputation": 27, "user_id": 7185515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-QMa4QDdKNLk/AAAAAAAAAAI/AAAAAAAAABk/5MLMm8ai2fU/photo.jpg?sz=128", "display_name": "Zak Griffith", "link": "https://stackoverflow.com/users/7185515/zak-griffith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 43505493, "answer_count": 3, "score": -7, "last_activity_date": 1492634678, "creation_date": 1492633271, "question_id": 43505384, "link": "https://stackoverflow.com/questions/43505384/how-to-find-the-nth-digit-in-a-list-in-python", "title": "How to find the nth digit in a list in python", "body": "<p>My problem this time is that I need to find the nth digit in a list previously created. Say my list was:</p>\n\n<pre><code>[a,b,c,d,e,f,g]\n</code></pre>\n\n<p>How would I code my program to get a certain (th) value from the list (say the user was asked 'Which number letter would you like from 0-7?' and the user inputted '5', the program would find the 5th component in the list and print that (the program would then print 'The 5th component in the list is e))?</p>\n"}, {"tags": ["python", "python-2.7", "type-conversion", "bit-shift"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1492633466, "post_id": 43505361, "comment_id": 74065441, "body": "<code>bits_received</code> is a NumPy scalar. NumPy integers are fixed-width, like C. It seems like NumPy is giving you the underlying C compiler&#39;s left shift behavior (which will probably be the underlying machine&#39;s left shift behavior) instead of raising an error."}], "answers": [{"tags": [], "owner": {"reputation": 1307, "user_id": 1549736, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/LBwQu.jpg?s=128&g=1", "display_name": "dbanas", "link": "https://stackoverflow.com/users/1549736/dbanas"}, "is_accepted": true, "score": 1, "last_activity_date": 1492638789, "creation_date": 1492638789, "answer_id": 43506722, "question_id": 43505361, "link": "https://stackoverflow.com/questions/43505361/left-shifting-a-python-integer-yielding-incorrect-result/43506722#43506722", "title": "Left shifting a Python integer yielding incorrect result", "body": "<p>user2357112 is correct:</p>\n\n<pre><code>bits_received: 88 &lt;type 'int'&gt;\nbits_received: 95 &lt;type 'numpy.int64'&gt;\n</code></pre>\n\n<p>The <em>bits_received</em> variable was getting its type changed from <em>int</em> to <em>numpy.int64</em>, via addition with another variable of type <em>numpy.int64</em>. Wrapping that other variable in \"int(...)\" solved my problem.</p>\n\n<p>Thanks, user2357112!</p>\n"}], "owner": {"reputation": 1307, "user_id": 1549736, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/LBwQu.jpg?s=128&g=1", "display_name": "dbanas", "link": "https://stackoverflow.com/users/1549736/dbanas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 43506722, "answer_count": 1, "score": 0, "last_activity_date": 1492638789, "creation_date": 1492633188, "last_edit_date": 1492633240, "question_id": 43505361, "link": "https://stackoverflow.com/questions/43505361/left-shifting-a-python-integer-yielding-incorrect-result", "title": "Left shifting a Python integer yielding incorrect result", "body": "<p>Can anyone explain how this Python code:</p>\n\n<pre><code>print \"bits_received:\", bits_received\ntmp = 0\nprint type(tmp)\ntmp = (1 &lt;&lt; bits_received)\nprint type(tmp)\nprint \"tmp: 0x{:X}\".format(tmp)\n</code></pre>\n\n<p>could produce this result:</p>\n\n<pre><code>bits_received: 95\n&lt;type 'int'&gt;\n&lt;type 'numpy.int64'&gt;\ntmp: 0x80000000\n</code></pre>\n"}, {"tags": ["python", "arrays", "list", "numpy", "extraction"], "comments": [{"owner": {"reputation": 13255, "user_id": 6885902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9eWg.jpg?s=128&g=1", "display_name": "Jeru Luke", "link": "https://stackoverflow.com/users/6885902/jeru-luke"}, "edited": false, "score": 0, "creation_date": 1492633305, "post_id": 43505349, "comment_id": 74065349, "body": "Use the space character as a delimiter in every line of the text file"}, {"owner": {"reputation": 1574, "user_id": 6304906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/783a08c5d7a3ca42d6fb007774a49f45?s=128&d=identicon&r=PG&f=1", "display_name": "Barney", "link": "https://stackoverflow.com/users/6304906/barney"}, "edited": false, "score": 0, "creation_date": 1492634279, "post_id": 43505349, "comment_id": 74065916, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8205807/how-to-convert-a-text-file-into-a-list-in-python\">How to Convert a Text File into a List in Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1639, "user_id": 1113788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2445f274f0326e682ef74aa21d1f8fc?s=128&d=identicon&r=PG", "display_name": "davidejones", "link": "https://stackoverflow.com/users/1113788/davidejones"}, "is_accepted": true, "score": 0, "last_activity_date": 1492633569, "creation_date": 1492633569, "answer_id": 43505452, "question_id": 43505349, "link": "https://stackoverflow.com/questions/43505349/extracting-rows-columns-of-numbers-from-a-txt-file-in-python/43505452#43505452", "title": "Extracting rows/columns of numbers from a txt file in Python", "body": "<p>I haven't used numpy but if you want to separate into columns you can do this kind of thing</p>\n\n<pre><code>col1 = []\ncol2 = []\ncol3 = []\n\nwith open('Numbers.txt', 'r') as f:\n    for line in f:\n        first, second, third = line.split()\n        col1.append(first)\n        col2.append(second)\n        col3.append(third)\n\nprint(col1)\nprint(col2)\nprint(col3)\n</code></pre>\n\n<p>which outputs</p>\n\n<pre><code>['-2', '0', '2', '4', '6']\n['2.1', '2.4', '2.5', '3.5', '4.2']\n['-0.365635756', '0.347433737', '0.263774619', '-0.244930974', '-0.004564913']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1492634680, "post_id": 43505481, "comment_id": 74066157, "body": "Yay! Pandas rules! But for this particular file format i&#39;d use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_fwf.html\" rel=\"nofollow noreferrer\">pd.read_fwf()</a>"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1492635495, "last_edit_date": 1492635495, "creation_date": 1492633700, "answer_id": 43505481, "question_id": 43505349, "link": "https://stackoverflow.com/questions/43505349/extracting-rows-columns-of-numbers-from-a-txt-file-in-python/43505481#43505481", "title": "Extracting rows/columns of numbers from a txt file in Python", "body": "<p>This might be a job for <code>pandas</code>:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_fwf('Numbers.txt', header=None)\nfirst_col = df[0]\n\nassert first_col.mean() == 2\nassert first_col.median() == 2\nassert sum(first_col) == 10\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_table.html</a></li>\n<li><a href=\"http://pandas.pydata.org/pandas-docs/stable/10min.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/10min.html</a></li>\n<li><a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_fwf.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_fwf.html</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 973, "user_id": 7742341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-72NJG8yM23g/AAAAAAAAAAI/AAAAAAAAAHU/4LfTKrI08W8/photo.jpg?sz=128", "display_name": "Luchko", "link": "https://stackoverflow.com/users/7742341/luchko"}, "is_accepted": false, "score": 0, "last_activity_date": 1492636575, "last_edit_date": 1492636575, "creation_date": 1492636019, "answer_id": 43506068, "question_id": 43505349, "link": "https://stackoverflow.com/questions/43505349/extracting-rows-columns-of-numbers-from-a-txt-file-in-python/43506068#43506068", "title": "Extracting rows/columns of numbers from a txt file in Python", "body": "<p>You can import your data as a <code>numpy.array</code></p>\n\n<pre><code>import numpy as np\n\ndata = np.genfromtxt('Numbers.txt', unpack=True).T\n</code></pre>\n\n<p>Then, retrieving columns/rows is as simple as indexing/slicing a <code>numpy.array</code></p>\n\n<pre><code>print(data[1,:])\nprint(data[:,1])\n</code></pre>\n\n<p>this will results in</p>\n\n<pre><code>[ 0.          2.4         0.34743374]\n[ 2.1  2.4  2.5  3.5  4.2]\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7891970, "user_type": "registered", "profile_image": "https://graph.facebook.com/1283594271675613/picture?type=large", "display_name": "Luke Mancell", "link": "https://stackoverflow.com/users/7891970/luke-mancell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4466, "favorite_count": 2, "accepted_answer_id": 43505452, "answer_count": 3, "score": 0, "last_activity_date": 1549643338, "creation_date": 1492633176, "last_edit_date": 1549643338, "question_id": 43505349, "link": "https://stackoverflow.com/questions/43505349/extracting-rows-columns-of-numbers-from-a-txt-file-in-python", "title": "Extracting rows/columns of numbers from a txt file in Python", "body": "<p>I am fairly new to Python and have encountered a small but (what seems to be a) very difficult problem. </p>\n\n<p>I have a txt file which contains the following:</p>\n\n<pre><code>-2      2.1     -0.365635756\n0       2.4      0.347433737\n2       2.5      0.263774619\n4       3.5     -0.244930974\n6       4.2     -0.004564913\n</code></pre>\n\n<p>My aim is to somehow extract separate rows/columns from the file in Python to use as lists or arrays (again, I'm fairly new to this). So for example, how would I make the list [-2, 0, 2, 4, 6] using the data from the first column?</p>\n\n<p>I currently have the following code in my work:</p>\n\n<pre><code>import numpy as np\n\nwith open('Numbers.txt', 'r') as f:\n    fcontents = f.read()\n    print(fcontents)\n\nx = np.array(fcontents)\n</code></pre>\n\n<p>The objective of this is to write a program that uses arrays to calculate different variables given in our project instructions.</p>\n"}, {"tags": ["python", "scikit-learn", "tf-idf"], "comments": [{"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 0, "creation_date": 1492633000, "post_id": 43505228, "comment_id": 74065189, "body": "Can you format your dataframes a little better it&#39;s difficult to interpret what is an index what is a column header and what is data"}, {"owner": {"reputation": 1, "user_id": 3102350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c045020ee1177b9e90bd433885391d12?s=128&d=identicon&r=PG&f=1", "display_name": "user3102350", "link": "https://stackoverflow.com/users/3102350/user3102350"}, "reply_to_user": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 0, "creation_date": 1492648002, "post_id": 43505228, "comment_id": 74070891, "body": "@Grr Yes, sorry! I think that&#39;s partially what I&#39;m confused about. I&#39;ve never used pandas before so the format itself for the dataframe still looks odd to me... I&#39;ve formatted more clearly, so you can now see there are three lines per entry, the first is the key, and in this case a date, the second two are strings. I&#39;m interested in the text of the second string, which in this case is the content of a newspaper article."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1492653695, "post_id": 43505228, "comment_id": 74072326, "body": "That output is not the comparison between words. Its the sparse output of array (only those elements which have non-zero values are displayed with (i,j) being the row and column of that element. See my <a href=\"http://stackoverflow.com/questions/43154039/how-to-calculate-term-document-matrix/43154534#43154534\">other answer for details</a> on that. The words for which it is calculated can be returned using tfidf.get_feature_names()."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1492653732, "post_id": 43505228, "comment_id": 74072341, "body": "Other than that, I unclear as to what you want to do. Please describe the input and required output a bit more."}], "owner": {"reputation": 1, "user_id": 3102350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c045020ee1177b9e90bd433885391d12?s=128&d=identicon&r=PG&f=1", "display_name": "user3102350", "link": "https://stackoverflow.com/users/3102350/user3102350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1492647437, "creation_date": 1492632709, "last_edit_date": 1492647437, "question_id": 43505228, "link": "https://stackoverflow.com/questions/43505228/sci-kit-learn-and-tf-idf-scores-for-individual-words", "title": "Sci-Kit Learn and tf-idf scores for individual words?", "body": "<p>I have a pandas dataframe which consists of two strings and one keyword per entry. It looks like this:</p>\n\n<pre><code>    \\n  05 Temmuz 2016 17:59                                  \\\n    0  Suriyelilere vatanda\u015fl\u0131\u011fa neden kar\u015f\u0131 \u00e7\u0131k\u0131l\u0131yor                                           \n    1  Selin Girit Kendi \u00fclkesinde sava\u015ftan ka\u00e7acak s...                                           \n\n    \\n 10 Temmuz 2016 09:01                                  \\\n    0  \u00d6teki Suriyeliler: T\u00fcrkiye vatanda\u015f\u0131 olursak a...                                           \n    1  Cumhurba\u015fkan\u0131 Tayyip Erdo\u011fan Suriyelilere vata...                                           \n</code></pre>\n\n<p>What I'm trying to do is using sci-kit learn get the tf-idf of each word in the second string and compare it to a corpus of general words. But I'm not really sure how to do that. If I use tfidfVectorize() I end up with something that looks like this:</p>\n\n<pre><code>    (0, 1)  0.520040083208\n    (0, 8)  0.307144050546\n    (0, 5)  0.307144050546\n    (0, 4)  0.520040083208\n    (0, 7)  0.520040083208\n    (1, 8)  0.326309521953\n    (1, 5)  0.326309521953\n    (1, 3)  0.420182921489\n    (1, 2)  0.552490047084\n    (1, 0)  0.552490047084\n    (2, 8)  0.294893556078\n    (2, 5)  0.294893556078\n    (2, 3)  0.759458290886\n    (2, 6)  0.499298193039\n</code></pre>\n\n<p>But this output isn't for every word individually and it's a comparison between words in the dictionary not a general corpus... I'm not sure how to do what I'm looking for, and I was hoping someone might have some advice as the Sci-Kit Learn documentation isn't very clear. </p>\n"}, {"tags": ["python", "python-3.x", "lets-encrypt", "certbot"], "comments": [{"owner": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "edited": false, "score": 2, "creation_date": 1492632835, "post_id": 43505227, "comment_id": 74065083, "body": "Looks like you found virtualenv 15.0.3 but require 15.1.0... did the repos change?"}, {"owner": {"reputation": 1079, "user_id": 3376954, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b302fa76ba517ae24ac0b37abfd1d21b?s=128&d=identicon&r=PG&f=1", "display_name": "alsdkjasdlkja", "link": "https://stackoverflow.com/users/3376954/alsdkjasdlkja"}, "reply_to_user": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "edited": false, "score": 0, "creation_date": 1492632909, "post_id": 43505227, "comment_id": 74065137, "body": "What do you mean with repo? @AIG"}, {"owner": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 1, "creation_date": 1492633025, "post_id": 43505227, "comment_id": 74065200, "body": "I don&#39;t know the cause of this, you could try uninstalling and reinstalling virtualenv with pip: <code>pip uninstall virtualenv</code> / <code>pip install virtualenv==15.1.0</code>"}, {"owner": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 1, "creation_date": 1492633184, "post_id": 43505227, "comment_id": 74065293, "body": "Whatever script you are running is failing at <code>Creating virtual environment...</code> with the error mentioned above. Feels like there was a change (like what @chrki mentioned) there. I&#39;d start chasing it from there... did an install fail (previously)? Did someone update this? etc."}, {"owner": {"reputation": 1079, "user_id": 3376954, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b302fa76ba517ae24ac0b37abfd1d21b?s=128&d=identicon&r=PG&f=1", "display_name": "alsdkjasdlkja", "link": "https://stackoverflow.com/users/3376954/alsdkjasdlkja"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1492633360, "post_id": 43505227, "comment_id": 74065377, "body": "Thanks, I&#39;ll try that. However, there is no pip installed... Do I have to install this? @chrki"}, {"owner": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 1, "creation_date": 1492633493, "post_id": 43505227, "comment_id": 74065455, "body": "@nxrd You could try <code>python -m pip install virtualenv==15.1.0</code> (might work if pip is installed but not in your PATH, otherwise you have to install it: <code>sudo apt-get install python3-pip</code> - <b>or</b> it might actually be called <code>pip3</code> since you are using Python3"}, {"owner": {"reputation": 1079, "user_id": 3376954, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b302fa76ba517ae24ac0b37abfd1d21b?s=128&d=identicon&r=PG&f=1", "display_name": "alsdkjasdlkja", "link": "https://stackoverflow.com/users/3376954/alsdkjasdlkja"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1492633693, "post_id": 43505227, "comment_id": 74065575, "body": "@chrki Okay I installed python3-pip now. However, I couldn&#39;t uninstall it: &quot;Not uninstalling virtualenv at /usr/lib/python3/dist-packages, outside environment /usr&quot;. Installing the new version seems to work, even though it says the same (not uninstalling blabla), but finishes with &quot;Successfully installed virtualenv-15.1.0&quot;"}, {"owner": {"reputation": 1079, "user_id": 3376954, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b302fa76ba517ae24ac0b37abfd1d21b?s=128&d=identicon&r=PG&f=1", "display_name": "alsdkjasdlkja", "link": "https://stackoverflow.com/users/3376954/alsdkjasdlkja"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1492634745, "post_id": 43505227, "comment_id": 74066195, "body": "@chrki Thanks so much, it worked. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "is_accepted": false, "score": -1, "last_activity_date": 1492715550, "creation_date": 1492715550, "answer_id": 43528005, "question_id": 43505227, "link": "https://stackoverflow.com/questions/43505227/lets-encrypt-python-client-fails-certbot-auto/43528005#43528005", "title": "Let&#39;s Encrypt Python Client Fails (Certbot-Auto)", "body": "<p>The <code>python-virtualenv</code> version from your distribution or installation is older than what's required by Certbot-Auto.</p>\n\n<p>Install or upgrade to a compatible <code>virtualenv</code> version for Python 3 via</p>\n\n<pre><code>pip3 install virtualenv&gt;=15.1.0\n</code></pre>\n"}], "owner": {"reputation": 1079, "user_id": 3376954, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b302fa76ba517ae24ac0b37abfd1d21b?s=128&d=identicon&r=PG&f=1", "display_name": "alsdkjasdlkja", "link": "https://stackoverflow.com/users/3376954/alsdkjasdlkja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2746, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492715550, "creation_date": 1492632709, "last_edit_date": 1492633258, "question_id": 43505227, "link": "https://stackoverflow.com/questions/43505227/lets-encrypt-python-client-fails-certbot-auto", "title": "Let&#39;s Encrypt Python Client Fails (Certbot-Auto)", "body": "<p>I see this error message below. The client previously worked on exactly the same environment. I don't understand anything from Python.</p>\n\n<p>How can I fix this? My current certificate expires in a couple of hours.</p>\n\n<pre><code>// a lot of other stuff updated ...\nSetting up gcc (4:6.3.0-4) ...\nSetting up python-virtualenv (15.1.0+ds-1) ...\nProcessing triggers for libc-bin (2.24-5) ...\nProcessing triggers for ca-certificates (20161130) ...\nUpdating certificates in /etc/ssl/certs...\n0 added, 0 removed; done.\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nCreating virtual environment...\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 662, in _build_master\n    ws.require(__requires__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 970, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 861, in resolve\n    raise VersionConflict(dist, req).with_context(dependent_req)\npkg_resources.VersionConflict: (virtualenv 15.0.3 (/usr/lib/python3/dist-packages), Requirement.parse('virtualenv==15.1.0'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/bin/virtualenv\", line 6, in &lt;module&gt;\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2991, in &lt;module&gt;\n    @_call_aside\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2977, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3004, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 664, in _build_master\n    return cls._build_from_requirements(__requires__)\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 677, in _build_from_requirements\n    dists = ws.resolve(reqs, Environment())\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 856, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'virtualenv==15.1.0' distribution was not found and is required by the application\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter", "grid"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7685914, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0fd7948b6b7719d6e49c85058d20ba86?s=128&d=identicon&r=PG&f=1", "display_name": "user7685914", "link": "https://stackoverflow.com/users/7685914/user7685914"}, "edited": false, "score": 0, "creation_date": 1492636232, "post_id": 43505703, "comment_id": 74066959, "body": "But what s the point to give weights on the widgets that i have given in the layout grid already .? Isn&#39;t this impractical ?"}, {"owner": {"reputation": 73, "user_id": 7685914, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0fd7948b6b7719d6e49c85058d20ba86?s=128&d=identicon&r=PG&f=1", "display_name": "user7685914", "link": "https://stackoverflow.com/users/7685914/user7685914"}, "edited": false, "score": 0, "creation_date": 1492636598, "post_id": 43505703, "comment_id": 74067163, "body": "That is really working .. I guess i am having problems with understanding the logic  ..Thank you  Bryan..."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 73, "user_id": 7685914, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0fd7948b6b7719d6e49c85058d20ba86?s=128&d=identicon&r=PG&f=1", "display_name": "user7685914", "link": "https://stackoverflow.com/users/7685914/user7685914"}, "edited": false, "score": 0, "creation_date": 1492637116, "post_id": 43505703, "comment_id": 74067408, "body": "@user7685914: Every widget that contains other widgets using <code>grid</code> uses a completely different grid configuration. The weights given to a parent does not affect the rows of columns of widgets nested inside. A rule of thumb is that for <i>every</i> frame or window that uses grid to manage its immediate children, you should give a non-zero weight to at least one row and one column."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1492634604, "creation_date": 1492634604, "answer_id": 43505703, "question_id": 43505202, "link": "https://stackoverflow.com/questions/43505202/inconsitent-behaviour-of-sticky-in-tkinter-grid-packer/43505703#43505703", "title": "Inconsitent behaviour of &quot;Sticky&quot; in Tkinter Grid packer", "body": "<p>You've correctly given a weight to the rows and columns in <code>frame</code>, but you've not applied weights anywhere else. When you place a radiobutton in <code>frame1</code>, it is smaller than that frame. It is \"sticking\" to the edges of column zero, but column zero hasn't been configured to take up all the space in <code>frame1</code>.</p>\n\n<p>Add this one line to observe the difference it makes:</p>\n\n<pre><code>frame1.grid_columnconfigure(0, weight=1)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 7685914, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0fd7948b6b7719d6e49c85058d20ba86?s=128&d=identicon&r=PG&f=1", "display_name": "user7685914", "link": "https://stackoverflow.com/users/7685914/user7685914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492634604, "creation_date": 1492632591, "question_id": 43505202, "link": "https://stackoverflow.com/questions/43505202/inconsitent-behaviour-of-sticky-in-tkinter-grid-packer", "title": "Inconsitent behaviour of &quot;Sticky&quot; in Tkinter Grid packer", "body": "<p>I am working on a small utilty. \nI had problems with tk pack system and i changed whole system to tkinter grid packer. But I can not easily place the widgets wherever i want. Sticky values not applying or applying in an unexpected way. Or I am doing something wrong .</p>\n\n<p>What is wrong with the code below ?</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\nvar = tk.IntVar()\nroot.minsize(width=400, height=400)\n\nroot.resizable(width=True, height=True)\nroot.grid_propagate(0)\n\nframe = tk.Frame(root,width=400, height=400, bg=\"cyan\")\nframe.grid()\nframe.grid_propagate(0)\n\nframe.grid_columnconfigure(0, weight=1)\nframe.grid_columnconfigure(1, weight=1)\n\nframe1 = tk.Frame(frame,width=200, height=100, bg=\"green\")\nframe2 = tk.Frame(frame,width=200, height=100, bg=\"blue\")\nframe3 = tk.Frame(frame,width=200, height=100, bg=\"yellow\")\nframe4 = tk.Frame(frame,width=200, height=100, bg=\"grey\")\nframe1.grid_propagate(0)\nframe2.grid_propagate(0)\nframe3.grid_propagate(0)\nframe4.grid_propagate(0)\n\ntk.Radiobutton(frame1 ,text=\"TEXT\" ,variable=var ,value=1,indicatoron=0\n    ,width=16 , height=1 ).grid(sticky=tk.N+tk.E+tk.W)\ntk.Radiobutton(frame2 ,text=\"TEXT\" ,variable=var ,value=2,indicatoron=0\n    ,width=16 , height=1 ).grid(sticky=tk.N+tk.E+tk.W)\ntk.Radiobutton(frame3 ,text=\"TEXT\" ,variable=var ,value=3,indicatoron=0\n    ,width=16 , height=1 ).grid(sticky=tk.N+tk.E+tk.W)\ntk.Radiobutton(frame4 ,text=\"TEXT\" ,variable=var ,value=4,indicatoron=0\n    ,width=16 , height=1 ).grid(sticky=tk.N+tk.E+tk.W)\n\nframe1.grid(row=0,column=0)\nframe2.grid(row=0,column=1)\nframe3.grid(row=1,column=0)\nframe4.grid(row=1,column=1)\n\nroot.mainloop()\n</code></pre>\n\n<p>Here is how it looks.\n<a href=\"https://i.stack.imgur.com/DSw8y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSw8y.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I expect these buttons/radio buttons stretch to the limits of the frame they were placed in cause i use</p>\n\n<pre><code>grid(sticky=tk.N+tk.E+tk.W) .\n</code></pre>\n\n<p>But it doesn't work.</p>\n"}, {"tags": ["python", "selenium", "proxy-authentication", "cefpython"], "answers": [{"tags": [], "owner": {"reputation": 17706, "user_id": 623622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pkmbW.png?s=128&g=1", "display_name": "Czarek Tomczak", "link": "https://stackoverflow.com/users/623622/czarek-tomczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1492665951, "last_edit_date": 1492665951, "creation_date": 1492665632, "answer_id": 43510815, "question_id": 43505171, "link": "https://stackoverflow.com/questions/43505171/cef-python-proxy-authentication/43510815#43510815", "title": "CEF Python Proxy Authentication", "body": "<p>CEF Python currently does not support all the features of the referenced C# example.</p>\n\n<p>You can set proxy using command line switches with the <a href=\"https://github.com/cztomczak/cefpython/blob/master/api/CommandLineSwitches.md#proxy-server\" rel=\"nofollow noreferrer\">\"proxy-server\"</a> switch, but this can be set only once during initialization when calling cef.Initialize. Chromium preferences (the SetPreference method in C#) which allow for setting options during runtime are not supported yet, this is to be implemented via <a href=\"https://github.com/cztomczak/cefpython/issues/244\" rel=\"nofollow noreferrer\">Issue #244</a>. This isue is marked \"next-release2\", so this should be implemented in one of next releases (a few months usually).</p>\n\n<p>CEF Python supports RequestHandler.<a href=\"https://github.com/cztomczak/cefpython/blob/master/api/RequestHandler.md#getauthcredentials\" rel=\"nofollow noreferrer\">GetAuthCredentials</a> callback. If you need GUI dialog for entering username/password then you need to implement this in your app using GTK/Qt or whatever GUI framework you use. There is no default implementation of auth credentials dialog in upstream CEF, applications need to implement such control on their own. On a side note there was a default implementation for auth dialogs on Windows in CEF Python 1 - but that's a very old version, code is <a href=\"https://github.com/cztomczak/cefpython/tree/cefpython31/cefpython/cef1/http_authentication\" rel=\"nofollow noreferrer\">available here</a>.</p>\n"}], "owner": {"reputation": 67, "user_id": 7885867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871200621e7446f84f387985c69306df?s=128&d=identicon&r=PG&f=1", "display_name": "ThousandSteps", "link": "https://stackoverflow.com/users/7885867/thousandsteps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 43510815, "answer_count": 1, "score": 1, "last_activity_date": 1492672594, "creation_date": 1492632489, "last_edit_date": 1495542851, "question_id": 43505171, "link": "https://stackoverflow.com/questions/43505171/cef-python-proxy-authentication", "title": "CEF Python Proxy Authentication", "body": "<p>Is there a way to add Proxy Authentication in CEF Python?</p>\n\n<p>The best answer I could find is <a href=\"https://stackoverflow.com/questions/42215691/cefsharp-proxy-authentication-required/42376097#42376097\">here</a>. The problem is that the code is written in C# and I couldn't manage to convert it to Python. </p>\n"}, {"tags": ["python", "arrays", "python-2.7"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1492632581, "post_id": 43505152, "comment_id": 74064947, "body": "What was in <code>accounts.txt</code>?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1492632656, "post_id": 43505152, "comment_id": 74064988, "body": "Your sample output could not have been produced by the posted code (the <code>Sorry</code> stuff at the end, for starters)."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1492632832, "post_id": 43505152, "comment_id": 74065081, "body": "&quot;I need these seperated with the name and then the PW after the :.&quot; - I absolutely don&#39;t understand what this means: how it&#39;s possible to sepArate stuff <i>with</i> something? Totally possible, with a knife, for example, but not in this case... Please clarify."}, {"owner": {"reputation": 448, "user_id": 2658278, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d77307a16c094c28024557f7a840a1f7?s=128&d=identicon&r=PG", "display_name": "Josh English", "link": "https://stackoverflow.com/users/2658278/josh-english"}, "edited": false, "score": 1, "creation_date": 1492632891, "post_id": 43505152, "comment_id": 74065122, "body": "i.split(&#39;:&#39;,0) splits the text 0 times. In other words, not at all."}, {"owner": {"reputation": 448, "user_id": 2658278, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d77307a16c094c28024557f7a840a1f7?s=128&d=identicon&r=PG", "display_name": "Josh English", "link": "https://stackoverflow.com/users/2658278/josh-english"}, "edited": false, "score": 0, "creation_date": 1492632901, "post_id": 43505152, "comment_id": 74065125, "body": "i.split(&#39;:&#39;,0) splits the text 0 times. In other words, not at all."}], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 7797433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f96c98c332cc99a3f6b6d27761b2c4?s=128&d=identicon&r=PG&f=1", "display_name": "gr8tech", "link": "https://stackoverflow.com/users/7797433/gr8tech"}, "is_accepted": true, "score": 0, "last_activity_date": 1492633225, "last_edit_date": 1492633225, "creation_date": 1492632770, "answer_id": 43505243, "question_id": 43505152, "link": "https://stackoverflow.com/questions/43505152/splitting-at-a-certain-point-an-array-in-python/43505243#43505243", "title": "splitting at a certain point an array in python", "body": "<p>If your results where represented like this;</p>\n\n<pre><code>loadednames=['a:b','c:d']\n\nnames = [i.split(':')[0] for i in loadednames]\n</code></pre>\n\n<p>names variable will have a list of ['a','c'] which are your names</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7843516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xWMWRxOm5Og/AAAAAAAAAAI/AAAAAAAAE8o/nONK89h3waM/photo.jpg?sz=128", "display_name": "Jaiven", "link": "https://stackoverflow.com/users/7843516/jaiven"}, "edited": false, "score": 0, "creation_date": 1492633976, "post_id": 43505383, "comment_id": 74065723, "body": "Thank you! This helped too."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1492633266, "creation_date": 1492633266, "answer_id": 43505383, "question_id": 43505152, "link": "https://stackoverflow.com/questions/43505152/splitting-at-a-certain-point-an-array-in-python/43505383#43505383", "title": "splitting at a certain point an array in python", "body": "<p>From <code>help(str.split)</code> <em>If maxsplit is given, at most maxsplit splits are done.</em> As mentioned in the comments, you did 0 splits when you really want 1 split. Now you have a list and you want the first item. This can all be squeezed into a couple of lines</p>\n\n<pre><code>with open('accounts.txt') as fp:\n    loadednames = [line.split(':', 1)[0] for line in fp]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7843516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xWMWRxOm5Og/AAAAAAAAAAI/AAAAAAAAE8o/nONK89h3waM/photo.jpg?sz=128", "display_name": "Jaiven", "link": "https://stackoverflow.com/users/7843516/jaiven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 43505243, "answer_count": 2, "score": -2, "last_activity_date": 1492633266, "creation_date": 1492632420, "last_edit_date": 1492632948, "question_id": 43505152, "link": "https://stackoverflow.com/questions/43505152/splitting-at-a-certain-point-an-array-in-python", "title": "splitting at a certain point an array in python", "body": "<p>I tried using another post's suggestion for splitting at a certain letter / number in the array and there example was.</p>\n\n<pre><code>loadednames = [i.split(':', 0) for i in loadednames]  \n</code></pre>\n\n<p>I used this in my code as follows  </p>\n\n<pre><code>checkaccounts = open('accounts.txt', 'r')  \nloadedcheckaccounts = checkaccounts.read().split('\\n')  \ncheckaccounts.close()  \nprint  \"These are used for a later variable that works.\\n\"  \nprint loadedcheckaccounts  \nloadednames = loadedcheckaccounts  \nloadednames = [i.split(':', 0) for i in loadednames]  \nprint \"I need these seperated with the name and then the PW after the :.\\n\"  \nprint loadednames  \n</code></pre>\n\n<p>What I am getting for results are:<br>\n['Mike:passwordtest', 'Helga:testmassword', 'Dorathy:testwordspass', '']\nI need these seperated with the name and then the PW after the :.</p>\n\n<p>[['Mike:passwordtest'], ['Helga:testmassword'], ['Dorathy:testwordspass'], ['']]\nSorry, there is no character by that name or the password is incorrect. Please try again.\nPlease enter a name or type 'create' to create a new character.</p>\n\n<p>I need to take the string and seperate the names with their password after the : so I can check the names with another variable. Thanks for any help you can give!</p>\n\n<p>Ah sorry, the accounts.txt is as follows<br>\nMike:passwordtest<br>\nHelga:testmassword<br>\nDorathy:testwordspass  </p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1492632903, "post_id": 43505149, "comment_id": 74065130, "body": "What python script?  You haven&#39;t posted any code."}, {"owner": {"reputation": 705, "user_id": 3511695, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/PhOpf.png?s=128&g=1", "display_name": "velkoon", "link": "https://stackoverflow.com/users/3511695/velkoon"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1492633411, "post_id": 43505149, "comment_id": 74065403, "body": "@ScottHunter Added what I could"}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1492634303, "creation_date": 1492634303, "answer_id": 43505622, "question_id": 43505149, "link": "https://stackoverflow.com/questions/43505149/python-mysqldb-delete-all-rows-that-meet-condition/43505622#43505622", "title": "Python MySQLdb delete all rows that meet condition", "body": "<p>You can loop over the rows produced by a <code>SELECT</code> statement as if the <code>execute</code> method returned a list of rows.</p>\n"}], "owner": {"reputation": 705, "user_id": 3511695, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/PhOpf.png?s=128&g=1", "display_name": "velkoon", "link": "https://stackoverflow.com/users/3511695/velkoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1492634303, "creation_date": 1492632415, "last_edit_date": 1495541379, "question_id": 43505149, "link": "https://stackoverflow.com/questions/43505149/python-mysqldb-delete-all-rows-that-meet-condition", "title": "Python MySQLdb delete all rows that meet condition", "body": "<p>I want to delete all rows in a table that match a certain value (<code>userId</code>)</p>\n\n<p>I've been looking at this post (<a href=\"https://stackoverflow.com/questions/15397239/python-mysqldb-iterate-through-table#\">Python MySQLdb iterate through table</a>) trying to get it to work how I want it.</p>\n\n<p>I have a <code>users</code> table and an <code>images</code> table.</p>\n\n<p><code>users</code>:\n<a href=\"https://i.stack.imgur.com/U1lyn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1lyn.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>images</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kK41l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kK41l.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my python script, I've only pulled in the userName. So first </p>\n\n<ul>\n<li><p>I need to get the <code>userId</code> of the user using the passed-in <code>userName</code>. (I have the following <code>SELECT</code> statement, but don't know how to assign the result to a variable)</p>\n\n<pre><code>import MySQLdb\n\ndbb = MySQLdb.connect(host=\"ipaddress\",     \nuser=\"root\",    \npasswd=\"myPassword\",\ndb=\"myDatabase\")\n\nuser_name = \"user\"\n\ncursor = dbb.cursor()    \n        cursor.execute(\"\"\"SELECT userId FROM users WHERE userName ='%s'\"\"\" (user_name))\n\nvar users_id = 0 // need to assign users_id to the selected userId from above code\n</code></pre></li>\n</ul>\n\n<p>Then</p>\n\n<ul>\n<li><p>I need to iterate through the <code>images</code> table and delete all rows with the corresponding <code>userId</code></p>\n\n<pre><code>cursor2 = dbb.cursor()    \ncursor2.execute(\"\"\"SELECT FROM images WHERE userId='%s'\"\"\" (users_id))  \nfor cursor2: //don't think this is right...\n//DELETE all rows with matching users_id\n</code></pre></li>\n</ul>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 20829, "user_id": 1030110, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bsgx2.png?s=128&g=1", "display_name": "m0nhawk", "link": "https://stackoverflow.com/users/1030110/m0nhawk"}, "edited": false, "score": 1, "creation_date": 1492632462, "post_id": 43505121, "comment_id": 74064870, "body": "You should path a file as a <code>destination_path</code>, not just folder. So, just append it with a filename."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 5348557, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41e9f2caa0ee84ded6ae04fcbec3e0fd?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Alexander Campbell", "link": "https://stackoverflow.com/users/5348557/christopher-alexander-campbell"}, "is_accepted": true, "score": 5, "last_activity_date": 1492632515, "creation_date": 1492632515, "answer_id": 43505177, "question_id": 43505121, "link": "https://stackoverflow.com/questions/43505121/isadirectoryerror-errno-21-is-a-directory-home-cali-dropbox/43505177#43505177", "title": "IsADirectoryError: [Errno 21] Is a directory: &#39;/home/cali/Dropbox/&#39;", "body": "<p>Perhaps by copying the file to another file, rather than a directory.</p>\n\n<pre><code>...\ndestination_path = os.path.expanduser('~/Dropbox/Words.xml')\n...\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7864036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17219, "favorite_count": 0, "accepted_answer_id": 43505177, "answer_count": 1, "score": 2, "last_activity_date": 1492632515, "creation_date": 1492632298, "question_id": 43505121, "link": "https://stackoverflow.com/questions/43505121/isadirectoryerror-errno-21-is-a-directory-home-cali-dropbox", "title": "IsADirectoryError: [Errno 21] Is a directory: &#39;/home/cali/Dropbox/&#39;", "body": "<p>I have a function where I am trying to copy an XML document to my Dropbox folder, but I am getting:</p>\n\n<pre><code>/usr/bin/python3.5 /home/cali/PycharmProjects/Vocabulary/Vocabulary.py\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/tkinter/__init__.py\", line 1553, in __call__\n    return self.func(*args)\n  File \"/home/cali/PycharmProjects/Vocabulary/Vocabulary.py\", line 232, in add_item\n    self.sync()\n  File \"/home/cali/PycharmProjects/Vocabulary/Vocabulary.py\", line 287, in sync\n    copyfile(vocabulary_path, destination_path)\n  File \"/usr/lib/python3.5/shutil.py\", line 115, in copyfile\n    with open(dst, 'wb') as fdst:\nIsADirectoryError: [Errno 21] Is a directory: '/home/cali/Dropbox/'\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>Here is the function:</p>\n\n<pre><code>def sync(self):\n\n    path = os.path.expanduser('~/Desktop')\n    vocabulary_path = os.path.join(path, 'Vocabulary', 'Words.xml')\n    destination_path = os.path.expanduser('~/Dropbox/')\n\n    copyfile(vocabulary_path, destination_path)\n</code></pre>\n\n<p>How can I overcome the issue?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "edited": false, "score": 0, "creation_date": 1492632446, "post_id": 43505097, "comment_id": 74064863, "body": "What is <code>autotag_map</code>?"}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "reply_to_user": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "edited": false, "score": 0, "creation_date": 1492632477, "post_id": 43505097, "comment_id": 74064879, "body": "It&#39;s a hashmap from which I&#39;m obtaining the data frame."}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "reply_to_user": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "edited": false, "score": 0, "creation_date": 1492632529, "post_id": 43505097, "comment_id": 74064915, "body": "I&#39;ve update the code to include the matplotlib line."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1492650394, "post_id": 43505097, "comment_id": 74071501, "body": "I think you do not understand what you are wanting. Strings have no intrinsic numerical value to plot. I think what you really want is just a plot of score at some fixed spacing (e.g. the integer index) with the appropriate <i>labels</i> from tag. There&#39;s plenty of info in matplotlib and pandas on manipulating tick labels."}], "answers": [{"comments": [{"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1492633094, "post_id": 43505281, "comment_id": 74065244, "body": "This actually works. Can you please explain your answer why this worked and why the previous one didn&#39;t. Also in this syntax where is plt, as in how am I accessing matplotlib without using the plt variable. Is this even using matplotlit?"}, {"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "reply_to_user": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1492633236, "post_id": 43505281, "comment_id": 74065314, "body": "@MelissaStewart see the documentation for <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html#pandas.DataFrame.plot\" rel=\"nofollow noreferrer\"><code>pandas.Dataframe.plot()</code></a>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1492633331, "post_id": 43505281, "comment_id": 74065361, "body": "@MelissaStewart, this is a standard way to plot in Pandas. Please read the <a href=\"http://pandas.pydata.org/pandas-docs/stable/visualization.html\" rel=\"nofollow noreferrer\">tutorial</a> - i don&#39;t think i can explain it any better"}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1492633463, "post_id": 43505281, "comment_id": 74065438, "body": "Thanks for the tutorial and I was scanning through it. There&#39;s one fundamental thing I can&#39;t seem to understand. I&#39;m importing <code>matplotlib.pyplot as plt</code> How can i access <code>matplotlib</code> without that variable."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1492633570, "post_id": 43505281, "comment_id": 74065519, "body": "@MelissaStewart, AFAIK <code>DataFrame.plot()</code> does it for you. You just have to execute <code>plt.show()</code> at the end of your script/program. I&#39;m using interactive Python (ipython) - it has &quot;magic&quot; commands like <code>%matplotlib</code>. After that i can plot by executing literally one command: <code>df.plot(...)</code>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1492633184, "last_edit_date": 1492633184, "creation_date": 1492632915, "answer_id": 43505281, "question_id": 43505097, "link": "https://stackoverflow.com/questions/43505097/valueerror-could-not-convert-string-to-float-bored/43505281#43505281", "title": "ValueError: could not convert string to float : bored", "body": "<p>Try this:</p>\n\n<pre><code>df.plot.bar(x='tag', y='score', rot=0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4DWVD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4DWVD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is <a href=\"http://pandas.pydata.org/pandas-docs/stable/visualization.html\" rel=\"nofollow noreferrer\">a great Pandas Visualisation tutorial with tons of examples</a></p>\n"}], "owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 43505281, "answer_count": 1, "score": 1, "last_activity_date": 1492633184, "creation_date": 1492632209, "last_edit_date": 1492632552, "question_id": 43505097, "link": "https://stackoverflow.com/questions/43505097/valueerror-could-not-convert-string-to-float-bored", "title": "ValueError: could not convert string to float : bored", "body": "<p>Here's my data frame.</p>\n\n<pre><code>    tag         score\n0   hiding      63.0\n1   windowsill  1.0\n2   porch       1.0\n3   deck        1.0\n4   bored       1.0\n</code></pre>\n\n<p>I'm trying to plot score against tag.</p>\n\n<pre><code>tag_df = pd.DataFrame(list(tag_map.items()), columns=['tag', 'score'])\nplt.plot(tag_df['tag'], tag_df['score'], color='blue')\n</code></pre>\n\n<p>I get the following error,</p>\n\n<pre><code>ValueError: could not convert string to float: 'bored'\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["python", "arrays", "string", "sqlite", "integer"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1492632279, "post_id": 43505031, "comment_id": 74064773, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14308467/sqlite-convert-text-to-numbers\">sqlite Convert Text to Numbers</a>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1492632360, "post_id": 43505031, "comment_id": 74064822, "body": "Use <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><b><code>ast.literal_eval</code></b></a>"}], "answers": [{"tags": [], "owner": {"reputation": 14305, "user_id": 7256039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yKfXI.png?s=128&g=1", "display_name": "gyre", "link": "https://stackoverflow.com/users/7256039/gyre"}, "is_accepted": false, "score": 0, "last_activity_date": 1492632266, "creation_date": 1492632266, "answer_id": 43505114, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python/43505114#43505114", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>Use a list comprehension and <code>str.split</code>:</p>\n\n<pre><code>data = \"1,5,12\"\nexample_list = [int(x) for x in data.split(',')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 7797433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f96c98c332cc99a3f6b6d27761b2c4?s=128&d=identicon&r=PG&f=1", "display_name": "gr8tech", "link": "https://stackoverflow.com/users/7797433/gr8tech"}, "is_accepted": false, "score": 0, "last_activity_date": 1492632303, "creation_date": 1492632303, "answer_id": 43505122, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python/43505122#43505122", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>Suppose you string was stored in a variable, you could do something like this;</p>\n\n<pre><code>data_result=\"1,5,12\"\nint_result=list(map(int,data_result.split(\",\")))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "reply_to_user": {"reputation": 32876, "user_id": 2943403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDzQY.jpg?s=128&g=1", "display_name": "mickmackusa", "link": "https://stackoverflow.com/users/2943403/mickmackusa"}, "edited": false, "score": 0, "creation_date": 1492634148, "post_id": 43505143, "comment_id": 74065836, "body": "Thanks for the notice, I was lazy. I improved my post."}], "tags": [], "owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "is_accepted": false, "score": 0, "last_activity_date": 1492634107, "last_edit_date": 1492634107, "creation_date": 1492632375, "answer_id": 43505143, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python/43505143#43505143", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>You can <a href=\"https://docs.python.org/3.6/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>split()</code></a> your string on the commas, to get a list of strings. These can then be turned to integer numbers using the <a href=\"https://docs.python.org/3.6/library/functions.html#int\" rel=\"nofollow noreferrer\"><code>int()</code></a> function inside a <a href=\"https://docs.python.org/3.6/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a>.</p>\n\n<p>To catch conversion errors, this can be wrapped in a <a href=\"https://docs.python.org/3.6/tutorial/errors.html#handling-exceptions\" rel=\"nofollow noreferrer\"><code>try ... except</code></a> block, especially if the original string comes from external/user input.</p>\n\n<p>Example:</p>\n\n<pre><code>string_of_ints= \"1,5,12\"\ntry:\n    list_of_ints = [int(x) for x in string_of_ints.split(\",\")]\nexcept ValueError:\n    print(\"Value Error\")\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>[1, 5, 12]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3919, "user_id": 3169961, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/42c9a71949249cac6172502dfce7da7d?s=128&d=identicon&r=PG", "display_name": "sabbahillel", "link": "https://stackoverflow.com/users/3169961/sabbahillel"}, "is_accepted": false, "score": 0, "last_activity_date": 1492632446, "creation_date": 1492632446, "answer_id": 43505157, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python/43505157#43505157", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>First split the string into a list using the <code>,</code> delimiter <code>mylist.split(',')</code>. Then convert each member of that list into an integer. You now have a list of integers. </p>\n\n<p>Use a list comprehension:</p>\n\n<pre><code>results = [int(i) for i in results]\n</code></pre>\n\n<p>e.g.</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>mylist = ['1, 2, 3']<br>\n      results = mylist.split(',')<br>\n      results = [int(i) for i in results]<br>\n      results<br>\n          [1, 2, 3]</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 0, "last_activity_date": 1492632454, "creation_date": 1492632454, "answer_id": 43505160, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python/43505160#43505160", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>Use <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><strong><code>ast.literal_eval</code></strong></a>:</p>\n\n<pre><code>&gt;&gt;&gt; from ast import literal_eval\n&gt;&gt;&gt; s = '1,5,12'\n&gt;&gt;&gt; literal_eval(s)\n(1, 5, 12)\n\n&gt;&gt;&gt; list(literal_eval(s))\n[1, 5, 12]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7891925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77e53f1fbcc616eb53672f006b7744ed?s=128&d=identicon&r=PG&f=1", "display_name": "E Hanbury", "link": "https://stackoverflow.com/users/7891925/e-hanbury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1492634107, "creation_date": 1492632007, "question_id": 43505031, "link": "https://stackoverflow.com/questions/43505031/how-to-turn-a-string-of-numbers-being-stored-in-sql-back-into-integers-in-python", "title": "How to turn a string of numbers being stored in SQL back into integers in Python?", "body": "<p>So I've got \"1,5,12\" stored as a string in a SQL database, I've managed to get the string into python using cursor.fetchone etc. </p>\n\n<p>How do I separate this \"1,5,12\" string into say an array of integers? If possible I want to be able to call the individual integers as indexes in an array. </p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 4923, "user_id": 992489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8568528b37ad2e84830c2c9aa9260369?s=128&d=identicon&r=PG", "display_name": "Alexandre Passos", "link": "https://stackoverflow.com/users/992489/alexandre-passos"}, "is_accepted": true, "score": 0, "last_activity_date": 1492635452, "creation_date": 1492635452, "answer_id": 43505918, "question_id": 43505001, "link": "https://stackoverflow.com/questions/43505001/computing-bincount-or-spectrum-of-matrix-over-large-range-in-tensorflow/43505918#43505918", "title": "Computing bincount (or spectrum) of matrix over large range in Tensorflow", "body": "<p>If you call bincount once on the matrix you'll get a vector where in position i you have the count of element i. Then, if you call bincount on that you'll have a vector where in position c you have the number of elements which had count c, which is what I think you want.</p>\n"}], "owner": {"reputation": 75, "user_id": 6411997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86d4ed4f3b89ab16cacf6d180c519cfc?s=128&d=identicon&r=PG&f=1", "display_name": "jdc", "link": "https://stackoverflow.com/users/6411997/jdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 43505918, "answer_count": 1, "score": 0, "last_activity_date": 1492635452, "creation_date": 1492631887, "question_id": 43505001, "link": "https://stackoverflow.com/questions/43505001/computing-bincount-or-spectrum-of-matrix-over-large-range-in-tensorflow", "title": "Computing bincount (or spectrum) of matrix over large range in Tensorflow", "body": "<p>I want to implement a notion of the diversity of the elements of a matrix in Tensorflow efficiently such that it can be performed on every iteration of a neural network training. More precisely,</p>\n\n<ul>\n<li>Input: A large matrix,<code>A</code> of integers <code>H x L</code> ranging from <code>[0,2^K)</code> where <code>K</code> is large.</li>\n<li>Output: A vector of integers, or spectrum of the matrix, <code>s</code> of size <code>H*L + 1</code> where <code>s[i]</code> represents the number of integers in <code>[0, 2^K)</code> that is repeated <code>i</code> times.</li>\n<li>Computational considerations: <code>H x L = 32*400</code> and <code>K = 16</code>. This procedure would need to be run on every iteration of a neural network.</li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>A = [[0,0,0,1,1,2,2],\n     [3,4,4,4,4,5,6]]\nK = 3\ns = [1,2,2,1,1,0,0,0,0,0,0,0,0,0,0]\n</code></pre>\n\n<p><strong>Naive Approach</strong></p>\n\n<pre><code>I = tf.one_hot(A) #Shape: H x L x 2^K\ny = tf.reduce_sum(tf.reduce_sum(I,0),1) # Shape: 2^K\ns = tf.bincount(y, minLength = H*L + 1) # Shape: H*L + 1\n</code></pre>\n\n<p>Unfortunately, the main issue with this approach is that expanding to the one_hot form for moderately sized <code>K</code> becomes computationally infeasible and can run into out of memory issues as well. Is there are more efficient way to do this in Tensorflow? </p>\n"}, {"tags": ["python", "installation", "pyautogui"], "comments": [{"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 1, "creation_date": 1492632346, "post_id": 43504934, "comment_id": 74064811, "body": "have you tried just &quot;pip install pyautogui&quot; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7037923"}, "reply_to_user": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1492711653, "post_id": 43504934, "comment_id": 74106864, "body": "@Ajax1234 That worked, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "is_accepted": false, "score": 1, "last_activity_date": 1492637892, "creation_date": 1492637892, "answer_id": 43506538, "question_id": 43504934, "link": "https://stackoverflow.com/questions/43504934/cannot-install-pyautogui/43506538#43506538", "title": "Cannot install PyAutoGUI", "body": "<p>Try:</p>\n\n<pre><code>pip install pyautogui==0.9.35\n</code></pre>\n\n<p>Here's what happened when I did in a cmd session:</p>\n\n<pre><code>Microsoft Windows [Version 6.1.7601]\nCopyright (c) 2009 Microsoft Corporation.  All rights reserved.\n\nC:\\Windows\\System32&gt;pip install PyAutoGUI-0.9.35\nCollecting PyAutoGUI-0.9.35\n  Could not find a version that satisfies the requirement PyAutoGUI-0.9.35 (from\n versions: )\nNo matching distribution found for PyAutoGUI-0.9.35\n\nC:\\Windows\\System32&gt;pip install pyautogui==0.9.35\nCollecting pyautogui==0.9.35\n  Downloading PyAutoGUI-0.9.35.zip (57kB)\n    100% |################################| 61kB 223kB/s\nCollecting pymsgbox (from pyautogui==0.9.35)\n  Downloading PyMsgBox-1.0.6.zip\nCollecting PyTweening&gt;=1.0.1 (from pyautogui==0.9.35)\n  Downloading PyTweening-1.0.3.zip\nRequirement already satisfied: Pillow in c:\\python35\\lib\\site-packages (from pya\nutogui==0.9.35)\nCollecting pyscreeze (from pyautogui==0.9.35)\n  Downloading PyScreeze-0.1.9.tar.gz\nRequirement already satisfied: olefile in c:\\python35\\lib\\site-packages (from Pi\nllow-&gt;pyautogui==0.9.35)\nBuilding wheels for collected packages: pyautogui, pymsgbox, PyTweening, pyscree\nze\n  Running setup.py bdist_wheel for pyautogui ... done\n  Stored in directory: C:\\Users\\me\\AppData\\Local\\pip\\Cache\\wheels\\28\\\n3b\\07\\64bee61ca73d56260a47d6b49692e7f217a69568aae2117167\n  Running setup.py bdist_wheel for pymsgbox ... done\n  Stored in directory: C:\\Users\\me\\AppData\\Local\\pip\\Cache\\wheels\\c1\\\ncb\\86\\c3c2e3c39f9f0d015cf0f94ab6ca41e14f8c2083846e82b91d\n  Running setup.py bdist_wheel for PyTweening ... done\n  Stored in directory: C:\\Users\\me\\AppData\\Local\\pip\\Cache\\wheels\\04\\\n86\\59\\70a93cd378740b5266c51e11c36ee3fc8b9dfef4b3bc72fd82\n  Running setup.py bdist_wheel for pyscreeze ... done\n  Stored in directory: C:\\Users\\me\\AppData\\Local\\pip\\Cache\\wheels\\6a\\\nf7\\db\\9521ae30a53499f6c9024df5f5a605d56b6e6ad0c2d48dcb42\nSuccessfully built pyautogui pymsgbox PyTweening pyscreeze\nInstalling collected packages: pymsgbox, PyTweening, pyscreeze, pyautogui\nSuccessfully installed PyTweening-1.0.3 pyautogui-0.9.35 pymsgbox-1.0.6 pyscreez\ne-0.1.9\n\nC:\\Windows\\System32&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14036736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ghrxa1fwU7G8dRZjRtylHAWDGB2PO7jQgkTKfZs=k-s128", "display_name": "IIT DEVELOPER", "link": "https://stackoverflow.com/users/14036736/iit-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1596365710, "last_edit_date": 1596365710, "creation_date": 1596363366, "answer_id": 63214817, "question_id": 43504934, "link": "https://stackoverflow.com/questions/43504934/cannot-install-pyautogui/63214817#63214817", "title": "Cannot install PyAutoGUI", "body": "<p><strong>1. Method</strong></p>\n<p>If your Python is not updated, then update your Python, then install <strong>pyaudiogui</strong>.</p>\n<p><strong>2. Method</strong></p>\n<pre><code>pip install pyautogui==0.9.35\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7037923"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4845, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1596365710, "creation_date": 1492631653, "question_id": 43504934, "link": "https://stackoverflow.com/questions/43504934/cannot-install-pyautogui", "title": "Cannot install PyAutoGUI", "body": "<p>I tried installing PyAutoGUI-0.9.35 but the following came up when running cmd in the same folder:</p>\n\n<p>my input: pip install PyAutoGUI-0.9.35</p>\n\n<p>output:</p>\n\n<p>Collecting PyAutoGUI-0.9.35\n  Could not find a version that satisfies the requirement PyAutoGUI-0.9.35 (from versions: )\nNo matching distribution found for PyAutoGUI-0.9.35</p>\n\n<p>I then tried running the setup.py file from PyAutoGUI folder, but this showed up this time:</p>\n\n<p><code>usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [opts2_opts]...]\nor: setyp.py --help [cmd1 cmd2...]\nor: setup.py --help-commands\nor: setup.py cmd --help</code></p>\n\n<p>error: no commands supplied</p>\n\n<p>the window immediately shut down so I had to take a quick screenshot</p>\n\n<p>could anyone please tell me what I'm doing wrong? I run python 3.6, the required version for pyautogui is 3.4, I also run Win 10.</p>\n"}, {"tags": ["python", "arrays", "numpy", "indexing"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1492631741, "post_id": 43504930, "comment_id": 74064455, "body": "Changing the size of numpy arrays is a relatively slow operation.  If you have a large amount of data, you might want to reconsider your data structure at a deeper level, because any system that&#39;s based on changing the sizes of your arrays is likely to be slow."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 2687490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1039094238/picture?type=large", "display_name": "Emmanuel Sunil", "link": "https://stackoverflow.com/users/2687490/emmanuel-sunil"}, "edited": false, "score": 0, "creation_date": 1492632855, "post_id": 43505078, "comment_id": 74065099, "body": "Brilliant! Nice and simple! Thanks a lot!"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 4, "last_activity_date": 1492632150, "creation_date": 1492632150, "answer_id": 43505078, "question_id": 43504930, "link": "https://stackoverflow.com/questions/43504930/add-elements-to-numpy-array-at-desired-locations-based-on-reference-array-in-pyt/43505078#43505078", "title": "Add elements to numpy array at desired locations based on reference array in Python", "body": "<p>Say if both the <em>allTimes</em> and <em>loggedTimes</em> arrays are sorted, this would be something you can start with:</p>\n\n<pre><code>propertyCorrected  = np.zeros(allTimes.size)\npropertyCorrected [np.searchsorted(allTimes, loggedTimes)] = property\npropertyCorrected \n#array([ 1500.,  2000.,   500.,     0.,    75.,    60.,     0.,     0.,\n#          45.,    37.,     0.])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 203, "user_id": 2687490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1039094238/picture?type=large", "display_name": "Emmanuel Sunil", "link": "https://stackoverflow.com/users/2687490/emmanuel-sunil"}, "edited": false, "score": 0, "creation_date": 1492633324, "post_id": 43505187, "comment_id": 74065357, "body": "This answer is also useful if someone needs to do the something similar where the arrays are not sorted."}], "tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": false, "score": 2, "last_activity_date": 1492632532, "creation_date": 1492632532, "answer_id": 43505187, "question_id": 43504930, "link": "https://stackoverflow.com/questions/43504930/add-elements-to-numpy-array-at-desired-locations-based-on-reference-array-in-pyt/43505187#43505187", "title": "Add elements to numpy array at desired locations based on reference array in Python", "body": "<p>You can also use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.in1d.html\" rel=\"nofollow noreferrer\"><code>np.in1d</code></a> to accomplish the same.</p>\n\n<pre><code>final_vals = np.zeros(allTimes.size)\nfinal_vals[np.in1d(allTimes, loggedTimes)] = property\nfinal_vals\narray([ 1500.,  2000.,   500.,     0.,    75.,    60.,     0.,     0.,\n      45.,    37.,     0.])\n</code></pre>\n\n<p>Though upon a cursory test of performance it would appear that <code>np.searchsorted</code> has significantly better performance.</p>\n"}], "owner": {"reputation": 203, "user_id": 2687490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1039094238/picture?type=large", "display_name": "Emmanuel Sunil", "link": "https://stackoverflow.com/users/2687490/emmanuel-sunil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 43505078, "answer_count": 2, "score": 0, "last_activity_date": 1492632532, "creation_date": 1492631636, "question_id": 43504930, "link": "https://stackoverflow.com/questions/43504930/add-elements-to-numpy-array-at-desired-locations-based-on-reference-array-in-pyt", "title": "Add elements to numpy array at desired locations based on reference array in Python", "body": "<p>I have some experiment data, with data logged with a periodic time interval. If the value of the measured property was 0, then the corresponding time stamp and the value of the property (0) were not logged. However, for analysis purposes, I need to add a 0 to the measured property array at the corresponding times when its value was 0. </p>\n\n<p>The following simple example shows my problem </p>\n\n<pre><code>loggedTimes = numpy.array([0,    10,   20,  40,  50, 80, 90, 100])\nproperty    = numpy.array([1500, 2000, 500, 75,  60, 45, 37, 0])\n</code></pre>\n\n<p>All possible logging times were:</p>\n\n<pre><code>allTimes = numpy.array([0,10,20,30,40,50,60,70,80,90,100]\n</code></pre>\n\n<p>Therefore, at times 30, 60 and 70, the value of the property was 0. Thus, I need to add a 0 at the corresponding locations in the property array such that the result is: </p>\n\n<pre><code>allTimes          = numpy.array([0,    10,   20,  30, 40, 50, 60, 70, 80, 90, 100]\npropertyCorrected = numpy.array([1500, 2000, 500, 0,  75, 60, 0,  0,  45, 37, 0])\n</code></pre>\n\n<p>Is there a smart way to do this without using loops. This is because my experiment data is very large, and I have multiple experiment runs, so loops would be too slow, particularly if I need to reload the experiment data from the text files.</p>\n\n<p>If it helps, all times and property values are integers. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "numpy", "scipy", "fft", "correlation"], "comments": [{"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1492631771, "post_id": 43504899, "comment_id": 74064472, "body": "how does your <code>a</code> look like?"}, {"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "reply_to_user": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1492631934, "post_id": 43504899, "comment_id": 74064568, "body": "@kmario23 It&#39;s private experimental data so I can&#39;t really share here. But it&#39;s 200x200 arrays that are periodic in x and y."}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "edited": false, "score": 1, "creation_date": 1492634663, "post_id": 43504899, "comment_id": 74066148, "body": "I don&#39;t have a good answer at the moment, but that &quot;left behind&quot; code you mentioned can be found <a href=\"https://github.com/scipy/scipy/blob/maintenance/0.7.x/scipy/stsci/convolve/lib/Convolve.py#L144\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 2, "last_activity_date": 1492636673, "last_edit_date": 1492636673, "creation_date": 1492636024, "answer_id": 43506070, "question_id": 43504899, "link": "https://stackoverflow.com/questions/43504899/computing-wrapped-2d-correlation-with-fftconvolve/43506070#43506070", "title": "Computing wrapped 2D correlation with fftconvolve", "body": "<p>The wrapped correlation can be implemented using the FFT.  Here's some code to demonstrate how:</p>\n\n<pre><code>In [276]: import numpy as np\n\nIn [277]: from scipy.signal import correlate2d\n</code></pre>\n\n<p>Create a random array <code>a</code> to work with:</p>\n\n<pre><code>In [278]: a = np.random.randn(200, 200)\n</code></pre>\n\n<p>Compute the 2D correlation using <code>scipy.signal.correlate2d</code>:</p>\n\n<pre><code>In [279]: c = correlate2d(a, a, boundary='wrap', mode='same')\n</code></pre>\n\n<p>Now compute the same result, using the 2D FFT functions from <code>numpy.fft</code>. (This code assumes <code>a</code> is square.)</p>\n\n<pre><code>In [280]: from numpy.fft import fft2, ifft2\n\nIn [281]: fc = np.roll(ifft2(fft2(a).conj()*fft2(a)).real, (a.shape[0] - 1)//2, axis=(0,1))\n</code></pre>\n\n<p>Verify that both methods give the same result:</p>\n\n<pre><code>In [282]: np.allclose(c, fc)\nOut[282]: True\n</code></pre>\n\n<p>And as you point out, using the FFT is <em>much</em> faster.  For this example, it is about 1000 times faster:</p>\n\n<pre><code>In [283]: %timeit c = correlate2d(a, a, boundary='wrap', mode='same')\n1 loop, best of 3: 3.2 s per loop\n\nIn [284]: %timeit fc = np.roll(ifft2(fft2(a).conj()*fft2(a)).real, (a.shape[0] - 1)//2, axis=(0,1))\n100 loops, best of 3: 3.19 ms per loop\n</code></pre>\n\n<p>And that includes the duplicated computation of <code>fft2(a)</code>.  Of course, <code>fft2(a)</code> should only be computed once:</p>\n\n<pre><code>In [285]: fta = fft2(a)\n\nIn [286]: fc = np.roll(ifft2(fta.conj()*fta).real, (a.shape[0] - 1)//2, axis=(0,1))\n</code></pre>\n"}], "owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 1, "accepted_answer_id": 43506070, "answer_count": 1, "score": 0, "last_activity_date": 1492636673, "creation_date": 1492631527, "last_edit_date": 1495542852, "question_id": 43504899, "link": "https://stackoverflow.com/questions/43504899/computing-wrapped-2d-correlation-with-fftconvolve", "title": "Computing wrapped 2D correlation with fftconvolve", "body": "<p>I have a set of of 2D arrays that I have to compute the 2D correlation of. I have been trying many different things (even programming it in Fortran), but I think the fastest way will be calculating it using FFT.</p>\n\n<p>Based on my tests and on <a href=\"https://stackoverflow.com/a/1768140\">this answer</a> I can use <code>scipy.signal.fftconvolve</code> and it works fine if I'm trying to reproduce the output of <code>scipy.signal.correlate2d</code> with <code>boundary='fill'</code>. So basically this</p>\n\n<pre><code>scipy.signal.fftconvolve(a, a[::-1, ::-1], mode='same')\n</code></pre>\n\n<p>is equal to this (with the exception of a slight shift)</p>\n\n<pre><code>scipy.signal.correlate2d(a, a, boundary='fill', mode='same')\n</code></pre>\n\n<p>The thing is that the arrays should be computed in wrapped mode, since they are 2D periodic arrays (i.e., <code>boundary='wrap'</code>). So if I'm trying to reproduce the output of</p>\n\n<pre><code>scipy.signal.correlate2d(a, a, boundary='wrap', mode='same')\n</code></pre>\n\n<p>I can't, or at least I don't see how to do it. (And I want to use the FFT method, since it's way faster.)</p>\n\n<p>Apparently Scipy used to have <a href=\"https://docs.scipy.org/doc/scipy-0.7.x/reference/generated/scipy.stsci.convolve.correlate2d.html\" rel=\"nofollow noreferrer\">something like that</a> that might have done the trick, but apparently it got left behind and I can't find it, so I think Scipy might have dropped support for it.</p>\n\n<p>Anyway, is there a way to use <code>scipy</code>'s or <code>numpy</code>'s FFT routines to calculate this correlation of period arrays?</p>\n"}, {"tags": ["python", "multithreading", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 7366334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eda81db94d6b68072e186b3be9855e93?s=128&d=identicon&r=PG&f=1", "display_name": "Lord G.", "link": "https://stackoverflow.com/users/7366334/lord-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1493475274, "creation_date": 1493475274, "answer_id": 43696690, "question_id": 43504878, "link": "https://stackoverflow.com/questions/43504878/passing-spiders-name-to-threading-class/43696690#43696690", "title": "Passing spiders name to threading class", "body": "<p>Look like changing \"name\" to any other, not so common used parameter's name sorting my problem out. Here's edited code below: </p>\n\n<pre><code>import threading\nfrom PyQt4 import QtCore, QtGui\nfrom scrapy.crawler import CrawlerRunner\nfrom twisted.internet import reactor, defer\nfrom scrapy.utils.project import get_project_settings\nfrom scrapy.utils.log import configure_logging\nfrom my_spider import QuotesSpider\n\n\n\nclass CrawlerThread(threading.Thread):\n    def __init__(self,myname): #changing name to myname\n    super(CrawlerThread,self).__init__() \n    self.myname = myname       #changing name to myname\n    def stop(self):\n        try:\n             reactor.stop()\n        except:\n            pass\n    def run(self):\n        configure_logging({'LOG_LEVEL': 'DEBUG'})\n        crun = CrawlerRunner(get_project_settings())\n        crun.crawl(self.myname)    #changing name to myname\n        reactor.run(installSignalHandlers=False)\n\n\nclass Form(QtGui.QDialog):\n\n\n    def __init__(self, parent=None):\n        super(Form, self).__init__(parent)\n        w =QtGui.QWidget()\n        w.resize(250, 150)\n        w.move(300, 300)\n        self.ct = CrawlerThread(QuotesSpider)\n        self.ct.start()\n\nif __name__ == \"__main__\":\n    app = QtGui.QApplication(sys.argv)\n    form = Form()\n    form.show()\n\n\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 7366334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eda81db94d6b68072e186b3be9855e93?s=128&d=identicon&r=PG&f=1", "display_name": "Lord G.", "link": "https://stackoverflow.com/users/7366334/lord-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 43696690, "answer_count": 1, "score": 0, "last_activity_date": 1493475274, "creation_date": 1492631454, "last_edit_date": 1492718879, "question_id": 43504878, "link": "https://stackoverflow.com/questions/43504878/passing-spiders-name-to-threading-class", "title": "Passing spiders name to threading class", "body": "<p>I'm experimenting with threading and scrapy. However, can't figure out what I'm doing wrong. Simply trying to pass spiders name to threading class &amp; getting KeyError. Code below:</p>\n\n<pre><code>import threading\nfrom PyQt4 import QtCore, QtGui\nfrom scrapy.crawler import CrawlerRunner\nfrom twisted.internet import reactor, defer\nfrom scrapy.utils.project import get_project_settings\nfrom scrapy.utils.log import configure_logging\nfrom my_spider import QuotesSpider\n\n\n\nclass CrawlerThread(threading.Thread):\n    def __init__(self,name):\n        super(CrawlerThread,self).__init__() \n        self.name = name\n    def stop(self):\n        try:\n             reactor.stop()\n        except:\n            pass\n    def run(self):\n        configure_logging({'LOG_LEVEL': 'DEBUG'})\n        crun = CrawlerRunner(get_project_settings())\n        crun.crawl(self.name)\n        reactor.run(installSignalHandlers=False)\n\n\nclass Form(QtGui.QDialog):\n\n\n    def __init__(self, parent=None):\n        super(Form, self).__init__(parent)\n        w =QtGui.QWidget()\n        w.resize(250, 150)\n        w.move(300, 300)\n        self.ct = CrawlerThread(QuotesSpider)\n        self.ct.start()\n\nif __name__ == \"__main__\":\n    app = QtGui.QApplication(sys.argv)\n    form = Form()\n    form.show()\n\n\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread &lt;class 'my_spider.QuotesSpider'&gt;:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"/home/python/Python/code/Fresh_lostfilm/movies/movies/spiders/GUI.py\", line 26, in run\n    crun.crawl(self.name)\n  File \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line 162, in crawl\n    crawler = self.create_crawler(crawler_or_spidercls)\n  File \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line 190, in create_crawler\n    return self._create_crawler(crawler_or_spidercls)\n  File \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line 194, in _create_crawler\n    spidercls = self.spider_loader.load(spidercls)\n  File \"/usr/local/lib/python2.7/dist-packages/scrapy/spiderloader.py\", line 51, in load\n    raise KeyError(\"Spider not found: {}\".format(spider_name))\nKeyError: \"Spider not found: &lt;class 'my_spider.QuotesSpider'&gt;\"\n</code></pre>\n\n<p>QuotesSpider is from the link below:\n<a href=\"https://doc.scrapy.org/en/latest/intro/tutorial.html\" rel=\"nofollow noreferrer\">Spiders example</a></p>\n\n<p>P.s changing self.name to QuotesSpider directly runs without any problems</p>\n"}]