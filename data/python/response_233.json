[{"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 2, "creation_date": 1561593878, "post_id": 56782322, "comment_id": 100119456, "body": "Remove the 5th and 6th day of the week, since python uses zero based indexing: <code>df[df[&#39;Date&#39;].dt.dayofweek &lt; 5]</code>. But first convert your columns to datetime: <code>df[&quot;Date&quot;] = pd.to_datetime(df[&#39;Date&#39;])</code>"}, {"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1561597973, "post_id": 56782322, "comment_id": 100120084, "body": "@Erfan - please see my updated questions. The answer does not work properly."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1561606681, "post_id": 56782322, "comment_id": 100121517, "body": "Maybe you have a timezone issue? I.e. if you add 3 hours it would all make sense (goes up to right before midnight starts on the Saturday, and starts again right at midnight on Monday). Maybe try <code>to_datetime(..., utc=True)</code> ."}, {"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "edited": false, "score": 0, "creation_date": 1561612651, "post_id": 56782322, "comment_id": 100122849, "body": "It is skipping about 24hrs."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1561627719, "post_id": 56782322, "comment_id": 100130139, "body": "I see, voted for reopen @alkasm"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1561666626, "post_id": 56782322, "comment_id": 100150497, "body": "Wait is it skipping 2 months instead of 2 days?"}, {"owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "edited": false, "score": 0, "creation_date": 1561667815, "post_id": 56782322, "comment_id": 100150918, "body": "The date is formatted as <code>Y:D:M</code>, so its skipping 2 days but not exactly 2 days in terms of hours."}], "owner": {"reputation": 1427, "user_id": 9161607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bec8e62a9ae1f241d27d07f31667f1?s=128&d=identicon&r=PG&f=1", "display_name": "floss", "link": "https://stackoverflow.com/users/9161607/floss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1667, "favorite_count": 1, "closed_date": 1561596425, "answer_count": 0, "score": 0, "last_activity_date": 1561597939, "creation_date": 1561593571, "last_edit_date": 1561597939, "question_id": 56782322, "link": "https://stackoverflow.com/questions/56782322/filter-and-exclude-weekends-row-in-dataframe", "closed_reason": "Duplicate", "title": "Filter and exclude weekends row in DataFrame", "body": "<p>I have a <code>CSV</code> file with the following data.</p>\n\n<pre><code>Date(IN GMT), Value\n01.01.2017 00:00:00,  1.15430\n01.02.2017 00:00:01,  1.15120\n01.03.2017 00:00:02,  1.12450\n01.04.2017 00:00:03,  1.12330\n01.05.2017 00:00:04,  1.12620\n....,....\n12.31.2017 23:59:59,  1.14620\n</code></pre>\n\n<p>I want to remove the weekend's date so that I only work with weekday values. The date is in GMT.</p>\n\n<p>I want to exclude the weekend's data point entirely. I just want the weekday values. How can I do it with Pandas?</p>\n\n<p><strong><em>The other replies on the Stackoverflow does not answer it correctly, because:</em></strong></p>\n\n<p>Here's what I did:</p>\n\n<pre><code>df['Date(IN GMT)'] = pd.to_datetime(df['Date(IN GMT)'])\ndf[df['Date(IN GMT)'].dt.weekday &lt; 5]\n</code></pre>\n\n<p>and I get:</p>\n\n<pre><code>Date(IN GMT), Value\n2019-05-04 20:57:00,  1.1216 \n2019-05-04 20:58:00,  1.1216 \n2019-05-04 20:59:00,  1.1215 \n2019-07-04 21:00:00,  1.1214 \n2019-07-04 21:01:00,  1.1214 \n2019-07-04 21:02:00,  1.1215 \n2019-07-04 21:03:00,  1.1215 \n</code></pre>\n\n<p>If you look above, after <code>2019-05-04 20:59:00,1.1215</code> there is the value <code>2019-07-04 21:00:00,1.1214</code></p>\n\n<p>It skipped several hours of data and went to the next date(by skipping weekends)... </p>\n"}, {"tags": ["python", "jupyter-notebook", "shutil"], "comments": [{"owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 1, "creation_date": 1561593436, "post_id": 56782284, "comment_id": 100119387, "body": "You need to give more description of your problem. &quot;doesn&#39;t seem to be working&quot; is not very helpful. What actually happened? Files not moved at all? Is there any exceptions? Where did you run your &#39;Jupyter Notebook&#39;? On a remote server?"}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 2086048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4e5fd1f40ed51306c79b684d5291ab54?s=128&d=identicon&r=PG", "display_name": "Krithika Raghavendran", "link": "https://stackoverflow.com/users/2086048/krithika-raghavendran"}, "edited": false, "score": 0, "creation_date": 1561598799, "post_id": 56782766, "comment_id": 100120216, "body": "thank you soooooooo much!! I was working on this all day, you&#39;re a life-saver &lt;3 &lt;3"}], "tags": [], "owner": {"reputation": 26, "user_id": 10443146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WditFp4i75I/AAAAAAAAAAI/AAAAAAAAAPI/AIjlNtYlC1Y/photo.jpg?sz=128", "display_name": "Wil", "link": "https://stackoverflow.com/users/10443146/wil"}, "is_accepted": true, "score": 1, "last_activity_date": 1561598691, "creation_date": 1561598691, "answer_id": 56782766, "question_id": 56782284, "link": "https://stackoverflow.com/questions/56782284/how-to-move-specific-files-from-one-subdirectory-to-the-other/56782766#56782766", "title": "How to move specific files from one subdirectory to the other", "body": "<p>Why don't you try nesting your loops, like this: </p>\n\n<pre><code>for d_id in dog_ids:\n    for file in train_file_list:\n        if file.startswith(d_id):\n            shutil.copy((root + \"/Dataset/Images/\" + file), (root + \"/Dataset/Training/\" + dog_ids_breeds[d_id]))\n</code></pre>\n\n<p>Hope this works! :-) </p>\n"}], "owner": {"reputation": 405, "user_id": 2086048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4e5fd1f40ed51306c79b684d5291ab54?s=128&d=identicon&r=PG", "display_name": "Krithika Raghavendran", "link": "https://stackoverflow.com/users/2086048/krithika-raghavendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56782766, "answer_count": 1, "score": 0, "last_activity_date": 1561598691, "creation_date": 1561593240, "last_edit_date": 1561594551, "question_id": 56782284, "link": "https://stackoverflow.com/questions/56782284/how-to-move-specific-files-from-one-subdirectory-to-the-other", "title": "How to move specific files from one subdirectory to the other", "body": "<p>This is what my directory structure looks like:</p>\n\n<pre><code> Dataset\n   ---&gt; Images\n          ----&gt; n02085620-Chihuahua\n                    ---&gt; n02085620_01.jpg\n                    ---&gt; n02085620_02.jpg\n                    .\n                    .\n                    . (~ 150+ files)\n          ----&gt; n02086646-Blenheim-Spaniel\n          ----&gt; n02087046-Toy-Terrier\n          .\n          .\n          .\n          (120 Folders)\n   ---&gt; Training\n          ---&gt; Chihuahua\n          ---&gt; Blenheim Spaniel\n          ---&gt; Toy Terrier\n          .\n          .\n          .\n          (120 Empty Folders)\n</code></pre>\n\n<p>I also have a list of file paths:</p>\n\n<pre><code>train_file_list = ['n02085620-Chihuahua/n02085620_5927.jpg', ... ', 'n02086646-Blenheim_spaniel/n02086646_1342.jpg', ..., 'n02087046-toy_terrier/n02087046_3490.jpg' ]\n</code></pre>\n\n<p>This list has 12,000 items, 100 file-paths for each of the 120 breeds <em>in order</em> i.e., the first 100 images are Chihuahua, next 100 are Blenheim-Spaniel and so on.</p>\n\n<p>I also have a dictionary mapping <code>dog_id</code> to <code>dog_breed</code> constructed from two respective lists:</p>\n\n<pre><code>n02097658: Chihuahua\nn02092002: Japanese Spaniel\nn02099849: Maltese\n.\n.\n.\n(120 key-value pairs)\n</code></pre>\n\n<p>I am trying to loop through my file-path list and for every file-path that begins with <code>dog_id</code>, I want to move that file to its respective folder under <code>Dataset/Training</code> using the dictionary for mapping it to the breed.</p>\n\n<p>Here's the code I've tried on <strong><em>Jupyter Notebook</em></strong> that doesn't seem to be working. Where am I going wrong? Please help!!!</p>\n\n<pre><code>root = \"/Users/krithika/Desktop/GitHub Repositories/The-Pup-Files\"\n\nos.chdir(root)\n\nfor d_id, file in zip(dog_ids, train_file_list):\n    if file.startswith(d_id):\n        shutil.copy((root + \"/Dataset/Images/\" + file), (root + \"/Dataset/Training/\" + dog_ids_breeds[d_id]))\n</code></pre>\n"}, {"tags": ["python", "tcp", "packet", "tcpdump"], "comments": [{"owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "edited": false, "score": 2, "creation_date": 1561593233, "post_id": 56782268, "comment_id": 100119353, "body": "Tell us what you\u2019re trying to achieve. Are you setting up a web server? Do you want to analyze the low-level network traffic? Start by stating the problem you\u2019re trying to solve."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1561593328, "post_id": 56782268, "comment_id": 100119365, "body": "The excerpt you posted is a DNS request on UDP, not part of the TCP connection."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1561593373, "post_id": 56782268, "comment_id": 100119375, "body": "Don&#39;t quote the filter. <code>tcpdump -vv -x -i lo port 80</code>"}, {"owner": {"reputation": 128, "user_id": 11705697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPU08.jpg?s=128&g=1", "display_name": "JohnAlexINL", "link": "https://stackoverflow.com/users/11705697/johnalexinl"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1561593894, "post_id": 56782268, "comment_id": 100119461, "body": "@Barmar -- Tried again without the filter, didn&#39;t make any difference; same output in the terminal. I only posted that excerpt to show that I&#39;m only getting sources, destinations, and the packets. I only care about the URL the user initially typed in, and I&#39;m getting pretty much everything besides that. Didn&#39;t want to put a dump on here. The TCP and UPD verbose look about the same ``` localhost.58340 &gt; localhost.http: Flags [S], cksum 0xfe30 (incorrect -&gt; 0x1720), seq 1056236181, win 43690, options [mss 65495,sackOK,TS val 7440351 ecr 0,nop,wscale 7], length 0 ``` for example"}, {"owner": {"reputation": 128, "user_id": 11705697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPU08.jpg?s=128&g=1", "display_name": "JohnAlexINL", "link": "https://stackoverflow.com/users/11705697/johnalexinl"}, "reply_to_user": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "edited": false, "score": 0, "creation_date": 1561594095, "post_id": 56782268, "comment_id": 100119501, "body": "@ChrisJohnson -- I&#39;m trying to monitor the GET requests that come to my website so that I can use Python scripts to automatically make updates to my database. Ex, I want to be able to pass a request like &quot;<a href=\"http://johnalexinl.com/_rep11xupdate\" rel=\"nofollow noreferrer\">johnalexinl.com/_rep11xupdate</a>&quot;, and then have my Python script generate a text file that has a list of the files that would need updating after Version 11 of the REP program for my P.O.S systems"}, {"owner": {"reputation": 3885, "user_id": 652528, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a580420b66f89e76e1fb9a368f785b3f?s=128&d=identicon&r=PG", "display_name": "geckos", "link": "https://stackoverflow.com/users/652528/geckos"}, "edited": false, "score": 0, "creation_date": 1561594697, "post_id": 56782268, "comment_id": 100119594, "body": "I would watch apache logs instead of sitting on network layer. Just read apache logs as they go, when a new line arrives trigger the update that you need."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 11705697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPU08.jpg?s=128&g=1", "display_name": "JohnAlexINL", "link": "https://stackoverflow.com/users/11705697/johnalexinl"}, "edited": false, "score": 0, "creation_date": 1561598462, "post_id": 56782384, "comment_id": 100120164, "body": "I didn&#39;t know that service existed, and it&#39;s printing out the GET requests, as just a default setting! Big thanks, Chris. Should be a lot easier to make everything work using web.py"}, {"owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "reply_to_user": {"reputation": 128, "user_id": 11705697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPU08.jpg?s=128&g=1", "display_name": "JohnAlexINL", "link": "https://stackoverflow.com/users/11705697/johnalexinl"}, "edited": false, "score": 1, "creation_date": 1561598604, "post_id": 56782384, "comment_id": 100120187, "body": "Good luck. In python, practically anything you can imagine already exists as a library. Always best to spend a few minutes searching for an off-the-shelf solution."}], "tags": [], "owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "is_accepted": true, "score": 1, "last_activity_date": 1561594178, "creation_date": 1561594178, "answer_id": 56782384, "question_id": 56782268, "link": "https://stackoverflow.com/questions/56782268/trying-to-listen-for-get-on-port-80/56782384#56782384", "title": "Trying to Listen for GET on Port 80", "body": "<p>You\u2019re using entirely the wrong toolset. Choose a simple web framework like web.py and follow the examples. </p>\n"}], "owner": {"reputation": 128, "user_id": 11705697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPU08.jpg?s=128&g=1", "display_name": "JohnAlexINL", "link": "https://stackoverflow.com/users/11705697/johnalexinl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 56782384, "answer_count": 1, "score": -1, "last_activity_date": 1561595039, "creation_date": 1561593128, "last_edit_date": 1561595039, "question_id": 56782268, "link": "https://stackoverflow.com/questions/56782268/trying-to-listen-for-get-on-port-80", "title": "Trying to Listen for GET on Port 80", "body": "<p>I want to be able to read the URL GET requests coming to my server, ex: \"www.JohnAlexINL.com/ping\" or \"<a href=\"http://johnalexinl.com/\" rel=\"nofollow noreferrer\">http://johnalexinl.com/</a>\", et cetera.</p>\n\n<p>I've tried using TCPDump, but it gives me a bunch of garbled nonsense that I can't figure out how to translate back into the original request (I can track the sources and read the packets, but I can't get them back into a URL). I've also tried just listening on my TCP/UDP/HTTP ports, but that causes compatibility issues with Apache, effectively shutting my website down</p>\n\n<p>I tried this first\n<br><code>sudo tcpdump -vv -x -i lo 'port 80'</code><br>\nand without 'port 80' later \n<br><code>sudo tcpdump -vv -x -i lo</code> <br></p>\n\n<p>I tried a few other configurations and having it save to a file and sifting through it, but I was doing that in IDLE, so I don't remember anymore exactly how I typed it all out. Sorry for that</p>\n\n<p>I was hoping I would see the TCP \"Handshake\", a GET request, and some packets in response that have the actual data in them.</p>\n\n<p>I got something somewhat similar, but not that I can actually use, since it only says what data has been moved -- not the request that warranted the response.</p>\n\n<p>An excerpt:</p>\n\n<pre><code>19:45:25.293910 IP (tos 0x0, ttl 64, id 4474, offset 0, flags [DF], proto UDP (17), length 103)\n    localhost.domain &gt; localhost.36156: [bad udp cksum 0xfe9a -&gt; 0xee1b!] 30218 q: PTR? 53.0.0.127.in-addr.arpa. 1/0/1 53.0.0.127.in-addr.arpa. PTR localhost. ar: . OPT UDPsize=65494 (75)\n    0x0000:  4500 0067 117a 4000 4011 2ad6 7f00 0035\n    0x0010:  7f00 0001 0035 8d3c 0053 fe9a 760a 8180\n    0x0020:  0001 0001 0000 0001 0235 3301 3001 3003\n    0x0030:  3132 3707 696e 2d61 6464 7204 6172 7061\n    0x0040:  0000 0c00 01c0 0c00 0c00 0100 0000 0000\n    0x0050:  0b09 6c6f 6361 6c68 6f73 7400 0000 29ff\n    0x0060:  d600 0000 0000 00\n</code></pre>\n"}, {"tags": ["python", "string", "search"], "answers": [{"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1561593221, "creation_date": 1561593221, "answer_id": 56782280, "question_id": 56782259, "link": "https://stackoverflow.com/questions/56782259/searching-a-string-of-free-text-for-integers-and-return-a-list-of-tuples/56782280#56782280", "title": "Searching a string of free text for integers and return a list of tuples", "body": "<p>You can use regex</p>\n\n<pre><code>import re\n[[int(num) for num in re.findall(r'[0-9]+', string)] \n for string in text]\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>[[10, 6], [10, 4000], [2500]]\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 11376408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c160bab67044262fac1a06a70c555161?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/11376408/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1561593173, "answer_count": 1, "score": -1, "last_activity_date": 1561593301, "creation_date": 1561593052, "question_id": 56782259, "link": "https://stackoverflow.com/questions/56782259/searching-a-string-of-free-text-for-integers-and-return-a-list-of-tuples", "closed_reason": "Duplicate", "title": "Searching a string of free text for integers and return a list of tuples", "body": "<p>I'm trying to search a list of strings for integers and return a list of tuples of the searched integers.</p>\n\n<pre><code>text = ['10 KM, REDUCING TO 6KM, IN PASSING SHOWERS', '10 KM, REDUCING TO 4000 M, IN PASSING SHOWERS', '2500M IN RAIN']\n</code></pre>\n\n<p>I've tried something like the following:</p>\n\n<pre><code>text_num = []\n\nfor i in text:\n    for x in i:\n        if x.isdigit() == True:\n            text_num.append(x) \n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>text_num = ['1', '0', '6', '1', '0', '4', '0', '0', '0', '2', '5', '0', '0']\n</code></pre>\n\n<p>Ideally, I'd like the output to be something like.</p>\n\n<pre><code>text_num = [(10, 6), (10, 4000), (2500)]\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": true, "score": 0, "last_activity_date": 1561594559, "creation_date": 1561594559, "answer_id": 56782413, "question_id": 56782257, "link": "https://stackoverflow.com/questions/56782257/facing-problems-redirecting-user-using-django-post-save-signal/56782413#56782413", "title": "Facing problems redirecting user using django post_save signal", "body": "<p>You should be doing that in your view where your form is rendered afaic. If the form is valid then model instance's id should be accessible by the form instance and you may call <code>return redirect(\"chat\", args=(new_id,))</code> where \"chat\" is reversed name.</p>\n"}, {"tags": [], "owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "is_accepted": false, "score": 0, "last_activity_date": 1561602324, "creation_date": 1561602324, "answer_id": 56783097, "question_id": 56782257, "link": "https://stackoverflow.com/questions/56782257/facing-problems-redirecting-user-using-django-post-save-signal/56783097#56783097", "title": "Facing problems redirecting user using django post_save signal", "body": "<p>If you use Django's generic class based views you can quite easily get this functionality</p>\n\n<p>You should use a <a href=\"https://docs.djangoproject.com/en/2.2/ref/class-based-views/generic-editing/#django.views.generic.edit.CreateView\" rel=\"nofollow noreferrer\"><code>CreateView</code></a> for this and then override the <code>get_success_url</code> method to redirect the user. <a href=\"http://ccbv.co.uk/projects/Django/2.2/django.views.generic.edit/CreateView/\" rel=\"nofollow noreferrer\">Classy class based views</a> is a great website for exploring all options for the generic views</p>\n\n<pre><code>class ThreadCreateView(CreateView):\n\n    model = Thread\n\n    def get_success_url(self):\n        return reverse('app:chat', args=[self.object.pk])\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11705691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e2af451ea35889aba3043a94904325?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/11705691/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 56782413, "answer_count": 2, "score": 0, "last_activity_date": 1561602324, "creation_date": 1561593032, "question_id": 56782257, "link": "https://stackoverflow.com/questions/56782257/facing-problems-redirecting-user-using-django-post-save-signal", "title": "Facing problems redirecting user using django post_save signal", "body": "<p>When ever a user creates a new chat thread, i want to automatically  redirect them to the thread. But facing problems</p>\n\n<p>example  my models</p>\n\n<pre><code>class Thread(models.Model):\n    name=models.CharField()\n    creator=models.ForeignKey(User)\nclass Chat(models.Model):\n    thread=models.ForeignKey(Thread)\n    message=models.TextField()\n</code></pre>\n\n<p>User creates a thread , and has to be redirected to the created thread('app:chat',pk) displaying the Chatform  and thread name.</p>\n\n<p>I tried using django post_save signal to redirect the user after creating a thread</p>\n\n<pre><code>def redirect_user(sender,instance,**kwargs)\n    pk=instance.id\n    url=('app:chat',pk)\n    post_save.connect(redirect_user,sender=Thread)\n</code></pre>\n\n<p>Well this is not working. Please help with a good approach to solve this problem.</p>\n"}, {"tags": ["python", "qtstylesheets", "pyside2"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 826377, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/56d09e2272620e0d94156fbef18588af?s=128&d=identicon&r=PG", "display_name": "\u306b \u304b", "link": "https://stackoverflow.com/users/826377/%e3%81%ab-%e3%81%8b"}, "edited": false, "score": 0, "creation_date": 1561593905, "post_id": 56782319, "comment_id": 100119464, "body": "Ahh.. I was so close in my tests. I had that but put it on a different line. Thank you!"}, {"owner": {"reputation": 1732, "user_id": 3250722, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/1702131921/picture?type=large", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3250722/mikkel"}, "reply_to_user": {"reputation": 119, "user_id": 826377, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/56d09e2272620e0d94156fbef18588af?s=128&d=identicon&r=PG", "display_name": "\u306b \u304b", "link": "https://stackoverflow.com/users/826377/%e3%81%ab-%e3%81%8b"}, "edited": false, "score": 0, "creation_date": 1561634793, "post_id": 56782319, "comment_id": 100134221, "body": "Hehe. No worries, glad I helped you solve your issue :)"}], "tags": [], "owner": {"reputation": 1732, "user_id": 3250722, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/1702131921/picture?type=large", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3250722/mikkel"}, "is_accepted": true, "score": 0, "last_activity_date": 1561593563, "creation_date": 1561593563, "answer_id": 56782319, "question_id": 56782228, "link": "https://stackoverflow.com/questions/56782228/how-do-i-add-multiple-stylesheet-selectors/56782319#56782319", "title": "How do I add multiple stylesheet selectors?", "body": "<p>The method \"setStyleSheet\" is SETTING the Stylesheet, not adding a new one, so you keep overriding the one you already set.</p>\n\n<p>To specify multiple styles, try the following:</p>\n\n<pre><code>snapshotToolButton.setStyleSheet(\"#SnapShotButton {border: none;} #SnapShotButton:hover { background-color: pink; }\")\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 826377, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/56d09e2272620e0d94156fbef18588af?s=128&d=identicon&r=PG", "display_name": "\u306b \u304b", "link": "https://stackoverflow.com/users/826377/%e3%81%ab-%e3%81%8b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 56782319, "answer_count": 1, "score": 0, "last_activity_date": 1561595053, "creation_date": 1561592745, "last_edit_date": 1561595053, "question_id": 56782228, "link": "https://stackoverflow.com/questions/56782228/how-do-i-add-multiple-stylesheet-selectors", "title": "How do I add multiple stylesheet selectors?", "body": "<p>I'm adding a button to the application 'Nuke'. I've added a QToolButton, and now I want to style it. I removed the border, and now I want to add a :hover.\nI seem to be able to only set one stylesheet. How would I go about adding a second selector, given I can only use one stylesheet? </p>\n\n<p>This will override the top one:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>snapshotToolButton.setStyleSheet(\"#SnapShotButton {border : none;}\")\nsnapshotToolButton.setStyleSheet(\"#SnapShotButton:hover {background-color : yellow;}\")\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>snapshotToolButton = QtWidgets.QToolButton()\nsnapshotToolButton.setObjectName(\"SnapShotButton\")\nsnapshotToolButton.setStyleSheet(\"#SnapShotButton {border : none;}\")\n\nsnapshotToolButton.setBaseSize(12,12)\nsnapshotToolButton.setIcon(QtWidgets.QIcon(\"C:/Users/nfran/.nuke/icons/cameraIcon.png\"))\nsnapshotToolButton.setToolTip(\"Take Snapshot\")\nc.parentWidget().layout().insertWidget(0,snapshotToolButton)\n</code></pre>\n\n<p></p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "edited": false, "score": 0, "creation_date": 1561593964, "post_id": 56782321, "comment_id": 100119475, "body": "in this example  i used a dict of contacts as in put {&quot;contacts&quot;:{&quot;name&quot;:&quot;ZOLC&quot;}} you can switch the value of this dict to a list of keys in such list you find the name of the contact ; i will edit the code to get this new format as improvement"}, {"owner": {"reputation": 53, "user_id": 11464957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wU3q3.jpg?s=128&g=1", "display_name": "Sevy", "link": "https://stackoverflow.com/users/11464957/sevy"}, "edited": false, "score": 0, "creation_date": 1561595150, "post_id": 56782321, "comment_id": 100119665, "body": "thanks but you know... I wanted to solve it like in the question. the code is an example from book which I&#39;m actually reading and I don&#39;t wanna change too much there."}, {"owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "reply_to_user": {"reputation": 53, "user_id": 11464957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wU3q3.jpg?s=128&g=1", "display_name": "Sevy", "link": "https://stackoverflow.com/users/11464957/sevy"}, "edited": false, "score": 0, "creation_date": 1561595321, "post_id": 56782321, "comment_id": 100119697, "body": "you tolk about the use of unicodedata or the ue of a simple list in the input @Sevy"}, {"owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "reply_to_user": {"reputation": 53, "user_id": 11464957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wU3q3.jpg?s=128&g=1", "display_name": "Sevy", "link": "https://stackoverflow.com/users/11464957/sevy"}, "edited": false, "score": 0, "creation_date": 1561596040, "post_id": 56782321, "comment_id": 100119800, "body": "so i will check this and replay you @Sevy"}], "tags": [], "owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "is_accepted": false, "score": 0, "last_activity_date": 1561594444, "last_edit_date": 1561594444, "creation_date": 1561593571, "answer_id": 56782321, "question_id": 56782217, "link": "https://stackoverflow.com/questions/56782217/remove-accents-diacritics-in-search-form/56782321#56782321", "title": "Remove accents/diacritics in search form", "body": "<p>try this code :</p>\n\n<pre><code>from unidecode import unidecode\ndef find_contact(contacts):\n    print('Find contact')\n    search_name = input('Enter the name: ')\n    search_name = search_name.strip()\n    search_name = search_name.lower()\n    search_name = unidecode(search_name)\n    all_contacts_name=[]\n    for key,values in contacts.items():\n        for contact in values:\n            name = contact[\"name\"]\n            name = name.strip()\n            name = name.lower()\n            all_contacts_name.append(name)\n\n    if search_name in all_contacts_name:\n        print(\"this contact exists\")\n\n    else:\n        print(\"this contact does not exisit\")\n\nfind_contact({\"contacts\":[{\"name\":\"xxxx\"},{\"name\":\"ZOLC\"}]})\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Enter the name: \u017b\u00d3\u0141\u0106\nthis contact exists\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11464957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wU3q3.jpg?s=128&g=1", "display_name": "Sevy", "link": "https://stackoverflow.com/users/11464957/sevy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561595827, "creation_date": 1561592604, "last_edit_date": 1561595827, "question_id": 56782217, "link": "https://stackoverflow.com/questions/56782217/remove-accents-diacritics-in-search-form", "title": "Remove accents/diacritics in search form", "body": "<p>I don't know where to put</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import unicodedata\n\nunicodedata.normalize('NFKD', text).encode('ascii', 'ignore')\n</code></pre>\n\n<p>here</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I should immediately paste all the code.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from BTCInput import *\n\nclass Contact:\n    pass\n\ncontacts = []\n\ndef new_contact():\n    print('new contact')\n    new_contact = Contact()\n    new_contact.name = read_text('name: ')\n    new_contact.address = read_text('address: ')\n    new_contact.telephone = read_text('phone: ')\n    contacts.append(new_contact)\n\ndef find_contact():\n    print('find contact')\n    search_name = read_text('name: ')\n    search_name = search_name.strip()\n    search_name = search_name.lower()\n    result = None\n    for contact in contacts:\n        name = contact.name\n        name = name.strip()\n        name = name.lower()\n        if name.startswith(search_name):\n            result = contact\n            break\n\n    if result != None:\n        print(f'name: {result.name}\\n'\n              f'Address: {result.address}\\n'\n              f'phone: {result.telephone}\\n')\n    else:\n        print('xyz')\n\nwhile True:\n    menu = int(input('name'))\n    if menu == 1:\n        new_contact()\n    elif menu == 2:\n        find_contact()\n</code></pre>\n\n<p>So... I want from the search form to ignore the diacritics.\nI don't want to change the code 'cause it's an example from the book which I'm actually reading. I just want to improve it.</p>\n"}, {"tags": ["python", "django", "caching"], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 1218317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d26c7d74821a7ecb87a51017d394b6?s=128&d=identicon&r=PG", "display_name": "ritratt", "link": "https://stackoverflow.com/users/1218317/ritratt"}, "is_accepted": false, "score": 0, "last_activity_date": 1561593740, "creation_date": 1561593740, "answer_id": 56782337, "question_id": 56782215, "link": "https://stackoverflow.com/questions/56782215/what-is-the-default-hashing-algorithm-used-by-django-cache/56782337#56782337", "title": "What is the default hashing algorithm used by Django cache", "body": "<p>Found it!</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/2.2/_modules/django/utils/cache/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.2/_modules/django/utils/cache/</a></p>\n\n<p>What you are looking for is the method <code>_generate_cache_header_key</code>. Below is how it looks like as of writing this answer:</p>\n\n<pre><code>def _generate_cache_header_key(key_prefix, request):\n    \"\"\"Return a cache key for the header cache.\"\"\"\n    url = hashlib.md5(force_bytes(iri_to_uri(request.build_absolute_uri())))\n    cache_key = 'views.decorators.cache.cache_header.%s.%s' % (\n        key_prefix, url.hexdigest())\n    return _i18n_cache_key_suffix(request, cache_key)\n</code></pre>\n"}], "owner": {"reputation": 1314, "user_id": 1218317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d26c7d74821a7ecb87a51017d394b6?s=128&d=identicon&r=PG", "display_name": "ritratt", "link": "https://stackoverflow.com/users/1218317/ritratt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561593740, "creation_date": 1561592592, "question_id": 56782215, "link": "https://stackoverflow.com/questions/56782215/what-is-the-default-hashing-algorithm-used-by-django-cache", "title": "What is the default hashing algorithm used by Django cache", "body": "<p>I am using caching in Django. My cache is a django-redis cache:</p>\n\n<pre><code>CACHES = {\n    \"default\": {\n        \"BACKEND\": \"django_redis.cache.RedisCache\",\n        \"LOCATION\": \"redis://127.0.0.1:6379\",\n        \"OPTIONS\": {\n            \"CLIENT_CLASS\": \"django_redis.client.DefaultClient\",\n        }\n    }\n}\n</code></pre>\n\n<p>I am using view based cache:</p>\n\n<pre><code>@cache_page(timeout=60 * 10)\ndef my_view(request: Request):\n  # my view stuff\n</code></pre>\n\n<p>What I would like to know is what is the algorithm used by Django to create the key? The docs just say that it's made from the URL and headers. But I would like to know the specifics or better yet the code that generates it. But the docs lack this information.</p>\n\n<p>So, how does Django derive keys for view based caches?</p>\n"}, {"tags": ["python", "matplotlib", "graph", "networkx"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "edited": false, "score": 0, "creation_date": 1561619657, "post_id": 56782893, "comment_id": 100125674, "body": "pos_attr giving me the error &#39;float object not callable&#39;"}, {"owner": {"reputation": 758, "user_id": 10317656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AQTdI.jpg?s=128&g=1", "display_name": "TavoGLC", "link": "https://stackoverflow.com/users/10317656/tavoglc"}, "reply_to_user": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "edited": false, "score": 0, "creation_date": 1561657086, "post_id": 56782893, "comment_id": 100146820, "body": "i updated the answer, an * was missing over <code>coords[1]+0.1*(-1)*np.sign(coords[1])</code>"}, {"owner": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "edited": false, "score": 0, "creation_date": 1561736876, "post_id": 56782893, "comment_id": 100173929, "body": "It isn&#39;t working the labels are still appearing on the nodes"}, {"owner": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "edited": false, "score": 0, "creation_date": 1561737243, "post_id": 56782893, "comment_id": 100174089, "body": "i am using spring layout is it because of that?"}, {"owner": {"reputation": 758, "user_id": 10317656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AQTdI.jpg?s=128&g=1", "display_name": "TavoGLC", "link": "https://stackoverflow.com/users/10317656/tavoglc"}, "reply_to_user": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "edited": false, "score": 0, "creation_date": 1561757807, "post_id": 56782893, "comment_id": 100180992, "body": "Yes, its because the layout. If you need to use that kind of layout, try to cluster the nodes into categories, or just add a label to the most important node. Hope it helps"}], "tags": [], "owner": {"reputation": 758, "user_id": 10317656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AQTdI.jpg?s=128&g=1", "display_name": "TavoGLC", "link": "https://stackoverflow.com/users/10317656/tavoglc"}, "is_accepted": true, "score": 1, "last_activity_date": 1561657028, "last_edit_date": 1561657028, "creation_date": 1561600244, "answer_id": 56782893, "question_id": 56782214, "link": "https://stackoverflow.com/questions/56782214/networkx-graph-labels-getting-mixed-up-and-not-adjusted/56782893#56782893", "title": "Networkx: Graph Labels getting mixed up and not adjusted", "body": "<p>Changing the spring layout to a circular layout will help you to get a better label visualization. </p>\n\n<pre><code>cgraph=nx.gnp_random_graph(15,p=0.5)\nlabels={}\nfor k in range(15):\n    labels[k]='long named node '+str(k)\n\ncircPos=nx.circular_layout(cgraph)\nnx.draw_networkx_labels(cgraph,pos=circPos,labels=labels) \nnx.draw(cgraph,pos=circPos)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VW3g3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VW3g3.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also if the edge label is difficult to visualize, you can change the position of the labels by changing the layout position as follows. </p>\n\n<pre><code>pos_attrs = {}\nfor node, coords in circPos.items():\n    pos_attrs[node] = (coords[0]+0.1*(-1)*np.sign(coords[0]), coords[1]+0.1*(-1)*np.sign(coords[1]))\nnx.draw_networkx_labels(cgraph,pos=circPos,labels=labels) \nnx.draw(cgraph,pos=pos_attrs)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/m8F5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8F5r.png\" alt=\"enter image description here\"></a></p>\n\n<p>Another great way to deal with labels on circular layouts is presented here:\n<a href=\"https://stackoverflow.com/questions/43894987/networkx-node-labels-relative-position\">NetworkX node labels relative position</a></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 15, "user_id": 7672101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vTJ3.jpg?s=128&g=1", "display_name": "Abdul Wadood", "link": "https://stackoverflow.com/users/7672101/abdul-wadood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 56782893, "answer_count": 1, "score": 1, "last_activity_date": 1561657028, "creation_date": 1561592587, "last_edit_date": 1561593165, "question_id": 56782214, "link": "https://stackoverflow.com/questions/56782214/networkx-graph-labels-getting-mixed-up-and-not-adjusted", "title": "Networkx: Graph Labels getting mixed up and not adjusted", "body": "<p>So I made my graph using networkx library which is a unipartite graph. When I put the labels it doesn't seem right, its getting mixed up. There are some words which has more length than the others and its out of the boundary of the nodes. Can my graph be adjusted so everything look clear and understandable? </p>\n\n<p>And also I want the node to be like a dot and the labels appearing over the nodes not inside the nodes.</p>\n\n<p>Like this </p>\n\n<p><img src=\"https://i.stack.imgur.com/PBwEg.png\" alt=\"pic\"></p>\n\n<p>Graph I made..</p>\n\n<p><img src=\"https://i.stack.imgur.com/GyVJ5.png\" alt=\"pic\"></p>\n\n<p>Here is the code..</p>\n\n<pre><code>import networkx as nx\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom networkx.algorithms import community\nfrom networkx.algorithms import bipartite\n\n\nG1 = nx.read_edgelist(\"abcd.txt\")\nprint(nx.info(G1))\nc = bipartite.color(G1)\nnx.set_node_attributes(G1, c, 'bipartite')\ntype1  = {n for n, d in G1.nodes(data=True) if d['bipartite']==0}\ntype2  = {n for n, d in G1.nodes(data=True) if d['bipartite']==1}\nG = bipartite.projected_graph(G1, type1)\ntype2g = bipartite.projected_graph(G1, type2)\n\n\npos = nx.spring_layout(G,k=0.30,iterations=50)\n\nnx.is_bipartite(G1)\n#average clustering\nnx.average_clustering(G1)\n\n#Diameter\nprint(\"Diameter:\",nx.diameter(G1))\n\noptions = {\n    'node_color': 'purple',\n    'node_size': 40,\n    'line_color': 'yellow',\n    'linewidths': 0,\n    'width': 0.3,\n}\n\n#degeree plotting\ndef plot_degree_distribution(wiki):\n    degs = {}\n    for n in wiki.nodes():\n        deg = wiki.degree(n)\n\n        if deg not in degs:\n            degs[deg] = 0\n\n        degs[deg] += 1\n    items = sorted(degs.items())\n\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n    ax.plot([k for (k, v) in items], [v for (k, v) in items])\n    ax.set_xscale('log')\n    ax.set_yscale('log')\n    plt.title(\"Degree Distribution\")\n    fig.savefig(\"degree_distribution.png\")\n\n\n# plot_degree_distribution(G)\nd = []  # create a set\nfor n in G.nodes():\n    d.append(G.degree(n))\n\nec = []  # create a set\nfor e in G.edges():\n    if (G.degree(e[0]) &gt; G.degree(e[1])):\n        ec.append(G.degree(e[0]))\n    else:\n        ec.append(G.degree(e[1]))\n\npos = nx.spring_layout(G,k=1.5, iterations=200)\n\nfactor = 25  # to change the size of nodes with respect to their degree\n\n\nnx.draw_networkx(G, pos,\n        edge_color=ec, edge_cmap=plt.cm.plasma,  # edge color\n        node_color=d, cmap=plt.cm.plasma,  # node color\n        node_size=[x * factor for x in d])  # node sizse\nplt.savefig (\"simple_graph.png\")\nfig = plt.gcf()\nfig.set_size_inches((10,10))\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1561592490, "post_id": 56782190, "comment_id": 100119220, "body": "This pytest library seems relevant <a href=\"https://pytest-ordering.readthedocs.io/en/develop/\" rel=\"nofollow noreferrer\">pytest-ordering.readthedocs.io/en/develop</a>"}, {"owner": {"reputation": 145, "user_id": 3586164, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/45a2ec2121384a2a008a6ae8d498a18a?s=128&d=identicon&r=PG&f=1", "display_name": "user3586164", "link": "https://stackoverflow.com/users/3586164/user3586164"}, "reply_to_user": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "edited": false, "score": 0, "creation_date": 1561593091, "post_id": 56782190, "comment_id": 100119324, "body": "That applies to the case where all tests are in one file (test_....py). In my case, there are many test_*.py and some of the tests are under directory."}, {"owner": {"reputation": 2073, "user_id": 7505321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db067438faa6dd995f95982d1f9f5d86?s=128&d=identicon&r=PG&f=1", "display_name": "Chanda Korat", "link": "https://stackoverflow.com/users/7505321/chanda-korat"}, "edited": false, "score": 0, "creation_date": 1561618209, "post_id": 56782190, "comment_id": 100124966, "body": "you can use -k parameter to run specific test by test function name."}, {"owner": {"reputation": 145, "user_id": 3586164, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/45a2ec2121384a2a008a6ae8d498a18a?s=128&d=identicon&r=PG&f=1", "display_name": "user3586164", "link": "https://stackoverflow.com/users/3586164/user3586164"}, "reply_to_user": {"reputation": 2073, "user_id": 7505321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db067438faa6dd995f95982d1f9f5d86?s=128&d=identicon&r=PG&f=1", "display_name": "Chanda Korat", "link": "https://stackoverflow.com/users/7505321/chanda-korat"}, "edited": false, "score": 0, "creation_date": 1561653968, "post_id": 56782190, "comment_id": 100145581, "body": "@ChandaKorat  Using -k is not an option for my case. Everything has to be done through pytest without command line arguments (The pytest was done through Jenkins and Jenkins config can not be changed)"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 3586164, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/45a2ec2121384a2a008a6ae8d498a18a?s=128&d=identicon&r=PG&f=1", "display_name": "user3586164", "link": "https://stackoverflow.com/users/3586164/user3586164"}, "edited": false, "score": 0, "creation_date": 1561654511, "post_id": 56787437, "comment_id": 100145794, "body": "This is a great solution. Thanks!"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 145, "user_id": 3586164, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/45a2ec2121384a2a008a6ae8d498a18a?s=128&d=identicon&r=PG&f=1", "display_name": "user3586164", "link": "https://stackoverflow.com/users/3586164/user3586164"}, "edited": false, "score": 0, "creation_date": 1561655891, "post_id": 56787437, "comment_id": 100146313, "body": "Glad I could help! If this answers your question, consider upvoting and accepting the answer (see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>)."}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 2, "last_activity_date": 1561625751, "creation_date": 1561625751, "answer_id": 56787437, "question_id": 56782190, "link": "https://stackoverflow.com/questions/56782190/when-pytest-run-all-tests-in-a-directory-how-can-it-decide-which-test-to-run-la/56787437#56787437", "title": "When pytest run all tests in a directory, how can it decide which test to run last?", "body": "<p>You can easily change the default test execution order by implementing your own <a href=\"https://docs.pytest.org/en/latest/reference.html#_pytest.hookspec.pytest_collection_modifyitems\" rel=\"nofollow noreferrer\"><code>pytest_collection_modifyitems</code></a> hook. Create a file <code>conftest.py</code> with the following contents:</p>\n\n<pre><code>def pytest_collection_modifyitems(items):\n    test_name = 'test_1'\n    test_index = next((i for i, item in enumerate(items) if item.name == test_name), -1)\n    test_item = items.pop(test_index)\n    items.append(test_item)\n</code></pre>\n\n<p>In this example, if a test function named <code>test_1</code> is collected, it will be shifted to the end of the items list. Replace <code>test_1</code> with your own function name, or even make it <a href=\"https://docs.pytest.org/en/latest/example/simple.html#pass-different-values-to-a-test-function-depending-on-command-line-options\" rel=\"nofollow noreferrer\">configurable via command line arguments</a>.</p>\n"}], "owner": {"reputation": 145, "user_id": 3586164, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/45a2ec2121384a2a008a6ae8d498a18a?s=128&d=identicon&r=PG&f=1", "display_name": "user3586164", "link": "https://stackoverflow.com/users/3586164/user3586164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 0, "accepted_answer_id": 56787437, "answer_count": 1, "score": 4, "last_activity_date": 1561660609, "creation_date": 1561592268, "last_edit_date": 1561660609, "question_id": 56782190, "link": "https://stackoverflow.com/questions/56782190/when-pytest-run-all-tests-in-a-directory-how-can-it-decide-which-test-to-run-la", "title": "When pytest run all tests in a directory, how can it decide which test to run last?", "body": "<p>I am calling all tests under a directory using pytest. How can I run one-specific test case last? </p>\n\n<pre><code>python -m pytest ../testdir  \n../testdir/test_1.py.... test_n.py\n</code></pre>\n"}, {"tags": ["python", "numpy", "yahoo-finance", "yfinance"], "comments": [{"owner": {"reputation": 27334, "user_id": 7758804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBA7j.jpg?s=128&g=1", "display_name": "Trenton McKinney", "link": "https://stackoverflow.com/users/7758804/trenton-mckinney"}, "edited": false, "score": 0, "creation_date": 1596497312, "post_id": 56782173, "comment_id": 111824472, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/63107594/how-to-read-in-the-multi-index-columns-from-csv-and-return-the-yfinance-datafram\">How to read in the multi-index columns from csv and return the yfinance dataframe to the correct form?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1782, "user_id": 10548514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hky6xOH08T4/AAAAAAAAAAI/AAAAAAAABSM/Tw8IuIniovs/photo.jpg?sz=128", "display_name": "Juan Carlos Ramirez", "link": "https://stackoverflow.com/users/10548514/juan-carlos-ramirez"}, "reply_to_user": {"reputation": 41, "user_id": 11660600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f399d45437e73c64f28b3aee49f7835?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/11660600/peter"}, "edited": false, "score": 0, "creation_date": 1561595153, "post_id": 56782246, "comment_id": 100119666, "body": "If you found the answer useful, please consider upvoting and accepting the answer (to accept answer, click on check mark symbol)."}, {"owner": {"reputation": 41, "user_id": 11660600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f399d45437e73c64f28b3aee49f7835?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/11660600/peter"}, "edited": false, "score": 0, "creation_date": 1561672929, "post_id": 56782246, "comment_id": 100152502, "body": "I tried. It says I have less than 15 reputations but won&#39;t post publicly until I reached 15 reputations.  Thank you though."}], "tags": [], "owner": {"reputation": 1782, "user_id": 10548514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hky6xOH08T4/AAAAAAAAAAI/AAAAAAAABSM/Tw8IuIniovs/photo.jpg?sz=128", "display_name": "Juan Carlos Ramirez", "link": "https://stackoverflow.com/users/10548514/juan-carlos-ramirez"}, "is_accepted": false, "score": 2, "last_activity_date": 1561593331, "last_edit_date": 1561593331, "creation_date": 1561592972, "answer_id": 56782246, "question_id": 56782173, "link": "https://stackoverflow.com/questions/56782173/cant-save-data-from-yfinance-into-a-csv-file/56782246#56782246", "title": "Can&#39;t save data from yfinance into a CSV file", "body": "<p>If you want to store the ticker results for each url in different csv files  you can do:</p>\n\n<pre><code>for url in urls:\n    tickerTag = yf.Ticker(url)\n    tickerTag.actions.to_csv(\"tickertag{}.csv\".format(url))\n</code></pre>\n\n<p>if you want them all to be in the same csv file you can do</p>\n\n<pre><code>import pandas as pd\ntickerlist = [yf.Ticker.url for url in urls]\npd.concat(tickerlist).to_csv(\"tickersconcat.csv\")\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11660600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f399d45437e73c64f28b3aee49f7835?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/11660600/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2760, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1596497265, "creation_date": 1561592156, "last_edit_date": 1596497265, "question_id": 56782173, "link": "https://stackoverflow.com/questions/56782173/cant-save-data-from-yfinance-into-a-csv-file", "title": "Can&#39;t save data from yfinance into a CSV file", "body": "<p>I found library that allows me to get data from yahoo finance very efficiently.  It's a wonderful library.</p>\n\n<p>The problem is, I can't save the data into a csv file.</p>\n\n<p>I've tried converting the data to a Panda Dataframe but I think I'm doing it incorrectly and I'm getting a bunch of <code>'NaN's</code>. </p>\n\n<p>I tried using Numpy to save directly into a csv file and that's not working either.</p>\n\n<pre><code>import yfinance as yf\nimport csv\nimport numpy as np\n\nurls=[\n'voo',\n'msft'\n    ]\n\nfor url in urls:\n    tickerTag = yf.Ticker(url)\n\n    print(tickerTag.actions)\n    np.savetxt('DivGrabberTest.csv', tickerTag.actions, delimiter = '|')\n</code></pre>\n\n<p>I can print the data on console and it's fine. Please help me save it into a csv.  Thank you!</p>\n"}, {"tags": ["python", "tensorflow", "neural-network"], "answers": [{"tags": [], "owner": {"reputation": 5550, "user_id": 7389608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QKeuI.jpg?s=128&g=1", "display_name": "giser_yugang", "link": "https://stackoverflow.com/users/7389608/giser-yugang"}, "is_accepted": true, "score": 1, "last_activity_date": 1561684453, "last_edit_date": 1561684453, "creation_date": 1561607094, "answer_id": 56783609, "question_id": 56782172, "link": "https://stackoverflow.com/questions/56782172/tensorflow-select-embeddings-from-input-with-specific-token-id-and-batch-the-re/56783609#56783609", "title": "Tensorflow, select embeddings from input with specific token id and batch the results", "body": "<p>I think it can take advantage of the property that <code>tf.gather_nd</code> returns <code>0</code> when parameter <code>indices</code> is negative.</p>\n\n<p>First get the indices value of certain ids in <code>embeddings</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import tensorflow as tf\ntf.enable_eager_execution()\n\ninput_ids = tf.constant([[  101,  1996, 16360,  103,  1010,  1996,  4223,  1997],\n                        [  101,  103,  3793,  103,  2443,  2000,  103,  2469]])\nembeddings = tf.random_normal((2,8,3))\n\ncondition = tf.equal(input_ids, 103)\nindices_value=  tf.where(condition)\n# [[0 3]\n#  [1 1]\n#  [1 3]\n#  [1 6]]\n</code></pre>\n\n<p>Then we should get number of tokens for every sequences and the mask of indices value.</p>\n\n<pre><code>length = tf.reduce_sum(tf.cast(condition,tf.int32),axis=-1)\n# [1 3]\nindices_mask = tf.sequence_mask(length,tf.reduce_max(length))\n# [[ True False False]\n#  [ True  True  True]]\n</code></pre>\n\n<p>Next we need to specify the location of indices value in each sequence.</p>\n\n<pre><code>result_indices = tf.scatter_nd(tf.where(indices_mask),\n                               indices_value+1,\n                               (indices_mask.shape[0],indices_mask.shape[1],tf.rank(input_ids)))-1\n# [[[ 0  3]\n#   [-1 -1]\n#   [-1 -1]]\n#\n#  [[ 1  1]\n#   [ 1  3]\n#   [ 1  6]]]\n</code></pre>\n\n<p>Finally we get the result by <code>tf.gather_nd</code>.</p>\n\n<pre><code>result = tf.gather_nd(indices=result_indices, params=embeddings)\nprint(result)\n# [[[ 1.22885     0.77642244 -0.82193506]\n#   [ 0.          0.          0.        ]\n#   [ 0.          0.          0.        ]]\n# \n#  [[-0.0567691   0.07378497 -0.4799046 ]\n#   [-1.1627238  -1.994217    0.8443906 ]\n#   [ 0.776338   -0.25828102 -1.7915782 ]]]\n</code></pre>\n"}], "owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 56783609, "answer_count": 1, "score": 0, "last_activity_date": 1561684453, "creation_date": 1561592155, "last_edit_date": 1561592981, "question_id": 56782172, "link": "https://stackoverflow.com/questions/56782172/tensorflow-select-embeddings-from-input-with-specific-token-id-and-batch-the-re", "title": "Tensorflow, select embeddings from input with specific token id and batch the results", "body": "<p>I have an input tensor ids <code>input_ids</code> with shape: <code>[B x T]</code> and a corresponding embedding matrix with shape <code>[B x T x D]</code> <code>(B: Batch size, T: Sequence Length,  D: Dimension)</code>. The input ids are vocabulary ids and the embedding matrix contains to corresponding embeddings.</p>\n\n<p>From the embedding matrix I want to select those elements with certain ids (e.g., <code>103</code>). It would be easy to do this using <code>tf.where</code> and <code>tf.gather_nd</code> but what I don't know how to do, is to organize the results in a batch of size <code>[B x N x D]</code> where <code>N</code> is the maximum number of tokens with that id (<code>103</code>) in the sequence. I want to use 0 tensors as padding as needed.</p>\n\n<p>A code might show it better (lets say <code>B=2, T=8, and D=3</code>):</p>\n\n<pre><code>import tensorflow as tf\ntf.enable_eager_execution()\n\ninput_ids = tf.constant([[  101,  1996, 16360,  103,  1010,  1996,  4223,  1997],\n                        [  101,  103,  3793,  103,  2443,  2000,  103,  2469]])\nembeddings = tf.random_normal((2,8,3))\n\n# input ids have two sequences. first one has one 103 element, while second has 3. \n</code></pre>\n\n<p>I want to select from <code>embeddings</code> those that correspond to <code>input_ids==103</code> and pad the remaining results with zeros.\nI can get this with:</p>\n\n<pre><code>indices=  tf.where(tf.equal(input_ids, 103))\nresult = tf.gather_nd(indices=indices, params=embeddings)\n#result.shape==[4x3]\n\n# This will result in a [4x3] matrix where 4 = total number of 103 elements in the batch \n# and 3 is their corresponding embeddings dimension\n# Now I want to organize this into a batch of the \n# same batch size as input, i.e., desired shape=(2x3)\n# where first (1x3) row contains all token `103`'s embeddings\n# in the first sequence but but second (1x3) row has only \n# one token 103 embedding (second sequence has only one 103 token)\n# the rest are padded with zeros.\n</code></pre>\n\n<p>In general, this will result in a <code>[M x D]</code> tensor (M=total number of 103 tokens in the batch). What I want is the <code>[B x N x D]</code> where (N=maximum number of 103 tokens in each sequence, for the above case it is 3). I hope the description is clear (kind of hard to explain the exact problem).</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["python", "numpy", "cpython"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1561592773, "post_id": 56782170, "comment_id": 100119277, "body": "<code>numpy</code> <code>src</code> files are not directly compileable. <code>numpy</code> setup does some sort of preprocessing.  I don&#39;t know what you are trying to do, but re-using or modifying these files will require a significant amount of study."}, {"owner": {"reputation": 656, "user_id": 5132575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0ceb861fc913062d59bba79727cf541?s=128&d=identicon&r=PG&f=1", "display_name": "trolley813", "link": "https://stackoverflow.com/users/5132575/trolley813"}, "edited": false, "score": 1, "creation_date": 1562671240, "post_id": 56782170, "comment_id": 100441340, "body": "Not quite. As you can see, they contain <code>@something@</code> tokens which aren&#39;t valid C. So, it&#39;s probably a template which requires some preprocessing (and then turns into a genuine C file after it)."}], "owner": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562670872, "creation_date": 1561592145, "last_edit_date": 1562670872, "question_id": 56782170, "link": "https://stackoverflow.com/questions/56782170/in-the-context-of-python-and-cpython-is-a-c-src-file-a-c-source-code-file-h", "title": "In the context of python and cpython, is a &quot;.c.src&quot; file a c source code file? how to compile this kind of file?", "body": "<p>this question comes from this <a href=\"https://stackoverflow.com/q/56781686/10731613\">post</a>.</p>\n\n<p>digging <code>numpy.linalg.eig</code> leads to a <a href=\"https://github.com/numpy/numpy/blob/v1.16.1/numpy/linalg/umath_linalg.c.src\" rel=\"nofollow noreferrer\">umath_linalg.c.src</a> file.</p>\n\n<p>in the context of python and cpython, is a \".c.src\" file a c source code file? how to compile this <code>umath_linalg.c.src</code> file?</p>\n"}, {"tags": ["python", "python-3.x", "slice"], "comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 9, "creation_date": 1561592101, "post_id": 56782148, "comment_id": 100119143, "body": "Because historical reasons. I agree, slices should return reference slices, not new lists. This is how it works in <code>numpy</code> and it is what the user wants for most use cases. In fact, python added the <code>list.copy</code> method due to this weirdness confusing people (since before lists were copied with <code>[:]</code> wheras dicts and sets were copied with <code>.copy()</code>). Lots of old python returned inefficient copies on methods (see <code>dict.items</code> and <code>zip</code>) and this was fixed in python 3 but list slices remained as copies. I guess it was considered too much hassle to have to replace every <code>[a:b]</code> with <code>[a:b].copy()</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 7, "creation_date": 1561646996, "post_id": 56782148, "comment_id": 100141881, "body": "@FHTMitchell: <code>list.copy</code> wasn&#39;t added due to confusion, it was added to make <code>list</code> more compatible with other collection types (<code>set</code>/<code>dict</code>, which had to have <code>copy</code> because slicing doesn&#39;t work on them). Returning reference slices makes it <i>much</i> harder to reason about code, and <i>much</i> easier to accidentally do stuff like modify caller arguments by accident. <code>numpy</code> did it their way for performance purposes; Python in general is more  concerned with making it easy to write correct code, with performance being a secondary concern."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1561647053, "post_id": 56782148, "comment_id": 100141922, "body": "@shadowranger sooooo it was done to reduce confusion. Let me be clear, I think the reference slices should be immutable in much the same way dict views work. Literally never had a problem with those. You want a new list? Simply do <code>list(X[a:b])</code>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 1, "creation_date": 1561647271, "post_id": 56782148, "comment_id": 100142061, "body": "@FHTMitchell: No it was not done to reduce confusion, it was done to increase flexibility. The idea was they wanted to make it possible for a function to duck type copying the common collections by just calling <code>.copy()</code> on whatever it received. If you required a sequence, the correct solution is still using <code>seq[:]</code>, because that handles both mutable and immutable sequences."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1561647391, "post_id": 56782148, "comment_id": 100142144, "body": "@shadowranger Ok I agree, you need a method on Sequence that isn&#39;t an overload of <code>__getitem__</code> for copying. That is another reason. But having read the actual discussion on dev.python a big reason was to reduce the weirdness (and inconsistency) of the standard way of copying a list which was <code>[:]</code>. I fail to see why anyone would use <code>[:]</code> over <code>copy()</code> these days precicely because of duck typing."}, {"owner": {"reputation": 785, "user_id": 4782863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd52f990f2e830e010bfe06cb3f518e6?s=128&d=identicon&r=PG&f=1", "display_name": "marcelm", "link": "https://stackoverflow.com/users/4782863/marcelm"}, "edited": false, "score": 1, "creation_date": 1561661340, "post_id": 56782148, "comment_id": 100148627, "body": "If you want to make a copy of a list, I recommend <code>q = list(p)</code> over <code>q = p[:]</code> for clarity."}, {"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 1, "creation_date": 1561676588, "post_id": 56782148, "comment_id": 100153308, "body": "@FHTMitchell: dict slice has some very weird behaviours that makes it really hard to use it for lists. For one, dict views will break if you mutate the dictionary. Since dict views are normally only used short term during iteration and since dicts are unordered, it&#39;s much less of an issue in that context, but a list slice can and will be passed around. Also, an immutable list slice can unexpectedly change if the underlying list changes. If someone does an <code>list.insert()</code>, how should a list view behave? Lazy slicing by default has its appeals but it will make the language harder for beginners."}, {"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 1, "creation_date": 1561677246, "post_id": 56782148, "comment_id": 100153447, "body": "@FHTMitchell: there are lots of these strange cases like how should list view behave if someone did an <code>lst[:] = []</code> on the underlying list, that will cause all slices to the view to now become invalid. Numpy avoids these issues by deciding that their array dimension is immutable, but the dimension of python&#39;s list is decidedly mutable."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 0, "creation_date": 1561718005, "post_id": 56782148, "comment_id": 100164692, "body": "@LieRyan I would expect that to work exactly the same way normal list slices work. <code>x = [1,2,3]; assert x[100:200] == []</code>.So if slices were views then <code>x = [1,2,3]; y = x[1:]; x[:] = []; assert y == []</code> Also numpy dimensions aren&#39;t immutable, the <code>size</code> of the array is immutable. That&#39;s why <code>x = np.arange(6); y = x[1:]; x.shape = (2, 3); assert np.all(y == [1, 2, 3, 4, 5])</code> works. Yes I would support lazy slicing, exactly how dict views work. No one kicks up a fuss at the idea of lazy iterators despite the fact that &quot;the underlying mutable list can change&quot;."}, {"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1563247150, "post_id": 56782148, "comment_id": 100626181, "body": "@FHTMitchell: actually, dict will complain if its size changed during iteration; additionally iterators tend to have a short lifetime because you&#39;re done with it once it&#39;s exhausted, slices can be used infinitely. Also, yes numpy array size is immutable is exactly the reason why they can lazy slice safely, this assumption makes operations on lazy views well defined and a lot easier to understand and reason about."}], "answers": [{"tags": [], "owner": {"reputation": 799, "user_id": 10416716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0_Zn2IeB9xo/AAAAAAAAAAI/AAAAAAAAAA4/MLNWrOQ1TqU/photo.jpg?sz=128", "display_name": "Seraph Wedd", "link": "https://stackoverflow.com/users/10416716/seraph-wedd"}, "is_accepted": false, "score": 2, "last_activity_date": 1561592939, "creation_date": 1561592939, "answer_id": 56782243, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56782243#56782243", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p>I'm not sure if you want this sort of answer. In words, for p[:], it means to \"iterate through all elements of p\". If you use it in</p>\n\n<pre><code>q=p[:]\n</code></pre>\n\n<p>Then it can be read as \"iterate with all elements of p and set it to q\". On the other hand, using</p>\n\n<pre><code>q=p\n</code></pre>\n\n<p>Just means, \"assign the address of p to q\" or \"make q a pointer to p\" which is confusing if you came from other languages that handles pointers individually.</p>\n\n<p>Therefore, using it in del, like</p>\n\n<pre><code>del p[:]\n</code></pre>\n\n<p>Just means \"delete all elements of p\".</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 1, "creation_date": 1561642080, "post_id": 56782314, "comment_id": 100138680, "body": "It still makes sense to create a copy for slices. I don&#39;t see why a Python 4 should follow suit."}, {"owner": {"reputation": 2751, "user_id": 3233017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2568656c29f0bc7e84480eb0227a304b?s=128&d=identicon&r=PG", "display_name": "Draconis", "link": "https://stackoverflow.com/users/3233017/draconis"}, "reply_to_user": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 0, "creation_date": 1561653939, "post_id": 56782314, "comment_id": 100145565, "body": "@BlackJack Iterating over other data structures generally doesn&#39;t create a copy: if you want a separate copy of a dictionary&#39;s keys, for example, you need to use <code>list(d.keys())</code>. It would make sense to me if you had to do the same for slices: <code>list(a[:])</code> or just <code>a.copy()</code>."}, {"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 1, "creation_date": 1561664752, "post_id": 56782314, "comment_id": 100149872, "body": "I don&#39;t get your point. Iterating over lists doesn&#39;t create a copy either.  Also if <code>original[:]</code> will create a view or a copy isn&#39;t really defined in Numpy.  Just that if you really need an independent copy you have to explicitly ask for one.  Slicing in Numpy sometimes gives a view and sometimes gives a copy.  For instance there are circumstances where a slice of a slice can&#39;t be represented with offset, dimensions, and strides as a view anymore."}, {"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 1, "creation_date": 1561679418, "post_id": 56782314, "comment_id": 100153828, "body": "This &quot;historical&quot; reason is still as relevant in today&#39;s python as it was back then. The reason why numpy array can return a view is because the dimension of a numpy array is not mutable (array is not resizable). Python&#39;s lists is fully mutable, and having slicing returns a default makes the language much harder to correctly use for the common use cases and potentially slower due to the additional indirection."}], "tags": [], "owner": {"reputation": 2751, "user_id": 3233017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2568656c29f0bc7e84480eb0227a304b?s=128&d=identicon&r=PG", "display_name": "Draconis", "link": "https://stackoverflow.com/users/3233017/draconis"}, "is_accepted": false, "score": 2, "last_activity_date": 1561593939, "last_edit_date": 1561593939, "creation_date": 1561593530, "answer_id": 56782314, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56782314#56782314", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p>Historical reasons, mainly.</p>\n\n<p>In early versions of Python, iterators and generators weren't really a thing. Most ways of working with sequences just returned lists: <code>range()</code>, for example, returned a fully-constructed list containing the numbers.</p>\n\n<p>So it made sense for slices, when used on the right-hand side of an expression, to return a list. <code>a[i:j:s]</code> returned a new list containing selected elements from <code>a</code>. And so <code>a[:]</code> on the right-hand side of an assignment would return a new list containing all the elements of <code>a</code>, that is, a shallow copy: this was perfectly consistent at the time.</p>\n\n<p>On the other hand, brackets on the <em>left</em> side of an expression always modified the original list: that was the precedent set by <code>a[i] = d</code>, and that precedent was followed by <code>del a[i]</code>, and then by <code>del a[i:j]</code>.</p>\n\n<p>Time passed, and copying values and instantiating new lists all over the place was seen as unnecessary and expensive. Nowadays, <code>range()</code> returns a generator that produces each number only as it's requested, and iterating over a slice could potentially work the same way\u2014but the idiom of <code>copy = original[:]</code> is too well-entrenched as a historical artifact.</p>\n\n<p>In Numpy, by the way, this isn't the case: <code>ref = original[:]</code> will make a reference rather than a shallow copy, which is consistent with how <code>del</code> and assignment to arrays work.</p>\n\n<pre><code>&gt;&gt;&gt; a = np.array([1,2,3,4])\n&gt;&gt;&gt; b = a[:]\n&gt;&gt;&gt; a[1] = 7\n&gt;&gt;&gt; b\narray([1, 7, 3, 4])\n</code></pre>\n\n<p>Python 4, if it ever happens, may follow suit. It is, as you've observed, much more consistent with other behavior.</p>\n"}, {"comments": [{"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 0, "creation_date": 1561641593, "post_id": 56782315, "comment_id": 100138355, "body": "\u201e<code>del</code> on iterator\u201c seems to be wrong because <code>del</code> on iterators isn&#39;t defined."}, {"owner": {"reputation": 963, "user_id": 4331885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/992f02cc8ab8c9ded76efe924e6a29c4?s=128&d=identicon&r=PG&f=1", "display_name": "Gloweye", "link": "https://stackoverflow.com/users/4331885/gloweye"}, "edited": false, "score": 0, "creation_date": 1561705296, "post_id": 56782315, "comment_id": 100158990, "body": "He didn&#39;t say &quot;del on iterator&quot;, he said &quot;del on sequence&quot;. And even if it&#39;s not implementation-correct (you don&#39;t map anything), it is a manner of thinking about it that&#39;ll generally lead to the correct conclusions."}, {"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "reply_to_user": {"reputation": 963, "user_id": 4331885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/992f02cc8ab8c9ded76efe924e6a29c4?s=128&d=identicon&r=PG&f=1", "display_name": "Gloweye", "link": "https://stackoverflow.com/users/4331885/gloweye"}, "edited": false, "score": 0, "creation_date": 1562073858, "post_id": 56782315, "comment_id": 100257038, "body": "@JaccovanDorp The answer <i>literally</i> starts with \u201e<code>del</code> on iterator is \u2026\u201c, so ipaleka <i>did</i> say/wrote that."}, {"owner": {"reputation": 963, "user_id": 4331885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/992f02cc8ab8c9ded76efe924e6a29c4?s=128&d=identicon&r=PG&f=1", "display_name": "Gloweye", "link": "https://stackoverflow.com/users/4331885/gloweye"}, "edited": false, "score": 1, "creation_date": 1562079505, "post_id": 56782315, "comment_id": 100260556, "body": "Sorry, I am unable to reconstruct my earlier train of thought."}], "tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": false, "score": 24, "last_activity_date": 1561593535, "creation_date": 1561593535, "answer_id": 56782315, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56782315#56782315", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p><code>del</code> on iterator is just a call to <code>__delitem__</code> with index as argument. Just like parenthesis call [n] is a call to <code>__getitem__</code> method on iterator instance with index n.</p>\n\n<p>So when you call <code>p[:]</code> you are creating a sequence of items, and when you call <code>del p[:]</code> you map that del/__delitem__ to every item in that sequence.</p>\n"}, {"comments": [{"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 2, "creation_date": 1561641906, "post_id": 56782352, "comment_id": 100138552, "body": "The <code>del</code> statement isn&#39;t performed recursively on that one list. The documentation talks about the target list, not the one list+slice in the example.  Consider <code>del parrot, spam, grail</code> \u2013 here the target list has three elements that are deleted left to right, first <code>parrot</code>, then <code>spam</code>, then <code>grail</code>.  In <code>del p[:]</code> there is just one target that gets deleted: <code>p[:]</code>."}], "tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": false, "score": 7, "last_activity_date": 1561595160, "last_edit_date": 1561595160, "creation_date": 1561593895, "answer_id": 56782352, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56782352#56782352", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p>As others have stated; <code>p[:]</code> deletes all items in <code>p</code>; BUT will not affect q. To go into further detail the list <a href=\"https://docs.python.org/3/tutorial/introduction.html#lists\" rel=\"noreferrer\">docs</a> refer to just this:</p>\n\n<blockquote>\n  <p>All slice operations return a new list containing the requested\n  elements. This means that the following slice returns a new (shallow)\n  copy of the list:</p>\n\n<pre><code>&gt;&gt;&gt; squares = [1, 4, 9, 16, 25]\n...\n&gt;&gt;&gt; squares[:]\n[1, 4, 9, 16, 25]\n</code></pre>\n</blockquote>\n\n<p>So <code>q=p[:]</code> creates a <em>(shallow)</em> copy of <code>p</code> as a separate list but upon further inspection it does point to a completely separate location in memory.</p>\n\n<pre><code>&gt;&gt;&gt; p = [1,2,3]\n&gt;&gt;&gt; q=p[:]\n&gt;&gt;&gt; id(q)\n139646232329032\n&gt;&gt;&gt; id(p)\n139646232627080\n</code></pre>\n\n<p>This is explained better in the <a href=\"https://docs.python.org/3/library/copy.html#copy.copy\" rel=\"noreferrer\"><code>copy</code></a> module:</p>\n\n<blockquote>\n  <p>A shallow copy constructs a new compound object and then (to the\n  extent possible) inserts references into it to the objects found in\n  the original.</p>\n</blockquote>\n\n<p>Although the <a href=\"https://docs.python.org/3/reference/simple_stmts.html#the-del-statement\" rel=\"noreferrer\">del</a> statement is performed recursively on lists/slices:</p>\n\n<blockquote>\n  <p>Deletion of a target list recursively deletes each target, from left to right.</p>\n</blockquote>\n\n<p>So if we use <code>del p[:]</code> we are deleting the contents of <code>p</code> by iterating over each element, whereas <code>q</code> is not altered as stated earlier, it references a separate list although having the same items:</p>\n\n<pre><code>&gt;&gt;&gt; del p[:]\n&gt;&gt;&gt; p\n[]\n&gt;&gt;&gt; q\n[1, 2, 3]\n</code></pre>\n\n<p>In fact this is also referenced in the list docs as well in the <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"noreferrer\"><code>list.clear</code></a> method:</p>\n\n<blockquote>\n  <p>list.<strong>copy()</strong></p>\n  \n  <p>Return a shallow copy of the list. Equivalent to <code>a[:]</code>. </p>\n  \n  <p>list.<strong>clear()</strong></p>\n  \n  <p>Remove all items from the list. Equivalent to <code>del a[:]</code>.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 0, "creation_date": 1561595280, "post_id": 56782436, "comment_id": 100119689, "body": "Interesting. So, I wonder why numpy didnt follow the same reasoning ?"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 3, "creation_date": 1561595851, "post_id": 56782436, "comment_id": 100119770, "body": "<code>p[:]</code> is similar but different in numpy. See the <a href=\"https://www.numpy.org/devdocs/user/quickstart.html#view-or-shallow-copy\" rel=\"nofollow noreferrer\">docs</a> for views. &quot;Slicing an array returns a view of it&quot; and views are &quot;a new array object that looks at the same data&quot;"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 4, "creation_date": 1561661260, "post_id": 56782436, "comment_id": 100148594, "body": "@brainOverflow numpy wants to be as efficient as possible and also as terse and easy to read as possible. Since numpy code will be optimized why make the most common code more verbose? numpy was not born as a generalized framework, it was designed for people with a certain level of expertise so the choices they made are different than those that Guido made when designing the python language"}, {"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 0, "creation_date": 1561675770, "post_id": 56782436, "comment_id": 100153163, "body": "Standard python and numpy works exactly the same in regards to assignment and deletion operation; their difference isn&#39;t in assignment and deletion, but in the slicing when evaluated in the rvalue context. A numpy array returns a view when sliced, standard python returns a copy. This small difference can make a huge impact in how operations on standard python and numpy behaves; numpy will overwrite the default data when standard python doesn&#39;t. But if you understand the python object model and that numpy slices is a view, those differences in behaviour makes sense and is actually quite simple."}], "tags": [], "owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "is_accepted": true, "score": 59, "last_activity_date": 1561674927, "last_edit_date": 1561674927, "creation_date": 1561594830, "answer_id": 56782436, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56782436#56782436", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p>del and assignments are designed consistently, they're just not designed the way you expected them to be. del never deletes objects, it deletes names/references (object deletion only ever happens indirectly, it's the refcount/garbage collector that deletes the objects); similarly the assignment operator never copies objects, it's always creating/updating names/references.</p>\n\n<p>The del and assignment operator takes a reference specification (similar to the concept of an lvalue in C, though the details differs). This reference specification is either a variable name (plain identifier), a <code>__setitem__</code> key (object in square bracket), or <code>__setattr__</code> name (identifier after dot). This lvalue is not evaluated like an expression, as doing that will make it impossible to assign or delete anything.</p>\n\n<p>Consider the symmetry between:</p>\n\n<pre><code>p[:] = [1, 2, 3]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>del p[:]\n</code></pre>\n\n<p>In both cases, <code>p[:]</code> works identically because they are both evaluated as an lvalue. On the other hand, in the following code, <code>p[:]</code> is an expression that is fully evaluated into an object:</p>\n\n<pre><code>q = p[:]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 6, "last_activity_date": 1561647173, "last_edit_date": 1592644375, "creation_date": 1561647173, "answer_id": 56793730, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations/56793730#56793730", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<p>Basically the slice-syntax can be used in 3 different contexts:</p>\n<ul>\n<li>Accessing, i.e. <code>x = foo[:]</code></li>\n<li>Setting, i.e. <code>foo[:] = x</code></li>\n<li>Deleting, i.e. <code>del foo[:]</code></li>\n</ul>\n<p>And in these contexts the values put in the square brackets just select the items. This is designed that the &quot;slice&quot; is used consistently in each of these cases:</p>\n<ul>\n<li><p>So <code>x = foo[:]</code> gets <strong>all elements</strong> in <code>foo</code> and assigns them to <code>x</code>. This is basically a shallow copy.</p>\n</li>\n<li><p>But <code>foo[:] = x</code> will replace <strong>all elements</strong> in <code>foo</code> with the elements in <code>x</code>.</p>\n</li>\n<li><p>And when deleting <code>del foo[:]</code> will delete <strong>all elements</strong> in <code>foo</code>.</p>\n</li>\n</ul>\n<p>However this behavior is customizable as explained by <a href=\"https://docs.python.org/3/reference/datamodel.html#emulating-container-types\" rel=\"noreferrer\">3.3.7. Emulating container types</a>:</p>\n<blockquote>\n<h2><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__getitem__\" rel=\"noreferrer\"><code>object.__getitem__(self, key)</code></a></h2>\n<p><strong>Called to implement evaluation of <code>self[key]</code></strong>. For sequence types, the accepted keys should be integers and slice objects. Note that the special interpretation of negative indexes (if the class wishes to emulate a sequence type) is up to the <code>__getitem__()</code> method. If key is of an inappropriate type, <code>TypeError</code> may be raised; if of a value outside the set of indexes for the sequence (after any special interpretation of negative values), <code>IndexError</code> should be raised. For mapping types, if key is missing (not in the container), <code>KeyError</code> should be raised.</p>\n<h3>Note</h3>\n<p><code>for</code> loops expect that an <code>IndexError</code> will be raised for illegal indexes to allow proper detection of the end of the sequence.</p>\n<h2><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__setitem__\" rel=\"noreferrer\"><code>object.__setitem__(self, key, value)</code></a></h2>\n<p><strong>Called to implement assignment to <code>self[key]</code></strong>. Same note as for <code>__getitem__()</code>. This should only be implemented for mappings if the objects support changes to the values for keys, or if new keys can be added, or for sequences if elements can be replaced. The same exceptions should be raised for improper key values as for the <code>__getitem__()</code> method.</p>\n<h2><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__delitem__\" rel=\"noreferrer\"><code>object.__delitem__(self, key)</code></a></h2>\n<p><strong>Called to implement deletion of <code>self[key]</code></strong>. Same note as for <code>__getitem__()</code>. This should only be implemented for mappings if the objects support removal of keys, or for sequences if elements can be removed from the sequence. The same exceptions should be raised for improper key values as for the <code>__getitem__()</code> method.</p>\n</blockquote>\n<p>(Emphasis mine)</p>\n<p>So in theory any container type could implement this however it wants. However many container types follow the list-implementation.</p>\n"}], "owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4091, "favorite_count": 8, "accepted_answer_id": 56782436, "answer_count": 6, "score": 53, "last_activity_date": 1561674927, "creation_date": 1561591982, "last_edit_date": 1561597870, "question_id": 56782148, "link": "https://stackoverflow.com/questions/56782148/why-was-p-designed-to-work-differently-in-these-two-situations", "title": "Why was p[:] designed to work differently in these two situations?", "body": "<pre><code>p = [1,2,3]\nprint(p) # [1, 2, 3]\n\nq=p[:]  # supposed to do a shallow copy\nq[0]=11\nprint(q) #[11, 2, 3] \nprint(p) #[1, 2, 3] \n# above confirms that q is not p, and is a distinct copy \n\ndel p[:] # why is this not creating a copy and deleting that copy ?\nprint(p) # [] \n</code></pre>\n\n<p>Above confirms <code>p[:]</code> doesnt work the same way in these 2 situations. Isn't it ?</p>\n\n<p>Considering that in the following code, I expect to be working directly with <code>p</code> and not a copy of <code>p</code>,</p>\n\n<pre><code>p[0] = 111\np[1:3] = [222, 333]\nprint(p) # [111, 222, 333]\n</code></pre>\n\n<p>I feel </p>\n\n<pre><code>del p[:] \n</code></pre>\n\n<p>is consistent with <code>p[:]</code>, all of them referencing the original list \nbut </p>\n\n<pre><code>q=p[:] \n</code></pre>\n\n<p>is confusing (to novices like me) as <code>p[:]</code> in this case results in a new list !</p>\n\n<p>My novice expectation would be that </p>\n\n<pre><code>q=p[:]\n</code></pre>\n\n<p>should be the same as </p>\n\n<pre><code>q=p\n</code></pre>\n\n<p>Why did the creators allow this special behavior to result in a copy instead ?</p>\n"}, {"tags": ["python", "string", "list"], "answers": [{"tags": [], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "is_accepted": false, "score": 1, "last_activity_date": 1561592057, "creation_date": 1561592057, "answer_id": 56782155, "question_id": 56782140, "link": "https://stackoverflow.com/questions/56782140/how-do-i-remove-an-item-from-a-list-within-a-list/56782155#56782155", "title": "How do I remove an item from a list within a list?", "body": "<p>You need to access the sublist to do the removal, not the outer:</p>\n\n<pre><code>data = [['First', 'Last'], ['David', 'Joyner'], ['and', 'George', 'Burdell']]\n\nfor sublist in data:\n    while \"and\" in sublist:\n        sublist.remove(\"and\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "is_accepted": true, "score": 0, "last_activity_date": 1561592126, "creation_date": 1561592126, "answer_id": 56782167, "question_id": 56782140, "link": "https://stackoverflow.com/questions/56782140/how-do-i-remove-an-item-from-a-list-within-a-list/56782167#56782167", "title": "How do I remove an item from a list within a list?", "body": "<p>try this you can add one instruction in your code to replace the \"and\" by \"\": </p>\n\n<pre><code>def names_to_apa(names):\n    names=names.replace(\"and\",\"\")\n    x = names.split(\",\")\n    nm = []\n    for y in x:\n        nm.append(y.split())\n    print(nm)\n    for i in nm:\n        if i == 'and':\n            nm.remove(i)\n    print(nm)\n\nprint(names_to_apa(\"First Last, David Joyner, and George Burdell\"))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[['First', 'Last'], ['David', 'Joyner'], ['George', 'Burdell']]\n</code></pre>\n"}], "owner": {"reputation": 1252, "user_id": 10141914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0826662edcb187e307870eacf316daff?s=128&d=identicon&r=PG&f=1", "display_name": "william3031", "link": "https://stackoverflow.com/users/10141914/william3031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1561592217, "accepted_answer_id": 56782167, "answer_count": 2, "score": -1, "last_activity_date": 1561592256, "creation_date": 1561591911, "question_id": 56782140, "link": "https://stackoverflow.com/questions/56782140/how-do-i-remove-an-item-from-a-list-within-a-list", "closed_reason": "Duplicate", "title": "How do I remove an item from a list within a list?", "body": "<p>I have this code and want to remove the 'and' from the list.</p>\n\n<pre><code>def names_to_apa(names):\n    x = names.split(\",\")  \n    nm = []\n    for y in x:\n        nm.append(y.split())\n    print(nm)\n    for i in nm:\n        if i == 'and':\n            nm.remove(i)\n    print(nm)\n\nprint(names_to_apa(\"First Last, David Joyner, and George Burdell\"))\n#print: Last, F., Joyner, D., &amp; Burdell, G.\n</code></pre>\n\n<p>The current output is:</p>\n\n<pre><code>[['First', 'Last'], ['David', 'Joyner'], ['and', 'George', 'Burdell']]\n</code></pre>\n\n<p>but I want to get rid of the 'and' in the third list.</p>\n\n<p>What I have tried doesn't work and what I have found by searching StackOverflow seems to only apply to single lists, or I can't figure out how to implement it in a list within a list.</p>\n\n<p>Can you help?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1561591792, "post_id": 56782121, "comment_id": 100119082, "body": "I recommend IntervalIndex. <a href=\"https://stackoverflow.com/questions/56777623/how-to-aggregate-mean-of-rows-when-values-are-in-between-range-of-2-other-column/56777757#56777757\" title=\"how to aggregate mean of rows when values are in between range of 2 other column\">stackoverflow.com/questions/56777623/&hellip;</a>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1561591812, "post_id": 56782121, "comment_id": 100119083, "body": "Also see my answer here: <a href=\"https://stackoverflow.com/a/46526392/4909087\">stackoverflow.com/a/46526392/4909087</a>"}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1561592810, "post_id": 56782121, "comment_id": 100119284, "body": "Btw, why is fruit <code>None</code> at value <code>9</code>? Shouldn&#39;t that be <code>Orange</code>?"}, {"owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "edited": false, "score": 0, "creation_date": 1561593179, "post_id": 56782121, "comment_id": 100119343, "body": "You right, 9 should be Orange."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1561593356, "post_id": 56782121, "comment_id": 100119371, "body": "Then the answer of @cs95 linked works: First: <code>idx = pd.IntervalIndex.from_arrays(df2[&#39;Start&#39;], df2[&#39;Stop&#39;], closed=&#39;both&#39;)</code> Second: <code>df[&#39;fruit&#39;] = df2.loc[idx.get_indexer(df1[&#39;Value&#39;]), &#39;Fruit&#39;]</code>"}, {"owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1561593661, "post_id": 56782121, "comment_id": 100119419, "body": "I am trying to use the code that @cs95 posted but I am getting error <code>ValueError: cannot reindex from a duplicate axis</code>.  This is what I tried - <code>idx = pd.IntervalIndex.from_arrays(df2[&#39;Start&#39;], df2[&#39;Stop&#39;], closed=&#39;both&#39;) df1[&#39;fruit&#39;] = df2.loc[idx.get_indexer(df1[&#39;Value&#39;]), &#39;Fruit&#39;]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "edited": false, "score": 0, "creation_date": 1561596787, "post_id": 56782582, "comment_id": 100119925, "body": "@MBasith yw :-) happy coding"}, {"owner": {"reputation": 154, "user_id": 9667921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de9355971602b4c06775d0c0665c5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Kullayappa  M", "link": "https://stackoverflow.com/users/9667921/kullayappa-m"}, "edited": false, "score": 0, "creation_date": 1571234406, "post_id": 56782582, "comment_id": 103173061, "body": "Hi, could you please let me know. How we can get final output as expected.  I also have the same kind of requirement. Thanks in Advance."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1571235005, "post_id": 56782582, "comment_id": 103173483, "body": "@KPMk df1[&#39;Fruit&#39;]=np.dot((s&gt;=s1)&amp;(s&lt;=s2),df2.Fruit)"}, {"owner": {"reputation": 332, "user_id": 7639174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeBYf.png?s=128&g=1", "display_name": "lone_coder", "link": "https://stackoverflow.com/users/7639174/lone-coder"}, "edited": false, "score": 0, "creation_date": 1610585185, "post_id": 56782582, "comment_id": 116183347, "body": "how to avoid this returning nan, instead return a string said &quot;not in fruit!&quot;"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 332, "user_id": 7639174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeBYf.png?s=128&g=1", "display_name": "lone_coder", "link": "https://stackoverflow.com/users/7639174/lone-coder"}, "edited": false, "score": 1, "creation_date": 1610588845, "post_id": 56782582, "comment_id": 116184011, "body": "@lone_coder after assign you can do <code>s = np.dot((s&gt;=s1)&amp;(s&lt;=s2),df2.Fruit) ; s = np.where(s!=s,&#39;not in fruit!&#39;,s) </code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1561596483, "creation_date": 1561596483, "answer_id": 56782582, "question_id": 56782121, "link": "https://stackoverflow.com/questions/56782121/pandas-lookup-value-in-a-range-from-another-table/56782582#56782582", "title": "Pandas lookup value in a range from another table", "body": "<p>Here is on of the way rather than using <code>IntervalIndex</code> , we check with <code>numpy</code> board-cast </p>\n\n<pre><code>s1=df2.Start.values\ns2=df2.Stop.values\ns=df1.Value.values[:,None]\nnp.dot((s&gt;=s1)&amp;(s&lt;=s2),df2.Fruit)\narray(['Apple', 'Orange', 'Orange', 'Mango'], dtype=object)\n</code></pre>\n"}], "owner": {"reputation": 1231, "user_id": 5525619, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-yHXcLpAuId0/AAAAAAAAAAI/AAAAAAAAASU/F5mLz3Wua5c/photo.jpg?sz=128", "display_name": "MBasith", "link": "https://stackoverflow.com/users/5525619/mbasith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 1, "accepted_answer_id": 56782582, "answer_count": 1, "score": 4, "last_activity_date": 1561596483, "creation_date": 1561591709, "last_edit_date": 1561594797, "question_id": 56782121, "link": "https://stackoverflow.com/questions/56782121/pandas-lookup-value-in-a-range-from-another-table", "title": "Pandas lookup value in a range from another table", "body": "<p>In the example below I am trying to check if the \"Value\" in <strong>Table 1</strong> is in the range of values in a row in <strong>Table 2</strong> for columns \"Start\" and \"Stop\".  If the value is in that range I want to return the type of \"Fruit\". The between method seems to be able to accomplish this but unsure how to apply it to a row from another table.  Note I need to perform this task using a large dataset and am open to using methods outside of the pandas library.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HenSX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HenSX.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Sample Code</h3>\n\n<pre><code>df1 = pd.DataFrame({'Date': {0: '06-01', 1: '06-02', 2: '06-03', 3: '06-04'},\n                   'Value': {0: 3, 1: 7, 2: 9, 3: 16}, })\n\ndf2 = pd.DataFrame({'Start': {0: 1, 1: 6, 2: 11, 3: 16},\n                    'Stop': {0: 5, 1: 10, 2: 15, 3: 20},\n                    'Fruit': {0: 'Apple', 1: 'Orange', 2: 'Pear', 3: 'Mango'},})\n</code></pre>\n\n<h3>Table 1</h3>\n\n<pre><code>    Date  Value\n0  06-01      3\n1  06-02      7\n2  06-03      9\n3  06-04     16\n</code></pre>\n\n<h3>Table 2</h3>\n\n<pre><code>    Fruit  Start  Stop\n0   Apple      1     5\n1  Orange      6    10\n2    Pear     11    15\n3   Mango     16    20\n</code></pre>\n\n<h3>Table 1 Desired Output</h3>\n\n<pre><code>    Date  Value  Fruit\n0  06-01      3   Apple\n1  06-02      7  Orange\n2  06-03      9  Orange\n3  06-04     16   Mango\n</code></pre>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1561591858, "post_id": 56782114, "comment_id": 100119095, "body": "You can call <code>flush()</code> on a file to write out the buffer without closing the file."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 2, "creation_date": 1561591861, "post_id": 56782114, "comment_id": 100119097, "body": "For safely closing the file, you need a <code>try: ... finally: myfile.close()</code> block which will close the file no matter what. This can also be accomplished putting your code in a <code>with open(..., &#39;w&#39;) as myfile: ...</code> block. But yes, <code>flush</code> to write instantly."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1561591933, "post_id": 56782114, "comment_id": 100119108, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18984092/python-2-7-write-to-file-instantly\">Python 2.7 : Write to file instantly</a>"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1561592047, "post_id": 56782114, "comment_id": 100119128, "body": "Or you could not hold the file open the whole time and just open it in append mode when you want to write to it, then close it again."}], "answers": [{"comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1561593039, "post_id": 56782153, "comment_id": 100119315, "body": "Using <code>with</code> would be less error prone, e.g. <code>with open(\u2018myfile.txt\u2019, \u2018a\u2019) as file: file.write(dump); file.write(\u2018\\n\u2019)</code> This is probably small enough to not need a separate function - but this is a matter of choice."}], "tags": [], "owner": {"reputation": 799, "user_id": 10416716, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0_Zn2IeB9xo/AAAAAAAAAAI/AAAAAAAAAA4/MLNWrOQ1TqU/photo.jpg?sz=128", "display_name": "Seraph Wedd", "link": "https://stackoverflow.com/users/10416716/seraph-wedd"}, "is_accepted": false, "score": 1, "last_activity_date": 1561592043, "creation_date": 1561592043, "answer_id": 56782153, "question_id": 56782114, "link": "https://stackoverflow.com/questions/56782114/how-to-write-txt-files-inside-a-infinite-loop/56782153#56782153", "title": "How to write txt files inside a infinite loop?", "body": "<p>Simply make a custom function and call it for every time you want to add a new line to your text file. For example:</p>\n\n<pre><code>def f(dump):\n    file = open('myfile.txt', 'a')\n    file.write(dump)\n    file.write('\\n')\n    file.close()\n</code></pre>\n\n<p>and then pass it the values you want to write on the fly.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11644488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561592043, "creation_date": 1561591654, "last_edit_date": 1561591964, "question_id": 56782114, "link": "https://stackoverflow.com/questions/56782114/how-to-write-txt-files-inside-a-infinite-loop", "title": "How to write txt files inside a infinite loop?", "body": "<p>I am trying to make a loop that writes in a text file the date each time en event happens. but i can't get it to work since i need an infinite loop to run the program. If i put myfile.close() inside the loop even inside the \"if x[14]==\"track\":\" i get:</p>\n\n<pre><code>myfile.write(wri)\nValueError: I/O operation on closed file.\n</code></pre>\n\n<p>However if i place it outside the loop the file Doesn't close and nothing is written in the output file.</p>\n\n<p>Here is the code</p>\n\n<pre><code>while 1 :\n    print(\"yes\")\n    response = requests.get('https://api.spotify.com/v1/me/player/currently-playing', headers=headers)\n    soup2 = BeautifulSoup(response.text, \"html.parser\")\n    x=re.findall('\"([^\"]*)\"', str(soup2)) \n\n    if isinstance(x, list)==True:\n        if len(x)&gt;=15:\n            print(x[14])\n\n\n            if x[14]==\"track\":\n\n\n                os.system(\"TASKKILL /IM spotify.exe\")\n                sleep(2)\n                subprocess.Popen(\"C:/Users/nebbu/AppData/Roaming/Spotify/Spotify.exe\")\n                sleep(2)\n                import pyautogui\n                pyautogui.press(\"playpause\")\n                pyautogui.press(\"l\")\n                print(x)\n                wri=str(date)+\"- -\"+str(x[13]+\": \"+str(x[14]))\n                myfile.write(wri)\n\n\nmyfile.close()\n</code></pre>\n\n<p>The loop never ends, i don't know if it has to end to close the file or if there is another way of doing it.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 0, "last_activity_date": 1561592079, "creation_date": 1561592079, "answer_id": 56782159, "question_id": 56782113, "link": "https://stackoverflow.com/questions/56782113/summing-specific-values-in-nested-list-python/56782159#56782159", "title": "Summing specific values in nested list Python", "body": "<p>There is probably a one liner for this using <code>reduce</code> and list comp, but I couldn't see it quickly.</p>\n\n<pre><code>nested = [['a', 1], ['v', 2], ['a', 5], ['v', 3]]\n\nfrom collections import defaultdict\nd = defaultdict(int)\nfor i in nested:\n    d[i[0]] += i[1]\n\nretval = []    \nfor k, v in d.items():\n    retval.append([k, v])\n\nprint(retval)  # [['a', 6], ['v', 5]]\n</code></pre>\n"}], "owner": {"reputation": 2052, "user_id": 9749124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bc792b252c540523faea0fb803cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "taga", "link": "https://stackoverflow.com/users/9749124/taga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1561591945, "answer_count": 1, "score": 0, "last_activity_date": 1561592079, "creation_date": 1561591649, "question_id": 56782113, "link": "https://stackoverflow.com/questions/56782113/summing-specific-values-in-nested-list-python", "closed_reason": "Duplicate", "title": "Summing specific values in nested list Python", "body": "<p>I have a nested list that looks like this:</p>\n\n<pre><code>nested = [['a', 1], ['v', 2], ['a', 5], ['v', 3]]\n</code></pre>\n\n<p>I want to sum values in nested list for each letter value in list, so that output looks like this:</p>\n\n<pre><code>[['a', 6], ['v', 5]]\n</code></pre>\n\n<p>I have tried to play with for loops, but I couldnt find the solution.</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "regression", "integration"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1561592486, "post_id": 56782110, "comment_id": 100119218, "body": "Also check <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.polyint.html\" rel=\"nofollow noreferrer\">this</a> out"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 9026167, "user_type": "registered", "profile_image": "https://graph.facebook.com/513685815659509/picture?type=large", "display_name": "Max Mark", "link": "https://stackoverflow.com/users/9026167/max-mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1561592090, "creation_date": 1561592090, "answer_id": 56782162, "question_id": 56782110, "link": "https://stackoverflow.com/questions/56782110/get-function-fx-from-polynomial-regression-graph/56782162#56782162", "title": "Get function (&quot;f(x)&quot;) from polynomial regression (graph)", "body": "<p>As     </p>\n\n<pre><code>    p = np.poly1d(z) \n</code></pre>\n\n<p>returns a function, you can use \"p\" for integration. So to get the integral form 0.3 to 0.6, you can go via:</p>\n\n<pre><code>integrate.quad(p, 0.3, 0.6)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 668, "user_id": 10135377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f76366adbcfba903266a9d86362771e?s=128&d=identicon&r=PG&f=1", "display_name": "ShapeOfMatter", "link": "https://stackoverflow.com/users/10135377/shapeofmatter"}, "is_accepted": false, "score": 0, "last_activity_date": 1561592167, "creation_date": 1561592167, "answer_id": 56782174, "question_id": 56782110, "link": "https://stackoverflow.com/questions/56782110/get-function-fx-from-polynomial-regression-graph/56782174#56782174", "title": "Get function (&quot;f(x)&quot;) from polynomial regression (graph)", "body": "<p>In a good sense your variable <code>p</code> already <em>is</em> that function. Have a look at the usage examples in <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.poly1d.html\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n\n<p>If you want a string representation to the effect of <em>\"x^2 + 4x - 5\"</em>, it looks like you could just cast it to string. The handling of the exponents in the <code>print()</code> examples looks a little weird to me though.</p>\n"}], "owner": {"reputation": 63, "user_id": 9026167, "user_type": "registered", "profile_image": "https://graph.facebook.com/513685815659509/picture?type=large", "display_name": "Max Mark", "link": "https://stackoverflow.com/users/9026167/max-mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1561592373, "answer_count": 2, "score": 1, "last_activity_date": 1561609324, "creation_date": 1561591632, "last_edit_date": 1561609324, "question_id": 56782110, "link": "https://stackoverflow.com/questions/56782110/get-function-fx-from-polynomial-regression-graph", "closed_reason": "Duplicate", "title": "Get function (&quot;f(x)&quot;) from polynomial regression (graph)", "body": "<p>I did polynomial regression on some data.\nThe graph was plotted. But how do I get the function \"f(x)\" of the plotted graph? I like to integrate the function!</p>\n\n<pre><code> z = np.polyfit(x, y1, 6)  \n p = np.poly1d(z) \n\n xp = np.linspace(0, 1, 100)\n line = plt.plot(x, y1, '.', xp, p(xp), '-', label=' G_MEAN_1 ')\n plt.ylim(0, 1)\n plt.legend()\n plt.show()\n</code></pre>\n\n<p>So how can I get the function out of here - for integration?</p>\n"}, {"tags": ["python", "python-2.7", "turtle-graphics"], "comments": [{"owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "edited": false, "score": 0, "creation_date": 1561592587, "post_id": 56782081, "comment_id": 100119240, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14678434/passing-argument-from-parent-function-to-nested-function-python\">Passing argument from Parent function to nested function Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 1, "last_activity_date": 1561611335, "creation_date": 1561611335, "answer_id": 56784128, "question_id": 56782081, "link": "https://stackoverflow.com/questions/56782081/using-turtle-onclick-to-change-a-variable/56784128#56784128", "title": "Using turtle.onclick() to change a variable", "body": "<p>The variable <code>clicks</code> is global.  Any function that wants to <em>modify</em> a global variable has to declare that variable <code>global</code>:</p>\n\n<pre><code>from turtle import Turtle, mainloop\n\nclicks = 0\n\ndef left(x, y):\n    global clicks\n\n    jeff.left(90)\n    clicks += 1\n    print \"you have \" + str(clicks) + \" clicks.\"\n\njeff = Turtle()\njeff.shape(\"turtle\")\njeff.color(\"blue\")\n\njeff.onclick(left)\n\nmainloop()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11705665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jnj5k2lgx34/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rexQRsD_rhMk12wmnOUG3wv-zifAQ/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/11705665/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 1, "accepted_answer_id": 56784128, "answer_count": 1, "score": 2, "last_activity_date": 1561611369, "creation_date": 1561591365, "last_edit_date": 1561611369, "question_id": 56782081, "link": "https://stackoverflow.com/questions/56782081/using-turtle-onclick-to-change-a-variable", "title": "Using turtle.onclick() to change a variable", "body": "<p>Every time the turtle is clicked, how would I have it increment the variable <code>clicks</code> by 1:</p>\n\n<pre><code>import turtle\njeff = turtle.Turtle()\njeff.shape(\"turtle\")\njeff.color(\"blue\")\nclicks=0\n\n\ndef left(x,y): \n    jeff.left(90) \n    clicks=clicks+1\n    print \"you have\"+clicks+\"clicks.\"\n\n\njeff.onclick(left)\n</code></pre>\n\n<p>When I type this in, on the line <code>clicks=clicks+1</code> it gives me:</p>\n\n<blockquote>\n  <p>UnboundLocalError: local variable 'clicks' referenced before\n  assignment</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 2, "creation_date": 1561591576, "post_id": 56782077, "comment_id": 100119042, "body": "Your first thought is the way to go. 50MB is, in fact, tiny. 2nd approach is not recommended. You can do <code>df.loc[df[&#39;Married&#39;]&amp; df[&#39;OwnsHouse&#39;], &#39;Age&#39;].max()</code>."}, {"owner": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 1, "creation_date": 1561591764, "post_id": 56782077, "comment_id": 100119074, "body": "Have you checked the performance of both the methods ?"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1561593097, "post_id": 56782077, "comment_id": 100119325, "body": "<code>df.iterrows</code> is an antipattern in pandas, it will generally always be worse-performance than any vectorized method, or logical indexing."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1561593179, "post_id": 56782077, "comment_id": 100119342, "body": "Declaring a 50MB intermediate result <code>df_subset = df[df[&#39;Married&#39;] == True and df[&#39;OwnsHouse&#39;] == True]</code> is unnecessary and wastes both CPU and memory for no reason. You should chain calls, as @QuangHoang shows."}], "answers": [{"comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1561591788, "post_id": 56782116, "comment_id": 100119080, "body": "Actually, <code>len(&quot;df[&#39;Married&#39;]&amp; df[&#39;OwnsHouse&#39;]&quot;)==30</code> and <code>len(&quot;df[[&#39;Married&#39;, &#39;OwnsHouse&#39;]].all(axis=1)&quot;)==40</code> :D"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1561591857, "post_id": 56782116, "comment_id": 100119094, "body": "@QuangHoang great but what about <code>df[col1] &amp; df[col2] &amp; ... df[col100]</code>? :D"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1561591921, "post_id": 56782116, "comment_id": 100119105, "body": "@QuangHoang I realise the terminology isn&#39;t quite right there, so you&#39;ve a point."}, {"owner": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 0, "creation_date": 1561592003, "post_id": 56782116, "comment_id": 100119119, "body": "Is this method faster then the first method he&#39;s is trying ?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 0, "creation_date": 1561592091, "post_id": 56782116, "comment_id": 100119140, "body": "@0xPrateek Sure, it is now."}, {"owner": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 0, "creation_date": 1561592239, "post_id": 56782116, "comment_id": 100119168, "body": "have you checked it using timeit ? or something else /"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 1, "creation_date": 1561592352, "post_id": 56782116, "comment_id": 100119191, "body": "@0xPrateek You mean have I timed whether using numpy functions is faster than the equivalent pandas method? Yes. <a href=\"https://stackoverflow.com/a/54299629/4909087\">Here</a>. It&#39;ll probably be make a lot more difference here though."}, {"owner": {"reputation": 984, "user_id": 8121719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XIPYf.jpg?s=128&g=1", "display_name": "0xPrateek", "link": "https://stackoverflow.com/users/8121719/0xprateek"}, "edited": false, "score": 0, "creation_date": 1561592618, "post_id": 56782116, "comment_id": 100119248, "body": "@cs95 yes...! Can be understood from that answer..! Thanks for clearing doubts :)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1561593485, "post_id": 56782116, "comment_id": 100119398, "body": "@smci <code>&amp;</code> is only being used here in a vectorized context. What specifically are you referring to? Note that with <code>query</code> it makes no difference because of how pandas builds the parse tree from the string."}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1561594979, "post_id": 56782116, "comment_id": 100119644, "body": "@cs95 nice detailed answer."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 1, "creation_date": 1561595067, "post_id": 56782116, "comment_id": 100119652, "body": "@QuangHoang Thanks! I&#39;ve used a grenade launcher when I probably should&#39;ve used a fly swatter, but I&#39;m pretty satisfied with the level of detail."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1561652956, "post_id": 56782116, "comment_id": 100145143, "body": "@smci From the <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#boolean-indexing\" rel=\"nofollow noreferrer\">docs</a>: &quot;<i>Another common operation is the use of boolean vectors to filter the data. The operators are: | for or, &amp; for and, and ~ for not.</i>&quot; I can&#39;t see why you&#39;d call a practice recommended by the documentation to be sloppy."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 1, "creation_date": 1561659935, "post_id": 56782116, "comment_id": 100148056, "body": "@cs95 Ah, my mistake. It&#39;s different from both R and C"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 5, "last_activity_date": 1561593396, "last_edit_date": 1561593396, "creation_date": 1561591660, "answer_id": 56782116, "question_id": 56782077, "link": "https://stackoverflow.com/questions/56782077/get-max-value-of-column-for-rows-where-a-condition-is-met/56782116#56782116", "title": "Get max value of column for rows where a condition is met", "body": "<p>Your first approach is solid, but here is a simple option:</p>\n\n<pre><code>df[df['Married'] &amp; df['OwnsHouse']].max()\n\nAge          35.0\nMarried       1.0\nOwnsHouse     1.0\ndtype: float64\n</code></pre>\n\n<p>Or, just the age:</p>\n\n<pre><code>df.loc[df['Married'] &amp; df['OwnsHouse'], 'Age'].max()\n# 35\n</code></pre>\n\n<p>If you have multiple boolean columns, I'd suggest something a bit more scalable,</p>\n\n<pre><code>df[df[['Married', 'OwnsHouse']].all(axis=1)].max()\n\nAge          35.0\nMarried       1.0\nOwnsHouse     1.0\ndtype: float64\n</code></pre>\n\n<p>Where,</p>\n\n<pre><code>df[['Married', 'OwnsHouse']].all(axis=1)\n\n0    False\n1     True\n2    False\n3     True\ndtype: bool\n</code></pre>\n\n<p>Which is the same as,</p>\n\n<pre><code>df['Married'] &amp; df['OwnsHouse']\n\n0    False\n1     True\n2    False\n3     True\ndtype: bool\n</code></pre>\n\n<p>But instead of manually finding the AND of N boolean masks, have <code>.all</code> do it for you.</p>\n\n<p><code>query</code> is another option:</p>\n\n<pre><code>df.query(\"Married and OwnsHouse\")['Age'].max()\n# 35\n</code></pre>\n\n<p>It doesn't require an intermediate step of computing a mask.</p>\n\n<hr>\n\n<p>Your method is fast enough, but if you want to microoptimize, here are some more options with numpy:</p>\n\n<pre><code># &lt;= 0.23\ndf[(df['Married'].values &amp; df['OwnsHouse'].values)].max()\ndf[df[['Married', 'OwnsHouse']].values.all(axis=1)].max()\n# 0.24+\ndf[(df['Married'].to_numpy() &amp; df['OwnsHouse'].to_numpy())].max()\ndf[df[['Married', 'OwnsHouse']].to_numpy().all(axis=1)].max()\n\nAge          35.0\nMarried       1.0\nOwnsHouse     1.0\ndtype: float64\n</code></pre>\n\n<p>Although you probably want just the age. Do this</p>\n\n<pre><code>df.loc[(df['Married'].to_numpy() &amp; df['OwnsHouse'].to_numpy()), 'Age'].max()\n# 35\n</code></pre>\n\n<p>If you fancy some more numpy, do this:</p>\n\n<pre><code>df.loc[(\n   df['Married'].to_numpy() &amp; df['OwnsHouse'].to_numpy()), 'Age'\n].to_numpy().max()\n# 35\n</code></pre>\n\n<p>Or better still, throw away pandas, </p>\n\n<pre><code>df['Age'].to_numpy()[df['Married'].to_numpy() &amp; df['OwnsHouse'].to_numpy()].max()\n# 35\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 8346493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40826a009d134cc90abbb2e3e36b277?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8346493/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 56782116, "answer_count": 1, "score": 2, "last_activity_date": 1561593396, "creation_date": 1561591339, "last_edit_date": 1561591645, "question_id": 56782077, "link": "https://stackoverflow.com/questions/56782077/get-max-value-of-column-for-rows-where-a-condition-is-met", "title": "Get max value of column for rows where a condition is met", "body": "<p>I have a DataFrame that looks like this:</p>\n\n<pre><code>| Age | Married | OwnsHouse |\n| 23  | True    | False     |\n| 35  | True    | True      |\n| 14  | False   | False     |\n| 27  | True    | True      |\n</code></pre>\n\n<p>I want to find the highest age of anyone who is married and owns a house. The answer here would be 35. My first thought was to do:</p>\n\n<pre><code>df_subset = df[df['Married'] == True and df['OwnsHouse'] == True]\nmax_age = df_subset.max()\n</code></pre>\n\n<p>However, dataset is big (50MB) and I fear this will be computationally expensive as it goes through the dataset twice. </p>\n\n<p>My second thought was to do:</p>\n\n<pre><code>max_age = 0\nfor index, row in df.iterrows():\n    if(row[index]['Married] and row['index']['OwnsHouse'] and row[index]['Age] &gt; max_age):\n    max_age = row[index]['Age']\n</code></pre>\n\n<p>Is there a faster way of doing this? </p>\n"}, {"tags": ["python", "python-3.x", "google-cloud-platform", "google-vision"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11456782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2kcjUBNICWI/AAAAAAAAAAI/AAAAAAAAAXc/Vw--kWo7FVk/photo.jpg?sz=128", "display_name": "Pardeep Kumar", "link": "https://stackoverflow.com/users/11456782/pardeep-kumar"}, "edited": false, "score": 0, "creation_date": 1561625993, "post_id": 56786831, "comment_id": 100129172, "body": "I have also used same logic to get confidence of each extracted word as I&#39;ve shown above, but it doesn&#39;t solve the problem. I need get confidence score of each phrase rather than individual words, for example CNIC, which may contain &#39;44601&#39; &#39;-&#39; &#39;6622831&#39; &#39;-&#39; &#39;3&#39;."}, {"owner": {"reputation": 370, "user_id": 11440257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122eb9b9c6686c48c2bfdd2ddff580ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ronnaver", "link": "https://stackoverflow.com/users/11440257/ronnaver"}, "reply_to_user": {"reputation": 79, "user_id": 11456782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2kcjUBNICWI/AAAAAAAAAAI/AAAAAAAAAXc/Vw--kWo7FVk/photo.jpg?sz=128", "display_name": "Pardeep Kumar", "link": "https://stackoverflow.com/users/11456782/pardeep-kumar"}, "edited": false, "score": 0, "creation_date": 1561628777, "post_id": 56786831, "comment_id": 100130791, "body": "I don&#39;t think getting confidence score by phrase is currently possible. The hierarchy of an OCR extracted text structure is like this: TextAnnotation -&gt; Page -&gt; Block -&gt; Paragraph -&gt; Word -&gt; Symbol"}, {"owner": {"reputation": 79, "user_id": 11456782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2kcjUBNICWI/AAAAAAAAAAI/AAAAAAAAAXc/Vw--kWo7FVk/photo.jpg?sz=128", "display_name": "Pardeep Kumar", "link": "https://stackoverflow.com/users/11456782/pardeep-kumar"}, "edited": false, "score": 0, "creation_date": 1561656976, "post_id": 56786831, "comment_id": 100146768, "body": "That is true as far as I know. Any alternative solution to this problem?"}], "tags": [], "owner": {"reputation": 370, "user_id": 11440257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122eb9b9c6686c48c2bfdd2ddff580ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ronnaver", "link": "https://stackoverflow.com/users/11440257/ronnaver"}, "is_accepted": false, "score": 1, "last_activity_date": 1561624056, "last_edit_date": 1561624056, "creation_date": 1561623578, "answer_id": 56786831, "question_id": 56782021, "link": "https://stackoverflow.com/questions/56782021/google-vision-extract-confidence-of-each-word-after-extracting-whole-text-using/56786831#56786831", "title": "Google Vision: Extract confidence of each word after extracting whole text using full_text_annotation.text", "body": "<p>Replace this snippet of code: </p>\n\n<pre><code>text = response.full_text_annotation.text\n     text = text.casefold()\n     text = text.replace('(','')\n     text = text.replace(')','')\n     text = text.replace(':','')\n     text = text.replace('.','')\n\n     return text\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>for page in response.full_text_annotation.pages:\n    for block in page.blocks:\n        for paragraph in block.paragraphs:\n            for word in paragraph.words:\n                word_text = ''.join([\n                    symbol.text for symbol in word.symbols\n                ])\n                print('{}: {}'.format(\n                    word_text, word.confidence))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/asWIZ.png\" rel=\"nofollow noreferrer\">Sample Output</a></p>\n"}], "owner": {"reputation": 79, "user_id": 11456782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2kcjUBNICWI/AAAAAAAAAAI/AAAAAAAAAXc/Vw--kWo7FVk/photo.jpg?sz=128", "display_name": "Pardeep Kumar", "link": "https://stackoverflow.com/users/11456782/pardeep-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1592948911, "creation_date": 1561590733, "last_edit_date": 1592948911, "question_id": 56782021, "link": "https://stackoverflow.com/questions/56782021/google-vision-extract-confidence-of-each-word-after-extracting-whole-text-using", "title": "Google Vision: Extract confidence of each word after extracting whole text using full_text_annotation.text", "body": "<p>I am using</p>\n<pre><code>def detect_document(path):\n     client = vision.ImageAnnotatorClient()\n\n     with io.open(path, 'rb') as image_file:\n        content = image_file.read()\n\n     image = vision.types.Image(content=content)\n\n     response = client.document_text_detection(image=image)\n\n     text = response.full_text_annotation.text\n     text = text.casefold()\n     text = text.replace('(','')\n     text = text.replace(')','')\n     text = text.replace(':','')\n     text = text.replace('.','')\n\n     return text\n</code></pre>\n<p>to extract following text from an application form filled with handwriting</p>\n<pre><code>a bank challan\nbank branch abc mute deposit id 005saetm-0055 deposit date 14 ml 19\nb personal information use capital letters and leave spaces between words\nname muhammad hanif tiid\nfather's name muhammad yaqoob tiittitttt\ncomputerized nic no 44 303-5214 345-3\nd d m m y y y y\ngender male age in years 22 date of birth  4-08-1999\ndomicile district mirpuskhas contact no 0333-7072258\nplease do not mention converted no\npostal address anmol book depo naukot taluka jhuddo disstti mps\nsindh\nare you government servant yes\nif yes, please attach noc\nno\n\u2713\nreligion muslim\n\u2713\nnon-muslim o\nc academic information\nintermediate/hssc eng mirpuskhas bise match b 2016\nmatric/ssc seience bisemirpurkhang match a 2014\nd any other certifications/diploma/professional degrees shorthand, dit, cit etc\nname\nle\n</code></pre>\n<p>Then using regex patterns to get</p>\n<p><a href=\"https://i.stack.imgur.com/eapFj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eapFj.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I want to create log for all the processing for each field</p>\n<pre><code>&lt;name&gt;\n\n&lt;origin&gt;\n\nmuhammad hanif tiid \n\n&lt;/origin&gt;\n\n&lt;originscore&gt;\n\n78.2\n\n&lt;/originscore&gt;\n\n&lt;final&gt;\n\nmuhammad hanif\n\n&lt;/final&gt;\n\n&lt;corrections&gt;\n\n4\n\n&lt;/corrections&gt;\n\n&lt;/name&gt;\n</code></pre>\n<p>For that I need <strong>confidence score</strong>. I don't know how to get confidence score for such parsed fields. I tried to get confidence of each extracted word, like</p>\n<pre><code>A: 0.9900000095367432\n.: 0.9900000095367432\nBank: 0.9900000095367432\nChallan: 0.9900000095367432\nBank: 0.9900000095367432\nBranch: 0.9900000095367432\nABC: 0.9900000095367432\nmute: 0.6700000166893005\nDeposit: 0.8500000238418579\nID: 0.8100000023841858\n005SAETM: 0.6499999761581421\n-: 0.2800000011920929\n0055: 0.8500000238418579\nDeposit: 0.9200000166893005\nDate: 0.9900000095367432\n14: 0.6399999856948853\nml: 0.5400000214576721\n19: 0.550000011920929\nB: 0.9900000095367432\n.: 0.9900000095367432\nPersonal: 0.9900000095367432\nInformation: 0.9900000095367432\n:: 0.9900000095367432\nUse: 0.9399999976158142\nCAPITAL: 0.9900000095367432\nletters: 0.9900000095367432\nand: 0.9900000095367432\nleave: 0.9900000095367432\nspaces: 0.9900000095367432\nbetween: 0.9900000095367432\nwords: 0.9900000095367432\n.: 0.9900000095367432\nName: 0.9900000095367432\n:: 0.9800000190734863\nMUHAMMAD: 0.9599999785423279\nHANIF: 0.9399999976158142\nTIID: 0.46000000834465027\nFather: 0.9900000095367432\n': 0.9800000190734863\n</code></pre>\n<p>which doesn't solve the problem.</p>\n<p>What can I try next?</p>\n"}, {"tags": ["python", "python-3.x", "macos", "pip", "autopep8"], "answers": [{"tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": true, "score": 0, "last_activity_date": 1561591568, "creation_date": 1561591568, "answer_id": 56782106, "question_id": 56782011, "link": "https://stackoverflow.com/questions/56782011/how-do-you-install-autopep8-into-python-3x-on-a-mac/56782106#56782106", "title": "How do you install autopep8 into python 3x on a Mac?", "body": "<pre><code>python3 -m pip install autopep8\n</code></pre>\n\n<p>Works on High Sierra with Python3 official installer, post-install script <code>Install Certificates.command</code> should be run afterward.</p>\n"}], "owner": {"reputation": 9, "user_id": 7180206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ApMAN.jpg?s=128&g=1", "display_name": "JDeLeon", "link": "https://stackoverflow.com/users/7180206/jdeleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 56782106, "answer_count": 1, "score": 0, "last_activity_date": 1561591568, "creation_date": 1561590688, "question_id": 56782011, "link": "https://stackoverflow.com/questions/56782011/how-do-you-install-autopep8-into-python-3x-on-a-mac", "title": "How do you install autopep8 into python 3x on a Mac?", "body": "<p>I have a Mac and have installed the latest version of Python 3.x, and I downloaded/installed autopep8, but it got installed into the Python 2 directory.  I need autopep8 to be installed on the Python 3 directory. Can that be done?</p>\n\n<p>$ pip install autopep8\n$ autopep8 in ./Library/Python/2.7/lib/python/site-packages (1.4.4)</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4256, "user_id": 5386938, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H3KU09vCXj4/AAAAAAAAAAI/AAAAAAAAAQI/P8vlqd0SX5s/photo.jpg?sz=128", "display_name": "Justin Ezequiel", "link": "https://stackoverflow.com/users/5386938/justin-ezequiel"}, "edited": false, "score": 2, "creation_date": 1561591277, "post_id": 56782008, "comment_id": 100118979, "body": "Can you negate the index when you populate the queue, i.e., <code>q.put((-2, &#39;code&#39;))</code>"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "reply_to_user": {"reputation": 4256, "user_id": 5386938, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H3KU09vCXj4/AAAAAAAAAAI/AAAAAAAAAQI/P8vlqd0SX5s/photo.jpg?sz=128", "display_name": "Justin Ezequiel", "link": "https://stackoverflow.com/users/5386938/justin-ezequiel"}, "edited": false, "score": 0, "creation_date": 1561591469, "post_id": 56782008, "comment_id": 100119012, "body": "@JustinEzequiel if you&#39;re going to change those values, you might as well change them to be the order you want"}, {"owner": {"reputation": 4256, "user_id": 5386938, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H3KU09vCXj4/AAAAAAAAAAI/AAAAAAAAAQI/P8vlqd0SX5s/photo.jpg?sz=128", "display_name": "Justin Ezequiel", "link": "https://stackoverflow.com/users/5386938/justin-ezequiel"}, "edited": false, "score": 0, "creation_date": 1561592074, "post_id": 56782008, "comment_id": 100119136, "body": "sure but what if he has a lot of items? multiplying with -1 is less error-prone."}], "answers": [{"comments": [{"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1561593733, "post_id": 56782072, "comment_id": 100119430, "body": "If the sorted order (ie rank of each item) can trivially be derived from the &quot;priority&quot;, you don&#39;t need a PriorityQueue, you can just use a list. eg, <code>lst[rank(item)] = item; for next_item in lst: pass</code>. This problem only becomes interesting if you need to sort based on priority, but the sorted order cannot be trivially derived."}], "tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 0, "last_activity_date": 1561591673, "last_edit_date": 1561591673, "creation_date": 1561591233, "answer_id": 56782072, "question_id": 56782008, "link": "https://stackoverflow.com/questions/56782008/python-priority-queue-pops-in-descending-order/56782072#56782072", "title": "Python priority queue pops in descending order", "body": "<p>The <code>PriorityQueue</code> API let's you define the order. </p>\n\n<p>If you want those strings in the opposite order, just reverse the <code>int</code> values in the tuples:</p>\n\n<pre><code>from queue import PriorityQueue\n\nq = PriorityQueue()\n\nq.put((2, 'code'))\nq.put((3, 'eat'))\nq.put((1, 'sleep'))\n\nwhile not q.empty():\n    next_item = q.get()\n    print(next_item)\n\n#(1, 'sleep')\n#(2, 'code')\n#(3, 'eat')\n</code></pre>\n\n<p>There is no way to invert the behavior of the <code>PriorityQueue</code> and python's (non-threadsafe) <code>heapq</code> uses the same ordering. But I see your point, the real name should probably be \"<code>MinPriorityQueue</code>\" since <code>1</code> is always first in this structure.</p>\n"}, {"comments": [{"owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "reply_to_user": {"reputation": 206, "user_id": 10879350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f421e3656a00dd54ea54f08fb0678ec2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Blankenhorn", "link": "https://stackoverflow.com/users/10879350/thomas-blankenhorn"}, "edited": false, "score": 0, "creation_date": 1561592596, "post_id": 56782135, "comment_id": 100119241, "body": "yes you can put as a simple way i use this methode @ThomasBlankenhorn"}, {"owner": {"reputation": 206, "user_id": 10879350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f421e3656a00dd54ea54f08fb0678ec2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Blankenhorn", "link": "https://stackoverflow.com/users/10879350/thomas-blankenhorn"}, "edited": false, "score": 0, "creation_date": 1561595079, "post_id": 56782135, "comment_id": 100119656, "body": "Yep. Same idea. Your implementation  has the virtue of being simpler, but mine is more general because the original numbers at the beginning might be part of the actual data and you might not want to mess with them. Whatever works. @Ghassen"}], "tags": [], "owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "is_accepted": true, "score": 3, "last_activity_date": 1561591862, "creation_date": 1561591862, "answer_id": 56782135, "question_id": 56782008, "link": "https://stackoverflow.com/questions/56782008/python-priority-queue-pops-in-descending-order/56782135#56782135", "title": "Python priority queue pops in descending order", "body": "<p>you can use this method as a trick multiply by -1 to inverse the order  :</p>\n\n<pre><code>q = PriorityQueue()\n\nq.put((2*(-1), 'code'))\nq.put((1*(-1), 'eat'))\nq.put((3*(-1), 'sleep'))\nwhile not q.empty():\n    next_item = q.get()\n    print(next_item)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>(-3, 'sleep')\n(-2, 'code')\n(-1, 'eat')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 206, "user_id": 10879350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f421e3656a00dd54ea54f08fb0678ec2?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Blankenhorn", "link": "https://stackoverflow.com/users/10879350/thomas-blankenhorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1561595490, "last_edit_date": 1561595490, "creation_date": 1561593619, "answer_id": 56782326, "question_id": 56782008, "link": "https://stackoverflow.com/questions/56782008/python-priority-queue-pops-in-descending-order/56782326#56782326", "title": "Python priority queue pops in descending order", "body": "<p>There is no way to change the behavior of the queue class. I would decorate the items before queuing them, and un-decorate them after retrieving them, something like this:</p>\n\n<pre><code>def decorated(item):\n    return (-item[0],) + item\n\ndef undecorated(item):\n    return item[1:]\n</code></pre>\n\n<p>That gives you items that will queue up in the right order:</p>\n\n<pre><code>&gt;&gt;&gt; decorated(1, 'eat')\n(-1, 1, 'eat')\n&gt;&gt;&gt; undecorated(-1, 1, 'eat')\n(1, 'eat')\n</code></pre>\n\n<p>That way you can say <code>q.put(decorated(item))</code> instead of <code>q.put(item)</code>. Analogously, you retrieve the item by saying  <code>undecorated(q.get())</code> instead of <code>q.get()</code>. After this, the rest of your code keeps working as it did before.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1137, "favorite_count": 0, "accepted_answer_id": 56782135, "answer_count": 3, "score": 0, "last_activity_date": 1561595490, "creation_date": 1561590660, "question_id": 56782008, "link": "https://stackoverflow.com/questions/56782008/python-priority-queue-pops-in-descending-order", "title": "Python priority queue pops in descending order", "body": "<pre><code>from queue import PriorityQueue\n\nq = PriorityQueue()\n\nq.put((2, 'code'))\nq.put((1, 'eat'))\nq.put((3, 'sleep'))\n\nwhile not q.empty():\n    next_item = q.get()\n    print(next_item)\n\n# Result:\n#   (1, 'eat')\n#   (2, 'code')\n#   (3, 'sleep')\n</code></pre>\n\n<p>What can i do so that it will pop in a reverse order? ie descending</p>\n"}, {"tags": ["python", "python-requests", "urllib3"], "answers": [{"tags": [], "owner": {"reputation": 899, "user_id": 6231079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2KAgM.png?s=128&g=1", "display_name": "Safvan CK", "link": "https://stackoverflow.com/users/6231079/safvan-ck"}, "is_accepted": false, "score": 1, "last_activity_date": 1610556299, "creation_date": 1610556299, "answer_id": 65706222, "question_id": 56781990, "link": "https://stackoverflow.com/questions/56781990/disable-headerparsingerror-appearing-from-python3-urllib3/65706222#65706222", "title": "Disable HeaderParsingError appearing from python3 urllib3", "body": "<hr />\n<hr />\n<h2>Suppress logs using standard python library '<em>logging</em>'</h2>\n<hr />\n<p>Place this code on the top of your existing code to ignore logs from <em>urllib3</em> package</p>\n<pre><code>import logging\nurllib3_logger = logging.getLogger('urllib3')\nurllib3_logger.setLevel(logging.CRITICAL)\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1610556299, "creation_date": 1561590530, "question_id": 56781990, "link": "https://stackoverflow.com/questions/56781990/disable-headerparsingerror-appearing-from-python3-urllib3", "title": "Disable HeaderParsingError appearing from python3 urllib3", "body": "<p>how can I suppress the <strong>Failed to parse headers error</strong> that appears from the urllib3 library?</p>\n\n<p>The following errors keep appearing:</p>\n\n<pre><code>Failed to parse headers (url=https://test): [StartBoundaryNotFoundDefect(), MultipartInvariantViolationDefect()], unparsed data: ''\nTraceback (most recent call last):\n  File \"/opt/test_project/.venv/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 399, in _make_request\n    assert_header_parsing(httplib_response.msg)\n  File \"/opt/test_project/.venv/lib/python3.5/site-packages/urllib3/util/response.py\", line 66, in assert_header_parsing\n    raise HeaderParsingError(defects=defects, unparsed_data=unparsed_data)\nurllib3.exceptions.HeaderParsingError: [StartBoundaryNotFoundDefect(), MultipartInvariantViolationDefect()], unparsed data: ''\n</code></pre>\n\n<p>I have tried to suppress it using </p>\n\n<pre><code>import urllib3\n# Disable SSL warnings\nurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)\n# Disbale urllib3.exceptions.HeaderParsingError:\nurllib3.disable_warnings(urllib3.exceptions.HeaderParsingError)\n\n</code></pre>\n\n<p>but seems like it's not working as it is still appearing.</p>\n\n<p>There are some solutions online but that is suppressing via the logs. I am looking for a method to suppress it not from the log level.</p>\n\n<p>AFAIK, this is just the warning from urllib3 and it's been reported as a bug. Therefore, is there any way I can suppress this?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 692, "user_id": 9717092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztp0D.jpg?s=128&g=1", "display_name": "Ghassen", "link": "https://stackoverflow.com/users/9717092/ghassen"}, "edited": false, "score": 1, "creation_date": 1561591022, "post_id": 56781986, "comment_id": 100118930, "body": "you can improve your code by adding a try catch block to raise an exeption when the input is not an integer      try:         number=int(input(&quot;Please enter an integer between 0 and 127: &quot;))     except Exception as e:         print(&quot;try to print an integer&quot;)"}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1561591250, "post_id": 56781986, "comment_id": 100118972, "body": "Note that there is no need for three &quot;cases&quot;. after checking <code>number&gt;127 or number&lt;0</code>, the only other option is the right one"}], "answers": [{"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": true, "score": 4, "last_activity_date": 1561590656, "creation_date": 1561590656, "answer_id": 56782007, "question_id": 56781986, "link": "https://stackoverflow.com/questions/56781986/can-i-get-my-code-to-replay-after-a-specific-input/56782007#56782007", "title": "Can I get my code to replay after a specific input?", "body": "<p>You're close. You need to call <code>main</code> in your python file to actually execute it the first time when your script is run</p>\n\n<pre><code>def main():\n    number=int(input(\"Please enter an integer between 0 and 127: \"))\n    if number&gt;127 or number&lt;0 :\n        print(\"I'm sorry, that is not an acceptable value. Please try again\")\n        main()\n    elif number&lt;=127 and number&gt;=0 :\n        print(\"WIP\")\n    else:\n        print(\"I'm sorry, something went wrong. Please try again and be sure to enter an integer between 0 and 127.\")\n        main()\n\nmain()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 11314380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rdJom.jpg?s=128&g=1", "display_name": "Oreganop", "link": "https://stackoverflow.com/users/11314380/oreganop"}, "reply_to_user": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1561667892, "post_id": 56782043, "comment_id": 100150944, "body": "I made this comment within two minutes of them. Simple deduction can probably tell you that I was typing this up at the same time as they were. It&#39;s not like those were hard recommendations to make."}], "tags": [], "owner": {"reputation": 81, "user_id": 11314380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rdJom.jpg?s=128&g=1", "display_name": "Oreganop", "link": "https://stackoverflow.com/users/11314380/oreganop"}, "is_accepted": false, "score": -2, "last_activity_date": 1561590986, "creation_date": 1561590986, "answer_id": 56782043, "question_id": 56781986, "link": "https://stackoverflow.com/questions/56781986/can-i-get-my-code-to-replay-after-a-specific-input/56782043#56782043", "title": "Can I get my code to replay after a specific input?", "body": "<p>Welcome to coding! That's a neat attempt at trying to solve the problem. To get it to work, you need to make sure to call your main function at the bottom of your code (functions will not run unless you tell them to!</p>\n\n<pre><code>def main():\n    number=int(input(\"Please enter an integer between 0 and 127: \"))\n    if number&gt;127 or number&lt;0 :\n        print(\"I'm sorry, that is not an acceptable value. Please try again\")\n        main()\n    elif number&lt;=127 and number&gt;=0 :\n        print(\"WIP\")\n    else:\n        print(\"I'm sorry, something went wrong. Please try again and be sure to enter an integer between 0 and 127.\")\n        main()\n\nmain()\n</code></pre>\n\n<p>While this will work, it might cause issues down the road. I would suggest using a <code>while</code> loop for this:</p>\n\n<pre><code>while True:\n    number=int(input(\"Please enter an integer between 0 and 127: \"))\n    if number&gt;127 or number&lt;0 :\n        print(\"I'm sorry, that is not an acceptable value. Please try again\")\n    elif number&lt;=127 and number&gt;=0 :\n        print(\"WIP\")\n        break;\n    else:\n        print(\"I'm sorry, something went wrong. Please try again and be sure to enter an integer between 0 and 127.\")\n</code></pre>\n\n<p>The <code>while</code> loop will run as the condition you give it is <code>true</code>. You can <code>break</code> out of the loop early by... well, using the <code>break</code> keyword.</p>\n"}], "owner": {"reputation": 3, "user_id": 11705643, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cG7TQEuVAqo/AAAAAAAAAAI/AAAAAAAAAKA/JNoiHyDt0cg/photo.jpg?sz=128", "display_name": "Kylith Pearson", "link": "https://stackoverflow.com/users/11705643/kylith-pearson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 56782007, "answer_count": 2, "score": 0, "last_activity_date": 1561593978, "creation_date": 1561590502, "last_edit_date": 1561593978, "question_id": 56781986, "link": "https://stackoverflow.com/questions/56781986/can-i-get-my-code-to-replay-after-a-specific-input", "title": "Can I get my code to replay after a specific input?", "body": "<p>I'm very new to programming and I'm sorry if this is an easy question. I want the code to replay itself after specific user inputs without having to manually run the code every time. </p>\n\n<p>I've looked through similar questions on here and I see that others have had similar queries but I don't understand the answers given. I've tried the <code>def main()</code> at the beginning and put <code>main()</code> where I want the code to reset, but then the prompt for user input just doesn't show up.</p>\n\n<pre><code>def main():\n    number = int(input(\"Please enter an integer between 0 and 127: \"))\n    if number &gt; 127 or number &lt; 0:\n        print(\"I'm sorry, that is not an acceptable value. Please try again\")\n        main()\n    elif number &lt;= 127 and number &gt;= 0:\n        print(\"WIP\")\n    else:\n        print(\"I'm sorry, something went wrong. Please try again and be sure to enter an integer between 0 and 127.\")\n        main()\n</code></pre>\n"}, {"tags": ["python", "list", "combinations"], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 2, "last_activity_date": 1561590197, "creation_date": 1561590197, "answer_id": 56781945, "question_id": 56781931, "link": "https://stackoverflow.com/questions/56781931/distributing-nested-lists-one-element-at-a-time-each/56781945#56781945", "title": "Distributing nested lists one element at a time each", "body": "<p>You can use <code>itertools.product</code>:</p>\n\n<pre><code>from itertools import product\nraw_list = ['a', ['x', 'xx'], 'b', 'c', ['y', 'yy', 'yyy'], 'd']\nresult = list(map(list, product(*[[i] if not isinstance(i, list) else i for i in raw_list])))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['a', 'x', 'b', 'c', 'y', 'd'], \n ['a', 'x', 'b', 'c', 'yy', 'd'], \n ['a', 'x', 'b', 'c', 'yyy', 'd'], \n ['a', 'xx', 'b', 'c', 'y', 'd'], \n ['a', 'xx', 'b', 'c', 'yy', 'd'], \n ['a', 'xx', 'b', 'c', 'yyy', 'd']]\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 5133074, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-MtsKIMetnSM/AAAAAAAAAAI/AAAAAAAAANQ/mZp0MyqOFuo/photo.jpg?sz=128", "display_name": "Muhamed Al Khalil", "link": "https://stackoverflow.com/users/5133074/muhamed-al-khalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1561592661, "accepted_answer_id": 56781945, "answer_count": 1, "score": 0, "last_activity_date": 1561590197, "creation_date": 1561590075, "question_id": 56781931, "link": "https://stackoverflow.com/questions/56781931/distributing-nested-lists-one-element-at-a-time-each", "closed_reason": "Duplicate", "title": "Distributing nested lists one element at a time each", "body": "<p>Say I have the following list:</p>\n\n<pre><code>raw_list = ['a', ['x', 'xx'], 'b', 'c', ['y', 'yy', 'yyy'], 'd']\n</code></pre>\n\n<p>And I would like to distribute the nested lists inside it so that from them only one element each appears in the combinations while maintaining order:</p>\n\n<pre><code>[['a', 'x', 'b', 'c', 'y', 'd'],\n ['a', 'x', 'b', 'c', 'yy', 'd'],\n ['a', 'x', 'b', 'c', 'yyy', 'd'],\n ['a', 'xx', 'b', 'c', 'y', 'd'],\n ['a', 'xx', 'b', 'c', 'yy', 'd'],\n ['a', 'xx', 'b', 'c', 'yyy', 'd']]\n</code></pre>\n\n<p>I wrote the following code to do that:</p>\n\n<pre><code>from pprint import pprint\nfrom itertools import tee\n\nnested = [(e, raw_list .index(e)) for e in raw_list if len(e) &gt; 1] \n\ndef pairwise(iterable):\n    \"s -&gt; (s0,s1), (s1,s2), (s2, s3), ...\"\n    a, b = tee(iterable)\n    next(b, None)\n    return zip(a, b)\n\ncombinations = []\nraw_copy = raw_list[:]\nfor current, next_ in pairwise(nested):\n    for x in current[0]:\n        for y in next_[0]:\n            raw_copy[current[1]] = x\n            raw_copy[next_[1]] = y\n            combinations.append(raw_copy)\n            raw_copy = raw_list[:]\n\npprint (combinations)\n</code></pre>\n\n<p>It does the job. But I am wondering if there is a more Pythonic function or way to achieve the same?</p>\n"}, {"tags": ["python", "lua"], "comments": [{"owner": {"reputation": 3359, "user_id": 7396148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIsr8.jpg?s=128&g=1", "display_name": "Nifim", "link": "https://stackoverflow.com/users/7396148/nifim"}, "edited": false, "score": 2, "creation_date": 1561590367, "post_id": 56781907, "comment_id": 100118790, "body": "Can you add the code in the image to your post? it helps us test your problem so we can reproduce the error. with just the image we have to reproduce the code from the image which takes more time and you&#39;re not likely to get as much help."}, {"owner": {"reputation": 11, "user_id": 11699811, "user_type": "registered", "profile_image": "https://graph.facebook.com/214572696183941/picture?type=large", "display_name": "Shipali Singh", "link": "https://stackoverflow.com/users/11699811/shipali-singh"}, "reply_to_user": {"reputation": 3359, "user_id": 7396148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yIsr8.jpg?s=128&g=1", "display_name": "Nifim", "link": "https://stackoverflow.com/users/7396148/nifim"}, "edited": false, "score": 0, "creation_date": 1561594956, "post_id": 56781907, "comment_id": 100119638, "body": "Can you check it please"}], "owner": {"reputation": 11, "user_id": 11699811, "user_type": "registered", "profile_image": "https://graph.facebook.com/214572696183941/picture?type=large", "display_name": "Shipali Singh", "link": "https://stackoverflow.com/users/11699811/shipali-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561613067, "creation_date": 1561589902, "last_edit_date": 1561613067, "question_id": 56781907, "link": "https://stackoverflow.com/questions/56781907/modelforward-in-lua-file-showing-segmentation-fault-while-loading-a-model-usi", "title": "model:forward() in lua file showing segmentation fault while loading a model using lua for the first time", "body": "<p>I am a newbie,tying to implement this model <a href=\"https://github.com/MLSpeech/DeepFormants\" rel=\"nofollow noreferrer\">https://github.com/MLSpeech/DeepFormants</a>\nFacing segmentation fault ,after local myPrediction = model:forward(X)  (check the image above)\nAny help will be appreciated</p>\n\n<p><a href=\"https://i.stack.imgur.com/qhJ3E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Here is the formants.py</p>\n\n<p>import extract_features as features\nimport argparse\nfrom helpers.textgrid import *\nfrom helpers.utilities import *\nimport shutil</p>\n\n<p>def predict_from_times(wav_filename, preds_filename, begin, end):\n    tmp_features_filename = tempfile._get_default_tempdir() + \"/\" + next(tempfile._get_candidate_names()) + \".txt\"\n    print (tmp_features_filename)</p>\n\n<pre><code>if begin &gt; 0.0 or end &gt; 0.0:\n    features.create_features(wav_filename, tmp_features_filename, begin, end)\n    easy_call(\"th load_estimation_model.lua \" + tmp_features_filename + ' ' + preds_filename)\nelse:\n    features.create_features(wav_filename, tmp_features_filename)\n    easy_call(\"th load_tracking_model.lua \" + tmp_features_filename + ' ' + preds_filename)\n</code></pre>\n\n<p>and here is the image for the execution of the given command\npython formants.py data/Example.wav data/ExamplePredictions.csv --begin 1.2 --end 1.3\n<a href=\"https://i.stack.imgur.com/jdkHI.png\" rel=\"nofollow noreferrer\">core dumped\noutput 1 and 2 are due to purpose of debugging</a></p>\n"}, {"tags": ["python", "google-cloud-platform", "google-api"], "comments": [{"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561590874, "post_id": 56781897, "comment_id": 100118901, "body": "Which exact API are you using? The documentation for that API should list its endpoints."}], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 11135159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb3b536ae330b4e19e8359824aef583?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel Czuczwara", "link": "https://stackoverflow.com/users/11135159/pawel-czuczwara"}, "is_accepted": true, "score": 0, "last_activity_date": 1561627965, "creation_date": 1561627965, "answer_id": 56788077, "question_id": 56781897, "link": "https://stackoverflow.com/questions/56781897/where-does-apps-like-google-search-ads-360-or-google-analytics-360-actually-stor/56788077#56788077", "title": "Where does apps like google Search ads 360 or google analytics 360 actually store all its data?", "body": "<p>You can test your API request in <a href=\"https://developers.google.com/apis-explorer/\" rel=\"nofollow noreferrer\">Google API explorer</a></p>\n\n<p>If you apply URL whitelisting, whitelist the following URLs:</p>\n\n<ul>\n<li>accounts.google.com </li>\n<li>cloudresourcemanager.googleapis.com</li>\n<li>www.googleapis.com </li>\n<li>iam.googleapis.com </li>\n<li>storage.googleapis.com</li>\n</ul>\n\n<p>For example <a href=\"https://developers.google.com/search-ads/v2/reference/\" rel=\"nofollow noreferrer\">DoubleClick Search API v2</a> request is using URL: <a href=\"https://www.googleapis.com/doubleclicksearch/v2/\" rel=\"nofollow noreferrer\">https://www.googleapis.com/doubleclicksearch/v2/</a>...</p>\n\n<p><a href=\"https://developers.google.com/identity/protocols/OpenIDConnect#sendauthrequest\" rel=\"nofollow noreferrer\">oAuth authentication for API</a> request is using: <a href=\"https://accounts.google.com/\" rel=\"nofollow noreferrer\">https://accounts.google.com/</a>... </p>\n"}], "owner": {"reputation": 45, "user_id": 11331123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f5ac89734b91ddb7957c60db54933ab?s=128&d=identicon&r=PG&f=1", "display_name": "abhi655", "link": "https://stackoverflow.com/users/11331123/abhi655"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 56788077, "answer_count": 1, "score": 0, "last_activity_date": 1561627965, "creation_date": 1561589796, "last_edit_date": 1561590208, "question_id": 56781897, "link": "https://stackoverflow.com/questions/56781897/where-does-apps-like-google-search-ads-360-or-google-analytics-360-actually-stor", "title": "Where does apps like google Search ads 360 or google analytics 360 actually store all its data?", "body": "<p>I am writing google API's in python to request reports from Search Ads 360 or doubleclick. </p>\n\n<p>My requests are not going through. Because My server sits behind a firewall and I need to tell my admin as to what all rules should be relaxed so that I can make these requests.</p>\n\n<p>For this I need to know on what server or domain does google store this data. Is it google.cloud.com ?</p>\n"}, {"tags": ["python", "bash", "count", "line", "wc"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561589955, "post_id": 56781896, "comment_id": 100118696, "body": "With which locale settings? Does running with <code>LC_ALL=C</code> exported modify behavior?"}, {"owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561590081, "post_id": 56781896, "comment_id": 100118723, "body": "Red Hat Enterprise Linux Server, versjon 7.6, fedora"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561590132, "post_id": 56781896, "comment_id": 100118738, "body": "What&#39;s the output of the <code>locale</code> command?"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1561590278, "post_id": 56781896, "comment_id": 100118767, "body": "This throws <code>UnicodeDecodeError</code> for me in Python 3.6"}, {"owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561590317, "post_id": 56781896, "comment_id": 100118778, "body": "@CharlesDuffy, sorry, the output of <code>locale</code> is: LANG=en_US.UTF-8 LC_CTYPE=&quot;en_US.UTF-8&quot; LC_NUMERIC=&quot;en_US.UTF-8&quot; LC_TIME=&quot;en_US.UTF-8&quot; LC_COLLATE=&quot;en_US.UTF-8&quot; LC_MONETARY=&quot;en_US.UTF-8&quot; LC_MESSAGES=&quot;en_US.UTF-8&quot; LC_PAPER=&quot;en_US.UTF-8&quot; LC_NAME=&quot;en_US.UTF-8&quot; LC_ADDRESS=&quot;en_US.UTF-8&quot; LC_TELEPHONE=&quot;en_US.UTF-8&quot; LC_MEASUREMENT=&quot;en_US.UTF-8&quot; LC_IDENTIFICATION=&quot;en_US.UTF-8&quot; LC_ALL="}, {"owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1561590361, "post_id": 56781896, "comment_id": 100118787, "body": "@JacobIRR, yes, upon exporting <code>LC_ALL=C</code>, I get the same error."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561590826, "post_id": 56781896, "comment_id": 100118894, "body": "Have you looked at which of those input datasets the issue happens in? If only a subset of them are correctly-encoded UTF-8, it&#39;d be helpful to treat the faulty one(s) individually rather than needing to transform a dataset with content in different character sets mixed together. (Granted, it&#39;s not yet confirmed that that&#39;s the issue at hand, but it&#39;s a pretty good guess)."}, {"owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561590886, "post_id": 56781896, "comment_id": 100118903, "body": "@CharlesDuffy, looking into it now. Will get back to you shortly."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561591067, "post_id": 56781896, "comment_id": 100118936, "body": "(Making it <code>open(&#39;train_de.txt&#39;, encoding=&#39;utf-8&#39;)</code> will make the Python code less sensitive to <code>LC_CTYPE</code>, but doesn&#39;t do much for the discrepancy)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561591141, "post_id": 56781896, "comment_id": 100118955, "body": "BTW, 4520620 is the correct count of the number of LF characters in the file; Python is presumably realizing that some of those LF characters are part of multi-byte &quot;wide&quot; characters (should the file be parsed as UTF-8), whereas your current locally-installed copy of <code>wc</code> is presumably not multi-byte-aware."}, {"owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1561591252, "post_id": 56781896, "comment_id": 100118974, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195598/discussion-between-vivek-subramanian-and-charles-duffy\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "is_accepted": true, "score": 4, "last_activity_date": 1561592965, "creation_date": 1561592965, "answer_id": 56782245, "question_id": 56781896, "link": "https://stackoverflow.com/questions/56781896/wc-l-and-python-line-count-differ/56782245#56782245", "title": "wc -l and python line count differ", "body": "<p><code>\\n</code>s can be treated as multi-byte characters rather than as an actual <code>\\n</code>. One can avoid this by using bytestring encoding. The commands</p>\n\n<pre><code>print(sum(1 for line in open('train_en.txt', mode='rb')))\nprint(sum(1 for line in open('train_de.txt', mode='rb')))\nlen(open('train_en.txt', mode='rb').read().splitlines())\nlen(open('train_de.txt', mode='rb').read().splitlines())\n</code></pre>\n\n<p>all result in 4520620 (matching the output of <code>wc -l</code>), which means that the English and German corpora are parallel as desired.</p>\n\n<p>Thanks to @CharlesDuffy for the help.</p>\n"}], "owner": {"reputation": 934, "user_id": 424306, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/68cd128462faf8d8739eb37591cddd48?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Subramanian", "link": "https://stackoverflow.com/users/424306/vivek-subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "accepted_answer_id": 56782245, "answer_count": 1, "score": 2, "last_activity_date": 1561592965, "creation_date": 1561589794, "question_id": 56781896, "link": "https://stackoverflow.com/questions/56781896/wc-l-and-python-line-count-differ", "title": "wc -l and python line count differ", "body": "<p>I'm wondering why a simple line count using bash is giving me a different number of lines than that computed using python (version 3.6) for the files given <a href=\"https://www.dropbox.com/s/w4t6re556n97pwy/train_en.txt?dl=0\" rel=\"nofollow noreferrer\">here</a> (<code>train_en.txt</code>) and <a href=\"https://www.dropbox.com/s/xnztryx736972kx/train_de.txt?dl=0\" rel=\"nofollow noreferrer\">here</a> (<code>train_de.txt</code>). In bash, I'm using the command:</p>\n\n<pre><code>wc -l train_en.txt\nwc -l train_de.txt\n</code></pre>\n\n<p>The outputs are 4520620 and 4520620, respectively.</p>\n\n<p>In python, I'm using the commands:</p>\n\n<pre><code>print(sum(1 for line in open('train_en.txt')))\nprint(sum(1 for line in open('train_de.txt')))\n</code></pre>\n\n<p>The outputs are 4521327 and 4521186, respectively.</p>\n\n<p>When I use the python commands</p>\n\n<pre><code>len(open('train_en.txt').read().splitlines())\nlen(open('train_de.txt').read().splitlines())\n</code></pre>\n\n<p>I get 4521334 and 4521186, respectively (for which the <code>train_en.txt</code> results don't match those of the previous python command).</p>\n\n<p>For reference, these are parallel corpora of text produced by concatenating the <a href=\"http://www.statmt.org/wmt13/training-parallel-commoncrawl.tgz\" rel=\"nofollow noreferrer\">Common Crawl</a>, <a href=\"http://www.statmt.org/wmt13/training-parallel-europarl-v7.tgz\" rel=\"nofollow noreferrer\">Europarl</a>, and <a href=\"http://www.statmt.org/wmt14/training-parallel-nc-v9.tgz\" rel=\"nofollow noreferrer\">News Commentary</a> datasets (in that order) from the <a href=\"http://www.statmt.org/wmt14/translation-task.html\" rel=\"nofollow noreferrer\">WMT '14 English to German translation task</a> and should have the same number of lines.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5978, "user_id": 10967204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPFcP.jpg?s=128&g=1", "display_name": "ncica", "link": "https://stackoverflow.com/users/10967204/ncica"}, "edited": false, "score": 0, "creation_date": 1561589781, "post_id": 56781879, "comment_id": 100118661, "body": "Remove this line:x[0][0] = &quot;x&quot;"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1561589868, "post_id": 56781879, "comment_id": 100118677, "body": "I&#39;m assuming your expected output should have an X in the top left? It&#39;s effecting all the first elements because each row is the same list. You need to add new lists/make copies of the list before adding it or else all the rows will be effected at the same time."}, {"owner": {"reputation": 11, "user_id": 11564326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d785ce85c874a4cc0bcb92c09e2d8e27?s=128&d=identicon&r=PG&f=1", "display_name": "rei2001", "link": "https://stackoverflow.com/users/11564326/rei2001"}, "edited": false, "score": 0, "creation_date": 1561590102, "post_id": 56781879, "comment_id": 100118728, "body": "Yeah I expect an X in the top left corner, I try to edit my question but it&#39;s not changing it"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1561590311, "post_id": 56781879, "comment_id": 100118777, "body": "You need to make copies of the list before adding them to <code>grid0</code>. And the reason it wasn&#39;t showing up after the edit was you needed a newline after the backticks."}], "answers": [{"tags": [], "owner": {"reputation": 596, "user_id": 1136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1377d1d81c47a75c2ea993786fe68e53?s=128&d=identicon&r=PG", "display_name": "jacalvo", "link": "https://stackoverflow.com/users/1136142/jacalvo"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590253, "creation_date": 1561590253, "answer_id": 56781952, "question_id": 56781879, "link": "https://stackoverflow.com/questions/56781879/how-to-change-a-element-in-a-list-of-list/56781952#56781952", "title": "How to change a element in a list of list?", "body": "<p>If you want a 5x5 grid full of <code>'0'</code> with <code>'x'</code> in a random position you can just do the following:</p>\n\n<pre><code>from random import randint\n\n\ngrid = [['0' for x in xrange(5)] for y in xrange(5)]\ngrid[randint(0,4)][randint(0,4)] = 'x'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590543, "last_edit_date": 1561590543, "creation_date": 1561590285, "answer_id": 56781955, "question_id": 56781879, "link": "https://stackoverflow.com/questions/56781879/how-to-change-a-element-in-a-list-of-list/56781955#56781955", "title": "How to change a element in a list of list?", "body": "<p>This is the classic python gotchya of multiple references the the same mutable list. You want to create unqiue lists:</p>\n\n<pre><code>from pprint import pprint\n\nx = []\nfor _ in range(5):\n    x.append(['0']*5)\n\nx[0][0] = 'x'\n\npprint(x)\n</code></pre>\n\n<p>Gives the output:</p>\n\n<pre><code>[['x', '0', '0', '0', '0'],\n ['0', '0', '0', '0', '0'],\n ['0', '0', '0', '0', '0'],\n ['0', '0', '0', '0', '0'],\n ['0', '0', '0', '0', '0']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 11678476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f784e39ae3cb0905e1c9334a68a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "Err0neus", "link": "https://stackoverflow.com/users/11678476/err0neus"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590291, "creation_date": 1561590291, "answer_id": 56781957, "question_id": 56781879, "link": "https://stackoverflow.com/questions/56781879/how-to-change-a-element-in-a-list-of-list/56781957#56781957", "title": "How to change a element in a list of list?", "body": "<p>The reason is the way you build the grid. Your list of lists 'x' is a list of 5 references to 'grid0'. When you overwrite the zeroeth element of the zeroeth element of the list 'x' by calling x[0][0]  ='x', you are overriding the zeroeth element of the 'grid0' which represents each element of 'grid1' and therefore of your list 'x'.\nYou will need to find another way to build your grid and look into how to gerate individual instances (e.g. by using copy() )</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 11314380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rdJom.jpg?s=128&g=1", "display_name": "Oreganop", "link": "https://stackoverflow.com/users/11314380/oreganop"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590299, "creation_date": 1561590299, "answer_id": 56781959, "question_id": 56781879, "link": "https://stackoverflow.com/questions/56781879/how-to-change-a-element-in-a-list-of-list/56781959#56781959", "title": "How to change a element in a list of list?", "body": "<p>The problem with your code is that you're appending the same copy of grid0 to your grid1 list. This means that any change that you make to the grid0 in your grid1[0] will effect your grid0[1:4] (because they're all the same grid0).</p>\n\n<p>You can easily fix this by appending a copy of grid0 to grid1 instead:</p>\n\n<pre><code>    while b &lt; 5:\n        grid1.append(grid0.copy())\n        b += 1\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11564326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d785ce85c874a4cc0bcb92c09e2d8e27?s=128&d=identicon&r=PG&f=1", "display_name": "rei2001", "link": "https://stackoverflow.com/users/11564326/rei2001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1561593084, "answer_count": 4, "score": -1, "last_activity_date": 1561590543, "creation_date": 1561589655, "last_edit_date": 1561590256, "question_id": 56781879, "link": "https://stackoverflow.com/questions/56781879/how-to-change-a-element-in-a-list-of-list", "closed_reason": "Duplicate", "title": "How to change a element in a list of list?", "body": "<p>I'm trying to make a 5x5 grid in which the player is placed in a random spot.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def board():\n    grid0 = []\n    grid1 = []\n    a = 0\n    b = 0\n    while a &lt; 5:\n        grid0.append(\"0\")\n        a += 1\n    while b &lt; 5:\n        grid1.append(grid0)\n        b += 1\n    x = list(grid1)\n    x[0][0] = \"x\"\n    for row in grid1:\n        print(row)\n</code></pre>\n\n<p>I expect the outcome to look like this:</p>\n\n<pre><code>['X', '0', '0', '0', '0']\n['0', '0', '0', '0', '0']\n['0', '0', '0', '0', '0']\n['0', '0', '0', '0', '0']\n['0', '0', '0', '0', '0']\n</code></pre>\n\n<p>But instead I get this:</p>\n\n<pre><code>['x', '0', '0', '0', '0']\n['x', '0', '0', '0', '0']\n['x', '0', '0', '0', '0']\n['x', '0', '0', '0', '0']\n</code></pre>\n"}, {"tags": ["python", "json", "list", "loops", "dictionary"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1561589517, "post_id": 56781824, "comment_id": 100118595, "body": "There are multiple syntax errors in your data and code. Please post code that you&#39;ve actually tested."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1561589626, "post_id": 56781824, "comment_id": 100118623, "body": "Anyway, assuming reasonable fixes to your post, <code>result_list</code> is a list of lists containing the values in each dictionaries. A list doesn&#39;t have an <code>items</code> method. Just remove <code>.items()</code> if you want to iterate it."}, {"owner": {"reputation": 335, "user_id": 11639518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHyIi.jpg?s=128&g=1", "display_name": "jhelphenstine", "link": "https://stackoverflow.com/users/11639518/jhelphenstine"}, "edited": false, "score": 0, "creation_date": 1561590211, "post_id": 56781824, "comment_id": 100118752, "body": "Your &#39;c&#39; elements in the dictionary aren&#39;t separated by <code>:</code>; do you have the code you&#39;ve been using?"}, {"owner": {"reputation": 3, "user_id": 11140225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac6e7a9caebdad22833d2467ff61feb?s=128&d=identicon&r=PG&f=1", "display_name": "sergei_22", "link": "https://stackoverflow.com/users/11140225/sergei-22"}, "edited": false, "score": 0, "creation_date": 1561590536, "post_id": 56781824, "comment_id": 100118821, "body": "Thanks! Yes, some errors, I made corrections, but the used data and code are  almost exact copies of the original. The code is 1-on-1."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1561590859, "post_id": 56781824, "comment_id": 100118898, "body": "So, do you understand what the error messages mean? Because they&#39;re pretty clear if you know some python vocabulary. If not, what don&#39;t you understand?"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1561591085, "post_id": 56781824, "comment_id": 100118941, "body": "&quot;I want to loop through this per dictionary, and for each key-value pair&quot; This suggests that you need a nested loop."}, {"owner": {"reputation": 3, "user_id": 11140225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac6e7a9caebdad22833d2467ff61feb?s=128&d=identicon&r=PG&f=1", "display_name": "sergei_22", "link": "https://stackoverflow.com/users/11140225/sergei-22"}, "edited": false, "score": 0, "creation_date": 1561595741, "post_id": 56781824, "comment_id": 100119759, "body": "Thank you. Also to Blorgbeard. I understand most terminology but not their entire implications."}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 11639518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHyIi.jpg?s=128&g=1", "display_name": "jhelphenstine", "link": "https://stackoverflow.com/users/11639518/jhelphenstine"}, "is_accepted": false, "score": 1, "last_activity_date": 1561591266, "last_edit_date": 1561591266, "creation_date": 1561590700, "answer_id": 56782014, "question_id": 56781824, "link": "https://stackoverflow.com/questions/56781824/within-a-list-of-dicts-processing-all-key-value-pairs-per-iteration/56782014#56782014", "title": "Within a list of dicts, processing all key-value pairs per iteration", "body": "<p>The first part of your problem is in your enumerate call:</p>\n\n<pre><code>    for k, v in enumerate(result_list): # take off the .items())\n        # process each key-value pair\n</code></pre>\n\n<p>You don't invoke .items() on the result_list; enumerate consumes it as a list.</p>\n\n<p>Answering the second of your problems:</p>\n\n<pre><code>import json\n\nwith open(\"file.json\", \"r\") as read_file:\ndata = json.load(read_file)\n\nfor i in data:\n    print(i, data[i])\n</code></pre>\n\n<p>Assuming that json is a list of dictionaries like you've been using, you'll need to:</p>\n\n<pre><code>for item in data:\n    for key in item:\n        print(key, item[key])\n</code></pre>\n\n<p>to account for double-dereferencing.</p>\n"}, {"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1561591401, "post_id": 56782069, "comment_id": 100118997, "body": "From what I can tell, the input is a JSON array of objects, not a file with one object per line."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1561591447, "post_id": 56782069, "comment_id": 100119006, "body": "Yes, I realized that, fixing"}], "tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": false, "score": 0, "last_activity_date": 1561592143, "last_edit_date": 1561592143, "creation_date": 1561591216, "answer_id": 56782069, "question_id": 56781824, "link": "https://stackoverflow.com/questions/56781824/within-a-list-of-dicts-processing-all-key-value-pairs-per-iteration/56782069#56782069", "title": "Within a list of dicts, processing all key-value pairs per iteration", "body": "<p>You should be able to load the entire list without rebuilding it just using <code>json.load</code>, then iterate over it and the dicts </p>\n\n<pre><code>import json\n\nwith open(\"file.json\", \"r\") as read_file:\n    data = json.load(read_file)\n\nfor d in data:\n    for i, (k, v) in enumerate(d.items()):\n        print(i, k, v)\n</code></pre>\n\n<p>That said I suggest you save the file as a normal JSON file as it seems the first key/value in each dict is supposed to be an <code>ID</code> field so it should look as follows:</p>\n\n<pre><code>{  \n    \"0\": {\n        \"a\":\"3893\",\n        \"b\":\"2389\",\n        \"c\":\"1209\"\n    },\n    \"1\": {\n        \"a\":\"4308\",\n        \"b\":\"4560\",\n        \"c\":\"9127\"\n    }\n}\n</code></pre>\n\n<p>Which you can do using a dict comprehension:</p>\n\n<pre><code>with open(\"file.json\", 'w') as out_file:\n    json.dump({d.pop(\"\"): d for d in data}, out_file, indent=4)\n</code></pre>\n\n<p>Then all you'd need to do is simply iterate over the dicts:</p>\n\n<pre><code>with open(\"file.json\", \"r\") as read_file:\n    data = json.load(read_file)\n\n    for _id, item in data.items():\n        for k, v in item.items():\n            print(_id, k, v)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11140225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac6e7a9caebdad22833d2467ff61feb?s=128&d=identicon&r=PG&f=1", "display_name": "sergei_22", "link": "https://stackoverflow.com/users/11140225/sergei-22"}, "edited": false, "score": 0, "creation_date": 1561595624, "post_id": 56782076, "comment_id": 100119744, "body": "Thank you, this actually worked perfectly and was exactly what I tried to do. Many thanks!"}], "tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": true, "score": 0, "last_activity_date": 1561591319, "creation_date": 1561591319, "answer_id": 56782076, "question_id": 56781824, "link": "https://stackoverflow.com/questions/56781824/within-a-list-of-dicts-processing-all-key-value-pairs-per-iteration/56782076#56782076", "title": "Within a list of dicts, processing all key-value pairs per iteration", "body": "<pre><code>    result_list = []\n    for d in data:\n        result_list.append([v for k,v in d.items()])\n</code></pre>\n\n<p>This creates a list of lists. Note that when you do this, you are throwing away the keys in your dictionaries. This probably isn't what you want.</p>\n\n<pre><code>    for k, v in enumerate(result_list.items()): \n        # process each key-value pair\n</code></pre>\n\n<p>You get an error here because <code>result_list</code> is a list, not a dictionary. Lists do not have a method named <code>items()</code>.</p>\n\n<p>I suggest instead that you iterate over <code>data</code> directly. There is no need for <code>result_list</code>:</p>\n\n<pre><code>for d in data:\n    for k, v in d.items():\n        # process each key-value pair\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11140225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac6e7a9caebdad22833d2467ff61feb?s=128&d=identicon&r=PG&f=1", "display_name": "sergei_22", "link": "https://stackoverflow.com/users/11140225/sergei-22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56782076, "answer_count": 3, "score": 0, "last_activity_date": 1561592143, "creation_date": 1561589165, "last_edit_date": 1561590471, "question_id": 56781824, "link": "https://stackoverflow.com/questions/56781824/within-a-list-of-dicts-processing-all-key-value-pairs-per-iteration", "title": "Within a list of dicts, processing all key-value pairs per iteration", "body": "<p>Having troubles parsing a list of dictionaries, accessing all key-value pairs per dictionary, through a loop in order to process each k-v at a time.</p>\n\n<p>I have a json file that consists of a list of dictionaries.\nIn simplified form:</p>\n\n<pre><code>[\n{\"\": \"0\", \"a\": \"3893\", \"b\": \"2389\", \"c\": \"1209\"}, \n{\"\": \"1\", \"a\": \"4308\", \"b\": \"4560\", \"c\": \"9127\"},\n... \n] \n</code></pre>\n\n<p>I want to loop through this per dictionary, and for each key-value pair (excluding the first one, assuming it will be skipped because the key is empty) per iteration, having access to the a,b,c k-v pairs of one dict, so that they are individually processed.</p>\n\n<p>I tried:</p>\n\n<pre><code>import json\n\nwith open(\"file.json\", \"r\") as read_file:\n    data = json.load(read_file)\n\n    result_list = []\n    for d in data:\n        result_list.append([v for k,v in d.items()])\n\n    for k, v in enumerate(result_list.items()): \n        # process each key-value pair\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"somescript.py\", line 28, in &lt;module&gt;\n    for k, v in enumerate(result_list.items()): \nAttributeError: 'list' object has no attribute 'items'\n</code></pre>\n\n<p>Meanwhile I tried:</p>\n\n<pre><code>import json\n\nwith open(\"file.json\", \"r\") as read_file:\ndata = json.load(read_file)\n\nfor i in data:\n    print(i, data[i])\n</code></pre>\n\n<p>And get: </p>\n\n<pre><code>  Traceback (most recent call last):\n  File \"somescript.py\", line 26, in &lt;module&gt;\n    print(i, dat[i])\nTypeError: list indices must be integers or slices, not dict\n</code></pre>\n\n<p>The code is faulty, I don't yet know how to achieve the above, it may be simple but I haven't found it yet. </p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 5978, "user_id": 10967204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPFcP.jpg?s=128&g=1", "display_name": "ncica", "link": "https://stackoverflow.com/users/10967204/ncica"}, "is_accepted": true, "score": 1, "last_activity_date": 1561589165, "creation_date": 1561589165, "answer_id": 56781825, "question_id": 56781783, "link": "https://stackoverflow.com/questions/56781783/python-fast-way-to-translate-a-list-of-a-frequency-map/56781825#56781825", "title": "python: fast way to translate a list of a frequency map", "body": "<p>In Python 2.7 (or newer), you can use collections.Counter</p>\n\n<p>collections.Counter() </p>\n\n<p>A counter is a container that stores elements as dictionary keys, and their counts are stored as dictionary values.</p>\n\n<pre><code>import collections\na = [1,1,1,1,2,2,2,2,3,3,4,5,5]\ncounter=collections.Counter(a)\nprint(counter)\n# Counter({1: 4, 2: 4, 3: 2, 5: 2, 4: 1})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "is_accepted": false, "score": 1, "last_activity_date": 1561589217, "creation_date": 1561589217, "answer_id": 56781830, "question_id": 56781783, "link": "https://stackoverflow.com/questions/56781783/python-fast-way-to-translate-a-list-of-a-frequency-map/56781830#56781830", "title": "python: fast way to translate a list of a frequency map", "body": "<pre><code>from collections import Counter\n\nprint(Counter([\"A\",\"A\",\"A\",\"B\",\"B\",\"B\"]))\n</code></pre>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1561589517, "accepted_answer_id": 56781825, "answer_count": 2, "score": 0, "last_activity_date": 1561589217, "creation_date": 1561588880, "question_id": 56781783, "link": "https://stackoverflow.com/questions/56781783/python-fast-way-to-translate-a-list-of-a-frequency-map", "closed_reason": "Duplicate", "title": "python: fast way to translate a list of a frequency map", "body": "<p>a list of [\"A\",\"A\",\"A\",\"B\",\"B\",\"B\"]</p>\n\n<p>to dictionary of\n{'A': 3,\n 'B': 3}</p>\n\n<p>I've done something like below but i feel like there is a faster/shorter way of doing it?</p>\n\n<pre><code>frequencyMap = dict()\nletters = [\"A\",\"A\",\"A\",\"B\",\"B\",\"B\"]\n\nfor letter in letters:\n    if letter not in frequencyMap:\n        frequencyMap[letter] = 0\n    frequencyMap[letter] += 1\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1214, "user_id": 4309985, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d9a46a23b2bc57d11cf9c3adda670dea?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Fan", "link": "https://stackoverflow.com/users/4309985/andrew-fan"}, "edited": false, "score": 1, "creation_date": 1561588812, "post_id": 56781761, "comment_id": 100118419, "body": "I assume <code>sp</code> is SciPy?"}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 1214, "user_id": 4309985, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d9a46a23b2bc57d11cf9c3adda670dea?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Fan", "link": "https://stackoverflow.com/users/4309985/andrew-fan"}, "edited": false, "score": 0, "creation_date": 1561588857, "post_id": 56781761, "comment_id": 100118434, "body": "@AndrewFan 99% sure it&#39;s <a href=\"https://www.sympy.org/en/index.html\" rel=\"nofollow noreferrer\">SymPy</a> which means OP, you&#39;re passing Eq objects <code>(E1, E2, E3, E4)</code> to <code>scipy.optimize.fsolve</code> which only accepts floats, not <code>sp.Eq</code> -- that&#39;s your error."}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561589079, "post_id": 56781761, "comment_id": 100118482, "body": "Usually caused by <a href=\"https://stackoverflow.com/questions/18184541/scipy-curve-fit-error-result-from-function-call-is-not-a-proper-array-of-floats\">your numpy objects being something else than floats</a>."}], "answers": [{"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1561589539, "creation_date": 1561589539, "answer_id": 56781865, "question_id": 56781761, "link": "https://stackoverflow.com/questions/56781761/simultaneous-equation-solver-4-equations-4-unknowns/56781865#56781865", "title": "Simultaneous equation solver, 4 equations 4 unknowns", "body": "<p>I'm not sure why you would expect <code>sympy</code> objects to interact with <code>scipy</code> solvers, they are completely different libraries. The former is symbolic objects and the latter is numerical analysis.</p>\n\n<p>The solution is to simply change the following lines to:</p>\n\n<pre><code>E1 = (GPb_fcc_l + R * t * np.log((1-XSnl)/(1-XSnfcc)) + L0_l * (XSnl**2) - L0_fcc * (XSnfcc**2))\nE2 = (GPb_fcc_bct + R * t * np.log((1-XSnbct)/(1-XSnfcc)) + L0_bct * (XSnbct**2) - L0_fcc * (XSnfcc**2))\nE3 = (GSn_fcc_l + R * t * np.log(XSnl/XSnfcc) + L0_l * ((1-XSnl)**2) - L0_fcc * ((1-XSnfcc)**2))\nE4 = (GSn_bct_l + R * t * np.log(XSnl/XSnbct) + L0_l * ((1-XSnl)**2) - L0_bct * ((1-XSnbct)**2))\nreturn (E1, E2, E3, E4)\n</code></pre>\n\n<p>Now this results in a <code>RuntimeWarning: invalid value encountered in long_scalars</code> and a <code>RuntimeWarning: divide by zero encountered in double_scalars</code> and finally a <code>RuntimeWarning: The iteration is not making good progress, as measured by the improvement from the last ten iterations.</code> but that's an algorithmic error which you will have to figure out on your own.</p>\n\n<p>(It's almost certainly bad starting conditions since there is a <code>XSnl/XSnfcc == 0/0</code> term on the first iteration)</p>\n\n<p>Finding numerical solutions to equations if often more an art than a science.</p>\n"}], "owner": {"reputation": 11, "user_id": 11700052, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-noU9902dboA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMjJVk4WTV1nYY8uUN7zhpvxJ6Dg/photo.jpg?sz=128", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/11700052/matt-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561589539, "creation_date": 1561588733, "last_edit_date": 1561588824, "question_id": 56781761, "link": "https://stackoverflow.com/questions/56781761/simultaneous-equation-solver-4-equations-4-unknowns", "title": "Simultaneous equation solver, 4 equations 4 unknowns", "body": "<p>Trying to solve a system of 4 equations and 4 unknowns. Keep getting errors for \"result from function call is not a proper array of floats\". I am new to python so I think the issue is in my def of the equations.</p>\n\n<p>I have tried fsolve, sympy.solve, and with and without a definition.</p>\n\n<pre><code>L0_fcc = 5200\nL0_bct = 12000\nL0_l = 4700\nR = 8.3144\n\ndef equations(p):\n        t, XSnl, XSnfcc, XSnbct = p\n\n        GPb_fcc_bct = 489 + 3.52 * t\n        GPb_fcc_l = 4810 - 8.017 * t\n\n        GSn_bct_fcc = 5510 - 8.46 * t\n        GSn_bct_l = 7179 - 14.216 * t\n        GSn_fcc_l = 1661 - 5.756 * t\n\n        E1 = sp.Eq(GPb_fcc_l + R * t * sp.log((1-XSnl)/(1-XSnfcc)) + L0_l * (XSnl**2) - L0_fcc * (XSnfcc**2))\n        E2 = sp.Eq(GPb_fcc_bct + R * t * sp.log((1-XSnbct)/(1-XSnfcc)) + L0_bct * (XSnbct**2) - L0_fcc * (XSnfcc**2))\n        E3 = sp.Eq(GSn_fcc_l + R * t * sp.log(XSnl/XSnfcc) + L0_l * ((1-XSnl)**2) - L0_fcc * ((1-XSnfcc)**2))\n        E4 = sp.Eq(GSn_bct_l + R * t * sp.log(XSnl/XSnbct) + L0_l * ((1-XSnl)**2) - L0_bct * ((1-XSnbct)**2))\n        return (E1, E2, E3, E4)\n\n\nx0 = [300, 0, 0, 0]\nt, XSnl, XSnfcc, XSnbct = fsolve(equations, x0)\nprint(t, XSnl, XSnfcc, XSnbct)`\n</code></pre>\n\n<p>It should come out with 4 values, 3 of which should be between 0 and 1. I am getting the \"Result from function call is not a proper array of floats\"</p>\n"}, {"tags": ["python", "jupyter-notebook"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 9734668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ds9Za.png?s=128&g=1", "display_name": "Martin Renou", "link": "https://stackoverflow.com/users/9734668/martin-renou"}, "is_accepted": false, "score": 0, "last_activity_date": 1561622979, "creation_date": 1561622979, "answer_id": 56786674, "question_id": 56781740, "link": "https://stackoverflow.com/questions/56781740/using-ipyleaflet-in-jupyter-notebook-map-object-displays-string-of-text-instead/56786674#56786674", "title": "Using ipyleaflet in jupyter notebook, map object displays string of text instead of map", "body": "<p>I am not entirely sure Python 2.7 is supported anymore, is it a strong requirement for you? If not, I suggest updating to Python 3.7. Python 2.7 will not be maintained anymore by the end of the year: <a href=\"https://pythonclock.org/\" rel=\"nofollow noreferrer\">https://pythonclock.org/</a></p>\n"}], "owner": {"reputation": 19, "user_id": 11705556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba04581205b28e02195da93a90daa74?s=128&d=identicon&r=PG&f=1", "display_name": "user11705556", "link": "https://stackoverflow.com/users/11705556/user11705556"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 707, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561622979, "creation_date": 1561588504, "last_edit_date": 1561588616, "question_id": 56781740, "link": "https://stackoverflow.com/questions/56781740/using-ipyleaflet-in-jupyter-notebook-map-object-displays-string-of-text-instead", "title": "Using ipyleaflet in jupyter notebook, map object displays string of text instead of map", "body": "<p>Ipyleaflet map not displaying in Jupyter: I'm trying to display interactive maps using ipyleaflet in a jupyter notebook but am getting a string of \"random\" text output instead of the map. </p>\n\n<p>I have ipyleaflet v0.10.8 and jupyter notebook v5.7.8. These packages import cleanly. Using Python 2.7.</p>\n\n<p>I have also enabled the ipyleaflet extension through the command line as per the ipyleaflet install documentation even though it wasn't required as I thought this might be the problem:</p>\n\n<p>jupyter nbextension enable --py --sys-prefix ipyleaflet  # can be skipped for notebook 5.3 and above</p>\n\n<p>I have also tried enabling the following extensions directly in the notebook:</p>\n\n<pre><code>!jupyter nbextension enable --py widgetsnbextension --sys-prefix  \n!jupyter nbextension enable --py --sys-prefix ipyleaflet\n</code></pre>\n\n<p>Jupyter reports that the validation of these two extensions are ok, but I'm still not getting a map to show up, instead the map object is displayed as a line of text. Here's a rundown:</p>\n\n<pre><code>#basic map to be displayed in jupyter \nfrom ipyleaflet import *\nimport ipyleaflet\nprint ipyleaflet.__version__\nm = Map(zoom=4, basemap=basemaps.Esri.WorldStreetMap)\nm\n</code></pre>\n\n<p>This should show a map in the output box, but the output instead is the following line of text:</p>\n\n<blockquote>\n  <p>TWFwKGJhc2VtYXA9eyd1cmwnOiAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX1N0cmVldF9NYXAvTWFwU2VydmVyL3RpbGUve3p9L3vigKY=</p>\n</blockquote>\n\n<p>Any help/suggestions appreciated, I seem to have hit a wall.</p>\n"}, {"tags": ["python", "hyperparameters", "talos"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10421750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f530922fd334530041f7575408d7d093?s=128&d=identicon&r=PG&f=1", "display_name": "Sagnik", "link": "https://stackoverflow.com/users/10421750/sagnik"}, "edited": false, "score": 0, "creation_date": 1561641726, "post_id": 56782042, "comment_id": 100138435, "body": "Hi @Djib2011, I tried <code>input_shape=(n_features,)</code> and now it tells me &quot;Input 0 is incompatible with layer conv1d_1: expected ndim=3, found ndim=2&quot;. I tried putting batch size as <code>input_shape=(n_timesteps)</code>, it now says &quot;TalosReturnError: Make sure that input model returns &#39;out, model&#39; where out is history object from model.fit()&quot;. I think there is something going on with the way Talos work!"}], "tags": [], "owner": {"reputation": 4901, "user_id": 5668710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ce7e4efca855e9343db4b6bbf27338a?s=128&d=identicon&r=PG&f=1", "display_name": "Djib2011", "link": "https://stackoverflow.com/users/5668710/djib2011"}, "is_accepted": false, "score": 0, "last_activity_date": 1561652326, "last_edit_date": 1561652326, "creation_date": 1561590967, "answer_id": 56782042, "question_id": 56781739, "link": "https://stackoverflow.com/questions/56781739/error-using-cnn-hyper-parameter-optimization-for-multi-target-regression/56782042#56782042", "title": "Error using CNN hyper parameter optimization for multi-target regression", "body": "<p>I looked at it again, a few of things needed to be changed in your code. I tested it and it should work now:</p>\n\n<p>First of all, the model itself had a couple of issues. </p>\n\n<p>Namely, the input to your model should be <code>(n_features, 1)</code> instead of <code>(n_timesteps,n_features)</code>. Keras internally thinks that you are ignoring the batch dimension when giving the input shape. So when what it will register as a shape is <code>(batch_size, n_features, 1)</code>. The last dimension is required so that it is compatible with <code>Conv1D</code>. </p>\n\n<p>This is how it should look:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>model.add(Conv1D(filters=params['conv1_filter'], kernel_size=(3), activation=params['activation'], input_shape=(n_features, 1))) \n</code></pre>\n\n<p>Secondly, the model shouldn't end with a <code>Flatten()</code> layer. Instead this layer should go before the <code>Dense()</code> layer (so that it sees a 2D input instead of a 3D one). After both changes the model should look like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>model = Sequential()\n\nmodel.add(Conv1D(filters=params['conv1_filter'], kernel_size=(3), activation=params['activation'], input_shape=(n_features,1))) \nmodel.add(Conv1D(filters=params['conv2_filter'], kernel_size=(3), activation=params['activation']))\nmodel.add(MaxPooling1D(pool_size=2))\nmodel.add(Dropout(params['dropout']))\nmodel.add(Conv1D(filters=8, kernel_size=3, activation=params['activation']))\nmodel.add(MaxPooling1D(pool_size=2))\nmodel.add(Flatten())\nmodel.add(Dense(100, activation=params['activation']))\nmodel.add(Dense(n_outputs))\n</code></pre>\n\n<p>Because we changed the <code>input_shape</code> of the model, we'll need to change the shape of our data. What needs to be done is to change <code>(400000, 70)</code> to <code>(400000, 70, 1)</code> and <code>(109760, 70)</code> to <code>(109760, 70, 1)</code>. This can be done with the following command:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>x_train = np.expand_dims(x_train, axis=-1)\nx_val = np.expand_dims(x_val, axis=-1)\n</code></pre>\n\n<p>I didn't test it on Talos, but the keras part works just fine.</p>\n"}], "owner": {"reputation": 63, "user_id": 10421750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f530922fd334530041f7575408d7d093?s=128&d=identicon&r=PG&f=1", "display_name": "Sagnik", "link": "https://stackoverflow.com/users/10421750/sagnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561653426, "creation_date": 1561588500, "last_edit_date": 1561653426, "question_id": 56781739, "link": "https://stackoverflow.com/questions/56781739/error-using-cnn-hyper-parameter-optimization-for-multi-target-regression", "title": "Error using CNN hyper parameter optimization for multi-target regression", "body": "<p>I am trying to solve a multi-target regression problem using CNN. To optimize hyper parameters, I have used Talos library, but I end up with an error: </p>\n\n<blockquote>\n  <p>Error when checking input: expected conv1d_1_input to have 3 dimensions, but got array with shape (280000, 70)</p>\n</blockquote>\n\n<p>Description of Dataset: X has 70 features and Y has 32 targets\nLength of Time Series: 509760 time points</p>\n\n<pre><code>Shape of Dataset:\n\nTrain Data size: (400000, 70),\nTrain Target size: (400000, 32),\nTest Data size: (109760, 70),\nTest Target size: (109760, 32),\n</code></pre>\n\n<p>Code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>tf.keras.backend.clear_session()\n\ndef model(x_train, y_train, x_val, y_val, params):\n\n    n_timesteps, n_features, n_outputs = x_train.shape[0],    x_train.shape[1], y_train.shape[1]\n\n    model = Sequential()\n\n    model.add(Conv1D(filters=params['conv1_filter'], kernel_size=(3), activation=params['activation'], input_shape=(n_timesteps,n_features)))\n    model.add(Conv1D(filters=params['conv2_filter'], kernel_size=(3), activation=params['activation']))\n    model.add(MaxPooling1D(pool_size=2))\n    model.add(Dropout(params['dropout']))\n    model.add(Conv1D(filters=8, kernel_size=3, activation=params['activation']))\n    model.add(MaxPooling1D(pool_size=2))\n    model.add(Dense(100, activation=params['activation']))\n    model.add(Dense(n_outputs))\n\n    model.add(Flatten())    \n    model.compile(loss='mse',optimizer=params['optimizer'](),metrics=['acc', fmeasure_acc])\n\n\n    out = model.fit(x_train, y_train, validation_data=[x_val, y_val], batch_size=params['batch_size'], epochs=params['epochs'],verbose=1,shuffle=True)\n\n    return out, model\n\np = {'conv1_filter':[32],\n     'conv2_filter':[32],\n     'optimizer': [Nadam],\n     'batch_size': [1000],\n     'epochs': [5],\n     'dropout': [0.5],\n     'activation':[relu]}\n\n# and run the experiment\nt = ta.Scan(x=x_train,y=y_train,model=model,params=p,experiment_no='1')\n\n</code></pre>\n\n<p>The error is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    168         # input parameters section ends\r\n    169 \r\n--&gt; 170         self._null = self.runtime()\r\n    171 \r\n    172     def runtime(self):\r\n\r\n/anaconda3/lib/python3.7/site-packages/talos/scan/Scan.py in runtime(self)\r\n    173 \r\n    174         self = scan_prepare(self)\r\n--&gt; 175         self = scan_run(self)\r\n\r\n/anaconda3/lib/python3.7/site-packages/talos/scan/scan_run.py in scan_run(self)\r\n     16                      disable=self.disable_progress_bar)\r\n     17     while len(self.param_log) != 0:\r\n---&gt; 18         self = scan_round(self)\r\n     19         self.pbar.update(1)\r\n     20     self.pbar.close()\r\n\r\n/anaconda3/lib/python3.7/site-packages/talos/scan/scan_round.py in scan_round(self)\r\n     30     # fit the model\r\n     31     try:\r\n---&gt; 32         _hr_out, self.keras_model = ingest_model(self)\r\n     33     except TypeError as err:\r\n     34         if err.args[0] == \"unsupported operand type(s) for +: 'int' and 'numpy.str_'\":\r\n\r\n/anaconda3/lib/python3.7/site-packages/talos/model/ingest_model.py in ingest_model(self)\r\n      8                       self.x_val,\r\n      9                       self.y_val,\r\n---&gt; 10                       self.round_params)\r\n\r\n&lt;ipython-input-9-b33b869928ed&gt; in model(x_train, y_train, x_val, y_val, params)\r\n     20 \r\n     21 \r\n---&gt; 22     out = model.fit(x_train, y_train, validation_data=[x_val, y_val], batch_size=params['batch_size'], epochs=params['epochs'],verbose=1,shuffle=True)\r\n     23 \r\n     24 \r\n\r\n/anaconda3/lib/python3.7/site-packages/keras/engine/training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, **kwargs)\r\n    950             sample_weight=sample_weight,\r\n    951             class_weight=class_weight,\r\n--&gt; 952             batch_size=batch_size)\r\n    953         # Prepare validation data.\r\n    954         do_validation = False\r\n\r\n/anaconda3/lib/python3.7/site-packages/keras/engine/training.py in _standardize_user_data(self, x, y, sample_weight, class_weight, check_array_lengths, batch_size)\r\n    749             feed_input_shapes,\r\n    750             check_batch_axis=False,  # Don't enforce the batch size.\r\n--&gt; 751             exception_prefix='input')\r\n    752 \r\n    753         if y is not None:\r\n\r\n/anaconda3/lib/python3.7/site-packages/keras/engine/training_utils.py in standardize_input_data(data, names, shapes, check_batch_axis, exception_prefix)\r\n    126                         ': expected ' + names[i] + ' to have ' +\r\n    127                         str(len(shape)) + ' dimensions, but got array '\r\n--&gt; 128                         'with shape ' + str(data_shape))\r\n    129                 if not check_batch_axis:\r\n    130                     data_shape = data_shape[1:]\r\n\r\nValueError: Error when checking input: expected conv1d_1_input to have 3 dimensions, but got array with shape (280000, 70)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "timing"], "comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561588701, "post_id": 56781737, "comment_id": 100118392, "body": "You&#39;d have to figure it out -- this is quite a difficuilt computer science problem. You&#39;d have to somehow measure the average time of each operation so far, and then work out the fraction of operations completed and work the time remaining out from that. Depending on your code/algorithms, that might not be possible."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1561588796, "post_id": 56781737, "comment_id": 100118413, "body": "Check out the <code>tqdm</code> package. You may be able to either use it, or let it inspire you to find your own solution."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1561588839, "post_id": 56781737, "comment_id": 100118429, "body": "You&#39;d have to know in advance how long it takes to generate a lineup, which may or may not be possible."}, {"owner": {"reputation": 634, "user_id": 11866885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cbXoH.jpg?s=128&g=1", "display_name": "Austin Johnson", "link": "https://stackoverflow.com/users/11866885/austin-johnson"}, "edited": false, "score": 0, "creation_date": 1561589246, "post_id": 56781737, "comment_id": 100118531, "body": "Well considering that the number of players and team stack change daily I don&#39;t know if this is gonna be possible."}, {"owner": {"reputation": 1293, "user_id": 4681187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7d025467f6b411aba51f9b973c47319c?s=128&d=identicon&r=PG&f=1", "display_name": "Imperishable Night", "link": "https://stackoverflow.com/users/4681187/imperishable-night"}, "edited": false, "score": 0, "creation_date": 1561601895, "post_id": 56781737, "comment_id": 100120700, "body": "Well at least &quot;how many lineups are left to complete&quot; is straightforward, right?"}], "owner": {"reputation": 634, "user_id": 11866885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cbXoH.jpg?s=128&g=1", "display_name": "Austin Johnson", "link": "https://stackoverflow.com/users/11866885/austin-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561588446, "creation_date": 1561588446, "question_id": 56781737, "link": "https://stackoverflow.com/questions/56781737/timing-a-python-program", "title": "Timing a Python Program", "body": "<p>I have an optimization program that generates 150 different lineups and right now the way I have it set up is it tells me how long the program took to run after completion. How would I display how much time is left to complete or how many lineups are left to complete?</p>\n\n<pre><code>import pulp\nfrom pulp import *\nfrom pulp.solvers import CPLEX_PY\nfrom pydfs_lineup_optimizer import get_optimizer, Site, Sport,CSVLineupExporter\nfrom pydfs_lineup_optimizer.solvers.pulp_solver import PuLPSolver\nimport time\nstart_time = time.time()\nclass CustomPuLPSolver(PuLPSolver):\n    LP_SOLVER = pulp.CPLEX_PY(msg=0)\noptimizer = get_optimizer(Site.FANDUEL, Sport.BASEBALL, solver=CustomPuLPSolver)\n\noptimizer.load_players_from_csv(\"/Users/austi/Desktop/MLB/PLAYERS_LIST.csv\")\noptimizer.restrict_positions_for_opposing_team(['P'], ['1B','C','2B','3B','SS','OF','UTIL'])\noptimizer.set_team_stacking([2,2,2]) #Stacking should change according to slate size...still need to figure that out\noptimizer.set_max_repeating_players(4)\noptimizer.set_spacing_for_positions(['SS','C','1B','3B','OF','2B'], 4)\nlineups = list(optimizer.optimize(n=150))\nfor lineup in lineups:\n    print(lineup)\nexporter = CSVLineupExporter(lineups)\nexporter.export('MLB_result.csv')\nprint(round(((time.time() - start_time)/60)), \"minutes run time\")\n</code></pre>\n"}, {"tags": ["python", "pandas", "indexing", "multi-index"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 3, "last_activity_date": 1561644381, "last_edit_date": 1561644381, "creation_date": 1561588949, "answer_id": 56781789, "question_id": 56781728, "link": "https://stackoverflow.com/questions/56781728/reindex-multiindex-on-a-level-with-dates-that-are-close/56781789#56781789", "title": "reindex MultiIndex on a level with dates that are &quot;close&quot;", "body": "<p>This is a <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.merge_asof.html\" rel=\"nofollow noreferrer\"><code>merge_asof</code></a> problem. I'd do it like this:</p>\n\n<pre><code>res = pd.merge_asof(\n        s0.to_frame(),                  # should be first, simulate how='left'\n        i1.to_frame(),                  # should be second \n        tolerance=pd.Timedelta(days=2), # two days tolerance\n        left_on='date',                 # select index level for s0\n        right_index=True,               \n        direction='nearest')            # default is 'backward', not as useful\n\ns0[res[0].notna()]\n\ndate        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-30  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-17  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n\n<p>Note that this will retain the indices from <code>s0</code> (which may not be what you want).</p>\n\n<hr>\n\n<h3>piR Edit</h3>\n\n<p>This got me what I wanted</p>\n\n<pre><code>tol = pd.Timedelta(days=2)\nright = pd.DataFrame(dict(newdate=i1), i1)\nleft = s0.to_frame()\n\nkw = dict(\n    left=left, right=right, tolerance=tol,\n    left_on='date', right_index=True, direction='nearest'\n)\n\nres = pd.merge_asof(**kw)\nres = res.dropna() \\\n         .reset_index() \\\n         .set_index(['newdate', 'ID']) \\\n         .stuff.rename_axis(['date', 'ID'])\nres\n\ndate        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-31  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-15  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1561608531, "post_id": 56782694, "comment_id": 100121877, "body": "I was thinking that reindex could do the job, nice answer as well!"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1561644635, "post_id": 56782694, "comment_id": 100140373, "body": "TIL (really yesterday but /shrug) reindex on <code>pd.Index</code>.  I think this is what I wanted."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1561644683, "post_id": 56782694, "comment_id": 100140395, "body": "@piRSquared gald I could help sir"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1561644567, "last_edit_date": 1561644567, "creation_date": 1561597924, "answer_id": 56782694, "question_id": 56781728, "link": "https://stackoverflow.com/questions/56781728/reindex-multiindex-on-a-level-with-dates-that-are-close/56782694#56782694", "title": "reindex MultiIndex on a level with dates that are &quot;close&quot;", "body": "<p>This is very close to what cs95 did by using <code>reindex</code> </p>\n\n<pre><code>s,y=i1.reindex(s0.index.levels[0],tolerance=pd.Timedelta(days=2),method='nearest')\n\ns0.loc[s[y!=-1]]\n</code></pre>\n\n<p>If need change the index level1 to l1 </p>\n\n<pre><code>s=s0.index.levels[0].values\nt=abs((i1[:,None]-s))/np.timedelta64(1, 'D')&lt;=2\n\nf=s0.loc[s[t.any(0)]].reset_index(level=1)\n\nf.index=f.index.map(dict(zip(s[t.any(0)],i1[t.any(1)])))\nf.set_index('ID',append=True,inplace=True)\nf\nOut[458]: \n               stuff\ndate       ID       \n2018-11-30 S       0\n           O       0\n           J       0\n           H       0\n           D       0\n2018-12-31 U       2\n           S       2\n           A       2\n           J       2\n           L       2\n2019-01-15 K       3\n           U       3\n           V       3\n           S       3\n           H       3\n</code></pre>\n\n<hr>\n\n<h3>piR Edit</h3>\n\n<p>I reconfigured in this way</p>\n\n<pre><code>lvl0, lvl1 = s0.index.levels\n_, indexer = i1.reindex(lvl0, tolerance=tol, method='nearest')\nnewlvl0 = i1[indexer]\nmsklvl0 = newlvl0[indexer != -1]\n\nnewidx = s0.index.set_levels([newlvl0, lvl1])\ns0.set_axis(newidx, inplace=False).loc[msklvl0]\n\ndate        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-31  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-15  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 56782694, "answer_count": 2, "score": 5, "last_activity_date": 1561644567, "creation_date": 1561588331, "last_edit_date": 1561588879, "question_id": 56781728, "link": "https://stackoverflow.com/questions/56781728/reindex-multiindex-on-a-level-with-dates-that-are-close", "title": "reindex MultiIndex on a level with dates that are &quot;close&quot;", "body": "<h3>Problem</h3>\n\n<p>I have a <code>pandas.Series</code> with a two level <code>pandas.MultiIndex</code>.  The first level is of dates.  I have another <code>DatetimeIndex</code> with values that are close to some of the dates in my <code>series.index.levels[0]</code>.  I want to reindex my series with dates in the \"other\" <code>DatetimeIndex</code> that are close enough to existing dates in the index.  Suppose that by \"close\" I mean within 2 days.</p>\n\n<h3>Setup</h3>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nnp.random.seed([3, 1415])\n\nchars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\n#                   Equal Date     + 3 Days      - 1 Day       + 2 Days\ni0 = pd.to_datetime(\n    [              '2018-11-30', '2018-12-16', '2018-12-30', '2019-01-17'              ])\ni1 = pd.to_datetime(\n    ['2018-10-31', '2018-11-30', '2018-12-13', '2018-12-31', '2019-01-15', '2019-01-31'])\n#                    Include       Skip          Include       Include\n\nlvl0 = i0.repeat(5)\nlvl1 = np.concatenate(\n    [np.random.choice([*chars], size=5, replace=False) for _ in range(4)])\n\nmidx = pd.MultiIndex.from_tuples([*zip(lvl0, lvl1)], names=['date', 'ID'])\n\ns0 = pd.Series(np.arange(4).repeat(5), midx, name='stuff')\n</code></pre>\n\n<hr>\n\n<pre><code>s0\n\ndate        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-16  Q     1\n            B     1\n            A     1\n            S     1\n            P     1\n2018-12-30  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-17  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n\n<hr>\n\n<h3>What I want is</h3>\n\n<p><strong>Note:</strong> The same <code>dtype</code> as the original</p>\n\n<pre><code>date        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-31  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-15  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n\n<hr>\n\n<h3>What I've done</h3>\n\n<pre><code>tol = pd.Timedelta('2D')\n\n# 0. This should be the same as the `i0` I used to set up\n#    But supposing that wasn't available, we would...\ni0 = s0.index.levels[0]\n\n# 1. Broadcast date differences\n# 2. Take the absolute value\n# 3. Find the position of minimum absolute value for each row\n# 4. Define a proposal of new index level values with those positions\ni_proposal = i1[np.abs(np.subtract.outer(i0, i1)).argmin(1)]\n\n# 5. Use proposal to get which ones are within the\n#    tolerance of 2 days\ni_final = i_proposal[np.abs(i_proposal - i0) &lt;= tol]\n\n# 6. set_levels with proposal.\n#    because at this point there is a one-to-one correspondance\ns0.index.set_levels(i_proposal, level=0, inplace=True)\n\n# 7. use `loc` to pull out the final ones\ns0.loc[i_final]\n</code></pre>\n\n<hr>\n\n<pre><code>date        ID\n2018-11-30  S     0\n            O     0\n            J     0\n            H     0\n            D     0\n2018-12-31  U     2\n            S     2\n            A     2\n            J     2\n            L     2\n2019-01-15  K     3\n            U     3\n            V     3\n            S     3\n            H     3\nName: stuff, dtype: int64\n</code></pre>\n\n<hr>\n\n<h3>Problem with my solution</h3>\n\n<ol>\n<li>This is the opposite of \"smooth\"</li>\n<li>Operates <code>inplace</code> on <code>i0.index</code></li>\n<li>Big-O(<code>len(i0)</code> * <code>len(i1)</code>).  There should be a Big-O(<code>len(i0)</code> + <code>len(i1)</code>) solution.</li>\n</ol>\n\n<p>Can anyone think a better way to do this?</p>\n"}, {"tags": ["python", "numpy", "cpython"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1561588260, "post_id": 56781686, "comment_id": 100118279, "body": "Numpy isn&#39;t part of CPython. It might have the name in its name (however you should best express that) but the code will be in numpy, not CPython"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1561589098, "post_id": 56781686, "comment_id": 100118486, "body": "Go up a level in the github repository, and see <a href=\"https://github.com/numpy/numpy/blob/v1.16.1/numpy/linalg/umath_linalg.c.src\" rel=\"nofollow noreferrer\">github.com/numpy/numpy/blob/v1.16.1/numpy/linalg/&hellip;</a>.  From there you&#39;ll see lots of references to <code>lapack</code>.  Tracing <code>numpy</code> source code is not an easy task."}], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "edited": false, "score": 0, "creation_date": 1561589272, "post_id": 56781730, "comment_id": 100118536, "body": "thanks for your answer. the link in <code>Asking a search engine for numpy linalg github will give you the location</code> had been provided in my question, which is not what I am asking for. I am asking for the <b>cpython</b> source code rather than python source code. I&#39;ve run the <code>pip download</code> command and got a whl file, which is usually used to install a package. do you mean I can find the <b>cpython</b> source code in the whl file? if yes. How can I do that?"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "edited": false, "score": 0, "creation_date": 1561590543, "post_id": 56781730, "comment_id": 100118824, "body": "A <code>.whl</code> file is just an archive that contains multiple other files as a single dependency. There is nothing special regarding cpython inside that file. You can use <code>wheel unpack</code> to extract the contents of the file itself. The <code>.so</code> file is usually just the python code compiled to an installed module on installation - <code>download</code> will give you the source, which you can build yourself with <code>--build</code> as well."}, {"owner": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "edited": false, "score": 0, "creation_date": 1561591316, "post_id": 56781730, "comment_id": 100118984, "body": "thanks for your reply, <code>wheel unpack</code> gives a <code>numpy</code> directory, which seems to be a tiny version of gh source or my local numpy package. what is related to <code>_umath_linalg.eig</code> in &quot;umpy/linalg&quot; directory is &quot;linalg.py&quot;, which had been already provided in my post. I cannot find anything related to the underlying implementation of <code>_umath_linalg.eig</code>. any ideas?"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "edited": false, "score": 0, "creation_date": 1561592747, "post_id": 56781730, "comment_id": 100119273, "body": "Yes, that file lives together with the linalg.py file in the same directory. <a href=\"https://github.com/numpy/numpy/blob/master/numpy/linalg/umath_linalg.c.src\" rel=\"nofollow noreferrer\">umath_linalg.c.src</a>"}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": false, "score": 1, "last_activity_date": 1561588340, "creation_date": 1561588340, "answer_id": 56781730, "question_id": 56781686, "link": "https://stackoverflow.com/questions/56781686/how-to-find-the-cpython-source-code-file-for-a-specific-3rd-party-numpy-for-ins/56781730#56781730", "title": "How to find the cpython source code file for a specific 3rd party (NumPy for instance) API?", "body": "<p>Exactly where the different libraries live outside of PyPi isn't a common location across all modules, but usually they're somewhere on github. In this case you're not looking for the source of cpython itself, but of the linalg module inside numpy. Asking a search engine for <code>numpy linalg github</code> will <a href=\"https://github.com/numpy/numpy/blob/master/numpy/linalg/linalg.py\" rel=\"nofollow noreferrer\">give you the location</a>.</p>\n\n<p>You can also <a href=\"https://pip.pypa.io/en/stable/reference/pip_download/\" rel=\"nofollow noreferrer\">use <code>pip download</code></a> to download the source code of any module available on PyPi to a directory of your choice. This can be useful for fetching a specific version and to see what has been uploaded to PyPi:</p>\n\n<pre><code>pip download numpy -d &lt;directory&gt;\n</code></pre>\n"}], "owner": {"reputation": 370, "user_id": 10731613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0BaL.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10731613/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562672685, "creation_date": 1561588016, "last_edit_date": 1562672685, "question_id": 56781686, "link": "https://stackoverflow.com/questions/56781686/how-to-find-the-cpython-source-code-file-for-a-specific-3rd-party-numpy-for-ins", "title": "How to find the cpython source code file for a specific 3rd party (NumPy for instance) API?", "body": "<p>This question comes from this <a href=\"https://datascience.stackexchange.com/q/54413/74719\">post</a>.</p>\n\n<p>I am digging out the underlying logic for <code>numpy.linalg.eig</code>.</p>\n\n<pre><code>w, v = np.linalg.eig(C.T*C)\nv\nmatrix([[-0.9486833 , -0.31622777],\n        [ 0.31622777, -0.9486833 ]])\n</code></pre>\n\n<p>the implementation of np.linalg.eig </p>\n\n<pre><code>w, vt = _umath_linalg.eig(a, signature=signature, extobj=extobj)\n</code></pre>\n\n<p>is linked <a href=\"https://github.com/numpy/numpy/blob/v1.16.1/numpy/linalg/linalg.py#L1311\" rel=\"nofollow noreferrer\">here</a>, which links to <code>_umath_linalg.py</code></p>\n\n<p>_umath_linalg.py corresponds to <code>&lt;python3.6&gt;/site-packages/numpy/linalg/_umath_linalg.cpython-36m-darwin.so</code></p>\n\n<p>I searched lots of keywords comes from _umath_linalg.eig on the cpython source code <a href=\"https://github.com/python/cpython#installing-multiple-versions\" rel=\"nofollow noreferrer\">gh repo</a> and got nothing related.</p>\n\n<p>in this case, how to find the cpython source code file for _umath_linalg.cpython-36m-darwin.so or <code>_umath_linalg.eig</code>?</p>\n"}, {"tags": ["python", "keras", "conv-neural-network"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1561588624, "post_id": 56781680, "comment_id": 100118369, "body": "<a href=\"https://stackoverflow.com/questions/47421951/keras-optimal-epoch-selection\">While not an exact duplicate, this method is one I have used in the past for selecting an how many epochs to use</a>"}, {"owner": {"reputation": 4901, "user_id": 5668710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ce7e4efca855e9343db4b6bbf27338a?s=128&d=identicon&r=PG&f=1", "display_name": "Djib2011", "link": "https://stackoverflow.com/users/5668710/djib2011"}, "edited": false, "score": 0, "creation_date": 1561590685, "post_id": 56781680, "comment_id": 100118851, "body": "No, there isn&#39;t a max number of epochs that you should never exeed. This also depends on other parameters such as the learning rate. I&#39;d like to refer you to <a href=\"https://datascience.stackexchange.com/a/53036/34269\">this answer</a> which shares the same context with yours."}], "answers": [{"tags": [], "owner": {"reputation": 1140, "user_id": 7959545, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Spa51.png?s=128&g=1", "display_name": "Sohaib Anwaar", "link": "https://stackoverflow.com/users/7959545/sohaib-anwaar"}, "is_accepted": false, "score": 1, "last_activity_date": 1561613095, "creation_date": 1561613095, "answer_id": 56784435, "question_id": 56781680, "link": "https://stackoverflow.com/questions/56781680/number-of-epochs-to-be-used-in-a-keras-sequential-model/56784435#56784435", "title": "Number of epochs to be used in a Keras sequential model", "body": "<p>Yaa! Their is a solution for your problem. Select epochs e.g 1k ,2k just use early stoping on your neural net.</p>\n\n<p><strong>Early Stopping:</strong>\nKeras supports the early stopping of training via a callback called Early-stopping.</p>\n\n<p>This callback allows you to specify the performance measure to monitor, the trigger, and once triggered, it will stop the training process. For example you apply a trigger that stop the training if accuracy is not increasing in previous 5 epochs. So keras will see previous 5 epochs through call backs and stop training if your accuracy is not increasing</p>\n\n<p><a href=\"https://machinelearningmastery.com/how-to-stop-training-deep-neural-networks-at-the-right-time-using-early-stopping/\" rel=\"nofollow noreferrer\">Early Stopping link :</a></p>\n"}, {"comments": [{"owner": {"reputation": 1167, "user_id": 5905678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb7a1134442284c5ff6f0ba72df174e0?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/5905678/khan"}, "edited": false, "score": 0, "creation_date": 1581447773, "post_id": 56785434, "comment_id": 106434603, "body": "why using dropout only for dense layer?"}, {"owner": {"reputation": 426, "user_id": 11503237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c90c7e3016cf1af3f5a2dacb45cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Hamsa", "link": "https://stackoverflow.com/users/11503237/hamsa"}, "reply_to_user": {"reputation": 1167, "user_id": 5905678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb7a1134442284c5ff6f0ba72df174e0?s=128&d=identicon&r=PG&f=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/5905678/khan"}, "edited": false, "score": 0, "creation_date": 1581449004, "post_id": 56785434, "comment_id": 106435137, "body": "batch normalization is generally used between two convolutional layers. Dropout is less effective in regularizing convolutional layers."}], "tags": [], "owner": {"reputation": 426, "user_id": 11503237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c90c7e3016cf1af3f5a2dacb45cb83?s=128&d=identicon&r=PG&f=1", "display_name": "Hamsa", "link": "https://stackoverflow.com/users/11503237/hamsa"}, "is_accepted": false, "score": 3, "last_activity_date": 1561618169, "creation_date": 1561618169, "answer_id": 56785434, "question_id": 56781680, "link": "https://stackoverflow.com/questions/56781680/number-of-epochs-to-be-used-in-a-keras-sequential-model/56785434#56785434", "title": "Number of epochs to be used in a Keras sequential model", "body": "<p>If the number of epochs are very high, your model may overfit and your training accuracy will reach 100%. In that approach you plot the error rate on training and validation data. The horizontal axis is the number of epochs and the vertical axis is the error rate. You should stop training when the error rate of validation data is minimum.</p>\n\n<p>You need to have a trade-off between your regularization parameters. Major problem in Deep Learning is overfitting model. Various regularization techniques are used,as</p>\n\n<p>i) Reducing batch-size</p>\n\n<p>ii) Data Augmentation(only if your data is not diverse)</p>\n\n<p>iii) Batch Normalization</p>\n\n<p>iv) Reducing complexity in architecture(mainly convolutional layers)</p>\n\n<p>v) Introducing dropout layer(only if you are using any dense layer)</p>\n\n<p>vi) Reduced learning rate.</p>\n\n<p>vii) Transfer learning</p>\n\n<p>Batch-size vs epoch tradeoff is quite important. Also it is dependent on your data and varies from application to application. In that case, you have to play with your data a little bit to know the exact figure. Normally a batch size of 32 medium size images requires 10 epochs for good feature extraction from the convolutional layers. Again, it is relative </p>\n"}, {"tags": [], "owner": {"reputation": 1301, "user_id": 4583366, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/10153105323321823/picture?type=large", "display_name": "Lior Magen", "link": "https://stackoverflow.com/users/4583366/lior-magen"}, "is_accepted": false, "score": 1, "last_activity_date": 1561619797, "creation_date": 1561619797, "answer_id": 56785888, "question_id": 56781680, "link": "https://stackoverflow.com/questions/56781680/number-of-epochs-to-be-used-in-a-keras-sequential-model/56785888#56785888", "title": "Number of epochs to be used in a Keras sequential model", "body": "<p>There's this Early Stopping function that Keras supply which you simply define.</p>\n\n<pre><code>EarlyStopping(patience=self.patience, verbose=self.verbose, monitor=self.monitor)\n</code></pre>\n\n<p>Let's say that the epochs parameter equals to 80, like you said before. When you use the EarlyStopping function the number of epochs becomes the maximum number of epochs. </p>\n\n<p>You can define the EarlyStopping function to monitor the validation loss, for example, when ever this loss does not improve no more it'll give it a few last chances (the number you put in the patience parameter) and if after those last chances the monitored value didn't improve the training process will stop. </p>\n\n<p>The best practice, in my opinion, is to use both EarlyStopping and ModelCheckpoint, which is another callback function supplied in Keras' API that simply saves your last best model (you decide what best means, best loss or other value that you test your results with). </p>\n\n<p>This is the Keras solution for the problem your trying to deal with. In addition there is a lot of online material that you can read about how to deal with overfit.</p>\n"}], "owner": {"reputation": 127, "user_id": 10740284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec62dff9605430b4b7b4aea9b0c47c81?s=128&d=identicon&r=PG&f=1", "display_name": "rana hd", "link": "https://stackoverflow.com/users/10740284/rana-hd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1561641362, "creation_date": 1561587991, "last_edit_date": 1561641362, "question_id": 56781680, "link": "https://stackoverflow.com/questions/56781680/number-of-epochs-to-be-used-in-a-keras-sequential-model", "title": "Number of epochs to be used in a Keras sequential model", "body": "<p>I'm building a Keras sequential model to do a binary image classification. Now when I use like 70 to 80 epochs I start getting good validation accuracy (81%). But I was told that this is a very big number to be used for epochs which would affect the performance of the network. </p>\n\n<p>My question is: is there a limited number of epochs that I shouldn't exceed, note that I have 2000 training images and 800 validation images.</p>\n"}, {"tags": ["python", "z3", "xor", "smt", "bitvector"], "answers": [{"tags": [], "owner": {"reputation": 18055, "user_id": 936310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/302ec54987694b9746abf8e2e0ad8caf?s=128&d=identicon&r=PG&f=1", "display_name": "alias", "link": "https://stackoverflow.com/users/936310/alias"}, "is_accepted": true, "score": 3, "last_activity_date": 1561612473, "creation_date": 1561612473, "answer_id": 56784329, "question_id": 56781678, "link": "https://stackoverflow.com/questions/56781678/simplify-z3-bitvector-expression-but-avoid-extract-concat/56784329#56784329", "title": "Simplify z3 bitvector expression, but avoid extract &amp; concat", "body": "<p>Not easily. <code>z3</code> converts <code>XOR</code> with numerals to a mask fairly early in the rewriter, and there appears to be no easy way to control that behavior. See here: <a href=\"https://github.com/Z3Prover/z3/blob/master/src/ast/rewriter/bv_rewriter.cpp#L1817-L1823\" rel=\"nofollow noreferrer\">https://github.com/Z3Prover/z3/blob/master/src/ast/rewriter/bv_rewriter.cpp#L1817-L1823</a></p>\n\n<p>Having said that, the advantage of the programmable API is that z3 gives you all the tools to code such transformations yourself. This does <em>not</em> mean it is easy to do so, but at least it exposes all the necessary bits and pieces. While doing a complete job of doing exactly the rewrites you want can be a large task, you can get away with something simple like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def constFold(e):\n    try:\n       if is_app(e) and all([is_bv_value(c) for c in e.children()]):\n          return simplify(e)\n       else:\n          return e\n    except:\n        return e\n</code></pre>\n\n<p>This is extremely simple-minded; and it actually doesn't even handle the problem you posed:</p>\n\n<pre><code>&gt;&gt;&gt; constFold(x^6^7)\nx ^ 6 ^ 7\n</code></pre>\n\n<p>But it does handle this:</p>\n\n<pre><code>&gt;&gt;&gt; constFold(x^(6^7))\nx ^ 1\n</code></pre>\n\n<p>But for 8 lines of code, it's not too bad! The point is that you can improve upon it as you walk down the structure of expressions, recognize associativity/commutativity etc., and do whatever transformations you want on the AST as exposed by the programmable API.</p>\n\n<p>Keep in mind that if you're using this in a solver context you have to maintain a bunch of invariants and if you do an \"incorrect\" transformation, you can easily render the solver unsound. With great power, comes great responsibility! Nonetheless, a lot can be achieved with relatively simple programming, if you're willing to study the API and do a deep dive.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 410, "user_id": 4576488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRLN0.jpg?s=128&g=1", "display_name": "Liblor", "link": "https://stackoverflow.com/users/4576488/liblor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 56784329, "answer_count": 1, "score": 2, "last_activity_date": 1561636635, "creation_date": 1561587966, "last_edit_date": 1561636635, "question_id": 56781678, "link": "https://stackoverflow.com/questions/56781678/simplify-z3-bitvector-expression-but-avoid-extract-concat", "title": "Simplify z3 bitvector expression, but avoid extract &amp; concat", "body": "<p>I was wondering whether it's possible to get z3 not to use <code>Extract</code> and <code>Concat</code> in the output expression when one applies <code>simplify</code> on an expression with bitvectors.</p>\n\n<p>For example, instead of</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; x = BitVector(\"x\", 32)\n&gt;&gt;&gt; simplify(x ^ 7 ^ 6)\nConcat(Extract(31, 1, x), ~Extract(0, 0, x))\n</code></pre>\n\n<p>I'd like to have</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; x = BitVector(\"x\", 32)\n&gt;&gt;&gt; simplify(x ^ 7 ^ 6)\nx ^ 1\n</code></pre>\n\n<p>I had a look at <code>help_simplify</code>, but I couldn't find such an \"option\".</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 419, "user_id": 1991273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y10wQ.jpg?s=128&g=1", "display_name": "aropan", "link": "https://stackoverflow.com/users/1991273/aropan"}, "edited": false, "score": 1, "creation_date": 1561587998, "post_id": 56781638, "comment_id": 100118205, "body": "You can use <code>zip</code> and <code>os.listdir</code>: <code>for X,Y in zip(os.listdir(PATH), MYLIST):</code>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1561588139, "post_id": 56781638, "comment_id": 100118246, "body": "<code>PATH</code> is <i>not</i> a sequence of file paths; it&#39;s a string.  You still need to do the work to interpret that string as a path to multiple files."}, {"owner": {"reputation": 55, "user_id": 11435637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556b83f98d386c5596f662cd025dc6dc?s=128&d=identicon&r=PG&f=1", "display_name": "mattp", "link": "https://stackoverflow.com/users/11435637/mattp"}, "edited": false, "score": 0, "creation_date": 1561591490, "post_id": 56781638, "comment_id": 100119019, "body": "I&#39;ve tried zip(PATH,MYLIST), however I&#39;m still getting the same ValueError as before."}, {"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "edited": false, "score": 0, "creation_date": 1562190198, "post_id": 56781638, "comment_id": 100305140, "body": "@mattp Did my answer work for you? If so can you check it. Thanks!"}, {"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "edited": false, "score": 0, "creation_date": 1562887240, "post_id": 56781638, "comment_id": 100530460, "body": "@mattp if my answer worked for you can you checkmark it."}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "edited": false, "score": 0, "creation_date": 1562184419, "post_id": 56781770, "comment_id": 100303045, "body": "Does this make sense"}, {"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "edited": false, "score": 0, "creation_date": 1562190149, "post_id": 56781770, "comment_id": 100305131, "body": "Can you check my answer if it worked for you? Thanks!"}], "tags": [], "owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "is_accepted": false, "score": 0, "last_activity_date": 1562190182, "last_edit_date": 1562190182, "creation_date": 1561588774, "answer_id": 56781770, "question_id": 56781638, "link": "https://stackoverflow.com/questions/56781638/for-loop-using-two-variables/56781770#56781770", "title": "For loop using two variables", "body": "<p>You can something along the lines of:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>arr1 = [[1,3],[1,7],[3,8]]\n\nfor first,second in arr1:\n    print(first)\n    print(second)\n</code></pre>\n\n<p>which returns</p>\n\n<pre><code>1\n3\n1\n7\n3\n8\n</code></pre>\n\n<p>Although this has a nested array. You could try to put them together in an array using for loops.</p>\n"}], "owner": {"reputation": 55, "user_id": 11435637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556b83f98d386c5596f662cd025dc6dc?s=128&d=identicon&r=PG&f=1", "display_name": "mattp", "link": "https://stackoverflow.com/users/11435637/mattp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1562190182, "creation_date": 1561587642, "last_edit_date": 1561587784, "question_id": 56781638, "link": "https://stackoverflow.com/questions/56781638/for-loop-using-two-variables", "title": "For loop using two variables", "body": "<p>I have two lists, one of which a set of row numbers and another that is file paths. I need to create a loop which will create new dataframes for each file path with the row number I specify.</p>\n\n<p>I have script which creates the new dataframes however I am stuck on the loop.</p>\n\n<pre><code>MYLIST = [42, 50, 52, 59, 60, 62] \n\nPATH = '/Users/uni/Desktop/corrindex+id/rt35'\n\nfor X,Y in PATH, MYLIST\n    df= pd.read_csv(X,\n                 index_col= False,\n                 header=None,\n                 nrows=max(my_list) + 1).loc[Y]\n</code></pre>\n\n<p>The list and path here are just a single example of each.</p>\n\n<pre><code>  File \"/Users/uni/Desktop/corrindex+id/Pandas to createxyt.py\", line 17, in &lt;module&gt;\n    for X,Y in PATH, MYLIST:\nValueError: too many values to unpack\n</code></pre>\n\n<p>Here is the error message I'm getting.\nThe MYLIST variables will be different for each PATH but in the correct order within each list.</p>\n"}, {"tags": ["python", "image", "opencv", "image-processing", "computer-vision"], "answers": [{"comments": [{"owner": {"reputation": 12540, "user_id": 11089932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9t0d.jpg?s=128&g=1", "display_name": "HansHirse", "link": "https://stackoverflow.com/users/11089932/hanshirse"}, "edited": false, "score": 2, "creation_date": 1561614308, "post_id": 56781750, "comment_id": 100123362, "body": "Since <a href=\"https://docs.opencv.org/4.1.0/d3/dc0/group__imgproc__shape.html#ga103fcbda2f540f3ef1c042d6a9b35ac7\" rel=\"nofollow noreferrer\"><code>boundingRect</code></a> also works on grayscale images, and you already have a binarized (threshold) image, you could also use <code>x, y, w, h = cv2.boundingRect(thresh)</code>, and calculate <code>left</code>, <code>right</code>, etc. from there with your approach using <code>np.argmax</code>. I modified your code accordingly and got the same results. You save two LOC, and I could imagine, that this would be even faster (haven&#39;t timed it actually) than calculating the whole contour. Anyway, nice job, have my upvote. :-)"}, {"owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "reply_to_user": {"reputation": 12540, "user_id": 11089932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9t0d.jpg?s=128&g=1", "display_name": "HansHirse", "link": "https://stackoverflow.com/users/11089932/hanshirse"}, "edited": false, "score": 0, "creation_date": 1561665043, "post_id": 56781750, "comment_id": 100149974, "body": "@HansHirse, nice optimization! Feel free to edit that solution in :)"}, {"owner": {"reputation": 12540, "user_id": 11089932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9t0d.jpg?s=128&g=1", "display_name": "HansHirse", "link": "https://stackoverflow.com/users/11089932/hanshirse"}, "edited": false, "score": 1, "creation_date": 1561699538, "post_id": 56781750, "comment_id": 100157005, "body": "@nathancy After all, I wrote a separate answer, since I observed a little difference in my results, which I wanted to explain properly. And putting all of this as an edit in your answer somehow feeled inappropriate. Of course, I mentioned your answer, and disclosed where the code comes from."}], "tags": [], "owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "is_accepted": true, "score": 20, "last_activity_date": 1582149202, "last_edit_date": 1582149202, "creation_date": 1561588605, "answer_id": 56781750, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv/56781750#56781750", "title": "Find extreme outer points in image with Python OpenCV", "body": "<p>Here's a potential approach:</p>\n\n<ul>\n<li>Convert image to <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_colorspaces/py_colorspaces.html\" rel=\"noreferrer\">grayscale</a> and <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_filtering/py_filtering.html#gaussian-filtering\" rel=\"noreferrer\">Gaussian blur</a> </li>\n<li><a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_thresholding/py_thresholding.html\" rel=\"noreferrer\">Threshold</a> to obtain a binary image</li>\n<li><a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#findcontours\" rel=\"noreferrer\">Find contours</a></li>\n<li>Obtain outer coordinates </li>\n</ul>\n\n<hr>\n\n<p>After converting to grayscale and blurring image, we threshold to get a binary image</p>\n\n<p><img src=\"https://i.stack.imgur.com/SyAby.png\" width=\"350\"></p>\n\n<p>Now we find contours using <code>cv2.findContours()</code>. Since OpenCV uses Numpy arrays to encode images, a contour is simply a Numpy array of <code>(x,y)</code> coordinates. We can slice the Numpy array and use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.argmin.html\" rel=\"noreferrer\"><code>argmin()</code></a> or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html\" rel=\"noreferrer\"><code>argmax()</code></a> to determine the outer left, right, top, and bottom coordinates like this</p>\n\n<pre><code>left = tuple(c[c[:, :, 0].argmin()][0])\nright = tuple(c[c[:, :, 0].argmax()][0])\ntop = tuple(c[c[:, :, 1].argmin()][0])\nbottom = tuple(c[c[:, :, 1].argmax()][0])\n</code></pre>\n\n<p>Here's the result</p>\n\n<p><img src=\"https://i.stack.imgur.com/W8wrc.png\" width=\"350\"></p>\n\n<blockquote>\n  <p>left: (162, 527)</p>\n  \n  <p>right: (463, 467)</p>\n  \n  <p>top: (250, 8)</p>\n  \n  <p>bottom: (381, 580)</p>\n</blockquote>\n\n<pre><code>import cv2\nimport numpy as np\n\n# Load image, grayscale, Gaussian blur, threshold\nimage = cv2.imread('1.png')\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\nblur = cv2.GaussianBlur(gray, (3,3), 0)\nthresh = cv2.threshold(blur, 220, 255, cv2.THRESH_BINARY_INV)[1]\n\n# Find contours\ncnts = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\ncnts = cnts[0] if len(cnts) == 2 else cnts[1]\nc = max(cnts, key=cv2.contourArea)\n\n# Obtain outer coordinates\nleft = tuple(c[c[:, :, 0].argmin()][0])\nright = tuple(c[c[:, :, 0].argmax()][0])\ntop = tuple(c[c[:, :, 1].argmin()][0])\nbottom = tuple(c[c[:, :, 1].argmax()][0])\n\n# Draw dots onto image\ncv2.drawContours(image, [c], -1, (36, 255, 12), 2)\ncv2.circle(image, left, 8, (0, 50, 255), -1)\ncv2.circle(image, right, 8, (0, 255, 255), -1)\ncv2.circle(image, top, 8, (255, 50, 0), -1)\ncv2.circle(image, bottom, 8, (255, 255, 0), -1)\n\nprint('left: {}'.format(left))\nprint('right: {}'.format(right))\nprint('top: {}'.format(top))\nprint('bottom: {}'.format(bottom))\ncv2.imshow('thresh', thresh)\ncv2.imshow('image', image)\ncv2.waitKey()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12540, "user_id": 11089932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9t0d.jpg?s=128&g=1", "display_name": "HansHirse", "link": "https://stackoverflow.com/users/11089932/hanshirse"}, "is_accepted": false, "score": 10, "last_activity_date": 1561699191, "last_edit_date": 1592644375, "creation_date": 1561699191, "answer_id": 56801276, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv/56801276#56801276", "title": "Find extreme outer points in image with Python OpenCV", "body": "<p>Here's a possible improvement to <a href=\"https://stackoverflow.com/a/56781750/11089932\">nathancy's answer</a>, where most of the code comes from, also the main idea of using <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html\" rel=\"noreferrer\"><code>np.argmax</code></a>. So, please have a look at that answer before!</p>\n<hr />\n<p>Since we already have a binarized image from <a href=\"https://docs.opencv.org/4.1.0/d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57\" rel=\"noreferrer\"><code>cv2.threshold</code></a>, such that the (white) background of the input image is set to zero, we can use the ability of <a href=\"https://docs.opencv.org/4.1.0/d3/dc0/group__imgproc__shape.html#ga103fcbda2f540f3ef1c042d6a9b35ac7\" rel=\"noreferrer\"><code>cv2.boundingRect</code></a> to <em>&quot;calculate the up-right bounding rectangle of a point set or non-zero pixels of gray-scale image&quot;</em>. The method returns a tuple <code>(x, y, w, h)</code> with <code>(x, y)</code> the upper left point as well as width <code>w</code> and height <code>h</code> of the bounding rectangle. From there, the mentioned points <code>left</code>, <code>right</code>, etc. can be obtained easily using <code>np.argmax</code> on the corresponding slice of the <code>thresh</code> image.</p>\n<p>Here comes the full code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import cv2\nimport numpy as np\n\nimage = cv2.imread('images/dMXjY.png')\n\nblur = cv2.GaussianBlur(image, (3,3), 0)\ngray = cv2.cvtColor(blur, cv2.COLOR_BGR2GRAY)\n\nthresh = cv2.threshold(gray, 220, 255, cv2.THRESH_BINARY_INV)[1]\n\nx, y, w, h = cv2.boundingRect(thresh)           #  Replaced code\n                                                # \nleft = (x, np.argmax(thresh[:, x]))             # \nright = (x+w-1, np.argmax(thresh[:, x+w-1]))    # \ntop = (np.argmax(thresh[y, :]), y)              # \nbottom = (np.argmax(thresh[y+h-1, :]), y+h-1)   # \n\ncv2.circle(image, left, 8, (0, 50, 255), -1)\ncv2.circle(image, right, 8, (0, 255, 255), -1)\ncv2.circle(image, top, 8, (255, 50, 0), -1)\ncv2.circle(image, bottom, 8, (255, 255, 0), -1)\n\nprint('left: {}'.format(left))\nprint('right: {}'.format(right))\nprint('top: {}'.format(top))\nprint('bottom: {}'.format(bottom))\ncv2.imshow('thresh', thresh)\ncv2.imshow('image', image)\ncv2.waitKey()\n</code></pre>\n<p>The image outputs look like the ones in nathancy's answer.</p>\n<p>Nevertheless, one of the resulting points differs a bit:</p>\n<blockquote>\n<p>left: (162, 527)</p>\n<p><strong>right: (463, 461)</strong> (instead of (463, 467))</p>\n<p>top: (250, 8)</p>\n<p>bottom: (381, 580)</p>\n</blockquote>\n<p>If we have a closer look on the <code>thresh</code> image, we'll see that for the <code>463</code>-th column, all pixels in the range of <code>461 ... 467</code> have a value of <code>255</code>. So, for the right edge, there's no unique extreme value.</p>\n<p>The contour <code>c</code> found in nathancy's approach holds the two points <code>(463, 467)</code> and <code>(463, 461)</code> in that order, such that <code>np.argmax</code> will find <code>(463, 467)</code> first. In my approach, the <code>463</code>-th column is examined from <code>0</code> to <code>(height of image)</code>, such that <code>np.argmax</code> will find <code>(463, 461)</code> first instead.</p>\n<p>From my point of view, both (or even all other points in between) are suitable results, since there's no additional constraint on the handling of multiple extreme points.</p>\n<p>Using <code>cv2.boundingRect</code> saves two lines of code, and also performs faster, at least according to some short tests using <code>timeit</code>.</p>\n<hr />\n<p>Disclosure: Again, most of the code and the main idea come from <a href=\"https://stackoverflow.com/a/56781750/11089932\">nathancy's answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16892, "user_id": 461499, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/OKnmM.png?s=128&g=1", "display_name": "RobAu", "link": "https://stackoverflow.com/users/461499/robau"}, "is_accepted": false, "score": 2, "last_activity_date": 1561712794, "creation_date": 1561712794, "answer_id": 56804003, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv/56804003#56804003", "title": "Find extreme outer points in image with Python OpenCV", "body": "<p>You don't need expensive code like <code>findContours</code>. You just need to scan the image line-by-line from 4 sides outside-in until you find the first non-white pixel.</p>\n\n<p>From the left, start scanning top left to bottom left. If no white pixel is found, move 1 pixel to the right and go from top to bottom again. Once you find a non-white-pixel, this is your <code>left</code>.</p>\n\n<p>Do the same for all sides.</p>\n"}, {"tags": [], "owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 6, "last_activity_date": 1561731323, "creation_date": 1561731323, "answer_id": 56808568, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv/56808568#56808568", "title": "Find extreme outer points in image with Python OpenCV", "body": "<p>Rather than inspecting every single element (and stalling the CPU with an <code>if</code> statement for every pixel) it is probably faster to sum all the elements down every column. They should come to 600*255, or 153,000 if they are all white. So, then find where 153,000 minus the column-total is non-zero. The first and last will be the top and bottom of the statue.</p>\n\n<p>Then repeat across the rows to find left and right extrema.</p>\n\n<p>So, starting with the greyscale image, run down each row totalling up the pixels:</p>\n\n<pre><code>import numpy as np\n\n# Total up all the elements in each column\ncolsums = np.sum(gray, axis=0)\n</code></pre>\n\n<p>The sums of each column now look like this:</p>\n\n<pre><code>array([153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 152991, 153000, 152976, 152920,\n       152931, 152885, 151600, 148818, 147448, 146802, 146568, 146367,\n       146179, 145888, 145685, 145366, 145224, 145066, 144745, 144627,\n       144511, 144698, 144410, 144329, 144162, 143970, 143742, 143381,\n       141860, 139357, 135358, 133171, 131138, 129246, 128410, 127866,\n       127563, 127223, 126475, 125614, 125137, 124848, 122906, 121653,\n       119278, 115548, 114473, 113800, 113486, 112655, 112505, 112670,\n       111845, 111124, 110378, 110315, 109996, 109693, 109649, 109411,\n       110626, 110628, 112247, 112348, 111865, 111571, 110601, 108308,\n       107213, 106768, 105546, 103971, 103209, 101866, 100215,  98964,\n        98559,  97008,  94981,  94513,  92490,  91555,  91491,  90072,\n        88642,  87210,  86960,  86834,  85759,  84496,  83237,  81911,\n        80249,  78942,  77715,  76918,  75746,  75826,  75443,  75087,\n        75156,  75432,  75730,  75699,  77028,  77825,  76813,  76718,\n        75958,  75207,  74216,  73042,  72527,  72043,  71819,  71384,\n        70693,  69922,  69537,  69685,  69688,  69876,  69552,  68937,\n        68496,  67942,  67820,  67626,  67627,  68113,  68426,  67894,\n        67868,  67365,  66191,  65334,  65752,  66438,  66285,  66565,\n        67616,  69090,  69386,  69928,  70470,  70318,  70228,  71028,\n        71197,  71827,  71712,  71312,  72013,  72878,  73398,  74038,\n        75017,  76270,  76087,  75317,  75210,  75497,  75099,  75620,\n        75059,  75008,  74146,  73531,  73556,  73927,  75395,  77235,\n        77094,  77229,  77463,  77808,  77538,  77104,  76816,  76500,\n        76310,  76331,  76889,  76293,  75626,  74966,  74871,  74950,\n        74931,  74852,  74885,  75077,  75576,  76104,  76208,  75387,\n        74971,  75878,  76311,  76566,  77014,  77205,  77231,  77456,\n        77983,  78379,  78793,  78963,  79154,  79710,  80777,  82547,\n        85164,  88944,  91269,  92438,  93646,  94836,  96071,  97918,\n       100244, 102011, 103553, 104624, 104961, 105354, 105646, 105866,\n       106367, 106361, 106461, 106659, 106933, 107055, 106903, 107028,\n       107080, 107404, 107631, 108022, 108194, 108261, 108519, 109023,\n       109349, 109873, 110373, 110919, 111796, 112587, 113219, 114143,\n       115161, 115733, 116531, 117615, 118338, 119414, 120492, 121332,\n       122387, 123824, 124938, 126113, 127465, 128857, 130411, 131869,\n       133016, 133585, 134442, 135772, 136440, 136828, 137200, 137418,\n       137705, 137976, 138167, 138481, 138788, 138937, 139194, 139357,\n       139375, 139583, 139924, 140201, 140716, 140971, 141285, 141680,\n       141837, 141975, 142260, 142567, 142774, 143154, 143533, 143853,\n       144521, 145182, 145832, 147978, 149006, 150026, 151535, 152753,\n       152922, 152960, 152990, 152991, 153000, 152995, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000,\n       153000, 153000, 153000, 153000, 153000, 153000, 153000, 153000],\n      dtype=uint64)\n</code></pre>\n\n<p>Now find where those columns do not sum up to 153,000:</p>\n\n<pre><code>np.nonzero(153000-colsums)                                                                 \n</code></pre>\n\n<p>That looks like this:</p>\n\n<pre><code>(array([156, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169,\n        170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182,\n        183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195,\n        196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208,\n        209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221,\n        222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234,\n        235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,\n        248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260,\n        261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273,\n        274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286,\n        287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299,\n        300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312,\n        313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325,\n        326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338,\n        339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351,\n        352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364,\n        365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377,\n        378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390,\n        391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403,\n        404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416,\n        417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429,\n        430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442,\n        443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455,\n        456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 469]),)\n</code></pre>\n\n<p>So the top row that doesn't consist entirely of white pixels is row 156 (the first entry) and the bottom row that doesn't entirely consist of white pixels is row 469 (the last entry).</p>\n\n<p>Now sum across the other axis (axis=1) and do the same thing again to get left and right extrema.</p>\n"}, {"tags": [], "owner": {"reputation": 1326, "user_id": 13226440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mj9h0.png?s=128&g=1", "display_name": "Alex Alex", "link": "https://stackoverflow.com/users/13226440/alex-alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1586592360, "creation_date": 1586592360, "answer_id": 61153763, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv/61153763#61153763", "title": "Find extreme outer points in image with Python OpenCV", "body": "<pre><code>import cv2\nimport numpy as np\nimg = cv2.imread('statue.png')\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\nthresh = cv2.threshold(gray, 220, 255, cv2.THRESH_BINARY_INV)[1]\nsz=thresh.shape\ntop=divmod(np.flatnonzero(thresh)[0], sz[0])[::-1]\nbotton=divmod(np.flatnonzero(thresh)[-1], sz[0])[::-1]\nthresh=thresh.T\nleft=divmod(np.flatnonzero(thresh)[0], sz[1])\nright=divmod(np.flatnonzero(thresh)[-1], sz[1])\nprint(left, right, top, botton, sep='\\n')\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 11279937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f426fe3ecf7b3e3f2fb5030b3ad5607c?s=128&d=identicon&r=PG&f=1", "display_name": "coffeewin", "link": "https://stackoverflow.com/users/11279937/coffeewin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6698, "favorite_count": 0, "accepted_answer_id": 56781750, "answer_count": 5, "score": 13, "last_activity_date": 1586592360, "creation_date": 1561587637, "last_edit_date": 1562198263, "question_id": 56781635, "link": "https://stackoverflow.com/questions/56781635/find-extreme-outer-points-in-image-with-python-opencv", "title": "Find extreme outer points in image with Python OpenCV", "body": "<p>I have this image of a statue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dMXjY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dMXjY.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to find the top, bottom, left, and right most points on the statue. Is there a way to measure the edge of each side to determine the outer most point on the statue? I want to get the <code>(x,y)</code> coordinate of each side. I have tried to use <code>cv2.findContours()</code> and <code>cv2.drawContours()</code> to get an outline of the statue.</p>\n\n<pre><code>import cv2\n\nimg = cv2.imread('statue.png')\n\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\ncontours = cv2.findContours(gray, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)[0]\ncv2.drawContours(img, contours, -1, (0, 200, 0), 3)\n\ncv2.imshow('img', img)\ncv2.waitKey()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "imshow"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 936966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d818ae16dccb06db4a852d950c900336?s=128&d=identicon&r=PG", "display_name": "VahidG", "link": "https://stackoverflow.com/users/936966/vahidg"}, "edited": false, "score": 0, "creation_date": 1562706896, "post_id": 56824020, "comment_id": 100459139, "body": "Thank you @ImportanceOfBeingErnest for the solution, I was missing the autoscale() call."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1561889614, "creation_date": 1561889614, "answer_id": 56824020, "question_id": 56781634, "link": "https://stackoverflow.com/questions/56781634/how-to-plot-and-align-multiresolution-images-using-matplotlib/56824020#56824020", "title": "How to plot and align multiresolution images using matplotlib?", "body": "<p>Plotting all the images in the same axes is equally possible</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nN =10\nfig, ax = plt.subplots(figsize=(16,6))\nax.axis('off')\n\nfor n in range(N):\n    x = np.sin(np.linspace(0,2*np.pi,(n+1)*10))\n    ax.imshow([x, x], extent=(0, 2*np.pi, n, n+1), aspect='auto')\nax.autoscale()\nax.invert_yaxis()\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 936966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d818ae16dccb06db4a852d950c900336?s=128&d=identicon&r=PG", "display_name": "VahidG", "link": "https://stackoverflow.com/users/936966/vahidg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56824020, "answer_count": 1, "score": 0, "last_activity_date": 1561889614, "creation_date": 1561587632, "question_id": 56781634, "link": "https://stackoverflow.com/questions/56781634/how-to-plot-and-align-multiresolution-images-using-matplotlib", "title": "How to plot and align multiresolution images using matplotlib?", "body": "<p>I'm looking for a way to plot multiple images with the same xlims and varying resolution which are aligned along the x-axis and stacked in y-axis.</p>\n\n<p>I was able to generate what I want using subplots (shown below), but I'm curious to know if there is a better and simpler way of doing this in a single axes.</p>\n\n<p>Here is the code I used to generate image below:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nN =10\nfig,ax = plt.subplots(N,1, figsize=(16,6), sharex=True)\nfig.subplots_adjust(hspace=0)\nfor n in range(N):\n    x = np.sin(np.linspace(0,2*np.pi,(n+1)*10))\n    ax[n].imshow([x, x], extent=(0,2*np.pi,0,1), aspect='auto')\n    ax[n].axis('off')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9UUwk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9UUwk.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "hadoop", "hbase", "happybase"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3126362"}, "is_accepted": true, "score": 0, "last_activity_date": 1561593265, "creation_date": 1561593265, "answer_id": 56782287, "question_id": 56781616, "link": "https://stackoverflow.com/questions/56781616/broken-pipe-error-when-uploading-data-to-apache-hbase/56782287#56782287", "title": "Broken Pipe error when uploading data to Apache Hbase", "body": "<p>Found my error - because I'm calling <code>pandas.read_csv</code> after I open the HappyBase connection, the connection times out. Calling <code>read_csv</code> before I open the connection remedied the problem.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3126362"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "accepted_answer_id": 56782287, "answer_count": 1, "score": 0, "last_activity_date": 1561784157, "creation_date": 1561587479, "last_edit_date": 1561784157, "question_id": 56781616, "link": "https://stackoverflow.com/questions/56781616/broken-pipe-error-when-uploading-data-to-apache-hbase", "title": "Broken Pipe error when uploading data to Apache Hbase", "body": "<p>I'm currently trying to load a large CSV into Apache hbase. The CSV is 50,000 columns wide and 15,000 rows. The values for the CSV are just integers.</p>\n\n<p>The Hbase cluster is running on AWS EMR, with plenty of memory (244GB) and compute (32 cores each, 4 nodes).</p>\n\n<p>I'm trying to load the data into the database with this python script:</p>\n\n<pre><code>import happybase\nimport pandas as pd\n\nconnection = happybase.Connection('localhost')\n\nfamiles = {\n    's': dict(in_memory=True)\n}\n\n#connection.delete_table('exon', disable=True)\nconnection.create_table('exon', familes)\n\ntable = connection.table('exon')\ndf = pd.read_csv('exon.csv', nrows=1000)\n\ncol = list(df)\ncol = col[1:]\n\n\nfor index, row in df.iterrows():\n    to_put = {}\n    for col_name in col:\n        to_put[('s:'+ col_name).encode('utf-8')] = str(row[col_name]).encode('utf-8')\n    print('putting: ' + str(row[0]))\n    table.put(row[0].encode('utf-8'), to_put)\n</code></pre>\n\n<p>When this script runs, only reading the first few rows, there is no issue:</p>\n\n<pre><code>df = pd.read_csv('exon.csv', nrows=20)\n</code></pre>\n\n<p>However, reading more rows causes an error:</p>\n\n<pre><code>df = pd.read_csv('exon.csv', nrows=1000)\n</code></pre>\n\n<pre><code>putting: F1S4_160106_001_B01\nTraceback (most recent call last):\n  File \"load.py\", line 25, in &lt;module&gt;\n    table.put(row[0].encode('utf-8'), to_put)\n  File \"/usr/local/lib/python3.6/site-packages/happybase/table.py\", line 464, in put\n    batch.put(row, data)\n  File \"/usr/local/lib/python3.6/site-packages/happybase/batch.py\", line 137, in __exit__\n    self.send()\n  File \"/usr/local/lib/python3.6/site-packages/happybase/batch.py\", line 60, in send\n    self._table.connection.client.mutateRows(self._table.name, bms, {})\n  File \"/usr/local/lib64/python3.6/site-packages/thriftpy2/thrift.py\", line 200, in _req\n    self._send(_api, **kwargs)\n  File \"/usr/local/lib64/python3.6/site-packages/thriftpy2/thrift.py\", line 210, in _send\n    args.write(self._oprot)\n  File \"/usr/local/lib64/python3.6/site-packages/thriftpy2/thrift.py\", line 153, in write\n    oprot.write_struct(self)\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 477, in cybin.TCyBinaryProtocol.write_struct\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 474, in cybin.TCyBinaryProtocol.write_struct\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 212, in cybin.write_struct\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 356, in cybin.c_write_val\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 115, in cybin.write_list\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 362, in cybin.c_write_val\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 212, in cybin.write_struct\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 356, in cybin.c_write_val\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 115, in cybin.write_list\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 362, in cybin.c_write_val\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 209, in cybin.write_struct\n  File \"thriftpy2/protocol/cybin/cybin.pyx\", line 71, in cybin.write_i08\n  File \"thriftpy2/transport/buffered/cybuffered.pyx\", line 55, in thriftpy2.transport.buffered.cybuffered.TCyBufferedTransport.c_write\n  File \"thriftpy2/transport/buffered/cybuffered.pyx\", line 80, in thriftpy2.transport.buffered.cybuffered.TCyBufferedTransport.c_flush\n  File \"/usr/local/lib64/python3.6/site-packages/thriftpy2/transport/socket.py\", line 136, in write\n    self.sock.sendall(buff)\nBrokenPipeError: [Errno 32] Broken pipe\n</code></pre>\n\n<p>Is it just too much data inserted at once? I've tried batch puts as well, the same issue comes up.</p>\n"}, {"tags": ["python", "python-3.x", "machine-learning", "graphics", "computer-vision"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1561587275, "post_id": 56781558, "comment_id": 100118003, "body": "You got an error, not 0. What are we supposed to be helping with here?"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 11574709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_R6mV-EvUmU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcIVK7sbmfZP_jre7a77cg4VNYyw/mo/photo.jpg?sz=128", "display_name": "Joshua ", "link": "https://stackoverflow.com/users/11574709/joshua"}, "edited": false, "score": 0, "creation_date": 1561673257, "post_id": 56781656, "comment_id": 100152581, "body": "Okay! Thank you so much!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1561587783, "creation_date": 1561587783, "answer_id": 56781656, "question_id": 56781558, "link": "https://stackoverflow.com/questions/56781558/expected-2-got-0/56781656#56781656", "title": "Expected 2 got 0", "body": "<p>Read the code and the error message:</p>\n\n<pre><code>features, _ = fo.feature_extraction(0)\n...\nnot enough values to unpack (expected 2, got 0)\n</code></pre>\n\n<p>You tried to assign two values, but <code>feature_extraction</code> doesn't return any at all.\nRe-visit the documentation and usage notes?</p>\n"}], "owner": {"reputation": 177, "user_id": 11574709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_R6mV-EvUmU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcIVK7sbmfZP_jre7a77cg4VNYyw/mo/photo.jpg?sz=128", "display_name": "Joshua ", "link": "https://stackoverflow.com/users/11574709/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 56781656, "answer_count": 1, "score": -4, "last_activity_date": 1561587783, "creation_date": 1561587069, "question_id": 56781558, "link": "https://stackoverflow.com/questions/56781558/expected-2-got-0", "title": "Expected 2 got 0", "body": "<p>Hi I was wondering how can I fix this issue when it expects to receive two but it gets nothing? Also I have been trying to run the code called this github but I have been getting numerous errors. The code can be seen <a href=\"https://github.com/CSAILVision/IBD\" rel=\"nofollow noreferrer\">https://github.com/CSAILVision/IBD</a> </p>\n\n<p>I have tried deleting the underline character and the edit the code so it doesn't have any red lines preventing it from running</p>\n\n<pre><code>import os\nimport settings\nfrom loader.model_loader import loadmodel\nfrom util.feature_operation import FeatureOperator\nfrom util.clean import clean\nfrom util.feature_decoder import SingleSigmoidFeatureClassifier\nfrom util.image_operation import *\nfrom PIL import Image\nimport numpy as np\n\nfrom imageio import imread\n\n\nfrom visualize.plot import random_color\nfrom torch.autograd import Variable as V\nimport torch\n\n\nmodel = loadmodel()\nfo = FeatureOperator()\n\nfeatures, _ = fo.feature_extraction(0)\n\nfor layer_id, layer in enumerate(settings.FEATURE_NAMES):\n    feat_clf = SingleSigmoidFeatureClassifier(feature=features[layer_id], layer=layer, fo=fo)\n    feat_clf.load_snapshot(14, unbiased=True)\n\ndata_loader.py:156: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.\n  result[list(np.indices(arr.shape)) + [arr]] = 1\nloading features layer4\nTraceback (most recent call last):\n  File \"test.py\", line 26, in &lt;module&gt;\n    features, _ = fo.feature_extraction(0)\nValueError: not enough values to unpack (expected 2, got 0)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 5, "creation_date": 1561587025, "post_id": 56781521, "comment_id": 100117944, "body": "<code>ctr+c</code> -&gt; <code>ctrl+v</code> ?"}, {"owner": {"reputation": 2873, "user_id": 1929959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/be7c8d8d01d02c41df25100e7f294234?s=128&d=identicon&r=PG", "display_name": "Mihai8", "link": "https://stackoverflow.com/users/1929959/mihai8"}, "edited": false, "score": 0, "creation_date": 1561587145, "post_id": 56781521, "comment_id": 100117972, "body": "A solution is to use also a python program for that, as can be see in <a href=\"https://stackoverflow.com/questions/43871417/how-to-compare-and-merge-two-files-in-python\" title=\"how to compare and merge two files in python\">stackoverflow.com/questions/43871417/&hellip;</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1561588722, "post_id": 56781521, "comment_id": 100118396, "body": "Instead of creating a new module, you could just <code>import</code> the functions you want using for example <code>from 1.py import func_a, func_d, etc</code> and the do something similar for <code>2.py</code>."}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "edited": false, "score": 0, "creation_date": 1561588736, "post_id": 56781521, "comment_id": 100118398, "body": "Even with the edit, it still isn&#39;t hard. Python is very indentation-dependent, meaning, you just search for the def you need, then you copy every line until the indentation ends."}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1561588798, "post_id": 56781521, "comment_id": 100118415, "body": "But I agree with @martineau, it&#39;s unclear what you are actually trying to accomplish with this, but I sense that there are easier ways than merging source files."}, {"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1561589103, "post_id": 56781521, "comment_id": 100118490, "body": "what @martineau suggested would work but not in this case. I&#39;m working on a program of programs which I was exploring how to develop a program from a set of distributed codes and wanted certain definitions to be inserted in a predefined order of operation from various files."}], "answers": [{"tags": [], "owner": {"reputation": 5236, "user_id": 958118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac37c9f3e640dc3f7a79585e7bdd7bd?s=128&d=identicon&r=PG", "display_name": "Joseph Sheedy", "link": "https://stackoverflow.com/users/958118/joseph-sheedy"}, "is_accepted": false, "score": 6, "last_activity_date": 1561586843, "creation_date": 1561586843, "answer_id": 56781528, "question_id": 56781521, "link": "https://stackoverflow.com/questions/56781521/how-to-glue-stitch-two-python-code-together/56781528#56781528", "title": "How to glue (stitch) two python code together?", "body": "<p>If you're on a unix shell:</p>\n\n<p><code>cat 1.py 2.py &gt; 3.py</code></p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 3, "last_activity_date": 1561586967, "creation_date": 1561586967, "answer_id": 56781544, "question_id": 56781521, "link": "https://stackoverflow.com/questions/56781521/how-to-glue-stitch-two-python-code-together/56781544#56781544", "title": "How to glue (stitch) two python code together?", "body": "<p>This is a problem in your OS tools, not Python.  You're simply concatenating two text files.  You can look up how to do that in your OS.  If you have a favorite text editor, open a new file.  Read in <code>1.py</code>; at the bottom of that, read in <code>2.py</code>; save the result as <code>3.py</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561587559, "post_id": 56781582, "comment_id": 100118083, "body": "Your method would have worked if every line was needed. Only elements of each file are needed per se."}, {"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561587699, "post_id": 56781582, "comment_id": 100118131, "body": "Skip empty lines or entire def. Search a file full of definitions and find a specific definition and copy it. Also, this could be done for multiple definitions and files as well."}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "reply_to_user": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561587749, "post_id": 56781582, "comment_id": 100118139, "body": "You could add a list of requiered definitions and filter. How many are there?"}, {"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561587820, "post_id": 56781582, "comment_id": 100118153, "body": "It could be any number. I need it to be generic to handle any quantity of definitions and file to search."}, {"owner": {"reputation": 335, "user_id": 11639518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHyIi.jpg?s=128&g=1", "display_name": "jhelphenstine", "link": "https://stackoverflow.com/users/11639518/jhelphenstine"}, "edited": false, "score": 0, "creation_date": 1561588958, "post_id": 56781582, "comment_id": 100118455, "body": "So you&#39;re looking for a function that: identifies a definition, checks the name against a list of desired definitions, and based on that result either ingests the definition or &quot;i++&#39;s&quot; and moves on?"}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "reply_to_user": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561589349, "post_id": 56781582, "comment_id": 100118554, "body": "@Kevin_ALA I have added to my code. Is this what you meant?"}, {"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561589436, "post_id": 56781582, "comment_id": 100118576, "body": "That is the closest thing to what I was imagining. Thanks a lot @Tomerikoo."}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "reply_to_user": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561589611, "post_id": 56781582, "comment_id": 100118619, "body": "@Kevin_ALA please note I have added an important condition to the second loop in case one of the definitions you need is last in file!"}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "edited": false, "score": 0, "creation_date": 1561589636, "post_id": 56781582, "comment_id": 100118625, "body": "@Tomerikoo you also have to check for empty lines, empty lines don&#39;t start with whitespace but don&#39;t end a function"}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1561589771, "post_id": 56781582, "comment_id": 100118659, "body": "I was thinking about the option that a function can have an empty line inside it. Meaning I can&#39;t stop on empty line because the next might still be part of the function. If you have a specific known structure which this don&#39;t happen, you can alter the conditions"}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "edited": false, "score": 0, "creation_date": 1561589864, "post_id": 56781582, "comment_id": 100118675, "body": "Also, a comment can be at the start of a line without whitespace, still doesn&#39;t end the function"}, {"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561589988, "post_id": 56781582, "comment_id": 100118700, "body": "So I suppose to handle the blank lines/end of the definition, the read could be set to, once the initial desired definition is found, to continue reading until it comes across another def()?"}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1561590154, "post_id": 56781582, "comment_id": 100118744, "body": "Yeah I was going for something even more general assuming there might be any line of code. But counting on that any other code of the same indent level means the end of definition"}, {"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "reply_to_user": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "edited": false, "score": 0, "creation_date": 1561626824, "post_id": 56781582, "comment_id": 100129627, "body": "@Finomnis a comment will not end the function in my code also. <code>#</code> is not included in the <code>\\w</code> group of regex"}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "edited": false, "score": 1, "creation_date": 1561627778, "post_id": 56781582, "comment_id": 100130178, "body": "@Tomerikoo you are correct. My bad. Still, it&#39;s an incorrect assumption that all code lines start with <code>\\w</code>. example: <code>(a,b) = function()</code> would <b>not</b> end your function, while it definitely is a code line. The correct way, imo, is to separately check for whether it is a code line, by checking if it doesn&#39;t start with <code>\\s*#</code> or only contains <code>\\s*</code>. Then you need to see if the line starts with the same indentation, not just any indentation."}], "tags": [], "owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1561590372, "last_edit_date": 1561590372, "creation_date": 1561587248, "answer_id": 56781582, "question_id": 56781521, "link": "https://stackoverflow.com/questions/56781521/how-to-glue-stitch-two-python-code-together/56781582#56781582", "title": "How to glue (stitch) two python code together?", "body": "<p>You could do that in python itself!</p>\n\n<p>Assuming you have a list of requiered definitions:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import re\n\nfiles = [\"1.py\", \"2.py\"]  # ......\ndefs = [\"func_1\", \"func_2\"]\n\nwith open(\"final.py\", 'w') as out_f:\n    for path in files:\n        with open(path) as in_f:\n            lines = in_f.readlines()\n            i = 0\n            while i &lt; len(lines):\n                line = lines[i]\n                r = re.search(\"^def\\s+(\\w+)\\(\", line)\n                if r:\n                    if r.group(1) in defs:\n                        out_f.write(line)\n                        while i &lt; len(lines) and not re.search(\"^\\w\", lines[i+1]): # relying on python's indent syntax\n                            out_f.write(lines[i+1])\n                            i += 1\n                i += 1\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 1, "creation_date": 1561592487, "post_id": 56782176, "comment_id": 100119219, "body": "Thank you! I will test it and will get back to you"}, {"owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "reply_to_user": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 0, "creation_date": 1561628874, "post_id": 56782176, "comment_id": 100130859, "body": "Merged it to one function and added a couple of comments. Also, please remove the accepted flag from the other solution until it can handle all special cases."}], "tags": [], "owner": {"reputation": 2154, "user_id": 3763264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43c767b10ee2ee9aa75680bf7377779?s=128&d=identicon&r=PG&f=1", "display_name": "Finomnis", "link": "https://stackoverflow.com/users/3763264/finomnis"}, "is_accepted": false, "score": 1, "last_activity_date": 1561629175, "last_edit_date": 1561629175, "creation_date": 1561592184, "answer_id": 56782176, "question_id": 56781521, "link": "https://stackoverflow.com/questions/56781521/how-to-glue-stitch-two-python-code-together/56782176#56782176", "title": "How to glue (stitch) two python code together?", "body": "<p>This got a little out of hand, but I tried to re-implement it with proper structure, and this is what I came up with:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport re\n\ndef extract_functions(code_lines, names):\n\n    # Checks if given line contains code\n    def is_code_line(line):\n        stripped = line.strip()\n        if stripped.startswith('#'):\n            return False\n        if len(stripped) == 0:\n            return False\n        return True\n\n    # Retreives the indentation pattern of given line\n    def get_indentation(line):\n        num_indent_chars = len(line) - len(line.lstrip())\n        return line[:num_indent_chars]\n\n    # Returns the function name if line has a function definition, else None\n    function_name_extractor = re.compile(r'^def\\s+(\\w+)\\s*\\(')\n    def get_function_name(line):\n        match = function_name_extractor.match(line)\n        if match is None:\n            return None\n        return match.group(1)\n\n    extracted = list()\n    in_function = False \n\n    for num, line in enumerate(code_lines):\n        # Non-code lines don't end or start functions,\n        # even if their indentation is wrong\n        if not is_code_line(line):\n            continue\n\n        if in_function:\n            # If this is the first line of the function, store the indentation\n            if function_indent == None:\n                function_indent = get_indentation(line)\n\n            # If we match the indentation, we are still in the same function.\n            # Store that the function includes the current line\n            if line.startswith(function_indent):\n                function_end = num + 1\n\n            # If we detect the end of the current function, extract the\n            # function lines and store them in 'extracted'.\n            else:\n                extracted.extend(code_lines[function_start:function_end])\n                in_function = False\n\n        # If we are currently not inside a function, check if current line\n        # contains a function start.\n        # Needs a separate 'if' and not just an 'else' because this code\n        # needs to run if the previous 'if' detected the end of a function.\n        if not in_function:\n            line_function_name = get_function_name(line)\n            if line_function_name is not None and line_function_name in names:\n                in_function = True\n                function_start = num\n                function_end = num + 1\n                function_indent = None\n\n    # One more extraction if the function reaches all the way to the last line\n    if in_function:\n        extracted.extend(code_lines[function_start:function_end])\n\n    return extracted\n\n\n\n\nwith open('1_and_2.py', 'w') as out_fil:\n    with open('1.py', 'r') as fil:\n        for line in extract_functions(fil.readlines(), ['func_a1', 'func_b1']):\n            out_fil.write(line) \n        # It isn't guaranteed that our last line in the file ends with a newline,\n        # Therefore add one manually\n        out_fil.write('\\n')\n    with open('2.py', 'r') as fil:\n        for line in extract_functions(fil.readlines(), ['func_a2', 'func_b2']):\n            out_fil.write(line) \n        out_fil.write('\\n')\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56781582, "answer_count": 4, "score": 0, "last_activity_date": 1561629175, "creation_date": 1561586737, "last_edit_date": 1561594292, "question_id": 56781521, "link": "https://stackoverflow.com/questions/56781521/how-to-glue-stitch-two-python-code-together", "title": "How to glue (stitch) two python code together?", "body": "<p>I am wondering what is the best way to put together codes from different python files into a new python file.\nLets say the first file <code>1.py</code>would consist of:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def(...):\n    a=1\n    b=2\n    return c=a+b\n</code></pre>\n\n<p>And another file <code>2.py</code> consists of:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def(...):\n    d = 4\n    e = c*d\n    return e\n</code></pre>\n\n<p>Now let's say you have a final file, <code>final.py</code>, which you want all the codes from <code>1.py</code> and <code>2.py</code> copied word by word to it in a specific order of operation where it looks as below. Note that I understand we can use the import function in python but in this case, I would like the whole text of certain definitions to be copied to the new python code. In another term, glue the codes from different files to build a new file.</p>\n\n<p>final.py:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def(...):\n    a=1\n    b=2\n    return c=a+b\ndef(...):\n    d = 4\n    e = c*d\n    return e\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Rephrase above: what if file 1 has 100 definitions and file 2 has 100 definitions but I want specific ones from each file copied over to file 3 with full text and syntax in a specified order. </p>\n"}, {"tags": ["python", "c", "hash", "binary", "bit-manipulation"], "comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561586869, "post_id": 56781505, "comment_id": 100117901, "body": "So what&#39;s the problem exactly? Because that output does not match your python code at all."}, {"owner": {"reputation": 29, "user_id": 9460902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mTB6agn7Qjk/AAAAAAAAAAI/AAAAAAAAAA0/FXgRL-Z2nF8/photo.jpg?sz=128", "display_name": "Gibran Akbaromi", "link": "https://stackoverflow.com/users/9460902/gibran-akbaromi"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561590622, "post_id": 56781505, "comment_id": 100118838, "body": "@FHTMitchell i want the output not binary, string that contain hexadecimal would be great"}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": true, "score": 0, "last_activity_date": 1561642419, "creation_date": 1561642419, "answer_id": 56792242, "question_id": 56781505, "link": "https://stackoverflow.com/questions/56781505/python-data-type-after-bitwise-operation-from-c-language/56792242#56792242", "title": "python data type after bitwise operation (from c language)", "body": "<p>There's an error in the conversion from C to Python - the C line</p>\n\n<pre><code>    buf ^= (1&amp;x[i])&lt;&lt;(7-(i%8));\n</code></pre>\n\n<p>has been translated to the Python line</p>\n\n<pre><code>    buf ^= (1 &amp; x[i] &lt;&lt; (7 - (i%8)))\n</code></pre>\n\n<p>whereby a parenthesis has been misplaced. The C line should rather have been copied as it was, just removing the <code>;</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 9460902, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mTB6agn7Qjk/AAAAAAAAAAI/AAAAAAAAAA0/FXgRL-Z2nF8/photo.jpg?sz=128", "display_name": "Gibran Akbaromi", "link": "https://stackoverflow.com/users/9460902/gibran-akbaromi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56792242, "answer_count": 1, "score": -1, "last_activity_date": 1561642419, "creation_date": 1561586627, "question_id": 56781505, "link": "https://stackoverflow.com/questions/56781505/python-data-type-after-bitwise-operation-from-c-language", "title": "python data type after bitwise operation (from c language)", "body": "<p>i have been trying to convert one of the method from hashing quark, that originaly from c language, and im trying to change it to python, this method is used for showing the current state of hash, and i found a problem that my output, the pytho one, only give the output with binary, and the output that i was expecting is everything except binary, and how do i convert it? or are there is any other way to manipulate it?</p>\n\n<p>code from python</p>\n\n<pre><code>def showstate(x):\n    i = 0\n    buf = 0\n    width = 17\n    #print (x)\n\n    while i &lt; 8 * width:\n        buf ^= (1 &amp; x[i] &lt;&lt; (7 - (i%8)))\n\n        #my_hex = buf.decode('hex')\n\n        #print (\"%d\"%buf, end = '')\n        if  (((i%8) == 7) and (i)):\n            #print (\" \".join(hex(ord(n)) for n in buf))\n            #a = int(str(buf), 2)\n            #print(a)\n            print(\"%02x\"%buf, end = '')\n            buf = 0\n        i += 1\n\n    #print(x)\n     #print (\"/n\") \n\n</code></pre>\n\n<p>output from python</p>\n\n<pre><code>ENTER PERMUTE\n0000000001000101000100010001010100\nPERMUTE DONE\n0000000001000101010100000100010101\nEXTRACTED ONE BYTE\n\nENTER PERMUTE\n0000000001000101010100000100010101\nPERMUTE DONE\n0000000001000101010100000101000100\nEXTRACTED ONE BYTE\n</code></pre>\n\n<p>code from c</p>\n\n<pre><code>void showstate( u32 * x ) {\n\n  int i;\n  u8 buf=0;\n  for(i=0;i&lt;8*WIDTH;++i) {\n    buf ^= (1&amp;x[i])&lt;&lt;(7-(i%8));\n      /*printf(\"%d\",buf);*/\n    if (((i%8)==7) &amp;&amp; (i)) {\n      printf(\"%02x\",buf); /*panjang nya 2 digit, kalau cuma satu digit diisi 0 */\n      buf=0;\n    }\n  }\n  printf(\"\\n\");\n  printf(\"%d\", buf);\n  printf(\"\\n\");\n\n}\n</code></pre>\n\n<p>output from c is the correct one where the output has fix length of value, and random number</p>\n\n<p>thanks guys</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561586723, "post_id": 56781479, "comment_id": 100117853, "body": "What is <code>full_data</code> defined as? Since you&#39;re iterating over it, the structure of that data will define how your loop performs."}, {"owner": {"reputation": 5, "user_id": 11678358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8437a686df78e78d9aed5ede05601977?s=128&d=identicon&r=PG&f=1", "display_name": "Gordo", "link": "https://stackoverflow.com/users/11678358/gordo"}, "reply_to_user": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561586821, "post_id": 56781479, "comment_id": 100117884, "body": "is read in as a json file and in in the format in the first part above. its read in using:  with open(&#39;inputdata.json&#39;, &#39;r&#39;) as f:     full_data = json.load(f)"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11678358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8437a686df78e78d9aed5ede05601977?s=128&d=identicon&r=PG&f=1", "display_name": "Gordo", "link": "https://stackoverflow.com/users/11678358/gordo"}, "edited": false, "score": 0, "creation_date": 1561588525, "post_id": 56781613, "comment_id": 100118355, "body": "Thanks for the reply, however i&#39;m getting the error &quot;ValueError: min() arg is an empty sequence&quot;  If i print(in_values) i get [] and []"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 5, "user_id": 11678358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8437a686df78e78d9aed5ede05601977?s=128&d=identicon&r=PG&f=1", "display_name": "Gordo", "link": "https://stackoverflow.com/users/11678358/gordo"}, "edited": false, "score": 0, "creation_date": 1561588821, "post_id": 56781613, "comment_id": 100118422, "body": "It works as expected here. Make sure you&#39;re using the correct element (<code>full_data[k]</code>) inside the list comprehension that picks out the <code>date</code> values from alle lements. <code>print</code> the <code>full_data[k]</code> entry if necessary."}, {"owner": {"reputation": 5, "user_id": 11678358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8437a686df78e78d9aed5ede05601977?s=128&d=identicon&r=PG&f=1", "display_name": "Gordo", "link": "https://stackoverflow.com/users/11678358/gordo"}, "edited": false, "score": 0, "creation_date": 1561589332, "post_id": 56781613, "comment_id": 100118551, "body": "sorry I made an error typing - thank you. really appreciate the help. I think i was over complicating."}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": true, "score": 0, "last_activity_date": 1561587448, "creation_date": 1561587448, "answer_id": 56781613, "question_id": 56781479, "link": "https://stackoverflow.com/questions/56781479/looping-over-a-dict-trying-to-extract-data-into-a-new-data-set-give-error-name-n/56781613#56781613", "title": "Looping over a dict trying to extract data into a new data set give error name not defined", "body": "<p>Given that <code>full_data</code> contains the structure given above, iterating over it will give you the <em>key</em> from the first level:</p>\n\n<pre><code>for item in full_data:\n  # item will be \"1\"\n  ..\n  # item will be \"2\"\n</code></pre>\n\n<p>This is not in line with your code as you probably want to iterate over the inner structure as well:</p>\n\n<pre><code>for k in full_data:\n  # full_data[k] is however a list of in/out entries:\n  for item in full_data[k]:\n    # item is now {\"id\": \"1\", \"date\": ..., ... }\n</code></pre>\n\n<p>However there is probably a more readable way:</p>\n\n<pre><code>for k in full_data:\n  # fetch the in and out values to a list with just the dates\n  in_values = [x['date'] for x in full_data[k] if x['name'] == 'In']\n  out_values = [x['date'] for x in full_data[k] if x['name'] == 'Out']\n\n  output_data.append({\n    \"id\": k,\n    \"first_in_time\": min(in_values),\n    \"last_in_time\": max(in_values),\n    \"last_out_time\": max(out_values),\n  })\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11678358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8437a686df78e78d9aed5ede05601977?s=128&d=identicon&r=PG&f=1", "display_name": "Gordo", "link": "https://stackoverflow.com/users/11678358/gordo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 56781613, "answer_count": 1, "score": 0, "last_activity_date": 1561589620, "creation_date": 1561586499, "last_edit_date": 1561589620, "question_id": 56781479, "link": "https://stackoverflow.com/questions/56781479/looping-over-a-dict-trying-to-extract-data-into-a-new-data-set-give-error-name-n", "title": "Looping over a dict trying to extract data into a new data set give error name not defined", "body": "<p>Sorry for the python-noob question and I need some help on my home work issue im trying to loop through the input file and create a list with new key value names.</p>\n\n<p>I have some data im reading in from a file:</p>\n\n<pre><code>{\n  \"1\": [\n    {\n      \"id\": 1,\n      \"date\": \"2019-06-19T12:37:10.599Z\",\n      \"name\": \"In\"\n    },\n    {\n      \"id\": 1,\n      \"date\": \"2019-06-19T10:40:36.233Z\",\n      \"name\": \"Out\"\n    },\n    {\n      \"id\": 1,\n      \"date\": \"2019-06-19T06:25:21.473Z\",\n      \"name\": \"In\"\n    },\n    {\n      \"id\": 1,\n      \"date\": \"2019-06-04T08:12:23.795Z\",\n      \"name\": \"Out\"\n    }\n  ],\n  \"2\": [\n    {\n      \"id\": 2,\n      \"date\": \"2019-06-19T12:37:10.599Z\",\n      \"name\": \"In\"\n    },\n    {\n      \"id\": 2,\n      \"date\": \"2019-06-19T10:40:36.233Z\",\n      \"name\": \"Out\"\n    }\n  ]\n}\n</code></pre>\n\n<p>I read this data in and then am trying to use the following code:</p>\n\n<pre><code>data = []\noutput_data = []\n\nfor item in full_data:\n    if full_data.get('name') == 'In':\n        li_time = sorted(full_data, key=lambda x: (x['date'], '%Y-%m-%dT%H:%M:%S.%fZ'), reverse=True).pop()\n    if full_data.get('name') == 'In':\n        fi_time = sorted(full_data, key=lambda x: (x['date'], '%Y-%m-%dT%H:%M:%S.%fZ')).pop()\n    if full_data.get('name') == 'Out':\n        lo_time = sorted(full_data, key=lambda x: (x['date'], '%Y-%m-%dT%H:%M:%S.%fZ'), reverse=True).pop()\n    data = {\n        'id': full_data.get('id'),\n        'first_in_time': fi_time,\n        'last_in_time': li_time,\n        'last_out_time': lo_time,\n    }\n    output_data.append(data)\n</code></pre>\n\n<p>My idea is to loop over the full_data and for each item use pop() to get the earliest 'In' time, the latest 'In' time and the latest 'Out' time for each id.</p>\n\n<p>this would then give me an output_data of:</p>\n\n<pre><code>{\n  \"id\": 1,\n  \"first_in_time\": \"2019-06-19T06:25:21.473Z\",\n  \"last_in_time\": \"2019-06-19T12:37:10.599Z\",\n  \"last_out_time\": \"2019-06-19T10:40:36.233Z\",\n},\n{\n  \"id\": 2,\n  \"first_in_time\": \"2019-06-19T12:37:10.599Z\",\n  \"last_in_time\": \"2019-06-19T12:37:10.599Z\",\n  \"last_out_time\": \"2019-06-19T10:40:36.233Z\",\n}\n</code></pre>\n\n<p>However it's both not picking up the <code>full_data.get('id')</code> and the names are not defined. when i try to define them the new data is just empty suggesting my loop is incorrect.</p>\n"}, {"tags": ["python", "scipy", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1561587466, "post_id": 56781470, "comment_id": 100118057, "body": "The word &quot;train&quot; may be a bit out of context for a statistical fit? Would you be able to the describe the problem without that notion? Is it that you want to fix one parameter and only fit the other?"}, {"owner": {"reputation": 67, "user_id": 7444443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdb47262c002c8db13400ed45623442?s=128&d=identicon&r=PG", "display_name": "Shazbots", "link": "https://stackoverflow.com/users/7444443/shazbots"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1561590952, "post_id": 56781470, "comment_id": 100118916, "body": "@ImportanceOfBeingErnest  - Yes that is correct. I want to be able to fix the training parameters. <code>floc</code> and <code>f0</code>"}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1561599383, "creation_date": 1561599383, "answer_id": 56782822, "question_id": 56781470, "link": "https://stackoverflow.com/questions/56781470/can-i-pass-a-pretrained-pdf-function-into-seaborn-distplot/56782822#56782822", "title": "Can I pass a pretrained pdf function into seaborn.distplot?", "body": "<p>In principle it's not possible to supply any parameters to seaborn's <code>fit</code>. This is due to the <a href=\"https://github.com/mwaskom/seaborn/blob/b9551aff1e2b020542a5fb610fec468b69b87c6e/seaborn/distributions.py#L253\" rel=\"nofollow noreferrer\">line</a> <code>params = fit.fit(a)</code> in the source code.</p>\n\n<p>However, it looks like you can trick seaborn by supplying an object that provides a <code>fit()</code> and a <code>pdf()</code> method and modify the arguments within this object.</p>\n\n<pre><code>import numpy as np\nfrom scipy.stats import exponweib\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfig, ax = plt.subplots(1, 1)\n\nclass MyDist():\n    def __init__(self, **kw):\n        self.dist = exponweib\n        self.kw = kw\n\n    def fit(self, data):\n        return self.dist.fit(data, **self.kw)\n\n    def pdf(self, data, *args, **kw):\n        return self.dist.pdf(data, *args, **kw)\n\n\nr = exponweib.rvs(3, 2, loc=0.3, scale=1.3, size=100000)\n\nsns.distplot(r, fit=MyDist(floc=0.3, fscale=1.3), norm_hist=True, kde=False)\n\n\nparams = exponweib.fit(r, floc=0.3, fscale=1.3)\nx = np.linspace(0.1, 4.1, 100)\nax.plot(x, exponweib.pdf(x, *params),\n        'r-', lw=3, alpha=0.6)\n\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mS6r3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mS6r3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 7444443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdb47262c002c8db13400ed45623442?s=128&d=identicon&r=PG", "display_name": "Shazbots", "link": "https://stackoverflow.com/users/7444443/shazbots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 56782822, "answer_count": 1, "score": 2, "last_activity_date": 1561599383, "creation_date": 1561586426, "last_edit_date": 1561586735, "question_id": 56781470, "link": "https://stackoverflow.com/questions/56781470/can-i-pass-a-pretrained-pdf-function-into-seaborn-distplot", "title": "Can I pass a pretrained pdf function into seaborn.distplot?", "body": "<p>I am aware that you can use seaborn.distplot to graph data as a histogram and superimpose a distribution on top of it. I'm aware of a parameter that allows you to pass in a pdf function to do so. In the source code, it looks like it internally calls fit() to do the training. I was wondering if there was a way to pre-train the model, and just use it.</p>\n\n<p>I have tried using lambda functions representing my distribution, but I kept getting errors.\nI have also tried passing parameters into seaborn.distplot to help train with the settings I wanted, but that didn't work either.</p>\n\n<p><em>Method 1 - Using a lambda for the pretrained model:</em></p>\n\n<pre><code>import seaborn as sns\nfrom scipy import stats\n\nparams = stats.exponweib.fit(data, floc=0, f0=1)\ncustom_weib = lambda x: stats.exponweib.pdf(x, *params)\nsns.distplot(data, bins=bin_count, fit=custom_weib, norm_hist=True, kde=False, hist_kws={'log':True})\n</code></pre>\n\n<p>I'm seeing this error message:\nAttributeError: 'function' object has no attribute 'fit'\n^ It can't take a pre-trained model.</p>\n\n<p><em>Method 2 - Attempted to pass parameters as part of the fit method.</em> (I don't know if I'm doing this correctly.)</p>\n\n<pre><code>import seaborn as sns\nfrom scipy import stats\n\nsns.distplot(data, bins=bin_count, norm_hist=True, kde=False, hist_kws=hist_kws, fit=stats.exponweib, floc=0, f0=1)\n</code></pre>\n\n<p>I get this exception: TypeError: distplot() got an unexpected keyword argument 'floc'\n^ It's obvious that I'm not passing in the variables correctly, but I don't know how.</p>\n\n<p>Here's a link to the Seaborn source code if you need it: <a href=\"https://github.com/mwaskom/seaborn/blob/master/seaborn/distributions.py\" rel=\"nofollow noreferrer\">https://github.com/mwaskom/seaborn/blob/master/seaborn/distributions.py</a></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1561586645, "post_id": 56781468, "comment_id": 100117833, "body": "where is you datadframe train ?"}, {"owner": {"reputation": 842, "user_id": 6394941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-c87IOIWr0QU/AAAAAAAAAAI/AAAAAAAAB-g/i2VM2saO040/photo.jpg?sz=128", "display_name": "Guido Muscioni", "link": "https://stackoverflow.com/users/6394941/guido-muscioni"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1561586754, "post_id": 56781468, "comment_id": 100117864, "body": "Sorry, I forgot to modify every call to train. Train is df. I will edit the question."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1561587920, "creation_date": 1561587920, "answer_id": 56781674, "question_id": 56781468, "link": "https://stackoverflow.com/questions/56781468/pandas-speed-up-the-mode-computation-when-applying-a-mask/56781674#56781674", "title": "Pandas - speed up the mode computation when applying a mask", "body": "<p><a href=\"https://stackoverflow.com/a/53218939/7964527\"><code>unnesting</code></a> first then <code>merge</code> with original df, then we can do <code>crosstab</code> with <code>idxmax</code> </p>\n\n<pre><code>s=unnesting(df,['MASK'],axis=1).merge(df[['ID','VALUE']],left_on='MASK',right_on='ID')\npd.crosstab(s.ID_x,s.VALUE_y).idxmax(1).reindex(df.ID,fill_value=-1)\nOut[268]: \nID\n1    2\n2    3\n3   -1\n4    2\ndtype: int64\n</code></pre>\n\n<hr>\n\n<pre><code>def unnesting(df, explode, axis):\n    if axis==1:\n        idx = df.index.repeat(df[explode[0]].str.len())\n        df1 = pd.concat([\n            pd.DataFrame({x: np.concatenate(df[x].values)}) for x in explode], axis=1)\n        df1.index = idx\n        return df1.join(df.drop(explode, 1), how='left')\n    else :\n        df1 = pd.concat([\n                         pd.DataFrame(df[x].tolist(), index=df.index).add_prefix(x) for x in explode], axis=1)\n        return df1.join(df.drop(explode, 1), how='left')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 0, "last_activity_date": 1561588011, "creation_date": 1561588011, "answer_id": 56781685, "question_id": 56781468, "link": "https://stackoverflow.com/questions/56781468/pandas-speed-up-the-mode-computation-when-applying-a-mask/56781685#56781685", "title": "Pandas - speed up the mode computation when applying a mask", "body": "<p>I'm operating under the assumption that your <code>MASK</code> column is stored as a series of <code>str</code>, therefore I am converting to a <code>list</code> inside of the <code>find_mode</code> function prior to using the <code>isin()</code> method. Not sure if this is faster than @WeNYoBen's answer, but I think it's quite a bit simpler to understand:</p>\n\n<pre><code>def find_mode(row):\n\n    mask = ast.literal_eval(row['MASK'])\n\n    return df[df['ID'].isin(mask)]['VALUE'].mode().values[0] if mask else -1\n\ndf['VALUE_M'] = df.apply(find_mode, axis=1)\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>   ID   MASK  VALUE  VALUE_M\n0   1  [2,3]      4        2\n1   2  [4,1]      2        3\n2   3     []      2       -1\n3   4    [2]      3        2\n</code></pre>\n"}], "owner": {"reputation": 842, "user_id": 6394941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-c87IOIWr0QU/AAAAAAAAAAI/AAAAAAAAB-g/i2VM2saO040/photo.jpg?sz=128", "display_name": "Guido Muscioni", "link": "https://stackoverflow.com/users/6394941/guido-muscioni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56781674, "answer_count": 2, "score": 0, "last_activity_date": 1561588011, "creation_date": 1561586411, "last_edit_date": 1561586787, "question_id": 56781468, "link": "https://stackoverflow.com/questions/56781468/pandas-speed-up-the-mode-computation-when-applying-a-mask", "title": "Pandas - speed up the mode computation when applying a mask", "body": "<p>I am looking to compute the mode over a dataframe that I previously filter with a mask. To explain the problem, below a sample of how the data look like:</p>\n\n<pre><code>ID,MASK,VALUE\n1,[2,3],4\n2,[4,1],2\n3,[],2\n4,[2],3\n</code></pre>\n\n<p>The result that I would like to obtain is the following:</p>\n\n<pre><code>ID,MASK,VALUE,VALUE_M\n1,[2,3],4,2\n2,[4,1],2,3\n3,[],2,-1\n4,[2],3,2\n</code></pre>\n\n<p>When the mode cannot be determined I would like to have the lowest number. When no <code>MASK</code> is defined, the value will be <code>-1</code>.</p>\n\n<p>The code that I am using now is the following:</p>\n\n<pre><code>for index,row in df.iterrows():\n    mask= row['MASK']\n    if len(mask)&gt;0:\n        df.loc[index,'VALUE_M'] = df.loc[df['ID'].isin(MASK),'VALUE'].value_counts().index[0]\n    else: \n        df.loc[index,'VALUE_M'] = -1\n</code></pre>\n\n<p>As you can see I am cycling over each row, which is highly unrecommended when using pandas, especially when there are a lot of rows (which is my case). I am looking for a more optimized way to obtain the result.</p>\n\n<p>Any idea? </p>\n"}, {"tags": ["python", "macos"], "comments": [{"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561586368, "post_id": 56781441, "comment_id": 100117775, "body": "Instead of focusing on ODBC - what do you want to do with the file? There are probably other ways to solve your issue."}, {"owner": {"reputation": 1, "user_id": 6391960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda99c92bb9fb2017420efb4ebacc4a8?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6391960/ricardo"}, "reply_to_user": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561596702, "post_id": 56781441, "comment_id": 100119908, "body": "I am automating the process of printing to PDF a worksheet which updates its data from a shared folder our team has. The reason &#39;m looking to refresh the data is that on a weekly basis the data is posted in a txt file for many different excel files to use as needed."}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561597274, "post_id": 56781441, "comment_id": 100119996, "body": "Could <a href=\"https://openpyxl.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">openpyxl</a> work to do that?"}, {"owner": {"reputation": 1, "user_id": 6391960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda99c92bb9fb2017420efb4ebacc4a8?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6391960/ricardo"}, "reply_to_user": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561741271, "post_id": 56781441, "comment_id": 100175652, "body": "Reading through the docs and looking specifically into this, it seems like openpyxl doesn&#39;t provide this functionality."}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1561741795, "post_id": 56781441, "comment_id": 100175859, "body": "openpyxl would allow you to open the Excel file, open the txt file and insert the values you want into the document. Printing it will have to be done in some other way, depending on what you&#39;re using to display the document under OS X."}], "owner": {"reputation": 1, "user_id": 6391960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda99c92bb9fb2017420efb4ebacc4a8?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6391960/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561586234, "creation_date": 1561586234, "question_id": 56781441, "link": "https://stackoverflow.com/questions/56781441/refreshing-external-data-for-an-excel-file-in-macos", "title": "Refreshing External Data for an Excel file in MacOS", "body": "<p>I've seen questions answering, how to update a connection to an odbc external source in windows, but none of the answers tell how to achieve this same result in MacOS.</p>\n\n<p>On windows I've achieved the results I'm looking for using the win32com client but for obvious reasons it doesn't work on Mac.</p>\n\n<p>Anyone know of an alternative?</p>\n"}, {"tags": ["python", "dictionary", "elasticsearch", "request", "python-unittest"], "owner": {"reputation": 279, "user_id": 10642418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lH4lmMlMtSM/AAAAAAAAAAI/AAAAAAAAAAQ/D999ll_seoc/photo.jpg?sz=128", "display_name": "Justin Reddick", "link": "https://stackoverflow.com/users/10642418/justin-reddick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562166269, "creation_date": 1561586134, "last_edit_date": 1562166269, "question_id": 56781428, "link": "https://stackoverflow.com/questions/56781428/does-anyone-have-experience-with-the-elasticmock-python-module", "title": "Does anyone have experience with the ElasticMock python module?", "body": "<p>I am trying to integrate the ElasticMock python module into my unit testing, but I am having a hard time using it along with methods I have already created in my code.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import datetime\nfrom elasticmock import elasticmock\nfrom elasticmock.fake_elasticsearch import FakeElasticsearch\n\n\nfunction test_me(self):\n    doc = {\n        'author': 'test_author',\n        'text': 'Elasticsearch: cool. bonsai cool.',\n        'timestamp': datetime.datetime.now()\n    }\n\n    fake_elasticsearch = FakeElasticsearch()\n    f_index = fake_elasticsearch.index(index='test_index', doc_type='_doc', body=doc, id=1)\nself.assertIsNotNone(r_index)\n</code></pre>\n\n<p>I expect when using the actual Elasticsearch module's get() method that I will be able to retrieve this index, and its contents from the local host unless this has nothing to do with the local host, and just spawns the index in memory during runtime.</p>\n"}, {"tags": ["python", "html", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 7481520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1d2998b819a93af337335357bc5046?s=128&d=identicon&r=PG&f=1", "display_name": "Tylerr", "link": "https://stackoverflow.com/users/7481520/tylerr"}, "edited": false, "score": 0, "creation_date": 1561592501, "post_id": 56781577, "comment_id": 100119222, "body": "Yeah, I am aware of this, but the resulting html file will not work as the dataframe is too large.  So I need something that wouldn&#39;t try to load the whole dataframe at once.  The linked thread uses pagination so it would be nice if I could just load when you go to the next page."}], "tags": [], "owner": {"reputation": 88, "user_id": 11145532, "user_type": "registered", "profile_image": "https://graph.facebook.com/2129508277140840/picture?type=large", "display_name": "Richard Ewing", "link": "https://stackoverflow.com/users/11145532/richard-ewing"}, "is_accepted": false, "score": 0, "last_activity_date": 1561587199, "creation_date": 1561587199, "answer_id": 56781577, "question_id": 56781392, "link": "https://stackoverflow.com/questions/56781392/pagination-on-pandas-dataframe-to-html-with-large-dataframe/56781577#56781577", "title": "Pagination on pandas dataframe.to_html() with Large DataFrame", "body": "<p>Yes, use the 'to_html()' method.  Here's an example.</p>\n\n<pre><code>import pandas as pd\n\ndf=pd.read_csv('name of file')\ndf.to_html('name.htm')\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 7481520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb1d2998b819a93af337335357bc5046?s=128&d=identicon&r=PG&f=1", "display_name": "Tylerr", "link": "https://stackoverflow.com/users/7481520/tylerr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561587199, "creation_date": 1561585918, "question_id": 56781392, "link": "https://stackoverflow.com/questions/56781392/pagination-on-pandas-dataframe-to-html-with-large-dataframe", "title": "Pagination on pandas dataframe.to_html() with Large DataFrame", "body": "<p>I have a DataFrame that needs to be converted to a HTML file.  The DataFrame can be quite large and it contains images.  I saw this <a href=\"https://stackoverflow.com/questions/38893448/pagination-on-pandas-dataframe-to-html\">thread</a> which works for smaller DataFrames but mine tend to be around 10k-20k rows (with images) so the html file just loads and loads but eventually crashes.</p>\n\n<p>Is there a way to just load the images and text for each page individually rather than the page trying to load everything at once?</p>\n\n<p>Or is there another method for creating a HTML file from a Pandas DataFrame that would work with a large DataFrame containing image tags? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1561587263, "post_id": 56781369, "comment_id": 100117999, "body": "You can use string concatenation which should be faster but I&#39;d like to see some data and expected output please. As in the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11705492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9144c711afb6a02967b5095b1f431cef?s=128&d=identicon&r=PG&f=1", "display_name": "jabs7467", "link": "https://stackoverflow.com/users/11705492/jabs7467"}, "edited": false, "score": 0, "creation_date": 1561586983, "post_id": 56781461, "comment_id": 100117933, "body": "Thanks. It worked well. What does the T{}.format do in the code."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 13, "user_id": 11705492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9144c711afb6a02967b5095b1f431cef?s=128&d=identicon&r=PG&f=1", "display_name": "jabs7467", "link": "https://stackoverflow.com/users/11705492/jabs7467"}, "edited": false, "score": 0, "creation_date": 1561587671, "post_id": 56781461, "comment_id": 100118124, "body": "<code>&#39;some text {}&#39;.format</code> is a <a href=\"https://docs.python.org/3.4/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\">function</a> that replaces any <code>{}</code> with the arguments passed to it. So <code>&#39;ABC {} DEF&#39;.format(123) == &#39;ABC 123 DEF&#39;</code>. The <code>&#39;T&#39;</code> is part of the ISO date-time format <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">specification</a>."}], "tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": true, "score": 0, "last_activity_date": 1561587783, "last_edit_date": 1561587783, "creation_date": 1561586354, "answer_id": 56781461, "question_id": 56781369, "link": "https://stackoverflow.com/questions/56781369/how-to-add-the-date-in-a-datetime-object-when-only-time-is-present-in-timestamp/56781461#56781461", "title": "How to add the date in a datetime object when only time is present in timestamp", "body": "<p>This isn't probably the most efficient way, but it's simple (basically add the date to the front of the string)</p>\n\n<pre><code>date = '2017-01-09T'  # or whatever (note the T)\npd.to_datetime(df['TimeStamp'].apply(lambda s: date+s)) \n</code></pre>\n\n<hr>\n\n<p>example</p>\n\n<pre><code>df = pd.DataFrame({'time': ['08:11:09', '17:09:34']})\n\n#   time\n# 0  08:11:09\n# 1  17:09:34\n\ndate_func = '2017-01-09T{}'.format  # avoid the use of lambda + more efficient\n\ndf['datetime'] = pd.to_datetime(df['time'].apply(date_func))\n</code></pre>\n\n<p>output</p>\n\n<pre><code>       time            datetime\n0  08:11:09   2017-01-09 08:11:09\n1  17:09:34   2017-01-09 17:09:34\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11705492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9144c711afb6a02967b5095b1f431cef?s=128&d=identicon&r=PG&f=1", "display_name": "jabs7467", "link": "https://stackoverflow.com/users/11705492/jabs7467"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56781461, "answer_count": 1, "score": 0, "last_activity_date": 1561587992, "creation_date": 1561585799, "last_edit_date": 1561587992, "question_id": 56781369, "link": "https://stackoverflow.com/questions/56781369/how-to-add-the-date-in-a-datetime-object-when-only-time-is-present-in-timestamp", "title": "How to add the date in a datetime object when only time is present in timestamp", "body": "<p>I am working on some time series data and the timestamp only includes the time(<code>HH:MM:SS</code>) , but I need to add the <code>YY/MM/DD</code> to the timestamp.  I working with pandas dataframe.</p>\n\n<p>I tried using pd.to_datetime(), but it enters the current date that I call it. </p>\n\n<pre><code>df_17c = pd.read_csv(file_17c,sep ='\\t', header = None,names=['TimeStamp','x','y','z'],  usecols =[0,3,4,5])\n\ndf_17s = pd.read_csv(file_17s,sep ='\\t', header = None,names = ['TimeStamp','x','y','z'],usecols =[0,1,2,3])\n\n TimeStamp      x    y  z\n0  23:59:58  26799 -218  0\n1  23:59:58  26797 -218  0\n2  23:59:58  26795 -218  0\n3  23:59:58  26793 -218  0\n4  23:59:58  26792 -217  0\n\n\n</code></pre>\n\n<p>The \"TimeStamp\" column is a object type ( string). When I convert using <code>.to_datetime()</code> it yields datetime object with the current date. </p>\n\n<pre><code>df_17c[\"Date\"]= pd.to_datetime(df_17c['TimeStamp'])\n\n            TimeStamp      x    y  z\n0 2019-06-26 23:59:58  26799 -218  0\n1 2019-06-26 23:59:58  26797 -218  0\n2 2019-06-26 23:59:58  26795 -218  0\n3 2019-06-26 23:59:58  26793 -218  0\n4 2019-06-26 23:59:58  26792 -217  0\n\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1561585761, "post_id": 56781357, "comment_id": 100117597, "body": "Because it&#39;s <code>Fraction.gcd()</code>"}, {"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 2, "creation_date": 1561585794, "post_id": 56781357, "comment_id": 100117605, "body": "<code>gcd()</code> is a method, so you need to call it by <code>common = self.gcd(...)</code>"}, {"owner": {"reputation": 506, "user_id": 10863327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e1604b54844ca72235865e7bb3bf1ca?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Parsons", "link": "https://stackoverflow.com/users/10863327/kyle-parsons"}, "edited": false, "score": 2, "creation_date": 1561585823, "post_id": 56781357, "comment_id": 100117614, "body": "It also looks like <code>gcd</code> could just as well be a module-scoped function instead of living in the <code>Fraction</code> class."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 2, "creation_date": 1561585825, "post_id": 56781357, "comment_id": 100117616, "body": "@kstullich That&#39;s not right, it doesn&#39;t take a <code>self</code> parameter."}, {"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "reply_to_user": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1561585864, "post_id": 56781357, "comment_id": 100117627, "body": "@kstullich that won&#39;t work, it expects integer arguments, not <code>Fraction</code>s and will try and pass three args"}], "answers": [{"comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561585986, "post_id": 56781378, "comment_id": 100117668, "body": "It&#39;s not a &quot;local function&quot;, it&#39;s a method, a very different object. It&#39;s also not just &quot;good practice&quot; -- you should explain that with <code>@staticmethod</code> it can (and <b>should</b>) be called with <code>self</code>."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1561586852, "post_id": 56781378, "comment_id": 100117895, "body": "I&#39;m not sure about &quot;applies to the Fraction class as a whole&quot;. Python has <i>class methods</i>, but this is not that.  It doesn&#39;t apply to the class at all. It&#39;s just been placed inside the class (for some reason)."}, {"owner": {"reputation": 2751, "user_id": 3233017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2568656c29f0bc7e84480eb0227a304b?s=128&d=identicon&r=PG", "display_name": "Draconis", "link": "https://stackoverflow.com/users/3233017/draconis"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1561587306, "post_id": 56781378, "comment_id": 100118012, "body": "@khelwood Edited to rephrase"}], "tags": [], "owner": {"reputation": 2751, "user_id": 3233017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2568656c29f0bc7e84480eb0227a304b?s=128&d=identicon&r=PG", "display_name": "Draconis", "link": "https://stackoverflow.com/users/3233017/draconis"}, "is_accepted": true, "score": 4, "last_activity_date": 1561587299, "last_edit_date": 1561587299, "creation_date": 1561585853, "answer_id": 56781378, "question_id": 56781357, "link": "https://stackoverflow.com/questions/56781357/dont-know-why-name-is-not-defined-for-greatest-common-divisor-function/56781378#56781378", "title": "Don&#39;t know why Name is not defined for greatest common divisor function", "body": "<p>It's a class-specific function aka \"method\" (defined inside the <code>Fraction</code> class), so you need to call it as <code>Fraction.gcd</code> instead of just <code>gcd</code>.</p>\n\n<p>Since it's a <em>static</em> function (not connected to any individual <code>Fraction</code>), it's also good practice to mark it as such:</p>\n\n<pre><code>@staticmethod\ndef gcd(m, n):\n    return ...\n</code></pre>\n\n<p>Now you can call it as <code>self.gcd(...)</code> (inside any <code>Fraction</code> method), or as <code>Fraction.gcd(...)</code> (anywhere at all).</p>\n"}], "owner": {"reputation": 5, "user_id": 11705343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RMYVrYa7OPQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehjoivhiBgyObmAFpgaqrbQUdQBg/photo.jpg?sz=128", "display_name": "Mashizzle", "link": "https://stackoverflow.com/users/11705343/mashizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 56781378, "answer_count": 1, "score": 0, "last_activity_date": 1561587299, "creation_date": 1561585707, "last_edit_date": 1561586296, "question_id": 56781357, "link": "https://stackoverflow.com/questions/56781357/dont-know-why-name-is-not-defined-for-greatest-common-divisor-function", "title": "Don&#39;t know why Name is not defined for greatest common divisor function", "body": "<p>Im trying to create a function that allows fractions with different denominators to use the + operator, while simplifying the result to the fraction divisible by the greatest common divisor for numerator and denominator. </p>\n\n<pre><code>class Fraction:\n\n    def __init__(self, top, bottom):\n        self.num = top\n        self.den = bottom\n\n\n    def __str__(self):\n        return str(self.num) + \"/\" + str(self.den)\n\n    def gcd(m, n):\n        while m%n != 0:\n            oldm = m\n            oldn = n\n\n            m = oldn\n            n = oldm%oldn\n        return n\n\n\n    def __add__(self, otherFraction):\n        newnum = self.num*otherFraction.den + \\\n                 self.den*otherFraction.num\n        newden = self.den*otherFraction.den\n        common = gcd(newnum, newden)\n\n        return Fraction(newnum//common, newden//common)\n\nf1 = Fraction(1,4)\nf2 = Fraction(1,2)\n\nf3 = f1+f2\nprint(f3)\n</code></pre>\n\n<p>I expected the output to be <code>3/4</code> and was given the following error.</p>\n\n<pre><code>\nTraceback (most recent call last):\n  File \"C:\\Users\\matth\\Desktop\\MandRfraction.py\", line 35, in &lt;module&gt;\n    f3 = f1+f2\n  File \"C:\\Users\\matth\\Desktop\\MandRfraction.py\", line 28, in __add__\n    common = gcd(newnum//common, newden//common)\nNameError: name 'gcd' is not defined\n</code></pre>\n\n<p>I don't know why gcd is not defined.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 335, "user_id": 11639518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHyIi.jpg?s=128&g=1", "display_name": "jhelphenstine", "link": "https://stackoverflow.com/users/11639518/jhelphenstine"}, "edited": false, "score": 1, "creation_date": 1561585999, "post_id": 56781335, "comment_id": 100117671, "body": "What code have you tried to split it with? It looks like you could use an element (such as coin type?), and add that into your data; if so, you could use that as a discriminator in your Save() function to store to separate files based on coin type."}, {"owner": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "edited": false, "score": 0, "creation_date": 1561591430, "post_id": 56781335, "comment_id": 100119003, "body": "Hi Steve, I think you can do this without our help. You&#39;re nearly there. I&#39;m betting that when you run this code, you have a single file <code>HistoricalCoinData.csv</code> and instead you want something like <code>HistoricalData-BTC.csv</code>, <code>HistoricalData-ETH.csv</code>, etc. Now, think: do you have access to the coin abbreviations, like BTC, ETH, etc? You&#39;ll need these if you want your filenames to be dynamic. Next, think: How can you use these abbreviations to save the csv files with dynamic file names? Good luck!"}, {"owner": {"reputation": 21, "user_id": 11705426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ldGACp1fJhs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfW-eOcmDgtV2n_k-fWvBoQhGlfw/photo.jpg?sz=128", "display_name": "Steve", "link": "https://stackoverflow.com/users/11705426/steve"}, "edited": false, "score": 0, "creation_date": 1561637316, "post_id": 56781335, "comment_id": 100135562, "body": "Yea I know I have to separate but I have never wrote python before. What I have to do now is to type the full name of each coin one by one in order to get one coin per file. Or download one file that consist of 100 coins. I want to run this program in one click and all the coins are separated. Can someone tell me some key words in python? Thankyou"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1561675855, "post_id": 56781335, "comment_id": 100153177, "body": "If you are a beginner in Python you should start with the <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">Python tutorial</a>"}], "owner": {"reputation": 21, "user_id": 11705426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ldGACp1fJhs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfW-eOcmDgtV2n_k-fWvBoQhGlfw/photo.jpg?sz=128", "display_name": "Steve", "link": "https://stackoverflow.com/users/11705426/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561585937, "creation_date": 1561585600, "last_edit_date": 1561585937, "question_id": 56781335, "link": "https://stackoverflow.com/questions/56781335/save-different-data-into-different-csv-files", "title": "Save different data into different csv files", "body": "<p>When I use this program to read all the cryptocurrencies, it will save all of them into one file only. How can I save different coins  data into different csv file? \nPlease help me, thankyou very much.</p>\n\n<pre><code>def CoinNames():\n    \"\"\"Gets ID's of all coins on cmc\"\"\"\n\n    names = []\n    response = requests.get(\"https://api.coinmarketcap.com/v1/ticker/?limit=0\")\n    respJSON = json.loads(response.text)\n    for i in respJSON:\n        names.append(i['id'])\n    return names\n\ndef gather(startdate, enddate, names):\n    historicaldata = []\n    counter = 1\n\n    if len(names) == 0:\n        names = CoinNames()\n\n    for coin in names:\n        sleep(10)\n        r  = requests.get(\"https://coinmarketcap.com/currencies/{0}/historical-data/?start={1}&amp;end={2}\".format(coin, startdate, enddate))\n        data = r.text\n        soup = BeautifulSoup(data, \"html.parser\")\n        table = soup.find('table', attrs={ \"class\" : \"table\"})\n\n        #Add table header to list\n        if len(historicaldata) == 0:\n            headers = [header.text for header in table.find_all('th')]\n            headers.insert(0, \"Coin\")\n\n        for row in table.find_all('tr'):\n            currentrow = [val.text for val in row.find_all('td')]\n            if(len(currentrow) != 0):\n                currentrow.insert(0, coin)\n            historicaldata.append(currentrow)\n\n        print(\"Coin Counter -&gt; \" + str(counter), end='\\r')\n        counter += 1\n    return headers, historicaldata\n\ndef _gather(startdate, enddate):\n    \"\"\" Scrape data off cmc\"\"\"\n\n    if(len(sys.argv) == 3):\n        names = CoinNames()\n    else:\n        names = [sys.argv[3]]\n\n    headers, historicaldata = gather(startdate, enddate, names)\n\n    Save(headers, historicaldata)\n\ndef Save(headers, rows):\n\n    if(len(sys.argv) == 3):\n        FILE_NAME = \"HistoricalCoinData.csv\"\n    else:\n        FILE_NAME = sys.argv[3] + \".csv\"\n\n    with open(FILE_NAME, 'w') as f:\n        writer = csv.writer(f)\n        writer.writerow(headers)\n        writer.writerows(row for row in rows if row)\n    print(\"Finished!\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 1, "creation_date": 1561588037, "post_id": 56781316, "comment_id": 100118213, "body": "From the <a href=\"https://pyinstaller.readthedocs.io/en/stable/spec-files.html#adding-files-to-the-bundle\" rel=\"nofollow noreferrer\">documentation</a>, <i>when you bundle to a single executable (see Bundling to One File), copies of added files are compressed into the executable, and expanded to the <code>_MEIxxxxxx</code> temporary folder before execution</i>.  The file you are looking for should be in the <code>sys._MEIPASS</code> folder, as described <a href=\"https://pyinstaller.readthedocs.io/en/stable/runtime-information.html#run-time-information\" rel=\"nofollow noreferrer\">here</a>. Also, keep in mind that such file will be <i>read-only</i>."}, {"owner": {"reputation": 153, "user_id": 7748421, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k_DLGy2CsDA/AAAAAAAAAAI/AAAAAAAAGVA/eb95HsMnxYY/photo.jpg?sz=128", "display_name": "rmcknst2", "link": "https://stackoverflow.com/users/7748421/rmcknst2"}, "reply_to_user": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 0, "creation_date": 1561588199, "post_id": 56781316, "comment_id": 100118261, "body": "So even if I can find the config file, users wouldn&#39;t be able to modify it?"}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 1, "creation_date": 1561588373, "post_id": 56781316, "comment_id": 100118312, "body": "It&#39;s <i>read-only</i> to the program itself. Read more about <a href=\"https://pyinstaller.readthedocs.io/en/stable/operating-mode.html#how-the-one-file-program-works\" rel=\"nofollow noreferrer\">How the One-File Program Works</a>. The config file will be unpacked in a temp folder for the duration of the run, then deleted. Even if a user modifies it, at the next run it will be again unpacked fresh from the distributed .exe file."}], "owner": {"reputation": 153, "user_id": 7748421, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k_DLGy2CsDA/AAAAAAAAAAI/AAAAAAAAGVA/eb95HsMnxYY/photo.jpg?sz=128", "display_name": "rmcknst2", "link": "https://stackoverflow.com/users/7748421/rmcknst2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561586307, "creation_date": 1561585480, "last_edit_date": 1561586307, "question_id": 56781316, "link": "https://stackoverflow.com/questions/56781316/adding-a-config-ini-with-pyinstaller", "title": "Adding a config.ini with pyinstaller", "body": "<p>I have a program which looks for a .ini file in the same directory. When I try to use pyinstaller and then run the .exe it says config file not found.</p>\n\n<p>I tried using this command</p>\n\n<pre><code>C:\\Users\\User\\Desktop&gt;pyinstaller -F --add-data \"config.ini;config.ini\" vendsend.py\n</code></pre>\n"}, {"tags": ["python", "azure", "docker", "celery"], "answers": [{"tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": true, "score": 0, "last_activity_date": 1561703479, "creation_date": 1561703479, "answer_id": 56801952, "question_id": 56781303, "link": "https://stackoverflow.com/questions/56781303/error-uploading-blob-to-storage-account-from-celery-in-docker-container-running/56801952#56801952", "title": "Error uploading blob to storage account from celery in docker container running in azure registry", "body": "<p>Per my experience, there are two possible mistakes in your script.</p>\n\n<ol>\n<li><p>If the container <code>container_name</code> does not exist in your storage account, so you need to call <a href=\"https://azure-storage.readthedocs.io/ref/azure.storage.blob.baseblobservice.html#azure.storage.blob.baseblobservice.BaseBlobService.create_container\" rel=\"nofollow noreferrer\"><code>create_container</code></a> first before <code>create_blob_from_text</code>. If it exists, <code>create_container</code> function will not make any negative consequence for your work.</p>\n\n<pre><code>block_blob_service.create_container('container_name')\nblock_blob_service.create_blob_from_text('container_name', directory_main + \n</code></pre>\n\n<p>filename, demo_json) </p></li>\n<li><p>Please refer to the offical document <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/naming-and-referencing-containers--blobs--and-metadata\" rel=\"nofollow noreferrer\"><code>Naming and Referencing Containers, Blobs, and Metadata</code></a>, if you want to set some virtual directories for your blob, the correct way is to use <code>/</code> not <code>\\</code>. So as the code below.</p>\n\n<pre><code>directory_main = demo_data['username']\nfilename = '/demographics.json' # not '\\demographics.json'\n</code></pre></li>\n</ol>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 29, "user_id": 11705408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0227e6fda2140e723e0ba7e602a08358?s=128&d=identicon&r=PG&f=1", "display_name": "UCAB", "link": "https://stackoverflow.com/users/11705408/ucab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 56801952, "answer_count": 1, "score": 0, "last_activity_date": 1561703479, "creation_date": 1561585414, "last_edit_date": 1561585768, "question_id": 56781303, "link": "https://stackoverflow.com/questions/56781303/error-uploading-blob-to-storage-account-from-celery-in-docker-container-running", "title": "Error uploading blob to storage account from celery in docker container running in azure registry", "body": "<p>Unable to upload a blob to azure from a task running on a celery worker in a docker container on Azure (from Azure registry). Able to successfully upload blob from local celery worker.</p>\n\n<p>I've attempted to resolve the issue by changing the access policy in Azure to \"Blob\" or \"Container\" however this did not resolve the issue. Running task on local celery worker completes without error with all access levels. I have made sure the container exists and is spelled correctly.</p>\n\n<p>Code to upload blob:</p>\n\n<pre><code>block_blob_service = BlockBlobService(account_name='my_storage_account', \naccount_key= 'my_storage_key')\n\ndirectory_main = demo_data['username']\nfilename = '\\demographics.json'\n\nblock_blob_service.create_blob_from_text('container_name', directory_main + \nfilename, demo_json) \n</code></pre>\n\n<p>When I attempt to upload through the container I get the following error message:</p>\n\n<p>AzureException('The specified resource does not exist. ErrorCode: ResourceNotFound\\n\n\n<p>The \"Put\" requests have two differences:</p>\n\n<p>Local: 'User-Agent': 'Azure-Storage/1.4.0-1.5.0 (Python CPython 3.7.3; Windows 10)'</p>\n\n<p>Container: 'User-Agent': 'Azure-Storage/1.4.0-1.5.0 (Python CPython 3.6.8; Linux 4.14.111-boot2docker)'</p>\n\n<p>Also, when running locally, the \"Authorization\" header is generated, while when running from the container this header is missing. Any help would be greatly appreciated.</p>\n\n<p>Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/celery/app/trace.py\", line 385, in trace_task\n    R = retval = fun(*args, **kwargs)\n  File \"/app/factory.py\", line 43, in __call__\n    return self.run(*args, **kwargs)\n  File \"/app/tasks.py\", line 158, in _download_task\n    raise(e)\n  File \"/app/tasks.py\", line 107, in _download_task\n    block_blob_service.create_blob_from_text('my_container', directory_main + filename, demo_json)\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/blob/blockblobservice.py\", line 846, in create_blob_from_text\n    timeout=timeout)\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/blob/blockblobservice.py\", line 751, in create_blob_from_bytes\n    use_byte_buffer=True\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/blob/blockblobservice.py\", line 582, in create_blob_from_stream\n    timeout=timeout)\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/blob/blockblobservice.py\", line 1101, in _put_blob\n    return self._perform_request(request, _parse_base_properties)\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/common/storageclient.py\", line 430, in _perform_request\n    raise ex\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/common/storageclient.py\", line 358, in _perform_request\n    raise ex\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/common/storageclient.py\", line 344, in _perform_request\n    HTTPError(response.status, response.message, response.headers, response.body))\n  File \"/usr/local/lib/python3.6/site-packages/azure/storage/common/_error.py\", line 115, in _http_error_handler\n    raise ex\nazure.common.AzureMissingResourceHttpError: The specified resource does not exist. ErrorCode: ResourceNotFound\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;Error&gt;&lt;Code&gt;ResourceNotFound&lt;/Code&gt;&lt;Message&gt;The specified resource does not exist.\nRequestId:46ba6512-301e-0061-2e62-2c37b7000000\nTime:2019-06-26T21:03:00.0960002Z&lt;/Message&gt;&lt;/Error&gt;\n</code></pre>\n"}, {"tags": ["python", "string", "conditional-statements"], "comments": [{"owner": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 1, "creation_date": 1561587333, "post_id": 56781271, "comment_id": 100118019, "body": "If that would be only four options I woul choose last one."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 0, "creation_date": 1561587259, "post_id": 56781297, "comment_id": 100117997, "body": "It is very readable but quite long there are some shorter ways to do that."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 0, "creation_date": 1561587309, "post_id": 56781297, "comment_id": 100118014, "body": "@RobotMind if there&#39;s anything I&#39;ve learned in the two years since I&#39;ve started programming python, it&#39;s that shorter not necessarily equals better."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 0, "creation_date": 1561588100, "post_id": 56781297, "comment_id": 100118236, "body": "Well, 4, if you count school."}, {"owner": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 0, "creation_date": 1561588424, "post_id": 56781297, "comment_id": 100118325, "body": "Sorry about all those comments, I am much more used to C, and Assembly. And all pythonic one line mentallity isn&#39;t intuitive to me yet. One thing I learned in all my years of development you can&#39;t  be good if you wertr not bad 100 times in the past."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 6, "last_activity_date": 1561585379, "creation_date": 1561585379, "answer_id": 56781297, "question_id": 56781271, "link": "https://stackoverflow.com/questions/56781271/most-pythonic-way-to-toggle-a-variable-between-two-values/56781297#56781297", "title": "Most pythonic way to toggle a variable between two values", "body": "<p>IMO, the most pythonic way isn't with <code>eval</code>, or with dunders, or using a 2-element list indexing, it's a simple if-else conditional (or ternary): </p>\n\n<pre><code>p = 'TRUE' if p.upper() == 'FALSE' else 'FALSE'\n</code></pre>\n\n<p>It doesn't use hacks or trickery, it is simple and (more importantly) readable.</p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "edited": false, "score": 1, "creation_date": 1561588044, "post_id": 56781343, "comment_id": 100118215, "body": "@RobotMind would you prefer <code>p = str(p.lower() == &quot;false&quot;).upper()</code>? At least it is correct."}], "tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 1, "last_activity_date": 1561586070, "last_edit_date": 1561586070, "creation_date": 1561585638, "answer_id": 56781343, "question_id": 56781271, "link": "https://stackoverflow.com/questions/56781271/most-pythonic-way-to-toggle-a-variable-between-two-values/56781343#56781343", "title": "Most pythonic way to toggle a variable between two values", "body": "<p>The solution by @cs95 is the way to go, but here is (IMO) an acceptable (albeit less readable and arguably more complicated) alternative:</p>\n\n<pre><code>p = str(p.upper() == \"FALSE\").upper()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1561587353, "post_id": 56781569, "comment_id": 100118030, "body": "This would actually have be <code>p=str(bool(p.lower()!=&quot;true&quot;)).upper()</code> thus making the bool superfluous and a poorer version of pault&#39;s answer. So."}], "tags": [], "owner": {"reputation": 311, "user_id": 11057167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--vcgUfiK9SA/AAAAAAAAAAI/AAAAAAAAABc/njhdKLVZ0mI/photo.jpg?sz=128", "display_name": "Robot Mind", "link": "https://stackoverflow.com/users/11057167/robot-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1561588033, "last_edit_date": 1561588033, "creation_date": 1561587112, "answer_id": 56781569, "question_id": 56781271, "link": "https://stackoverflow.com/questions/56781271/most-pythonic-way-to-toggle-a-variable-between-two-values/56781569#56781569", "title": "Most pythonic way to toggle a variable between two values", "body": "<p>EDITED:How about</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>p=str(p.lower()!=\"true\").upper()\n</code></pre>\n\n<p>No loops, no if, no complex functions. Just change type functions. Short and simple ;)</p>\n"}], "owner": {"reputation": 21, "user_id": 11705379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8baf584fe7a4b4b688dfa442e5d55c0?s=128&d=identicon&r=PG&f=1", "display_name": "uq3g1rbm", "link": "https://stackoverflow.com/users/11705379/uq3g1rbm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1561588033, "creation_date": 1561585232, "last_edit_date": 1561587775, "question_id": 56781271, "link": "https://stackoverflow.com/questions/56781271/most-pythonic-way-to-toggle-a-variable-between-two-values", "title": "Most pythonic way to toggle a variable between two values", "body": "<p>I have a variable, p, that is the output of a regular expression match and is guaranteed to be either 'true' or 'false' in any mixed case.  If 'true' I want it to be 'FALSE' and if 'false' I want it to be 'TRUE'.  The end result is always uppercase.</p>\n\n<p>I have thought of the following four methods.  Which is the most pythonic or is there a better one?</p>\n\n<pre><code>p=['TRUE','FALSE'][eval(p.capitalize())]\np=(not eval(p.capitalize())).__repr__().upper()\np='FALSE' if eval(p.capitalize()) else 'TRUE'\np={'TRUE':'FALSE','FALSE':'TRUE'}[p.upper()]\n</code></pre>\n"}, {"tags": ["python", "selenium", "rpa"], "comments": [{"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 1, "creation_date": 1561586804, "post_id": 56781252, "comment_id": 100117878, "body": "did you switch the driver to the iframe?"}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "reply_to_user": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1561588451, "post_id": 56781252, "comment_id": 100118337, "body": "Yes, I did. I&#39;m able to select other things inside the iframe, I just can&#39;t get the text to show in the input box for some reason."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1561589511, "post_id": 56781252, "comment_id": 100118593, "body": "Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code is a bad idea</a>. Paste the code and properly format it instead."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1561589602, "post_id": 56781252, "comment_id": 100118618, "body": "Have you tried a CSS selector like <code>div.search-input &gt; input</code>?"}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 0, "creation_date": 1561590158, "post_id": 56781252, "comment_id": 100118745, "body": "Sorry, I did so because the html is deep inside many divisions. I will edit my original question. Do you mean I should try find_element_by_css_selector(&quot;div.search-input&quot;). This is my first time trying Selenium so I have a lot to learn. I&#39;m not sure what you mean by &#39;&gt;&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 0, "creation_date": 1561585748, "post_id": 56781322, "comment_id": 100117594, "body": "I tried this and got an error saying &quot;element not interactable.&quot; I don&#39;t think I can send keys to the div itself? I thought I can only send keys to the input field, which isn&#39;t working for whatever reason."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 1, "creation_date": 1561586719, "post_id": 56781322, "comment_id": 100117850, "body": "that&#39;s still the div... you need the input inside of that div"}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 1, "creation_date": 1561586922, "post_id": 56781322, "comment_id": 100117915, "body": "Yea, still getting the same error &quot;element not interactable.&quot; It&#39;s strange because there is no error in my original code with input but the text isn&#39;t showing up in the field"}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "edited": false, "score": 0, "creation_date": 1561587428, "post_id": 56781322, "comment_id": 100118047, "body": "Sorry dude, I read it wrong before, your div is &quot;search-input&quot; class and after you&#39;ve located it then just locate the element inside it by &quot;text&quot; class or &quot;input&quot; type."}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 0, "creation_date": 1561588795, "post_id": 56781322, "comment_id": 100118412, "body": "That makes sense. How would you write the code to locate the input element inside the div field? Would I still use driver.find_element_by_class_name(&quot;text&quot;)?"}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "edited": false, "score": 0, "creation_date": 1561589346, "post_id": 56781322, "comment_id": 100118553, "body": "You search <b>inside</b> <code>search_div</code>, I used that example with a class above, but any other call may take place too, like <code>search_div.find_element_by_tag_name(&quot;input&quot;)</code>"}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 0, "creation_date": 1561589564, "post_id": 56781322, "comment_id": 100118614, "body": "This works, selenium is able to identify the input box with no errors, but no text is actually being written into it. Same issue I was having before. I am using send keys function. Really appreciate the help btw!"}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "edited": false, "score": 0, "creation_date": 1561590014, "post_id": 56781322, "comment_id": 100118706, "body": "Dunno, that&#39;s the way to do it, try with <code>search.send_keys(&quot;25%)\\n&quot;)</code>."}, {"owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "edited": false, "score": 0, "creation_date": 1561590383, "post_id": 56781322, "comment_id": 100118793, "body": "Yea, I don&#39;t know why it isn&#39;t working. Thanks anyways!"}], "tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": false, "score": -1, "last_activity_date": 1561590685, "last_edit_date": 1561590685, "creation_date": 1561585507, "answer_id": 56781322, "question_id": 56781252, "link": "https://stackoverflow.com/questions/56781252/input-field-is-recognized-by-selenium-but-keys-are-not-being-sent/56781322#56781322", "title": "Input Field is Recognized by Selenium but Keys are not Being Sent", "body": "<p>Use class to locate the div element:</p>\n\n<pre><code>search_div = driver.find_element_by_class_name(\"search-input\")\nsearch = search_div.find_element_by_class_name(\"text\")\n</code></pre>\n\n<p>Btw:</p>\n\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nklass = \"search-input\"\nWebDriverWait(driver, 20).until(EC.presence_of_element_located((By.CLASS_NAME, klass)))\nsearch_div = driver.find_element_by_class_name(klass)\nsearch = search_div.find_element_by_class_name(\"text\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 9496876, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gz5C9KI3wRk/AAAAAAAAAAI/AAAAAAAAAEI/e8P9Zn-dutU/photo.jpg?sz=128", "display_name": "Arjun Tandon", "link": "https://stackoverflow.com/users/9496876/arjun-tandon"}, "is_accepted": false, "score": 0, "last_activity_date": 1561611470, "creation_date": 1561611470, "answer_id": 56784150, "question_id": 56781252, "link": "https://stackoverflow.com/questions/56781252/input-field-is-recognized-by-selenium-but-keys-are-not-being-sent/56784150#56784150", "title": "Input Field is Recognized by Selenium but Keys are not Being Sent", "body": "<p>I'm not sure about the difference between Java and Python but my suggestion is that you try using JavaScriptExecutor to enter the Keys:</p>\n\n<p>Your Python code that gets the element:</p>\n\n<pre><code>search = driver.find_element_by_xpath(\"/html/body/main/div/div/div/div[1]/div/div/div/div/div/div[2]/div/input\")\n</code></pre>\n\n<p>You basically pass the element this way in Java:</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(\"arguments[0].value='&lt;&lt;Add your input String here&gt;&gt;';\", search);\n</code></pre>\n\n<p>Many times, it works when SendKeys doesn't</p>\n"}], "owner": {"reputation": 21, "user_id": 11605643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--VpltBrNdtg/AAAAAAAAAAI/AAAAAAAAJBk/nordc7xXA3M/photo.jpg?sz=128", "display_name": "Ram ", "link": "https://stackoverflow.com/users/11605643/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561611470, "creation_date": 1561585145, "question_id": 56781252, "link": "https://stackoverflow.com/questions/56781252/input-field-is-recognized-by-selenium-but-keys-are-not-being-sent", "title": "Input Field is Recognized by Selenium but Keys are not Being Sent", "body": "<p>The input field is being recognized by Selenium (done using xpath), but I am not able to send any keys to it. There is no error, but the text I want written into the keys is not being shown in the search box. The input field is inside several divs and is in an iframe, but I'm pretty sure I took care of that. What can I do to fix this issue?</p>\n\n<pre><code>driver.implicitly_wait(20)\nsearch = driver.find_element_by_xpath(\"/html/body/main/div/div/div/div[1]/div/div/div/div/div/div[2]/div/input\")\nsearch.send_keys(\"25%)\")\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yPZiM.png\" rel=\"nofollow noreferrer\">Picture of HTML</a></p>\n\n<p>The input field doesn't have an ID and it doesn't have a type either, so I'm not really sure how else to find it besides xpath.</p>\n"}, {"tags": ["python", "django", "mongodb"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1561585472, "post_id": 56781246, "comment_id": 100117515, "body": "Why have you installed an old version of django? Why do you think that error has anything to do with Mongodb?"}, {"owner": {"reputation": 1313, "user_id": 8977385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIUjm.jpg?s=128&g=1", "display_name": "sachin mathew", "link": "https://stackoverflow.com/users/8977385/sachin-mathew"}, "edited": false, "score": 0, "creation_date": 1561604985, "post_id": 56781246, "comment_id": 100121232, "body": "have you tried <a href=\"https://nesdis.github.io/djongo/get-started/\" rel=\"nofollow noreferrer\">nesdis.github.io/djongo/get-started</a>.?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6888715, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O7vGiR2NkWY/AAAAAAAAAAI/AAAAAAAAADs/_1FtSfZAzUQ/photo.jpg?sz=128", "display_name": "Alex Peng", "link": "https://stackoverflow.com/users/6888715/alex-peng"}, "is_accepted": false, "score": 0, "last_activity_date": 1561771395, "creation_date": 1561771395, "answer_id": 56814472, "question_id": 56781246, "link": "https://stackoverflow.com/questions/56781246/django-and-mongodb/56814472#56814472", "title": "Django and mongodb", "body": "<p>The django-norel was really old and still come out from google radar.</p>\n\n<p>Thanks for the advice.\nNow, I can get it work with \"djongo\".</p>\n"}], "owner": {"reputation": 1, "user_id": 6888715, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O7vGiR2NkWY/AAAAAAAAAAI/AAAAAAAAADs/_1FtSfZAzUQ/photo.jpg?sz=128", "display_name": "Alex Peng", "link": "https://stackoverflow.com/users/6888715/alex-peng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561771395, "creation_date": 1561585103, "question_id": 56781246, "link": "https://stackoverflow.com/questions/56781246/django-and-mongodb", "title": "Django and mongodb", "body": "<p>Any good tutorial for python django mongodb?</p>\n\n<p>I have python 3.7.3 installed.\nI grabbed django 1.6 from <a href=\"https://github.com/django-nonrel/django\" rel=\"nofollow noreferrer\">https://github.com/django-nonrel/django</a> (that's really old).\nFollowed the instruction of <a href=\"https://django-mongodb-engine.readthedocs.io/en/latest/topics/setup.html\" rel=\"nofollow noreferrer\">https://django-mongodb-engine.readthedocs.io/en/latest/topics/setup.html</a></p>\n\n<p>The \"python manager.py runserver\" show some htmlparser errors.</p>\n\n<p>File \"D:\\apps\\Python37\\lib\\site-packages\\django\\utils\\html.py\", line 14, in \n    from .html_parser import HTMLParser, HTMLParseError\n  File \"D:\\apps\\Python37\\lib\\site-packages\\django\\utils\\html_parser.py\", line 12, in \n    HTMLParseError = _html_parser.HTMLParseError\nAttributeError: module 'html.parser' has no attribute 'HTMLParseError'</p>\n\n<p>Any recommendations to have them work together?</p>\n"}, {"tags": ["python", "python-3.x", "flask"], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 11150689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad479b6838e7fea49d2a6ee20bc098b8?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Arali", "link": "https://stackoverflow.com/users/11150689/kartik-arali"}, "is_accepted": false, "score": 1, "last_activity_date": 1561926364, "creation_date": 1561926364, "answer_id": 56827831, "question_id": 56781241, "link": "https://stackoverflow.com/questions/56781241/how-to-add-access-control-allow-origin-header-for-flask-method-view/56827831#56827831", "title": "How to add Access-Control-Allow-Origin header for flask method view?", "body": "<ol>\n<li>Install the Flask-Cors package</li>\n<li><p>And import it as:-\nfrom flask_cors import CORS</p>\n\n<p>In create_app() method, after you initializes Flask application that is, </p>\n\n<p><code>app: Flask = Flask(__name__, instance_relative_config=True)</code></p></li>\n<li><p>Declare this line -> CORS(app)</p></li>\n</ol>\n"}], "owner": {"reputation": 15332, "user_id": 1004875, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9e995748f7d73110eb07dcd8ff81b85a?s=128&d=identicon&r=PG&f=1", "display_name": "co2f2e", "link": "https://stackoverflow.com/users/1004875/co2f2e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561926364, "creation_date": 1561585079, "question_id": 56781241, "link": "https://stackoverflow.com/questions/56781241/how-to-add-access-control-allow-origin-header-for-flask-method-view", "title": "How to add Access-Control-Allow-Origin header for flask method view?", "body": "<p>I have a flask MethodView as follows</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Ping(MethodView):\n    \"\"\"\n    Ping point implementation\n    \"\"\"\n\n    def get(self) -&gt; Response:\n        \"\"\"\n        Checks the server's health\n        :return: a json as status = 200\n        \"\"\"\n        return jsonify(status=200)\n</code></pre>\n\n<p>I want to add <code>Access-Control-Allow-Origin</code> for this end-point. </p>\n\n<pre><code>def create_app() -&gt; Flask:\n    \"\"\"\n    Creates the flask application.\n    :return: returns an app instance.\n    \"\"\"\n\n    app: Flask = Flask(__name__, instance_relative_config=True)\n\n    # db config\n    app.config[\"db\"] = os.environ.get(\"APP_DB_NAME\")\n    app.config[\"host\"] = os.environ.get(\"APP_DB_HOST\")\n    app.config[\"password\"] = os.environ.get(\"APP_DB_PASSWORD\")\n    app.config[\"port\"] = os.environ.get(\"APP_DB_PORT\")\n    app.config[\"user\"] = os.environ.get(\"APP_DB_USER\")\n\n    # secret key config\n    app.config.from_mapping(SECRET_KEY=os.environ.get(\"SECRET\"))\n\n    add_urls(app)\n\n    return app\n\n\ndef add_urls(app: Flask) -&gt; None:\n    \"\"\"\n    Add urls to app\n    :param app: Flask app instance\n    \"\"\"\n\n    # TODO: Declare end-points in a dictionary and iterate.\n    app.add_url_rule(\n        f\"{END_POINT}/ping\", view_func=Ping.as_view(\"ping\")\n    )\n</code></pre>\n\n<p>The <code>return jsonify()</code> method does not have a way to pass headers. How to set header 'Access-Control-Allow-Origin' ?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 2, "creation_date": 1561585269, "post_id": 56781237, "comment_id": 100117458, "body": "Did you mean shape <code>(1, 102)</code> or shape <code>(8, 102)</code>?"}, {"owner": {"reputation": 612, "user_id": 8315741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7deba1e42705efcdb2636a66373806d7?s=128&d=identicon&r=PG&f=1", "display_name": "JChat", "link": "https://stackoverflow.com/users/8315741/jchat"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561585310, "post_id": 56781237, "comment_id": 100117470, "body": "@FHTMitchell I would like the reshaped array of dimensions (1,102). Thanks"}, {"owner": {"reputation": 612, "user_id": 8315741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7deba1e42705efcdb2636a66373806d7?s=128&d=identicon&r=PG&f=1", "display_name": "JChat", "link": "https://stackoverflow.com/users/8315741/jchat"}, "reply_to_user": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 0, "creation_date": 1561585539, "post_id": 56781237, "comment_id": 100117536, "body": "I got your point. Sorry, I would like the final dimensions to be (8,102). Have edited my question accordingly. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": true, "score": 2, "last_activity_date": 1561585614, "last_edit_date": 1561585614, "creation_date": 1561585229, "answer_id": 56781266, "question_id": 56781237, "link": "https://stackoverflow.com/questions/56781237/how-to-reshape-a-4-dimensional-numpy-array-into-different-dimensions/56781266#56781266", "title": "How to reshape a 4 dimensional Numpy array into different dimensions?", "body": "<p>You can't simply \"ignore\" the first two dimensions. You have an array of size <code>8 * 1 * 1 * 102 == 816</code> but you want an array of size <code>1 * 102</code> so you will have to choose which values to drop. </p>\n\n<p>For example, if you want the first 102 you can do </p>\n\n<pre><code>array[0, 0]\n</code></pre>\n\n<p>which will have shape <code>(1, 102)</code></p>\n\n<h1>Edit</h1>\n\n<p>If you want dimensions <code>(8, 102)</code> then, as the other user who deleted their answer said, you want <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.squeeze.html\" rel=\"nofollow noreferrer\"><code>np.squeeze</code></a>.</p>\n\n<pre><code>x = np.random.random((8, 1, 1, 102))\ny = np.squeeze(x)\nprint(y.shape)  # (8, 102)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11476500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lrGA9fTI0Bc/AAAAAAAAAAI/AAAAAAAALpQ/8MWYdHJOvCA/photo.jpg?sz=128", "display_name": "Gaurav Rai", "link": "https://stackoverflow.com/users/11476500/gaurav-rai"}, "is_accepted": false, "score": 1, "last_activity_date": 1561589699, "creation_date": 1561589699, "answer_id": 56781883, "question_id": 56781237, "link": "https://stackoverflow.com/questions/56781237/how-to-reshape-a-4-dimensional-numpy-array-into-different-dimensions/56781883#56781883", "title": "How to reshape a 4 dimensional Numpy array into different dimensions?", "body": "<p>np.squeeze will collapse all the dimensions having length 1, or you can use the reshape function </p>\n"}], "owner": {"reputation": 612, "user_id": 8315741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7deba1e42705efcdb2636a66373806d7?s=128&d=identicon&r=PG&f=1", "display_name": "JChat", "link": "https://stackoverflow.com/users/8315741/jchat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 56781266, "answer_count": 2, "score": 0, "last_activity_date": 1561589699, "creation_date": 1561585058, "last_edit_date": 1561585796, "question_id": 56781237, "link": "https://stackoverflow.com/questions/56781237/how-to-reshape-a-4-dimensional-numpy-array-into-different-dimensions", "title": "How to reshape a 4 dimensional Numpy array into different dimensions?", "body": "<p>I have a 4 dimensional <code>Numpy</code> array, of <code>(8, 1, 1, 102)</code>. Now, for instance, I simply want to ignore the middle two dimensions and have an array of shape <code>(8,102)</code>, what may be the suitable way to accomplish this?</p>\n"}, {"tags": ["python", "python-3.x", "for-loop"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1561585860, "post_id": 56781234, "comment_id": 100117625, "body": "No, it isn&#39;t.  The appropriate implementation is just as you have done it."}, {"owner": {"reputation": 49, "user_id": 11614583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZvIq.png?s=128&g=1", "display_name": "Polar", "link": "https://stackoverflow.com/users/11614583/polar"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1561586153, "post_id": 56781234, "comment_id": 100117718, "body": "Thank you for replying. That solves my problem."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1561586857, "post_id": 56781234, "comment_id": 100117896, "body": "You could write a generator that&#39;s similar to <code>range()</code> but multiplies instead of adding."}], "owner": {"reputation": 49, "user_id": 11614583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZvIq.png?s=128&g=1", "display_name": "Polar", "link": "https://stackoverflow.com/users/11614583/polar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561586057, "creation_date": 1561585055, "question_id": 56781234, "link": "https://stackoverflow.com/questions/56781234/is-there-any-way-to-iterate-for-loop-multiplicatively", "title": "Is there any way to iterate for loop multiplicatively?", "body": "<p>Basically, all I want to know is that whether such thing is possible with for loop or not. </p>\n\n<p>I used while loop so as to increment value 2 times the previous one.</p>\n\n<pre><code>increment = 1\nwhile (increment &lt;= 10):\n    print (increment)\n    increment *= 2 \n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-layout"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1561586644, "post_id": 56781228, "comment_id": 100117831, "body": "Layout problems are almost always much, much easier to debug when all of the layout code is grouped together."}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1561587492, "post_id": 56781555, "comment_id": 100118065, "body": "Your explanation isn&#39;t correct even though your code suggestion works. The &quot;sticky&quot; option is working just fine. The problem isn&#39;t that the column needs to be wider for the &quot;sticky&quot; to work, it&#39;s that the column to its left is wider than the entry widget it contains. You can see that by taking the original code and using a sticky of &quot;ew&quot; for the entry widget."}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1561588436, "post_id": 56781555, "comment_id": 100118330, "body": "I edited and changed that disputable &quot;column 3&quot; into &quot;Checkbutton instance&quot;. The point is that without grid_columnconfigure Checkbutton left/x starts on a half the space spinboxes occupy."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1561588647, "post_id": 56781555, "comment_id": 100118376, "body": "The description is still not accurate. The &quot;sticky&quot; attribute on that column is working just fine. The problem isn&#39;t the whitespace to the left of the checkbutton, it&#39;s the whitespace to the right of the column to its left."}], "tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": false, "score": 0, "last_activity_date": 1561588934, "last_edit_date": 1561588934, "creation_date": 1561587054, "answer_id": 56781555, "question_id": 56781228, "link": "https://stackoverflow.com/questions/56781228/columnspan-widget-throwing-off-columns/56781555#56781555", "title": "Columnspan Widget Throwing Off Columns", "body": "<p>Add following code:</p>\n\n<pre><code>GUI.grid_columnconfigure(3, weight=1)\n</code></pre>\n\n<p>It means that column 3 would occupy all the place it can get. Your/default weight is 0. <strike>and that means Checkbutton instance is wide just as \"None\" text is, so sticky w equals sticky e equals sticky we or wens. If you set the weight to 1 then your sticky argument actually takes place.</strike></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11240846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474e00ce087ad61ad0893fa27e0f12c4?s=128&d=identicon&r=PG&f=1", "display_name": "CyberViper", "link": "https://stackoverflow.com/users/11240846/cyberviper"}, "edited": false, "score": 0, "creation_date": 1561597559, "post_id": 56781827, "comment_id": 100120036, "body": "Thank you for the detailed explanation! I just started using tkinter on Monday and I&#39;m struggling in finding information as the documentation isn&#39;t very thorough."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1561589178, "creation_date": 1561589178, "answer_id": 56781827, "question_id": 56781228, "link": "https://stackoverflow.com/questions/56781228/columnspan-widget-throwing-off-columns/56781827#56781827", "title": "Columnspan Widget Throwing Off Columns", "body": "<p>The problem is that the 2nd column is wider than you think it is. To see it, change the line where you add the input widget to the grid so that it looks like this:</p>\n\n<pre><code>input3.grid(row=5, column=2, sticky='ew')\n</code></pre>\n\n<p>You'll see that the checkbutton is in fact as far left as it can go, and it is the column to its left that is responsible for all of the extra space.</p>\n\n<p>The reason is because the <code>datefield</code> widget spans two columns, but those two columns aren't wide enough to hold the datefield. <code>grid</code> has to add extra space to the columns so that the widget will fit.</p>\n\n<p>If you want the second column to stay a fixed size and have column 3 to be the one that grows and shrinks, you have to give column 3 a non-zero weight so that <code>grid</code> can allocate all extra space to that column.</p>\n\n<p>You can do that by adding this line of code somewhere:</p>\n\n<pre><code>GUI.grid_columnconfigure(3, weight=1)\n</code></pre>\n\n<p>Another solution would be to add the weight to an invisible column 4, and then have <code>datefield</code> span three columns instead of two. That will cause columns 2 and 3 to retain their natural size, and any extra space would be given to an empty column. </p>\n\n<pre><code>GUI.grid_columnconfigure(4, weight=1)\ndate_field.grid(row=7, column=2, rowspan=2, columnspan=3, sticky='w')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11240846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474e00ce087ad61ad0893fa27e0f12c4?s=128&d=identicon&r=PG&f=1", "display_name": "CyberViper", "link": "https://stackoverflow.com/users/11240846/cyberviper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 56781827, "answer_count": 2, "score": 0, "last_activity_date": 1561589178, "creation_date": 1561585021, "last_edit_date": 1561588648, "question_id": 56781228, "link": "https://stackoverflow.com/questions/56781228/columnspan-widget-throwing-off-columns", "title": "Columnspan Widget Throwing Off Columns", "body": "<p>I'm having trouble getting my first \"None\" checkbox widget where I want it. Here is a link to a screenshot. </p>\n\n<p><a href=\"https://i.stack.imgur.com/HvtHg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HvtHg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to get the \"None\" checkbox widget to be directly to the right of the Entry widget. The bottom rows containing spinbox widgets are contained within a LabelFrame widget located at row=7, column=2 that has a columnspan of 2. My first checkbox widget is located at row=5, column=3 with sticky='w'. Why then isn't it up against the Entry widget at row=5, column=2 since I gave the LabelFrame a columnspan of 2?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>tk.Label(GUI, text='label 1').grid(row=0, sticky='w')\ntk.Label(GUI, text='label 2').grid(row=1, sticky='w')\ntk.Label(GUI, text='label 3').grid(row=2, sticky='w')\ntk.Label(GUI, text='label 4').grid(row=3, sticky='w')\ntk.Label(GUI, text='label 5').grid(row=4, sticky='w')\ntk.Label(GUI, text='label 6').grid(row=5, sticky='w')\ntk.Label(GUI, text='label 7').grid(row=6, sticky='w')\ntk.Label(GUI, text='label 8').grid(row=7, sticky='w')\ntk.Label(GUI, text='label 9').grid(row=8, sticky='w')\n\ntk.Label(GUI, text='$').grid(row=2, column=1, sticky='w')\ntk.Label(GUI, text='$').grid(row=3, column=1, sticky='w')\ntk.Label(GUI, text='$').grid(row=4, column=1, sticky='w')\n\ntk.Label(GUI, text='9999').grid(row=2, column=2, sticky='w')\n\ninput1 = tk.Entry(GUI, width=10)\ninput2 = tk.Entry(GUI, width=10)\ninput3 = tk.Entry(GUI, width=10)\nbutton_input = tk.Checkbutton(GUI, text='None')\ninput5 = tk.Entry(GUI, width=10)\n\ndate_field = tk.LabelFrame(GUI)\nscheduled_start_month_input = tk.Spinbox(date_field, from_=1, to=12, width=2)\nscheduled_start_day_input = tk.Spinbox(date_field, from_=1, to=31, width=2)\nscheduled_start_year_input = tk.Spinbox(date_field, from_=2018, to=2025, width=4)\nscheduled_start_hour_input = tk.Spinbox(date_field, from_=0, to=23, width=2)\nscheduled_start_minute_input = tk.Spinbox(date_field, from_=0, to=59, width=2)\nstart_on_launch_option = tk.Checkbutton(date_field, onvalue=True, offvalue=False, text='On Launch')\nscheduled_stop_month_input = tk.Spinbox(date_field, from_=1, to=12, width=2)\nscheduled_stop_day_input = tk.Spinbox(date_field, from_=1, to=31, width=2)\nscheduled_stop_year_input = tk.Spinbox(date_field, from_=2018, to=2025, width=4)\nscheduled_stop_hour_input = tk.Spinbox(date_field, from_=0, to=23, width=2)\nscheduled_stop_minute_input = tk.Spinbox(date_field, from_=0, to=59, width=2)\nscheduled_stop_none = tk.Checkbutton(date_field, onvalue=True, offvalue=False, text='None')\n\n\ninput1.grid(row=3, column=2, sticky='w')\ninput2.grid(row=4, column=2, sticky='w')\ninput3.grid(row=5, column=2, sticky='w')\nbutton_input.grid(row=5, column=3, sticky='w')\ninput5.grid(row=6, column=2, sticky='w')\n\ndate_field.grid(row=7, column=2, rowspan=2, columnspan=2, sticky='w')\nscheduled_start_month_input.grid(column=0)\ntk.Label(date_field, text='/').grid(column=1, row=0)\nscheduled_start_day_input.grid(column=2, row=0)\ntk.Label(date_field, text='/').grid(column=3, row=0)\nscheduled_start_year_input.grid(column=4, row=0)\ntk.Label(date_field, text=' ').grid(column=5, row=0)\nscheduled_start_hour_input.grid(column=6, row=0)\ntk.Label(date_field, text=':').grid(column=7, row=0)\nscheduled_start_minute_input.grid(column=8, row=0)\nstart_on_launch_option.grid(row=0, column=9)\n\nscheduled_stop_month_input.grid(column=0)\ntk.Label(date_field, text='/').grid(column=1, row=1)\nscheduled_stop_day_input.grid(column=2, row=1)\ntk.Label(date_field, text='/').grid(column=3, row=1)\nscheduled_stop_year_input.grid(column=4, row=1)\ntk.Label(date_field, text=' ').grid(column=5, row=1)\nscheduled_stop_hour_input.grid(column=6, row=1)\ntk.Label(date_field, text=':').grid(column=7, row=1)\nscheduled_stop_minute_input.grid(column=8, row=1)\nscheduled_stop_none.grid(column=9, row=1, sticky='w')\n\ntk.Button(GUI, text='Launch').grid(row=9, sticky='w')\n\nGUI.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "google-sheets"], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 10737350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0fa26b4404daa221ac1ca3e7aa61a0?s=128&d=identicon&r=PG&f=1", "display_name": "NFR", "link": "https://stackoverflow.com/users/10737350/nfr"}, "is_accepted": true, "score": 1, "last_activity_date": 1561600537, "creation_date": 1561600537, "answer_id": 56782921, "question_id": 56781167, "link": "https://stackoverflow.com/questions/56781167/is-there-a-way-to-add-and-manipulate-check-boxes-in-a-google-sheets-using-python/56782921#56782921", "title": "Is there a way to add and manipulate check boxes in a google sheets using python", "body": "<p>Checkboxes in google sheet uses DATA Validation and are just TRUE/FALSE values.\nso to check/uncheck all you have to do it set the cell value to TRUE/FALSE.\nYou can use Python with Google Sheets API for it.</p>\n\n<pre><code>https://developers.google.com/sheets/api/quickstart/python\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 10440588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aba5dc5b88861c6b2e2257760bbef?s=128&d=identicon&r=PG&f=1", "display_name": "P. Navarro", "link": "https://stackoverflow.com/users/10440588/p-navarro"}, "is_accepted": false, "score": 1, "last_activity_date": 1588254229, "last_edit_date": 1588254229, "creation_date": 1587545915, "answer_id": 61361119, "question_id": 56781167, "link": "https://stackoverflow.com/questions/56781167/is-there-a-way-to-add-and-manipulate-check-boxes-in-a-google-sheets-using-python/61361119#61361119", "title": "Is there a way to add and manipulate check boxes in a google sheets using python", "body": "<p>Though the answer from @NFR is correct and illustrative, I'll post a more straightforward one.</p>\n\n<p>Some of the formatting options from the API are easily accesible through a <strong>helper library</strong>: <a href=\"https://github.com/robin900/gspread-formatting\" rel=\"nofollow noreferrer\">gspread_formatting</a>. Their README has a good description of how it wraps the DATA Validation rules API. <strong>To insert checkboxes</strong> (having the worksheet already being opened in the usual gspread manner) this snippet will do:</p>\n\n<pre><code>from gspread_formatting import *\n\nvalidation_rule = DataValidationRule(\n    BooleanCondition('BOOLEAN', []), # condition'type' and 'values', defaulting to TRUE/FALSE\n    showCustomUi = True\n)\n\nset_data_validation_for_cell_range(ws.sheet1, target_range_of_cells, validation_rule)\n</code></pre>\n\n<p>Hope that helps others like me!</p>\n"}], "owner": {"reputation": 33, "user_id": 10877057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PkSrx-5ialw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZeLclzE3mW3N0itom4Fe1ZaAnr9A/mo/photo.jpg?sz=128", "display_name": "Oxbowmarrow", "link": "https://stackoverflow.com/users/10877057/oxbowmarrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 56782921, "answer_count": 2, "score": 1, "last_activity_date": 1588254229, "creation_date": 1561584781, "question_id": 56781167, "link": "https://stackoverflow.com/questions/56781167/is-there-a-way-to-add-and-manipulate-check-boxes-in-a-google-sheets-using-python", "title": "Is there a way to add and manipulate check boxes in a google sheets using python", "body": "<p>I need to a way to add, check and uncheck checkboxes in a google sheets sheet via a python api.</p>\n\n<p>Currently I am using Gspread to interact with the sheet however I don't believe that it supports this specific feature. Is there another api I can use that does have this feature, or another way to work around this issue?</p>\n"}, {"tags": ["python", "django", "data-migration"], "comments": [{"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1561589221, "post_id": 56781151, "comment_id": 100118524, "body": "What code calls <code>normalize_username</code>? It&#39;s not that migration."}, {"owner": {"reputation": 532, "user_id": 1602606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c564a87f917c877255c6d3d11f1859b6?s=128&d=identicon&r=PG", "display_name": "chamoda", "link": "https://stackoverflow.com/users/1602606/chamoda"}, "edited": false, "score": 0, "creation_date": 1561603914, "post_id": 56781151, "comment_id": 100121014, "body": "Do you have a custom user model? Would you mind sharing the model code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11517082"}, "reply_to_user": {"reputation": 532, "user_id": 1602606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c564a87f917c877255c6d3d11f1859b6?s=128&d=identicon&r=PG", "display_name": "chamoda", "link": "https://stackoverflow.com/users/1602606/chamoda"}, "edited": false, "score": 0, "creation_date": 1561636838, "post_id": 56781151, "comment_id": 100135296, "body": "@chamoda I&#39;m not using a custom user model.  I&#39;m using the one that Django provides."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11517082"}, "reply_to_user": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1561637090, "post_id": 56781151, "comment_id": 100135442, "body": "@markwalker_ I searched through the project and <code>normalize_username</code> is not called anywhere and does not appear at all in the project which is one of the main reasons that I&#39;m confused by this error."}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1561637515, "post_id": 56781151, "comment_id": 100135688, "body": "@Rachel what version of django are you using?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11517082"}, "reply_to_user": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1561637775, "post_id": 56781151, "comment_id": 100135816, "body": "@markwalker_ I&#39;m using 1.11"}], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 1531280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iGAlp.jpg?s=128&g=1", "display_name": "Dos", "link": "https://stackoverflow.com/users/1531280/dos"}, "is_accepted": false, "score": 7, "last_activity_date": 1610029434, "last_edit_date": 1610029434, "creation_date": 1566906060, "answer_id": 57673911, "question_id": 56781151, "link": "https://stackoverflow.com/questions/56781151/data-migration-causes-error-attributeerror-type-object-user-has-no-attribute/57673911#57673911", "title": "Data migration causes error AttributeError: type object &#39;User&#39; has no attribute &#39;normalize_username&#39;?", "body": "<p>You should use <code>create()</code> instead of <code>create_user()</code>, as the UserManager doesn't work inside migrations. Make sure you are generating the password in the correct way.</p>\n<pre><code>from django.contrib.auth.hashers import make_password\n\ndef create_urechr_user(apps, schema_editor):\n    # ...\n    user = User.objects.create(\n        username = &quot;myName&quot;,\n        password = make_password(&quot;test&quot;),\n        is_active = True,\n        email = &quot;&quot;,\n    )\n    # ...\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11517082"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1610029434, "creation_date": 1561584685, "last_edit_date": 1561640419, "question_id": 56781151, "link": "https://stackoverflow.com/questions/56781151/data-migration-causes-error-attributeerror-type-object-user-has-no-attribute", "title": "Data migration causes error AttributeError: type object &#39;User&#39; has no attribute &#39;normalize_username&#39;?", "body": "<p>I'm trying to create a data migration to add a user to the database.  However, I get an attribute error when I try to do so.</p>\n\n<p>I've ran ipdb to troubleshoot the problem, I've tried commenting out fields of the user object to see if one of those was causing the error, and I've tried adding \"user.save()\"</p>\n\n<pre><code># -*- coding: utf-8 -*-\n# Generated by Django 1.11.6 on 2019-02-08 21:23\nfrom __future__ import unicode_literals\n\nfrom django.db import migrations\nfrom django.conf import settings\n\n\ndef create_urechr_user(apps, schema_editor):\n    staffPosition = apps.get_model(\"hr\", \"staffPosition\")\n\n    User = apps.get_model(settings.AUTH_USER_MODEL)\n    user = User.objects.create_user(\n        username = \"myName\",\n        password = \"test\",\n        is_active = True,\n        email = \"\",\n    )\n    staff = staffPosition.objects.get(pk = 95)\n    user.save()\n    urec_staff = staffPosition.objects.create(\n        parent_staff_position = staff,\n        user_id = user,\n        title = \"My title here\",\n    )\n    urec_staff.save()\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('hr', '0003_add_verbose_name_20190213_1519'),\n    ]\n\n    operations = [\n        migrations.RunPython(create_urechr_user),\n    ]\n</code></pre>\n\n<p><code>AttributeError: type object 'User' has no attribute 'normalize_username'</code></p>\n"}, {"tags": ["python", "jit", "poisson"], "owner": {"reputation": 41, "user_id": 10868867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de8edf73ba3413ae348875fb977a8fb?s=128&d=identicon&r=PG&f=1", "display_name": "I. Stone", "link": "https://stackoverflow.com/users/10868867/i-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1561584493, "creation_date": 1561584493, "question_id": 56781122, "link": "https://stackoverflow.com/questions/56781122/how-can-i-generate-an-array-of-samples-from-a-poisson-distribution-in-python-usi", "title": "How can I generate an array of samples from a poisson distribution in python using jax (jit)?", "body": "<p>I am using jax (<a href=\"https://github.com/google/jax\" rel=\"nofollow noreferrer\">https://github.com/google/jax</a>) to code up a neural network, and to simulate my inputs I would like to generate an array of samples from a poisson distribution. How can I do this given jax's restrictions?</p>\n\n<p>I have already tried using np.random.poisson(mu,N) and scipy.stats.poisson.rvs(mu, size=N). Neither of these work because they are not supported in jax.numpy and jax.scipy.stats. So basically, I need an alternative solution, either with another package that jax does support or by hard-coding the poisson function. </p>\n\n<pre><code>from jax import jit, vmap\nimport jax.numpy as np\nimport numpy as onp\nfrom scipy.stats import poisson\n\ndef build_input_and_targets_simulated(ntime, key):\n    \"\"\"\n    Function: Simulate inputs and targets.\n    Args:\n        ntime: number of time steps in input\n        key: key for random number generator\n    Returns:\n        inputs: txu matrix of inputs\n        targets: txu matrix of target classifications\n    \"\"\"\n    mu = 0.03  # average number of events per interval\n\n    # scipy method\n    inputs = np.array([poisson.rvs(mu, size=ntime), poisson.rvs(mu, \nsize=ntime)]).T\n\n    # numpy method\n    inputs = np.array([onp.random.poisson(mu, ntime), \nonp.random.poisson(mu, ntime)]).T\n\n    targets = onp.zeros((ntime,1))\n\n    # determine target based on difference in inputs\n    diffT = np.cumsum(inputs[:,0]) - np.cumsum(inputs[:,1]) # calculate \ncumulative difference in inputs for each time point\n\n    targets[diffT &gt; 0] = 1 # if diffT &gt; 0, set binary choice\n    targets[diffT ==0] = int(random.randint(key, (1,1), 0, 2)) # if \ninputs are equal, select target class randomly\n\n    return inputs, targets\n\n# Now batch it and jit.\nbuild_input_and_target = build_input_and_targets_simulated\nbuild_inputs_and_targets = vmap(build_input_and_target, in_axes=(None, \n0))\nbuild_inputs_and_targets_jit = jit(build_inputs_and_targets, \nstatic_argnums=(0,))\n\n\nseed = onp.random.randint(0, 1000000)\nkey = random.PRNGKey(seed)\nntimesteps = 25\n\ninputs, targets = build_inputs_and_targets_jit(ntimesteps, key)\n</code></pre>\n\n<p>If I use the scipy method, I get an error that looks like this: </p>\n\n<pre><code>Exception: Tracer can't be used with raw numpy functions. You might have\n  import numpy as np\ninstead of\n  import jax.numpy as np\n</code></pre>\n\n<p>If I use the numpy method, I get an error that looks like this: </p>\n\n<pre><code>TypeError: 'BatchTracer' object cannot be interpreted as an integer\n</code></pre>\n\n<p>Both of these errors appear to be related to the specialized data types that jax uses (and which are necessary when using jit). </p>\n\n<p>How can I get around this??</p>\n"}, {"tags": ["python", "slack", "slack-api"], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 9135359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhZIk.png?s=128&g=1", "display_name": "Code Monkey", "link": "https://stackoverflow.com/users/9135359/code-monkey"}, "edited": false, "score": 0, "creation_date": 1561602649, "post_id": 56781371, "comment_id": 100120806, "body": "The article says something about \u2018thread_ts\u2019 attribute to the message. Any ideas on how message attributes can be accessed?"}, {"owner": {"reputation": 23463, "user_id": 4379151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kOLJQ.jpg?s=128&g=1", "display_name": "Erik Kalkoken", "link": "https://stackoverflow.com/users/4379151/erik-kalkoken"}, "reply_to_user": {"reputation": 658, "user_id": 9135359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhZIk.png?s=128&g=1", "display_name": "Code Monkey", "link": "https://stackoverflow.com/users/9135359/code-monkey"}, "edited": false, "score": 0, "creation_date": 1561603923, "post_id": 56781371, "comment_id": 100121020, "body": "2 main ways are: send a chat.postMessage or listen to message events. You will receive message objects that may contain that property"}, {"owner": {"reputation": 23463, "user_id": 4379151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kOLJQ.jpg?s=128&g=1", "display_name": "Erik Kalkoken", "link": "https://stackoverflow.com/users/4379151/erik-kalkoken"}, "reply_to_user": {"reputation": 658, "user_id": 9135359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhZIk.png?s=128&g=1", "display_name": "Code Monkey", "link": "https://stackoverflow.com/users/9135359/code-monkey"}, "edited": false, "score": 0, "creation_date": 1561604131, "post_id": 56781371, "comment_id": 100121066, "body": "Check out the official page on threads for all details: <a href=\"https://api.slack.com/docs/message-threading\" rel=\"nofollow noreferrer\">api.slack.com/docs/message-threading</a>"}], "tags": [], "owner": {"reputation": 23463, "user_id": 4379151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kOLJQ.jpg?s=128&g=1", "display_name": "Erik Kalkoken", "link": "https://stackoverflow.com/users/4379151/erik-kalkoken"}, "is_accepted": false, "score": 0, "last_activity_date": 1561585806, "creation_date": 1561585806, "answer_id": 56781371, "question_id": 56781101, "link": "https://stackoverflow.com/questions/56781101/how-to-get-python-slack-bot-to-reply-within-a-thread/56781371#56781371", "title": "How to get Python Slack bot to reply within a thread?", "body": "<p>Slash commands do not work properly in threads. Its a known issue which has so far not been fixed.</p>\n\n<p>See also this answer: <a href=\"https://stackoverflow.com/questions/51956124/can-a-slack-bot-get-the-thread-id-that-a-slash-command-was-sent-from\">Can a Slack bot get the thread id that a slash command was sent from?</a></p>\n"}], "owner": {"reputation": 658, "user_id": 9135359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zhZIk.png?s=128&g=1", "display_name": "Code Monkey", "link": "https://stackoverflow.com/users/9135359/code-monkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1227, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1580893615, "creation_date": 1561584382, "question_id": 56781101, "link": "https://stackoverflow.com/questions/56781101/how-to-get-python-slack-bot-to-reply-within-a-thread", "title": "How to get Python Slack bot to reply within a thread?", "body": "<p>I'm trying to get my Python Slack bot to automatically reply in a thread if I post it commands in one. However, regardless of where I post my commands - in a thread or otherwise, it still replies as a general message. </p>\n\n<p>I wish to get it to reply in a thread. Here's my code so far (I've truncated most of the initializing and startup code for the sake of brevity):</p>\n\n<pre><code>import os, time, re, inspect, functools\nfrom slackclient import SlackClient\n\nclass Bot(object):\n    def __init__(self, token): \n        ...\n\n    def startup(self):\n        ...\n\n    def parse_bot_commands(self, slack_events):\n        \"\"\"\n            Parses a list of events coming from the Slack RTM API to find bot commands.\n            If a bot command is found, this function returns a tuple of command and channel.\n            If its not found, then this function returns None, None.\n        \"\"\"\n        for event in slack_events:\n            if event[\"type\"] == \"message\" and not \"subtype\" in event:\n                user_id, message = self.parse_direct_mention(event[\"text\"])\n                if user_id == self.starterbot_id:\n                    return message, event[\"channel\"]\n        return None, None\n\n    def parse_direct_mention(self, message_text):\n        \"\"\"\n            Finds a direct mention (a mention that is at the beginning) in message text\n            and returns the user ID which was mentioned. If there is no direct mention, returns None\n        \"\"\"\n        matches = re.search(self.MENTION_REGEX, message_text)\n        # the first group contains the username, the second group contains the remaining message\n        return (matches.group(1), matches.group(2).strip()) if matches else (None, None)\n\n    def handle_command(self, command, channel):\n        \"\"\"\n            Executes bot command if the command is known\n        \"\"\"\n        # Default response is help text for the user\n        default_response = \"Not sure what you mean. Try *{}*.\".format(self.EXAMPLE_COMMAND)\n\n        # Finds and executes the given command, filling in response\n        response = None\n\n        # NOTE: This is where you start to implement more commands!\n        if command.lower().startswith(\"roll\"):\n            response = 'Rock and Roll!\"\n\n        # Sends the response back to the channel\n        self.slack_client.api_call(\"chat.postMessage\", channel=channel, text=response or default_response)\n\n'''START THE BOT!'''\n#Initialize the token (when installing the app)\nbot = Bot('xxx-xxx')\nbot.startup()\n</code></pre>\n"}, {"tags": ["python", "multithreading", "hdf", "zarr"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 761177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bbb1a29798652153eae95526b6322b6?s=128&d=identicon&r=PG", "display_name": "Alistair Miles", "link": "https://stackoverflow.com/users/761177/alistair-miles"}, "is_accepted": false, "score": 1, "last_activity_date": 1562279894, "creation_date": 1562279894, "answer_id": 56894808, "question_id": 56781085, "link": "https://stackoverflow.com/questions/56781085/zarr-multithreaded-reading-of-groups/56894808#56894808", "title": "Zarr multithreaded reading of groups", "body": "<p>Groups are primarily intended as an organisational container. A group can contain any number of arrays, where each array may have a different shape and/or data type, so they are a flexible way to organise data. If your arrays are all of the same shape and data type then you could, as you suggest, stack them all up into a single multidimensional array. However, I would not expect the read speed to be very different, whether you have multiple arrays in a group or have all data in a single array, if the total amount of data is the same.</p>\n\n<p>If you want to read all arrays in a group into memory, and you are using the default compressor (Blosc), then this will already use multiple threads during decompression. Blosc usually does a good job of making use of available cores, so you may not be able to improve much if at all by adding any further multithreading. </p>\n"}], "owner": {"reputation": 6995, "user_id": 851530, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e15f09c206d727aae5ce8a3eec02f898?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/851530/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562279894, "creation_date": 1561584277, "question_id": 56781085, "link": "https://stackoverflow.com/questions/56781085/zarr-multithreaded-reading-of-groups", "title": "Zarr multithreaded reading of groups", "body": "<p>Not sure if this question makes sense/is relevant wrt zarr. I'm storing zarr data on disk in groups so for example I have</p>\n\n<pre><code>group = zarr.group()\nd1 = group.create_dataset('baz', shape=100, chunks=10)\nd2 = group.create_dataset('foo', shape=100, chunks=10)\n</code></pre>\n\n<p>Now group is iterable so I can iterate over it and read the data from all groups:</p>\n\n<pre><code>all_data = [group[g][:] for g in group]\n</code></pre>\n\n<p>Is there a way to read all of the data from groups using multithreading to speed it up? I know that within an array you can use multithreading to read and write data. </p>\n\n<p>Assuming that reading the data by groups is too slow for me, should I put all of the groups into one data array container? I guess I'm wondering what the function of groups are, aside from an organizational container. Because assuming that each group contains similar data you could theoretically just add another axis to your numpy array (for the groups) and store all groups in one big array.</p>\n"}, {"tags": ["python", "mongodb", "gridfs"], "owner": {"reputation": 132, "user_id": 11633464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb13d27fb20606ae0f2530aec2f52ee?s=128&d=identicon&r=PG&f=1", "display_name": "hw-135", "link": "https://stackoverflow.com/users/11633464/hw-135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561586078, "creation_date": 1561583976, "last_edit_date": 1561586078, "question_id": 56781032, "link": "https://stackoverflow.com/questions/56781032/mongodb-pymongo-errors-documenttoolarge-error", "title": "MongoDB - pymongo.errors.DocumentTooLarge Error", "body": "<p>I have a REST interface which POSTs data to MongoDB. The data is basically file system structure as a nested JSON structure where each level in the JSON has a key \"children\". This children contains the sub-directories if it's a folder or if it's a file, then it contains the contents of the file as an array of Strings. This data is later used by another Java-based application. An example of what the JSON data looks like is:</p>\n\n<pre><code>{\n    'name': 'sys',\n    'type': 'system',\n    'path': 'sys',\n    'children': [{\n        'name': 'folder1',\n        'type': 'folder',\n        'path': 'sys/folder1',\n        'children': [{\n            'name': 'folder2',\n            'type': 'folder',\n            'path': 'sys/folder1/folder2',\n            'children': [{\n                'name': 'textf1.txt',\n                'type': 'file',\n                'path': 'sys/folder1/folder2/textf1.txt',\n                'children': ['abc', 'def']\n            }, {\n                'name': 'textf2.txt',\n                'type': 'file',\n                'path': 'sys/folder1/folder2/textf2.txt',\n                'children': ['a', 'b', 'c']\n            }]\n        }, {\n            'name': 'text1.txt',\n            'type': 'file',\n            'path': 'sys/folder1/text1.txt',\n            'children': ['aaa', 'bbb', 'ccc']\n        }]\n    }],\n    '_id': ObjectId('5d1211ead866fc19ccdf0c77')\n}\n</code></pre>\n\n<p>The way I am parsing the file system structures is:</p>\n\n<pre><code>def path_to_dict(path, child=False):\n    d = {'name': os.path.basename(path)}\n    if os.path.isdir(path):\n        if not child:\n            d['type'] = \"system\"\n        else:\n            d['type'] = \"folder\"\n        d['path'] = os.path.relpath(path)\n        d['children'] = [path_to_dict(os.path.join(path, x),\n            child=True) for x in os.listdir\\(path)]\n    else:\n        if not child:\n            d['type'] = \"system\"\n        else:\n            d['type'] = \"file\"\n        d['path'] = os.path.relpath(path)\n        with open(path, 'r', encoding=\"utf-8\", errors='ignore') as myfile:\n            content = myfile.read().splitlines()\n        d['children'] = content\n    return d\n</code></pre>\n\n<p>Now all of the file systems I parsed worked successfully except for one system which gave the error:\n<code>pymongo.errors.DocumentTooLarge: BSON document too large (74101706 bytes) - the connected server supports BSON document sizes up to 16793598 bytes.</code></p>\n\n<p>I understand that there is a limitation of 16MB limit on document size and many have suggested the use of GridFS to break up the file. My problem is there is not one single file which contributes to such a large document size but multiple small documents. </p>\n\n<p>My server POST endpoint is as follows:</p>\n\n<pre><code>def post(self, collection_name):\n        user = mongo.db[collection_name]  \n        client_request = request.get_json(force=True)\n        user.insert(client_request)  \n</code></pre>\n\n<p>What can be a solution to this problem? Is GridFS useful in a scenario like this?</p>\n\n<p>EDIT: The file system structure which fails has multiple sub-folders containing C files, contents of which are treated as Strings and are stored as an array of Strings in the nested JSON. </p>\n"}, {"tags": ["python", "filter"], "comments": [{"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 1, "creation_date": 1561584583, "post_id": 56781027, "comment_id": 100117242, "body": "<code>check_email = username[-1:]</code> only gets the last (single) letter..so if the 2nd to last letter is lowercase, it will still think its valid. Would <code>check_email = username[-2:]</code> fix this?"}, {"owner": {"reputation": 13, "user_id": 7159251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvtvK.jpg?s=128&g=1", "display_name": "mike_f", "link": "https://stackoverflow.com/users/7159251/mike-f"}, "reply_to_user": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1561588691, "post_id": 56781027, "comment_id": 100118387, "body": "Its always something small. Now it works as intended. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7159251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvtvK.jpg?s=128&g=1", "display_name": "mike_f", "link": "https://stackoverflow.com/users/7159251/mike-f"}, "edited": false, "score": 0, "creation_date": 1561588773, "post_id": 56781210, "comment_id": 100118407, "body": "Thank you for your insight. I&#39;ll be using the println more often."}], "tags": [], "owner": {"reputation": 66, "user_id": 11637674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBwHqF2qZPXO88QXYcBFIYo2DqslhCdXiwwRs1S9A=k-s128", "display_name": "MrEdinLaw", "link": "https://stackoverflow.com/users/11637674/mredinlaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1561584941, "creation_date": 1561584941, "answer_id": 56781210, "question_id": 56781027, "link": "https://stackoverflow.com/questions/56781027/broken-filter-code-should-only-move-accounts-with-email-address-that-have-2-upp/56781210#56781210", "title": "Broken filter. Code should only move accounts with email address that have 2 uppercase letters", "body": "<p>You're checking here the last character, and not the last 2 characters.</p>\n\n<p>Instead of writing \n<code>check_email = username[-1:]</code>\njust do\n<code>check_email = username[-2:]</code></p>\n\n<p>The number defined there is how many letters its gonna take.</p>\n\n<p>Also as always i would recommend you to print out what you actually get from each line, so you get a better understanding and see a bit better what is happening.</p>\n"}], "owner": {"reputation": 13, "user_id": 7159251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvtvK.jpg?s=128&g=1", "display_name": "mike_f", "link": "https://stackoverflow.com/users/7159251/mike-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561584941, "creation_date": 1561583961, "question_id": 56781027, "link": "https://stackoverflow.com/questions/56781027/broken-filter-code-should-only-move-accounts-with-email-address-that-have-2-upp", "title": "Broken filter. Code should only move accounts with email address that have 2 uppercase letters", "body": "<p>The code below should only move accounts with email address that have 2 uppercase letters at the end 2 places behind the \"@\" sign. The filter appears to catch everything instead.</p>\n\n<p>I have changed how far the value goes back in the username and check_email variables.</p>\n\n<pre><code>mike@gmail.com\ntoTR@yahoo.com\nerferTT@hotmail.com \nfwefEE@yahoo.com\nthisYY@aol.com\nthat@yahoo.com\n</code></pre>\n\n<p>The first and last email addresses should be omitted and the remaining should be placed into a new file, but the lowercase email addresses are being pulled as well.</p>\n\n<p>Thanks</p>\n\n<pre><code>import sys\nimport argparse\nfrom datetime import datetime\n\ndef parse_arg():\n\n    \"\"\"Parses the args\"\"\"    \n    if len(sys.argv) &lt; 1:\n        print(\"Args: Input filename\")\n        raise RuntimeError(\"Insufficient arguments.\")\n\n    arg_1 = sys.argv[1]\n\n    return arg_1\n\n#Parameter is the filename\nfilename = parse_arg()\n\n#Create filename for output\noutput_file_date = datetime.now().strftime(\"%Y%m%d_%I%M%S\")\noutput_file = output_file_date + '_' + filename\n\n#Access the input file\nwith open(filename, 'rb') as input_file, open(output_file, 'w') as file_output:\n\n    #Create the header\"\"\"\n    output_file_header = input_file.readline().decode().replace('\\r','')\n    file_output.write(output_file_header)\n\n    #Skip the header in the input file\n    next(input_file)\n\n       #iterate over file object line by line\n        for line in input_file:\n\n        #Create output file objects\n        lines = line.decode().split(',')\n\n        #Create the email username variable\n        username = lines[1].split('@')[0]\n\n        #Create variable that display last two characters\n        check_email = username[-1:]\n\n  #Create file based on business rules and write results to file.\n        if check_email.isupper(): #and len(username) &lt; 16:\n            output_data = ','.join(lines).replace('\\r','')\n            file_output.write(output_data)\n\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input", "import"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1561583819, "post_id": 56780989, "comment_id": 100117004, "body": "Where did you define or import <code>Cockatrice</code>?  A file should do all the imports that particular file requires."}, {"owner": {"reputation": 19, "user_id": 11699138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf6f315a1d4120b0b6dc29308555c32?s=128&d=identicon&r=PG&f=1", "display_name": "Fuutralala", "link": "https://stackoverflow.com/users/11699138/fuutralala"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1561584079, "post_id": 56780989, "comment_id": 100117085, "body": "defined <code>Cockatrice</code> in a seperate file called cockatrice.py as function called <code>Cockatrice():</code>"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1561584158, "post_id": 56780989, "comment_id": 100117109, "body": "Did you import that"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11699138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf6f315a1d4120b0b6dc29308555c32?s=128&d=identicon&r=PG&f=1", "display_name": "Fuutralala", "link": "https://stackoverflow.com/users/11699138/fuutralala"}, "edited": false, "score": 1, "creation_date": 1561584744, "post_id": 56781095, "comment_id": 100117290, "body": "so all i had to do was to NOT run the function by calling it at the end ... pretty simple, thanks for helping me out!"}], "tags": [], "owner": {"reputation": 71, "user_id": 7831610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e395ca450d166ee8032ebdd21dde028?s=128&d=identicon&r=PG", "display_name": "Imaduddin A Majid", "link": "https://stackoverflow.com/users/7831610/imaduddin-a-majid"}, "is_accepted": true, "score": 0, "last_activity_date": 1561584325, "creation_date": 1561584325, "answer_id": 56781095, "question_id": 56780989, "link": "https://stackoverflow.com/questions/56780989/python-3-import-is-importing-too-much/56781095#56781095", "title": "python 3 import is importing too much", "body": "<p>Try this one</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># bestiary.py\nfrom draconids import Draconids\n\n\ndef list():\n    print(\"\"\"\n    - Beasts\n    - Cursed Ones\n    - Draconids\n    - Elementa\n    - Hybrids\n    - Insectoids\n    - Necrophages\n    - Ogroids\n    - Relicts\n    - Specters\n    - Vampires\n    \"\"\")\n\ndef Bestiary():\n    print(\"\"\"\n    Welcome to the Bestiary, where all the evil, malicious and\n    devious Creatures are listed.\n    Which category of monsters would you like to explore?\n    \"\"\")\n    list()\n\n\nif __name__ == '__main__':\n    Bestiary()\n    val = input(\"&gt; \")\n    if val == \"Draconids\" or \"draconids\":\n        Draconids()\n    else:\n        print(\"not ready yet\")\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># draconids.py\nfrom cockatrice import Cockatrice\n\n\ndef Draconids():\n    print(\"\"\"\n    About which Draconid would you like to learn more?\n    - Basilisk\n    - Cockatrice\n    \"\"\")\n    val = input(\"&gt; \")\n    if val == \"Cockatrice\" or \"cockatrice\":\n        Cockatrice()\n    else:\n        print(\"not ready yet\")\n\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># cockatrice.py\ndef Cockatrice():\n        print(\"\"\"\n        Cockatrice, also known as a skoffin and kurolishek, is an ornithosaur.\n        It's also the only creature to belong to the order of ornithoreptile\n        according to scholars, but why exactly they decided on this is not revealed.\n        Its central tail feathers are also valuable as they're more durable and\n        sharpen better than regular goose feathers for quills.\n        \"\"\")\n\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11108070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de86f2ee6a9a02e05aaae4141651c6d?s=128&d=identicon&r=PG&f=1", "display_name": "bcy", "link": "https://stackoverflow.com/users/11108070/bcy"}, "is_accepted": false, "score": 0, "last_activity_date": 1561584972, "creation_date": 1561584972, "answer_id": 56781217, "question_id": 56780989, "link": "https://stackoverflow.com/questions/56780989/python-3-import-is-importing-too-much/56781217#56781217", "title": "python 3 import is importing too much", "body": "<p>You are correct, the problem is with importing. Instead of calling simply <code>Cockatrice()</code> you need to call <code>cockatrice.Cockatrice()</code>.\nAlternatively you can do <code>from cockatrice import Cockatrice</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 11699138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf6f315a1d4120b0b6dc29308555c32?s=128&d=identicon&r=PG&f=1", "display_name": "Fuutralala", "link": "https://stackoverflow.com/users/11699138/fuutralala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56781095, "answer_count": 2, "score": 0, "last_activity_date": 1561584972, "creation_date": 1561583713, "question_id": 56780989, "link": "https://stackoverflow.com/questions/56780989/python-3-import-is-importing-too-much", "title": "python 3 import is importing too much", "body": "<p>Import statement for multiple python scripts is not working as expected </p>\n\n<p>I'm setting up a program to inventory the whole bestiary from a game into a python script. The problem here is, it's already printing the last file in line, which it shouldn't do. \"bestiary.py\" is asking which category you want to open and in it, it should ask you which beast you specifically want from this category. But it's already printing out the whole beast i have even before giving the input that should be necessary.</p>\n\n<p>Here's my github repo for it: <a href=\"https://github.com/Fuutralala/witcher-bestiary-py\" rel=\"nofollow noreferrer\">https://github.com/Fuutralala/witcher-bestiary-py</a></p>\n\n<p>i don't actually know which part of the code is actually broken and i can't figure it out. Something seems to be wrong with the way i'm importing but i can't find out what. </p>\n\n<p>Also if i give the script the prompted input it gives me this error:</p>\n\n<pre><code>  File \"bestiary.py\", line 1, in &lt;module&gt;\n    import draconids\n  File \"/home/fuutralala/Dropbox/PythonTrainingRepo/bestiary/draconids.py\", line 13, in &lt;module&gt;\n    Draconids()\n  File \"/home/fuutralala/Dropbox/PythonTrainingRepo/bestiary/draconids.py\", line 10, in Draconids\n    Cockatrice()\nNameError: name 'Cockatrice' is not defined\n</code></pre>\n"}, {"tags": ["javascript", "python", "html", "json", "flask"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "edited": false, "score": 0, "creation_date": 1561585563, "post_id": 56781058, "comment_id": 100117542, "body": "So if I refresh the page it&#39;s not making calls to the API each time? It&#39;s being held locally and I can use a script to implement a find-and-replace functionality on it?"}, {"owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "reply_to_user": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "edited": false, "score": 0, "creation_date": 1561586208, "post_id": 56781058, "comment_id": 100117732, "body": "When you refresh the page, yes it will make a request to the server for the page you&#39;re loading. Can you elaborate what you mean by the script? Is it a javascript script, or python that you are wanting to use?"}, {"owner": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "edited": false, "score": 0, "creation_date": 1561650294, "post_id": 56781058, "comment_id": 100143853, "body": "I want to essentially hold it in the HTML template so I can manipulate it with a find-and-replace functionality. For example, when a user has their list printed out, I want them to be able to remove strings from the list. That can&#39;t be done effectively in Flask, so I want to pass the list from my Python code to a locally held Javascript var (as I showed in that second set of code at the bottom in the &lt;script&gt; tags), that way I can manipulate it and have it update the list dynamically for the user. So while you did allow me to print the list, I still can&#39;t convert it into Javascript. Thanks."}, {"owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "reply_to_user": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "edited": false, "score": 0, "creation_date": 1561669881, "post_id": 56781058, "comment_id": 100151600, "body": "I see, I&#39;ve updated my answer, but it&#39;s basically what you have already!"}, {"owner": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "edited": false, "score": 0, "creation_date": 1561733263, "post_id": 56781058, "comment_id": 100172176, "body": "Thank you Dylan, I am going to accept your answer. I think my problem was that I was I had written my &lt;script&gt; tags outside of their proper scope. Thank you for the json dumps information, it is working."}], "tags": [], "owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "is_accepted": true, "score": 1, "last_activity_date": 1561669860, "last_edit_date": 1561669860, "creation_date": 1561584095, "answer_id": 56781058, "question_id": 56780954, "link": "https://stackoverflow.com/questions/56780954/retrieve-flask-json-object-with-javascript-in-html-template/56781058#56781058", "title": "Retrieve Flask JSON object with Javascript in HTML template", "body": "<p>Firstly, the <a href=\"http://flask.pocoo.org/docs/1.0/api/#flask.json.jsonify\" rel=\"nofollow noreferrer\"><code>jsonify</code></a> function will return a <code>Response</code> object, so instead use <code>json.dumps(list4)</code> in your <code>return</code>. You also won't need to use <code>|tojson</code> in your template.</p>\n\n<p>And to answer your question, to output the <code>list4</code> onto the template just replace <code>{{counts}}</code> with the json you've passed into the <code>render_template</code>, so <code>{{ list5 }}</code>.</p>\n\n<p>To hold this in a javascript variable for client side manipulation, you can do the same thing and set the javascript variable to the JSON from the route:</p>\n\n<pre><code>&lt;script&gt;\n\nvar counts = {{ list5 }};\n\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 10893050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d4ec01cf851f6ab8b60d560767a8d?s=128&d=identicon&r=PG&f=1", "display_name": "find_all", "link": "https://stackoverflow.com/users/10893050/find-all"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 56781058, "answer_count": 1, "score": 0, "last_activity_date": 1561669860, "creation_date": 1561583517, "question_id": 56780954, "link": "https://stackoverflow.com/questions/56780954/retrieve-flask-json-object-with-javascript-in-html-template", "title": "Retrieve Flask JSON object with Javascript in HTML template", "body": "<p>I am using Flask to build a web app that displays a list of information to a user, and then allows them to do a find-and-replace type operation on the list, and finally export it as a csv.</p>\n\n<p>I can display the information without JSON and JavaScript, but the data will not be persistently displayed throughout the find-and-replace operation (also, sending an API request every time a user clicks will be very expensive). So, I am trying to pass the list to a JavaScript var and hold it there for it then to be utilized and displayed appropriately in the HTML.</p>\n\n<p>My Flask:</p>\n\n<pre><code>@app.route(\"/page\", methods=['GET', 'POST'])\ndef page():\n\nlist4 = [\"test\", \"big\", \"test2\"]\n\nreturn render_template('page.html', title=\"page\", list5=jsonify(list4))\n</code></pre>\n\n<p>My template:</p>\n\n<pre><code>{% extends \"layout.html\" %}\n{% block content %}\n&lt;div class=\"content-section\"&gt;\n&lt;/div&gt;\n&lt;article class=\"media content-section\"&gt;\n        &lt;div class=\"media-body\"&gt;\n          &lt;div class=\"article-metadata\"&gt;\n            &lt;a class=\"mr-2\" href=\"#\"&gt;&lt;/a&gt;\n            &lt;small class=\"text-muted\"&gt;&lt;/small&gt;\n          &lt;/div&gt;\n          &lt;h2&gt;&lt;a class=\"article-title\" href=\"#\"&gt;&lt;/a&gt;&lt;/h2&gt;\n          &lt;p class=\"article-content\"&gt;{{counts}}&lt;/p&gt;\n        &lt;/div&gt;\n&lt;/article&gt;\n\n&lt;/div&gt;\n{% endblock content %}\n\n&lt;script&gt; var counts = {{ list5|tojson }}; &lt;/script&gt;\n</code></pre>\n\n<p>When I run this,<code>counts</code> does not display anywhere on the page. Because I get no error (and especially because I am new to JSON and Flask), I am finding it difficult to debug.</p>\n\n<p>My question is, how can I get <code>list4</code> to persistently display on my page in such a way that that a user can alter it without making API calls every time?</p>\n"}, {"tags": ["python", "pandas", "quandl"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1561584103, "post_id": 56780942, "comment_id": 100117093, "body": "Can you query the data using a webpage?"}, {"owner": {"reputation": 31, "user_id": 11595581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e55287e2536abae36106894f75513a7?s=128&d=identicon&r=PG&f=1", "display_name": "Villein", "link": "https://stackoverflow.com/users/11595581/villein"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 2, "creation_date": 1561586327, "post_id": 56780942, "comment_id": 100117761, "body": "Just got done trying that, looks like the dataset was discontinued right around the last date that&#39;s available. I guess I&#39;ll have to find another way to do this..."}], "owner": {"reputation": 31, "user_id": 11595581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e55287e2536abae36106894f75513a7?s=128&d=identicon&r=PG&f=1", "display_name": "Villein", "link": "https://stackoverflow.com/users/11595581/villein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1599353537, "creation_date": 1561583441, "question_id": 56780942, "link": "https://stackoverflow.com/questions/56780942/quandl-returning-only-empty-data-frames-for-requests-from-3-27-2018-to-now", "title": "Quandl returning only empty data frames for requests from 3/27/2018 to now", "body": "<p>I'm using Quandl to get daily stock prices, but trying to get any data after the date 3/27/18 returns an empty dataframe.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import quandl\nimport pandas as pd\nimport datetime as dt\n\n# add quandl API key for unrestricted\nquandl.ApiConfig.api_key = 'MY_API_KEY_HERE'\n\n# get the table for daily stock prices and, filter the table for selected tickers, columns within a time range\ndata = quandl.get_table('WIKI/PRICES', ticker = ['AAPL', 'MSFT', 'WMT'], \n                        qopts = { 'columns': ['ticker', 'date', 'adj_close'] }, \n                        date = { 'gte': '2018-3-20', 'lte': dt.datetime.now() }, \n                        paginate=True)\n\n# create a new dataframe with 'date' column as index\nnew = data.set_index('date')\n\n# use pandas pivot function to sort adj_close by tickers\nclean_data = new.pivot(columns='ticker')\n\nprint(clean_data)\n</code></pre>\n\n<p>For example, using 2018-3-20 for a date will return expected date through 2018-3-26, but it stops the output there.</p>\n\n<p>See output:</p>\n\n<pre><code>          adj_close\nticker          AAPL   MSFT    WMT\ndate\n2018-03-20   175.240  93.13  87.95\n2018-03-21   171.270  92.48  88.18\n2018-03-22   168.845  89.79  87.14\n2018-03-23   164.940  87.18  85.42\n2018-03-26   172.770  93.78  87.50\n</code></pre>\n\n<p>Trying to make the starting date 2018-3-27 (or anything after that) outputs this:</p>\n\n<pre><code>Empty DataFrame\nColumns: []\nIndex: []\n</code></pre>\n\n<p>Does Quandl not support this data? Do I need to pay for something to get it? Or am I doing something wrong on my end?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "indexing"], "comments": [{"owner": {"reputation": 2560, "user_id": 4908900, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51319a33504095df2a58a2318981b1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ezer K", "link": "https://stackoverflow.com/users/4908900/ezer-k"}, "edited": false, "score": 0, "creation_date": 1561584134, "post_id": 56780941, "comment_id": 100117102, "body": "what is the groupby ment for? do you want each chunk of 8 rows to be divided by the next chunk?"}, {"owner": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "reply_to_user": {"reputation": 2560, "user_id": 4908900, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51319a33504095df2a58a2318981b1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ezer K", "link": "https://stackoverflow.com/users/4908900/ezer-k"}, "edited": false, "score": 0, "creation_date": 1561584857, "post_id": 56780941, "comment_id": 100117334, "body": "The groupby is meant to organize data by time. No, I want each chunk of 8 rows divided by a single chosen chosen chunk of 8 rows. I am hoping to divide each chunk of 8 rows by the values associated with the time = 0:00:14."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "edited": false, "score": 0, "creation_date": 1561672338, "post_id": 56781547, "comment_id": 100152341, "body": "This works great! Thanks for the help. I am having small difficulties going into a bigger dataframe. The division still works great, but the index throws the 1 matrix into a different time slot than was stated. It looks like the new index is going from 0:00:14 to 10:09:43... and 1:54:17 to 20:08:34. I think this is showing that the new index is only taking the first value of &quot;Time&quot; into consideration. Do you know any way to properly index time?"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "edited": false, "score": 0, "creation_date": 1561678969, "post_id": 56781547, "comment_id": 100153763, "body": "Could you update your original post with the example where this occurs? It&#39;s a bit hard to understand from your comment."}, {"owner": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "edited": false, "score": 0, "creation_date": 1561749324, "post_id": 56781547, "comment_id": 100178530, "body": "That was even hard to describe without the example. I have updated my question and dataframe to hopefully better explain my index problem."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "edited": false, "score": 0, "creation_date": 1562003129, "post_id": 56781547, "comment_id": 100232573, "body": "I see, sorry for the late reply. You just need to pass <code>sort=False</code> to your <code>groupby()</code> method. See my edit."}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 1, "last_activity_date": 1562003144, "last_edit_date": 1562003144, "creation_date": 1561586990, "answer_id": 56781547, "question_id": 56780941, "link": "https://stackoverflow.com/questions/56780941/how-to-divide-a-pandas-dataframe-by-a-subsection-of-itself/56781547#56781547", "title": "How to divide a pandas dataframe by a subsection of itself?", "body": "<p>You need to use <code>reset_index(drop=True)</code> and then reassign the index of your output dataframe like so:</p>\n\n<pre><code>test = df.groupby('Time', sort=False).apply(lambda x: x.iloc[:,2:6].reset_index(drop=True)/df[df['Time']=='0:00:14'].iloc[:,2:6].reset_index(drop=True))\n\ntest.index = df.set_index(['Time','Well']).index\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                       1           2       3           4\nTime    Well                                            \n0:00:00 A       0.000000    0.000000    0.00   -0.000000\n        B       0.000000   -0.000000   -0.00   -0.000000\n        C       0.000000    0.000000    0.00    0.000000\n        D       0.000000    0.000000    0.00    0.000000\n        E       0.000000    0.000000    0.00    0.000000\n        F       0.000000    0.000000   -0.00    0.000000\n        G       0.000000    0.000000    0.00   -0.000000\n        H       0.000000   -0.000000   -0.00   -0.000000\n0:00:14 A       1.000000    1.000000    1.00    1.000000\n        B       1.000000    1.000000    1.00    1.000000\n        C       1.000000    1.000000    1.00    1.000000\n        D       1.000000    1.000000    1.00    1.000000\n        E       1.000000    1.000000    1.00    1.000000\n        F       1.000000    1.000000    1.00    1.000000\n        G       1.000000    1.000000    1.00    1.000000\n        H       1.000000    1.000000    1.00    1.000000\n1:24:16 A     146.500000   38.071429  223.00   -7.705882\n        B      12.291667  -13.400000  -12.50  -13.166667\n        C      13.814815   21.166667   55.00    8.250000\n        D      17.210526   14.578947   11.28   12.461538\n        E      16.666667   16.142857   19.50   37.200000\n        F      15.882353   19.866667  -47.00   25.000000\n        G      71.666667  176.000000  114.00   -9.588235\n        H      83.666667  -27.666667  -36.50 -287.000000\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11686665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d551992f15bf2a18189aabdba0b15b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11686665/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 56781547, "answer_count": 1, "score": 0, "last_activity_date": 1562003144, "creation_date": 1561583438, "last_edit_date": 1561741089, "question_id": 56780941, "link": "https://stackoverflow.com/questions/56780941/how-to-divide-a-pandas-dataframe-by-a-subsection-of-itself", "title": "How to divide a pandas dataframe by a subsection of itself?", "body": "<p>While trying to divide all of the float columns in my dataframe by a predesignated slice of those same columns, I am returned with the correct values until I try to link my indices to the parent dataframe. Can you help me find a way properly index by time? </p>\n\n<p>Thanks to some help on this forum the lamda function to divide the dataframe works well, but seems to change after I try to set the index.</p>\n\n<pre><code>In [18]: df\nOut[18]: \n        Time Well       1       2       3       4\n0    0:00:00    A  0.0000  0.0000  0.0000  0.0000\n1    0:00:00    B  0.0000  0.0000  0.0000  0.0000\n2    0:00:00    C  0.0000  0.0000  0.0000  0.0000\n3    0:00:00    D  0.0000  0.0000  0.0000  0.0000\n4    0:00:00    E  0.0000  0.0000  0.0000  0.0000\n5    0:00:00    F  0.0000  0.0000  0.0000  0.0000\n6    0:00:00    G  0.0000  0.0000  0.0000  0.0000\n7    0:00:00    H  0.0000  0.0000  0.0000  0.0000\n8    0:00:14    A  0.0002  0.0014  0.0001 -0.0017\n9    0:00:14    B  0.0024 -0.0020 -0.0016 -0.0006\n10   0:00:14    C  0.0027  0.0018  0.0003  0.0024\n11   0:00:14    D  0.0019  0.0019  0.0025  0.0013\n12   0:00:14    E  0.0024  0.0021  0.0012  0.0005\n13   0:00:14    F  0.0017  0.0015 -0.0003  0.0006\n14   0:00:14    G  0.0003  0.0001  0.0001 -0.0017\n15   0:00:14    H  0.0003 -0.0006 -0.0008 -0.0001\n16   1:24:16    A  0.0293  0.0533  0.0223  0.0131\n17   1:24:16    B  0.0295  0.0268  0.0200  0.0079\n18   1:24:16    C  0.0373  0.0381  0.0165  0.0198\n19   1:24:16    D  0.0327  0.0277  0.0282  0.0162\n20   1:24:16    E  0.0400  0.0339  0.0234  0.0186\n21   1:24:16    F  0.0270  0.0298  0.0141  0.0150\n22   1:24:16    G  0.0215  0.0176  0.0114  0.0163\n23   1:24:16    H  0.0251  0.0166  0.0292  0.0287\n24  10:09:43    A  0.5072  0.6620  0.5092  0.5133\n25  10:09:43    B  0.6089  0.5283  0.5426  0.4787\n26  10:09:43    C  0.6340  0.6379  0.5221  0.5884\n27  10:09:43    D  0.6167  0.5926  0.5856  0.5639\n28  10:09:43    E  0.6512  0.6605  0.5561  0.5234\n29  10:09:43    F  0.6168  0.6490  0.5577  0.5390\n30  10:09:43    G  0.6312  0.5739  0.5221  0.5121\n31  10:09:43    H  0.5123  0.5036  0.5052  0.4465\n\n#### Current Output Received ##### \ntest = df.groupby('Time').apply(lambda x: x.iloc[:,2:6].reset_index(drop=True)/df[df['Time']=='1:24:16'].iloc[:,2:6].reset_index(drop=True))\n\nIn [20]: test\nOut[20]: \n                    1          2          3          4\nTime                                                  \n0:00:00  0   0.000000   0.000000   0.000000   0.000000\n         1   0.000000   0.000000   0.000000   0.000000\n         2   0.000000   0.000000   0.000000   0.000000\n         3   0.000000   0.000000   0.000000   0.000000\n         4   0.000000   0.000000   0.000000   0.000000\n         5   0.000000   0.000000   0.000000   0.000000\n         6   0.000000   0.000000   0.000000   0.000000\n         7   0.000000   0.000000   0.000000   0.000000\n0:00:14  0   0.006826   0.026266   0.004484  -0.129771\n         1   0.081356  -0.074627  -0.080000  -0.075949\n         2   0.072386   0.047244   0.018182   0.121212\n         3   0.058104   0.068592   0.088652   0.080247\n         4   0.060000   0.061947   0.051282   0.026882\n         5   0.062963   0.050336  -0.021277   0.040000\n         6   0.013953   0.005682   0.008772  -0.104294\n         7   0.011952  -0.036145  -0.027397  -0.003484\n10:09:43 0  17.310580  12.420263  22.834081  39.183206\n         1  20.640678  19.712687  27.130000  60.594937\n         2  16.997319  16.742782  31.642424  29.717172\n         3  18.859327  21.393502  20.765957  34.808642\n         4  16.280000  19.483776  23.764957  28.139785\n         5  22.844444  21.778523  39.553191  35.933333\n         6  29.358140  32.607955  45.798246  31.417178\n         7  20.410359  30.337349  17.301370  15.557491\n1:24:16  0   1.000000   1.000000   1.000000   1.000000\n         1   1.000000   1.000000   1.000000   1.000000\n         2   1.000000   1.000000   1.000000   1.000000\n         3   1.000000   1.000000   1.000000   1.000000\n         4   1.000000   1.000000   1.000000   1.000000\n         5   1.000000   1.000000   1.000000   1.000000\n         6   1.000000   1.000000   1.000000   1.000000\n         7   1.000000   1.000000   1.000000   1.000000\n\n#### Now attemting to adjust the index ####\ntest.index = df.set_index(['Time','Well']).index\n\nIn [22]: test\nOut[22]: \n                       1          2          3          4\nTime     Well                                            \n0:00:00  A      0.000000   0.000000   0.000000   0.000000\n         B      0.000000   0.000000   0.000000   0.000000\n         C      0.000000   0.000000   0.000000   0.000000\n         D      0.000000   0.000000   0.000000   0.000000\n         E      0.000000   0.000000   0.000000   0.000000\n         F      0.000000   0.000000   0.000000   0.000000\n         G      0.000000   0.000000   0.000000   0.000000\n         H      0.000000   0.000000   0.000000   0.000000\n0:00:14  A      0.006826   0.026266   0.004484  -0.129771\n         B      0.081356  -0.074627  -0.080000  -0.075949\n         C      0.072386   0.047244   0.018182   0.121212\n         D      0.058104   0.068592   0.088652   0.080247\n         E      0.060000   0.061947   0.051282   0.026882\n         F      0.062963   0.050336  -0.021277   0.040000\n         G      0.013953   0.005682   0.008772  -0.104294\n         H      0.011952  -0.036145  -0.027397  -0.003484\n1:24:16  A     17.310580  12.420263  22.834081  39.183206\n         B     20.640678  19.712687  27.130000  60.594937\n         C     16.997319  16.742782  31.642424  29.717172\n         D     18.859327  21.393502  20.765957  34.808642\n         E     16.280000  19.483776  23.764957  28.139785\n         F     22.844444  21.778523  39.553191  35.933333\n         G     29.358140  32.607955  45.798246  31.417178\n         H     20.410359  30.337349  17.301370  15.557491\n10:09:43 A      1.000000   1.000000   1.000000   1.000000\n         B      1.000000   1.000000   1.000000   1.000000\n         C      1.000000   1.000000   1.000000   1.000000\n         D      1.000000   1.000000   1.000000   1.000000\n         E      1.000000   1.000000   1.000000   1.000000\n         F      1.000000   1.000000   1.000000   1.000000\n         G      1.000000   1.000000   1.000000   1.000000\n         H      1.000000   1.000000   1.000000   1.000000\n\n#### My oversimplified approach to re-introduce 'Time' and 'Well' only puts \n#in nan values.\ntest[['Time', 'Well']] = df[['Time','Well']]\n</code></pre>\n\n<p>As you can see the matrix of 1's moved from time = 1:24:16 to time = 10:09:43. I am hoping to find a way to properly index by time, or at least a means to have the corect information to 'Time' and 'Well' columns in the newly divided dataframe.</p>\n"}, {"tags": ["python", "unit-testing", "datetime", "django-rest-framework", "django-serializer"], "comments": [{"owner": {"reputation": 780, "user_id": 8658654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5c4b7bf64532c2c6a68a4c09e7f8a5?s=128&d=identicon&r=PG", "display_name": "henriquesalvaro", "link": "https://stackoverflow.com/users/8658654/henriquesalvaro"}, "edited": false, "score": 1, "creation_date": 1561598384, "post_id": 56780926, "comment_id": 100120149, "body": "your issue isn&#39;t exactly due to datetimes being &quot;formatted&quot; differently, but rather due the fact that you&#39;re comparing two different objects, a serialized datetime (string) and an actual datetime object. to overcome that without anything &quot;hacky&quot;, you can either format the datetime as a string, or parse the datetime string into an actual datetime object with something like <a href=\"https://dateutil.readthedocs.io/en/stable/parser.html\" rel=\"nofollow noreferrer\">this</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1669, "user_id": 9042078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6avg1.jpg?s=128&g=1", "display_name": "Vasu Deo.S", "link": "https://stackoverflow.com/users/9042078/vasu-deo-s"}, "is_accepted": true, "score": 3, "last_activity_date": 1561610673, "creation_date": 1561610673, "answer_id": 56784025, "question_id": 56780926, "link": "https://stackoverflow.com/questions/56780926/how-can-i-test-dates-and-datetimes-in-different-formats/56784025#56784025", "title": "How can I test dates and datetimes in different formats?", "body": "<p>The reason for your error is due to the fact that you are trying to do a comparison of two different datatypes/objects. In the below line:-</p>\n\n<pre><code>'2000-01-01T00:00:00Z' != datetime.datetime(2000, 1, 1, 0, 0)\n</code></pre>\n\n<p>On the LHS we have a string (of <strong>ISO 8601 Timestamp Format</strong>) and in the RHS we have a datetime object. Therefore, the above operation will always produce an error as the type of data isn't the same.</p>\n\n<p>So you have two choices, either you can convert the RHS (datetime object) into a string, using a function like <code>strftime()</code>. Or you can create a datetime object out of the LHS (timestamp string).</p>\n\n<p>I will explain the first method, as it is the easier one of the two.</p>\n\n<p>So in order to convert a datetime object, into a string, we have to pass it via <code>strftime()</code>.</p>\n\n<blockquote>\n  <p>strftime() takes as argument a datetime object**/tuple, and converts it into a string according to format specification. </p>\n</blockquote>\n\n<p>so if we pass <code>datetime.datetime(2000, 1, 1, 0, 0)</code> via <code>strftime()</code> with the ISO 8601 format specification, then we get the desired format.</p>\n\n<p><strong>Example:-</strong></p>\n\n<pre><code>import datetime\n\ndatet_obj = datetime.datetime(2000, 1, 1, 0, 0)\n\ndatet_str = datet_obj.strftime(\"%Y-%m-%dT%H:%M:%SZ\")\n\nprint(datet_str)\n</code></pre>\n\n<p><strong>Output:-</strong></p>\n\n<pre><code>'2000-01-01T00:00:00Z'\n</code></pre>\n\n<p>In this way you can convert the datetime objects into strings of desired format.</p>\n\n<p>Now if we create a one liner for it all, and then do the comparison i.e.</p>\n\n<pre><code>'2000-01-01T00:00:00Z' != datetime.datetime(2000, 1, 1, 0, 0).strftime(\"%Y-%m-%dT%H:%M:%SZ\")\n</code></pre>\n\n<p>The above code run's successfully and outputs <strong>False</strong>, as both the LHS and RHS are equal.</p>\n\n<p>** A datetime Object is generally the output of <code>strptime()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 158, "user_id": 11112587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bd39bfa19351f27fb4c95e50526d8d?s=128&d=identicon&r=PG", "display_name": "stefanitsky", "link": "https://stackoverflow.com/users/11112587/stefanitsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1597735934, "creation_date": 1597735934, "answer_id": 63463827, "question_id": 56780926, "link": "https://stackoverflow.com/questions/56780926/how-can-i-test-dates-and-datetimes-in-different-formats/63463827#63463827", "title": "How can I test dates and datetimes in different formats?", "body": "<p>The simplest way to do that is:</p>\n<pre><code>assert response.json()[&quot;created_at&quot;] == serializers.DateTimeField().to_representation(instance.created_at)\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 9926982, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hThPQFWvW64/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2M39oUr3VN9Cnef5hb22LQcdIXdw/mo/photo.jpg?sz=128", "display_name": "Brian", "link": "https://stackoverflow.com/users/9926982/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 56784025, "answer_count": 2, "score": 2, "last_activity_date": 1597735934, "creation_date": 1561583342, "question_id": 56780926, "link": "https://stackoverflow.com/questions/56780926/how-can-i-test-dates-and-datetimes-in-different-formats", "title": "How can I test dates and datetimes in different formats?", "body": "<p>I have a web app that I am unit testing.  I'm trying to test the drf serializers, but the serializers change the format of datetimes, so identical dates formatted differently are failing the test because they're not identical.</p>\n\n<p>I've tried formatting the serializer timeDateField, but all of the strftime formats they use are zero-padded, and my test Users last-login attribute gives the date without zero-padding. I think the solution <em>could</em> be solved the way that the selected answer describes <a href=\"https://stackoverflow.com/questions/9525944/python-datetime-formatting-without-zero-padding\">here</a> but that seems a bit sketchy, and ideally, I, as someone who will have to maintain this code, want a cleaner or more pythonic solution.</p>\n\n<p>Here is the test:</p>\n\n<pre><code>class UserTest(TestCase):\n\n    def setup(self):\n\n        last_login = datetime.datetime(2000, 1, 1, hour=0, minute=0, second=0, microsecond=0, tzinfo=None)\n        date_joined = datetime.datetime(2019, 2, 2, hour=2, minute=2, second=2, microsecond=2, tzinfo=None)\n        birthdate = timezone.now().date()\n        renewal = timezone.now().date()\n\n        return User.objects.create(username='test_user', first_name='test_first', last_name='test_last',\n                                   email='test_mail', last_login=last_login, date_joined=date_joined,\n                                   birthdate=birthdate, gender='U', renewal=renewal)\n\n    def test_user_serializer(self):\n        self.u = self.setup()\n        serializer = UserSerializer(self.u, many=False)\n        data = serializer.data\n              .....\n    # tests for serialized attributes\n        self.assertEquals((data['last_login']), self.u.last_login)  # FAILING THE TEST\n</code></pre>\n\n<p>Here is the UserSerializer:</p>\n\n<pre><code>class UserSerializer(serializers.ModelSerializer):\n\n    last_login = serializers.DateTimeField\n    date_joined = serializers.DateTimeField\n    birthdate = serializers.DateField\n    renewal = serializers.DateField\n\n    class Meta:\n        model = User\n        fields = ('__all__')\n</code></pre>\n\n<p>Here is the error I am getting:</p>\n\n<pre><code>self.assertEquals(data['last_login'], self.u.last_login)\nAssertionError: '2000-01-01T00:00:00Z' != datetime.datetime(2000, 1, 1, 0, 0)\n</code></pre>\n\n<p>In the model, the last_login attribute is a dateTimeField.</p>\n\n<p>Should I be trying to change the formats of one of the elements being tested or is there a way to write a test that compares the dates irrespective of format?</p>\n\n<p>Please advise.  Thank you.  </p>\n"}, {"tags": ["python", "python-3.x", "unit-testing", "anaconda"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1561583557, "post_id": 56780892, "comment_id": 100116896, "body": "do you have an <code>__init__.py</code> file in the <code>tests</code> directory to make them discoverable as part of the module?"}, {"owner": {"reputation": 426, "user_id": 7083974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3019c5ec22dc1ddbb2dfc7eebdac12?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/7083974/bee"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1561584022, "post_id": 56780892, "comment_id": 100117067, "body": "Nope I don&#39;t, I never had the <code>__init.py__</code> file earlier in the same <code>tests</code> directory but the tests worked fine."}, {"owner": {"reputation": 426, "user_id": 7083974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3019c5ec22dc1ddbb2dfc7eebdac12?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/7083974/bee"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1561584359, "post_id": 56780892, "comment_id": 100117181, "body": "@aws_apprentice - I put an empty <code>__init__.py</code> file in the tests folder and surprisingly the unit test works now. I wonder why? Can you give a brief explanation about this behavior if you could? If you post it as an answer, I will accept it. Thanks"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1561584624, "post_id": 56780892, "comment_id": 100117255, "body": "<a href=\"https://stackoverflow.com/questions/448271/what-is-init-py-for\">stackoverflow.com/questions/448271/what-is-init-py-for</a> will explain better than I can"}, {"owner": {"reputation": 841, "user_id": 261123, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f00ddfd6ee5a27bb881af9718eeb5d57?s=128&d=identicon&r=PG", "display_name": "boardtc", "link": "https://stackoverflow.com/users/261123/boardtc"}, "edited": false, "score": 1, "creation_date": 1611943715, "post_id": 56780892, "comment_id": 116621593, "body": "I am having this error too,  __init__.py is <b>not needed</b> in Python 3.3+ unless you need to run an installation script in that directory"}], "answers": [{"comments": [{"owner": {"reputation": 2534, "user_id": 3681451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49bae9e93b61c1bbe365fb70df02cc26?s=128&d=identicon&r=PG&f=1", "display_name": "szeitlin", "link": "https://stackoverflow.com/users/3681451/szeitlin"}, "edited": false, "score": 0, "creation_date": 1618526005, "post_id": 56791072, "comment_id": 118635056, "body": "I&#39;m getting this error on github actions, but not locally, and this did not solve it for me."}], "tags": [], "owner": {"reputation": 426, "user_id": 7083974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3019c5ec22dc1ddbb2dfc7eebdac12?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/7083974/bee"}, "is_accepted": true, "score": 18, "last_activity_date": 1612556491, "last_edit_date": 1612556491, "creation_date": 1561638663, "answer_id": 56791072, "question_id": 56780892, "link": "https://stackoverflow.com/questions/56780892/python-unit-test-module-throws-modulenotfounderror-no-module-named-tests-test/56791072#56791072", "title": "Python Unit test module throws &quot;ModuleNotFoundError: No module named &#39;tests.test_file&#39;&quot;", "body": "<p>The issue got solved after placing an empty <code>__init__.py</code> file in the tests folder.</p>\n<p>For a better explanation about why it worked, refer to <a href=\"https://stackoverflow.com/questions/448271/what-is-init-py-for\">What is __init__.py for?</a></p>\n<p>Thanks, @aws_apprentice for the help.</p>\n"}, {"tags": [], "owner": {"reputation": 2514, "user_id": 3351474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/446fc10c4650dce867d250fe2846b426?s=128&d=identicon&r=PG", "display_name": "k_o_", "link": "https://stackoverflow.com/users/3351474/k-o"}, "is_accepted": false, "score": 4, "last_activity_date": 1615096708, "last_edit_date": 1615096708, "creation_date": 1606532956, "answer_id": 65046031, "question_id": 56780892, "link": "https://stackoverflow.com/questions/56780892/python-unit-test-module-throws-modulenotfounderror-no-module-named-tests-test/65046031#65046031", "title": "Python Unit test module throws &quot;ModuleNotFoundError: No module named &#39;tests.test_file&#39;&quot;", "body": "<p>With PyCharm 2020.2 the &quot;ModuleNotFoundError: No module named&quot; error can also happen when running a unit test in a sub folder which imports a module from a parent folder under test. PyCharm is taking by default the script path for executing the test which fails e.g. with this error:</p>\n<pre><code>ModuleNotFoundError: No module named '/home/foobar/projects/foo/mypythonproject/moduleundertest'\n</code></pre>\n<p>The solution is to edit the <a href=\"https://www.jetbrains.com/help/pycharm/run-debug-configuration-python-unit-test.html\" rel=\"nofollow noreferrer\">run configuration</a> of the unit test and change the Unittests Target from &quot;Script path&quot; to &quot;Module name&quot;.</p>\n"}], "owner": {"reputation": 426, "user_id": 7083974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3019c5ec22dc1ddbb2dfc7eebdac12?s=128&d=identicon&r=PG&f=1", "display_name": "Bee", "link": "https://stackoverflow.com/users/7083974/bee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18769, "favorite_count": 1, "accepted_answer_id": 56791072, "answer_count": 2, "score": 12, "last_activity_date": 1615096708, "creation_date": 1561583171, "last_edit_date": 1587742250, "question_id": 56780892, "link": "https://stackoverflow.com/questions/56780892/python-unit-test-module-throws-modulenotfounderror-no-module-named-tests-test", "title": "Python Unit test module throws &quot;ModuleNotFoundError: No module named &#39;tests.test_file&#39;&quot;", "body": "<p>I'm trying to execute a test case for a project I've been working on. I used to successfully execute the unit tests earlier but it errors out now. I know for sure that there have been no updates to any libraries or change in the Path. I tried to look at the source code and figure out why it's erroring out but no luck yet. Any help on this would be appreciated. </p>\n\n<p>Python version - 3.7.1</p>\n\n<p>Sample Code below</p>\n\n<pre><code>import unittest\n\nclass MyTestCase(unittest.TestCase):\n\ndef test_dummy(self):\n    self.assertEqual(2+2,4)\n</code></pre>\n\n<p>I used the following command in cmd to execute the test.</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>C:\\Users\\Yadada\\Desktop\\repo\\mwe\\mwe>python -m unittest tests\\test_file.py '''</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>My folder structure is</p>\n\n<pre><code> MWE -|\n      |_tests - |\n                |_test_file.py\n</code></pre>\n\n<p>The expected output is the test being executing successfully because it's a straightforward one. But I end up getting the following error</p>\n\n<pre><code>strclass\nERROR: test_file (unittest.loader._FailedTest)\n----------------------------------------------------------------------\nImportError: Failed to import test module: test_file\nTraceback (most recent call last):\n  File \"C:\\Users\\yadada\\AppData\\Local\\Continuum\\anaconda3\\lib\\unittest\\loader.py\", line 156, in loadTestsFromName\n    module = __import__(module_name)\nModuleNotFoundError: No module named 'tests.test_file'\n\n\n----------------------------------------------------------------------\nRan 1 test in 0.001s\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "edited": false, "score": 0, "creation_date": 1561641123, "post_id": 56781278, "comment_id": 100138032, "body": "Yes and no. While it is a good solution, It still does not allow me to hit escape to close the input dialog, which is what I really would like"}, {"owner": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "edited": false, "score": 0, "creation_date": 1561667304, "post_id": 56781278, "comment_id": 100150737, "body": "Thank you. Do the characters change language to language, or do they stay the same? I am asking because your solution detects every single key that is being pressed, and I&#39;m thinking of creating a tuple to store all the possible byte combinations. That way, I could loop through the list and check if the key pressed is in the list and if so, add it to the user_input. Obviously, that&#39;d only work if there was one set of byte combinations for every language, hence me asking. If you don&#39;t understand what I mean, try running your example and hit your arrows, escape, and f 1 through 12 keys."}, {"owner": {"reputation": 1042, "user_id": 7585554, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AY1Vh.jpg?s=128&g=1", "display_name": "probat", "link": "https://stackoverflow.com/users/7585554/probat"}, "reply_to_user": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "edited": false, "score": 0, "creation_date": 1561670348, "post_id": 56781278, "comment_id": 100151747, "body": "I am not sure how the characters are read in python in a different language other than English because some languages have different characters for example Mandarin Chinese - which is presumably what you are asking. If you want to see what each key represents you can add this to the else block: <code>else: print(pressed_key)</code> and it will print each key in bytes. Also this link provides the hexadecimal values for each character <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">asciitable.com</a>. What keys do you want to block from being stored in user_input var?"}, {"owner": {"reputation": 1042, "user_id": 7585554, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AY1Vh.jpg?s=128&g=1", "display_name": "probat", "link": "https://stackoverflow.com/users/7585554/probat"}, "reply_to_user": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "edited": false, "score": 0, "creation_date": 1561674076, "post_id": 56781278, "comment_id": 100152762, "body": "Also one more question, from reading your edited question above do you even want the keys you pressed shown on the screen so a user can see what they are typing? Or do you not want the user to see what they are typing?"}, {"owner": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "edited": false, "score": 0, "creation_date": 1561677882, "post_id": 56781278, "comment_id": 100153555, "body": "In answer to your first question, I would like to block anything that is not alphabetic, Numeric, or symbolic.  In answer to your second question, yes, I do want the user to see what they type."}], "tags": [], "owner": {"reputation": 1042, "user_id": 7585554, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AY1Vh.jpg?s=128&g=1", "display_name": "probat", "link": "https://stackoverflow.com/users/7585554/probat"}, "is_accepted": true, "score": 0, "last_activity_date": 1561659543, "last_edit_date": 1561659543, "creation_date": 1561585274, "answer_id": 56781278, "question_id": 56780884, "link": "https://stackoverflow.com/questions/56780884/getting-input-in-python-via-the-same-window/56781278#56781278", "title": "Getting input in python via the same window?", "body": "<p>What about this solution using the <a href=\"https://docs.python.org/3.8/library/msvcrt.html#console-i-o\" rel=\"nofollow noreferrer\">msvcrt</a> module. At any time if you press escape then the program will exit. Python <code>sys.exit()</code>, and built-ins <code>exit()</code> and <code>quit()</code> all call <code>raise SystemExit</code> so this is just one less call to perform. If you press the enter or return key then the while loop ends and you can use the keys that were pressed later in your program as they are stored in the variable <code>user_input</code>. The print at the end just proves that the pressed keys are stored in <code>user_input</code> variable and the <code>input()</code> function simply to leave the window open so you can see it working.</p>\n\n<pre><code>import msvcrt\n\n\nuser_input = b''\n\nwhile True:\n    pressed_key = msvcrt.getche()  # getch() will not echo key to window if that is what you want\n    if pressed_key == b'\\x1b':  # b'\\x1b' is escape\n        raise SystemExit\n    elif pressed_key == b'\\r':  # b'\\r' is enter or return\n        break\n    else:\n        user_input += pressed_key\n\nprint('\\n' + user_input.decode('utf-8'))  # this just shows you that user_input variable can be used now somewhere else in your code\ninput()  # input just leaves the window open so you can see before it exits you may want to remove\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "is_accepted": false, "score": 0, "last_activity_date": 1561647164, "creation_date": 1561647164, "answer_id": 56793728, "question_id": 56780884, "link": "https://stackoverflow.com/questions/56780884/getting-input-in-python-via-the-same-window/56793728#56793728", "title": "Getting input in python via the same window?", "body": "<p>So after doing some more research, I found this:\n<a href=\"https://codeload.github.com/Nearoo/pygame-text-input/zip/master\" rel=\"nofollow noreferrer\">https://codeload.github.com/Nearoo/pygame-text-input/zip/master</a>\nI think this is what I am looking for, though it still needs to be slightly modified. Thank you for the assistance</p>\n"}], "owner": {"reputation": 37, "user_id": 11683771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03947e649e0066ddf9c62fac55b32530?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Pittman", "link": "https://stackoverflow.com/users/11683771/oleg-pittman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 1, "accepted_answer_id": 56781278, "answer_count": 2, "score": 2, "last_activity_date": 1561659543, "creation_date": 1561583124, "last_edit_date": 1561583266, "question_id": 56780884, "link": "https://stackoverflow.com/questions/56780884/getting-input-in-python-via-the-same-window", "title": "Getting input in python via the same window?", "body": "<p>I would like to know how to get user input in python without using the command line or an input box.\nLet me explain. I do not want to do this</p>\n\n<pre><code>#All code is python 3\nname=input(\"What is your name?\")\n</code></pre>\n\n<p>Why? When running scripts, the command line is not auto-focused. Furthermore, it pops up another window, something I do not want because I can't hit escape to close it in a hurry (Something which you may want to do if you're playing a game).</p>\n\n<p>What have I tried?\nI looked at WX and it's dialog function, something like this:</p>\n\n<pre><code>import wx\napp=wx.App()\ndef text_entry(title,message):\n    result=None\n    dlg=wx.TextEntryDialog(None, message,title)\n    if dlg.ShowModal()==wx.ID_OK: result=dlg.GetValue()\n    dlg.Destroy()\n    return result\ntext_entry(\"Text entry\",\"Enter something here\")\n</code></pre>\n\n<p>While this works, it pops up another window which again, I do not want. However, it is closer to what I am ultimately looking for, because I can hit escape to make it go away.</p>\n\n<p>I have tried using pygame and it's <code>key.get_pressed()</code> function, but it inserts a lot of the same letter into the entry, even if I gently tap the key. Also, when I implemented it into the project, it can only pick up on normal letters. Writing 26 if statements to detect key presses for a single letter with or without the shift key seems a little counter intuitive.\nFinally, I am a bit hesitant to try tkinter. I happen to be blind, and from what I read, tk is very visual, which makes me concerned that it won't play nicely with my screen reader (NVDA).</p>\n\n<p>So, I'm here. After searching on google for \"getting input without using command line in python 3\", \"input in the same window\", and \"input without using input()\" yielded nothing.</p>\n\n<p>To recap, I want to accept user input without using the input() function, and without any additional windows popping up for the duration of me doing so.\nThank you.</p>\n"}, {"tags": ["python", "csv", "dictionary"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1561583789, "post_id": 56780866, "comment_id": 100116991, "body": "Welcome to SO. Please take the time to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the other links found on that page. This isn&#39;t a discussion forum or  Tutorial."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561583636, "post_id": 56780900, "comment_id": 100116932, "body": "is this all I have to write? how do i use the dictionary comprehension? it doesn&#39;t seem to be working"}, {"owner": {"reputation": 506, "user_id": 10863327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e1604b54844ca72235865e7bb3bf1ca?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Parsons", "link": "https://stackoverflow.com/users/10863327/kyle-parsons"}, "reply_to_user": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561583826, "post_id": 56780900, "comment_id": 100117009, "body": "How is it not working for you?  I&#39;m unable to reproduce any problems you are having because I don&#39;t know how your <code>reader</code> variable is defined."}, {"owner": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561584679, "post_id": 56780900, "comment_id": 100117271, "body": "My code is <code>import csv with open(&#39;ZIPCODE.csv&#39;, &#39;r&#39;) as csv_file:    reader = csv.reader(csv_file, delimiter=&quot;\\t&quot;)     for i, line in enumerate(reader):        print (&#39;line[{}] = {}&#39;.format(i, line)) mydict = {line[0]: line[1] for line in reader}</code>  Error I get: <code>Traceback (most recent call last):   File &quot;&lt;input&gt;&quot;, line 11, in &lt;module&gt;   File &quot;&lt;input&gt;&quot;, line 11, in &lt;dictcomp&gt; ValueError: I&#47;O operation on closed file.</code> Line 11 = <code>{line[0]: line[1] for line in reader}</code>"}, {"owner": {"reputation": 506, "user_id": 10863327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e1604b54844ca72235865e7bb3bf1ca?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Parsons", "link": "https://stackoverflow.com/users/10863327/kyle-parsons"}, "reply_to_user": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561585100, "post_id": 56780900, "comment_id": 100117412, "body": "It looks like that when you <code>enumerate(reader)</code> you&#39;re consuming the iterator returned by <code>csv.reader</code>.  So when you go to use that iterator for the dictionary comprehension there are no lines left to comprehend over.  Also if you try to access the reader outside of the <code>open</code> context you&#39;ll get that I/O error."}], "tags": [], "owner": {"reputation": 506, "user_id": 10863327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e1604b54844ca72235865e7bb3bf1ca?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Parsons", "link": "https://stackoverflow.com/users/10863327/kyle-parsons"}, "is_accepted": false, "score": 0, "last_activity_date": 1561583225, "creation_date": 1561583225, "answer_id": 56780900, "question_id": 56780866, "link": "https://stackoverflow.com/questions/56780866/csv-lines-as-key-values-in-a-dictionary/56780900#56780900", "title": "CSV lines as key/values in a dictionary", "body": "<p>Since you've already made an iterator over parsed lines you can just use a dictionary comprehension to get what you want.</p>\n\n<pre><code>{line[0]: line[1] for line in reader}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561583849, "post_id": 56780990, "comment_id": 100117014, "body": "thanks! is there another way without pandas?"}, {"owner": {"reputation": 1892, "user_id": 10067043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990840858271/picture?type=large", "display_name": "Ricky Kim", "link": "https://stackoverflow.com/users/10067043/ricky-kim"}, "reply_to_user": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "edited": false, "score": 0, "creation_date": 1561584296, "post_id": 56780990, "comment_id": 100117162, "body": "There is but i think this is the most efficient (takes least amount of time)"}], "tags": [], "owner": {"reputation": 1892, "user_id": 10067043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990840858271/picture?type=large", "display_name": "Ricky Kim", "link": "https://stackoverflow.com/users/10067043/ricky-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1561583717, "creation_date": 1561583717, "answer_id": 56780990, "question_id": 56780866, "link": "https://stackoverflow.com/questions/56780866/csv-lines-as-key-values-in-a-dictionary/56780990#56780990", "title": "CSV lines as key/values in a dictionary", "body": "<p>Alternative approach using <code>pandas.read_csv</code></p>\n\n<pre><code>import pandas as pd\n\ndf=pd.read_csv(file_path)\ndf.set_index('Zipcode').T.to_dict(orient='records')[0]\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>{'0000': 'CA', '0001': 'CA'}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11677379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e39bf20f96dffc4550f403908db7cf?s=128&d=identicon&r=PG&f=1", "display_name": "nafcb10", "link": "https://stackoverflow.com/users/11677379/nafcb10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1561594476, "answer_count": 2, "score": 0, "last_activity_date": 1561583717, "creation_date": 1561583038, "last_edit_date": 1561583260, "question_id": 56780866, "link": "https://stackoverflow.com/questions/56780866/csv-lines-as-key-values-in-a-dictionary", "closed_reason": "Duplicate", "title": "CSV lines as key/values in a dictionary", "body": "<p>Imagine a CSV that looks like</p>\n\n<pre><code>Zipcode  State\n0000     CA\n0001     CA\n</code></pre>\n\n<p>I want to create a dictionary where the Key is the zipcode and the Value is the State. </p>\n\n<p>I've already written a function that reads the CSV line by line, </p>\n\n<pre><code>for i, line in enumerate(reader):\n    print ('line[{}] = {}'.format(i, line))\n\noutput: \nline[1] = ['0000', 'CA']\nline[2] = ['0001', 'CA']\n</code></pre>\n\n<p>How do I take each line and make it an entry in dictionary?\nHoping for an output as return <code>dict[zipcode]</code></p>\n"}, {"tags": ["python", "for-loop", "web-scraping", "scrapy"], "comments": [{"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 0, "creation_date": 1561584837, "post_id": 56780855, "comment_id": 100117328, "body": "u can add id in the xpath also to uniquely identify it"}], "answers": [{"tags": [], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "is_accepted": false, "score": 1, "last_activity_date": 1561585835, "creation_date": 1561585835, "answer_id": 56781376, "question_id": 56780855, "link": "https://stackoverflow.com/questions/56780855/web-scraping-i-cannot-use-a-for-loop-to-list-element/56781376#56781376", "title": "Web Scraping - I cannot use a for loop to list element", "body": "<p>I'm not quite sure about the output you wish to have. I took a guess and modified your script to grab the following results. You need to go one layer deep to fetch the full description as some of the description are broken:</p>\n\n<pre><code>import scrapy\n\nclass CentechSpiderSpider(scrapy.Spider):\n    name = 'centech_spider'\n    start_urls = ['https://centech.co/nos-entreprises/']\n\n    def parse(self, response):\n        for item in response.css(\"a.fl-post-carousel-link\"):\n            nom = item.css(\".description &gt; h2.fl-post-carousel-title::text\").get()\n            description = item.css(\".description &gt; p::text\").get()\n            yield {'nom':nom,'description':description}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11672763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20Ji_Wl9kHI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc-ZgxghvE-qyKEvA1Z2BDLefKI2g/mo/photo.jpg?sz=128", "display_name": "Scrape Junior", "link": "https://stackoverflow.com/users/11672763/scrape-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561585835, "creation_date": 1561582991, "question_id": 56780855, "link": "https://stackoverflow.com/questions/56780855/web-scraping-i-cannot-use-a-for-loop-to-list-element", "title": "Web Scraping - I cannot use a for loop to list element", "body": "<p>i am currently building a web scraper and i encountered a problem.\nWhen i try to build my for loop in order to regroup all information by company the extraction keeps on showing all elements of the same type together.</p>\n\n<p>When I realized that it didnt work i went back and tried to show an index list of only the first element but even when I type [0] all the elements are shown to me as if no specific selection was made</p>\n\n<pre><code>import scrapy\nfrom centech.items import CentechItem\n\nclass CentechSpiderSpider(scrapy.Spider):\n    name = 'centech_spider'\n    start_urls = ['https://centech.co/nos-entreprises/']\n\n    def parse(self, response):\n       items = CentechItem()\n       all_companies = response.xpath(\"//div[@class = 'fl-post-carousel- \n    post']\")[1]    #   \"//div[@class = 'fl-post-carousel-post']\")[1]\n    Nom = all_companies.xpath(\"//h2[contains(@class, 'fl-post-carousel- \n    title')]/text()\").extract()\n    Description = all_companies.xpath(\"//div[contains(@class, \n    'description')]/p/text()\").extract()\n    # Nom = all_companies.response.css(\"h2.fl-post-carousel- \n    title::text\").extract()\n    # Description = all_companies.xpath(\"p::text\").extract()\n\n    yield {'Nom' : Nom ,\n           'Description' : Description ,\n           }\n</code></pre>\n\n<p>I expect to see only the first element of the page but all the entreprises are shown.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1561582989, "post_id": 56780825, "comment_id": 100116676, "body": "Maybe, but where is your data and expected output?"}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1561583067, "post_id": 56780825, "comment_id": 100116701, "body": "From my knowledge, this is not possible in <code>pandas</code>. The <code>partition by, order by</code> function in SQL has helped me write some really efficient code, which I often miss in pandas. But I hope someone proves me wrong and it <b>is</b> possible."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1561583248, "post_id": 56780825, "comment_id": 100116777, "body": "That said, you should add some data and expected output, so <code>pandas</code> users understand what you try to do."}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1561583268, "post_id": 56780825, "comment_id": 100116789, "body": "@Erfan There are a few ways to recreate this using padnas, but it varies by the desired output. A sample dataset and output is necessary to know which method to use,"}, {"owner": {"reputation": 373, "user_id": 1127375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4880348465d8e79c28f37d41f58db1c7?s=128&d=identicon&r=PG", "display_name": "Markus Rother", "link": "https://stackoverflow.com/users/1127375/markus-rother"}, "edited": false, "score": 0, "creation_date": 1561587438, "post_id": 56780825, "comment_id": 100118052, "body": "A <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.MultiIndex.html\" rel=\"nofollow noreferrer\">Multiindex</a> might solve your problem. Its generation should be single pass. Although counts are not stored, retrieving counts should be faster over an indexed df."}, {"owner": {"reputation": 255, "user_id": 7735357, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/471c1b6264a10ac3da87820a12a33e23?s=128&d=identicon&r=PG&f=1", "display_name": "Dipas", "link": "https://stackoverflow.com/users/7735357/dipas"}, "reply_to_user": {"reputation": 373, "user_id": 1127375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4880348465d8e79c28f37d41f58db1c7?s=128&d=identicon&r=PG", "display_name": "Markus Rother", "link": "https://stackoverflow.com/users/1127375/markus-rother"}, "edited": false, "score": 0, "creation_date": 1561640471, "post_id": 56780825, "comment_id": 100137567, "body": "@Markus Rother could you pls show any simple example how do get the output above?"}, {"owner": {"reputation": 373, "user_id": 1127375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4880348465d8e79c28f37d41f58db1c7?s=128&d=identicon&r=PG", "display_name": "Markus Rother", "link": "https://stackoverflow.com/users/1127375/markus-rother"}, "edited": false, "score": 0, "creation_date": 1561640545, "post_id": 56780825, "comment_id": 100137608, "body": "@Dipas Please insert a snippet for creating a source df."}, {"owner": {"reputation": 255, "user_id": 7735357, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/471c1b6264a10ac3da87820a12a33e23?s=128&d=identicon&r=PG&f=1", "display_name": "Dipas", "link": "https://stackoverflow.com/users/7735357/dipas"}, "edited": false, "score": 0, "creation_date": 1561641968, "post_id": 56780825, "comment_id": 100138595, "body": "@ Markus Rother I&#39;ve added the snippet"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 1127375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4880348465d8e79c28f37d41f58db1c7?s=128&d=identicon&r=PG", "display_name": "Markus Rother", "link": "https://stackoverflow.com/users/1127375/markus-rother"}, "is_accepted": false, "score": 0, "last_activity_date": 1561643615, "creation_date": 1561643615, "answer_id": 56792593, "question_id": 56780825, "link": "https://stackoverflow.com/questions/56780825/pandas-dataframe-partition-by-different-keys-in-one-run/56792593#56792593", "title": "Pandas dataframe partition by different keys in one run", "body": "<p>In my comment above, I suggested using a <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/advanced.html\" rel=\"nofollow noreferrer\">Multiindex</a>.</p>\n\n<p>My assumption was, that the performance penalty arises from the implicit indexing within group by statements.</p>\n\n<p>Creating the df as described by OP:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\nd = {'A': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n     'B': ['LZ', 'LZ', 'LZ', 'LZ', 'LZ', 'SB', 'SB', 'SB', 'SB', 'SB', 'PZ'],\n     'C': [0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0],\n     'D': [1, 1, 1, 2, 2, 1, 1, 1, 2, 2, 1]}\ndf = pd.DataFrame(d)\n\n</code></pre>\n\n<p>Sorting and creating Multiindex. It may well be, that for a better performance of <code>DataFrame.groupby</code> sorting is sufficient. I haven't tried.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>indexed = df.sort_values(['B', 'C', 'D']).set_index(['B', 'C', 'D'])\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>         A                                                                                                                                                                                    \nB  C D                                                                                                                                                                                        \nLZ 0 1   1                                                                                                                                                                                    \n     1   2                                                                                                                                                                                    \n   1 1   3                                                                                                                                                                                    \n     2   4                                                                                                                                                                                    \n     2   5                                                                                                                                                                                    \nPZ 0 1  11                                                                                                                                                                                    \nSB 0 1   6                                                                                                                                                                                    \n     1   7                                                                                                                                                                                    \n   1 1   8                                                                                                                                                                                    \n     2   9                                                                                                                                                                                    \n     2  10    \n</code></pre>\n\n<p>Selecting counts for a single row:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>indexed.loc['LZ', 0, 1].count()  # 2\n</code></pre>\n\n<p>Grouping and counting, e.g. over 'BC':</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>indexed.groupby(['B', 'C']).count()\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>      A                                                                                                                                                                                       \nB  C                                                                                                                                                                                          \nLZ 0  2                                                                                                                                                                                       \n   1  3                                                                                                                                                                                       \nPZ 0  1                                                                                                                                                                                       \nSB 0  2                                                                                                                                                                                       \n   1  3   \n</code></pre>\n\n<p>As stated, my assumptions about performance are assumptions only.</p>\n"}], "owner": {"reputation": 255, "user_id": 7735357, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/471c1b6264a10ac3da87820a12a33e23?s=128&d=identicon&r=PG&f=1", "display_name": "Dipas", "link": "https://stackoverflow.com/users/7735357/dipas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561643615, "creation_date": 1561582805, "last_edit_date": 1561641911, "question_id": 56780825, "link": "https://stackoverflow.com/questions/56780825/pandas-dataframe-partition-by-different-keys-in-one-run", "title": "Pandas dataframe partition by different keys in one run", "body": "<p>In SQL we can count by different keys in one go with a help of OLAP functions, which improve sql performance:</p>\n\n<pre><code>select \nB, \nC,\nD,\ncount(A) over (partition by B, C, D order by D) as by_BCD.\ncount(A) over (partition by B, C order by D) as by_BC,\ncount(A) over (partition by B order by D) as by_B,\ncount(A) over () as total,\nfrom table;\n</code></pre>\n\n<p>Can we do the same in one pandas dataframe scan, not to 3 times grouping by dataframe?</p>\n\n<pre><code>Input dataset:\n\nA   B   C   D\n1   LZ  0   1\n2   LZ  0   1\n3   LZ  1   1\n4   LZ  1   2 \n5   LZ  1   2\n6   SB  0   1\n7   SB  0   1\n8   SB  1   1\n9   SB  1   2\n10  SB  1   2\n11   PZ  0   1\n\n\nOutput dataset:\n\nA   B   C   D   by_BCD   by_BC   by_B   total\n1   LZ  0   1     2        2      5      11\n2   LZ  0   1     2        2      5      11\n3   LZ  1   1     1        3      5      11 \n4   LZ  1   2     2        3      5      11\n5   LZ  1   2     2        3      5      11\n6   SB  0   1     2        2      5      11\n7   SB  0   1     2        2      5      11\n8   SB  1   1     1        3      5      11\n9   SB  1   2     2        3      5      11\n10  SB  1   2     2        3      5      11\n11  PZ  0   1     1        1      1      11\n</code></pre>\n\n<p>Here is the snippet:</p>\n\n<pre><code>d = {'A': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n     'B': ['LZ', 'LZ', 'LZ', 'LZ', 'LZ', 'SB', 'SB', 'SB', 'SB', 'SB', 'PZ'],\n     'C': [0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0],\n     'D': [1, 1, 1, 2, 2, 1, 1, 1, 2, 2, 1]}\ndf = pd.DataFrame(d)\n</code></pre>\n"}, {"tags": ["python", "opencv", "kinect", "webcam", "video-capture"], "owner": {"reputation": 21, "user_id": 11705241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ed3b9c1ec04aebcdb2da6ac9b720e3?s=128&d=identicon&r=PG&f=1", "display_name": "ProTrash", "link": "https://stackoverflow.com/users/11705241/protrash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562602572, "creation_date": 1561582719, "last_edit_date": 1562602572, "question_id": 56780808, "link": "https://stackoverflow.com/questions/56780808/reading-from-kinect-camera-rather-than-the-default-webcam-to-detect-objects-in-t", "title": "Reading from Kinect Camera rather than the default webcam to detect objects in the frame", "body": "<p>I have found two sample codes that accomplish separate tasks that I am trying to get to work in tandem. </p>\n\n<p>The Fist code opens the webcam from my laptop and reads the video stream to detect a certain colored object within the frame. It then creates an outline of the circular object and creates a colored trail of it previous location as it moves in real time. </p>\n\n<p>The only issue is I am trying to use an Xbox 360 Kinect to work as the webcam rather than the built-in webcam on my laptop. (In the future I plan on using the depth camera as well, which is why I would like to use the kinect camera.)</p>\n\n<p>The second code shows how to open and view the Kinect Camera's videostream.</p>\n\n<p>I have found that setting the number in the <code>VideoStream(src= 0).start()</code> to <code>0</code> is the default camera. If I were to change that value to say a 1, 2, 3 or whatever... it should read the next available camera. However, when I print all available cameras, it only shows the webcam listed. </p>\n\n<p>I have deleted, reinstalled, and installed all the correct drivers and packages that I should need for this to work if I were to just put a #1 in that line of code but have had no luck. There must be a different approach that will work to solve this issue. </p>\n\n<h1>---------The First Code------------------------------------------------</h1>\n\n<pre class=\"lang-py prettyprint-override\"><code># import the necessary packages\nfrom collections import deque\nfrom imutils.video import VideoStream\nimport numpy as np\nimport argparse\nimport cv2\nimport imutils\nimport time\n\n# construct the argument parse and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-v\", \"--video\",\n    help=\"path to the (optional) video file\")\nap.add_argument(\"-b\", \"--buffer\", type=int, default=64,\n    help=\"max buffer size\")\nargs = vars(ap.parse_args())\n\n# define the lower and upper boundaries of the \"green\"\n# ball in the HSV color space, then initialize the\n# list of tracked points\ngreenLower = (53, 36, 124)\ngreenUpper = (200, 200, 242)\npts = deque(maxlen=args[\"buffer\"])\n\n# if a video path was not supplied, grab the reference\n# to the webcam\nif not args.get(\"video\", False): #if not video file was given\n    vs = VideoStream(src=0).start() #access the webcam here\n\n# otherwise, grab a reference to the video file\nelse:\n    vs = cv2.VideoCapture(args[\"video\"])\n\n# allow the camera or video file to warm up\ntime.sleep(2.0)\n\n# keep looping\nwhile True:\n    # grab the current frame\n    frame = vs.read()\n\n    # handle the frame from VideoCapture or VideoStream\n    frame = frame[1] if args.get(\"video\", False) else frame\n\n    # if we are viewing a video and we did not grab a frame,\n    # then we have reached the end of the video\n    if frame is None:\n        break\n\n    # resize the frame, blur it, and convert it to the HSV\n    # color space\n    frame = imutils.resize(frame, width=600)\n    blurred = cv2.GaussianBlur(frame, (11, 11), 0)\n    hsv = cv2.cvtColor(blurred, cv2.COLOR_BGR2HSV)\n\n    # construct a mask for the color \"green\", then perform\n    # a series of dilations and erosions to remove any small\n    # blobs left in the mask\n    mask = cv2.inRange(hsv, greenLower, greenUpper)\n    mask = cv2.erode(mask, None, iterations=2)\n    mask = cv2.dilate(mask, None, iterations=2)\n\n    # find contours in the mask and initialize the current\n    # (x, y) center of the ball\n    cnts = cv2.findContours(mask.copy(), cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n    cnts = imutils.grab_contours(cnts)\n    center = None\n\n    # only proceed if at least one contour was found\n    if len(cnts) &gt; 0:\n        # find the largest contour in the mask, then use\n        # it to compute the minimum enclosing circle and\n        # centroid\n        c = max(cnts, key=cv2.contourArea)\n        ((x, y), radius) = cv2.minEnclosingCircle(c)\n        M = cv2.moments(c)\n        center = (int(M[\"m10\"] / M[\"m00\"]), int(M[\"m01\"] / M[\"m00\"]))\n\n        # only proceed if the radius meets a minimum size\n        if radius &gt; 10:\n            # draw the circle and centroid on the frame,\n            # then update the list of tracked points\n            cv2.circle(frame, (int(x), int(y)), int(radius),\n                (0, 255, 255), 2)\n            cv2.circle(frame, center, 5, (0, 0, 255), -1)\n\n    # update the points queue\n    pts.appendleft(center)\n        # loop over the set of tracked points\n    for i in range(1, len(pts)):\n        # if either of the tracked points are None, ignore\n        # them\n        if pts[i - 1] is None or pts[i] is None:\n            continue\n\n        # otherwise, compute the thickness of the line and\n        # draw the connecting lines\n        thickness = int(np.sqrt(args[\"buffer\"] / float(i + 1)) * 2.5)\n        cv2.line(frame, pts[i - 1], pts[i], (0, 0, 255), thickness)\n\n    # show the frame to our screen\n    cv2.imshow(\"Frame\", frame)\n    key = cv2.waitKey(1) &amp; 0xFF\n\n    # if the 'q' key is pressed, stop the loop\n    if key == ord(\"q\"):\n        cv2.destroyAllWindows()\n        break\n\n\n# close all windows\ncv2.destroyAllWindows()\n\n#----------End of the First code-----------------------------------\n\n\n\n#------------Second Code-------------------------------------------\n\nfrom pykinect import nui\nimport numpy\nimport cv2\n\ndef video_handler_function(frame):\n\n    video = numpy.empty((480,640,4),numpy.uint8)\n    frame.image.copy_bits(video.ctypes.data)\n\n    cv2.imshow('KINECT Video Stream', video)\n\n\nkinect = nui.Runtime()\nkinect.video_frame_ready += video_handler_function\nkinect.video_stream.open(nui.ImageStreamType.Video, 2,nui.ImageResolution.Resolution640x480,nui.ImageType.Color)\n\ncv2.namedWindow('KINECT Video Stream', cv2.WINDOW_AUTOSIZE)\n\nwhile True:\n\n    key = cv2.waitKey(1)\n    if key == 27: break\n\nkinect.close()\ncv2.destroyAllWindows()\n\n#----------end of the second code---------------------------------\n\n```python\n\nWhen I change the value, to 1 which is the port number that the kinect is connected to, it should open the video stream and have the same results as the first code, but it just closes the python app.\n</code></pre>\n"}, {"tags": ["python", "multithreading", "tkinter", "time", "pyserial"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561626299, "post_id": 56784721, "comment_id": 100129341, "body": "Thank you, I have made changes to the description of the issue. outlining that i just need the one bit of b&#39;\\x00&#39; to allow me to determine if the switch is on or off.  I have also cleaned up the code as your right i do not need to check for 2 bytes and have removed (parity, stopbits, bytesize, xonxoff) as the issue is the same without them."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561630484, "post_id": 56784721, "comment_id": 100131797, "body": "you&#39;re welcome Nick. Is your switch sending the NULL character only once? I think the problem is sometimes you&#39;re not catching it, maybe you can send the character several times when you change the state of the switch... It does not seem very reliable to have one particular byte for one state and all other 255 bytes for the other state. Parity, stop bits and byte size should be the same on both ends of the serial link."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561632040, "post_id": 56784721, "comment_id": 100132664, "body": "It does return b&#39;\\00&#39; only once but is not NULL/None if that makes a difference?"}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561633456, "post_id": 56784721, "comment_id": 100133424, "body": "That was my point, if you get the b&#39;\\00&#39; command only once, what happens if you miss it? If you one of the bits within the byte is changed due to noise then you&#39;ll never stop your counter. I think you might need to implement something to account for that. Most serial protocols have a kind of error control mechanism; they attach a <a href=\"https://en.wikipedia.org/wiki/Cyclic_redundancy_check\" rel=\"nofollow noreferrer\">CRC</a> character to the message. This character can be calculated from the message itself so you can be sure that what you have received is correct, or otherwise you ask the other end to send the message again"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561647500, "post_id": 56784721, "comment_id": 100142221, "body": "My lack of serial knowledge may be getting the better of me on this one. I have decoded the byte which i assume would give me a different result if the byte had changed in anyway. Not sure if this is an effective way of checking however the result does not change and the counter continues to run."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561650798, "post_id": 56784721, "comment_id": 100144094, "body": "I have updated my answer. Maybe you can get something working based on that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561653313, "post_id": 56784721, "comment_id": 100145303, "body": "I appreciate the update. Just tried it out and printed what i was getting for On and Off which is (2 bytes for Off and 4 for ON). So it works as it should however after a few presses the counter remains running. I will continue to play around with the code you have given and ill get back to you asap"}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561653929, "post_id": 56784721, "comment_id": 100145560, "body": "Well, it was just a starting point. Maybe it&#39;s not robust enough. You might also have hardware issues... If you get stuck post a comment and we&#39;ll look at it. By the way, are you reading the switch with a microcontroller?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561810244, "post_id": 56784721, "comment_id": 100188129, "body": "Im not using a micro control at the moment. I will end up using one. This is just playing around to see what i can do with the rs232"}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561818608, "post_id": 56784721, "comment_id": 100189820, "body": "OK, but how are you making the switch send the message?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561975375, "post_id": 56784721, "comment_id": 100219443, "body": "I have pin 1 wired to common  of the switch with pins 2 and 4 wired to the normally open of the switch."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561979382, "post_id": 56784721, "comment_id": 100221321, "body": "Hello Nick, Sorry but I don&#39;t really see how your switch is interfaced with the serial port... these pin numbers you refer to are on a SUB-D9 connector?"}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561983280, "post_id": 56784721, "comment_id": 100223146, "body": "OK, clear. That means you are not sending anything on the serial port but just switching voltage levels on it... I finally understood your setup; it took a while!. With this in mind I think there might be other tricks to improve the software side. I&#39;ll think about it and maybe write a new answer if I come up with something."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1561989278, "post_id": 56784721, "comment_id": 100226343, "body": "Sorry for the poor explanation, i should have detailed the circuit at the start. I am not sure how this would make much of a difference to the issue."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1561994181, "post_id": 56784721, "comment_id": 100228876, "body": "No problem, it was very obvious for you, and the same for me but in a completely wrong way. It does make a difference though, what you&#39;re doing is kind of a hack. The serial port is not intended to work like that. And if you insist on working like that (I imagine in a quest to keep hardware to a bare minimum) there are better ways to detect the change on the switch state than <code>serial.read()</code>. I will post a new answer tomorow with a couple of ideas. Just to be sure, what model and brand is your RS232-to-USB adaptor?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1562003878, "post_id": 56784721, "comment_id": 100232834, "body": "Manufacturer is FTDI not sure on the model"}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1562004883, "post_id": 56784721, "comment_id": 100233272, "body": "OK, thanks, I&#39;m assuming it&#39;s similar to <a href=\"https://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_US232R-10_R-100-500.pdf\" rel=\"nofollow noreferrer\">this one</a>. How did you choose your wiring? Did you measure voltages and decided to use those pins (4 and 1) because they had the voltage levels you wanted for the switch to put pin 2 high and low?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1562007608, "post_id": 56784721, "comment_id": 100234213, "body": "Yes very similar. I basically played around using a ribbon cable testing which ones gave the best results. between pin 1 and 4 i get about 9 V, when pressed it drops to zero."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1562058794, "post_id": 56784721, "comment_id": 100248681, "body": "I have added a new answer using DIO signals, I have tested it with a very similar device (mine uses the FTDI chip as well but it has two ports). Give it a try to see if this works better."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1562152464, "post_id": 56784721, "comment_id": 100286244, "body": "Thanks. I have not had a chance to test it out yet but i will reply as soon as i have"}], "tags": [], "owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1561650715, "last_edit_date": 1561650715, "creation_date": 1561614788, "answer_id": 56784721, "question_id": 56780804, "link": "https://stackoverflow.com/questions/56780804/micro-switch-with-pyserial-rs232-starts-stops-a-timer-in-a-tkinter-thread-but-co/56784721#56784721", "title": "Micro Switch with pyserial RS232 starts/stops a timer in a tkinter thread but continues to run even when stopped", "body": "<p>You don't explain very well how your protocol works (I mean what is your switch supposed to be sending, or if it's sending a state change only once or several times or continuously).</p>\n\n<p>But there are some red flags on your code anyway:</p>\n\n<p>-With <code>data = self.ser.read(size=1).strip()</code> you read 1 byte but immediately you check if you have received 2 bytes. Is there a reason to do that?</p>\n\n<p>-Your timer stop condition works comparing with the NULL character. That should not be a problem, but depending on your particular configuration it might (in some configurations the NULL character is read as something else, so it's wise to make sure you're really receiving it correctly).</p>\n\n<p>-Your timer start condition seems too loose. Whatever you receive on the port, if it's one byte, you start your timer. Again, I don't know if that's the way your protocol works but it seems prone to trouble.</p>\n\n<p>-When you replace your hardware switch with a software emulation it works as intended, but that is not surprising since you're probably imposing the condition. When you read from the serial port you have to deal with real world issues like noise, communication errors or the switch <a href=\"https://learn.adafruit.com/make-it-switch/debouncing\" rel=\"nofollow noreferrer\">bouncing</a> back and forth from ON to OFF. Maybe for a very simple protocol you don't need to use any error checking method, but it seems wise to at least check for parity errors. I'm not completely sure it would be straight-forward to do that with pyserial; on a quick glance I found <a href=\"https://github.com/pyserial/pyserial/issues/357\" rel=\"nofollow noreferrer\">this issue</a> that's been open for a while.</p>\n\n<p>-Again, the lack of info on your protocol: should you be using XON-XOFF flow control and two stop bits? I guess you have a reason to do it, but you should be very aware of why and how you're using those.</p>\n\n<p><strong>EDIT:</strong> With the comments below I can try to improve a bit my answer. This is just an idea for you to develop: instead of making the stop condition comparing exactly with <code>0x00</code> you can count the number of bits set to 1 and stop the counter if it's less or equal to 2. That way you can account for bits that are not received correctly. </p>\n\n<p>You can do the same with the start condition but I don't know what hex value you send.</p>\n\n<p>Credits for the bit counting function go to <a href=\"https://stackoverflow.com/a/9829736/11476836\">this question</a>.</p>\n\n<pre><code>...\ndef numberOfSetBits(i):\n    i = i - ((i &gt;&gt; 1) &amp; 0x55555555)\n    i = (i &amp; 0x33333333) + ((i &gt;&gt; 2) &amp; 0x33333333)\n    return (((i + (i &gt;&gt; 4) &amp; 0xF0F0F0F) * 0x1010101) &amp; 0xffffffff) &gt;&gt; 24\n\n\ndef start_stop(self):\n     while True :\n         try:\n             data_to_read = self.ser.inWaiting()\n             if data_to_read != 0: # read if there is new data\n                 data = self.ser.read(size=1).strip()\n                 if numberOfSetBits(int.from_bytes(data, \"big\")) &lt;= 2:\n                     self.cycleStop()\n                     print(\"Off\")\n\n                 elif numberOfSetBits(int.from_bytes(data, \"big\")) &gt;= 3:  #change the condition here according to your protocol\n                     self.cycleStart()\n                     print(\"On\")\n\n         except serial.SerialException as e:\n             print(\"Error\")\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "edited": false, "score": 0, "creation_date": 1562162297, "post_id": 56848598, "comment_id": 100292329, "body": "Yes a great answer that has improved my understanding of what i am trying to achieve. If I had the knowledge previously I would have been able to articulate a better question nonetheless I thank you for your persistence on solving this issue."}, {"owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "edited": false, "score": 0, "creation_date": 1562165383, "post_id": 56848598, "comment_id": 100294217, "body": "No problem Nick, we are all here to learn from our own mistakes and for everyone else&#39;s. The important thing is to take what you&#39;ve learnt and keep building on it."}], "tags": [], "owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1562057140, "creation_date": 1562057140, "answer_id": 56848598, "question_id": 56780804, "link": "https://stackoverflow.com/questions/56780804/micro-switch-with-pyserial-rs232-starts-stops-a-timer-in-a-tkinter-thread-but-co/56848598#56848598", "title": "Micro Switch with pyserial RS232 starts/stops a timer in a tkinter thread but continues to run even when stopped", "body": "<p>With a better understanding of what you're trying to do better solutions come to mind.</p>\n\n<p>As it turns out, you're not using your serial port to send or receive serial data. What you're actually doing is wiring a switch to its RX line and toggling it manually with a mechanical switch, feeding a high or low level depending on the position of the switch. </p>\n\n<p>So what you're trying to do is emulating a digital input line with the RX line of your serial port. If you take a look a <a href=\"https://en.wikipedia.org/wiki/Asynchronous_serial_communication\" rel=\"nofollow noreferrer\">how a serial port works</a> you'll see that when you send a byte the TX line toggles from low to high at the baud rate, but on top of the data you have to consider the start and stop bits. So, why your solution works (at least sometimes): that's easy to see when you look at a scope picture: </p>\n\n<p><a href=\"https://i.stack.imgur.com/FI7SW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FI7SW.png\" alt=\"scope capture TX line sending &quot;\\x00&quot;\"></a></p>\n\n<p>This is a screenshot of the TX line sending the <code>\\x00</code> byte, measured between pins 3 (TX) and 5 (GND) with no parity bit. As you can see the step only lasts for 7.5 ms (with a 1200 baud rate). What you are doing with your switch is something similar but ideally infinitely long (or until you toggle your switch back, which will be way after 7.5 ms no matter how fast you do it). I don't have a switch to try but if I open a terminal on my port and use a cable to shortcircuit the RX line to pin 4 (on a SUB-D9 connector) sometimes I do get a <code>0x00</code> byte, but mostly it's something else. You can try this experiment yourself with PuTTy or RealTerm and your switch, I guess you'll get better results but still not always the byte you expect because of the contacts bouncing.</p>\n\n<p><strong>Another approach:</strong> I'm sure there might be ways to improve on what you have, maybe reducing the baud rate to 300 or 150 bps, checking for a <a href=\"https://stackoverflow.com/questions/1279478/rs-232-break-signal\">break in the line</a> or other creative ideas. </p>\n\n<p>But what you're trying to do is more akin to reading a GPIO line, and actually, the serial port has several digital lines intended (in the old days) for <a href=\"https://en.wikipedia.org/wiki/Serial_port#Flow_control\" rel=\"nofollow noreferrer\">flow control</a>.</p>\n\n<p>To use these lines you should connect the common pole on your switch to the DSR line (pin 6 on a SUB-D9) and the NO and NC poles to lines DTR (pin 4) and RTS (pin 7).</p>\n\n<p>The software side would be actually simpler than reading bytes: you just have to activate hardware flow control :</p>\n\n<pre><code>self.ser = serial.Serial()\nself.ser.port='COM4'\nself.ser.baudrate=1200  #Baud rate does not matter now\nself.ser.timeout=0\nself.ser.rtscts=True\nself.ser.dsrdtr=True\nself.ser.open()\n</code></pre>\n\n<p>Define the logical levels for your switch:</p>\n\n<pre><code>self.ser.setDTR(False)   # We use DTR for low level state\nself.ser.setRTS(True)  # We use RTS for high level state\nself.ser.open()         # Open port after setting everything up, to avoid unkwnown states\n</code></pre>\n\n<p>And use <code>ser.getDSR()</code> to check the logical level of the DSR line in your loop:</p>\n\n<pre><code>def start_stop(self):\n    while True :\n        try:\n            switch_state = self.ser.getDSR()\n            if switch_state == False and self._cycRunning == True:\n                self.cycleStop()\n                print(\"Off\")\n\n            elif switch_state == True and self._cycRunning == False:\n                 self.cycleStart()\n                 print(\"On\")\n\n        except serial.SerialException as e:\n            print(\"Error\")\n</code></pre>\n\n<p>I defined your <code>self._cycRunning</code> variable as boolean (in your initialization code you had defined it as float, but that was probably a typo). </p>\n\n<p>This code works with no glitches at all even using a stripped wire as a switch.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10215856"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 56848598, "answer_count": 2, "score": 0, "last_activity_date": 1562057140, "creation_date": 1561582680, "last_edit_date": 1561627558, "question_id": 56780804, "link": "https://stackoverflow.com/questions/56780804/micro-switch-with-pyserial-rs232-starts-stops-a-timer-in-a-tkinter-thread-but-co", "title": "Micro Switch with pyserial RS232 starts/stops a timer in a tkinter thread but continues to run even when stopped", "body": "<p>I have been using a micro switch connected to an RS232/USB serial converter cable on my windows PC to start stop and reset a timer.</p>\n\n<p>The program runs smoothly most of the time but every so often updating the timer widget gets stuck running and the timer will not stop.</p>\n\n<p>With the serial protocol i want to receive 1 byte b'\\x00' for off and anything that's not b'\\x00' should signify on.</p>\n\n<p>I have replaced the micro switch with button widgets to simulate the switch and don't get the same error or i just have not kept at it for long enough.</p>\n\n<p>It could be an issue with the RS232 causing an error i cannot see but my knowledge on this is sketchy and have exhausted all avenues looking online for any information on this.</p>\n\n<pre><code>import time\nimport sys\nimport serial\nimport threading\nfrom tkinter import *\nfrom tkinter import ttk\n\nclass Process(Frame):\n    def __init__(self, root, parent=None, **kw):\n        Frame.__init__(self, parent, kw)\n        self.root = root\n        self._cycStart = 0.0\n        self._cycTimeElapsed = 0.0\n        self._cycRunning = 0.0\n        self.cycTimeStr = StringVar()\n        self.cycTime_label_widget()\n\n        self.ser = serial.Serial(\n            port='COM4',\n            baudrate=1200,\n            timeout=0\n            )\n\n        self.t1 = threading.Thread(target=self.start_stop, name='t1')\n        self.t1.start()\n\n    def initUI(self):\n        root.focus_force()\n        root.title(\"\")\n        root.bind('&lt;Escape&gt;', lambda e: root.destroy())\n\n\n    def cycTime_label_widget(self):\n    # Make the time label\n        cycTimeLabel = Label(root, textvariable=self.cycTimeStr, font= \n        (\"Ariel 12\"))\n        self._cycleSetTime(self._cycTimeElapsed)\n        cycTimeLabel.place(x=1250, y=200)\n\n        cycTimeLabel_2 = Label(root, text=\"Cycle Timer:\", font=(\"Ariel \n        12\"))\n        cycTimeLabel_2.place(x=1150, y=200)\n\n    def _cycleUpdate(self): \n        \"\"\" Update the label with elapsed time. \"\"\"\n        self._cycTimeElapsed = time.time() - self._cycStart\n        self._cycleSetTime(self._cycTimeElapsed)\n        self._cycTimer = self.after(50, self._cycleUpdate)\n\n    def _cycleSetTime(self, elap):\n        \"\"\" Set the time string to Minutes:Seconds:Hundreths \"\"\"\n        minutes = int(elap/60)\n        seconds = int(elap - minutes*60.0)\n        hseconds = int((elap - minutes*60.0 - seconds)*100)                \n        self.cycTimeStr.set('%02d:%02d:%02d' % (minutes, seconds, \n        hseconds))\n        return\n\n    def cycleStart(self):                                                     \n        \"\"\" Start the stopwatch, ignore if running. \"\"\"\n        if not self._cycRunning:           \n            self._cycStart = time.time() - self._cycTimeElapsed\n            self._cycleUpdate()\n            self._cycRunning = 1\n        else:\n            self.cycleReset()\n\n\n     def cycleStop(self):                                    \n        \"\"\" Stop the stopwatch, ignore if stopped. \"\"\"\n        if self._cycRunning:\n            self.after_cancel(self._cycTimer)            \n            self._cycTimeElapsed = time.time() - self._cycStart    \n            self._cycleSetTime(self._cycTimeElapsed)\n            self._cycRunning = 0\n            self._cycTimeElapsed = round(self._cycTimeElapsed, 1)\n            self.cycleTimeLabel = Label(root, text=(self._cycTimeElapsed, \n            \"seconds\"), font=(\"Ariel 35\"))\n            self.cycleTimeLabel.place(x=900, y=285)\n            self.cycleReset()\n\n     def cycleReset(self):                                  \n         \"\"\" Reset the stopwatch. \"\"\"\n         self._cycStart = time.time()         \n         self._cycTimeElapsed = 0   \n         self._cycleSetTime(self._cycTimeElapsed)\n\n     def start_stop(self):\n         while True :\n             try:\n                 data_to_read = self.ser.inWaiting()\n                 if data_to_read != 0: # read if there is new data\n                     data = self.ser.read(size=1).strip()\n                     if data == bytes(b'\\x00'):\n                         self.cycleStop()\n                         print(\"Off\")\n\n                     elif data is not bytes(b'\\x00'):\n                         self.cycleStart()\n                         print(\"On\")\n\n             except serial.SerialException as e:\n                 print(\"Error\")\nif __name__ == '__main__':\n    root = Tk()\n    application = Process(root)\n    root.mainloop()\n</code></pre>\n\n<p>I expect the timer to start running when the micro switch is pressed. when depressed it should stop and reset back to zero and wait for the next press</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 1, "creation_date": 1561584635, "post_id": 56780842, "comment_id": 100117259, "body": "This may solve the issue, but it doesn&#39;t go any distance to addressing the question"}], "tags": [], "owner": {"reputation": 863, "user_id": 8786138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1af71491abb17b899e003a31f710415?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Sharma", "link": "https://stackoverflow.com/users/8786138/vaibhav-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1561582872, "creation_date": 1561582872, "answer_id": 56780842, "question_id": 56780755, "link": "https://stackoverflow.com/questions/56780755/typeerror-unsupported-operand-types-for-nonetype-and-int-when-printing/56780842#56780842", "title": "TypeError: unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39; when printing", "body": "<p>If you're using python3.x, you can use fstrings?</p>\n\n<pre><code>print(f'Num Features: {fit.n_features_}')\nprint(f'Selected Features: {fit.support_}')\nprint(f'Feature Ranking: {fit.ranking_}')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": false, "score": 3, "last_activity_date": 1561875905, "last_edit_date": 1561875905, "creation_date": 1561584613, "answer_id": 56781135, "question_id": 56780755, "link": "https://stackoverflow.com/questions/56780755/typeerror-unsupported-operand-types-for-nonetype-and-int-when-printing/56781135#56781135", "title": "TypeError: unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39; when printing", "body": "<p>To actually answer your question, it's because you're using the <code>%</code> operator outside the <code>print</code> function (which returns <code>None</code> as the error message says) but the <code>%</code> operator is a string operator. You need</p>\n\n<pre><code>print(\"Num Features: %d\" % features_)\nprint(\"Selected Features: %s\" % support_)\nprint(\"Feature Ranking: %s\" % ranking_)\n</code></pre>\n\n<p>But yes, f-strings and <code>str.format</code> are preferred to <code>%</code> these days.</p>\n"}], "owner": {"reputation": 89, "user_id": 7617805, "user_type": "registered", "profile_image": "https://graph.facebook.com/1407778092579213/picture?type=large", "display_name": "Maciej", "link": "https://stackoverflow.com/users/7617805/maciej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 56780842, "answer_count": 2, "score": 0, "last_activity_date": 1561875905, "creation_date": 1561582460, "last_edit_date": 1561583169, "question_id": 56780755, "link": "https://stackoverflow.com/questions/56780755/typeerror-unsupported-operand-types-for-nonetype-and-int-when-printing", "title": "TypeError: unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39; when printing", "body": "<p>I am trying to perform feature selection on a set of dummy columns. Column types include: non-null uint8, non-null int32. My target column has values 0 and 1.</p>\n\n<p>my code looks like this:</p>\n\n<pre><code>print(\"Num Features: %d\") % features_\nprint(\"Selected Features: %s\") % support_\nprint(\"Feature Ranking: %s\") % ranking_\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>TypeError: unsupported operand type(s) for %: 'NoneType' and 'int'\n</code></pre>\n\n<p>Why am I getting this error and how can I fix that?</p>\n"}, {"tags": ["python", "pandas", "dataset", "data-analysis"], "comments": [{"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1561583416, "post_id": 56780752, "comment_id": 100116847, "body": "i&#39;m not sure how you got the scores with the code from above I think we need some more raw data perhaps?"}, {"owner": {"reputation": 43, "user_id": 11696775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v6fWOIhOTYw/AAAAAAAAAAI/AAAAAAAAAbU/FrLcLvp-hB0/photo.jpg?sz=128", "display_name": "shibangi barua", "link": "https://stackoverflow.com/users/11696775/shibangi-barua"}, "reply_to_user": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1561606048, "post_id": 56780752, "comment_id": 100121398, "body": "final score is present in the data itself"}, {"owner": {"reputation": 43, "user_id": 11696775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v6fWOIhOTYw/AAAAAAAAAAI/AAAAAAAAAbU/FrLcLvp-hB0/photo.jpg?sz=128", "display_name": "shibangi barua", "link": "https://stackoverflow.com/users/11696775/shibangi-barua"}, "reply_to_user": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1561607390, "post_id": 56780752, "comment_id": 100121656, "body": "@Datanovice is it fine now? can you understand and suggest how to achieve this?"}, {"owner": {"reputation": 43, "user_id": 11696775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v6fWOIhOTYw/AAAAAAAAAAI/AAAAAAAAAbU/FrLcLvp-hB0/photo.jpg?sz=128", "display_name": "shibangi barua", "link": "https://stackoverflow.com/users/11696775/shibangi-barua"}, "reply_to_user": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1561607827, "post_id": 56780752, "comment_id": 100121741, "body": "@jezrael can you please help me? i know it&#39;s quite long but i don&#39;t know am i doing it correctly even"}], "owner": {"reputation": 43, "user_id": 11696775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v6fWOIhOTYw/AAAAAAAAAAI/AAAAAAAAAbU/FrLcLvp-hB0/photo.jpg?sz=128", "display_name": "shibangi barua", "link": "https://stackoverflow.com/users/11696775/shibangi-barua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561607324, "creation_date": 1561582452, "last_edit_date": 1561607324, "question_id": 56780752, "link": "https://stackoverflow.com/questions/56780752/how-to-find-a-string-in-every-group-and-then-compare-the-values-of-other-columns", "title": "How to find a string in every group and then compare the values of other columns then store it in a new made column", "body": "<p>I had three data sets which i merged according to some keys and I arranged the 'registrationdatetime' and 'submissiondatetime' according to ascending order. Then I applied groupby to group them by \"contestid\" and \"userhandle\". I also had to count number of solvers who entered in a contest before a current solver, i wrote a line for that as well but </p>\n\n<p>Now i have to make a new column called <code>priorperformanceofsolver</code> (performance in the recently concluded contest (score of the current solver's submission/s in the most recently concluded contest). </p>\n\n<p><strong>My aim is to have - every group arranged according to contest_id then there should be 'userhandles' or people who participated in the contest arranged in ascending order of their datetime of arrival in contest so that i count who came in after who in the contest lastly i want to make a new column called priorperformanceofsolver to store the previous performance</strong></p>\n\n<p>I am sorry it is this long but i really can't figure out if I am right or wrong and i cannot figure out how to make the priorperformanceofsolver column.</p>\n\n<p>I have to search for every contest for every userhandle and find every contest they participated in and which among those contest date was the most recent and what was their score in that recent contest and store in a column called 'priorperformanceofsolver' which has to indicate the score from the most recent contest they participated in. Please help me I am stuck or if there is difficulty in reading this superlong question please comment but help me if possible. I am very new to python</p>\n\n<p>'''</p>\n\n<pre><code>    dftotal.groupby([\"contestID\", \"userHandle\"])\n    dftotal[\"registerDateTime\"] = pd.to_datetime(dftotal.registerDateTime, \n    utc=True)\n    dftotal[\"RegistrationDateTime\"] = dftotal[\"registerDateTime\"]\n    dftotal[\"submitDateTime\"] = pd.to_datetime(dftotal.submitDateTime, utc \n    =True)\n    dftotal[\"SubmissionDateTime\"] = dftotal[\"submitDateTime\"]\n\n    dftotal.sort_values(by=['RegistrationDateTime'])\n    dftotal.sort_values(by = [\"SubmissionDateTime\"])\n\n    dftotal['priorcountofentrants'] = \n    dftotal.groupby(['contestID']).cumcount()\n</code></pre>\n\n<p>'''</p>\n\n<pre><code>Data -\ncontstID userHndle RegistrtnDteTime SubmssnDtTme priorcntofentrnts finalScore\n\n   6638   holo   2012-01-0921:45:20 2012-03-1020:45:20  0            100 \n   6638   kolo   2012-01-0922:45:20 2012-03-1023:45:20  1             50   \n\n   8878   holo   2011-01-0921:45:20 2011-01-1020:45:20  0            100 \n   8878   kolo   2011-01-0922:45:20 2011-01-1023:45:20  1            100  \n\nexpected - \ncontstID userHndle RegstrtnDteTme SubmsnDtTm prircntofentrnts finalScore \n                                                                priorperformce\n\n   6638   holo   2012-01-0921:45:20 2012-01-1020:45:20  0       100       100\n   6638   kolo   2012-01-0922:45:20 2012-01-1023:45:20  0       50        100\n</code></pre>\n\n<p>so here kolo and holo have their score from the previous contest(recently concluded date wise) displayed beside their name i.e from contest 8878 they scored 100 and 50 so it is displayed next to their name in new contest 6638 then  it happens similarly for the contest 8878 where it has to search for prior performance of the solver</p>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 274, "user_id": 11451522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOHjv.png?s=128&g=1", "display_name": "Bytes2048", "link": "https://stackoverflow.com/users/11451522/bytes2048"}, "edited": false, "score": 0, "creation_date": 1561592419, "post_id": 56780728, "comment_id": 100119204, "body": "I am surprised that your importing of <code>NewYork.Manhattan</code> file actually worked, because when I tried, it didn&#39;t work, presumably because <code>NewYork</code> is not in the same directory as <code>Buckhead.py</code>. Are you sure of the tree?"}, {"owner": {"reputation": 373, "user_id": 8887463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc014308635f1f5b9569b8600f511b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anubhav", "link": "https://stackoverflow.com/users/8887463/anubhav"}, "reply_to_user": {"reputation": 274, "user_id": 11451522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOHjv.png?s=128&g=1", "display_name": "Bytes2048", "link": "https://stackoverflow.com/users/11451522/bytes2048"}, "edited": false, "score": 0, "creation_date": 1561594614, "post_id": 56780728, "comment_id": 100119584, "body": "Yup! Definitely works on my end. It looks like sibling imports work without have to worry about relative imports. Not sure if that\u2019s a new Python feature. I\u2019m on 3.6."}], "owner": {"reputation": 373, "user_id": 8887463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc014308635f1f5b9569b8600f511b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anubhav", "link": "https://stackoverflow.com/users/8887463/anubhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 11, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561582335, "creation_date": 1561582335, "question_id": 56780728, "link": "https://stackoverflow.com/questions/56780728/siblimg-import-with-dependencies", "title": "Siblimg import with dependencies", "body": "<p>I am trying to import a sibling module that itself has imports from another module.</p>\n\n<p>The tree is as follows</p>\n\n<pre><code>\u251c\u2500\u2500 USA\n\u251c\u2500\u2500 NewYork\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 Manhattan.py\n\u2502   \u2514\u2500\u2500 Queens.py\n\u251c\u2500\u2500 Atlanta\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 Buckhead.py\n</code></pre>\n\n<p>The code is as follows</p>\n\n<pre><code>#Queens.py\ndef myFunction():\n  print(\"I am in Queens\")\n</code></pre>\n\n<pre><code>#Manhattan.py\nfrom Queens import myFunction\nclass Manhattan():\n\n  def __init__(self):\n    myFunction()\n    print(\"I am in Manhattan\")\n</code></pre>\n\n<p>Now, I want to instantiate an object of class Manhattan in Buckhead</p>\n\n<pre><code>#Buckhead.py\nfrom NewYork.Manhattan import Manhattan\n\nman = Manhattan()\n</code></pre>\n\n<p>I am getting a </p>\n\n<pre><code>ModuleNotFoundError: No module named 'Queens'\n</code></pre>\n\n<p>How do I go about instantiating the Manhttan class that ITSELF imports a function from the Queen module?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 2380, "user_id": 8569209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NuCe6.png?s=128&g=1", "display_name": "Rob Kwasowski", "link": "https://stackoverflow.com/users/8569209/rob-kwasowski"}, "edited": false, "score": 0, "creation_date": 1561582413, "post_id": 56780702, "comment_id": 100116478, "body": "Can you explain a little better? You start with list [1,2,3,4,5] and what is your desired output?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1561582426, "post_id": 56780702, "comment_id": 100116486, "body": "It doesn&#39;t work because <code>append</code> returns None."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1561582632, "post_id": 56780702, "comment_id": 100116552, "body": "Do you mean <code>print([a[0]] + a[2:])</code> (outputs <code>[1, 3, 4, 5]</code>)?"}, {"owner": {"reputation": 305, "user_id": 11354379, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6KB-3ZWphIw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf5Ysksd76a_B9eETupeUA3CY0hyQ/mo/photo.jpg?sz=128", "display_name": "Jackson Ennis", "link": "https://stackoverflow.com/users/11354379/jackson-ennis"}, "edited": false, "score": 0, "creation_date": 1561582824, "post_id": 56780702, "comment_id": 100116618, "body": "Yes, thats my bad."}], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 1, "last_activity_date": 1561582459, "creation_date": 1561582459, "answer_id": 56780754, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list/56780754#56780754", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p><code>append</code> appends to a list and returns <code>None</code>. You should save this new list to a variable and then print it. E.g.</p>\n\n<pre><code>newlist = list() # or just[]\nnewlist.append(0)\nnewlist.extend(a[1:]) # OP had append, but you probably meant \"extend\"\nprint(newlist)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1561582512, "creation_date": 1561582512, "answer_id": 56780765, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list/56780765#56780765", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p>Read the documentation.  <code>append</code> is a <code>list</code> class method that alters the object.  It has no return value; <code>None</code> is the default.  Your expression reduces to</p>\n\n<pre><code>print(None.append([2, 3, 4, 5]))\n</code></pre>\n\n<p>Which, in turn, has a return value of <code>None</code>.\nYou can make your new list simply with</p>\n\n<pre><code>new_list = a[1:]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 1, "last_activity_date": 1561582532, "creation_date": 1561582532, "answer_id": 56780769, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list/56780769#56780769", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p>The <code>append</code> method adds an element to its object but returns <code>None</code>. What you want is the list addition:</p>\n\n<pre><code>print(list() + [0] + [a[1:]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 832404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HyWr.jpg?s=128&g=1", "display_name": "mfessenden", "link": "https://stackoverflow.com/users/832404/mfessenden"}, "is_accepted": false, "score": 1, "last_activity_date": 1561582646, "creation_date": 1561582646, "answer_id": 56780795, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list/56780795#56780795", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p>You'll need to create a new list, and extend it from there:</p>\n\n<pre><code>b = [0]\nb.extend(a[1:]) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": true, "score": 1, "last_activity_date": 1561582827, "creation_date": 1561582827, "answer_id": 56780830, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list/56780830#56780830", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p>Ass @Daniel Roseman said, append function returns None.</p>\n\n<p>If I understand what you want to achieve, create a little function and just do:</p>\n\n<pre><code>a = [1,2,3,4,5]\n\ndef addAndReturn(ls, elem):\n  ls.append(elem)\n  return ls\n\nprint(addAndReturn(addAndReturn(list(), 0), a[1:]))\n</code></pre>\n\n<p>result:</p>\n\n<blockquote>\n  <p>[0, [2, 3, 4, 5]]</p>\n</blockquote>\n"}], "owner": {"reputation": 305, "user_id": 11354379, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6KB-3ZWphIw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf5Ysksd76a_B9eETupeUA3CY0hyQ/mo/photo.jpg?sz=128", "display_name": "Jackson Ennis", "link": "https://stackoverflow.com/users/11354379/jackson-ennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56780830, "answer_count": 5, "score": -1, "last_activity_date": 1561616783, "creation_date": 1561582225, "last_edit_date": 1561616783, "question_id": 56780702, "link": "https://stackoverflow.com/questions/56780702/why-can-you-not-duplicate-a-list-and-lose-the-1st-index-of-the-list", "title": "Why Can You Not Duplicate A List And Lose The 1st Index Of the List?", "body": "<p>I was trying to make a list (for recursive purposes) that would not contain that list's [1] index. However, when I tried doing this, by instantiating an empty list and then appending the rest of the list to it, the output shows that the list is empty. I was wondering if there was a specific reason or concept for why it was not creating the special list that I wanted.</p>\n\n<pre><code>a = [1,2,3,4,5]\nprint(list().append(0).append(a[1:]))\n</code></pre>\n\n<p>The output should be [1,3,4,5] but is instead \"None\".</p>\n\n<p>Sure, I could make a function and piece it all together but that doesn't feel nearly as intuitive or elegant.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 2775246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b8d716097bbcdd0657cea26076fb42?s=128&d=identicon&r=PG", "display_name": "Hans Lehnert", "link": "https://stackoverflow.com/users/2775246/hans-lehnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1561584837, "creation_date": 1561584837, "answer_id": 56781179, "question_id": 56780674, "link": "https://stackoverflow.com/questions/56780674/turtleball-in-python-is-not-staying-consistent-speed-pong/56781179#56781179", "title": "Turtle(Ball) in Python is not staying consistent speed? (Pong)", "body": "<p>From what I can observe, the problem is that when you call the window update function, it doesn't wait until the next frame is shown and therefore, after updating the window, the next step in the while loop is immediately executed before the last screen is shown. This will mean that for every single frame of your screen not only single screen is drawn, but in fact, your program will draw as many as possible. Since your logic is tied to the frames, and since the amount of steps in your while loop your computer can process will depend on external factors (i.e. CPU usage by other programs), the amount of steps processed for every frame shown won't be consistent and results in the behavior you observe. Also this is very inefficient because you are drawing many frames you won't even show!</p>\n\n<p>To get a more consistent behavior you could add a long enough pause into your loop to offset the variability of the computing times and to avoid drawing useless frames. You can do this using <code>time</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import time\n\n# Initialization\n...\n\nwhile True:\n   time.sleep(1 / 60)\n\n   # The rest of your game logic\n   ...\n</code></pre>\n\n<p>You could also tie your logic to elapsed time instead of moving the ball a constant amount each step</p>\n\n<pre><code>last_time = time.perf_counter()\nball_xspeed = 10\n\nwhile True:\n   current_time = time.perf_counter()\n   elapsed_time = current_time - last_time\n   last_time = current_time\n\n   ball.setx(ball.xcor() + ball_xspeed * elapsed_time)\n   ... # Update the rest of the variables\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11656733, "user_type": "registered", "profile_image": "https://graph.facebook.com/2219352591451845/picture?type=large", "display_name": "Beno Terzic", "link": "https://stackoverflow.com/users/11656733/beno-terzic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1561584837, "creation_date": 1561582118, "question_id": 56780674, "link": "https://stackoverflow.com/questions/56780674/turtleball-in-python-is-not-staying-consistent-speed-pong", "title": "Turtle(Ball) in Python is not staying consistent speed? (Pong)", "body": "<p>I programmed Pong using the <strong>Turtle Module</strong> in <strong>Python 3</strong> and the ball does not stay a consistent speed. It will randomly slow down, then speed up, then slow down. It can't be my laptop because if I can run Far Cry 5 perfectly with no issue, then I don't see how an itty bitty Pong game won't work smoothly. It runs a little smoother when I have my laptop running on a charger, but still has some speed up, slow down, speed up issues. </p>\n\n<pre><code>import turtle \n\n# Window Set Up\nwn = turtle.Screen()\nwn.title(\"Pong\")\nwn.bgcolor(\"black\")\nwn.setup(width=800, height=600)\nwn.tracer(0)\n\n# Paddle A \npaddle_a = turtle.Turtle()\npaddle_a.speed(0)\npaddle_a.shape(\"square\")\npaddle_a.shapesize(stretch_len=1, stretch_wid=5)\npaddle_a.color(\"white\")\npaddle_a.penup()\npaddle_a.goto(-350, 0)\n\n# Paddle B\npaddle_b = turtle.Turtle()\npaddle_b.speed(0)\npaddle_b.shape(\"square\")\npaddle_b.shapesize(stretch_len=1, stretch_wid=5)\npaddle_b.color(\"white\")\npaddle_b.penup()\npaddle_b.goto(350, 0)\n\n# Ball\nball = turtle.Turtle()\nball.speed(0)\nball.shape(\"circle\")\nball.color(\"white\")\nball.penup()\nball.goto(0, 0)\nball_dx = .2\nball_dy = .2\n\n# Paddle A Up\ndef paddle_a_up():\n    y = paddle_a.ycor()\n    y += 35\n    paddle_a.sety(y)\n\n# Paddle A Down\ndef paddle_a_down():\n    y = paddle_a.ycor()\n    y -= 35\n    paddle_a.sety(y)\n\n# Paddle B Up\ndef paddle_b_up():\n    y = paddle_b.ycor()\n    y += 35\n    paddle_b.sety(y)\n\n# Paddle B Down\ndef paddle_b_down():\n    y = paddle_b.ycor()\n    y -= 35\n    paddle_b.sety(y)\n\n# Keyboard Bindings\nwn.listen()\nwn.onkeypress(paddle_a_up, \"w\")\nwn.onkeypress(paddle_a_down, \"s\")\nwn.onkeypress(paddle_b_up, \"Up\")\nwn.onkeypress(paddle_b_down, \"Down\")\n\n\n\n\n\n# Main Loop\nwhile True:\n    wn.update()\n\n    # Make The Ball Move\n    ball.setx(ball.xcor() + ball_dx)\n    ball.sety(ball.ycor() + ball_dy)\n\n    # Border Collisions \n    if ball.ycor() &gt; 290:\n        ball_dy *= -1\n    if ball.ycor() &lt; -290:\n        ball_dy *= -1\n    if ball.xcor() &gt; 390:\n        ball.goto(0, 0)\n        ball_dx *= -1\n    if ball.xcor() &lt; -390:\n        ball.goto(0, 0)\n        ball_dx *= -1\n\n    # Paddle Collisions \n    if (ball.xcor() &lt; 350 and ball.xcor() &gt; 340) and (ball.ycor() &lt; paddle_b.ycor() + 50 and ball.ycor() &gt; paddle_b.ycor() - 50):\n        ball.setx(340)\n        ball_dx *= -1\n    if (ball.xcor() &gt; -350 and ball.xcor() &lt; -340) and (ball.ycor() &lt; paddle_a.ycor() + 50 and ball.ycor() &gt; paddle_a.ycor() - 50):\n        ball.setx(-340)\n        ball_dx *= -1\n</code></pre>\n\n<p><a href=\"https://pastebin.com/Y8Mazr5e\" rel=\"nofollow noreferrer\">Pastebin Link</a></p>\n"}, {"tags": ["python", "machine-learning", "keras", "lstm", "recurrent-neural-network"], "comments": [{"owner": {"reputation": 792, "user_id": 6706356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iueaH.jpg?s=128&g=1", "display_name": "viceriel", "link": "https://stackoverflow.com/users/6706356/viceriel"}, "edited": false, "score": 0, "creation_date": 1561582336, "post_id": 56780641, "comment_id": 100116451, "body": "Why you use softmax as activation?"}], "answers": [{"tags": [], "owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "is_accepted": true, "score": 5, "last_activity_date": 1561582597, "creation_date": 1561582597, "answer_id": 56780787, "question_id": 56780641, "link": "https://stackoverflow.com/questions/56780641/how-to-connect-two-lstm-models-in-keras/56780787#56780787", "title": "How to connect two LSTM models in Keras", "body": "<p>By default LSTM only returns it's final output after the last element of a sequence. If you want to chain two together then you need to pass the output after each element of the sequence from the first LSTM to the second. e.g.</p>\n\n<pre><code>model = Sequential()\nmodel.add(LSTM(5, return_sequences=True))\nmodel.add(LSTM(5, activation=\"softmax\"))\n</code></pre>\n\n<p>See the docs for details on how return_sequence works <a href=\"https://keras.io/layers/recurrent/\" rel=\"noreferrer\">https://keras.io/layers/recurrent/</a></p>\n"}], "owner": {"reputation": 3055, "user_id": 94526, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/75cd821af1d77539a3fe6e34cb2b45c9?s=128&d=identicon&r=PG", "display_name": "WolfgangP", "link": "https://stackoverflow.com/users/94526/wolfgangp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "accepted_answer_id": 56780787, "answer_count": 1, "score": 1, "last_activity_date": 1561582597, "creation_date": 1561581975, "question_id": 56780641, "link": "https://stackoverflow.com/questions/56780641/how-to-connect-two-lstm-models-in-keras", "title": "How to connect two LSTM models in Keras", "body": "<p>I want to create a model with two LSTM layers with Keras. The following code however, generates an error:</p>\n\n<pre><code>from keras.models import Sequential\nfrom keras.layers import LSTM, Dropout, Activation\nfrom keras.callbacks import ModelCheckpoint\nfrom keras.utils import to_categorical\n\nmodel = Sequential()\nmodel.add(LSTM(5, activation=\"softmax\"))\nmodel.add(LSTM(5, activation=\"softmax\"))\n\nmodel.compile(loss='categorical_crossentropy', \n              optimizer='adam', \n              metrics=['categorical_accuracy'])\n\n# These values are to be predicted.\ndirections = [-2, -1, 0, 1, 2]\n\n# Sample data. We have three time steps, one \n# feature per timestep, and one resulting value.\ndata = [[[[1], [2], [3]], -1], \n        [[[3], [2], [1]], 2], \n        [[[4], [5], [7]], 1],\n        [[[1], [-1], [10]], -2]]\n\nX = []\ny_ = []\n\n# Now we take 10000 samples from the data above.\nfor i in np.random.choice(len(data), 10000):\n    X.append(data[i][0])\n    y_.append(data[i][1])\n\nX = np.array(X)\ny_ = np.array(y_)\ny = to_categorical(y_ + 2, num_classes=5)\n\nmodel.fit(X, y, \n          epochs=3,\n          validation_data=(X, y))\nprint(model.summary())\n\nloss, acc = model.evaluate(X, y)\n\nprint(\"Loss: {:.2f}\".format(loss))\nprint(\"Accuracy: {:.2f}%\".format(acc*100))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>ValueError: Input 0 is incompatible with layer lstm_10: expected ndim=3, found ndim=2\n</code></pre>\n\n<p>The full error traceback:</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-35-58fa9218c3f3&gt; in &lt;module&gt;\n     31 model.fit(X, y, \n     32           epochs=3,\n---&gt; 33           validation_data=(X, y))\n     34 print(model.summary())\n     35 \n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, **kwargs)\n    950             sample_weight=sample_weight,\n    951             class_weight=class_weight,\n--&gt; 952             batch_size=batch_size)\n    953         # Prepare validation data.\n    954         do_validation = False\n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\training.py in _standardize_user_data(self, x, y, sample_weight, class_weight, check_array_lengths, batch_size)\n    675             # to match the value shapes.\n    676             if not self.inputs:\n--&gt; 677                 self._set_inputs(x)\n    678 \n    679         if y is not None:\n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\training.py in _set_inputs(self, inputs, outputs, training)\n    587                 assert len(inputs) == 1\n    588                 inputs = inputs[0]\n--&gt; 589             self.build(input_shape=(None,) + inputs.shape[1:])\n    590             return\n    591 \n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\sequential.py in build(self, input_shape)\n    219             self.inputs = [x]\n    220             for layer in self._layers:\n--&gt; 221                 x = layer(x)\n    222             self.outputs = [x]\n    223             self._build_input_shape = input_shape\n\nC:\\Anaconda3\\lib\\site-packages\\keras\\layers\\recurrent.py in __call__(self, inputs, initial_state, constants, **kwargs)\n    530 \n    531         if initial_state is None and constants is None:\n--&gt; 532             return super(RNN, self).__call__(inputs, **kwargs)\n    533 \n    534         # If any of `initial_state` or `constants` are specified and are Keras\n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\base_layer.py in __call__(self, inputs, **kwargs)\n    412                 # Raise exceptions in case the input is not compatible\n    413                 # with the input_spec specified in the layer constructor.\n--&gt; 414                 self.assert_input_compatibility(inputs)\n    415 \n    416                 # Collect input shapes to build layer.\n\nC:\\Anaconda3\\lib\\site-packages\\keras\\engine\\base_layer.py in assert_input_compatibility(self, inputs)\n    309                                      self.name + ': expected ndim=' +\n    310                                      str(spec.ndim) + ', found ndim=' +\n--&gt; 311                                      str(K.ndim(x)))\n    312             if spec.max_ndim is not None:\n    313                 ndim = K.ndim(x)\n\nValueError: Input 0 is incompatible with layer lstm_10: expected ndim=3, found ndim=2\n</code></pre>\n\n<p>It seems that the dimensions of the output of the first LSTM layer (supposedly dim=2) does not fit together with the required input dimensions of the second LSTM layer (dim=3 for batch, timesteps, features).</p>\n\n<p>What bugs me is that adding LSTM layers together the way I did it seems to work here for example: <a href=\"https://adventuresinmachinelearning.com/keras-lstm-tutorial/\" rel=\"nofollow noreferrer\">https://adventuresinmachinelearning.com/keras-lstm-tutorial/</a></p>\n\n<p>The model works when I remove the second LSTM layer.</p>\n"}, {"tags": ["javascript", "python", "jquery", "django", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1561582218, "creation_date": 1561582218, "answer_id": 56780698, "question_id": 56780625, "link": "https://stackoverflow.com/questions/56780625/continuously-check-if-file-exists-with-ajax-in-django/56780698#56780698", "title": "Continuously check if file exists with AJAX in Django", "body": "<p>You can use <code>setTimeout</code> to run your Ajax request at regular intervals</p>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 10145953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb44add7c3ab5afc3a32bb59089cb59?s=128&d=identicon&r=PG&f=1", "display_name": "carousallie", "link": "https://stackoverflow.com/users/10145953/carousallie"}, "edited": false, "score": 0, "creation_date": 1561643188, "post_id": 56780847, "comment_id": 100139458, "body": "I am brand new to JavaScript so apologies if this is a dumb question, but what do you mean by <code>add your own flag here to stop interval</code>? Would that be essentially saying <code>when file is complete, clearInterval</code>?"}, {"owner": {"reputation": 322, "user_id": 3251859, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a46f30096c5c9fc08358fdede261ba0?s=128&d=identicon&r=PG&f=1", "display_name": "goudarziha", "link": "https://stackoverflow.com/users/3251859/goudarziha"}, "reply_to_user": {"reputation": 651, "user_id": 10145953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb44add7c3ab5afc3a32bb59089cb59?s=128&d=identicon&r=PG&f=1", "display_name": "carousallie", "link": "https://stackoverflow.com/users/10145953/carousallie"}, "edited": false, "score": 0, "creation_date": 1561648366, "post_id": 56780847, "comment_id": 100142733, "body": "@carousallie yes, that is exactly it. Say the data object being returned has some status of done, you check to make sure that is properly returned, then you can the function clearInterval()"}, {"owner": {"reputation": 651, "user_id": 10145953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb44add7c3ab5afc3a32bb59089cb59?s=128&d=identicon&r=PG&f=1", "display_name": "carousallie", "link": "https://stackoverflow.com/users/10145953/carousallie"}, "edited": false, "score": 0, "creation_date": 1561651976, "post_id": 56780847, "comment_id": 100144687, "body": "So could I do an if-else statement instead? Like <code>success: function (data) {if (data.exists) {alert(&quot;Your file is ready to download!&quot;); clearInterval(checkInterval); } else {alert(&quot;Your report is still being created, please hold.&quot;)}}</code> Or would that not accomplish what I need?"}, {"owner": {"reputation": 322, "user_id": 3251859, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a46f30096c5c9fc08358fdede261ba0?s=128&d=identicon&r=PG&f=1", "display_name": "goudarziha", "link": "https://stackoverflow.com/users/3251859/goudarziha"}, "reply_to_user": {"reputation": 651, "user_id": 10145953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb44add7c3ab5afc3a32bb59089cb59?s=128&d=identicon&r=PG&f=1", "display_name": "carousallie", "link": "https://stackoverflow.com/users/10145953/carousallie"}, "edited": false, "score": 0, "creation_date": 1561652168, "post_id": 56780847, "comment_id": 100144785, "body": "@carousallie yeah you can definitely do that, it&#39;s all the same outcome!"}], "tags": [], "owner": {"reputation": 322, "user_id": 3251859, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a46f30096c5c9fc08358fdede261ba0?s=128&d=identicon&r=PG&f=1", "display_name": "goudarziha", "link": "https://stackoverflow.com/users/3251859/goudarziha"}, "is_accepted": true, "score": 1, "last_activity_date": 1561582937, "creation_date": 1561582937, "answer_id": 56780847, "question_id": 56780625, "link": "https://stackoverflow.com/questions/56780625/continuously-check-if-file-exists-with-ajax-in-django/56780847#56780847", "title": "Continuously check if file exists with AJAX in Django", "body": "<p>You can use setInterval to continually make requests to your backend to see if the file is complete. When it has finished the file, you clear the interval.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var checkInterval = setInterval(isFileComplete, 10000); //10000 is 10 seconds\r\n\r\nfunction isFileComplete() {\r\n\r\n    $.ajax({\r\n    url: '/ajax/check_progress/',\r\n    type: 'HEAD',\r\n    data: {\r\n      'file_exists': 'True'\r\n    },\r\n    dataType: 'json',\r\n    success: function (data) {\r\n      if (data.exists) {\r\n        alert(\"This file is not yet created\");\r\n\r\n        //add your own flag here to stop interval\r\n        clearInterval(checkInterval);\r\n      }\r\n    }\r\n  });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 651, "user_id": 10145953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb44add7c3ab5afc3a32bb59089cb59?s=128&d=identicon&r=PG&f=1", "display_name": "carousallie", "link": "https://stackoverflow.com/users/10145953/carousallie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 56780847, "answer_count": 2, "score": 1, "last_activity_date": 1561582937, "creation_date": 1561581890, "question_id": 56780625, "link": "https://stackoverflow.com/questions/56780625/continuously-check-if-file-exists-with-ajax-in-django", "title": "Continuously check if file exists with AJAX in Django", "body": "<p>I've developed an application in Django where a user goes to a form on a site and enters in an Elasticsearch query, then generating a report for the user to download. It all works fine and dandy, but lately in testing some more queries we've noticed that some return a lot of results which leads to a timeout request. </p>\n\n<p>What we've figured out that we'd like to do is have Django continuously check if a file exists (because it won't be written to the local system until it's completed) to prevent that timeout issue. Additionally, once the file is done being created we want to add a download button so that the user knows it is done. </p>\n\n<p>Following <a href=\"https://simpleisbetterthancomplex.com/tutorial/2016/08/29/how-to-work-with-ajax-request-with-django.html\" rel=\"nofollow noreferrer\">this</a> tutorial, I added a function to my views.py and associated it with a url which is then called by a javascript code block in my html form. Because I am brand new to using AJAX, JQuery, Javascript, and Django I'm not quite sure how to get it to work. Mainly, I'm trying to figure out how to get it to keep checking if the file is done being created yet. If this were just using basic Python I would do a while loop but I'm unclear how to translate that to JavaScript. </p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def check_progress(request):\n    \"\"\"\n    Returns whether document generation is complete or in progress\n    Returns 0 for in-progress, 1 for complete (either due to completion, or error)\n    \"\"\"\n    # check if file exists, return response as a JSON\n    file = \"/report.docx\"\n    data = {\n        \"file_created\": path.exists(file)\n    }\n    return JsonResponse(data)\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from django.urls import path\nfrom . import views\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    path('', views.get_query, name='form'),\n    path('^ajax/check_progress/$', views.check_progress, name='check_progress')\n]  + static(settings.STATIC_URL, document_root=settings.STAT)\n</code></pre>\n\n<p><strong>form.html</strong></p>\n\n<pre><code>{% block javascript %}\n  &lt;script&gt;\n    $(\"#id_username\").change(function () {\n      var username = $(this).val();\n\n      $.ajax({\n        url: '/ajax/check_progress/',\n        type: 'HEAD',\n        data: {\n          'file_exists': 'True'\n        },\n        dataType: 'json',\n        success: function (data) {\n          if (data.exists) {\n            alert(\"This file is not yet created\");\n          }\n        }\n      });\n\n    });\n  &lt;/script&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1561582009, "post_id": 56780614, "comment_id": 100116305, "body": "Do you mean like this? <a href=\"https://regex101.com/r/vaxDcU/1\" rel=\"nofollow noreferrer\">regex101.com/r/vaxDcU/1</a> Btw you could also type <code>genNode</code> instead of using the character class notation <code>[g][e][n][N][o][d][e]</code>"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1561582058, "post_id": 56780614, "comment_id": 100116328, "body": "Maybe <a href=\"https://ideone.com/36N9cw\" rel=\"nofollow noreferrer\">ideone.com/36N9cw</a>? Do you need to replace the match, too?"}, {"owner": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "reply_to_user": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1561582119, "post_id": 56780614, "comment_id": 100116349, "body": "@Thefourthbird no, I updated my request, now it is more clear, I just want <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code> gone in all cases"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1561582224, "post_id": 56780614, "comment_id": 100116393, "body": "Like <a href=\"https://ideone.com/ydIyzU\" rel=\"nofollow noreferrer\">ideone.com/ydIyzU</a>? <code>print(re.sub(r&#39;(genNode\\()\\[([0-9,]+)](\\))&#39;, r&#39;\\1\\2\\3&#39;, line))</code>"}, {"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1561582247, "post_id": 56780614, "comment_id": 100116410, "body": "@Code_Control_jxie0755 Then like this perhaps <code>(genNode\\()\\[(\\d+(?:,\\d+)*)\\](?=\\))</code><a href=\"https://regex101.com/r/vaxDcU/2\" rel=\"nofollow noreferrer\">regex101.com/r/vaxDcU/2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "edited": false, "score": 0, "creation_date": 1561582815, "post_id": 56780675, "comment_id": 100116616, "body": "so the second parameter <code>r&#39;\\1\\2&#39;</code> means we only take the pattern&#39;s two group, so that we skipped the <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code> that are not included in any group, is that right?"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "edited": false, "score": 0, "creation_date": 1561582858, "post_id": 56780675, "comment_id": 100116632, "body": "@Code_Control_jxie0755 Spot on."}, {"owner": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "edited": false, "score": 0, "creation_date": 1561582973, "post_id": 56780675, "comment_id": 100116668, "body": "So, if additionally, If I want to add <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code> (reverse operation), I can try the regex pattern, the use <code>r&#39;\\1\\[\\2\\]&#39;</code> to in <code>re.sub</code>?"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "edited": false, "score": 0, "creation_date": 1561583114, "post_id": 56780675, "comment_id": 100116724, "body": "@Code_Control_jxie0755 Nope; no escaping: <code>r&#39;[\\1]&#39;</code>."}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1561582644, "last_edit_date": 1561582644, "creation_date": 1561582118, "answer_id": 56780675, "question_id": 56780614, "link": "https://stackoverflow.com/questions/56780614/how-to-replace-modify-a-pattern-by-regular-expression-in-python/56780675#56780675", "title": "How to replace/modify a pattern by regular expression in python?", "body": "<p>You can do:</p>\n\n<pre><code>re.sub(r'(genNode\\()\\[([^]]+)\\]', r'\\1\\2', line)\n</code></pre>\n\n<ul>\n<li><code>(genNode\\()</code> matches <code>genNode(</code> and put it in captured group 1</li>\n<li><code>\\[</code> matches literal <code>[</code></li>\n<li><code>([^]]+)</code> matches upto next <code>]</code>, and put it in captured group 2</li>\n<li><code>\\]</code> matches literal <code>]</code></li>\n</ul>\n\n<p>In the replacement, we've used the captured groups only i.e. dropped <code>[</code> and <code>]</code>.</p>\n\n<hr>\n\n<p>You can get rid of the first captured group by using a <em>zero-width positive lookbehind</em> to match the portion before <code>[</code>:</p>\n\n<pre><code>re.sub(r'(?&lt;=genNode\\()\\[([^]]+)\\]', r'\\1', line)\n</code></pre>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [444]: line = \"assert Solution().oddEvenList(genNode([2,1,3,5,6,4,7])) == genNode([2,3,6,7,1,5,4]), 'Example 2'\"                                                                                         \n\nIn [445]: re.sub(r'(genNode\\()\\[([^]]+)\\]', r'\\1\\2', line)                                                                                                                                                  \nOut[445]: \"assert Solution().oddEvenList(genNode(2,1,3,5,6,4,7)) == genNode(2,3,6,7,1,5,4), 'Example 2'\"\n\nIn [446]: re.sub(r'(?&lt;=genNode\\()\\[([^]]+)\\]', r'\\1', line)                                                                                                                                                 \nOut[446]: \"assert Solution().oddEvenList(genNode(2,1,3,5,6,4,7)) == genNode(2,3,6,7,1,5,4), 'Example 2'\"\n</code></pre>\n\n<hr>\n\n<p>FWIW, using typical non-greedy pattern <code>.*?</code> instead of <code>[^]]+</code> would work as well:</p>\n\n<pre><code>re.sub(r'(?&lt;=genNode\\()\\[(.*?)\\]', r'\\1', line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": false, "score": 1, "last_activity_date": 1561583314, "last_edit_date": 1561583314, "creation_date": 1561582727, "answer_id": 56780812, "question_id": 56780614, "link": "https://stackoverflow.com/questions/56780614/how-to-replace-modify-a-pattern-by-regular-expression-in-python/56780812#56780812", "title": "How to replace/modify a pattern by regular expression in python?", "body": "<p>Instead of writing <code>[g][e][n][N][o][d][e][(]</code> you could write <code>getNode\\(</code></p>\n\n<p>The current character class that you use <code>[0-9\\,\\s]*</code> matches 0+ times any of the listed which could also for example match only comma's and does not make sure that there are comma separated digits.</p>\n\n<p>To match the comma delimiter integers, you could match 1+ digits with a repeating group to match a comma and 1+ digits.</p>\n\n<p>At the end use a positive lookahead to assert for the closing parenthesis or capture it in group 3 and also use that in the replacement.</p>\n\n<p>With this pattern use <code>r'\\1\\2</code> as the replacement.</p>\n\n<pre><code>(genNode\\()\\[(\\d+(?:,\\d+)*)\\](?=\\))\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li><code>(genNode\\()</code> Capture in group 1 matching <code>genNode(</code></li>\n<li><code>\\[</code> Match <code>[</code></li>\n<li><code>(</code> Capturing group 2\n\n<ul>\n<li><code>\\d+(?:,\\d+)*</code> Match 1+ digits and repeat 0+ times a comma and 1+ digits (to also support a single digit)</li>\n</ul></li>\n<li><code>)</code> Close group 2</li>\n<li><code>\\]</code> Match <code>]</code></li>\n<li><code>(?=\\))</code> Positive lookahead, assert what is on the right is a closing parenthesis <code>)</code></li>\n</ul>\n\n<p><a href=\"https://ideone.com/ah0mL7\" rel=\"nofollow noreferrer\">Python demo</a> | <a href=\"https://regex101.com/r/20G9Kj/1/\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n\n<p><strong>For example</strong></p>\n\n<pre><code>import re\n\nregex = r\"(genNode\\()\\[(\\d+(?:,\\d+)*)\\](?=\\))\"\nline = \"assert Solution().oddEvenList(genNode([2,1,3,5,6,4,7])) == genNode([2,3,6,7,1,5,4]), 'Example 2'\"\nresult = re.sub(regex, r\"\\1\\2\", line)\n\nif result:\n    print (result)\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>assert Solution().oddEvenList(genNode(2,1,3,5,6,4,7)) == genNode(2,3,6,7,1,5,4), 'Example 2'\n</code></pre>\n"}], "owner": {"reputation": 1492, "user_id": 8435726, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Hc56D.png?s=128&g=1", "display_name": "jxie0755", "link": "https://stackoverflow.com/users/8435726/jxie0755"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 56780675, "answer_count": 2, "score": 4, "last_activity_date": 1561626550, "creation_date": 1561581850, "last_edit_date": 1561626550, "question_id": 56780614, "link": "https://stackoverflow.com/questions/56780614/how-to-replace-modify-a-pattern-by-regular-expression-in-python", "title": "How to replace/modify a pattern by regular expression in python?", "body": "<p>Assume that I want to modify all patterns in a script, take one line as an example:</p>\n\n<pre><code>line = \"assert Solution().oddEvenList(genNode([2,1,3,5,6,4,7])) == genNode([2,3,6,7,1,5,4]), 'Example 2'\"\n</code></pre>\n\n<p>Notice that function <code>genNode</code> is taking <code>List[int]</code> as the parameter. What I want is to remove the List, and keep the all the integers in the list, so that the function is actually taking <code>*nums</code> as the parameters.</p>\n\n<p>Expecting:</p>\n\n<pre><code>line = \"assert Solution().oddEvenList(genNode(2,1,3,5,6,4,7)) == genNode(2,3,6,7,1,5,4), 'Example 2'\"\n</code></pre>\n\n<p>I've come up with a <code>re</code> pattern </p>\n\n<pre><code>r\"([g][e][n][N][o][d][e][(])([[][0-9\\,\\s]*[]])([)])\"\n</code></pre>\n\n<p>but I am not sure how I could use this... I can't get <code>re.sub</code> to work as it requires me to replace with a fixed string.</p>\n\n<p>How can I achieve my desired result?</p>\n"}, {"tags": ["python", "python-3.x", "for-loop", "while-loop"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1561581809, "post_id": 56780568, "comment_id": 100116224, "body": "shouldn&#39;t you use <code>y*z</code> instead of <code>x*z</code>?"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1561581821, "post_id": 56780568, "comment_id": 100116231, "body": "It&#39;s a 2D chart so you should only need <code>x</code> and <code>y</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1561581896, "post_id": 56780568, "comment_id": 100116255, "body": "@JohnnyMopp <code>x</code> is for the heading line, <code>y</code> and <code>z</code> are for the chart."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1561581968, "post_id": 56780568, "comment_id": 100116282, "body": "You need to print <code>X\\t</code> before the first loop, to create the cross in the corner."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11705203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045438230054b75dbebbbe99ca0313d4?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11705203/megan"}, "edited": false, "score": 0, "creation_date": 1561582361, "post_id": 56780655, "comment_id": 100116461, "body": "I have to create two charts with the for and while loop. I have already done the for loop so I am just stuck on the while loop. And switching it to y*z did help but the chart order is still wacky."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 21, "user_id": 11705203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045438230054b75dbebbbe99ca0313d4?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11705203/megan"}, "edited": false, "score": 0, "creation_date": 1561582399, "post_id": 56780655, "comment_id": 100116474, "body": "@Megan: as said, you should multiply <code>y*z</code>, and increment <code>y</code> <i>after</i> the inner <code>while</code> loop."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1561583143, "post_id": 56780655, "comment_id": 100116733, "body": "It still does not work well. <code>1</code> (alone) on the third line and <code>1 2 3...</code> on the next one, etc"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1561583198, "post_id": 56780655, "comment_id": 100116756, "body": "Also, I would replace <code>print(&#39;\\n&#39;)</code> with <code>print(&#39;&#39;)</code> for a more compact formatting"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 2, "last_activity_date": 1561583215, "last_edit_date": 1561583215, "creation_date": 1561582037, "answer_id": 56780655, "question_id": 56780568, "link": "https://stackoverflow.com/questions/56780568/how-to-make-a-while-loop-for-a-multiplication-table/56780655#56780655", "title": "How to make a while loop for a multiplication table?", "body": "<p><strong>Short answer:</strong> you use <code>x*z</code> when you calculate the product, but you use <code>y</code> as a \"row counter\" and <code>z</code> as a \"column counter\" so it should be <code>y*z</code>. Furthermore you should increment the <code>y</code> <em>after</em> the inner <code>while</code> loop.</p>\n\n<p>Since you use <code>y</code> as the \"row counter\" and <code>z</code> as the \"column counter\", you should print <code>y * z</code> as the answer of that specific multiplication. Furthermore you increment <code>y</code> too soon: you should increment it after the <code>while</code> loop, and reset <code>z</code> to 1, like:</p>\n\n<pre><code>print('While Loop')\nprint(<b>'x'</b>, end='\\t')  # print a cross\n\nx = 1\nwhile x &lt;= 12:\n     print(x ,end='\\t')\n     x += 1\n\n<b>y = 1</b>\nwhile y &lt;= 12:\n     print('')\n     print(y,<b>end='\\t'</b>)\n     <b>z = 1</b>  # reset to 1\n     while z &lt;= 12:\n          print(<b>y*z</b> ,end='\\t')  # use y * z\n          z += 1\n     <b>y += 1</b>  # incerement after while loop\nprint()</code></pre>\n\n<h1>Using <code>for</code> loops</h1>\n\n<p>There are also some minor formatting issues. For example you should first <code>print('X', end='\\t')</code> since otherwise the columns do not match correctly.</p>\n\n<p>That being said, you make things way harder than these should be. You can make use of a <code>for</code> loop instead, like:</p>\n\n<pre><code>print('x', end='\\t')\nprint('\\t'.join(str(i) for i in range(1, 13)))\n\nfor r in range(1, 13):\n    print(r, end='\\t')\n    print('\\t'.join(str(r*c) for c in range(1, 13)))\n</code></pre>\n\n<p>or in a function:</p>\n\n<pre><code>def mulgrid(n):\n    print('x', end='\\t')\n    print('\\t'.join(str(i) for i in range(1, n+1)))\n    for r in range(1, n+1):\n        print(r, end='\\t')\n        print('\\t'.join(str(r*c) for c in range(1, n+1)))\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; mulgrid(1)\nx   1\n1   1\n&gt;&gt;&gt; mulgrid(2)\nx   1   2\n1   1   2\n2   2   4\n&gt;&gt;&gt; mulgrid(5)\nx   1   2   3   4   5\n1   1   2   3   4   5\n2   2   4   6   8   10\n3   3   6   9   12  15\n4   4   8   12  16  20\n5   5   10  15  20  25\n&gt;&gt;&gt; mulgrid(7)\nx   1   2   3   4   5   6   7\n1   1   2   3   4   5   6   7\n2   2   4   6   8   10  12  14\n3   3   6   9   12  15  18  21\n4   4   8   12  16  20  24  28\n5   5   10  15  20  25  30  35\n6   6   12  18  24  30  36  42\n7   7   14  21  28  35  42  49\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11705203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045438230054b75dbebbbe99ca0313d4?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11705203/megan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2512, "favorite_count": 1, "accepted_answer_id": 56780655, "answer_count": 1, "score": 2, "last_activity_date": 1561583215, "creation_date": 1561581654, "last_edit_date": 1561581722, "question_id": 56780568, "link": "https://stackoverflow.com/questions/56780568/how-to-make-a-while-loop-for-a-multiplication-table", "title": "How to make a while loop for a multiplication table?", "body": "<p>I am trying to create a multiplication chart with a while loop for an assignment but I am having a hard time getting the expected output.</p>\n\n<p>I have tried everything I can think of. I am new to the coding world.</p>\n\n<pre><code>#While loop\nprint('While Loop')\nprint()\nx = 1\ny = 1\nz = 1\nwhile x &lt;= 12:\n     print(x ,end='\\t')\n     x += 1\n\nwhile y &lt;= 12:\n     print('\\n')\n     print(y,'\\t')\n     y += 1 \n     while z &lt;= 12:\n          print(x*z ,end='\\t')\n          z += 1\n     z = 0\n     x = 1\n</code></pre>\n\n<p>I expect the output to be\n<img src=\"https://i.stack.imgur.com/j7XpG.png\" alt=\"correctchart\"></p>\n\n<p>but I get</p>\n\n<p><img src=\"https://i.stack.imgur.com/SlHfD.png\" alt=\"incorrectchart\">.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "truncate"], "comments": [{"owner": {"reputation": 11257, "user_id": 10197418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/be8Y6.jpg?s=128&g=1", "display_name": "MrFuppes", "link": "https://stackoverflow.com/users/10197418/mrfuppes"}, "edited": false, "score": 0, "creation_date": 1596455563, "post_id": 56780561, "comment_id": 111807412, "body": "related: <a href=\"https://stackoverflow.com/questions/8595973/truncate-to-three-decimals-in-python/57097311\" title=\"truncate to three decimals in python\">stackoverflow.com/questions/8595973/&hellip;</a>"}, {"owner": {"reputation": 11257, "user_id": 10197418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/be8Y6.jpg?s=128&g=1", "display_name": "MrFuppes", "link": "https://stackoverflow.com/users/10197418/mrfuppes"}, "edited": false, "score": 0, "creation_date": 1596455573, "post_id": 56780561, "comment_id": 111807417, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/56782394/truncate-decimal-places-of-values-within-a-pandas-df\">Truncate decimal places of values within a pandas df</a>"}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 11661267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656a836be0c93bfb587ed3b98e56647a?s=128&d=identicon&r=PG&f=1", "display_name": "geistmate", "link": "https://stackoverflow.com/users/11661267/geistmate"}, "edited": false, "score": 2, "creation_date": 1561583960, "post_id": 56780981, "comment_id": 100117045, "body": "Alright yeah, these are most of the answers I found. I was wondering if there was some pandas way to do it, but this should work for now. Thank you!"}, {"owner": {"reputation": 11257, "user_id": 10197418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/be8Y6.jpg?s=128&g=1", "display_name": "MrFuppes", "link": "https://stackoverflow.com/users/10197418/mrfuppes"}, "edited": false, "score": 0, "creation_date": 1596455662, "post_id": 56780981, "comment_id": 111807448, "body": "First of all: this will round to 3 decimal places, not truncate! Other than that, we have <code>f-strings</code> by now in Python, so <code>float(f&quot;{x:.3f}&quot;)</code> seems more appropriate to me"}], "tags": [], "owner": {"reputation": 361, "user_id": 3254815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ba99cb137280ab537932bc9557ee49?s=128&d=identicon&r=PG&f=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/3254815/norman"}, "is_accepted": true, "score": 2, "last_activity_date": 1561583665, "creation_date": 1561583665, "answer_id": 56780981, "question_id": 56780561, "link": "https://stackoverflow.com/questions/56780561/pandas-dataframe-how-to-cut-off-float-decimal-points-without-rounding/56780981#56780981", "title": "Pandas Dataframe How to cut off float decimal points without rounding?", "body": "<p>As suggested <a href=\"https://stackoverflow.com/questions/8595973/truncate-to-three-decimals-in-python/8595991\">here</a> you can do:</p>\n\n<pre><code>x = 1.123456\nfloat( '%.3f'%(x) )\n</code></pre>\n\n<p>if you want more decimal places, just change the 3 with any number you need.</p>\n"}, {"comments": [{"owner": {"reputation": 11257, "user_id": 10197418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/be8Y6.jpg?s=128&g=1", "display_name": "MrFuppes", "link": "https://stackoverflow.com/users/10197418/mrfuppes"}, "edited": false, "score": 1, "creation_date": 1596455905, "post_id": 56781997, "comment_id": 111807526, "body": "in contrast to the accepted answer, this actually accomplishes what the OP asks for (&quot;cut off&quot;, i.e. <i>truncate</i> to 3 decimal places)."}], "tags": [], "owner": {"reputation": 556, "user_id": 10964685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfc3c9b4878cb5064b260dcbdd98de?s=128&d=identicon&r=PG&f=1", "display_name": "jonboy", "link": "https://stackoverflow.com/users/10964685/jonboy"}, "is_accepted": false, "score": 2, "last_activity_date": 1561591244, "last_edit_date": 1561591244, "creation_date": 1561590583, "answer_id": 56781997, "question_id": 56780561, "link": "https://stackoverflow.com/questions/56780561/pandas-dataframe-how-to-cut-off-float-decimal-points-without-rounding/56781997#56781997", "title": "Pandas Dataframe How to cut off float decimal points without rounding?", "body": "<pre><code>import math\n\nvalue1 = 1.1236\nvalue2 = 1.1266\n\nvalue1 = math.trunc(1000 * value1) / 1000;\nvalue2 = math.trunc(1000 * value2) / 1000;\n\n#value1 output\n1.123\n\n#value2 output\n1.126\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 772, "user_id": 8969601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8aedb3292ffd9df14960d7c85860d78?s=128&d=identicon&r=PG&f=1", "display_name": "mikey", "link": "https://stackoverflow.com/users/8969601/mikey"}, "is_accepted": false, "score": 2, "last_activity_date": 1597291716, "last_edit_date": 1597291716, "creation_date": 1597288365, "answer_id": 63387601, "question_id": 56780561, "link": "https://stackoverflow.com/questions/56780561/pandas-dataframe-how-to-cut-off-float-decimal-points-without-rounding/63387601#63387601", "title": "Pandas Dataframe How to cut off float decimal points without rounding?", "body": "<p>You may want to use numpy.trunc:</p>\n<pre><code>import numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame([[1.2366, 1.2310], [1, 1]])\ndf1 = np.trunc(1000 * df) / 1000\nprint(df1, type(df1))\n#        0      1\n# 0  1.236  1.231\n# 1  1.000  1.000 &lt;class 'pandas.core.frame.DataFrame'&gt;\n</code></pre>\n<p>Note that df1 is still a DataFrame not a numpy.array</p>\n"}], "owner": {"reputation": 405, "user_id": 11661267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656a836be0c93bfb587ed3b98e56647a?s=128&d=identicon&r=PG&f=1", "display_name": "geistmate", "link": "https://stackoverflow.com/users/11661267/geistmate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "accepted_answer_id": 56780981, "answer_count": 3, "score": 4, "last_activity_date": 1597291716, "creation_date": 1561581633, "question_id": 56780561, "link": "https://stackoverflow.com/questions/56780561/pandas-dataframe-how-to-cut-off-float-decimal-points-without-rounding", "title": "Pandas Dataframe How to cut off float decimal points without rounding?", "body": "<p>I have longitude and latitude in two dataframes that are close together. If I run an exact similarity check such as</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>test_similar = test1_latlon.loc[~test1_latlon['cr'].isin(test2_latlon['cr'])]\n</code></pre>\n\n<p>I get a lot of failures because a lot of the numbers are off at the 5th decimal place. I want to truncate at after the 3rd decimal. I've seen people format so it shows up truncated, but I want to change the actual value. Using <code>round()</code> rounds off the data and I get even more errors, so is there a way to just drop after 3 decimal points? </p>\n"}, {"tags": ["python", "user-interface", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561641168, "post_id": 56780712, "comment_id": 100138062, "body": "Thank you for your answer. But it does not insert data to treeview in each column but it does insert to each row(sort down). And when I delete some data, it is not deleted in new building program."}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "reply_to_user": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561643953, "post_id": 56780712, "comment_id": 100139950, "body": "Well, I guess a pickle solution from above will suit your needs better."}, {"owner": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561660930, "post_id": 56780712, "comment_id": 100148452, "body": "Yes, I solve mine. But i think json is another good choice for this problem. I&#39;ll try to continue from yours. However, Thank you for answer."}, {"owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "reply_to_user": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561661792, "post_id": 56780712, "comment_id": 100148820, "body": "If you&#39;re going to delete particular items you&#39;ll either need the <code>index</code> element to be saved too or you can just count them inline and delete from json. The routine could be to load json, del data[index], and then dump json back. That function should be placed side by side to populate and called on the delete button callback."}], "tags": [], "owner": {"reputation": 3005, "user_id": 11703358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pIOl.png?s=128&g=1", "display_name": "ipaleka", "link": "https://stackoverflow.com/users/11703358/ipaleka"}, "is_accepted": false, "score": 0, "last_activity_date": 1561599402, "last_edit_date": 1561599402, "creation_date": 1561582285, "answer_id": 56780712, "question_id": 56780531, "link": "https://stackoverflow.com/questions/56780531/how-to-save-information-from-the-program-then-use-it-to-show-in-program-again-s/56780712#56780712", "title": "How to save information from the program then use it to show in program again (simple programming)", "body": "<p>Add following code at the end of <code>addit</code> function (move imports at the top of the module):</p>\n\n<pre><code>import os\nimport json\n\ndef addit():\n    # ...\n    with open(os.path.join(os.path.dirname(__file__), \"mydata.json\"), \"a\") as data_file:\n        json.dump(info, data_file)\n</code></pre>\n\n<p>and create another function:</p>\n\n<pre><code>def populate():\n    with open(os.path.join(os.path.dirname(__file__), \"mydata.json\"), \"r\") as data_file:\n        info = json.load(data_file)\n    for elem in info:\n        tree.insert('','end',values=elem)\n</code></pre>\n\n<p>and call it before mainloop call.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561640661, "post_id": 56781208, "comment_id": 100137686, "body": "Great! It&#39;s work. Thank you. Can you explain some code,you added ? may be the concept for each part of them."}, {"owner": {"reputation": 413, "user_id": 8313460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z5kkMsqri4k/AAAAAAAAAAI/AAAAAAAAHQM/5p594OQaToc/photo.jpg?sz=128", "display_name": "Willian Vieira", "link": "https://stackoverflow.com/users/8313460/willian-vieira"}, "reply_to_user": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "edited": false, "score": 0, "creation_date": 1561652869, "post_id": 56781208, "comment_id": 100145105, "body": "Hi ADSLsatang, first when the app is closed file data.pickle is created, and data is dumped using pickle serialization, then when application start in <code>try</code> block I tried read the file, if doesn&#39;t exists file then <code>expect</code> block pass silent, else pickle reads the file and add items in TreeView to know more about pickle serialization see this link <a href=\"https://rushter.com/blog/pickle-serialization-internals/\" rel=\"nofollow noreferrer\">rushter.com/blog/pickle-serialization-internals</a>"}], "tags": [], "owner": {"reputation": 413, "user_id": 8313460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z5kkMsqri4k/AAAAAAAAAAI/AAAAAAAAHQM/5p594OQaToc/photo.jpg?sz=128", "display_name": "Willian Vieira", "link": "https://stackoverflow.com/users/8313460/willian-vieira"}, "is_accepted": true, "score": 2, "last_activity_date": 1561584935, "creation_date": 1561584935, "answer_id": 56781208, "question_id": 56780531, "link": "https://stackoverflow.com/questions/56780531/how-to-save-information-from-the-program-then-use-it-to-show-in-program-again-s/56781208#56781208", "title": "How to save information from the program then use it to show in program again (simple programming)", "body": "<p>Try it using pickle.</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk, messagebox\nimport webbrowser as web\nimport pickle\n\n\ndef addit() :\n    web = website.get()\n    us = user.get()\n    pas = password.get()\n    et = etc.get()\n\n    info = [web,us,pas,'*'+et]\n    tree.insert('','end',values=info)\n\ndef deleteit():\n    item = tree.selection()\n    tree.delete(item)\n\ndef contact():\n    url='https://bit.ly/'\n    web.open(url)\n\ndef on_closing():\n    if messagebox.askokcancel(\"Quit\", \"Do you want to quit?\"):\n        x=[tree.item(x)['values'] for x in tree.get_children()]\n        filehandler = open('data.pickle', 'wb')\n        pickle.dump(x,filehandler)\n        filehandler.close()\n        window.destroy()\n\n\n#----------------------------------------------\n\nwindow = Tk()\nwindow.geometry()\nwindow.title('Password \\'s Book')\nwindow.iconbitmap('icon.ico')\n\n\nmenu=Menu(window)\nmenucontact = Menu(window, tearoff=0)\nmenucontact.add_command(label='Contact us',command = contact)\n\nmenu.add_cascade(label='Contact us',menu=menucontact)\nwindow.config(menu=menu)\n\n#---------------Variables----------------------\nwebsite = StringVar()\nuser = StringVar()\npassword = StringVar()\netc = StringVar()\n\n\n#-----------------Frame--------------------------\nF1 = LabelFrame(window,text='Password\\'s Book')\nF1.grid(row=0,column=0,padx=3,pady=3)\n\n#-------Buttons and EntryBlanks-------------------\nLF1 =ttk.Label(F1,text='Website')\nLF1.grid(row=0,column=0,padx=10,pady=5)\nEF1 = ttk.Entry(F1,textvariable=website)\nEF1.grid(row=0,column=1,padx=10,pady=5)\n\nLF2 =ttk.Label(F1,text='Username')\nLF2.grid(row=1,column=0,padx=10,pady=5)\nEF2 = ttk.Entry(F1,textvariable=user)\nEF2.grid(row=1,column=1,padx=10,pady=5)\n\nLF3 =ttk.Label(F1,text='Password')\nLF3.grid(row=2,column=0,padx=10,pady=5)\nEF3= ttk.Entry(F1,textvariable=password)\nEF3.grid(row=2,column=1,padx=10,pady=5)\n\nLF4 =ttk.Label(F1,text='etc.')\nLF4.grid(row=3,column=0,padx=10,pady=5)\nEF4= ttk.Entry(F1,textvariable=etc)\nEF4.grid(row=3,column=1,padx=10,pady=5)\n\nB1 = ttk.Button(F1,text='Add',width=18 ,command= addit )\nB1.grid(row=4 ,column=1,pady= 5,padx=10)\n\nB2 = ttk.Button(F1,text='Delete',command= deleteit )\nB2.grid(row=4 ,column=0,pady= 5,padx=5)\n\n#LF2 = LabelFrame(window,text='This is list')\n#LF2.grid(row=5,column=0)\n\n\n#----------TreeViewlist----------------------\nHeader =['Website','Username','Password','etc']\n\ntree=ttk.Treeview(window, height=15,column=Header , show='headings')\ntree.grid(row=6,column=0,padx=5,pady=5)\n\n\n#------------Add Header---------------\nfor col in Header :\n    tree.column(col,width=80)\n    tree.heading(col,text=col.title())\n\nitems = []\ntry:\n    filehandler = open('data.pickle', 'rb')\n    items = pickle.load(filehandler)\n    filehandler.close()\nexcept:\n    pass\n\nfor item in items:\n    tree.insert('','end',values=item)\n\nwindow.protocol(\"WM_DELETE_WINDOW\", on_closing)\nwindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11692352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoFR.jpg?s=128&g=1", "display_name": "ADSLsatang", "link": "https://stackoverflow.com/users/11692352/adslsatang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56781208, "answer_count": 2, "score": 0, "last_activity_date": 1561599402, "creation_date": 1561581445, "question_id": 56780531, "link": "https://stackoverflow.com/questions/56780531/how-to-save-information-from-the-program-then-use-it-to-show-in-program-again-s", "title": "How to save information from the program then use it to show in program again (simple programming)", "body": "<p>I have a user-interface, I made. It has Entry form and Treeview section. When I entry information, it show on the treeview (table with 4 column). But when I close the built gui, Those information disappear then when I build again no information show in treeview. I don't want to send information to data server or any clouds, I need save it in my local drive or local folder that this program locate.</p>\n\n<pre><code>#\nfrom tkinter import *\nfrom tkinter import ttk\nimport webbrowser as web\n\ndef addit() :\n    web = website.get()\n    us = user.get()\n    pas = password.get()\n    et = etc.get()\n\n    info = [web,us,pas,'*'+et]\n    tree.insert('','end',values=info)\n\ndef deleteit():\n    item = tree.selection()\n    tree.delete(item)\n\ndef contact():\n    url='https://bit.ly/'\n    web.open(url)\n\n#----------------------------------------------\n\nwindow = Tk()\nwindow.geometry()\nwindow.title('Password \\'s Book')\nwindow.iconbitmap('icon.ico')\n\n\nmenu=Menu(window)\nmenucontact = Menu(window, tearoff=0)\nmenucontact.add_command(label='Contact us',command = contact)\n\nmenu.add_cascade(label='Contact us',menu=menucontact)\nwindow.config(menu=menu)\n\n\n#---------------Variables----------------------\nwebsite = StringVar()\nuser = StringVar()\npassword = StringVar()\netc = StringVar()\n\n\n#-----------------Frame--------------------------\nF1 = LabelFrame(window,text='Password\\'s Book')\nF1.grid(row=0,column=0,padx=3,pady=3)\n\n#-------Buttons and EntryBlanks-------------------\nLF1 =ttk.Label(F1,text='Website')\nLF1.grid(row=0,column=0,padx=10,pady=5)\nEF1 = ttk.Entry(F1,textvariable=website)\nEF1.grid(row=0,column=1,padx=10,pady=5)\n\nLF2 =ttk.Label(F1,text='Username')\nLF2.grid(row=1,column=0,padx=10,pady=5)\nEF2 = ttk.Entry(F1,textvariable=user)\nEF2.grid(row=1,column=1,padx=10,pady=5)\n\nLF3 =ttk.Label(F1,text='Password')\nLF3.grid(row=2,column=0,padx=10,pady=5)\nEF3= ttk.Entry(F1,textvariable=password)\nEF3.grid(row=2,column=1,padx=10,pady=5)\n\nLF4 =ttk.Label(F1,text='etc.')\nLF4.grid(row=3,column=0,padx=10,pady=5)\nEF4= ttk.Entry(F1,textvariable=etc)\nEF4.grid(row=3,column=1,padx=10,pady=5)\n\nB1 = ttk.Button(F1,text='Add',width=18 ,command= addit )\nB1.grid(row=4 ,column=1,pady= 5,padx=10)\n\nB2 = ttk.Button(F1,text='Delete',command= deleteit )\nB2.grid(row=4 ,column=0,pady= 5,padx=5)\n\n#LF2 = LabelFrame(window,text='This is list')\n#LF2.grid(row=5,column=0)\n\n\n#----------TreeViewlist----------------------\nHeader =['Website','Username','Password','etc']\n\ntree=ttk.Treeview(window, height=15,column=Header , show='headings')\ntree.grid(row=6,column=0,padx=5,pady=5)\n\n\n#------------Add Header---------------\nfor col in Header :\n    tree.column(col,width=80)\n    tree.heading(col,text=col.title())\n\n\nwindow.mainloop()\n</code></pre>\n\n<p>These is a simple program that I created for my personal life. If you have some suggestions to this concept, please leave it below</p>\n"}, {"tags": ["python", "mysql", "django", "python-3.x"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1561581296, "post_id": 56780488, "comment_id": 100116021, "body": "This looks like a firewall issue."}, {"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1561582451, "post_id": 56780488, "comment_id": 100116498, "body": "@WillemVanOnsem So how could I fix this error?"}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "edited": false, "score": 0, "creation_date": 1561650235, "post_id": 56781773, "comment_id": 100143818, "body": "I am pretty sure the hostname and port are correct because I can connect to the server in terminal. Perhaps I have a firewall problem. Thank you for the quick answer!"}], "tags": [], "owner": {"reputation": 2500, "user_id": 1927444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8iz3I.png?s=128&g=1", "display_name": "Pablo Recalde", "link": "https://stackoverflow.com/users/1927444/pablo-recalde"}, "is_accepted": true, "score": 0, "last_activity_date": 1561588898, "last_edit_date": 1561588898, "creation_date": 1561588782, "answer_id": 56781773, "question_id": 56780488, "link": "https://stackoverflow.com/questions/56780488/after-connecting-to-remote-database-migrating-gives-error-errno61-connection/56781773#56781773", "title": "After connecting to remote database, migrating gives error: Errno61, Connection Refused", "body": "<p>The error comes from the <a href=\"https://www.mysql.com/products/connector/\" rel=\"nofollow noreferrer\">MySQLConnector</a></p>\n\n<p>\"Can't connect to MySQL server on 'masspike.ctqk1lhawxna.us-west-2.rds.amazonaws.com' ([Errno 61] Connection refused)\" </p>\n\n<p>So this is a <strong>networking</strong> problem in which your application is unable to establish a TCP connection to your database. Maybe because of a lack of configuration on your RDS instance? wrong hostname? wrong port? firewall (as mentioned by @Willem van Onsem)? Maybe the <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_CommonTasks.Connect.html\" rel=\"nofollow noreferrer\">Amazon AWS guide on connecting to their database service helps you</a></p>\n\n<p>In any case it has nothing to do with your program code, apart from the <em>connection string</em> if its wrong.</p>\n"}], "owner": {"reputation": 106, "user_id": 11698632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ePelRERy-T0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqpV-D9ziBtuTz7EEVtwhhW3u4qQ/photo.jpg?sz=128", "display_name": "Agent Lu", "link": "https://stackoverflow.com/users/11698632/agent-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 56781773, "answer_count": 1, "score": 0, "last_activity_date": 1561588898, "creation_date": 1561581228, "last_edit_date": 1561586061, "question_id": 56780488, "link": "https://stackoverflow.com/questions/56780488/after-connecting-to-remote-database-migrating-gives-error-errno61-connection", "title": "After connecting to remote database, migrating gives error: Errno61, Connection Refused", "body": "<p>I recently started using sql and connected to an remote sql server. I can run queries on it in python shell and get correct results. However, when I run \n<code>manage.py runserver</code></p>\n\n<p>It tells me that there I need to migrate, however when I migrate I get an error saying:</p>\n\n<pre><code>django.db.utils.OperationalError: (2003, \"Can't connect to MySQL server on '*host*' ([Errno 61] Connection refused)\")\n</code></pre>\n\n<p>What should I do to fix this error.</p>\n\n<p>setting.py database:</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': '*name*',\n        'USER': '*user*',\n        'PASSWORD': '********',\n        'HOST': '*host*',\n        'PORT': '****',\n        'OPTIONS': {\n            'sql_mode': 'traditional',\n        }\n    }\n}\n</code></pre>\n\n<p>full error list here:</p>\n\n<pre><code>  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/connections.py\", line 583, in connect\n    **kwargs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socket.py\", line 727, in create_connection\n    raise err\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/socket.py\", line 716, in create_connection\n    sock.connect(sa)\nConnectionRefusedError: [Errno 61] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 217, in ensure_connection\n    self.connect()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 195, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/mysql/base.py\", line 233, in get_new_connection\n    return Database.connect(**conn_params)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/__init__.py\", line 94, in Connect\n    return Connection(*args, **kwargs)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/connections.py\", line 325, in __init__\n    self.connect()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/connections.py\", line 630, in connect\n    raise exc\npymysql.err.OperationalError: (2003, \"Can't connect to MySQL server on 'masspike.ctqk1lhawxna.us-west-2.rds.amazonaws.com' ([Errno 61] Connection refused)\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"manage.py\", line 21, in &lt;module&gt;\n    main()\n  File \"manage.py\", line 17, in main\n    execute_from_command_line(sys.argv)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\n    utility.execute()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/__init__.py\", line 375, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/base.py\", line 323, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/base.py\", line 361, in execute\n    self.check()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/base.py\", line 390, in check\n    include_deployment_checks=include_deployment_checks,\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/management/commands/migrate.py\", line 64, in _run_checks\n    issues = run_checks(tags=[Tags.database])\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/checks/registry.py\", line 72, in run_checks\n    new_errors = check(app_configs=app_configs)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/core/checks/database.py\", line 10, in check_database_backends\n    issues.extend(conn.validation.check(**kwargs))\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/mysql/validation.py\", line 9, in check\n    issues.extend(self._check_sql_mode(**kwargs))\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/mysql/validation.py\", line 13, in _check_sql_mode\n    with self.connection.cursor() as cursor:\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 256, in cursor\n    return self._cursor()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 233, in _cursor\n    self.ensure_connection()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 217, in ensure_connection\n    self.connect()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/utils.py\", line 89, in __exit__\n    raise dj_exc_value.with_traceback(traceback) from exc_value\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 217, in ensure_connection\n    self.connect()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/base/base.py\", line 195, in connect\n    self.connection = self.get_new_connection(conn_params)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/django/db/backends/mysql/base.py\", line 233, in get_new_connection\n    return Database.connect(**conn_params)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/__init__.py\", line 94, in Connect\n    return Connection(*args, **kwargs)\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/connections.py\", line 325, in __init__\n    self.connect()\n  File \"/Users/lwyss/PycharmProjects/NewWebsite/lib/python3.7/site-packages/pymysql/connections.py\", line 630, in connect\n    raise exc\n</code></pre>\n"}, {"tags": ["python", "schedule", "at-job"], "comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1561581597, "post_id": 56780449, "comment_id": 100116141, "body": "Some options: <code>schedule</code>, <code>Celery</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1561581998, "post_id": 56780449, "comment_id": 100116299, "body": "standard module <a href=\"https://docs.python.org/3/library/sched.html\" rel=\"nofollow noreferrer\">sched</a>, external modules <a href=\"https://schedule.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">schedule</a>, <a href=\"https://apscheduler.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">APScheduler</a>"}, {"owner": {"reputation": 63, "user_id": 2922107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af3c247abca6d42f0d7d50d8c6bff2e?s=128&d=identicon&r=PG&f=1", "display_name": "LewTwo", "link": "https://stackoverflow.com/users/2922107/lewtwo"}, "edited": false, "score": 0, "creation_date": 1561582036, "post_id": 56780449, "comment_id": 100116314, "body": "I believe &quot;schedule&quot; would require the python script to be up and running 24/7. I would prefer to use the scheduler already built into the system."}, {"owner": {"reputation": 63, "user_id": 2922107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af3c247abca6d42f0d7d50d8c6bff2e?s=128&d=identicon&r=PG&f=1", "display_name": "LewTwo", "link": "https://stackoverflow.com/users/2922107/lewtwo"}, "edited": false, "score": 0, "creation_date": 1561994895, "post_id": 56780449, "comment_id": 100229195, "body": "previous_comment = previous_comment.replace (&quot;schedule&quot;, &quot;all of the above&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2922107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af3c247abca6d42f0d7d50d8c6bff2e?s=128&d=identicon&r=PG&f=1", "display_name": "LewTwo", "link": "https://stackoverflow.com/users/2922107/lewtwo"}, "edited": false, "score": 2, "creation_date": 1561582438, "post_id": 56780556, "comment_id": 100116491, "body": "My principle objection to cron is that &quot;cron -e&quot; invokes the system editor which is some incarnation of &quot;vi&quot; or &quot;nano&quot;. Lastly cron is good for repeating tasks but running on a specific date is a bit cumbersome. &quot;at&quot; is much more suited for that."}], "tags": [], "owner": {"reputation": 368, "user_id": 2384806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214614199b758cfe837e7b2bc6a0dba9?s=128&d=identicon&r=PG", "display_name": "mahmutoflaz", "link": "https://stackoverflow.com/users/2384806/mahmutoflaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561581586, "creation_date": 1561581586, "answer_id": 56780556, "question_id": 56780449, "link": "https://stackoverflow.com/questions/56780449/is-there-a-python-module-for-the-linux-at-task-scheduler/56780556#56780556", "title": "Is there a python module for the Linux &quot;at&quot; task scheduler", "body": "<p>You can achieve this with different approach:</p>\n\n<ul>\n<li>Write your python script. </li>\n<li>Call this script with a bash file.</li>\n<li>Schedule bash file with a crontab task.</li>\n</ul>\n"}], "owner": {"reputation": 63, "user_id": 2922107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af3c247abca6d42f0d7d50d8c6bff2e?s=128&d=identicon&r=PG&f=1", "display_name": "LewTwo", "link": "https://stackoverflow.com/users/2922107/lewtwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1564695347, "creation_date": 1561581067, "last_edit_date": 1564695347, "question_id": 56780449, "link": "https://stackoverflow.com/questions/56780449/is-there-a-python-module-for-the-linux-at-task-scheduler", "title": "Is there a python module for the Linux &quot;at&quot; task scheduler", "body": "<p>Lest I reinvent the wheel .... again:</p>\n\n<p>Is there a python interface, API or module for the standard linux \"at\" task scheduler? I have tried searching the internet but searching for the word \"at\" is a tad bit useless :-)</p>\n\n<p>My intention is to have a python script process same data and construct a shell file. Then use a subprocess call to have \"at\" schedule the job file for a specific date and time. I will have a similar function using \"Schtasks.exe\" if python detects it is running on windows. Lastly the python script exits ... leaving system scheduler the responsibility of running the job file.</p>\n\n<p>update 1 July 2019:\nFound an interesting \"at\" quirk.\nThe file called on the \"at\" command line (<em>i.e. the script or shell file</em>) does not need to be marked as \"executable\" in order to be run by \"at\".</p>\n\n<p>For the record: I am running Linux Mint 19.1</p>\n"}, {"tags": ["python", "json", "python-3.x", "slack", "slack-api"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 11677677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ad1df062ffef9b77d086f506e0a5f9?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/11677677/april"}, "edited": false, "score": 0, "creation_date": 1561582365, "post_id": 56780562, "comment_id": 100116463, "body": "Omg that works. Thanks so much. I changed &quot;result&quot; to &quot;search&quot; and fit it in my code and it works perfectly. I was bashing my head trying to figure this out. Can you possibly explain what the f is after join?"}, {"owner": {"reputation": 446, "user_id": 11524813, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SLdyU8SbZMU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ref3U-gZfn3pxcPa5XtOputeVj_mQ/mo/photo.jpg?sz=128", "display_name": "\u05d1\u05e0\u05d9\u05de\u05d9\u05df \u05db\u05d4\u05df", "link": "https://stackoverflow.com/users/11524813/%d7%91%d7%a0%d7%99%d7%9e%d7%99%d7%9f-%d7%9b%d7%94%d7%9f"}, "reply_to_user": {"reputation": 77, "user_id": 11677677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ad1df062ffef9b77d086f506e0a5f9?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/11677677/april"}, "edited": false, "score": 1, "creation_date": 1561582981, "post_id": 56780562, "comment_id": 100116672, "body": "the <code>f&quot;&quot;</code> string is a formatted string. where there are <code>{</code> <code>}</code> inside the string, python will treat whatever inside them as variables. this is like using <code>str.format()</code> function, but instead of passing variables to <code>format()</code> this will just put them inside the string."}], "tags": [], "owner": {"reputation": 446, "user_id": 11524813, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SLdyU8SbZMU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ref3U-gZfn3pxcPa5XtOputeVj_mQ/mo/photo.jpg?sz=128", "display_name": "\u05d1\u05e0\u05d9\u05de\u05d9\u05df \u05db\u05d4\u05df", "link": "https://stackoverflow.com/users/11524813/%d7%91%d7%a0%d7%99%d7%9e%d7%99%d7%9f-%d7%9b%d7%94%d7%9f"}, "is_accepted": true, "score": 0, "last_activity_date": 1561581640, "creation_date": 1561581640, "answer_id": 56780562, "question_id": 56780429, "link": "https://stackoverflow.com/questions/56780429/how-to-output-formatted-text-from-list-of-values-from-json/56780562#56780562", "title": "How to output formatted text from list of values from JSON?", "body": "<p>this should do it</p>\n\n<pre><code>\"\\n\\n\".join([f\"ID: {out['id']}\\nFirst: {out['first']}\\nLast: {out['last']}\" for out in result])\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11677677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ad1df062ffef9b77d086f506e0a5f9?s=128&d=identicon&r=PG&f=1", "display_name": "April", "link": "https://stackoverflow.com/users/11677677/april"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 56780562, "answer_count": 1, "score": 0, "last_activity_date": 1585234352, "creation_date": 1561580966, "last_edit_date": 1561581678, "question_id": 56780429, "link": "https://stackoverflow.com/questions/56780429/how-to-output-formatted-text-from-list-of-values-from-json", "title": "How to output formatted text from list of values from JSON?", "body": "<p>I am working on a slackbot. I have a json file and python code that outputs something to slack based on the user's input. There is a search command that outputs search results from a json file. The current output is not formatted because when the values are taken from the json, they are appended to a list and then returned to the main python program. </p>\n\n<p>I have tried creating a loop that would kind of parse through the search output and cut it down so that each set of values are separate and then added to a list that can be formatted. The loop I tried doesn't really work, and I'm not too sure how to properly make a loop that I can use to format the output. I have also tried formatting the output using format(), but it doesn't work because it is a list. </p>\n\n<p>This is the an example of the current search output. </p>\n\n<pre><code>if command.startswith(SEARCH):\n        try:\n            search = search_data(command.split(' ')[1])\n            response = search\n        except KeyError:\n            response = 'This search key does not exist.'\n        except TypeError:\n            response = 'Wrong search input'\n</code></pre>\n\n<p>This is an example search command that I import from another python script:</p>\n\n<pre><code>def search_data(keyword):\n\nresult = []\nfor key, value in data.items():\n    first = value['first']\n    last = value['last']\n    if keyword in first:\n        result.append(value)\n    elif keyword in last:\n        result.append(value)\nreturn result\n</code></pre>\n\n<p>This is an example JSON: </p>\n\n<pre><code>{\n\"1\": {\n  \"id\": \"1\",\n  \"first\": \"Joe\",\n  \"last\": \"Adam\"\n},\n\"2\": {\n  \"id\": \"2\",\n  \"first\": \"Mary\",\n  \"last\": \"Smith\"\n},\n\"3\": {\n    \"id\": \"3\",\n    \"first\": \"Ann\",\n    \"last\": \"John\"\n}\n}\n</code></pre>\n\n<p>I have another output which I format using this line of code and I want to format my list output the same way. </p>\n\n<pre><code>response = '*ID:* {}\\n *First:* {}\\n *Last:*\n{}\\n\\n'.format(search['id'],search['first'],search['last'])\n</code></pre>\n\n<p>The expected output is for the user to enter a search in slack using the slackbot. The user can input \"search J\" for example and the output lists the matching set of values that have a J in either the \"first\" or \"last\" values. My current output is something like: </p>\n\n<pre><code>[{\"id\":\"1\",\"first\":\"Joe\",\"last\":\"Adam\"}, \n{\"id\":\"2\",\"first\":\"Ann\",\"last\":\"John\"}]\n</code></pre>\n\n<p>but I want to format it like:</p>\n\n<pre><code>ID: 1\nFirst: Joe\nLast: Adam\n\nID: 2\nFirst: Ann\nLast: John\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1561581292, "post_id": 56780428, "comment_id": 100116019, "body": "when you&#39;re not sure, use parentheses"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1561581466, "post_id": 56780428, "comment_id": 100116088, "body": "also this example makes little sense in real life as <code>y &lt; z or z &gt; y</code> boils down to <code>y &lt; z</code>"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1561581549, "post_id": 56780428, "comment_id": 100116125, "body": "Why do you think <i>it should return False</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 58681, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1561581200, "creation_date": 1561581200, "answer_id": 56780480, "question_id": 56780428, "link": "https://stackoverflow.com/questions/56780428/multiple-boolean-operators/56780480#56780480", "title": "Multiple boolean operators", "body": "<p><code>and</code> binds more (based on <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">operator precendence</a>) than <code>or</code> does. Hence, your boolean expression could also be represented like this:</p>\n\n<pre><code>z = 2\ny = 1\nx = y &lt; z or (z &gt; y and y &gt; z) or z &lt; y\nprint(x)\n</code></pre>\n\n<p>Clearly, <code>y &lt; z</code> is <code>True</code> and because only one of the three needs to be <code>True</code>, the whole expression evaluates to <code>True</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1561581233, "creation_date": 1561581233, "answer_id": 56780489, "question_id": 56780428, "link": "https://stackoverflow.com/questions/56780428/multiple-boolean-operators/56780489#56780489", "title": "Multiple boolean operators", "body": "<p><code>or</code> has a lower <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">operator precedence</a> than <code>and</code>, so <code>y &lt; z or z &gt; y and y &gt; z or z &lt; y</code> is equivalent to <code>(y &lt; z) or (z &gt; y and y &gt; z) or (z &lt; y)</code>, and since <code>y &lt; z</code> is <code>True</code>, the entire expression is therefore <code>True</code> after the evaluation of the <code>or</code> operations.</p>\n"}], "owner": {"reputation": 101, "user_id": 5268615, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/G8zch.jpg?s=128&g=1", "display_name": "darkK", "link": "https://stackoverflow.com/users/5268615/darkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1561581423, "accepted_answer_id": 56780480, "answer_count": 2, "score": -1, "last_activity_date": 1561581253, "creation_date": 1561580961, "last_edit_date": 1561581253, "question_id": 56780428, "link": "https://stackoverflow.com/questions/56780428/multiple-boolean-operators", "closed_reason": "Duplicate", "title": "Multiple boolean operators", "body": "<p>could someone please explain to me why this code returns True? I totally don't understand this one, for my understanding, it should return False.</p>\n\n<pre><code>z = 2\ny = 1\nx = y &lt; z or z &gt; y and y &gt; z or z &lt; y\nprint(x)\n</code></pre>\n"}]