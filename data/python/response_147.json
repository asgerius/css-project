[{"tags": ["python", "python-3.x", "multiprocessing"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 10, "creation_date": 1509580906, "post_id": 47065460, "comment_id": 81079227, "body": "Your task is too tiny to compensate the cost of multiprocessing."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 3, "creation_date": 1509582132, "post_id": 47065460, "comment_id": 81079570, "body": "The most likely reason is that doing it by having the function call itself entails less overhead than launching, managing, and collecting results from multiple processes."}], "owner": {"reputation": 109, "user_id": 7888377, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1231829526930137/picture?type=large", "display_name": "hamma", "link": "https://stackoverflow.com/users/7888377/hamma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509581955, "creation_date": 1509580734, "last_edit_date": 1509581955, "question_id": 47065460, "link": "https://stackoverflow.com/questions/47065460/why-calculating-factorial-using-multiprocessing-is-slower-than-using-recursion", "title": "Why calculating factorial using multiprocessing is slower than using recursion?", "body": "<p>I'm trying to find a faster way to calculate factorial.\nIn the following code, I first use recursion method , and  then I use another method by dividing the whole operation into smaller calculations and then run them in parallel.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>#!/usr/bin/env python3\nimport time \nfrom multiprocessing import Pool\nimport itertools\ndef fact(n):\n    if n==1:\n        return 1\n    else:\n        a=n*fact(n-1)\n        return a\n\ndef divid(start ,end):\n    m=1\n    for i in range(start,end+1):\n        m=m*i\n    return m\n\npool=Pool()\n\na=time.time()\nres=fact(100)\nprint (res)\nprint (\"Time spent calculating factorial\",(time.time()-a)*60)\n\na=time.time()\nL = pool.starmap(divid,[(1,25),(26,50),(51,75),(76,100)] )\n\nm=1\nfor i in list(L):\n    m=m*i\nprint (\"Result is\",m)\n\nprint(\"Time spent calculating factorial using multiprocessing\",(time.time()-a)*60)\n</code></pre>\n\n<p>So running this code for factorial(100) I find out that recursion method is 2 times faster than using multiprocessing.</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "attributeerror"], "comments": [{"owner": {"reputation": 491, "user_id": 2257930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPKsm.png?s=128&g=1", "display_name": "rollinger", "link": "https://stackoverflow.com/users/2257930/rollinger"}, "edited": false, "score": 0, "creation_date": 1509582835, "post_id": 47065438, "comment_id": 81079765, "body": "Please post your full error traceback"}, {"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "reply_to_user": {"reputation": 491, "user_id": 2257930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPKsm.png?s=128&g=1", "display_name": "rollinger", "link": "https://stackoverflow.com/users/2257930/rollinger"}, "edited": false, "score": 0, "creation_date": 1509583092, "post_id": 47065438, "comment_id": 81079838, "body": "Turns out that I messed up the url.py part for registration. Thanks for answering though!"}, {"owner": {"reputation": 1978, "user_id": 1705829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/85YCp.gif?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/1705829/timo"}, "edited": false, "score": 0, "creation_date": 1536400829, "post_id": 47065438, "comment_id": 91417040, "body": "Always write the Django Version as there is a lot of development going on in the versions."}], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "edited": false, "score": 0, "creation_date": 1509583025, "post_id": 47065754, "comment_id": 81079817, "body": "Thanks. But now when I open useraccounts/registration.html, I get the error: &quot;The view useraccounts.views.registration didn&#39;t return an HttpResponse object. It returned None instead.&quot; Also, did I do my forms and views correctly?"}], "tags": [], "owner": {"reputation": 53, "user_id": 7787179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TH0OQ.jpg?s=128&g=1", "display_name": "realmbit", "link": "https://stackoverflow.com/users/7787179/realmbit"}, "is_accepted": false, "score": 3, "last_activity_date": 1509582835, "creation_date": 1509582835, "answer_id": 47065754, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/47065754#47065754", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>it should be:</p>\n\n<pre><code>url(r'^registration/$', views.registration, {'template_name': 'useraccounts/registration.html'}, name='registration'),\n</code></pre>\n\n<p>auth_views does not have registration, your views does</p>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 6748523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-wvjUOsOiceU/AAAAAAAAAAI/AAAAAAAAAlI/9Cjeggf18gE/photo.jpg?sz=128", "display_name": "Roman Kozinets", "link": "https://stackoverflow.com/users/6748523/roman-kozinets"}, "is_accepted": false, "score": 1, "last_activity_date": 1509612031, "creation_date": 1509612031, "answer_id": 47070882, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/47070882#47070882", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>I can't leave comments so I decided to leave an answer.\nYou have extra indent near else block. Your registration func should look like:</p>\n\n<pre><code>def registration(request):\n    if request.method == 'POST':\n        form = SignUpForm(request.POST)\n        if form.is_valid():\n            user = form.save()\n            user.refresh_from_db()\n            user.profile.birth_date = form.cleaned_data.get('birth_date')\n            user.save()\n            raw_password = form.cleaned_data.get('password1')\n            user = authenticate(password=raw_password)\n            login(request, user)\n            return redirect('home')\n    else:\n        form = SignUpForm()\n    return render(request, 'registration.html', {'form': form})\n</code></pre>\n\n<p>This is why you get this error</p>\n\n<blockquote>\n  <p>The view useraccounts.views.registration didn't return an HttpResponse object. It returned None instead.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1339, "user_id": 3117592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fXUjs.jpg?s=128&g=1", "display_name": "ozcanyarimdunya", "link": "https://stackoverflow.com/users/3117592/ozcanyarimdunya"}, "is_accepted": false, "score": 23, "last_activity_date": 1533153699, "creation_date": 1533153699, "answer_id": 51641443, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/51641443#51641443", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Your <strong>urlpatterns</strong> should be:</p>\n\n<pre><code>from django.contrib.auth import views as auth_views\n\nurlpatterns = [\n   url( r'^login/$',auth_views.LoginView.as_view(template_name=\"useraccounts/login.html\"), name=\"login\"),\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 8938777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a1e679813699a490f5b09bb4e168af7?s=128&d=identicon&r=PG&f=1", "display_name": "Mehmet Guloglu", "link": "https://stackoverflow.com/users/8938777/mehmet-guloglu"}, "is_accepted": false, "score": 56, "last_activity_date": 1534965554, "last_edit_date": 1534965554, "creation_date": 1534242136, "answer_id": 51839169, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/51839169#51839169", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Open <code>urls.py</code> and replace:</p>\n\n<p><code>django.contrib.auth.views.login</code> with <code>django.contrib.auth.views.LoginView</code> </p>\n\n<p><code>django.contrib.auth.views.logout</code> with <code>django.contrib.auth.views.LogoutView</code></p>\n"}, {"tags": [], "owner": {"reputation": 1870, "user_id": 924300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b50f3f7975431537e7855610a6eb66af?s=128&d=identicon&r=PG", "display_name": "Dimitris Kougioumtzis", "link": "https://stackoverflow.com/users/924300/dimitris-kougioumtzis"}, "is_accepted": false, "score": 17, "last_activity_date": 1534315434, "creation_date": 1534315434, "answer_id": 51854087, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/51854087#51854087", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>In django version 2.1  in custom urls patterns from auth app i use </p>\n\n<pre><code>from django.urls import path, re_path\nfrom django.contrib.auth import views as auth_views\nfrom django.conf import settings\nfrom .views import register_view, activate\n\n\nurlpatterns = [\n    # url(r'^$', HomeView.as_view(), name='home'),\n    re_path(r'^register/$', register_view, name='signup'),\n    re_path(r'^activate/(?P&lt;uidb64&gt;[0-9A-Za-z_\\-]+)/(?P&lt;token&gt;[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$',\n            activate, name='users_activate'),\n    re_path('login/', auth_views.LoginView, {\n        'template_name': \"users/registration/login.html\"},\n        name='login'),\n    re_path('logout/', auth_views.LogoutView,\n        {'next_page': settings.LOGIN_REDIRECT_URL}, name='logout'),\n\n    re_path(r'^password_reset/$', auth_views.PasswordResetView,\n        {'template_name': \"users/registration/password_reset_form.html\"},\n        name='password_reset'),\n    re_path(r'^password_reset/done/$', auth_views.PasswordResetDoneView,\n        {'template_name': \"users/registration/password_reset_done.html\"},\n        name='password_reset_done'),\n    re_path(r'^reset/(?P&lt;uidb64&gt;[0-9A-Za-z_\\-]+)/(?P&lt;token&gt;[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$',\n        auth_views.PasswordResetConfirmView,\n        {'template_name': \"users/registration/password_reset_confirm.html\"},\n        name='password_reset_confirm'),\n    re_path(r'^reset/done/$', auth_views.PasswordResetCompleteView,\n        {'template_name': \"users/registration/password_reset_complete.html\"},\n        name='password_reset_complete'),\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1807, "user_id": 3927279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5fyOL.jpg?s=128&g=1", "display_name": "HoangYell", "link": "https://stackoverflow.com/users/3927279/hoangyell"}, "is_accepted": false, "score": 1, "last_activity_date": 1615562666, "last_edit_date": 1615562666, "creation_date": 1536244158, "answer_id": 52206394, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/52206394#52206394", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Open urls.py and replace:</p>\n<p>change <code>views.login</code> =&gt; <code>views.LoginView.as_view()</code></p>\n"}, {"tags": [], "owner": {"reputation": 1978, "user_id": 1705829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/85YCp.gif?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/1705829/timo"}, "is_accepted": false, "score": 5, "last_activity_date": 1536400928, "creation_date": 1536400928, "answer_id": 52234165, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/52234165#52234165", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>You need <code>LoginView</code>, etc. as a class and not a function as seen <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/default/#all-authentication-views\" rel=\"noreferrer\">here</a> (new in Django 1.11 as <code>Should</code> and a Must from Version 2.1 on)</p>\n"}, {"tags": [], "owner": {"reputation": 290, "user_id": 8669099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a8kf1.jpg?s=128&g=1", "display_name": "Maulik Harkhani", "link": "https://stackoverflow.com/users/8669099/maulik-harkhani"}, "is_accepted": false, "score": 7, "last_activity_date": 1549155599, "last_edit_date": 1549155599, "creation_date": 1543209824, "answer_id": 53475143, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/53475143#53475143", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Django 2.1 contrib views change from function view to class view and name also change so in forgot process you need to give other view name</p>\n\n<h2>urls.py</h2>\n\n<pre><code>from django.contrib.auth import views as auth_views\n\npath('password_reset/', auth_views.PasswordResetView.as_view(), {'template_name':'registration/Reset_email.html'}, name='password_reset'),\n    path('password_reset/done/', auth_views.PasswordResetDoneView.as_view(), {'template_name':'registration/Reset_Email_Sent.html'}, name='password_reset_done'),\n    re_path('reset/(?P&lt;uidb64&gt;[0-9A-Za-z_\\-]+)/(?P&lt;token&gt;[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/', auth_views.PasswordResetConfirmView.as_view(), {'template_name' : 'registration/Forgot_password.html'}, name='password_reset_confirm'),\n    path('reset/done/', auth_views.PasswordResetCompleteView.as_view(), {'template_name' : 'registration/Signin.html'}, name='password_reset_complete'),\n</code></pre>\n\n<p>Django you can customize user model and you can remove username and use email address </p>\n\n<h2>models.py</h2>\n\n<p>user model you can write customize column you can add and you can delete</p>\n\n<p>user manage also you can customize comond like super user if yo\nu need to give any default value</p>\n\n<pre><code>from django.contrib.auth.models import User\nfrom django.contrib.auth.models import AbstractUser,BaseUserManager\nfrom django.utils.translation import ugettext_lazy as _\n\nclass UserManager(BaseUserManager):\n    \"\"\"Define a model manager for User model with no username field.\"\"\"\n\n    use_in_migrations = True\n\n    def _create_user(self, email, password, **extra_fields):\n        \"\"\"Create and save a User with the given email and password.\"\"\"\n        if not email:\n            raise ValueError('The given email must be set')\n        email = self.normalize_email(email)\n        user = self.model(email=email, **extra_fields)\n        user.set_password(password)\n        user.save(using=self._db)\n        return user\n\n    def create_user(self, email, password=None, **extra_fields):\n        \"\"\"Create and save a regular User with the given email and password.\"\"\"\n        extra_fields.setdefault('is_staff', False)\n        extra_fields.setdefault('is_superuser', False)\n        return self._create_user(email, password, **extra_fields)\n\n    def create_superuser(self, email, password, **extra_fields):\n        \"\"\"Create and save a SuperUser with the given email and password.\"\"\"\n        extra_fields.setdefault('is_staff', True)\n        extra_fields.setdefault('is_superuser', True)\n\n        if extra_fields.get('is_staff') is not True:\n            raise ValueError('Superuser must have is_staff=True.')\n        if extra_fields.get('is_superuser') is not True:\n            raise ValueError('Superuser must have is_superuser=True.')\n\n        return self._create_user(email, password, **extra_fields)\n\n\nclass User(AbstractUser):\n\n    username = None\n    email = models.EmailField(_('email'), unique=True)\n    first_name = models.CharField( _('first name'), max_length=250)\n    last_name = models.CharField(_('last name'), max_length=250)\n    email_confirmed = models.BooleanField(default=False)\n\n    USERNAME_FIELD = 'email'\n    REQUIRED_FIELDS = ['first_name', 'last_name',]\n\n    objects = UserManager()\n\n    def __str__(self):\n        return \"%s\" %(self.email)\n</code></pre>\n\n<h2>settings.py</h2>\n\n<p>settings you need to give your custom user model</p>\n\n<pre><code># AUTH USER MODEL\nAUTH_USER_MODEL = \"Accounts.User\" \n\nLOGIN_URL = '/login/'\n#LOGIN_REDIRECT_URL  = 'login_success'\n\nLOGOUT_REDIRECT_URL = '/login/'\n</code></pre>\n\n<h2>admin.py</h2>\n\n<p>admin you need to register user model </p>\n\n<pre><code>## user model view\nfrom django.contrib.auth.admin import UserAdmin as DjangoUserAdmin\nfrom django.utils.translation import ugettext_lazy as _\n\n@admin.register(User)\nclass UserAdmin(DjangoUserAdmin):\n    \"\"\"Define admin model for custom User model with no email field.\"\"\"\n\n    fieldsets = (\n        (None, {'fields': ('email', 'password')}),\n        (_('Personal info'), {'fields': ('first_name', 'last_name', 'email_confirmed')}),\n        (_('Permissions'), {'fields': ('is_active', 'is_staff', 'is_superuser',\n                                       'groups', 'user_permissions')}),\n        (_('Important dates'), {'fields': ('last_login', 'date_joined')}),\n    )\n\n    add_fieldsets = (\n        (None, {\n            'classes': ('wide',),\n            'fields': ('email', 'password1', 'password2', 'first_name', 'last_name'),\n        }),\n    )\n    list_display = ('email', 'first_name', 'last_name',)\n    search_fields = ('email', 'first_name', 'last_name')\n    ordering = ('-id',)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 9919896, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M9J25xp-bH4/AAAAAAAAAAI/AAAAAAAAHLw/NNLmIDnQvHg/photo.jpg?sz=128", "display_name": "Suraj Verma", "link": "https://stackoverflow.com/users/9919896/suraj-verma"}, "is_accepted": false, "score": 3, "last_activity_date": 1615562713, "last_edit_date": 1615562713, "creation_date": 1548574300, "answer_id": 54386010, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/54386010#54386010", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Very Simple Steps:</p>\n<p>Goto the Projects <code>urls.py</code>\nchange <code>views.login</code> to  <code>views.LoginView.as_view()</code></p>\n<p>if you are using Logout attribute then do the same with that</p>\n"}, {"comments": [{"owner": {"reputation": 1035, "user_id": 4530863, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d0dec2a07981f5d115737978d69a74f8?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pearson", "link": "https://stackoverflow.com/users/4530863/christopher-pearson"}, "edited": false, "score": 0, "creation_date": 1555019508, "post_id": 55641394, "comment_id": 97973628, "body": "Could you add some more context to make your answer more appropriate?  e.g. what would the code be?  you are replacing a function with a class, so the syntax may not be the same.  You may also want to mention that this is only applicable to Django&gt;=1.11"}, {"owner": {"reputation": 341, "user_id": 887627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fceef7977627321307db9f6dbe8fc30?s=128&d=identicon&r=PG", "display_name": "Eino M&#228;kitalo", "link": "https://stackoverflow.com/users/887627/eino-m%c3%a4kitalo"}, "edited": false, "score": 0, "creation_date": 1562742097, "post_id": 55641394, "comment_id": 100467314, "body": "I got this error in django 2 when upgrading to 2.2.3 from 2 something.  I fixed my urls like...   url(r&#39;^accounts/login/$&#39;, django.contrib.auth.views.LoginView,name=&quot;login&quot;),     url(r&#39;^accounts/logout/$&#39;, django.contrib.auth.views.LogoutView,{&#39;next_page&#39;: &#39;/&#39;},name=&quot;logout&quot;),"}], "tags": [], "owner": {"reputation": 275, "user_id": 5448770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kphvl.jpg?s=128&g=1", "display_name": "prosper1", "link": "https://stackoverflow.com/users/5448770/prosper1"}, "is_accepted": false, "score": 3, "last_activity_date": 1600101827, "last_edit_date": 1600101827, "creation_date": 1555017796, "answer_id": 55641394, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/55641394#55641394", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>Open <code>url.py</code> file and replace</p>\n<p><code>views.login</code> with <code>views.LoginView</code></p>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 6314638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161c949509a0613adcf9dc5858a759ea?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6314638/daniel"}, "is_accepted": false, "score": 6, "last_activity_date": 1566978317, "creation_date": 1566978317, "answer_id": 57687339, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute/57687339#57687339", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>You have to import the LoginView in your urls.py:</p>\n\n<pre><code>from django.contrib.auth.views import LoginView\n</code></pre>\n\n<p>and change</p>\n\n<pre><code>auth_view.login\n</code></pre>\n\n<p>to</p>\n\n<pre><code>LoginView.as_view()\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 6041118, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/8704a33f80b98dc44604ff1c8dac7128?s=128&d=identicon&r=PG&f=1", "display_name": "TheCoxer", "link": "https://stackoverflow.com/users/6041118/thecoxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71114, "favorite_count": 3, "answer_count": 11, "score": 35, "last_activity_date": 1615562713, "creation_date": 1509580478, "last_edit_date": 1509581995, "question_id": 47065438, "link": "https://stackoverflow.com/questions/47065438/attributeerror-module-django-contrib-auth-views-has-no-attribute", "title": "AttributeError: module Django.contrib.auth.views has no attribute", "body": "<p>In my Django app useraccounts, I created a Sign-Up form and a model for my Sign-up. However, when I went to run python manage.py makemigrations, I encounter the error: AttributeError: module Django.contrib.auth.views has no attribute 'registration'. Secondly, am I coding the SignUpForm in forms.py correctly? I did not want to use the User model in models because it would request username and I didn't want my website to ask for a username. </p>\n\n<p>Here is my code:</p>\n\n<p>models.py</p>\n\n<pre><code>from django.db import models\nfrom django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom django.contrib.auth.models import User\n\nclass UserProfile(models.Model):\n    first_name = models.CharField(max_length=150)\n    last_name =  models.CharField(max_length=150)\n    email = models.EmailField(max_length=150)\n    birth_date = models.DateField()\n    password = models.CharField(max_length=150)\n\n@receiver(post_save, sender=User)\ndef update_user_profile(sender, instance, created, **kwargs):\n    if created:\n        UserProfile.objects.create(user=instance)\n    instance.profile.save()\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>from django.forms import forms\nfrom django.contrib.auth.models import User\nfrom django.contrib.auth.forms import UserCreationForm\nfrom useraccounts.models import UserProfile\n\nclass SignUpForm(UserCreationForm):\n\n    class Meta:\n        model = User\n\n        fields = ('first_name',\n                  'last_name',\n                  'email',\n                  'password1',\n                  'password2', )\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>from django.shortcuts import render, redirect\nfrom django.contrib.auth import login, authenticate\nfrom useraccounts.forms import SignUpForm\n\n# Create your views here.\ndef home(request):\n    return render(request, 'useraccounts/home.html')\n\ndef login(request):\n    return render(request, 'useraccounts/login.html')\n\ndef registration(request):\n    if request.method == 'POST':\n        form = SignUpForm(request.POST)\n        if form.is_valid():\n            user = form.save()\n            user.refresh_from_db()\n            user.profile.birth_date = form.cleaned_data.get('birth_date')\n            user.save()\n            raw_password = form.cleaned_data.get('password1')\n            user = authenticate(password=raw_password)\n            login(request, user)\n            return redirect('home')\n        else:\n            form = SignUpForm()\n        return render(request, 'registration.html', {'form': form})\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\nfrom django.contrib.auth import views as auth_views\n\nurlpatterns = [\n\n    url(r'^$', views.home),\n    url(r'^login/$', auth_views.login, {'template_name': 'useraccounts/login.html'}, name='login'),\n    url(r'^logout/$', auth_views.logout, {'template_name': 'useraccounts/logout.html'}, name='logout'),\n    url(r'^registration/$', auth_views.registration, {'template_name': 'useraccounts/registration.html'}, name='registration'),\n\n]\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "is_accepted": true, "score": 3, "last_activity_date": 1509587862, "creation_date": 1509587862, "answer_id": 47066387, "question_id": 47065430, "link": "https://stackoverflow.com/questions/47065430/how-can-i-record-sqlalchemy-generated-sql-and-query-execution-times/47066387#47066387", "title": "How can I record SQLAlchemy generated SQL and query execution times?", "body": "<p>You can use <code>before_cursor_execute</code> to record the <em>start time</em> of your query, then calculate the difference in <code>after_cursor_execute</code>, something like this:</p>\n\n<pre><code>@event.listens_for(engine, \"before_cursor_execute\")\ndef _record_query_start(conn, cursor, statement, parameters, context, executemany):\n    conn.info[\"query_start\"] = datetime.now()\n\n@event.listens_for(engine, \"after_cursor_execute\")\ndef _calculate_query_run_time(conn, cursor, statement, parameters, context, executemany):\n    print(\"this query took {}\".format(datetime.now() - conn.info[\"query_start\"]))\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 405075, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a759304dca5f8f5793a6b514971e2080?s=128&d=identicon&r=PG", "display_name": "shroud", "link": "https://stackoverflow.com/users/405075/shroud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 1, "accepted_answer_id": 47066387, "answer_count": 1, "score": 0, "last_activity_date": 1509587862, "creation_date": 1509580390, "question_id": 47065430, "link": "https://stackoverflow.com/questions/47065430/how-can-i-record-sqlalchemy-generated-sql-and-query-execution-times", "title": "How can I record SQLAlchemy generated SQL and query execution times?", "body": "<p>I'm trying to store the SQL queries generated by SQLAlchemy, and how long each one takes to run. I'm using an event listener to store the SQL:</p>\n\n<pre><code>statements = []\n\n@listens_for(DBSession.get_bind(), \"before_cursor_execute\", named=True)\ndef before_cursor_execute(**kw):\n    statements.append(kw['statement'])\n</code></pre>\n\n<p>Can I use the same event listener somehow to store execution time, or should I be using something else?</p>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 1, "creation_date": 1509581452, "post_id": 47065429, "comment_id": 81079370, "body": "<code>query = select([table]).where(cond).first()</code> should work without throwing that error and return 1 row. You can also try <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.ResultProxy.fetchone\" rel=\"nofollow noreferrer\"><code>fetchone</code></a>"}, {"owner": {"reputation": 636, "user_id": 1753106, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6d31273f8b84c4e7a53456b32011590b?s=128&d=identicon&r=PG", "display_name": "user1753106", "link": "https://stackoverflow.com/users/1753106/user1753106"}, "reply_to_user": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 0, "creation_date": 1509611925, "post_id": 47065429, "comment_id": 81089662, "body": "Iget the following if I try that: AttributeError: &#39;Select&#39; object has no attribute &#39;first&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 1753106, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6d31273f8b84c4e7a53456b32011590b?s=128&d=identicon&r=PG", "display_name": "user1753106", "link": "https://stackoverflow.com/users/1753106/user1753106"}, "is_accepted": false, "score": 0, "last_activity_date": 1509626458, "creation_date": 1509626458, "answer_id": 47075578, "question_id": 47065429, "link": "https://stackoverflow.com/questions/47065429/sqlalchemy-expression-language-first-or-one/47075578#47075578", "title": "SQLAlchemy Expression Language first or one", "body": "<p><code>one</code> and <code>first</code> are methods available on ORM query objects. On closer inspection you can see that they cause execution of the query and then post process to get get the first/only entry and error check etc.</p>\n\n<p>The SQL dialects that I have checked actually don't seem to have this functionality inbuilt for queries (oops I thought they did). They have <code>limit</code> or something similar.</p>\n\n<p>The only option is to work around using <code>limit</code> and some logic or some call to execute or on the result. </p>\n"}], "owner": {"reputation": 636, "user_id": 1753106, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6d31273f8b84c4e7a53456b32011590b?s=128&d=identicon&r=PG", "display_name": "user1753106", "link": "https://stackoverflow.com/users/1753106/user1753106"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509626458, "creation_date": 1509580389, "question_id": 47065429, "link": "https://stackoverflow.com/questions/47065429/sqlalchemy-expression-language-first-or-one", "title": "SQLAlchemy Expression Language first or one", "body": "<p>I'm using the sqlalchemy expression language (i.e. Core). I'm trying to build a query that should only return one result.</p>\n\n<p>I want to do </p>\n\n<pre><code>query = select([table]).where(cond).one()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>query = select([table]).where(cond).first()\n</code></pre>\n\n<p>but that only yields </p>\n\n<pre><code>AttributeError: 'Select' object has no attribute 'one'\n</code></pre>\n\n<p>The closest I have come is </p>\n\n<pre><code>query = select([table]).where(cond).limit(1)\n</code></pre>\n\n<p>but that is not entirely satisfactory because I get a list of results where I want a single result. I can work around by inserting extra logic but I'd be much happier to find a way to do this cleanly. I also would prefer not  to use plain text queries. </p>\n\n<p>Any ideas? Much appreciated.</p>\n"}, {"tags": ["python", "popen", "mypy"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1509581705, "post_id": 47065377, "comment_id": 81079443, "body": "<code>env=my_env</code> replaces the environment of the current process. If <code>my_env</code> isn&#39;t set correctly the call fails."}, {"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1509583477, "post_id": 47065377, "comment_id": 81079933, "body": "Thanks Michael! I just figured out the real problem, posted below"}], "answers": [{"tags": [], "owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "is_accepted": true, "score": 0, "last_activity_date": 1509583612, "creation_date": 1509583612, "answer_id": 47065868, "question_id": 47065377, "link": "https://stackoverflow.com/questions/47065377/getting-oserror-errno-2-no-such-file-or-directory-on-popen-when-trying-to-r/47065868#47065868", "title": "Getting &#39;OSError: [Errno 2] No such file or directory&#39; on popen when trying to run mypy", "body": "<p>Okay, just figured out my problem and it was fairly obvious... Whoops!</p>\n\n<p>This fixed it: <code>python3 -m pip install -U mypy==0.530</code></p>\n\n<p>Turns out I didn't have <code>mypy</code> installed on the box. The error message led me astray because I thought it was referring to one of the arguments I'd passed, not the actual command. Hopefully this is helpful to someone in the future.</p>\n"}], "owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 1, "accepted_answer_id": 47065868, "answer_count": 1, "score": 0, "last_activity_date": 1509583612, "creation_date": 1509579938, "question_id": 47065377, "link": "https://stackoverflow.com/questions/47065377/getting-oserror-errno-2-no-such-file-or-directory-on-popen-when-trying-to-r", "title": "Getting &#39;OSError: [Errno 2] No such file or directory&#39; on popen when trying to run mypy", "body": "<p>Hello stack overflow users,</p>\n\n<p>I'm having a great deal of difficulty trying to get mypy to work correctly with Popen. Essentially I'm writing a test suite that utilizes mypy but cannot seem to get valid output on my build machine.</p>\n\n<p>The line in question is the following:</p>\n\n<p><code>p = subprocess.Popen(['mypy'] + extra_args + python_files, env=my_env, stdin=subprocess.PIPE, stderr=subprocess.PIPE, stdout=subprocess.PIP)</code></p>\n\n<p><code>extra_args</code> specifies the cache-dir and traceback, and <code>python_files</code> are the files in question to be tested. I'm fairly confident that neither of these arguments are the issue, as I've played around with these and made no progress.</p>\n\n<p>This file is in a git repo, and I've cloned it and put it on a build box. Locally it's not a problem -- I get valid, mypy output indicating errors. However, on my build machine I get the <code>OSError: [Errno 2] No such file or directory</code> error. The full error message is as follows:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"mypath/run_mypy.py\", line 83, in &lt;module&gt;\n    main()\n  File \"mypath/run_mypy.py\", line 70, in main\n    p = subprocess.Popen(['mypy'] + extra_args + python_files, env=my_env, stdin=subprocess.PIPE, stderr=subprocess.PIPE, stdout=subprocess.PIPE)\n  File \"/usr/lib/python2.7/subprocess.py\", line 711, in __init__\n    errread, errwrite)\n  File \"/usr/lib/python2.7/subprocess.py\", line 1343, in _execute_child\n    raise child_exception\nOSError: [Errno 2] No such file or directory\nmyotherpath/build-stack.mk:162: recipe for target 'mypy' failed\n</code></pre>\n\n<p>I've tried adding <code>shell=True</code> but this resulted in all mypy errors begin surpressed, plus is considered bad style/security concern. </p>\n\n<p>My guess/thought is that maybe mypy somehow isn't in the path that popen uses without the shell but I'm really not sure.</p>\n\n<p>Anyway I'm at a huge loss here -- any help would be appreciated.</p>\n"}, {"tags": ["python", "python-2.7", "raspberry-pi"], "comments": [{"owner": {"reputation": 151, "user_id": 3263281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947d69f1b4400361aceb2fc6b7779d29?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew H", "link": "https://stackoverflow.com/users/3263281/andrew-h"}, "edited": false, "score": 0, "creation_date": 1557499156, "post_id": 47065332, "comment_id": 98797769, "body": "I believe the copy_to method seeks backwards near the start frame you want until it finds an sps frame.  Reducing intra_period (the time between iframes) might reduce the variation.  See this github answer.  <a href=\"https://github.com/waveform80/picamera/issues/319\" rel=\"nofollow noreferrer\">github.com/waveform80/picamera/issues/319</a>"}], "owner": {"reputation": 59, "user_id": 5937624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fad6b444641dd2002e3cfe1ceb356be?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5937624/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 759, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509641889, "creation_date": 1509579634, "last_edit_date": 1509641889, "question_id": 47065332, "link": "https://stackoverflow.com/questions/47065332/recording-a-h264-video-in-python-on-a-raspberry-pi-in-a-circular-buffer-and-savi", "title": "Recording a h264 video in python on a Raspberry Pi in a circular buffer and saving a specific number of seconds", "body": "<p>I'm using the picamera library to create a PiCamerIcrcularIO stream to write the recording data to. I can't seem to get a reliable method to always create a video file with a 6 second length to it. Depending on when I copy the video data to disk I can end up with anywhere between 3 to 6 seconds of video. Here is the code I am using to test this with:</p>\n\n<pre><code>\"\"\"Testing the video recording settings\"\"\"\nimport datetime as dt\nimport os\nfrom random import randint\nimport subprocess\nimport sys\n\nimport picamera\n\n\nclass Camera(object):\n    \"\"\"Camera device\"\"\"\n    def __init__(self):\n        self.device = None  # type: picamera.PiCamera\n        self.stream = None  # type: picamera.PiCameraCircularIO\n\n    def initialize_camera(self):\n        \"\"\"Initializes the camera to 1280x720 and start recording video to a circular buffer\"\"\"\n        print \"initializing camera\"\n        self.device = picamera.PiCamera()\n        # set the camera's resolution (1280, 720)\n        self.device.resolution = (1280, 720)\n        # set the camera's framerate\n        self.device.framerate = 24\n        self.stream = picamera.PiCameraCircularIO(self.device, seconds=8)\n        self.device.start_recording(self.stream, format='h264')\n        return\n\n    def stop_camera(self):\n        \"\"\"Stop the recording and turn the camera off\"\"\"\n        if self.device is not None:\n            if self.device.recording:\n                self.device.stop_recording()\n            self.device.close()\n        if self.stream is not None:\n            self.stream = None\n        return\n\n    def capture_video(self):\n        \"\"\"Store the video from the circular buffer to disk\"\"\"\n        try:\n            if self.device is None:\n                # get the camera set up\n                self.initialize_camera()\n            video_name = dt.datetime.now().strftime(\n                '%m-%d-%Y_%H:%M:%S').replace(':', '-') + '.h264'\n            video_path = \"/home/pi\"\n            # copy the buffer to disk\n            print os.path.join(video_path, video_name)\n            self.stream.copy_to(os.path.join(video_path, video_name), seconds=6)\n            # add the MP4 wrapper to the h264 file using the MP4Box program\n            mp4_command = \"MP4Box -add '{0}' '{1}.mp4' -fps 24\".format(\n                os.path.join(video_path, video_name),\n                os.path.join(video_path, os.path.splitext(os.path.basename(video_name))[0]))\n            subprocess.call([mp4_command], shell=True)\n            # remove the original h264 file\n            os.remove(os.path.join(video_path, video_name))\n        except BaseException as err:\n            print 'error: {0} on line {1}\\r'.format(err, sys.exc_info()[-1].tb_lineno)\n        return\n\n\ndef main():\n    \"\"\"Main program\"\"\"\n    camera = Camera()\n    camera.initialize_camera()\n    camera.device.wait_recording(timeout=randint(9, 20))\n    camera.capture_video()\n    camera.stop_camera()\n    return\n\n\nif __name__ == '__main__':\n    main()\n    sys.exit(0)\n</code></pre>\n\n<p>I'm using the random integer to simulate different potential points that I could be attempting to capture the recorded data to disk. I have also tried extending/reducing the seconds parameter on the <code>PiCameraCircularIO</code> object and specifically adding the <code>intra_period</code>, <code>quality</code>, or <code>bitrate</code> parameters to the <code>start_recording</code> function without seeming to affect the overall result. Is there something silly I'm overlooking?</p>\n"}, {"tags": ["python", "google-drive-api", "pydrive"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8859258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab75ce97f92334d79eee514b34b40a05?s=128&d=identicon&r=PG&f=1", "display_name": "R S", "link": "https://stackoverflow.com/users/8859258/r-s"}, "edited": false, "score": 0, "creation_date": 1509579822, "post_id": 47065323, "comment_id": 81078930, "body": "I&#39;ve gone through the document and there seems to be no indication to if you can open files"}], "tags": [], "owner": {"reputation": 67, "user_id": 3381072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C7WdX.png?s=128&g=1", "display_name": "Salem Alqahtani", "link": "https://stackoverflow.com/users/3381072/salem-alqahtani"}, "is_accepted": false, "score": 0, "last_activity_date": 1509579575, "creation_date": 1509579575, "answer_id": 47065323, "question_id": 47065265, "link": "https://stackoverflow.com/questions/47065265/open-pdf-using-pydrive/47065323#47065323", "title": "open pdf using Pydrive", "body": "<p>You can use PyDrive library to upload or download any docs from google drive. I recommend you to go through the link below and see how it goes.\n<a href=\"https://pythonhosted.org/PyDrive/\" rel=\"nofollow noreferrer\">https://pythonhosted.org/PyDrive/</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8859258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab75ce97f92334d79eee514b34b40a05?s=128&d=identicon&r=PG&f=1", "display_name": "R S", "link": "https://stackoverflow.com/users/8859258/r-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509579575, "creation_date": 1509579062, "question_id": 47065265, "link": "https://stackoverflow.com/questions/47065265/open-pdf-using-pydrive", "title": "open pdf using Pydrive", "body": "<p>I was wondering if I could open a pdf from my google drive to a certain page on a browser tab using Pydrive. I saw threads where uploading and downloading files was possible so I assumed that simply opening files would be possible.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1509579221, "post_id": 47065244, "comment_id": 81078760, "body": "The figure always will be created, but in such simple cases it&#39;s not needed to do it explicitly. It might be in more complex cases (where more control over the plot is needed). Start <a href=\"https://matplotlib.org/users/artists.html\" rel=\"nofollow noreferrer\">here</a> for some internal-overview."}, {"owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "edited": false, "score": 0, "creation_date": 1509579349, "post_id": 47065244, "comment_id": 81078797, "body": "I love this question. I&#39;ve asked myself this question so often..."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 5, "last_activity_date": 1509625980, "last_edit_date": 1509625980, "creation_date": 1509580242, "answer_id": 47065412, "question_id": 47065244, "link": "https://stackoverflow.com/questions/47065244/do-i-need-a-figure-what-are-they-for/47065412#47065412", "title": "Do I need a figure? What are they for?", "body": "<p>A figure will always exist once you create some plot with matplotlib. </p>\n\n<p>The <a href=\"https://matplotlib.org/tutorials/introductory/usage.html#parts-of-a-figure\" rel=\"nofollow noreferrer\">introductory matplotlib page</a> may help here:</p>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/OlIW9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OlIW9.png\" alt=\"enter image description here\"></a></p>\n  \n  <p>The whole figure. The figure keeps track of all the child Axes, a smattering of \u2018special\u2019 artists (titles, figure legends, etc), and the canvas. (Don\u2019t worry too much about the canvas, it is crucial as it is the object that actually does the drawing to get you your plot, but as the user it is more-or-less invisible to you). A figure can have any number of Axes, but to be useful should have at least one.</p>\n</blockquote>\n\n<p>You can imagine the figure to be the white sheet of paper you draw a plot on. A figure has some size, maybe a background and most importantly it is the container for everything you draw into it. In most cases this will be one or more axes. If there wasn't any figure, there wouldn't be any sheet of paper to draw your plot to (you cannot draw a line in the air).</p>\n\n<p>Even if you haven't explicitely created the figure, it is automatically created in the background. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.plot([1,2,3])\n# at this point we already have a figure, because the plot needs to live somewhere\n# we can get a handle to the figure via\nfigure = plt.gcf()\n</code></pre>\n\n<p>Examples of when you explicitely need a figure:</p>\n\n<ul>\n<li><p>If you want to create a second figure.</p>\n\n<pre><code>plt.plot([1,2,3])\nplt.figure(2)\nplt.plot([2,4,6])\n</code></pre></li>\n<li><p>If you want to set the figure size or other figure parameters.</p>\n\n<pre><code>plt.figure(figsize=(5,4), dpi=72)\n</code></pre></li>\n<li><p>If you want to change the padding of the subplot(s).</p>\n\n<pre><code>fig, ax=plt.subplots()\nfig.subplots_adjust(bottom=0.2)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 349, "user_id": 3044940, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/26683a39cee53acc99d5c949566a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "Colin B", "link": "https://stackoverflow.com/users/3044940/colin-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 47065412, "answer_count": 1, "score": 3, "last_activity_date": 1509625980, "creation_date": 1509578892, "question_id": 47065244, "link": "https://stackoverflow.com/questions/47065244/do-i-need-a-figure-what-are-they-for", "title": "Do I need a figure? What are they for?", "body": "<p>I have begun using matplotlib and I am somewhat confused as to why figures exist. Sometimes I see code where a figure is declared and then a plot is made, and sometimes I see things like this:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndata = np.loadtxt('initial.dat','float')\nplt.plot(data[:,0], data[:,1])\nplt.xlabel(\"x (Angstroms)\")\nplt.ylabel(\"V (eV)\")\nplt.savefig('v.png',bbox_inches='tight')\nplt.clf()\n</code></pre>\n\n<p>I read the documentation on figure and plot, but I don't get it. Why do figures exist?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "matplotlib", "statistics"], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1509588156, "post_id": 47065329, "comment_id": 81080993, "body": "Maybe <code>df.plot.scatter(x=&#39;a&#39;, y=&#39;b&#39;, c=&#39;value&#39;, s=df[&#39;value&#39;]*200)</code>"}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509611676, "post_id": 47065329, "comment_id": 81089506, "body": "The problem with this solution is that it is absolutely bounded to two parameters. I mean, my bad, I know that I asked only about &quot;a&quot; and &quot;b&quot;, but actually it would be much more useful to be able to do it with n variables (a, b, c, d, e...). I&#39;m updating the question as probably it is better than create a new one."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509612942, "post_id": 47065329, "comment_id": 81090242, "body": "What would be the information you are trying to gain from the plot then? (If you try to be explicit, it would sure help, like what could a,b,c, be and what would I know about them after having looked at the plot?)"}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509662405, "post_id": 47065329, "comment_id": 81120995, "body": "@ImportanceOfBeingErnest the information I&#39;m trying to get is: what values of a, b,c, d.. are statistically more likely to generate (thanks to some calculations) higher results in the &quot;value&quot; column."}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509662413, "post_id": 47065329, "comment_id": 81120999, "body": "So, one example: lets say that I have some specific values in a, b, c, d that I know that generate the highest value in &quot;value&quot;. But may be that those values appears very few times, so statistically it is very difficult to get that higher result. Instead, would be better to get values for a,b,c,d that usually generates high results in &quot;value&quot;, although the result probably is not the highest possible. I&#39;ve added a new dataframe in the question trying to explain this"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509662884, "post_id": 47065329, "comment_id": 81121195, "body": "Your a,b,c,d are completely discrete. So I&#39;m completely lost on what kind of statistics you want to do here."}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509705671, "post_id": 47065329, "comment_id": 81136965, "body": "@ImportanceOfBeingErnest , I added some clarification about the question in edit3."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509709633, "post_id": 47065329, "comment_id": 81139346, "body": "The mathematical description of the problem is still not clear to me. It seems to be rather a maths problem than a programming problem. Or maybe you just want to sort the list by value and select the n topmost combinations?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509709984, "post_id": 47065329, "comment_id": 81139561, "body": "Is <code>f(3,2,1) == f(1,2,3) == f(2,3,1) == f(3,1,2) == f(1,3,2) == f(2,1,3)</code>?"}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509711642, "post_id": 47065329, "comment_id": 81140570, "body": "That&#39;s exactly the problem; I want to sort by value and then select and visualize the top n parameters.But keeping in mind that some values, although could be very high, if they appear just once is because it is not a statistically good result. Also, the order of numbers matters for the final result, so f(3,2,1) != f(1,2,3) != f(2,3,1). But the result will be similar for each parameter, so: f(3,5,2) ~= f(4,5,2) ~= f(2,5,2) and probably !~f(8,7,9)"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509711830, "post_id": 47065329, "comment_id": 81140689, "body": "I was under the impression that every combiniation a,b,c,d, appears just once. It&#39;s getting more and more abstruse."}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509712224, "post_id": 47065329, "comment_id": 81140974, "body": "Using your plot code and two variables, the result I&#39;m looking for is: Let&#39;s imagine that in your graphic there is one point, (1,2) for instance, with dark_value=1, darker than the other points, . All of the other points are not so dark, but this point is isolated in the visualization, in the bottom-left part. Then, in the upper-right part of the graphic, there are a bunch of points with a dark_value=0.9. They are not as dark as the darkest point, but probably, if I use values of (8,9), or (9,7), or (9,9), or (8,8), I&#39;ll get a high dark_value"}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509712313, "post_id": 47065329, "comment_id": 81141053, "body": "Your visualization was actually perfect, the problem is that it only works for 2-variable as it uses 2 axes, one for x and the other for y"}, {"owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "edited": false, "score": 0, "creation_date": 1509712439, "post_id": 47065329, "comment_id": 81141142, "body": "Cotinuing with the example in your graphic, if I use instead (1,1) or (2,2) I won&#39;t get a high dark_value"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 2, "last_activity_date": 1509579610, "creation_date": 1509579610, "answer_id": 47065329, "question_id": 47065228, "link": "https://stackoverflow.com/questions/47065228/how-to-plot-histogram-of-maximum-values-of-a-dataframe/47065329#47065329", "title": "how to plot histogram of maximum values of a dataframe", "body": "<p>I don't think there are any statistics involved here. You can plot the value as a function of a and b.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nA,B = np.meshgrid(np.arange(10),np.arange(10))\ndf = pd.DataFrame({\"a\" : A.flatten(), \"b\" : B.flatten(), \n                   \"value\" : np.random.rand(100)})\n\nax = df.plot.scatter(x=\"a\",y=\"b\", c=df[\"value\"])\n\nplt.colorbar(ax.collections[0])\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9ZfCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ZfCB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The darker the dots, the higher the value.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8409908, "user_type": "registered", "profile_image": "https://graph.facebook.com/1899157490300965/picture?type=large", "display_name": "Vasiliy Kirstia", "link": "https://stackoverflow.com/users/8409908/vasiliy-kirstia"}, "is_accepted": false, "score": 0, "last_activity_date": 1510594963, "creation_date": 1510594963, "answer_id": 47270380, "question_id": 47065228, "link": "https://stackoverflow.com/questions/47065228/how-to-plot-histogram-of-maximum-values-of-a-dataframe/47270380#47270380", "title": "how to plot histogram of maximum values of a dataframe", "body": "<p>This problem seems to be very complicated to solve it by one built-in function.</p>\n\n<p>I think it should be solved in this way:</p>\n\n<ol>\n<li>exclude outliers from data</li>\n<li>select n largest values</li>\n<li>summarize results with bar plot or any other</li>\n</ol>\n\n<h3>Clean data from outliers</h3>\n\n<p>We might choose any appropriate method for outliers detection e.g. 3*sigma, 1.5*IQR etc. I used 1.5*IQR in the example bellow.</p>\n\n<pre><code>cleaned_data = data[data['value'] &lt; 1.5 * stats.iqr(data['value'])]\n</code></pre>\n\n<h3>Select n largest values</h3>\n\n<p><em>Pandas</em> provides method <em>nlargest</em>, so you can use it to select n largest values:</p>\n\n<pre><code>largest_values = cleaned_data.nlargest(5, 'value')\n</code></pre>\n\n<p>or you can use interval of values</p>\n\n<pre><code>largest_values = cleaned_data[cleaned_data['value'] &gt; cleaned_data['value'].max() - 3]\n</code></pre>\n\n<h3>Summarize results</h3>\n\n<p>Here we should count ocurrences of values in each column and then plot this data.</p>\n\n<pre><code>melted = pd.melt(largest_values['here you should select columns with explanatory variables'])\ntable = pd.crosstab(melted['variable'], melted['value'])\ntable.plot.bar()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kRkrl.png\" rel=\"nofollow noreferrer\">example of resulting plot</a></p>\n"}], "owner": {"reputation": 109, "user_id": 8745371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0891bd953ae69713b999f4d75eb2f5a?s=128&d=identicon&r=PG&f=1", "display_name": "PandemicCode", "link": "https://stackoverflow.com/users/8745371/pandemiccode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510594963, "creation_date": 1509578830, "last_edit_date": 1509878623, "question_id": 47065228, "link": "https://stackoverflow.com/questions/47065228/how-to-plot-histogram-of-maximum-values-of-a-dataframe", "title": "how to plot histogram of maximum values of a dataframe", "body": "<p>I have a dataframe with 3 columns <code>df=[\"a\", \"b\", \"value\"]</code>. (Actually this is a snippet, the solution should be able to handle n variables, like \"a\", \"b\", \"c\", \"d\"...) In this case, the \"value\" column has been generated depending on the \"a\" and \"b\" value, doing something like:</p>\n\n<pre><code>        for a in range(1,10):\n            for b in range (1,10):\n                generate_value(a,b)\n</code></pre>\n\n<p>The resulting data is similar to:</p>\n\n<pre><code>  a b value\n0 1 1 0.23\n1 1 2 6.34\n2 1 3 0.25\n3 1 4 2.17\n4 1 5 5.97\n[...]\n</code></pre>\n\n<p>I want to know the statistical better combinations of \"a\" and \"b\" that gives me the bigger \"value\". So I want to draw some kind of histogram that shows me which values of \"a\" and \"b\" statistically generates bigger \"value\". I tried with something like:</p>\n\n<pre><code>fig = plot.figure()\nax=fig.add_subplot(111)\nax.hist(df[\"a\"],bins=50, normed=True)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code> plot.plot(df[\"a\"].values, df[\"value\"].values, \"o\")\n</code></pre>\n\n<p>But the results are not good. I think that I should use some kind of histogram or gauss bell curve, but I'm not sure how to plot it. </p>\n\n<p>So, how to plot the statistically better \"a\" and \"b\" to get maximum \"value\"? </p>\n\n<p><strong><em>Note:</em></strong> the answer 1 is perfect for two variables a and b, but the problem is that the correct answer would need to work for multiple variables, a, b, c, d...</p>\n\n<hr>\n\n<p><strong>Edit 1:</strong> Please note that although I'm asking about two variables, the solution can't be to bound \"a\" to axis x and \"b\" to axis y, as there may be more variables. So if we have \"a\", \"b\", \"c\", \"d\", \"e\", the solution should be valid</p>\n\n<p><strong>Edit 2:</strong> Trying to explain it better: Lets take the following dataframe:</p>\n\n<pre><code>  a b c d value\n0 1 6 9 7 0.23\n1 5 2 3 5 11.34\n2 6 7 8 4 0.25\n3 1 4 9 3 2.17\n4 1 5 9 1 4.97\n5 6 6 4 7 25.9\n6 3 5 5 2 10.37\n7 1 5 1 2 7.87\n8 2 5 3 3 8.12\n9 1 5 2 1 2.97\n10 7 5 4 9 5.97\n11 3 5 2 3 9.92\n[...]\n</code></pre>\n\n<p>The row 5 clearly is the winner, with a 25.9 value, so the supposedly better values of a,b,c,d are: 6 6 4 7 . But we can see that statistically it is a strange result, it is the only one so high with those values of a,b,c,d, so it is very unlikely that we're going to get, in the future, a high value choosing those values for a,b,c,d. Instead, seems much more safe to choose numbers that have generated \"value\" between 8 and 11. Although a 8 to 11 gain is less than 25.9, the probability that the values of a,b,c,d (5,2,3,3) generate this higher \"value\" is bigger</p>\n\n<p><strong>Edit 3:</strong> Although a,b,c,d are discrete, the combination/order of them will generate different results. I mean, there is a function that will return a value inside a small range, like: value=func(a,b,c,d). That value will depend not only on the values of a,b,c,d, but also on some random things. So, for instance, func(5,2,3,5) could return a value of 11.34, but it also could return a similar value, like 10.8, 9.5 or something like that (a range value between 8 and 11). Also, func(1,6,9,7) will return 0.23, or it could return 2.7, but probably it won't return 10.1 as it is also very far from its range.</p>\n\n<p>Following the the example, I'm trying to get the numbers that most probably will generate something in the range of 8-11 (well, the maximum). Probably the numbers I want to visualize somehow will be some kind of combination of numbers 3,5 and 2. But probably there won't be any 6,7,4 numbers, as they usually generate smaller \"value\" results</p>\n"}, {"tags": ["python", "pandas", "azure", "python-requests"], "comments": [{"owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "edited": false, "score": 0, "creation_date": 1509605712, "post_id": 47065193, "comment_id": 81086357, "body": "why dont you use requirements.txt?"}, {"owner": {"reputation": 303, "user_id": 4820012, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N_oT-55XkKE/AAAAAAAAAAI/AAAAAAAAGD8/p82YDrN7nZo/photo.jpg?sz=128", "display_name": "Justin Malinchak", "link": "https://stackoverflow.com/users/4820012/justin-malinchak"}, "reply_to_user": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "edited": false, "score": 0, "creation_date": 1509650001, "post_id": 47065193, "comment_id": 81115159, "body": "Exhausted every google search recommendation.  So, certainly, I have put the string into  requirements.txt.  The module &#39;requests&#39; is in the remote system, Azure  just seems to ignore it."}, {"owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "edited": false, "score": 0, "creation_date": 1509650392, "post_id": 47065193, "comment_id": 81115344, "body": "in this case i would ask if you are targeting the right version of python, you are probably targeting 3 and using 2 or vice versa"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 4820012, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N_oT-55XkKE/AAAAAAAAAAI/AAAAAAAAGD8/p82YDrN7nZo/photo.jpg?sz=128", "display_name": "Justin Malinchak", "link": "https://stackoverflow.com/users/4820012/justin-malinchak"}, "edited": false, "score": 0, "creation_date": 1510068324, "post_id": 47072356, "comment_id": 81272599, "body": "To fix this, you have ensure the web.config file points to the correct &quot;site-packages&quot; directory.  The default value is typically incorrect, especially if you add a new python version using Site Extension."}], "tags": [], "owner": {"reputation": 20458, "user_id": 8198946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRGKD.png?s=128&g=1", "display_name": "Jay Gong", "link": "https://stackoverflow.com/users/8198946/jay-gong"}, "is_accepted": true, "score": 1, "last_activity_date": 1509616710, "creation_date": 1509616710, "answer_id": 47072356, "question_id": 47065193, "link": "https://stackoverflow.com/questions/47065193/using-python-and-flask-in-azure-cannot-find-the-requests-file-module/47072356#47072356", "title": "Using Python and Flask in Azure cannot find the requests_file module", "body": "<p>You could configure your <code>requirements.txt</code> file in your flask project. </p>\n\n<p>Put the list of your python modules in the <code>requirements.txt</code>\n    requests==2.18.4 </p>\n\n<p>Install wheel module using below command</p>\n\n<pre><code>python.exe -m pip install wheel\n</code></pre>\n\n<p>Use Below Command to create wheel files inside wheelhouse folder in Local environment</p>\n\n<pre><code>python.exe -m pip wheel -r requirements.txt -w wheelhouse\n</code></pre>\n\n<p>Then upload your project to your azure web app.</p>\n\n<p>You could use code as below to test requests module </p>\n\n<pre><code>import requests\n\nr= requests.get(\"https://www.bing.com\")\nprint r.status_code\n</code></pre>\n\n<p>More details , please refer to this <a href=\"https://prmadi.com/install-python-modules-on-azure-app-services/\" rel=\"nofollow noreferrer\">blog</a> and this thread: <a href=\"https://stackoverflow.com/questions/41473801/publishing-mvc-app-that-uses-python-script\">Publishing MVC app that uses python script</a></p>\n\n<p>Hope it helps you.</p>\n"}], "owner": {"reputation": 303, "user_id": 4820012, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N_oT-55XkKE/AAAAAAAAAAI/AAAAAAAAGD8/p82YDrN7nZo/photo.jpg?sz=128", "display_name": "Justin Malinchak", "link": "https://stackoverflow.com/users/4820012/justin-malinchak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 47072356, "answer_count": 1, "score": 0, "last_activity_date": 1509616710, "creation_date": 1509578596, "question_id": 47065193, "link": "https://stackoverflow.com/questions/47065193/using-python-and-flask-in-azure-cannot-find-the-requests-file-module", "title": "Using Python and Flask in Azure cannot find the requests_file module", "body": "<p>In Azure, using Python with the Flask and pandas modules to create a RESTful webservice.   Azure doesn't appear able to find the requests_file module. </p>\n\n<p>Launching the web page keeps returning error: No module named requests_file</p>\n\n<p>I have installed \"requests\" and \"requests_file\" manually using the Kudu CLI https://\"yoursitename\".scm.azurewebsites.net/DebugConsole.</p>\n\n<p>They both appear to be there.  What am I missing or is there a bug in Azure?</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "django-signals"], "answers": [{"tags": [], "owner": {"reputation": 3517, "user_id": 8069748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9ZD9.png?s=128&g=1", "display_name": "Navid Zarepak", "link": "https://stackoverflow.com/users/8069748/navid-zarepak"}, "is_accepted": true, "score": 3, "last_activity_date": 1509579228, "creation_date": 1509579228, "answer_id": 47065284, "question_id": 47065170, "link": "https://stackoverflow.com/questions/47065170/access-primary-key-id-value-during-creation-of-a-django-record/47065284#47065284", "title": "Access primary key/id value during creation of a Django record", "body": "<p>Well there is no way you can access the ID before saving it.\nID will be generated by database so you have to call <code>save</code> method so django sends the data to database and then you'll have your ID</p>\n\n<p>This has been explained in django documentations too:</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/dev/ref/models/instances/#auto-incrementing-primary-keys\" rel=\"nofollow noreferrer\">Auto-incrementing primary keys</a></p>\n\n<p>If you really need to access the ID which is a unique identifier, you can create one manually.</p>\n\n<p>You can add a field called <code>my_id</code> and then give it a unique value before saving the data (you just need to check if that value already exist or not and if it does, then just create another one). This way you'll be able to get a unique ID which you'll be able to find that row with in future.</p>\n"}], "owner": {"reputation": 1641, "user_id": 4726424, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AC8aM.png?s=128&g=1", "display_name": "Stan Redoute", "link": "https://stackoverflow.com/users/4726424/stan-redoute"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "accepted_answer_id": 47065284, "answer_count": 1, "score": 2, "last_activity_date": 1610708618, "creation_date": 1509578438, "last_edit_date": 1610708618, "question_id": 47065170, "link": "https://stackoverflow.com/questions/47065170/access-primary-key-id-value-during-creation-of-a-django-record", "title": "Access primary key/id value during creation of a Django record", "body": "<p>For my model I use default auto-incremented <code>PrimaryKey/id</code> field. I also have a field called <code>serialNumber</code> which according to design should reference <code>id</code> and generate it's own value based on <code>id</code> value.\nFor example if <code>id</code> is <code>1234</code> then <code>serialNumber</code> field should be a string <code>'00001234'</code>.</p>\n\n<pre><code>class MyModel(models.Model):\n    ...\n    serialNumber = models.TextField(max_length=8)\n    ...\n</code></pre>\n\n<p>I have no trouble updating <code>serialNumber</code> after the creation of record in DB, but my specific case requires <code>serialNumber</code> to be set together with object initial creation because right after it I return the record via <code>REST API</code>.</p>\n\n<p>I tried using <code>signals</code>, but pre_save returns <code>None</code></p>\n\n<pre><code>@receiver(pre_save, sender=MyModel)\ndef my_pre_save(sender, instance, **kwargs):\n    print(instance.id)\n</code></pre>\n\n<p>On the other hand if I do: </p>\n\n<pre><code>@receiver(post_save, sender=MyModel)\ndef my_post_save(sender, instance, **kwargs):\n    print(instance.id)\n</code></pre>\n\n<p>I receive the value for <code>id</code> but it's too late because right after <code>.save()</code> my <code>REST API</code> returns response with created object and I don't want to add code that manages <code>serialNumber</code> to serializer. </p>\n\n<p>Overriding <code>.save()</code> method for <code>MyModel</code> didn't work either:</p>\n\n<pre><code>    def save(self, *args, **kwargs):\n        print(self.id)\n        super(MyModel, self).save(*args, **kwargs)\n</code></pre>\n\n<p><code>Id</code> field still returns <code>None</code>.</p>\n\n<p>Anyone has an idea how to access <code>id</code> value during initial creation of a record?</p>\n"}, {"tags": ["python", "list", "byte"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1509578418, "post_id": 47065157, "comment_id": 81078528, "body": "That is not a <code>list</code> in &quot;bytes format&quot;, that is a <code>bytes</code> object. This looks like your API is returning a JSON, why are you not decoding this JSON?"}, {"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509578574, "post_id": 47065157, "comment_id": 81078574, "body": "check here: <a href=\"https://stackoverflow.com/questions/40726217/length-of-binary-data-in-python\" title=\"length of binary data in python\">stackoverflow.com/questions/40726217/&hellip;</a>"}, {"owner": {"reputation": 1282, "user_id": 6567949, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c5fa74af896250f4a4c42d591ce4ddd9?s=128&d=identicon&r=PG&f=1", "display_name": "doctorer", "link": "https://stackoverflow.com/users/6567949/doctorer"}, "edited": false, "score": 0, "creation_date": 1509578623, "post_id": 47065157, "comment_id": 81078586, "body": "OK, thanks. Yes it is JSON that I am reading into a pandas <code>dataframe</code> <code>df= pd.read_json(data)</code> but it is creating a pandas exception when there is only one list, so I want to identify that case and trap it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1509578782, "post_id": 47065157, "comment_id": 81078627, "body": "@doctorer then the straight-forward way is to use <i>exception handling</i>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509579031, "post_id": 47065157, "comment_id": 81078699, "body": "@doctorer can you provide an example of a <code>bytes</code> object that is causing your <code>pd.read_json</code> to error out?"}, {"owner": {"reputation": 1282, "user_id": 6567949, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c5fa74af896250f4a4c42d591ce4ddd9?s=128&d=identicon&r=PG&f=1", "display_name": "doctorer", "link": "https://stackoverflow.com/users/6567949/doctorer"}, "edited": false, "score": 0, "creation_date": 1509580177, "post_id": 47065157, "comment_id": 81079027, "body": "I think you&#39;re right @ juanpa.arrivillaga that exception handling is the way to go.I was asking the wrong question, so may delete it."}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 6576351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94f05dcea7945eae7490a9edf2e1a53?s=128&d=identicon&r=PG&f=1", "display_name": "kar", "link": "https://stackoverflow.com/users/6576351/kar"}, "is_accepted": false, "score": 1, "last_activity_date": 1509578577, "creation_date": 1509578577, "answer_id": 47065189, "question_id": 47065157, "link": "https://stackoverflow.com/questions/47065157/how-to-find-length-of-list-in-byte-format/47065189#47065189", "title": "How to find length of list in byte format?", "body": "<p>If r is response then try calling r.json() method . It will convert to a list and then you can find the length of it . You can also use json.loads(r.text) by importing json(import json).</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1509584691, "creation_date": 1509584691, "answer_id": 47066001, "question_id": 47065157, "link": "https://stackoverflow.com/questions/47065157/how-to-find-length-of-list-in-byte-format/47066001#47066001", "title": "How to find length of list in byte format?", "body": "<p>You're getting the length of the bytes object, which is apparently the type of <code>data</code>, <strong>not</strong> a Python version of the JSON object to which it corresponds. </p>\n\n<p>A simple way to do it would be to first convert the data into the Python object equivalent of the byte-string using <code>json.loads()</code>. Here's what I mean:</p>\n\n<pre><code>import json\n\ndata = (b'[{\"dict1_list1\":[1,2,3],\"dict1_list2\":[4,5,6]},'\n         b'{\"dict2_list1\":[1,2,3],\"dict2_list2\":[4,5,6]}]')\n\nprint(len(json.loads(data)))  # -&gt; 2\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 6567949, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c5fa74af896250f4a4c42d591ce4ddd9?s=128&d=identicon&r=PG&f=1", "display_name": "doctorer", "link": "https://stackoverflow.com/users/6567949/doctorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509584691, "creation_date": 1509578321, "last_edit_date": 1509584057, "question_id": 47065157, "link": "https://stackoverflow.com/questions/47065157/how-to-find-length-of-list-in-byte-format", "title": "How to find length of list in byte format?", "body": "<p>I have a data variable which contains a <code>list</code> of <code>dicts</code> of <code>lists</code> that i have fetched from an api, formatted as <code>bytes</code>. The list is variable in length.</p>\n\n<pre><code>In: data\nOut: b'[{\"dict1_list1\":[1,2,3],\"dict1_list2\":[4,5,6]},{\"dict2_list1\":[1,2,3],\"dict2_list2\":[4,5,6]}]'\n</code></pre>\n\n<p>I want to identify when there is only one dict in the list (i.e. the api has run out of data)</p>\n\n<pre><code>In: data\nOut: b'[{\"onlydict_list1\":[1,2,3],\"onlydict_list2\":[4,5,6]}]'\n</code></pre>\n\n<p>but because data is formatted as <code>byte</code> I cannot return the length of the list.</p>\n\n<pre><code>In: len(data)\nOut: 53  # Not '1' as I would like\n</code></pre>\n\n<p>How can I identify the length of the list within the <code>b'[....]'</code>?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "regression"], "answers": [{"tags": [], "owner": {"reputation": 946, "user_id": 7474256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f0433d501f9ce22f273675767b0509?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian Ying", "link": "https://stackoverflow.com/users/7474256/fabian-ying"}, "is_accepted": false, "score": 1, "last_activity_date": 1509579913, "creation_date": 1509579913, "answer_id": 47065372, "question_id": 47065068, "link": "https://stackoverflow.com/questions/47065068/how-to-find-a-regression-model-for-data-y-1-x/47065372#47065372", "title": "How to find a regression model for data y = 1/x", "body": "<p>As long as it is a linear transformation of y = 1/x (i.e. y = a/x + b for some parameters a, b), you can always try fitting y to z1 = 1/x via linear regression. (In other words, you take the inverse of every x datapoint and fit it with y. It should roughly show a straight line, if y = a/x + b.)</p>\n\n<p>Similarly, if the linear transformation is in x (i.e. y = 1/(ax + b)), then you can try fitting z2 = 1/y to x.</p>\n"}], "owner": {"reputation": 381, "user_id": 6322860, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-KDDc9YjQzWs/AAAAAAAAAAI/AAAAAAAAAIg/X-guFCYurg0/photo.jpg?sz=128", "display_name": "Ekaterina Tcareva", "link": "https://stackoverflow.com/users/6322860/ekaterina-tcareva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "closed_date": 1509645453, "answer_count": 1, "score": 0, "last_activity_date": 1509579913, "creation_date": 1509577743, "question_id": 47065068, "link": "https://stackoverflow.com/questions/47065068/how-to-find-a-regression-model-for-data-y-1-x", "closed_reason": "Needs more focus", "title": "How to find a regression model for data y = 1/x", "body": "<p>I am working on a regression problem with only one feature. <a href=\"https://i.stack.imgur.com/qnejZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnejZ.png\" alt=\"x is a feature and y is the output\"></a></p>\n\n<p>it looks like it could be describe as y = 1/x with some transformations. How can I find the model for it? I am using python with scikit-learn.  </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8786892, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10214430197850606/picture?type=large", "display_name": "user8786892", "link": "https://stackoverflow.com/users/8786892/user8786892"}, "edited": false, "score": 0, "creation_date": 1509580459, "post_id": 47065099, "comment_id": 81079115, "body": "thanks, sorry my question wasn&#39;t right so I just edited it. I was looking for %"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1509580528, "last_edit_date": 1509580528, "creation_date": 1509577946, "answer_id": 47065099, "question_id": 47065056, "link": "https://stackoverflow.com/questions/47065056/how-to-find-the-increasing-values-in-a-dict/47065099#47065099", "title": "How to find the increasing values in a dict?", "body": "<p>Your dictionary is not structured correctly, however, I implemented the correct dictionary below and provided a solution.</p>\n\n<pre><code>data = {'1991': {'0-to-14-percent': 20.85, 'year': '1991', '0-to-14 count': 5692555.0, '65-and-over-count': 3169970.0, '65-and-over-percent': 11.61, '15-to-64-count': 18434335.0, 'total-count': 27296860.0, '15-to-64-percent': 67.53}, '1981': {'0-to-14-percent': 22.52, 'year': '1981', '0-to-14 count': 5481100.0, '65-and-over-count': 2360975.0, '65-and-over-percent': 9.7, '15-to-64-count': 16501100.0, 'total-count': 24343175.0, '15-to-64-percent': 67.79}, '1941': {'0-to-14-percent': 27.8, 'year': '1941', '0-to-14 count': 3198551.0, '65-and-over-count': 767815.0, '65-and-over-percent': 6.67, '15-to-64-count': 7540289.0, 'total-count': 11506655.0, '15-to-64-percent': 65.53}, '1941':{'0-to-14-percent': 27.8, 'year': '1941', '0-to-14 count': 3198551.0, '65-and-over-count': 767815.0, '65-and-over-percent': 6.67, '15-to-64-count': 7540289.0, 'total-count': 11506655.0, '15-to-64-percent': 65.53}}\nfinal_data = {a:b['65-and-over-percent'] for a, b in data.items()}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'1991': 11.61, '1941': 6.67, '1981': 9.7}\n</code></pre>\n\n<p>If you just want a list:</p>\n\n<pre><code>final_data = [b['65-and-over-percent'] for a, b in data.items()]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[11.61, 6.67, 9.7]\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8786892, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10214430197850606/picture?type=large", "display_name": "user8786892", "link": "https://stackoverflow.com/users/8786892/user8786892"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1509580528, "creation_date": 1509577681, "last_edit_date": 1509579470, "question_id": 47065056, "link": "https://stackoverflow.com/questions/47065056/how-to-find-the-increasing-values-in-a-dict", "title": "How to find the increasing values in a dict?", "body": "<p>After selected and put data into a dict from the census data on population, I have:</p>\n\n<pre><code>data = {'1991': {'0-to-14-percent': 20.85, 'year': '1991', '0-to-14 count': 5692555.0, '65-and-over-count': 3169970.0, '65-and-over-percent': 11.61, '15-to-64-count': 18434335.0, 'total-count': 27296860.0, '15-to-64-percent': 67.53}, '1981': {'0-to-14-percent': 22.52, 'year': '1981', '0-to-14 count': 5481100.0, '65-and-over-count': 2360975.0, '65-and-over-percent': 9.7, '15-to-64-count': 16501100.0, 'total-count': 24343175.0, '15-to-64-percent': 67.79}, '1941': {'0-to-14-percent': 27.8, 'year': '1941', '0-to-14 count': 3198551.0, '65-and-over-count': 767815.0, '65-and-over-percent': 6.67, '15-to-64-count': 7540289.0, 'total-count': 11506655.0, '15-to-64-percent': 65.53}, ('1941', {'0-to-14-percent': 27.8, 'year': '1941', '0-to-14 count': 3198551.0, '65-and-over-count': 767815.0, '65-and-over-percent': 6.67, '15-to-64-count': 7540289.0, 'total-count': 11506655.0, '15-to-64-percent': 65.53})\n</code></pre>\n\n<p>I'm trying to get the year in order, then check if the % are always increasing over those years (return Yes if it is increasing). Thank you. </p>\n"}, {"tags": ["python", "python-3.x", "subprocess"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1509577981, "post_id": 47065051, "comment_id": 81078385, "body": "That&#39;s not Python 3."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user689842"}, "edited": false, "score": 0, "creation_date": 1509607228, "post_id": 47065106, "comment_id": 81087134, "body": "You seem to be right! However, I am 100% sure that I downloaded the Python 3.6.3 binaries for Mac. Were the Python.org binaries built wrong? Or do I have to manually configure the runtime to execute Python 3?"}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": true, "score": 3, "last_activity_date": 1509577997, "creation_date": 1509577997, "answer_id": 47065106, "question_id": 47065051, "link": "https://stackoverflow.com/questions/47065051/using-python-to-run-an-os-command/47065106#47065106", "title": "Using Python to run an OS command", "body": "<p>It looks like you are actually running your code with Python 2. \n See <a href=\"https://docs.python.org/2/library/functions.html#input\" rel=\"nofollow noreferrer\">the docs</a> for python 2, which say:</p>\n\n<blockquote>\n  <p><strong>input([prompt])</strong><br>\n  Equivalent to eval(raw_input(prompt)).</p>\n</blockquote>\n\n<p>That is, it will read <em>and execute</em> your response as a Python statement.</p>\n\n<p>Compare that to Python 3, in which <code>input</code> simply returns your response.</p>\n\n<hr>\n\n<p>Some tests you can do:</p>\n\n<ol>\n<li><p>Run <code>python</code>.  Do you see something that looks like this:</p>\n\n<pre><code>Python 2.7.13 (default, Sep  5 2017, 08:53:59) \n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>Python 3.6.2 (default, Oct  2 2017, 16:51:32) \n</code></pre></li>\n<li><p>If <code>python</code> gets you python 2.x, try running your code with <code>python3</code>.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "is_accepted": false, "score": 0, "last_activity_date": 1509578048, "creation_date": 1509578048, "answer_id": 47065115, "question_id": 47065051, "link": "https://stackoverflow.com/questions/47065051/using-python-to-run-an-os-command/47065115#47065115", "title": "Using Python to run an OS command", "body": "<p>Looks like you've accidentally run it with a Python 2 interpreter. While it works fine in Python 3:</p>\n\n<pre><code>$ python3\nPython 3.6.1 (default, Jul  4 2017, 10:24:05) \n[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; input(\"Press any key\")\nPress any key\n''\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Whereas Python 2 tries to eval the response and give a syntax error</p>\n\n<pre><code>$ python2\nPython 2.7.13 (default, Dec 23 2016, 05:05:58) \n[GCC 4.2.1 Compatible Apple LLVM 7.0.2 (clang-700.1.81)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; input(\"Press any key\")\nPress any key\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;string&gt;\", line 0\n\n    ^\nSyntaxError: unexpected EOF while parsing\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user689842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 0, "accepted_answer_id": 47065106, "answer_count": 2, "score": -1, "last_activity_date": 1509578048, "creation_date": 1509577647, "question_id": 47065051, "link": "https://stackoverflow.com/questions/47065051/using-python-to-run-an-os-command", "title": "Using Python to run an OS command", "body": "<p>I am trying to use Python to execute an OS command and wait for any key to be pressed by the user. I expected the following code to execute gracefully...</p>\n\n<pre><code>import os\nos.system(\"ls\") \ninput(\"Press any key\")\n</code></pre>\n\n<p>...however I get the following output after pressing <em>ENTER</em>:</p>\n\n<pre><code>Press any key\nTraceback (most recent call last):\n  File \"/Users/user/test.py\", line 4, in &lt;module&gt;\n    input(\"Press any key\")\n  File \"&lt;string&gt;\", line 0\n\n    ^\nSyntaxError: unexpected EOF while parsing\n</code></pre>\n\n<p>I am on Python 3.6.3 running on MacOS High Sierra. Any ideas?</p>\n"}, {"tags": ["python", "django", "models"], "comments": [{"owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "edited": false, "score": 0, "creation_date": 1509577682, "post_id": 47065010, "comment_id": 81078297, "body": "Can a listing be booked by more than one person? You don&#39;t need a new field, you need a relationship"}, {"owner": {"reputation": 176, "user_id": 8241280, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f1fea0aede5edf26e42c161a28a6710?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly ", "link": "https://stackoverflow.com/users/8241280/kelly"}, "reply_to_user": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "edited": false, "score": 0, "creation_date": 1509578180, "post_id": 47065010, "comment_id": 81078453, "body": "No, only by one person. So in my Booking model I would have something like &quot; listing = models.OneToOneField(Listing, on_delete, etc...)?"}], "answers": [{"tags": [], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "is_accepted": false, "score": 7, "last_activity_date": 1509578345, "last_edit_date": 1509578345, "creation_date": 1509577951, "answer_id": 47065100, "question_id": 47065010, "link": "https://stackoverflow.com/questions/47065010/using-a-django-model-as-a-field-for-another-model/47065100#47065100", "title": "Using a django model as a field for another model?", "body": "<p>I'm not 100% sure what you mean by <em>use Listing as a field</em></p>\n\n<p>But to me, you should be looking at the different built-in model relationships that exist in Django.</p>\n\n<p>In your particular case, you will probably want to use a <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/examples/one_to_one/\" rel=\"noreferrer\">One-to-One</a> relationship like so,</p>\n\n<pre><code>class Listing(models.Model):\n    address = models.IntegerField()\n    owner = models.CharField(max_length=256)\n    duration =  models.DurationField()\n    price= models.IntegerField()\n\nclass Booking(models.Model):\n    listing= models.OneToOneField(\n    Listing,\n    on_delete=models.CASCADE,\n    )\n    username = models.Charfield()\n</code></pre>\n\n<p>Now if a user can book more than one apartment at a time, you'll be interested in a <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/examples/many_to_one/\" rel=\"noreferrer\">ForeignKey</a> relationship like so,</p>\n\n<pre><code>class Listing(models.Model):\n    address = models.IntegerField()\n    owner = models.CharField(max_length=256)\n    duration =  models.DurationField()\n    price= models.IntegerField()\n\nclass Booking(models.Model):\n    listing= models.ForeignKey(\n    Listing,\n    on_delete=models.CASCADE,\n    )\n    username = models.Charfield()\n</code></pre>\n\n<p>Note that in both examples I used <code>Charfield</code> for the username, feel free to use whatever Django field you need. </p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 8241280, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f1fea0aede5edf26e42c161a28a6710?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly ", "link": "https://stackoverflow.com/users/8241280/kelly"}, "edited": false, "score": 0, "creation_date": 1509578414, "post_id": 47065129, "comment_id": 81078527, "body": "Thank you so much! Inheritance is what I was looking for"}], "tags": [], "owner": {"reputation": 1536, "user_id": 6005145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8d0SktavI-o/AAAAAAAAAAI/AAAAAAAAAxU/Zrxn56xszBE/photo.jpg?sz=128", "display_name": "schrodigerscatcuriosity", "link": "https://stackoverflow.com/users/6005145/schrodigerscatcuriosity"}, "is_accepted": true, "score": 3, "last_activity_date": 1509578148, "creation_date": 1509578148, "answer_id": 47065129, "question_id": 47065010, "link": "https://stackoverflow.com/questions/47065010/using-a-django-model-as-a-field-for-another-model/47065129#47065129", "title": "Using a django model as a field for another model?", "body": "<p>The concept of a model as field is odd. What you can do is establish relationships between models, or to inherit one from the other. Given your situation, you can maybe inherit Booking from Listing:</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.11/topics/db/models/#model-inheritance\" rel=\"nofollow noreferrer\">The docs on this topic.</a></p>\n\n<p>You'll have something like this:</p>\n\n<pre><code>class Listing(models.Model):\n    address = models.IntegerField()\n    owner = models.CharField(max_length=256)\n    duration =  models.DurationField()\n    price= models.IntegerField()\n\nclass Booking(Listing):\n    #your new fields\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 8241280, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f1fea0aede5edf26e42c161a28a6710?s=128&d=identicon&r=PG&f=1", "display_name": "Kelly ", "link": "https://stackoverflow.com/users/8241280/kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4637, "favorite_count": 0, "accepted_answer_id": 47065129, "answer_count": 2, "score": 4, "last_activity_date": 1564174633, "creation_date": 1509577422, "question_id": 47065010, "link": "https://stackoverflow.com/questions/47065010/using-a-django-model-as-a-field-for-another-model", "title": "Using a django model as a field for another model?", "body": "<p>I have been tasked with creating Django Models for a hypothetical apartment booking application.</p>\n\n<p>My question is: can I use a model that I've defined, as a field in another model?</p>\n\n<p>For example, I will have one model called \"Listing\" that represents an apartment being listed.</p>\n\n<pre><code>class Listing(models.Model):\n    address = models.IntegerField()\n    owner = models.CharField(max_length=256)\n    duration =  models.DurationField()\n    price= models.IntegerField()\n</code></pre>\n\n<p>I also want to have a \"Booking\" model that represents an apartment once someone has booked it.  It will have the exact same info as a Listing, with the addition of the username of the person who booked it.  So can I have my Booking model use Listing as a field? And then just have one extra field for the booker's username.</p>\n\n<p>Any other tips/critiques are highly appreciated as I am a complete beginner at Django.</p>\n"}, {"tags": ["python", "python-3.x", "attributeerror", "nonetype"], "comments": [{"owner": {"reputation": 990, "user_id": 4217085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e707345996a53035a3f745308f38b454?s=128&d=identicon&r=PG&f=1", "display_name": "sgrg", "link": "https://stackoverflow.com/users/4217085/sgrg"}, "edited": false, "score": 1, "creation_date": 1509577449, "post_id": 47064968, "comment_id": 81078227, "body": "What value does <code>set_player_weapon()</code> return?"}, {"owner": {"reputation": 946, "user_id": 7474256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f0433d501f9ce22f273675767b0509?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian Ying", "link": "https://stackoverflow.com/users/7474256/fabian-ying"}, "edited": false, "score": 1, "creation_date": 1509577533, "post_id": 47064968, "comment_id": 81078253, "body": "Do you have any documentation on how the <code>player</code> module works?"}, {"owner": {"reputation": 47, "user_id": 7834359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff424e61716747b93492ac1aed687c78?s=128&d=identicon&r=PG", "display_name": "Bernardozomer", "link": "https://stackoverflow.com/users/7834359/bernardozomer"}, "edited": false, "score": 0, "creation_date": 1509577618, "post_id": 47064968, "comment_id": 81078276, "body": "<code>return set_player_weapon()   [Previous line repeated 995 more times] RecursionError: maximum recursion depth exceeded</code>"}, {"owner": {"reputation": 47, "user_id": 7834359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff424e61716747b93492ac1aed687c78?s=128&d=identicon&r=PG", "display_name": "Bernardozomer", "link": "https://stackoverflow.com/users/7834359/bernardozomer"}, "reply_to_user": {"reputation": 946, "user_id": 7474256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f0433d501f9ce22f273675767b0509?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian Ying", "link": "https://stackoverflow.com/users/7474256/fabian-ying"}, "edited": false, "score": 0, "creation_date": 1509577880, "post_id": 47064968, "comment_id": 81078351, "body": "What do you mean, @FabianYing?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7834359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff424e61716747b93492ac1aed687c78?s=128&d=identicon&r=PG", "display_name": "Bernardozomer", "link": "https://stackoverflow.com/users/7834359/bernardozomer"}, "edited": false, "score": 0, "creation_date": 1509577828, "post_id": 47065049, "comment_id": 81078335, "body": "I did this : <code>def set_player_weapon():         import items         player_weapon = items.WBrokenSword         player_damage = player_weapon.damage         return player_weapon, player_damage</code>, that resulted in this: <code>AttributeError: &#39;tuple&#39; object has no attribute &#39;player_damage&#39;</code>"}, {"owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "reply_to_user": {"reputation": 47, "user_id": 7834359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff424e61716747b93492ac1aed687c78?s=128&d=identicon&r=PG", "display_name": "Bernardozomer", "link": "https://stackoverflow.com/users/7834359/bernardozomer"}, "edited": false, "score": 1, "creation_date": 1509578102, "post_id": 47065049, "comment_id": 81078422, "body": "Only objects have attributes that can be accessed with dot notation. You access data in tuples either by unpacking them into variables: <code>weapon, damage = set_p_w</code> or with bracket notation: <code>player_damage = set_p_w[0]</code>"}], "tags": [], "owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "is_accepted": true, "score": 1, "last_activity_date": 1509578640, "last_edit_date": 1509578640, "creation_date": 1509577628, "answer_id": 47065049, "question_id": 47064968, "link": "https://stackoverflow.com/questions/47064968/attributeerror-nonetype-object-has-no-attribute-foo/47065049#47065049", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;foo&#39;", "body": "<p>From the code you posted, <code>player.set_player_weapon()</code> doesn\u2019t return anything. So <code>set_p_w</code> is nothing. You are interacting with <code>set_p_w</code> as if it is an object, but <code>set_player_weapon()</code> doesn\u2019t create an object, it just sets two local variables (<code>player_weapon</code> and <code>player_damage</code>) and then discards them when the function ends.</p>\n\n<p>The simplest way to get this to work is to have your <code>player.set_player_weapon()</code> method return a tuple with that information so it can be stored in the a variable outside the function: <code>(player_weapon, player_damage)</code>.</p>\n\n<p><strong>Tuple Method</strong></p>\n\n<pre><code>def set_player_weapon():\n    import items\n    player_weapon = items.WBrokenSword\n    player_damage = player_weapon.damage\n    return (player_weapon, player_damage)\n\nplayer_weapon_damage = player.set_player_weapon()\nPlayerDamage = Dice * player_weapon_damage[0]\n</code></pre>\n\n<p>A better way would be to make an class for <code>Player</code> which has the attributes <code>player_weapon</code> and <code>player_damage</code> as well as methods like <code>def set_player_weapon()</code> that set and change its attributes. </p>\n"}], "owner": {"reputation": 47, "user_id": 7834359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff424e61716747b93492ac1aed687c78?s=128&d=identicon&r=PG", "display_name": "Bernardozomer", "link": "https://stackoverflow.com/users/7834359/bernardozomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 47065049, "answer_count": 1, "score": 0, "last_activity_date": 1509578640, "creation_date": 1509577173, "question_id": 47064968, "link": "https://stackoverflow.com/questions/47064968/attributeerror-nonetype-object-has-no-attribute-foo", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;foo&#39;", "body": "<p>I'm getting this error:</p>\n\n<pre><code>[...], line 28, in &lt;module&gt;\n    PlayerDamage = Dice * int(set_p_w.player_damage)\nAttributeError: 'NoneType' object has no attribute 'player_damage'\n</code></pre>\n\n<p>When I run this code:</p>\n\n<pre><code>import player\nDice = random.randrange(1, 7)\nset_p_w = player.set_player_weapon()\nPlayerDamage = Dice * set_p_w.player_damage\n</code></pre>\n\n<p>This is how <code>player.set_player_weapon()</code> looks like:</p>\n\n<pre><code>def set_player_weapon():\n    import items\n    player_weapon = items.WBrokenSword\n    player_damage = player_weapon.damage\n</code></pre>\n\n<p>I searched everywhere and tried a bunch of different solutions, but nothing helped me. What is wrong with my code?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1509577717, "post_id": 47065011, "comment_id": 81078309, "body": "because verbosity. Typing 3 extra symbols, reading then back - dictionaries are not &quot;clean&quot;. If you are on an internaitonal keyboard, usually <code>&#39;</code> maps to a dead letter, and have to be followed by pressing Space - that is full 6 keystrokes besides the namespace variable just to get to <code>x</code>."}], "tags": [], "owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "is_accepted": false, "score": 1, "last_activity_date": 1509577913, "last_edit_date": 1509577913, "creation_date": 1509577430, "answer_id": 47065011, "question_id": 47064953, "link": "https://stackoverflow.com/questions/47064953/using-a-class-as-a-container-object-for-local-variables-as-an-alternative-to-no/47065011#47065011", "title": "Using a class as a container object for local variables as an alternative to &#39;nonlocal&#39; in Python", "body": "<p>Why not just use a <code>dict</code> instead of the class. This removes some of the \"hackyness\" and is Python 2 compatible:</p>\n\n<pre><code>def f():\n    state=dict(x=0)\n\n    def _g():\n        state[\"x\"] = 1\n\n    def _h():\n        x = 2\n    _g()\n    _h()\n    print(state[\"x\"])\nf() # 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509579724, "post_id": 47065027, "comment_id": 81078905, "body": "So you you think that instantiating a class for the side effects of its __init__() method and throwing away the resulting object is a good pattern? Did I understand you correctly?"}, {"owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509601201, "post_id": 47065027, "comment_id": 81084513, "body": "Obviously you did mean that. I just didn&#39;t expect such an answer, since some other experienced Stackoverflower had called it a hack in an earlier question. But why not? After all, this creates an object because it is necessary and throws it aways when it has done it&#39;s job. And since object creation has a function call syntax, we use the function casing. Great. I believe this pattern would work in C++ too."}, {"owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509601235, "post_id": 47065027, "comment_id": 81084531, "body": "Your info about SimpleNameSpace was interesting too. Thanks."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "reply_to_user": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509631003, "post_id": 47065027, "comment_id": 81102575, "body": "&quot;Instantiating an object&quot; is not an efficiency worry we should have while writing Python code. You see, even the &quot;cool&quot; pattern to swap two variables: <code>a, b = b, a</code> creates a tuple and destroys it back.  The twists you&#39;d come around in readability for using nested functions are not worth it by far."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "reply_to_user": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509633389, "post_id": 47065027, "comment_id": 81104310, "body": "It is just a &quot;stdlib sugar&quot; for <code>class SimpleNamespace(object): pass</code> anyway."}, {"owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "edited": false, "score": 0, "creation_date": 1509697898, "post_id": 47065027, "comment_id": 81131992, "body": "About the class solution (instantiating an object only for the side effects of the instantiating): I was not thinking about performance. I was thinking about the pattern&#39;s acceptance in the community. I have definitely got some negative feedback from experienced people on StackOverflow on a similar question (later deleted) in the recent past (&quot;This is a hack&quot;). But @jsbueno and some more thinking convinced me that this is a good pattern."}], "tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": true, "score": 3, "last_activity_date": 1509577514, "creation_date": 1509577514, "answer_id": 47065027, "question_id": 47064953, "link": "https://stackoverflow.com/questions/47064953/using-a-class-as-a-container-object-for-local-variables-as-an-alternative-to-no/47065027#47065027", "title": "Using a class as a container object for local variables as an alternative to &#39;nonlocal&#39; in Python", "body": "<p>Your \"last resort\" alernative is of course cleaner - if you can do it in flattened methods that share an state, that is more readable code than nested functions to do the same job. \"Flat is better than nested\".</p>\n\n<p>Other than that, you are creating a class to have a namespace. You could simply create an object to work as namespace, and it would work as a namespace - that is more usual. The only thing there is that if you simply create an instance of <code>object</code> itself, it can't work as namespace, because it have no <code>__dict__</code>, so you can't freely attribute objects for this.</p>\n\n<p>That is why buried in the <code>types</code> module in the stdlib there is a class named <code>SimpleNamespace</code> exactly for this use case.</p>\n\n<p>Just do:</p>\n\n<pre><code>from types import SimpleNamespace\n\ndef f():\n    state = SimpleNamespace()\n    state.x = 0\n    ...\n</code></pre>\n\n<p>(but only if you don't change your mind and go for the class-based solution which is cleaner anyway).</p>\n"}], "owner": {"reputation": 570, "user_id": 3246135, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b7765949b68c1d295858f4cf9bd9ceb1?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/3246135/nilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 2, "accepted_answer_id": 47065027, "answer_count": 2, "score": 1, "last_activity_date": 1509713626, "creation_date": 1509577070, "last_edit_date": 1509713626, "question_id": 47064953, "link": "https://stackoverflow.com/questions/47064953/using-a-class-as-a-container-object-for-local-variables-as-an-alternative-to-no", "title": "Using a class as a container object for local variables as an alternative to &#39;nonlocal&#39; in Python", "body": "<p><strong>Question</strong></p>\n\n<p>In Python, if I have a function with local variables and nested functions, I can assign these variables in the nested functions with the help of nonlocal:</p>\n\n<pre><code>def f():\n    x = 0\n    def _g():\n        nonlocal x\n        x = 1\n    def _h():\n        x = 2\n    _g()\n    _h()\n    print(x)\nf() # 1\n</code></pre>\n\n<p>My issue with this solution is that if I have many local variables in f(), the use of nonlocal is verbose, and more disturbingly, it is very easy to forget nonlocal for a variable, and to create local variables in the nested functions without noticing it (what did I really mean in the h() function above, for instance?).</p>\n\n<p>I have seen and used an alternative:</p>\n\n<pre><code>def f():\n    class state:\n        x = 0\n    def _g():\n        state.x = 1\n    def _h():\n        x = 2\n    _g()\n    _h()\n    print(state.x)\nf() # 1\n</code></pre>\n\n<p>If uses the fact that a class in Python is actually an object too. Using 'class' that way is actually the least verbose way of creating a mutable container for local values (I believe).</p>\n\n<p>I think there are two questionable aspects in this pattern:</p>\n\n<ul>\n<li>That particular use of the 'class'-keyword might be considered as a hack.</li>\n<li>Since the container is somewhat artificial, it is sometimes difficult to find a good name for it (I went so far as testing the use of the name 'self' for it, but that seemed even more like a hack).</li>\n</ul>\n\n<p>Is this a good pattern? What alternatives do you usually use?</p>\n\n<p>If StackOverflow is not the right forum for this question, please advise on a different forum that you think is better suited (I did read the FAQs, but what the correct forum is for this question not obvious to me).</p>\n\n<p>Thanks in advance.</p>\n\n<p>P.S.</p>\n\n<p>For the sake of completeness, there is at least one more alternative, which feels even more like a hack:</p>\n\n<pre><code>class f:\n    def __init__(self):\n        self.x = 0\n        self._g()\n        self._h()\n        print(self.x)\n    def _g(self):\n        self.x = 1\n    def _h(self):\n        x = 2\nf() # 1\n</code></pre>\n\n<p>This works because in Python, class instantiation has the same syntax as a function call.</p>\n\n<p><strong>Answer</strong></p>\n\n<p>See the accepted answer below. For a discussion about a solution when the function needs to return a value see <a href=\"https://codereview.stackexchange.com/a/179294/36066\">there</a>.</p>\n"}, {"tags": ["python", "factors"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 2, "creation_date": 1509576772, "post_id": 47064885, "comment_id": 81078005, "body": "This isn&#39;t Java code. Did you by chance mean to use <code>python</code> tag?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1509576942, "post_id": 47064885, "comment_id": 81078057, "body": "try concatenating the results within the loop, something like <code>divisors += str(valueD)+&quot; &quot;</code>"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1509576966, "post_id": 47064885, "comment_id": 81078067, "body": "@KenWhite you&#39;re right! i am so sorry, I meant to put python. Thank you!"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1509576993, "post_id": 47064885, "comment_id": 81078077, "body": "@downshift you are right! thank you for editing it!"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1509577060, "post_id": 47064885, "comment_id": 81078100, "body": "@downshift that seems to work however when it prints I get 28 14 9 7 5 4 4 3 3 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1509577085, "post_id": 47064885, "comment_id": 81078108, "body": "If this is Python 3, <code>if isinstance(valueD,int) == True</code> will never be true, if it is Python 2, it will <i>always</i> be True, assuming <code>count</code> is always an <code>int</code>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1509577145, "post_id": 47064885, "comment_id": 81078132, "body": "@ethanlee well, that&#39;s a different question, at least you&#39;ve got different output now and can debug more"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509577150, "post_id": 47064885, "comment_id": 81078135, "body": "@juanpa.arrivillaga how would I fix it? is there a way to tell if it is a double or an int"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1509577193, "post_id": 47064885, "comment_id": 81078146, "body": "@downshift yes, thank you, I might just reiterate through it and remove any second instances. This doesn&#39;t need to be too optimized"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1509577248, "post_id": 47064885, "comment_id": 81078168, "body": "Yes, you use <code>isinstance</code> but that isn&#39;t what you want to know. It is either <i>always</i> and <code>int</code>, or <i>always</i> a <code>float</code> (python doesn&#39;t have a <code>double</code> type)"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509577345, "post_id": 47064885, "comment_id": 81078202, "body": "@juanpa.arrivillaga ok, i used a modulus operator instead to check if the return is 0"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1509577425, "post_id": 47064885, "comment_id": 81078225, "body": "@ethanlee yes, that is the right way to do it!"}, {"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509577468, "post_id": 47064885, "comment_id": 81078230, "body": "@juanpa.arrivillaga thank you for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 2923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-eUSbCnXkgow/AAAAAAAAAAI/AAAAAAAAArk/QX5YTDngfcA/photo.jpg?sz=128", "display_name": "niCk cAMel", "link": "https://stackoverflow.com/users/2923755/nick-camel"}, "is_accepted": false, "score": 1, "last_activity_date": 1509578275, "last_edit_date": 1509578275, "creation_date": 1509577884, "answer_id": 47065088, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number/47065088#47065088", "title": "List all factors of number", "body": "<p>First of all, you have an indentation error. <code>print divisors</code> need to be tabbed to inside the for-loop.</p>\n\n<pre><code>divisors = \"\"\ndef findFactor(count):\n    divisors = \"\"\n    valueD = 0\n    for i in range(1, count+1):\n        valueD = count/i\n        if isinstance(valueD,int) == True:\n            divisors = str(valueD)+\" \"\n        print divisors\n</code></pre>\n\n<p>Furthermore like @juanpa.arrivillaga mentioned, your results will vary between Python 2 and Python 3.</p>\n\n<p>However, if you want your <code>divisors</code> to print in the order you want, i.e. start with <code>1</code> you need to change your range to <code>for i in range(count,0, -1)</code>. You will get multiple <code>1</code>'s , but that's something I'll leave for you to figure out. A little challenge, if you will. ;)</p>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "edited": false, "score": 0, "creation_date": 1509578170, "post_id": 47065107, "comment_id": 81078449, "body": "THIS WORKS THANK YOU"}], "tags": [], "owner": {"reputation": 819, "user_id": 4620940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KM7Jq.png?s=128&g=1", "display_name": "muazhud", "link": "https://stackoverflow.com/users/4620940/muazhud"}, "is_accepted": true, "score": 3, "last_activity_date": 1509676187, "last_edit_date": 1509676187, "creation_date": 1509577999, "answer_id": 47065107, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number/47065107#47065107", "title": "List all factors of number", "body": "<p>You can refer this code:</p>\n\n<pre><code>def find_factor(n):\n  factor_values = []\n  for i in range(1, n + 1):\n    if n % i == 0:\n      factor_values.append(i)\n\n  values = \"\"\n  for v in factor_values:\n    values += str(v) + \" \"\n\n  return values\n</code></pre>\n\n<p>The function will return <code>1 2 3 6</code></p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1509672112, "creation_date": 1509672112, "answer_id": 47087033, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number/47087033#47087033", "title": "List all factors of number", "body": "<p>This is the total code I have come up with. Thank you for all the help.</p>\n\n<pre><code>def findFactor(n):\n  factorValues = []\n  for i in range(1, n + 1):\n    if n % i == 0:\n      factorValues.append(i)\n\n  values = \"\"\n  for v in factorValues:\n    values += str(v) + \" \"\n\n  print values.count(\" \")\n  # prints the number of factors\n\n\n  print values\nfindFactor(21)\n</code></pre>\n\n<p>It will print the number of factors, and then the factors on the next line.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 6557582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hu5UH.jpg?s=128&g=1", "display_name": "Cyning", "link": "https://stackoverflow.com/users/6557582/cyning"}, "is_accepted": false, "score": 3, "last_activity_date": 1573044184, "creation_date": 1573044184, "answer_id": 58730468, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number/58730468#58730468", "title": "List all factors of number", "body": "<p>This can be done on one line using <a href=\"https://www.pythonforbeginners.com/basics/list-comprehensions-in-python\" rel=\"nofollow noreferrer\">list comprehension</a>.</p>\n\n<pre><code>def factorize(num):\n    return [n for n in range(1, num + 1) if num % n == 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 8953248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d360d2c181948145b0922208be7949?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Butterworth", "link": "https://stackoverflow.com/users/8953248/ray-butterworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1595019971, "creation_date": 1595019971, "answer_id": 62961757, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number/62961757#62961757", "title": "List all factors of number", "body": "<p>The answers given so far are all brute force methods.</p>\n<p>For n=10000, they will have to iterate ten thousand times.</p>\n<p>The following will iterate only 100 times:</p>\n<pre><code>def find_factors(n):\n    factors = []\n    i = 1\n    j = n\n    while True:\n        if i*j == n:\n            factors.append(i)\n            if i == j:\n                break\n            factors.append(j)\n        i += 1\n        j = n // i\n        if i &gt; j:\n            break\n    return factors\n</code></pre>\n<p>If there were a list of prime numbers available, it could be made even faster.</p>\n"}], "owner": {"reputation": 142, "user_id": 6500957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-49RmKjrls20/AAAAAAAAAAI/AAAAAAAAANU/JJTfpiMwuSE/photo.jpg?sz=128", "display_name": "ethan lee", "link": "https://stackoverflow.com/users/6500957/ethan-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4216, "favorite_count": 0, "accepted_answer_id": 47065107, "answer_count": 5, "score": 0, "last_activity_date": 1595019971, "creation_date": 1509576614, "last_edit_date": 1509576803, "question_id": 47064885, "link": "https://stackoverflow.com/questions/47064885/list-all-factors-of-number", "title": "List all factors of number", "body": "<p>I am trying to list all the factors of a number called count. Whenever I run it, it returns 1. For example: <code>if 6 = count</code>, then what should be returned when calling <code>findFactor(6)</code> is <code>1 2 3 6</code>. What is returned is 1</p>\n\n<pre><code>divisors = \"\"\ndef findFactor(count):\n    divisors = \"\"\n    valueD = 0\n    for i in range(1, count+1):\n        valueD = count/i\n        if isinstance(valueD,int) == True:\n            divisors = str(valueD)+\" \"\n    print divisors\n</code></pre>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 3, "creation_date": 1509576554, "post_id": 47064870, "comment_id": 81077934, "body": "<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "edited": false, "score": 0, "creation_date": 1509576919, "post_id": 47064870, "comment_id": 81078051, "body": "What is the rule that a string should be opposite of another string?"}, {"owner": {"reputation": 21, "user_id": 8808546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65290b77f32977a56893b1e36a6ce127?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8808546/kevin"}, "edited": false, "score": 0, "creation_date": 1509577014, "post_id": 47064870, "comment_id": 81078085, "body": "the rules are a is the opposite of b c is the opposite of h l is the opposite of r"}], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 7509749, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rxLEX6MIjCI/AAAAAAAAAAI/AAAAAAAACFo/gjdXg-DjNj8/photo.jpg?sz=128", "display_name": "Luv", "link": "https://stackoverflow.com/users/7509749/luv"}, "is_accepted": false, "score": 1, "last_activity_date": 1509577322, "creation_date": 1509577322, "answer_id": 47064992, "question_id": 47064870, "link": "https://stackoverflow.com/questions/47064870/using-python-to-determine-if-two-strings-are-opposites-given-conditions/47064992#47064992", "title": "Using python to determine if two strings are opposites given conditions", "body": "<p>I would do it like a string compare, except that for every character, there would be a lookup table to get a translated value like so:</p>\n\n<pre><code>lookup = {\n    'a': 'b',\n    'c': 'h',\n    'l': 'r'\n}\n\n\ndef opposite(one, two):\n    count = 0\n    if len(one) != len(two):\n        return False\n    for i in one:\n        if (lookup[i] != two[count] ):\n            return False\n        count += 1\n    return True\n\nif __name__ == '__main__':\n    print opposite('acl', 'bhr')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8808546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65290b77f32977a56893b1e36a6ce127?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8808546/kevin"}, "edited": false, "score": 0, "creation_date": 1509654158, "post_id": 47065110, "comment_id": 81117264, "body": "What do you think I could do if I wanted my function to also return the boolean true if the second string was an opposite of the first but using the reverse of the first? so both opposite(&quot;ahl&quot;,&quot;bcr&quot;) and opposite(&quot;ahl&quot;,&quot;rcb&quot;) would be true. I am guessing using the reverse string function but not sure"}, {"owner": {"reputation": 19076, "user_id": 3735428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3bd4a2a0402109974581fb334e8acf59?s=128&d=identicon&r=PG&f=1", "display_name": "DrV", "link": "https://stackoverflow.com/users/3735428/drv"}, "reply_to_user": {"reputation": 21, "user_id": 8808546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65290b77f32977a56893b1e36a6ce127?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8808546/kevin"}, "edited": false, "score": 0, "creation_date": 1509744196, "post_id": 47065110, "comment_id": 81159715, "body": "If you have the full lookup (the one with six entries), the function works both ways. If you look at the lower function, it compares opposite of str1 to opposite of opposite (i.e. the original but with validity check) of str2. That way you may reverse the arguments. (If this is your homework, do not submit it before really understanding how it works.)"}], "tags": [], "owner": {"reputation": 19076, "user_id": 3735428, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3bd4a2a0402109974581fb334e8acf59?s=128&d=identicon&r=PG&f=1", "display_name": "DrV", "link": "https://stackoverflow.com/users/3735428/drv"}, "is_accepted": false, "score": 0, "last_activity_date": 1509578398, "last_edit_date": 1509578398, "creation_date": 1509578012, "answer_id": 47065110, "question_id": 47064870, "link": "https://stackoverflow.com/questions/47064870/using-python-to-determine-if-two-strings-are-opposites-given-conditions/47065110#47065110", "title": "Using python to determine if two strings are opposites given conditions", "body": "<p>If you have the lookup table, then this is a one-liner.</p>\n\n<pre><code>lookup = {\n    'a': 'b',\n    'c': 'h',\n    'l': 'r'\n}\n\n\ndef opposite(str1, str2):\n    return [ lookup[c] for c in str1]\u00a0== [ c for c in str2 ]\n</code></pre>\n\n<p>Depending on the actual situation (whether you know the first string contains only \"acl\" and the second only their opposites), you may need to have bidirectional lookup:</p>\n\n<pre><code>lookup = {\n    'a': 'b',\n    'c': 'h',\n    'l': 'r',\n    'b': 'a',\n    'h': 'c',\n    'r': 'l'\n}\n</code></pre>\n\n<p>And if you want to have an exception raised when there are invalid characters in the input, you may change the function:</p>\n\n<pre><code>def opposite(str1, str2):\n    return [ lookup[c] for c in str1]\u00a0== [ lookup[lookup[c]] for c in str2 ]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8808546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65290b77f32977a56893b1e36a6ce127?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/8808546/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1509578398, "creation_date": 1509576526, "last_edit_date": 1509576637, "question_id": 47064870, "link": "https://stackoverflow.com/questions/47064870/using-python-to-determine-if-two-strings-are-opposites-given-conditions", "title": "Using python to determine if two strings are opposites given conditions", "body": "<p>If we had certain conditions to fulfill such as</p>\n\n<pre><code>a is the opposite of b\nc is the opposite of h\nl is the opposite of r\n</code></pre>\n\n<p>the opposite of the string <code>acl</code> would be <code>bhr</code>\nDo you guys think you can help me figure out how I would go about building a function that when given two strings will return a boolean that lets me know whether the given strings are opposite. for example input: <code>opposite(\"ahl\",\"bcr\")</code> would return <code>True</code> while <code>(\"ahl\",\"bbr\")</code> would return <code>False</code>.</p>\n"}, {"tags": ["python", "django", "django-registration"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8008579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582aa1d931cd482c8c8335444ac00ece?s=128&d=identicon&r=PG&f=1", "display_name": "Mosaab Ehab", "link": "https://stackoverflow.com/users/8008579/mosaab-ehab"}, "edited": false, "score": 0, "creation_date": 1509578644, "post_id": 47065014, "comment_id": 81078589, "body": "i configured <code>LOGIN_REDIRECT_URL=&#39;&#47;accounts&#47;register&#47;&#39;</code> in settings.py, when requesting the page, too many GET request sent to the server and the browser show the message :<code>127.0.0.1 redirected you too many times.</code>"}], "tags": [], "owner": {"reputation": 1536, "user_id": 6005145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8d0SktavI-o/AAAAAAAAAAI/AAAAAAAAAxU/Zrxn56xszBE/photo.jpg?sz=128", "display_name": "schrodigerscatcuriosity", "link": "https://stackoverflow.com/users/6005145/schrodigerscatcuriosity"}, "is_accepted": false, "score": 0, "last_activity_date": 1509577452, "creation_date": 1509577452, "answer_id": 47065014, "question_id": 47064840, "link": "https://stackoverflow.com/questions/47064840/django-registration-redux-error/47065014#47065014", "title": "django registration redux error", "body": "<p>You could set <a href=\"https://docs.djangoproject.com/en/1.11/ref/settings/#login-redirect-url\" rel=\"nofollow noreferrer\">LOGIN_REDIRECT_URL</a> in your <code>settings.py</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7821443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1618220731551668/picture?type=large", "display_name": "Dmitriy Andrienko", "link": "https://stackoverflow.com/users/7821443/dmitriy-andrienko"}, "is_accepted": false, "score": 0, "last_activity_date": 1606310645, "last_edit_date": 1606310645, "creation_date": 1606310322, "answer_id": 65005491, "question_id": 47064840, "link": "https://stackoverflow.com/questions/47064840/django-registration-redux-error/65005491#65005491", "title": "django registration redux error", "body": "<p>I faced the same issue, and looks what help me:\nI logout from the admin panel and that fixes my problem.</p>\n"}], "owner": {"reputation": 9, "user_id": 8008579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582aa1d931cd482c8c8335444ac00ece?s=128&d=identicon&r=PG&f=1", "display_name": "Mosaab Ehab", "link": "https://stackoverflow.com/users/8008579/mosaab-ehab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1606310645, "creation_date": 1509576343, "question_id": 47064840, "link": "https://stackoverflow.com/questions/47064840/django-registration-redux-error", "title": "django registration redux error", "body": "<p>I'm using django registration redux in my django project, the problem happened in mapping urls, when you visit:</p>\n\n<blockquote>\n  <p><a href=\"http://127.0.0.1:8000/accounts/register/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/accounts/register/</a></p>\n</blockquote>\n\n<p>it redirect me into :</p>\n\n<blockquote>\n  <p><a href=\"http://127.0.0.1:8000/accounts/profile/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/accounts/profile/</a></p>\n</blockquote>\n\n<p>with error message :</p>\n\n<pre><code>Using the URLconf defined in trydjango18.urls, Django tried these URL \npatterns, in this order:\n   ^$ [name='home']\n   ^contact$ [name='contact']\n   ^about$ [name='about']\n   ^admin/\n   ^accounts/ \n   ^activate/complete/$[name='registration_activation_complete']\n   ^accounts/ \n   ^activate/resend/$[name='registration_resend_activation']\n   ^accounts/ \n   ^activate/(P&lt;activation_key&gt;\\w+)/$[name='registration_activate']\n   ^accounts/ ^register/complete/$ [name='registration_complete']\n   ^accounts/ ^register/closed/$ [name='registration_disallowed']\n   ^accounts/ ^register/$ [name='registration_register']\n   ^accounts/ ^login/$ [name='auth_login']\n   ^accounts/ ^logout/$ [name='auth_logout']\n   ^accounts/ ^password/change/$ [name='auth_password_change']\n   ^accounts/ \n   ^password/change/done/$[name='auth_password_change_done']\n   ^accounts/ ^password/reset/$ [name='auth_password_reset']\n   ^accounts/ \n   ^password/reset/complete/$[name='auth_password_reset_complete']\n   ^accounts/ ^password/reset/done/$ [name='auth_password_reset_done']\n   ^accounts/ ^password/reset/confirm/(?P&lt;uidb64&gt;[0-9A-Za-z_\\-]+)/(?\n   P&lt;token&gt;.+)/$ [name='auth_password_reset_confirm']\n   ^static\\/(?P&lt;path&gt;.*)$\n   ^media\\/(?P&lt;path&gt;.*)$\nThe current URL, accounts/profile/, didn't match any of these. \nYou're seeing this error because you have DEBUG = True in your \nDjango settings file. Change that to False, and Django will display \na standard 404 page.\n</code></pre>\n\n<p>here is my code for settings.py </p>\n\n<pre><code>INSTALLED_APPS = (\n'django.contrib.admin',\n'django.contrib.contenttypes',\n'django.contrib.sessions',\n'django.contrib.messages',\n'django.contrib.staticfiles',\n\n'django.contrib.sites',\n'registration', #should be immediately above 'django.contrib.auth'\n'django.contrib.auth',\n\n'crispy_forms',\n\n'newsletter',)\n</code></pre>\n\n<p>and</p>\n\n<p><code>ACCOUNT_ACTIVATION_DAYS = 7 \nREGISTRATION_AUTO_LOGIN = True\n</code>\nhere is my code for urls.py:</p>\n\n<pre><code>urlpatterns = [\nurl(r'^$', 'newsletter.views.home', name='home'),\nurl(r'^contact$', 'newsletter.views.contact', name='contact'),\nurl(r'^about$','trydjango18.views.about',name='about'),\nurl(r'^admin/', include(admin.site.urls)),\nurl(r'^accounts/', include('registration.backends.default.urls')),]\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 1, "creation_date": 1509576671, "post_id": 47064881, "comment_id": 81077968, "body": "Awesome thx! Its a real same there is no documentation or example in the docs on timegrouper"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1509576775, "post_id": 47064881, "comment_id": 81078006, "body": "@jimbasquiat pandas change TimeGrouper to pandas.Grouper"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1509577091, "post_id": 47064881, "comment_id": 81078111, "body": "@MaxU <a href=\"https://github.com/pandas-dev/pandas/issues/14760\" rel=\"nofollow noreferrer\">github.com/pandas-dev/pandas/issues/14760</a> :-) TimeGrouper is not a public interface"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1509576891, "last_edit_date": 1509576891, "creation_date": 1509576578, "answer_id": 47064881, "question_id": 47064838, "link": "https://stackoverflow.com/questions/47064838/pandas-apply-timegrouper-on-column/47064881#47064881", "title": "Pandas apply timegrouper on column", "body": "<p>Is that what you want?</p>\n\n<pre><code>In [198]: df.groupby([\"symbol\",pd.TimeGrouper(\"30T\", key=\"datetime\")]).count()\nOut[198]:\n                                                                        close  high  low  open  volume\nsymbol                                             datetime\nBritish pound - United States dollar               2017-11-01 22:00:00      2     2    2     2       2\nEuropean Monetary Union Euro - United States do... 2017-11-01 22:00:00      2     2    2     2       2\nUnited States dollar - Swiss franc                 2017-11-01 22:00:00      1     1    1     1       1\n</code></pre>\n\n<p>or using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Grouper.html\" rel=\"nofollow noreferrer\"><code>Grouper</code></a>:</p>\n\n<pre><code>In [203]: df.groupby([\"symbol\",pd.Grouper(freq=\"30T\", key=\"datetime\")]).count()\nOut[203]:\n                                                                        close  high  low  open  volume\nsymbol                                             datetime\nBritish pound - United States dollar               2017-11-01 22:00:00      2     2    2     2       2\nEuropean Monetary Union Euro - United States do... 2017-11-01 22:00:00      2     2    2     2       2\nUnited States dollar - Swiss franc                 2017-11-01 22:00:00      1     1    1     1       1\n</code></pre>\n\n<p>PS DocString for <code>TimeGrouper</code> could be bit more detailed:</p>\n\n<pre><code>In [204]: pd.TimeGrouper?\nInit signature: pd.TimeGrouper(*args, **kwargs)\nDocstring:\nCustom groupby class for time-interval grouping\n\nParameters\n----------\nfreq : pandas date offset or offset alias for identifying bin edges\nclosed : closed end of interval; left or right\nlabel : interval boundary to use for labeling; left or right\nnperiods : optional, integer\nconvention : {'start', 'end', 'e', 's'}\n    If axis is PeriodIndex\n</code></pre>\n\n<p>It looks better for <code>pd.Grouper</code>:</p>\n\n<pre><code>In [205]: pd.Grouper?\nInit signature: pd.Grouper(*args, **kwargs)\nDocstring:\nA Grouper allows the user to specify a groupby instruction for a target\nobject\n\nThis specification will select a column via the key parameter, or if the\nlevel and/or axis parameters are given, a level of the index of the target\nobject.\n\nThese are local specifications and will override 'global' settings,\nthat is the parameters axis and level which are passed to the groupby\nitself.\n\nParameters\n----------\nkey : string, defaults to None\n    groupby key, which selects the grouping column of the target\nlevel : name/number, defaults to None\n    the level for the target index\nfreq : string / frequency object, defaults to None\n    This will groupby the specified frequency if the target selection\n    (via key or level) is a datetime-like object. For full specification\n    of available frequencies, please see `here\n    &lt;http://pandas.pydata.org/pandas-docs/stable/timeseries.html#offset-aliases&gt;`_.\naxis : number/name of the axis, defaults to 0\nsort : boolean, default to False\n    whether to sort the resulting labels\n\nadditional kwargs to control time-like groupers (when freq is passed)\n\nclosed : closed end of interval; left or right\nlabel : interval boundary to use for labeling; left or right\nconvention : {'start', 'end', 'e', 's'}\n    If grouper is PeriodIndex\n\nReturns\n-------\nA specification for a groupby instruction\n\nExamples\n--------\n\nSyntactic sugar for ``df.groupby('A')``\n\n&gt;&gt;&gt; df.groupby(Grouper(key='A'))\n\nSpecify a resample operation on the column 'date'\n\n&gt;&gt;&gt; df.groupby(Grouper(key='date', freq='60s'))\n\nSpecify a resample operation on the level 'date' on the columns axis\nwith a frequency of 60s\n</code></pre>\n"}], "owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2150, "favorite_count": 0, "accepted_answer_id": 47064881, "answer_count": 1, "score": 2, "last_activity_date": 1509576891, "creation_date": 1509576326, "question_id": 47064838, "link": "https://stackoverflow.com/questions/47064838/pandas-apply-timegrouper-on-column", "title": "Pandas apply timegrouper on column", "body": "<p>Lets consider the following dataframe:</p>\n\n<pre><code>data={'close': 1.16155,\n  'datetime': Timestamp('2017-11-01 22:29:40'),\n  'high': 1.16155,\n  'low': 1.16155,\n  'open': 1.16155,\n  'symbol': 'European Monetary Union Euro - United States dollar',\n  'volume': -1.0},\n {'close': 1.00325,\n  'datetime': Timestamp('2017-11-01 22:29:40'),\n  'high': 1.00325,\n  'low': 1.00325,\n  'open': 1.00325,\n  'symbol': 'United States dollar - Swiss franc',\n  'volume': -1.0},\n {'close': 1.324475,\n  'datetime': Timestamp('2017-11-01 22:29:40'),\n  'high': 1.324475,\n  'low': 1.324475,\n  'open': 1.324475,\n  'symbol': 'British pound - United States dollar',\n  'volume': -1.0},\n {'close': 1.324475,\n  'datetime': Timestamp('2017-11-01 22:29:45'),\n  'high': 1.324475,\n  'low': 1.324475,\n  'open': 1.324475,\n  'symbol': 'British pound - United States dollar',\n  'volume': -1.0},\n {'close': 1.16155,\n  'datetime': Timestamp('2017-11-01 22:29:45'),\n  'high': 1.16155,\n  'low': 1.16155,\n  'open': 1.16155,\n  'symbol': 'European Monetary Union Euro - United States dollar',\n  'volume': -1.0}]\ndf=pd.DataFrame(data)\n</code></pre>\n\n<p>I would like to use groupby to group by <code>symbol</code> and <code>datetime</code>, without setting the index as either of <code>symbol</code> or <code>datetime</code>.</p>\n\n<p>Ideally the result should be something like that: <code>df.groupby([\"symbol\",pd.TimeGrouper(\"30T\",\"datetime\")]).count()</code>.</p>\n\n<ul>\n<li>I know it can be done by doing<br>\n<code>df.set_index(\"datetime).groupby([\"symbol\",pd.TimeGrouper(\"30T\")]).count()</code></li>\n</ul>\n\n<p>But again, I would like to do it without setting the index to <code>datetime</code> or <code>symbol</code>.</p>\n\n<p>Thx!</p>\n"}, {"tags": ["python", "dictionary", "lookup", "file-search"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1509576037, "post_id": 47064768, "comment_id": 81077776, "body": "You&#39;re already comprising on space. Lookup performance is as fast as it can get with a dictionary."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1509576060, "post_id": 47064768, "comment_id": 81077786, "body": "There is no faster lookup."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509577332, "post_id": 47064768, "comment_id": 81078194, "body": "Have you done any actual testing which proves that performance is going to be a real issue? If there&#39;s only three directories, why not just use the file-system to check whether they contain the file?"}, {"owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509578398, "post_id": 47064768, "comment_id": 81078522, "body": "@ekhumoro I just used 3 directories for this example. In practice I have much more."}, {"owner": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "edited": false, "score": 0, "creation_date": 1509579008, "post_id": 47064768, "comment_id": 81078690, "body": "There are of course many ways to do a faster lookup, but whether it&#39;s worth going down the path is a function of the number of files you have. For instance, to reduce the collision time, you may want to partition your index based on the prefix of the filename."}, {"owner": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1509579056, "post_id": 47064768, "comment_id": 81078705, "body": "@MosesKoledoye yes, but the dictionar(y/ies) may be created in a way so that the lookup of the system is faster."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509582475, "post_id": 47064768, "comment_id": 81079667, "body": "@HMK. No matter how many directories there are, if you haven&#39;t tested anything, this is all just premature optimisation."}, {"owner": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509584489, "post_id": 47064768, "comment_id": 81080190, "body": "@ekhumoro in this particular case, a simple count of the number of files (not so much the number of directories) should be able to tell if there is any need to optimize. For example, if the avg filename length is 10, and there are 100 million of them, we know there is going to be a problem."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "edited": false, "score": 0, "creation_date": 1509645879, "post_id": 47064768, "comment_id": 81112919, "body": "@axiom. The number of <i>files</i> is totally irrelevant. The only thing that matters is the number of directories. All you need to do is join each directory with the target filename, and then check if <code>os.path.exists(path)</code>. Even with several hundred directories, this should take only a fraction of second."}, {"owner": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509652152, "post_id": 47064768, "comment_id": 81116234, "body": "@ekhumoro it&#39;s absolutely relevant. It&#39;s the key, and thus the number of filenames is directly proportional to the time map.get() will take."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 7684, "user_id": 988966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANBfx.jpg?s=128&g=1", "display_name": "axiom", "link": "https://stackoverflow.com/users/988966/axiom"}, "edited": false, "score": 0, "creation_date": 1509652564, "post_id": 47064768, "comment_id": 81116438, "body": "@axiom. My suggestion is to use <b>only</b> the file-system, and not to use a <code>dict</code> at all. That will easily be fast enough for most use-cases (unless there are many thousands of directories to check)."}, {"owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1509720112, "post_id": 47064768, "comment_id": 81146436, "body": "@ekhumoro Can you link to an example of using the filesystem? Thanks!"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1510087256, "post_id": 47064768, "comment_id": 81283940, "body": "@HMK. As requested, I posted an answer with an example and explanation. If it isn&#39;t helpful, can you explain why, so that I can try to improve it?"}, {"owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1510160076, "post_id": 47064768, "comment_id": 81319775, "body": "@ekhumoro Thanks, it was helpful."}], "answers": [{"comments": [{"owner": {"reputation": 4589, "user_id": 5612096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51821186ffde540f4d10b86544ca1a7d?s=128&d=identicon&r=PG", "display_name": "Adirio", "link": "https://stackoverflow.com/users/5612096/adirio"}, "edited": false, "score": 0, "creation_date": 1509723671, "post_id": 47099183, "comment_id": 81148912, "body": "+ the FS cache will get build even if you use a dict, which will be way less memory efficient, so you will end up having a cache and an ineficient (memory wise) cache (aka dict) and only use one of them."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1509731759, "last_edit_date": 1509731759, "creation_date": 1509722561, "answer_id": 47099183, "question_id": 47064768, "link": "https://stackoverflow.com/questions/47064768/efficient-design-to-store-lookup-table-for-files-in-directories/47099183#47099183", "title": "Efficient design to store lookup table for files in directories", "body": "<p>A simple way to solve this is to query the file-system directly instead of caching all the filenames in a <code>dict</code>. This will save a lot of space, and will probably be fast enough if there only a few hundred directories to search.</p>\n\n<p>Here is a simple function that does that:</p>\n\n<pre><code>def find_directory(filename, directories):\n    for directory in directories:\n        path = os.path.join(directory, filename)\n        if os.path.exists(path):\n            return directory\n</code></pre>\n\n<p>On my Linux system, when searching around 170 directories, it takes about 0.3  seconds to do the first search, and then only about 0.002 seconds thereafter. This is because the OS does file-caching to speed up repeated searches. But note that if you used a <code>dict</code> to do this caching in Python, you'd still have to pay a similar initial cost.</p>\n\n<p>Of course, the subsequent <code>dict</code> lookups would be faster than querying the file-system directly. But do you really need that extra speed? To me, two thousandths of second seems easily \"fast enough\" for most purposes. And you get the extra benefit of never needing to refresh the file-cache (because the OS does it for you).</p>\n\n<p>PS:</p>\n\n<p>I should probably point out that the above timings are <em>worst-case</em>: that is, I dropped all the system file-caches first, and then searched for a filename that was in the last directory.</p>\n"}, {"tags": [], "owner": {"reputation": 1658, "user_id": 2116625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53f2579c17950e4555d6b0421233b201?s=128&d=identicon&r=PG", "display_name": "gukoff", "link": "https://stackoverflow.com/users/2116625/gukoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1509734660, "creation_date": 1509734660, "answer_id": 47102561, "question_id": 47064768, "link": "https://stackoverflow.com/questions/47064768/efficient-design-to-store-lookup-table-for-files-in-directories/47102561#47102561", "title": "Efficient design to store lookup table for files in directories", "body": "<p>You can store the index as a dict of sets. It might be more memory-efficient.</p>\n\n<pre><code>index = {\n    \"dir1\": {\"f1\", \"f2\", \"f3\", \"f4\"},\n    \"dir2\": {\"f3\", \"f4\"},\n    \"dir3\": {\"f5\", \"f6\", \"f7\"},\n}\n\nfilename = \"f4\"\nfor dir, files in index.iteritems():\n    if filename in files:\n         print dir\n</code></pre>\n\n<p>Speaking of thousands of files, you'll barely see any difference between this method and your inverted index. </p>\n\n<p>Also, repeatable strings in python can be <a href=\"https://docs.python.org/2/library/functions.html#intern\" rel=\"nofollow noreferrer\">interned</a> in order to save memory. Sometimes CPython interns short string itself.</p>\n"}], "owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 47099183, "answer_count": 2, "score": 1, "last_activity_date": 1509734660, "creation_date": 1509575939, "last_edit_date": 1509722777, "question_id": 47064768, "link": "https://stackoverflow.com/questions/47064768/efficient-design-to-store-lookup-table-for-files-in-directories", "title": "Efficient design to store lookup table for files in directories", "body": "<p>Let's say I have three directories <code>dir1</code>, <code>dir2</code> &amp; <code>dir3</code>,  with thousands of files in each. Each file has a unique name with no pattern. </p>\n\n<p>Now, given a filename, I need to find which of the three directories it's in. My first thought was to create a dictionary with the filename as key and the directory as the value, like this:</p>\n\n<pre><code>{'file1':'dir1', \n 'file2':'dir3',\n 'file3':'dir1', ... }\n</code></pre>\n\n<p>But seeing as there are only three unique values, this seems a bit redundant and takes up space.  </p>\n\n<p>Is there a better way to implement this? What if I can compromise on space but need faster lookup?</p>\n"}, {"tags": ["python", "django", "asynchronous", "redis"], "owner": {"reputation": 239, "user_id": 6397407, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/500999190098465/picture?type=large", "display_name": "Chris Papas", "link": "https://stackoverflow.com/users/6397407/chris-papas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1509575904, "creation_date": 1509575904, "question_id": 47064757, "link": "https://stackoverflow.com/questions/47064757/django-async-task-using-django-q-task-and-redis-server", "title": "django async task using django q task and redis server", "body": "<p>i try to follow this <a href=\"http://django-q.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">tutorial</a> for django q async tasks \nand i have install redis from this <a href=\"https://www.youtube.com/watch?v=ncFhlv-gBXQ\" rel=\"nofollow noreferrer\">video</a> on windows 10\n (i have also rabbitqm server)</p>\n\n<p>I don't get some error but my function don't execute i don't get anything from my function i think the problem  is on redis server config.</p>\n\n<p>any idea ?\nhere the code :</p>\n\n<p>settings.py</p>\n\n<pre><code>INSTALLED_APPS = [..]+'django_q',\n\n# redis defaults\nQ_CLUSTER = {\n    'redis': {\n        'host': '127.0.0.1',\n        'port': 6379,\n        'db': 0,\n        'password': None,\n        'socket_timeout': None,\n        'charset': 'utf-8',\n        'errors': 'strict',\n        'unix_socket_path': None\n    }\n}\n</code></pre>\n\n<p>tasks.py</p>\n\n<pre><code>import math\nimport sys\n\n\ndef add(n1,n2):\n     test=n1/n2\n     return test\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def app_details(request,slug):\n        if request.method == \"POST\":\n            test = request.POST.get('iy')\n        t1=test\n        t2=test*1542\n            async('tasks.saga',t1,t2)\n        return render(request, 'page.html',....\n</code></pre>\n\n<p>that message I get without error in pycharm :</p>\n\n<pre><code>23:54:27 [Q] INFO Enqueued 3\n</code></pre>\n\n<p>redis cmd :</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Sn4w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Sn4w.png\" alt=\"enter image description here\"></a></p>\n\n<p>redis command server :</p>\n\n<p><a href=\"https://i.stack.imgur.com/lYA66.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYA66.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "django-1.11", "django-viewflow"], "answers": [{"tags": [], "owner": {"reputation": 5049, "user_id": 46548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a7d543a6a3d738bcd34b56c24002943?s=128&d=identicon&r=PG", "display_name": "kmmbvnr", "link": "https://stackoverflow.com/users/46548/kmmbvnr"}, "is_accepted": true, "score": 1, "last_activity_date": 1509619059, "creation_date": 1509619059, "answer_id": 47073203, "question_id": 47064749, "link": "https://stackoverflow.com/questions/47064749/overwrite-django-view-with-custom-context-django-1-11-viewflow/47073203#47073203", "title": "Overwrite django view with custom context (Django 1.11, Viewflow)", "body": "<p>Yes you can actually override a view url by putting it on top of url_patterns</p>\n\n<pre><code>urlpatterns = [\n    url(\n        r'^/workflow/appname/flowname/(?P&lt;process_pk&gt;\\d+)/taskname/(?P&lt;task_pk&gt;\\d+)/assign/$',\n        YouCustomView.as_view(),\n        {'flow_task': FlowClass.taskname},\n        name=\"{}__assign\".format(self.name)))\n    ),\n    url(r'', include(frontend_urls)),\n]\n</code></pre>\n\n<p>But it's simpler just to create a custom flow.View subclass and set you own Assign View</p>\n\n<p><a href=\"https://github.com/viewflow/viewflow/blob/master/viewflow/flow/nodes.py#L306\" rel=\"nofollow noreferrer\">https://github.com/viewflow/viewflow/blob/master/viewflow/flow/nodes.py#L306</a></p>\n\n<pre><code>from viewflow import flow\n\nclass MyView(flow.View):\n      assign_view_class = MyAssignTaskView\n</code></pre>\n\n<p>flows.py:</p>\n\n<pre><code> class MyFlow(Flow):\n    ...\n    taskname = MyView(UpdateProcessView).next(this.end)\n</code></pre>\n\n<p>That's how you can override any of the built-in views.</p>\n\n<p>Viewflow designed to provide all knobs within your codebase. You can customize any behavior by subclassing Flow or flow Node classes.</p>\n\n<p>The custom node example could be helpful</p>\n\n<p><a href=\"https://github.com/viewflow/viewflow/blob/master/demo/customnode/nodes.py\" rel=\"nofollow noreferrer\">https://github.com/viewflow/viewflow/blob/master/demo/customnode/nodes.py</a></p>\n"}], "owner": {"reputation": 167, "user_id": 4244790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e2c36887d67eec0470552cad716dad3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Burrus", "link": "https://stackoverflow.com/users/4244790/chris-burrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 2, "accepted_answer_id": 47073203, "answer_count": 1, "score": 3, "last_activity_date": 1509619059, "creation_date": 1509575820, "question_id": 47064749, "link": "https://stackoverflow.com/questions/47064749/overwrite-django-view-with-custom-context-django-1-11-viewflow", "title": "Overwrite django view with custom context (Django 1.11, Viewflow)", "body": "<p>I have a Django 1.11 project using Viewflow - <a href=\"https://github.com/viewflow/viewflow\" rel=\"nofollow noreferrer\">https://github.com/viewflow/viewflow</a> - that I've incorporated. It's been very helpful, but a lot of stuff is kind of \"magic\", and being my first serious Django project, I'm running into an issue I'm not sure of how to solve, or the best way.</p>\n\n<p>I have a generic template that expects a lot of context. I have a function that adds this context to all of my views:</p>\n\n<pre><code>def add_general_context(context, MOC, MOC_enabled_fields = (), MOC_status = None):\n  context['MOC'] = MOC\n  context['current_date'] = timezone.now().strftime(\"%D\")\n  context['MOC_form'] = forms.MOCForm(prefix=\"MOC_form\", MOC_enabled_fields=MOC_enabled_fields, instance=MOC)\n  context['MOCAttachments'] = models.MOCAttachment.objects.filter(MOC=MOC)\n  context['MOCAttachment_form'] = forms.MOCAttachmentForm(prefix=\"MOCAttachment_form\")\n  context['MOCApprovals'] = models.MOCApproval.objects.filter(MOC=MOC)\n  context['MOCTasks'] = models.MOCTask.objects.filter(MOC=MOC)\n  context['MOC_status'] = MOC_status\n  context['MOCConversation'] = models.MOCConversation.objects.filter(MOC=MOC)\n  # Add comments to the conversation\n  for conversation in context['MOCConversation']:\n    conversation.comments = models.MOCComment.objects.filter(conversation=conversation)\n  context['MOCComment_form'] = forms.MOCCommentForm(MOC=MOC)\n  context['MOCCommentReply_form'] = forms.MOCCommentReplyForm()\n</code></pre>\n\n<p>I basically need to add this context to a view that is inside viewflow - namely, AssignTaskView - <a href=\"https://github.com/viewflow/viewflow/blob/f50accb3cde5d53f1d4db0debf5936867712c3bd/viewflow/flow/views/task.py#L109\" rel=\"nofollow noreferrer\">https://github.com/viewflow/viewflow/blob/f50accb3cde5d53f1d4db0debf5936867712c3bd/viewflow/flow/views/task.py#L109</a></p>\n\n<p>I've tried a few things to overwrite/add to the context, but none seem to work.</p>\n\n<p>Attempt 1: Overwrite the URL and use extra_context (SO suggested this)<br/>\n - The issue is that the urls are \"magic\", my urlpatterns is very simply:<br/></p>\n\n<pre><code>from material.frontend import urls as frontend_urls\nurlpatterns = [\n  url(r'^MOC/', include('MOC.urls')),\n  url(r'', include(frontend_urls)),\n]\n</code></pre>\n\n<p>Overwriting the urls themselves was WAY over my head, I dug into it for a while, but it uses really generic functions to pull in modules, etc. I didn't have a clue how to really even attempt it.</p>\n\n<p>Attempt 2: Overwrite the view itself and the get_context_data function<br/>\nI think this would be possible, but it just doesn't seem to work. My attempts looked similar to this (the lastest one):</p>\n\n<pre><code>from viewflow.flow.views.task import AssignTaskView as CoreAssignTaskView\n\nclass AssignTaskView(CoreAssignTaskView):\n  def get_context_data(self, **kwargs):\n    context = super(AssignTaskView, self).get_context_data(**kwargs)\n    print(\"Did it work?\")\n    return context\n</code></pre>\n\n<p>This is in my views.py - however, it simply doesn't run. I'm probably missing something, but I can't figure out how to actually force it to use <em>my</em> view instead of the one built in to viewflow.</p>\n\n<p>I've successfully overwritten Viewflow's templates without issue, but overwriting anything else is beyond me. Any suggestions?</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1509576458, "post_id": 47064747, "comment_id": 81077905, "body": "Do <b>not</b> <code>.append</code> to a data-frame in a loop. That is <b>horribly</b> inefficient. Instead, use <code>pandas</code> indexing, that is the whole point of <code>pandas</code>"}, {"owner": {"reputation": 191, "user_id": 7941032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/949eb153a34f656838acc709fc57e8d8?s=128&d=identicon&r=PG&f=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/7941032/ram"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509634140, "post_id": 47064747, "comment_id": 81104900, "body": "@juanpa.arrivillaga Thanks for telling me"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 7941032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/949eb153a34f656838acc709fc57e8d8?s=128&d=identicon&r=PG&f=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/7941032/ram"}, "edited": false, "score": 0, "creation_date": 1509576401, "post_id": 47064809, "comment_id": 81077890, "body": "You are amazing :) ,Thanks saviour."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1509576102, "creation_date": 1509576102, "answer_id": 47064809, "question_id": 47064747, "link": "https://stackoverflow.com/questions/47064747/if-and-append-condition-pandas-dataframe/47064809#47064809", "title": "If and append condition pandas dataframe?", "body": "<p>If I understand correctly - you don't want to loop through your DF:</p>\n\n<pre><code>In [185]: df\nOut[185]:\n    A   B   C  Class\n0   1   2   3      0\n1   4   5   6      1\n2   7   8   9      1\n3  10  11  12      0\n\nIn [186]: new = df.loc[df['Class']==1]\n\nIn [187]: new\nOut[187]:\n   A  B  C  Class\n1  4  5  6      1\n2  7  8  9      1\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 7941032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/949eb153a34f656838acc709fc57e8d8?s=128&d=identicon&r=PG&f=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/7941032/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 0, "accepted_answer_id": 47064809, "answer_count": 1, "score": 0, "last_activity_date": 1509576102, "creation_date": 1509575811, "question_id": 47064747, "link": "https://stackoverflow.com/questions/47064747/if-and-append-condition-pandas-dataframe", "title": "If and append condition pandas dataframe?", "body": "<p>Im a complete newbie to python and pandas.I want to iterate through all rows in dataframe and check if the element in \"Class\" column is 1 or not ? How  to achieve this ?</p>\n\n<p>Also I want to append those specific rows to a dataframe ? Like this</p>\n\n<pre><code>         emptydataframe = pd.DataFrame(columns=['A','B','C','D','E','F','G'])\n         data = pd.read_csv('data/trainData.csv')\n         count = 0\n         for rows in data:\n            if(data[rows][\"Class\"] == 1):\n                 count+= 1\n                 emptydataframe.append(data[rows])\n</code></pre>\n\n<p>How do I do this?</p>\n"}, {"tags": ["python", "exception", "telegram", "handle"], "answers": [{"tags": [], "owner": {"reputation": 1313, "user_id": 8372336, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fTYAK.jpg?s=128&g=1", "display_name": "91DarioDev", "link": "https://stackoverflow.com/users/8372336/91dariodev"}, "is_accepted": true, "score": 3, "last_activity_date": 1509731711, "last_edit_date": 1509731711, "creation_date": 1509727048, "answer_id": 47100527, "question_id": 47064625, "link": "https://stackoverflow.com/questions/47064625/error-handling-telegram-bot/47100527#47100527", "title": "Error handling Telegram bot", "body": "<p><strong>First of all, if there are no evident bugs, this error could be happen if a user if clicking too fast on a button. In this case it can be easily ignored.</strong></p>\n\n<p>Assuming you are using <a href=\"https://python-telegram-bot.org/\" rel=\"nofollow noreferrer\">python-telegram-bot library</a> looking at your code, you can follow <strong>2 approaches</strong>:</p>\n\n<p><strong>1. Ignore the error globally</strong>:</p>\n\n<p><code>def error(bot, update, error):\n    if not (error.message == \"Message is not modified\"):\n        logger.warning('Update \"%s\" caused error \"%s\"' % (update, error))\n</code></p>\n\n<p>but you will still receive on the console:</p>\n\n<p><code>2017-11-03 17:16:41,405 - telegram.ext.dispatcher - WARNING - A TelegramError was raised while processing the Update</code></p>\n\n<p>the only thing you can do is to disable that string <strong>for any error of any type</strong> doing this:</p>\n\n<p><code>updater.dispatcher.logger.addFilter((lambda s: not s.msg.endswith('A TelegramError was raised while processing the Update')))\n</code> \nin your main(). <a href=\"https://stackoverflow.com/users/1398961/jh0ker\">credits</a></p>\n\n<p><strong>2. Ignore the error in the method you are calling:</strong></p>\n\n<p>You can ignore the error in the method you are calling doing:</p>\n\n<p><code>try:\n    # the method causing the error\nexcept TelegramError as e:\n    if str(e) != \"Message is not modified\": print(e)</code></p>\n\n<p>This second approach will ignore the error completely on the console without modifying the error callback function, but you have to use it in every single method causing that exception.</p>\n\n<hr>\n\n<p><strong>Printing 'text' instead of ignoring</strong>:</p>\n\n<p>i suggest you to ignore the error, but if you want to print a string as you said: you can very easily modify those 2 approaches to print the string.</p>\n\n<p>Example for the first approach:</p>\n\n<p><code>def error(bot, update, error):\n    if error.message == \"Message is not modified\":\n        # print your string\n        return\n    logger.warning('Update \"%s\" caused error \"%s\"' % (update, error))</code></p>\n\n<p>Example of the second approach:</p>\n\n<p><code>try:\n    # the method causing the error\nexcept TelegramError as e:\n    if str(e) == \"Message is not modified\": print(your_string)</code></p>\n"}, {"comments": [{"owner": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1516712491, "post_id": 48402416, "comment_id": 83792822, "body": "A link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it\u2019s there, then quote the most relevant part of the page you&#39;re linking to in case the target page is unavailable. <a href=\"//stackoverflow.com/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"}], "tags": [], "owner": {"reputation": 109, "user_id": 2003137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c7996f41c67146849b71d4f07691f8ca?s=128&d=identicon&r=PG", "display_name": "lov3catch", "link": "https://stackoverflow.com/users/2003137/lov3catch"}, "is_accepted": false, "score": -2, "last_activity_date": 1516713072, "last_edit_date": 1516713072, "creation_date": 1516712443, "answer_id": 48402416, "question_id": 47064625, "link": "https://stackoverflow.com/questions/47064625/error-handling-telegram-bot/48402416#48402416", "title": "Error handling Telegram bot", "body": "<p>Check documentation:\n<strong>Please note, that it is currently only possible to edit messages without reply_markup or with inline keyboards.</strong>\n<a href=\"https://core.telegram.org/bots/api#updating-messages\" rel=\"nofollow noreferrer\">https://core.telegram.org/bots/api#updating-messages</a></p>\n\n<p>Looks like you try edit message with <strong>reply_markup</strong> and keyboard is not <strong>inline</strong>.</p>\n\n<p>Anyway, if problem are still actual - show the sources.</p>\n"}], "owner": {"reputation": 43, "user_id": 8870881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ccc584fb0712b5425bf1ef3c0e6fad0?s=128&d=identicon&r=PG&f=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/8870881/fran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5297, "favorite_count": 0, "accepted_answer_id": 47100527, "answer_count": 2, "score": 3, "last_activity_date": 1516713072, "creation_date": 1509575083, "last_edit_date": 1509581561, "question_id": 47064625, "link": "https://stackoverflow.com/questions/47064625/error-handling-telegram-bot", "title": "Error handling Telegram bot", "body": "<p>I am trying to avoid a telegram error. This error occurs when a message is not modified:</p>\n\n<pre><code>telegram.error.BadRequest: Message is not modified\n</code></pre>\n\n<p>I would like to make a function to print a message when this error occurs instead the original error message telegram prints. I have tried something like this but does not work:</p>\n\n<pre><code>def error_callback(bot, update, error):\n    try:\n        raise error\n    except BadRequest:\n        # handle malformed requests - read more below!\n        print('Same message')\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "drop-down-menu", "webdriver"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1509575170, "post_id": 47064590, "comment_id": 81077490, "body": "Can you please fix the formatting? I did this for you, but you seem to have reverted it when you added the extra months (which isn&#39;t necessary for a minimal verifiable example by the way)"}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1509575428, "post_id": 47064590, "comment_id": 81077578, "body": "Please include the element that has the id <code>date_range_month_start_chosen</code>, including its relevant side-effects."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1509576805, "post_id": 47064590, "comment_id": 81078014, "body": "The problem is that the <code>SELECT</code> is not visible, at least not in the HTML you pasted. You will need to find how to make it visible. Clicking on the invisible element is not going to make it visible. You don&#39;t need to open the dropdown to access it&#39;s options."}], "answers": [{"comments": [{"owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "edited": false, "score": 0, "creation_date": 1509575160, "post_id": 47064629, "comment_id": 81077486, "body": "I&#39;ve tried running this after using <code>click()</code> on the drop down menu so it has become visible to the user, but still the same result."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "reply_to_user": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "edited": false, "score": 0, "creation_date": 1509575204, "post_id": 47064629, "comment_id": 81077502, "body": "That&#39;s important to know. Please add this to your question so it can be considered."}], "tags": [], "owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "is_accepted": false, "score": 0, "last_activity_date": 1509575095, "creation_date": 1509575095, "answer_id": 47064629, "question_id": 47064590, "link": "https://stackoverflow.com/questions/47064590/how-to-view-text-options-within-a-dropdown-menu/47064629#47064629", "title": "How to view text options within a dropdown menu", "body": "<p>Selenium does that when an element is not visible on the screen.</p>\n\n<p>You have <code>display: none</code> in your <code>style</code> tag. I think you'll find that if you remove it, then you will see what you expect.</p>\n\n<p>I think this is because selenium is built to emulate user behaviour - and a user can not read text that is not shown.</p>\n"}, {"comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1509597530, "post_id": 47067596, "comment_id": 81083354, "body": "As DebanjanB point out, your dropdown not implement by select tag, it maybe implement by some plugin, like jQuery drop down plugin, for such drop down is to simulator the UI and behaviour like select tag implemented dropdown did.   For the Select class it can only worked on select tag implemented dropdown. So you shouldn&#39;t use Select class at here."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1509597815, "post_id": 47067596, "comment_id": 81083439, "body": "@yong This is a unusual case of <code>&lt;select&gt;</code> tag being disabled. So the exact solution will come out depending on the error we observe by following the generalized solution i.e. trying to select an option through Select type of object."}, {"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1509597825, "post_id": 47067596, "comment_id": 81083443, "body": "The correct step to choose option from such simulator dropdown, first click on the dropdown, to make all options display out, then find the option and click on it. (don&#39;t find the option from child nodes of select node, the select node is not visible,  there should be another DOM node to display all options, find out that DOM node, and you will get how to locator the option you want to choose)"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1509608514, "last_edit_date": 1509608514, "creation_date": 1509596892, "answer_id": 47067596, "question_id": 47064590, "link": "https://stackoverflow.com/questions/47064590/how-to-view-text-options-within-a-dropdown-menu/47067596#47067596", "title": "How to view text options within a dropdown menu", "body": "<p>A couple of points here:</p>\n\n<ol>\n<li>Use the <code>Select</code> Class to work with the <code>select</code> and <code>options</code> tags.</li>\n<li>We should try to select an <code>option</code> only through <code>Select</code> type of object.</li>\n<li><p>Here is the code block for your reference :</p>\n\n<pre><code>selectmonth = Select(driver.find_element_by_id('date_range_month_start'))\nfor option in selectmonth.options:\n    print(option.text)      \n</code></pre></li>\n</ol>\n\n<h2>Update</h2>\n\n<p>If you face a <code>ElementNotVisibleException</code> due to <code>style=\"width: 109px; display: none;</code> use this block of code:</p>\n\n<pre><code>element = driver.find_element_by_id('date_range_month_start')   \ndriver.execute_script(\"return arguments[0].removeAttribute('style');\", element)\nselectmonth = Select(driver.find_element_by_id('date_range_month_start'))\nfor option in selectmonth.options:\n    print(option.text)      \n</code></pre>\n"}], "owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537512208, "creation_date": 1509574809, "last_edit_date": 1537512208, "question_id": 47064590, "link": "https://stackoverflow.com/questions/47064590/how-to-view-text-options-within-a-dropdown-menu", "title": "How to view text options within a dropdown menu", "body": "<p>The HTML of the select list looks like: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"date_range_month_start\" id=\"date_range_month_start\" data-width=\"109px\" data-search=\"true\" style=\"width: 109px; display: none;\"&gt;\r\n                    &lt;option value=\"0\"&gt;January&lt;/option&gt;\r\n                    &lt;option value=\"9\"&gt;October&lt;/option&gt;\r\n                    &lt;option value=\"10\" selected=\"selected\"&gt;November&lt;/option&gt;\r\n                    &lt;option value=\"11\"&gt;December&lt;/option&gt;\r\n                 &lt;/select&gt;\r\n\r\n&lt;div class=\"chosen-container chosen-container-single chosen-container-single-nosearch\" style=\"width: 109px;\" title=\"\" id=\"date_range_month_start_chosen\"&gt;\r\n        &lt;a class=\"chosen-single\" tabindex=\"-1\"&gt;\r\n            &lt;span&gt;January&lt;/span&gt;\r\n                    &lt;div&gt;&lt;b&gt;&lt;/b&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/a&gt;\r\n    &lt;div class=\"chosen-drop\"&gt;...&lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However when I run: </p>\n\n<pre><code>month = driver.find_element_by_id('date_range_month_start_chosen')\nmonth.click() ## make dropdown list visible in browser\nmySelect = Select(driver.find_element_by_css_selector(\"#date_range_month_start\"))\nprint([o.text for o in mySelect.options])\n</code></pre>\n\n<p>It prints: \n<code>['', '', '', '', '', '', '', '', '', '', '', '']</code>\nI've tried a few other things as well but so far have been entirely unsuccessful at printing what the text values in this drop down menu. </p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "reply_to_user": {"reputation": 324, "user_id": 6037231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WnJn9.png?s=128&g=1", "display_name": "FELASNIPER", "link": "https://stackoverflow.com/users/6037231/felasniper"}, "edited": false, "score": 0, "creation_date": 1509574905, "post_id": 47064582, "comment_id": 81077408, "body": "@FELASNIPER del dict[&#39;user&#39;][userId] , i don&#39;t knwo something else what i could do"}, {"owner": {"reputation": 1409, "user_id": 6378434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c0cfe5f9b736eb15f24d963c30fefd8?s=128&d=identicon&r=PG&f=1", "display_name": "Jo\u017ee Ws", "link": "https://stackoverflow.com/users/6378434/jo%c5%bee-ws"}, "edited": false, "score": 1, "creation_date": 1509575209, "post_id": 47064582, "comment_id": 81077504, "body": "<code>dict[&#39;user&#39;]</code> returns a <i>list</i> not a <i>dictionary</i>, thats what the error is trying to tell"}, {"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "edited": false, "score": 1, "creation_date": 1509575300, "post_id": 47064582, "comment_id": 81077533, "body": "Try <code>del d[&#39;user&#39;][0]</code> where d is your dictionary."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1509581725, "post_id": 47064582, "comment_id": 81079452, "body": "Whay is the value of <code>userid</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "edited": false, "score": 1, "creation_date": 1509575169, "post_id": 47064616, "comment_id": 81077489, "body": "Thanks for helping"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "reply_to_user": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "edited": false, "score": 1, "creation_date": 1509575234, "post_id": 47064616, "comment_id": 81077510, "body": "What is &quot;userId&quot;? I copied the code you supplied and it worked just fine for me."}, {"owner": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "edited": false, "score": 1, "creation_date": 1509575285, "post_id": 47064616, "comment_id": 81077524, "body": "i didn&#39;t change the data type of userId"}, {"owner": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "edited": false, "score": 1, "creation_date": 1509575294, "post_id": 47064616, "comment_id": 81077528, "body": "now it works fine"}], "tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": 2, "last_activity_date": 1509574991, "creation_date": 1509574991, "answer_id": 47064616, "question_id": 47064582, "link": "https://stackoverflow.com/questions/47064582/removing-a-dictionary-from-a-nested-dictionary/47064616#47064616", "title": "Removing a dictionary from a nested dictionary", "body": "<p>First, I wouldn't name the dict \"dict\", use \"d\" or something else. </p>\n\n<pre><code>dict['user'].pop(0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8786372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jJmkPil7iqs/AAAAAAAAAAI/AAAAAAAAANs/aYoax0Z3qH0/photo.jpg?sz=128", "display_name": "Luke Bergenthal", "link": "https://stackoverflow.com/users/8786372/luke-bergenthal"}, "is_accepted": false, "score": 0, "last_activity_date": 1509575332, "creation_date": 1509575332, "answer_id": 47064672, "question_id": 47064582, "link": "https://stackoverflow.com/questions/47064582/removing-a-dictionary-from-a-nested-dictionary/47064672#47064672", "title": "Removing a dictionary from a nested dictionary", "body": "<p>I would write a comment, but my reputation is too low. It seems like your variable userId might be a string instead of an integer. If this is the case, try converting userId to an int:</p>\n\n<pre><code>userId = int(userId)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "is_accepted": false, "score": 0, "last_activity_date": 1509575518, "creation_date": 1509575518, "answer_id": 47064701, "question_id": 47064582, "link": "https://stackoverflow.com/questions/47064582/removing-a-dictionary-from-a-nested-dictionary/47064701#47064701", "title": "Removing a dictionary from a nested dictionary", "body": "<p>See this question for more info on <code>del</code> <code>pop</code> and <code>remove</code> <a href=\"https://stackoverflow.com/questions/11520492/difference-between-del-remove-and-pop-on-lists\">Difference between del, remove and pop on lists</a></p>\n\n<p>If you do not want to use the dictionary you are removing, I would use <code>del</code>, as below:</p>\n\n<pre><code>d = {'user': [{'firstName': 'john', 'lastName': 'doe', 'movieList': []},\n              {'firstName': 'sarah', 'lastName': 'doe', 'movieList': []},\n              {'firstName': 'john', 'lastName': 'smith', 'movieList': []},\n              {'firstName': 'sarah', 'lastName': 'smith', 'movieList': []}], 'movie': []}\n\ndel d['user'][0]\n</code></pre>\n\n<p>This <code>[0]</code> is deleting the first index of the <code>list</code> stored as the value of the <code>'user'</code> key</p>\n\n<p>If you are repeatedly deleting the first index of your list and your list is long, consider using a deque() instead, which has fast pops from either end:\n<a href=\"https://docs.python.org/3/library/collections.html#collections.deque\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/collections.html#collections.deque</a></p>\n\n<p>Also, don't call your variables the same name as their types, aka don't call your dictionary variable dict</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1509576780, "creation_date": 1509576780, "answer_id": 47064905, "question_id": 47064582, "link": "https://stackoverflow.com/questions/47064582/removing-a-dictionary-from-a-nested-dictionary/47064905#47064905", "title": "Removing a dictionary from a nested dictionary", "body": "<p>You can try this:</p>\n\n<pre><code>dict1 = {'user': [{'firstName': 'john', 'lastName': 'doe', 'movieList': []}, {'firstName': 'sarah', 'lastName': 'doe', 'movieList': []}, {'firstName': 'john', 'lastName': 'smith', 'movieList': []}, {'firstName': 'sarah', 'lastName': 'smith', 'movieList': []}], 'movie': []}\nnew_dict = {a:b[1:] if b else b for a, b in dict1.items()}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'movie': [], 'user': [{'lastName': 'doe', 'movieList': [], 'firstName': 'sarah'}, {'lastName': 'smith', 'movieList': [], 'firstName': 'john'}, {'lastName': 'smith', 'movieList': [], 'firstName': 'sarah'}]}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 7023179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08eafaa65424aabab116de0a6f4bb833?s=128&d=identicon&r=PG&f=1", "display_name": "Gallo", "link": "https://stackoverflow.com/users/7023179/gallo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3895, "favorite_count": 0, "closed_date": 1509588547, "answer_count": 4, "score": 0, "last_activity_date": 1509581521, "creation_date": 1509574744, "last_edit_date": 1509581521, "question_id": 47064582, "link": "https://stackoverflow.com/questions/47064582/removing-a-dictionary-from-a-nested-dictionary", "closed_reason": "Duplicate", "title": "Removing a dictionary from a nested dictionary", "body": "<p>I wanna remove a dictionary from a nested dictionary and I don't know how.\n<strong>From this dictionary:</strong> </p>\n\n<pre><code>dict = {  \n    'user': [\n        {\n            'firstName': 'john',\n            'lastName': 'doe',\n            'movieList': []\n        },\n        {\n            'firstName': 'sarah',\n            'lastName': 'doe',\n            'movieList': []\n        },\n        {\n            'firstName': 'john',\n            'lastName': 'smith',\n            'movieList': []\n        },\n        {\n            'firstName': 'sarah',\n            'lastName': 'smith',\n            'movieList': []\n        }\n    ], 'movie': []\n}\n</code></pre>\n\n<p>I want to remove:  </p>\n\n<pre><code>{\n    'firstName': 'john', \n    'lastName': 'doe', \n    'movieList': []\n}\n</code></pre>\n\n<p>which has the <strong>index 0</strong>\nI tried using delete but i get this error:</p>\n\n<pre><code>dict['user'][userId] TypeError: list indices must be integers or slices, not str\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 440, "user_id": 2652254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uarZi.jpg?s=128&g=1", "display_name": "Iarwa1n", "link": "https://stackoverflow.com/users/2652254/iarwa1n"}, "edited": false, "score": 1, "creation_date": 1509575656, "post_id": 47064581, "comment_id": 81077658, "body": "File with a ~ are normally temporary files which are created e.g. by Excel while a file is open. They are hidden so you might not see them in explorer. Try to close Excel while you run your script and see if it still happens."}], "owner": {"reputation": 129, "user_id": 1657300, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/52b9becb2e1b722eedd3057970e953ee?s=128&d=identicon&r=PG", "display_name": "RJS", "link": "https://stackoverflow.com/users/1657300/rjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509574736, "creation_date": 1509574736, "question_id": 47064581, "link": "https://stackoverflow.com/questions/47064581/python-code-creates-file-with-tilde-in-title", "title": "python code creates file with tilde in title", "body": "<p>The following code works as intended to create a new file (or files) using the file name (or names) in the directory.  However it also creates a file with a tilde in the title and a duplicate of the word2find. Here is an example result\n ~$17 Q3 Xcel retire retire.txt<br>\n I don't understand why this is happening. Any explanations will be appreciated.   Cheers, BobS</p>\n\n<pre><code>import os, os.path,re, pprint,sys, nltk\nsourcedir = 'C:/Users/Public/EnvDef/Proj/1 ErnCls/2 IOUErnClsQrtr/2017 Q3/23a Xcel'\nos.chdir (sourcedir)\ncwd = os.getcwd()\nprint ('New Current Working Directory     %s' % cwd)\nfor dirPath, subdirNames, fileList in os.walk(cwd):\n    for filename in fileList:\n        with open (filename,'r', encoding=\"ascii\", errors  =\"surrogateescape\") as fin:\n            FileinA=(fin.read())\n            print (' ')\n            #create basename by deleting the file name suffix\n            basename=os.path.splitext(filename)[0]\n            print (basename)\n            #tokenize file\n            FileinB=nltk.sent_tokenize(FileinA) \n            word2find = 'retire'\n            result = [sentence for sentence in FileinB if word2find in sentence]\n        with open (basename+' '+ word2find +'.txt', 'w', encoding=\"ascii\", errors=\"surrogateescape\") as filetowrite:\n            filetowrite.write(basename+ ' Retire' + \"\\n\" +\"\\n\")\n            for line in result:\n                filetowrite.write(line + \"\\n\")\n</code></pre>\n"}, {"tags": ["python", "twisted", "p2p", "mining", "zope.interface"], "comments": [{"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509576392, "post_id": 47064545, "comment_id": 81077887, "body": "actually im not sure as the source code shows the following for the constructor of <code>Deferred</code> classes <code>def __init__(self, canceller=None):</code>... what does <code>cancelled</code> reference in your code??"}, {"owner": {"reputation": 31, "user_id": 7593720, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-aYCb8ocUnRU/AAAAAAAAAAI/AAAAAAAABcA/GAnKeSyHljI/photo.jpg?sz=128", "display_name": "ConfusedDev", "link": "https://stackoverflow.com/users/7593720/confuseddev"}, "reply_to_user": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509576748, "post_id": 47064545, "comment_id": 81077994, "body": "if currently_waiting_on:                  currently_waiting_on[0].cancel()          df = defer.Deferred(cancelled)          currently_waiting_on = []          def it(cur):"}, {"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509576872, "post_id": 47064545, "comment_id": 81078036, "body": "please post your code as an edit to your question"}, {"owner": {"reputation": 31, "user_id": 7593720, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-aYCb8ocUnRU/AAAAAAAAAAI/AAAAAAAABcA/GAnKeSyHljI/photo.jpg?sz=128", "display_name": "ConfusedDev", "link": "https://stackoverflow.com/users/7593720/confuseddev"}, "reply_to_user": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509577636, "post_id": 47064545, "comment_id": 81078282, "body": "Done, posted my code as an edit, know a fix?"}, {"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509577852, "post_id": 47064545, "comment_id": 81078342, "body": "do you need to pass something into <code>cancelled</code>? in your definition it says it takes in <code>_df</code>.."}, {"owner": {"reputation": 31, "user_id": 7593720, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-aYCb8ocUnRU/AAAAAAAAAAI/AAAAAAAABcA/GAnKeSyHljI/photo.jpg?sz=128", "display_name": "ConfusedDev", "link": "https://stackoverflow.com/users/7593720/confuseddev"}, "reply_to_user": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509647391, "post_id": 47064545, "comment_id": 81113785, "body": "No, it ran before as now I am trying to figure out what the connection error is, it is for the p2pool python library. I don&#39;t know how to solve this error and am wondering if it is something with the settings going on or something"}, {"owner": {"reputation": 31, "user_id": 7593720, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-aYCb8ocUnRU/AAAAAAAAAAI/AAAAAAAABcA/GAnKeSyHljI/photo.jpg?sz=128", "display_name": "ConfusedDev", "link": "https://stackoverflow.com/users/7593720/confuseddev"}, "reply_to_user": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1519764570, "post_id": 47064545, "comment_id": 85040476, "body": "Believe it or not, this error still exists for P2Pool. Even when running Python 2.7 commands it still happens. Looked at its protocol and tried even asking some of the devs and top community members. Nothing."}], "owner": {"reputation": 31, "user_id": 7593720, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh4.googleusercontent.com/-aYCb8ocUnRU/AAAAAAAAAAI/AAAAAAAABcA/GAnKeSyHljI/photo.jpg?sz=128", "display_name": "ConfusedDev", "link": "https://stackoverflow.com/users/7593720/confuseddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509577600, "creation_date": 1509574571, "last_edit_date": 1509577600, "question_id": 47064545, "link": "https://stackoverflow.com/questions/47064545/p2pool-twisted-abort-connection-error", "title": "P2Pool: Twisted Abort Connection Error", "body": "<p>I keep running into this error that I never had before every time I try running python run_p2pool.py, I even tried doing -n and typing in the argument and that doesn't fix it (as the internet suggested). I also have the configurations already there and even tried reinstalling python twisted with no avail. There is no error in the code I am trying to run and I am yet to figure out how to get this fixed.</p>\n\n<pre><code># Twisted doesn't have abortConnection! Upgrade to a newer version of Twisted to avoid memory leaks!\n&gt; Pausing for 3 seconds...\n&gt; 2017-11-02 01:07:47.958817 &gt; Traceback (most recent call last):\n&gt; 2017-11-02 01:07:47.958986 &gt;   File \"run_p2pool.py\", line 5, in &lt;module&gt;\n&gt; 2017-11-02 01:07:47.959116 &gt;     main.run()\n&gt; 2017-11-02 01:07:47.959191 &gt;   File \"/var/www/html/DashPool/DPI-MASTER/Dash-Pool-Integration/p2pool/main.py\", line 687, in run\n&gt; 2017-11-02 01:07:47.959422 &gt;     deferral.RobustLoopingCall(logfile.reopen).start(5)\n&gt; 2017-11-02 01:07:47.959490 &gt;   File \"/var/www/html/DashPool/DPI-MASTER/Dash-Pool-Integration/p2pool/util/deferral.py\", line 277, in start\n&gt; 2017-11-02 01:07:47.959605 &gt;     self._df = self._worker(period).addErrback(lambda fail: fail.trap(defer.CancelledError))\n&gt; 2017-11-02 01:07:47.959686 &gt;   File \"/var/www/html/DashPool/DPI-MASTER/Dash-Pool-Integration/p2pool/util/deferral.py\", line 225, in _\n&gt; 2017-11-02 01:07:47.960104 &gt;     df = defer.Deferred(cancelled)\n&gt; 2017-11-02 01:07:47.960195 &gt; TypeError: __init__() takes exactly 1 argument (2 given)\n</code></pre>\n\n<p>I never had this problem before and was able to run the same program before, but just encase, here is the defferal.py file</p>\n\n<pre><code>from __future__ import division\n\n\n\nimport itertools\n\nimport random\n\nimport sys\n\n\n\nfrom twisted.internet import defer, reactor\n\nfrom twisted.python import failure, log\n\n\n\ndef sleep(t):\n\nd = defer.Deferred(canceller=lambda d_: dc.cancel())\n\ndc = reactor.callLater(t, d.callback, None)\n\nreturn d\n\n\n\ndef run_repeatedly(f, *args, **kwargs):\n\ncurrent_dc = [None]\n\ndef step():\n\n    delay = f(*args, **kwargs)\n\n    current_dc[0] = reactor.callLater(delay, step)\n\nstep()\n\ndef stop():\n\n    current_dc[0].cancel()\n\nreturn stop\n\n\n\nclass RetrySilentlyException(Exception):\n\npass\n\n\n\ndef retry(message='Error:', delay=3, max_retries=None, traceback=True):\n\n'''\n\n@retry('Error getting block:', 1)\n\n@defer.inlineCallbacks\n\ndef get_block(hash):\n\n    ...\n\n'''\n\n\n\ndef retry2(func):\n\n    @defer.inlineCallbacks\n\n    def f(*args, **kwargs):\n\n        for i in itertools.count():\n\n            try:\n\n                result = yield func(*args, **kwargs)\n\n            except Exception as e:\n\n                if i == max_retries:\n\n                    raise\n\n                if not isinstance(e, RetrySilentlyException):\n\n                    if traceback:\n\n                        log.err(None, message)\n\n                    else:\n\n                        print &gt;&gt;sys.stderr, message, e\n\n                yield sleep(delay)\n\n            else:\n\n                defer.returnValue(result)\n\n    return f\n\nreturn retry2\n\n\n\nclass ReplyMatcher(object):\n\n'''\n\nConverts request/got response interface to deferred interface\n\n'''\n\n\n\ndef __init__(self, func, timeout=5):\n\n    self.func = func\n\n    self.timeout = timeout\n\n    self.map = {}\n\n\n\ndef __call__(self, id):\n\n    if id not in self.map:\n\n        self.func(id)\n\n    df = defer.Deferred()\n\n    def timeout():\n\n        self.map[id].remove((df, timer))\n\n        if not self.map[id]:\n\n            del self.map[id]\n\n        df.errback(failure.Failure(defer.TimeoutError('in ReplyMatcher')))\n\n    timer = reactor.callLater(self.timeout, timeout)\n\n    self.map.setdefault(id, set()).add((df, timer))\n\n    return df\n\n\n\ndef got_response(self, id, resp):\n\n    if id not in self.map:\n\n        return\n\n    for df, timer in self.map.pop(id):\n\n        df.callback(resp)\n\n        timer.cancel()\n\n\n\nclass GenericDeferrer(object):\n\n'''\n\nConverts query with identifier/got response interface to deferred interface\n\n'''\n\n\n\ndef __init__(self, max_id, func, timeout=5, on_timeout=lambda: None):\n\n    self.max_id = max_id\n\n    self.func = func\n\n    self.timeout = timeout\n\n    self.on_timeout = on_timeout\n\n    self.map = {}\n\n\n\ndef __call__(self, *args, **kwargs):\n\n    while True:\n\n        id = random.randrange(self.max_id)\n\n        if id not in self.map:\n\n            break\n\n    def cancel(df):\n\n        df, timer = self.map.pop(id)\n\n        timer.cancel()\n\n    try:\n\n        df = defer.Deferred(cancel)\n\n    except TypeError:\n\n        df = defer.Deferred() # handle older versions of Twisted\n\n    def timeout():\n\n        self.map.pop(id)\n\n        df.errback(failure.Failure(defer.TimeoutError('in GenericDeferrer')))\n\n        self.on_timeout()\n\n    timer = reactor.callLater(self.timeout, timeout)\n\n    self.map[id] = df, timer\n\n    self.func(id, *args, **kwargs)\n\n    return df\n\n\n\ndef got_response(self, id, resp):\n\n    if id not in self.map:\n\n        return\n\n    df, timer = self.map.pop(id)\n\n    timer.cancel()\n\n    df.callback(resp)\n\n\n\ndef respond_all(self, resp):\n\n    while self.map:\n\n        id, (df, timer) = self.map.popitem()\n\n        timer.cancel()\n\n        df.errback(resp)\n\n\n\nclass NotNowError(Exception):\n\npass\n\n\n\nclass DeferredCacher(object):\n\n'''\n\nlike memoize, but for functions that return Deferreds\n\n\n\n@DeferredCacher\n\ndef f(x):\n\n    ...\n\n    return df\n\n\n\n@DeferredCacher.with_backing(bsddb.hashopen(...))\n\ndef f(x):\n\n    ...\n\n    return df\n\n'''\n\n\n\n@classmethod\n\ndef with_backing(cls, backing):\n\n    return lambda func: cls(func, backing)\n\n\n\ndef __init__(self, func, backing=None):\n\n    if backing is None:\n\n        backing = {}\n\n\n\n    self.func = func\n\n    self.backing = backing\n\n    self.waiting = {}\n\n\n\n@defer.inlineCallbacks\n\ndef __call__(self, key):\n\n    if key in self.waiting:\n\n        yield self.waiting[key]\n\n\n\n    if key in self.backing:\n\n        defer.returnValue(self.backing[key])\n\n    else:\n\n        self.waiting[key] = defer.Deferred()\n\n        try:\n\n            value = yield self.func(key)\n\n        finally:\n\n            self.waiting.pop(key).callback(None)\n\n\n\n    self.backing[key] = value\n\n    defer.returnValue(value)\n\n\n\n_nothing = object()\n\ndef call_now(self, key, default=_nothing):\n\n    if key in self.backing:\n\n        return self.backing[key]\n\n    if key not in self.waiting:\n\n        self.waiting[key] = defer.Deferred()\n\n        def cb(value):\n\n            self.backing[key] = value\n\n            self.waiting.pop(key).callback(None)\n\n        def eb(fail):\n\n            self.waiting.pop(key).callback(None)\n\n            if fail.check(RetrySilentlyException):\n\n                return\n\n            print\n\n            print 'Error when requesting noncached value:'\n\n            fail.printTraceback()\n\n            print\n\n        self.func(key).addCallback(cb).addErrback(eb)\n\n    if default is not self._nothing:\n\n        return default\n\n    raise NotNowError(key)\n\n\n\ndef deferred_has_been_called(df):\n\nstill_running = True\n\nres2 = []\n\ndef cb(res):\n\n    if still_running:\n\n        res2[:] = [res]\n\n    else:\n\n        return res\n\ndf.addBoth(cb)\n\nstill_running = False\n\nif res2:\n\n    return True, res2[0]\n\nreturn False, None\n\ndef inlineCallbacks(f):\n\nfrom functools import wraps\n\n@wraps(f)\n\ndef _(*args, **kwargs):\n\n    gen = f(*args, **kwargs)\n\n    stop_running = [False]\n\n    def cancelled(df_):\n\n        assert df_ is df\n\n        stop_running[0] = True\n\n        if currently_waiting_on:\n\n            currently_waiting_on[0].cancel()\n\n    df = defer.Deferred(cancelled)\n\n    currently_waiting_on = []\n\n    def it(cur):\n\n        while True:\n\n            try:\n\n                if isinstance(cur, failure.Failure):\n\n                    res = cur.throwExceptionIntoGenerator(gen) # external code is run here\n\n                else:\n\n                    res = gen.send(cur) # external code is run here\n\n                if stop_running[0]:\n\n                    return\n\n            except StopIteration:\n\n                df.callback(None)\n\n            except defer._DefGen_Return as e:\n\n                # XXX should make sure direct child threw\n\n                df.callback(e.value)\n\n            except:\n\n                df.errback()\n\n            else:\n\n                if isinstance(res, defer.Deferred):\n\n                    called, res2 = deferred_has_been_called(res)\n\n                    if called:\n\n                        cur = res2\n\n                        continue\n\n                    else:\n\n                        currently_waiting_on[:] = [res]\n\n                        def gotResult(res2):\n\n                            assert currently_waiting_on[0] is res\n\n                            currently_waiting_on[:] = []\n\n                            if stop_running[0]:\n\n                                return\n\n                            it(res2)\n\n                        res.addBoth(gotResult) # external code is run between this and gotResult\n\n                else:\n\n                    cur = res\n\n                    continue\n\n            break\n\n    it(None)\n\n    return df\n\nreturn _\n\n\n\n\n\n\n\nclass RobustLoopingCall(object):\n\ndef __init__(self, func, *args, **kwargs):\n\n    self.func, self.args, self.kwargs = func, args, kwargs\n\n\n\n    self.running = False\n\n\n\ndef start(self, period):\n\n    assert not self.running\n\n    self.running = True\n\n    self._df = self._worker(period).addErrback(lambda fail: fail.trap(defer.CancelledError))\n\n\n\n@inlineCallbacks\n\ndef _worker(self, period):\n\n    assert self.running\n\n    while self.running:\n\n        try:\n\n            self.func(*self.args, **self.kwargs)\n\n        except:\n\n            log.err()\n\n        yield sleep(period)\n\n\n\ndef stop(self):\n\n    assert self.running\n\n    self.running = False\n\n    self._df.cancel()\n\n    return self._df\n</code></pre>\n"}, {"tags": ["python", "python-3.6"], "answers": [{"comments": [{"owner": {"reputation": 1469, "user_id": 4663377, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd20d0f6d0dc5f26cce14ea1287164d7?s=128&d=identicon&r=PG&f=1", "display_name": "Ajinkya", "link": "https://stackoverflow.com/users/4663377/ajinkya"}, "edited": false, "score": 0, "creation_date": 1509647306, "post_id": 47064613, "comment_id": 81113738, "body": "Thank you I could get it working for text format please see here:<a href=\"https://stackoverflow.com/questions/47079458/redirecting-ros-bag-file-to-external-storage-using-python\" title=\"redirecting ros bag file to external storage using python\">stackoverflow.com/questions/47079458/&hellip;</a>. I am trying to change from txt format to bag format"}], "tags": [], "owner": {"reputation": 196, "user_id": 8240691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aVEiV.png?s=128&g=1", "display_name": "Luke McPuke", "link": "https://stackoverflow.com/users/8240691/luke-mcpuke"}, "is_accepted": true, "score": 1, "last_activity_date": 1509574973, "creation_date": 1509574973, "answer_id": 47064613, "question_id": 47064528, "link": "https://stackoverflow.com/questions/47064528/capture-and-save-running-process/47064613#47064613", "title": "Capture and save running process", "body": "<p>You'll want to choose a directory for your SD card, and instead of <code>print()</code>ing to the terminal you'll <code>write()</code> to the file you choose.</p>\n\n<p>Here is the documentation: <a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/tutorial/inputoutput.html</a></p>\n\n<p>Edit: it's been answered better here <a href=\"https://stackoverflow.com/a/8024254/8240691\">https://stackoverflow.com/a/8024254/8240691</a> but it would still be worth your while to look over the input/output documentation. </p>\n"}], "owner": {"reputation": 1469, "user_id": 4663377, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd20d0f6d0dc5f26cce14ea1287164d7?s=128&d=identicon&r=PG&f=1", "display_name": "Ajinkya", "link": "https://stackoverflow.com/users/4663377/ajinkya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 47064613, "answer_count": 1, "score": 0, "last_activity_date": 1509574997, "creation_date": 1509574497, "last_edit_date": 1509574997, "question_id": 47064528, "link": "https://stackoverflow.com/questions/47064528/capture-and-save-running-process", "title": "Capture and save running process", "body": "<p>I want to capture \"print('Recording GPS Position...')\"  on the SD card. For now, this is printing on terminal directly I want to capture this runtime process (p_1) from terminal and store on the SD card as it is being executed. How do I do this?</p>\n\n<p>Also in general what is a way to capture and store processes at runtime from terminal and store on the SD card (note I do want to store processes as it is being executed and not after its execution is done).</p>\n\n<pre><code>import sys\nimport os\nimport time\nimport subprocess, shlex\nimport signal\nimport serial\nimport psutil\nfrom subprocess import Popen, PIPE\n\ndef recording():\n    flag = 0\n    ser = serial.Serial('/dev/ttyACM0', 921600, timeout=1)\n    ser.flushOutput()\n\n    # ROSBAG Recordings (Shell commands that execute the messages on the terminal)\n\n    messages = 'rosbag record -o GPS_Position.bag dji_sdk/gps_position', 'rosbag record -o IMU_Data.bag dji_sdk/imu', 'rosbag record -o Attitude.bag dji_sdk/attitude', 'rosbag record -o Velodyne_Packets.bag velodyne_packets', 'rosbag record -o Velodyne_Points.bag velodyne_points',  # rosbag record -o Velocity.bag dji_sdk/velocity'\n\n    while flag == 0:\n        try:\n            args1 = shlex.split(messages[0])  # messages[0] = rosbag record -o GPS_Position.bag dji_sdk/gps_position\n            #print (args1)\n            p_1 = subprocess.Popen(args1, stdout=PIPE)\n            print('Recording GPS Position...')\n            p_1.stdout.flush()\n</code></pre>\n"}, {"tags": ["python", "json", "python-3.x", "api", "pprint"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1509574661, "post_id": 47064519, "comment_id": 81077320, "body": "Yes. Why did you exped <code>[&#39;id&#39;]</code> to work? The pretty-printed output clearly shows there is no such key at the top-level... So you have to first do <code>[&#39;channels&#39;]</code> which will give you a list with <i>more <code>dict</code> objects</i>, then for each of those <code>dict</code> objects in the list, you need to access <code>&#39;id&#39;</code>."}, {"owner": {"reputation": 13, "user_id": 8870811, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ncMKL_NyuU/AAAAAAAAAAI/AAAAAAAAAOY/RHnM8jdtvWA/photo.jpg?sz=128", "display_name": "Martin Nordberg", "link": "https://stackoverflow.com/users/8870811/martin-nordberg"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509575459, "post_id": 47064519, "comment_id": 81077589, "body": "Because I didn&#39;t know better :-)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8870811, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ncMKL_NyuU/AAAAAAAAAAI/AAAAAAAAAOY/RHnM8jdtvWA/photo.jpg?sz=128", "display_name": "Martin Nordberg", "link": "https://stackoverflow.com/users/8870811/martin-nordberg"}, "edited": false, "score": 0, "creation_date": 1509574997, "post_id": 47064598, "comment_id": 81077441, "body": "Got it! Thank you very much!"}], "tags": [], "owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "is_accepted": false, "score": 0, "last_activity_date": 1509574857, "creation_date": 1509574857, "answer_id": 47064598, "question_id": 47064519, "link": "https://stackoverflow.com/questions/47064519/cannot-find-variables-in-a-list-of-dictionaries/47064598#47064598", "title": "Cannot find variables in a list of dictionaries", "body": "<p>What you want to do is look thru the dictionaries presented inside the channels, you can do that with the following...</p>\n\n<pre><code>for dic in respjson['channels']:\n    pprint(dic['id'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": true, "score": 0, "last_activity_date": 1509575854, "last_edit_date": 1509575854, "creation_date": 1509575185, "answer_id": 47064644, "question_id": 47064519, "link": "https://stackoverflow.com/questions/47064519/cannot-find-variables-in-a-list-of-dictionaries/47064644#47064644", "title": "Cannot find variables in a list of dictionaries", "body": "<p>Channels is a list. You have to iterate on it to get all channels and print their ids.</p>\n\n<pre><code># starting from respjson\nrespjson = {\n    'channels': [\n        {\n            'channeltype': 'Rikskanal',\n            'color': '31a1bd',\n            'id': 132,\n            'image': 'http://static-cdn.sr.se/sida/images/132/2186745_512_512.jpg?preset=api-default-square',\n            'imagetemplate': 'http://static-cdn.sr.se/sida/images/132/2186745_512_512.jpg',\n            'liveaudio': {'id': 132,\n                          'statkey': '/app/direkt/p1[k(132)]',\n                          'url': 'http://sverigesradio.se/topsy/direkt/srapi/132.mp3'},\n            'name': 'P1',\n            'scheduleurl': 'http://api.sr.se/v2/scheduledepisodes?channelid=132',\n            'siteurl': 'http://sverigesradio.se/p1',\n            'xmltvid': 'p1.sr.se'},\n        {\n            'channeltype': 'Lokal kanal',\n            'color': 'c31eaa',\n            'id': 200,\n            'image': 'http://static-cdn.sr.se/sida/images/200/2186775_512_512.jpg?preset=api-default-square',\n            'imagetemplate': 'http://static-cdn.sr.se/sida/images/200/2186775_512_512.jpg',\n            'liveaudio': {'id': 200,\n                          'statkey': '/app/direkt/p4 j\u00e4mtland[k(200)]',\n                          'url': 'http://sverigesradio.se/topsy/direkt/srapi/200.mp3'},\n            'name': 'P4 J\u00e4mtland',\n            'scheduleurl': 'http://api.sr.se/v2/scheduledepisodes?channelid=200',\n            'siteurl': 'http://sverigesradio.se/jamtland/',\n            'xmltvid': 'p4jmtl.sr.se'\n        }\n    ],\n    'copyright': 'Copyright Sveriges Radio 2017. All rights reserved.',\n    'pagination': {\n        'nextpage': 'http://api.sr.se/v2/channelsformat=json&amp;indent=true&amp;page=2',\n        'page': 1,\n        'size': 10,\n        'totalhits': 55,\n        'totalpages': 6\n    }\n}\n\nfor channel in respjson['channels']:\n    print(channel['id'])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8870811, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ncMKL_NyuU/AAAAAAAAAAI/AAAAAAAAAOY/RHnM8jdtvWA/photo.jpg?sz=128", "display_name": "Martin Nordberg", "link": "https://stackoverflow.com/users/8870811/martin-nordberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47064644, "answer_count": 2, "score": 1, "last_activity_date": 1509575854, "creation_date": 1509574446, "last_edit_date": 1509574495, "question_id": 47064519, "link": "https://stackoverflow.com/questions/47064519/cannot-find-variables-in-a-list-of-dictionaries", "title": "Cannot find variables in a list of dictionaries", "body": "<p>I am trying to ge around with APIs in general. To test this I coded this little snippet of code to get a list of all the channels on the Swedish national public service radio, and I want to print the ID and NAME of the channels:</p>\n\n<pre><code>import requests as rq\nimport json\nfrom pprint import pprint\n\nresp = rq.get('http://api.sr.se/api/v2/channels?\n    format=json&amp;indent=TRUE')\n\nrespjson = json.loads(resp.text)\n\npprint (respjson['id'])\n</code></pre>\n\n<p>And I get the error </p>\n\n<pre><code>File \"sr-api.py\", line 9, in &lt;module&gt;\npprint (respjson['id']['name'])\nKeyError: 'id'\n</code></pre>\n\n<p>The (abbreviated) 'respjson' looks like this</p>\n\n<pre><code>{'channels': [{'channeltype': 'Rikskanal',\n           'color': '31a1bd',\n           'id': 132,\n           'image': 'http://static-cdn.sr.se/sida/images/132/2186745_512_512.jpg?preset=api-default-square',\n           'imagetemplate': 'http://static-cdn.sr.se/sida/images/132/2186745_512_512.jpg',\n           'liveaudio': {'id': 132,\n                         'statkey': '/app/direkt/p1[k(132)]',\n                         'url': 'http://sverigesradio.se/topsy/direkt/srapi/132.mp3'},\n           'name': 'P1',\n           'scheduleurl': 'http://api.sr.se/v2/scheduledepisodes?channelid=132',\n           'siteurl': 'http://sverigesradio.se/p1',\n           'xmltvid': 'p1.sr.se'},\n{'channeltype': 'Lokal kanal',\n           'color': 'c31eaa',\n           'id': 200,\n           'image': 'http://static-cdn.sr.se/sida/images/200/2186775_512_512.jpg?preset=api-default-square',\n           'imagetemplate': 'http://static-cdn.sr.se/sida/images/200/2186775_512_512.jpg',\n           'liveaudio': {'id': 200,\n                         'statkey': '/app/direkt/p4 j\u00e4mtland[k(200)]',\n                         'url': 'http://sverigesradio.se/topsy/direkt/srapi/200.mp3'},\n           'name': 'P4 J\u00e4mtland',\n           'scheduleurl': 'http://api.sr.se/v2/scheduledepisodes?channelid=200',\n           'siteurl': 'http://sverigesradio.se/jamtland/',\n           'xmltvid': 'p4jmtl.sr.se'}],\n'copyright': 'Copyright Sveriges Radio 2017. All rights reserved.',\n'pagination': {'nextpage': 'http://api.sr.se/v2/channelsformat=json&amp;indent=true&amp;page=2',\n            'page': 1,\n            'size': 10,\n            'totalhits': 55,\n            'totalpages': 6}}\n</code></pre>\n"}, {"tags": ["python", "django", "reactjs", "docker"], "comments": [{"owner": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 0, "creation_date": 1509578650, "post_id": 47064511, "comment_id": 81078593, "body": "<code>&lt;ParameterForm { ...url_config } &#47;&gt;</code>, and you render an object like <code>window.url_config = { &quot;url_schema&quot; : &quot;{{ URL_SCHEMA }}&quot; ....etc... }</code> into the HTML template."}, {"owner": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 0, "creation_date": 1509578937, "post_id": 47064511, "comment_id": 81078666, "body": "Or use <code>data-</code> attributes on the <code>form</code> element, e.g. <code>&lt;form data-url_schema=&quot;{{ URL_SCHEMA }}&quot;&gt;</code> and <code>{...form.dataset}</code>, see <a href=\"https://stackoverflow.com/a/36545557/4879\">stackoverflow.com/a/36545557/4879</a>"}, {"owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "reply_to_user": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 0, "creation_date": 1509632663, "post_id": 47064511, "comment_id": 81103746, "body": "@pawel the apis are to be declared in <code>local.py</code> or <code>production.py</code> in <code>local.py</code> the apis  are: <code>URL_SCHEMA = &quot;http:&#47;&#47;192.168.99.100&#47;api&#47;v1&#47;var&quot; URL_UISCHEMA=&quot;http:&#47;&#47;192.168.99.100&#47;api&#47;v1&#47;ui&quot; URL_DATA=&quot;http:&#47;&#47;192.168.99.100&#47;api&#47;v1&#47;data&quot; URL_SUBMIT=&quot;http:&#47;&#47;192.168.99.100&#47;api&#47;v1&#47;calculated&quot;</code> and in <code>production.py</code> the urls are: <code>URL_SCHEMA =&quot;http:&#47;&#47;xyz:8000&#47;api&#47;v1&#47;var&quot; URL_UISCHEMA=&quot;http:&#47;&#47;xyz:8000&#47;api&#47;v1&#47;ui&quot; URL_DATA=&quot;http:&#47;&#47;xyz:8000&#47;api&#47;v1&#47;data&quot; URL_SUBMIT=&quot;http:&#47;&#47;xyz:8000&#47;api&#47;v1&#47;calculated&quot;</code> now I need to call these urls in my <code>app.js</code> in React DOM depending on the environment I am running."}, {"owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "reply_to_user": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 0, "creation_date": 1509633062, "post_id": 47064511, "comment_id": 81104050, "body": "@pawel any idea on how to call the apis depending on the environment?"}], "owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1509574394, "creation_date": 1509574394, "question_id": 47064511, "link": "https://stackoverflow.com/questions/47064511/render-url-dynamically-in-reactjs-depending-on-the-environment", "title": "Render Url dynamically in ReactJS depending on the environment", "body": "<p>I am using ReactJS in the front end wherein upon clicking a submit button, it calls 4 apis in dev-environment:</p>\n\n<pre><code>ReactDOM.render(\n  &lt;ParameterForm url_schema=\"http://192.168.99.100/api/v1/var\" url_uischema=\"http://192.168.99.100/api/v1/ui\" url_data=\"http://192.168.99.100/api/v1/data\" url_submit=\"http://192.168.99.100/api/v1/calculated\" /&gt;,\n  document.getElementById('form')\n);\n</code></pre>\n\n<p>I am using docker to run the application locally which has a <code>settings</code> folder with <code>base.py</code>, <code>local.py</code> and <code>production.py</code>.\nFor Production-env, I want the apis to be called something like these:</p>\n\n<pre><code>ReactDOM.render(\n      &lt;ParameterForm url_schema=\"http://xyz:8000/api/v1/var\" url_uischema=\"http://xyz:8000/api/v1/ui\" url_data=\"http://xyz:8000/api/v1/data\" url_submit=\"http://xyz:8000/api/v1/calculated\" /&gt;,\n      document.getElementById('form')\n    );\n</code></pre>\n\n<p>I need to know whether is there a way in which these apis can be declared either in <code>local.py</code> or <code>production.py</code> and can be called dynamically in my DOM based on the environment in which I run my app. </p>\n"}, {"tags": ["python", "numba"], "comments": [{"owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1509574483, "post_id": 47064474, "comment_id": 81077247, "body": "Numba accelerates it &gt; 10x (I am able to test using non-failing json).  I am including the minimal example that produces the bug."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1509575863, "post_id": 47064474, "comment_id": 81077720, "body": "It might be able to accelerate the <code>...</code>, but it can&#39;t accelerate the JSON loading."}, {"owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1509575935, "post_id": 47064474, "comment_id": 81077744, "body": "@user2357112 however, if I take the outer loop and json loading outside of the Numba compiled function, i get a large decrease in acceleration.  So, at some point, I need to implement my solution."}], "answers": [{"tags": [], "owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "is_accepted": false, "score": 0, "last_activity_date": 1509574822, "creation_date": 1509574822, "answer_id": 47064593, "question_id": 47064474, "link": "https://stackoverflow.com/questions/47064474/avoid-try-catch-in-numba/47064593#47064593", "title": "Avoid try catch in numba", "body": "<p>From my understanding this is impossible from within a numba-compiled function. You may look into decoupling the json reads from those, writing a new json parser or if possible sanitizing your input beforehand.</p>\n"}, {"comments": [{"owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "edited": false, "score": 0, "creation_date": 1509643925, "post_id": 47081319, "comment_id": 81111830, "body": "See, I found that I was noticeably slower when no refactored it in this manner, empirically.  Further, the try catch nesting alone causes a slowdown from pure numba with non-failing json. Although it is still about 10x speedier (I\u2019m not really doing enough in the ... to get much more speed up after jit)."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "edited": false, "score": 0, "creation_date": 1509644123, "post_id": 47081319, "comment_id": 81111931, "body": "@bordeo No I don&#39;t see because you didn&#39;t include the relevant code and the relevant data, nor the performance &quot;test&quot; to evaluate the performance."}, {"owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "edited": false, "score": 0, "creation_date": 1509644189, "post_id": 47081319, "comment_id": 81111969, "body": "Well, a lot of people on here are working.  I ain\u2019t posting my code, and my answer is ideal. Thank you."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "edited": false, "score": 0, "creation_date": 1509644662, "post_id": 47081319, "comment_id": 81112244, "body": "@bordeo I don&#39;t believe that. Your answer is a prime example how one can slow down a numba function. It could be that you were measuring the compilation cost (the first time you call a jitted function it&#39;s slow, so you have to call it once to jit it and then measure the time for the later calls) if it were really slower."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 2, "last_activity_date": 1509643932, "last_edit_date": 1509643932, "creation_date": 1509643846, "answer_id": 47081319, "question_id": 47064474, "link": "https://stackoverflow.com/questions/47064474/avoid-try-catch-in-numba/47081319#47081319", "title": "Avoid try catch in numba", "body": "<p>Everything not supported by Numba nopython-mode probably won't be (noticeably) faster than plain Python, sometimes it will even be slower (even rarer it will be much slower). From your description it seems like what you didn't show is something numba can actually optimize. So my suggestion would be to refactor the code hidden in your <code>...</code> in a function that you decorate with <code>jit</code>:</p>\n\n<pre><code>import numba as nb\nimport json\n\ndef main_func(stream):\n    for json_str in stream:\n        try:\n            obj = json.loads(json_str)\n            inner_func(obj)\n            sys.stdout.write(...)\n        except:\n            sys.stderr.write(...)\n\n@nb.jit\ndef inner_func(obj):\n    ...\n</code></pre>\n\n<p>So the part that is actually supported and optimized by numba is in a seperate function and all the other stuff is done in the outer function that isn't jitted by numba. If you're lucky (but since numba doesn't support nopython mode with dicts and strings that's unlikely) numba will compile the <code>inner_func</code> in nopython mode and give you even more speedups.</p>\n\n<p>More generally: If your code does compile when you decorate it with <code>@nb.njit</code> it will be really fast. If it doesn't compile with <code>@nb.njit</code> but only with <code>@nb.jit</code> you cannot know if it's faster or slower because numba will use a mix of object mode and nopython mode, so some parts will be fast, others will be slow. The slow parts shouldn't be in the jitted function (because they could prevent further numba optimizations).</p>\n"}], "owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2192, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1509643932, "creation_date": 1509574173, "question_id": 47064474, "link": "https://stackoverflow.com/questions/47064474/avoid-try-catch-in-numba", "title": "Avoid try catch in numba", "body": "<p>If Numba does not support try catch statements, </p>\n\n<p>What is the workaround?</p>\n\n<p>Suppose I am decoding a sequence of json objects, </p>\n\n<pre><code>for json_str in stream:\n    obj = json.loads(json_str)\n</code></pre>\n\n<p>Which may sometimes be incorrect.  </p>\n\n<p>In standard python, I write: </p>\n\n<pre><code>for json_str in stream:\n    try:\n        obj = json.loads(json_str)\n        ...\n        sys.stdout.write(...)\n    except:\n        sys.stderr.write(...)\n</code></pre>\n\n<p>But, in my numba code, I cannot use the <code>try...except</code> construct.  Is there a way to get around this? </p>\n\n<p>Such as some kind of 'manual' catch of the error message? </p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 0, "creation_date": 1509575339, "post_id": 47064578, "comment_id": 81077545, "body": "Why do you use mean instead of sum/len?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "edited": false, "score": 1, "creation_date": 1509575415, "post_id": 47064578, "comment_id": 81077575, "body": "@AlterNative, it gives us the same result, but it&#39;s nicer, shorter and requires less operations... PS actually <code>mean(lst) == sum(lst) &#47; len(lst)</code> ;-)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1509574707, "creation_date": 1509574707, "answer_id": 47064578, "question_id": 47064468, "link": "https://stackoverflow.com/questions/47064468/groupby-in-pandas-dataframe/47064578#47064578", "title": "Groupby in pandas dataframe", "body": "<p>IIUC:</p>\n\n<pre><code>In [179]: df.groupby('a')['b'].apply(lambda x: x.gt(20).mean())\nOut[179]:\na\n0    1.000000\n1    0.333333\n2    0.500000\nName: b, dtype: float64\n</code></pre>\n\n<p>or</p>\n\n<pre><code>In [183]: df.groupby('a')['b'].transform(lambda x: x.gt(20).mean())\nOut[183]:\n0    1.000000\n1    1.000000\n2    0.333333\n3    0.333333\n4    0.333333\n5    0.500000\n6    0.500000\nName: b, dtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24193, "user_id": 5811078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NlknE.png?s=128&g=1", "display_name": "zipa", "link": "https://stackoverflow.com/users/5811078/zipa"}, "is_accepted": false, "score": 1, "last_activity_date": 1509574826, "creation_date": 1509574826, "answer_id": 47064594, "question_id": 47064468, "link": "https://stackoverflow.com/questions/47064468/groupby-in-pandas-dataframe/47064594#47064594", "title": "Groupby in pandas dataframe", "body": "<p>This is one way to do it (added another value for 0%):</p>\n\n<pre><code>data = pd.DataFrame({'a': [0,0,1,1,1,2,2,3],\n                     'b': [23,21,25,20,19,44,11,15]})\n\ndata['c'] = data['b'].apply(lambda x: int(x&gt;20))\nshareOf20 = data.groupby('a')['c'].sum() / data.groupby('a')['c'].count()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 2, "last_activity_date": 1509578545, "creation_date": 1509578545, "answer_id": 47065183, "question_id": 47064468, "link": "https://stackoverflow.com/questions/47064468/groupby-in-pandas-dataframe/47065183#47065183", "title": "Groupby in pandas dataframe", "body": "<p>If you need something fast, <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.bincount.html\" rel=\"nofollow noreferrer\"><code>np.bincount</code></a> could be a good solution instead of a Pandas groupby. </p>\n\n<pre><code>np.bincount(df.loc[df.b &gt; 20, 'a']) / np.bincount(df.a))\n</code></pre>\n\n<p>which returns</p>\n\n<pre><code>array([ 1.        ,  0.33333333,  0.5       ])\n</code></pre>\n\n<p>Or if you wanted to transform the output back to a series, you could subsequently use <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.take.html\" rel=\"nofollow noreferrer\"><code>np.take</code></a>.</p>\n\n<pre><code>pd.Series((np.bincount(df.loc[df.b &gt; 20, 'a']) / np.bincount(df.a)).take(df.a))\n\n# 0    1.000000\n# 1    1.000000\n# 2    0.333333\n# 3    0.333333\n# 4    0.333333\n# 5    0.500000\n# 6    0.500000\n# dtype: float64\n</code></pre>\n\n<hr>\n\n<p>In either case, this seems to be quite fast. </p>\n\n<p><strong>Smaller case: provided dataset</strong></p>\n\n<p><em><code>groupby</code> approach from MaxU</em></p>\n\n<pre><code>%timeit df.groupby('a')['b'].transform(lambda x: x.gt(20).mean())\n<b>2.51 ms \u00b1 65.2 \u00b5s per loop</b> (mean \u00b1 std. dev. of 7 runs, 100 loops each)</code></pre>\n\n<p><em><code>np.bincount</code> approach</em></p>\n\n<pre><code>%timeit pd.Series((np.bincount(df.loc[df.b > 20, 'a']) / np.bincount(df.a)).take(df.a))\n<b>271 \u00b5s \u00b1 5.28 \u00b5s per loop</b> (mean \u00b1 std. dev. of 7 runs, 1000 loops each)</code></pre>\n\n<p><strong>Larger case: generated dataset</strong></p>\n\n<pre><code>df = pd.DataFrame({'a': np.random.randint(0, 10, 100000), \n                   'b': np.random.randint(0, 100, 100000)}).sort_values('a')\n</code></pre>\n\n<p><em><code>groupby</code> approach from MaxU</em></p>\n\n<pre><code>%timeit df.groupby('a')['b'].transform(lambda x: x.gt(20).mean())\n<b>11.3 ms \u00b1 40.2 \u00b5s per loop</b> (mean \u00b1 std. dev. of 7 runs, 100 loops each)</code></pre>\n\n<p><em><code>np.bincount</code> approach</em></p>\n\n<pre><code>%timeit pd.Series((np.bincount(df.loc[df.b > 20, 'a']) / np.bincount(df.a)).take(df.a))\n<b>1.56 ms \u00b1 5.47 \u00b5s per loop</b> (mean \u00b1 std. dev. of 7 runs, 1000 loops each)</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 8279594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77f50720b70a9855d09727ca7b695098?s=128&d=identicon&r=PG&f=1", "display_name": "Elham", "link": "https://stackoverflow.com/users/8279594/elham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 47064578, "answer_count": 3, "score": 3, "last_activity_date": 1509578545, "creation_date": 1509574119, "last_edit_date": 1509575964, "question_id": 47064468, "link": "https://stackoverflow.com/questions/47064468/groupby-in-pandas-dataframe", "title": "Groupby in pandas dataframe", "body": "<p>Consider the following dataset:</p>\n\n<pre><code>a        b\n0        23\n0        21\n1        25\n1        20\n1        19\n2        44\n2        11\n</code></pre>\n\n<p>How can I  find the percentages of values in column b which are greater than 20 ,and are in the same cluster according to column a.\nmy code give me the same value for each group.</p>\n\n<pre><code>NN20 = [x for x in b if (x &gt; 20)]\npercent_20 = lambda x: float(len(NN20)) / float(len(b))\npnn20=data.groupby('a').apply(percent_20) \n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 1983, "user_id": 1197616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c4cdf0d18819f891bebb0fcdf7a187?s=128&d=identicon&r=PG&f=1", "display_name": "mattias", "link": "https://stackoverflow.com/users/1197616/mattias"}, "edited": false, "score": 4, "creation_date": 1509574219, "post_id": 47064461, "comment_id": 81077152, "body": "Put the print outside the loop?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8870803, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d9591659111050c3fb4a06c98c4a05ab?s=128&d=identicon&r=PG&f=1", "display_name": "yael ezra", "link": "https://stackoverflow.com/users/8870803/yael-ezra"}, "edited": false, "score": 0, "creation_date": 1509655078, "post_id": 47064679, "comment_id": 81117728, "body": "Thank you!  You&#39;ve helped me a lot:)"}], "tags": [], "owner": {"reputation": 196, "user_id": 8240691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aVEiV.png?s=128&g=1", "display_name": "Luke McPuke", "link": "https://stackoverflow.com/users/8240691/luke-mcpuke"}, "is_accepted": false, "score": -1, "last_activity_date": 1509575358, "creation_date": 1509575358, "answer_id": 47064679, "question_id": 47064461, "link": "https://stackoverflow.com/questions/47064461/how-do-i-print-only-the-last-result-in-a-for-loop/47064679#47064679", "title": "how do I print only the last result in a &#39;for&#39; loop", "body": "<p>Try using <code>for i in range(len(b)):</code> and then <code>if i == len(b)-1: execute code</code> instead of your for loop. </p>\n"}, {"tags": [], "owner": {"reputation": 778, "user_id": 2702043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/FF8gH.png?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/2702043/erik"}, "is_accepted": false, "score": 0, "last_activity_date": 1509576013, "creation_date": 1509576013, "answer_id": 47064791, "question_id": 47064461, "link": "https://stackoverflow.com/questions/47064461/how-do-i-print-only-the-last-result-in-a-for-loop/47064791#47064791", "title": "how do I print only the last result in a &#39;for&#39; loop", "body": "<p>you can use the for/else pattern:</p>\n\n<pre><code>a = 1\nfor i in xrange(1, 10):\n    a *= i\nelse:\n    print a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 0, "last_activity_date": 1509576265, "creation_date": 1509576265, "answer_id": 47064827, "question_id": 47064461, "link": "https://stackoverflow.com/questions/47064461/how-do-i-print-only-the-last-result-in-a-for-loop/47064827#47064827", "title": "how do I print only the last result in a &#39;for&#39; loop", "body": "<p>Use a variable:</p>\n\n<pre><code>A=[1,2.5,3,4,5]\na=A[1::2]\nb=A[0::2]\nc=b[0]\n\nfor num in b:\n    c=c*num  \n    l=sum(a),c\nprint(l)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": true, "score": 0, "last_activity_date": 1509576872, "creation_date": 1509576872, "answer_id": 47064920, "question_id": 47064461, "link": "https://stackoverflow.com/questions/47064461/how-do-i-print-only-the-last-result-in-a-for-loop/47064920#47064920", "title": "how do I print only the last result in a &#39;for&#39; loop", "body": "<p>as mattias said, just put the print outside the for loop, like this</p>\n\n<pre><code>A=[1,2.5,3,4,5]\na=A[1::2]\nb=A[0::2]\nc=b[0]\n\nfor num in b:\n    c=c*num  \n\nprint sum(a),c  #notice that is now outside the loop\n</code></pre>\n\n<p>at the end of the loop <code>c</code> would have it latest calculate value from the for-loop which then you can print it or do whatever you want with it</p>\n"}], "owner": {"reputation": 31, "user_id": 8870803, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d9591659111050c3fb4a06c98c4a05ab?s=128&d=identicon&r=PG&f=1", "display_name": "yael ezra", "link": "https://stackoverflow.com/users/8870803/yael-ezra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 47064920, "answer_count": 4, "score": 2, "last_activity_date": 1509576872, "creation_date": 1509574085, "last_edit_date": 1509574778, "question_id": 47064461, "link": "https://stackoverflow.com/questions/47064461/how-do-i-print-only-the-last-result-in-a-for-loop", "title": "how do I print only the last result in a &#39;for&#39; loop", "body": "<p>How can I print only the final result of a 'for' loop? For example, here I want the print only the last result (and not all of them):</p>\n\n<pre><code>A=[1,2.5,3,4,5]\na=A[1::2]\nb=A[0::2]\nc=b[0]\n\nfor num in b:\n    c=c*num  \n    print sum(a),c\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1509574080, "post_id": 47064425, "comment_id": 81077110, "body": "You would need to re-factor your code if you want it to break at max 6 items otherwise add in A LOT of if statements to check for <code>orderitems &gt;= 6</code>"}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 1, "creation_date": 1509574135, "post_id": 47064425, "comment_id": 81077127, "body": "Your first while statement is correct, but because you have nested while statements, this test is not run as often as you think."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1509789256, "post_id": 47064425, "comment_id": 81169130, "body": "You may accept the answer that gave you a solution. Another peer may find this question/answer useful."}], "answers": [{"comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1509574412, "post_id": 47064469, "comment_id": 81077224, "body": "Your test should either be <code>x &gt;= 6</code> or <code>x &gt; 5</code>"}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509574450, "post_id": 47064469, "comment_id": 81077238, "body": "Every break should be at &gt; 5. The OP wants 6 items and is starting at 0."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 41, "user_id": 8802862, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-by9VDgFjoiU/AAAAAAAAAAI/AAAAAAAAAbk/MbfnertTuDI/photo.jpg?sz=128", "display_name": "Alexander Colloredo-Mansfeld", "link": "https://stackoverflow.com/users/8802862/alexander-colloredo-mansfeld"}, "edited": false, "score": 0, "creation_date": 1509574538, "post_id": 47064469, "comment_id": 81077268, "body": "Thanks! I missed it! @AlexanderColloredo-Mansfeld It&#39;s my pleasure!"}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509574827, "post_id": 47064469, "comment_id": 81077393, "body": "This solution will still ask the user for 7th time"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509574906, "post_id": 47064469, "comment_id": 81077409, "body": "@theBrainyGeek I fixed OP&#39;s algorithm too!"}], "tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": false, "score": 0, "last_activity_date": 1510049504, "last_edit_date": 1510049504, "creation_date": 1509574127, "answer_id": 47064469, "question_id": 47064425, "link": "https://stackoverflow.com/questions/47064425/how-to-have-the-program-constantly-check-for-while-statement-conditions/47064469#47064469", "title": "How to have the program constantly check for while statement conditions?", "body": "<p>No, you can not have a program to constantly check the while statement. It will be checked only once per loop.<br>\nYou may use an if statement to recheck the condition in the while loop.<br>\nYou can use break to stop a while loop:</p>\n\n<pre><code>foodorders = []\ndrinkorders = []\norderitems=0\nwhile orderitems &lt; 7:  # [1, 2, 3, 4, 5, 6]  -&gt; 6 orders\n    print(\"SANDWHICH MENU\")\n    print(\"BLT.......... 5.99\")\n    print(\"FRENCH DIP .......... 7.99\")\n    print(\"TURKEY CLUB .......... 4.99\")\n    print(\"TRUFFLE .......... 11.99\")\n    print(\"GRILLED CHEESE.......... 3.99\")\n    moresand=\"yes\"\n    while moresand==\"yes\":\n        print(\"Which sandwhich do you want?\")\n        sand=str(input())\n        foodorders.append(sand)\n        orderitems=orderitems+1\n        if orderitems &gt;= 6: break\n        print(\"Would you like another sandwhich?\")\n        moresand=str(input())\n    else:\n        print(\"SOUP MENU\")\n        print(\"FRENCH ONION .......... 5.99\")\n        print(\"BROCCOLI .......... 3.99\")\n        print(\"CLAM CHOWDER .......... 4.99\")\n        print(\"SPLIT PEA .......... 3.99\")\n        print(\"CHCIKEN NOODLE .......... 2.99\")\n        moresoup=\"yes\"\n        while moresoup==\"yes\":\n            print(\"Which soup do you want?\")\n            soup=str(input())\n            foodorders.append(soup)\n            orderitems=orderitems+1\n            if orderitems &gt;= 6: break\n            print(\"Would you like another soup?\")\n            moresoup=str(input())\n        else:\n            print(\"DRINK MENU\")\n            print(\"SMALL .......... 1.99\")\n            print(\"MEDIUM .......... 2.99\")\n            print(\"LARGE .......... 3.99\")\n            moresoda=\"yes\"\n            while moresoda==\"yes\":\n                print(\"Which soda do you want?\")\n                soda=str(input())\n                drinkorders.append(soda)\n                orderitems=orderitems+1\n                if orderitems &gt;= 6: break\n                print(\"Would you like another soda?\")\n                moresoda=str(input())\n            else:\n                print(\"Thank you for shopping!\")\n    print(\"Your food orders are:\")\n    for foodorder in foodorders:\n        print(\"A\",foodorder)\n    print(\"Your drink orders are:\")\n    for drinkorder in drinkorders:\n        print(\"A\",drinkorder,\"Soda\")\n\nelse:\n    print(\"Looks like that's all of our stock, sorry about that! Have a great rest of your day!\")\n    print(\"Your final food orders are:\")\n    for foodorder in foodorders:\n        print(\"A\",foodorder)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1509574287, "creation_date": 1509574287, "answer_id": 47064495, "question_id": 47064425, "link": "https://stackoverflow.com/questions/47064425/how-to-have-the-program-constantly-check-for-while-statement-conditions/47064495#47064495", "title": "How to have the program constantly check for while statement conditions?", "body": "<p>The simple thing to do will be to change\n    <code>while moresand==\"yes\":</code> to <code>while moresand==\"yes\" and orderitems &lt;= 5:</code>\nDo the same for moreSoup and moreSoda.</p>\n"}], "owner": {"reputation": 41, "user_id": 8802862, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-by9VDgFjoiU/AAAAAAAAAAI/AAAAAAAAAbk/MbfnertTuDI/photo.jpg?sz=128", "display_name": "Alexander Colloredo-Mansfeld", "link": "https://stackoverflow.com/users/8802862/alexander-colloredo-mansfeld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1289, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1510049504, "creation_date": 1509573903, "question_id": 47064425, "link": "https://stackoverflow.com/questions/47064425/how-to-have-the-program-constantly-check-for-while-statement-conditions", "title": "How to have the program constantly check for while statement conditions?", "body": "<p>I am making this code for a simple food menu type thing and want to limit the user at 6 items. I am using  while statement with a lessthan or equal to 6, but it keeps running even if orderitems > 6. How do I get python to stop the while statement if orderitems >6?</p>\n\n<pre><code>foodorders = []\ndrinkorders = []\norderitems=0\nwhile orderitems &lt;= 6:\n    print(\"SANDWHICH MENU\")\n    print(\"BLT.......... 5.99\")\n    print(\"FRENCH DIP .......... 7.99\")\n    print(\"TURKEY CLUB .......... 4.99\")\n    print(\"TRUFFLE .......... 11.99\")\n    print(\"GRILLED CHEESE.......... 3.99\")\n    moresand=\"yes\"\n    while moresand==\"yes\":\n        print(\"Which sandwhich do you want?\")\n        sand=str(input())\n        foodorders.append(sand)\n        orderitems=orderitems+1\n        print(\"Would you like another sandwhich?\")\n        moresand=str(input())\n    else:\n        print(\"SOUP MENU\")\n        print(\"FRENCH ONION .......... 5.99\")\n        print(\"BROCCOLI .......... 3.99\")\n        print(\"CLAM CHOWDER .......... 4.99\")\n        print(\"SPLIT PEA .......... 3.99\")\n        print(\"CHCIKEN NOODLE .......... 2.99\")\n        moresoup=\"yes\"\n        while moresoup==\"yes\":\n            print(\"Which soup do you want?\")\n            soup=str(input())\n            foodorders.append(soup)\n            orderitems=orderitems+1\n            print(\"Would you like another soup?\")\n            moresoup=str(input())\n        else:\n            print(\"DRINK MENU\")\n            print(\"SMALL .......... 1.99\")\n            print(\"MEDIUM .......... 2.99\")\n            print(\"LARGE .......... 3.99\")\n            moresoda=\"yes\"\n            while moresoda==\"yes\":\n                print(\"Which soda do you want?\")\n                soda=str(input())\n                drinkorders.append(soda)\n                orderitems=orderitems+1\n                print(\"Would you like another soda?\")\n                moresoda=str(input())\n            else:\n                print(\"Thank you for shopping!\")\n    print(\"Your food orders are:\")\n    for foodorder in foodorders:\n        print(\"A\",foodorder)\n    print(\"Your drink orders are:\")\n    for drinkorder in drinkorders:\n        print(\"A\",drinkorder,\"Soda\")\n\nelse:\n    print(\"Looks like that's all of our stock, sorry about that! Have a great rest of your day!\")\n    print(\"Your final food orders are:\")\n    for foodorder in foodorders:\n        print(\"A\",foodorder)\n    print(\"Your drink orders are:\")\n    for drinkorder in drinkorders:\n        print(\"A\",drinkorder,\"Soda\")\n</code></pre>\n"}, {"tags": ["python", "date", "datetime"], "comments": [{"owner": {"reputation": 2331, "user_id": 2338323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0zpne.jpg?s=128&g=1", "display_name": "SteveJ", "link": "https://stackoverflow.com/users/2338323/stevej"}, "edited": false, "score": 0, "creation_date": 1509574746, "post_id": 47064420, "comment_id": 81077360, "body": "When it comes to dates, I cheat and use partedatetime. Then you can create dates with human readable text such as cal.parse(&quot;last January at 5pm&quot;) -- makes life so, so much easier."}, {"owner": {"reputation": 440, "user_id": 2652254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uarZi.jpg?s=128&g=1", "display_name": "Iarwa1n", "link": "https://stackoverflow.com/users/2652254/iarwa1n"}, "edited": false, "score": 0, "creation_date": 1509575127, "post_id": 47064420, "comment_id": 81077480, "body": "How do you expect to calculate the difference correctly when you do not even know year_joined when calculating month_difference?"}, {"owner": {"reputation": 57, "user_id": 8314616, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/yiz4P.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8314616/jack"}, "reply_to_user": {"reputation": 2331, "user_id": 2338323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0zpne.jpg?s=128&g=1", "display_name": "SteveJ", "link": "https://stackoverflow.com/users/2338323/stevej"}, "edited": false, "score": 0, "creation_date": 1509575350, "post_id": 47064420, "comment_id": 81077551, "body": "@SteveJ Its isn&#39;t a library and I can&#39;t find a way to use it to print the current month. What even is it?"}, {"owner": {"reputation": 57, "user_id": 8314616, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/yiz4P.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8314616/jack"}, "edited": false, "score": 0, "creation_date": 1509575518, "post_id": 47064420, "comment_id": 81077616, "body": "@larwa1n Yes but how would I use the year as well to calculate the month difference? Can year be equal to 12 months? That is what I need help with. How would I use both?"}, {"owner": {"reputation": 2331, "user_id": 2338323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0zpne.jpg?s=128&g=1", "display_name": "SteveJ", "link": "https://stackoverflow.com/users/2338323/stevej"}, "edited": false, "score": 0, "creation_date": 1509576260, "post_id": 47064420, "comment_id": 81077845, "body": "@Jack; yes, it is a package; <a href=\"https://pypi.python.org/pypi/parsedatetime/\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/parsedatetime</a> You can read more about it in the free ebook; <a href=\"http://www.oreilly.com/programming/free/20-python-libraries-you-arent-using-but-should.csp\" rel=\"nofollow noreferrer\">oreilly.com/programming/free/&hellip;</a>  (I&#39;m in no way affiliated with oreilly or parsedatetime)"}], "answers": [{"tags": [], "owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "is_accepted": true, "score": 1, "last_activity_date": 1509575316, "creation_date": 1509575316, "answer_id": 47064669, "question_id": 47064420, "link": "https://stackoverflow.com/questions/47064420/comparing-dates-using-datetime-from-a-different-calendar-year/47064669#47064669", "title": "Comparing dates using datetime from a different calendar year", "body": "<p>I'm not sure what you mean by 'put months to 0' but you can add <code>year_difference * 12</code> to <code>month_difference</code> to map March 2017 to Jan 2016 as described.</p>\n"}], "owner": {"reputation": 57, "user_id": 8314616, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/yiz4P.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8314616/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 47064669, "answer_count": 1, "score": 0, "last_activity_date": 1509575316, "creation_date": 1509573872, "question_id": 47064420, "link": "https://stackoverflow.com/questions/47064420/comparing-dates-using-datetime-from-a-different-calendar-year", "title": "Comparing dates using datetime from a different calendar year", "body": "<p>If I try to compare dates in the form  \"Month Year\" and the year is different, the month difference won't be correct. If I compare January 2016 to March 2017 the month difference will be 3 and not 14. Is there a way I can put months to 0 when the year increases.</p>\n\n<pre><code>import datetime\n\nmonth_names = [\"January\",   \"February\", \"March\",    \"April\",\n           \"May\",       \"June\",     \"July\",     \"August\",\n           \"September\", \"October\",  \"November\", \"December\"]\n\nmonths = {name : (index + 1) for index, name in enumerate(month_names)}\n\ncurrent_month    = datetime.date.today().strftime('%B')\nmonth_joined     = input(\"Please enter the month you joined: \")\nmonth_difference = abs(months[current_month] - months[month_joined])\n\ncurrent_year = int(datetime.date.today().strftime('%Y'))\nyear_joined = int(input('Please enter the year you joined: '))\n\nyear_due = year_joined + 1\n\nyear_difference = current_year - year_due\n</code></pre>\n\n<p>The month difference does not take into accound the difference in years. I have tried a few solutions to ignore an input for month difference and put 12 months in for each year. I need the month difference to be exact. Any ideas? I'm stumped.</p>\n"}, {"tags": ["python", "virtualenv", "geopy", "pipenv"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1509573784, "post_id": 47064332, "comment_id": 81077005, "body": "How do you start the notebook? You&#39;re probably starting it using a Python executable that is not used by the virtual environment."}, {"owner": {"reputation": 1, "user_id": 6894405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ce5b3b11bc96e9506ece2cac83a52d?s=128&d=identicon&r=PG&f=1", "display_name": "sharkattacked", "link": "https://stackoverflow.com/users/6894405/sharkattacked"}, "edited": false, "score": 0, "creation_date": 1509577419, "post_id": 47064332, "comment_id": 81078223, "body": "within the pipenv shell I run <code>jupyter notebook</code>. I was able to get geopy to import within jupyter notebook by specifying the specific version of geopy, so I went and did that for my <code>haversine</code> import as well but now I am not able to import <code>haversine</code> within my jupyter notebook cell."}], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 5196242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0eaeff1ba657aa91ec47e9818b2a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "John B", "link": "https://stackoverflow.com/users/5196242/john-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1578112930, "last_edit_date": 1578112930, "creation_date": 1578112303, "answer_id": 59587903, "question_id": 47064332, "link": "https://stackoverflow.com/questions/47064332/failure-to-import-geopy-in-jupyter-notebook-after-using-pipenv-install/59587903#59587903", "title": "failure to import geopy in jupyter notebook after using pipenv install", "body": "<p>OK I had a bit of a headache with this as I was doing a training program and the guy who was showing did not have it accurate.</p>\n\n<p>Here are some links and suggestions to try to fix. I was using Anaconda for the Jupyter Notebook.</p>\n\n<p>From \"<a href=\"https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/pqFuJBDcBb4\" rel=\"nofollow noreferrer\">https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/pqFuJBDcBb4</a>\" one of the last comments had the command.</p>\n\n<p>So just open Anaconda CLI prompt as Administrator.</p>\n\n<pre><code>conda install -c conda-forge geopy\n</code></pre>\n\n<p>Once you have done that you have to ensure you are using the right syntax as some of it has changed from the \"tutorials\" out there. Here is a great explanation: <a href=\"https://github.com/geopy/geopy\" rel=\"nofollow noreferrer\">https://github.com/geopy/geopy</a></p>\n\n<pre><code>from geopy.geocoders import Nominatim\ngeolocator = Nominatim(user_agent=\"My_geolocate\")\n\nlookingFor = \"Moscow\"\nlocations = geolocator.geocode(lookingFor)\n\nprint(locations)\n</code></pre>\n\n<p>RESULTS:</p>\n\n<p>Locating Moscow</p>\n\n<p>\u041c\u043e\u0441\u043a\u0432\u0430, \u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0444\u0435\u0434\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u043a\u0440\u0443\u0433, \u0420\u043e\u0441\u0441\u0438\u044f</p>\n\n<p>If you want returned location in English:</p>\n\n<pre><code>locations = geolocator.geocode(lookingFor, language=\"en\")\n</code></pre>\n\n<p>References: <a href=\"https://anaconda.org/conda-forge/geopy\" rel=\"nofollow noreferrer\">https://anaconda.org/conda-forge/geopy</a> <a href=\"https://github.com/geopy/geopy\" rel=\"nofollow noreferrer\">https://github.com/geopy/geopy</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6894405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ce5b3b11bc96e9506ece2cac83a52d?s=128&d=identicon&r=PG&f=1", "display_name": "sharkattacked", "link": "https://stackoverflow.com/users/6894405/sharkattacked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578112930, "creation_date": 1509573352, "question_id": 47064332, "link": "https://stackoverflow.com/questions/47064332/failure-to-import-geopy-in-jupyter-notebook-after-using-pipenv-install", "title": "failure to import geopy in jupyter notebook after using pipenv install", "body": "<p>I am using pipenv to install packages and create my virtual environment within my project repo. I am able to install geopy and confirm its installation using <code>pipenv graph</code>, but when I go into my <code>pipenv shell</code> and open jupyter notebook and try to import geopy I get <code>ImportError: No module named geopy</code>. I can only get geopy to import by running <code>! pip install geopy</code> within a jupyter notebook cell. Any ideas why jupyter notebook is not recognizing my pipenv install of geopy?</p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509573414, "post_id": 47064323, "comment_id": 81076855, "body": "Please share the code you have so far. Are you asking for the entire solution?"}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1761, "user_id": 7148245, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a8d64725924830b6291f35eff98f646e?s=128&d=identicon&r=PG&f=1", "display_name": "madsthaks", "link": "https://stackoverflow.com/users/7148245/madsthaks"}, "edited": false, "score": 0, "creation_date": 1509576267, "post_id": 47064405, "comment_id": 81077847, "body": "@madsthaks yw have a nice day"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1509573790, "creation_date": 1509573790, "answer_id": 47064405, "question_id": 47064323, "link": "https://stackoverflow.com/questions/47064323/starting-from-the-beginning-of-a-sequence-i-need-to-delete-any-instance-that-is/47064405#47064405", "title": "Starting from the beginning of a sequence, I need to delete any instance that is less than 30 days from the next instance", "body": "<p>Using <code>groupby</code> and <code>diff</code></p>\n\n<p>Notice: change your date to datetime <code>df.value=pd.to_datetime(df.value)</code></p>\n\n<pre><code>df[~df.groupby('patient_id').value.diff().dt.days.lt(30)]\nOut[754]: \n   patient_id event_description      value\n0           A        DiagnosisA 2016-01-15\n2           A        DiagnosisA 2016-04-20\n3           A        DiagnosisA 2016-06-02\n4           B        DiagnosisA 2016-08-15\n6           B        DiagnosisA 2016-09-20\n7           B        DiagnosisA 2016-10-30\n8           C        DiagnosisA 2016-10-15\n9           C        DiagnosisA 2016-11-20\n11          C        DiagnosisA 2016-12-30\n</code></pre>\n\n<p>Data input</p>\n\n<pre><code>df\nOut[755]: \n   patient_id event_description      value\n0           A        DiagnosisA 2016-01-15\n1           A        DiagnosisA 2016-02-10\n2           A        DiagnosisA 2016-04-20\n3           A        DiagnosisA 2016-06-02\n4           B        DiagnosisA 2016-08-15\n5           B        DiagnosisA 2016-08-20\n6           B        DiagnosisA 2016-09-20\n7           B        DiagnosisA 2016-10-30\n8           C        DiagnosisA 2016-10-15\n9           C        DiagnosisA 2016-11-20\n10          C        DiagnosisA 2016-11-25\n11          C        DiagnosisA 2016-12-30\n</code></pre>\n"}], "owner": {"reputation": 1761, "user_id": 7148245, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a8d64725924830b6291f35eff98f646e?s=128&d=identicon&r=PG&f=1", "display_name": "madsthaks", "link": "https://stackoverflow.com/users/7148245/madsthaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 47064405, "answer_count": 1, "score": 1, "last_activity_date": 1509573790, "creation_date": 1509573304, "question_id": 47064323, "link": "https://stackoverflow.com/questions/47064323/starting-from-the-beginning-of-a-sequence-i-need-to-delete-any-instance-that-is", "title": "Starting from the beginning of a sequence, I need to delete any instance that is less than 30 days from the next instance", "body": "<p>I'll start with my dataset:     </p>\n\n<pre><code>patient_id                                event_description     \n            A                                             DiagnosisA          2016-01-15\n            A                                             DiagnosisA          2016-02-10\n            A                                             DiagnosisA          2016-04-20\n            A                                             DiagnosisA          2016-06-02\n            B                                             DiagnosisA          2016-08-15\n            B                                             DiagnosisA          2016-08-20\n            B                                             DiagnosisA          2016-09-20\n            B                                             DiagnosisA          2016-10-30\n            C                                             DiagnosisA          2016-10-15\n            C                                             DiagnosisA          2016-11-20\n            C                                             DiagnosisA          2016-11-25\n            C                                             DiagnosisA          2016-12-30\n</code></pre>\n\n<p>Essentially, I need to:</p>\n\n<ul>\n<li>calculate the difference between 1st instance of an <code>event_description</code> and the 2nd and see if the difference is less than or greater than 30. If it is less than thirty, I will get rid of that instance. </li>\n<li>This will need to be done for every instance for each <code>event_description</code> and <code>patient_id</code> </li>\n</ul>\n\n<p>The final sample dataset would like like:</p>\n\n<pre><code>patient_id                                event_description     \n            A                                             DiagnosisA          2016-01-15\n            A                                             DiagnosisA          2016-04-20\n            A                                             DiagnosisA          2016-06-02\n            B                                             DiagnosisA          2016-08-15\n            B                                             DiagnosisA          2016-09-20\n            B                                             DiagnosisA          2016-10-30\n            C                                             DiagnosisA          2016-10-15\n            C                                             DiagnosisA          2016-11-20\n            C                                             DiagnosisA          2016-12-30\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1409, "user_id": 6378434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c0cfe5f9b736eb15f24d963c30fefd8?s=128&d=identicon&r=PG&f=1", "display_name": "Jo\u017ee Ws", "link": "https://stackoverflow.com/users/6378434/jo%c5%bee-ws"}, "edited": false, "score": 4, "creation_date": 1509573280, "post_id": 47064278, "comment_id": 81076801, "body": "Clearly because <b>item</b> doesn&#39;t contain the key <i>manufacturer</i>. You can add a default such as: <code>item.get(&quot;manufacturer&quot;, None)</code>"}, {"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 1, "creation_date": 1509573473, "post_id": 47064278, "comment_id": 81076876, "body": "Look at the data that you linked. The 13th list item does not have a key <code>&#39;manufacturer&#39;</code>: <code>&quot;objectID&quot;: &quot;1752369&quot;</code>"}, {"owner": {"reputation": 717, "user_id": 1257896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd19fbcfa825cb947bc57297f5b01e31?s=128&d=identicon&r=PG", "display_name": "RomeNYRR", "link": "https://stackoverflow.com/users/1257896/romenyrr"}, "edited": false, "score": 0, "creation_date": 1509575173, "post_id": 47064278, "comment_id": 81077491, "body": "You guys have the eyes of eagles! I&#39;ve been staring at random lines all day in the terminal and I didn&#39;t catch that. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4309283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zuAuzPeWLrM/AAAAAAAAAAI/AAAAAAAAAEU/iWaZHqnGbaw/photo.jpg?sz=128", "display_name": "Ian A. Mason", "link": "https://stackoverflow.com/users/4309283/ian-a-mason"}, "edited": false, "score": 1, "creation_date": 1509573502, "post_id": 47064338, "comment_id": 81076895, "body": "and if you are curious which item it is, just catch the KeyError and print out the item."}], "tags": [], "owner": {"reputation": 183, "user_id": 4309283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zuAuzPeWLrM/AAAAAAAAAAI/AAAAAAAAAEU/iWaZHqnGbaw/photo.jpg?sz=128", "display_name": "Ian A. Mason", "link": "https://stackoverflow.com/users/4309283/ian-a-mason"}, "is_accepted": true, "score": 1, "last_activity_date": 1509573402, "creation_date": 1509573402, "answer_id": 47064338, "question_id": 47064278, "link": "https://stackoverflow.com/questions/47064278/weird-python-keyerror/47064338#47064338", "title": "Weird Python KeyError", "body": "<p>my guess is that one of the items in your data does not have a 'manufacturer' key set. </p>\n\n<p>replace </p>\n\n<p>item['manufacturer']</p>\n\n<p>by </p>\n\n<p>item.get('manufacturer', None)</p>\n\n<p>or replace None by a default manufacturer...</p>\n"}, {"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1509575606, "post_id": 47064371, "comment_id": 81077638, "body": "FWIW, using try...except is only faster than an if-based equivalent if the exception isn&#39;t raised very often, say 10% of the time. However, <code>dict.get</code> is rather fast."}], "tags": [], "owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "is_accepted": false, "score": 0, "last_activity_date": 1509574564, "last_edit_date": 1509574564, "creation_date": 1509573542, "answer_id": 47064371, "question_id": 47064278, "link": "https://stackoverflow.com/questions/47064278/weird-python-keyerror/47064371#47064371", "title": "Weird Python KeyError", "body": "<p>Here are two ways of doing getting around a dictionary not having a key. Both work but the first one is probably easier to use and will work as a drop in for your current code. </p>\n\n<p>This is a way of doing it using python's <code>dictionary.get()</code> method. <a href=\"https://www.tutorialspoint.com/python/dictionary_get.htm\" rel=\"nofollow noreferrer\">Here is a page with more examples of how it works</a>. This method of solving the problem was inspired by <a href=\"https://stackoverflow.com/a/47064338/2990052\">this</a> answer by <code>Ian A. Mason</code> to the current question. I changed your code inspired by his answer.</p>\n\n<pre><code>import json\n\ninput_file = open('data/bestbuy_seo.json')\njson_array = json.load(input_file)\nproduct_list = []\n\nfor item in json_array:\n    product_details = {\n        'name': item.get('name', None),\n        'shortDescription': item.get('shortDescription', None),\n        'bestSellingRank': item.get('bestSellingRank', None),\n        'thumbnailImage': item.get('thumbnailImage', None),\n        'salePrice': item.get('salePrice', None),\n        'manufacturer': item.get('manufacturer', None),\n        'url': item.get('url', None),\n        'type': item.get('type', None),\n        'image': item.get('image', None),\n        'customerReviewCount': item.get('customerReviewCount', None),\n        'shipping': item.get('shipping', None),\n        'salePrice_range': item.get('salePrice_range', None),\n        'objectID': item.get('objectID', None),\n        'categories': item.get('categories', None)\n    }\n    product_list.append(product_details)\n\n# Let's dump it to the screen to see if it works\nprint json.dumps(product_list, indent=4)\n</code></pre>\n\n<p>This is a second way of doing it using the 'Ask for forgiveness not permission' concept in python. It is easy to just let the one object that is missing an attribute fail and keep going. It is a lof faster to do a try and expect than a bunch of if's. </p>\n\n<p><a href=\"https://www.tutorialspoint.com/python/dictionary_get.htm\" rel=\"nofollow noreferrer\">Here is a post about this concept.</a> </p>\n\n<pre><code>import json\nfrom copy import deepcopy\n\ninput_file = open('data/bestbuy_seo.json')\njson_array = json.load(input_file)\nproduct_list = []\nproduct_details_master = {\"name\": None, \"shortDescription\": None, \"bestSellingRank\": None,\n                          \"thumbnailImage\": None, \"salePrice\": None, \"manufacturer\": None, \"url\": None,\n                          \"type\": None, \"image\": None, \"customerReviewCount\": None, \"shipping\": None,\n                          \"salePrice_range\": None, \"objectID\": None, \"categories\": [None]}\nfor item in json_array:\n    product_details_temp = deepcopy(product_details_master)\n    try:\n        product_details_temp['name'] = item['name']\n        product_details_temp['shortDescription'] = item['shortDescription']\n        product_details_temp['bestSellingRank'] = item['bestSellingRank']\n        product_details_temp['thumbnailImage'] = item['thumbnailImage']\n        product_details_temp['salePrice'] = item['salePrice']\n        product_details_temp['manufacturer'] = item['manufacturer']\n        product_details_temp['url'] = item['url']\n        product_details_temp['type'] = item['type']\n        product_details_temp['image'] = item['image']\n        product_details_temp['customerReviewCount'] = item['customerReviewCount']\n        product_details_temp['shipping'] = item['shipping']\n        product_details_temp['salePrice_range'] = item['salePrice_range']\n        product_details_temp['objectID'] = item['objectID']\n        product_details_temp['categories'] = item['categories']\n        product_list.append(product_details_temp)\n    except KeyError:\n        # Add error handling here! Right now if a product does not have all the keys NONE of the current object\n        # will be added to the product_list!\n        print 'There was a missing key in the json'\n\n# Let's dump it to the screen to see if it works\nprint json.dumps(product_list, indent=4)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "is_accepted": false, "score": 1, "last_activity_date": 1509575659, "creation_date": 1509575659, "answer_id": 47064722, "question_id": 47064278, "link": "https://stackoverflow.com/questions/47064278/weird-python-keyerror/47064722#47064722", "title": "Weird Python KeyError", "body": "<p>Not quite the issue at hand (item is missing key <code>manufacturer</code>, perhaps more), but since you're just copying fields with the exact same keys, you can write something like this. Also note that <code>item.get(key, None)</code> will rid you of this error at the cost of having <code>None</code> values in product (so if you like your code to fail hard when it fails, this may be bad)</p>\n\n<pre><code>import json\n\ninput_file = open ('data/bestbuy_seo.json')\njson_array = json.load(input_file)\nproduct_list = []\n\nproduct_keys = ('objectID', 'image', 'thumbnailImage',\n                'shortDescription', 'categories', 'manufacturer',\n                'customerReviewCount', 'name', 'url', 'shipping',\n                'salePrice', 'bestSellingRank', 'type',\n                'salePrice_range')\n\nfor item in json_array:\n    product_list.append(dict((key, item.get(key, None)) for key in product_keys))\n\n# Let's dump it to the screen to see if it works\nprint json.dumps(product_list, indent=4)\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 1257896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd19fbcfa825cb947bc57297f5b01e31?s=128&d=identicon&r=PG", "display_name": "RomeNYRR", "link": "https://stackoverflow.com/users/1257896/romenyrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 0, "accepted_answer_id": 47064338, "answer_count": 3, "score": 0, "last_activity_date": 1509575659, "creation_date": 1509573093, "question_id": 47064278, "link": "https://stackoverflow.com/questions/47064278/weird-python-keyerror", "title": "Weird Python KeyError", "body": "<p>I've been working on this script today and have made some really good progress with looping through the data and importing it to an external database. I'm trying to troubleshoot a field that I'm having an issue with and it doesn't make much sense. Whenever I attempt to run it, I get the following error <code>KeyError: 'manufacturer'</code>. If I comment out the line <code>product_details['manufacturer'] = item['manufacturer']</code>, the script runs as it should. </p>\n\n<ol>\n<li>I've checked the caseSensitivty  </li>\n<li>I've checked my spelling </li>\n<li>I've confirmed that the json document I'm pulling from has that field\nfilled out,  </li>\n<li>I've confirmed the DataType is supported (it's just a string);</li>\n</ol>\n\n<p>Not sure what else to check or where to go from here (new to python)</p>\n\n<p>I'm using the following <strong><a href=\"https://raw.githubusercontent.com/algolia/datasets/master/ecommerce/bestbuy_seo.json\" rel=\"nofollow noreferrer\">test data</a></strong></p>\n\n<pre><code>import json\n\ninput_file = open ('data/bestbuy_seo.json')\njson_array = json.load(input_file)\nproduct_list = []\n\nfor item in json_array:\n    product_details = {\"name\": None, \"shortDescription\": None, \"bestSellingRank\": None,\n    \"thumbnailImage\": None, \"salePrice\": None, \"manufacturer\": None, \"url\": None,\n    \"type\": None, \"image\": None, \"customerReviewCount\": None, \"shipping\": None,\n    \"salePrice_range\": None, \"objectID\": None, \"categories\": [None] }\n    product_details['name']                = item['name']\n    product_details['shortDescription']    = item['shortDescription']\n    product_details['bestSellingRank']     = item['bestSellingRank']\n    product_details['thumbnailImage']      = item['thumbnailImage']\n    product_details['salePrice']           = item['salePrice']\n    product_details['manufacturer']        = item['manufacturer']\n    product_details['url']                 = item['url']\n    product_details['type']                = item['type']\n    product_details['image']               = item['image']\n    product_details['customerReviewCount'] = item['customerReviewCount']\n    product_details['shipping']            = item['shipping']\n    product_details['salePrice_range']     = item['salePrice_range']\n    product_details['objectID']            = item['objectID']\n    product_details['categories']          = item['categories']\n    product_list.append(product_details)\n\n# Let's dump it to the screen to see if it works\nprint json.dumps(product_list, indent=4)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "urllib"], "comments": [{"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509573255, "post_id": 47064252, "comment_id": 81076788, "body": "I think it has to do with the way the website is set up. Even when you view the HTML yourself, the location tag does not directly display the value for the fields."}, {"owner": {"reputation": 13885, "user_id": 7811673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc232c9c0c9748fdd3dec0d5b816fb7?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.adam", "link": "https://stackoverflow.com/users/7811673/t-m-adam"}, "edited": false, "score": 0, "creation_date": 1509613279, "post_id": 47064252, "comment_id": 81090461, "body": "Use this url: <code>http:&#47;&#47;www.whatsmyipaddress.net&#47;?func=proxy&amp;sid=ID</code>. It returns a json response with the data you want."}], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509577336, "post_id": 47064926, "comment_id": 81078199, "body": "I assumed this was the case. Actually I don&#39;t care about the IP address or this specific web page, but want to learn how to grab such content response."}, {"owner": {"reputation": 1, "user_id": 7033168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xt0PUegv0Lk/AAAAAAAAAAI/AAAAAAAAASU/YkuY1Buflx8/photo.jpg?sz=128", "display_name": "Daniel Wasilewski", "link": "https://stackoverflow.com/users/7033168/daniel-wasilewski"}, "reply_to_user": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509640879, "post_id": 47064926, "comment_id": 81109838, "body": "@bretddog Selenium is a good way to go if you want to grab the rendered page after the JS has run. You can use a headless browser like PhantomJS if you don&#39;t want a browser window to pop open while running. Note, PhantomJS will need to be installed on your machine in order to run. Check this link for reference: <a href=\"https://realpython.com/blog/python/headless-selenium-testing-with-python-and-phantomjs/\" rel=\"nofollow noreferrer\">PhantomJS with Selenium</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 7033168, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xt0PUegv0Lk/AAAAAAAAAAI/AAAAAAAAASU/YkuY1Buflx8/photo.jpg?sz=128", "display_name": "Daniel Wasilewski", "link": "https://stackoverflow.com/users/7033168/daniel-wasilewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1509576888, "creation_date": 1509576888, "answer_id": 47064926, "question_id": 47064252, "link": "https://stackoverflow.com/questions/47064252/urllib-request-urlopen-specific-content-not-returned/47064926#47064926", "title": "urllib.request.urlopen, specific content not returned", "body": "<p><strong>whatsmyipaddress.net</strong> uses JavaScript to retrieve the IP-Address/Hostname/Location fields. The JavaScript only executes when you navigate to the page via a web browser. You are grabbing the HTML file itself and writing its content to another file, which does not execute JS. Also, that HTML file will not load properly on your local machine without copies of the CSS and JS files the HTML is linking to.</p>\n\n<p>If you only care about getting your IP and location data back, I'd recommend requesting data from a public API instead. </p>\n\n<p>ex: <strong><a href=\"http://ip-api.com/json\" rel=\"nofollow noreferrer\">http://ip-api.com/json</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509599884, "post_id": 47065048, "comment_id": 81084066, "body": "hmm.. I&#39;m sure it works, but there should be a way to do this in python.."}, {"owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509600659, "post_id": 47065048, "comment_id": 81084337, "body": "well, :) ok.. my reaction was I felt such dependency was hiding what I wanted to learn. But perhaps it&#39;s more complex to do than I thought.."}, {"owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509639578, "post_id": 47065048, "comment_id": 81108978, "body": "Chrome browser loads/opens when running this. Is that expected?, and can it be suppressed?"}, {"owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "reply_to_user": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509641022, "post_id": 47065048, "comment_id": 81109950, "body": "Yes, that is expected. It can be suppressed with phantomjs - a &quot;headless&quot; solution - but a window still pops up when executed. See update."}, {"owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "edited": false, "score": 0, "creation_date": 1509641299, "post_id": 47065048, "comment_id": 81110138, "body": "Would it perhaps be more appropriate to pursue this with JS/node..?"}], "tags": [], "owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "is_accepted": false, "score": 0, "last_activity_date": 1509640956, "last_edit_date": 1509640956, "creation_date": 1509577626, "answer_id": 47065048, "question_id": 47064252, "link": "https://stackoverflow.com/questions/47064252/urllib-request-urlopen-specific-content-not-returned/47065048#47065048", "title": "urllib.request.urlopen, specific content not returned", "body": "<p>Maybe try selenium instead:</p>\n\n<pre><code>from selenium import webdriver\ndriver = webdriver.Chrome()\ndriver.get(\"http://www.whatsmyipaddress.net\")\nip = driver.find_element_by_css_selector('p').text\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>'12.23.34.45' # the ip\n</code></pre>\n\n<p>I always have this problem when first trying for example BeautifulSoup and extracting something. I think @Daniel Wasilewski is right. His answer is good.</p>\n\n<p>Note: you would need chromedriver.exe also to make something like this work. You don't have to use Chrome; Firefox would work as well.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>I realize this is not an ideal answer but unless you know of another way to deal with javascript, this this is simply \"one way\" of possibly others.</p>\n\n<p>Selenium has a \"headless\" option but it still opens what looks like a command window (on Windows). It's called <strong>phantomjs</strong>. I won't detail everything there is to know about it; there's lots of info here on SO.</p>\n\n<pre><code>from selenium import webdriver\ndriver = webdriver.PhantomJS()\ndriver.get(\"http://www.whatsmyipaddress.net\")\nip = driver.find_element_by_css_selector('p').text\nprint(ip)\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 445533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LDEQS.png?s=128&g=1", "display_name": "bretddog", "link": "https://stackoverflow.com/users/445533/bretddog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 632, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509640956, "creation_date": 1509572959, "question_id": 47064252, "link": "https://stackoverflow.com/questions/47064252/urllib-request-urlopen-specific-content-not-returned", "title": "urllib.request.urlopen, specific content not returned", "body": "<p>With this request I get back the page source, but the IP-Address/Hostname/Location fields are empty. Why, and how can I get these?</p>\n\n<pre><code>import urllib.request\ns = urllib.request.urlopen(\"http://www.whatsmyipaddress.net\").read()\ntxt = str(s)\nfs = open('myip-net.htm', 'w')\nfs.write(txt)\nfs.close()\n</code></pre>\n"}, {"tags": ["python", "pandas", "diff"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7969724"}, "edited": false, "score": 0, "creation_date": 1509632483, "post_id": 47064357, "comment_id": 81103598, "body": "While this works for the sample I originally provided, it also masks non-zero-to-zero changes.  So if I had included another row for 2014-12-29 that showed the values in Item1 returning to zero, they would NaN out the change, instead of showing -3.0,-4.0, -5.0.  This is a good tip, though, and I might be able to make use of it.  I updated my example datasets to reflect this aspect of the problem."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1509632923, "post_id": 47064357, "comment_id": 81103938, "body": "@BrianPreslopsky after the change , it almost different question ;....."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7969724"}, "edited": false, "score": 0, "creation_date": 1509633013, "post_id": 47064357, "comment_id": 81104012, "body": "Not really.  I specifically said excluding only 0-0 changes.  Actually, I got the answer with a tiny modification to the recommended solution: df.groupby(level=0).diff().mask((df==0) &amp; (df.shift(1)==0)).  Thank you , Wen!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1509633142, "post_id": 47064357, "comment_id": 81104102, "body": "<code>df.groupby(level=0).diff().mask((df==0) &amp; (df.shift(1)==0))</code> that is not the safe way ...let me modify it ."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1509633194, "last_edit_date": 1509633194, "creation_date": 1509573501, "answer_id": 47064357, "question_id": 47064242, "link": "https://stackoverflow.com/questions/47064242/python-pandas-conditional-first-differencing/47064357#47064357", "title": "Python Pandas Conditional First Differencing", "body": "<p>you almost there, adding <code>.mask</code> </p>\n\n<pre><code> df.groupby(level=0).diff().mask(df==0)\n    Out[740]: \n                         Item1  Item2  Item3\n    Customer date                           \n    1        2014-03-24    NaN    NaN    NaN\n             2014-06-23    NaN   10.0   10.0\n             2014-09-22    NaN    0.0  -20.0\n             2014-12-22    3.0   10.0  -20.0\n    2        2014-03-24    NaN    NaN    NaN\n             2014-06-23    NaN   10.0   10.0\n             2014-09-22    NaN    0.0  -20.0\n             2014-12-22    4.0   10.0  -20.0\n    3        2014-03-24    NaN    NaN    NaN\n             2014-06-23    NaN   10.0   10.0\n             2014-09-22    NaN    0.0  -20.0\n             2014-12-22    5.0   10.0  -20.0\n</code></pre>\n\n<p>EDIT : </p>\n\n<pre><code>df.groupby(level=0).diff().mask(df.groupby(level='Customer').apply(lambda x: (x==0).cumprod())==1)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7969724"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 47064357, "answer_count": 1, "score": 1, "last_activity_date": 1509633194, "creation_date": 1509572923, "last_edit_date": 1509632660, "question_id": 47064242, "link": "https://stackoverflow.com/questions/47064242/python-pandas-conditional-first-differencing", "title": "Python Pandas Conditional First Differencing", "body": "<p>I have a Pandas dataframe that looks like something this:</p>\n\n<pre><code>                          Item1  Item2  Item3\nCustomer  date                                                           \n1         2014-03-24       0.0   10.0   50.0   \n          2014-06-23       0.0   20.0   60.0   \n          2014-09-22       0.0   20.0   40.0   \n          2014-12-22       3.0   30.0   20.0\n          2014-12-29       0.0   30.0   20.0   \n2         2014-03-24       0.0   10.0   50.0   \n          2014-06-23       0.0   20.0   60.0   \n          2014-09-22       0.0   20.0   40.0   \n          2014-12-22       4.0   30.0   20.0\n          2014-12-29       0.0   30.0   20.0    \n3         2014-03-24       0.0   10.0   50.0   \n          2014-06-23       0.0   20.0   60.0   \n          2014-09-22       0.0   20.0   40.0   \n          2014-12-22       5.0   30.0   20.0\n          2014-12-29       0.0   30.0   20.0     \n</code></pre>\n\n<p>It is multi indexed on customer number and date.  I want to calculate the first difference in each item for reach customer while ignoring instances when the number goes from 0 to 0.  Output would look like this:</p>\n\n<pre><code>                          Item1  Item2  Item3\nCustomer  date                                                           \n1         2014-03-24       NaN   NaN    NaN   \n          2014-06-23       NaN   10.0   10.0   \n          2014-09-22       NaN    0.0   20.0   \n          2014-12-22       3.0   10.0  -20.0\n          2014-12-29      -3.0    0.0    0.0  \n2         2014-03-24       NaN   NaN    NaN   \n          2014-06-23       NaN   10.0   10.0   \n          2014-09-22       NaN    0.0   20.0   \n          2014-12-22       4.0   10.0  -20.0\n          2014-12-29      -4.0    0.0    0.0  \n3         2014-03-24       NaN   NaN    NaN   \n          2014-06-23       NaN   10.0   10.0   \n          2014-09-22       NaN    0.0   20.0   \n          2014-12-22       5.0   10.0  -20.0\n          2014-12-29      -5.0    0.0    0.0  \n</code></pre>\n\n<p>If not for the need to exclude 0-to-0 changes, df.groupby(level=0).diff() would work fine.  </p>\n\n<p>I can devise a way to look through the rows to do this, but the dataframe is quite massive (tens of thousands of customers and dozens of items), so this will not fly.  I reckon there is a way to do this with an .apply() operation, but I cannot quite sort it out at this point.</p>\n"}, {"tags": ["python", "python-multiprocessing"], "comments": [{"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 1, "creation_date": 1509605019, "post_id": 47064225, "comment_id": 81086034, "body": "I guess you only profiled parent process, not workers?"}, {"owner": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "reply_to_user": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 0, "creation_date": 1509647728, "post_id": 47064225, "comment_id": 81113963, "body": "Yes.. I hadn&#39;t thought about doing that although now you&#39;ve mentioned it I&#39;ll try."}], "answers": [{"tags": [], "owner": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "is_accepted": true, "score": 1, "last_activity_date": 1510002272, "creation_date": 1510002272, "answer_id": 47145764, "question_id": 47064225, "link": "https://stackoverflow.com/questions/47064225/program-using-multiprocessing-spends-most-of-its-time-on-thread-lock/47145764#47145764", "title": "Program using multiprocessing spends most of its time on thread lock?", "body": "<p>My mistake was I was using multiprocessing on too small of an amount of data. As I was calling <code>likelihood_data</code> many times, all the time was spent starting and stopping the multiprocessing without any actual gain.</p>\n"}], "owner": {"reputation": 1537, "user_id": 4829166, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc46c31282003b3201d0d5b3be78d553?s=128&d=identicon&r=PG&f=1", "display_name": "Nimitz14", "link": "https://stackoverflow.com/users/4829166/nimitz14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 1, "accepted_answer_id": 47145764, "answer_count": 1, "score": 2, "last_activity_date": 1510002272, "creation_date": 1509572836, "last_edit_date": 1509573463, "question_id": 47064225, "link": "https://stackoverflow.com/questions/47064225/program-using-multiprocessing-spends-most-of-its-time-on-thread-lock", "title": "Program using multiprocessing spends most of its time on thread lock?", "body": "<p>I'm using <code>multiprocessing.Pool</code> to parallelize parts of a program I'm running. I'm looping over data, calculating something and then returning the result.  </p>\n\n<p>Poorly performing code:</p>\n\n<pre><code>def likelihood_data(self, data):\n    func = partial(likelihood, means=self.means, stddevs=self.stddevs, c_ks=self.c_k)\n    if len(data) &gt; 100:\n        pool = Pool(10)\n        try:\n            likelihoods = pool.map(func, data)\n        finally:\n            pool.close()\n            pool.join()\n    else:\n        likelihoods = []\n        for sample in data:\n            likelihoods.append(self.likelihood(sample))\n    return np.mean(likelihoods)\n\ndef likelihood(sample, means, stddevs, c_ks):  # is outside of class\n    likel = [] \n    for c_k, m, s in zip(c_ks, means, stddevs):\n        likel.append(likel_bound(np.log(c_k) + np.sum(logg(sample, m, s))))\n    return np.sum(np.exp(likel))   \n</code></pre>\n\n<p>From using cProfile, the poor performence comes from the majority of the time being spent on <code>{method 'acquire' of '_thread.lock' objects}</code>. I do not understand why that could happen when each process is independent of each other. What's going on here? </p>\n\n<p>edit: Or is it just taking the longest because it's waiting for all the processes to finish?</p>\n"}, {"tags": ["python", "blender"], "comments": [{"owner": {"reputation": 1043, "user_id": 6035703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252ceecff3c6283bca24f59e72eca21?s=128&d=identicon&r=PG&f=1", "display_name": "0TTT0", "link": "https://stackoverflow.com/users/6035703/0ttt0"}, "edited": false, "score": 0, "creation_date": 1509573937, "post_id": 47064223, "comment_id": 81077063, "body": "if you post the entire trace back we can probably help but <code>_RestrictContext</code> appears nowhere in your code so we have no idea where to start.. also possibly include your imports so we know what libraries you are using"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 6738219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f5832dd5f12493e33e380cd5b4ebbb?s=128&d=identicon&r=PG", "display_name": "J&#250;nior", "link": "https://stackoverflow.com/users/6738219/j%c3%banior"}, "edited": false, "score": 0, "creation_date": 1509576720, "post_id": 47064504, "comment_id": 81077984, "body": "Solved. Thanks very much!"}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 147, "user_id": 6738219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f5832dd5f12493e33e380cd5b4ebbb?s=128&d=identicon&r=PG", "display_name": "J&#250;nior", "link": "https://stackoverflow.com/users/6738219/j%c3%banior"}, "edited": false, "score": 1, "creation_date": 1509577264, "post_id": 47064504, "comment_id": 81078171, "body": "Maybe you could suggest an edit on my answer on your particular case with the code you use. it would close the question better."}], "tags": [], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "is_accepted": true, "score": 3, "last_activity_date": 1509574358, "creation_date": 1509574358, "answer_id": 47064504, "question_id": 47064223, "link": "https://stackoverflow.com/questions/47064223/blender-attributeerror-restrictcontext-object-has-no-attribute-scene/47064504#47064504", "title": "Blender : AttributeError: &#39;_RestrictContext&#39; object has no attribute &#39;scene&#39;", "body": "<p>Specifying this script is intended for blender would probably help people. I've worked with it and this is the only reason why I recognized it. Anyway, normally this kind of error happens since Blender restricts access to bpy.context and bpy.data. This is from the <a href=\"https://wiki.blender.org/index.php/Extensions:2.6/Py/API_Changes#Restricted_Context\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>This is done because there is no assurance that the data loaded when\n  the addon is registered will be active or even exist when the user\n  accesses operators the addon defines.\n  If you see an exception like this, then the addon needs to be updated to access the context during execution rather then on registration:</p>\n</blockquote>\n\n<p>Now rather than \"reinvent the wheel\", please follow the above link and follow their code. </p>\n"}], "owner": {"reputation": 147, "user_id": 6738219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f5832dd5f12493e33e380cd5b4ebbb?s=128&d=identicon&r=PG", "display_name": "J&#250;nior", "link": "https://stackoverflow.com/users/6738219/j%c3%banior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1919, "favorite_count": 1, "accepted_answer_id": 47064504, "answer_count": 1, "score": 3, "last_activity_date": 1509583073, "creation_date": 1509572826, "last_edit_date": 1509583073, "question_id": 47064223, "link": "https://stackoverflow.com/questions/47064223/blender-attributeerror-restrictcontext-object-has-no-attribute-scene", "title": "Blender : AttributeError: &#39;_RestrictContext&#39; object has no attribute &#39;scene&#39;", "body": "<p>When running my script, I get this error:</p>\n\n<blockquote>\n  <p>AttributeError: '_RestrictContext' object has no attribute 'scene'</p>\n</blockquote>\n\n<p>I'm trying to create a script for optimization:</p>\n\n<pre><code>bl_info = {\n\"name\": \"Empic Stone\",\n\"author\": \"Null\",\n\"version\": (0, 0, 1),\n\"blender\": (2, 79, 0),\n\"location\": \"VIEW3D &gt; ADD &gt; Mesh\",\n\"description\": \"Empic Stone\",\n\"warning\": \"\",\n\"wiki_url\": \"\",\n\"tracker_url\": \"\",\n\"category\": \"Add Mesh\"}\n\n# Imports\nimport bpy\n\n# Mesh - Create Cubic\nbpy.ops.mesh.primitive_cube_add(location=(0.00, 0.00, 1.00))\n\ndef draw_item(self, context):\n     self.layout.operator_context = 'INVOKE_DEFAULT'\n     self.layout.operator(EpicStone.bl_idname, text=\"Epic Stone\", icon=\"PLUGIN\")\n\ndef register():\n    bpy.utils.register_module(__name__)\n    bpy.types.INFO_MT_mesh_add.append(draw_item)\n\ndef unregister():\n    bpy.utils.unregister_module(__name__)\n    bpy.types.INFO_MT_mesh_add.remove(draw_item)\n\nif __name__ == '__main__':\n     register()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "post", "login", "request"], "answers": [{"tags": [], "owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "is_accepted": true, "score": 0, "last_activity_date": 1509603426, "creation_date": 1509603426, "answer_id": 47068777, "question_id": 47064212, "link": "https://stackoverflow.com/questions/47064212/request-post-username-login-not-working/47068777#47068777", "title": "request / post username/login not working", "body": "<p>you have to submit data to URL specified in <code>action</code> attr of <code>form</code>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action\" rel=\"nofollow noreferrer\">ref</a>:</p>\n\n<pre><code>c.post('https://www.eagle.org/security/GatewayLogin', ...\n</code></pre>\n\n<p>ps: you really shouldn't post out your username and password.</p>\n"}], "owner": {"reputation": 3, "user_id": 8870727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffab5858a5a7d2e27f901cc113eb88c9?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/8870727/marcelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 47068777, "answer_count": 1, "score": 0, "last_activity_date": 1509625816, "creation_date": 1509572769, "last_edit_date": 1509625816, "question_id": 47064212, "link": "https://stackoverflow.com/questions/47064212/request-post-username-login-not-working", "title": "request / post username/login not working", "body": "<p>I am trying to log in with this code:</p>\n\n<pre><code>with requests.Session() as c:\n    url = 'https://ww2.eagle.org/en.html'\n    c.get(url)\n    login_data = {\n        'username': 'username',\n        'password': 'pw',\n    }\n    c.post(url,data=login_data,headers={\"Referer\":\"https://ww2.eagle.org/en.html\"})\n</code></pre>\n\n<p>In the website with the code below:</p>\n\n<pre><code>&lt;div id=\"signinFormId\" class=\"section-label\"&gt;\n    &lt;form name=\"signinForm\" method=\"post\" action=\"https://www.eagle.org/security/GatewayLogin\" target=\"_blank\" class=\"signin-form\"&gt;\n        &lt;span id=\"close-login\" class=\"close-login\"&gt;\u00d7&lt;/span&gt;\n        &lt;div class=\"title-login-window\"&gt;Login&lt;/div&gt;\n        &lt;fieldset&gt;\n          &lt;input type=\"text\" name=\"username\" id=\"username-login\" required=\"\" class=\"input-login\"&gt;\n          &lt;label class=\"input-lbl-login user\" for=\"username-login\"&gt;Username&lt;/label&gt;\n        &lt;/fieldset&gt;\n        &lt;fieldset&gt;\n          &lt;input type=\"password\" name=\"password\" id=\"password-login\" required=\"\" class=\"input-login\"&gt;\n          &lt;label class=\"input-lbl-login pass\" for=\"password-login\"&gt;Password&lt;/label&gt;\n        &lt;/fieldset&gt;\n        &lt;div class=\"links-container\"&gt;\n            &lt;input type=\"submit\" class=\"btn-login\" value=\"Login\"&gt;\n            &lt;span class=\"links-login-wrapper\"&gt;\n                &lt;a href=\"/en/abs-eagle-technical-support.html\" class=\"link-login\"&gt;Help&lt;/a&gt;\n                &lt;a href=\"/en/my-eagle-user-id-request.html\" class=\"link-login\"&gt;Register&lt;/a&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div id=\"loginMsg\"&gt;\n            &lt;p class=\"error-msg-login\"&gt;Login failed. Please enter a valid username and password.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I get no error, but the login does not go through.\nI used similar code to other pages and it worked before.\nI think maybe it has to do with a button that need to be pressed for the login page to appear, but I am not sure... \nAny ideas?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1509573132, "post_id": 47064207, "comment_id": 81076724, "body": "What do you mean by the &quot;middle&quot; of the string? It looks like you&#39;re only trying to get the last part in parentheses."}], "answers": [{"tags": [], "owner": {"reputation": 821, "user_id": 8767753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b33c292d3b4b70d1d64bc4b89a670e?s=128&d=identicon&r=PG&f=1", "display_name": "PJProudhon", "link": "https://stackoverflow.com/users/8767753/pjproudhon"}, "is_accepted": true, "score": 1, "last_activity_date": 1509573176, "creation_date": 1509573176, "answer_id": 47064294, "question_id": 47064207, "link": "https://stackoverflow.com/questions/47064207/ignoring-middle-group-in-regular-expression-substitute/47064294#47064294", "title": "Ignoring middle group in regular expression substitute", "body": "<p>Have a match for each occurence and store the parameter in group 1, as follows:</p>\n\n<pre><code>BasicUtil::\\w+\\((\\w+)\\)\n</code></pre>\n\n<p>Replace match by the captured group: <code>$1</code>.</p>\n\n<p><a href=\"https://regex101.com/r/pA1a6A/1\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n"}], "owner": {"reputation": 267, "user_id": 85837, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/002f92ab7bc52a4ced75780d5b69b3fb?s=128&d=identicon&r=PG", "display_name": "eLAN", "link": "https://stackoverflow.com/users/85837/elan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 47064294, "answer_count": 1, "score": 0, "last_activity_date": 1509574057, "creation_date": 1509572751, "last_edit_date": 1509574057, "question_id": 47064207, "link": "https://stackoverflow.com/questions/47064207/ignoring-middle-group-in-regular-expression-substitute", "title": "Ignoring middle group in regular expression substitute", "body": "<p>I need to substitute multiple values and regex seems like the right tool.\nThe problem I\u2019m facing is that I need to leave the middle part of the match string.</p>\n\n<pre><code>BasicUtil::EpgToInnerEpgString(sTmpAbc)\nBasicUtil::EpgToInnerEpgOID(sTmpXyz)\nBasicUtil::EpgToInnerEpgBool(sTmpAbc)\nBasicUtil::EpgToInnerEpgInt(sTmpAsd)\nBasicUtil::EpgToInnerEpgLong(sTmpAxx)\nBasicUtil::EpgToInnerEpgShort(sTmpAny)\n</code></pre>\n\n<p>I manged to match the entire string, and I was wondering if there is a way to ignore the middle match</p>\n\n<pre><code>R2 = re.compile(\"(BasicUtil::(\\w+)\\()(\\w+)(\\))\", re.MULTILINE)\nR2.subn('', slongString)\n</code></pre>\n\n<p>and this the expected result </p>\n\n<p><code>sTmpAbc sTmpXyz  sTmpAbc  sTmpAsd sTmpAxx sTmpAny</code></p>\n\n<p>Any idea how to proceed?</p>\n\n<p>Thanks to PJProudhon here is the actual code:</p>\n\n<pre><code> R1 = re.compile(\"(BasicUtil::(\\w+)\\()(\\w+)(\\))\", re.MULTILINE)\n    print(R1.sub('\\\\3', s))\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>R2 = re.compile(\"BasicUtil::\\w+\\((\\w+)\\)\", re.MULTILINE)\nprint(R2.sub('\\\\1', s))\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "deep-learning"], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 5985209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-OZvLH38w7cs/AAAAAAAAAAI/AAAAAAAAABw/y9Oq7L1nULk/photo.jpg?sz=128", "display_name": "Aleksandar Jovanovic", "link": "https://stackoverflow.com/users/5985209/aleksandar-jovanovic"}, "edited": false, "score": 0, "creation_date": 1515846119, "post_id": 47064497, "comment_id": 83461892, "body": "I am a bit confused here: how do the gradients get calculated when no labels have been specified? How is the loss computed?"}], "tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": true, "score": 1, "last_activity_date": 1509574304, "creation_date": 1509574304, "answer_id": 47064497, "question_id": 47064178, "link": "https://stackoverflow.com/questions/47064178/keras-with-tf-backend-get-gradient-of-outputs-with-respect-to-inputs/47064497#47064497", "title": "Keras with TF backend: get gradient of outputs with respect to inputs", "body": "<p>You need to get your <code>keras</code> session in order to make it work:</p>\n\n<pre><code>import keras.backend as K\n\nwith K.get_session() as sess:\n    sess.run(grad, feed_dict={input_tens: np.zeros((1, n_features))})\n</code></pre>\n\n<p>When you instantiate a new session - you don't have initialized variables from <code>keras</code> training.</p>\n"}], "owner": {"reputation": 1094, "user_id": 5259805, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/448bac0393b643e9a7e2f36cb3995ed0?s=128&d=identicon&r=PG&f=1", "display_name": "zale", "link": "https://stackoverflow.com/users/5259805/zale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 47064497, "answer_count": 1, "score": 2, "last_activity_date": 1572188333, "creation_date": 1509572655, "last_edit_date": 1572188333, "question_id": 47064178, "link": "https://stackoverflow.com/questions/47064178/keras-with-tf-backend-get-gradient-of-outputs-with-respect-to-inputs", "title": "Keras with TF backend: get gradient of outputs with respect to inputs", "body": "<p>I have a very simple Keras MLP, and I'm trying to get the gradient of the outputs with respect to the inputs.</p>\n\n<p>I'm using the following code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>regressor = Sequential([\n    Dense(32, input_shape=(n_features,), activation='relu'),\n    Dense(1)\n])\nregressor.compile(optimizer=SGD(lr=0.1), loss='mse')\n\nregressor.fit(x, y)\n\noutput_tens = regressor.layers[-1].output\ninput_tens = regressor.layers[0].input\n\ngrad = tf.gradients(output_tens, input_tens)\nwith tf.Session() as sess:\n    sess.run(grad, feed_dict={input_tens: np.zeros((1, n_features))})\n</code></pre>\n\n<p>Which fails with the following error</p>\n\n<pre><code>FailedPreconditionError: Attempting to use uninitialized value dense_7/bias\n     [[Node: dense_7/bias/read = Identity[T=DT_FLOAT, _class=[\"loc:@dense_7/bias\"], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](dense_7/bias)]]\n</code></pre>\n\n<p>(The stack trace is long and, I assume, not very informative, so I'm not adding it here).</p>\n\n<p>Is my approach basically correct? Is there anything special I have to do?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "graphics", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1509573208, "post_id": 47064174, "comment_id": 81076763, "body": "It would be great if you shared Ui_MainWindow and Ui_GraphicsArea or you could share your project through github, gist or similar."}, {"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1509576427, "post_id": 47064174, "comment_id": 81077897, "body": "I have edited my post and added that code in as well"}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "edited": false, "score": 0, "creation_date": 1509660309, "post_id": 47066265, "comment_id": 81120128, "body": "If I wanted to be able to click and drag the mouse to draw a temporary box that would disappear later, would that involve a different structure or would I be able to build upon this?"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1509586871, "creation_date": 1509586871, "answer_id": 47066265, "question_id": 47064174, "link": "https://stackoverflow.com/questions/47064174/pyqt-graphics-view-pixel-value-of-an-image/47066265#47066265", "title": "PYQT Graphics View Pixel Value of an image", "body": "<p>You are getting wrong values when you scroll the scrollbar because the coordinates are in relation to the window and not the image, to get the correct coordinates in a simple way is to overwrite the <code>hoverMoveEvent</code> method of the <code>QGraphicsPixmapItem</code> so we create a class that inherits. The problem is that the <code>QGraphicsItem</code> do not inherit from <code>QObject</code> so they can not emit signals, a simple solution is to create a class that emits the signals and pass it an instance to the custom <code>QGraphicsPixmapItem</code> class.</p>\n\n<pre><code>class LogObject(QObject):\n    MousePixmapSignal = pyqtSignal(QPoint, QColor)\n\n\nclass PictureItem(QGraphicsPixmapItem):\n    def __init__(self, log, *args, **kwargs):\n        QGraphicsPixmapItem.__init__(self, *args, **kwargs)\n        self.setAcceptHoverEvents(True)\n        self.log = log\n\n    def hoverMoveEvent(self, event):\n        point = event.pos().toPoint()\n        color = QColor(self.pixmap().toImage().pixel(point.x(), point.y()))\n        self.log.MousePixmapSignal.emit(point, color)\n        QGraphicsPixmapItem.hoverMoveEvent(self, event)\n\n    def hoverEnterEvent(self, event):\n        QApplication.setOverrideCursor(Qt.CrossCursor)\n        QGraphicsPixmapItem.hoverMoveEvent(self, event)\n\n    def hoverLeaveEvent(self, event):\n        QApplication.setOverrideCursor(Qt.ArrowCursor)\n        QGraphicsPixmapItem.hoverLeaveEvent(self, event)\n\n\nclass LoadPicture(QWidget, Ui_GraphicsArea):\n    def __init__(self, pixmap, parent=None):\n        QWidget.__init__(self, parent)\n        self.setupUi(self)\n        self.log = LogObject(self)\n        self.PictureArea.setScene(QGraphicsScene())\n        self.item = PictureItem(self.log, pixmap)\n        self.PictureArea.scene().addItem(self.item)\n        self.resize(pixmap.size())\n</code></pre>\n\n<p>Then the objects are created whenever necessary and we connect the necessary elements:</p>\n\n<pre><code>class MainWindow(QMainWindow, Ui_MainWindow):\n    def __init__(self, *args, **kwargs):\n        QMainWindow.__init__(self, *args, **kwargs)\n        self.setupUi(self)\n        self.setUpMainUiFunction()\n\n    def setUpMainUiFunction(self):\n        self.actionOpen.triggered.connect(self.OpenDialog)\n        self.Button_LoadPhoto.clicked.connect(self.OpenDialog)\n\n        open = QAction(QIcon(\"icons/open.bmp\"), \"open\", self)\n        save = QAction(QIcon(\"icons/save.bmp\"), \"save\", self)\n        NormalCursor = QAction(QIcon(\"icons/cursor-normal.png\"), \"NormalCursor\", self)\n        CrosshairCursor = QAction(QIcon(\"icons/crosshair.png\"), \"CrosshairCursor\", self)\n\n        self.TopToolBar.addAction(open)\n        self.TopToolBar.addAction(save)\n        self.LeftToolBar.addAction(NormalCursor)\n        self.LeftToolBar.addAction(CrosshairCursor)\n\n        # self.TopToolBar.actionTriggered[QAction].connect(self.toolbtnpressed)\n\n    def OpenDialog(self):\n        options = QFileDialog.Options()\n        options |= QFileDialog.DontUseNativeDialog\n        PicturePath = QStandardPaths.standardLocations(QStandardPaths.PicturesLocation)[0]\n        filenames, _ = QFileDialog.getOpenFileNames(self, \"Open File\", PicturePath, \"JPEG File (*.png)\", options=options)\n        for filename in filenames:\n            pixmap = QPixmap(filename)\n            self.showPicture(pixmap)\n            self.statusbar.showMessage(\"Successfully Loaded: {}\".format(filename))\n\n    def showPicture(self, picture):\n        sub = QMdiSubWindow(self)\n        loadPicture = LoadPicture(picture, sub)\n        sub.setWidget(loadPicture)\n        sub.setObjectName(\"Load_Picture_window\")\n        sub.setWindowTitle(\"New Photo\")\n        self.mdiArea.addSubWindow(sub)\n        sub.show()\n        sub.resize(picture.size())\n        loadPicture.log.MousePixmapSignal.connect(self.updatePixel)\n\n    def updatePixel(self, point, color):\n        self.UserInput_PixelValue_X.setText(\"{}\".format(point.x()))\n        self.UserInput_PixelValue_Y.setText(\"{}\".format(point.y()))\n\n        self.UserInput_PixelValue_R.setText(\"{}\".format(color.red()))\n        self.UserInput_PixelValue_G.setText(\"{}\".format(color.green()))\n        self.UserInput_PixelValue_B.setText(\"{}\".format(color.blue()))\n</code></pre>\n"}], "owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1579, "favorite_count": 1, "accepted_answer_id": 47066265, "answer_count": 1, "score": 1, "last_activity_date": 1509586871, "creation_date": 1509572619, "last_edit_date": 1509576395, "question_id": 47064174, "link": "https://stackoverflow.com/questions/47064174/pyqt-graphics-view-pixel-value-of-an-image", "title": "PYQT Graphics View Pixel Value of an image", "body": "<p>I have a question about how to get the RGB values from a picture while moving the mouse around. I have a few <code>line edit</code> boxes that I would like the values to change as I move my mouse over the picture. I'm close but it is not working yet. I understand why this is not working the way I would like but I am not exactly sure how to fix it.</p>\n\n<p><strong>How this is set up</strong></p>\n\n<p>I used Qt designer to make the GUI's and then I translated that into python code which I am referencing in. In my main window, I have an MDI area and some <code>line edit</code> boxes. When I open a photo it creates a new MDI window that has a <code>graphic view</code> and <code>scroll area</code> that is associated with it. To track the mouse movements I am using an <code>installEventFilter</code> on the viewport of the <code>graphic view</code>. So anything that is in view it will give me the coordinates within that view and not the whole picture its self. </p>\n\n<p><strong>Example of my problem</strong></p>\n\n<p>If I load in a picture bigger than my screen it would put scroll bars on the side. As long as I'm at the top everything seems to work correctly but if I scroll down or to the side to one side or the other now the picture has moved but the viewport has not.</p>\n\n<p><strong>What I would like</strong></p>\n\n<p>My end goal is to be able to get the coordinates of each pixel in the picture that my mouse is currently on and then from that extract the RGB values. If I move the mouse then the coordinates will change. From there I just want to values in a few <code>line edit</code> boxes to change as I move the mouse around.</p>\n\n<p><strong>Screenshot of Main Window</strong>\n<a href=\"https://i.stack.imgur.com/3tcf6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3tcf6.jpg\" alt=\"Screen shot of the main window\"></a></p>\n\n<p><strong>Main Window</strong></p>\n\n<p><strong>This is my Main_GUI.py file</strong></p>\n\n<pre><code> from PyQt5 import QtCore, QtGui, QtWidgets\n\n    class Ui_MainWindow(object):\n        def setupUi(self, MainWindow):\n        MainWindow.setObjectName(\"MainWindow\")\n        MainWindow.resize(818, 814)\n        self.centralwidget = QtWidgets.QWidget(MainWindow)\n        self.centralwidget.setObjectName(\"centralwidget\")\n        self.gridLayout = QtWidgets.QGridLayout(self.centralwidget)\n        self.gridLayout.setObjectName(\"gridLayout\")\n        self.Button_LoadPhoto = QtWidgets.QPushButton(self.centralwidget)\n        self.Button_LoadPhoto.setObjectName(\"Button_LoadPhoto\")\n        self.gridLayout.addWidget(self.Button_LoadPhoto, 1, 0, 1, 1)\n        self.splitter = QtWidgets.QSplitter(self.centralwidget)\n        self.splitter.setOrientation(QtCore.Qt.Horizontal)\n        self.splitter.setObjectName(\"splitter\")\n        self.mdiArea = QtWidgets.QMdiArea(self.splitter)\n        self.mdiArea.setObjectName(\"mdiArea\")\n        self.verticalLayoutWidget = QtWidgets.QWidget(self.splitter)\n        self.verticalLayoutWidget.setObjectName(\"verticalLayoutWidget\")\n        self.verticalLayout = QtWidgets.QVBoxLayout(self.verticalLayoutWidget)\n        self.verticalLayout.setContentsMargins(0, 0, 0, 0)\n        self.verticalLayout.setObjectName(\"verticalLayout\")\n        self.tabWidget_Calb = QtWidgets.QTabWidget(self.verticalLayoutWidget)\n        self.tabWidget_Calb.setObjectName(\"tabWidget_Calb\")\n        self.tab_calibration = QtWidgets.QWidget()\n        self.tab_calibration.setObjectName(\"tab_calibration\")\n        self.gridLayout_3 = QtWidgets.QGridLayout(self.tab_calibration)\n        self.gridLayout_3.setContentsMargins(0, 0, 0, 0)\n        self.gridLayout_3.setObjectName(\"gridLayout_3\")\n        self.UserInput_Calibration_ScaleFactor = QtWidgets.QLineEdit(self.tab_calibration)\n        self.UserInput_Calibration_ScaleFactor.setObjectName(\"UserInput_Calibration_ScaleFactor\")\n        self.gridLayout_3.addWidget(self.UserInput_Calibration_ScaleFactor, 2, 2, 1, 2)\n        self.txt_Calibration_ScaleFactor = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_Calibration_ScaleFactor.setObjectName(\"txt_Calibration_ScaleFactor\")\n        self.gridLayout_3.addWidget(self.txt_Calibration_ScaleFactor, 2, 1, 1, 1)\n        self.txt_Calibration_X1 = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_Calibration_X1.setObjectName(\"txt_Calibration_X1\")\n        self.gridLayout_3.addWidget(self.txt_Calibration_X1, 0, 0, 1, 1)\n        self.UserInput_Calibration_X1 = QtWidgets.QLineEdit(self.tab_calibration)\n        self.UserInput_Calibration_X1.setObjectName(\"UserInput_Calibration_X1\")\n        self.gridLayout_3.addWidget(self.UserInput_Calibration_X1, 0, 1, 1, 1)\n        self.txt_Calibration_Y1 = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_Calibration_Y1.setObjectName(\"txt_Calibration_Y1\")\n        self.gridLayout_3.addWidget(self.txt_Calibration_Y1, 1, 0, 1, 1)\n        self.UserInput_Calibration_X2 = QtWidgets.QLineEdit(self.tab_calibration)\n        self.UserInput_Calibration_X2.setObjectName(\"UserInput_Calibration_X2\")\n        self.gridLayout_3.addWidget(self.UserInput_Calibration_X2, 0, 3, 1, 1)\n        self.UserInput_Calibration_Y2 = QtWidgets.QLineEdit(self.tab_calibration)\n        self.UserInput_Calibration_Y2.setObjectName(\"UserInput_Calibration_Y2\")\n        self.gridLayout_3.addWidget(self.UserInput_Calibration_Y2, 1, 3, 1, 1)\n        self.txt_Calibration_X2 = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_Calibration_X2.setObjectName(\"txt_Calibration_X2\")\n        self.gridLayout_3.addWidget(self.txt_Calibration_X2, 0, 2, 1, 1)\n        self.UserInput_Calibration_Y1 = QtWidgets.QLineEdit(self.tab_calibration)\n        self.UserInput_Calibration_Y1.setObjectName(\"UserInput_Calibration_Y1\")\n        self.gridLayout_3.addWidget(self.UserInput_Calibration_Y1, 1, 1, 1, 1)\n        self.txt_Calibration_Y2 = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_Calibration_Y2.setObjectName(\"txt_Calibration_Y2\")\n        self.gridLayout_3.addWidget(self.txt_Calibration_Y2, 1, 2, 1, 1)\n        self.horizontalLayout = QtWidgets.QHBoxLayout()\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        self.txt_scale = QtWidgets.QLabel(self.tab_calibration)\n        self.txt_scale.setObjectName(\"txt_scale\")\n        self.horizontalLayout.addWidget(self.txt_scale)\n        self.radioButton_Log = QtWidgets.QRadioButton(self.tab_calibration)\n        self.radioButton_Log.setEnabled(True)\n        self.radioButton_Log.setChecked(True)\n        self.radioButton_Log.setObjectName(\"radioButton_Log\")\n        self.horizontalLayout.addWidget(self.radioButton_Log)\n        self.radioButton_Linear = QtWidgets.QRadioButton(self.tab_calibration)\n        self.radioButton_Linear.setObjectName(\"radioButton_Linear\")\n        self.horizontalLayout.addWidget(self.radioButton_Linear)\n        self.gridLayout_3.addLayout(self.horizontalLayout, 5, 0, 1, 4)\n        self.txt_Calibration_X1.raise_()\n        self.UserInput_Calibration_X1.raise_()\n        self.txt_Calibration_Y1.raise_()\n        self.UserInput_Calibration_Y1.raise_()\n        self.txt_Calibration_X2.raise_()\n        self.UserInput_Calibration_X2.raise_()\n        self.txt_Calibration_Y2.raise_()\n        self.UserInput_Calibration_Y2.raise_()\n        self.UserInput_Calibration_ScaleFactor.raise_()\n        self.txt_Calibration_ScaleFactor.raise_()\n        self.tabWidget_Calb.addTab(self.tab_calibration, \"\")\n        self.verticalLayout.addWidget(self.tabWidget_Calb)\n        self.tabWidget_2 = QtWidgets.QTabWidget(self.verticalLayoutWidget)\n        self.tabWidget_2.setObjectName(\"tabWidget_2\")\n        self.tab_PValues = QtWidgets.QWidget()\n        self.tab_PValues.setObjectName(\"tab_PValues\")\n        self.gridLayout_2 = QtWidgets.QGridLayout(self.tab_PValues)\n        self.gridLayout_2.setContentsMargins(0, 0, 0, 0)\n        self.gridLayout_2.setObjectName(\"gridLayout_2\")\n        self.txt_PixelValue_G = QtWidgets.QLabel(self.tab_PValues)\n        self.txt_PixelValue_G.setObjectName(\"txt_PixelValue_G\")\n        self.gridLayout_2.addWidget(self.txt_PixelValue_G, 2, 0, 1, 1)\n        self.txt_PixelValue_R = QtWidgets.QLabel(self.tab_PValues)\n        self.txt_PixelValue_R.setObjectName(\"txt_PixelValue_R\")\n        self.gridLayout_2.addWidget(self.txt_PixelValue_R, 1, 0, 1, 1)\n        self.txt_PixelValue_Y = QtWidgets.QLabel(self.tab_PValues)\n        self.txt_PixelValue_Y.setObjectName(\"txt_PixelValue_Y\")\n        self.gridLayout_2.addWidget(self.txt_PixelValue_Y, 0, 3, 1, 1)\n        self.UserInput_PixelValue_Y = QtWidgets.QLineEdit(self.tab_PValues)\n        self.UserInput_PixelValue_Y.setObjectName(\"UserInput_PixelValue_Y\")\n        self.gridLayout_2.addWidget(self.UserInput_PixelValue_Y, 0, 4, 1, 1)\n        self.UserInput_PixelValue_X = QtWidgets.QLineEdit(self.tab_PValues)\n        self.UserInput_PixelValue_X.setObjectName(\"UserInput_PixelValue_X\")\n        self.gridLayout_2.addWidget(self.UserInput_PixelValue_X, 0, 1, 1, 1)\n        self.txt_PixelValue_X = QtWidgets.QLabel(self.tab_PValues)\n        self.txt_PixelValue_X.setObjectName(\"txt_PixelValue_X\")\n        self.gridLayout_2.addWidget(self.txt_PixelValue_X, 0, 0, 1, 1)\n        self.UserInput_PixelValue_R = QtWidgets.QLineEdit(self.tab_PValues)\n        self.UserInput_PixelValue_R.setObjectName(\"UserInput_PixelValue_R\")\n        self.gridLayout_2.addWidget(self.UserInput_PixelValue_R, 1, 1, 1, 1)\n        self.UserInput_PixelValue_G = QtWidgets.QLineEdit(self.tab_PValues)\n        self.UserInput_PixelValue_G.setObjectName(\"UserInput_PixelValue_G\")\n        self.gridLayout_2.addWidget(self.UserInput_PixelValue_G, 2, 1, 1, 1)\n        self.UserInput_PixelValue_B = QtWidgets.QLineEdit(self.tab_PValues)\n        self.UserInput_PixelValue_B.setObjectName(\"UserInput_PixelValue_B\")\n        self.gridLayout_2.addWidget(self.UserInput_PixelValue_B, 3, 1, 1, 1)\n        self.txt_PixelValue_B = QtWidgets.QLabel(self.tab_PValues)\n        self.txt_PixelValue_B.setObjectName(\"txt_PixelValue_B\")\n        self.gridLayout_2.addWidget(self.txt_PixelValue_B, 3, 0, 1, 1)\n        self.tabWidget_2.addTab(self.tab_PValues, \"\")\n        self.tab_Statistics = QtWidgets.QWidget()\n        self.tab_Statistics.setObjectName(\"tab_Statistics\")\n        self.tabWidget_2.addTab(self.tab_Statistics, \"\")\n        self.verticalLayout.addWidget(self.tabWidget_2)\n        self.tabWidget_3 = QtWidgets.QTabWidget(self.verticalLayoutWidget)\n        self.tabWidget_3.setObjectName(\"tabWidget_3\")\n        self.tab_History = QtWidgets.QWidget()\n        self.tab_History.setObjectName(\"tab_History\")\n        self.tabWidget_3.addTab(self.tab_History, \"\")\n        self.verticalLayout.addWidget(self.tabWidget_3)\n        self.gridLayout.addWidget(self.splitter, 0, 0, 1, 1)\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtWidgets.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 818, 21))\n        self.menubar.setObjectName(\"menubar\")\n        self.menuFile = QtWidgets.QMenu(self.menubar)\n        self.menuFile.setObjectName(\"menuFile\")\n        self.menuEdit = QtWidgets.QMenu(self.menubar)\n        self.menuEdit.setObjectName(\"menuEdit\")\n        self.menuImages = QtWidgets.QMenu(self.menubar)\n        self.menuImages.setObjectName(\"menuImages\")\n        self.menuWindow = QtWidgets.QMenu(self.menubar)\n        self.menuWindow.setObjectName(\"menuWindow\")\n        self.menuHelp = QtWidgets.QMenu(self.menubar)\n        self.menuHelp.setObjectName(\"menuHelp\")\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtWidgets.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(\"statusbar\")\n        MainWindow.setStatusBar(self.statusbar)\n        self.TopToolBar = QtWidgets.QToolBar(MainWindow)\n        self.TopToolBar.setObjectName(\"TopToolBar\")\n        MainWindow.addToolBar(QtCore.Qt.TopToolBarArea, self.TopToolBar)\n        self.LeftToolBar = QtWidgets.QToolBar(MainWindow)\n        self.LeftToolBar.setObjectName(\"LeftToolBar\")\n        MainWindow.addToolBar(QtCore.Qt.LeftToolBarArea, self.LeftToolBar)\n        self.actionNew = QtWidgets.QAction(MainWindow)\n        self.actionNew.setObjectName(\"actionNew\")\n        self.actionOpen = QtWidgets.QAction(MainWindow)\n        self.actionOpen.setObjectName(\"actionOpen\")\n        self.menuFile.addAction(self.actionNew)\n        self.menuFile.addAction(self.actionOpen)\n        self.menubar.addAction(self.menuFile.menuAction())\n        self.menubar.addAction(self.menuEdit.menuAction())\n        self.menubar.addAction(self.menuImages.menuAction())\n        self.menubar.addAction(self.menuWindow.menuAction())\n        self.menubar.addAction(self.menuHelp.menuAction())\n\n        self.retranslateUi(MainWindow)\n        self.tabWidget_Calb.setCurrentIndex(0)\n        self.tabWidget_2.setCurrentIndex(0)\n        self.tabWidget_3.setCurrentIndex(0)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        _translate = QtCore.QCoreApplication.translate\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\"))\n        self.Button_LoadPhoto.setText(_translate(\"MainWindow\", \"Load Photo\"))\n        self.txt_Calibration_ScaleFactor.setText(_translate(\"MainWindow\", \"Scale Factor:\"))\n        self.txt_Calibration_X1.setText(_translate(\"MainWindow\", \"X1\"))\n        self.txt_Calibration_Y1.setText(_translate(\"MainWindow\", \"Y1:\"))\n        self.txt_Calibration_X2.setText(_translate(\"MainWindow\", \"X2:\"))\n        self.txt_Calibration_Y2.setText(_translate(\"MainWindow\", \"Y2:\"))\n        self.txt_scale.setText(_translate(\"MainWindow\", \"Scale:\"))\n        self.radioButton_Log.setText(_translate(\"MainWindow\", \"Logarithmic\"))\n        self.radioButton_Linear.setText(_translate(\"MainWindow\", \"Linear\"))\n        self.tabWidget_Calb.setTabText(self.tabWidget_Calb.indexOf(self.tab_calibration), _translate(\"MainWindow\", \"Calibration\"))\n        self.txt_PixelValue_G.setText(_translate(\"MainWindow\", \"G\"))\n        self.txt_PixelValue_R.setText(_translate(\"MainWindow\", \"R\"))\n        self.txt_PixelValue_Y.setText(_translate(\"MainWindow\", \"Y:\"))\n        self.txt_PixelValue_X.setText(_translate(\"MainWindow\", \"X:\"))\n        self.txt_PixelValue_B.setText(_translate(\"MainWindow\", \"B\"))\n        self.tabWidget_2.setTabText(self.tabWidget_2.indexOf(self.tab_PValues), _translate(\"MainWindow\", \"Pixel Values\"))\n        self.tabWidget_2.setTabText(self.tabWidget_2.indexOf(self.tab_Statistics), _translate(\"MainWindow\", \"Statistics\"))\n        self.tabWidget_3.setTabText(self.tabWidget_3.indexOf(self.tab_History), _translate(\"MainWindow\", \"History\"))\n        self.menuFile.setTitle(_translate(\"MainWindow\", \"File\"))\n        self.menuEdit.setTitle(_translate(\"MainWindow\", \"Edit\"))\n        self.menuImages.setTitle(_translate(\"MainWindow\", \"Images\"))\n        self.menuWindow.setTitle(_translate(\"MainWindow\", \"Window\"))\n        self.menuHelp.setTitle(_translate(\"MainWindow\", \"Help\"))\n        self.TopToolBar.setWindowTitle(_translate(\"MainWindow\", \"toolBar_2\"))\n        self.LeftToolBar.setWindowTitle(_translate(\"MainWindow\", \"toolBar\"))\n        self.actionNew.setText(_translate(\"MainWindow\", \"New\"))\n        self.actionOpen.setText(_translate(\"MainWindow\", \"Open\"))\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    MainWindow = QtWidgets.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p><strong>Functions for main window</strong></p>\n\n<pre><code>import sys\nimport os\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nfrom Main_GUI import *\nfrom GraphicsArea import *\n\n    class MainWindow(QMainWindow):\n\n    def __init__(self, parent=None):\n        super(MainWindow, self).__init__(parent)\n        QWidget.__init__(self,parent)\n        self.MainUi = Ui_MainWindow()\n        self.MainUi.setupUi(self)\n        self.setUpMainUiFunction()\n\n\n    def setUpMainUiFunction(self):\n        self.MainUi.actionOpen.triggered.connect(self.OpenDialog)\n        self.MainUi.Button_LoadPhoto.clicked.connect(self.OpenDialog)\n\n        open = QAction(QIcon(\"icons/open.bmp\"),\"open\",self)\n        save = QAction(QIcon(\"icons/save.bmp\"),\"save\",self)\n        NormalCursor = QAction(QIcon(\"icons/cursor-normal.png\"),\"NormalCursor\",self)\n        CrosshairCursor = QAction(QIcon(\"icons/crosshair.png\"),\"CrosshairCursor\",self)\n\n\n        self.MainUi.TopToolBar.addAction(open)\n        self.MainUi.TopToolBar.addAction(save)\n        self.MainUi.LeftToolBar.addAction(NormalCursor)\n        self.MainUi.LeftToolBar.addAction(CrosshairCursor)\n\n        self.MainUi.TopToolBar.actionTriggered[QAction].connect(self.toolbtnpressed)\n\n\n\n\n    def OpenDialog(self):\n        options = QFileDialog.Options()\n        options |= QFileDialog.DontUseNativeDialog\n\n\n        fileToOpen, _ = QFileDialog.getOpenFileNames(self,\"Open File\", \"\",\"JPEG Files (*.jpeg)\", options=options)\n\n        pixmap = QtGui.QPixmap(fileToOpen[0])\n\n        self.showPicture(pixmap,pixmap.size().width(),pixmap.size().height())\n\n        self.MainUi.statusbar.showMessage(\"Successfully Loaded: \"+ fileToOpen[0])\n\n\n\n    def showPicture(self,picture,width,height):\n        sub = QtWidgets.QMdiSubWindow()\n        self.Load_Picture = LoadPicture()\n\n        sub.setWidget(self.Load_Picture)\n\n        sub.setObjectName(\"Load_Picture_window\")\n        sub.setWindowTitle(\"New Photo\")\n        self.MainUi.mdiArea.addSubWindow(sub)\n\n        self.Load_Picture.setpicture(picture)\n        self.Load_Picture.MousePositionSignal.connect(self.PixelValueUpdate)\n\n        self.PictureWidth = width\n        self.PictureHeight = height\n\n        sub.resize(width/.92,self.MainUi.mdiArea.geometry().height())\n\n        sub.show()\n        self.NewPicture = picture.toImage()\n\n\n    def PixelValueUpdate(self,Coordinates):\n        if  Coordinates.x():\n            R,G,B = QColor(self.NewPicture.pixel(Coordinates.x(),Coordinates.y())).getRgb()[:-1] \n            self.MainUi.UserInput_PixelValue_X.setText(str(Coordinates.x()))\n            self.MainUi.UserInput_PixelValue_Y.setText(str(Coordinates.y()))\n\n            self.MainUi.UserInput_PixelValue_R.setText(str(R))\n            self.MainUi.UserInput_PixelValue_G.setText(str(G))\n            self.MainUi.UserInput_PixelValue_B.setText(str(B))\n\n            QApplication.setOverrideCursor(Qt.CrossCursor)\n            self.UpdateStatueBar(Coordinates)\n        else:\n            QApplication.setOverrideCursor(Qt.ArrowCursor)\n\nif __name__ == \"__main__\":\n    os.environ[\"QT_AUTO_SCREEN_SCALE_FACTOR\"] = \"1\"\n    pyqtRemoveInputHook()\n    app = QtWidgets.QApplication(sys.argv)\n    app.setAttribute(Qt.AA_EnableHighDpiScaling,True)\n    screen_resolution = app.desktop().screenGeometry()\n    width, height = screen_resolution.width()/1.5, screen_resolution.height()/1.2\n    MainWindow = MainWindow()\n    MainWindow.resize(width,height)\n    MainWindow.setWindowTitle('Figure out name later')\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p><strong>Screenshot of the main window with photo open</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ynCqW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ynCqW.jpg\" alt=\"Screen Shot of the main window with MDI window open\"></a></p>\n\n<p><strong>Here is the code for the widget I called GraphicsArea_GUI.py</strong></p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\n\nclass Ui_GraphicsArea(object):\n    def setupUi(self, GraphicsArea):\n        GraphicsArea.setObjectName(\"GraphicsArea\")\n        GraphicsArea.resize(400, 300)\n        self.gridLayout = QtWidgets.QGridLayout(GraphicsArea)\n        self.gridLayout.setObjectName(\"gridLayout\")\n        self.scrollArea = QtWidgets.QScrollArea(GraphicsArea)\n        self.scrollArea.setWidgetResizable(True)\n        self.scrollArea.setObjectName(\"scrollArea\")\n        self.scrollAreaWidgetContents = QtWidgets.QWidget()\n        self.scrollAreaWidgetContents.setGeometry(QtCore.QRect(0, 0, 380, 280))\n        self.scrollAreaWidgetContents.setObjectName(\"scrollAreaWidgetContents\")\n        self.gridLayout_2 = QtWidgets.QGridLayout(self.scrollAreaWidgetContents)\n        self.gridLayout_2.setContentsMargins(0, 0, 0, 0)\n        self.gridLayout_2.setObjectName(\"gridLayout_2\")\n        self.PictureArea = QtWidgets.QGraphicsView(self.scrollAreaWidgetContents)\n        self.PictureArea.setObjectName(\"PictureArea\")\n        self.gridLayout_2.addWidget(self.PictureArea, 0, 0, 1, 1)\n        self.scrollArea.setWidget(self.scrollAreaWidgetContents)\n        self.gridLayout.addWidget(self.scrollArea, 0, 0, 1, 1)\n\n        self.retranslateUi(GraphicsArea)\n        QtCore.QMetaObject.connectSlotsByName(GraphicsArea)\n\n    def retranslateUi(self, GraphicsArea):\n        _translate = QtCore.QCoreApplication.translate\n        GraphicsArea.setWindowTitle(_translate(\"GraphicsArea\", \"Form\"))\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    GraphicsArea = QtWidgets.QWidget()\n    ui = Ui_GraphicsArea()\n    ui.setupUi(GraphicsArea)\n    GraphicsArea.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p><strong>MDI window that will display the photo</strong></p>\n\n<pre><code>import sys\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nfrom GraphicsArea_GUI import *\n\nclass LoadPicture(QWidget):\n    MousePositionSignal = pyqtSignal(object)\n    def __init__(self, parent=None):\n        QWidget.__init__(self, parent)\n\n        self.GraphicAreaGUI = Ui_GraphicsArea()\n        self.GraphicAreaGUI.setupUi(self)\n        self.setUpLoadInputUi()\n        self.GraphicAreaGUI.PictureArea.viewport().installEventFilter(self)\n\n\n    def setUpLoadInputUi(self):\n        pass\n        self.scene=QGraphicsScene()\n        self.pixitem=QGraphicsPixmapItem()\n        self.grali=[]\n\n    def setpicture(self,pixmap):\n        self.pixitem.setPixmap(pixmap)\n        self.grali.append(self.pixitem)\n        self.scene.addItem(self.grali[-1])\n        self.GraphicAreaGUI.PictureArea.setScene(self.scene)\n        self.GraphicAreaGUI.PictureArea.show()\n        self.GraphicAreaGUI.PictureArea.setMouseTracking(True)\n\n\n\n    def eventFilter(self, source, event):\n        if (event.type() == QEvent.MouseMove and\n            source is self.GraphicAreaGUI.PictureArea.viewport()):\n            self.MousePositionSignal.emit(event)\n        return QWidget.eventFilter(self, source, event)\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-entry"], "comments": [{"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1509572824, "post_id": 47064169, "comment_id": 81076593, "body": "Works without error for me in 3.6, make sure your indentations are correct."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1509573012, "post_id": 47064169, "comment_id": 81076675, "body": "@Nae are you <i>certain</i> it works for you? It should be impossible to work correctly. Did you actually type something into an entry box and press return?"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1509573885, "post_id": 47064169, "comment_id": 81077042, "body": "@BryanOakley ah no, you&#39;re right. I haven&#39;t tried the entry -.-&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "edited": false, "score": 0, "creation_date": 1509574460, "post_id": 47064255, "comment_id": 81077240, "body": "Thanks this works well , I found it difficult searching for answers online what source did you use to learn tkinter?"}, {"owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "reply_to_user": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "edited": false, "score": 1, "creation_date": 1509574607, "post_id": 47064255, "comment_id": 81077289, "body": "@MatthewCudby Bryan is very knowledgeable of tkinter, check out his previous answers for lots of tkinter stuff :&gt;"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "edited": false, "score": 0, "creation_date": 1509576255, "post_id": 47064255, "comment_id": 81077843, "body": "@matthew Bryan has been using Tcl/Tk for a long time, perhaps before Tkinter existed..."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "edited": false, "score": 0, "creation_date": 1509576302, "post_id": 47064255, "comment_id": 81077859, "body": "@MatthewCudby: I was a professional tcl/tk developer for several years starting back in the &#39;90s; learning tkinter for me was just a matter of translating the tcl/tk commands to python."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "edited": false, "score": 0, "creation_date": 1509707187, "post_id": 47064255, "comment_id": 81137898, "body": "@MatthewCudby: it&#39;s a normal python object, so yes, you can store it in another variable, pass it to another function, etc. I&#39;m not sure why you would do that though, since it&#39;s really not useful any where else except in the context of servicing the event."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1509572980, "creation_date": 1509572980, "answer_id": 47064255, "question_id": 47064169, "link": "https://stackoverflow.com/questions/47064169/errors-when-using-entry-widgets-tkinter/47064255#47064255", "title": "Errors when using entry widgets Tkinter", "body": "<p>When you bind a function, tkinter always passes in an object that represents the event.</p>\n\n<p>Change <code>valid</code> to be like this:</p>\n\n<pre><code>    def valid(self, event):\n        print (str(self.entry.get()))\n</code></pre>\n\n<p>If you bind multiple widgets to the same function, the widget that received the event is <code>event.widget</code>. So, for example, you could rewrite your code like this to make it more reusable:</p>\n\n<pre><code>def valid(self, event):\n    print(event.widget.get())\n</code></pre>\n\n<p>Additional documentation and examples for the <code>bind</code> method can be found here:</p>\n\n<ul>\n<li><a href=\"http://effbot.org/tkinterbook/tkinter-events-and-bindings.htm\" rel=\"nofollow noreferrer\">http://effbot.org/tkinterbook/tkinter-events-and-bindings.htm</a></li>\n<li><a href=\"https://www.python-course.eu/tkinter_events_binds.php\" rel=\"nofollow noreferrer\">https://www.python-course.eu/tkinter_events_binds.php</a></li>\n<li><a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/binding-levels.html\" rel=\"nofollow noreferrer\">http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/binding-levels.html</a></li>\n</ul>\n"}], "owner": {"reputation": 35, "user_id": 7421172, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/916dea28605a83c87dd257d5122ccac3?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Cudby", "link": "https://stackoverflow.com/users/7421172/matthew-cudby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 47064255, "answer_count": 1, "score": 1, "last_activity_date": 1509581321, "creation_date": 1509572605, "last_edit_date": 1509581321, "question_id": 47064169, "link": "https://stackoverflow.com/questions/47064169/errors-when-using-entry-widgets-tkinter", "title": "Errors when using entry widgets Tkinter", "body": "<p>I am attempting to create a GUI that will convert metric measurements to Imperial or the other way round. However I am having trouble getting the variable from the <code>Entry</code> widget. My exact error is:</p>\n\n<blockquote>\n  <p>Exception in Tkinter callback\n          Traceback (most recent call last):\n          File \"C:\\Python32\\lib\\tkinter__init__.py\", line 1399, in __call__\n              return self.func(*args)\n          TypeError: valid() takes exactly 1 positional argument (2 given)</p>\n</blockquote>\n\n<p>I have attempted using the <code>textvariable</code> method however I got much of the same error.\nI am kind of new to this, so I am not sure what's wrong here. Help would be appreciated.</p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\nclass Buttons:\n    def __init__(self,master,ImperialText,MetricText,metricVal):\n        self.ImperialText = ImperialText\n        self.MetricText = MetricText\n\n\n\n        self.master = master\n        self.Text1 = (ImperialText +'-'+ MetricText)\n        self.button = Button(self.master,text= self.Text1,command = self.calc)\n        self.button.grid(column = 0)\n        self.button.config(height= 3,width=30)\n\n    def calc(self):\n        self.EntryStr = None\n        self.entry = Entry(self.master)\n        self.label = Label(self.master,text = 'Enter '+self.ImperialText)\n\n        self.entry.grid(column = 1,row = 1)\n        self.label.grid(column = 1,row = 0)\n\n        self.entry.bind('&lt;Return&gt;',self.valid)\n\n    def valid(self):\n        print (str(self.entry.get()))\n\nbutton1 = Buttons(root,'inches','centimetres',2.54)\nbutton2 = Buttons(root,'miles','kilometres',1.6093)\nbutton3 = Buttons(root,'foot','metres',0.3048)\nbutton4 = Buttons(root,'yards','metres',0.9144)\nbutton5 = Buttons(root,'gallons','litres',4.546)\nbutton6 = Buttons(root,'pounds','kilograms',0.454)\nbutton7 = Buttons(root,'ounces','grams',0.454)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 1, "creation_date": 1509572817, "post_id": 47064147, "comment_id": 81076591, "body": "Both are fine. The related manager calls the queryset method internally. Don&#39;t forget the <code>&#39;s&#39;</code> though ;-)"}, {"owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "reply_to_user": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 0, "creation_date": 1509585825, "post_id": 47064147, "comment_id": 81080513, "body": "perfect thanks! I edited the code to add back the &#39;s&#39; i forgot :-)"}], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509585815, "creation_date": 1509572543, "last_edit_date": 1509585815, "question_id": 47064147, "link": "https://stackoverflow.com/questions/47064147/syntax-for-django-queryset-exists", "title": "syntax for django queryset exists", "body": "<p>Suppose I have Django models like this:</p>\n\n<pre><code>class Foo(Model):\n    bar = ForeignKey(Bar, related_name=\"foos\")\n\nclass Bar(Model):\n    dummy = models.CharField(max_length=128, null=False)\n</code></pre>\n\n<p>I know that I can get all Foo object for a bar using bar.foos.all(). Suppose I just want to see if a bar has any Foos. What is the syntax for this:</p>\n\n<pre><code>Option 1:\nbar.foos.exists()\n\nOption 2:\nbar.foos.all().exists()\n</code></pre>\n\n<p>Which of the above is correct? Every example I have seen of exists() uses filter() so I'm not sure what to do if I don't need to filter.</p>\n"}, {"tags": ["python", "node.js", "express", "asynchronous", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 1123613, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/13323996ec3457d2bec49f2669fee342?s=128&d=identicon&r=PG", "display_name": "wowohweewah", "link": "https://stackoverflow.com/users/1123613/wowohweewah"}, "edited": false, "score": 0, "creation_date": 1509578199, "post_id": 47064793, "comment_id": 81078458, "body": "I might be misunderstanding how subprocess.Popen operates, but I thought it spawns an async process for which the script that called it doesn&#39;t have to wait on. At least running it on CMD, it prints {&quot;response&quot;: &quot;success&quot;} (what Express should return) and resets the terminal for a new command instantly. [Oh I had a typo, I added the &quot;print&quot; command to the original post]"}], "tags": [], "owner": {"reputation": 368, "user_id": 4745643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/550985c8af67cd73f5ede2cc9739a40f?s=128&d=identicon&r=PG&f=1", "display_name": "zinfandel", "link": "https://stackoverflow.com/users/4745643/zinfandel"}, "is_accepted": false, "score": 1, "last_activity_date": 1509576016, "creation_date": 1509576016, "answer_id": 47064793, "question_id": 47064122, "link": "https://stackoverflow.com/questions/47064122/creating-a-node-express-api-that-spawns-an-async-python-subprocess/47064793#47064793", "title": "Creating a node/express API that spawns an async Python subprocess", "body": "<p>The idea behind your setup seems fine, I think you're just getting confused with a small detail.</p>\n\n<p>You correctly point out that you have to split the response into two parts, 'minute-long process initiated' and 'data now available'. But in your actual code you have conflated the two into one, and your Express server doesn't return anything before the Python script is done.</p>\n\n<p>What's hanging is not the server but the client, who doesn't receive anything for minutes and consequently times out after a while.</p>\n\n<p>So ideally, your server should return something immediately that tells the client to go into 'waiting mode'. Then you can think about how the client will figure out when results are available.</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 1123613, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/13323996ec3457d2bec49f2669fee342?s=128&d=identicon&r=PG", "display_name": "wowohweewah", "link": "https://stackoverflow.com/users/1123613/wowohweewah"}, "is_accepted": true, "score": 0, "last_activity_date": 1509581653, "creation_date": 1509581653, "answer_id": 47065596, "question_id": 47064122, "link": "https://stackoverflow.com/questions/47064122/creating-a-node-express-api-that-spawns-an-async-python-subprocess/47065596#47065596", "title": "Creating a node/express API that spawns an async Python subprocess", "body": "<p>So the one work around I figured is a bit wonky (I feel like) but it works. Maybe a better answer will pop up though.</p>\n\n<p>Basically I create a preprep.py (better name needed), this does the stuff that requires Node/Express to wait (e.g. check if model is already currently running for the user). It doesn't start the model, it just returns 'true' if it's all clear to run or raises an exception if it's not. Then Node/Express runs prep.py and doesn't wait or care for a response, just assumes it started up successfully and moves on.</p>\n\n<pre><code>router.route('/prep/:userid/:key')\n    .get(throttle(tOptions), function(req, res, next) {\n        var error = null;\n        var onError = function(err) { error = getPythonError(err); }\n        // on complete callback with a nested RunPy call\n        var onComplete = function(ret) {\n            if(error) {\n                // error handling same as before\n                next({message: error});\n            } else if(ret.replace(/^\\s+|\\s+$/g, '').toLowerCase() === \"true\") {\n                 // if response (stripped of whitespace and lowercase) is true send success response\n                 res.send({response: \"success\"});\n                 // run prep.py with no callbacks\n                 RunPy(path.join(process.env.PYSCRIPTDIR, \"prep.py\"), [req.params.userid]);\n            } else {\n                // just for completeness\n                res.send({response: \"could not start model\"});\n            }\n        };\n        RunPy(\n            path.join(process.env.PYSCRIPTDIR, \"preprep.py\"),\n            [req.params.userid, req.params.key],\n            onComplete,\n            onError\n        );\n    });\n</code></pre>\n\n<p>Also RunPy slightly modified so now all callbacks are optional obviously.</p>\n"}], "owner": {"reputation": 395, "user_id": 1123613, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/13323996ec3457d2bec49f2669fee342?s=128&d=identicon&r=PG", "display_name": "wowohweewah", "link": "https://stackoverflow.com/users/1123613/wowohweewah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 47065596, "answer_count": 2, "score": 0, "last_activity_date": 1509581653, "creation_date": 1509572456, "last_edit_date": 1509579122, "question_id": 47064122, "link": "https://stackoverflow.com/questions/47064122/creating-a-node-express-api-that-spawns-an-async-python-subprocess", "title": "Creating a node/express API that spawns an async Python subprocess", "body": "<p>Technically, it spawns a Python subprocess that spawns another async Python subprocess, but the title was already long. Node/ExpressJS should wait on the first Python subprocess (to ensure it ran successfully), but not the sub-subprocess, which can take several minutes to complete. However, despite seemingly having the right setup, the API request when made through the browser seems to hang up waiting for the subprocess of the subprocess.</p>\n\n<p><strong>Background:</strong></p>\n\n<p>The basic goal here is to create a Node/ExpressJS based API you can use to run a model then get the output. The model can take several minutes to run so my strategy, instead of just waiting for the response with one API request, is to split the request into two, one to prep/run the model, a second to retrieve the results.</p>\n\n<p>The prep call initiates the model, there's checks and etc. by userid to make sure only one model run is active per user at any time. It simply returns a message saying the model run has been started successfully or that you can't start a new run because it's currently running.</p>\n\n<p>The retrieve call tries to retrieve the data. It can return a message saying the output is still running, the error if the run failed, or the stats and numbers and whatnot if the model run has completed.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>The problem is in the prep call. Node/Express calls a prep.py script. The prep.py script spawns another subprocess (run.py) but neither Node/Express or prep.py should wait for that subprocess to complete. Otherwise, calling the REST API would hang up if waiting for the model to complete. </p>\n\n<p>So the way this is done in Python is as follows:</p>\n\n<pre><code>sp = subprocess.Popen([\n    \"python\",\n    os.path.join(this_dir, \"run.py\"),\n    userid,\n    processid\n])\n\nprint json.dumps({'response': 'success'})\n# end of script\n</code></pre>\n\n<p>When running this via command line (i.e. CMD), this works fine. I call prep.py, it instantly dumps the JSON and CMD is ready for another input/command. On the task-manager I can see python is running in the background and eventually the model output file will appear where I need it to.</p>\n\n<p>However when calling it via Node/ExpressJS through the browser, the API still acts like it's waiting on run.py to complete. (Eventually it timesout, the browser auto-refreshes, and the page says something to the effect of \"error, model is already running\" -- which at least is nice to see the failsafe work to prevent spamming model runs.)</p>\n\n<p>Here's the path through which the API prep call is made:</p>\n\n<pre><code>router.route('/prep/:userid/:key')\n    .get(throttle(tOptions), function(req, res, next) {\n        var error = null;\n        RunPy(\n            // path to script\n            path.join(process.env.PYSCRIPTDIR, \"prep.py\"),  \n            // parameters/arguments\n            [req.params.userid, req.params.key], \n            // on complete callback\n            function(ret) {\n                if(error) {\n                    next({message: error});\n                } else {\n                    res.send(ret);\n                }\n            },\n            // on error callback\n            function(err) { error = getPythonError(err); }\n        );\n    });\n</code></pre>\n\n<p>RunPy just being a convenient wrapper to run python subprocesses:</p>\n\n<pre><code>const spawn = require(\"child_process\").spawn;\n\nmodule.exports = function(pyPath, args, onComplete, onError, onData) {\n    var py = spawn('python', [pyPath].concat(args));\n    var ret = \"\";\n    py.stdout.on('data', function(data) {\n        ret += data.toString();\n        if(onData) onData(data.toString());\n    });\n    py.stderr.on('data', function(data) {\n        onError(data.toString());\n    });\n    py.stdout.on('end', function() {\n        onComplete(ret);\n    })\n};\n</code></pre>\n\n<p>I could probably just ensure the python scripts only output once and just have the on complete callback fire on the first <code>py.stdout.on('data', ..)</code> but that seems inelegant and I don't like the idea of just leaving a hanging Javascript thread waiting on this python script that takes several minutes.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 4, "creation_date": 1509572408, "post_id": 47064096, "comment_id": 81076407, "body": "... did you try it out??? Why do you think it won&#39;t work?"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1509572654, "post_id": 47064156, "comment_id": 81076527, "body": "<code>if True: return True</code>?"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1509572707, "post_id": 47064156, "comment_id": 81076543, "body": "It checks out..."}], "tags": [], "owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "is_accepted": false, "score": 1, "last_activity_date": 1509572658, "last_edit_date": 1509572658, "creation_date": 1509572554, "answer_id": 47064156, "question_id": 47064096, "link": "https://stackoverflow.com/questions/47064096/comparing-strings-for-palindrome/47064156#47064156", "title": "Comparing Strings for palindrome", "body": "<p>Yes. You can.</p>\n\n<pre><code>def is_palindrome(a_string):\n    if a_string == a_string[::-1]:\n        return True\n    return False\n</code></pre>\n\n<p>Or simpler:</p>\n\n<pre><code>def is_a_palindrome(a_string):\n    return a_string == a_string[::-1]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8594761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5384a5848c4b825ca6fa06ca447c98f7?s=128&d=identicon&r=PG&f=1", "display_name": "Warmlawpk441", "link": "https://stackoverflow.com/users/8594761/warmlawpk441"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1509573619, "answer_count": 1, "score": -2, "last_activity_date": 1509572658, "creation_date": 1509572341, "last_edit_date": 1509572415, "question_id": 47064096, "link": "https://stackoverflow.com/questions/47064096/comparing-strings-for-palindrome", "closed_reason": "Duplicate", "title": "Comparing Strings for palindrome", "body": "<p>If I reverse a string using [::-1] can I then just compare it to the original to test if it is a palindrome? My other plan is to create a list or set with the alphabet in it and index the letters of the string to compare numerically if the simple way doesn't work out.</p>\n"}, {"tags": ["python", "telegram", "telegram-bot", "python-telegram-bot"], "comments": [{"owner": {"reputation": 622, "user_id": 6685083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf86a9090ad17b2d809efac1bdd7f5fd?s=128&d=identicon&r=PG&f=1", "display_name": "jeffffc", "link": "https://stackoverflow.com/users/6685083/jeffffc"}, "edited": false, "score": 0, "creation_date": 1509602423, "post_id": 47064078, "comment_id": 81085003, "body": "<code>A message can only be deleted if it was sent less than 48 hours ago.</code>  Are you deleting older messages?"}, {"owner": {"reputation": 13, "user_id": 8474178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU0Xt.jpg?s=128&g=1", "display_name": "ChemBean", "link": "https://stackoverflow.com/users/8474178/chembean"}, "reply_to_user": {"reputation": 622, "user_id": 6685083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf86a9090ad17b2d809efac1bdd7f5fd?s=128&d=identicon&r=PG&f=1", "display_name": "jeffffc", "link": "https://stackoverflow.com/users/6685083/jeffffc"}, "edited": false, "score": 0, "creation_date": 1509618335, "post_id": 47064078, "comment_id": 81093836, "body": "No, i&#39;m deleting messages that was sent less then 5 minutes ago."}], "answers": [{"tags": [], "owner": {"reputation": 1313, "user_id": 8372336, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fTYAK.jpg?s=128&g=1", "display_name": "91DarioDev", "link": "https://stackoverflow.com/users/8372336/91dariodev"}, "is_accepted": false, "score": 0, "last_activity_date": 1509727882, "creation_date": 1509727882, "answer_id": 47100798, "question_id": 47064078, "link": "https://stackoverflow.com/questions/47064078/telegram-bot-deletemessage-function-returns-400-bad-request-error/47100798#47100798", "title": "Telegram Bot deleteMessage function returns 400 Bad Request Error", "body": "<p>A bot can delete messages:</p>\n\n<p><strong>1. in groups</strong>:</p>\n\n<p>Only his own messages if he is not admin, otherwise also messages from other users.</p>\n\n<p><strong>2. in private</strong>:</p>\n\n<p>only his own messages</p>\n\n<hr>\n\n<p>in both the cases only if the message is not older than 48h.\nProbably, since you said in comments messages aren't older than 48h, you can doing it wrong because of the first 2 points</p>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 9908072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c808579494b9d9cfa855cad619b1d0?s=128&d=identicon&r=PG&f=1", "display_name": "codewhiz", "link": "https://stackoverflow.com/users/9908072/codewhiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1575312332, "last_edit_date": 1575312332, "creation_date": 1575311033, "answer_id": 59144685, "question_id": 47064078, "link": "https://stackoverflow.com/questions/47064078/telegram-bot-deletemessage-function-returns-400-bad-request-error/59144685#59144685", "title": "Telegram Bot deleteMessage function returns 400 Bad Request Error", "body": "<p>Check your <code>Message</code>. There are following <a href=\"https://core.telegram.org/bots/api#deletemessage\" rel=\"nofollow noreferrer\">limitations</a> on deleting messages by bots:</p>\n\n<blockquote>\n  <ul>\n  <li>A message can only be deleted if it was sent less than 48 hours ago.</li>\n  <li>Bots can delete outgoing messages in groups and supergroups.</li>\n  <li>Bots granted can_post_messages permissions can delete outgoing messages in channels.</li>\n  <li>If the bot is an administrator of a group, it can delete any message there.</li>\n  <li>If the bot has can_delete_messages permission in a supergroup or a channel, it can delete any message there.\n  Returns True on success.</li>\n  </ul>\n</blockquote>\n\n<p>This can also happen if the <code>message_id</code> is not matching with the <code>mId</code> you have provided</p>\n"}], "owner": {"reputation": 13, "user_id": 8474178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU0Xt.jpg?s=128&g=1", "display_name": "ChemBean", "link": "https://stackoverflow.com/users/8474178/chembean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1436, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1575325577, "creation_date": 1509572191, "last_edit_date": 1575325577, "question_id": 47064078, "link": "https://stackoverflow.com/questions/47064078/telegram-bot-deletemessage-function-returns-400-bad-request-error", "title": "Telegram Bot deleteMessage function returns 400 Bad Request Error", "body": "<p>I'm trying to write the telegram bot, and i need help here  </p>\n\n<p><code>bot.deleteMessage(chat_id=chatId, message_id=mId)</code></p>\n\n<p>This code returns the following error: <code>400 Bad Request: message can't be deleted</code>  </p>\n\n<p>Bot has all rights needed for deleting messages.</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 2522, "user_id": 5976576, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ec90d5b8c13f25c3eae9fe8a9df6fc8?s=128&d=identicon&r=PG&f=1", "display_name": "MotKohn", "link": "https://stackoverflow.com/users/5976576/motkohn"}, "edited": false, "score": 1, "creation_date": 1509572417, "post_id": 47064067, "comment_id": 81076414, "body": "I don&#39;t understand why you are returning file. Even more what are you gaining from stripping the &#39;\\n&#39; if you are not saving the result."}, {"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 1, "creation_date": 1509572449, "post_id": 47064067, "comment_id": 81076427, "body": "You return from the first line iteration..."}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509572459, "post_id": 47064067, "comment_id": 81076434, "body": "I was hoping that it would skip over the header"}, {"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1509572460, "post_id": 47064067, "comment_id": 81076436, "body": "I don&#39;t get how you get any output at all from that function. Surely you havn&#39;t shown us the code line that reads in the displayed data, nor the line that prints it."}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509572503, "post_id": 47064067, "comment_id": 81076461, "body": "So return the file after the readline?"}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509572548, "post_id": 47064067, "comment_id": 81076479, "body": "I get a list when I test it"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1509572802, "post_id": 47064067, "comment_id": 81076583, "body": "What is the reason for the return? As its probably not needed here."}, {"owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "edited": false, "score": 1, "creation_date": 1509572855, "post_id": 47064067, "comment_id": 81076606, "body": "The returned values in the question is not the actual return of the code. You probably read the lines later, from the returned file object. The first line disappears because of the <code>file.readline()</code> statement but that seems intentional given the docstring. The second line disappears because of <code>for line in file:</code>, this advances the file position."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573136, "post_id": 47064168, "comment_id": 81076728, "body": "How do I test this now? f = open_grades_file(filename) f.readline() Traceback (most recent call last):   Python Shell, prompt 4, line 1 builtins.AttributeError: &#39;str&#39; object has no attribute &#39;readline&#39;. I get that when I test it"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573192, "post_id": 47064168, "comment_id": 81076751, "body": "Please post your full code in question not here in comment. Edit your question."}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573779, "post_id": 47064168, "comment_id": 81077003, "body": "I figured it out, but where do I add the rstrip() to remove the &#39;\\n&#39;?"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573820, "post_id": 47064168, "comment_id": 81077014, "body": "You do not need rstrip() if you want to print it exactly as in question."}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509574174, "post_id": 47064168, "comment_id": 81077139, "body": "Ok but how would we get rid of the &#39;\\n&#39; if we wanted to?"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509574332, "post_id": 47064168, "comment_id": 81077200, "body": "Add this line: <code>f = &#39;&#39;.join(f.split(&#39;\\n&#39;))</code> after <code>f = open_grades_file(filename).read()</code>"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509650440, "post_id": 47064168, "comment_id": 81115361, "body": "@bigd Future readers may find this question interesting. Does any answer give you a solution? Accepting any answer that helped you may help future readers too."}], "tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": true, "score": 1, "last_activity_date": 1509573512, "last_edit_date": 1509573512, "creation_date": 1509572600, "answer_id": 47064168, "question_id": 47064067, "link": "https://stackoverflow.com/questions/47064067/opening-files-of-names/47064168#47064168", "title": "Opening files of names", "body": "<p>Read all file after the one-line header:</p>\n\n<pre><code>def open_grades_file(filename):\n    '''(str) -&gt; (file)\n\n    Open filename, read past its one-line header and\n    return file.\n    '''\n    file = open(filename, 'r')\n    file.readline()\n\n    return file\n\n# read all file past its one-line header\nf = open_grades_file(filename).read()\n\nprint(f)\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>Smith, Joe,9911991199,smithjoe9,99,88,77,66\nAsh, Wood,9912334456,ashwood,11,22,33,44\nFull, Kare,9913243567,fullkare,78,58,68,88\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573342, "post_id": 47064250, "comment_id": 81076828, "body": "I want to read past the one line header and how can I do it using return?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573405, "post_id": 47064250, "comment_id": 81076849, "body": "@bigd I have updated my answer with something that may work for you"}, {"owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573478, "post_id": 47064250, "comment_id": 81076882, "body": "How can I do it using return?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "edited": false, "score": 0, "creation_date": 1509573554, "post_id": 47064250, "comment_id": 81076905, "body": "@bigd what do you mean how? Just add return to the line that is printing the data. I have added a return line to the code. Please explain what it is you are trying to accomplish with the return line so I can provide a clear answer."}], "tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 1, "last_activity_date": 1509573344, "last_edit_date": 1509573344, "creation_date": 1509572946, "answer_id": 47064250, "question_id": 47064067, "link": "https://stackoverflow.com/questions/47064067/opening-files-of-names/47064250#47064250", "title": "Opening files of names", "body": "<p>I am not sure you need to return anything if you are just trying to get something printed to the console or need to update some variable but this simple function will print all the lines to the console in order.</p>\n\n<pre><code>def open_grades_file(filename):\n    with open(filename, 'r') as f:\n        for line in f:\n            print(line.rstrip('\\n'))\n</code></pre>\n\n<p>If you can provide more context to what it is you are trying to do I can form a better answer.</p>\n\n<p>If you want to print out all lines except for the first one you could have a true/false variable that will allow you to skip the first line.</p>\n\n<p>Something like this:</p>\n\n<pre><code>x = False\n\ndef open_grades_file(filename):\n    global x\n    with open(filename, 'r') as f:\n        for line in f:\n            if x == True:\n                print(line.rstrip('\\n'))\n                return line.rstrip('\\n') # this return line should work for you. Though I am not sure what its for in your case.\n            else:\n                x = True # sets x to true after the first line is read.\n    x = False # resets for next use of the function\n\nopen_grades_file(\"data\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "is_accepted": false, "score": 2, "last_activity_date": 1509573220, "creation_date": 1509573220, "answer_id": 47064299, "question_id": 47064067, "link": "https://stackoverflow.com/questions/47064067/opening-files-of-names/47064299#47064299", "title": "Opening files of names", "body": "<p>If you want the function to actually correspond to its docstring, use:</p>\n\n<pre><code>def open_grades_file(filename):\n    '''(str) -&gt; file\n\n    Open filename, read past its one-line header and\n    return the open file.\n    '''\n    file = open(filename, 'r')\n    file.readline()\n    return file\n</code></pre>\n\n<p>But it's a very strange thing to do, a function like this would be more pythonic:</p>\n\n<pre><code>def read_grade_lines(path):\n    with open(path) as f:\n        for line in f.readlines():\n            yield line.strip()\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8840870, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/b8c6e79d39a9302ba49faeee3ebd6b45?s=128&d=identicon&r=PG&f=1", "display_name": "bigd", "link": "https://stackoverflow.com/users/8840870/bigd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 47064168, "answer_count": 3, "score": 1, "last_activity_date": 1509815578, "creation_date": 1509572135, "last_edit_date": 1509815578, "question_id": 47064067, "link": "https://stackoverflow.com/questions/47064067/opening-files-of-names", "title": "Opening files of names", "body": "<p>When I try to open the file for this function, I don't get all the names. I want to get this:</p>\n\n<pre><code>Smith, Joe,9911991199,smithjoe9,99,88,77,66\nAsh, Wood,9912334456,ashwood,11,22,33,44\nFull, Kare,9913243567,fullkare,78,58,68,88\n</code></pre>\n\n<p>But I get this when I test the function:</p>\n\n<pre><code>['Ash, Wood,9912334456,ashwood,11,22,33,44\\n', 'Full, Kare,9913243567,fullkare,78,58,68,88\\n']\n</code></pre>\n\n<p>Can anyone please help me fix this? How can I include the first person's name as well?</p>\n\n<pre><code>def open_grades_file(filename):\n    '''(str) -&gt; file\n\n    Open filename, read past its one-line header and\n    return the open file.\n    '''\n    file = open(filename, 'r')\n    file.readline()\n    for line in file:\n        line.rstrip('\\n')\n        return file\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 47598, "user_id": 712995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c7ImO.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/712995/maxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1509643960, "creation_date": 1509643960, "answer_id": 47081365, "question_id": 47064064, "link": "https://stackoverflow.com/questions/47064064/how-to-calculate-the-number-when-denominator-is-very-small/47081365#47081365", "title": "How to calculate the number when denominator is very small", "body": "<p>The problem is that both nominator and denominator are very small and even go to exact <code>0.0</code>, after which the algorithm collapses. Try this version of <code>findp</code>, it should be more numerically stable:</p>\n\n<pre><code>def findp(x, y, z):\n  nom = float(np.dot((x - y), (z - y)))\n  denom = float(np.dot((z - y), (z - y)))\n  ratio = 1e-10 if nom &lt; 1e-15 and denom &lt; 1e-15 else nom / denom\n  p = y + ratio * (z - y)\n  return p - (x - p)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6085533, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/903169166466900/picture?type=large", "display_name": "Suyoung Park", "link": "https://stackoverflow.com/users/6085533/suyoung-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509643960, "creation_date": 1509572117, "last_edit_date": 1509572535, "question_id": 47064064, "link": "https://stackoverflow.com/questions/47064064/how-to-calculate-the-number-when-denominator-is-very-small", "title": "How to calculate the number when denominator is very small", "body": "<p>I tried to find optimal point by using polytope method with 2 random points.\nBut I found I got inaccurate number due to I need to divide some number by very small number which goes to zero.\nSo is there any way I can deal with this?\nI tried to add 1 in denominator but it gave me wrong answer especially for Rosenbrock function.\nThis is my code.</p>\n\n<pre><code>\"\"\"\nCreated on Wed Nov  1 11:50:28 2017\n\n@author: su\n\"\"\"\nimport numpy as np\ndef sorting(f,x,y,z):\n    A = np.array([[x[0], x[1], f(x[0], x[1])],\n     [y[0], y[1], f(y[0], y[1])],\n     [z[0], z[1], f(z[0], z[1])]\n     ])\n    A = A[A[:,2].argsort()]\n    x = A[2][:2]\n    y = A[1][:2] \n    z = A[0][:2]\n    return x,y,z\ndef pmin(f,x,y,z,epsilon):\n    x,y,z = sorting(f,x,y,z)\n    cond1 = float(np.linalg.norm(y-z)) / float(1+np.linalg.norm(z))\n    cond2 = float(np.linalg.norm(x-z)) / float(1+np.linalg.norm(z))\n    p = np.zeros((1,2))\n    count = 0\n    while cond1 &gt; epsilon or cond2 &gt; epsilon or count &lt; 10000:\n        p = findp(x,y,z)\n        if f(x[0],x[1]) &gt; f(p[0],p[1]) :\n            x = p\n        elif f(y[0],y[1]) &gt; f(p[0],p[1]) :\n            y = p\n        elif f(z[0],z[1]) &gt; f(p[0],p[1]) :\n            z = p\n        else:\n            x, y = shrink(z,x,y)\n            #x, y = shrink(z,y,x)\n        x,y,z = sorting(f,x,y,z)\n        #print(x,y,z)\n        cond1 = float(np.linalg.norm(y-z)) / float(1+np.linalg.norm(z))\n        cond2 = float(np.linalg.norm(x-z)) / float(1+np.linalg.norm(z))\n        count += 1\n    return p, \n\ndef findp(x,y,z):\n    p = y + float(np.dot((x-y),(z-y)))/float(np.dot((z-y),(z-y))) * (z-y)\n    #p = y + float(np.dot((x-y),(z-y)))/float(1+np.dot((z-y),(z-y))) * (z-y) to avoid float division by zero\n    return p-(x-p)\ndef shrink(x,y,z):\n    new_y = x+0.5*(y-x)\n    new_z = x+0.5*(z-x)\n    return new_y, new_z\ndef f1(x1,x2):\n    return 2*(x1-4)**2 + 3*(x2-5)**2\n\ndef f2(x1,x2):\n    return (1-x1)**2 + 100*(x2-x1**2)**2\n\npoints = np.array([[1,2],[3,4],[9,10]])\neps = float(1e-10)\nmin1 = pmin(f1,points[0],points[1],points[2],eps)\nmin2 = pmin(f2,points[0],points[1],points[2],eps)\nprint \"point1\"\nprint \"minimum from first function:\", min1\nprint \"minimum from second function:\", min2\npoints = np.array([[0,5],[1,3],[1,0]])\nmin1 = pmin(f1,points[0],points[1],points[2],eps)\nmin2 = pmin(f2,points[0],points[1],points[2],eps)\nprint \"point2\"\nprint \"minimum from first function:\", min1\nprint \"minimum from second function:\", min2\nprint(min2)\n#from scipy.optimize import fmin\n#print fmin(f1, x0=np.array([0]),args=(0,))\n#print fmin(f2, x0=np.array([0]),args=(0,))\n</code></pre>\n"}, {"tags": ["python", "numpy", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1509574484, "post_id": 47064042, "comment_id": 81077249, "body": "Numpy is a module and not a project."}], "answers": [{"tags": [], "owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "is_accepted": true, "score": 7, "last_activity_date": 1509618759, "last_edit_date": 1509618759, "creation_date": 1509583458, "answer_id": 47065833, "question_id": 47064042, "link": "https://stackoverflow.com/questions/47064042/pyspark-vs-python-vs-numpy-understanding/47065833#47065833", "title": "pyspark vs python vs numpy understanding?", "body": "<p><em>Very</em> briefly (your question is way too broad, and this is actually not the best place for such inquiries):</p>\n\n<ol>\n<li>pyspark is the Python <em>API</em> of Spark, and not just a shell (although it does include a shell); programs written in pyspark can be <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html\" rel=\"noreferrer\">submitted to a Spark cluster</a> and run in a distributed manner.</li>\n<li>More or less correct...</li>\n<li>Also correct, roughly speaking (though irrelevant).</li>\n<li>Numpy objects can be used with <em>py</em>spark, and they are indeed rather heavily used where needed - say, the linear algebra &amp; machine learning libraries of <em>py</em>spark. Of course, they are of no use in the other Spark APIs (Scala/Java/R).</li>\n<li>I'm not quite sure about the formal definition of a (Python) library, but yes, pyspark can be thought of as a library, too (or maybe as a set of libraries, since there are more subpackages in pyspark like Spark SQL &amp; Spark ML); very recently it has also become available via <a href=\"https://pypi.python.org/pypi/pyspark/2.2.0\" rel=\"noreferrer\">PyPi</a> (i.e. it can be installed via <code>pip</code>).</li>\n<li>... well, here you become <em>really</em> broad... Let me just say that a big part in what goes on under the hood is due to <a href=\"https://www.py4j.org/\" rel=\"noreferrer\">Py4j</a>, the unsung hero behind pyspark...</li>\n</ol>\n"}], "owner": {"reputation": 2643, "user_id": 3736306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04e15baa8fe1cfac912948db67b919d?s=128&d=identicon&r=PG&f=1", "display_name": "yuqli", "link": "https://stackoverflow.com/users/3736306/yuqli"}, "delete_vote_count": 2, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8386, "favorite_count": 0, "closed_date": 1509586589, "accepted_answer_id": 47065833, "answer_count": 1, "score": 1, "last_activity_date": 1564004941, "creation_date": 1509572046, "last_edit_date": 1564004941, "question_id": 47064042, "link": "https://stackoverflow.com/questions/47064042/pyspark-vs-python-vs-numpy-understanding", "closed_reason": "Needs more focus", "title": "pyspark vs python vs numpy understanding?", "body": "<p>I am having trouble understanding the relationship between pyspark, spark, and python. I have tried to read up something on operating systems but still kind of confused.</p>\n\n<p>So what I have searched are:</p>\n\n<ol>\n<li>Pyspark is the python shell of spark. </li>\n<li>Spark is a computing engine, possibly taking charge or distributing files to nodes, collect them and return them?</li>\n<li>A shell is a program that interprets commands and translate into executable codes, by searching in the /bin directory.</li>\n</ol>\n\n<p>But when I am writing the program, I am confused:</p>\n\n<ol start=\"4\">\n<li><p>In Pyspark we can import Numpy and create Numpy objects. Then, does\nSpark also support Numpy projects?</p></li>\n<li><p>We can write \"from pyspark import SparkContext\", then is pyspark a library just as numpy?</p></li>\n<li><p>Where is the RDD objects in spark stored? I might be lacking some knowledge here, but what exactly is a Python object / numpy object / spark object? Are they stored somewhere on physical memory? Are they in the file system? How can there be objects from different programming libraries operate together in a python environment?</p></li>\n</ol>\n\n<p>I feel I might be messing around with levels of abstractions here so any guidance will help! Thanks. </p>\n"}, {"tags": ["python", "arrays", "postgresql", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "is_accepted": true, "score": 9, "last_activity_date": 1509588713, "creation_date": 1509588713, "answer_id": 47066488, "question_id": 47064007, "link": "https://stackoverflow.com/questions/47064007/how-to-explicitly-cast-type-of-array-literal-in-sqlalchemy-using-postgresql/47066488#47066488", "title": "How to explicitly cast type of array literal in sqlalchemy using postgresql?", "body": "<p>Casting is very straightforward:</p>\n\n<pre><code>from sqlalchemy.dialects.postgresql import array, ARRAY\n\ncast(array([]), ARRAY(Integer))\n</code></pre>\n\n<p>Without seeing what you've tried, I can only speculate that you tried to cast to <code>array(Integer)</code> instead of <code>ARRAY(Integer)</code>.</p>\n"}], "owner": {"reputation": 83, "user_id": 3900934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f752cb76921f43bd9a120734ed91455?s=128&d=identicon&r=PG&f=1", "display_name": "Coke Fiend", "link": "https://stackoverflow.com/users/3900934/coke-fiend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2867, "favorite_count": 0, "accepted_answer_id": 47066488, "answer_count": 1, "score": 5, "last_activity_date": 1509588713, "creation_date": 1509571901, "question_id": 47064007, "link": "https://stackoverflow.com/questions/47064007/how-to-explicitly-cast-type-of-array-literal-in-sqlalchemy-using-postgresql", "title": "How to explicitly cast type of array literal in sqlalchemy using postgresql?", "body": "<p>After attempting to cast a literal arrays type via cast, type_coerce, and type_ and not having any success thought I would ask.</p>\n\n<pre><code>from pprint import pprint\n\nfrom sqlalchemy import String, null, Integer, Column, ForeignKey, \\\n    create_engine\nfrom sqlalchemy.dialects.postgresql import array\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import aliased, sessionmaker, relationship\n\nBase = declarative_base()\n\ntemp_db_name = 'cf_LlAcKpxFHzOW'\nengine = create_engine('postgresql://localhost/{}'.format(temp_db_name))\n\n\nclass JobGroup(Base):\n    __tablename__ = 'job_group'\n\n    id = Column(Integer, primary_key=True)\n    name = Column(String, nullable=False)\n    parent_id = Column(Integer, ForeignKey(\"job_group.id\"))\n    parent = relationship(\"JobGroup\", remote_side=[id])\n\n    def __init__(self, name, parent=None):\n        self.name = name\n        self.parent = parent\n\n\n    def __repr__(self):\n        return \"JobGroup {} {}\".format(self.id, self.name)\n\nBase.metadata.create_all(bind=engine)\n\nSession = sessionmaker()\nSession.configure(bind=engine)\n\nsession = Session()\n\ngp_group = JobGroup(name=\"grandpa\")\np_group = JobGroup(name=\"parent\", parent=gp_group)\nc_group = JobGroup(name=\"child\", parent=p_group)\n\nsession.add(gp_group)\nsession.add(p_group)\nsession.add(c_group)\nsession.commit()\nsession.refresh(gp_group)\nsession.refresh(p_group)\nsession.refresh(c_group)\n\n# for jg in session.query(JobGroup).all():\n#     pprint(jg.__dict__)\n\ntry:\n    tree_parts = session.query(\n        JobGroup.id,\n        JobGroup.name,\n        JobGroup.parent_id,\n        array([]).label(\"ancestors\")\n    ).filter(\n        JobGroup.parent_id == null()\n    ).cte(name=\"tree_parts\", recursive=True)\n\n    jg_alias = aliased(JobGroup, name=\"jg\")\n    tree_parts_alias = aliased(tree_parts, name=\"tp\")\n\n    tree_parts = tree_parts.union_all(\n        session.query(\n            jg_alias.id,\n            jg_alias.name,\n            jg_alias.parent_id,\n            (tree_parts_alias.c.ancestors + \n             array([jg_alias.parent_id])).label(\"ancestors\")\n        ).filter(jg_alias.parent_id == tree_parts_alias.c.id)\n    )\n    pprint(session.query(tree_parts).all())\nfinally:\n    session.rollback()\n    session.close_all()\n    Base.metadata.drop_all(bind=engine)\n</code></pre>\n\n<p>This results in the postgres error:</p>\n\n<pre><code>sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) cannot determine type of empty array\nLINE 2: ...p.name AS name, job_group.parent_id AS parent_id, ARRAY[] AS...\n                                                              ^\nHINT:  Explicitly cast to the desired type, for example ARRAY[]::integer[].\n</code></pre>\n\n<p>There are ways to work around this for this use case, such as pre-populating the ancestors array literal with an integer that is an invalid parent_id, like -1.</p>\n"}, {"tags": ["python", "c", "python-3.x", "object", "struct"], "answers": [{"comments": [{"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1509572707, "post_id": 47064171, "comment_id": 81076542, "body": "Yea, let&#39;s disregard custom made <code>class</code>es. Regarding the size of the <code>struct</code>, isn&#39;t that exactly what <code>sys.getsizeof(obj)</code> provides?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 0, "creation_date": 1509572797, "post_id": 47064171, "comment_id": 81076580, "body": "@jmd_dk: Nope. It includes other memory that belongs to the object but isn&#39;t actually part of the struct, such as a list&#39;s backing buffer."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1509573002, "last_edit_date": 1509573002, "creation_date": 1509572613, "answer_id": 47064171, "question_id": 47063996, "link": "https://stackoverflow.com/questions/47063996/printing-the-underlying-c-struct-representation-of-cpython-objects/47064171#47064171", "title": "Printing the underlying C struct representation of CPython objects", "body": "<p>The problem with trying to do this automatically is that there's no general way to get the layout of a Python type. Heck, there isn't even a general way to tell how big the structure is. Also, types created with the <code>class</code> statement don't quite use <code>struct</code>s for their instances, though they mostly work like structs.</p>\n\n<p>You'd need to provide struct definitions yourself for any type you want to work with, and you'd still need custom handling for types like <code>int</code> and <code>str</code> with particularly weird representations.</p>\n"}], "owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 47064171, "answer_count": 1, "score": 0, "last_activity_date": 1509573002, "creation_date": 1509571855, "question_id": 47063996, "link": "https://stackoverflow.com/questions/47063996/printing-the-underlying-c-struct-representation-of-cpython-objects", "title": "Printing the underlying C struct representation of CPython objects", "body": "<p>Under the hood, any Python object is implemented as a C struct with some fields. A 16 bytes <a href=\"https://docs.python.org/3/c-api/structures.html#c.PyObject\" rel=\"nofollow noreferrer\">header</a> containing the reference count and a pointer to the object's type is always present on this struct. This is at least the case for 64bit stock CPython 3.x, for which my question is restricted.</p>\n\n<p>For academic purposes and the fun of it, I'm in search of a function <code>print_object(obj)</code> which prints out this underlying <code>struct</code> of the passed object <code>obj</code>.</p>\n\n<p>In terms of implementation, the simplest Python object is perhaps the <code>float</code>, which is just a C <code>double</code> appended to the previously mentioned header. In this simple case I've been able to write my own such function using the <code>ctypes</code> and <code>struct</code> modules:</p>\n\n<pre><code>import collections, ctypes, struct, sys\n\nheader_fields = ['refcount', 'typeptr']\nFloat = collections.namedtuple('Float', header_fields + ['value'])\n\ndef print_object(obj):\n    ptr = id(obj)\n    size = sys.getsizeof(obj)\n    byterep = ctypes.string_at(ptr, size)\n    header = struct.unpack('qq', byterep[:16])\n    if isinstance(obj, float):\n        obj_struct = Float(*header, *struct.unpack('d', byterep[16:]))\n    elif isinstance(obj, int):\n        ...\n    print(obj_struct)\n\n# Try it out\na = 1.23\nprint_object(a)\nprint('The typeptr should be equal to', id(float))\nprint('\\nNow the refcount should have increased by 1:')\nb = a\nprint_object(a)\n</code></pre>\n\n<p>In essence, this function reads the underlying memory of the object and builds a copy of the C <code>struct</code> as a Python <code>namedtuple</code>, effectively re-representing a piece of Python in itself. The code should run on Python 3.5 and up. It prints</p>\n\n<blockquote>\n  <p>Float(refcount=5, typeptr=140429307606720, value=1.23)<br>\n   The typeptr should be equal to 140429307606720</p>\n  \n  <p>Now the refcount should have increased by 1:<br>\n  Float(refcount=6, typeptr=140429307606720, value=1.23)</p>\n</blockquote>\n\n<p>The above <code>print_object</code> function works great for <code>float</code>s, and the same method could be extended to (I suppose?) all other types. Does any library out there (or perhaps even the Python stadard library) contain such functionality?</p>\n"}, {"tags": ["python", "list", "lambda"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1509572155, "post_id": 47063972, "comment_id": 81076274, "body": "<code>reduce(lambda x,y: x + y, map(len, [&#39;cat&#39;,&#39;dog&#39;,&#39;hat&#39;]))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1509572626, "post_id": 47064036, "comment_id": 81076515, "body": "@StefanPochmann O! It&#39;s great that it doesn&#39;t let you do that. You can still, unfortunately, sum on <code>list</code> objects, so <code>sum([[1],[2],[3]], [])</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1509572862, "post_id": 47064036, "comment_id": 81076610, "body": "Well, ok, not really all the time. But when I know it&#39;s fast enough and am too lazy to type something efficient."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1509572868, "post_id": 47064036, "comment_id": 81076611, "body": "@StefanPochmann and a baby ... functional programming mascot dies when you do <code>reduce(list.__iadd__, [[1],[2],[3]])</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1509573339, "post_id": 47064036, "comment_id": 81076827, "body": "@StefanPochmann yep, relying on the handy fact that <code>reduce</code> is a fold-l operation, otherwise, I think it would be just as inefficient."}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 4, "last_activity_date": 1509572736, "last_edit_date": 1509572736, "creation_date": 1509572031, "answer_id": 47064036, "question_id": 47063972, "link": "https://stackoverflow.com/questions/47063972/python-reduce-on-len-function/47064036#47064036", "title": "Python reduce on len() function", "body": "<p>Think about your reduce operation:</p>\n\n<pre><code>(len((len('cat') + len('dog')))+ len('hat'))\n</code></pre>\n\n<p>You will end up calling <code>len</code> on an <code>int</code>. You probably want:</p>\n\n<pre><code>sum(map(len, ['cat','dog','hat']))\n</code></pre>\n\n<p>And stop re-inventing the wheel and using <code>reduce</code> for <code>sum</code>.</p>\n\n<p>Note also, using <code>sum</code> (which is equivalent to <code>reduce(lambda x,y: x+y, ...)</code> is going to have <em>terrible</em> performance for strings, i.e. O(n^2). Instead, use <code>''.join(sequence_of_strings)</code></p>\n\n<p>Indeed, the interpreter will yell at you if you even try!</p>\n\n<pre><code>&gt;&gt;&gt; sum(['a','b','c'], '')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: sum() can't sum strings [use ''.join(seq) instead]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "is_accepted": false, "score": 3, "last_activity_date": 1509572073, "creation_date": 1509572073, "answer_id": 47064048, "question_id": 47063972, "link": "https://stackoverflow.com/questions/47063972/python-reduce-on-len-function/47064048#47064048", "title": "Python reduce on len() function", "body": "<p>reduce is a process in which you iteratively go over all the items and apply an operation, let's try to do it with your example:</p>\n\n<pre><code>reduce( (lambda x,y: len(x) + len(y)), ['cat','dog','hat'])\n</code></pre>\n\n<p>so first <code>x</code> is 'cat' and <code>y</code> is 'dog' and the output is 6, now we'll have <code>x</code> as 6 and <code>y</code> as 'hat' and we'll fail on <code>len(6)</code></p>\n\n<p>What you want to do instead is sum the lengths of the strings, you can use <code>map</code> for that because unlike <code>reduce</code> map applies a function on all the items (which is exactly what you want - to apply <code>len</code> to each and every item) and sum will take care of the addition:</p>\n\n<pre><code>sum(map(len, ['cat','dog','hat']))\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3251558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a7c9fb3db845991ee28046b1c38755?s=128&d=identicon&r=PG&f=1", "display_name": "javareigns", "link": "https://stackoverflow.com/users/3251558/javareigns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1509572736, "creation_date": 1509571760, "last_edit_date": 1509572311, "question_id": 47063972, "link": "https://stackoverflow.com/questions/47063972/python-reduce-on-len-function", "title": "Python reduce on len() function", "body": "<p>I have</p>\n\n<pre><code>&gt;&gt;&gt; reduce( (lambda x,y: x + y), [1,2,3])\n\n6\n</code></pre>\n\n<p>And</p>\n\n<pre><code>&gt;&gt;&gt; reduce( (lambda x,y: x + y), ['cat','dog','hat'])\n\n'catdoghat'\n</code></pre>\n\n<p>Then, I'd like to get the sum of all string elements in the list:</p>\n\n<pre><code>&gt;&gt;&gt; reduce( (lambda x,y: len(x) + len(y)), ['cat','dog','hat'])\n</code></pre>\n\n<p>It produces an error.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "django", "unit-testing", "selenium", "bdd"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1509727464, "post_id": 47067702, "comment_id": 81151267, "body": "Creating a <code>LiveServerTestCase</code> for every feature runs a new server in the background on a random port, but those servers are never used. All of your Selenium tests are using the non-test dev server."}, {"owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509806611, "post_id": 47067702, "comment_id": 81173683, "body": "You are right, that take more resource than it should be."}], "tags": [], "owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "is_accepted": true, "score": 1, "last_activity_date": 1510498808, "last_edit_date": 1510498808, "creation_date": 1509597630, "answer_id": 47067702, "question_id": 47063953, "link": "https://stackoverflow.com/questions/47063953/set-up-django-discoverrunner-to-always-recreate-database-on-testing-with-radish/47067702#47067702", "title": "Set up Django DiscoverRunner to always recreate database on testing with radish", "body": "<p>@Wyatt, again I'm just gonna modify your answer. I have try and run your solution, however it didn't manage to make each scenario independent, I even encounter an Integrity error when I try to make model object inside scenario. Regardless I still use your solution (especially <code>RadishTestRunner</code>, as the idea comes from you. I modified it so I could run <code>django unittest</code> separately from <code>radish</code>. I use <code>LiveServerTestCase</code> directly and remove <code>LiveServer</code> as I notice the similirity between the two, except that <code>LiveServerTestCase</code> inherits from <code>TransactionTestCase</code> and it also has the <code>LiveServerThread</code> and <code>_StaticFilesHandler</code> built in. Here's how it is:</p>\n\n<pre><code># package/test/runner.py\nimport os\nfrom django.test.runner import DiscoverRunner\nimport radish.main\n\n\nclass RadishTestRunner(DiscoverRunner):\n    radish_features = ['features']\n    def run_suite(self, suite, **kwargs):\n        # run radish test\n        return radish.main.main(self.radish_features)\n\n    def suite_result(self, suite, result, **kwargs):\n        return result\n\n    def set_radish_features(self, features):\n        self.radish_features = features\n\n# radish/world.py\nfrom django.test import LiveServerTestCase\n\n\nfrom radish import pick\n\nfrom selenium import webdriver\n\n\n@pick\ndef get_browser():\n    return webdriver.Chrome()\n\n\n@pick\ndef get_live_server():\n    live_server = LiveServerTestCase\n    live_server.setUpClass()\n    return live_server\n\n# radish/terrain.py\nfrom radish import world, before, after\nfrom selenium import webdriver\n\n\n@before.all\ndef set_up(features, marker):\n    world.get_live_server()\n\n\n@after.all\ndef tear_down(features, marker):\n    live_server = world.get_live_server()\n    live_server.tearDownClass()\n\n\n@before.each_scenario\ndef set_up_scenario(scenario):\n    live_server = world.get_live_server()\n\n    scenario.context.browser = webdriver.Chrome()\n    scenario.context.base_url = live_server.live_server_url\n\n    scenario.context.test_case = live_server()\n    scenario.context.test_case._pre_setup()\n\n\n@after.each_scenario\ndef tear_down_scenario(scenario):\n    scenario.context.test_case._post_teardown()\n    scenario.context.browser.quit()\n</code></pre>\n\n<p>That's it. This also fix the problem with PostgreSQL on my other question that you point out. I also open and quit browser on each scenario, as it gives me more control over the browser inside scenario. Thank you so much for you effort to point me at the right direction.</p>\n\n<p>Finally I return to PostgreSQL.\nPostgreSQL seem to better than MySQL in terms of speed. It greatly reduced the time to run test.</p>\n\n<p>And oh ya, I need to run <code>./manage.py collectstatic</code> first after specify <code>STATIC_ROOT</code> in <code>django</code> settings file.</p>\n\n<p>I also modify <code>RadishTestRunner</code>, so instead of running with <code>RADISH_ONLY=1</code>, I could run it with <code>python manage.py radish /path/to/features/file</code>. Here's my radish command:</p>\n\n<pre><code># package.management.commands.radish\nfrom __future__ import absolute_import\nimport sys\nfrom django.core.management.base import BaseCommand, CommandError\nfrom package.test.runner import RadishTestRunner\n\n\nclass Command(BaseCommand):\n    def add_arguments(self, parser):\n        parser.add_argument('features', nargs='+', type=str)\n\n    def handle(self, *args, **options):\n        test_runner = RadishTestRunner(interactive=False)\n        if options['features']:\n            test_runner.set_radish_features(options['features'])\n        result = test_runner.run_suite(None)\n        if result:\n            sys.exit(result)\n</code></pre>\n\n<p>By using radish with django management command, we have control over which feature file we want to run.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509659401, "post_id": 47084158, "comment_id": 81119730, "body": "I understand, but that would cause the database not independent on each scenario."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "reply_to_user": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509659956, "post_id": 47084158, "comment_id": 81119967, "body": "That would be easy enough to fix without creating and dropping the database for every single scenario."}, {"owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509660660, "post_id": 47084158, "comment_id": 81120269, "body": "Can I use that with selenium? Would launch test command also works with selenium, which test on browser?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "reply_to_user": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509661046, "post_id": 47084158, "comment_id": 81120460, "body": "I edited the code so the database should be flushed after every scenario now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "reply_to_user": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509661494, "post_id": 47084158, "comment_id": 81120682, "body": "In my opinion, running Selenium tests via radish doesn&#39;t seem like a good fit. Using <code>LiveServerTestCase</code> directly seems like a better way to run Selenium tests (as show in <a href=\"https://medium.com/@unary/django-views-automated-testing-with-selenium-d9df95bdc926\" rel=\"nofollow noreferrer\">this article</a>)."}, {"owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509788122, "post_id": 47084158, "comment_id": 81168834, "body": "I am working on it. I&#39;ll let you know, If I hit something."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "reply_to_user": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509815204, "post_id": 47084158, "comment_id": 81176329, "body": "This works for me with Postgres (tested by creating the same record in two different scenarios). It might not work with MySQL."}, {"owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "edited": false, "score": 0, "creation_date": 1509815972, "post_id": 47084158, "comment_id": 81176607, "body": "Ya, I&#39;ve test both."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "is_accepted": false, "score": 1, "last_activity_date": 1509819358, "last_edit_date": 1509819358, "creation_date": 1509654725, "answer_id": 47084158, "question_id": 47063953, "link": "https://stackoverflow.com/questions/47063953/set-up-django-discoverrunner-to-always-recreate-database-on-testing-with-radish/47084158#47084158", "title": "Set up Django DiscoverRunner to always recreate database on testing with radish", "body": "<p>It seems to me that recreating the database for <em>every</em> scenario would end up being highly inefficient (and super slow). It should only be necessary to create the database once per test run and then drop it at the end.</p>\n\n<p>I've come up with a solution I think integrates better with Django. It allows you to run the tests with <code>manage.py test</code>, only creates/drops the database once per test run, and clears the database tables after every feature is tested.</p>\n\n<p>Note that this runs both the Django unit tests and radish tests by default. To run just the radish tests, you can do <code>RADISH_ONLY=1 manage.py test</code>. Also, for the live server/Selenium tests to work, you have to run <code>manage.py collectstatic</code> first.</p>\n\n<pre><code># package/settings.py\nTEST_RUNNER = 'package.test.runner.RadishTestRunner'\n\n# package/test/runner\nimport os\n\nfrom django.test.runner import DiscoverRunner\n\nimport radish.main\n\nclass RadishTestRunner(DiscoverRunner):\n\n    def run_suite(self, suite, **kwargs):\n        # Run unit tests\n        if os.getenv('RADISH_ONLY') == '1':\n            result = None\n        else:\n            result = super().run_suite(suite, **kwargs)\n        # Run radish behavioral tests\n        self._radish_result = radish.main.main(['features'])\n        return result\n\n    def suite_result(self, suite, result, **kwargs):\n        if result is not None:\n            # Django unit tests were run\n            result = super().suite_result(suite, result, **kwargs)\n        else:\n            result = 0\n        result += self._radish_result\n        return result\n\n# radish/world.py\nfrom django.db import connections\nfrom django.test.testcases import LiveServerThread, _StaticFilesHandler\nfrom django.test.utils import modify_settings\n\nfrom radish import pick\n\nfrom selenium import webdriver\n\n@pick\ndef get_browser():\n    return webdriver.Chrome()\n\n@pick\ndef get_live_server():\n    live_server = LiveServer()\n    live_server.start()\n    return live_server\n\nclass LiveServer:\n\n    host = 'localhost'\n    port = 0\n    server_thread_class = LiveServerThread\n    static_handler = _StaticFilesHandler\n\n    def __init__(self):\n        connections_override = {}\n        for conn in connections.all():\n            if conn.vendor == 'sqlite' and conn.is_in_memory_db():\n                conn.allow_thread_sharing = True\n                connections_override[conn.alias] = conn\n\n        self.modified_settings = modify_settings(ALLOWED_HOSTS={'append': self.host})\n\n        self.server_thread = self.server_thread_class(\n            self.host,\n            self.static_handler,\n            connections_override=connections_override,\n            port=self.port,\n        )\n        self.server_thread.daemon = True\n\n    @property\n    def url(self):\n        self.server_thread.is_ready.wait()\n        return 'http://{self.host}:{self.server_thread.port}'.format(self=self)\n\n    def start(self):\n        self.modified_settings.enable()\n        self.server_thread.start()\n        self.server_thread.is_ready.wait()\n        if self.server_thread.error:\n            self.stop()\n            raise self.server_thread.error\n\n    def stop(self):\n        if hasattr(self, 'server_thread'):\n            self.server_thread.terminate()\n\n        for conn in connections.all():\n            if conn.vendor == 'sqlite' and conn.is_in_memory_db():\n                conn.allow_thread_sharing = False\n\n        self.modified_settings.disable()\n\n# radish/terrain.py\nfrom django.db import connections, transaction\n\nfrom radish import world, before, after\n\n@before.all\ndef set_up(features, marker):\n    world.get_live_server()\n\n@after.all\ndef tear_down(features, marker):\n    browser = world.get_browser()\n    live_server = world.get_live_server()\n    browser.quit()\n    live_server.stop()\n\n@before.each_scenario\ndef set_up_scenario(scenario):\n    live_server = world.get_live_server()\n    scenario.context.base_url = live_server.url\n    scenario.context.browser = world.get_browser()\n\n    # XXX: Only works with the default database\n    # XXX: Assumes the default database supports transactions\n    scenario.context.transaction = transaction.atomic(using='default')\n    scenario.context.transaction.__enter__()\n\n@after.each_scenario\ndef tear_down_scenario(scenario):\n    transaction.set_rollback(True, using='default')\n    scenario.context.transaction.__exit__(None, None, None)\n    for connection in connections.all():\n        connection.close()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7271853, "user_type": "registered", "profile_image": "https://graph.facebook.com/1184180941674607/picture?type=large", "display_name": "tangorboyz", "link": "https://stackoverflow.com/users/7271853/tangorboyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 47067702, "answer_count": 2, "score": 0, "last_activity_date": 1510498808, "creation_date": 1509571683, "question_id": 47063953, "link": "https://stackoverflow.com/questions/47063953/set-up-django-discoverrunner-to-always-recreate-database-on-testing-with-radish", "title": "Set up Django DiscoverRunner to always recreate database on testing with radish", "body": "<p>I am using radish bdd with selenium to test my django app, however sometimes django ask to delete database because it's already exists in database. here's my <code>terrain.py</code>:</p>\n\n<pre><code>import os\n\nimport django\nfrom django.test.runner import DiscoverRunner\nfrom django.test import LiveServerTestCase\nfrom radish import before, after\nfrom selenium import webdriver\n\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'tangorblog.settings.features')\nBASE_URL = os.environ.get('BASE_URL', 'http://localhost:8000')\n\n\n@before.each_scenario\ndef setup_django_test(scenario):\n    django.setup()\n    scenario.context.test_runner = DiscoverRunner()\n    scenario.context.test_runner.setup_test_environment()\n    scenario.context.old_db_config =\\\n        scenario.context.test_runner.setup_databases()\n    scenario.context.base_url = BASE_URL\n    scenario.context.test_case = LiveServerTestCase()\n    scenario.context.test_case.setUpClass()\n    scenario.context.browser = webdriver.Chrome()\n\n\n@after.each_scenario\ndef teardown_django(scenario):\n    scenario.context.browser.quit()\n    scenario.context.test_case.tearDownClass()\n    del scenario.context.test_case\n    scenario.context.test_runner.teardown_databases(\n        scenario.context.old_db_config)\n    scenario.context.test_runner.teardown_test_environment()\n</code></pre>\n\n<p>I think that, I can somehow could alter this on </p>\n\n<pre><code>scenario.context.old_db_config =\\\n            scenario.context.test_runner.setup_databases()\n</code></pre>\n\n<p>But I don't know how. Any help?</p>\n"}, {"tags": ["python", "parsing"], "comments": [{"owner": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1509571868, "post_id": 47063924, "comment_id": 81076147, "body": "It&#39;s a list of dictionaries, do you have any code you&#39;ve tried yet?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6535501"}, "reply_to_user": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1509572226, "post_id": 47063924, "comment_id": 81076310, "body": "Like @JonathanPorter said, it&#39;s a list of dictionaries, creating a basic python programme to read the file and sort them into a format that you want shouldn&#39;t be too hard although it&#39;s hard to see what you&#39;re actually asking for."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1509572511, "post_id": 47063924, "comment_id": 81076463, "body": "Why can&#39;t you load a 50M file directly into memory?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1509572809, "post_id": 47063924, "comment_id": 81076587, "body": "As downshift suggests, 50M isn&#39;t that big. If it&#39;s valid JSON the Python <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\"><code>json</code></a> module will easily read it for you."}, {"owner": {"reputation": 15, "user_id": 2430234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24a132410e912ecf268cb7bf1cc66241?s=128&d=identicon&r=PG", "display_name": "Wacky Mode-On", "link": "https://stackoverflow.com/users/2430234/wacky-mode-on"}, "edited": false, "score": 0, "creation_date": 1509750550, "post_id": 47063924, "comment_id": 81161770, "body": "I just thought it would take forever, like it was a txt file. Thanks for the help guys."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 2430234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24a132410e912ecf268cb7bf1cc66241?s=128&d=identicon&r=PG", "display_name": "Wacky Mode-On", "link": "https://stackoverflow.com/users/2430234/wacky-mode-on"}, "edited": false, "score": 0, "creation_date": 1509750717, "post_id": 47064101, "comment_id": 81161825, "body": "Thanks to all for the help. I didn&#39;t know that json files were something awesome. Thanks again!"}], "tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": true, "score": 0, "last_activity_date": 1509572360, "creation_date": 1509572360, "answer_id": 47064101, "question_id": 47063924, "link": "https://stackoverflow.com/questions/47063924/just-q-a-from-jeopardy-json/47064101#47064101", "title": "Just Q &amp; A from Jeopardy JSON", "body": "<p>For each dictionary in the list, get the <code>'question'</code> and <code>'answer'</code> keys:</p>\n\n<pre><code>for l in d:\n    print l['question'], l['answer']\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>'For the last 8 years of his life, Galileo was under house arrest for espousing this man's theory' Copernicus\n'No. 2: 1912 Olympian; football star at Carlisle Indian School; 6 MLB seasons with the Reds, Giants &amp; Braves' Jim Thorpe\n'The city of Yuma in this state has a record average of 4,055 hours of sunshine each year' Arizona\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 2430234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24a132410e912ecf268cb7bf1cc66241?s=128&d=identicon&r=PG", "display_name": "Wacky Mode-On", "link": "https://stackoverflow.com/users/2430234/wacky-mode-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 47064101, "answer_count": 1, "score": -2, "last_activity_date": 1509572519, "creation_date": 1509571564, "last_edit_date": 1509572519, "question_id": 47063924, "link": "https://stackoverflow.com/questions/47063924/just-q-a-from-jeopardy-json", "title": "Just Q &amp; A from Jeopardy JSON", "body": "<p>I downloaded this 200k Q/A of Jeopardy questions. I thought it would be fun to plug into some trivia bot. Anyhow, it's 50M in size with no line breaks that I can see.</p>\n\n<p>I just want to pull all of the questions and answers from this monster into a file format like:</p>\n\n<pre><code>-- question\n - answer\n</code></pre>\n\n<p>Here's part of what the file looks like. I know that I can't go line by line and I know I can't load the entire thing into memory. But, I also know that what I want is the first thing in quotes after <code>\"question\":</code> and the answer is the first thing in quotes directly after <code>\"answer\":</code>.</p>\n\n<pre><code>[{\"category\": \"HISTORY\", \"air_date\": \"2004-12-31\", \"question\": \"'For the last 8 years of his life, Galileo was under house arrest for espousing this man's theory'\", \"value\": \"$200\", \"answer\": \"Copernicus\", \"round\": \"Jeopardy!\", \"show_number\": \"4680\"},\n {\"category\": \"ESPN's TOP 10 ALL-TIME ATHLETES\", \"air_date\": \"2004-12-31\", \"question\": \"'No. 2: 1912 Olympian; football star at Carlisle Indian School; 6 MLB seasons with the Reds, Giants &amp; Braves'\", \"value\": \"$200\", \"answer\": \"Jim Thorpe\", \"round\": \"Jeopardy!\", \"show_number\": \"4680\"},\n {\"category\": \"EVERYBODY TALKS ABOUT IT...\", \"air_date\": \"2004-12-31\", \"question\": \"'The city of Yuma in this state has a record average of 4,055 hours of sunshine each year'\", \"value\": \"$200\", \"answer\": \"Arizona\", \"round\": \"Jeopardy!\", \"show_number\": \"4680\"}, \n ...\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "gpu"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 7194297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/64Imv.jpg?s=128&g=1", "display_name": "Wael Eid", "link": "https://stackoverflow.com/users/7194297/wael-eid"}, "edited": false, "score": 1, "creation_date": 1509870482, "post_id": 47067064, "comment_id": 81188904, "body": "How can i set LD_LIBRARY_PATH?"}, {"owner": {"reputation": 974, "user_id": 8661871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d6c0f11fcbd54eaa106065269d00fc?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8661871/max"}, "reply_to_user": {"reputation": 139, "user_id": 7194297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/64Imv.jpg?s=128&g=1", "display_name": "Wael Eid", "link": "https://stackoverflow.com/users/7194297/wael-eid"}, "edited": false, "score": 1, "creation_date": 1509898669, "post_id": 47067064, "comment_id": 81197488, "body": "Something like: <code>$ export LD_LIBRARY_PATH=&#47;usr&#47;local&#47;cuda&#47;extras&#47;CUPTI&#47;lib64&#47;:&#47;opt&#47;int&zwnj;&#8203;el&#47;ipp&#47;lib&#47;intel64_l&zwnj;&#8203;in:&#47;usr&#47;local&#47;lib:&#47;u&zwnj;&#8203;sr&#47;local&#47;cuda&#47;extras&zwnj;&#8203;&#47;CUPTI&#47;lib64&#47;:&#47;opt&#47;i&zwnj;&#8203;ntel&#47;ipp&#47;lib&#47;intel64&zwnj;&#8203;_lin:$LD_LIBRARY_PAT&zwnj;&#8203;H</code>"}, {"owner": {"reputation": 139, "user_id": 7194297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/64Imv.jpg?s=128&g=1", "display_name": "Wael Eid", "link": "https://stackoverflow.com/users/7194297/wael-eid"}, "edited": false, "score": 0, "creation_date": 1509911233, "post_id": 47067064, "comment_id": 81201775, "body": "The previous problem is solved but                                                ImportError: /lib64/libc.so.6: version `GLIBC_2.16&#39; not found    appears when i write import  tensorflow"}], "tags": [], "owner": {"reputation": 974, "user_id": 8661871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d6c0f11fcbd54eaa106065269d00fc?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8661871/max"}, "is_accepted": true, "score": 5, "last_activity_date": 1509592868, "creation_date": 1509592868, "answer_id": 47067064, "question_id": 47063919, "link": "https://stackoverflow.com/questions/47063919/import-error-when-trying-to-import-tensorflow-with-gpu/47067064#47067064", "title": "Import error when trying to import tensorflow with gpu", "body": "<p>If you are using TensorFlow with GPU, you need to install CUDA and cuDNN. Please follow instructions on <a href=\"https://www.tensorflow.org/install/\" rel=\"noreferrer\">https://www.tensorflow.org/install/</a></p>\n\n<p>If you have already install CUDA and cuDNN, but still get this error, then you probably forgot to export your libraries: for Linux, you may need to set LD_LIBRARY_PATH to include CUDA libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 631, "user_id": 4128173, "user_type": "registered", "profile_image": "https://graph.facebook.com/522607420/picture?type=large", "display_name": "Hyunbong Lee", "link": "https://stackoverflow.com/users/4128173/hyunbong-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1539862976, "creation_date": 1539862976, "answer_id": 52873191, "question_id": 47063919, "link": "https://stackoverflow.com/questions/47063919/import-error-when-trying-to-import-tensorflow-with-gpu/52873191#52873191", "title": "Import error when trying to import tensorflow with gpu", "body": "<p>After installing TensorFlow 1.11 GPU via Anaconda \"conda install tensorflow-gpu\" I also experienced the same problem.  Before TF 1.11 I used TF 1.04.  Just before the TF update I updated Nvidia Driver to the version 396 through ppa.</p>\n\n<p>There was no trace of libcuda.so.1 in my entire linux.  </p>\n\n<p>After many trials, the problem was solved when I changed the nvidia driver to 390. The 390 version inserted libcuda.so.1 to /usr/lib/i386-linux-gnu directory, which evidently solved the problem.  </p>\n"}], "owner": {"reputation": 139, "user_id": 7194297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/64Imv.jpg?s=128&g=1", "display_name": "Wael Eid", "link": "https://stackoverflow.com/users/7194297/wael-eid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8503, "favorite_count": 0, "accepted_answer_id": 47067064, "answer_count": 2, "score": 4, "last_activity_date": 1558519399, "creation_date": 1509571552, "last_edit_date": 1558519399, "question_id": 47063919, "link": "https://stackoverflow.com/questions/47063919/import-error-when-trying-to-import-tensorflow-with-gpu", "title": "Import error when trying to import tensorflow with gpu", "body": "<pre><code>ImportError: libcuda.so.1: cannot open shared object file: No such file or directory\nFailed to load the native TensorFlow runtime.\n</code></pre>\n\n<p>This error is appeared when import <code>tensorflow</code>.\nI need to know steps to solve this problem.</p>\n"}, {"tags": ["python", "image", "opencv", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "edited": false, "score": 2, "creation_date": 1509572327, "post_id": 47063967, "comment_id": 81076371, "body": "CV2 reads images as numpy arrays so you can also just address the colors in reverse, like <code>rgb_img = bgr_img[..., ::-1]</code>, should save some memory"}], "tags": [], "owner": {"reputation": 1101, "user_id": 3626160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5qkD.png?s=128&g=1", "display_name": "TheAtomicOption", "link": "https://stackoverflow.com/users/3626160/theatomicoption"}, "is_accepted": true, "score": 3, "last_activity_date": 1509571752, "creation_date": 1509571752, "answer_id": 47063967, "question_id": 47063886, "link": "https://stackoverflow.com/questions/47063886/pyplot-is-changing-the-color-of-the-image/47063967#47063967", "title": "pyplot is changing the color of the image", "body": "<p>looks like it's taking BGR and displaying it as RGB (or viceversa). Add something like this to fix it.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>b,g,r = cv2.split(img)       # get b,g,r\nimg = cv2.merge([r,g,b])     # switch it to rgb\n</code></pre>\n\n<p><a href=\"http://www.bogotobogo.com/python/OpenCV_Python/python_opencv3_matplotlib_rgb_brg_image_load_display_save.php\" rel=\"nofollow noreferrer\">reference</a></p>\n"}], "owner": {"reputation": 1158, "user_id": 5915857, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a825e8ff21afff052e8c050649df6581?s=128&d=identicon&r=PG&f=1", "display_name": "Copacel", "link": "https://stackoverflow.com/users/5915857/copacel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 0, "closed_date": 1509578121, "accepted_answer_id": 47063967, "answer_count": 1, "score": 0, "last_activity_date": 1509571752, "creation_date": 1509571385, "question_id": 47063886, "link": "https://stackoverflow.com/questions/47063886/pyplot-is-changing-the-color-of-the-image", "closed_reason": "Duplicate", "title": "pyplot is changing the color of the image", "body": "<p>I tried to plot some subplots using the code below. When i use OpenCv the image is fine, but when i use the pyplot, the color is changed.\nPlease see the images and the code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yj1wL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yj1wL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ploted with cv2</p>\n\n<p><a href=\"https://i.stack.imgur.com/htZop.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htZop.png\" alt=\"enter image description here\"></a>\nPloted with pyplot</p>\n\n<pre><code>import cv2\nfrom matplotlib import pyplot as plt\n\nimg = cv2.imread('image.jpg')\n\nfig = plt.figure()\n\nax1 = fig.add_subplot(221)\nax2 = fig.add_subplot(223)\nax3 = fig.add_subplot(224)\n\nax1.imshow(img)\nax1.set_title('Original Image')\n\n\n\nax2.imshow(imgRedimensionata_proiect)\nax2.set_title('Alg image')\n\nax3.imshow(imgRedimensionata_traditional)\nax3.set_title('Traditional resize')\n\nfig.show()\ncv2.imshow('image',img)\ncv2.waitKey(0)\n</code></pre>\n"}, {"tags": ["python", "django", "module"], "answers": [{"tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 1, "last_activity_date": 1509571820, "creation_date": 1509571820, "answer_id": 47063981, "question_id": 47063835, "link": "https://stackoverflow.com/questions/47063835/modulenotfounderror-no-module-named-my-app/47063981#47063981", "title": "ModuleNotFoundError: No module named &#39;my_app&#39;", "body": "<p>it should work with </p>\n\n<pre><code>from .. import my_app\n</code></pre>\n\n<p>or</p>\n\n<pre><code>from ..my_app import request \n</code></pre>\n\n<p>(Be careful with a name like <code>request</code>, it could conflict the argument <code>request</code> used inside the views)</p>\n"}], "owner": {"reputation": 13, "user_id": 8365609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0zX4.jpg?s=128&g=1", "display_name": "garciaryan", "link": "https://stackoverflow.com/users/8365609/garciaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "accepted_answer_id": 47063981, "answer_count": 1, "score": 1, "last_activity_date": 1509571820, "creation_date": 1509571132, "question_id": 47063835, "link": "https://stackoverflow.com/questions/47063835/modulenotfounderror-no-module-named-my-app", "title": "ModuleNotFoundError: No module named &#39;my_app&#39;", "body": "<p>I am trying to make a custom manager that will run a function from another file in a sibling directory, but this error keeps popping up. I have tried:</p>\n\n<p>1) Adding the module to my PYTHONPATH.<br>\n2) Adding <strong>init</strong>.py files. <br>\n3) Appending the module to sys.path.</p>\n\n<p>I am using Python3 and Django.</p>\n\n<blockquote>\n  <ul>\n  <li>/app <br></li>\n  <li>--- /managers</li>\n  <li>-------/manager.py  &lt;--- <code>/*importing code here*/</code></li>\n  <li>--- /my_app</li>\n  <li>-------/request.py  &lt;--- <code>/*code to be imported*/</code></li>\n  </ul>\n</blockquote>\n\n<p>None of these have worked.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "edited": false, "score": 0, "creation_date": 1509573204, "post_id": 47063811, "comment_id": 81076760, "body": "For the end 7 channels do you want to display 7 channels even if they overlap with the previous 7? I will change my answer if that is the case"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1509571966, "post_id": 47063958, "comment_id": 81076200, "body": "I have removed the line <code>channels_index +7</code>, it will show like this: <code>[&#39;101 BBC One S East&#39;, &#39;102 BBC Two&#39;, &#39;103 ITV&#39;, &#39;104 Channel 4&#39;, &#39;105 Channel 5&#39;, &#39;106 Sky One&#39;, &#39;107 Sky Living&#39;]</code>. I need to use the <code>self.channels_index</code> so I can fetch the elements from the list. Any idea?"}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "reply_to_user": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1509572474, "post_id": 47063958, "comment_id": 81076444, "body": "Put it after the loop."}], "tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1509572512, "last_edit_date": 1509572512, "creation_date": 1509571715, "answer_id": 47063958, "question_id": 47063811, "link": "https://stackoverflow.com/questions/47063811/skip-and-fetch-the-elements-from-the-list/47063958#47063958", "title": "Skip and fetch the elements from the list", "body": "<p>Move the line</p>\n\n<pre><code>channels_Index += 7\n</code></pre>\n\n<p>It should work now. Put it after the loop so that it can be called again.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1509574685, "post_id": 47064196, "comment_id": 81077337, "body": "Thank you very much for this, but I have got a problem. At the start the self.channels_index have the value which show at <code>0</code> so how I can add the value to allow me to fetch the elements after the <code>&#39;107 Sky Living&#39;</code> so I can fetch the 7 elements which it is <code>&#39;108 Sky Atlantic&#39;, &#39;401 Sky Sports 1 UK&#39;, &#39;402 SKY Sports 2 UK&#39;, &#39;403 Sky Sports 3 UK&#39;,  &#39;404 Sky Sports 4 UK&#39;, &#39;405 Sky Sports 5 UK&#39;, &#39;406 Sky Sports News HQ&#39;</code>?"}, {"owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "reply_to_user": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1509574809, "post_id": 47064196, "comment_id": 81077383, "body": "You don&#39;t want to show 101 - 106 when you first press the button? You want to show them when the program starts up?"}, {"owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "reply_to_user": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "edited": false, "score": 0, "creation_date": 1509577811, "post_id": 47064196, "comment_id": 81078327, "body": "@DannyWhite I&#39;m sorry that I cannot help more with how to structure your program, but hopefully you can adapt my code to your needs"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "is_accepted": true, "score": 1, "last_activity_date": 1509575150, "last_edit_date": 1509575150, "creation_date": 1509572694, "answer_id": 47064196, "question_id": 47063811, "link": "https://stackoverflow.com/questions/47063811/skip-and-fetch-the-elements-from-the-list/47064196#47064196", "title": "Skip and fetch the elements from the list", "body": "<p>This demonstrates scrolling through 7 channels at a time, the key part being <code>next_seven_channels = self.all_channels[self.channel_index:end_index]</code></p>\n\n<pre><code>try:\n    import Tkinter as tk\nexcept:\n    import tkinter as tk\n\nclass app(tk.Tk):\n    def __init__(self):\n        tk.Tk.__init__(self)\n        self.all_channels =  [\n        '101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', \n        '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', \n        '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', \n        '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', \n        '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', \n        '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', \n        '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', \n        '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', \n        '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n        self.channel_index = 0\n\n        self.print_channels = tk.Button(self,text=\"Page Down\",\n                                        font=(\"Calibri\",30,\"bold\"),\n                                        foreground=\"DodgerBlue2\",\n                                        command=self.PageDown)\n        self.print_channels.pack()\n\n    def PageDown(self,event=None):\n        end_index = self.channel_index + 7\n        if end_index &gt; len(self.all_channels):\n            end_index -= len(self.all_channels) - end_index   \n        next_seven_channels = self.all_channels[self.channel_index:end_index]\n        self.channel_index += 7\n        if self.channel_index &gt; len(self.all_channels):\n            self.channel_index = 0\n        print (next_seven_channels)\n\nroot = app()\nroot.mainloop()\n</code></pre>\n\n<p>If I understand correctly, to immediately show the first 7 channels, just call <code>self.PageDown()</code> after program starts, as below:</p>\n\n<pre><code>try:\n    import Tkinter as tk\nexcept:\n    import tkinter as tk\n\nclass app(tk.Tk):\n    def __init__(self):\n        tk.Tk.__init__(self)\n        self.all_channels =  [\n        '101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', \n        '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', \n        '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', \n        '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', \n        '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', \n        '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', \n        '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', \n        '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', \n        '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n        self.channel_index = 0\n\n        self.print_channels = tk.Button(self,text=\"Page Down\",\n                                        font=(\"Calibri\",30,\"bold\"),\n                                        foreground=\"DodgerBlue2\",\n                                        command=self.PageDown)\n        self.print_channels.pack()\n        self.PageDown() # added code &lt;----\n\n    def PageDown(self,event=None):\n        end_index = self.channel_index + 7\n        if end_index &gt; len(self.all_channels):\n            end_index -= len(self.all_channels) - end_index   \n        next_seven_channels = self.all_channels[self.channel_index:end_index]\n        self.channel_index += 7\n        if self.channel_index &gt; len(self.all_channels):\n            self.channel_index = 0\n        print (next_seven_channels)\n\nroot = app()\nroot.mainloop()\n</code></pre>\n\n<p>Or to skip showing the first 7 channels when the program starts:</p>\n\n<pre><code>try:\n    import Tkinter as tk\nexcept:\n    import tkinter as tk\n\nclass app(tk.Tk):\n    def __init__(self):\n        tk.Tk.__init__(self)\n        self.all_channels =  [\n        '101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', \n        '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', \n        '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', \n        '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', \n        '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', \n        '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', \n        '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', \n        '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', \n        '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n        self.channel_index = 7 # changed code &lt;----\n\n        self.print_channels = tk.Button(self,text=\"Page Down\",\n                                        font=(\"Calibri\",30,\"bold\"),\n                                        foreground=\"DodgerBlue2\",\n                                        command=self.PageDown)\n        self.print_channels.pack()\n\n    def PageDown(self,event=None):\n        end_index = self.channel_index + 7\n        if end_index &gt; len(self.all_channels):\n            end_index -= len(self.all_channels) - end_index   \n        next_seven_channels = self.all_channels[self.channel_index:end_index]\n        self.channel_index += 7\n        if self.channel_index &gt; len(self.all_channels):\n            self.channel_index = 0\n        print (next_seven_channels)\n\nroot = app()\nroot.mainloop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 311973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafd039bd7c5b17aee81be2b70fc9ca7?s=128&d=identicon&r=PG", "display_name": "sapht", "link": "https://stackoverflow.com/users/311973/sapht"}, "is_accepted": false, "score": 1, "last_activity_date": 1509574000, "creation_date": 1509574000, "answer_id": 47064438, "question_id": 47063811, "link": "https://stackoverflow.com/questions/47063811/skip-and-fetch-the-elements-from-the-list/47064438#47064438", "title": "Skip and fetch the elements from the list", "body": "<p>You change the value of <code>channels_Index</code>, which is a global variable that you haven't posted in your code (I assume; otherwise python will throw NameError), but you read the value of <code>self.channels_Index</code>. You probably meant <code>self.channels_Index += 7</code></p>\n"}], "owner": {"reputation": 103, "user_id": 5786802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/96d06a6979755a7e2d256e87e909c64e?s=128&d=identicon&r=PG&f=1", "display_name": "Danny White", "link": "https://stackoverflow.com/users/5786802/danny-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47064196, "answer_count": 3, "score": 0, "last_activity_date": 1509575150, "creation_date": 1509570995, "last_edit_date": 1509571586, "question_id": 47063811, "link": "https://stackoverflow.com/questions/47063811/skip-and-fetch-the-elements-from-the-list", "title": "Skip and fetch the elements from the list", "body": "<p>I have got a problem with fetching the elements from the list. When I'm pressing on the Page down button of the keyboard, it will call the PageDown function as it will skip the 7 elements and it will fetch the 7 next elements from the list which it is:</p>\n\n<p><code>['108 Sky Atlantic', '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ'</code>]</p>\n\n<p>When I hit on the down arrow button of the keyboard, it will skip the 7 elements but it will not fetch the 7 elements that come after <code>406 Sky Sports News HQ</code> as it will fetch the elements which it will come after the <code>413 Eurosport 1 UK</code> so the <code>channels_list</code> will show like this which it is incorrect:</p>\n\n<pre><code>['414 Eurosport 2 UK', '415 BT Sport 1', '416 BT Sport 2',\n '417 At the Races', '418 BT Sport ESPN', '419 MUTV', '420 Chelsea TV']\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>['407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', '413 Eurosport 1 UK']\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>def PageDown(self):\n    self.channel = [\n        '101 BBC One S East', '102 BBC Two', '103 ITV', '104 Channel 4', \n        '105 Channel 5', '106 Sky One', '107 Sky Living', '108 Sky Atlantic', \n        '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', \n        '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ', \n        '407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', \n        '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', \n        '413 Eurosport 1 UK', '414 Eurosport 2 UK', '415 BT Sport 1', \n        '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', \n        '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n\n    channels_list = list()\n    channels_Index += 7\n\n    for i, start_ch in enumerate(self.channel):\n        if start_ch == channel:\n            channels_list = \n                self.channel[i+self.channels_Index:i+self.channels_Index+7]\n</code></pre>\n\n<p>What I am expecting to achieve is I want to skip the 7 elements and fetch the 7 elements in each time when I hit on the page down button of the keyboard.</p>\n\n<p>Here is for example:</p>\n\n<p>When I hit on the page down button, I want to skip the 7 elements and fetch the 7 next elements which show like this:\n    ['108 Sky Atlantic', '401 Sky Sports 1 UK', '402 SKY Sports 2 UK', '403 Sky Sports 3 UK', '404 Sky Sports 4 UK', '405 Sky Sports 5 UK', '406 Sky Sports News HQ']</p>\n\n<p>So when I hit on the page down button, I want to get the 7 next elements:</p>\n\n<pre><code>['407 Sky Sports F1', '408 Sky Sports 1 HD', '409 Sky Sports 2 HD', '410 Sky Sports 3 HD', '411 Sky Sports 4 HD', '412 Sky Sports 5 HD', '413 Eurosport 1 UK']\n</code></pre>\n\n<p>When I hit on the page down button again, I want to fetch the 7 next elements:</p>\n\n<pre><code>['414 Eurosport 2 UK', '415 BT Sport 1', '416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', '420 Chelsea TV']\n</code></pre>\n\n<p>And when finally I hit on the page down button again, I want to fetch the 7 elements that come near to the end of the list to make it to show like this:</p>\n\n<pre><code>['416 BT Sport 2', '417 At the Races', '418 BT Sport ESPN', '419 MUTV', '420 Chelsea TV', '421 Eir Sport 1', '422 Eir Sport 2']\n</code></pre>\n\n<p>Can you please show me an example how I can skip the 7 elements and fetch the 7 elements from the list in each time when I hit on the page down button of the keyboard?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509638027, "post_id": 47064253, "comment_id": 81107912, "body": "Wow.... this is awesome.   this is exactly what I am looking for.  I am stunned at how little lines of code this is.  In Sql Server this would be a nightmare!!  Thank you so much!!"}, {"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509638695, "post_id": 47064253, "comment_id": 81108395, "body": "wow so surprised by the code that I forgot the important part!  :-)"}, {"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509639838, "post_id": 47064253, "comment_id": 81109140, "body": "i am trying this with a larger data set.  In this case, df1 is actually shorter than df2 list.  Any idea why  I get this error?   File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pandas\\core\\resh&zwnj;&#8203;ape\\merge.py&quot;, line 1243, in _get_join_indexers     raise ValueError(&#39;left&#39; + msg)  ValueError: left keys must be sorted"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509639907, "post_id": 47064253, "comment_id": 81109178, "body": "sort the match , before it , using <code>df=df.sort_values(&#39;match&#39;)</code>"}, {"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509640665, "post_id": 47064253, "comment_id": 81109707, "body": "i tried sorting both df first, and then doing the merge, but i am still getting the same error"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509640806, "post_id": 47064253, "comment_id": 81109788, "body": "@yanci after you create the column <code>match</code>, you sort the <code>match</code> and do not forgot assign it back"}, {"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509645261, "post_id": 47064253, "comment_id": 81112580, "body": "it was complaining because the result set had null values.  So I had to remove the nulls from both datasets and then it worked!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509645294, "post_id": 47064253, "comment_id": 81112599, "body": "@yanci yeah using <code>dropna()</code>"}, {"owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509645738, "post_id": 47064253, "comment_id": 81112838, "body": "which one is better, df1 = df1[df1[&#39;match&#39;].notnull()] or dropna()?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "edited": false, "score": 0, "creation_date": 1509645786, "post_id": 47064253, "comment_id": 81112861, "body": "@yanci I would say dropna () since it is develop for this case .. <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1509573881, "last_edit_date": 1509573881, "creation_date": 1509572975, "answer_id": 47064253, "question_id": 47063768, "link": "https://stackoverflow.com/questions/47063768/pandas-comparing-two-data-frames/47064253#47064253", "title": "Pandas Comparing Two Data Frames", "body": "<p>You can using <code>merge_asof</code></p>\n\n<p>Step 1: combine the dataframe</p>\n\n<pre><code>df1['match']=df1.Odo+df1.OdoLength\ndf2['match']=df2.Odo+df2.OdoLength\n\nout=pd.merge_asof(df1,df2,on='match',direction='nearest')\nout.drop_duplicates(['id_y'])\nOut[728]:\n     Odo_x  OdoLength_x  id_x   match   Odo_y  OdoLength_y   id_y\n0    -1.09         2.11    10    1.02    1.51         1.17   1000\n1     1.02        25.10    20   26.12    4.72        20.31   3000\n2    26.12        17.00    30   43.12   25.03        16.97   4000\n3    43.12         3.69    40   46.81   42.00         3.74   5000\n4    46.81         9.42    50   56.23   45.74         9.41   6000\n5    56.23        54.84    60  111.07   55.15        54.90   7000\n6   111.07        55.31    70  166.38  110.05        55.36   8000\n7   166.38        24.89    80  191.27  172.39        17.96  11000\n8   191.27         5.14    90  196.41  190.35         5.09  12000\n9   196.41        11.33   100  207.74  195.44        11.34  13000\n10  207.74        23.87   110  231.61  206.78        23.89  14000\n</code></pre>\n\n<p>Step 2</p>\n\n<p>Then you can do something like below to get your new column </p>\n\n<pre><code>out['OdoAndLengthDiff']=out.OdoLength_x-out.OdoLength_y+out.Odo_x-out.Odo_y \n</code></pre>\n\n<p><strong><em>BTW</em></strong> I did not drop the column , after you get all new value if you need, You can drop it by using <code>out=out.drop([columns],1)</code></p>\n"}], "owner": {"reputation": 143, "user_id": 7987163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa6b3513c5bfafb2164c17476430bb85?s=128&d=identicon&r=PG", "display_name": "yanci", "link": "https://stackoverflow.com/users/7987163/yanci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 47064253, "answer_count": 1, "score": 1, "last_activity_date": 1509573881, "creation_date": 1509570840, "last_edit_date": 1509572186, "question_id": 47063768, "link": "https://stackoverflow.com/questions/47063768/pandas-comparing-two-data-frames", "title": "Pandas Comparing Two Data Frames", "body": "<p>I have two dataframes.  I will explain my requirement in form of a loop--because this is how I visualize the problem.\nI realize that there can be another solution, so if this can be done differently, please feel free to share!  I am new to Pandas, so I'm struggling with this solution.  Thank you in advance for looking at my question!!</p>\n\n<p>I have 2 dataframes that have 3 columns:  ID, ODO, ODOLength.  ODOLength is the running difference for each ODO record, which I got using: <code>abs(Df1['Odo'] - Df1['Odo'].shift(-1))</code></p>\n\n<pre><code>OldDataSet = {'id' : [10,20,30,40,50,60,70,80,90,100,110,120,130,140],'Odo': [-1.09,1.02,26.12,43.12,46.81,56.23,111.07,166.38,191.27,196.41,207.74,231.61,235.84,240.04], 'OdoLength':[2.11,25.1,17,3.69,9.42,54.84,55.31,24.89,5.14,11.33,23.87,4.23,4.2,4.09]}\n\nNewDataSet = {'id' : [1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000],'Odo': [1.51,2.68,4.72,25.03,42,45.74,55.15,110.05,165.41,170.48,172.39,190.35,195.44,206.78], 'OdoLength':[1.17,2.04,20.31,16.97,3.74,9.41,54.9,55.36,5.07,1.91,17.96,5.09,11.34,23.89]}\n\nFinalResultDataSet = {'DFOneId':[10,20,30,40,50,60,70,80,90,100,110], 'DFTwoID' : [1000,3000,4000,5000,6000,7000,8000,11000,12000,13000,14000], 'OdoDiff': [2.6,3.7,1.09,1.12,1.07,1.08,1.02,6.01,0.92,0.97,0.96], 'OdoLengthDiff':[0.94,4.79,0.03,0.05,0.01,0.06,0.05,6.93,0.05,0.01,0.02], 'OdoAndLengthDiff':[1.66,1.09,1.06,1.07,1.06,1.02,0.97,0.92,0.87,0.96,0.94]}\n\n\ndf1= pd.DataFrame(OldDataSet)\n\ndf2 = pd.DataFrame(NewDataSet)\n\nFinalDf = pd.DataFrame(FinalResultDataSet)\n</code></pre>\n\n<p>The logic behind how to get the FinalDF is as follows: Take Odo and OdoLen from df1 and subtract it from each Odo and OdoLen columns in df2.  Take the lowest value of the difference and match them.  For next comparison of Df1 and Df2, begin with the first Df2 record that does not have a match.  If Df2 values are not a minimum value, for the current Df1 values\nthat is being compared then that record of DF2 is not included in the final dataset.  For example, Df1 ID 20- was compared to Df2 ID 2000 and the final result was 21.4 ((DfOne.ODO:1.02-DfTwo.ODO:2.68) - (DfOneODOLen:25.1-DfTwo.ODoLen-2.04) = 21.4), however when Df1 ID 20 is compared to Df2 3000 the final difference is 1.09 ((DfOne.ODO:1.02-DfTwo.ODO:4.72) - (DfOneODOLen:25.1-DfTwo.ODoLen-20.31) = 1.06).  In this case, Df2 ID 3000 is matched to DF1 ID 20 and Df2 ID - 2000 is dropped off because\nthe difference was larger.  At this point DF2 ID 2000 is not considered for any other matches.  So the next DF1 record comparison would start at DF2 ID 4000, because that is the next value that does not have a match.</p>\n\n<p>As I said, I am open to all suggestions!  </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "amazon-web-services", "email", "boto3", "amazon-iam"], "comments": [{"owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "edited": false, "score": 1, "creation_date": 1509572066, "post_id": 47063752, "comment_id": 81076234, "body": "Not all AWS console activities can be done using Boto3."}], "answers": [{"tags": [], "owner": {"reputation": 1813, "user_id": 7753973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1e4b4e9b97f11de7661e6cf68b332b?s=128&d=identicon&r=PG&f=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/7753973/sudo"}, "is_accepted": false, "score": 4, "last_activity_date": 1509571924, "creation_date": 1509571924, "answer_id": 47064014, "question_id": 47063752, "link": "https://stackoverflow.com/questions/47063752/how-can-i-change-the-aws-account-email-with-boto3/47064014#47064014", "title": "How can I change the AWS Account Email with boto3?", "body": "<p>It is not possible to change an account's email address (Root) programmatically. You must log in to the console using Root credentials and update the email address.</p>\n"}, {"tags": [], "owner": {"reputation": 530, "user_id": 952276, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/urdJR.jpg?s=128&g=1", "display_name": "ifti", "link": "https://stackoverflow.com/users/952276/ifti"}, "is_accepted": false, "score": 0, "last_activity_date": 1571860044, "creation_date": 1571860044, "answer_id": 58530022, "question_id": 47063752, "link": "https://stackoverflow.com/questions/47063752/how-can-i-change-the-aws-account-email-with-boto3/58530022#58530022", "title": "How can I change the AWS Account Email with boto3?", "body": "<p>No as of Oct 2019 you can't update account information(including email) using boto or any other AWS provided SDKs.</p>\n"}], "owner": {"reputation": 1039, "user_id": 779429, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9d08172f46d2bc0fb49b10d3730b5877?s=128&d=identicon&r=PG", "display_name": "Becks", "link": "https://stackoverflow.com/users/779429/becks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571860044, "creation_date": 1509570788, "question_id": 47063752, "link": "https://stackoverflow.com/questions/47063752/how-can-i-change-the-aws-account-email-with-boto3", "title": "How can I change the AWS Account Email with boto3?", "body": "<p>Every AWS Account has an email associated to it. \nHow can I change that email address for that account using boto3?</p>\n"}, {"tags": ["python", "pyspark", "pyspark-sql"], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 5614011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b09547b3658d918204b15e2ee17e1beb?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/5614011/raj"}, "edited": false, "score": 0, "creation_date": 1509572170, "post_id": 47063937, "comment_id": 81076289, "body": "thanks a lot. Your approach works. Appreciate the help."}], "tags": [], "owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "is_accepted": true, "score": 2, "last_activity_date": 1509571627, "creation_date": 1509571627, "answer_id": 47063937, "question_id": 47063684, "link": "https://stackoverflow.com/questions/47063684/how-to-convert-a-list-in-format-to-format/47063937#47063937", "title": "How to convert a list in [ ] format to ( ) format", "body": "<p>It needs to be like that as one element in brackets is just parsed as brackets, and you need the comma to make a one item tuple.</p>\n\n<p>You can solve this by making a custom stringifying method:</p>\n\n<pre><code>def tuple_to_str(t):\n    t = tuple(t)\n    if len(t) == 1:\n        return '({!r})'.format(t[0])\n    return repr(t)\n</code></pre>\n\n<p>And doing:</p>\n\n<pre><code>filter = \"filter_condition in\" + tuple_to_str(\n    df1.select(\"xxx\").rdd.flatMap(lambda x: x).collect()\n)\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 5614011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b09547b3658d918204b15e2ee17e1beb?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/5614011/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47063937, "answer_count": 1, "score": 2, "last_activity_date": 1509571627, "creation_date": 1509570494, "question_id": 47063684, "link": "https://stackoverflow.com/questions/47063684/how-to-convert-a-list-in-format-to-format", "title": "How to convert a list in [ ] format to ( ) format", "body": "<p>I have a large dataframe with a few hundred million records. I only want 10% of the df so i am filtering the df while reading it. The filter condition is dynamic and changes from one experiment to another.</p>\n\n<p>There is another df from which i am getting the filter values:</p>\n\n<pre><code>filter = \"filter_condition in\" + tuple(df1.select(\"xxx\").rdd.flatMap(lambda x: x).collect())\n</code></pre>\n\n<p>The above snippet gives a list say for example <code>[1]</code></p>\n\n<p>I am using the below query to read the large file:</p>\n\n<pre><code>large_df = (sqlContext.read.parquet(path).filter(filter))\n</code></pre>\n\n<p>When the tuple has more than 1 element the query works fine but when the filter condition has only 1 value then the tuple comes out as (1,) or (10293,) etc. and this causes an error while reading the large df since the filter condition comes out to be </p>\n\n<pre><code>(sqlContext.read.parquet(path).filter(\"filter_condition in (1,)\"))\n</code></pre>\n\n<p>Is there a way to convert the list [1] to (1) format. Thanks</p>\n"}, {"tags": ["python", "mysql", "matlab", "sqlite", "csv"], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 7611973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ac5d2e78feebec17197f30d3d828d769?s=128&d=identicon&r=PG&f=1", "display_name": "boethius", "link": "https://stackoverflow.com/users/7611973/boethius"}, "is_accepted": true, "score": 2, "last_activity_date": 1509571255, "creation_date": 1509571255, "answer_id": 47063854, "question_id": 47063545, "link": "https://stackoverflow.com/questions/47063545/manage-query-and-split-combine-apply-many-local-csv-datafiles-probably-using/47063854#47063854", "title": "manage, query, and split,combine, apply many local csv datafiles? probably using database?", "body": "<p>If your goal is to do analytics &amp; data science on top of this data, for which you will query or create features for modeling, then:</p>\n\n<p>1) You could write some query logic in python that only gets some files when needed and loads them to pandas or converts into bulk csv files, but would not be long-term sustainable.</p>\n\n<p>2) DB is very likely the way to go. You could have a different table or database for each trial or each trial schema/structure.</p>\n\n<p>3) SQLite3 is a good option, but a community version of MySQL might have greater flexibility. i.e. limitations of SQLite: <a href=\"https://stackoverflow.com/questions/5102027/can-sqlite-support-multiple-users\">Can SQLite support multiple users?</a> Of course, for development, you could do that in SQLite to start, and to load everything from text files, and migrate to something like MySQL later.</p>\n\n<p>If you model the process well from the beginning (python -> ETL -> DB -> features for modeling), and have good structure for your SQL environment, it should last a very long time in either a lab or workplace.</p>\n"}], "owner": {"reputation": 33, "user_id": 7517467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5429ff1b47c55fe8a4be5d2650c1457?s=128&d=identicon&r=PG&f=1", "display_name": "ODScience", "link": "https://stackoverflow.com/users/7517467/odscience"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 47063854, "answer_count": 1, "score": 1, "last_activity_date": 1509571255, "creation_date": 1509569800, "question_id": 47063545, "link": "https://stackoverflow.com/questions/47063545/manage-query-and-split-combine-apply-many-local-csv-datafiles-probably-using", "title": "manage, query, and split,combine, apply many local csv datafiles? probably using database?", "body": "<p>I have a gigantic collection of csv files that acquired over a lengthy period of time and I continue to append with new acquisitions. The data files were arranged using the following logic.</p>\n\n<p>each batch of files (~100 separate files) over one single trial study were saved in one folder (there are at least 30 different trials).\neach file has a file name that identified location of data collection and sample name (different types), and probably manufactuer/date information as well. \nIn each file, we have many columns (~200) of data containing many properties about the sample. Some of the columns provide qualitative/quantitative information such as component name and component level (%).</p>\n\n<p>Now, suppose I want to find the set of data that contain certain components, from a few selected manufactuers in a few chosen studies. It would be really time consuming to extract those data by going over all folders and find those csv files and extract those data that satisfy the query conditions and then put them into a new file.</p>\n\n<p>My question is: </p>\n\n<ol>\n<li><p>Does there exist a solution to be able to extract those files by running an integrated query command to simply split/combine and apply operations without having to dig into individual files.</p></li>\n<li><p>We are thinking of building a database management system. I think sqlite3 might be the way to go because it is serverless DB. Would it or any other DB platforms such as MySQL enable us to address our problem? I am using MatLAB and python as my data/file handling platform.</p></li>\n<li><p>Is there any commercial/opensource software that provide such service, which I am not aware of? </p></li>\n</ol>\n\n<p>Thank you very much. </p>\n"}, {"tags": ["python", "python-2.7", "arduino-yun"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1509571804, "post_id": 47063513, "comment_id": 81076118, "body": "You are running this on an Arduino?"}, {"owner": {"reputation": 89, "user_id": 8394232, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/22e1cfc7f9bc528038f0674b229d632a?s=128&d=identicon&r=PG&f=1", "display_name": "panda001", "link": "https://stackoverflow.com/users/8394232/panda001"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1509578115, "post_id": 47063513, "comment_id": 81078427, "body": "yes i used putty to run it"}], "owner": {"reputation": 89, "user_id": 8394232, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/22e1cfc7f9bc528038f0674b229d632a?s=128&d=identicon&r=PG&f=1", "display_name": "panda001", "link": "https://stackoverflow.com/users/8394232/panda001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509571945, "creation_date": 1509569667, "last_edit_date": 1509571945, "question_id": 47063513, "link": "https://stackoverflow.com/questions/47063513/arduino-yun-pip-install-mysql-python-failed", "title": "Arduino yun pip install mysql-python failed", "body": "<p>I use pip install mysql-python  it show me </p>\n\n<blockquote>\n  <p>Traceback (most recent call last):</p>\n\n<pre><code>  File \"&lt;string&gt;\", line 20, in &lt;module&gt;\n\n  File \"/tmp/pip-build-r4ybCJ/mysql-python/setup.py\", line 17, in &lt;module&gt;\n\n    metadata, options = get_config()\n\n  File \"setup_posix.py\", line 43, in get_config\n\n    libs = mysql_config(\"libs_r\")\n\n  File \"setup_posix.py\", line 25, in mysql_config\n\n    raise EnvironmentError(\"%s not found\" % (mysql_config.path,))\n\nEnvironmentError: mysql_config not found\n</code></pre>\n</blockquote>\n\n<p>I searched on google lots way say need  pip install libmysqlclient-dev or python-dev I tried them both but still not work\nHope anyone can help me !</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": true, "score": 0, "last_activity_date": 1509569571, "creation_date": 1509569571, "answer_id": 47063488, "question_id": 47063475, "link": "https://stackoverflow.com/questions/47063475/making-a-multidimensional-list-from-a-one-dimensional-list/47063488#47063488", "title": "Making a multidimensional list from a one dimensional list", "body": "<p>Just make appropriate <a href=\"https://docs.python.org/2.3/whatsnew/section-slices.html\" rel=\"nofollow noreferrer\">slices</a> and put them in a list of their own:</p>\n\n<pre><code>a = [a[:2], a[2:]]\n</code></pre>\n\n<p>If you don't know the length of the list beforehand, you can use a comprehension:</p>\n\n<pre><code>chunksize = 2\na = [a[i:i+chunksize] for i in range(0, len(a), chunksize)]\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8291259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sMxN3RtE0GI/AAAAAAAAAAI/AAAAAAAADIc/cDQtClpQXGE/photo.jpg?sz=128", "display_name": "C4RN4GE", "link": "https://stackoverflow.com/users/8291259/c4rn4ge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "closed_date": 1509569578, "accepted_answer_id": 47063488, "answer_count": 1, "score": -1, "last_activity_date": 1509569571, "creation_date": 1509569492, "question_id": 47063475, "link": "https://stackoverflow.com/questions/47063475/making-a-multidimensional-list-from-a-one-dimensional-list", "closed_reason": "Duplicate", "title": "Making a multidimensional list from a one dimensional list", "body": "<p>I know the title is a bit confusing but I couldn't think of a better way of describing it. This is python code.</p>\n\n<p>Say I have a list <code>a=[\"blue\",\"yellow\", \"red\", \"green\"]</code>. How would I split it so it looks like this: <code>a=[[\"blue\",\"yellow\"],[\"red\",\"green\"]]</code>?</p>\n"}, {"tags": ["python", "file", "struct", "io", "binary"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509569312, "post_id": 47063374, "comment_id": 81074975, "body": "For a single (or an array of) sized numeric types, like those from <code>numpy</code>, then this should be fine. <code>struct</code> is useful when you have more complicated data-types, i.e. structs..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509569448, "post_id": 47063374, "comment_id": 81075034, "body": "notice, if you had a <i>python</i> <code>int</code> object, say <code>i = 42</code>, then you would have to do something like <code>fout.write(i.to_bytes(4, &#39;little&#39;))</code>"}, {"owner": {"reputation": 11, "user_id": 8870537, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RiMZAQMv4M0/AAAAAAAAAAI/AAAAAAAAABI/oripzoOVvlI/photo.jpg?sz=128", "display_name": "iytian", "link": "https://stackoverflow.com/users/8870537/iytian"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509570855, "post_id": 47063374, "comment_id": 81075719, "body": "So numpy types convert automatically, but python natives do not? Does this work for np.float64?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509571037, "post_id": 47063374, "comment_id": 81075789, "body": "I can only assume that <code>numpy</code> objects, scaler and array, implement the buffer protocol, which is what is required for <code>.write</code> to accept the object. Otherwise, <code>.write</code> will throw an error."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509571288, "post_id": 47063374, "comment_id": 81075893, "body": "See <a href=\"https://docs.python.org/3/c-api/buffer.html\" rel=\"nofollow noreferrer\">buffer protocol</a> But yes, vanilla Python numeric types don&#39;t implement this, you have to explicitely convert them to an object that does. Built-in types that <i>do</i> implement the buffer-protocol are <code>bytes</code>, <code>bytearray</code>, <code>array.array</code>, and <code>memoryview</code> objects."}], "owner": {"reputation": 11, "user_id": 8870537, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RiMZAQMv4M0/AAAAAAAAAAI/AAAAAAAAABI/oripzoOVvlI/photo.jpg?sz=128", "display_name": "iytian", "link": "https://stackoverflow.com/users/8870537/iytian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509569420, "creation_date": 1509569094, "last_edit_date": 1509569420, "question_id": 47063374, "link": "https://stackoverflow.com/questions/47063374/file-write-ints-floats-in-python-for-binary-files-without-using-struct", "title": "file.write ints/floats in python for binary files without using struct", "body": "<p>I have a file open in binary mode and I want to output ints and doubles (np.float64) to it. Pretty much every binary file tutorial I've seen says to use the struct module:</p>\n\n<pre><code>fout.write(struct.pack('i', np.int32(pca.components_.shape[0])))\n</code></pre>\n\n<p>If I don't use struct.pack, the operation is still legal and I still seem to be able to read out the bytes if I open the file in a C program later as the correct int values.</p>\n\n<pre><code>fout.write(np.int32(pca.components_.shape[0]))\n</code></pre>\n\n<p>Is struct.pack absolutely necessary? What happens if you write a number value to a binary file without packing? Thanks.</p>\n"}, {"tags": ["python", "arrays", "json", "post", "flask"], "comments": [{"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509569282, "post_id": 47063369, "comment_id": 81074964, "body": "Can you share the expected output format"}, {"owner": {"reputation": 171, "user_id": 3566970, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3247bbb6da9cd7318333e6ab5868471?s=128&d=identicon&r=PG&f=1", "display_name": "LazerStackr", "link": "https://stackoverflow.com/users/3566970/lazerstackr"}, "reply_to_user": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1509569341, "post_id": 47063369, "comment_id": 81074984, "body": "An example can be                                                                               Einstein Feynmann Gell-Mann Thorne Lorentz Planck Hilbert Poincare Noether                                                                                                                                                                                                or                                                                                                             Hilbert Einstein Feynmann Gell-Mann Poincare Thorne Lorentz Planck Noether"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1509572229, "post_id": 47063369, "comment_id": 81076314, "body": "To get the JSON data out of the request, you need to do something like <code>inList = json.loads(request.json)[&#39;inList&#39;]</code> instead of <code>smarter[] = json.loads(inList[&#39;smarter&#39;])</code>."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1509572404, "post_id": 47063369, "comment_id": 81076404, "body": "I&#39;m a little bit confused. <code>json</code>, <code>flask</code>, <code>post</code> tags are there just because the problem was encounterted is in that context? Isn&#39;t the problem just to get from the dictionary at the beginning of the question a list of names ordered on how smart they are (which is a pure <i>Python</i> problem)? Or am I missing something? Also, there are some errors in the code (and indenting is poor, which can be disastrous in <i>Python</i>)."}], "owner": {"reputation": 171, "user_id": 3566970, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3247bbb6da9cd7318333e6ab5868471?s=128&d=identicon&r=PG&f=1", "display_name": "LazerStackr", "link": "https://stackoverflow.com/users/3566970/lazerstackr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509569058, "creation_date": 1509569058, "question_id": 47063369, "link": "https://stackoverflow.com/questions/47063369/convert-json-post-object-to-array-of-strings-in-python", "title": "Convert JSON POST Object to Array of Strings in Python", "body": "<p>I'm having trouble creating an array of strings that takes a JSON Object when I send POST request like below:</p>\n\n<pre><code>{ \"inList\" : [ { \"smarter\" : [ \"Einstein\", \"Feynmann\" ] },\n{ \"smarter\" : [ \"Feynmann\",\"Gell-Mann\"]},\n{ \"smarter\":  [ \"Gell-Mann\",\"Thorne\"]},\n{ \"smarter\" : [ \"Einstein\",\"Lorentz\"]}, \n{ \"smarter\" : [ \"Lorentz\",\"Planck\"]}, \n{ \"smarter\" : [ \"Hilbert\",\"Noether\"]}, \n{ \"smarter\" : [ \"Poincare\",\"Noether\"]}\n]}\n</code></pre>\n\n<p>I'm trying to sort the names so that anyone who appears in the first element of the smarter pair will have their name printed before in the response output.</p>\n\n<pre><code>from flask import Flask\nfrom flask import request\nimport json\n\napp = Flask(__name__)\n\n@app.route('/postjson', methods = ['POST'])\ndef postJsonHandler(self):\n    candidates = set()\n    nodes = {}\n    sorted = []\n    self.incoming = set()\n    self.outgoing = set()\n   if request.json:\n    smarter[] = json.loads(inList['smarter'])\n    for l in smarter[]:\n    p1,p2 = tuple([s.strip() for s in l.split(\":\")])\n\n    if p1 not in nodes:\n        nodes[p1] = Node()\n\n    if p2 not in nodes:\n        nodes[p2] = Node()\n\n    nodes[p1].outgoing.add(p2)\n    nodes[p2].incoming.add(p1)\n\n    if len(nodes[p1].incoming)==0:\n       candidates.add(p1)\n\n    candidates.discard(p2)\n    while len(candidates)&gt;0:\n        candidate = candidates.pop()\n        sorted.append(candidate)\n\n        while len(nodes[candidate].outgoing)&gt;0:\n            out = nodes[candidate].outgoing.pop()\n            nodes[out].incoming.remove(candidate)\n\n            if len(nodes[out].incoming)==0:\n               candidates.add(out)\n\n     print sortedhello\n\n    return sortedhello(['smarter'])\n   else:\n    return \"no json\"\n   app.run(host='0.0.0.0', port= 8090)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1509568803, "post_id": 47063270, "comment_id": 81074749, "body": "Where is your error coming from? Post the full error message including the stack trace"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1509568942, "post_id": 47063270, "comment_id": 81074812, "body": "As an aside, you probably shouldn&#39;t be using double-underscore name-mangling, and for that matter, writing a bunch of getter methods..."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 769216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dMJ6S.png?s=128&g=1", "display_name": "AngelM1981", "link": "https://stackoverflow.com/users/769216/angelm1981"}, "edited": false, "score": 0, "creation_date": 1509568911, "post_id": 47063316, "comment_id": 81074794, "body": "Yes. You just loop over the keys with: for item in dict: Another possibility would be: for item in dict.values()"}], "tags": [], "owner": {"reputation": 877, "user_id": 2134991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/881dca82a9dd68adfb301485dcd30707?s=128&d=identicon&r=PG", "display_name": "Niema Moshiri", "link": "https://stackoverflow.com/users/2134991/niema-moshiri"}, "is_accepted": true, "score": 4, "last_activity_date": 1509568952, "last_edit_date": 1509568952, "creation_date": 1509568852, "answer_id": 47063316, "question_id": 47063270, "link": "https://stackoverflow.com/questions/47063270/accessing-method-from-objects-in-a-dictionary/47063316#47063316", "title": "Accessing method from objects in a dictionary", "body": "<p>I believe you should be doing <code>dict[item].get_totale()</code>, not <code>item.get_totale()</code>. <code>item</code> is iterating over the keys of <code>dict</code> (which are strings), not your custom class</p>\n"}], "owner": {"reputation": 69, "user_id": 7697476, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xDBLsH9XQpA/AAAAAAAAAAI/AAAAAAAAC3Q/oUQnI6nXpXU/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/7697476/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 47063316, "answer_count": 1, "score": 1, "last_activity_date": 1509568952, "creation_date": 1509568663, "question_id": 47063270, "link": "https://stackoverflow.com/questions/47063270/accessing-method-from-objects-in-a-dictionary", "title": "Accessing method from objects in a dictionary", "body": "<p>is it possible to access to an external class method from a loop into a dictionary? \nHere 2 examples, one access by a loop into a list and the other one by a dictionary. The first one does the job I'd like to reach with the dictionary (the second one):</p>\n\n<pre><code>ins.py\n\nclass Ins:\n    def __init__(self, cognome, nome, indirizzo, entrate, spese):\n        self.__cognome = cognome\n        self.__nome = nome\n        self.__indirizzo = indirizzo\n        self.__entrate = entrate\n        self.__spese = spese\n\n    def get_cognome(self):\n        return self.__cognome\n\n    def get_nome(self):\n        return self.__nome\n\n    def get_indirizzo(self):\n        return self.__indirizzo\n\n    def get_totale(self):\n        return str(float(self.__entrate) - float(self.__spese))\n\n    def __str__(self):\n        return \"Cognome: \" + self.__cognome + \"\\nNome: \" + self.__nome + \\\n                 \"\\nIndirizzo: \" + self.__indirizzo +\\\n                 \"\\nEntrate: \" + self.__entrate + \"\\nSpese: \" + self.__spese\nins_main_list.py   \n\nimport ins\ndict = []\n\ndef main():\n    again = 'y'\n    while again.lower() == 'y':\n        cognome = input('Inserire Cognome: ')\n        nome = input('Inserire Nome: ')\n        indirizzo = input('Inserire Indirizzo: ')\n        entrate = input('Inserire Entrate: ')\n        spese = input('Inserire Spese: ')\n        again = input(\"Continuare con l'inserimento? (Y/N) \")\n        print()\n        entry = ins.Ins(cognome, nome, indirizzo, entrate, spese)\n        dict.append(entry)\n    for item in dict:\n        print(item)\n        print(item.get_totale())\n        print()\n\n main()\n\nins_main_dict.py\n\nimport ins\ndict = {}\n\ndef main():\n    again = 'y'\n    while again.lower() == 'y':\n        cognome = input('Inserire Cognome: ')\n        nome = input('Inserire Nome: ')\n        indirizzo = input('Inserire Indirizzo: ')\n        entrate = input('Inserire Entrate: ')\n        spese = input('Inserire Spese: ')\n        again = input(\"Continuare con l'inserimento? (Y/N) \")\n        print()\n        entry = ins.Ins(cognome, nome, indirizzo, entrate, spese)\n        dict[cognome] = entry\n    for item in dict:\n        print(dict[item])\n        print(item.get_totale())\n        print()\n\nmain()\n</code></pre>\n\n<p>As you can see in the last example item.get_totale() give me an attribute error. How is possible to access into it? </p>\n"}, {"tags": ["python", "django", "django-models", "django-views"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 1, "creation_date": 1509568913, "post_id": 47063257, "comment_id": 81074798, "body": "Clearly <code>leaders</code> is empty thus <code>leaders[0]</code> throws an exception."}, {"owner": {"reputation": 85, "user_id": 8870483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-to5nKWtXzQQ/AAAAAAAAAAI/AAAAAAAAEyc/LQ-2NFUeMvg/photo.jpg?sz=128", "display_name": "Meicki Jeldal", "link": "https://stackoverflow.com/users/8870483/meicki-jeldal"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1509569127, "post_id": 47063257, "comment_id": 81074894, "body": "Its just funny because when using it on another django server its works fine but u maybe be right"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 1, "creation_date": 1509569396, "post_id": 47063257, "comment_id": 81075004, "body": "Another thing, <code>len(self.members.filter(teammembership__leader=True))</code> force evaluates the entire queryset which might cause performance issues if the queryset is too large. You can use <code>.count()</code> instead which performs <code>SELECT COUNT(*)</code>: <code>self.members.filter(teammembership__leader=True).count() &gt; 1</code>"}, {"owner": {"reputation": 85, "user_id": 8870483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-to5nKWtXzQQ/AAAAAAAAAAI/AAAAAAAAEyc/LQ-2NFUeMvg/photo.jpg?sz=128", "display_name": "Meicki Jeldal", "link": "https://stackoverflow.com/users/8870483/meicki-jeldal"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1509569856, "post_id": 47063257, "comment_id": 81075240, "body": "Thanks for all the tips @OzgurVatansever I will take it with me :) You both helped me really good thank u very much"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 1, "creation_date": 1509569920, "post_id": 47063257, "comment_id": 81075275, "body": "@Alasdair <code>qs.exists()</code> is same as <code>qs.count() &gt; 0</code> not <code>&gt; 1</code>."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1509569979, "post_id": 47063257, "comment_id": 81075303, "body": "@OzgurVatansever of course it is. My mistake, I&#39;ve deleted the comment."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8870483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-to5nKWtXzQQ/AAAAAAAAAAI/AAAAAAAAEyc/LQ-2NFUeMvg/photo.jpg?sz=128", "display_name": "Meicki Jeldal", "link": "https://stackoverflow.com/users/8870483/meicki-jeldal"}, "edited": false, "score": 0, "creation_date": 1509569889, "post_id": 47063391, "comment_id": 81075257, "body": "Thank u very much you guys are basically my hero today :D"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1509569156, "creation_date": 1509569156, "answer_id": 47063391, "question_id": 47063257, "link": "https://stackoverflow.com/questions/47063257/django-model-objects-all-gives-list-index-out-of-range-upon-calling-it-normall/47063391#47063391", "title": "Django model.objects.all() gives list index out of range upon calling it normally", "body": "<p>The key part of the traceback is:</p>\n\n<pre><code>File \"/home/melonendk/webapps/victory_genki_dk/victory/staff/models.py\" in teamleaders_listable\n  22.       string = leaders[0].extendeduser.nickname\n\nFile \"/home/melonendk/webapps/victory_genki_dk/lib/python3.6/Django-1.11.6-py3.6.egg/django/db/models/query.py\" in __getitem__\n  289.         return list(qs)[0]\n\nException Type: IndexError at /teams/\nException Value: list index out of range\n</code></pre>\n\n<p>This is telling you that <code>leaders[0]</code> is failing because <code>self.members.filter(teammembership__leader=True)</code> is an empty queryset.</p>\n\n<p>You could change the code slightly to use <code>\", \".join()</code> instead of looping through the queryset. This will return the empty string <code>''</code> when the queryset is empty.</p>\n\n<pre><code>@property\ndef teamleaders_listable(self):\n    leaders = self.members.filter(teammembership__leader=True)\n    return \", \".join(l.extendeduser.nickname for l in leaders)\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 8870483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-to5nKWtXzQQ/AAAAAAAAAAI/AAAAAAAAEyc/LQ-2NFUeMvg/photo.jpg?sz=128", "display_name": "Meicki Jeldal", "link": "https://stackoverflow.com/users/8870483/meicki-jeldal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 47063391, "answer_count": 1, "score": 2, "last_activity_date": 1509569156, "creation_date": 1509568603, "question_id": 47063257, "link": "https://stackoverflow.com/questions/47063257/django-model-objects-all-gives-list-index-out-of-range-upon-calling-it-normall", "title": "Django model.objects.all() gives list index out of range upon calling it normally", "body": "<p>So im currently working on a private project using Django and when I try loading the page for the teams it just says \"list index out of range\" and im using object.all() to fetch every team from the model Team,</p>\n\n<p>Inside the template im using a for loop to post each team on the page I've been trying using order_by() and first() but they didn't either seem to help.</p>\n\n<p>My traceback is here <a href=\"http://dpaste.com/2S4Q7FY\" rel=\"nofollow noreferrer\">http://dpaste.com/2S4Q7FY</a></p>\n\n<p>What am I doing wrong here what should I change</p>\n\n<h2>The view</h2>\n\n<pre><code>def teams(request):\n    teams = Team.objects.all()\n    context = {\n        'teams': teams,\n    }\n    if request.user.is_authenticated():\n        logged_in_user = get_object_or_404(User, pk=request.user.pk)\n        context['logged_in_user'] = logged_in_user\n    return render(request, 'teams.html', context)\n</code></pre>\n\n<h2>Model Team</h2>\n\n<pre><code>class Team(models.Model):\n    name = models.CharField(max_length=16)\n    logo = models.ImageField(upload_to='teams/avatars', default='static/img/userpreload.png')\n    background = models.ImageField(upload_to='teams/backgrounds', default='static/img/userpreload.png')\n    description = models.TextField(blank=True)\n    people_needed = models.PositiveSmallIntegerField()\n    members = models.ManyToManyField(User, through='TeamMembership')\n    accepts_applications = models.BooleanField()\n\n    @property\n    def teamleaders_listable(self):\n        leaders = self.members.filter(teammembership__leader=True)\n        string = leaders[0].extendeduser.nickname\n\n        for leader in leaders[1:]:\n            string += \", \" + leader.extendeduser.nickname\n\n        return string\n\n    @property\n    def multiple_teamleaders(self):\n        if len(self.members.filter(teammembership__leader=True)) &gt; 1:\n            return True\n        else:\n            return False\n\n\n    def __str__(self):\n        return self.name\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "data-science"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1509571007, "post_id": 47063238, "comment_id": 81075773, "body": "Can you post your desired data set?"}], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 3, "last_activity_date": 1509569295, "creation_date": 1509569295, "answer_id": 47063424, "question_id": 47063238, "link": "https://stackoverflow.com/questions/47063238/how-to-compare-a-dataframe-to-a-subset-intersection-of-another-dataframe-in-pand/47063424#47063424", "title": "How to compare a dataframe to a subset intersection of another dataframe in pandas in python?", "body": "<p>IIUC, you can use <code>eq</code>:</p>\n\n<pre><code>df1.eq(df2)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                 1      2      3      4      5\ndog   dog     True   True  False   True   True\n      fox     True   True  False   True   True\n      horse  False  False  False  False  False\n      jumps   True   True  False   True   True\n      over   False  False  False  False  False\n      the     True   True  False   True   True\nfox   cat    False  False  False  False  False\n      dog     True   True  False   True   True\n      fox     True   True  False   True   True\n      jumps   True   True  False   True   True\n      over   False  False  False  False  False\n      the     True   True  False   True   True\njumps dog    False  False  False  False  False\n      fox    False  False  False  False  False\n      jumps  False  False  False  False  False\n      over   False  False  False  False  False\n      the    False  False  False  False  False\nover  dog    False  False  False  False  False\n      fox    False  False  False  False  False\n      jumps  False  False  False  False  False\n      over   False  False  False  False  False\n      the    False  False  False  False  False\nthe   dog    False  False  False  False  False\n      fox    False  False  False  False  False\n      jumps  False  False  False  False  False\n      over   False  False  False  False  False\n      the    False  False  False  False  False\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 47063424, "answer_count": 1, "score": 0, "last_activity_date": 1509569295, "creation_date": 1509568494, "question_id": 47063238, "link": "https://stackoverflow.com/questions/47063238/how-to-compare-a-dataframe-to-a-subset-intersection-of-another-dataframe-in-pand", "title": "How to compare a dataframe to a subset intersection of another dataframe in pandas in python?", "body": "<p>I have a the following dataframes in python:</p>\n\n<h3>dataframe 1</h3>\n\n<pre><code>             1  2  3  4  5\ndog   dog    0  0  0  0  0\n      fox    0  0  0  0  0\n      jumps  0  0  0  0  0\n      over   0  0  0  0  0\n      the    0  0  0  0  0\nfox   dog    0  0  0  0  0\n      fox    0  0  0  0  0\n      jumps  0  0  0  0  0\n      over   0  0  0  0  0\n      the    0  0  0  0  0\njumps dog    0  0  0  0  0\n      fox    0  0  0  0  0\n      jumps  0  0  0  0  0\n      over   0  0  0  0  0\n      the    0  0  0  0  0\nover  dog    0  0  0  0  0\n      fox    0  0  0  0  0\n      jumps  0  0  0  0  0\n      over   0  0  0  0  0\n      the    0  0  0  0  0\nthe   dog    0  0  0  0  0\n      fox    0  0  0  0  0\n      jumps  0  0  0  0  0\n      over   0  0  0  0  0\n      the    0  0  0  0  0\n</code></pre>\n\n<h3>dataframe 2</h3>\n\n<pre><code>             1  2  4  5\ndog   dog    0  0  0  0\n      fox    0  0  0  0\n      jumps  0  0  0  0\n      the    0  0  0  0\n      horse  0  0  0  0\nfox   dog    0  0  0  0\n      fox    0  0  0  0\n      over   0  0  0  0\n      the    0  0  0  0\n      cat    0  0  0  0\n</code></pre>\n\n<p>You can see that dataframe2 contains multiindexes of dataframe1 but it also contains additional multiindexes like horse and cat. Dataframe 2 also doesn't contain all the columns of dataframe 1 as you can see it misses column 3.</p>\n\n<p>I want to compare these two dataframes in such a way that the function returns True if the values of any common first->second (multi) indices between the two dataframes also match each other, otherwise False.</p>\n\n<p>I could iterate over by looking over each value manually but that would increase the function's time complexity. Does any know if pandas provides a builtin way of doing this or do I need to construct a function myself. If so, can you point me in the right direction? Any suggestions are highly appreciated. Thank you.</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 4242, "user_id": 2745266, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/hvvbS.jpg?s=128&g=1", "display_name": "exAres", "link": "https://stackoverflow.com/users/2745266/exares"}, "edited": false, "score": 0, "creation_date": 1571629626, "post_id": 47063224, "comment_id": 103291158, "body": "Did you figure out how to make edges thicker?"}], "owner": {"reputation": 613, "user_id": 4057203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2f2e1f1d348c720e02ad37622ca86e6?s=128&d=identicon&r=PG&f=1", "display_name": "ben olsen", "link": "https://stackoverflow.com/users/4057203/ben-olsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1509568428, "creation_date": 1509568428, "question_id": 47063224, "link": "https://stackoverflow.com/questions/47063224/python-pil-outline-image-increase-thicknesses", "title": "Python PIL Outline image increase thicknesses", "body": "<p>I know how to find the edges from a picture. But I would like to have the outline edges be thicker for example width 9. </p>\n\n<pre><code>    from PIL import Image, ImageFilter\n\n    image = Image.open('your_image.png')\n    image = image.filter(ImageFilter.FIND_EDGES, width=9)\n    image.save('new_name.png') \n</code></pre>\n\n<p>is that possible? </p>\n"}, {"tags": ["python", "django", "internationalization", "wagtail"], "answers": [{"tags": [], "owner": {"reputation": 1274, "user_id": 7668563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7037e192e7a0505b868c8861e28878?s=128&d=identicon&r=PG", "display_name": "Lo&#239;c Teixeira", "link": "https://stackoverflow.com/users/7668563/lo%c3%afc-teixeira"}, "is_accepted": false, "score": 0, "last_activity_date": 1509661687, "creation_date": 1509661687, "answer_id": 47085597, "question_id": 47063211, "link": "https://stackoverflow.com/questions/47063211/python-code-optimization-creating-dynamic-variables-in-a-loop-inside-a-class-fo/47085597#47085597", "title": "python code optimization: creating dynamic variables in a loop inside a class for django / wagtail", "body": "<p>This isn't a complete answer but hopefully it will get you on the right track.</p>\n\n<p>The first think you could simplify is the construction of the <code>TranslatedField</code> and it's <code>__get__</code> method like so:</p>\n\n<pre><code>class TranslatedField(object):\n    def __init__(self, field_name, languages):\n        self.field_name = field_name\n        self.languages = languages\n\n    def __get__(self, instance, owner):\n        required_lang = translation.get_language()\n        lang = required_lang if required_lang in self.languages else self.languages[0]\n        translated_field_name = '%s_%s' % (self.field_name, lang)\n        return getattr(instance, translated_field_name)\n</code></pre>\n\n<p>You will still need to create <code>body_en</code>, <code>body_fr</code> and so on but that's a start.</p>\n\n<p>In order to not have to create all the <code>body_xxx</code> fields, and do something like this instead <code>body = TranslatedField(field_type=RichText, field_args=None, fields_kwargs={'blank': True}, languages=['en', 'fr'])</code>, then you'll have to look at <a href=\"https://stackoverflow.com/questions/2357528/explanation-of-contribute-to-class\">contribute_to_class</a>.</p>\n\n<p>Btw, there are some <a href=\"https://github.com/springload/awesome-wagtail#translations\" rel=\"nofollow noreferrer\">translation libraries </a> out there for Wagtail which might be worth a look.</p>\n"}], "owner": {"reputation": 26625, "user_id": 287436, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9de28331e6a1541de76b16b0c1d96ecd?s=128&d=identicon&r=PG", "display_name": "mheavers", "link": "https://stackoverflow.com/users/287436/mheavers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509661687, "creation_date": 1509568383, "last_edit_date": 1509579053, "question_id": 47063211, "link": "https://stackoverflow.com/questions/47063211/python-code-optimization-creating-dynamic-variables-in-a-loop-inside-a-class-fo", "title": "python code optimization: creating dynamic variables in a loop inside a class for django / wagtail", "body": "<p>I am trying to optimize internationalization for my django (wagtail) site.</p>\n\n<p>I have a model which creates fields for the CMS that allow translation to different language:</p>\n\n<pre><code>from internationalization.translatedfield import TranslatedField\n\nclass BlogPage(Page):\n\n    body_en = RichTextField(blank=True)\n    body_fr = RichTextField(blank=True)\n\n    body = TranslatedField(\n        'body_en',\n        'body_fr'\n    )\n\n    content_panels = Page.content_panels + [\n        FieldPanel('body_en', classname=\"full\"),\n        FieldPanel('body_fr', classname=\"full\"),\n    ]\n</code></pre>\n\n<p>The translatedfield import just allows us to use a single variable name in our django template ('body'):</p>\n\n<pre><code>from django.utils import translation\n\nclass TranslatedField(object):\n    def __init__(self, en_field, fr_field):\n        self.en_field = en_field\n        self.fr_field = fr_field\n\n    def __get__(self, instance, owner):\n        if translation.get_language() == 'fr':\n            return getattr(instance, self.fr_field)\n        else:\n            return getattr(instance, self.en_field)\n</code></pre>\n\n<p>And in the template:</p>\n\n<pre><code>{{ page.body|richtext }}\n</code></pre>\n\n<p>All this allows the CMS user to input text for 'body_fr' and 'body_en' fields, and, based on the URL the visitor was at, output either the french or english translations (e.g. <code>site.com/en/blog</code> or <code>site.com/fr/blog</code>).</p>\n\n<p>The problem is there could be potentially dozens of languages and dozens of fields, so you can see how this model could get very large. So what I'd like to do is dynamically create those <code>self.en_field</code>s and <code>.fr</code> fields in a loop. </p>\n\n<p>So the <code>TranslatedField</code> import might look something like:</p>\n\n<pre><code>class TranslatedField(object):\n    def __init__(self, field, languages):\n</code></pre>\n\n<p>where <code>field</code> would be, in this example, <code>body</code> and <code>languages</code> would be an array of languages we want to support for this field: <code>['en','fr']</code>.</p>\n\n<p>Then I would loop through that array, <code>for language in languages</code> and somehow return <code>self.{language}_field = language</code>, and in <code>def __get__(self, instance, owner):</code> somehow loop through all the languages again and say <code>if translation.get_language() == language</code>: return getattr(instance,self.{language_field}` (above being pseudocode).</p>\n\n<p>How do I restructure the existing model and import to more effectively render the fields that I need? I'm guessing the answer might involve using a combination of loops and dictionaries, but I haven't had a ton of success with dynamically creating and implementing these so far.</p>\n"}, {"tags": ["python", "pandas", "date", "dataframe"], "comments": [{"owner": {"reputation": 88, "user_id": 4692404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7y8YpyPmh9Y/AAAAAAAAAAI/AAAAAAAADck/lAtlqmoZjNk/photo.jpg?sz=128", "display_name": "Reese", "link": "https://stackoverflow.com/users/4692404/reese"}, "edited": false, "score": 1, "creation_date": 1509568774, "post_id": 47063210, "comment_id": 81074731, "body": "Try this: <code>df.groupby([&#39;Date&#39;], as_index=False).sum()</code>"}, {"owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "reply_to_user": {"reputation": 88, "user_id": 4692404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7y8YpyPmh9Y/AAAAAAAAAAI/AAAAAAAADck/lAtlqmoZjNk/photo.jpg?sz=128", "display_name": "Reese", "link": "https://stackoverflow.com/users/4692404/reese"}, "edited": false, "score": 0, "creation_date": 1509569269, "post_id": 47063210, "comment_id": 81074955, "body": "It works fine. Thanks a lot!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 88, "user_id": 4692404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7y8YpyPmh9Y/AAAAAAAAAAI/AAAAAAAADck/lAtlqmoZjNk/photo.jpg?sz=128", "display_name": "Reese", "link": "https://stackoverflow.com/users/4692404/reese"}, "edited": false, "score": 1, "creation_date": 1509569420, "post_id": 47063210, "comment_id": 81075015, "body": "@Reese do not include answer in the comment , you can add it as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1509720680, "creation_date": 1509720680, "answer_id": 47098574, "question_id": 47063210, "link": "https://stackoverflow.com/questions/47063210/removing-duplicate-dates-and-merging-values-in-pandas-dataframe-python/47098574#47098574", "title": "Removing duplicate dates and merging values in Pandas Dataframe - Python", "body": "<p>As Reese mentioned - </p>\n\n<p><code>df.groupby(['Date'], as_index=False).sum()</code> will not set date column as Index</p>\n"}], "owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 47098574, "answer_count": 1, "score": 1, "last_activity_date": 1509720680, "creation_date": 1509568381, "question_id": 47063210, "link": "https://stackoverflow.com/questions/47063210/removing-duplicate-dates-and-merging-values-in-pandas-dataframe-python", "title": "Removing duplicate dates and merging values in Pandas Dataframe - Python", "body": "<p>I am having below data in pandas dataframe. Some date vales are repeating(2010-07-31,2010-10-31). Need to remove repeated dates and merge the values between two rows. </p>\n\n<p>I have used the solution from the following question. But using below code sets Date column as Index. I don't want date column to be set as Index. \n<a href=\"https://stackoverflow.com/questions/46775668/need-help-in-removing-duplicate-dates-and-merging-values-of-two-rows-in-pandas-d\">Need help in removing duplicate dates and merging values of two rows in Pandas Dataframe (python)</a></p>\n\n<p>Code:</p>\n\n<pre><code>  df = df.groupby(['Date']).sum()\n</code></pre>\n\n<p>Dataframe <code>df</code>:</p>\n\n<pre><code> Index     Date                A       B           C       D\n  1     2010-06-30 0:00:00  47.1    29.34       0.036   100.8   \n  2     2010-07-31 0:00:00  47.1    29.34               \n  3     2010-07-31 0:00:00                      -4.644  100.2   \n  4     2010-08-31 0:00:00  47.1    29.34       -1.481  100.4   \n  5     2010-09-30 0:00:00  29.3    14.15        3.865  101.6   \n  6     2010-10-31 0:00:00  29.3    14.15               \n  7     2010-10-31 0:00:00                       0.517  102.6 \n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code> Index     Date              A       B           C       D\n  1   2010-06-30 0:00:00   47.1    29.34       0.036   100.8   \n  2   2010-07-31 0:00:00   47.1    29.34       -4.644  100.2           \n  4   2010-08-31 0:00:00   47.1    29.34       -1.481  100.4   \n  5   2010-09-30 0:00:00   29.3    14.15        3.865  101.6   \n  6   2010-10-31 0:00:00   29.3    14.15        0.517  102.6   \n</code></pre>\n"}, {"tags": ["python", "combinations"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1509568629, "post_id": 47063196, "comment_id": 81074667, "body": "It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on his own. A good way to show this effort is to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>. Check the <a href=\"https://stackoverflow.com/tour\">intro tour</a> you were <i>supposed</i> to finish before posting, especially <a href=\"http://stackoverflow.com/help/how-to-ask\">How to Ask</a>."}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 8168819, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154846444778751/picture?type=large", "display_name": "Vijay K. Narayanan", "link": "https://stackoverflow.com/users/8168819/vijay-k-narayanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510099631, "creation_date": 1510099631, "answer_id": 47169456, "question_id": 47063196, "link": "https://stackoverflow.com/questions/47063196/python-combination-with-one-criteria/47169456#47169456", "title": "Python: Combination with one criteria", "body": "<p>It looks like your list consists of strings. Have you tried using int()? For example <code>int('0001')</code> returns 1, after stripping out the leading 0s.</p>\n\n<p>If you have a long list, you could try using a list comprehension as follows. For example, if a = ['001', '002', '003'], then <code>b = [int(x) for x in a]</code>, would make b = [1, 2, 3].</p>\n"}], "owner": {"reputation": 1, "user_id": 8870499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e73b7515a2b2fc72a4666aaf9a7c47?s=128&d=identicon&r=PG&f=1", "display_name": "Die Alone", "link": "https://stackoverflow.com/users/8870499/die-alone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1510099631, "creation_date": 1509568313, "question_id": 47063196, "link": "https://stackoverflow.com/questions/47063196/python-combination-with-one-criteria", "title": "Python: Combination with one criteria", "body": "<p>i need combination list like</p>\n\n<pre><code>000002\n000003\n000004\n000006\n000007\n000008\n000009\n000012\n......\n999998\n999999\n</code></pre>\n\n<p>But i don't need 0 and 1 and the end of number, how i can do it? Thanks!</p>\n"}, {"tags": ["python", "matplotlib", "3d", "mayavi"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509578498, "post_id": 47063171, "comment_id": 81078556, "body": "I&#39;m not sure what this question is aiming at. If you are happy with the way you implemented the updating, you can sure use it."}, {"owner": {"reputation": 464, "user_id": 7988415, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55184945d5a19b798da47f329944f399?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7988415/alex"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1509579203, "post_id": 47063171, "comment_id": 81078756, "body": "I was so confused that I was not sure what to ask. Edited just now. I think the question is that do I have to use traits? In the documentation, the way to embed mayavi in a QT application is you first embed it in a <code>HasTraits</code>, then embed that in QT. Why not directly in qt (or matplotlib, or anyother UI)?"}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 4, "last_activity_date": 1509624036, "last_edit_date": 1509624036, "creation_date": 1509623150, "answer_id": 47074492, "question_id": 47063171, "link": "https://stackoverflow.com/questions/47063171/simple-way-to-do-a-3d-plot-interactively-using-mayavi/47074492#47074492", "title": "Simple way to do a 3d plot interactively using Mayavi?", "body": "<p>Possibly a good start understanding traits would be <a href=\"ftp://ftp.ntua.gr/mirror/python/pycon/papers/traits.html\" rel=\"nofollow noreferrer\">this article</a>. Those traits, we are talking about here, have been <a href=\"http://code.enthought.com/projects/traits/\" rel=\"nofollow noreferrer\">developped by Enthough</a>. It is worth noting that there are also other objects/concepts called traits, which are completely unrelated to what is relevant for using mayavi.</p>\n\n<hr>\n\n<blockquote>\n  <p>I don't have to use Traits, right?</p>\n</blockquote>\n\n<p>You <em>are</em> using Traits when calling <code>s.mlab_source.scalars = np.asarray(x * (val + 1), 'd')</code>. The fact that Mayavi updates the plot simply because you change the underlying data is a result of Traits being used. </p>\n\n<p>Mayavi simply uses those traits, instead of usual objects. So once you use mayavi, you inevitably use traits. </p>\n\n<blockquote>\n  <p>Does it mean if I wanted something that's automatically updated, I have to use Traits in the way it was described above?</p>\n</blockquote>\n\n<p>No, you gave the counter example yourself. You do not have to subclass <code>HasTraits</code> to update a plot. You may use whatever other solution you can think of. However, once you want to embed a mayavi scene into a GUI, it is probably a good idea to do it the way the documentation states it. </p>\n\n<p>Also, subclassing <code>HasTraits</code> is actually a very neat way to easily obtain an interactive figure. So the example from the question could look like</p>\n\n<pre><code>import numpy as np\nfrom mayavi import mlab\n\nfrom traits.api import HasTraits, Range, Instance,on_trait_change\nfrom traitsui.api import View, Item, Group\nfrom mayavi.core.ui.api import MayaviScene, SceneEditor, MlabSceneModel\n\nx, y = np.mgrid[0:3:1,0:3:1]\n\nclass MyModel(HasTraits):\n    slider    = Range(-5., 5., 0.5, )    \n    scene = Instance(MlabSceneModel, ())\n\n    def __init__(self):\n        HasTraits.__init__(self)\n        self.s = mlab.surf(x, y, np.asarray(x*1.5, 'd'), figure=self.scene.mayavi_scene)\n\n    @on_trait_change('slider')\n    def slider_changed(self):\n        self.s.mlab_source.scalars = np.asarray(x * (self.slider + 1), 'd')\n\n    view = View(Item('scene', editor=SceneEditor(scene_class=MayaviScene)),\n                Group(\"slider\"))\n\nmy_model = MyModel()\nmy_model.configure_traits()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yC1k2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yC1k2.png\" alt=\"enter image description here\"></a></p>\n\n<p>The nice thing to notice here is that you do not actually define an explicit callback (i.e. there is no <code>on_slider_change</code> or similar).</p>\n"}], "owner": {"reputation": 464, "user_id": 7988415, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55184945d5a19b798da47f329944f399?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7988415/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 1, "accepted_answer_id": 47074492, "answer_count": 1, "score": 2, "last_activity_date": 1574963143, "creation_date": 1509568213, "last_edit_date": 1509578995, "question_id": 47063171, "link": "https://stackoverflow.com/questions/47063171/simple-way-to-do-a-3d-plot-interactively-using-mayavi", "title": "Simple way to do a 3d plot interactively using Mayavi?", "body": "<p>Reading Mayavi's documentation \"<a href=\"http://docs.enthought.com/mayavi/mayavi/building_applications.html\" rel=\"nofollow noreferrer\">http://docs.enthought.com/mayavi/mayavi/building_applications.html</a>\" gets me real confused.</p>\n\n<p>My question is, if I just want a 3d plot that allows user interaction, for example, dragging a slider and change the content of the plot, I don't <strong>have</strong> to use Traits, right? By the documentation, the standard procedure is something like:</p>\n\n<pre><code>class visual(HasTraits):\n    scene = ...\n    view = View(...)\n    @on_trait_change(...)\n    def do_something()\n        ...\n</code></pre>\n\n<p>I don't know what traits are. I don't even understand what's an attribute in a class that's defined outside of the constructor (it's a 'trait'?). </p>\n\n<p>Back to the original question, if I just wanted a 3d plot that's changeable, why don't I just directly do it? A working example is as follows:</p>\n\n<pre><code>import numpy as np\nfrom mayavi import mlab\nfrom matplotlib import pyplot as plt\nfrom matplotlib.widgets import Slider\n\n\ndef slider_changed(val):\n    s.mlab_source.scalars = np.asarray(x * (val + 1), 'd')\n\n# mayavi 3d plot\nx, y = np.mgrid[0:3:1,0:3:1]\ns = mlab.surf(x, y, np.asarray(x*0.1, 'd'))\n\n# a matplotlib slider\nplt.figure()\nax = plt.subplot(1, 1, 1)\nslider = Slider(ax, valmin=0., valmax=1., label='test')\nslider.on_changed(slider_changed)\n\nplt.show()\nmlab.show()\n</code></pre>\n\n<p>Seems to me if I don't care about <strong>embedding</strong> the 3d plot in applications, this is a much simpler way to do it? A lot of the attributes of the 3d plot is manipulable through the attributes of <code>mlab_source</code>. I am using a matplotlib slider here as an example, but it seems it can be a pyqt UI or whatever. </p>\n\n<p>However, the documentation says </p>\n\n<blockquote>\n  <p>All the different properties of the pipeline and pipeline objects are expressed as Traits, i.e. special attributes that can be visualized in dialogs and that fire callbacks when they are modified. In particular this means that when a visualization object is modified, the scene can update automatically.</p>\n</blockquote>\n\n<p>Does it mean if I wanted something that's automatically updated, I have to use Traits in the way it was described above?</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "csv"], "answers": [{"tags": [], "owner": {"reputation": 715, "user_id": 3990097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566dc29d47f3d00c622c15c701e8ca85?s=128&d=identicon&r=PG&f=1", "display_name": "Argus Malware", "link": "https://stackoverflow.com/users/3990097/argus-malware"}, "is_accepted": true, "score": 2, "last_activity_date": 1509568982, "creation_date": 1509568982, "answer_id": 47063350, "question_id": 47063151, "link": "https://stackoverflow.com/questions/47063151/in-python-3-how-can-i-transfer-the-data-from-a-2d-array-into-a-csv-textfile/47063350#47063350", "title": "In python 3, how can i transfer the data from a 2d array into a csv textfile", "body": "<p><em>Python's  CSV library has that power:</em></p>\n\n<pre><code>import csv\n\nwith open(\"output.csv\", \"wb\") as f:\n    writer = csv.writer(f)\n    writer.writerows(weapons)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8870443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882f80c48e8897a8facf865a5ab0861e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Young", "link": "https://stackoverflow.com/users/8870443/ethan-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 47063350, "answer_count": 1, "score": 1, "last_activity_date": 1509570522, "creation_date": 1509568125, "last_edit_date": 1509570522, "question_id": 47063151, "link": "https://stackoverflow.com/questions/47063151/in-python-3-how-can-i-transfer-the-data-from-a-2d-array-into-a-csv-textfile", "title": "In python 3, how can i transfer the data from a 2d array into a csv textfile", "body": "<p>This is my 2d list:</p>\n\n<pre><code>weapons = [['cannon','sword','bow','catapult','longbow','longsword','scythe','frying pan'],['bayonet','karambit','tommy gun']]\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-views", "django-generic-views"], "comments": [{"owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "edited": false, "score": 0, "creation_date": 1509569378, "post_id": 47063143, "comment_id": 81074995, "body": "Not very sure, but shouldn&#39;t you be mentioning a <code>template</code> parameter for <code>create_view</code>?"}, {"owner": {"reputation": 3, "user_id": 8306416, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ybnmo_Luao4/AAAAAAAAAAI/AAAAAAAAKIQ/ghBQRU7Mkto/photo.jpg?sz=128", "display_name": "Stivi", "link": "https://stackoverflow.com/users/8306416/stivi"}, "reply_to_user": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "edited": false, "score": 0, "creation_date": 1509569463, "post_id": 47063143, "comment_id": 81075038, "body": "@DeA It takes care automatically"}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 0, "last_activity_date": 1509569775, "creation_date": 1509569775, "answer_id": 47063539, "question_id": 47063143, "link": "https://stackoverflow.com/questions/47063143/how-to-modify-the-author-choices-field-in-my-generic-createview-with-authorsfk/47063539#47063539", "title": "How to modify the author choices field in my generic CreateView with authors(fk) only from the current user?", "body": "<p>It is much easier to simply exclude the <code>author</code> from the list of fields, then set it in the <code>form_valid</code> method:</p>\n\n<pre><code>class BookCreate(LoginRequiredMixin, CreateView):\n    model = Book\n    fields = ['title', 'isbn', 'year', 'publisher']\n\n    def form_valid(self, form):\n        form.instance.owner = self.request.user\n        return super(BookCreate, self).form_valid(form)\n</code></pre>\n\n<p>If you do this, make sure you delete your second <code>form_valid</code> method, which is replacing the correct <code>form_valid</code> method above.</p>\n\n<p>If you must include <code>author</code> as a field with a single option, then the code is much more complicated. You need a custom form with an <code>__init__</code> method which takes <code>user</code> and sets the queryset for the <code>auth</code> field. </p>\n\n<p>Then you need to modify your view to use your custom form, and override <code>get_form_kwargs</code> to include <code>self.request.user</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 8306416, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ybnmo_Luao4/AAAAAAAAAAI/AAAAAAAAKIQ/ghBQRU7Mkto/photo.jpg?sz=128", "display_name": "Stivi", "link": "https://stackoverflow.com/users/8306416/stivi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 47063539, "answer_count": 1, "score": 0, "last_activity_date": 1509569775, "creation_date": 1509568107, "question_id": 47063143, "link": "https://stackoverflow.com/questions/47063143/how-to-modify-the-author-choices-field-in-my-generic-createview-with-authorsfk", "title": "How to modify the author choices field in my generic CreateView with authors(fk) only from the current user?", "body": "<p>This is my code, i have read the documentations and it seems this method is the right way, i get no errors but i see no results. Can somebody help me in what i am doing wrong?</p>\n\n<pre><code>class BookCreate(LoginRequiredMixin, CreateView):\n     model = Book\n     fields = ['title', 'isbn', 'year', 'author', 'publisher']\n\n\n    def form_valid(self, form):\n        form.instance.owner = self.request.user\n        return super(BookCreate, self).form_valid(form)\n\n    def form_valid(self, form):\n        b = Book.objects.all\n        form.instance.author = ModelChoiceField(queryset=b.author_set.filter(owner=self.request.user))\n        return super(BookCreate, self).form_valid(form)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 398, "user_id": 7611973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ac5d2e78feebec17197f30d3d828d769?s=128&d=identicon&r=PG&f=1", "display_name": "boethius", "link": "https://stackoverflow.com/users/7611973/boethius"}, "edited": false, "score": 0, "creation_date": 1509568732, "post_id": 47063033, "comment_id": 81074718, "body": "How much memory does your computer have? How many columns does the text file have? You could also loop through the entire file without pandas, if you truly only want to filter on some criteria"}, {"owner": {"reputation": 91, "user_id": 7771523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f0954ba3f3ffa5b4805b6051212bbb0?s=128&d=identicon&r=PG&f=1", "display_name": "P.Cummings", "link": "https://stackoverflow.com/users/7771523/p-cummings"}, "reply_to_user": {"reputation": 398, "user_id": 7611973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ac5d2e78feebec17197f30d3d828d769?s=128&d=identicon&r=PG&f=1", "display_name": "boethius", "link": "https://stackoverflow.com/users/7611973/boethius"}, "edited": false, "score": 1, "creation_date": 1509756134, "post_id": 47063033, "comment_id": 81163042, "body": "4gb worth or RAM. I know, time to update."}], "answers": [{"comments": [{"owner": {"reputation": 3019, "user_id": 3632002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ddaa0104964fe8ba6723dc7cc479df50?s=128&d=identicon&r=PG", "display_name": "Catbuilts", "link": "https://stackoverflow.com/users/3632002/catbuilts"}, "edited": false, "score": 0, "creation_date": 1547784619, "post_id": 47063184, "comment_id": 95319529, "body": "Thanks for the answer. But I&#39;m still so confused with parameter <code>iterator</code> in <code>read_csv()</code>. Does setting the  <code>iterator=True</code> make any difference ? Thanks"}, {"owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "reply_to_user": {"reputation": 3019, "user_id": 3632002, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ddaa0104964fe8ba6723dc7cc479df50?s=128&d=identicon&r=PG", "display_name": "Catbuilts", "link": "https://stackoverflow.com/users/3632002/catbuilts"}, "edited": false, "score": 0, "creation_date": 1547821151, "post_id": 47063184, "comment_id": 95335516, "body": "yes - if you have <code>iterator = False</code> (the default), you get a dataframe out, with it set to true, you get an object that you can get each <code>chunk size</code> of the data frame out of."}], "tags": [], "owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "is_accepted": true, "score": 8, "last_activity_date": 1509568262, "creation_date": 1509568262, "answer_id": 47063184, "question_id": 47063033, "link": "https://stackoverflow.com/questions/47063033/pandas-chunksize-iterator/47063184#47063184", "title": "Pandas Chunksize iterator", "body": "<p>You have some problems with your logic, we want to loop over each chunk in the data, not the data itself.</p>\n\n<p>The 'chunksize' argument gives us a 'textreader object' that we can iterate over.</p>\n\n<pre><code>import pandas as pd\ndata=pd.read_table('datafile.txt',sep='\\t',chunksize=1000)\n\nfor chunk in data:\n    chunk = chunk[chunk['visits']&gt;10]\n    chunk.to_csv('data.csv', index = False, header = False)\n</code></pre>\n\n<p>You will need to think about how to handle your header!</p>\n"}, {"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 2, "last_activity_date": 1509568319, "creation_date": 1509568319, "answer_id": 47063198, "question_id": 47063033, "link": "https://stackoverflow.com/questions/47063033/pandas-chunksize-iterator/47063198#47063198", "title": "Pandas Chunksize iterator", "body": "<p>When you pass a <code>chunksize</code> or <code>iterator=True</code>, <code>pd.read_table</code> returns a TextFileReader that you can iterate over or call <code>get_chunk</code> on. So you need to iterate or call <code>get_chunk</code> on <code>data</code>.  </p>\n\n<p>So proper handling of your entire file might look something like</p>\n\n<pre><code>import pandas as pd\n\ndata = pd.read_table('datafile.txt',sep='\\t',chunksize=1000, iterator=True)\n\nwith open('data.csv', 'a') as f:\n    for chunk in data:\n        chunk[chunk.visits &gt; 10].to_csv(f, sep=',', index=False, header=False)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7771523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f0954ba3f3ffa5b4805b6051212bbb0?s=128&d=identicon&r=PG&f=1", "display_name": "P.Cummings", "link": "https://stackoverflow.com/users/7771523/p-cummings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7180, "favorite_count": 0, "accepted_answer_id": 47063184, "answer_count": 2, "score": 3, "last_activity_date": 1509568319, "creation_date": 1509567616, "question_id": 47063033, "link": "https://stackoverflow.com/questions/47063033/pandas-chunksize-iterator", "title": "Pandas Chunksize iterator", "body": "<p>I have a 1GB, 70M row file which anytime I load it all it runs out of memory. I have read in 1000 rows and been able to prototype what i'd like it to do. </p>\n\n<p>My problem is not knowing how to get the next 1000 rows and apply my logic and then continue to run thru my file until it finishes the last rows. I've read about chunksizing although I can't figure out how to continue the iteration of the chunksizing.</p>\n\n<p>Ideally, it would flow like such:</p>\n\n<p>1)read in first 1000 rows\n2)filter data based on criteria\n3)write to csv\n4)repeat until no more rows</p>\n\n<p>Here's what i have so far:</p>\n\n<pre><code>import pandas as pd\ndata=pd.read_table('datafile.txt',sep='\\t',chunksize=1000, iterator=True)\ndata=data[data['visits']&gt;10]\nwith open('data.csv', 'a') as f:\n    data.to_csv(f,sep = ',', index=False, header=False)\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 8, "last_activity_date": 1509575866, "last_edit_date": 1509575866, "creation_date": 1509571471, "answer_id": 47063904, "question_id": 47063007, "link": "https://stackoverflow.com/questions/47063007/django-language-code-en-but-displays-fr/47063904#47063904", "title": "Django LANGUAGE_CODE = &#39;en&#39; but displays &#39;fr&#39;?", "body": "<p>You need to comment or disable \n<code>'django.middleware.locale.LocaleMiddleware',</code> in settings.py.</p>\n\n<p>This middleware handles the choice of the language from the request parameters.</p>\n\n<hr>\n\n<p>Translation documentation : </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.11/topics/i18n/translation/#how-django-discovers-language-preference\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.11/topics/i18n/translation/#how-django-discovers-language-preference</a></p>\n\n<p>Middleware documentation :</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.11/ref/middleware/#module-django.middleware.locale\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.11/ref/middleware/#module-django.middleware.locale</a></p>\n"}], "owner": {"reputation": 3457, "user_id": 755371, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/Cmp2K.png?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/755371/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2866, "favorite_count": 2, "accepted_answer_id": 47063904, "answer_count": 1, "score": 4, "last_activity_date": 1509575866, "creation_date": 1509567479, "question_id": 47063007, "link": "https://stackoverflow.com/questions/47063007/django-language-code-en-but-displays-fr", "title": "Django LANGUAGE_CODE = &#39;en&#39; but displays &#39;fr&#39;?", "body": "<p>I wrote my templates in ENGLISH by using {% trans %} inside.</p>\n\n<p>I decided to translate that into French, so I put that in the settings :</p>\n\n<pre><code>MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'debug_toolbar.middleware.DebugToolbarMiddleware',\n    'django.middleware.locale.LocaleMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nLANGUAGES = (\n    ('en', _('English')),\n    ('fr', _('French')),\n)\n\nLANGUAGE_CODE = 'fr'\n\nLOCALE_PATHS = (\n    os.path.join(BASE_DIR, 'locale'),\n)\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n</code></pre>\n\n<p>Then I used makemessages and compilemessages to generated translated strings. And this worked fine ! My website is in French.</p>\n\n<p>But now I would like to get back my site to be in English,\nSo I just change LANGUAGE_CODE to :</p>\n\n<pre><code>LANGUAGE_CODE = 'en'\n</code></pre>\n\n<p>But my website is still in French ! Even the django-debug-bar is still in French.</p>\n\n<p>The only workaround I found is to comment out the french in LANGUAGES :</p>\n\n<pre><code>LANGUAGES = (\n    ('en', _('English')),\n    # ('fr', _('French')),\n)\n</code></pre>\n\n<ul>\n<li>I tried to move the localMiddleware in the list : no success,</li>\n<li>I tried to clear cookies : no success.</li>\n<li>I generated english .mo and .po files : no success</li>\n<li>I tried LANGUAGE_CODE = 'en-us' : no success</li>\n</ul>\n\n<p>Why LANGUAGE_CODE = 'en' does not work ?</p>\n"}, {"tags": ["python", "numpy", "anaconda", "python-3.6", "genfromtxt"], "comments": [{"owner": {"reputation": 1, "user_id": 8870327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ceb3ee4af92194a691f2725cf428af8?s=128&d=identicon&r=PG&f=1", "display_name": "smittyoptions", "link": "https://stackoverflow.com/users/8870327/smittyoptions"}, "edited": false, "score": 0, "creation_date": 1509567550, "post_id": 47062984, "comment_id": 81074149, "body": "I am reviewing here in the mean time. <a href=\"https://docs.scipy.org/doc/numpy/user/basics.io.genfromtxt.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/user/basics.io.genfromtxt.html</a>"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1509567610, "post_id": 47062984, "comment_id": 81074189, "body": "The error is that the file is not found, it has not got as far as looking at its format.  Check that the file <code>171028 A.txt</code> (which is a strange name) exists in the current directory."}, {"owner": {"reputation": 1, "user_id": 8870327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ceb3ee4af92194a691f2725cf428af8?s=128&d=identicon&r=PG&f=1", "display_name": "smittyoptions", "link": "https://stackoverflow.com/users/8870327/smittyoptions"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1509568178, "post_id": 47062984, "comment_id": 81074445, "body": "How can python find the 171028 A.txt?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 2, "creation_date": 1509568284, "post_id": 47062984, "comment_id": 81074494, "body": "It looks in the current directory unless you give it the file&#39;s path - no different to other languages."}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 6037231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WnJn9.png?s=128&g=1", "display_name": "FELASNIPER", "link": "https://stackoverflow.com/users/6037231/felasniper"}, "is_accepted": false, "score": 0, "last_activity_date": 1509569302, "creation_date": 1509569302, "answer_id": 47063427, "question_id": 47062984, "link": "https://stackoverflow.com/questions/47062984/how-to-turn-a-comma-seperated-value-txt-into-a-csv-for-machine-learning/47063427#47063427", "title": "How to turn a comma seperated value TXT into a CSV for machine learning", "body": "<p>You can use <code>csv</code> module. You can find more information <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>import csv\n\ntxt_file = 'mytext.txt'\ncsv_file = 'mycsv.csv'\n\nin_txt = csv.reader(open(txt_file, \"r\"), delimiter=',')\nout_csv = csv.writer(open(csv_file, 'w+'))\n\nout_csv.writerows(in_txt)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1509569445, "creation_date": 1509569445, "answer_id": 47063457, "question_id": 47062984, "link": "https://stackoverflow.com/questions/47062984/how-to-turn-a-comma-seperated-value-txt-into-a-csv-for-machine-learning/47063457#47063457", "title": "How to turn a comma seperated value TXT into a CSV for machine learning", "body": "<p>Per @dclarke's comment, check the directory from which you run the code.  As you coded the call, the file <em>must</em> be in that directory.  When I have it there, the code runs without error (although the resulting table is a single line with four <code>nan</code> values).  When I move the file elsewhere, I reproduce your error quite nicely.</p>\n\n<p>Either move the file to be local, add a local link to the file, or change the file name in your program to use the proper path to the file (either relative or absolute).</p>\n"}], "owner": {"reputation": 1, "user_id": 8870327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ceb3ee4af92194a691f2725cf428af8?s=128&d=identicon&r=PG&f=1", "display_name": "smittyoptions", "link": "https://stackoverflow.com/users/8870327/smittyoptions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1509569445, "creation_date": 1509567396, "last_edit_date": 1509568749, "question_id": 47062984, "link": "https://stackoverflow.com/questions/47062984/how-to-turn-a-comma-seperated-value-txt-into-a-csv-for-machine-learning", "title": "How to turn a comma seperated value TXT into a CSV for machine learning", "body": "<p>How do I turn this format of TXT file into a CSV file?</p>\n\n<pre><code>Date,Open,high,low,close  \n1/1/2017,1,2,1,2  \n1/2/2017,2,3,2,3  \n1/3/2017,3,4,3,4  \n</code></pre>\n\n<p>I am sure you can understand? It already has the comma -eparated values.\nI tried using numpy.</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; table = np.genfromtxt(\"171028 A.txt\", comments=\"%\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\Smith\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\numpy\\lib\\npyio.py\", line 1551, in genfromtxt\n    fhd = iter(np.lib._datasource.open(fname, 'rb'))\n  File \"C:\\Users\\Smith\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\numpy\\lib\\_datasource.py\", line 151, in open\n    return ds.open(path, mode)\n  File \"C:\\Users\\Smith\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\numpy\\lib\\_datasource.py\", line 501, in open\n    raise IOError(\"%s not found.\" % path)\nOSError: 171028 A.txt not found.\n</code></pre>\n\n<p>I have (S&amp;P) 500 txt files to do this with.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 2, "creation_date": 1509567554, "post_id": 47062977, "comment_id": 81074154, "body": "Please don&#39;t name a <code>list</code> <code>&#39;array&#39;</code>."}, {"owner": {"reputation": 145, "user_id": 5034561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzI8o.jpg?s=128&g=1", "display_name": "rosannavh", "link": "https://stackoverflow.com/users/5034561/rosannavh"}, "reply_to_user": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1509567975, "post_id": 47062977, "comment_id": 81074349, "body": "@JoeIddon, no problem, changed it to list."}], "answers": [{"comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1509568671, "post_id": 47063098, "comment_id": 81074688, "body": "See my <code>edit</code> BTW for a little tip. Also, please <code>up-vote</code> if this helped! Thank you"}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 1, "last_activity_date": 1509962210, "last_edit_date": 1509962210, "creation_date": 1509567952, "answer_id": 47063098, "question_id": 47062977, "link": "https://stackoverflow.com/questions/47062977/counting-the-occurence-of-instances-of-a-certain-class-in-list-of-lists/47063098#47063098", "title": "Counting the occurence of instances of a certain class in list of lists", "body": "<h3>You can use <a href=\"https://docs.python.org/3/library/functions.html#isinstance\" rel=\"nofollow noreferrer\"><code>isinstance()</code></a></h3>\n\n<p>You can check what class an <code>element</code> is with <code>isinstance()</code>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>&gt;&gt;&gt; a = C()\n&gt;&gt;&gt; isinstance(a, C)\nTrue\n</code></pre>\n\n<p>So if you have your <code>list</code>, you can do:</p>\n\n<pre><code>occurrences_of_B = sum(isinstance(i, B) for r in list for i in r)\noccurrences_of_C = sum(isinstance(i, C) for r in list for i in r)\n</code></pre>\n\n<p>you can get the occurrences of the <code>B()</code> and <code>C()</code> <code>classes</code>.</p>\n\n<p>Essentially, we are using a <code>generator comprehension</code> to apply the <code>isinstance()</code> <code>function</code> to every <code>element</code> in the <code>list</code>. We then use <code>sum</code> on the <code>generator</code> as <code>True</code> evaluates to <code>1</code> and <code>False</code> to <code>0</code>, so we will get the total <code>count</code>.</p>\n\n<p><em>As a side note, although I said it is not good practice to name a <code>list</code> <code>'array'</code>, it is actually worse to name it exactly <code>'list'</code> as this prevents you from being able to use the <code>list()</code> <code>function</code>! Better would probably be <code>lst</code> or <code>l</code>. <strong>:)</strong></em> </p>\n"}], "owner": {"reputation": 145, "user_id": 5034561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzI8o.jpg?s=128&g=1", "display_name": "rosannavh", "link": "https://stackoverflow.com/users/5034561/rosannavh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 47063098, "answer_count": 1, "score": 1, "last_activity_date": 1509962210, "creation_date": 1509567372, "last_edit_date": 1509639019, "question_id": 47062977, "link": "https://stackoverflow.com/questions/47062977/counting-the-occurence-of-instances-of-a-certain-class-in-list-of-lists", "title": "Counting the occurence of instances of a certain class in list of lists", "body": "<p>I have list of lists in which I want to count the number of B() and C() instances and am looking for a suitable method to do this. Using collections.Counter() and the .count() function have resulted in strange results, and I suspect I do not fully understand how list of lists work in python, or how lists of class instances work in python.</p>\n\n<p>This is the list of lists:</p>\n\n<pre><code>lst = [[B() for w in range(x)] for h in range(y)]\n</code></pre>\n\n<p>with</p>\n\n<pre><code> class A():\n    def __init__(self, name):\n        self.name = name\n\n class B(A):\n     def __init__(self, name = \"B\"):\n         A.__init__(self, name)\n\n     def update(self):\n         if random.random() &lt; 0.05: \n             return C()\n         else: return self\n\n class C(A):\n     def __init__(self, name = \"C\"):\n         A.__init__(self, name)\n</code></pre>\n\n<p>And, I use the below code to randomly change <code>B()</code> instances in <code>lst</code> into <code>C()</code> instances:</p>\n\n<pre><code>for row in range(y):\n    for column in range(x):\n        lst[row][column] = lst[row][column].update()\n</code></pre>\n\n<p>How do I count the number of B() and C() instances in the list?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "pipeline"], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1509592058, "post_id": 47066401, "comment_id": 81081958, "body": "Hi Vivek, thanks a lot for your answer. I still don&#39;t quite see how it explains my log output. Your point 2 explains how I get to <code>fit step1, transform step1, fit step2, transform step2</code>. I&#39;m with you so far. Your point 4. was very helpful, I hadn&#39;t thought of that, so that explains the next <code>Transforming step 1, Transforming step 2</code>. But we still have on more <code>Transforming step 1, Transforming step 2</code> to explain before we get back to the second KFold - where my log starts over again at line 9 with the second instance of <code>Fitting step 1</code>. How do we explain those lines 7&amp;8 in my log output?"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1509601185, "post_id": 47066401, "comment_id": 81084505, "body": "@MaxPower Aah yes. I overlooked that, sorry. Thats because the GridSearchCV will also keep a recored of scores on training data. So it will again score the model based on training data, hence the repeated steps, once for testing and once for training. I will update the answer in a short while with an example. You can look at <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.html#sklearn.model_selection.GridSearchCV\" rel=\"nofollow noreferrer\"><code>GridSearchCV.cv_results_</code></a> attribute to check what metrics it keeps."}, {"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1509631550, "post_id": 47066401, "comment_id": 81102956, "body": "Thanks Vivek. With the <code>return_train_score</code> elaboration, that accounts for all the printed steps. So that&#39;s how it works. But are those last two <code>transform</code>s for <code>return_train_score</code> really required? As you point out in your point 2., &quot;for train...[we have] <code>fit step1</code>, <code>transform step1</code>, <code>fit step2</code>, <code>transform step2</code>&quot;. And then the pipeline &quot;fits the transformed data on the classifier&quot; (your 3.). At that point we already have everything we need to produce <code>train_score</code>: our fitted classifier will .predict() us train-preds. And we have train_y given. So why the extra transform steps later?"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1509632946, "post_id": 47066401, "comment_id": 81103953, "body": "@MaxPower Yes, thats what I was thinking. Thats just repeating the same steps, which is time-consuming. I think you should post this as an issue to the <a href=\"https://github.com/scikit-learn/scikit-learn/issues\" rel=\"nofollow noreferrer\">scikit-learn github</a>. This maybe an enhancement that they are already working on (I have read that they are working on caches for pipeline to reuse parts of data later, but not sure about this)  and you will get to know about."}, {"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 1, "creation_date": 1509639082, "post_id": 47066401, "comment_id": 81108650, "body": "Thanks Vivek, will do, though probably not til this weekend. Yeah I also read up a bit on <code>Pipeline</code>&#39;s memory param for caching transformers but I don&#39;t think that addresses this issue. I could be misunderstanding it though."}, {"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 1, "creation_date": 1510163058, "post_id": 47066401, "comment_id": 81321659, "body": "issue filed here: <a href=\"https://github.com/scikit-learn/scikit-learn/issues/10090\" rel=\"nofollow noreferrer\">github.com/scikit-learn/scikit-learn/issues/10090</a>"}, {"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1510173893, "post_id": 47066401, "comment_id": 81327966, "body": "answer from core dev jnothman: <code>&quot;Yes it does, and I don&#39;t think avoiding it will be easy nor worthwhile...&quot;</code>"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 0, "creation_date": 1510193397, "post_id": 47066401, "comment_id": 81334767, "body": "@MaxPower Yes. I was also thinking along the same lines. Currently they are overwhelmed with the other issues which in their opinion are more important. Thanks for notifying me about this. :)"}, {"owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "edited": false, "score": 1, "creation_date": 1510193566, "post_id": 47066401, "comment_id": 81334810, "body": "Yeah I&#39;d certainly never argue with a library dev about prioritization. Just glad I know at least why the steps happen each time now. Thanks again for the answer and follow up vivek"}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": true, "score": 5, "last_activity_date": 1509605035, "last_edit_date": 1509605035, "creation_date": 1509587951, "answer_id": 47066401, "question_id": 47062970, "link": "https://stackoverflow.com/questions/47062970/why-does-sklearn-pipeline-call-transform-so-many-more-times-than-fit/47066401#47066401", "title": "Why does sklearn Pipeline call transform() so many more times than fit()?", "body": "<p>Because you have used <code>GridSearchCV</code> with <code>cv = KFold(3)</code> which will do a cross-validation of your model. Here's what happens:</p>\n\n<ol>\n<li>It will split the data into two parts: train and test.</li>\n<li>For train, it will fit and transform each part of pipeline (excluding last, which is the classifier). Thats why you are seeing <code>fit step1, transform step1, fit step2, transform step2</code>.</li>\n<li>It will fit the transformed data on the classifier (which is not printed in your output.</li>\n<li><p><strong>Edited</strong> Now comes the scoring part. Here we dont want to re-fit the parts again. We will use the information learnt during previous fitting. So each part of the pipeline will only call transform(). Thats the reason for <code>Transforming step 1, Transforming step 2</code>.</p>\n\n<p>Its showing two times because in GridSearchCV, default behaviour is to compute the score of both training and testing data. This behaviour is geverned by <code>return_train_score</code>. You can set <code>return_train_score=False</code> and will only see them once. </p></li>\n<li><p>This transformed test data will be used to predict the output from the classifier. (Again, no fitting on test, only predicting or transforming).</p></li>\n<li>The predicted values will be used to compare with the actual values to score the model.</li>\n<li>The steps 1-6 will be repeated 3 times <code>(KFold(3))</code>.</li>\n<li><p>Now have a look at your params:</p>\n\n<p>param_grid = {'step1__multiplier': [2],   #,3],\n              'step2__meaningless_param': ['hello']   #, 'howdy', 'goodbye']\n              }</p>\n\n<p>When expanding, it becomes only single combination i.e.:</p>\n\n<p><strong>Combination1</strong>: 'step1__multiplier'=2, 'step2__meaningless_param' = 'hello'</p>\n\n<p>If you have provided more options, which you have commented more combinations would be possible like:</p>\n\n<p><strong>Combination1</strong>: 'step1__multiplier'=2, 'step2__meaningless_param' = 'hello'</p>\n\n<p><strong>Combination2</strong>: 'step1__multiplier'=3, 'step2__meaningless_param' = 'hello'</p>\n\n<p><strong>Combination3</strong>: 'step1__multiplier'=2, 'step2__meaningless_param' = 'howdy'</p>\n\n<p>and so on..</p></li>\n<li><p>The steps 1-7 will be repeated for each possible combination.</p></li>\n<li>The combination which gave highest average score on the test folds of the cross-validation will be chosen to finally fit the model with complete data (no division into train and test).</li>\n<li><p>But you have kept <code>refit=False</code> . So the model will not be fitted again. Else you would have seen one more output of </p>\n\n<p>Fitting step 1\nTransforming step 1\nFitting step 2\nTransforming step 2</p></li>\n</ol>\n\n<p>Hope this clears this up. Feel free to ask any more info.</p>\n"}], "owner": {"reputation": 6712, "user_id": 1870832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/4zazd.png?s=128&g=1", "display_name": "Max Power", "link": "https://stackoverflow.com/users/1870832/max-power"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 1, "accepted_answer_id": 47066401, "answer_count": 1, "score": 2, "last_activity_date": 1509605035, "creation_date": 1509567346, "last_edit_date": 1509568406, "question_id": 47062970, "link": "https://stackoverflow.com/questions/47062970/why-does-sklearn-pipeline-call-transform-so-many-more-times-than-fit", "title": "Why does sklearn Pipeline call transform() so many more times than fit()?", "body": "<p>After a lot of reading and inspecting the pipeline.fit() operation under different <code>verbose</code> param settings, I'm still confused why a pipeline of mine visits a certain step's <code>transform</code> method so many times.</p>\n\n<p>Below is a trivial example <code>pipeline</code>, <code>fit</code> with <code>GridSearchCV</code>, using 3-fold cross-validation, but a param-grid with only one set of hyperparams. So I expected three runs through the pipeline. Both <code>step1</code> and <code>step2</code> have <code>fit</code> called three times, as expected, but each step has <code>transform</code> called several more times. Why is this? Minimal code example and log output below.</p>\n\n<pre><code># library imports\nimport pandas as pd\nfrom sklearn import datasets\nfrom sklearn.model_selection import KFold\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.base import TransformerMixin, BaseEstimator\nfrom sklearn.pipeline import Pipeline\n\n# Load toy data\niris = datasets.load_iris()\nX = pd.DataFrame(iris.data, columns = iris.feature_names)\ny = pd.Series(iris.target, name='y')\n\n# Define a couple trivial pipeline steps\nclass mult_everything_by(TransformerMixin, BaseEstimator):\n\n    def __init__(self, multiplier=2):\n        self.multiplier = multiplier\n\n    def fit(self, X, y=None):\n        print \"Fitting step 1\"\n        return self\n\n    def transform(self, X, y=None):\n        print \"Transforming step 1\"\n        return X* self.multiplier\n\nclass do_nothing(TransformerMixin, BaseEstimator):\n\n    def __init__(self, meaningless_param = 'hello'):\n        self.meaningless_param=meaningless_param\n\n\n    def fit(self, X, y=None):\n        print \"Fitting step 2\"\n        return self\n\n    def transform(self, X, y=None):\n        print \"Transforming step 2\"\n        return X\n\n# Define the steps in our Pipeline\npipeline_steps = [('step1', mult_everything_by()),\n                  ('step2', do_nothing()), \n                  ('classifier', LogisticRegression()),\n                  ]\n\npipeline = Pipeline(pipeline_steps)\n\n# To keep this example super minimal, this param grid only has one set\n# of hyperparams, so we are only fitting one type of model\nparam_grid = {'step1__multiplier': [2],   #,3],\n              'step2__meaningless_param': ['hello']   #, 'howdy', 'goodbye']\n              }\n\n# Define model-search process/object\n# (fit one model, 3-fits due to 3-fold cross-validation)\ncv_model_search = GridSearchCV(pipeline, \n                               param_grid, \n                               cv = KFold(3),\n                               refit=False, \n                               verbose = 0) \n\n# Fit all (1) models defined in our model-search object\ncv_model_search.fit(X,y)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Fitting step 1\nTransforming step 1\nFitting step 2\nTransforming step 2\nTransforming step 1\nTransforming step 2\nTransforming step 1\nTransforming step 2\nFitting step 1\nTransforming step 1\nFitting step 2\nTransforming step 2\nTransforming step 1\nTransforming step 2\nTransforming step 1\nTransforming step 2\nFitting step 1\nTransforming step 1\nFitting step 2\nTransforming step 2\nTransforming step 1\nTransforming step 2\nTransforming step 1\nTransforming step 2\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 1049, "user_id": 722271, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1727a04aa489cb8d824b5cafbb54db86?s=128&d=identicon&r=PG", "display_name": "armundle", "link": "https://stackoverflow.com/users/722271/armundle"}, "is_accepted": true, "score": 10, "last_activity_date": 1509568200, "creation_date": 1509568200, "answer_id": 47063169, "question_id": 47062937, "link": "https://stackoverflow.com/questions/47062937/optimizer-returning-none/47063169#47063169", "title": "Optimizer returning None", "body": "<p>I don't think the <code>optimizer</code> is going to return anything. <code>optimizer.minimize</code> (or the <code>train_op</code>) will return an <a href=\"https://www.tensorflow.org/api_docs/python/tf/train/AdamOptimizer#minimize\" rel=\"noreferrer\">op</a> which will used to update the trainable weights and increment the global step.\nIf you want loss (or cost) returned, then you must <a href=\"https://www.tensorflow.org/get_started/mnist/mechanics#train_loop\" rel=\"noreferrer\">specify</a> so in <code>sess.run([..., loss, ...], ...)</code></p>\n\n<p>This is what your code may look like:</p>\n\n<pre><code>optimizer = tf.train.AdamOptimizer(learning_rate).minimize(cost)\ninit = tf.global_variables_initializer()\n\nwith tf.Session() as sess:\n    sess.run(init)\n    _, cost_value = sess.run([optimizer, cost], feed_dict={X:X_data, Y: Y_data})\n</code></pre>\n"}], "owner": {"reputation": 1920, "user_id": 4841832, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/hD1nI.jpg?s=128&g=1", "display_name": "Jsevillamol", "link": "https://stackoverflow.com/users/4841832/jsevillamol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1699, "favorite_count": 1, "accepted_answer_id": 47063169, "answer_count": 1, "score": 8, "last_activity_date": 1509568200, "creation_date": 1509567205, "question_id": 47062937, "link": "https://stackoverflow.com/questions/47062937/optimizer-returning-none", "title": "Optimizer returning None", "body": "<p>I am attempting to run an AdamOptimizer for one step of training, unsuccesfully.</p>\n\n<pre><code>optimizer = tf.train.AdamOptimizer(learning_rate).minimize(cost)\ninit = tf.global_variables_initializer()\n\nwith tf.Session() as sess:\n    sess.run(init)\n    _, cost_value = sess.run(optimizer, feed_dict={X:X_data, Y: Y_data})\n</code></pre>\n\n<p>In the code, cost is a well defined function implementing a conv NN plus a logistic loss function, using two parameters X, Y (the entry of the NN and the training labels respectively) </p>\n\n<p>When I run this, the console is informing me that the run is returning None as an output, which leaves me baffled since I expected it to return me the cost.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "tensorflow", "neural-network"], "answers": [{"tags": [], "owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "is_accepted": false, "score": 0, "last_activity_date": 1509568889, "creation_date": 1509568889, "answer_id": 47063329, "question_id": 47062932, "link": "https://stackoverflow.com/questions/47062932/value-error-while-feeding-in-neural-network/47063329#47063329", "title": "Value Error while feeding in Neural Network", "body": "<p>Your data format is incompatible with the placeholder defined as</p>\n\n<pre><code>X=tf.placeholder(tf.float32,[None,41])\n</code></pre>\n\n<p>It is probably easier to reformat your data which you feed during training/evaluation.  I don't see where you import it but you are going to need to either reshape or swap axes so that it has format (index, 41) and not (41, index) </p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "edited": false, "score": 0, "creation_date": 1509569429, "post_id": 47063341, "comment_id": 81075020, "body": "Yes ,I &#39;m facing issue for batch_y now : ValueError: Cannot feed value of shape (1,) for Tensor &#39;Softmax_13:0&#39;, which has shape &#39;(41, 3).I Tried to expand same way as you guided but resulted into error&#39;"}, {"owner": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "edited": false, "score": 0, "creation_date": 1509570132, "post_id": 47063341, "comment_id": 81075389, "body": "I tried making similar change :                                                              batch_y = np.expand_dims(np.array(target[i]),axis=0) resulting to above error"}, {"owner": {"reputation": 23294, "user_id": 2891324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d27f03cd98b59774911f8dea5ee00b?s=128&d=identicon&r=PG", "display_name": "nessuno", "link": "https://stackoverflow.com/users/2891324/nessuno"}, "reply_to_user": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "edited": false, "score": 0, "creation_date": 1509570919, "post_id": 47063341, "comment_id": 81075738, "body": "Your label is a single value, a scalar value in 0, 1, 2, isn&#39;t it? You need to one hot encode it first, in order to get a tensor with shape <code>3</code>. Then you have to extract a single value from the <code>target[i]</code> array to use the right (and single) label for the one same you feed into the network. However, you could ask a new question for this second problem."}, {"owner": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "edited": false, "score": 0, "creation_date": 1509573674, "post_id": 47063341, "comment_id": 81076949, "body": "Sir I one hot encoded it But i don&#39;t know to retrieve it  and get the tensor in shape."}, {"owner": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "edited": false, "score": 0, "creation_date": 1509606525, "post_id": 47063341, "comment_id": 81086774, "body": "<a href=\"https://stackoverflow.com/questions/47068683/feeding-labels-with-one-hot-encoded-vectors-in-neural-network\" title=\"feeding labels with one hot encoded vectors in neural network\">stackoverflow.com/questions/47068683/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23294, "user_id": 2891324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d27f03cd98b59774911f8dea5ee00b?s=128&d=identicon&r=PG", "display_name": "nessuno", "link": "https://stackoverflow.com/users/2891324/nessuno"}, "is_accepted": true, "score": 0, "last_activity_date": 1509568949, "creation_date": 1509568949, "answer_id": 47063341, "question_id": 47062932, "link": "https://stackoverflow.com/questions/47062932/value-error-while-feeding-in-neural-network/47063341#47063341", "title": "Value Error while feeding in Neural Network", "body": "<p>You're right, you just have to reshape your input values in order to make them compatible with the placeholder's shape.</p>\n\n<p>Your placeholder has shape <code>(?,41)</code> that means any batch size, with 41 values. Your input is, instead, with a shape of <code>41</code>.</p>\n\n<p>It's clear that the batch dimension is missing. Just add a 1 dimension to your input and you'll be fine:</p>\n\n<pre><code>batch_x = np.expand_dims(np.array(feature.iloc[i, :].values.tolist()), axis=0)\n</code></pre>\n\n<p>Note that probably you have to add a 1 dimension to your <code>batch_y</code> variable too. (for the same reason described above)</p>\n"}], "owner": {"reputation": 153, "user_id": 7853074, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/152792ccb135852817af7b6be617d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "vidit02100", "link": "https://stackoverflow.com/users/7853074/vidit02100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1509601346, "accepted_answer_id": 47063341, "answer_count": 2, "score": 0, "last_activity_date": 1509572302, "creation_date": 1509567172, "last_edit_date": 1509572302, "question_id": 47062932, "link": "https://stackoverflow.com/questions/47062932/value-error-while-feeding-in-neural-network", "closed_reason": "Not suitable for this site", "title": "Value Error while feeding in Neural Network", "body": "<p>I have programmed a multi-layer neural network but I'm getting an error while feeding my dimension into it. I'm getting a Value Error.</p>\n\n<p>Here is The Code:</p>\n\n<pre><code>import pandas as pd\nimport tensorflow as tf\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom sklearn import datasets\nfrom sklearn import metrics\nfrom sklearn import model_selection\nfrom sklearn import preprocessing\n\n\n# In[207]:\n\ndf =pd.read_csv(\"train_data.csv\")\n\n\n# In[252]:\n\ntarget = df[\"target\"]\nfeat=df.drop(['target','connection_id'],axis=1)\ntarget[189]\n\n\n# In[209]:\n\nlen(feature.columns)\n\n\n\n# In[210]:\n\nlogs_path=\"Server_attack\"\n\n\n# In[211]:\n\n#Hyperparameters\nbatch_size=100\nlearning_rate=0.5\ntraining_epochs=10\n\n\n# In[244]:\n\nX=tf.placeholder(tf.float32,[None,41])\nY_=tf.placeholder(tf.float32,[None,3])\nlr=tf.placeholder(tf.float32)\n\n\n# In[245]:\n\n#5Layer Neural Network\nL=200\nM=100\nN=60\nO=30\n\n\n# In[257]:\n\n#Weights and Biases\nW1=tf.Variable(tf.truncated_normal([41,L],stddev=0.1))\nB1=tf.Variable(tf.ones([L]))\nW2=tf.Variable(tf.truncated_normal([L,M],stddev=0.1))\nB2=tf.Variable(tf.ones([M]))\nW3=tf.Variable(tf.truncated_normal([M,N],stddev=0.1))\nB3=tf.Variable(tf.ones([N]))\nW4=tf.Variable(tf.truncated_normal([N,O],stddev=0.1))\nB4=tf.Variable(tf.ones([O]))\nW5=tf.Variable(tf.truncated_normal([O,3],stddev=0.1))\nB5=tf.Variable(tf.ones([3]))               \n\n\n\n# In[247]:\n\nY1=tf.nn.relu(tf.matmul(X,W1)+B1)\nY2=tf.nn.relu(tf.matmul(Y1,W2)+B2)\nY3=tf.nn.relu(tf.matmul(Y2,W3)+B3)\nY4=tf.nn.relu(tf.matmul(Y3,W4)+B4)\nYlogits=tf.nn.relu(tf.matmul(Y4,W5)+B5)\nY=tf.nn.softmax(Ylogits)\n\n\n# In[216]:\n\ncross_entropy = tf.nn.softmax_cross_entropy_with_logits(logits=Ylogits,labels=Y_)\ncross_entropy = tf.reduce_mean(cross_entropy)\n\n\n# In[217]:\n\ncorrect_prediction=tf.equal(tf.argmax(Y,1),tf.argmax(Y_,1))\naccuracy=tf.reduce_mean(tf.cast(correct_prediction,tf.float32))\n\n\n# In[218]:\n\ntrain_step=tf.train.AdamOptimizer(learning_rate).minimize(cross_entropy)\n\n\n# In[219]:\n\n#TensorBoard Parameters\ntf.summary.scalar(\"cost\",cross_entropy)\ntf.summary.scalar(\"accuracy\",accuracy)\nsummary_op=tf.summary.merge_all()\n\n\n# In[220]:\n\ninit = tf.global_variables_initializer()\nsess=tf.Session()\nsess.run(init)\n\n\n# In[253]:\n\nwith tf.Session() as sess:\n    sess.run(init)\n    writer = tf.summary.FileWriter(logs_path,graph=tf.get_default_graph())\n    for epoch in range(training_epochs):\n        batch_count=int(len(feature)/batch_size)\n        for i in range(batch_count):\n\n\n            batch_x,batch_y=feature.iloc[i, :].values.tolist(),target[i]\n\n            _,summary = sess.run([train_step,summary_op],\n                                 {X:batch_x,Y:batch_y,learning_rate:0.001}\n                                )\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>ValueError: Cannot feed value of shape (41,) for Tensor 'Placeholder_24:0', which has shape '(?, 41)'\n</code></pre>\n\n<p>I need to reshape I guess.</p>\n"}, {"tags": ["python", "discord.py"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1509567261, "post_id": 47062900, "comment_id": 81074020, "body": "<code>time != int</code> etc doesn&#39;t make sense. Wrap it in a try/except.."}, {"owner": {"reputation": 115, "user_id": 7431658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210943461199680/picture?type=large", "display_name": "Kai Jones", "link": "https://stackoverflow.com/users/7431658/kai-jones"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1509567635, "post_id": 47062900, "comment_id": 81074199, "body": "Are you able to elaborate a bit more on this? I have googled try/except but am confused as to how it would fit in with the code."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1509567854, "post_id": 47062900, "comment_id": 81074284, "body": "I&#39;m on my phone so i cant write an answer. But your current approach is checking whether something is equal to a built-in method. Instead, use try/except to try cast your input to an int"}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 8240691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aVEiV.png?s=128&g=1", "display_name": "Luke McPuke", "link": "https://stackoverflow.com/users/8240691/luke-mcpuke"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1509568480, "post_id": 47063092, "comment_id": 81074587, "body": "I don&#39;t think I understand what OP is actually asking. It seems like they need to be using try/except or assertions for their input, but their error message makes it seem like they didn&#39;t include a necessary argument in a function besides this raffle()."}, {"owner": {"reputation": 115, "user_id": 7431658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210943461199680/picture?type=large", "display_name": "Kai Jones", "link": "https://stackoverflow.com/users/7431658/kai-jones"}, "edited": false, "score": 0, "creation_date": 1509568617, "post_id": 47063092, "comment_id": 81074660, "body": "What I am looking for is a way to check if the three inputs following the !raffle are valid. eg time and winners being integers and title not being blank."}, {"owner": {"reputation": 196, "user_id": 8240691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aVEiV.png?s=128&g=1", "display_name": "Luke McPuke", "link": "https://stackoverflow.com/users/8240691/luke-mcpuke"}, "reply_to_user": {"reputation": 115, "user_id": 7431658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210943461199680/picture?type=large", "display_name": "Kai Jones", "link": "https://stackoverflow.com/users/7431658/kai-jones"}, "edited": false, "score": 0, "creation_date": 1509569174, "post_id": 47063092, "comment_id": 81074915, "body": "@KaiJones Then yes, <code>assert type(time) == int, &#39;time argument is not an integer&#39;</code> or using <code>isinstance</code> to the same effect will work. Your code for title should work fine."}], "tags": [], "owner": {"reputation": 196, "user_id": 8240691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aVEiV.png?s=128&g=1", "display_name": "Luke McPuke", "link": "https://stackoverflow.com/users/8240691/luke-mcpuke"}, "is_accepted": false, "score": -1, "last_activity_date": 1509567928, "creation_date": 1509567928, "answer_id": 47063092, "question_id": 47062900, "link": "https://stackoverflow.com/questions/47062900/discord-py-check-if-input-is-int/47063092#47063092", "title": "Discord.py check if input is int", "body": "<p>Try using <code>isinstance</code> instead:</p>\n\n<pre><code>if not isinstance(time, int)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 7431658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210943461199680/picture?type=large", "display_name": "Kai Jones", "link": "https://stackoverflow.com/users/7431658/kai-jones"}, "edited": false, "score": 0, "creation_date": 1509570502, "post_id": 47063452, "comment_id": 81075546, "body": "Thank you for your reply I think I get what you mean. I have the following code now with your changes but am still getting the same issue. If I just put !raffle I get a console error and if I put !raffle 6 I get sent to the else part of the statement. <a href=\"https://pastebin.com/0MMFJUwi\" rel=\"nofollow noreferrer\">CODE</a>"}], "tags": [], "owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "is_accepted": false, "score": 0, "last_activity_date": 1509569413, "creation_date": 1509569413, "answer_id": 47063452, "question_id": 47062900, "link": "https://stackoverflow.com/questions/47062900/discord-py-check-if-input-is-int/47063452#47063452", "title": "Discord.py check if input is int", "body": "<p>What you are defining is actually two checks. The first is that you want to ensure there are 3 arguments to your command, and the second is to ensure that the first two are ints.</p>\n\n<p>The first one is actually handled by ext.commands internally. To catch it, you will need to define an <code>on_command_error</code> event method.</p>\n\n<pre><code>@bot.event\ndef on_command_error(exc, ctx):\n    if isinstance(exc, commands.errors.MissingRequiredArgument):\n        # Send a message here\n        return\n\n    # If nothing is caught, reraise the error so that it goes to console.\n    raise exc\n</code></pre>\n\n<p>The second is checking the ints, which as @Luke McPuke said is simply</p>\n\n<pre><code>if not isinstance(time, int)\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 7431658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10210943461199680/picture?type=large", "display_name": "Kai Jones", "link": "https://stackoverflow.com/users/7431658/kai-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1697, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1509569413, "creation_date": 1509567041, "question_id": 47062900, "link": "https://stackoverflow.com/questions/47062900/discord-py-check-if-input-is-int", "title": "Discord.py check if input is int", "body": "<p>I am trying to write a raffle command for my bot using discord.py and want it so the user can do the following command to start a raffle:</p>\n\n<p>!raffle time winners title EG: !raffle 60 1 Pie</p>\n\n<p>The issue I am having is creating validation to check that the first two inputs are numbers and that the title isn't blank. Currently this is the code I have for the command:</p>\n\n<pre><code>@bot.command(pass_context=True)\nasync def raffle(ctx, time, winners, title):    \n\n    if time != int or winners != int or title != \"\":\n        await bot.say(\"{} raffle has been started for {} seconds and there will be {} winner(s)!\".format(title, time, winners))\n    else:\n        await bot.say(\"Seems you went wrong! Raffle format is: !raffle time winners title\")\n        return\n</code></pre>\n\n<p>However I am having no luck and am getting the following error:</p>\n\n<pre><code>Ignoring exception in command raffle\nTraceback (most recent call last):\n  File \"C:\\Users\\kairj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\discord\\ext\\commands\\bot.py\", line 846, in process_commands\n    yield from command.invoke(ctx)\n  File \"C:\\Users\\kairj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 367, in invoke\n    yield from self.prepare(ctx)\n  File \"C:\\Users\\kairj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 345, in prepare\n    yield from self._parse_arguments(ctx)\n  File \"C:\\Users\\kairj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 304, in _parse_arguments\n    transformed = yield from self.transform(ctx, param)\n  File \"C:\\Users\\kairj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 212, in transform\n    raise MissingRequiredArgument('{0.name} is a required argument that is missing.'.format(param))\ndiscord.ext.commands.errors.MissingRequiredArgument: time is a required argument that is missing.\n</code></pre>\n\n<p>Any help would be great as I am sure its a simple mistake somewhere!</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1509567102, "post_id": 47062899, "comment_id": 81073930, "body": "This is creating and unpacking tuples. This seems a good tutorial: <a href=\"https://www.tutorialspoint.com/python/python_tuples.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/python/python_tuples.htm</a>"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1509567152, "post_id": 47062899, "comment_id": 81073964, "body": "And in this case it assigns two variables at once"}, {"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1509567482, "post_id": 47062899, "comment_id": 81074122, "body": "@quamrana I don&#39;t think the purpose here is to create a tuple. It is just creating two variables in this script."}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1509567600, "post_id": 47062899, "comment_id": 81074183, "body": "But I think, technically, a tuple is created and unpacked in order that two assignments are performed in one line."}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1509567455, "post_id": 47062945, "comment_id": 81074111, "body": "<code>(&#39;some&#39;, &#39;values&#39;)</code> is also a tuple, an immutable comma-separated list of values"}, {"owner": {"reputation": 158, "user_id": 6576351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94f05dcea7945eae7490a9edf2e1a53?s=128&d=identicon&r=PG&f=1", "display_name": "kar", "link": "https://stackoverflow.com/users/6576351/kar"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1509567641, "post_id": 47062945, "comment_id": 81074204, "body": "ok I helped him with the key word to google : &quot;I&#39;ve never seen this usage of commas in Python before and I&#39;m not sure how to Google this&quot; . I only answered part of his answer. I have edited my answer"}], "tags": [], "owner": {"reputation": 158, "user_id": 6576351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f94f05dcea7945eae7490a9edf2e1a53?s=128&d=identicon&r=PG&f=1", "display_name": "kar", "link": "https://stackoverflow.com/users/6576351/kar"}, "is_accepted": false, "score": 0, "last_activity_date": 1509567680, "last_edit_date": 1509567680, "creation_date": 1509567228, "answer_id": 47062945, "question_id": 47062899, "link": "https://stackoverflow.com/questions/47062899/why-declare-objects-separated-by-commas/47062945#47062945", "title": "Why declare objects separated by commas?", "body": "<p>keyword to google is 'tuple' . Its a immutable comma seperated list of values</p>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1509567397, "post_id": 47062974, "comment_id": 81074082, "body": "I mean, sure, but this doesn&#39;t really address the syntax at all."}], "tags": [], "owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1509567365, "creation_date": 1509567365, "answer_id": 47062974, "question_id": 47062899, "link": "https://stackoverflow.com/questions/47062899/why-declare-objects-separated-by-commas/47062974#47062974", "title": "Why declare objects separated by commas?", "body": "<p>This is a single command to assign values to two variables. It will be same as</p>\n\n<pre><code>id = id+1\nnow = time.ctime()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7206708, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e8b77863231a2179bf94bbdc54a02da2?s=128&d=identicon&r=PG&f=1", "display_name": "Quake", "link": "https://stackoverflow.com/users/7206708/quake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1509567592, "answer_count": 2, "score": 0, "last_activity_date": 1509567680, "creation_date": 1509566998, "question_id": 47062899, "link": "https://stackoverflow.com/questions/47062899/why-declare-objects-separated-by-commas", "closed_reason": "Duplicate", "title": "Why declare objects separated by commas?", "body": "<p>What is the purpose of this line?</p>\n\n<blockquote>\n  <p>id, now = id+1, time.ctime()</p>\n</blockquote>\n\n<p>I've never seen this usage of commas in Python before and I'm not sure how to Google this.</p>\n\n<pre><code>import zmq\nimport time\n\n# ZeroMQ Context\ncontext = zmq.Context()\n\n# Define the socket using the \"Context\"\nsock = context.socket(zmq.PUSH)\nsock.bind(\"tcp://127.0.0.1:5690\")\n\nid = 0\n\nwhile True:\n    time.sleep(1)\nid, now = id+1, time.ctime()\n\n# Message [id] - [message]\nmessage = \"{id} - {time}\".format(id=id, time=now)\n\nsock.send(message)\n\nprint \"Sent: {msg}\".format(msg=message)\n</code></pre>\n"}, {"tags": ["python", "email", "gmail", "gmail-imap", "imaplib"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1509578295, "post_id": 47062882, "comment_id": 81078488, "body": "Are you using Python 3?"}, {"owner": {"reputation": 251, "user_id": 6492851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm9t7.jpg?s=128&g=1", "display_name": "Dmitrii K", "link": "https://stackoverflow.com/users/6492851/dmitrii-k"}, "reply_to_user": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1509587400, "post_id": 47062882, "comment_id": 81080831, "body": "@ElisByberi, yes"}], "answers": [{"tags": [], "owner": {"reputation": 5995, "user_id": 5995040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wp8l0.png?s=128&g=1", "display_name": "Mr.Rebot", "link": "https://stackoverflow.com/users/5995040/mr-rebot"}, "is_accepted": false, "score": 0, "last_activity_date": 1509637293, "creation_date": 1509637293, "answer_id": 47079273, "question_id": 47062882, "link": "https://stackoverflow.com/questions/47062882/cant-save-new-message-to-drafts-in-gmail/47079273#47079273", "title": "Can&#39;t save new message to Drafts in gmail", "body": "<p>If you are using Python library here is the <a href=\"https://developers.google.com/gmail/api/guides/drafts\" rel=\"nofollow noreferrer\">code snippet</a>:</p>\n\n<pre><code>def create_message(sender, to, subject, message_text):\n  \"\"\"Create a message for an email.\n\n  Args:\n    sender: Email address of the sender.\n    to: Email address of the receiver.\n    subject: The subject of the email message.\n    message_text: The text of the email message.\n\n  Returns:\n    An object containing a base64url encoded email object.\n  \"\"\"\n  message = MIMEText(message_text)\n  message['to'] = to\n  message['from'] = sender\n  message['subject'] = subject\n  return {'raw': base64.urlsafe_b64encode(message.as_string())}\n</code></pre>\n\n<p>Once you have created a <strong><code>Message</code></strong> object, you can pass it to the <strong><code>drafts.create</code></strong> method to create a <strong><code>Draft</code></strong> object.</p>\n\n<pre><code>def create_draft(service, user_id, message_body):\n  \"\"\"Create and insert a draft email. Print the returned draft's message and id.\n\n  Args:\n    service: Authorized Gmail API service instance.\n    user_id: User's email address. The special value \"me\"\n    can be used to indicate the authenticated user.\n    message_body: The body of the email message, including headers.\n\n  Returns:\n    Draft object, including draft id and message meta data.\n  \"\"\"\n  try:\n    message = {'message': message_body}\n    draft = service.users().drafts().create(userId=user_id, body=message).execute()\n\n    print 'Draft id: %s\\nDraft message: %s' % (draft['id'], draft['message'])\n\n    return draft\n  except errors.HttpError, error:\n    print 'An error occurred: %s' % error\n    return None\n</code></pre>\n\n<p>Also, here is a <a href=\"https://stackoverflow.com/a/606199/5995040\">related SO post</a> that stated: you have decode the bytes object to produce a string.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 251, "user_id": 6492851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm9t7.jpg?s=128&g=1", "display_name": "Dmitrii K", "link": "https://stackoverflow.com/users/6492851/dmitrii-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509637293, "creation_date": 1509566959, "last_edit_date": 1509607524, "question_id": 47062882, "link": "https://stackoverflow.com/questions/47062882/cant-save-new-message-to-drafts-in-gmail", "title": "Can&#39;t save new message to Drafts in gmail", "body": "<p>I am trying to create and save message to Drafts in gmail, but nothing happen.</p>\n\n<pre><code>import time\nimport random\nfrom email.mime.application import MIMEApplication\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nimport imaplib\n\ndef save_draft(email_to, body, login, password, image):\n    msg = MIMEMultipart(\"alternative\")\n    msg.set_charset(\"utf-8\")\n    msg.attach(MIMEText(body, \"plain\", \"utf-8\"))\n    msg['Subject'] = SUBJECT\n    msg['From'] = login\n    msg['To'] = email_to\n    with open(image, 'rb') as f:\n        part = MIMEApplication(\n            f.read(),\n            Name=image\n        )\n    part['Content-Disposition'] = 'attachment; filename={}'.format(IMAGE)\n    msg.attach(part)\n\n    imap = imaplib.IMAP4_SSL(\"imap.gmail.com\", 993)\n    imap.login(login, password)\n    imap.select('[Gmail]/Drafts')\n\n    now = imaplib.Time2Internaldate(time.time())\n    imap.append('[Gmail]/Drafts',\n                '',\n                now,\n                msg.as_bytes())\n    imap.logout()\n</code></pre>\n\n<p>When I am changing msg.as_bytes() to msg.as_string(), I got the error below:</p>\n\n<pre><code>TypeError: cannot use a bytes pattern on a string-like object\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "edited": false, "score": 0, "creation_date": 1509640304, "post_id": 47063146, "comment_id": 81109474, "body": "Thanks, in testing this returns: <code>KeyError: &#39;condition&#39;</code>. The pt1.columns are:  <code>MultiIndex(levels=[[&#39;CAS&#39;, &#39;TET&#39;, &#39;WT&#39;, &#39;mean&#39;], [0, 1, 2, 3, 4, 5, &#39;&#39;]],            labels=[[0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 3], [0, 1, 2, 0, 1, 2, 3, 4, 5, 0, 1, 2, 6]],            names=[&#39;condition&#39;, &#39;replicate&#39;])</code>"}, {"owner": {"reputation": 732, "user_id": 3583775, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/16390e9953b446cd80715c4d32960c92?s=128&d=identicon&r=PG&f=1", "display_name": "Hound", "link": "https://stackoverflow.com/users/3583775/hound"}, "reply_to_user": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "edited": false, "score": 1, "creation_date": 1509640891, "post_id": 47063146, "comment_id": 81109844, "body": "Ok, try <code>pt1.merge(df1, how=left, left_index=True, right_on =&#39;test_id&#39;)</code>"}, {"owner": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "edited": false, "score": 0, "creation_date": 1509645110, "post_id": 47063146, "comment_id": 81112489, "body": "I think we&#39;re getting closer. The output is column-based instead of a pivot table: <code>,&quot;(&#39;CAS&#39;, 0)&quot;,&quot;(&#39;CAS&#39;, 1)&quot;,&quot;(&#39;CAS&#39;, 2)&quot;,&quot;(&#39;TET&#39;, 0)&quot;,&quot;(&#39;TET&#39;, 1)&quot;,&quot;(&#39;TET&#39;, 2)&quot;,&quot;(&#39;TET&#39;, 3)&quot;,&quot;(&#39;TET&#39;, 4)&quot;,&quot;(&#39;TET&#39;, 5)&quot;,&quot;(&#39;WT&#39;, 0)&quot;,&quot;(&#39;WT&#39;, 1)&quot;,&quot;(&#39;WT&#39;, 2)&quot;,&quot;(&#39;mean&#39;, &#39;&#39;)&quot;,test_id,gene,significant</code>. Is it possible to maintain the pivot table?"}, {"owner": {"reputation": 732, "user_id": 3583775, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/16390e9953b446cd80715c4d32960c92?s=128&d=identicon&r=PG&f=1", "display_name": "Hound", "link": "https://stackoverflow.com/users/3583775/hound"}, "reply_to_user": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "edited": false, "score": 0, "creation_date": 1509645844, "post_id": 47063146, "comment_id": 81112900, "body": "Hmm, I don&#39;t think you can do that with merge. Could you add the gene column to your dataframe before you pivot the data?"}], "tags": [], "owner": {"reputation": 732, "user_id": 3583775, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/16390e9953b446cd80715c4d32960c92?s=128&d=identicon&r=PG&f=1", "display_name": "Hound", "link": "https://stackoverflow.com/users/3583775/hound"}, "is_accepted": false, "score": 1, "last_activity_date": 1509568117, "creation_date": 1509568117, "answer_id": 47063146, "question_id": 47062868, "link": "https://stackoverflow.com/questions/47062868/filter-pivot-table-based-on-dataframe/47063146#47063146", "title": "Filter Pivot Table based on Dataframe", "body": "<pre><code>pt1.merge(df1, how=left, left_on='condition', right_on ='test_id')\n</code></pre>\n"}], "owner": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1509568117, "creation_date": 1509566899, "question_id": 47062868, "link": "https://stackoverflow.com/questions/47062868/filter-pivot-table-based-on-dataframe", "title": "Filter Pivot Table based on Dataframe", "body": "<p>I am trying to filter a Pandas pivot table based on a Pandas dataframe. For example:</p>\n\n<p>df1</p>\n\n<pre><code>test_id                 gene\nENSMUSG00000000001.4    Gnai7\nENSMUSG00000000003.15   Pbsa\nENSMUSG00000000028.14   Cdc4\n</code></pre>\n\n<p>pt1</p>\n\n<pre><code>condition               CAS     CAS     CAS\nreplicate               0       1       2\ntracking_id                                                 \nENSMUSG00000000001.4    45.25   46.55   49.88\nENSMUSG00000000028.14   1.51    1.63    1.62\nENSMUSG00000000031.15   16.99   17.54   18.69\n</code></pre>\n\n<p>output</p>\n\n<pre><code>condition               CAS     CAS     CAS     gene\nreplicate               0       1       2\ntracking_id                                                 \nENSMUSG00000000001.4    45.25   46.55   49.88   Gnai7\nENSMUSG00000000028.14   1.51    1.63    1.62    Cdc4\n</code></pre>\n\n<p>The <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\">merge</a> method seems like a potential solution by using the <code>test_id</code> and <code>tracking_id</code> as keys. Although I'm not sure how to also include the <code>gene</code> column in the output too.</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1509569664, "post_id": 47062835, "comment_id": 81075132, "body": "What is your question?"}, {"owner": {"reputation": 1172, "user_id": 4784560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZAAHs.jpg?s=128&g=1", "display_name": "Christian Will", "link": "https://stackoverflow.com/users/4784560/christian-will"}, "edited": false, "score": 0, "creation_date": 1509573472, "post_id": 47062835, "comment_id": 81076875, "body": "Can add you the <code>if statement</code> you mentioned you tried to change <code>0</code> values to <code>100</code>, but it&#39;s not working? We don&#39;t see the code you tried. That the code raises an error for input <code>0</code> is expected follow the documentation here: <a href=\"https://docs.python.org/2/library/winsound.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/winsound.html</a>. <code>The frequency parameter specifies frequency, in hertz, of the sound, and must be in the range 37 through 32,767.</code>"}, {"owner": {"reputation": 67, "user_id": 8840309, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-UPthcoewmbo/AAAAAAAAAAI/AAAAAAAAAaw/E-WAQFoGjXo/photo.jpg?sz=128", "display_name": "Owen Strand", "link": "https://stackoverflow.com/users/8840309/owen-strand"}, "reply_to_user": {"reputation": 1172, "user_id": 4784560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZAAHs.jpg?s=128&g=1", "display_name": "Christian Will", "link": "https://stackoverflow.com/users/4784560/christian-will"}, "edited": false, "score": 0, "creation_date": 1509578367, "post_id": 47062835, "comment_id": 81078517, "body": "@ChristianWill Ok. I added it."}, {"owner": {"reputation": 1172, "user_id": 4784560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZAAHs.jpg?s=128&g=1", "display_name": "Christian Will", "link": "https://stackoverflow.com/users/4784560/christian-will"}, "edited": false, "score": 0, "creation_date": 1509588397, "post_id": 47062835, "comment_id": 81081036, "body": "Remember that = is an assignment operator and == is a comparison operator. <code>FREQUENCY == 100</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1172, "user_id": 4784560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZAAHs.jpg?s=128&g=1", "display_name": "Christian Will", "link": "https://stackoverflow.com/users/4784560/christian-will"}, "is_accepted": true, "score": 0, "last_activity_date": 1509588493, "creation_date": 1509588493, "answer_id": 47066467, "question_id": 47062835, "link": "https://stackoverflow.com/questions/47062835/python-2-7-trouble-with-winsound-frequency/47066467#47066467", "title": "Python 2.7 Trouble with winsound frequency", "body": "<p>A common error is to use a single equal sign <code>=</code> instead of a double equal sign <code>==</code> or the other way around. Remember that <code>=</code> is an assignment operator and <code>==</code> is a comparison operator.</p>\n"}], "owner": {"reputation": 67, "user_id": 8840309, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-UPthcoewmbo/AAAAAAAAAAI/AAAAAAAAAaw/E-WAQFoGjXo/photo.jpg?sz=128", "display_name": "Owen Strand", "link": "https://stackoverflow.com/users/8840309/owen-strand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 1, "accepted_answer_id": 47066467, "answer_count": 1, "score": 2, "last_activity_date": 1510370182, "creation_date": 1509566766, "last_edit_date": 1510370182, "question_id": 47062835, "link": "https://stackoverflow.com/questions/47062835/python-2-7-trouble-with-winsound-frequency", "title": "Python 2.7 Trouble with winsound frequency", "body": "<p>I'm making a program where you enter a list of integers, it changes your integers into notes, and then plays those notes in order. But, if you enter zero and set the frequency to zero, the program crashes. I've tried adding an if statement that changes the frequency to 100 if this happens, but no luck.</p>\n\n<p>the following is my code:</p>\n\n<pre><code>import winsound\n\nFREQUENCY = 0\nNOTES_PROMPT = \"Enter a list of integers: \"\nDURATION_PROMPT = \"Duration: \"\n\ndef line_break():\n    print(\"\")\n\ndef play_music():\n    notes = raw_input(NOTES_PROMPT)\n    duration = raw_input(DURATION_PROMPT)\n    map(int, str(notes))\n    map(int, str(duration))\n\nfor i in range(len(notes)):\n    FREQUENCY = int(notes[i]) * 250\n    if FREQUENCY == 0:\n        FREQUENCY == 100\n    line_break()\n    print(str(notes[i]))\n    winsound.Beep(FREQUENCY, int(duration))\n\nwhile True:\n    play_music()\n    line_break()\n</code></pre>\n"}, {"tags": ["python", "google-chrome", "selenium", "selenium-chromedriver", "google-chrome-headless"], "comments": [{"owner": {"reputation": 8717, "user_id": 3124333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MCMEh.jpg?s=128&g=1", "display_name": "SiKing", "link": "https://stackoverflow.com/users/3124333/siking"}, "edited": false, "score": 0, "creation_date": 1509570458, "post_id": 47062808, "comment_id": 81075530, "body": "What certificate are you using on your https server? You might be interested in this <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=721739\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromium/issues/detail?id=721739</a>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1509601074, "post_id": 47062808, "comment_id": 81084469, "body": "How are you implementing <code>wait of 30 seconds</code>?"}, {"owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1509737527, "post_id": 47062808, "comment_id": 81156705, "body": "@DebanjanB I was using time.sleep(30)."}, {"owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1509740376, "post_id": 47062808, "comment_id": 81158104, "body": "@DebanjanB I&#39;ve also tried <code>self.browser.implicitly_wait(30)</code>, and that hasn&#39;t worked either."}], "owner": {"reputation": 107, "user_id": 6132064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef6cee282e64c4d2b2e4b8c4d3f3af9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba Wernerowski", "link": "https://stackoverflow.com/users/6132064/kuba-wernerowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1523390560, "creation_date": 1509566671, "question_id": 47062808, "link": "https://stackoverflow.com/questions/47062808/script-fails-to-run-when-run-in-headless-chrome-but-works-fine-when-headed", "title": "Script fails to run when run in headless chrome, but works fine when headed", "body": "<p>I'm setting up my init method like this.</p>\n\n<pre><code>def __init__(self, ip_address):\n    \"\"\" Initialize a new Printer_Webpage object.\"\"\"\n    self.ip_address = ip_address\n\n    chrome_options = Options()\n    chrome_options.add_argument(\"--headless\")\n    chrome_options.add_argument(\"--disable-gpu\")\n    self.browser = webdriver.Chrome(chrome_options=chrome_options)\n    # Ignore lack of cert for each printer web page.\n    # Otherwise, can't open page.\n    self.browser.accept_untrusted_certs = True\n</code></pre>\n\n<p>And accessing the printer like this.</p>\n\n<pre><code>def login(self):\n    \"\"\"Navigates through the login page for the printer.\"\"\"\n    # Open login page\n    self.browser.get(f'https://{self.ip_address}/wcd/top.xml')\n\n    # STEPS TO LOGIN:\n    # 1) Select 'Administrator' radio button and click.\n    self.browser.find_element_by_id('Admin').click()\n    # 2) Select Login button and click.\n    self.browser.find_element_by_xpath(\"//input[@type='submit' \\\n                                        and @value='Login']\").click()\n    # 3) Select admin (user mode)\n    self.browser.find_element_by_id('R_ADM2').click()\n    # 4) Select password field and input PASSWORD, then submit.\n    password_field = self.browser.find_element_by_id('Admin_Pass')\n    password_field.send_keys(PASSWORD)\n    password_field.send_keys(Keys.RETURN)\n</code></pre>\n\n<p>The whole script runs fine in headed chrome, but when run headless I get this error:</p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"id\",\"selector\":\"Admin\"}\n</code></pre>\n\n<p>Initially I thought that perhaps the elements hadn't loaded yet (takes a few seconds when run headed), but even a wait of 30 seconds doesn't help.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "sockets"], "comments": [{"owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "edited": false, "score": 2, "creation_date": 1509566676, "post_id": 47062797, "comment_id": 81073706, "body": "The server should bind to <code>&quot;&quot;</code>."}, {"owner": {"reputation": 5000, "user_id": 8405835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sN3eq.png?s=128&g=1", "display_name": "Abhijit Pritam Dutta", "link": "https://stackoverflow.com/users/8405835/abhijit-pritam-dutta"}, "edited": false, "score": 0, "creation_date": 1509566761, "post_id": 47062797, "comment_id": 81073751, "body": "Might be a firewall issue."}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1509569722, "post_id": 47062797, "comment_id": 81075166, "body": "what does &quot;does not work&quot; mean"}], "answers": [{"tags": [], "owner": {"reputation": 237, "user_id": 8862968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9nTuJrTpQIA/AAAAAAAAAAI/AAAAAAAAADI/snqQT_gKyss/photo.jpg?sz=128", "display_name": "Yardid", "link": "https://stackoverflow.com/users/8862968/yardid"}, "is_accepted": false, "score": 0, "last_activity_date": 1509567315, "creation_date": 1509567315, "answer_id": 47062963, "question_id": 47062797, "link": "https://stackoverflow.com/questions/47062797/python-socket-client-doesn%c2%b4t-work-in-other-pc/47062963#47062963", "title": "Python Socket client doesn&#180;t work in other PC", "body": "<p>these should be like this on the server</p>\n\n<pre><code>host = socket.gethostname()                           \nport = 8080   \n</code></pre>\n\n<p>chances are the client looks like this</p>\n\n<pre><code>host = '10.0.0.101'\nport = 8080\n</code></pre>\n\n<p>ip addresses within the same network are different from outside the network. In my example, my router is 10.0.0.1 (default for my provider). To access another computer in my network i would use 10.0.0.(whatever the router assigns to the server computer). In command prompt, type in ipconfig and find ipv4 address. this should be what you are looking for</p>\n"}, {"tags": [], "owner": {"reputation": 2337, "user_id": 8399399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab615d520e7a74d4faf66f663ce66ec0?s=128&d=identicon&r=PG&f=1", "display_name": "SP SP", "link": "https://stackoverflow.com/users/8399399/sp-sp"}, "is_accepted": false, "score": 0, "last_activity_date": 1509581728, "creation_date": 1509581728, "answer_id": 47065609, "question_id": 47062797, "link": "https://stackoverflow.com/questions/47062797/python-socket-client-doesn%c2%b4t-work-in-other-pc/47065609#47065609", "title": "Python Socket client doesn&#180;t work in other PC", "body": "<p>If you want another pc to connect to the server the server ip must be '' or '0.0.0.0' Try this:</p>\n\n<h1>Server:</h1>\n\n<pre><code>IP = ''\nPORT = 8080 \n\n\nserver = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \nserver.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) \nserver.bind((IP, PORT)) \nserver.listen(4) \n(conn, (ip,port)) = server.accept()\n</code></pre>\n\n<h1>Client:</h1>\n\n<pre><code>s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \nhost = '192.168.1.136'                       \nport = 8080\ns.connect((host, port))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8870293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1773fe229a9672a42ed2b2c3b6775714?s=128&d=identicon&r=PG&f=1", "display_name": "Many Torres", "link": "https://stackoverflow.com/users/8870293/many-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1509581728, "creation_date": 1509566621, "last_edit_date": 1509566767, "question_id": 47062797, "link": "https://stackoverflow.com/questions/47062797/python-socket-client-doesn%c2%b4t-work-in-other-pc", "title": "Python Socket client doesn&#180;t work in other PC", "body": "<p>I'm trying to do a basic program with sockets (). When I run the server and the client on my PC it works fine.But if I run the client on another PC (on the same network) it does not work. I have already tried disconnecting the firewall and the antivirus...\nHere is the code:</p>\n\n<p>Server:</p>\n\n<pre><code>IP = '192.168.1.136'\nPORT = 8080 \n\n\nserver = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \nserver.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) \nserver.bind((IP, PORT)) \nserver.listen(4) \n    (conn, (ip,port)) = server.accept()\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \nhost = '192.168.1.136'                       \nport = 8080\ns.connect((host, port))\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1509567556, "post_id": 47062779, "comment_id": 81074155, "body": "Please copy and paste the traceback as text, instead of posting images."}, {"owner": {"reputation": 3147, "user_id": 3500094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60e56d19071e326c8ff64bd50719d4b8?s=128&d=identicon&r=PG", "display_name": "souldeux", "link": "https://stackoverflow.com/users/3500094/souldeux"}, "edited": false, "score": 0, "creation_date": 1509586754, "post_id": 47062779, "comment_id": 81080703, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47058192/correct-noreversematch-error-with-authentication-algorithm\">Correct NoReverseMatch error with authentication algorithm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 7964856, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-aiikX3uhRPU/AAAAAAAAAAI/AAAAAAAAAGk/hbux2bd4zfs/photo.jpg?sz=128", "display_name": "Waltham WECAN", "link": "https://stackoverflow.com/users/7964856/waltham-wecan"}, "edited": false, "score": 0, "creation_date": 1509571027, "post_id": 47063109, "comment_id": 81075782, "body": "Is this the correct syntax : <code>url(r&#39;^reset-password&#47;confirm&#47;(?P&lt;uidb64&gt;[0-9A-Za-z]+)-(?P&lt;t&zwnj;&#8203;oken&gt;.+)&#47;$&#39;, password_reset_confirm, { &#39;template_name&#39; : &#39;exist&#47;reset_password_email.html&#39;, &#39;post_reset_redirect&#39;: &#39;exist:password_reset_complete&#39;, &#39;email_template_name&#39;: &#39;exist&#47;password_reset_email.html&#39; }, name = &#39;password_reset_confirm&#39;) </code>"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 381, "user_id": 7964856, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-aiikX3uhRPU/AAAAAAAAAAI/AAAAAAAAAGk/hbux2bd4zfs/photo.jpg?sz=128", "display_name": "Waltham WECAN", "link": "https://stackoverflow.com/users/7964856/waltham-wecan"}, "edited": false, "score": 0, "creation_date": 1509571893, "post_id": 47063109, "comment_id": 81076164, "body": "No, that&#39;s incorrect. It&#39;s the <code>password_reset</code> view that is failing so that&#39;s the URL pattern that you have to change."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 0, "last_activity_date": 1509621181, "last_edit_date": 1509621181, "creation_date": 1509567994, "answer_id": 47063109, "question_id": 47062779, "link": "https://stackoverflow.com/questions/47062779/registration-password-reset-email-html-not-being-rendered-due-to-the-absence-o/47063109#47063109", "title": "`registration/password_reset_email.html` not being rendered due to the absence of an custom exist template", "body": "<p>The default <code>registration/password_reset_email.html'</code> includes: </p>\n\n<pre><code>{% url 'password_reset_confirm' uidb64=uid token=token %}\n</code></pre>\n\n<p>This doesn't work, because you are using the <code>exist</code> namespace.</p>\n\n<p>Removing the namespace from the include would be the simplest solution. If you must keep the namespace, then you need to create your own template that uses:</p>\n\n<pre><code>{% url 'exist:password_reset_confirm' uidb64=uid token=token %}\n</code></pre>\n\n<p>You have two options for getting Django to use your custom template. The first option is to use the default template name <code>registration/password_reset_email.html</code>, and make sure that the app containing the template is above <code>django.contrib.admin</code> in your <code>INSTALLED_APPS</code>.</p>\n\n<p>The other option is to choose your own template name (e.g. <code>exist/password_reset_email.html</code>), and specify <code>email_template_name</code> in your URL pattern:</p>\n\n<pre><code>    url(r'^reset-password/$', password_reset, { 'template_name' : 'exist/reset_password.html', 'post_reset_redirect': 'exist:password_reset_done', 'email_template_name': 'exist/password_reset_email.html' }, name = 'reset_password'),\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 7964856, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-aiikX3uhRPU/AAAAAAAAAAI/AAAAAAAAAGk/hbux2bd4zfs/photo.jpg?sz=128", "display_name": "Waltham WECAN", "link": "https://stackoverflow.com/users/7964856/waltham-wecan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1509720087, "creation_date": 1509566511, "last_edit_date": 1509720087, "question_id": 47062779, "link": "https://stackoverflow.com/questions/47062779/registration-password-reset-email-html-not-being-rendered-due-to-the-absence-o", "title": "`registration/password_reset_email.html` not being rendered due to the absence of an custom exist template", "body": "<p>I am attempting create the password_reset_confirm view for my application. However I keep getting this error : </p>\n\n<p>This question is about the password_reset_confirm issue which was caused by the fact the the namespace <code>exist</code>  was preventing the default template <code>registration/password_reset_email.html</code> from being rendered, while the previous question is about the password_reset_done problem which was caused by the absence of the improved <code>post_reset_redirect</code> variable which accounted for the namespace <code>exist</code></p>\n\n<blockquote>\n  <p>Here is my code :</p>\n</blockquote>\n\n<p><strong><em>app urls.py</em></strong> </p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nfrom django.contrib.auth.views import login, logout, password_reset, password_reset_done, password_reset_confirm, password_reset_confirm\n\n\nurlpatterns = [\n\n\n        url(r'^$', views.vedic_view, name = 'vedic_home_view'),\n        url(r'^login/$', login, {'template_name' : 'exist/login.html'}, name = 'login'),\n        url(r'^logout/$', logout, {'template_name' : 'exist/logout.html'}, name = 'logout'),\n        url(r'^register/$', views.register_view, name = 'register'),\n        url(r'^profile/$', views.view_profile, name = 'view_profile'),\n        url(r'^profile/edit/$', views.edit_profile, name = 'edit_profile'),\n        url(r'^change-password/$', views.change_password, name = 'change_password'),\n\n        url(r'^reset-password/$', password_reset, { 'template_name' : 'exist/reset_password.html', 'post_reset_redirect': 'exist:password_reset_done' }, name = 'reset_password'),\n\n\n        url(r'^reset-password/done/$', password_reset_done,  name = 'password_reset_done'),\n\n        url(r'^reset-password/confirm/(?P&lt;uidb64&gt;[0-9A-Za-z]+)-(?P&lt;token&gt;.+)/$', password_reset_confirm, {'post_reset_redirect': 'exist:password_reset_complete'}, name = 'password_reset_confirm')\n\n]\n</code></pre>\n\n<p>It seems the namespace variable in the main urls.py is affecting the url mapping for the <code>password_reset_confirm</code></p>\n\n<p><strong><em>project urls.py</em></strong></p>\n\n<pre><code>from django.conf.urls import url\nfrom django.contrib import admin\n\n\n\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n] +  static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)\n\n\nfrom django.conf.urls import include\nfrom django.views.generic import RedirectView\n\n\n\nurlpatterns += [\n    url(r'^exist/', include('exist.urls', namespace = 'exist' )),\n        url(r'^$', RedirectView.as_view(url='/exist/', permanent=True)),\n]\n</code></pre>\n"}]