[{"tags": ["python", "django", "signals"], "answers": [{"tags": [], "owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "is_accepted": true, "score": 25, "last_activity_date": 1433377239, "creation_date": 1433377239, "answer_id": 30632974, "question_id": 30632743, "link": "https://stackoverflow.com/questions/30632743/how-can-i-use-signals-in-django-bulk-create/30632974#30632974", "title": "How can i use signals in django bulk create", "body": "<p>As mentioned <code>bulk_create</code> does not trigger these signals - </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#bulk-create\">https://docs.djangoproject.com/en/1.8/ref/models/querysets/#bulk-create</a></p>\n\n<blockquote>\n  <p>This method inserts the provided list of objects into the database in\n  an efficient manner (generally only 1 query, no matter how many\n  objects there are).</p>\n  \n  <p>This has a number of caveats though:</p>\n  \n  <ul>\n  <li>The model\u2019s save() method will not be called, and the pre_save and post_save signals will not be sent.</li>\n  <li>It does not work with child models in a multi-table inheritance scenario.</li>\n  <li>If the model\u2019s primary key is an AutoField it does not retrieve and set the primary key attribute, as save() does.</li>\n  <li>It does not work with many-to-many relationships.</li>\n  <li>The batch_size parameter controls how many objects are created in single query. The default is to create all objects in one batch,\n  except for SQLite where the default is such that at most 999 variables\n  per query are used.</li>\n  </ul>\n</blockquote>\n\n<p>So you have to trigger them manually. If you want this for all models you can override the <code>bulk_create</code> and send them yourself like this - </p>\n\n<pre><code>class CustomManager(models.Manager):\n    def bulk_create(items,....):\n         super().bulk_create(...)\n         for i in items:\n              [......] # code to send signal\n</code></pre>\n\n<p>Then use this manager - </p>\n\n<pre><code>class Task(models.Model):\n    objects = CustomManager()\n    ....\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 11251373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eRI7z.jpg?s=128&g=1", "display_name": "Aleksei Khatkevich", "link": "https://stackoverflow.com/users/11251373/aleksei-khatkevich"}, "edited": false, "score": 1, "creation_date": 1595939796, "post_id": 51524982, "comment_id": 111641912, "body": "Problem is if you would use &#39;ignore_conflicts=True&#39; then you newer know how much instances are created in fact. It might be 15 of 20 for example, or 19, or 20 or None"}, {"owner": {"reputation": 1749, "user_id": 2263517, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc6cc5e2318fc6b1d5d7abb0a20e3c6c?s=128&d=identicon&r=PG", "display_name": "knaperek", "link": "https://stackoverflow.com/users/2263517/knaperek"}, "edited": false, "score": 1, "creation_date": 1612986932, "post_id": 51524982, "comment_id": 116940475, "body": "<code>objs</code> might be an iterator, so a more robust code would first convert it into a list, then call super().bulk_create(...) and then iterate over the items in order to send the signals."}], "tags": [], "owner": {"reputation": 41, "user_id": 9273855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7607128c8d0b90a1d044ea276ca2c03?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe Sens", "link": "https://stackoverflow.com/users/9273855/felipe-sens"}, "is_accepted": false, "score": 4, "last_activity_date": 1585729695, "last_edit_date": 1585729695, "creation_date": 1532541135, "answer_id": 51524982, "question_id": 30632743, "link": "https://stackoverflow.com/questions/30632743/how-can-i-use-signals-in-django-bulk-create/51524982#51524982", "title": "How can i use signals in django bulk create", "body": "<p>Iterating on the answer above:</p>\n\n<p>Python 2:</p>\n\n<pre><code>class CustomManager(models.Manager):\n    def bulk_create(self, objs, **kwargs):\n        #Your code here\n        return super(models.Manager,self).bulk_create(objs,**kwargs)  \n</code></pre>\n\n<p>Python 3:</p>\n\n<pre><code>class CustomManager(models.Manager):\n    def bulk_create(self, objs, **kwargs):\n        #Your code here\n        return super(CustomManager, self).bulk_create(objs,**kwargs)  \n</code></pre>\n\n<hr>\n\n<pre><code>class Task(models.Model):\n    objects = CustomManager()\n    ....\n</code></pre>\n\n<p>Complete answer in python 2:</p>\n\n<pre><code>class CustomManager(models.Manager):\n\ndef bulk_create(self, objs, **kwargs):\n    a = super(models.Manager,self).bulk_create(objs,**kwargs)\n    for i in objs:\n        post_save.send(i.__class__, instance=i, created=True)\n    return a\n</code></pre>\n"}], "owner": {"reputation": 5383, "user_id": 4119095, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/100001874566550/picture?type=large", "display_name": "user3214546", "link": "https://stackoverflow.com/users/4119095/user3214546"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9197, "favorite_count": 5, "accepted_answer_id": 30632974, "answer_count": 2, "score": 24, "last_activity_date": 1585729695, "creation_date": 1433375383, "question_id": 30632743, "link": "https://stackoverflow.com/questions/30632743/how-can-i-use-signals-in-django-bulk-create", "title": "How can i use signals in django bulk create", "body": "<p>I have this code</p>\n\n<p><code>Task.objects.bulk_create(ces)</code></p>\n\n<p>Now this is my signal</p>\n\n<pre><code>@receiver(pre_save, sender=Task)\ndef save_hours(sender, instance, *args, **kwargs):\n    logger.debug('test')\n</code></pre>\n\n<p>Now this signal is not triggered in bulk create</p>\n\n<p>I am using django 1.8</p>\n"}, {"tags": ["python", "mongodb", "eve"], "answers": [{"comments": [{"owner": {"reputation": 6351, "user_id": 323269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3550767c858c787c35c280047ff789c?s=128&d=identicon&r=PG", "display_name": "Nicola Iarocci", "link": "https://stackoverflow.com/users/323269/nicola-iarocci"}, "edited": false, "score": 0, "creation_date": 1433401656, "post_id": 30636477, "comment_id": 49339125, "body": "For further reference, we have a <a href=\"https://github.com/nicolaiarocci/eve/issues/645#issuecomment-108749432\" rel=\"nofollow noreferrer\">GitHub ticket</a> which originated form this question and will probably lead to an improvement in soft-delete documentation."}, {"owner": {"reputation": 421, "user_id": 2016045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62315a258f6a56efe3cc810f9d7a935a?s=128&d=identicon&r=PG", "display_name": "mhumesf", "link": "https://stackoverflow.com/users/2016045/mhumesf"}, "edited": false, "score": 0, "creation_date": 1433431437, "post_id": 30636477, "comment_id": 49359493, "body": "That did it! Thank you"}], "tags": [], "owner": {"reputation": 56, "user_id": 4972418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ecbaced0dc22c1d9b28ecd6addb81d8?s=128&d=identicon&r=PG", "display_name": "Nick Park", "link": "https://stackoverflow.com/users/4972418/nick-park"}, "is_accepted": true, "score": 2, "last_activity_date": 1433399255, "creation_date": 1433399255, "answer_id": 30636477, "question_id": 30632740, "link": "https://stackoverflow.com/questions/30632740/restoring-soft-delete-using-patch-results-in-422-unknown-field-deleted/30636477#30636477", "title": "Restoring soft_delete using PATCH results in 422 unknown field &quot;_deleted&quot;", "body": "<p>Like <code>_etag</code> or the <code>_updated</code> and <code>_created</code> fields, <code>_deleted</code> is a special meta field managed by Eve. Clients aren't expected to edit the field directly, and you don't need to in order to restore a soft deleted document. Valid PATCH (or PUT) requests made to soft deleted documents automatically restore the document, and Eve updates the <code>_deleted</code> field accordingly. Just remove <code>'_deleted': false</code> from your PATCH request, and the document will restore as expected.</p>\n"}], "owner": {"reputation": 421, "user_id": 2016045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62315a258f6a56efe3cc810f9d7a935a?s=128&d=identicon&r=PG", "display_name": "mhumesf", "link": "https://stackoverflow.com/users/2016045/mhumesf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 30636477, "answer_count": 1, "score": 0, "last_activity_date": 1433431776, "creation_date": 1433375341, "last_edit_date": 1433431776, "question_id": 30632740, "link": "https://stackoverflow.com/questions/30632740/restoring-soft-delete-using-patch-results-in-422-unknown-field-deleted", "title": "Restoring soft_delete using PATCH results in 422 unknown field &quot;_deleted&quot;", "body": "<p>Playing around with soft_deletes in the python-eve 0.6 and setup a function to restore a delete, but I'm get a 422 (UNPROCESSABLE ENTITY) with the error \n<code>{\"_status\": \"ERR\", \"_issues\": {\"_deleted\": \"unknown field\"}}</code></p>\n\n<p>This is the json response from GET</p>\n\n<pre><code>{\n  \"_updated\": \"Tue, 02 Jun 2015 23:58:50 GMT\",\n  \"_latest_version\": 2,\n  \"_error\": {\n    \"message\": \"The requested URL was not found on this server.\",\n    \"code\": 404\n  },\n  \"title\": \"Kimberli Dygert\",\n  \"_version\": 2,\n  \"_deleted\": true,\n  \"_links\": {\n    \"self\": {\n      \"href\": \"items\\/556cdaf4ee67bd0717181826\",\n      \"title\": \"item\"\n    }\n  },\n  \"_created\": \"Mon, 01 Jun 2015 22:21:40 GMT\",\n  \"_status\": [\n    \"ERR\"\n  ],\n  \"_id\": \"556cdaf4ee67bd0717181826\",\n  \"_etag\": \"d48684051f506ea70590682d1705f18a74faea2f\"\n}\n</code></pre>\n\n<p>And the function I'm using to try to restore the soft_delete</p>\n\n<pre><code>this.restore = function (id, etag) {\n    var req = {\n        method: 'PATCH',\n        url: urlBase + '/' + id,\n        headers: {\n            //'Content-Type': 'application/json',\n            'If-Match': etag\n        },\n        data: { '_deleted': false  }\n    };\n    return $http(req);\n};\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-2.7"], "comments": [{"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433375681, "post_id": 30632716, "comment_id": 49331131, "body": "Why reinvent the wheel (<i>unless it&#39;s for learning</i>); Have you seen <a href=\"https://github.com/circuits/circuits/blob/master/examples/chatserver.py\" rel=\"nofollow noreferrer\">chatserver.py</a>"}, {"owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "reply_to_user": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433376156, "post_id": 30632716, "comment_id": 49331232, "body": "@JamesMills It&#39;s not exactly for learning, I was tasked with, just that, re-inventing the wheel while making improvements along the way. I feel a simplified version of <code>chatserver.py</code> would be of use to anyone who needs it, so they can actually understand it, not just blankly stare at it completely clueless, while keeping it lightweight and customizable, but, thanks anyway!"}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433376649, "post_id": 30632716, "comment_id": 49331340, "body": "It&#39;s as lightweight as it&#39;s going to get I&#39;m afraid; what don&#39;t you understand? Perhaps I can help in some way? I just don&#39;t have the time to debug  your multi-threaded I/O program right now; in short: Bad File Descriptor errors result from using file descriptors that are no longer valid and connected to anything; i.e: They&#39;re dead."}, {"owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "reply_to_user": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433379293, "post_id": 30632716, "comment_id": 49332019, "body": "So you&#39;re saying it has to do with the client then, that it&#39;s not a server issue?"}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433379531, "post_id": 30632716, "comment_id": 49332075, "body": "Well the error is coming from your server implmentation; but you likely have issues with both because doing Socket I/O is not really that trivial and there are many edge cases to take care of. Use a framework like <a href=\"https://github.com/circuits/circuits\" rel=\"nofollow noreferrer\">circuits</a> or <a href=\"https://github.com/twisted\" rel=\"nofollow noreferrer\">Twisted</a>"}], "owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 749, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1433375179, "creation_date": 1433375179, "question_id": 30632716, "link": "https://stackoverflow.com/questions/30632716/python-multithreading-returns-bad-file-descriptor", "title": "Python Multithreading returns Bad File Descriptor?", "body": "<p>So, I am making a chat server (how original!), and I am using <code>multithreading</code> to handle data sending/recieving, alongside logging and (soon to be) server-sided commands. ANYhoo.. I run the server, all is good thus far. Run a client, Hey! It works! Relaunch the client and I get ;</p>\n\n<pre><code>Exception in thread Thread-5:\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"C:\\Users\\Kuro\\Desktop\\PyChat\\Server.py\", line 51, in run\n    s.listen(9999)\n  File \"C:\\Python27\\lib\\socket.py\", line 224, in meth\n    return getattr(self._sock,name)(*args)\n  File \"C:\\Python27\\lib\\socket.py\", line 170, in _dummy\n    raise error(EBADF, 'Bad file descriptor')\nerror: [Errno 9] Bad file descriptor\n</code></pre>\n\n<p>on the server, but it still works. No errors on the client, yet. Run the client again, and this happens;\n<code>[Errno 10061] No connection could be made because the target machine actively refused it</code>. No server in/output.\nHere's the server code:</p>\n\n<pre><code>import socket\nimport threading\nimport sys\nimport os\nimport time\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nIP = raw_input(\"IP to host the server on: \")\nPort = 9340\ndat = None\ns.bind((IP,Port))\n\nclass recvdat(threading.Thread):\n    def __init__(self, TID, TN):\n        threading.Thread.__init__(self)\n        self.TID = TID\n        self.TN = TN\n    def run(self):\n        global dat, conn\n        while True:\n            try:\n                dat = conn.recv(1048)\n            except:\n                dat = None\n                s.close()\n                break\n            if dat == \"/exit\" or None:\n                s.close()\n                break\n            else:\n                print dat\n                chtlg.write(dat)\n                dat = None\n\n\nclass senddat(threading.Thread):\n    def __init__(self, TID, TN):\n        threading.Thread.__init__(self)\n        self.TID = TID\n        self.TN = TN\n    def run(self):\n        pass\n\nclass acconn(threading.Thread):\n    def __init__(self, TID, TN):\n        threading.Thread.__init__(self)\n        self.TID = TID\n        self.TN = TN\n    def run(self):\n        global conn, act, ACTID\n        s.listen(9999)\n        conn, addr = s.accept()\n        rdt = recvdat(2,\"rdt\")\n        ACTID = ACTID+1\n        act = acconn(ACTID,\"act\")\n        act.start()\n        rdt.start()\n        #print \"Client Connected with IP \"+addr\n\ncwd = os.getcwd()\nchtlg = open(cwd+\"/ChatLog\",'a')\nACTID = 0\n\nact = acconn(ACTID,\"act\")\n\nact.start()\n\nwhile True:\n    time.sleep(2.5)\n    pass\n</code></pre>\n\n<p>Yes, it is a <em>very</em> bad excuse of a multithreading program, however, it is very incomplete because I was buried in making the client, and I don't use classes or <code>multithreading</code> very often..</p>\n\n<p>Any help at all would be greatly appreciated!</p>\n"}, {"tags": ["python", "excel", "python-2.7", "ftp"], "comments": [{"owner": {"reputation": 4947, "user_id": 1545014, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d3a08ae3ab7ee246d592730f0dd2c923?s=128&d=identicon&r=PG", "display_name": "jcoppens", "link": "https://stackoverflow.com/users/1545014/jcoppens"}, "edited": false, "score": 1, "creation_date": 1433378201, "post_id": 30632701, "comment_id": 49331719, "body": "Any reason why you don&#39;t want to download the .xls as .xls and save it as .xls? You can then load the xls using one of the solutions here: <a href=\"http://stackoverflow.com/questions/2942889/reading-parsing-excel-xls-files-with-python\" title=\"reading parsing excel xls files with python\">stackoverflow.com/questions/2942889/&hellip;</a>"}, {"owner": {"reputation": 2226, "user_id": 1639886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2H8a6.png?s=128&g=1", "display_name": "FairyOnIce", "link": "https://stackoverflow.com/users/1639886/fairyonice"}, "reply_to_user": {"reputation": 4947, "user_id": 1545014, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d3a08ae3ab7ee246d592730f0dd2c923?s=128&d=identicon&r=PG", "display_name": "jcoppens", "link": "https://stackoverflow.com/users/1545014/jcoppens"}, "edited": false, "score": 0, "creation_date": 1433378393, "post_id": 30632701, "comment_id": 49331769, "body": "@jcoppens Like you say, I tried the following commands:  ftp = FTP(&#39;webftp.vancouver.ca&#39;); ftp.login(); ftp.cwd(&#39;OpenData/xls&#39;); filename = &#39;new_food_vendor_locations.xls&#39;;     workbook = xlrd.open_workbook(filename); ftp.quit();  However this gives me an error statement that &quot;[Errno 2] No such file or directory: &#39;new_food_vendor_locations.xls&#39;&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 2226, "user_id": 1639886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2H8a6.png?s=128&g=1", "display_name": "FairyOnIce", "link": "https://stackoverflow.com/users/1639886/fairyonice"}, "is_accepted": true, "score": 0, "last_activity_date": 1433379082, "creation_date": 1433379082, "answer_id": 30633232, "question_id": 30632701, "link": "https://stackoverflow.com/questions/30632701/how-to-download-a-xls-into-a-python-object-via-ftp-with-python-ftplib/30633232#30633232", "title": "How to download a .xls into a Python object via FTP with Python ftplib", "body": "<p>Although I was looking for a way to directly purse the ftp-ed excel file into Python object, if I allows saving the excel file in my directory and re-read it again, the following works:</p>\n\n<pre><code>ftp = FTP('webftp.vancouver.ca')\nftp.login()\nftp.cwd('OpenData/xls')\nfilename = 'new_food_vendor_locations.xls'\nftp.retrbinary('RETR %s' % filename, open('myLovelyNewFile.xls', 'w').write)\nftp.quit()\nworkbook = xlrd.open_workbook('myLovelyNewFile.xls')\nworksheet = workbook.sheet_by_name('Query_vendor_food')\nnum_rows = worksheet.nrows - 1\ncurr_row = -1\nwhile curr_row &lt; num_rows:\n    curr_row += 1\n    row = worksheet.row(curr_row)\n    print row\n</code></pre>\n\n<p>(I thank @jacoppens for his advice.) </p>\n"}], "owner": {"reputation": 2226, "user_id": 1639886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2H8a6.png?s=128&g=1", "display_name": "FairyOnIce", "link": "https://stackoverflow.com/users/1639886/fairyonice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1509, "favorite_count": 2, "accepted_answer_id": 30633232, "answer_count": 1, "score": 0, "last_activity_date": 1433379082, "creation_date": 1433375083, "question_id": 30632701, "link": "https://stackoverflow.com/questions/30632701/how-to-download-a-xls-into-a-python-object-via-ftp-with-python-ftplib", "title": "How to download a .xls into a Python object via FTP with Python ftplib", "body": "<p>I am new to Python, so forgive me if I am asking a wrong question. I have a .xls that I would like to ftp and save it as a Python object. Currently, I am taking an awkward approach where [Step 1] I first ftp the file and save it as .txt (I know .xls->.txt is a bad idea!), and then [Step 2] open and save that .txt file in Python shell. That is, </p>\n\n<p>Step 1:</p>\n\n<pre><code>## Import the necessary module\nfrom ftplib import FTP\n\nftp = FTP('webftp.vancouver.ca')\nftp.login()\nftp.cwd('OpenData/xls')\nfilename = 'new_food_vendor_locations.xls'\nftp.retrbinary('RETR %s' % filename, open('myLovelyNewFile.txt', 'w').write)\nftp.quit()\n</code></pre>\n\n<p>This allows me to create a new file 'myLovelyNewFile.txt' in my current directly. In my Python shell, I have:</p>\n\n<p>Step 2:</p>\n\n<pre><code>myLovelyPython = open('myLovelyNewFile.txt','r')\nfor line in myLovelyPython.readlines():\n     print line\nmyLovelyPython.close()\n</code></pre>\n\n<p>Although Python can run all these command lines, the printed lines do not have correct inputs due to the forceful conversion from xls to txt. Furthermore, I would like to save the ftp-ed object directly as some python object (rather than first saving it as .txt outside Python). Is there easy solution to this problem? </p>\n"}, {"tags": ["python", "regex", "match"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433376390, "post_id": 30632670, "comment_id": 49331282, "body": "what are you trying to extract from your input?"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1433378633, "post_id": 30632670, "comment_id": 49331838, "body": "You should also consider supporting ipv6 addresses"}], "answers": [{"comments": [{"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433379659, "post_id": 30632758, "comment_id": 49332103, "body": "Nice. I&#39;m trying to omit email address. Changing r&quot;mail.*.com&quot; to to r&#39;\\smail.*com&#39; would suffice, except (I didn&#39;t mention this) some of the headers contain the domain followed by the domain again in brackets. e.g. Received: from mail-ie0-x247.google.com (mail-ie0-x247.google.com. [2607:f8b0:4001:c03::247]), and your pattern matches both. How do we take care of both cases (omiting the email address and the repeated domain per line)?"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 2, "last_activity_date": 1433375531, "creation_date": 1433375531, "answer_id": 30632758, "question_id": 30632670, "link": "https://stackoverflow.com/questions/30632670/python-how-best-to-combine-two-regexs-into-one-pattern-match/30632758#30632758", "title": "Python: how best to combine two regex&#39;s into one pattern match?", "body": "<p>Why not use an alternation?</p>\n\n<pre><code>patterns = [r\"\\b(?:[0-9]{1,3}\\.){3}[0-9]{1,3}\\b\", r\"mail.*com\"]\npattern = \"|\".join(patterns)  # pattern1|pattern2|pattern3|...\n\nre.findall(pattern, text)\n</code></pre>\n\n<p>Yields</p>\n\n<pre><code>['10.194.174.73',\n '10.180.14.233',\n 'mail-wg0-f52.google.com',\n 'mail-ie0-x247.google.com',\n 'mailaddress@gmail.com']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 2298783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG37i.png?s=128&g=1", "display_name": "timoh", "link": "https://stackoverflow.com/users/2298783/timoh"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433378500, "post_id": 30632940, "comment_id": 49331805, "body": "ah. well in that case maybe try something like this: (?:by|for|from) &lt;?([^\\s;]+)&gt;"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433381281, "post_id": 30632940, "comment_id": 49332484, "body": "Omits both the email address and repeated domain in brackets. Perfect. Thing is: prior to running the regex, I have removed &quot;Received: &quot;  from each. So the strings in question all begin thus: &quot;by ...&quot;. I&#39;ve tried simply removing the (?:X-)?Received:  (?:by|from) part, leaving only ([^ \\n]+), but the remaining pattern matches returns only &#39;by&#39;. Any suggestions?"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433381534, "post_id": 30632940, "comment_id": 49332555, "body": "@PadraicCunningham and timoh: I should have mentioned that I was looking to disregard email address (in which case, of course, my original &#39;mail.*com&#39; is insufficient)."}, {"owner": {"reputation": 186, "user_id": 2298783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG37i.png?s=128&g=1", "display_name": "timoh", "link": "https://stackoverflow.com/users/2298783/timoh"}, "reply_to_user": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433381995, "post_id": 30632940, "comment_id": 49332658, "body": "@Pyderman could you update the question with the actual data the regex needs to match? If you use the current unaltered data with &#39;(?:by|from) &lt;?([^\\s&gt;]+)&#39; it will match all of the received domains and IP addresses and not the email."}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433382399, "post_id": 30632940, "comment_id": 49332744, "body": "@timoh hmmm, unable to update my questions for some reason. So basically, the data being searched is what you see in the question, minus &quot;Received: &quot; and &quot;X-Received: &quot;, so we&#39;re left with four lines starting thus: &quot;by ..."}, {"owner": {"reputation": 186, "user_id": 2298783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG37i.png?s=128&g=1", "display_name": "timoh", "link": "https://stackoverflow.com/users/2298783/timoh"}, "reply_to_user": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433382748, "post_id": 30632940, "comment_id": 49332810, "body": "@Pyderman the pattern in my previous comment still works without the &quot;Received&quot; parts. Note that all of your lines don&#39;t start with &quot;by&quot;, one starts with &quot;from&quot; - but you shouldn&#39;t need to worry about that if you just use the regexp."}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433405086, "post_id": 30632940, "comment_id": 49341055, "body": "@timoh if by your previous comment, if you mean (?:by|from) &lt;?([^\\s&gt;]+), this returns the &#39;by &#39; or &#39;from &#39; that precedes each IP address or domain, e.g. &#39;from mail-ie0-x247.google.com&#39; whereas I&#39;m seeking only the domain/IP itself. Also, for a header like: &#39;from mail-ie0-x247.google.com (mail-ie0-x247.google.com. [2607:f8b0:4001:c03::247])         by mx.google.com&#39; it also returns the mx.google.com. I&#39;m only interested in the first domain in the header (again, I should have mentioned this). How would you update the regexp?"}, {"owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "edited": false, "score": 0, "creation_date": 1433406590, "post_id": 30632940, "comment_id": 49341955, "body": "@timoh ok it looks like your very first regex (before you modified it to include email addresses) solves the problem of the second IP/domain per header, but only when &#39;Received: &#39; is put back at the start of each line. If I pare it back to : (?:by|from) ([^ \\n]+), then we get closer, but obviously we still get &#39;by &#39; or &#39;from &#39; for each IP. When I pare it back any further, things fall apart. You can find the text to be searched here <a href=\"http://bit.ly/1eQNmze\" rel=\"nofollow noreferrer\">bit.ly/1eQNmze</a>. Any suggestions?"}, {"owner": {"reputation": 186, "user_id": 2298783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG37i.png?s=128&g=1", "display_name": "timoh", "link": "https://stackoverflow.com/users/2298783/timoh"}, "edited": false, "score": 1, "creation_date": 1433488360, "post_id": 30632940, "comment_id": 49383323, "body": "If you&#39;re using re.findall() then you won&#39;t get the by or from -parts as results as that is a non-capturing group. You should only get the IP/host - I didn&#39;t modify the output I attached to my answer."}], "tags": [], "owner": {"reputation": 186, "user_id": 2298783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG37i.png?s=128&g=1", "display_name": "timoh", "link": "https://stackoverflow.com/users/2298783/timoh"}, "is_accepted": true, "score": 1, "last_activity_date": 1433379654, "last_edit_date": 1433379654, "creation_date": 1433376943, "answer_id": 30632940, "question_id": 30632670, "link": "https://stackoverflow.com/questions/30632670/python-how-best-to-combine-two-regexs-into-one-pattern-match/30632940#30632940", "title": "Python: how best to combine two regex&#39;s into one pattern match?", "body": "<p>If you want to just capture all domains and IPs of the hops you can use regex like this.</p>\n\n<p>In python:</p>\n\n<pre><code>import re\npat = r'(?:by|for|from) &lt;?([^\\s;&gt;]+)'\nprint(re.findall(pat, text))\n</code></pre>\n\n<p>-> </p>\n\n<pre><code>['10.194.174.73', '10.180.14.233', 'mail-wg0-f52.google.com', 'mail-ie0-x247.google.com', 'myemailaddress@gmail.com&gt;']\n</code></pre>\n\n<p>(edit to also capture the email)</p>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4149, "favorite_count": 0, "accepted_answer_id": 30632940, "answer_count": 2, "score": 2, "last_activity_date": 1433379654, "creation_date": 1433374846, "question_id": 30632670, "link": "https://stackoverflow.com/questions/30632670/python-how-best-to-combine-two-regexs-into-one-pattern-match", "title": "Python: how best to combine two regex&#39;s into one pattern match?", "body": "<p>Given a list of email header fields of type <em>Receive</em> e.g.:</p>\n\n<pre><code>Received: by 10.194.174.73 with SMTP id bq9csp183244wjc;\n        Mon, 5 May 2014 17:49:10 -0700 (PDT)\nX-Received: by 10.180.14.233 with SMTP id s9mr18354760wic.53.1399337350112;\n        Mon, 05 May 2014 17:49:10 -0700 (PDT)\nReceived: from mail-wg0-f52.google.com\nReceived: by mail-ie0-x247.google.com with SMTP id gx4so163592215ieb.1\n        for &lt;myemailaddress@gmail.com&gt;; Mon, 01 Jun 2015 18:34:50 -0700 (PDT)\n</code></pre>\n\n<p>Each field reports the \"hop\" either by IP address or domain name. I'm looking to build a regex that will take care of both.</p>\n\n<p>The following regex's will extract IP address and (gmail) domain name respectively:</p>\n\n<pre><code>\\b(?:[0-9]{1,3}\\.){3}[0-9]{1,3}\\b\nmail.*com\n</code></pre>\n\n<p>What's the most elegant approach to combine two or more patterns in Python? I'll be iterating over a list of <strong>Receive</strong> fields and running the regex against each. </p>\n"}, {"tags": ["python", "dictionary", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1433375488, "post_id": 30632680, "comment_id": 49331083, "body": "I wanted to feed the duck types, though."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433375540, "post_id": 30632680, "comment_id": 49331095, "body": "I don&#39;t follow, what will <code>if hasattr(k, &#39;isalpha&#39;)</code> do that <code>issinstance(k, str)</code> won&#39;t?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433375574, "post_id": 30632680, "comment_id": 49331102, "body": "Instead of asking whether it&#39;s a duck, I&#39;m listening for the quack. :)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1433375865, "post_id": 30632680, "comment_id": 49331169, "body": "isinstance will make any str quack ;)"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1433377268, "post_id": 30632680, "comment_id": 49331488, "body": "I&#39;d say you&#39;re not really listening for the quack, you&#39;re looking whether it can quack. But you inspired my answer :-)"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 3, "last_activity_date": 1433375667, "last_edit_date": 1433375667, "creation_date": 1433374917, "answer_id": 30632680, "question_id": 30632628, "link": "https://stackoverflow.com/questions/30632628/only-select-dictionary-keys-that-are-tuples/30632680#30632680", "title": "Only select dictionary keys that are tuples?", "body": "<p>Change <code>':'.join(k)</code> to <code>k if hasattr(k, 'isalpha') else ':'.join(k)</code>. This will use the unaltered object if it has the attribute <code>isalpha</code>, which means it's probably a string, or join the object with a colon otherwise. Alternatively (thanks, @Padraic), you can use <code>':'.join(k) if isinstance(k, tuple) else k</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1433375956, "last_edit_date": 1433375956, "creation_date": 1433375050, "answer_id": 30632692, "question_id": 30632628, "link": "https://stackoverflow.com/questions/30632628/only-select-dictionary-keys-that-are-tuples/30632692#30632692", "title": "Only select dictionary keys that are tuples?", "body": "<p>You only care about dicts and tuples so just check for both recursing on the values:</p>\n\n<pre><code>def rec(d):\n    for k,v in d.items():\n        if isinstance(v, dict):\n            rec(v)\n        if isinstance(k, tuple):\n            del d[k]\n            d[\":\".join(k)] = v\n\nrec(data)\n\nfrom pprint import pprint as pp\npp(data)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'category1:category2': {'numeric_float1': {'Green:Car': 0.5137635456103902,\n                                            'Red:Plane': 0.42304110216698415,\n                                            'Yellow:Boat': 0.5679229894797324}}}\n</code></pre>\n\n<p>This modifies the original dict which I presumed was the actual goal.</p>\n\n<p>If you wanted it to work for all iterables except a str:</p>\n\n<pre><code>from collections import Iterable\ndef rec(d):\n    for k, v in d.items():\n        if isinstance(v, dict):\n            rec(v)\n        if isinstance(k, Iterable) and not isinstance(k,  str):\n            del d[k]\n            d[\":\".join(k)] = v\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1433378102, "post_id": 30632959, "comment_id": 49331694, "body": "Why the downvote? It works, I do warn about its badness, and I think it&#39;s educational/interesting."}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1433379409, "last_edit_date": 1495540267, "creation_date": 1433377123, "answer_id": 30632959, "question_id": 30632628, "link": "https://stackoverflow.com/questions/30632628/only-select-dictionary-keys-that-are-tuples/30632959#30632959", "title": "Only select dictionary keys that are tuples?", "body": "<p>Inspired by <a href=\"https://stackoverflow.com/a/30632680/1672429\">@TigerhawkT3's answer</a>, here's somewhat of a \"quack-listener\":</p>\n\n<pre><code>[':'.join(k), k][k in k]\n</code></pre>\n\n<p>You can use that instead of your unconditional <code>':'.join(k)</code>. Other ideas:</p>\n\n<pre><code>[':'.join(k), k][''.join(k) == k]\n[':'.join(k), k][str(k) == k]\n</code></pre>\n\n<p>I should say that these are confusing and do unnecessary work, though. This is just for fun/golfing. The <code>... if isinstance(...) else ...</code> is the proper way. Although, <code>k in k</code> might actually be faster than <code>isinstance(k, str)</code>:</p>\n\n<pre><code>&gt;&gt;&gt; timeit('k in k',             \"k = 'numeric_float1'\")\n0.222242249806186\n&gt;&gt;&gt; timeit('isinstance(k, str)', \"k = 'numeric_float1'\")\n0.3160444680784167\n\n&gt;&gt;&gt; timeit('k in k',             \"k = ('Yellow', 'Boat')\")\n0.21133306092963267\n&gt;&gt;&gt; timeit('isinstance(k, str)', \"k = ('Yellow', 'Boat')\")\n0.5903861610393051\n</code></pre>\n"}], "owner": {"reputation": 4167, "user_id": 2935984, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/14mj8.jpg?s=128&g=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/2935984/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 30632680, "answer_count": 3, "score": 2, "last_activity_date": 1433379409, "creation_date": 1433374544, "last_edit_date": 1495540714, "question_id": 30632628, "link": "https://stackoverflow.com/questions/30632628/only-select-dictionary-keys-that-are-tuples", "title": "Only select dictionary keys that are tuples?", "body": "<p>I have a dictionary with both string and 2-tuple keys. I want to convert all the 2-tuple keys from (x,y) to strings that are x:y. Here is my data:</p>\n\n<pre><code>In [4]:\n\ndata = {('category1', 'category2'): {'numeric_float1': {('Green', 'Car'): 0.51376354561039017,('Red', 'Plane'): 0.42304110216698415,('Yellow', 'Boat'): 0.56792298947973241}}}\ndata\nOut[4]:\n{('category1',\n  'category2'): {'numeric_float1': {('Green', 'Car'): 0.5137635456103902,\n   ('Red', 'Plane'): 0.42304110216698415,\n   ('Yellow', 'Boat'): 0.5679229894797324}}}\n</code></pre>\n\n<p>However, this is the dictionary output I want:</p>\n\n<pre><code>{'category1:category2': \n    {'numeric_float1': \n        {'Green:Car': 0.5137635456103902,\n         'Red:Plane': 0.42304110216698415,\n         'Yellow:Boat': 0.5679229894797324}}}\n</code></pre>\n\n<p>I have altered code from <a href=\"https://stackoverflow.com/questions/1254454/fastest-way-to-convert-a-dicts-keys-values-from-unicode-to-str\">a previous SO answer</a> to create a recursive function that changes all the keys.</p>\n\n<pre><code>In [5]:\n\ndef convert_keys_to_string(dictionary):\n    if not isinstance(dictionary, dict):\n        return dictionary\n    return dict((':'.join(k), convert_keys_to_string(v)) for k, v in dictionary.items())\n\nconvert_keys_to_string(data)\n</code></pre>\n\n<p>However I cannot get the function to avoid non-tuple keys. Because it does not avoid non-tuple keys, the function fixes the 2-tuple keys but messes up the non-tuple keys:</p>\n\n<pre><code>Out[5]:\n{'category1:category2': {'n:u:m:e:r:i:c:_:f:l:o:a:t:1': {'Green:Car': 0.5137635456103902,\n   'Red:Plane': 0.42304110216698415,\n   'Yellow:Boat': 0.5679229894797324}}}\n</code></pre>\n"}, {"tags": ["python", "multithreading", "timer"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 1, "creation_date": 1433374166, "post_id": 30632560, "comment_id": 49330683, "body": "You might find that checking the current time and comparing it to a predetermined time might be more accurate."}, {"owner": {"reputation": 23582, "user_id": 758133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/W8X5E.jpg?s=128&g=1", "display_name": "Martin James", "link": "https://stackoverflow.com/users/758133/martin-james"}, "edited": false, "score": 1, "creation_date": 1433374299, "post_id": 30632560, "comment_id": 49330713, "body": "If the Sleep() time is that unreliable, your box is grossly overloaded or your design is grossly bad:("}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 2, "creation_date": 1433374356, "post_id": 30632560, "comment_id": 49330734, "body": "Because most modern desktop/server operating systems have pre-emptive schedulers you&#39;ll find that <code>time.sleep()</code> is not guaranteed to be very accurate; especially with other competing resources on the system."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1433500781, "post_id": 30632560, "comment_id": 49390793, "body": "to avoid drift, synchronize the sleeps with a system clock. You should probably use GUI-specific timer instead e.g., <a href=\"http://stackoverflow.com/a/14040516/4279\"><code>widget.after()</code> in tkinter or <code>GObject.timeout_add()</code> in Gtk</a>.  See <a href=\"http://stackoverflow.com/questions/28528935/timing-issues-in-metronome-script-in-python-using-pygame#comment45378176_28528935\">code examples in the links</a>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3976762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5c9a4598a513c7026b2d62c501409?s=128&d=identicon&r=PG&f=1", "display_name": "Zumars", "link": "https://stackoverflow.com/users/3976762/zumars"}, "edited": false, "score": 0, "creation_date": 1433470050, "post_id": 30632605, "comment_id": 49377036, "body": "I tried to combine time.sleep() with &quot;busy waiting&quot; and even pure busy waiting. Both of them will lead to a 20-25% cpu usage Once I start the timer. Is there any way to improve its performance?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 9, "user_id": 3976762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5c9a4598a513c7026b2d62c501409?s=128&d=identicon&r=PG&f=1", "display_name": "Zumars", "link": "https://stackoverflow.com/users/3976762/zumars"}, "edited": false, "score": 0, "creation_date": 1433471179, "post_id": 30632605, "comment_id": 49377318, "body": "@Zumars: The better (and correct) way might be to use threading. But the accuracy is still not much better - for the same reasons as for sleep(). Actually, that would do the same call. Hmm... I edited my answer, my good deed today."}], "tags": [], "owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "is_accepted": false, "score": 3, "last_activity_date": 1433470849, "last_edit_date": 1433470849, "creation_date": 1433374326, "answer_id": 30632605, "question_id": 30632560, "link": "https://stackoverflow.com/questions/30632560/how-to-solve-when-python-script-is-running-in-background-the-time-sleep-perf/30632605#30632605", "title": "how to solve &quot;when python script is running in background, the time.sleep() performs very bad?&quot;", "body": "<p>sleep() does not guarantee scheduling after the time given. It just guarantees to sleep <em>at least</em> this time. It can very well sleep longer, depending on system load.</p>\n\n<p>Just compare against the system time from time.time (or time.clock, depends on OS - read the notes in the documentation). after wakeup and use sleep() just not to occupy the CPU all time.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>There are several ways to improve that:\n - If your timer has just to wakeup after the time elapsed, you could simply sleep() until short before wakeup and busy-wait for the time completely elapse. That would block the GUI/app during the timeout. Not so good.</p>\n\n<ul>\n<li><p>You can use threading with one thread for display update at ca. 1s (or whatever you think appropriate) and another thread for the timeout as shown above. A bit complicated.</p>\n\n<ul>\n<li>A third approach would to use sleep() for GUI-update without busy-wait for each second. That would give a bitt less accurate display, but less CPU performance. Short before the time elapsed, you could busy wait for the time remaining.</li>\n</ul></li>\n</ul>\n\n<p>Ok, that much for voluntary consulting.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 3976762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5c9a4598a513c7026b2d62c501409?s=128&d=identicon&r=PG&f=1", "display_name": "Zumars", "link": "https://stackoverflow.com/users/3976762/zumars"}, "is_accepted": false, "score": 0, "last_activity_date": 1433697330, "creation_date": 1433697330, "answer_id": 30696303, "question_id": 30632560, "link": "https://stackoverflow.com/questions/30632560/how-to-solve-when-python-script-is-running-in-background-the-time-sleep-perf/30696303#30696303", "title": "how to solve &quot;when python script is running in background, the time.sleep() performs very bad?&quot;", "body": "<p>Finally I solved this problem by using event.wait() and multiprocessing module with good resolution and low cpu usage.</p>\n"}], "owner": {"reputation": 9, "user_id": 3976762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab5c9a4598a513c7026b2d62c501409?s=128&d=identicon&r=PG&f=1", "display_name": "Zumars", "link": "https://stackoverflow.com/users/3976762/zumars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1433697330, "creation_date": 1433374048, "question_id": 30632560, "link": "https://stackoverflow.com/questions/30632560/how-to-solve-when-python-script-is-running-in-background-the-time-sleep-perf", "title": "how to solve &quot;when python script is running in background, the time.sleep() performs very bad?&quot;", "body": "<p>I'm using wxpython and threading module of python to build a simple timer with GUI. I used time.slee(0.5) to measure the time. The problem is: Once I start the timer and switch to other program like chrome. Some times later when I switched back, the time displayed on my timer is very inaccurate. For example, if I set 3 minutes to run, it turns out that my timer is 3 times slower than the operating system clock. </p>\n\n<p>After searching, I know that time.sleep() is unreliable, but it seems the gap is so huge that makes me doubt if there is something wrong. </p>\n\n<p>I also noticed that If I don't put the script into background, then there is only 2-3 seconds difference.</p>\n\n<p>I can accept several seconds difference, but not 2 \"minutes\".How can I solve it? </p>\n"}, {"tags": ["php", "python", "shell"], "answers": [{"comments": [{"owner": {"reputation": 20745, "user_id": 100240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b3c8e553b1eea4d6d8d52f94d25bd63?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/100240/moon"}, "edited": false, "score": 0, "creation_date": 1433374435, "post_id": 30632578, "comment_id": 49330762, "body": "The problem is that it seems like it&#39;s working for everyone, except me. I don&#39;t see any complains from the plugin repository. When I pass shell=True, it doesn&#39;t actually pass additional arguments to the file."}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "reply_to_user": {"reputation": 20745, "user_id": 100240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b3c8e553b1eea4d6d8d52f94d25bd63?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/100240/moon"}, "edited": false, "score": 0, "creation_date": 1433375776, "post_id": 30632578, "comment_id": 49331147, "body": "@Moon does <code>declare -p PATH</code> in your terminal start with <code>declare -x</code>? If not, your path is not exported and that&#39;s why it fails."}, {"owner": {"reputation": 61029, "user_id": 625914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f1932d8bf4e9dbf779a48b41bbf21592?s=128&d=identicon&r=PG", "display_name": "behzad.nouri", "link": "https://stackoverflow.com/users/625914/behzad-nouri"}, "reply_to_user": {"reputation": 20745, "user_id": 100240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b3c8e553b1eea4d6d8d52f94d25bd63?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/100240/moon"}, "edited": false, "score": 0, "creation_date": 1433378191, "post_id": 30632578, "comment_id": 49331717, "body": "@Moon for whatever reason <code>call([&#39;ls&#39;, &#39;-l&#39;], shell=True)</code> does <i>not</i> pass the <code>-l</code> argument but <code>call(&#39;ls -l&#39;, shell=True)</code> and <code>call([&#39;&#47;bin&#47;ls&#39;, &#39;-l&#39;])</code> do. so if you are passing <code>shell=True</code>, then the command should be a string, not a list."}, {"owner": {"reputation": 20745, "user_id": 100240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b3c8e553b1eea4d6d8d52f94d25bd63?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/100240/moon"}, "edited": false, "score": 0, "creation_date": 1433406654, "post_id": 30632578, "comment_id": 49341994, "body": "@behzad.nouri Thank you so much. I will test them out soon."}], "tags": [], "owner": {"reputation": 61029, "user_id": 625914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f1932d8bf4e9dbf779a48b41bbf21592?s=128&d=identicon&r=PG", "display_name": "behzad.nouri", "link": "https://stackoverflow.com/users/625914/behzad-nouri"}, "is_accepted": true, "score": 2, "last_activity_date": 1433374163, "creation_date": 1433374163, "answer_id": 30632578, "question_id": 30632537, "link": "https://stackoverflow.com/questions/30632537/python-subprocess-doesnt-recognize-commands-in-path/30632578#30632578", "title": "Python subprocess doesn&#39;t recognize commands in $PATH", "body": "<p>As in the <a href=\"https://docs.python.org/3.5/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow\">docs</a> you need to pass <code>shell=True</code>, as an argument to <code>subprocess.Popen</code>:</p>\n\n<blockquote>\n  <p>If shell is True, the specified command will be executed through the shell. This can be useful if you are using Python primarily for the enhanced control flow it offers over most system shells and still want convenient access to other shell features such as shell pipes, filename wildcards, <strong>environment variable expansion</strong>, and expansion of ~ to a user\u2019s home directory. </p>\n</blockquote>\n\n<p>Though the use of <code>shell=True</code> is discourged <a href=\"https://docs.python.org/3.5/library/subprocess.html#security-considerations\" rel=\"nofollow\">due to security considerations</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "is_accepted": false, "score": 1, "last_activity_date": 1433374273, "creation_date": 1433374273, "answer_id": 30632599, "question_id": 30632537, "link": "https://stackoverflow.com/questions/30632537/python-subprocess-doesnt-recognize-commands-in-path/30632599#30632599", "title": "Python subprocess doesn&#39;t recognize commands in $PATH", "body": "<p>The <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">shell keyword parameter</a> will be of help, but do note, the documentation does recommend using the <a href=\"https://pypi.python.org/pypi/subprocess32/\" rel=\"nofollow\">subprocess32 module</a> on POSIX systems.</p>\n"}], "owner": {"reputation": 20745, "user_id": 100240, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b3c8e553b1eea4d6d8d52f94d25bd63?s=128&d=identicon&r=PG", "display_name": "Moon", "link": "https://stackoverflow.com/users/100240/moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 30632578, "answer_count": 2, "score": 3, "last_activity_date": 1433374273, "creation_date": 1433373901, "question_id": 30632537, "link": "https://stackoverflow.com/questions/30632537/python-subprocess-doesnt-recognize-commands-in-path", "title": "Python subprocess doesn&#39;t recognize commands in $PATH", "body": "<p>I'm trying to debug a sublime plugin that stopped working all of the sudden.</p>\n\n<p>I have the following code in the plugin.</p>\n\n<pre><code>proc = subprocess.Popen(cmd, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, startupinfo=info, cwd=home)\ndata = proc.communicate()[0]\n</code></pre>\n\n<p>Basically, it's executing a file that has <code>#!/usr/bin/env php</code> at the top. When I run the command, I get <code>env: php: no such file or directory</code> error message. </p>\n\n<p>I fixed it by using absolute path.</p>\n\n<p><strong>Solution 1</strong>: #!/usr/bin/env /Applications/MAMP/bin/php/php5.5.18/bin/php</p>\n\n<p>While this works, I really wonder why it doesn't work when <strong>php</strong> is available when I execute it in my terminal and the path to the command is defined in $PATH variable.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "django", "google-app-engine", "cron", "wsgi"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1433401826, "creation_date": 1433401826, "answer_id": 30637268, "question_id": 30632528, "link": "https://stackoverflow.com/questions/30632528/when-setting-up-app-yaml-url-handler-how-to-format-url-to-script/30637268#30637268", "title": "When setting up app.yaml url handler, how to format url to script?", "body": "<p>It's a Python path, you use dots not slashes.</p>\n\n<p>But there is nothing special about the cron URLs: they are exactly the same as any other URLs in your project, and follow exactly the same rules. If you want it to be handled by Django, you don't need to add a specific entry in the app.yaml at all, just let it use the existing mapping for the rest of the Django URLs.</p>\n"}], "owner": {"reputation": 2808, "user_id": 1502780, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/44c3603f0a43656194e8d6d8ca59f8a1?s=128&d=identicon&r=PG&f=1", "display_name": "LazerSharks", "link": "https://stackoverflow.com/users/1502780/lazersharks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433401826, "creation_date": 1433373873, "last_edit_date": 1433375680, "question_id": 30632528, "link": "https://stackoverflow.com/questions/30632528/when-setting-up-app-yaml-url-handler-how-to-format-url-to-script", "title": "When setting up app.yaml url handler, how to format url to script?", "body": "<p>I'm not sure how to set up the url to a script for handler within app.yaml. I've tried following the docs (<a href=\"https://cloud.google.com/appengine/docs/python/config/cron\" rel=\"nofollow\">https://cloud.google.com/appengine/docs/python/config/cron</a>) on setting up a cron job, but my crons are failing in GAE. I am also getting this error: \n<code>\\myproject\\app.yaml: threadsafe cannot be enabled with CGI handler: myprojectApp/dsProcess.aggregate</code></p>\n\n<p>I think the docs assume that I am not using WSGI, but my use of WSGI is somehow affecting how scripts are accessed within the application.</p>\n\n<p>This is my project structure with the pertinent files:</p>\n\n<pre><code>myproject/\n    myproject/      (package for project)\n        urls.py     (defers url handling to myprojectApp.urls)\n    myprojectApp/   (package for actual app)\n        urls.py\n        dsProcess.py  ( contains the aggregate function my cron should call)\n    app.yaml\n    cron.yaml\n    main.py\n</code></pre>\n\n<p>Within app.yaml, I'm not sure how to format the url to dsProcess.py's aggregate function:</p>\n\n<p><strong>app.yaml</strong></p>\n\n<pre><code>handlers:\n- url: /aggDB\n  script: myprojectApp/dsProcess.aggregate &lt;-- unsure here\n</code></pre>\n\n<p>should it be myprojectApp.dsProcess.aggregate instead?\n<code>myprojectApp.dsProcess.aggregate.py</code>? <code>myprojectApp.dsProcess.aggregate.app</code>?</p>\n\n<p>I'm running Python 2.7.9</p>\n\n<p><strong>cron.yaml</strong></p>\n\n<pre><code>cron:\n- description: aggregates db\n  url: /aggDB\n  schedule: every 1 mins\n</code></pre>\n\n<p><strong>main.py</strong></p>\n\n<pre><code>import django.core.handlers.wsgi    \napplication = django.core.handlers.wsgi.WSGIHandler()\n</code></pre>\n\n<p><strong>myprojectApp/dsProcess.py</strong></p>\n\n<pre><code>def aggregate():\n</code></pre>\n\n<p><strong>myproject/urls.py</strong> and <strong>myprojectApp/urls.py</strong></p>\n\n<p>I'm guessing I don't need to set up url patterns within these for the <code>aggDB/</code> url that will be hit, since <code>app.yaml</code>  will register and listen for that url pattern for me. Is this correct?</p>\n\n<p>Nonetheless, here are the two urls.py:</p>\n\n<p><em>myproject/urls.py</em></p>\n\n<pre><code>urlpatterns = patterns('',\n                       (r'^', include('myprojectApp.urls')),\n                       )\n</code></pre>\n\n<p><em>myprojectApp/urls.py</em></p>\n\n<pre><code>urlpatterns = patterns('',\n    ...\n     #don't need to handle this here, let app.yaml handle it?  \n    # (r'^aggDB/$', dsProcess.aggDStoJSON()),\n)\n</code></pre>\n\n<p>Would me use of wsgi affect how I access my scripts? If so, how and why? </p>\n"}, {"tags": ["javascript", "python", "mysql", "sqlite"], "comments": [{"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433373759, "post_id": 30632476, "comment_id": 49330553, "body": "sqlalchemy could be used as your ORM and you can select whichever Rdb you want underneath mysql, postgres, etc  For frameworks there are too many to list."}, {"owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 0, "creation_date": 1433373850, "post_id": 30632476, "comment_id": 49330581, "body": "You should remove the last question, but that is clearly an opinion-based question based on a product recommendation -- not allowed on Stack Overflow.  (And, there are many other choices; I might argue for Postgres.)"}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1433376305, "post_id": 30632476, "comment_id": 49331268, "body": "Re web frameworks; Using <a href=\"https://github.com/circuits/circuits\" rel=\"nofollow noreferrer\">circuits</a> can be pretty easy; e.g: <a href=\"https://github.com/circuits/circuits/blob/master/examples/web/wiki/wiki.py\" rel=\"nofollow noreferrer\">wiki.py</a> which uses an sqlite database."}, {"owner": {"reputation": 1331, "user_id": 3509416, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5289e35d10a71dcee399b70bcb6a674c?s=128&d=identicon&r=PG&f=1", "display_name": "hselbie", "link": "https://stackoverflow.com/users/3509416/hselbie"}, "edited": false, "score": 0, "creation_date": 1433431762, "post_id": 30632476, "comment_id": 49359723, "body": "Thanks for the help, I&#39;ve taken out the last comment although I wasn&#39;t trying to recommend a product. I think I&#39;m going to continue with web2py, the Github page seems to have a script that migrates sqlite into the DAL necessary to build an app."}], "owner": {"reputation": 1331, "user_id": 3509416, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5289e35d10a71dcee399b70bcb6a674c?s=128&d=identicon&r=PG&f=1", "display_name": "hselbie", "link": "https://stackoverflow.com/users/3509416/hselbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1433431683, "creation_date": 1433373547, "last_edit_date": 1433431683, "question_id": 30632476, "link": "https://stackoverflow.com/questions/30632476/best-way-to-use-sqlite-as-back-end", "title": "Best way to use SQLite as back end", "body": "<p>I have a SQLite database that has various data and using python, I can access this database locally, perform calculations on the data housed in the database and return results.</p>\n\n<p>I want to take it to the next step and deploy this online as a backend to a webpage whereby the front end user would be able to click and invoke one of several python scripts, and have the data passed back into the web framework.\nIf possible I would like the user be able to update the data from the web framework, i.e. not have it read only. </p>\n\n<p>I'm very much a newbie and content to thrash around, what i'm struggling with is the best workflow to move forward. </p>\n\n<p>SQLite -> Python -> Javascript running in browser? Whereby a user would click a button that would use javascript to invoke the python script, the data then being passed back as some kind of json or xml or similar?</p>\n\n<p>Is it better to try and do the whole thing using python using something like web2py?</p>\n\n<p>Are there any frameworks that make this easy like wordpress (which I think is php)</p>\n"}, {"tags": ["python", "algorithm", "search"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 4, "creation_date": 1433373436, "post_id": 30632436, "comment_id": 49330443, "body": "Python is not a language best suited to functional programming, if you like functional you would love scala, there also also bisection algorithms in the bisect module in pure python"}, {"owner": {"reputation": 1108, "user_id": 3392770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9FJw.png?s=128&g=1", "display_name": "Nikita Kozlov", "link": "https://stackoverflow.com/users/3392770/nikita-kozlov"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433373827, "post_id": 30632436, "comment_id": 49330573, "body": "Thanks I will try scala. There are such module, but it uses approach similar to first: <a href=\"https://hg.python.org/cpython/file/2.7/Lib/bisect.py\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/2.7/Lib/bisect.py</a>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1433374990, "post_id": 30632436, "comment_id": 49330931, "body": "The first one isn&#39;t valid Python."}, {"owner": {"reputation": 1108, "user_id": 3392770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9FJw.png?s=128&g=1", "display_name": "Nikita Kozlov", "link": "https://stackoverflow.com/users/3392770/nikita-kozlov"}, "edited": false, "score": 0, "creation_date": 1433431698, "post_id": 30632436, "comment_id": 49359680, "body": "Thanks, I have edited post."}, {"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1433588510, "post_id": 30632436, "comment_id": 49424470, "body": "The pragmatic python approach would be to use existing methods like <code>bisect.bisect_left()</code> (<a href=\"https://docs.python.org/2/library/bisect.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/bisect.html</a>) or <code>numpy.searchsorted()</code> (<a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.searchsorted.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/&hellip;</a>). Arguably that is probably not the approach you had in mind. But you could take a look at the source code."}, {"owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "edited": false, "score": 1, "creation_date": 1434029866, "post_id": 30632436, "comment_id": 49614780, "body": "You might find the site Rosetta Code useful. It shows you implementations of an algorithm in multiple languages and styles. Here&#39;s the <a href=\"http://rosettacode.org/wiki/Binary_search\" rel=\"nofollow noreferrer\">Binary Search</a> page and the <a href=\"http://rosettacode.org/wiki/Binary_search#Python\" rel=\"nofollow noreferrer\">Python</a> section."}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1434053704, "post_id": 30632436, "comment_id": 49630651, "body": "What do you mean by functional style? A functional language would likely use recursion to solve this problem, exactly as you have."}], "answers": [{"comments": [{"owner": {"reputation": 4227, "user_id": 8200485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6663ff2d61581b26bd021b3ce6b6376?s=128&d=identicon&r=PG", "display_name": "hyper-neutrino", "link": "https://stackoverflow.com/users/8200485/hyper-neutrino"}, "edited": false, "score": 0, "creation_date": 1433715820, "post_id": 30699000, "comment_id": 49456365, "body": "I edited it so that it won&#39;t exceed maximum recursion depth if the search didn&#39;t exist in the array"}, {"owner": {"reputation": 3007, "user_id": 1423333, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/d8PdR.png?s=128&g=1", "display_name": "J&#246;rn Hees", "link": "https://stackoverflow.com/users/1423333/j%c3%b6rn-hees"}, "edited": false, "score": 1, "creation_date": 1434110281, "post_id": 30699000, "comment_id": 49653217, "body": "that addition of <code>if search not in array</code> defeats the whole idea behind binary search, doesn&#39;t it? In the first recursion it will do a full run through the <code>array</code>... you probably want <code>if len(array) &lt; 2 and search != array[0]: return -1</code>. Also there&#39;s a <code>)</code> too much in your last line..."}], "tags": [], "owner": {"reputation": 4227, "user_id": 8200485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6663ff2d61581b26bd021b3ce6b6376?s=128&d=identicon&r=PG", "display_name": "hyper-neutrino", "link": "https://stackoverflow.com/users/8200485/hyper-neutrino"}, "is_accepted": false, "score": 1, "last_activity_date": 1434152850, "last_edit_date": 1434152850, "creation_date": 1433715237, "answer_id": 30699000, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30699000#30699000", "title": "Binary search implementations", "body": "<p>4) This one uses recursion. If the halfway is correct, it returns the index. Otherwise, it splits the array in half and continues searching in that manner.</p>\n\n<pre><code>def getIndexOf(search, array):\n    arrlen = len(array)\n    halfindex = arrlen / 2 - ((arrlen % 2) / 2)\n    value = array[halfindex]\n    if len(array) &lt; 2 and array[0] != search:\n        return -1;\n    if value == search:\n        return halfindex\n    elif search &lt; value:\n        return getIndexOf(search, array[0:halfindex])\n    else:\n        return getIndexOf(search, array[halfindex:arrlen] + halfindex)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 4988211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b47fabe3d103f2614d740178413cc81?s=128&d=identicon&r=PG&f=1", "display_name": "hajtos", "link": "https://stackoverflow.com/users/4988211/hajtos"}, "is_accepted": true, "score": 1, "last_activity_date": 1433806822, "creation_date": 1433806822, "answer_id": 30720780, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30720780#30720780", "title": "Binary search implementations", "body": "<p>You could use a generator:</p>\n\n<pre><code>def chopper(array, val):\n    edges = (0, len(array))\n    while True:\n        m = sum(edges)/2\n        edges = (edges[0], m) if array[m] &gt;= val else (m+1, edges[1])\n        yield edges\n\ndef chopSearch(array, val):\n    for l, r in chopper(array, val):\n        if array[l] == val:\n            return l\n        if l==r:\n            return -1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1108, "user_id": 3392770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9FJw.png?s=128&g=1", "display_name": "Nikita Kozlov", "link": "https://stackoverflow.com/users/3392770/nikita-kozlov"}, "edited": false, "score": 0, "creation_date": 1433879041, "post_id": 30735532, "comment_id": 49538605, "body": "In the worst case it works in O (n), which is not quite a binary search, but thanks! It&#39;s interesting approach."}, {"owner": {"reputation": 727, "user_id": 4582045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec80e0c8aba555ebfb1ace1f29fb84b?s=128&d=identicon&r=PG&f=1", "display_name": "Akshar", "link": "https://stackoverflow.com/users/4582045/akshar"}, "reply_to_user": {"reputation": 1108, "user_id": 3392770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9FJw.png?s=128&g=1", "display_name": "Nikita Kozlov", "link": "https://stackoverflow.com/users/3392770/nikita-kozlov"}, "edited": false, "score": 0, "creation_date": 1433948698, "post_id": 30735532, "comment_id": 49573334, "body": "We are still chopping, so it is still binary. The only change is that instead of going to the next child in a binary search, we pick a random child from all generations of the current node. So worst case would still be log(n). With large datasets, randomization has proved to be an effective technique for optimization, hence the approach."}], "tags": [], "owner": {"reputation": 727, "user_id": 4582045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec80e0c8aba555ebfb1ace1f29fb84b?s=128&d=identicon&r=PG&f=1", "display_name": "Akshar", "link": "https://stackoverflow.com/users/4582045/akshar"}, "is_accepted": false, "score": -1, "last_activity_date": 1433861379, "creation_date": 1433861379, "answer_id": 30735532, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30735532#30735532", "title": "Binary search implementations", "body": "<p>Randomized split search.</p>\n\n<ol>\n<li>Current node = root.</li>\n<li>Repeat while not found.\n<ul>\n<li>If current node = required value, found.</li>\n<li>If the required integer is less than the root, randomly pick an index from 0 to index(root). Set current node = picked index.</li>\n<li>Else, randomly pick an index from root to n-1. Set current node = picked index.</li>\n</ul></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "edited": false, "score": 0, "creation_date": 1434096866, "post_id": 30755577, "comment_id": 49645383, "body": "Link broken; btw., +1 for using slices :)"}, {"owner": {"reputation": 84156, "user_id": 916657, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG", "display_name": "Niklas B.", "link": "https://stackoverflow.com/users/916657/niklas-b"}, "edited": false, "score": 1, "creation_date": 1434101720, "post_id": 30755577, "comment_id": 49648187, "body": "How exactly is that better then OP&#39;s first snippet? I feel like it&#39;s much cleaner than any of your three options"}], "tags": [], "owner": {"reputation": 19, "user_id": 4882082, "user_type": "registered", "profile_image": "https://graph.facebook.com/350394388500432/picture?type=large", "display_name": "Rekha Singhania", "link": "https://stackoverflow.com/users/4882082/rekha-singhania"}, "is_accepted": false, "score": 1, "last_activity_date": 1439905417, "last_edit_date": 1439905417, "creation_date": 1433937247, "answer_id": 30755577, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30755577#30755577", "title": "Binary search implementations", "body": "<p>1.A straightforward implementation of the binary search algorithm.</p>\n\n<pre><code>def binary_search(seq, t):\nmin = 0\nmax = len(seq) - 1\n  while True:\n     if max &lt; min:\n       return -1\n       m = (min + max) // 2\n     if seq[m] &lt; t:\n       min = m + 1\n     elseif seq[m] &gt; t:\n       max = m - 1\n   else:\n      return m\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Alternative approach for binary search.</p>\n\n<pre><code>def binarySearch(alist, item):\n    first = 0\n    last = len(alist)-1\n    found = False\nwhile first&lt;=last and not found:\n     midpoint = (first + last)//2\nif alist[midpoint] == item:\n   found = True\n else\nif item &lt; alist[midpoint]:\nlast = midpoint-1\n else:\nfirst = midpoint+1\n    return found\ntestlist = [0, 1, 2, 8, 13, 17, 19, 32, 42,]\nprint(binarySearch(testlist, 3))\nprint(binarySearch(testlist, 13))\n</code></pre></li>\n</ol>\n\n<p>3.Third different way for handling binary search in python programming</p>\n\n<pre><code>   def binarySearch(alist, item):\n        if len(alist) == 0:\n            return False\n        else:\n            midpoint = len(alist)//2\n            if alist[midpoint]==item:\n              return True\n            else:\n              if item&lt;alist[midpoint]:\n                return binarySearch(alist[:midpoint],item)\n              else:\n                return binarySearch(alist[midpoint+1:],item)\n        testlist = [0, 1, 2, 8, 13, 17, 19, 32, 42,]\n       print(binarySearch(testlist, 3))\n       print(binarySearch(testlist, 13))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 261, "user_id": 4624924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c961431faea38ed65bfd982cf2e31bd0?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/4624924/bob"}, "is_accepted": false, "score": -1, "last_activity_date": 1434029583, "last_edit_date": 1434029583, "creation_date": 1433969550, "answer_id": 30767091, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30767091#30767091", "title": "Binary search implementations", "body": "<p>Functional programming implies multiple functions, each with their own single purpose, which return the same output for a given input:</p>\n\n<pre><code>def chopSearch(array, value):\n    while len(array) != 1:\n        if value == getMiddle(array):\n            return value\n        else:\n            array = getNewArray(array, lessThan(array, value))\n    return if array[0] == value value else -1\n\ndef getMiddle(array):\n    return if (len(array) % 2 == 0) array[len(array)/2] else array[(len(array)+1)/2]\n\ndef lessThan(array, value):\n    return if getMiddle(array) &gt; value true else false\n\ndef getNewArray(array, isLess):\n    return if isLess array[0:getMiddle(array)] else array[getMiddle(array)+1:len(array)-1]\n</code></pre>\n\n<p>As a caviat, I don't know python so it took me a minute to try and write this. Feel free to fix any pyton mistakes you see. </p>\n"}, {"tags": [], "owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "is_accepted": false, "score": -1, "last_activity_date": 1434097127, "creation_date": 1434097127, "answer_id": 30798467, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations/30798467#30798467", "title": "Binary search implementations", "body": "<p>Courtesy of PSF</p>\n\n<pre><code>In [1]: import bisect\n\nIn [2]: bisect??\ndef bisect_left(a, x, lo=0, hi=None):\n    \"\"\"Return the index where to insert item x in list a, assuming a is sorted.\n\n    The return value i is such that all e in a[:i] have e &lt; x, and all e in\n    a[i:] have e &gt;= x.  So if x already appears in the list, a.insert(x) will\n    insert just before the leftmost x already there.\n\n    Optional args lo (default 0) and hi (default len(a)) bound the\n    slice of a to be searched.\n    \"\"\"\n\n    if lo &lt; 0:\n        raise ValueError('lo must be non-negative')\n    if hi is None:\n        hi = len(a)\n    while lo &lt; hi:\n        mid = (lo+hi)//2\n        if a[mid] &lt; x: lo = mid+1\n        else: hi = mid\n    return lo\n</code></pre>\n"}], "owner": {"reputation": 1108, "user_id": 3392770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M9FJw.png?s=128&g=1", "display_name": "Nikita Kozlov", "link": "https://stackoverflow.com/users/3392770/nikita-kozlov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 30720780, "answer_count": 6, "score": -3, "last_activity_date": 1439905417, "creation_date": 1433373288, "last_edit_date": 1433431400, "question_id": 30632436, "link": "https://stackoverflow.com/questions/30632436/binary-search-implementations", "title": "Binary search implementations", "body": "<p>I'm stuck in implementing 5 different ways of binary chop ( task <a href=\"http://codekata.com/kata/kata02-karate-chop/\" rel=\"nofollow\">http://codekata.com/kata/kata02-karate-chop/</a> ). May you give some ideas for more approaches?<br/>That's what I have got:\n<br/>1)</p>\n\n<pre><code>def left_chop(key, arr):\n    l = 0\n    r = len(arr)\n    while l&lt;r:\n        m = (l+r)/2\n        if key&lt;=arr[m]:\n            r = m \n        else:\n            l = m+1\n    return l if key == arr[l] else -1\n</code></pre>\n\n<p><br/>2)</p>\n\n<pre><code>def left_chop(key, array, left = 0, right = None):\n    if right == None:\n        right = len(array)\n    if left==right:\n        return left if key == array[left] else -1\n    m = (left+right)/2\n    if key&lt;=array[m]:\n        return left_chop(key, array, left, m)\n    else:\n        return left_chop(key, array, m+1, right)\n</code></pre>\n\n<p><br/>3)I know, it's very similar to first</p>\n\n<pre><code>class find(object):\n    def __init__(self, key, array):\n        self.array = array\n        self.key = key\n        self.l = 0\n        self.r = len(array)\n\n    def left_chop(self):\n        while self.l&lt;self.r:\n            self.step()\n        return self.l if self.key == self.array[self.l] else -1\n\n    def step(self):\n        m = (self.l+self.r)/2\n        if self.key&lt;=self.array[m]:\n            self.r = m\n        else:\n            self.l = m+1\n</code></pre>\n\n<p>I had tried to come up with something in functional programming style, but haven't succeeded.</p>\n"}, {"tags": ["python", "label", "ipython-notebook", "igraph"], "comments": [{"owner": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1433427132, "post_id": 30632412, "comment_id": 49356133, "body": "Seems to be a duplicate of <a href=\"http://stackoverflow.com/questions/30640489/issue-plotting-vertex-labels-using-igraph-in-ipython\" title=\"issue plotting vertex labels using igraph in ipython\">stackoverflow.com/questions/30640489/&hellip;</a>"}, {"owner": {"reputation": 559, "user_id": 4602327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0491fb8dd2516dacdd4cd2f90b1b0341?s=128&d=identicon&r=PG&f=1", "display_name": "JRun", "link": "https://stackoverflow.com/users/4602327/jrun"}, "reply_to_user": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1433533543, "post_id": 30632412, "comment_id": 49410949, "body": "Not really.   The problem in the link above is that there are no labels at all.  I have a different issue: when I look at my saved files (pdf, png or whatever format), labels are there and are quite fine.  It is just in my ipython notebook that they are messed up--all letters crammed up in a small bounding box I think.  I will take your advice in the posted link and wont change the <code>igraph&#47;drawing&#47;__init__.py</code> file."}, {"owner": {"reputation": 43955, "user_id": 156771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s", "link": "https://stackoverflow.com/users/156771/tam%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1433533884, "post_id": 30632412, "comment_id": 49411141, "body": "This looks similar to me; the problem in that other post happens only in the IPython notebook as well. Basically, there&#39;s something wrong in the SVG implementation of Qt (on which the IPython notebook is based), or igraph is using SVG incorrectly (not sure which is the case) and QtSVG is not able to render the fonts. Saving a figure to PDF or PNG or whatever format skips Qt entirely, so there&#39;s no problem there."}], "owner": {"reputation": 559, "user_id": 4602327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0491fb8dd2516dacdd4cd2f90b1b0341?s=128&d=identicon&r=PG&f=1", "display_name": "JRun", "link": "https://stackoverflow.com/users/4602327/jrun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 976, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433373160, "creation_date": 1433373160, "question_id": 30632412, "link": "https://stackoverflow.com/questions/30632412/python-igraph-vertex-labels-in-ipython-notebook", "title": "python igraph - vertex labels in ipython notebook", "body": "<p>The vertex labels when I plot the graph in ipython notebook inline are all messed up.\nThis problem does not exist when I look at graph.pdf (see code below). I do not have enough stackoverflow reputation to post images here, but I have the pdf file and I can send it over if anyone is interested.</p>\n\n<p>Here is the code snipet:</p>\n\n<pre><code>layout = g.layout(\"random\")\nvisual_style = {}\nvisual_style[\"vertex_label\"] = g.vs[\"label\"]\nvisual_style[\"vertex_label_size\"] = 2\nvisual_style[\"vertex_color\"] = [color_dict[vert] for vert in g.vs[\"label\"]]\nvisual_style[\"bbox\"] = (500,500)\nvisual_style[\"margin\"] = 20\nvisual_style[\"layout\"] = layout    \n\nplot(g, 'graph.pdf', **visual_style)\n</code></pre>\n\n<p>In short, <em>g</em> contains my graph, and is created using a list of <em>vertices</em> and a list of <em>edges</em>.</p>\n\n<pre><code>g = Graph(vertex_attrs={\"label\": vertices}, edges=edges, directed=False)\n</code></pre>\n\n<p>The vertices of <em>g</em> have <em>label</em>s. These <em>label</em>s are things like, 'WRL-Africa' , 'SOC-crime' , 'SPO-soccer' and etc.</p>\n\n<p>Each <em>label</em> is associated with a color through <em>color_dict</em> as follows,</p>\n\n<pre><code>color_dict = {'WRL-Africa':'#A52A2A', 'SOC-crime':'#006400', 'SPO-soccer':'#B22222'}\n</code></pre>\n\n<p>Why is this happening?  It seems to be a bounding box issue.\nThanks in advance for any help.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1123, "user_id": 1955773, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd89349df7d022861075f5fcdb176510?s=128&d=identicon&r=PG", "display_name": "Jin", "link": "https://stackoverflow.com/users/1955773/jin"}, "reply_to_user": {"reputation": 14345, "user_id": 238671, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc17c0a0eb63ef5ae4000782b5bb74d1?s=128&d=identicon&r=PG", "display_name": "Ruggero Turra", "link": "https://stackoverflow.com/users/238671/ruggero-turra"}, "edited": false, "score": 0, "creation_date": 1433373342, "post_id": 30632344, "comment_id": 49330415, "body": "factor_bin_count counts the frequency distribution of the  &#39;value&#39; column for all the samples. Now I want is the frequency count of frequency distribution of &#39;value&#39; column, but only those label=1 ones."}], "answers": [{"tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": true, "score": 1, "last_activity_date": 1433373365, "creation_date": 1433373365, "answer_id": 30632445, "question_id": 30632344, "link": "https://stackoverflow.com/questions/30632344/apply-pandas-qcut-function-to-subgroups/30632445#30632445", "title": "apply pandas qcut function to subgroups", "body": "<p>If I understand your question. You want to take a grouping factor (e.g. you created using <code>qcut</code> to bin the continuous values), and another grouper (e.g. 'label'), then perform an operation. <code>count</code> in this case.</p>\n\n<pre><code>In [36]: df.groupby(['label',factor]).value.count()\nOut[36]: \nlabel  value             \n0      [-0.248, -0.0864]     14\n       (-0.0864, -0.0227]    15\n       (-0.0227, 0.0208]     15\n       (0.0208, 0.0718]      17\n       (0.0718, 0.24]        13\n1      [-0.248, -0.0864]      6\n       (-0.0864, -0.0227]     5\n       (-0.0227, 0.0208]      5\n       (0.0208, 0.0718]       3\n       (0.0718, 0.24]         7\nName: value, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 1123, "user_id": 1955773, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd89349df7d022861075f5fcdb176510?s=128&d=identicon&r=PG", "display_name": "Jin", "link": "https://stackoverflow.com/users/1955773/jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 30632445, "answer_count": 1, "score": 0, "last_activity_date": 1433373451, "creation_date": 1433372746, "last_edit_date": 1433373451, "question_id": 30632344, "link": "https://stackoverflow.com/questions/30632344/apply-pandas-qcut-function-to-subgroups", "title": "apply pandas qcut function to subgroups", "body": "<p>Let us assume we created a dataframe df using the code below. I have created a bin frequency count based on the 'value' column in df. Now how do I get the frequency count of these label=1 samples frequency count based on previous created bin? Obviously, I should not use qcut for those label = 1 samples to get the count, since the bin positions are not same as before.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nmu, sigma = 0, 0.1\ntheta = 0.3\ns = np.random.normal(mu, sigma, 100)\ngroup = np.random.binomial(1, theta, 100)\ndf = pd.DataFrame(np.vstack([s,group]).transpose())\ndf.columns = ['value','label']\nfactor = pd.qcut(df['value'], 5)\nfactor_bin_count = pd.value_counts(factor)\n</code></pre>\n\n<p>Update: I took the solution from jeff</p>\n\n<pre><code>df.groupby(['label',factor]).value.count()\n</code></pre>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 473, "user_id": 4644436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e5b17c0c398023c51fc077c6413f51?s=128&d=identicon&r=PG&f=1", "display_name": "hchandad", "link": "https://stackoverflow.com/users/4644436/hchandad"}, "edited": false, "score": 0, "creation_date": 1433429066, "post_id": 30632327, "comment_id": 49357656, "body": "the parent property is automatically set to the parent when a child is added to another widget , <a href=\"http://kivy.org/docs/api-kivy.uix.widget.html?highlight=parent#kivy.uix.widget.Widget.parent\" rel=\"nofollow noreferrer\">kivy.org/docs/&hellip;</a>  so in your code you overide the parent property and set it to widget(), and when you add GameScreen to sm , it raise an Exception that the GameScreen already have a parent , simply add_widget(game) would work"}, {"owner": {"reputation": 139, "user_id": 3284281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9f9b915b586a175c421ea157d8bba1b?s=128&d=identicon&r=PG&f=1", "display_name": "susanz", "link": "https://stackoverflow.com/users/3284281/susanz"}, "reply_to_user": {"reputation": 473, "user_id": 4644436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e5b17c0c398023c51fc077c6413f51?s=128&d=identicon&r=PG&f=1", "display_name": "hchandad", "link": "https://stackoverflow.com/users/4644436/hchandad"}, "edited": false, "score": 0, "creation_date": 1433521089, "post_id": 30632327, "comment_id": 49404554, "body": "Thank you for your answer! This makes sense. But doing add_widget(game) is giving me an of &quot;name &#39;add_widget&#39; is not defined&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "is_accepted": false, "score": 1, "last_activity_date": 1433385945, "creation_date": 1433385945, "answer_id": 30634095, "question_id": 30632327, "link": "https://stackoverflow.com/questions/30632327/kivy-adding-widget-to-a-screen/30634095#30634095", "title": "Kivy Adding Widget to a screen", "body": "<p>It looks to me like what's happening is that you attempt to give <code>GameScreen</code> a parent TWICE. Once when telling it it's parent is <code>Widget()</code>, and again when you add it to the <code>ScreenManager</code>(which would make <code>sm</code> it's parent). Whichever of them is executed first(I think the <code>parent = Widget()</code> line from looking at the Exception) is causing the error when you try it the second time.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 3284281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9f9b915b586a175c421ea157d8bba1b?s=128&d=identicon&r=PG&f=1", "display_name": "susanz", "link": "https://stackoverflow.com/users/3284281/susanz"}, "edited": false, "score": 0, "creation_date": 1433530400, "post_id": 30671605, "comment_id": 49409381, "body": "YES! Thank you, Flns!"}], "tags": [], "owner": {"reputation": 473, "user_id": 4644436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e5b17c0c398023c51fc077c6413f51?s=128&d=identicon&r=PG&f=1", "display_name": "hchandad", "link": "https://stackoverflow.com/users/4644436/hchandad"}, "is_accepted": true, "score": 3, "last_activity_date": 1464555470, "last_edit_date": 1464555470, "creation_date": 1433522267, "answer_id": 30671605, "question_id": 30632327, "link": "https://stackoverflow.com/questions/30632327/kivy-adding-widget-to-a-screen/30671605#30671605", "title": "Kivy Adding Widget to a screen", "body": "<p>you can do something like this</p>\n\n<pre><code>class GamesScreen(Screen):\n    def __init__(self, **kwargs):\n        super(GameScreen, self).__init__(**kwargs)\n        self.game = ShootingGame()\n        self.add_widget(self.game)\n        clock.schedule_interval(self.game.update, 1.0 / 60.0)\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 3284281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9f9b915b586a175c421ea157d8bba1b?s=128&d=identicon&r=PG&f=1", "display_name": "susanz", "link": "https://stackoverflow.com/users/3284281/susanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5969, "favorite_count": 0, "accepted_answer_id": 30671605, "answer_count": 2, "score": 2, "last_activity_date": 1464555470, "creation_date": 1433372631, "question_id": 30632327, "link": "https://stackoverflow.com/questions/30632327/kivy-adding-widget-to-a-screen", "title": "Kivy Adding Widget to a screen", "body": "<p>This seems to be a silly question. But I have a widget that I want to add to a screen called GameScreen. </p>\n\n<p>This is my Python code: </p>\n\n<pre><code>class WelcomeScreen(Screen):\n    pass\n\nclass BasicScreen(Screen):\n    pass\n\nclass GameScreen(Screen):\n    parent = Widget()\n    game =  ShootingGame()\n    parent.add_widget(game)\n    Clock.schedule_interval(game.update, 1.0 / 60.0)\n    # return parent\n\nsm = ScreenManager()\nsm.add_widget(WelcomeScreen(name='welcome'))\nsm.add_widget(BasicScreen(name='basic'))\nsm.add_widget(GameScreen(name='game'))\n\nclass ShootingApp(App):\n    def build(self):\n        print(sm.current)\n       return sm\n\nif __name__ == '__main__':  \n    ShootingApp().run()\n</code></pre>\n\n<p>And this is my kivy code:</p>\n\n<pre><code>&lt;WelcomeScreen&gt;:\nButton:\n    text: \"Learn about haptic illusions\"\n    size_hint: None, None\n    size: 500, 70\n    pos: 100, 200\n    font_size: 30\n    on_release: app.root.current = \"basic\"\n\nButton:\n    text: \"Play our game\"\n    size_hint: None, None\n    size: 500, 70\n    pos: 100, 100\n    font_size: 30\n    on_release: app.root.current = \"game\"\n\n&lt;BasicScreen&gt;:\nname: \"basic\"\n\n&lt;GameScreen&gt;:\nname: \"game\"\n</code></pre>\n\n<p>The error I am getting is this. And I think this is because I already defined a parent for the widget game. However, I need that parent because the game widget uses width and height values of its parent (e.g., self.parent.width). Is there any workaround for this so that the game widget can be nested in a parent and add the parent to the screen? </p>\n\n<pre><code>kivy.uix.widget.WidgetException: Cannot add &lt;Screen name='game'&gt;, it already has a parent &lt;kivy.uix.widget.Widget object at 0x1093dc8d8&gt;\n</code></pre>\n\n<p>Thanks guys!!</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 1606998, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/8b05d357cd427c07e02599dfc556c823?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1606998/mark"}, "edited": false, "score": 2, "creation_date": 1433374132, "post_id": 30632345, "comment_id": 49330673, "body": "Thanks! <code>qs.filter(post_comments__isnull=False)</code> has worked. A little more explanation about this in the documentation would&#39;ve been nice."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1433400954, "post_id": 30632345, "comment_id": 49338726, "body": "Note that my blog entry is pretty outdated, prefetch_related hadn&#39;t been added when I wrote that and it does pretty much what I say there."}], "tags": [], "owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "is_accepted": true, "score": 5, "last_activity_date": 1433401441, "last_edit_date": 1495542725, "creation_date": 1433372749, "answer_id": 30632345, "question_id": 30632254, "link": "https://stackoverflow.com/questions/30632254/filter-queryset-by-reverse-exists-check-in-django/30632345#30632345", "title": "Filter queryset by reverse exists check in Django", "body": "<p>According to the <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/queries/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>To refer to a \u201creverse\u201d relationship, just use the lowercase name of the model.</p>\n</blockquote>\n\n<p>From <a href=\"https://stackoverflow.com/questions/13829082/filter-django-objects-where-related-object-exists\">this answer</a> it follows your code would be:</p>\n\n<pre><code>if user:\n    qs = qs.filter(user=user)\nif active:\n    qs = qs.filter(active=active)\nif has_comments:\n    qs = qs.filter(comment__isnull=False)\n</code></pre>\n\n<p>With regards to performance take <a href=\"https://stackoverflow.com/a/5437609/4850343\">this answer</a> into account:</p>\n\n<blockquote>\n  <p>Django doesn't support the select_related() method for reverse foreign\n  key lookups, so the best you can do without leaving Python is two\n  database queries. </p>\n</blockquote>\n\n<p>You should also have a look at <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#prefetch-related\" rel=\"nofollow noreferrer\"><code>prefetch_related</code></a> which can, unlike <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#select-related\" rel=\"nofollow noreferrer\"><code>select_related</code></a> do lookups across reverse <code>ForeignKeys</code>, albeit with a separate query for each element of the queryset.</p>\n"}], "owner": {"reputation": 594, "user_id": 1606998, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/8b05d357cd427c07e02599dfc556c823?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1606998/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5069, "favorite_count": 2, "accepted_answer_id": 30632345, "answer_count": 1, "score": 6, "last_activity_date": 1433401441, "creation_date": 1433372210, "question_id": 30632254, "link": "https://stackoverflow.com/questions/30632254/filter-queryset-by-reverse-exists-check-in-django", "title": "Filter queryset by reverse exists check in Django", "body": "<p>I have models:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Post(models.Model):\n    content = models.CharField()\n    user = models.ForeignKey('users.User')\n    active = models.BooleanField(default=True)\n\nclass Comment(models.Model):\n    post = models.ForeignKey(Post, related_name='post_comments')\n</code></pre>\n\n<p>And a queryset which is filtered by query params:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>user = request.QUERY_PARAMS.get('user_id', None)\nactive = request.QUERY_PARAMS.get('active', None)\nhas_comments = request.QUERY_PARAMS.get('has_comments', None)\n\nqs = Post.objects.all()\n\nif user:\n    qs = qs.filter(user=user)\nif active:\n    qs = qs.filter(active=active)\nif has_comments:\n    ???\n</code></pre>\n\n<p>I don't get how I can filter this query while maintaining all the previous filters. Is it possible?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1433379687, "post_id": 30632233, "comment_id": 49332108, "body": "You could try using shapely: <a href=\"http://stackoverflow.com/questions/21612976/point-inside-polygon\">stackoverflow.com/questions/21612976/point-inside-polygon</a>"}, {"owner": {"reputation": 24415, "user_id": 3730397, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/d1OmM.png?s=128&g=1", "display_name": "firelynx", "link": "https://stackoverflow.com/users/3730397/firelynx"}, "edited": false, "score": 0, "creation_date": 1433412732, "post_id": 30632233, "comment_id": 49346218, "body": "Or you could try using geopandas: <a href=\"http://geopandas.org/\" rel=\"nofollow noreferrer\">geopandas.org</a>"}, {"owner": {"reputation": 319, "user_id": 1206923, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/6200d29acd507e722dce45fd2c85b9d3?s=128&d=identicon&r=PG", "display_name": "Laurynas Sta\u0161ys", "link": "https://stackoverflow.com/users/1206923/laurynas-sta%c5%a1ys"}, "edited": false, "score": 0, "creation_date": 1433419223, "post_id": 30632233, "comment_id": 49350582, "body": "My concern however is that I also update the dataframe in the process which is pretty slow (as it contains aforementioned 10m rows). Maybe I should try different approach (i.e. create a new mapping list/dataframe) as I guess that updating a dataframe is the bottleneck in the process. Also maybe there&#39;s a smarter way how to optimize a closest point search rather than to reiterate through points over and over again?"}], "owner": {"reputation": 319, "user_id": 1206923, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/6200d29acd507e722dce45fd2c85b9d3?s=128&d=identicon&r=PG", "display_name": "Laurynas Sta\u0161ys", "link": "https://stackoverflow.com/users/1206923/laurynas-sta%c5%a1ys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1433372092, "creation_date": 1433372092, "question_id": 30632233, "link": "https://stackoverflow.com/questions/30632233/updating-dataframe-in-python-pandas", "title": "Updating DataFrame in Python Pandas", "body": "<p>I am working with spatial data in Python Pandas. I have two dataframes that represent two distinct business entities - transactions and locations (sizes of 10^6 and 420). I am trying to map transaction to specific location by updating transactions dataframe.\nIs there a better way to do that than what I am doing in simple nested for loop?! I tried using k-d and r trees but these are hard to implement. On the other hand, simple nested for loop takes ages to complete.\nThis is my code for nested for loop:</p>\n\n<pre><code>    for parkomatIndex, parkomatRow in parkomats.iterrows():\n        if (parkomatRow[\"area\"] == \"\"):\n            if (pointInPolygon(round(float(parkomatRow[\"lon\"]), 6), round(float(parkomatRow[\"lat\"]), 6), parkingZonePolygon)):\n                parkomats.ix[parkomatIndex, \"area\"] = index\n</code></pre>\n\n<p>Function to resolve whether point is in polygon (used function from <a href=\"http://www.ariel.com.au/a/python-point-int-poly.html\" rel=\"nofollow\">http://www.ariel.com.au/a/python-point-int-poly.html</a>)</p>\n\n<pre><code>def pointInPolygon(x,y,poly):\n\nn = int(len(poly[0]))\ninside = False\n\np1x = round(float(poly[1][0].replace(\",\", \".\")), 6)\np1y = round(float(poly[0][1].replace(\",\", \".\")), 6)\n\nfor i in range(n+1):\n    p2x = round(float(poly[1][i % n].replace(\",\", \".\")), 6)\n    p2y = round(float(poly[0][i % n].replace(\",\", \".\")), 6)\n\n    if y &gt; min(p1y,p2y):\n        if y &lt;= max(p1y,p2y):\n            if x &lt;= max(p1x,p2x):\n                if p1y != p2y:\n                    xints = (y-p1y)*(p2x-p1x)/(p2y-p1y)+p1x\n                if p1x == p2x or x &lt;= xints:\n                    inside = not inside\n    p1x = p2x\n    p1y = p2y\n\nreturn inside\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1433373439, "post_id": 30632226, "comment_id": 49330444, "body": "So the <i>Method Resolution Order</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1433373177, "post_id": 30632272, "comment_id": 49330357, "body": "I found <code>inspect.getmro</code> but didn&#39;t make the connection with <code>type()</code>. Thanks!"}], "tags": [], "owner": {"reputation": 61029, "user_id": 625914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f1932d8bf4e9dbf779a48b41bbf21592?s=128&d=identicon&r=PG", "display_name": "behzad.nouri", "link": "https://stackoverflow.com/users/625914/behzad-nouri"}, "is_accepted": false, "score": 2, "last_activity_date": 1433372330, "creation_date": 1433372330, "answer_id": 30632272, "question_id": 30632226, "link": "https://stackoverflow.com/questions/30632226/get-list-of-bases-in-an-object/30632272#30632272", "title": "Get list of bases in an object", "body": "<p>see <a href=\"https://docs.python.org/3.5/library/inspect.html#inspect.getmro\" rel=\"nofollow\">inspect.getmro</a>, or <a href=\"https://docs.python.org/3.5/library/inspect.html#inspect.getclasstree\" rel=\"nofollow\">inspect.getclasstree</a>:</p>\n\n<pre><code>&gt;&gt;&gt; inspect.getmro(type(my_object))\n(&lt;class '__main__.mixedClass'&gt;, &lt;class '__main__.MixinB'&gt;, &lt;class '__main__.MixinA'&gt;, &lt;class 'object'&gt;)\n</code></pre>\n\n<p>alternatively, <a href=\"https://docs.python.org/3.5/library/stdtypes.html#class.__bases__\" rel=\"nofollow\"><code>__bases__</code></a></p>\n\n<pre><code>&gt;&gt;&gt; type(my_object).__bases__\n(&lt;class '__main__.MixinB'&gt;, &lt;class '__main__.MixinA'&gt;, &lt;class 'object'&gt;)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1433373191, "post_id": 30632305, "comment_id": 49330362, "body": "Ah! Excellent. That was exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1433372522, "creation_date": 1433372522, "answer_id": 30632305, "question_id": 30632226, "link": "https://stackoverflow.com/questions/30632226/get-list-of-bases-in-an-object/30632305#30632305", "title": "Get list of bases in an object", "body": "<p>You can get the bases from the <code>__class__</code></p>\n\n<pre><code>bases_used = my_object.__class__.__bases__\n\nprint(bases_used)\n(&lt;class '__main__.MixinB'&gt;, &lt;class '__main__.MixinA'&gt;, &lt;type 'object'&gt;)\n</code></pre>\n"}], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 30632305, "answer_count": 2, "score": 3, "last_activity_date": 1433372522, "creation_date": 1433372061, "question_id": 30632226, "link": "https://stackoverflow.com/questions/30632226/get-list-of-bases-in-an-object", "title": "Get list of bases in an object", "body": "<p>How do you get a list of all the bases utilized by an object in it's creation? For instance:</p>\n\n<pre><code>class MixinA(object):\n    pass\n\nclass MixinB(object):\n    pass\n\nclass mixedClass(MixinB, MixinA, object):\n    pass\n\nmy_object = mixedClass()\nbases_used = my_object.???   # Is there a property that contains a list of [MixinA, MixinB, object]?\n</code></pre>\n\n<p>I'm looking to somehow extract what the bases of an <em>object</em> are, primarily because I'm actually building the object's class dynamically but I want to report on what mixins were used in certain error cases.</p>\n"}, {"tags": ["python", "theano"], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 3912849, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/QDhC2.jpg?s=128&g=1", "display_name": "hunch", "link": "https://stackoverflow.com/users/3912849/hunch"}, "edited": false, "score": 0, "creation_date": 1499352681, "post_id": 30651047, "comment_id": 76879799, "body": "Can you please give a simple examples where use of names is very much helpful? Thanks"}], "tags": [], "owner": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1433441097, "creation_date": 1433441097, "answer_id": 30651047, "question_id": 30632204, "link": "https://stackoverflow.com/questions/30632204/what-is-the-name-field-used-for-in-the-definition-of-a-theano-shared-variable/30651047#30651047", "title": "What is the &#39;name&#39; field used for in the definition of a theano shared variable?", "body": "<p>Assigning names to Theano objects helps during debugging. For example, <code>theano.printing.debugprint</code> will include the name, if present, in its output; this can make understanding a complex computation graph easier.</p>\n\n<p>You can also give names to input variables (e.g. <code>x=theano.tensor.scalar('x')</code>) and functions (e.g. <code>f=theano.function(inputs, outputs, name='f')</code>.</p>\n\n<p>The output of <code>theano.printing.debugprint</code> can be limited by naming nodes whose content you don't need to see and using the <code>stop_on_name</code> parameter.</p>\n\n<p>Keep Python names and Theano names in sync can be tedious and error prone. In some circumstances you might like to use functions such as:</p>\n\n<pre><code>def name_node(variable, variable_names):\n    for name, query_variable in variable_names.iteritems():\n        if query_variable is variable:\n            variable.name = name\n\n    return variable\n\n\ndef name_nodes(variables, variable_names):\n    if not isinstance(variables, (tuple, list)):\n        return name_node(variables, variable_names)\n\n    for variable in variables:\n        for name, query_variable in variable_names.iteritems():\n            if query_variable is variable:\n                variable.name = name\n\n    return variables\n</code></pre>\n\n<p>In a symbolic function you can use these like this:</p>\n\n<pre><code>def create_graph(w_filename):\n    x = T.scalar()\n    w = theano.shared(numpy.load(w_filename))\n    y = T.tanh(theano.dot(x, w))\n    return name_nodes([x, w, y], locals())\n</code></pre>\n\n<p>This is a bit of a Python hack and won't be suitable in all circumstances.</p>\n"}], "owner": {"reputation": 426, "user_id": 1758727, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/HQcJS.jpg?s=128&g=1", "display_name": "czxttkl", "link": "https://stackoverflow.com/users/1758727/czxttkl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1433441097, "creation_date": 1433371972, "last_edit_date": 1433372030, "question_id": 30632204, "link": "https://stackoverflow.com/questions/30632204/what-is-the-name-field-used-for-in-the-definition-of-a-theano-shared-variable", "title": "What is the &#39;name&#39; field used for in the definition of a theano shared variable?", "body": "<p>I notice that you can define a theano shared variable by:</p>\n\n<pre><code>theano.shared(value, name=None, strict=False, allow_downcast=None, **kwargs)\n</code></pre>\n\n<p>In theano doc <a href=\"http://deeplearning.net/software/theano/library/compile/shared.html#module-shared\" rel=\"nofollow\">here</a>, it says the name field is \"the name for this variable\". I see in most cases people just pass a exactly same string to the name field as the shared variable's name in Python. For example:</p>\n\n<pre><code>a = theano.shared(1, \"a\") \n</code></pre>\n\n<p>What is the rule of thumb to define the name field? What is the name field used for?</p>\n"}, {"tags": ["python", "matplotlib", "tex"], "owner": {"reputation": 31, "user_id": 4971575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8cd38d89a5e05ce4af49ff97ce9ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Anna K.", "link": "https://stackoverflow.com/users/4971575/anna-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1433371568, "creation_date": 1433371568, "question_id": 30632144, "link": "https://stackoverflow.com/questions/30632144/cant-render-bold-latex-fonts-in-matplotlib", "title": "Can&#39;t render bold latex fonts in matplotlib", "body": "<p>I have a weird issue where I can't render any bold fonts when I enable tex in matplotlib. I have the following lines in my script:</p>\n\n<pre><code>rc('font',family='serif',serif='cm16')\nrc('text', usetex=True)\n</code></pre>\n\n<p>and if I try to make an axis label</p>\n\n<pre><code>plt.xlabel(r'\\textbf{foo}')\n</code></pre>\n\n<p>or </p>\n\n<pre><code>plt.xlabel('foo',fontweight='bold') \n</code></pre>\n\n<p>nothing happens, the text appears in regular weight. I don't get any error messages when I run the script. The exact same script works fine and produces bold text if I run it on a seperate Mac desktop. FWIW the two systems I tested this on have the same matplotlib version (1.3.1) but the laptop that I have this problem on has Tex Live Debian ver. 6.1.1 and the Mac has Tex Live 6.2.0. </p>\n\n<p>Have any other Linux users encountered this problem??</p>\n"}, {"tags": ["python", "google-maps", "navigation", "kml", "google-earth"], "answers": [{"tags": [], "owner": {"reputation": 4650, "user_id": 4561511, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WR3EB.png?s=128&g=1", "display_name": "kaho", "link": "https://stackoverflow.com/users/4561511/kaho"}, "is_accepted": false, "score": 0, "last_activity_date": 1433373156, "creation_date": 1433373156, "answer_id": 30632411, "question_id": 30632105, "link": "https://stackoverflow.com/questions/30632105/how-to-add-placemarks-to-track-in-google-earth/30632411#30632411", "title": "How to add placemarks to track in Google Earth?", "body": "<p>you can use the <a href=\"https://developers.google.com/maps/documentation/staticmaps/\" rel=\"nofollow\">static maps api</a>, which you can do something like </p>\n\n<pre><code>head=\"https://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&amp;zoom=13&amp;size=600x300&amp;maptype=roadmap\"\nmarker1=\"&amp;markers=color:blue%7Clabel:S%7C40.702147,-74.015794\"\nmarker2=\"&amp;markers=color:green%7Clabel:G%7C40.711614,-74.012318\"\nmarker3=\"&amp;markers=color:red%7Clabel:C%7C40.718217,-73.998284\"\nprint head + marker1 + marker2\n</code></pre>\n\n<p>or.. you can translate your css into json and make the javascript api to display your result.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4971645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b6a316d30e73e39ccf3f69fa83b3b?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna Chandrasekhar", "link": "https://stackoverflow.com/users/4971645/prasanna-chandrasekhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1433448668, "creation_date": 1433448668, "answer_id": 30653232, "question_id": 30632105, "link": "https://stackoverflow.com/questions/30632105/how-to-add-placemarks-to-track-in-google-earth/30653232#30653232", "title": "How to add placemarks to track in Google Earth?", "body": "<p>Actually - it turns out that if you put the path in one folder and put the Placemarks in another - it works out. </p>\n"}], "owner": {"reputation": 1, "user_id": 4971645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231b6a316d30e73e39ccf3f69fa83b3b?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna Chandrasekhar", "link": "https://stackoverflow.com/users/4971645/prasanna-chandrasekhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1433448668, "creation_date": 1433371370, "question_id": 30632105, "link": "https://stackoverflow.com/questions/30632105/how-to-add-placemarks-to-track-in-google-earth", "title": "How to add placemarks to track in Google Earth?", "body": "<p>I'm trying to add placemarks on a track in Google Earth. </p>\n\n<p>Imagine that I'm riding my bike through a neighborhood and take note of the open houses that I see. </p>\n\n<p>I've gotten the track where it shows my path through the neighborhood. Now I would like the open houses to pop on the map as placemarks as my icon drives past the path. </p>\n\n<p>What's the best way to do that? </p>\n\n<p>I've recorded the data to a CSV file and trying to write the conversion in Python. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "matplotlib", "plot", "contour"], "comments": [{"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 2, "creation_date": 1433372015, "post_id": 30632092, "comment_id": 49329942, "body": "That line seems good to me. However you have a missing colon (:) in the inner for-loop. Can&#39;t see it for myself without the values of Pa and Fab_matrix"}, {"owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "reply_to_user": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 0, "creation_date": 1433400674, "post_id": 30632092, "comment_id": 49338555, "body": "@AdityaJoshi I have edited the post so as to include the (:) in the loop, thanks. As regards Pa and Fab_matrix, they are quite complicated arrays and matrices, so I decided not to include them in the post, but you can really replace them with any array or matrix you like, I don&#39;t think that&#39;s the issue. Probably it is more about the syntax"}, {"owner": {"reputation": 10336, "user_id": 4177384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f603f5ee2e318d192aefb46694222c9d?s=128&d=identicon&r=PG&f=1", "display_name": "hitzg", "link": "https://stackoverflow.com/users/4177384/hitzg"}, "edited": false, "score": 0, "creation_date": 1433406481, "post_id": 30632092, "comment_id": 49341892, "body": "Could you please post the error that you get? Regarding syntax the line is fine."}, {"owner": {"reputation": 10336, "user_id": 4177384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f603f5ee2e318d192aefb46694222c9d?s=128&d=identicon&r=PG&f=1", "display_name": "hitzg", "link": "https://stackoverflow.com/users/4177384/hitzg"}, "edited": false, "score": 1, "creation_date": 1433406608, "post_id": 30632092, "comment_id": 49341969, "body": "The <code>x</code> and <code>y</code> arguments of <code>countour</code> need to be 2D arrays. You only provide 1D arrays (or lists, I&#39;m not sure). Given the 1D arrays you can create the 2D versions with <code>numpy.meshgrid</code>."}, {"owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "reply_to_user": {"reputation": 10336, "user_id": 4177384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f603f5ee2e318d192aefb46694222c9d?s=128&d=identicon&r=PG&f=1", "display_name": "hitzg", "link": "https://stackoverflow.com/users/4177384/hitzg"}, "edited": false, "score": 0, "creation_date": 1433422271, "post_id": 30632092, "comment_id": 49352583, "body": "@hitzg thanks it actually seems to work with numpy.meshgrid"}], "owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 757, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433400697, "creation_date": 1433371256, "last_edit_date": 1433400697, "question_id": 30632092, "link": "https://stackoverflow.com/questions/30632092/contour-plots-in-python", "title": "Contour plots in Python", "body": "<p>In the following lines I am calculating the quantity \"chisquare\" as a function of two variables, a and s :</p>\n\n<pre><code>def getChi(Pa, Ps_theory, Fab_matrix):\n    chisquare = linalg.transpose(Pa-Ps_theory).dot(Fab_matrix).dot(Pa-Ps_theory)\n    return chisquare\n\nn = 64\nsigma = 3.\nkey = np.arange(n, dtype=float)\nsigma_hat = (float(n)/(2.*np.pi*sigma))\nA_list = np.arange(0.1, 0.7, 0.01)\n\nfor a in A_list:\n    for s in np.arange(sigma_hat-3.5, sigma_hat+3.5, 0.01):\n        Ps_theory = a*np.exp(-(key*key/(2.*s*s)))\n        chi_square[a,s] = getChi(Pa, Ps_theory, Fab_matrix)\n</code></pre>\n\n<p>Now I need to plot the contour plots of chisquare, after subtracting its minimum. I tried to do that in the following way:</p>\n\n<pre><code>fig = plt.figure()\n        ax = figura.add_subplot(111)\n        ax.set_title('Contour_plots_Chi_square{}'.format(n))\n        ax.set_xlabel('A')\n        ax.set_ylabel('sigma')\n        plt.contour(A_list, np.arange(sigma_hat-3.5, sigma_hat+3.5, 0.01), chi_square)\n        plt.savefig('chi_square_contour_plot/Chi_square_contour_plot{}.svg'.format(n))\n</code></pre>\n\n<p>But it does not work, because it seems that:</p>\n\n<pre><code>plt.contour(A_list, np.arange(sigma_hat-3.5, sigma_hat+3.5, 0.01), chi_square)\n</code></pre>\n\n<p>does not follow the correct syntax. Could someone explain what is the correct syntax?</p>\n"}, {"tags": ["python", "pdf", "reportlab"], "answers": [{"tags": [], "owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436560195, "creation_date": 1436560195, "answer_id": 31349780, "question_id": 30632089, "link": "https://stackoverflow.com/questions/30632089/python-multiple-png-files-per-pdf-page/31349780#31349780", "title": "Python Multiple .PNG Files per PDF Page", "body": "<p>The python program img2pdf will store images into PDFs (it might not work on some PNGs, though), and there are several n-up examples in Python for putting multiple images on a page.  My own library pdfrw has a 4-up example script with it.  (The generic term for n-up for printing purposes is \"page imposition\", so that is sometimes a good search term.)</p>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 154995, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c52ffa72285f86241b1e009e1b2511b4?s=128&d=identicon&r=PG", "display_name": "SYK", "link": "https://stackoverflow.com/users/154995/syk"}, "is_accepted": false, "score": 3, "last_activity_date": 1438920956, "creation_date": 1438920956, "answer_id": 31869621, "question_id": 30632089, "link": "https://stackoverflow.com/questions/30632089/python-multiple-png-files-per-pdf-page/31869621#31869621", "title": "Python Multiple .PNG Files per PDF Page", "body": "<p>There may be a python-reportlab solution, but based on your requirement, you probably don't need it. You can simply use <a href=\"http://www.imagemagick.org/script/montage.php\" rel=\"nofollow\">ImageMagick</a> to accomplish the same.</p>\n\n<p>First merge multiple PNGs into one PNG destined to be one page</p>\n\n<pre><code>montage -mode concatenate a*.png group_a.png\nmontage -mode concatenate b1.png b2.png b3.png b4.png group_b.png\n...\n</code></pre>\n\n<p>Then simply</p>\n\n<pre><code>convert group_*.png one.pdf\n</code></pre>\n\n<p>The resulting PDF would have 2 pages, each of which contains multiple PNGs.</p>\n"}], "owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1552, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438920956, "creation_date": 1433371239, "question_id": 30632089, "link": "https://stackoverflow.com/questions/30632089/python-multiple-png-files-per-pdf-page", "title": "Python Multiple .PNG Files per PDF Page", "body": "<p>I am relatively new to the Python-PDF relationship.  If I had a list of .PNG files/pictures, how would I go about creating a PDF document with these files/pictures?  And is it possible to have, for example, 4 per page?  I would not need any other formatting... the requirement is very basic.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 11557, "user_id": 228489, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a257035de28cbb48e9d1d4a918058e74?s=128&d=identicon&r=PG", "display_name": "amccormack", "link": "https://stackoverflow.com/users/228489/amccormack"}, "edited": false, "score": 1, "creation_date": 1433371258, "post_id": 30632054, "comment_id": 49329585, "body": "Have you tried restarting your computer since installing Python? (You technically only have to restart your cmd.exe process to reload environment variables, but a good restart never hurts)"}, {"owner": {"reputation": 1702, "user_id": 1782500, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/a9seB.jpg?s=128&g=1", "display_name": "Federico Tomassetti", "link": "https://stackoverflow.com/users/1782500/federico-tomassetti"}, "edited": false, "score": 0, "creation_date": 1436864916, "post_id": 30632054, "comment_id": 50778849, "body": "We have now binary packages for Windows, Linux and Mac available under <a href=\"https://github.com/Mindwerks/worldengine/releases\" rel=\"nofollow noreferrer\">github.com/Mindwerks/worldengine/releases</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 1782500, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/a9seB.jpg?s=128&g=1", "display_name": "Federico Tomassetti", "link": "https://stackoverflow.com/users/1782500/federico-tomassetti"}, "is_accepted": false, "score": 0, "last_activity_date": 1434107589, "creation_date": 1434107589, "answer_id": 30801659, "question_id": 30632054, "link": "https://stackoverflow.com/questions/30632054/cannot-understand-worldengine-install/30801659#30801659", "title": "cannot understand worldengine install", "body": "<p>I am one of the maintainer of the project. First of all sorry, we are working on making WorldEngine easier to use on Windows.</p>\n\n<p>It seems that you are stuck at installing pip (pip is a program... to download python programs and install them easily: the problem is that you need to install it first :D).</p>\n\n<p>If you open the command line can you type:</p>\n\n<pre><code>python --version\n</code></pre>\n\n<p>What is the output?</p>\n\n<p>Now you should open a browser <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow\">https://bootstrap.pypa.io/get-pip.py</a> and save the page (as a file with .py extension). You should save it in the same directory where you are in the command line (it is listed in the prompt). For example, if you see something like:</p>\n\n<pre><code>C:\\foo\\bar&gt;\n</code></pre>\n\n<p>It means that you are within directory bar, inside directory foo on drive C:</p>\n\n<p>at this point you should write:</p>\n\n<pre><code>python get-pip.py\n</code></pre>\n\n<p>What is the output of this command?</p>\n\n<p>Can you now run:</p>\n\n<pre><code>pip --version\n</code></pre>\n\n<p>If it does not work you can try using pip as module, basically in the instructions when you read:</p>\n\n<pre><code>pip install ....\n</code></pre>\n\n<p>do instead</p>\n\n<p><code>python -m pip install ...</code>.</p>\n\n<p>Does it help?</p>\n\n<p>Feel free to ask questions on our Google group (<a href=\"https://groups.google.com/forum/?hl=en#!forum/worldengine\" rel=\"nofollow\">https://groups.google.com/forum/?hl=en#!forum/worldengine</a>): we will be enthusiast to help you!</p>\n"}], "owner": {"reputation": 11, "user_id": 4971626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b8f3ba107b2b5ce4703817eca33297?s=128&d=identicon&r=PG&f=1", "display_name": "IceGremlin", "link": "https://stackoverflow.com/users/4971626/icegremlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434107589, "creation_date": 1433371101, "question_id": 30632054, "link": "https://stackoverflow.com/questions/30632054/cannot-understand-worldengine-install", "title": "cannot understand worldengine install", "body": "<p>This is probably a little too broad of a question that may be too specific problem, but as a fiction writer with next to no familiarity with programming, I cannot seem to understand any of the provided instructions for downloading the plate tectonics world generator WorldEngine for my Windows 8, 64-dit computer. <a href=\"https://github.com/Mindwerks/worldengine\" rel=\"nofollow\">https://github.com/Mindwerks/worldengine</a></p>\n\n<p>These are the instructions I was using. <a href=\"https://github.com/Mindwerks/worldengine/wiki/Installing-Worldengine-on-Windows\" rel=\"nofollow\">https://github.com/Mindwerks/worldengine/wiki/Installing-Worldengine-on-Windows</a></p>\n\n<p>I have tried everything I can to get this to work, but I don't know what files I am supposed to download or not download, where to download them, or what to do with any of them. All I have managed so far is to download Python and add it to the PATH in the environment variables, and install pip. Despite this, pip is never recognized despite my following multiple sets of instructions to install it. It doesn't help any that every set of instructions I've found has failed to be specific, saying to open a cmd line without saying where to open it, or saying to add something to the PATH without specifying where to add it, or saying to download \"the latest release\" where there are several files available to download, none of which are clearly labeled except with jargon that I don't understand. Any other steps are irrelevant since they all involve using the pip command at some point, which doesn't do anything.</p>\n\n<p>Specifically, I've done everything up to step 5, at which point \"pip install wheel\" just isn't recognized. In the event that I reach step 6, I don't see any zipped release files or know what to download.</p>\n\n<p>What am I missing here to get this thing to work?</p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433401384, "post_id": 30632036, "comment_id": 49338975, "body": "Can you try commenting <code>cv2.imshow(&#39;frame&#39;,frame)</code> and try <code>if( (cv.waitKey(1) &amp; 0xFF == ord(&#39;q&#39;) ) break;</code>"}, {"owner": {"reputation": 191, "user_id": 4971634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bf042e884a3936a4ac581cb23c78e89c?s=128&d=identicon&r=PG&f=1", "display_name": "DrPineapple", "link": "https://stackoverflow.com/users/4971634/drpineapple"}, "reply_to_user": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433442397, "post_id": 30632036, "comment_id": 49366130, "body": "Ah, thanks for your reply! We are getting close! The code runs and records, but I still can&#39;t use a keystroke to release the job."}, {"owner": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433442513, "post_id": 30632036, "comment_id": 49366205, "body": "Can you trying keystroke with console active?"}, {"owner": {"reputation": 191, "user_id": 4971634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bf042e884a3936a4ac581cb23c78e89c?s=128&d=identicon&r=PG&f=1", "display_name": "DrPineapple", "link": "https://stackoverflow.com/users/4971634/drpineapple"}, "reply_to_user": {"reputation": 1020, "user_id": 3070561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffdb2b35e1a633694310a16309509b68?s=128&d=identicon&r=PG", "display_name": "Anant Kolvankar", "link": "https://stackoverflow.com/users/3070561/anant-kolvankar"}, "edited": false, "score": 0, "creation_date": 1433447908, "post_id": 30632036, "comment_id": 49369141, "body": "Unfortunately still nothing with the console active. It just freezes and I have to exit out to stop the script."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 4971634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bf042e884a3936a4ac581cb23c78e89c?s=128&d=identicon&r=PG&f=1", "display_name": "DrPineapple", "link": "https://stackoverflow.com/users/4971634/drpineapple"}, "edited": false, "score": 0, "creation_date": 1433532993, "post_id": 30673080, "comment_id": 49410668, "body": "Thanks for the heads up! So I did some internet searching and was able to get the script working with <code>msvcrt.kbhit()</code> (I&#39;m on Windows), but now the issue is that it is not saving the webcam stream to the specified location. I feel like I am so close, or am just blind to a blaring error here. All I did was insert <code>if msvcrt.kbhit():                 if (msvcrt.getch() == &quot;q&quot;):                     break</code> below <code>out.write(frame)</code>"}, {"owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "reply_to_user": {"reputation": 191, "user_id": 4971634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bf042e884a3936a4ac581cb23c78e89c?s=128&d=identicon&r=PG&f=1", "display_name": "DrPineapple", "link": "https://stackoverflow.com/users/4971634/drpineapple"}, "edited": false, "score": 0, "creation_date": 1433533904, "post_id": 30673080, "comment_id": 49411152, "body": "@DrPineapple I&#39;m not sure but maybe you need the waitKey for videowriter too. Try moving this statement below the waitKey statement. Once again, this is just a guess."}], "tags": [], "owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "is_accepted": false, "score": 0, "last_activity_date": 1433527653, "creation_date": 1433527653, "answer_id": 30673080, "question_id": 30632036, "link": "https://stackoverflow.com/questions/30632036/opencv-webcam-capture/30673080#30673080", "title": "OpenCV webcam capture", "body": "<p><code>cv2.waitKey()</code> captures keystrokes from the highgui window. You cannot use <code>waitKey</code> to capture keystrokes if you never display the window. You will need something that can capture keystrokes from the terminal.</p>\n\n<p>For linux, you can achieve this using <code>termios</code> and <code>fcntl</code> modules. Here is an example from Python's documentation.\n<a href=\"https://docs.python.org/2/faq/library.html#how-do-i-get-a-single-keypress-at-a-time\" rel=\"nofollow\">https://docs.python.org/2/faq/library.html#how-do-i-get-a-single-keypress-at-a-time</a></p>\n"}], "owner": {"reputation": 191, "user_id": 4971634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bf042e884a3936a4ac581cb23c78e89c?s=128&d=identicon&r=PG&f=1", "display_name": "DrPineapple", "link": "https://stackoverflow.com/users/4971634/drpineapple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 743, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433532912, "creation_date": 1433371047, "last_edit_date": 1433532912, "question_id": 30632036, "link": "https://stackoverflow.com/questions/30632036/opencv-webcam-capture", "title": "OpenCV webcam capture", "body": "<p>I'm afraid I have run into something a bit beyond the scope of my novice abilities. A quick summary of the problem: I am attempting to capture a live video stream during an experiment (using OpenSesame) from a webcam using the OpenCV python module. I can get it to work, but my issue is that the code pops open a new window to show the live stream that it is recording. How would I alter this code to NOT show the live window but still be able to press 'q' to shut off the live stream?</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nsubject = str(self.get('subject_nr'))\ncap = cv2.VideoCapture(0)\nw=int(cap.get(cv2.CAP_PROP_FRAME_WIDTH ))\nh=int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT ))\n\n#Define the codec and create VideoWriter object\n#fourcc = cv2.VideoWriter_fourcc(*'DIVX')\nfourcc = cv2.VideoWriter_fourcc(*'XVID')\nout = cv2.VideoWriter('path\\to\\output'+ subject + '.avi', -1, 20.0, (w,h))\n\nwhile(cap.isOpened()):\n    ret, frame = cap.read()\n    if ret==True:\n\n        out.write(frame)\n\n        cv2.imshow('frame',frame)\n        if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n            break\n    else:\n        break\n\n#Release everything if job is finished\ncap.release()\nout.release()\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "cron"], "comments": [{"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433371269, "post_id": 30631977, "comment_id": 49329592, "body": "is it installed on path?   if you run airship from an arbitrary folder, does it work?"}, {"owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "reply_to_user": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433448423, "post_id": 30631977, "comment_id": 49369421, "body": "I ran it from <code>&#47;</code> and it worked fine. So yes, it&#39;s on <code>$PATH</code>."}, {"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433449031, "post_id": 30631977, "comment_id": 49369728, "body": "Chances are it has permissions issues and cannot be run from system process as it doesn&#39;t have access to some resource. Try this: <a href=\"http://stackoverflow.com/questions/8475694/how-to-specify-in-crontab-by-what-user-to-run-script\" title=\"how to specify in crontab by what user to run script\">stackoverflow.com/questions/8475694/&hellip;</a>"}, {"owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "reply_to_user": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433454446, "post_id": 30631977, "comment_id": 49372314, "body": "The crontab in question is not for the root user, so I don&#39;t think this is the problem. (I verified this with <code>sudo crontab -u aarzee -l</code>, my user is aarzee)."}, {"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433454676, "post_id": 30631977, "comment_id": 49372381, "body": "Have you tried something simple like checking if echo hello &gt; file.txt executes?"}, {"owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "reply_to_user": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433456026, "post_id": 30631977, "comment_id": 49372877, "body": "I have now, and it does work. <a href=\"https://ghostbin.com/paste/rfdyu\" rel=\"nofollow noreferrer\">ghostbin.com/paste/rfdyu</a>"}, {"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433456088, "post_id": 30631977, "comment_id": 49372904, "body": "Now, I&#39;d suppose you should do the same with airship - pip the output to a file."}, {"owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "reply_to_user": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433457283, "post_id": 30631977, "comment_id": 49373400, "body": "I&#39;ve done this, but the file that is created is empty (it does exist though)."}, {"owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "reply_to_user": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433457896, "post_id": 30631977, "comment_id": 49373636, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79710/discussion-between-carlos-liam-and-john\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 3396616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5217c0b06e7fbe3460ff01a945429a8c?s=128&d=identicon&r=PG", "display_name": "Rasul", "link": "https://stackoverflow.com/users/3396616/rasul"}, "is_accepted": false, "score": 0, "last_activity_date": 1542211079, "creation_date": 1542211079, "answer_id": 53304193, "question_id": 30631977, "link": "https://stackoverflow.com/questions/30631977/running-python-package-console-script-with-cron/53304193#53304193", "title": "Running Python package console script with cron", "body": "<p>From <a href=\"https://stackoverflow.com/questions/12534135/crontab-not-running-my-python-script\">this answer</a> which helped me with the same problem.</p>\n\n<p>It's possible that crontab doesn't locate python interpreter. So <code>which python</code> locates your python, for example <code>/usr/local/bin/python</code></p>\n\n<p>Locate your app <code>which airship</code> for example <code>/usr/local/bin/airship</code></p>\n\n<p>So crontab should be something like:</p>\n\n<pre><code>* * * * * /usr/local/bin/python /usr/local/bin/airship\n</code></pre>\n\n<p>Maybe package has some other problems, check it with environment used by crontab: <code>env -i /bin/bash --noprofile --norc</code> and then run your script.</p>\n"}], "owner": {"reputation": 185, "user_id": 4270716, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-m-qNRAIhRAk/AAAAAAAAAAI/AAAAAAAAAD4/jz1TKqIM9f0/photo.jpg?sz=128", "display_name": "Carlos Liam", "link": "https://stackoverflow.com/users/4270716/carlos-liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542211079, "creation_date": 1433370775, "question_id": 30631977, "link": "https://stackoverflow.com/questions/30631977/running-python-package-console-script-with-cron", "title": "Running Python package console script with cron", "body": "<p>I have a <a href=\"https://github.com/aarzee/airship\" rel=\"nofollow\">Python package</a> which provides a console executable <code>airship</code> which I would like to run on a regular basis using cron. However, when I add a line to my crontab that should do this, the script never executes. I have a way of telling when my script is being executed (my Steam status shows me as playing a specific game). This is the result of <code>crontab -l</code>:</p>\n\n<pre><code>*/2 * * * * /usr/bin/env airship\n</code></pre>\n\n<p>(The 2 is just for testing purposes, ideally it would be 15).</p>\n\n<p>What is stopping this from happening?</p>\n"}, {"tags": ["python", "performance", "list", "for-loop", "dictionary"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 3, "creation_date": 1433370808, "post_id": 30631967, "comment_id": 49329404, "body": "For performance often the right data structure is the key. Use a dictionary."}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 2, "creation_date": 1433372072, "post_id": 30631967, "comment_id": 49329970, "body": "Leaving my deleted answer as a comment for &lt;10k users. <i>If</i> your list is assured of having <i>exactly</i> matching entries, then you can use <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a> along with a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> as in <code>[(x[0],x[1],x[2] , y[1])for x,y in zip(name,occupation)]</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1433373564, "post_id": 30631967, "comment_id": 49330493, "body": "@BhargavRao I think that&#39;s a fair assumption, why else would the OP not show a non-match in the example?"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1433373694, "post_id": 30631967, "comment_id": 49330535, "body": "@StefanPochmann That was one of the reasons why I had answered it in the first case. However it may lead to complications to other visitors. That was the reason why I deleted my answer. In any case the answer is visible to all the users above 10k. So I don&#39;t think it is much of a problem. Anyway, if the OP confirms then I will <i>undelete</i> it. :)"}], "answers": [{"comments": [{"owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 1, "creation_date": 1433371152, "post_id": 30632039, "comment_id": 49329538, "body": "This assumes that the 9, 11, and 14 values are unique. What if that&#39;s just &quot;years of experience&quot; and not unique at all?"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "reply_to_user": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 4, "creation_date": 1433371247, "post_id": 30632039, "comment_id": 49329580, "body": "@TravisGriggs The OP&#39;s code treats them like IDs. I am assuming that is the intention."}, {"owner": {"reputation": 3306, "user_id": 3980369, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sZ3vt.jpg?s=128&g=1", "display_name": "Mathieu David", "link": "https://stackoverflow.com/users/3980369/mathieu-david"}, "reply_to_user": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 4, "creation_date": 1433371282, "post_id": 30632039, "comment_id": 49329600, "body": "@TravisGriggs yes but he is merging only by checking equality for that number, so you can assume they are unique"}], "tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": true, "score": 5, "last_activity_date": 1433371301, "last_edit_date": 1433371301, "creation_date": 1433371058, "answer_id": 30632039, "question_id": 30631967, "link": "https://stackoverflow.com/questions/30631967/join-lists-by-value/30632039#30632039", "title": "Join lists by value", "body": "<p>Use dictionaries instead of flat lists.</p>\n\n<pre><code>names = {\n    9:  (\"John\", \"Smith\"),\n    11: (\"Bob\", \"Dobbs\"),\n    14: (\"Joe\", \"Bloggs\")\n} \n\njobs = {\n    9:  \"Builder\",\n    11: \"Baker\",\n    14: \"Candlestick Maker\"\n}\n</code></pre>\n\n<p>If you need to convert them to this format, you can do:</p>\n\n<pre><code>&gt;&gt;&gt; {id: (first, last) for id, first, last in name}\n{9: ('John', 'Smith'), 11: ('Bob', 'Dobbs'), 14: ('Joe', 'Bloggs')}\n&gt;&gt;&gt; {id: job for id, job in occupation}\n{9: 'Builder', 11: 'Baker', 14: 'Candlestick Maker'}\n</code></pre>\n\n<p>It'd then be a piece of cake to merge the two.</p>\n\n<pre><code>names_and_jobs = {id: names[id] + (jobs[id],) for id in names}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1433371832, "post_id": 30632076, "comment_id": 49329864, "body": "err <i>OderederDict</i>? Too much whisky?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1433371870, "post_id": 30632076, "comment_id": 49329886, "body": "@BhargavRao the OP&#39;s code is iterating over names in order, using a normal dict will mean the data has no order, however the names appear in names this will match the order"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1433373538, "post_id": 30632076, "comment_id": 49330487, "body": "@BhargavRao, it is late ;)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1433373377, "last_edit_date": 1433373377, "creation_date": 1433371197, "answer_id": 30632076, "question_id": 30631967, "link": "https://stackoverflow.com/questions/30631967/join-lists-by-value/30632076#30632076", "title": "Join lists by value", "body": "<pre><code>from collections import OrderedDict\nfrom itertools import chain\n\nod = OrderedDict()\n\n\nfor ele in chain(name,occupation):\n    od.setdefault(ele[0], []).extend(ele[1:])\n\n\nprint([[k]+val for k,val in od.items()])\n\n[[9, 'John', 'Smith', 'Builder'], [11, 'Bob', 'Dobbs', 'Baker'], [14, 'Joe', 'Bloggs', 'Candlestick Maker']]\n</code></pre>\n\n<p>If you want the data ordered by how it appears in names then you need to use an OrderedDict as normal dicts are unordered.</p>\n\n<p>You can also  add the data in the loop creating the desired tuples then just calling od.values to get the list of tuples:</p>\n\n<pre><code>from collections import OrderedDict\nfrom itertools import chain\n\nod = OrderedDict()\n\nfor ele in chain(name, occupation):\n    k = ele[0]\n    if k in od:\n        od[k] = od[k] + ele[1:]\n    else:\n       od[k] = ele\n\nprint(od.values())\n[(9, 'John', 'Smith', 'Builder'), (11, 'Bob', 'Dobbs', 'Baker'), (14, 'Joe', 'Bloggs', 'Candlestick Maker')]\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4971515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ec79e4241ddcc87623529d530bb36b1?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse Reilly", "link": "https://stackoverflow.com/users/4971515/jesse-reilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 30632039, "answer_count": 2, "score": 5, "last_activity_date": 1433458133, "creation_date": 1433370748, "last_edit_date": 1433458133, "question_id": 30631967, "link": "https://stackoverflow.com/questions/30631967/join-lists-by-value", "title": "Join lists by value", "body": "<p>Is there an efficient way to merge two lists of tuples in python, based on a common value. Currently, I'm doing the following:</p>\n\n<pre><code>name = [\n         (9, \"John\", \"Smith\"),\n         (11, \"Bob\", \"Dobbs\"),\n         (14, \"Joe\", \"Bloggs\")\n         ]\n\noccupation = [\n              (9, \"Builder\"),\n              (11, \"Baker\"),\n              (14, \"Candlestick Maker\")\n              ]\n\nname_and_job = []\n\nfor n in name:\n    for o in occupation:\n        if n[0] == o[0]:\n            name_and_job.append( (n[0], n[1], n[2], o[1]) )\n\n\nprint(name_and_job)\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>[(9, 'John', 'Smith', 'Builder'), (11, 'Bob', 'Dobbs', 'Baker'), (14, 'Joe', 'Bloggs', 'Candlestick Maker')]\n</code></pre>\n\n<p>While this code works perfectly fine for small lists, it's <em>incredibly</em> slow for longer lists with millions of records. Is there a more efficient way to write this?</p>\n\n<p><strong>EDIT</strong> The numbers in the first column are unique.</p>\n\n<p><strong>EDIT</strong> Modified @John Kugelman's code slightly. Added a get(), just in case the names dictionary doesn't have a matching key in the occupation dictionary:</p>\n\n<pre><code>&gt;&gt;&gt;&gt; names_and_jobs = {id: names[id] + (jobs.get(id),) for id in names}\n&gt;&gt;&gt;&gt; print(names_and_jobs)\n{9: ('John', 'Smith', None), 11: ('Bob', 'Dobbs', 'Baker'), 14: ('Joe', 'Bloggs', 'Candlestick Maker')}\n</code></pre>\n"}, {"tags": ["python", "zip", "zipfile", "ziparchive", "openpyxl"], "comments": [{"owner": {"reputation": 541, "user_id": 4930545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fdfa69ba90335d66181d66f15c3242?s=128&d=identicon&r=PG&f=1", "display_name": "Dami&#225;n Montenegro", "link": "https://stackoverflow.com/users/4930545/dami%c3%a1n-montenegro"}, "edited": false, "score": 0, "creation_date": 1433370666, "post_id": 30631885, "comment_id": 49329350, "body": "you may want to take a look to python &quot;tar&quot; module"}, {"owner": {"reputation": 495, "user_id": 4358342, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y8Kv-u59IKU/AAAAAAAAAAI/AAAAAAAABPI/_gwBh71Ro1I/photo.jpg?sz=128", "display_name": "Ryan Goldstein", "link": "https://stackoverflow.com/users/4358342/ryan-goldstein"}, "reply_to_user": {"reputation": 541, "user_id": 4930545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fdfa69ba90335d66181d66f15c3242?s=128&d=identicon&r=PG&f=1", "display_name": "Dami&#225;n Montenegro", "link": "https://stackoverflow.com/users/4930545/dami%c3%a1n-montenegro"}, "edited": false, "score": 0, "creation_date": 1433371488, "post_id": 30631885, "comment_id": 49329700, "body": "@Dami&#225;nMontenegro OP didn&#39;t ask for a lib, he asked how his library is probably doing it."}], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 4941251, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7bcae3ad1022b4a62f70a0bc19c5e760?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Mendoza", "link": "https://stackoverflow.com/users/4941251/noah-mendoza"}, "edited": false, "score": 0, "creation_date": 1433435855, "post_id": 30635916, "comment_id": 49362323, "body": "How, exactly? I&#39;ve been pouring over the source code, since I&#39;m trying to adapt the process to .docx files and eventually to all Microsoft Office applications. I just can&#39;t seem to find the module/function that &quot;does the work&quot;"}], "tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": 1, "last_activity_date": 1433397086, "creation_date": 1433397086, "answer_id": 30635916, "question_id": 30631885, "link": "https://stackoverflow.com/questions/30631885/writing-data-to-a-zip-archive-in-python/30635916#30635916", "title": "Writing data to a zip archive in Python", "body": "<p>openpyxl does not modify the files in place because you <strong>can't</strong> do this with zipfiles. You <strong>must</strong> extract, modify and archive. We just hide this process in the library.</p>\n"}], "owner": {"reputation": 545, "user_id": 4941251, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7bcae3ad1022b4a62f70a0bc19c5e760?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Mendoza", "link": "https://stackoverflow.com/users/4941251/noah-mendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433397086, "creation_date": 1433370429, "question_id": 30631885, "link": "https://stackoverflow.com/questions/30631885/writing-data-to-a-zip-archive-in-python", "title": "Writing data to a zip archive in Python", "body": "<p>I've been told in the past that there is simply no easy way to write a string a zip file. It's okay to READ from a zip archive, but if you want to write to a zip file, the best option is to extract it, make the changes, and then zip it back up again. However, the library I am using (openpyxl) accomplishes the feat of writing to a zip file without any extraction. This package uses the writestr() function in the python ZipFile library to make changes. Can someone explain to me how exactly this is possible? I know it has something to do with writing bytes but I can't fine a good explanation.</p>\n\n<p>I'm aware of the vagueness of this question, but that's a circumstance of my lack of knowledge on the topic.</p>\n"}, {"tags": ["python", "mysql", "pandas", "pandas-to-sql"], "answers": [{"tags": [], "owner": {"reputation": 3392, "user_id": 3790959, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/yi4Am.jpg?s=128&g=1", "display_name": "Yogesh Yadav", "link": "https://stackoverflow.com/users/3790959/yogesh-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1534956205, "last_edit_date": 1534956205, "creation_date": 1501694538, "answer_id": 45467285, "question_id": 30631848, "link": "https://stackoverflow.com/questions/30631848/insert-ignore-pandas-dataframe-into-mysql/45467285#45467285", "title": "insert ignore pandas dataframe into mysql", "body": "<p>There is no way to do this in pandas till the current version of <code>pandas (0.20.3)</code> . </p>\n\n<p>The option <code>if_exists</code> applies only on table ( not on rows ) as stated in the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_sql.html\" rel=\"nofollow noreferrer\">documentation</a>. </p>\n\n<pre><code>if_exists : {\u2018fail\u2019, \u2018replace\u2019, \u2018append\u2019}, default \u2018fail\u2019\n</code></pre>\n\n<p><code>fail</code>: If <strong>table</strong> exists, do nothing.</p>\n\n<p><code>replace</code>: If <strong>table</strong> exists, drop it, recreate it, and insert data.</p>\n\n<p><code>append</code>: If <strong>table</strong> exists, insert data. Create if does not exist.</p>\n\n<p>Via Looping</p>\n\n<p>This will slow down the process as you are inserting one row at a time</p>\n\n<pre><code>for x in xrange(data_frame.shape[0]):\n    try:\n        data_frame.iloc[x:x+1].to_sql(con=sql_engine, name=\"table_name\", if_exists='append')\n    except IntegrityError:\n        # Your code to handle duplicates\n        pass \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 570, "user_id": 4032552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/275daa4bb55af2a5d95ead8bd064f6d7?s=128&d=identicon&r=PG&f=1", "display_name": "kristian", "link": "https://stackoverflow.com/users/4032552/kristian"}, "edited": false, "score": 2, "creation_date": 1513534804, "post_id": 45491386, "comment_id": 82680631, "body": "Replace the last 3 lines like this if you are using sqlalchemy: <code>connection = engine.connect() result = connection.execute(&quot;INSERT IGNORE INTO myFinalTable SELECT * FROM myTempTable&quot;) connection.close()</code>"}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 9, "last_activity_date": 1501782842, "creation_date": 1501782842, "answer_id": 45491386, "question_id": 30631848, "link": "https://stackoverflow.com/questions/30631848/insert-ignore-pandas-dataframe-into-mysql/45491386#45491386", "title": "insert ignore pandas dataframe into mysql", "body": "<p>Consider using a temp table (with exact structure of final table) that is always replaced by pandas then run the <code>INSERT IGNORE</code> in a cursor call:</p>\n\n<pre><code>dataframe.to_sql('myTempTable', con, if_exists ='replace')\n\ncur = con.cursor()\ncur.execute(\"INSERT IGNORE INTO myFinalTable SELECT * FROM myTempTable\")\ncon.commit()\n</code></pre>\n"}], "owner": {"reputation": 4458, "user_id": 3605780, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/12e364cc0e55027057ee93be4c75e7df?s=128&d=identicon&r=PG&f=1", "display_name": "user3605780", "link": "https://stackoverflow.com/users/3605780/user3605780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4340, "favorite_count": 4, "answer_count": 2, "score": 6, "last_activity_date": 1534956205, "creation_date": 1433370254, "last_edit_date": 1501785989, "question_id": 30631848, "link": "https://stackoverflow.com/questions/30631848/insert-ignore-pandas-dataframe-into-mysql", "title": "insert ignore pandas dataframe into mysql", "body": "<p>I want to \"insert ignore\" an entire pandas dataframe into mysql. Is there a way to do this without looping over the rows?</p>\n\n<p>In dataframe.to_sql I only see the option if_exists 'append' but will this still continue on duplicate unique keys?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1433371172, "post_id": 30631841, "comment_id": 49329556, "body": "Please don&#39;t repost: <a href=\"http://stackoverflow.com/questions/30630349/pandas-newbie-how-do-i-assign-values-based-on-content-of-columns\" title=\"pandas newbie how do i assign values based on content of columns\">stackoverflow.com/questions/30630349/&hellip;</a>"}, {"owner": {"reputation": 323, "user_id": 4967285, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/657c74a7d179d14ff5f9f73bb35625dc?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4967285/eric"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1433371426, "post_id": 30631841, "comment_id": 49329675, "body": "I split the two part question into two posts and this part has not been answered."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1433371535, "post_id": 30631841, "comment_id": 49329728, "body": "Fair enough, I didn&#39;t see that your other question was updated so have reopened this"}, {"owner": {"reputation": 24415, "user_id": 3730397, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/d1OmM.png?s=128&g=1", "display_name": "firelynx", "link": "https://stackoverflow.com/users/3730397/firelynx"}, "edited": false, "score": 0, "creation_date": 1433413043, "post_id": 30631841, "comment_id": 49346446, "body": "In your desired result you say that female cat and squirrel should get 5 points, but in your rules you specified in the beginning of the post, this should clearly get 0. What is correct?"}, {"owner": {"reputation": 323, "user_id": 4967285, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/657c74a7d179d14ff5f9f73bb35625dc?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4967285/eric"}, "edited": false, "score": 0, "creation_date": 1433434767, "post_id": 30631841, "comment_id": 49361661, "body": "b. if gender is female &amp; (pet1 is &#39;cat&#39; or pet1=&#39;dog&#39;), points = 5;  I apologize if I didn&#39;t word this clearly"}], "answers": [{"comments": [{"owner": {"reputation": 1441, "user_id": 11680578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9YaX.jpg?s=128&g=1", "display_name": "Catalina Chircu", "link": "https://stackoverflow.com/users/11680578/catalina-chircu"}, "edited": false, "score": 0, "creation_date": 1582135073, "post_id": 30632232, "comment_id": 106676237, "body": "This works for small DataFrames. When you have more than 1,000,000 rows, it could be very long."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1583783918, "post_id": 30632232, "comment_id": 107225374, "body": "Why use this over any of the other methods?"}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1598390990, "post_id": 30632232, "comment_id": 112442970, "body": "Yes the numpy.select method was much faster for me but this is programmatically elegant. Not sure why this is so slow for a million+ rows dataframe (70 columns)"}], "tags": [], "owner": {"reputation": 14345, "user_id": 238671, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc17c0a0eb63ef5ae4000782b5bb74d1?s=128&d=identicon&r=PG", "display_name": "Ruggero Turra", "link": "https://stackoverflow.com/users/238671/ruggero-turra"}, "is_accepted": false, "score": 20, "last_activity_date": 1433372086, "creation_date": 1433372086, "answer_id": 30632232, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns/30632232#30632232", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<p>using <a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.apply.html\" rel=\"noreferrer\">apply</a>.</p>\n\n<pre><code>def f(x):\n  if x['gender'] == 'male' and x['pet1'] == x['pet2']: return 5\n  elif x['gender'] == 'female' and (x['pet1'] == 'cat' or x['pet1'] == 'dog'): return 5\n  else: return 0\n\ndata['points'] = data.apply(f, axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 35, "last_activity_date": 1433372683, "creation_date": 1433372683, "answer_id": 30632339, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns/30632339#30632339", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<p>You can do this using <code>np.where</code>, the conditions use bitwise <code>&amp;</code> and <code>|</code> for <code>and</code> and <code>or</code> with parentheses around the multiple conditions due to operator precedence. So where the condition is true <code>5</code> is returned and <code>0</code> otherwise:</p>\n\n<pre><code>In [29]:\ndf['points'] = np.where( ( (df['gender'] == 'male') &amp; (df['pet1'] == df['pet2'] ) ) | ( (df['gender'] == 'female') &amp; (df['pet1'].isin(['cat','dog'] ) ) ), 5, 0)\ndf\n\nOut[29]:\n     gender      pet1      pet2  points\n0      male       dog       dog       5\n1      male       cat       cat       5\n2      male       dog       cat       0\n3    female       cat  squirrel       5\n4    female       dog       dog       5\n5    female  squirrel       cat       0\n6  squirrel       dog       cat       0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 4087400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-c3a7T5cQ-OA/AAAAAAAAAAI/AAAAAAAADj4/wUyWjJVUFbI/photo.jpg?sz=128", "display_name": "leonard", "link": "https://stackoverflow.com/users/4087400/leonard"}, "is_accepted": false, "score": 5, "last_activity_date": 1526335075, "last_edit_date": 1526335075, "creation_date": 1526334673, "answer_id": 50339534, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns/50339534#50339534", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<p>The apply method described by @RuggeroTurra takes a lot longer for 500k rows. I ended up using something like</p>\n\n<pre><code>df['result'] = ((df.a == 0) &amp; (df.b != 1)).astype(int) * 2 + \\\n               ((df.a != 0) &amp; (df.b != 1)).astype(int) * 3 + \\\n               ((df.a == 0) &amp; (df.b == 1)).astype(int) * 4 + \\\n               ((df.a != 0) &amp; (df.b == 1)).astype(int) * 5 \n</code></pre>\n\n<p>where the apply method took 25 seconds and this method above took about 18ms.</p>\n"}, {"comments": [{"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 1, "creation_date": 1598389568, "post_id": 60244752, "comment_id": 112442457, "body": "This is both beautiful and FAST! It handily beats the .apply methods for large data frames. Thank you Erfan,"}, {"owner": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "edited": false, "score": 0, "creation_date": 1600392630, "post_id": 60244752, "comment_id": 113080905, "body": "This is very useful for more than 2 conditions. Thanks!"}, {"owner": {"reputation": 700, "user_id": 3750838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13831e5284a4bab9d2b666e65061041d?s=128&d=identicon&r=PG&f=1", "display_name": "Gera Zenobi", "link": "https://stackoverflow.com/users/3750838/gera-zenobi"}, "edited": false, "score": 2, "creation_date": 1607506314, "post_id": 60244752, "comment_id": 115291144, "body": "Note that if you are manipulating an exiting column instead, and if want to keep the existing column value as default you would do:  <code>df[&#39;points&#39;] = np.select(conditions, choices, default=df[&#39;points&#39;])</code>  more here: <a href=\"https://stackoverflow.com/a/65213788/3750838\">stackoverflow.com/a/65213788/3750838</a>"}], "tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 24, "last_activity_date": 1592555871, "last_edit_date": 1592555871, "creation_date": 1581817964, "answer_id": 60244752, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns/60244752#60244752", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<h3><code>numpy.select</code></h3>\n\n<p><em>2020 answer</em></p>\n\n<p>This is a perfect case for <code>np.select</code> where we can create a column based on multiple conditions and it's a readable method when there are more conditions:</p>\n\n<pre><code>conditions = [\n    df['gender'].eq('male') &amp; df['pet1'].eq(df['pet2']),\n    df['gender'].eq('female') &amp; df['pet1'].isin(['cat', 'dog'])\n]\n\nchoices = [5,5]\n\ndf['points'] = np.select(conditions, choices, default=0)\n\nprint(df)\n     gender      pet1      pet2  points\n0      male       dog       dog       5\n1      male       cat       cat       5\n2      male       dog       cat       0\n3    female       cat  squirrel       5\n4    female       dog       dog       5\n5    female  squirrel       cat       0\n6  squirrel       dog       cat       0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 445, "user_id": 11983601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ccb502a176546ea47dfe31c0044b630?s=128&d=identicon&r=PG&f=1", "display_name": "George Pipis", "link": "https://stackoverflow.com/users/11983601/george-pipis"}, "is_accepted": false, "score": 3, "last_activity_date": 1589201423, "creation_date": 1589201423, "answer_id": 61730160, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns/61730160#61730160", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<p>You can also use the <code>apply</code> function. For example:</p>\n\n<pre><code>def myfunc(gender, pet1, pet2):\n    if gender=='male' and pet1==pet2:\n        myvalue=5\n    elif gender=='female' and (pet1=='cat' or pet1=='dog'):\n        myvalue=5\n    else:\n        myvalue=0\n    return myvalue\n</code></pre>\n\n<p>And then using the apply function by setting <code>axis=1</code></p>\n\n<pre><code>df['points'] = df.apply(lambda x: myfunc(x['gender'], x['pet1'], x['pet2']), axis=1)\n</code></pre>\n\n<p>We get:</p>\n\n<pre><code>     gender      pet1      pet2  points\n0      male       dog       dog       5\n1      male       cat       cat       5\n2      male       dog       cat       0\n3    female       cat  squirrel       5\n4    female       dog       dog       5\n5    female  squirrel       cat       0\n6  squirrel       dog       cat       0\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 4967285, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/657c74a7d179d14ff5f9f73bb35625dc?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4967285/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45140, "favorite_count": 18, "accepted_answer_id": 30632339, "answer_count": 5, "score": 25, "last_activity_date": 1592555871, "creation_date": 1433370219, "last_edit_date": 1591456347, "question_id": 30631841, "link": "https://stackoverflow.com/questions/30631841/pandas-how-do-i-assign-values-based-on-multiple-conditions-for-existing-columns", "title": "Pandas: How do I assign values based on multiple conditions for existing columns?", "body": "<p>I would like to create a new column with a numerical value based on the following conditions:</p>\n\n<p>a. <code>if gender is male &amp; pet1=pet2, points = 5</code></p>\n\n<p>b. <code>if gender is female &amp; (pet1 is 'cat' or pet1='dog'), points = 5</code></p>\n\n<p>c. all other combinations, <code>points = 0</code></p>\n\n<pre><code>    gender    pet1      pet2\n0   male      dog       dog\n1   male      cat       cat\n2   male      dog       cat\n3   female    cat       squirrel\n4   female    dog       dog\n5   female    squirrel  cat\n6   squirrel  dog       cat\n</code></pre>\n\n<p>I would like the end result to be as follows:</p>\n\n<pre><code>    gender    pet1      pet2      points\n0   male      dog       dog       5\n1   male      cat       cat       5\n2   male      dog       cat       0\n3   female    cat       squirrel  5\n4   female    dog       dog       5\n5   female    squirrel  cat       0\n6   squirrel  dog       cat       0\n</code></pre>\n\n<p>How do I accomplish this?</p>\n"}, {"tags": ["python", "flask", "uwsgi"], "answers": [{"tags": [], "owner": {"reputation": 747, "user_id": 1332304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f65c4606f4d3213efbb4b2fe34ec2e5f?s=128&d=identicon&r=PG", "display_name": "Kenneth D.", "link": "https://stackoverflow.com/users/1332304/kenneth-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1433432409, "creation_date": 1433432409, "answer_id": 30648288, "question_id": 30631819, "link": "https://stackoverflow.com/questions/30631819/uwsgi-emperor-configuration/30648288#30648288", "title": "uWSGI Emperor configuration", "body": "<p>Brian on the uWSGI mailing list solved this for me.  The answer is: don't call app.run() in the wsgi.py file!  I knew it would be something embarrassing.</p>\n"}], "owner": {"reputation": 747, "user_id": 1332304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f65c4606f4d3213efbb4b2fe34ec2e5f?s=128&d=identicon&r=PG", "display_name": "Kenneth D.", "link": "https://stackoverflow.com/users/1332304/kenneth-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3338, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433432409, "creation_date": 1433370120, "question_id": 30631819, "link": "https://stackoverflow.com/questions/30631819/uwsgi-emperor-configuration", "title": "uWSGI Emperor configuration", "body": "<p>I have been struggling to deploy a flask app to my server using uWSGI in\nEmperor mode all day and am at a loss why it is not working.  I have read all the other uWSGI Emperor mode questions here &amp; asked on #uwsgi &amp; the mailing list with no reply.</p>\n\n<p>My setup is nginx (1.4.6-1ubuntu3.2), uWSGI==2.0.10 installed via pip\ninto a virtualenv, Flask==0.10.1, and Python 3.4.0.  supervisord is\nresponsible for launching the Emperor process.</p>\n\n<p>The flask app itself works fine when I start it manually bound to a TCP port, and when I manually run uwsgi like:</p>\n\n<pre><code>uwsgi -s /tmp/oauthsvc.sock -w wsgi --stats /tmp/oauthsvc-stats.sock\n</code></pre>\n\n<p>I do notice that even though I think I configured the vassal to use a\nunix socket, it reports on startup that it is listening to <a href=\"http://127.0.0.1:5000/\" rel=\"nofollow\">http://127.0.0.1:5000/</a></p>\n\n<p>I verified with strace that nginx is opening the socket, and permissions\nof that socket are 777:</p>\n\n<pre><code>srwxrwxrwx 1 oauthsvc oauthsvc 0 Jun  3 18:34 /tmp/oauthsvc.sock\nsrwxrwxrwx 1 oauthsvc oauthsvc 0 Jun  3 18:08 /tmp/oauthsvc-stats.sock\n</code></pre>\n\n<p>But the connection eventually just times out.</p>\n\n<p>My configs &amp; some log output follows.</p>\n\n<p>The nginx config is as simple as can be:</p>\n\n<pre><code>server {                                                                    \n    listen 80;                                                              \n    server_name default;                                                    \n\n    location = /robots.txt  { access_log off; log_not_found off; }          \n    location = /favicon.ico { access_log off; log_not_found off; }          \n\n    location / {                                                            \n        include uwsgi_params;                                               \n        uwsgi_pass unix:/tmp/oauthsvc.sock;                                 \n    }                                                                       \n} \n</code></pre>\n\n<p>supervisor launches the emporer process with this command:</p>\n\n<pre><code>[program:oauthsvc-emperor]                                                      \ncommand=/services/oauthsvc/services/oauthsvc/bin/uwsgi --emperor /services/oauthsvc/etc/uwsgi/vassals --die-on-term --uid 1005 --gid 1005 --logto /services/oauthsvc/var/log/uwsgi/emperor.log\nuser=oauthsvc                                                                   \nautostart=true                                                                  \nautorestart=true                                                                \nredirect_stderr=true \n</code></pre>\n\n<p>The vassal's ini file looks like:</p>\n\n<pre><code>[uwsgi]                                                                         \n# do not turn on master mode when spawned by emperor                            \n# http://stackoverflow.com/questions/15055002/uwsgi-master-with-emperor-spawns-two-emperors\n#master = true                                                                  \nprotocol = uwsgi                                                                \nsocket = /tmp/oauthsvc.sock                                                     \nstats = /tmp/oauthsvc-stats.sock                                                \ndaemonize = /services/oauthsvc/var/log/uwsgi/oauthsvc.log                       \nchdir = /services/oauthsvc/services/oauthsvc/oauthsvc-server                    \nwsgi-file = wsgi.py                                                             \ncallable = app                                                                  \nchmod-socket = 777                                                              \nuid = 1005                                                                      \ngid = 1005                                                                      \nvirtualenv = /services/oauthsvc/services/oauthsvc                               \n# PYTHONHOME                                                                    \nhome = /services/oauthsvc/services/oauthsvc                                     \n#env =                                                                           \nprocesses = 4\nvacuum = true                                                                   \n# If you start uWSGI without threads, the Python GIL will not be enabled, so    \n# threads generated by your application will never run unless you include:      \nenable-threads = true\nharakiri = 30\n</code></pre>\n\n<p>And finally, wsgi.py:</p>\n\n<pre><code>#!/usr/bin/env python3                                                          \n\nfrom oauthsvc.flask.server import parse_args, configured_app                    \n\nargs = parse_args()                                                             \napp = configured_app(args.config, debug=args.debug)                             \napp.run()  \n</code></pre>\n\n<p>The emperor log:</p>\n\n<pre><code>*** Starting uWSGI 2.0.10 (64bit) on [Wed Jun  3 18:34:25 2015] ***\ncompiled with version: 4.8.2 on 03 June 2015 18:32:12\nos: Linux-3.13.0-48-generic #80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015\nnodename: ip-10-0-1-224\nmachine: x86_64\nclock source: unix\npcre jit disabled\ndetected number of CPU cores: 1\ncurrent working directory: /\ndetected binary path: /services/oauthsvc/src/bs-oauth-svc.2015-06-03.183113/bin/uwsgi\n*** WARNING: you are running uWSGI without its master process manager ***\nyour processes number limit is 30038\nyour memory page size is 4096 bytes\ndetected max file descriptor number: 1024\n*** starting uWSGI Emperor ***\n*** has_emperor mode detected (fd: 6) ***\n[uWSGI] getting INI configuration from oauthsvc.ini\n</code></pre>\n\n<p>The vassal log:</p>\n\n<pre><code>*** Starting uWSGI 2.0.10 (64bit) on [Wed Jun  3 18:34:25 2015] ***\ncompiled with version: 4.8.2 on 03 June 2015 18:32:12\nos: Linux-3.13.0-48-generic #80-Ubuntu SMP Thu Mar 12 11:16:15 UTC 2015\nnodename: ip-10-0-1-224\nmachine: x86_64\nclock source: unix\npcre jit disabled\ndetected number of CPU cores: 1\ncurrent working directory: /services/oauthsvc/etc/uwsgi/vassals\ndetected binary path: /services/oauthsvc/src/bs-oauth-svc.2015-06-03.183113/bin/uwsgi\nchdir() to /services/oauthsvc/services/oauthsvc/oauthsvc-server\nyour processes number limit is 30038\nyour memory page size is 4096 bytes\n *** WARNING: you have enabled harakiri without post buffering. Slow upload could be rejected on post-unbuffered webservers ***\ndetected max file descriptor number: 1024\nlock engine: pthread robust mutexes\nthunder lock: disabled (you can enable it with --thunder-lock)\nuwsgi socket 0 bound to UNIX address /tmp/oauthsvc.sock fd 3\nPython version: 3.4.0 (default, Apr 11 2014, 13:08:40)  [GCC 4.8.2]\nSet PythonHome to /services/oauthsvc/services/oauthsvc\nPython main interpreter initialized at 0x135d4d0\npython threads support enabled\nyour server socket listen backlog is limited to 100 connections\nyour mercy for graceful operations on workers is 60 seconds\nmapped 363840 bytes (355 KB) for 4 cores\n*** Operational MODE: preforking ***\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n</code></pre>\n"}, {"tags": ["python", "opencv", "image-processing", "numpy"], "comments": [{"owner": {"reputation": 4884, "user_id": 1087001, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8k294.jpg?s=128&g=1", "display_name": "Sam Whited", "link": "https://stackoverflow.com/users/1087001/sam-whited"}, "edited": false, "score": 0, "creation_date": 1436051174, "post_id": 30631789, "comment_id": 50451437, "body": "Note that if you&#39;re trying to get the image &quot;as RAW as possible&quot; then you won&#39;t be getting an RGB data. You&#39;d be getting a pre-bayer-moire RGBG stream. Is that what you want, or do you want the RGB data (post demosaicing, but before anything like White Balance has been calculated)? Also, do you want the &quot;dead pixels&quot; which many cameras include but clip off? Or the single-component bayer image?"}], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 3501476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e105c5b8ca5254df01955c86dd500c5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3501476", "link": "https://stackoverflow.com/users/3501476/user3501476"}, "edited": false, "score": 1, "creation_date": 1433370731, "post_id": 30631901, "comment_id": 49329375, "body": "Thank you for the response. I do have the .raw files but was concerned that there might still be some processing done by the camera even though they are .raw. Do you happen to know if that is the case?"}, {"owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "reply_to_user": {"reputation": 935, "user_id": 3501476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e105c5b8ca5254df01955c86dd500c5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3501476", "link": "https://stackoverflow.com/users/3501476/user3501476"}, "edited": false, "score": 0, "creation_date": 1433370866, "post_id": 30631901, "comment_id": 49329426, "body": "I believe raw captures <i>all</i> of the raw sensor data that a DSLR has.  It&#39;s practically undeveloped film that you can tweak and modify to your desires.  You may want to confirm that with the spec sheet of your brand or an expert on DSLR technology, however!"}], "tags": [], "owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "is_accepted": true, "score": 1, "last_activity_date": 1433370488, "creation_date": 1433370488, "answer_id": 30631901, "question_id": 30631789, "link": "https://stackoverflow.com/questions/30631789/how-to-read-the-data-of-a-raw-image-in-python-approach/30631901#30631901", "title": "How to read the data of a raw image in python - approach", "body": "<p>If you have the raw image (\"my_picture.raw\")? You could totally use OpenCV-Python to look at it.</p>\n\n<pre><code>raw_data = imread('my_picture.raw')\n</code></pre>\n\n<p>This  should give you a numpy array of the pixels that your raw file contains.<br>\nThen, you can do some basic operations on the data (accessing pixels, doing object/feature recognition, etc.).  There's a ton of detail on their website: <a href=\"https://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_core/py_basic_ops/py_basic_ops.html#basic-ops\" rel=\"nofollow\">https://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_core/py_basic_ops/py_basic_ops.html#basic-ops</a></p>\n\n<p>If you don't have the raw image, then I'm not sure how to \"undo\" the processing of the DSLR, or if you can!  </p>\n\n<p>You don't have to use OpenCV, necessarily.  If you have access to a Matlab license, you should check it out (easier to use IMO).  Matlab has a very powerful set of image processing tools.  </p>\n"}], "owner": {"reputation": 935, "user_id": 3501476, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e105c5b8ca5254df01955c86dd500c5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3501476", "link": "https://stackoverflow.com/users/3501476/user3501476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 0, "accepted_answer_id": 30631901, "answer_count": 1, "score": 1, "last_activity_date": 1433370488, "creation_date": 1433369984, "question_id": 30631789, "link": "https://stackoverflow.com/questions/30631789/how-to-read-the-data-of-a-raw-image-in-python-approach", "title": "How to read the data of a raw image in python - approach", "body": "<p>I am interested in reading the rgb data of a raw image using python. I would like to analyze the rgb of the RAW image with NO filtering and processing done by the DSLR. How would you recommend proceeding? What library etc.? Storing as a numpy array, if possible would be advantageous, I believe. Using openCV was my initial idea, do you recommend anything else?\nLike I said, I want to analyze the image as RAW as possible, hence pre-color filter if possible.\nThank you.</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "flask"], "answers": [{"comments": [{"owner": {"reputation": 4768, "user_id": 950625, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/hFHuW.png?s=128&g=1", "display_name": "blueSurfer", "link": "https://stackoverflow.com/users/950625/bluesurfer"}, "edited": false, "score": 0, "creation_date": 1433411068, "post_id": 30631941, "comment_id": 49345068, "body": "That would reload tthe page. I don&#39;t want that."}, {"owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "edited": false, "score": 0, "creation_date": 1433430964, "post_id": 30631941, "comment_id": 49359130, "body": "Then you should send Json not html, and parse using JavaScript to construct the select. Use return json.dumps(thedictionary) to send back the dictionary of elements.  I won&#39;t change the answer as the problem stated had an issue with templating."}], "tags": [], "owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1433370724, "last_edit_date": 1433370724, "creation_date": 1433370649, "answer_id": 30631941, "question_id": 30631759, "link": "https://stackoverflow.com/questions/30631759/adding-a-context-variable-with-ajax-in-flask/30631941#30631941", "title": "Adding a context variable with AJAX in Flask", "body": "<p>Using index.modified, you need to do something like this:</p>\n\n<pre><code>return render_template('index.modified.html',\n                       elements=your_dictionary)\n</code></pre>\n\n<p>Not trying to return a dictionary (which is why you are getting that error).  See <a href=\"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ii-templates\" rel=\"nofollow\">http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ii-templates</a> fore more examples</p>\n"}, {"tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": false, "score": 0, "last_activity_date": 1433444560, "last_edit_date": 1433444560, "creation_date": 1433370669, "answer_id": 30631945, "question_id": 30631759, "link": "https://stackoverflow.com/questions/30631759/adding-a-context-variable-with-ajax-in-flask/30631945#30631945", "title": "Adding a context variable with AJAX in Flask", "body": "<p>You should be returning <code>render_template('index.modified.html', elements=xrange(n))</code> since you want the html.</p>\n\n<p><code>render_template</code> returns a string which you can then encode as JSON. Ex:</p>\n\n<pre><code>data = render_template('index.modified.html', elements=xrange(n))\nreturn json.dumps({'data': data})\n</code></pre>\n"}], "owner": {"reputation": 4768, "user_id": 950625, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/hFHuW.png?s=128&g=1", "display_name": "blueSurfer", "link": "https://stackoverflow.com/users/950625/bluesurfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433444560, "creation_date": 1433369847, "question_id": 30631759, "link": "https://stackoverflow.com/questions/30631759/adding-a-context-variable-with-ajax-in-flask", "title": "Adding a context variable with AJAX in Flask", "body": "<p>I have a select form that needs to be populated through AJAX. Consider this simple example:</p>\n\n<p><strong>templates/index.html</strong> </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;select id=\"elements\"&gt;\n&lt;/select&gt;\n\n&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $.ajax({\n        url: '/get-something/5',\n        type: \"GET\",\n        dataType: \"html\",\n        success: function (msg) {\n            $('#elements').html(msg)\n        }\n    })\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n\n@app.route('/get-something/&lt;int:n&gt;')\ndef get_something(n):\n    result = ''\n    for i in xrange(n):\n        result += \"&lt;option value='%s'&gt;%s&lt;/option&gt;\\n\" % (i, i)\n    return result\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>That <strong>works just fine</strong> and is what I did. But, I was wondering if there exists another (better?) way. </p>\n\n<p>For instance, I'd prefer having a context variable to better separate the view from the controller. Something like this:</p>\n\n<p><strong>app.modified.py</strong></p>\n\n<pre><code>@app.route('/get-something/&lt;int:n&gt;')\ndef get_something(n):\n    return dict(elements=xrange(n))\n</code></pre>\n\n<p><strong>templates/index.modified.html</strong></p>\n\n<pre><code>&lt;select id=\"elements\"&gt;\n    {% for elem in elements %}\n        &lt;option value='{{ elem }}'&gt;{{ elem }}&lt;/option&gt;\\n\n    {% endfor %}\n&lt;/select&gt;\n</code></pre>\n\n<p>Unfortunately, that does <strong>not</strong> work. It says, <em>'dict' object is not callable</em>. </p>\n\n<p>Any help please? Is this even possible? Notice that I don't want to reload the page, I want the same behavior that you get in the AJAX example.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 18523, "user_id": 1430156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0a2026494464ac339c71a416d342d1d5?s=128&d=identicon&r=PG", "display_name": "O. R. Mapper", "link": "https://stackoverflow.com/users/1430156/o-r-mapper"}, "edited": false, "score": 0, "creation_date": 1433369343, "post_id": 30631620, "comment_id": 49328826, "body": "What language are you talking about? Python? If so, please add the appropriate tag."}, {"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "reply_to_user": {"reputation": 18523, "user_id": 1430156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0a2026494464ac339c71a416d342d1d5?s=128&d=identicon&r=PG", "display_name": "O. R. Mapper", "link": "https://stackoverflow.com/users/1430156/o-r-mapper"}, "edited": false, "score": 0, "creation_date": 1433369962, "post_id": 30631620, "comment_id": 49329089, "body": "Sorry - very silly of me to overlook pointing out that I was talking about python 2.7"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433370441, "post_id": 30631855, "comment_id": 49329259, "body": "Thank you; this is an amazing site. Within 10 minutes I have learned something new!"}], "tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 0, "last_activity_date": 1433370288, "creation_date": 1433370288, "answer_id": 30631855, "question_id": 30631620, "link": "https://stackoverflow.com/questions/30631620/how-to-loop-through-list-of-options-inside-if-statement-in-python-2-7/30631855#30631855", "title": "How to loop through list of options inside if statement in python 2.7?", "body": "<p>You could use <code>any</code> with a generator expression to check all of the suffixes. You might also use a couple of temporary variables to aid readability.</p>\n\n<pre><code>included = fileExtension in filesAllowed\nexcluded = any(fileName.endswith(suffix) for suffix in suffixList)\n\nif included and not excluded:\n    ...\n</code></pre>\n\n<p>The expression inside <code>any</code> generates a series of <code>bool</code>s, and <code>any</code> checks if any of them are <code>True</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433371311, "post_id": 30631949, "comment_id": 49329617, "body": "Now that is beautiful! Thanks!"}, {"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433371899, "post_id": 30631949, "comment_id": 49329895, "body": "Works like a charm! Now I need a clever way to strip out the offending suffix to clean up the filename. I guess I can use a similar trick again..."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433371959, "post_id": 30631949, "comment_id": 49329914, "body": "@DrChrisSmith, do you want to keep the file but remove the <code>_syndication</code> etc..?"}, {"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433372811, "post_id": 30631949, "comment_id": 49330231, "body": "Thank you. Vrey kind of you. This is a fantastic way to learn."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433373028, "post_id": 30631949, "comment_id": 49330304, "body": "@DrChrisSmith, no prob, I edited the answer, let me know if that is what you meant"}, {"owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "edited": false, "score": 0, "creation_date": 1433373063, "post_id": 30631949, "comment_id": 49330322, "body": "Lovely; very grateful. You&#39;ve taught me a huge amount in under 30 minutes!"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1433373136, "last_edit_date": 1433373136, "creation_date": 1433370680, "answer_id": 30631949, "question_id": 30631620, "link": "https://stackoverflow.com/questions/30631620/how-to-loop-through-list-of-options-inside-if-statement-in-python-2-7/30631949#30631949", "title": "How to loop through list of options inside if statement in python 2.7?", "body": "<p>You can filter as you go, passing a tuple of the extensions you want to keep and filtering those with any to remove any files with matching extensions that don't contain any substring from your list of excluded substrings.</p>\n\n<pre><code>exc = [LIST OF EXCLUDED SUFFIXES]\n\nimport os\nfor f in os.listdir(\"path\"):\n    if f.endswith((\".mp4\",\".mp3\",\".avi\")) and not any(e in f for e in exc):\n</code></pre>\n\n<p>You only need a single pass over the directory content without any need to build a list first.</p>\n\n<p>If you want to replace the forbidden substrings and not just exclude you can use re.sub:</p>\n\n<pre><code>import os\nimport re\nr = re.compile(r\"|\".join([e for e in exc]))\nfor f in os.listdir(\"path\"):\n    if f.endswith((\".mp4\",\".mp3\",\".avi\")):\n        f = r.sub(\"\",f)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4971544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HeDK3ztgO4Q/AAAAAAAAAAI/AAAAAAAAAGg/GYZ6Mvs4IJ0/photo.jpg?sz=128", "display_name": "Dr Chris Smith", "link": "https://stackoverflow.com/users/4971544/dr-chris-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 30631949, "answer_count": 2, "score": 2, "last_activity_date": 1433373136, "creation_date": 1433369163, "last_edit_date": 1433370758, "question_id": 30631620, "link": "https://stackoverflow.com/questions/30631620/how-to-loop-through-list-of-options-inside-if-statement-in-python-2-7", "title": "How to loop through list of options inside if statement in python 2.7?", "body": "<p>I am extracting items from a subdirectory containing a mixture of files that are audio files in different formats and with different suffixes e.g. <code>_master</code> or <code>_128k</code>.</p>\n\n<p>I have specified higher up in the code a list of permitted extensions (e.g. <code>.mp3</code>) so that I extract only files of the right formats for processing.</p>\n\n<p>I also have a list (suffixExcluded) containing filename suffixes (e.g. <code>_syndication</code>) I explicitly want to exclude from further processing.</p>\n\n<p>How do I best write the line that effectively does:</p>\n\n<pre><code>if fileExtension in filesAllowed and [LIST OF EXCLUDED SUFFIXES] not in fileName:\n</code></pre>\n\n<p>Is there a neat, compact and elegant (pythonic) way of iterating through my list of exclusions within this <code>if</code> clause, or do I need to set up a subsidiary loop to test each item?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 2470, "user_id": 1142754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d6211d53a4f97822b08c0f7b63c3c35?s=128&d=identicon&r=PG", "display_name": "Maxim Kulkin", "link": "https://stackoverflow.com/users/1142754/maxim-kulkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1480705861, "creation_date": 1480705861, "answer_id": 40939370, "question_id": 30631542, "link": "https://stackoverflow.com/questions/30631542/flask-marshmallow-how-to-conditionally-generate-hateoas-urls/40939370#40939370", "title": "flask-marshmallow - how to conditionally generate HATEOAS URLS", "body": "<p>You can do it with post_dump post-processing: check running status and remove inappropriate fields. That'll be much easier than generating them conditionally.</p>\n\n<pre><code>class CarSchema(ma.Schema):\n    class Meta:\n        fields = ('model', 'year', 'running', '_links')\n\n    _links = ma.Hyperlinks({\n        'self': ma.URLFor('car_detail', id='&lt;id&gt;'),\n        'start': ma.URLFor('car_start', id='&lt;id&gt;')\n        'stop': ma.URLFor('car_start', id='&lt;id&gt;')\n    })\n\n    @ma.post_dump\n    def postprocess(self, data):\n        if data['running']:\n            del data['_links']['start']\n        else:\n            del data['_links']['stop']\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 2497977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bYEEq.jpg?s=128&g=1", "display_name": "downbySF", "link": "https://stackoverflow.com/users/2497977/downbysf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 963, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1480705861, "creation_date": 1433368753, "question_id": 30631542, "link": "https://stackoverflow.com/questions/30631542/flask-marshmallow-how-to-conditionally-generate-hateoas-urls", "title": "flask-marshmallow - how to conditionally generate HATEOAS URLS", "body": "<p>I'm looking to selectively return some urls based on the current state of the object and am having a heck of a time solving how to expose the state property in the Schema, do some logic and determine which URLs to return based on the object state:</p>\n\n<p>The Model:</p>\n\n<pre><code>class Car(Model):\n    model = Column(String)\n    year = Column(String)\n    running = Column(Boolean)   #'0 = not running', '1 = running'\n</code></pre>\n\n<p>and the schema:</p>\n\n<pre><code>class CarSchema(ma.Schema):\n    class Meta:\n        fields = ('model', 'year', 'running',  '_links')\n\n    _links = ma.Hyperlinks({\n        'self': ma.URLFor('car_detail', id='&lt;id&gt;'),\n        'start': ma.URLFor('car_start', id='&lt;id&gt;')\n        'stop': ma.URLFor('car_start', id='&lt;id&gt;')\n    })\n</code></pre>\n\n<p>What i'd like to do is have the start url only returned when the 'running' property is 0, and the stop url returned when it's 1, but i'm unclear on how to accomplish this. </p>\n\n<p>Marshmallow seems to have a few decorators that would seem to but how would I leverage them with flask-marshmallow? </p>\n"}, {"tags": ["python", "button", "tkinter"], "comments": [{"owner": {"reputation": 8957, "user_id": 3714930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdVoU.png?s=128&g=1", "display_name": "fhdrsdg", "link": "https://stackoverflow.com/users/3714930/fhdrsdg"}, "edited": false, "score": 0, "creation_date": 1433400653, "post_id": 30631506, "comment_id": 49338548, "body": "Please don&#39;t use edits to write an answer in the question. If you feel you have found the answer yourself, you can post an answer to your own question. This keeps answers separated from questions. Thanks in advance."}], "answers": [{"comments": [{"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1433370907, "post_id": 30631837, "comment_id": 49329438, "body": "If someone can tell me if I should write two answers, delete the first one or...."}], "tags": [], "owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "is_accepted": false, "score": 0, "last_activity_date": 1433370808, "last_edit_date": 1433370808, "creation_date": 1433370192, "answer_id": 30631837, "question_id": 30631506, "link": "https://stackoverflow.com/questions/30631506/tkinter-button-bind-issues/30631837#30631837", "title": "Tkinter button bind issues", "body": "<p>Don't use bind and command at the same time:\n(and don't forget to write your import line)</p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\nroot.geometry('300x300')\nroot.title('Day')\n\nframe3 = Frame(root)\nframe4 = Frame(root)\nframe3.grid()\n\ndayFrame = Frame(frame4)\nclass App(Frame):\n    def __init__(self, master):\n        Frame.__init__(self, master)\n        self.var1 = StringVar()\n        self.var1.set('')\n        self.sunBtn = Button(frame3, text='Sunday', command= lambda: self.openFrame('Sunday'))\n        self.sunBtn.grid(row=1, column=0)\n        self.monBtn = Button(frame3, text='Monday', command=lambda: self.openFrame('Monday'))\n        self.monBtn.grid(row=1, column=1)\n\n    def openFrame(self, day):\n        frame4.grid()\n        dayFrame.grid()\n        dayLbl = Label(dayFrame, text=day)\n        dayLbl.grid(row=1, column=0)\n\napp = App(root)\napp.mainloop()\n</code></pre>\n\n<p>A very different (and probably better) solution:</p>\n\n<pre><code>from tkinter import *\nimport calendar\n\nroot = Tk()\nroot.geometry('600x300')\nroot.title('Day')\n\nframe3 = Frame(root)\nframe4 = Frame(root)\nframe3.grid()\n\ndayFrame = Frame(frame4)\nclass App(Frame):\n    def __init__(self, master):\n        Frame.__init__(self, master)        \n        frame4.grid()\n        dayFrame.grid()\n        self.dayLbl = Label(dayFrame, text=\"\")\n        self.dayLbl.grid(row=1, column=0)\n        for i,  day in enumerate(calendar.day_name):\n            button = Button(frame3, text=day, command= lambda day=day:\\\n                self.dayLbl.configure(text=day))\n            button.grid(row=1, column=i)         \n\napp = App(root)\napp.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4923033, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206620428532202/picture?type=large", "display_name": "Alec Mondello", "link": "https://stackoverflow.com/users/4923033/alec-mondello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433400441, "creation_date": 1433368643, "last_edit_date": 1433400441, "question_id": 30631506, "link": "https://stackoverflow.com/questions/30631506/tkinter-button-bind-issues", "title": "Tkinter button bind issues", "body": "<p>My goal is to eventually have a few labels and entries that appear and correspond with the different days of the week. I am currently working on getting the button binding to generate a different label depending on which day of the week is selected. It's sort of working, but not how I expected and not how I really want. Right now I have to click on a button twice for it to update the label. I'm still pretty new to programming and I appreciate any help you can provide!</p>\n\n<pre><code>root = Tk()\nroot.geometry('300x300')\nroot.title('Day')\n\nframe3 = Frame(root)\nframe4 = Frame(root)\nframe3.grid()\n\ndayFrame = Frame(frame4)\nclass App(Frame):\n    def __init__(self, master):\n        Frame.__init__(self, master)\n        self.var1 = StringVar()\n        self.var1.set('')\n        self.sunBtn = Button(frame3, text='Sunday', command=lambda day='Sunday': self.var1.set(day))\n        self.sunBtn.bind('&lt;Button-1&gt;', self.openFrame)\n        self.sunBtn.grid(row=1, column=0)\n        self.monBtn = Button(frame3, text='Monday', command=lambda day='Monday': self.var1.set(day))\n        self.monBtn.bind('&lt;Button-1&gt;', self.openFrame)\n        self.monBtn.grid(row=1, column=1)\n\n    def openFrame(self,*args):\n        frame4.grid()\n        dayFrame.grid()\n        dayLbl = Label(dayFrame, text=self.var1.get())\n        dayLbl.grid(row=1, column=0)\n\napp = App(root)\napp.mainloop()\n</code></pre>\n\n<p>UPDATE: I realized my mistake. I feel dumb. I replaced</p>\n\n<pre><code>self.var1.set('')\n</code></pre>\n\n<p>with</p>\n\n<pre><code>self.var1.trace('w', self.openFrame)\n</code></pre>\n\n<p>and it seems like everything is working properly. Hopefully this can help another beginner at some point!</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433374582, "post_id": 30631480, "comment_id": 49330806, "body": "I don&#39;t see any text even using <code>requests.get(title.attrib[&#39;href&#39;])</code>, do you want all the verses in separate lists?"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 2457171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNwi3.jpg?s=128&g=1", "display_name": "Margot Mazur", "link": "https://stackoverflow.com/users/2457171/margot-mazur"}, "edited": false, "score": 0, "creation_date": 1433451743, "post_id": 30631564, "comment_id": 49371146, "body": "Hey Alexey. Thanks for the help. I&#39;m getting a bunch of &lt;bound method PyQuery.text of       [&lt;p.verse&gt;, &lt;p.verse&gt;, &lt;p.verse&gt;, &lt;p.verse&gt;, &lt;p.verse&gt;]&gt;  instead of the lyrics. Do you tink you could explain why that is?"}, {"owner": {"reputation": 2317, "user_id": 3209908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvGVa.jpg?s=128&g=1", "display_name": "Alex Paramonov", "link": "https://stackoverflow.com/users/3209908/alex-paramonov"}, "reply_to_user": {"reputation": 131, "user_id": 2457171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNwi3.jpg?s=128&g=1", "display_name": "Margot Mazur", "link": "https://stackoverflow.com/users/2457171/margot-mazur"}, "edited": false, "score": 0, "creation_date": 1433512492, "post_id": 30631564, "comment_id": 49398724, "body": "I&#39;ve posted the whole working script"}], "tags": [], "owner": {"reputation": 2317, "user_id": 3209908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvGVa.jpg?s=128&g=1", "display_name": "Alex Paramonov", "link": "https://stackoverflow.com/users/3209908/alex-paramonov"}, "is_accepted": false, "score": 4, "last_activity_date": 1433512418, "last_edit_date": 1433512418, "creation_date": 1433368845, "answer_id": 30631564, "question_id": 30631480, "link": "https://stackoverflow.com/questions/30631480/using-python-to-visit-a-link-and-print-data/30631564#30631564", "title": "Using python to visit a link and print data", "body": "<p>Replace </p>\n\n<pre><code>response_title = requests.get(title)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>response_title = requests.get(title.attrib['href'])\n</code></pre>\n\n<p>Full working script (with fixed note from the comment below)</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom pyquery import PyQuery as pq\nfrom lxml import etree\nimport requests\nfrom bs4 import BeautifulSoup\n\n# this visits the website\nresponse = requests.get('http://www.metrolyrics.com/drake-lyrics.html')\n\n# this separates the different types of content\ndoc = pq(response.content)\n\n# this finds the titles in the content\ntitles = doc('.title')\n\n# this visits each title, then prints each verse\nfor title in titles:\n    # this visits each title\n  #response_title = requests.get(title)\n  response_title = requests.get(title.attrib['href'])\n\n    # this separates the content\n  doc2 = pq(response_title.content)\n    # this finds the song lyrics\n  verse = doc2('.verse')\n    # this prints the song lyrics\n  print verse.text()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1433376126, "creation_date": 1433376126, "answer_id": 30632836, "question_id": 30631480, "link": "https://stackoverflow.com/questions/30631480/using-python-to-visit-a-link-and-print-data/30632836#30632836", "title": "Using python to visit a link and print data", "body": "<p>If you want all the text using BeautifulSoup:</p>\n\n<pre><code>r = requests.get('http://www.metrolyrics.com/drake-lyrics.html')\nsoup = (a[\"href\"] for a in BeautifulSoup(r.content).find_all(\"a\", \"title\", href=True))\nverses = (BeautifulSoup(requests.get(url).content).find_all(\"p\", \"verse\") for url in soup)\n\nfor verse in verses:\n    print([v.text for v in verse])\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 2457171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNwi3.jpg?s=128&g=1", "display_name": "Margot Mazur", "link": "https://stackoverflow.com/users/2457171/margot-mazur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "closed_date": 1433382235, "answer_count": 2, "score": 4, "last_activity_date": 1433512418, "creation_date": 1433368530, "question_id": 30631480, "link": "https://stackoverflow.com/questions/30631480/using-python-to-visit-a-link-and-print-data", "closed_reason": "Not suitable for this site", "title": "Using python to visit a link and print data", "body": "<p>I'm writing a web scraper and trying to get back Drake lyrics.\nMy scraper has to visit one site (main metrolyrics site) and then visit each individual song link, then print out the lyrics.</p>\n\n<p>I'm having trouble visiting the second link. I've searched around on BeautifulSoup and am pretty confused. I'm wondering if you can help.</p>\n\n<pre><code># this is intended to print all of the drake song lyrics on metrolyrics\n\nfrom pyquery import PyQuery as pq\nfrom lxml import etree\nimport requests\nfrom bs4 import BeautifulSoup\n\n# this visits the website\nresponse = requests.get('http://www.metrolyrics.com/drake-lyrics.html')\n\n# this separates the different types of content\ndoc = pq(response.content)\n\n# this finds the titles in the content\ntitles = doc('.title')\n\n# this visits each title, then prints each verse\nfor title in titles:\n    # this visits each title\n  response_title = requests.get(title)\n    # this separates the content\n  doc2 = pq(response_title.content)\n    # this finds the song lyrics\n  verse = doc2('.verse')\n    # this prints the song lyrics\n  print verse.text\n</code></pre>\n\n<p>In response_title = requests.get(title), python isn't recognizing that title is a link, which makes sense. How do I get the actual  in there, though? Appreciate your help.</p>\n"}, {"tags": ["python", "anaconda"], "comments": [{"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1433369112, "post_id": 30631445, "comment_id": 49328744, "body": "Does it have to be Py-ODE? If not, you could also think about <a href=\"http://www.ni.gsu.edu/~rclewley/PyDSTool/ProjectOverview.html\" rel=\"nofollow noreferrer\">PyDSTool</a> which also allows you to do bifurcation analysis or also <a href=\"http://pysces.sourceforge.net/\" rel=\"nofollow noreferrer\">PySCeS</a>."}, {"owner": {"reputation": 11, "user_id": 3700936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff4d0a2c610f61256769a5ae3fa520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700936", "link": "https://stackoverflow.com/users/3700936/user3700936"}, "reply_to_user": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1433375071, "post_id": 30631445, "comment_id": 49330960, "body": "I&#39;m looking for tool to help me visually display the utilities of pybrain - there was some demo code I found but it needed PyODE. If you have any tools that I could use with ANN&#39;s just to get a visual aspect going let me know (like creature evolution...)"}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1433404507, "post_id": 30631445, "comment_id": 49340735, "body": "Would you mind posting this demo code/an example, and explaining in more detail what you want to do with it? That would make it easier to look for a solution to your problem. For me it is not fully clear what you mean by &quot;utilities of pybrain&quot;, what exactly you want to do with ANN. So please be as precise as possible :)"}, {"owner": {"reputation": 11, "user_id": 3700936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff4d0a2c610f61256769a5ae3fa520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700936", "link": "https://stackoverflow.com/users/3700936/user3700936"}, "reply_to_user": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1433443120, "post_id": 30631445, "comment_id": 49366587, "body": "This is the video I was referring to - <a href=\"https://vimeo.com/12914367\" rel=\"nofollow noreferrer\">vimeo.com/12914367</a>. At the 20:00 mark there is a 3d virtual robot learning to grasp a cup using a pybrain ANN. I&#39;d like to get an existing project working and play around with that as a means of learning more about pybrain and neural nets. This one has some cool examples as well <a href=\"https://www.youtube.com/watch?v=fEM7YDNonSE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=fEM7YDNonSE</a>."}], "owner": {"reputation": 11, "user_id": 3700936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff4d0a2c610f61256769a5ae3fa520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700936", "link": "https://stackoverflow.com/users/3700936/user3700936"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433368391, "creation_date": 1433368391, "question_id": 30631445, "link": "https://stackoverflow.com/questions/30631445/setting-up-pyode-in-anaconda", "title": "Setting up PyODE in Anaconda", "body": "<p>I've been trying to set up Py-ODE in Anaconda (32-bit for a Windows 7 64-bit machine and Python 2.7) and it's been an insane pain in the arse so to speak. Py-ODE from what I see on their website is only available for Python 2.6 so I set up an environment using conda specifically for it. When I tried to run the setup for Py-ODE it gives the warning \" not found. You may have to adjust INC_DIRS.\" and shortly exits with \"error: unable to find vcvarsall.bat\" </p>\n\n<p>I know there is a post about vcvarsall.bat but I already have visual C++ 2008 installed and it just seems like a super long workaround. </p>\n\n<p>I then tried to install with the PyODE executable snapshot but that also did not work.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 3316920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f4jME.jpg?s=128&g=1", "display_name": "McBoman", "link": "https://stackoverflow.com/users/3316920/mcboman"}, "edited": false, "score": 1, "creation_date": 1433369033, "post_id": 30631453, "comment_id": 49328695, "body": "That was a little imbarassing but this really helped! Thanks :)"}], "tags": [], "owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "is_accepted": true, "score": 4, "last_activity_date": 1433368416, "creation_date": 1433368416, "answer_id": 30631453, "question_id": 30631378, "link": "https://stackoverflow.com/questions/30631378/flask-exception-view-function-mapping-is-overwriting-an-existing-endpoint-funct/30631453#30631453", "title": "Flask exception &quot;View function mapping is overwriting an existing endpoint function&quot;", "body": "<p>You have 2 endpoints called '/login'.  Change one of their names. Also the functions can't have the same names either.</p>\n"}], "owner": {"reputation": 491, "user_id": 3316920, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f4jME.jpg?s=128&g=1", "display_name": "McBoman", "link": "https://stackoverflow.com/users/3316920/mcboman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4054, "favorite_count": 1, "accepted_answer_id": 30631453, "answer_count": 1, "score": 3, "last_activity_date": 1433368416, "creation_date": 1433368094, "question_id": 30631378, "link": "https://stackoverflow.com/questions/30631378/flask-exception-view-function-mapping-is-overwriting-an-existing-endpoint-funct", "title": "Flask exception &quot;View function mapping is overwriting an existing endpoint function&quot;", "body": "<p>I'm following this book called: \"Flask web development\".</p>\n\n<p>When I'm creating the login system he creates then I can an exception at my registration of the blueprint I have made.</p>\n\n<p>Log:</p>\n\n<pre><code>    C:\\Python27\\python.exe \"C:/Users/Bo/Google Drev/Privat/HobbyProjekter/Event/manage.py\"\nTraceback (most recent call last):\n  File \"C:/Users/Bo/Google Drev/Privat/HobbyProjekter/Event/manage.py\", line 7, in &lt;module&gt;\n    app = create_app(os.getenv('FLASK_CONFIG') or 'default')\n  File \"C:\\Users\\Bo\\Google Drev\\Privat\\HobbyProjekter\\Event\\app\\__init__.py\", line 42, in create_app\n    app.register_blueprint(auth_blueprint, url_prefix='/auth')\n  File \"C:\\Python27\\lib\\site-packages\\flask\\app.py\", line 62, in wrapper_func\n    return f(self, *args, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\flask\\app.py\", line 889, in register_blueprint\n    blueprint.register(self, options, first_registration)\n  File \"C:\\Python27\\lib\\site-packages\\flask\\blueprints.py\", line 153, in register\n    deferred(state)\n  File \"C:\\Python27\\lib\\site-packages\\flask\\blueprints.py\", line 172, in &lt;lambda&gt;\n    s.add_url_rule(rule, endpoint, view_func, **options))\n  File \"C:\\Python27\\lib\\site-packages\\flask\\blueprints.py\", line 76, in add_url_rule\n    view_func, defaults=defaults, **options)\n  File \"C:\\Python27\\lib\\site-packages\\flask\\app.py\", line 62, in wrapper_func\n    return f(self, *args, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\flask\\app.py\", line 984, in add_url_rule\n    'existing endpoint function: %s' % endpoint)\nAssertionError: View function mapping is overwriting an existing endpoint function: auth.login\n</code></pre>\n\n<p>The code for where I register my blueprint looks like this:</p>\n\n<pre><code>from .auth import auth as auth_blueprint\napp.register_blueprint(auth_blueprint, url_prefix='/auth')\n</code></pre>\n\n<p>And that code imports from my auth__init__.py :</p>\n\n<pre><code>from flask import Blueprint\n\nauth = Blueprint('auth', __name__)\n\nfrom . import views\nfrom flask import render_template\nfrom . import auth\n\n@auth.route('/login')\ndef login():\n    return render_template('auth/login.html')\n</code></pre>\n\n<p>At last my view I'm trying to register (just a snippet):</p>\n\n<pre><code>@auth.route('/login', methods=['GET', 'POST'])\ndef login():\n</code></pre>\n\n<p>Hope you can help</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1433369471, "post_id": 30631351, "comment_id": 49328882, "body": "see, it&#39;s real AI: you need a supercomputer just to understand the code! :) Just kidding. Excellent Q and A"}], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 2, "last_activity_date": 1433368823, "last_edit_date": 1433368823, "creation_date": 1433368517, "answer_id": 30631478, "question_id": 30631351, "link": "https://stackoverflow.com/questions/30631351/update-fct-in-python-constructors/30631478#30631478", "title": "update fct in python constructors", "body": "<p>That is not one of Python's <a href=\"https://docs.python.org/2/library/functions.html\" rel=\"nofollow\">built-in functions</a>, so as it's not defined locally or listed in:</p>\n\n<pre><code>import math, random, sys, time, bisect, string\n</code></pre>\n\n<p><em>(ulgh!)</em> it must have come from the only other <code>import</code> in the file:</p>\n\n<pre><code>from utils import *\n</code></pre>\n\n<p>(this is why <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">the style guide</a> says <em>\"Wildcard imports should be avoided, as they make it unclear which names are present in the namespace\"</em>...). </p>\n\n<hr>\n\n<p>Checking in <a href=\"http://aima-python.googlecode.com/svn/trunk/utils.py\" rel=\"nofollow\">that file</a> we find:</p>\n\n<pre><code>def update(x, **entries):\n    \"\"\"Update a dict; or an object with slots; according to entries.\n    &gt;&gt;&gt; update({'a': 1}, a=10, b=20)\n    {'a': 10, 'b': 20}\n    &gt;&gt;&gt; update(Struct(a=1), a=10, b=20)\n    Struct(a=10, b=20)\n    \"\"\"\n    if isinstance(x, dict):\n        x.update(entries)\n    else:\n        x.__dict__.update(entries)\n    return x\n</code></pre>\n\n<hr>\n\n<p>The use of this function slightly simplifies what would otherwise look like:</p>\n\n<pre><code>def __init__(self, state, parent=None, action=None, path_cost=0):\n    \"Create a search tree Node, derived from a parent by an action.\"\n    self.state = state\n    self.parent = parent\n    self.action = action\n    self.path_cost = path_cost\n    self.depth = 0\n    if parent:\n        self.depth = parent.depth + 1\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 4234140, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O3b4i.jpg?s=128&g=1", "display_name": "dylan7", "link": "https://stackoverflow.com/users/4234140/dylan7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 30631478, "answer_count": 1, "score": 1, "last_activity_date": 1433368823, "creation_date": 1433367994, "question_id": 30631351, "link": "https://stackoverflow.com/questions/30631351/update-fct-in-python-constructors", "title": "update fct in python constructors", "body": "<p>I have come across in <a href=\"http://aima-python.googlecode.com/svn/trunk/search.py\" rel=\"nofollow\">\"Artificial Intelligence: A modern approach\"</a> code repository the following piece of code that I have never seen before:</p>\n\n<pre><code>  def __init__(self, state, parent=None, action=None, path_cost=0):\n    \"Create a search tree Node, derived from a parent by an action.\"\n    update(self, state=state, parent=parent, action=action,\n           path_cost=path_cost, depth=0)\n    if parent:\n        self.depth = parent.depth + 1\n</code></pre>\n\n<p>They seem to be using an <code>update</code> function to redefine the parameters of the constructor, to allow for alternative arguments. I looked everywhere in the code and could not find a self-defined function named <code>update</code>. Is this allowed in python? I couldn't find it online.</p>\n"}, {"tags": ["python", "mysql", "pandas", "sqlalchemy", "mysql-connector"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 1, "creation_date": 1433369044, "post_id": 30631325, "comment_id": 49328701, "body": "You have to pass the Engine itself, not a raw connection (in the future an sqlalchemy Connection will also be possible, but not a raw connection). Can you see if that solves the problem?"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433369072, "post_id": 30631325, "comment_id": 49328713, "body": "Ah, I see that you already tried that :-) Can you show the error you get in that case?"}, {"owner": {"reputation": 1481, "user_id": 2364773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb3768f01a268e1eab6371d8bf4fb09?s=128&d=identicon&r=PG", "display_name": "AsAP_Sherb", "link": "https://stackoverflow.com/users/2364773/asap-sherb"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 1, "creation_date": 1433370086, "post_id": 30631325, "comment_id": 49329133, "body": "when using engine: AttributeError: &#39;Engine&#39; object has no attribute &#39;cursor&#39;"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433370235, "post_id": 30631325, "comment_id": 49329191, "body": "Can you show the output of <code>pd.__versions__</code>? You&#39;re sure not picking up an old pandas version?"}, {"owner": {"reputation": 1481, "user_id": 2364773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb3768f01a268e1eab6371d8bf4fb09?s=128&d=identicon&r=PG", "display_name": "AsAP_Sherb", "link": "https://stackoverflow.com/users/2364773/asap-sherb"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433370569, "post_id": 30631325, "comment_id": 49329316, "body": "pd.__version__ is 0.16.1, assuming you meant <code>__version__</code> not <code>__versions__</code>"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433371052, "post_id": 30631325, "comment_id": 49329499, "body": "Can you show the full traceback? (when using IPython eg?) to see from which lines this error comes. We don&#39;t use cursors anymore in the new implementation, so this error is a bit strange"}, {"owner": {"reputation": 1481, "user_id": 2364773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb3768f01a268e1eab6371d8bf4fb09?s=128&d=identicon&r=PG", "display_name": "AsAP_Sherb", "link": "https://stackoverflow.com/users/2364773/asap-sherb"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433451291, "post_id": 30631325, "comment_id": 49370899, "body": "Yes, this error was really strange.  I restarted my environment and went through the process again this morning.  I used a sqlalchemy engine and it worked.  I am perplexed at what was different."}], "answers": [{"comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433453472, "post_id": 30653988, "comment_id": 49371938, "body": "Glad it works now! In any case, this is the way to go"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 1, "creation_date": 1433686721, "post_id": 30653988, "comment_id": 49447365, "body": "BTW, you may accept your own answer to indicated this is fixed!"}, {"owner": {"reputation": 2722, "user_id": 6015216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8052aa26b935e9d4f2ebc54dcc614711?s=128&d=identicon&r=PG&f=1", "display_name": "cheevahagadog", "link": "https://stackoverflow.com/users/6015216/cheevahagadog"}, "edited": false, "score": 2, "creation_date": 1516303415, "post_id": 30653988, "comment_id": 83643292, "body": "In case you run into problems installing <code>mysql.connector</code> or don&#39;t know how to install it, see this link <a href=\"https://stackoverflow.com/questions/32754461/how-to-install-mysql-connector-via-pip\" title=\"how to install mysql connector via pip\">stackoverflow.com/questions/32754461/&hellip;</a> They recommend <code>pip install mysql-connector==2.1.4</code>. It also solved this problem for me."}, {"owner": {"reputation": 800, "user_id": 6393275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7521c097158639d0a2f5eb65aa57e6?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/6393275/alex"}, "edited": false, "score": 0, "creation_date": 1547585991, "post_id": 30653988, "comment_id": 95240083, "body": "Consistently getting error Python installation has no SSL support. Running with python 3.7 with fresh Anaconda install."}], "tags": [], "owner": {"reputation": 1481, "user_id": 2364773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb3768f01a268e1eab6371d8bf4fb09?s=128&d=identicon&r=PG", "display_name": "AsAP_Sherb", "link": "https://stackoverflow.com/users/2364773/asap-sherb"}, "is_accepted": true, "score": 73, "last_activity_date": 1567507172, "last_edit_date": 1567507172, "creation_date": 1433451389, "answer_id": 30653988, "question_id": 30631325, "link": "https://stackoverflow.com/questions/30631325/writing-to-mysql-database-with-pandas-using-sqlalchemy-to-sql/30653988#30653988", "title": "Writing to MySQL database with pandas using SQLAlchemy, to_sql", "body": "<p>Using the engine in place of the <code>raw_connection()</code> worked:</p>\n\n<pre><code>import pandas as pd\nimport mysql.connector\nfrom sqlalchemy import create_engine\n\nengine = create_engine('mysql+mysqlconnector://[user]:[pass]@[host]:[port]/[schema]', echo=False)\ndata.to_sql(name='sample_table2', con=engine, if_exists = 'append', index=False)\n</code></pre>\n\n<p>Not clear on why when I tried this yesterday it gave me the earlier error.</p>\n"}, {"comments": [{"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 1, "creation_date": 1499277827, "post_id": 43006979, "comment_id": 76842089, "body": "openwonk - can you elaborate on the <code>[port]&#47;[schema]</code> portion of this code?  Not exactly sure what to put there.  Thank you!"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 1, "creation_date": 1499281843, "post_id": 43006979, "comment_id": 76844286, "body": "Gonna answer my own question here, schema = data base."}, {"owner": {"reputation": 10667, "user_id": 4259761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDRx2.png?s=128&g=1", "display_name": "openwonk", "link": "https://stackoverflow.com/users/4259761/openwonk"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1499283797, "post_id": 43006979, "comment_id": 76845436, "body": "Glad to help, @pshep123"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1499284020, "post_id": 43006979, "comment_id": 76845580, "body": "Although I&#39;m still having a hell of a time here: <a href=\"https://stackoverflow.com/questions/44933704/pandas-0-20-2-to-sql-using-mysql\" title=\"pandas 0 20 2 to sql using mysql\">stackoverflow.com/questions/44933704/&hellip;</a>. Not sure if you have any insight, thanks."}, {"owner": {"reputation": 10667, "user_id": 4259761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDRx2.png?s=128&g=1", "display_name": "openwonk", "link": "https://stackoverflow.com/users/4259761/openwonk"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1499285917, "post_id": 43006979, "comment_id": 76846712, "body": "Are you getting any other specifics about why connection refused? Could be entirely unrelated to Python, Pandas, and SQLAlchemy."}, {"owner": {"reputation": 761, "user_id": 297313, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ea1d55eadb31fd5c83549bf5cc5f05f7?s=128&d=identicon&r=PG", "display_name": "guidoman", "link": "https://stackoverflow.com/users/297313/guidoman"}, "edited": false, "score": 0, "creation_date": 1519913586, "post_id": 43006979, "comment_id": 85107482, "body": "This is the only solution I found that is working with Python 3"}], "tags": [], "owner": {"reputation": 10667, "user_id": 4259761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDRx2.png?s=128&g=1", "display_name": "openwonk", "link": "https://stackoverflow.com/users/4259761/openwonk"}, "is_accepted": false, "score": 10, "last_activity_date": 1490380994, "creation_date": 1490380994, "answer_id": 43006979, "question_id": 30631325, "link": "https://stackoverflow.com/questions/30631325/writing-to-mysql-database-with-pandas-using-sqlalchemy-to-sql/43006979#43006979", "title": "Writing to MySQL database with pandas using SQLAlchemy, to_sql", "body": "<p>Alternatively, use <code>pymysql</code> package...</p>\n\n<pre><code>import pymysql\nfrom sqlalchemy import create_engine\ncnx = create_engine('mysql+pymysql://[user]:[pass]@[host]:[port]/[schema]', echo=False)\n\ndata = pd.read_sql('SELECT * FROM sample_table', cnx)\ndata.to_sql(name='sample_table2', con=cnx, if_exists = 'append', index=False)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 888330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6967b0e903d46d28bd3059a0bbb95da?s=128&d=identicon&r=PG", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/888330/steve-byrne"}, "edited": false, "score": 0, "creation_date": 1598541838, "post_id": 48116232, "comment_id": 112498910, "body": "The flavor keyword arg no longer is allowed."}], "tags": [], "owner": {"reputation": 2012, "user_id": 7127519, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1slUcgYvfqQ/AAAAAAAAAAI/AAAAAAAABC0/_dYlpOFI_K4/photo.jpg?sz=128", "display_name": "Rafael Valero", "link": "https://stackoverflow.com/users/7127519/rafael-valero"}, "is_accepted": false, "score": 1, "last_activity_date": 1515164868, "creation_date": 1515164868, "answer_id": 48116232, "question_id": 30631325, "link": "https://stackoverflow.com/questions/30631325/writing-to-mysql-database-with-pandas-using-sqlalchemy-to-sql/48116232#48116232", "title": "Writing to MySQL database with pandas using SQLAlchemy, to_sql", "body": "<p>I know in the title of the question is included the word SQLAlchemy, however I see in the questions and answers the need to import pymysql or mysql.connector, and also is possible to do the job with pymysql, withouth calling SQLAlchemy.</p>\n\n<pre><code>import pymysql\nuser = 'root'\npassw = 'my-secret-pw-for-mysql-12ud' # In previous posts variable \"pass\"\nhost =  '172.17.0.2'\nport = 3306\n\ndatabase = 'sample_table' # In previous posts similar to \"schema\"\n\nconn = pymysql.connect(host=host,\n                       port=port,\n                       user=user, \n                       passwd=passw,  \n                       db=database)\n\ndata.to_sql(name=database, con=conn, if_exists = 'append', index=False, flavor = 'mysql')\n</code></pre>\n\n<p>I think this solution could be good althought it is not using SQLAlchemy.</p>\n"}, {"tags": [], "owner": {"reputation": 2145, "user_id": 2007153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2acd37d2c8cfe6202572879b40bd01b3?s=128&d=identicon&r=PG", "display_name": "DougR", "link": "https://stackoverflow.com/users/2007153/dougr"}, "is_accepted": false, "score": 8, "last_activity_date": 1520355728, "creation_date": 1520355728, "answer_id": 49136263, "question_id": 30631325, "link": "https://stackoverflow.com/questions/30631325/writing-to-mysql-database-with-pandas-using-sqlalchemy-to-sql/49136263#49136263", "title": "Writing to MySQL database with pandas using SQLAlchemy, to_sql", "body": "<p>Using pymysql and sqlalchemy,  this works for Pandas v0.22: </p>\n\n<pre><code>import pandas as pd\nimport pymysql\nfrom sqlalchemy import create_engine\n\nuser = 'yourUserName'\npassw = 'password'\nhost =  'hostName'  # either localhost or ip e.g. '172.17.0.2' or hostname address \nport = 3306 \ndatabase = 'dataBaseName'\n\nmydb = create_engine('mysql+pymysql://' + user + ':' + passw + '@' + host + ':' + str(port) + '/' + database , echo=False)\n\ndirectory = r'directoryLocation'  # path of csv file\ncsvFileName = 'something.csv'\n\ndf = pd.read_csv(os.path.join(directory, csvFileName ))\n\ndf.to_sql(name=csvFileName[:-4], con=mydb, if_exists = 'replace', index=False)\n\n\"\"\"\nif_exists: {'fail', 'replace', 'append'}, default 'fail'\n     fail: If table exists, do nothing.\n     replace: If table exists, drop it, recreate it, and insert data.\n     append: If table exists, insert data. Create if does not exist.\n\"\"\"\n</code></pre>\n"}], "owner": {"reputation": 1481, "user_id": 2364773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb3768f01a268e1eab6371d8bf4fb09?s=128&d=identicon&r=PG", "display_name": "AsAP_Sherb", "link": "https://stackoverflow.com/users/2364773/asap-sherb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80084, "favorite_count": 31, "protected_date": 1500951841, "accepted_answer_id": 30653988, "answer_count": 4, "score": 51, "last_activity_date": 1567507172, "creation_date": 1433367910, "last_edit_date": 1567507093, "question_id": 30631325, "link": "https://stackoverflow.com/questions/30631325/writing-to-mysql-database-with-pandas-using-sqlalchemy-to-sql", "title": "Writing to MySQL database with pandas using SQLAlchemy, to_sql", "body": "<p>trying to write pandas dataframe to MySQL table using <code>to_sql</code>.  Previously been using <code>flavor='mysql'</code>, however it will be depreciated in the future and wanted to start the transition to using SQLAlchemy engine.</p>\n\n<p>sample code:</p>\n\n<pre><code>import pandas as pd\nimport mysql.connector\nfrom sqlalchemy import create_engine\n\nengine = create_engine('mysql+mysqlconnector://[user]:[pass]@[host]:[port]/[schema]', echo=False)\ncnx = engine.raw_connection()\ndata = pd.read_sql('SELECT * FROM sample_table', cnx)\ndata.to_sql(name='sample_table2', con=cnx, if_exists = 'append', index=False)\n</code></pre>\n\n<p>The read works fine but the <code>to_sql</code> has an error:</p>\n\n<blockquote>\n  <p>DatabaseError: Execution failed on sql 'SELECT name FROM sqlite_master\n  WHERE type='table' AND name=?;': Wrong number of arguments during\n  string formatting</p>\n</blockquote>\n\n<p>Why does it look like it is trying to use sqlite? What is the correct use of a sqlalchemy connection with mysql and specifically mysql.connector?</p>\n\n<p>I also tried passing the engine in as the connection as well, and that gave me an error referencing no cursor object.</p>\n\n<pre><code>data.to_sql(name='sample_table2', con=engine, if_exists = 'append', index=False)\n&gt;&gt;AttributeError: 'Engine' object has no attribute 'cursor'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 1, "creation_date": 1433367569, "post_id": 30631153, "comment_id": 49328037, "body": "You forgot to check for <code>note == False</code>"}, {"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 0, "creation_date": 1433367763, "post_id": 30631153, "comment_id": 49328116, "body": "and <code>nums</code> should be <code>nums &lt; 2</code> instead"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1433368277, "post_id": 30631153, "comment_id": 49328342, "body": "You&#39;ll need to identify what values qualify as commonly-used passwords, and then check for them."}, {"owner": {"reputation": 35, "user_id": 4971470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ba289f90b1efed7b650b8de5f0256d?s=128&d=identicon&r=PG&f=1", "display_name": "Rock Lobster", "link": "https://stackoverflow.com/users/4971470/rock-lobster"}, "edited": false, "score": 0, "creation_date": 1433368315, "post_id": 30631153, "comment_id": 49328363, "body": "its asking for specific strings though"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1433368417, "post_id": 30631153, "comment_id": 49328408, "body": "Yes; define some commonly-used passwords (with a <code>list</code>, <code>set</code>, etc.) and then check whether <code>password in common_passwords</code>."}, {"owner": {"reputation": 35, "user_id": 4971470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ba289f90b1efed7b650b8de5f0256d?s=128&d=identicon&r=PG&f=1", "display_name": "Rock Lobster", "link": "https://stackoverflow.com/users/4971470/rock-lobster"}, "edited": false, "score": 0, "creation_date": 1433368815, "post_id": 30631153, "comment_id": 49328593, "body": "thanks for the help!"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1433665834, "post_id": 30631153, "comment_id": 49441928, "body": "Welcome to SO. If one of the answers below fixes your issue, you should accept it (click the check mark next to the appropriate answer). That does two things. It lets everyone know your issue has been resolved, and it gives the person that helps you credit for the assist. See <a href=\"http://meta.stackexchange.com/a/5235/187716\">here</a> for a full explanation."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4971470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ba289f90b1efed7b650b8de5f0256d?s=128&d=identicon&r=PG&f=1", "display_name": "Rock Lobster", "link": "https://stackoverflow.com/users/4971470/rock-lobster"}, "edited": false, "score": 0, "creation_date": 1433367763, "post_id": 30631256, "comment_id": 49328117, "body": "I am always getting a return of false which is what i can&#39;t figure out"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1433368064, "post_id": 30631256, "comment_id": 49328256, "body": "I tried your original code as well as with this addition, and I don&#39;t always get <code>False</code>. Maybe you&#39;re not picking an acceptable password?"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 1, "last_activity_date": 1433367604, "creation_date": 1433367604, "answer_id": 30631256, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker/30631256#30631256", "title": "Python Password Checker", "body": "<p>you are just missing a branch</p>\n\n<pre><code>elif note:\n    return False\n</code></pre>\n\n<p>before the <code>else:</code></p>\n"}, {"tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1433370505, "last_edit_date": 1433370505, "creation_date": 1433368816, "answer_id": 30631555, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker/30631555#30631555", "title": "Python Password Checker", "body": "<p>Just an alternative using regular expressions:</p>\n\n<pre><code>import re\ndef passwordChecker(password):\n    return all(re.search(pattern, password) for pattern in\n               ('.{5}', '[A-Z]', '\\d.*\\d', '^[^Ee]*$', '[!@#$%^&amp;]'))\n</code></pre>\n\n<p>Demo using five barely invalid and five barely valid tests (one invalid and one valid for each of the five rules):</p>\n\n<pre><code>for password in ('1A!',   '12!34', 'A1bc!', 'A12E!', 'A12bc',\n                 '1A!2.', 'A2!34', 'A12c!', 'A12b!', 'A12b@'):\n    print(passwordChecker(password))\n</code></pre>\n\n<p>Prints <code>False</code> for the first five and <code>True</code> for the last five.</p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1433369721, "creation_date": 1433369721, "answer_id": 30631724, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker/30631724#30631724", "title": "Python Password Checker", "body": "<p>The following checks for each failure condition, with short-circuiting (it'll stop checking once it finds something). The \"common\" passwords aren't really common, but I wanted values that would pass the rest of the checks.</p>\n\n<pre><code>def passwordChecker(password):\n    '''\n    A password checker. Returns True if the password is acceptable; False otherwise.\n    '''\n    if (len(password) &lt; 5 or\n        not any(c.isupper() for c in password) or\n        sum(c.isdigit() for c in password) &lt; 2 or\n        'e' in password.lower() or\n        not (set(password) &amp; set('!@#$%^&amp;')) or\n        password in {'Password12!', 'Passwd12!'}):\n        return False\n    return True\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; passwordChecker('Password12!')\nFalse\n&gt;&gt;&gt; passwordChecker('hi')\nFalse\n&gt;&gt;&gt; passwordChecker('H12!')\nFalse\n&gt;&gt;&gt; passwordChecker('Hi12!')\nTrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1433372267, "last_edit_date": 1495542572, "creation_date": 1433371106, "answer_id": 30632057, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker/30632057#30632057", "title": "Python Password Checker", "body": "<p>This is a good time to talk about decorators! I <em>love</em> using decorators to validate data, <a href=\"https://stackoverflow.com/a/25798769/3058609\">probably too much</a>. You could make validators for all that, and wrap it around your <code>get_password</code> method.</p>\n\n<pre><code>def v_length(password):\n    return len(password) &gt;= 5\ndef v_upper(password):\n    return password.lower() != password\ndef v_2_nums(password):\n    return sum(c.isdigit() for c in password) &gt;= 2\ndef v_no_e(password):\n    return \"e\" not in password.lower()\ndef v_specialchar(password):\n    any(s in password for s in \"!@#$%^&amp;\")\n\ndef validator(*tests):\n    def wrap(func):\n        def wrapped(*args, **kwargs):\n            result = func(*args, **kwargs)\n            if not all(test(result) for test in tests):\n                # fail the input somehow -- how??\n            return result\n        return wrapped\n    return wrap\n\n@validator(v_length, v_upper, v_2_nums, v_no_e, v_specialchar)\ndef get_password():\n    pwd = input(\"Enter your password: \")\n</code></pre>\n\n<p>I like to wrap my validators in their own factories when I do this in real code, so that it's easier to change per application</p>\n\n<pre><code>def v_length(min_length):\n    def wrapped(password):\n        return len(password) &gt;= min_length\n    return wrapped\n\n@validator(v_length(8))\ndef get_weak_password():\n    input(\"Enter your wussy password: \")\n\n@validator(v_length(64))\ndef get_strong_password():\n    input(\"Enter your Herculean password: \")\n</code></pre>\n\n<p>This second approach works well for checking for common passwords.</p>\n\n<pre><code>def v_common(common_pwd_set):\n    def wrapped(password):\n        return password not in common_pwd_set\n    return wrapped\n\nCOMMON_PASSWORDS = {\"hunter2\", \"111111\", \"password\"}\n@validator(v_common(COMMON_PASSWORDS))\ndef get_password():\n    pwd = input(\"Use a tricksy one! \")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "is_accepted": false, "score": 0, "last_activity_date": 1433373031, "creation_date": 1433373031, "answer_id": 30632391, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker/30632391#30632391", "title": "Python Password Checker", "body": "<p>Yet another way to do this...</p>\n\n<pre><code>def passwordChecker(password):\n    return (len(password) &gt; 4 and\n            len(filter(str.isupper, password)) &gt; 0 and\n            len(filter(str.isdigit, password)) &gt; 1 and\n            'e' not in password.lower() and\n            any(special in password for special in '!@#$%^&amp;') and\n            password not in ('password', '111111'))\n</code></pre>\n\n<p>I think the most interesting part of my solution is the use of <code>filter</code>; some people like it, others hate it. Anyway, all of the other solutions work just as well. Just thought I'd throw this one into the mix for completeness.</p>\n"}], "owner": {"reputation": 35, "user_id": 4971470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ba289f90b1efed7b650b8de5f0256d?s=128&d=identicon&r=PG&f=1", "display_name": "Rock Lobster", "link": "https://stackoverflow.com/users/4971470/rock-lobster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1433373031, "creation_date": 1433367160, "last_edit_date": 1433368167, "question_id": 30631153, "link": "https://stackoverflow.com/questions/30631153/python-password-checker", "title": "Python Password Checker", "body": "<p>I need some help figuring out how to make a function that checks a string for a bunch of conditions.</p>\n\n<ul>\n<li><p>Passwords must    be  at  least   5   characters  long</p></li>\n<li><p>Passwords must contain at least one upper case letter</p></li>\n<li><p>Passwords must    contain at  least   two numbers</p></li>\n<li><p>Passwords may not contain the characters  \"E\" or  \"e\"</p></li>\n<li><p>Passwords must    include at  least   one special symbol:     !,  @,  #,  $,  %,  ^,  &amp;</p></li>\n</ul>\n\n<p>right now this is all that I have</p>\n\n<pre><code>def passwordChecker(password):\n    '''\n    '''\n    caps = sum(1 for c in password if c.isupper())\n    nums = sum(1 for c in password if c.isdigit())\n    symb = any(c in password for c in '!@#$%^&amp;')\n    note = any(c in password for c in 'Ee')\n    if len(password) &lt;5:\n        return False\n    elif caps &lt; 1:\n        return False\n    elif nums &lt; 1:\n        return False\n    elif symb == False:\n        return False\n    else:\n        return True\n</code></pre>\n\n<p>Edit**</p>\n\n<p>Just realized that I have to check also if there are commonly used passwords like 'password' or '111111' and I dont really know about how I would approach this.</p>\n"}, {"tags": ["python", "numpy", "neural-network"], "answers": [{"comments": [{"owner": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433425513, "post_id": 30631365, "comment_id": 49354905, "body": "Thankyou for your reply, I&#39;ll have a look at your code."}, {"owner": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433498222, "post_id": 30631365, "comment_id": 49389227, "body": "I have edited my code, and divided the derivatives by the number of examples like you did in yours. Still their values are not correct :/  I cant figure out where the problem lies"}, {"owner": {"reputation": 251, "user_id": 3752764, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZPZPP.jpg?s=128&g=1", "display_name": "Zizhao", "link": "https://stackoverflow.com/users/3752764/zizhao"}, "reply_to_user": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433616577, "post_id": 30631365, "comment_id": 49432455, "body": "Did you remove the bias term when computing derivatives?"}, {"owner": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433703625, "post_id": 30631365, "comment_id": 49452857, "body": "No I didn&#39;t do that. Are we supposed to remove the biased terms?  Sorry for being lame, I am new to machine learning"}, {"owner": {"reputation": 251, "user_id": 3752764, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZPZPP.jpg?s=128&g=1", "display_name": "Zizhao", "link": "https://stackoverflow.com/users/3752764/zizhao"}, "reply_to_user": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433705182, "post_id": 30631365, "comment_id": 49453365, "body": "Yes. You have to. Bias term does not generate cost to previous layers. See my code I have comments on that point"}, {"owner": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "edited": false, "score": 0, "creation_date": 1433798416, "post_id": 30631365, "comment_id": 49495974, "body": "Thankyou, I will definetely try it out once I get the time."}], "tags": [], "owner": {"reputation": 251, "user_id": 3752764, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZPZPP.jpg?s=128&g=1", "display_name": "Zizhao", "link": "https://stackoverflow.com/users/3752764/zizhao"}, "is_accepted": true, "score": 2, "last_activity_date": 1433368039, "creation_date": 1433368039, "answer_id": 30631365, "question_id": 30631108, "link": "https://stackoverflow.com/questions/30631108/wrong-values-for-partial-derivatives-in-neural-network-python/30631365#30631365", "title": "Wrong values for partial derivatives in neural network python", "body": "<p>Why not have a look of my implementation in <a href=\"https://github.com/zizhaozhang/simple_neutral_network/blob/master/nn.py\" rel=\"nofollow\">https://github.com/zizhaozhang/simple_neutral_network/blob/master/nn.py</a></p>\n\n<p>The derivatives is actually here:</p>\n\n<pre><code>def dCostFunction(self, theta, in_dim, hidden_dim, num_labels, X, y):\n        #compute gradient\n        t1, t2 = self.uncat(theta, in_dim, hidden_dim)\n\n\n        a1, z2, a2, z3, a3 = self._forward(X, t1, t2) # p x s matrix\n\n        # t1 = t1[1:, :] # remove bias term\n        # t2 = t2[1:, :]\n        sigma3 = -(y - a3) * self.dactivation(z3) # do not apply dsigmode here? should I\n        sigma2 = np.dot(t2, sigma3)\n        term = np.ones((1,num_labels))\n        sigma2 = sigma2 * np.concatenate((term, self.dactivation(z2)),axis=0)\n\n        theta2_grad = np.dot(sigma3, a2.T)\n        theta1_grad = np.dot(sigma2[1:,:], a1.T)\n\n        theta1_grad = theta1_grad / num_labels\n        theta2_grad = theta2_grad / num_labels\n\n        return self.cat(theta1_grad.T, theta2_grad.T)\n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 568, "user_id": 2610235, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35705e6dbb699e0cafc96772387e2da2?s=128&d=identicon&r=PG", "display_name": "Shayan Jalil", "link": "https://stackoverflow.com/users/2610235/shayan-jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 30631365, "answer_count": 1, "score": 0, "last_activity_date": 1433368039, "creation_date": 1433366977, "question_id": 30631108, "link": "https://stackoverflow.com/questions/30631108/wrong-values-for-partial-derivatives-in-neural-network-python", "title": "Wrong values for partial derivatives in neural network python", "body": "<p>I am implementing a simple neural network classifier for the iris dataset. The NN has 3 input nodes, 1 hidden layer with two nodes, and 3 output nodes. I have implemented evrything but the values of the partial derivatives are not calculated correctly. I have exhausted myself looking for the solution but couldn't.\nHere is my code for calculating the partial derivatives.</p>\n\n<pre><code>def derivative_cost_function(self,X,Y,thetas):\n    '''\n        Computes the derivates of Cost function w.r.t input parameters (thetas)  \n        for given input and labels.\n\n        Input:\n        ------\n            X: can be either a single d X n-dimensional vector or d X n dimensional matrix of inputs\n            theata: must  dk X 1-dimensional vector for representing vectors of k classes\n            Y: Must be k X n-dimensional label vector\n        Returns:\n        ------\n            partial_thetas: a dk X 1-dimensional vector of partial derivatives of cost function w.r.t parameters..\n    '''\n\n    #forward pass\n    a2, a3=self.forward_pass(X,thetas)\n\n    #now back-propogate \n\n    # unroll thetas\n    l1theta, l2theta = self.unroll_thetas(thetas)\n\n\n    nexamples=float(X.shape[1])\n\n    # compute delta3, l2theta\n    a3 = np.array(a3)\n    a2 = np.array(a2)\n    Y = np.array(Y)\n\n    a3 = a3.T\n    delta3 = (a3 * (1 - a3)) * (((a3 - Y)/((a3)*(1-a3)))) \n    l2Derivatives = np.dot(delta3, a2)\n    #print \"Layer 2 derivatives shape = \", l2Derivatives.shape\n    #print \"Layer 2 derivatives = \", l2Derivatives\n\n\n\n    # compute delta2, l1 theta\n    a2 = a2.T\n    dotProduct = np.dot(l2theta.T,delta3)\n    delta2 = dotProduct * (a2) * (1- a2)\n\n\n    l1Derivatives = np.dot(delta2[1:], X.T)\n    #print \"Layer 1 derivatives shape = \", l1Derivatives.shape\n    #print \"Layer 1 derivatives = \", l1Derivatives\n\n\n    #remember to exclude last element of delta2, representing the deltas of bias terms...\n    # i.e. delta2=delta2[:-1]\n\n\n\n    # roll thetas into a big vector\n    thetas=(self.roll_thetas(l1Derivatives,l2Derivatives)).reshape(thetas.shape) # return the same shape as you received\n\n    return thetas\n</code></pre>\n"}, {"tags": ["python", "plot"], "comments": [{"owner": {"reputation": 10008, "user_id": 1414455, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/563ccb753c4ffe0200cdd8d47b70cf53?s=128&d=identicon&r=PG", "display_name": "tchakravarty", "link": "https://stackoverflow.com/users/1414455/tchakravarty"}, "edited": false, "score": 1, "creation_date": 1433367047, "post_id": 30631076, "comment_id": 49327793, "body": "Well, just compute <code>|v| = constant&#47;|u|</code> for a range of <code>u</code> values and plot those data pairs."}, {"owner": {"reputation": 243, "user_id": 4756421, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102088fa64fb85072368c2fc749e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Jundong", "link": "https://stackoverflow.com/users/4756421/jundong"}, "reply_to_user": {"reputation": 10008, "user_id": 1414455, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/563ccb753c4ffe0200cdd8d47b70cf53?s=128&d=identicon&r=PG", "display_name": "tchakravarty", "link": "https://stackoverflow.com/users/1414455/tchakravarty"}, "edited": false, "score": 0, "creation_date": 1433516454, "post_id": 30631076, "comment_id": 49401711, "body": "Thank you, this way works. I was constantly thinking of contour plots, because I want to have multiple plots with multiple constant values."}], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 4756421, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102088fa64fb85072368c2fc749e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Jundong", "link": "https://stackoverflow.com/users/4756421/jundong"}, "edited": false, "score": 0, "creation_date": 1433516789, "post_id": 30633281, "comment_id": 49401946, "body": "Thank you @xnx! Is there a way to count the dots on either side of the hyerbolic lines?"}, {"owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "reply_to_user": {"reputation": 243, "user_id": 4756421, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102088fa64fb85072368c2fc749e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Jundong", "link": "https://stackoverflow.com/users/4756421/jundong"}, "edited": false, "score": 0, "creation_date": 1433520637, "post_id": 30633281, "comment_id": 49404286, "body": "That&#39;s really a separate problem that should be asked in a new SO question, but I&#39;ve added a quick edit to give you the idea."}], "tags": [], "owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "is_accepted": false, "score": 1, "last_activity_date": 1433520670, "last_edit_date": 1433520670, "creation_date": 1433379502, "answer_id": 30633281, "question_id": 30631076, "link": "https://stackoverflow.com/questions/30631076/draw-equipotential-lines-on-scatter-plot-in-python/30633281#30633281", "title": "Draw equipotential lines on scatter plot in Python", "body": "<p>As @fgnu says, you can simply plot one or more lines on the same axis that you plot your scatter points. For example:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nu = np.random.random(500) * 2 - 1\nv = np.random.random(500) * 200 - 100\n\nfig = plt.figure()\nax = fig.add_subplot(111)\nax.scatter(u,v)\n\n# now plot the hyperbola |xy| = 1 \nx = np.linspace(-1,1,100)\ny1 = 1/np.abs(x)\ny2 = -y1\nax.plot(x,y1,'k-')\nax.plot(x,y2,'k-')\nplt.show()\n</code></pre>\n\n<p>I don't know the range of your random points, so I can't guess what constant would be appropriate for your lines here.</p>\n\n<p><img src=\"https://i.stack.imgur.com/gvwSk.png\" alt=\"enter image description here\"></p>\n\n<p>EDIT To count the number of points \"inside\" the curve, you could use:</p>\n\n<pre><code>ninside = 0\nfor xi, yi in zip(u, v):\n    if abs(yi) &lt; 1/np.abs(xi):\n        ninside += 1\nprint(ninside)\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 4756421, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102088fa64fb85072368c2fc749e5257?s=128&d=identicon&r=PG&f=1", "display_name": "Jundong", "link": "https://stackoverflow.com/users/4756421/jundong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433520670, "creation_date": 1433366822, "question_id": 30631076, "link": "https://stackoverflow.com/questions/30631076/draw-equipotential-lines-on-scatter-plot-in-python", "title": "Draw equipotential lines on scatter plot in Python", "body": "<p>I have random data on x and y axis. I'd like to draw equipotential lines on which |xy|=constant over the scatter plot of (x,y). I need some help with this. Thank you!</p>\n\n<p>Here is the example of what I want:\n<img src=\"https://i.stack.imgur.com/yOh3c.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "html", "css", "django"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1433367251, "post_id": 30631062, "comment_id": 49327895, "body": "There are several ways to do this. Different templates/subtemplates, conditions within templates, using the subject names for the CSS files and passing that to your template (<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;{{ subject }}.css&quot;&gt;</code>), etc. It just depends what the rest of your project looks like what is easiest and most convenient."}], "answers": [{"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": false, "score": 1, "last_activity_date": 1433367541, "creation_date": 1433367541, "answer_id": 30631241, "question_id": 30631062, "link": "https://stackoverflow.com/questions/30631062/changing-css-styles-from-view-in-django/30631241#30631241", "title": "Changing css styles from view in Django", "body": "<p>You can do this is many ways.\nIn general you need to return some variable from your view to the html and depending on this variable select a style sheet, if your variable name will match you style sheet's name you can do <code>\"{{variable}}.css\"</code>, if not you can use JQuery.</p>\n"}, {"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 3, "last_activity_date": 1433367598, "creation_date": 1433367598, "answer_id": 30631254, "question_id": 30631062, "link": "https://stackoverflow.com/questions/30631062/changing-css-styles-from-view-in-django/30631254#30631254", "title": "Changing css styles from view in Django", "body": "<p>In templates you can use conditionals for add css, like this:</p>\n\n<pre><code>&lt;div class=\"{% if subject=='civics' %}civic-class{% endif %}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>For this, <code>subject</code> value should come from <code>view</code>.\nNow, for themed page, you could use the <code>extends</code> tag. Let's supose:</p>\n\n<pre><code>def your_view(request):\n    subject  # Here you get the url subject, 'how' is up to you\n    if subject == 'english'\n        template_base = '/some/html/tenplate.html'\n    elif subject == 'civis':\n        template_base = '/some/other/template.html'\n    ... # then you return 'template_base' variable to template\n</code></pre>\n\n<p>Then in template:</p>\n\n<pre><code>{% extends template_base %}  # at the top\n</code></pre>\n\n<p>Hope this helps, is the same logic if you use Class-Based views.</p>\n"}, {"tags": [], "owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "is_accepted": true, "score": 2, "last_activity_date": 1433367956, "creation_date": 1433367956, "answer_id": 30631342, "question_id": 30631062, "link": "https://stackoverflow.com/questions/30631062/changing-css-styles-from-view-in-django/30631342#30631342", "title": "Changing css styles from view in Django", "body": "<p>Django's views are not responsible for the presentation, it's the template (and css etc of course)'s reponsability. Now assuming you have the same view serving different subjects, the view obviously need to know which is the current subject (I assume from a captured part of the url passed as argument to the view), so it can easily pass this information to the template, which in turn can use it to add a subject-specific class to the body tag. Then you only have to write your css accordingly.</p>\n\n<p>As an example:</p>\n\n<pre><code># urls.py\n\npatterns = urlpatterns('',\n    #...\n    url(r'whatever/(P?&lt;subject&gt;[a-z-]+&gt;)/$', 'myviews.index', ...),\n    )\n\n# myviews.py\ndef index(request, subject):\n    # do whatever\n    context = {\n       # whatever else\n       'subject':subject\n       }\n   return render(request, \"whatever/index.html\", context)\n\n# whatever/index.html\n&lt;html&gt;\n   # headers etc\n   &lt;body class=\"something {{ subject }} etc\"&gt;\n     # whatever here\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5112, "favorite_count": 1, "accepted_answer_id": 30631342, "answer_count": 3, "score": 3, "last_activity_date": 1433367956, "creation_date": 1433366754, "question_id": 30631062, "link": "https://stackoverflow.com/questions/30631062/changing-css-styles-from-view-in-django", "title": "Changing css styles from view in Django", "body": "<p>Sorry in advance if there is an obvious answer to this, I'm still learning the ropes with Django.</p>\n\n<p>I'm creating a website which has 6 pre determined subjects (not stored in DB)\nenglish, civics, literature, language, history, bible</p>\n\n<p>each subject is going to be associated with a unique color.</p>\n\n<p>I've got a template for a subject.html page and a view that loads from the url appname/subject/subjectname</p>\n\n<p>what I need to do is apply particular css to style the page according to the subject accessed. for example if the user goes to appname/subject/english I want the page to be \"themed\" to english.</p>\n\n<p>I hope I've made myself clear, also I would like to know if there is a way I can add actual css code to the stylesheet and not have to change attributes one by one from the back-end.</p>\n\n<p>thanks very much!</p>\n"}, {"tags": ["python", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1433366980, "post_id": 30631042, "comment_id": 49327758, "body": "With a <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.Queue\" rel=\"nofollow noreferrer\"><code>Queue</code></a>?"}], "answers": [{"tags": [], "owner": {"reputation": 15649, "user_id": 831531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rB642.gif?s=128&g=1", "display_name": "matino", "link": "https://stackoverflow.com/users/831531/matino"}, "is_accepted": false, "score": 0, "last_activity_date": 1433838412, "creation_date": 1433838412, "answer_id": 30726727, "question_id": 30631042, "link": "https://stackoverflow.com/questions/30631042/delete-objects-in-a-list-as-passed-to-multiprocessing/30726727#30726727", "title": "Delete Objects in a List as Passed to Multiprocessing", "body": "<p>A simple consumer example (<a href=\"http://pymotw.com/2/multiprocessing/communication.html#multiprocessing-queues\" rel=\"nofollow\">credits go here</a>) :</p>\n\n<pre><code>import multiprocessing\nimport time\nimport random\n\nclass Consumer(multiprocessing.Process):\n\n    def __init__(self, task_queue, result_queue):\n        multiprocessing.Process.__init__(self)\n        self.task_queue = task_queue\n        self.result_queue = result_queue\n\n    def run(self):\n        while True:\n            task = self.task_queue.get()\n            if task is None:\n                # Poison pill means shutdown\n                self.task_queue.task_done()\n                break\n            answer = task.process()\n            self.task_queue.task_done()\n            self.result_queue.put(answer)\n        return\n\n\nclass Task(object):\n\n    def process(self):\n        time.sleep(0.1) # pretend to take some time to do the work\n        return random.randint(0, 100)\n\n\nif __name__ == '__main__':\n    # Establish communication queues\n    tasks = multiprocessing.JoinableQueue()\n    results = multiprocessing.Queue()\n\n    # Start consumers\n    num_consumers = multiprocessing.cpu_count() * 2\n    consumers = [Consumer(tasks, results) for i in xrange(num_consumers)]\n    for consumer in consumers:\n        consumer.start()\n\n    # Enqueue jobs\n    num_jobs = 10\n    for _ in xrange(num_jobs):\n        tasks.put(Task())\n\n    # Add a poison pill for each consumer\n    for _ in xrange(num_consumers):\n        tasks.put(None)\n\n    # Wait for all tasks to finish\n    tasks.join()\n\n    # Start printing results\n    while num_jobs:\n        result = results.get()\n        print 'Result:', result\n        num_jobs -= 1\n</code></pre>\n"}], "owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433838412, "creation_date": 1433366707, "question_id": 30631042, "link": "https://stackoverflow.com/questions/30631042/delete-objects-in-a-list-as-passed-to-multiprocessing", "title": "Delete Objects in a List as Passed to Multiprocessing", "body": "<p>I need to pass each object in a large list to a function. After the function completes I no longer need the object passed to the function and would like to delete the object to save memory. If I were working with a single process I would do the following:</p>\n\n<pre><code>result = []\nwhile len(mylist) &gt; 0:\n    result.append(myfunc(mylist.pop())\n</code></pre>\n\n<p>As I loop over mylist I pop off each object in the list such that the object is no longer stored in mylist after it's passed to my function. How do I achieve this same effect in parallel using <code>multiprocessing</code>?</p>\n"}, {"tags": ["python", "function", "namespaces", "python-module"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 2, "creation_date": 1433367342, "post_id": 30631041, "comment_id": 49327938, "body": "What would be the reason for that? When you define <code>draw_dragon</code> you are assigning <code>turtle.left</code> to the <code>L</code> kwarg; how could the interpreter know what are you trying to assign to <code>L</code> if you don&#39;t tell it (by an <code>import</code> statement or a <i>definition</i>). The interpreter parses <code>turtle.arg</code> (and it&#39;s smart enough to split the offending value by <code>.</code> and thus telling you what is the first <i>submodule</i> that wasn&#39;t found )"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1433367640, "post_id": 30631041, "comment_id": 49328069, "body": "&quot;Since I haven&#39;t yet imported turtle at the time of function definition&quot; - well, why not?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1433368408, "post_id": 30631041, "comment_id": 49328404, "body": "&quot;Is there a way&quot;? Arguably, with some extremely awful hackery. Is there a <i>good</i> way, compliant with best practices, that won&#39;t also break editors&#39; code analysis? No. (And why would you want one, instead of just moving the <code>import</code> to the top of the file?)"}, {"owner": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433368705, "post_id": 30631041, "comment_id": 49328546, "body": "I was thinking in case you imported the namespaces at the very beginning and later down the road you might get namespace collisions (you can&#39;t &#39;un-import&#39; a namespace can you?) Also I thought Python just skips over the function definition and doesn&#39;t need the namespace until the point of calling/executing the function..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1433368892, "post_id": 30631041, "comment_id": 49328624, "body": "You can, actually, but you shouldn&#39;t name things the same name as modules you&#39;re using."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1433369988, "post_id": 30631041, "comment_id": 49329100, "body": "@user2357112 - python is <i>interpreted</i>;  that means it&#39;s executed line by line (there&#39;s no compiler to get an idea about the whole thing); + the fact that <i>the supplied</i> code doesn&#39;t compile"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433370101, "post_id": 30631041, "comment_id": 49329136, "body": "@CristiFati: No, I mean why not import turtle at the top of the file, before it&#39;s used? Sticking an import in the <code>if __name__ == &#39;__main__&#39;</code> block that&#39;s needed unconditionally is really weird."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1433370819, "post_id": 30631041, "comment_id": 49329408, "body": "Yes you should have imported <code>turtle</code> at the beginning of file (before it&#39;s used). Importing something after it&#39;s used triggers a paradox. Check [this site]( <a href=\"https://www.python.org/dev/peps/pep-0008\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0008</a>). This is mostly for: @user2357112"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433368425, "post_id": 30631178, "comment_id": 49328411, "body": "thanks--I changed the L and R to not have default arguments and passed the turtle functions to draw_dragon. This time I don&#39;t get the NameError anymore but instead I get <code>AttributeError: &#39;Turtle&#39; object has no attribute &#39;R&#39;</code>...Then I got rid of the turtle &#39;t&#39; parameter altogether and the script started to work--why is that?"}, {"owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "reply_to_user": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433368571, "post_id": 30631178, "comment_id": 49328483, "body": "&quot;t&quot; is referring to a turtle object.  If you used one of my old edits, R is now &quot;turtle.right&quot; When you call t.R, you&#39;re saying &quot;turtle.turtle.right&quot;, which of course isn&#39;t a function! R is already &quot;turtle.right&quot;, so you can just do R(angle)."}, {"owner": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433369408, "post_id": 30631178, "comment_id": 49328854, "body": "one last noob question: why do you no longer need the instances of Screen, Turtle, and other setups for the new version to work? (I guess it has to do with the <code>from xmodule import yfunc</code>? Thanks again :)"}, {"owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "reply_to_user": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433369728, "post_id": 30631178, "comment_id": 49328997, "body": "You still have the instance of Screen (that&#39;s where Turtle knows to draw).  I&#39;m not terribly experienced in Turtle, but I believe that Screen is a singleton that Turtle methods (Left, Right, Forward, etc.) know to act on.  The documentation may have more on the specifics of why it works with turtle (<a href=\"https://docs.python.org/3.4/library/turtle.html\" rel=\"nofollow noreferrer\">docs.python.org/3.4/library/turtle.html</a>), but in general, it depends on the specific implementation of the methods you import."}], "tags": [], "owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "is_accepted": true, "score": 2, "last_activity_date": 1433368523, "last_edit_date": 1433368523, "creation_date": 1433367315, "answer_id": 30631178, "question_id": 30631041, "link": "https://stackoverflow.com/questions/30631041/python-is-there-a-way-to-use-unimported-objects-in-function-definitions/30631178#30631178", "title": "Python: is there a way to use &quot;unimported&quot; objects in function definitions?", "body": "<p>Is there a reason you aren't importing before the function is defined?<br>\nI'm not sure why you would need to put the import in the main function to begin with. </p>\n\n<p>I don't believe there's any magical way for the function to already know what turtle's modules are unless they're either a) in the namespace, or b) passed to the function through the arguments.  You could put this in your main code:</p>\n\n<pre><code>if __name__==\"__main__\":\n    import turtle\n    wn = turtle.Screen()\n    fred=turtle.Turtle()\n    draw_dragon(fred,6,200,turtle.left, turtle.right)\n    wn.exitonclick()          ^^^            ^^^\n</code></pre>\n\n<p>Then, change the L and R to not have default arguments (they'll be assigned the functions through the initial call), so you won't get NameErrors.</p>\n\n<p>Your function should now know what the methods are, since you passed them into the function through the main.</p>\n\n<p>You should probably just move the import call to the start of the script, though!</p>\n\n<p>EDIT:</p>\n\n<p>Your code still has some weird idiosyncracies.  Rather than trying to pass methods from imported modules into your functions, just use the functions that are part of the turtle object you created! This code should work, but it is DEFINITELY not the common practice you want to use...</p>\n\n<pre><code>def draw_dragon(t, order, size, right, left, forward):\n    \"\"\" Draw a dragon curve \"\"\"\n    if order &lt;= 0:\n        forward(size)\n        return\n\n    size /= 1.41421\n    right(45)\n    draw_dragon(t, order-1, size, right, left, forward)\n    left(90)\n    draw_dragon(t, order-1, size, left, right, forward)\n    right(45)\n\nif __name__==\"__main__\":\n    import turtle\n    wn = turtle.Screen()\n    fred=turtle.Turtle()\n    draw_dragon(fred, 6,200, turtle.left, turtle.right, turtle.forward)\n    wn.exitonclick()\n</code></pre>\n\n<p>Better code would be this:</p>\n\n<pre><code>from turtle import Screen, left, right, forward, speed, hideturtle\n\ndef draw_dragon(order, size, left, right):\n    \"\"\" Draw a dragon curve \"\"\"\n    if order &lt;= 0:\n        forward(size)\n        return\n    size /= 1.41421\n    right(45)\n    draw_dragon(order-1, size, right, left)\n    left(90)\n    draw_dragon(order-1, size, left, right)\n    right(45)\n\nif __name__==\"__main__\":\n    speed(0)\n    hideturtle()\n    wn = Screen()\n    draw_dragon(8,200, left, right)\n    wn.exitonclick()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433368281, "post_id": 30631211, "comment_id": 49328346, "body": "I think you&#39;re wrong ;) This would result in an <code>ImportError</code>, not in a <code>NameError</code>. The problem is that since the OP is importing <code>turtle</code> <i>after</i> the function&#39;s definition (which references <code>turtle</code> fo argument&#39;s defaults), the name <code>turtle</code> doesn&#39;t exist when the <code>def</code> statement is eval&#39;d."}, {"owner": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "edited": false, "score": 0, "creation_date": 1433368859, "post_id": 30631211, "comment_id": 49328613, "body": "I thought I imported turtle BEFORE the function is eval&#39;d...so at the time of evaluating (not defining) the function, shouldn&#39;t turtle already be visible?"}], "tags": [], "owner": {"reputation": 73, "user_id": 3343919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23373484f9b3077ef10491b0fd5702d?s=128&d=identicon&r=PG&f=1", "display_name": "stardust", "link": "https://stackoverflow.com/users/3343919/stardust"}, "is_accepted": false, "score": -1, "last_activity_date": 1433367477, "creation_date": 1433367477, "answer_id": 30631211, "question_id": 30631041, "link": "https://stackoverflow.com/questions/30631041/python-is-there-a-way-to-use-unimported-objects-in-function-definitions/30631211#30631211", "title": "Python: is there a way to use &quot;unimported&quot; objects in function definitions?", "body": "<p>I think the problem may be due to that your turtle.py is not located at a directory in sys.path.</p>\n"}], "owner": {"reputation": 39, "user_id": 4921829, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8427e7d342de99752d75f1434b022a89?s=128&d=identicon&r=PG&f=1", "display_name": "ladiesman", "link": "https://stackoverflow.com/users/4921829/ladiesman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 30631178, "answer_count": 2, "score": 1, "last_activity_date": 1433368523, "creation_date": 1433366706, "question_id": 30631041, "link": "https://stackoverflow.com/questions/30631041/python-is-there-a-way-to-use-unimported-objects-in-function-definitions", "title": "Python: is there a way to use &quot;unimported&quot; objects in function definitions?", "body": "<p>I'm modifying a simple recursive function to draw a dragon curve using turtle:</p>\n\n<pre><code>def draw_dragon(t, order, size, L=turtle.left, R=turtle.right):\n    \"\"\" Draw a dragon curve \"\"\"\n    if not order:\n        t.forward(size)\n        return\n\n    size /= 1.41421\n    t.R(45)\n    draw_dragon(t, order-1, size, L, R)\n    t.L(90)\n    draw_dragon(t, order-1, size, R, L)\n    t.R(45)\n\nif __name__==\"__main__\":\n    import turtle\n    wn = turtle.Screen()\n    fred=turtle.Turtle()\n    draw_dragon(fred,6,200)\n    wn.exitonclick()\n</code></pre>\n\n<p>Since I haven't yet imported turtle at the time of function definition, the interpreter gives me <code>\"NameError: name 'turtle' is not defined\"</code>.</p>\n\n<p>Is there a way to still use the turtle module's functions in my draw_dragon function, without first importing them outside the function?</p>\n"}, {"tags": ["python", "review-board"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433369245, "post_id": 30630936, "comment_id": 49328795, "body": "after the code snippet you inserted above simply print in the python console:  &gt;&gt;&gt;  <code>pyexpat</code>  and send me the answer"}, {"owner": {"reputation": 1806, "user_id": 1895955, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6d11bf844f385e287cd8ad0805d03bbf?s=128&d=identicon&r=PG", "display_name": "cloudwalker", "link": "https://stackoverflow.com/users/1895955/cloudwalker"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433422831, "post_id": 30630936, "comment_id": 49352952, "body": "I just get: NameError: name &#39;pyexpat&#39; is not defined"}], "answers": [{"tags": [], "owner": {"reputation": 1806, "user_id": 1895955, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6d11bf844f385e287cd8ad0805d03bbf?s=128&d=identicon&r=PG", "display_name": "cloudwalker", "link": "https://stackoverflow.com/users/1895955/cloudwalker"}, "is_accepted": false, "score": 1, "last_activity_date": 1433437687, "creation_date": 1433437687, "answer_id": 30650042, "question_id": 30630936, "link": "https://stackoverflow.com/questions/30630936/reviewboard-symbol-xml-sethashsalt-version-expat-2-0-1-rh-not-defined-in-file/30650042#30650042", "title": "ReviewBoard: symbol XML_SetHashSalt, version EXPAT_2_0_1_RH not defined in file libexpat.so.1 with link time reference", "body": "<p>I was able to solve this. I'm not sure if this is the \"right\" way, but it worked for me. Since I noticed that the libexpat.so.0 symlink in my apache lib dir was pointed at the one in /usr/local/lib and that one did in fact not contain the strings that the error was complaining about, I deleted that symlink and created a new one that pointed at /lib64/libexpat.so.1.5.2, like so:</p>\n\n<pre><code>sudo ln -s /lib64/libexpat.so.1.5.2 libexpat.so.0\n</code></pre>\n\n<p>Then I restarted the machine and everything works as expected.</p>\n\n<p>Just thought I'd post what solved it for me in case anyone else runs into this weird error.</p>\n"}], "owner": {"reputation": 1806, "user_id": 1895955, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6d11bf844f385e287cd8ad0805d03bbf?s=128&d=identicon&r=PG", "display_name": "cloudwalker", "link": "https://stackoverflow.com/users/1895955/cloudwalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433437687, "creation_date": 1433366302, "last_edit_date": 1433423627, "question_id": 30630936, "link": "https://stackoverflow.com/questions/30630936/reviewboard-symbol-xml-sethashsalt-version-expat-2-0-1-rh-not-defined-in-file", "title": "ReviewBoard: symbol XML_SetHashSalt, version EXPAT_2_0_1_RH not defined in file libexpat.so.1 with link time reference", "body": "<p>I'm running ReviewBoard 2.0.15 and on some reviews I'm getting the following error:</p>\n\n<pre><code>Django Version: 1.6.11\nPython Version: 2.6.6\nInstalled Applications:\n[u'django.contrib.admin',\n u'django.contrib.auth',\n u'django.contrib.contenttypes',\n u'django.contrib.sites',\n u'django.contrib.sessions',\n u'django.contrib.staticfiles',\n u'djblets',\n u'djblets.configforms',\n u'djblets.datagrid',\n u'djblets.extensions',\n u'djblets.feedview',\n u'djblets.gravatars',\n u'djblets.log',\n u'djblets.pipeline',\n u'djblets.siteconfig',\n u'djblets.util',\n u'djblets.webapi',\n u'haystack',\n u'pipeline',\n u'reviewboard',\n u'reviewboard.accounts',\n u'reviewboard.admin',\n u'reviewboard.attachments',\n u'reviewboard.changedescs',\n u'reviewboard.datagrids',\n u'reviewboard.diffviewer',\n u'reviewboard.extensions',\n u'reviewboard.hostingsvcs',\n u'reviewboard.notifications',\n u'reviewboard.reviews',\n u'reviewboard.reviews.ui',\n u'reviewboard.scmtools',\n u'reviewboard.site',\n u'reviewboard.ssh',\n u'reviewboard.webapi',\n u'django_evolution']\nInstalled Middleware:\n[u'django.middleware.gzip.GZipMiddleware',\n u'reviewboard.admin.middleware.InitReviewBoardMiddleware',\n u'django.middleware.clickjacking.XFrameOptionsMiddleware',\n u'django.middleware.common.CommonMiddleware',\n u'django.middleware.doc.XViewMiddleware',\n u'django.middleware.http.ConditionalGetMiddleware',\n u'django.middleware.locale.LocaleMiddleware',\n u'django.contrib.sessions.middleware.SessionMiddleware',\n u'django.contrib.auth.middleware.AuthenticationMiddleware',\n u'django.contrib.messages.middleware.MessageMiddleware',\n u'djblets.siteconfig.middleware.SettingsMiddleware',\n u'reviewboard.admin.middleware.LoadSettingsMiddleware',\n u'djblets.extensions.middleware.ExtensionsMiddleware',\n u'djblets.log.middleware.LoggingMiddleware',\n u'reviewboard.accounts.middleware.TimezoneMiddleware',\n u'reviewboard.admin.middleware.CheckUpdatesRequiredMiddleware',\n u'reviewboard.admin.middleware.X509AuthMiddleware',\n u'reviewboard.site.middleware.LocalSiteMiddleware',\n u'djblets.extensions.middleware.ExtensionsMiddlewareRunner',\n u'reviewboard.admin.middleware.ExtraExceptionInfoMiddleware']\n\n\nTraceback:\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/Django-1.6.11-py2.6.egg/django/core/handlers/base.py\" in get_response\n  112.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/accounts/decorators.py\" in _check\n  23.             return view_func(*args, **kwargs)\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/site/decorators.py\" in _check\n  35.         return view_func(request, local_site=local_site, *args, **kwargs)\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/reviews/views.py\" in review_detail\n  665.                         changedesc.fields_changed[field_id])\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/reviews/fields.py\" in get_change_entry_sections_html\n  200.             'rendered_html': mark_safe(self.render_change_entry_html(info)),\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/reviews/fields.py\" in render_change_entry_html\n  590.         old_lines = list(iter_markdown_lines(old_value))\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/reviews/markdown_utils.py\" in iter_markdown_lines\n  212.     nodes = get_markdown_element_tree(markdown_html)\nFile \"/opt/local/revboard/python/virtualenv/lib/python2.6/site-packages/ReviewBoard-2.0.15-py2.6.egg/reviewboard/reviews/markdown_utils.py\" in get_markdown_element_tree\n  274.     doc = parseString(b'&lt;html&gt;%s&lt;/html&gt;' % markdown_html)\nFile \"/usr/lib64/python2.6/xml/dom/minidom.py\" in parseString\n  1927.         from xml.dom import expatbuilder\nFile \"/usr/lib64/python2.6/xml/dom/expatbuilder.py\" in &lt;module&gt;\n  32. from xml.parsers import expat\nFile \"/usr/lib64/python2.6/xml/parsers/expat.py\" in &lt;module&gt;\n  4. from pyexpat import *\n\nException Type: ImportError at /reviews/r/24291/\nException Value: /usr/lib64/python2.6/lib-dynload/pyexpat.so: symbol XML_SetHashSalt, version EXPAT_2_0_1_RH not defined in file libexpat.so.1 with link time reference\n</code></pre>\n\n<p>If I run python using the same virtual environment manually, it works fine:</p>\n\n<pre><code>bin]$ python\nPython 2.6.6 (r266:84292, Jan 22 2014, 01:49:05) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from pyexpat import *\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I have verified that apache and python do use the exact same version of expat, so that can't be the problem either. I'm really confused as to why this would happen on only a handful of reviews out of several 100.</p>\n\n<p>EDIT: I ran some more tests and I noticed some stuff.</p>\n\n<p>I did notice one thing. The libexpat.so that apache is using points to /usr/local/lib/libexpat.so, and if I run the following on that file I get no results:</p>\n\n<pre><code>(virtualenv)[user@rbdev301 lib]$ strings libexpat.so.1.5.2 | grep XML_SetHashSalt\n(virtualenv)[user@rbdev301 lib]$ strings libexpat.so.1.5.2 | grep EXPAT_2_0_1_RH\n</code></pre>\n\n<p>However, when I check which expat Python is using, I get this:</p>\n\n<pre><code>(virtualenv)[user@rbdev301 lib-dynload]$ ldd pyexpat.so \nlinux-vdso.so.1 =&gt;  (0x00007ffff252a000)\nlibexpat.so.1 =&gt; /lib64/libexpat.so.1 (0x00007f52afbae000)\nlibpython2.6.so.1.0 =&gt; /usr/lib64/libpython2.6.so.1.0 (0x00007f52af802000)\nlibpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f52af5e4000)\nlibc.so.6 =&gt; /lib64/libc.so.6 (0x00007f52af250000)\nlibdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f52af04c000)\nlibutil.so.1 =&gt; /lib64/libutil.so.1 (0x00007f52aee48000)\nlibm.so.6 =&gt; /lib64/libm.so.6 (0x00007f52aebc4000)\n/lib64/ld-linux-x86-64.so.2 (0x00007f52affe3000)\n</code></pre>\n\n<p>So, python is using the one in /lib64. If I run the same commands on that one, I do get results.</p>\n\n<pre><code>(virtualenv)[user@rbdev301 lib64]$ strings libexpat.so.1.5.2 | grep XML_SetHashSalt\nXML_SetHashSalt\n(virtualenv)[user@rbdev301 lib64]$ strings libexpat.so.1.5.2 | grep EXPAT_2_0_1_RH\nEXPAT_2_0_1_RH\n</code></pre>\n\n<p>The one that Apache is using was compiled from the same source as the one that python is using, and they're both the same version. It just seems that Python is using the 64bit one and Apache is not? Maybe I'm on a wild goose chase here.</p>\n"}, {"tags": ["python", "python-2.7", "cassandra", "sqlalchemy", "pyramid"], "answers": [{"tags": [], "owner": {"reputation": 15649, "user_id": 831531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rB642.gif?s=128&g=1", "display_name": "matino", "link": "https://stackoverflow.com/users/831531/matino"}, "is_accepted": false, "score": 0, "last_activity_date": 1433407594, "creation_date": 1433407594, "answer_id": 30639116, "question_id": 30630898, "link": "https://stackoverflow.com/questions/30630898/how-to-configure-cassandra-with-pyramid-using-sqlalchemy/30639116#30639116", "title": "How to configure Cassandra with Pyramid using SQLAlchemy?", "body": "<p>You just need to connect to your cassandra cluster on application start and register the session in the request:</p>\n\n<p><strong>app.models.__init__.py</strong>  </p>\n\n<pre><code>def includeme(config):\n    def get_session():\n        from cassandra.cluster import Cluster\n        cluster = Cluster('your.cluster.ip')\n        return cluster.connect()\n    config.add_request_method(\n        lambda request: get_session,\n        'dbsession',\n        reify=True)\n</code></pre>\n\n<p><strong>app.__init__:</strong>  </p>\n\n<pre><code>def main(global_config, **settings):\n    config = Configurator(settings=settings)\n    config.include('app.models')\n</code></pre>\n\n<p>Then you can you use cassandra session in your view by calling <code>request.dbsession</code>, for example like this:<br>\n<code>request.dbsession.execute('SELECT name, email FROM users')</code></p>\n"}, {"tags": [], "owner": {"reputation": 3617, "user_id": 3876830, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PqT9h.jpg?s=128&g=1", "display_name": "Ander", "link": "https://stackoverflow.com/users/3876830/ander"}, "is_accepted": false, "score": 0, "last_activity_date": 1438769246, "last_edit_date": 1438769246, "creation_date": 1438768819, "answer_id": 31829237, "question_id": 30630898, "link": "https://stackoverflow.com/questions/30630898/how-to-configure-cassandra-with-pyramid-using-sqlalchemy/31829237#31829237", "title": "How to configure Cassandra with Pyramid using SQLAlchemy?", "body": "<p>At the moment <strong>using SQLAlchemy with Cassandra is not possible</strong> cause SQLAlchemy generates <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow\">SQL</a> code and Cassandra queries are build in <a href=\"https://cassandra.apache.org/doc/cql/CQL.html\" rel=\"nofollow\">CQL</a>. </p>\n\n<p>About connecting Pyramid with the Cassandra database I have an example similar to the one posted by @matino but also includes a finished callback, so all connections are closed at the end of the request. </p>\n\n<p>Example of my <strong>app.__init__.py</strong>:</p>\n\n<pre><code>from cassandra.cluster import Cluster\nfrom cassandra.io.libevreactor import LibevConnection\n\ndef main(global_config, **settings):\n  \"\"\"\n  ... MORE CONFIG CODE ...\n\n  \"\"\"\n\n  # Retrieves connection to Cassandra (Non SQL database)\n  def get_cassandra(request):\n    cluster = Cluster(['127.0.0.1'], port=9042)\n    cluster.connection_class = LibevConnection\n    def disconnect(request):\n        cluster.shutdown()\n    session = cluster.connect('app')\n    session.row_factory = dict_factory\n    request.add_finished_callback(disconnect)\n    return session\n\n\n  config.add_request_method(get_cassandra, 'cassandra', reify=True)\n\n  \"\"\"\n  ... MORE CONFIG CODE ...\n\n  \"\"\"\n</code></pre>\n\n<p>It certainly works although to be honest I don't know if this is the best approach cause every single time we execute a statement:</p>\n\n<pre><code>request.cassandra.execute('SELECT * FROM users')\n</code></pre>\n\n<p>it will go through the whole process: Creating the cluster, defining connection, connecting, executing statement and shutting down the cluster.\nI wonder if this is the better approach...</p>\n"}], "owner": {"reputation": 101, "user_id": 4582691, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-O3xwLRw9dnQ/AAAAAAAAAAI/AAAAAAAADTI/bwd6gMBJ4g0/photo.jpg?sz=128", "display_name": "aravind pogu", "link": "https://stackoverflow.com/users/4582691/aravind-pogu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 954, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1438769246, "creation_date": 1433366147, "last_edit_date": 1433407023, "question_id": 30630898, "link": "https://stackoverflow.com/questions/30630898/how-to-configure-cassandra-with-pyramid-using-sqlalchemy", "title": "How to configure Cassandra with Pyramid using SQLAlchemy?", "body": "<p>I've a requirement to develop a web app using pyramid and cassandra in the back end. I've googled enough to find out how to configure cassandra in pyramid (using alchemy scaffold). But, I could not find much details on the same. As per my search, I found that it is not possible to configure NoSQL class databases using alchemy. Is there any way to integrate cassandra with pyramid.</p>\n"}, {"tags": ["python", "django", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 1743, "user_id": 384925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95a2851272319e1b9b3568041a658159?s=128&d=identicon&r=PG", "display_name": "voodoo-burger", "link": "https://stackoverflow.com/users/384925/voodoo-burger"}, "edited": false, "score": 1, "creation_date": 1433366115, "post_id": 30630835, "comment_id": 49327336, "body": "It looks like you&#39;re not passing supervisors_list to the render function as context."}, {"owner": {"reputation": 5949, "user_id": 1322179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDCxx.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/1322179/ben"}, "edited": false, "score": 2, "creation_date": 1433366419, "post_id": 30630835, "comment_id": 49327491, "body": "As opposed to handeling password&#39;s and user authentication information yourself, take a look at django&#39;s built in User models. It&#39;s simple to customize it if it doesn&#39;t fit your needs exactly (see example at the end) <a href=\"https://docs.djangoproject.com/en/1.8/topics/auth/customizing/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/topics/auth/customizing</a>"}, {"owner": {"reputation": 2123, "user_id": 3285138, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ac2d07bd184ab149c3352880f147627c?s=128&d=identicon&r=PG&f=1", "display_name": "goelakash", "link": "https://stackoverflow.com/users/3285138/goelakash"}, "edited": false, "score": 0, "creation_date": 1433366693, "post_id": 30630835, "comment_id": 49327612, "body": "Thanks, I&#39;ll be using that :)"}, {"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433368485, "post_id": 30630835, "comment_id": 49328444, "body": "Totally unrelated, but by all means, learn to use django&#39;s forms..."}], "answers": [{"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": true, "score": 3, "last_activity_date": 1433366172, "creation_date": 1433366172, "answer_id": 30630907, "question_id": 30630835, "link": "https://stackoverflow.com/questions/30630835/objects-all-query-not-working/30630907#30630907", "title": "objects.all() query not working", "body": "<p>You have to pass context to the html:</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.http import HttpResponse\nfrom TasksManager.models import Supervisor, Developer\n# View for create_developer\ndef page(request):\n    error = False\n    # If form has posted\n    if request.POST:\n        if 'name' in request.POST:\n            name = request.POST.get('name', '')\n        else:\n            error=True\n        if 'login' in request.POST:\n            login = request.POST.get('login', '')\n        else:\n            error=True\n        if 'password' in request.POST:\n            password = request.POST.get('password', '')\n        else:\n            error=True\n        if 'supervisor' in request.POST:\n            supervisor_id = request.POST.get('supervisor', '')\n        else:\n            error=True\n        if not error:\n            supervisor = Supervisor.objects.get(id = supervisor_id)\n            new_dev = Developer(name=name, login=login, password=password,supervisor=supervisor)\n            new_dev.save()\n            return HttpResponse(\"Developer added\")\n        else:\n            return HttpResponse(\"An error as occured\")\n    else:\n        supervisors_list =  Supervisor.objects.all()\n        return render(request, 'en/public/create_developer.html', {'supervisors_list' : supervisors_list})\n</code></pre>\n"}], "owner": {"reputation": 2123, "user_id": 3285138, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ac2d07bd184ab149c3352880f147627c?s=128&d=identicon&r=PG&f=1", "display_name": "goelakash", "link": "https://stackoverflow.com/users/3285138/goelakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3883, "favorite_count": 0, "accepted_answer_id": 30630907, "answer_count": 1, "score": 2, "last_activity_date": 1433366172, "creation_date": 1433365918, "question_id": 30630835, "link": "https://stackoverflow.com/questions/30630835/objects-all-query-not-working", "title": "objects.all() query not working", "body": "<p>I am trying to make a form for user creation through django. The user(henceforth developer) can choose from a list of supervisors to get himself registered. Problem is, I am not getting the list of all the supervisors from the query. When I use objects.get(), I receive an error that 2 objects were received. That means that the queries are getting the rows from the database. </p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>from django.db import models\n\nclass UserProfile(models.Model):\n    name = models.CharField(max_length=50,verbose_name=\"Name\")\n    login = models.CharField(max_length=(25),verbose_name=\"Login\")\n    password = models.CharField(max_length=100, verbose_name=\"Password\")\n    phone = models.CharField(max_length=20, verbose_name=\"Phone number\", null=True, default=None, blank=True)\n    born_date = models.DateField(verbose_name=\"Born date\" , null=True,default=None, blank=True)\n    last_connection = models.DateTimeField(verbose_name=\"Date of last connection\" , null=True, default=None, blank=True)\n    email = models.EmailField(verbose_name=\"Email\")\n    years_seniority = models.IntegerField(verbose_name=\"Seniority\", default=0)\n    date_created = models.DateField(verbose_name=\"Date of Birthday\", auto_now_add=True)\n\n    def __str__(self):\n        return self.name\n\n\nclass Supervisor(UserProfile):\n    specialisation = models.CharField(max_length=50, verbose_name=\"Specialisation\")\n\nclass Developer(UserProfile):\n    supervisor = models.ForeignKey(Supervisor, verbose_name=\"Supervisor\")\n</code></pre>\n\n<p>The form view <strong>create_developer.py</strong> -</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.http import HttpResponse\nfrom TasksManager.models import Supervisor, Developer\n# View for create_developer\ndef page(request):\n    error = False\n    # If form has posted\n    if request.POST:\n        if 'name' in request.POST:\n            name = request.POST.get('name', '')\n        else:\n            error=True\n        if 'login' in request.POST:\n            login = request.POST.get('login', '')\n        else:\n            error=True\n        if 'password' in request.POST:\n            password = request.POST.get('password', '')\n        else:\n            error=True\n        if 'supervisor' in request.POST:\n            supervisor_id = request.POST.get('supervisor', '')\n        else:\n            error=True\n        if not error:\n            supervisor = Supervisor.objects.get(id = supervisor_id)\n            new_dev = Developer(name=name, login=login, password=password,supervisor=supervisor)\n            new_dev.save()\n            return HttpResponse(\"Developer added\")\n        else:\n            return HttpResponse(\"An error as occured\")\n    else:\n        supervisors_list =  Supervisor.objects.all()\n        return render(request, 'en/public/create_developer.html')\n</code></pre>\n\n<p>template <strong>create_developer.html</strong></p>\n\n<pre><code>{% extends \"base.html\" %}\n    {% block title_html %}\n        Create Developer\n    {% endblock %}\n    {% block h1 %}\n        Create Developer\n    {% endblock %}\n    {% block article_content %}\n        &lt;form method=\"post\" action=\"{% url 'create_developer' %}\" &gt;\n\n\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Name&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=\"text\" name=\"name\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;Login&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=\"text\" name=\"login\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;Password&lt;/td&gt;\n                &lt;td&gt;\n                &lt;input type=\"text\" name=\"password\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n            &lt;td&gt;Supervisor&lt;/td&gt;\n            &lt;td&gt;\n                &lt;select name=\"supervisor\"&gt;  \n                    {% for supervisor in supervisors_list %}\n                        &lt;option value=\"{{ supervisor.id }}\"&gt;{{ supervisor.name}}&lt;/option&gt;\n                    {% endfor %}\n                &lt;/select&gt;\n            &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=\"submit\" value=\"Valid\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n        &lt;/table&gt;\n    &lt;/form&gt;\n{% endblock %}\n</code></pre>\n\n<p>The <strong>supervisor</strong> select list should show the list. But I am getting an empty list there. The output of <strong><em>{{ supervisors_list|length }}</em></strong> is zero.</p>\n\n<p>How to debug this?\n<img src=\"https://i.stack.imgur.com/rNK9C.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "python-2.7", "qt4", "pyqt4", "qtablewidget"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 2648947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1KZNZ.jpg?s=128&g=1", "display_name": "SS_Rebelious", "link": "https://stackoverflow.com/users/2648947/ss-rebelious"}, "edited": false, "score": 0, "creation_date": 1433433969, "post_id": 30631824, "comment_id": 49361194, "body": "Thanks for the help, but I have another issue. The reason for another <code>setupUi</code> call was that was the only way I discovered to launch <code>TableForm()</code>from the function.  Consider function <code>def showTab(): dialog = TableForm() \\ dialog.show()</code>. If 2nd and 3rd lines from the bottom of your code are replaced with <code>showTab()</code> the widget won&#39;t appear at all. How should I call <code>TableForm()</code> from function?"}, {"owner": {"reputation": 784, "user_id": 2648947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1KZNZ.jpg?s=128&g=1", "display_name": "SS_Rebelious", "link": "https://stackoverflow.com/users/2648947/ss-rebelious"}, "edited": false, "score": 0, "creation_date": 1433438850, "post_id": 30631824, "comment_id": 49364030, "body": "Ok, I figured it out: in <code>showTab()</code> I should have add <code>d = dialog.exec_()</code> line."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1433370144, "creation_date": 1433370144, "answer_id": 30631824, "question_id": 30630732, "link": "https://stackoverflow.com/questions/30630732/unable-to-populate-qtablewidget/30631824#30631824", "title": "Unable to populate QTableWidget", "body": "<p>You're mixing up several different ways of adding the ui to the dialog. The table population is overwritten by the second call to <code>setupUi</code>, which resets the rows and columns back to zero.</p>\n\n<p>I have fixed this in the code below, and also corrected some other issues (see the comments):</p>\n\n<pre><code># no need to inherit Ui_TableForm\nclass TableForm(QtGui.QDialog):\n  def __init__(self):\n    super(TableForm, self).__init__()\n    self.ui = Ui_TableForm()\n    self.ui.setupUi(self)\n    data = [['name1', 'name2'], {'name1':[1], 'name2':[2]}, 2]\n    col_names = data[0]\n    col_data = data[1]\n    rows = data[2] + 1\n    cols = len(col_names)\n    self.ui.table_widget.setRowCount(rows)\n    self.ui.table_widget.setColumnCount(cols)\n    self.ui.table_widget.setHorizontalHeaderLabels(col_names)\n    # use enumerate\n    for n, key in enumerate(col_names):\n      for m, item in enumerate(col_data[key]):\n        # item content must always be strings\n        newitem = QtGui.QTableWidgetItem(str(item))\n        self.ui.table_widget.setItem(m, n, newitem)\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    # ui setup is all done in __init__\n    dialog = TableForm()\n    dialog.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 2648947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1KZNZ.jpg?s=128&g=1", "display_name": "SS_Rebelious", "link": "https://stackoverflow.com/users/2648947/ss-rebelious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 30631824, "answer_count": 1, "score": 1, "last_activity_date": 1433370144, "creation_date": 1433365623, "last_edit_date": 1433369624, "question_id": 30630732, "link": "https://stackoverflow.com/questions/30630732/unable-to-populate-qtablewidget", "title": "Unable to populate QTableWidget", "body": "<p>I'm trying to populate QTableWidget (set up number of rows and columns, add column names and add data to cells), but the widget appears empty and no errors are thrown.</p>\n\n<p>Here is the working example, see class TableForm():</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\n\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_TableForm(object):\n    def setupUi(self, TableForm):\n        TableForm.setObjectName(_fromUtf8(\"TableForm\"))\n        TableForm.resize(495, 506)\n        TableForm.setLocale(QtCore.QLocale(QtCore.QLocale.Russian, QtCore.QLocale.RussianFederation))\n        self.verticalLayout = QtGui.QVBoxLayout(TableForm)\n        self.verticalLayout.setObjectName(_fromUtf8(\"verticalLayout\"))\n        self.table_widget = QtGui.QTableWidget(TableForm)\n        self.table_widget.setRowCount(0)\n        self.table_widget.setColumnCount(0)\n        self.table_widget.setObjectName(_fromUtf8(\"table_widget\"))\n        self.verticalLayout.addWidget(self.table_widget)\n        self.horizontalLayout = QtGui.QHBoxLayout()\n        self.horizontalLayout.setObjectName(_fromUtf8(\"horizontalLayout\"))\n        self.start_edit_button = QtGui.QPushButton(TableForm)\n        self.start_edit_button.setObjectName(_fromUtf8(\"start_edit_button\"))\n        self.horizontalLayout.addWidget(self.start_edit_button)\n        self.save_edits_buttonBox = QtGui.QDialogButtonBox(TableForm)\n        self.save_edits_buttonBox.setEnabled(False)\n        self.save_edits_buttonBox.setStandardButtons(QtGui.QDialogButtonBox.Cancel|QtGui.QDialogButtonBox.Save)\n        self.save_edits_buttonBox.setObjectName(_fromUtf8(\"save_edits_buttonBox\"))\n        self.horizontalLayout.addWidget(self.save_edits_buttonBox)\n        self.verticalLayout.addLayout(self.horizontalLayout)\n\n        self.retranslateUi(TableForm)\n        QtCore.QMetaObject.connectSlotsByName(TableForm)\n\n    def retranslateUi(self, TableForm):\n        TableForm.setWindowTitle(_translate(\"TableForm\", \"\u0422\u0430\u0431\u043b\u0438\u0446\u0430\", None))\n        self.start_edit_button.setText(_translate(\"TableForm\", \"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\", None))\n\n\n\n\nclass TableForm(QtGui.QDialog, Ui_TableForm):\n\n\n  def __init__(self):\n    super(TableForm, self).__init__()\n    self.ui = Ui_TableForm()\n    self.ui.setupUi(self)\n    data = [['name1', 'name2'], {'name1':[1], 'name2':[2]}, 2]\n    col_names = data[0]\n    col_data = data[1]\n    rows = data[2] + 1\n    cols = len(col_names)\n    self.ui.table_widget.setRowCount(rows)\n    self.ui.table_widget.setColumnCount(cols)\n    self.ui.table_widget.setHorizontalHeaderLabels(col_names)\n    n = 0\n    for key in col_names:\n      m = 0\n      for item in col_data[key]:\n        newitem = QtGui.QTableWidgetItem(item)\n        self.ui.table_widget.setItem(m, n, newitem)\n        m += 1\n      n += 1\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    dialog = QtGui.QDialog()\n    u = TableForm()\n    u.setupUi(dialog)\n    dialog.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>What is wrong?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "is_accepted": false, "score": 1, "last_activity_date": 1433365664, "last_edit_date": 1495542609, "creation_date": 1433365664, "answer_id": 30630752, "question_id": 30630719, "link": "https://stackoverflow.com/questions/30630719/python-when-making-a-function-where-do-i-put-my-import-stuff/30630752#30630752", "title": "Python: When making a function, where do I put my &quot;import&quot; stuff?", "body": "<p>Put your imports at the top of the file.</p>\n\n<p>The only time it really makes sense to <code>import</code> things anywhere else, is if you're doing so conditionally, to see if said library exists for example.</p>\n\n<p>From <a href=\"https://stackoverflow.com/a/1188672/119527\">this answer</a>:</p>\n\n<blockquote>\n  <p><a href=\"http://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8</a> authoritatively states:</p>\n  \n  <blockquote>\n    <p>Imports are always put at the top of\n    the file, just after any module\n          comments and docstrings, and before module globals and constants.</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": false, "score": 0, "last_activity_date": 1433365771, "creation_date": 1433365771, "answer_id": 30630785, "question_id": 30630719, "link": "https://stackoverflow.com/questions/30630719/python-when-making-a-function-where-do-i-put-my-import-stuff/30630785#30630785", "title": "Python: When making a function, where do I put my &quot;import&quot; stuff?", "body": "<p>From PEP 8:\n<code>Imports are always put at the top of the file, just after any module comments and docstrings, and before module globals and constants.</code></p>\n\n<p>More <a href=\"https://www.python.org/dev/peps/pep-0008/#imports\" rel=\"nofollow\">pep8 imports</a></p>\n"}], "owner": {"reputation": 69, "user_id": 4763054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4640f4fe2af247b0e9c3cf33e5bb2184?s=128&d=identicon&r=PG&f=1", "display_name": "Memo Smith", "link": "https://stackoverflow.com/users/4763054/memo-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1433365818, "answer_count": 2, "score": 0, "last_activity_date": 1433365771, "creation_date": 1433365577, "question_id": 30630719, "link": "https://stackoverflow.com/questions/30630719/python-when-making-a-function-where-do-i-put-my-import-stuff", "closed_reason": "Duplicate", "title": "Python: When making a function, where do I put my &quot;import&quot; stuff?", "body": "<p>I'm making a function for an assignment right now, and I used \"sys\" and 'random' in the function. I was just wondering where the most acceptable place is to put the \"import ___\" is when you're making a function? I wanted to know for future reference if it's better to put the \"import\" inside your function, or if it should stay outside.</p>\n"}, {"tags": ["python", "time"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1433365906, "post_id": 30630709, "comment_id": 49327222, "body": "Infinite loop nested inside another infinite loop ? sounds dangerous"}, {"owner": {"reputation": 1184, "user_id": 1269041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f4555652545040e404bd072400c810c?s=128&d=identicon&r=PG", "display_name": "konart", "link": "https://stackoverflow.com/users/1269041/konart"}, "edited": false, "score": 2, "creation_date": 1433366113, "post_id": 30630709, "comment_id": 49327334, "body": "Use <a href=\"http://en.wikipedia.org/wiki/Cron\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cron</a>"}, {"owner": {"reputation": 959, "user_id": 4027401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UzJqV.jpg?s=128&g=1", "display_name": "clesiemo3", "link": "https://stackoverflow.com/users/4027401/clesiemo3"}, "edited": false, "score": 0, "creation_date": 1433366132, "post_id": 30630709, "comment_id": 49327353, "body": "Your code says 9:00 -&gt; 23:00 but your description mentions 20:00 and 21:00. Which is it? Or am I misreading?"}, {"owner": {"reputation": 853, "user_id": 2216471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5hLAS.jpg?s=128&g=1", "display_name": "abaldwin99", "link": "https://stackoverflow.com/users/2216471/abaldwin99"}, "edited": false, "score": 0, "creation_date": 1433366249, "post_id": 30630709, "comment_id": 49327404, "body": "This might make for an interesting question...  However you do realize running scripts on a schedule is typically handled by the operating system correct?"}, {"owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "edited": false, "score": 0, "creation_date": 1433366281, "post_id": 30630709, "comment_id": 49327417, "body": "Look at Cron or Celery"}], "answers": [{"tags": [], "owner": {"reputation": 2307, "user_id": 1692028, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bab5e1f87595aaea974d32b82187d3b9?s=128&d=identicon&r=PG", "display_name": "EelkeSpaak", "link": "https://stackoverflow.com/users/1692028/eelkespaak"}, "is_accepted": false, "score": 0, "last_activity_date": 1433411016, "creation_date": 1433411016, "answer_id": 30640420, "question_id": 30630709, "link": "https://stackoverflow.com/questions/30630709/make-python-script-run-everyday-within-certain-hours/30640420#30640420", "title": "Make python script run everyday within certain hours", "body": "<p>Your code contains two loops. First off, the outer loop. This one is basically irrelevant; if you start the program sometime between 9:00 and 23:00 the <code>dt.now().hour in range(9, 23)</code> will evaluate to <code>True</code>, so the code will enter the inner (infinite) loop. If the condition evaluates to <code>False</code> the program will exit. So, the outer loop body will only ever be executed once.</p>\n\n<p>Then, the inner loop. This one is infinite, as soon as it is entered the code will never break out of it. If on a certain iteration <code>bet_automation()</code> does not throw an exception, it will be executed again during the next iteration. If on a certain iteration <code>bet_automation()</code> <em>does</em> throw an error, it will simply be caught and handled, and the loop will continue.</p>\n\n<p>If you want the code to stop at some point, you need to build in a check on the current time inside the <em>inner</em> loop, like so:</p>\n\n<pre><code>while True:\n    try:\n         bet_automation()\n         if dt.now().hour not in range(9, 23):\n             break\n(...)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4971391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cb4f9c7ef0fed9343a4de8320b14e34?s=128&d=identicon&r=PG&f=1", "display_name": "GrayGreen", "link": "https://stackoverflow.com/users/4971391/graygreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1433411016, "creation_date": 1433365542, "last_edit_date": 1433365818, "question_id": 30630709, "link": "https://stackoverflow.com/questions/30630709/make-python-script-run-everyday-within-certain-hours", "title": "Make python script run everyday within certain hours", "body": "<p>I am trying to make a python script (infinite loop) to work everyday from 9am until around 23.00 and this over and over again. I did some research and come up with this code in the end:</p>\n\n<pre><code>while True:\n    if dt.now().hour in range(9, 23):  \n        if __name__ == \"__main__\":\n\n            \"\"\" Not important \"\"\"\n\n            while True:\n                try:\n                    \"\"\" bet_automation contains all the necessary code \"\"\"\n\n                    bet_automation()\n\n                except Exception as ex:\n\n                    \"\"\" Catch all the error of bet_automation() and restart program \"\"\"\n\n                    print_error(ex)\n                    time.sleep(5)\n                    if not isinstance(ex, LoginTimeoutException):\n                        try:\n                            driver = get_driver()\n                            filename = str(time.time())\n                            driver.get_screenshot_as_file(\"errors/{}.png\".format(filename))\n                            with io.open(\"errors/{}.html\".format(filename)) as f:\n                                f.write(unicode(driver.page_source))\n                        except:\n                            pass\n                    try:\n                        quit_driver()\n                    except:\n                        pass\n\n    else:\n        sys.exit(0)\n</code></pre>\n\n<p>By this, the script manages to start at 20.00 and works correctly. Even if I run it earlier, it only starts working at 20.00, which is great, but it does not terminate at 21, which is confusing.</p>\n\n<p>I'm well aware that this is probably a super easy and dumb question, but as I said I'm the ultimate beginner. I had this script programmed by a \"professional\" programmer and I'm trying to edit it and improve it and I would like to do it myself to understand the entire process.</p>\n\n<p>Every insight is highly appreciated,</p>\n\n<p>Thank you very much,</p>\n\n<p>:)</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "edited": false, "score": 0, "creation_date": 1433369074, "post_id": 30630885, "comment_id": 49328715, "body": "Bug: Add the following line after the last line to see the bug: <code>print f.ab, f.ba</code>"}, {"owner": {"reputation": 11557, "user_id": 228489, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a257035de28cbb48e9d1d4a918058e74?s=128&d=identicon&r=PG", "display_name": "amccormack", "link": "https://stackoverflow.com/users/228489/amccormack"}, "reply_to_user": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "edited": false, "score": 0, "creation_date": 1433371029, "post_id": 30630885, "comment_id": 49329487, "body": "@HaiVu This is because there was a typo in the example. <code>__setattr__</code> was spelled incorrectly."}], "tags": [], "owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "is_accepted": true, "score": 11, "last_activity_date": 1433371068, "last_edit_date": 1433371068, "creation_date": 1433366114, "answer_id": 30630885, "question_id": 30630700, "link": "https://stackoverflow.com/questions/30630700/2-names-for-a-same-attribute/30630885#30630885", "title": "2 names for a same attribute", "body": "<p>Python properties can have setters. So all you need is</p>\n\n<pre><code>class Foo(object):\n\n  @property\n  def BA(self):\n      return self.AB\n\n  @BA.setter\n  def BA(self, value):\n      self.AB = value\n</code></pre>\n\n<p>And insipred by @amccormack's answer, if you can rely on the order of attribute names, this works more generically for e.g. edges bc, cd:</p>\n\n<pre><code>  class Foo(object):\n\n\n      def __init__(self):\n          self.ab = 100\n\n      def __getattr__(self, name):\n          return getattr(self, \"\".join(sorted(name)))\n\n      def __setattr__(self, name, value):\n          super(Foo, self).__setattr__(\"\".join(sorted(name)), value)\n\n\n  f = Foo()\n\n  print f.ba\n  f.ba = 200\n  print f.ba\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1433367660, "post_id": 30631005, "comment_id": 49328078, "body": "This looks interesting, but you shouldn&#39;t really define your own <code>__magicmethods__</code>; why not just <code>_key_transform</code>?"}, {"owner": {"reputation": 11557, "user_id": 228489, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a257035de28cbb48e9d1d4a918058e74?s=128&d=identicon&r=PG", "display_name": "amccormack", "link": "https://stackoverflow.com/users/228489/amccormack"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1433367813, "post_id": 30631005, "comment_id": 49328138, "body": "That&#39;s right, and you&#39;ll see the same comment on the SO answer I linked to. I kept it the same for consistency with that answers, but yes, we should avoid making our own magic method names."}], "tags": [], "owner": {"reputation": 11557, "user_id": 228489, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a257035de28cbb48e9d1d4a918058e74?s=128&d=identicon&r=PG", "display_name": "amccormack", "link": "https://stackoverflow.com/users/228489/amccormack"}, "is_accepted": false, "score": 3, "last_activity_date": 1433366577, "last_edit_date": 1495542600, "creation_date": 1433366577, "answer_id": 30631005, "question_id": 30630700, "link": "https://stackoverflow.com/questions/30630700/2-names-for-a-same-attribute/30631005#30631005", "title": "2 names for a same attribute", "body": "<p>One way to do this is to store your sides in a custom implementation of a dictionary, as described in <a href=\"https://stackoverflow.com/a/3387975/228489\">this SO answer</a>.</p>\n\n<p>The benefit of this technique, is that you don't have to know what the names of the sides will be when writing the code.</p>\n\n<p>What we did was change the hash lookup function so that before the dictionary looks for a key, it sorts the key. Because the key is sorted, ba becomes ab, etc. The sorting happens in the <code>__keytransform__</code> function within the <code>SideDict</code> class.</p>\n\n<pre><code>import collections\n\n\nclass TransformedDict(collections.MutableMapping):\n    \"\"\"A dictionary that applies an arbitrary key-altering\n       function before accessing the keys\"\"\"\n\n    def __init__(self, *args, **kwargs):\n        self.store = dict()\n        self.update(dict(*args, **kwargs))  # use the free update to set keys\n\n    def __getitem__(self, key):\n        return self.store[self.__keytransform__(key)]\n\n    def __setitem__(self, key, value):\n        self.store[self.__keytransform__(key)] = value\n\n    def __delitem__(self, key):\n        del self.store[self.__keytransform__(key)]\n\n    def __iter__(self):\n        return iter(self.store)\n\n    def __len__(self):\n        return len(self.store)\n\n    def __keytransform__(self, key):\n        return key\n\nclass SideDict(TransformedDict):\n\n    def __keytransform__(self, key):\n        return ''.join(sorted(key))\n\nside=SideDict()\nprint 'assign 3 to abc'\nside['abc']=3\nprint \"side['abc']\", side['abc']\nprint 'assign 5 to abc'\nside['bac']=5\nprint \"side['abc']\", side['abc']\nprint \"side['bca']\", side['bca']\n</code></pre>\n\n<p>Running this code produces:</p>\n\n<pre><code>assign 3 to abc\nside['abc'] 3\nassign 5 to abc\nside['abc'] 5\nside['bca'] 5\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 4801066, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2dee928f350ba0aba89534184e5f14e9?s=128&d=identicon&r=PG&f=1", "display_name": "Morgan", "link": "https://stackoverflow.com/users/4801066/morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 30630885, "answer_count": 2, "score": 9, "last_activity_date": 1433371068, "creation_date": 1433365502, "last_edit_date": 1433365874, "question_id": 30630700, "link": "https://stackoverflow.com/questions/30630700/2-names-for-a-same-attribute", "title": "2 names for a same attribute", "body": "<p>I would like to know if there is a way to \"link\" two attributes of a class or to give 2 names to a same attribute? </p>\n\n<p>For example, I'm actually working on a script which create triangle from data given by users. My triangle is ABC. Sides of this triangle are AB, BC and CA. So the triangle has got these 3 attributes (self.AB, self.BC, self.CA). But AB = BA so I would like to allow users to do <code>print myInstance.BA</code> instead of <code>print myInstance.AB</code>. </p>\n\n<p>So I thought to create the attribute self.AB and the property BA (which return self.AB). That work fine when I try to do <code>print myInstance.BA</code> instead of <code>print myInstance.AB</code> but I'm greedy... </p>\n\n<p>I also would like to allow users to do <code>myInstance.BA = 5</code> instead of <code>myInstance.AB = 5</code> and when doing this also edit the attribute AB.</p>\n\n<p>Is there is a way to do this ?</p>\n"}, {"tags": ["python", "regex", "text", "extract", "verilog"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4970248, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fa8c656f47ea64142c8382ce6604b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wang", "link": "https://stackoverflow.com/users/4970248/justin-wang"}, "edited": false, "score": 0, "creation_date": 1433366263, "post_id": 30630757, "comment_id": 49327409, "body": "So from my understanding, the \\b&#39;s takes care of the spaces, the .*? handles anything in between input and the name, and then the \\S+ represents the actual name of the input?"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 109, "user_id": 4970248, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fa8c656f47ea64142c8382ce6604b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wang", "link": "https://stackoverflow.com/users/4970248/justin-wang"}, "edited": false, "score": 0, "creation_date": 1433366324, "post_id": 30630757, "comment_id": 49327441, "body": "@JustinWang <code>\\b</code> defines word boundary.So <code>input</code> will match and <code>badinput</code> will not match neither will <code>inputs</code> match.rest all is correct"}, {"owner": {"reputation": 109, "user_id": 4970248, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fa8c656f47ea64142c8382ce6604b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wang", "link": "https://stackoverflow.com/users/4970248/justin-wang"}, "edited": false, "score": 0, "creation_date": 1433366544, "post_id": 30630757, "comment_id": 49327550, "body": "Ah ok, that makes sense. I realized that the .*?&#39;s would handle the spaces. Thanks so much!"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 0, "last_activity_date": 1433365675, "creation_date": 1433365675, "answer_id": 30630757, "question_id": 30630621, "link": "https://stackoverflow.com/questions/30630621/verilog-input-text-parsing-using-python-regex/30630757#30630757", "title": "Verilog Input Text Parsing using Python Regex", "body": "<pre><code>.*?\\binput\\b.*? (\\S+),\n</code></pre>\n\n<p>You can use this.<code>inputs.append(input_mod.group(1))</code>This will take care of everything in between <code>input</code> and the last non space string before <code>,</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/nS2lT4/4#python\" rel=\"nofollow\">https://regex101.com/r/nS2lT4/4#python</a></p>\n"}], "owner": {"reputation": 109, "user_id": 4970248, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fa8c656f47ea64142c8382ce6604b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Wang", "link": "https://stackoverflow.com/users/4970248/justin-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 30630757, "answer_count": 1, "score": 1, "last_activity_date": 1433365675, "creation_date": 1433365231, "question_id": 30630621, "link": "https://stackoverflow.com/questions/30630621/verilog-input-text-parsing-using-python-regex", "title": "Verilog Input Text Parsing using Python Regex", "body": "<p>so I'm trying to parse some verilog files using python. I need to find inputs, outputs, etc. However, in some files, some inputs and outputs have multiple bitwidths, like so:</p>\n\n<pre><code>input read_enable,\ninput [WIDTH-1 : 0] write_data,\n</code></pre>\n\n<p>I'm using regular expressions to go through the text file one line at a time, so right now if the line contains the word input I run:</p>\n\n<pre><code>input_mod = re.search(r'(.*?)input\\s(.*?)(\\s?)(.*?),', line)\ninputs.append(input_mod.group(4)) \n</code></pre>\n\n<p>Where inputs is a list I declared earlier. I need to extract the input's name.\nI'm rather new to python and regex's so I'm not sure if this will work, is this correct? Is there a better way to do this?</p>\n\n<p>Note: I know doxygen exists, but my boss wants a native function in their python class. </p>\n"}, {"tags": ["python", "setuptools"], "comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1433379820, "post_id": 30630571, "comment_id": 49332134, "body": "you could just uninstall and then re-install, of course."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1433383152, "post_id": 30630571, "comment_id": 49332897, "body": "@dbliss Yes, but that would assume that it&#39;s <i>my</i> machine - or did you mean have pip uninstall &amp; reinstall?"}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1433384937, "post_id": 30630571, "comment_id": 49333257, "body": "Yeah, I meant use pip to uninstall and then reinstall."}], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 0, "last_activity_date": 1433897415, "creation_date": 1433897415, "answer_id": 30745280, "question_id": 30630571, "link": "https://stackoverflow.com/questions/30630571/can-i-get-pip-to-delete-scripts-that-i-installed-but-no-longer-want/30745280#30745280", "title": "Can I get pip to delete scripts that I installed but no longer want?", "body": "<p>The correct way to do this is via setuptools. The delightful <a href=\"http://click.pocoo.org/4/setuptools/#setuptools-integration\" rel=\"nofollow\">Click library has a great example</a>.</p>\n\n<p>Rather than having a <code>scripts</code> directory, simply combine that information in the application itself somewhere, so <code>confections.py</code> should contain something like this:</p>\n\n<pre><code>def crunchy_frog():\n    '''Only the freshest killed frogs... '''\n    # TODO: implement\n\ndef anthrax_ripple():\n    '''A delightful blend of Anthrax spores... '''\n    # TODO: implement\n\ndef spring_surprise():\n    '''Deploy stainless steel bolts, piercing both cheeks'''\n    # TODO: implement\n</code></pre>\n\n<p>Then in <code>setup.py</code>: </p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    name='confectionary',\n    version='1.0.0',\n    py_modules=['confectionary'],\n    entry_points='''\n        [console_scripts]\n        crunchy_frog=confectionary.confections:crunchy_frog\n        anthrax_ripple=confectionary.confections:anthrax_ripple\n        spring_surprise=confectionary.confections:spring_surprise\n    ''',\n)\n</code></pre>\n\n<p>And when you change it up, obviously you'll change <code>confections.py</code> appropriately, but then you can change your <code>setup.py</code>:</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    name='confectionary',\n    version='2.0.0',\n    py_modules=['confectionary'],\n    entry_points='''\n        [console_scripts]\n        praline=confectionary.confections:praline\n        lime_coconut=confectionary.confections:lime_coconut\n    ''',\n)\n</code></pre>\n\n<p>Now everything will be happy! And as an added bonus, you'll find that setuptools will create the <a href=\"https://pythonhosted.org/setuptools/setuptools.html#automatic-script-creation\" rel=\"nofollow\">appropriate files</a> on Windows as well.</p>\n\n<p>Delicious!</p>\n"}], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 30745280, "answer_count": 1, "score": 1, "last_activity_date": 1433897415, "creation_date": 1433365056, "question_id": 30630571, "link": "https://stackoverflow.com/questions/30630571/can-i-get-pip-to-delete-scripts-that-i-installed-but-no-longer-want", "title": "Can I get pip to delete scripts that I installed but no longer want?", "body": "<p>Say I have the following project:</p>\n\n<pre><code>confectionary/\n    __init__.py\n    confections.py\nscripts/\n    crunchy_frog.py\n    anthrax_ripple.py\n    spring_surprise.py\n</code></pre>\n\n<p>And it has been installed by my users, so they can simply type</p>\n\n<pre><code>$ spring_surprise.py\n</code></pre>\n\n<p>and have stainless steel bolts spring out of their computer, piercing both cheeks.</p>\n\n<p>However, Constable Parrot has convinced me to move into more <em>conventional</em> areas of confectionary, so I will no longer offer such sweetmeats. I have changed my scripts to look like this:</p>\n\n<pre><code>scripts/\n   praline.py\n   lime_coconut.py\n</code></pre>\n\n<p>Yet, when I install this newer version, the old scripts stay around.</p>\n\n<p>Is it possible to specify somehow in my setup.py that I no longer want these old scripts when my application is upgraded?</p>\n"}, {"tags": ["python", "popen"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433366427, "post_id": 30630494, "comment_id": 49327496, "body": "What happens if you comment out the <code>snap_result =</code> and following line, but instead just print out line?"}, {"owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433366891, "post_id": 30630494, "comment_id": 49327724, "body": "If I comment that out, it will work, it will just print out the line"}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433367146, "post_id": 30630494, "comment_id": 49327840, "body": "And what happens if you remove the close_fds? What happens if you replace &quot;snap&quot; with e.g. &quot;echo&quot;?"}, {"owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433425390, "post_id": 30630494, "comment_id": 49354814, "body": "close_fds seems to be necessary. It is supposed to prevent python subprocesses share file handle."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433429418, "post_id": 30630494, "comment_id": 49357945, "body": "Did you <i>try</i> not using close_fds?"}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "is_accepted": true, "score": 0, "last_activity_date": 1433450168, "creation_date": 1433450168, "answer_id": 30653666, "question_id": 30630494, "link": "https://stackoverflow.com/questions/30630494/popen-hangs-on-communicate/30653666#30653666", "title": "Popen hangs on communicate", "body": "<p>Seems not be the problem of the script but because the subprocess is expecting stdin input. Redirect the stdin to null device solve this. </p>\n"}], "owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 0, "accepted_answer_id": 30653666, "answer_count": 1, "score": 1, "last_activity_date": 1433450168, "creation_date": 1433364828, "last_edit_date": 1433425214, "question_id": 30630494, "link": "https://stackoverflow.com/questions/30630494/popen-hangs-on-communicate", "title": "Popen hangs on communicate", "body": "<p>I am writing a program to communicate to two programs:</p>\n\n<pre><code>output = Popen(shlex.split(query_cmd), stdout=PIPE,stdin=None)\ncmd_out = [output.stdout]\nwhile cmd_out:\nreadable,writeready,exceptready = select.select(cmd_out,[],[],timeout)\nfor f in readable:\n    line = f.readline()\n    snap_result=Popen(shlex.split(\"snap %s\" % (line) ),stdout=PIPE,close_fds=True).communicate()[0]\n    print snap_result\n</code></pre>\n\n<p>Supposedly query_cmd will continuously generate lines of result. snap should that use this line as argument, return results and terminate. This works on python2.4. However, on python2.6.6, it seems that the snap will hangs on reading the result. \n If I change the query_cmd to \"tail -f file\". It seems to work too. </p>\n\n<p>I am running this inside a csh script where both stdout/stderr are redirected to  a log file.</p>\n\n<p>EDIT: Actually, it is weird, in csh, I redirected both stdout&amp;stderr to log file. If I only redirect stdout, it is running fine. If I redirect stderr, it hangs. I think somehow the stderr is messed up between parent process of python and child process. </p>\n"}, {"tags": ["python", "recursion", "tree", "lxml"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1433417645, "post_id": 30630420, "comment_id": 49349526, "body": "I think the reason why setting <code>node.depth</code> does not work is because the tree holds the DOM in some other data structure and only produces <i>copies</i> of node elements upon iteration. So modification of <code>node</code> does not modify the <code>tree</code> itself."}], "answers": [{"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1433402026, "post_id": 30633668, "comment_id": 49339340, "body": "Well, I&#39;ve seen <code>attrib</code> (and also saw that it then specifically needs to be a string, not integer), but I do not want to actually edit the &quot;html&quot; key,values."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1433402208, "post_id": 30633668, "comment_id": 49339459, "body": "Oh. well if you  just want the nodes to have Python attributes you can change the code to just <code>x.depth</code>"}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1433405939, "post_id": 30633668, "comment_id": 49341589, "body": "Try it... that&#39;s the thing that does not work!  look at the maxymoo comment section in the question."}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1433382689, "creation_date": 1433382689, "answer_id": 30633668, "question_id": 30630420, "link": "https://stackoverflow.com/questions/30630420/add-depth-to-nodes-while-iterating-over-lxml-tree/30633668#30633668", "title": "Add depth to nodes while iterating over lxml tree", "body": "<p>There's a couple of issues here. </p>\n\n<ul>\n<li><p>The first is you are trying to make your recursive function have the\nside-effect of updating the original tree. I don't think this is\npossible. </p></li>\n<li><p>The second is that you don't want to use Python attributes, you need\nto use xml attributes which you access using <code>x.attrib</code>.</p></li>\n</ul>\n\n<p>A working piece of code could be the following (it's a bit awkward since I am continally casting depth from string to int, since xml attributes can't be integer). It doesn't use recursion, but I think that's overkill anyway:</p>\n\n<pre><code>tree.attrib['depth'] = '0'\nfor x in tree.iter():\n    if 'depth' not in x.attrib:\n        x.attrib['depth'] = str(int(x.getparent().attrib['depth']) + 1)\n\n\nprint(lxml.html.tostring(tree).decode())\n\n&lt;html depth=\"0\"&gt;\n            &lt;body depth=\"1\"&gt;\n              &lt;div depth=\"2\"&gt;\n                &lt;a depth=\"3\"&gt;&lt;/a&gt;\n                &lt;h1 depth=\"3\"&gt;&lt;/h1&gt;\n              &lt;/div&gt;\n            &lt;/body&gt;\n          &lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1433405995, "creation_date": 1433364580, "last_edit_date": 1433405995, "question_id": 30630420, "link": "https://stackoverflow.com/questions/30630420/add-depth-to-nodes-while-iterating-over-lxml-tree", "title": "Add depth to nodes while iterating over lxml tree", "body": "<p>I want to add a depth to each node, for this I came up with the following recursive function:</p>\n\n<pre><code>import lxml.html\n\ndef add_depth(node, depth = 0):\n    node.depth = depth\n    print(node.tag, node.depth)\n    for n in node.iterchildren(): \n        add_depth(n , depth + 1)\n\nhtml = \"\"\"&lt;html&gt;\n            &lt;body&gt;\n              &lt;div&gt;\n                &lt;a&gt;&lt;/a&gt;\n                &lt;h1&gt;&lt;/h1&gt;\n              &lt;/div&gt;\n            &lt;/body&gt;\n          &lt;/html&gt;\"\"\"\n\ntree = lxml.html.fromstring(html)\n\nadd_depth(tree)\n\nfor x in tree.iter():\n    print(x)\n    if not hasattr(x, 'depth'):\n        print('this should not happen', x)\n</code></pre>\n\n<p>I thought this is one of the cheapest way to add the depth, so that doing it once will give all the elements the depth, and I only need to see each element once.</p>\n\n<p>The problem is that somehow it does not seem to stick.... it's like the depth does not stick onto the element. Could it be somehow that iterating over the lxml tree is something generated on the spot, and thus  adding the depth does not stick?</p>\n\n<p>What's going on here, and what is the cheapest way to get all the elements to have a depth?    </p>\n\n<h3>Breakthrough</h3>\n\n<p>Using the following:</p>\n\n<pre><code>def add_depth(node, depth = 0, maxd = None):\n    node.depth = depth\n    if maxd is None:\n        maxd = []\n    maxd.append((node, node.depth)) \n    for n in node.iterchildren(): \n        add_depth(n , depth + 1, maxd)\n    return maxd    \n</code></pre>\n\n<p>Suddenly it does work. This code creates a huge list of all elements and the depth next to it (so I can sort it). Even while iterating over the original tree, <em>this time</em> they <em>do</em> have the depth. This is not efficient at all though, and I don't understand it.</p>\n\n<p><strong>@ Maximoo</strong></p>\n\n<pre><code>tree.depth = 0\nfor x in tree.iter(): \n    if x.getparent() is not None:\n        x.depth = x.getparent().depth + 1\n\nAttributeError: 'HtmlElement' object has no attribute 'depth'\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 153, "user_id": 4732863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737ff25f912b0821cbe1ca3710b92803?s=128&d=identicon&r=PG&f=1", "display_name": "Ariane", "link": "https://stackoverflow.com/users/4732863/ariane"}, "edited": false, "score": 0, "creation_date": 1433430297, "post_id": 30630382, "comment_id": 49358641, "body": "I posted a new question which presents another case in which none of the method in python converges while fsolve in Matlab does here <a href=\"http://stackoverflow.com/questions/30647460/finding-roots-with-scipy-optimize-root\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 3255247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727fe5d4e747f49280bab38c29c69234?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Custer", "link": "https://stackoverflow.com/users/3255247/jon-custer"}, "edited": false, "score": 0, "creation_date": 1433423160, "post_id": 30630796, "comment_id": 49353182, "body": "The SciPy 0.13.0 guide indicates that the default scipy.optimize.root solver is &#39;hybr&#39;, a modified Powell method from MINPACK."}], "tags": [], "owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "is_accepted": true, "score": 6, "last_activity_date": 1433365796, "creation_date": 1433365796, "answer_id": 30630796, "question_id": 30630382, "link": "https://stackoverflow.com/questions/30630382/scipy-optimize-root-does-not-converge-in-python-while-matlab-fsolve-works-why/30630796#30630796", "title": "Scipy.optimize.root does not converge in Python while Matlab fsolve works, why?", "body": "<p>Try a different method.  For me, <code>method=\"lm\"</code>  (I'm guessing Levenberg-Marquardt, but I'm not entirely sure) works very well:</p>\n\n<pre><code>import numpy as np\nimport scipy.optimize\n\ndef f(y):\n    w,p1,p2,p3,p4,p5,p6 = y[:7]\n    t1 = w - 0.99006633*(p1**0.5) - (-1.010067)*((1-p1))\n    t2 = w - 22.7235687*(p2**0.5) - (-1.010067)*((1-p2))\n    t3 = w - 9.71323491*(p3**0.5) - (-1.010067)*((1-p3))\n    t4 = w - 2.43852877*(p4**0.5) - (-1.010067)*((1-p4))\n    t5 = w - 3.93640207*(p5**0.5) - (-1.010067)*((1-p5))\n    t6 = w - 9.22688144*(p6**0.5) - (-1.010067)*((1-p6))\n    t7 = p1 + p2 + p3 + p4 + p5 + p6 - 1\n    return [t1,t2,t3,t4,t5,t6,t7]\n\n\nx0 = np.array([-0.01,0.4,0.1,0.2,0.1,0.1,0.1])\nsol = scipy.optimize.root(f, x0, method='lm')\n\nassert sol['success']\nprint 'Solution: ', sol.x\nprint 'Misfit: ', f(sol.x)\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>Solution: [ 0.39012036  0.61656436  0.00377616  0.02017937  0.22954825 \n            0.10763827  0.02229359]\nMisfit: [0.0, 0.0, 1.1102230246251565e-16, -1.1102230246251565e-16,   \n         1.1102230246251565e-16, 0.0, -2.2204460492503131e-16]\n</code></pre>\n\n<p>I'm actually a bit surprised Levenberg-Marquardt isn't the default.  It's usually one of the first \"gradient-descent\" style solvers one would try.</p>\n"}], "owner": {"reputation": 153, "user_id": 4732863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/737ff25f912b0821cbe1ca3710b92803?s=128&d=identicon&r=PG&f=1", "display_name": "Ariane", "link": "https://stackoverflow.com/users/4732863/ariane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1599, "favorite_count": 2, "accepted_answer_id": 30630796, "answer_count": 1, "score": 5, "last_activity_date": 1433429859, "creation_date": 1433364474, "last_edit_date": 1433429859, "question_id": 30630382, "link": "https://stackoverflow.com/questions/30630382/scipy-optimize-root-does-not-converge-in-python-while-matlab-fsolve-works-why", "title": "Scipy.optimize.root does not converge in Python while Matlab fsolve works, why?", "body": "<p>I am trying to find the root y of a function called f using Python.  </p>\n\n<p>Here is my code:</p>\n\n<pre><code>def f(y):\n    w,p1,p2,p3,p4,p5,p6 = y[:7] \n    t1 = w - 0.99006633*(p1**0.5) - (-1.010067)*((1-p1))\n    t2 = w - 22.7235687*(p2**0.5) - (-1.010067)*((1-p2))\n    t3 = w - 9.71323491*(p3**0.5) - (-1.010067)*((1-p3))\n    t4 = w - 2.43852877*(p4**0.5) - (-1.010067)*((1-p4))\n    t5 = w - 3.93640207*(p5**0.5) - (-1.010067)*((1-p5))\n    t6 = w - 9.22688144*(p6**0.5) - (-1.010067)*((1-p6))\n    t7 = p1 + p2 + p3 + p4 + p5 + p6 - 1\n    return [t1,t2,t3,t4,t5,t6,t7]\n\n\nx0 = np.array([-0.01,0.4,0.1,0.2,0.1,0.1,0.1])\nsol = scipy.optimize.root(f, x0)\nprint sol \n</code></pre>\n\n<p>Python does not find the root. However there is one, I found it with the function fsolve in Matlab.</p>\n\n<p>It is:</p>\n\n<p>[ 0.3901, 0.6166, 0.0038, 0.0202, 0.2295, 0.1076, 0.0223]</p>\n\n<p>I really want to use Python. Can anyone explain why scipy.optimize.root in Python does not converge while fsolve in Matlab does?</p>\n\n<p>For info, scipy.optimize.solve does not converge either.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 5468, "user_id": 2107722, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OvhXm.jpg?s=128&g=1", "display_name": "Our Man in Bananas", "link": "https://stackoverflow.com/users/2107722/our-man-in-bananas"}, "edited": false, "score": 0, "creation_date": 1433367725, "post_id": 30630349, "comment_id": 49328106, "body": "Welcome to StackOverflow. I think you&#39;re going to have to show us some code in order for us to help you."}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1433369375, "post_id": 30630349, "comment_id": 49328838, "body": "Please split your second question to a seperate question."}], "answers": [{"tags": [], "owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "is_accepted": true, "score": 1, "last_activity_date": 1433370793, "creation_date": 1433370793, "answer_id": 30631982, "question_id": 30630349, "link": "https://stackoverflow.com/questions/30630349/pandas-newbie-how-do-i-assign-values-based-on-content-of-columns/30631982#30631982", "title": "Pandas newbie: How do I assign values based on content of columns?", "body": "<p>You can use the string method <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.contains.html\" rel=\"nofollow\"><code>contains</code></a> for this.<br>\nStarting from this dataframe:</p>\n\n<pre><code>In [96]: df\nOut[96]:\n             pet1\n0             dog\n1  dog;cat;rabbit\n2         cat;dog\n3      manbearpig\n4           hippo\n</code></pre>\n\n<p>You can check if each element contains the substring 'dog':</p>\n\n<pre><code>In [97]: df['pet1'].str.contains('dog')\nOut[97]:\n0     True\n1     True\n2     True\n3    False\n4    False\nName: pet1, dtype: bool\n</code></pre>\n\n<p>and then multiply by 5 to end up with your desired result:</p>\n\n<pre><code>In [98]: df['pet1'].str.contains('dog') * 5\nOut[98]:\n0    5\n1    5\n2    5\n3    0\n4    0\nName: pet1, dtype: int32\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 4967285, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/657c74a7d179d14ff5f9f73bb35625dc?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4967285/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 0, "accepted_answer_id": 30631982, "answer_count": 1, "score": 0, "last_activity_date": 1433373382, "creation_date": 1433364376, "last_edit_date": 1433373382, "question_id": 30630349, "link": "https://stackoverflow.com/questions/30630349/pandas-newbie-how-do-i-assign-values-based-on-content-of-columns", "title": "Pandas newbie: How do I assign values based on content of columns?", "body": "<p>I would like to create a new column with a numerical value assigned based on whether pet1 contains the word 'cat' or the word 'dog'</p>\n\n<pre><code>    pet1           \n0   dog             \n1   dog;cat;rabbit  \n2   cat;dog         \n3   manbearpig      \n4   hippo           \n</code></pre>\n\n<p>I would like the end result to be as follows:</p>\n\n<pre><code>    pet1            points\n0   dog             5\n1   dog;cat;rabbit  5\n2   cat;dog         5\n3   manbearpig      0\n4   hippo           0 \n</code></pre>\n\n<p>How do I do this?</p>\n\n<p>\nI am a complete coding novice and have been experimenting with Pandas. I apologize that this is a complete newbie question. \n</p>\n"}, {"tags": ["python", "python-2.7", "enums"], "comments": [{"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "edited": false, "score": 0, "creation_date": 1433364631, "post_id": 30630334, "comment_id": 49326523, "body": "What <code>enum</code> module are you using? It doesn&#39;t ship with the Python 2.7 stdlib."}, {"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "reply_to_user": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "edited": false, "score": 0, "creation_date": 1433364683, "post_id": 30630334, "comment_id": 49326547, "body": "I installed it using <code>pip install --user enum</code> --- is there a way I can make sure this is the version being used?  (I&#39;m on a remote server so maybe something weird is going on)"}, {"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "reply_to_user": {"reputation": 3627, "user_id": 1460849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f8e4125e72fd9a100f62da3324a3635?s=128&d=identicon&r=PG", "display_name": "kalhartt", "link": "https://stackoverflow.com/users/1460849/kalhartt"}, "edited": false, "score": 0, "creation_date": 1433365257, "post_id": 30630334, "comment_id": 49326884, "body": "YES @kalhartt thank you, you sweet sweet being.  Put this as an answer so I can upvote and mark it?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1434725648, "post_id": 30630334, "comment_id": 49917406, "body": "If you&#39;re interested in the thinking behind introducing <code>Enum</code> to the standard library, <a href=\"https://www.python.org/dev/peps/pep-0435/\" rel=\"nofollow noreferrer\">the PEP</a> is worth a read."}], "answers": [{"tags": [], "owner": {"reputation": 3627, "user_id": 1460849, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1f8e4125e72fd9a100f62da3324a3635?s=128&d=identicon&r=PG", "display_name": "kalhartt", "link": "https://stackoverflow.com/users/1460849/kalhartt"}, "is_accepted": true, "score": 2, "last_activity_date": 1433365525, "creation_date": 1433365525, "answer_id": 30630705, "question_id": 30630334, "link": "https://stackoverflow.com/questions/30630334/enum-class-members-appearing-as-defined-types-not-enum-members/30630705#30630705", "title": "Enum class members appearing as defined types not enum members", "body": "<p>The enum introduced in python 3.4 is backported under <a href=\"https://pypi.python.org/pypi/enum34\" rel=\"nofollow\">enum34</a>. It seems you had the misfortune of installing this <a href=\"https://pypi.python.org/pypi/enum\" rel=\"nofollow\">enum</a> package which is entirely different.</p>\n"}], "owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 30630705, "answer_count": 1, "score": 3, "last_activity_date": 1433365525, "creation_date": 1433364341, "question_id": 30630334, "link": "https://stackoverflow.com/questions/30630334/enum-class-members-appearing-as-defined-types-not-enum-members", "title": "Enum class members appearing as defined types not enum members", "body": "<p>I'm implementing an Enum class but it keeps showing up as normal class variables.  For example:</p>\n\n<pre><code>from enum import Enum\n\nclass test(Enum):\n    one = 1\n    two = 2\n    thr = \"three\"\n</code></pre>\n\n<p>using this I get:</p>\n\n<pre><code>&gt;&gt;&gt; print type(test.one)\n&lt;type 'int'&gt;\n&gt;&gt;&gt; print repr(test.one)\n1\n&gt;&gt;&gt; print test.one\n1\n\n&gt;&gt;&gt; print type(test.thr)\n&lt;type 'str'&gt;\n&gt;&gt;&gt; print repr(test.thr)    \n'three'\n&gt;&gt;&gt; print test.thr\nthree\n</code></pre>\n\n<p>What could be going wrong?</p>\n\n<p>Info:</p>\n\n<pre><code>$ python --version\nPython 2.7.3\n\n$ python -c \"import enum; print enum.__version__\"\n0.4.4\n</code></pre>\n"}, {"tags": ["python", "cairo"], "owner": {"reputation": 2233, "user_id": 1626229, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c88f455192559b06f95d006abfe33f9f?s=128&d=identicon&r=PG", "display_name": "fossfreedom", "link": "https://stackoverflow.com/users/1626229/fossfreedom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 691, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1433364180, "creation_date": 1433364180, "question_id": 30630280, "link": "https://stackoverflow.com/questions/30630280/how-do-i-create-a-circular-shadow-effect-with-cairo", "title": "how do I create a circular shadow effect with cairo?", "body": "<p>I'm trying to enhance the graphical look of my application by giving the drawing a subtle shadow effect.  I'm using python and cairo drawing.</p>\n\n<p>With the example code below I can draw an outer circle and an inner circle with the picture as shown.</p>\n\n<p><img src=\"https://i.imgur.com/FQMCf3z.png\" alt=\"pic\"></p>\n\n<p>What I want to do is replace that outer circle with a shadow effect.  </p>\n\n<p>I guess that I need to use a lineargradient or a radialgradient but I can't find a good example for what I want to achieve.</p>\n\n<p>Anybody point me in the correct direction please?</p>\n\n<pre><code>from gi.repository import Gtk\nfrom gi.repository import Gdk\nfrom gi.repository import GdkPixbuf\n\nimport cairo\nimport math\n\nclass MyWindow (Gtk.Window):\n\n    def __init__(self):\n        Gtk.Window.__init__(self, title='MyWindow')\n\n        darea = Gtk.DrawingArea()\n        darea.connect('draw', self.on_draw)\n        self.add(darea)\n\n        self.width, self.height = self.get_size()\n\n        filename = \"/usr/share/backgrounds/Thingvellir_by_pattersa.jpg\"\n\n        if self.width &gt; self.height:\n            self.width = self.height\n        else:\n            self.height = self.width\n\n        self.width = self.width\n        self.height = self.height\n\n        self.pixbuf = GdkPixbuf.Pixbuf.new_from_file(filename)\n        self.pixbuf = self.pixbuf.scale_simple(self.width, self.width, GdkPixbuf.InterpType.BILINEAR)\n\n    def on_draw(self, widget, cr):\n\n        w = self.width\n        h = self.height\n\n        # draw outer circle\n        cr.translate(w/2, h/2)\n        cr.set_line_width(10)\n\n        cr.set_source_rgb(0.7, 0.2, 0.0)\n        cr.arc(0, 0, w/2, 0, 2*math.pi)\n        cr.stroke_preserve()\n        cr.stroke()\n\n        # now reset the origin and set the picture to be the source\n        cr.translate(-w/2, -h/2)\n\n        Gdk.cairo_set_source_pixbuf(cr, self.pixbuf, 0, 0)\n\n        # now reset the origin again and this time clip the pixbuf \n        cr.translate(w/2, h/2)\n\n        cr.arc(0, 0, w/2.2, 0, 2*math.pi) # was 2.2\n        cr.stroke_preserve()\n        cr.clip()\n        cr.paint()\n\nwin = MyWindow()\nwin.connect('delete-event', Gtk.main_quit)\nwin.show_all()\nGtk.main()\n</code></pre>\n\n<p>Using Ubuntu 14.04 - Gtk+3.10, python3</p>\n"}, {"tags": ["python", "flask", "cx-freeze"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 2, "last_activity_date": 1433365462, "last_edit_date": 1433365462, "creation_date": 1433364440, "answer_id": 30630368, "question_id": 30630266, "link": "https://stackoverflow.com/questions/30630266/freeze-an-app-with-flask-and-flask-logging-via-cx-freeze/30630368#30630368", "title": "Freeze an app with flask and flask-logging via cx_freeze", "body": "<p><code>flask.ext</code> is a deprecated technique for migrating older Flask applications.  The correct way to import Flask extensions is to import from them directly.</p>\n\n<pre><code>from flask_logging import Filter\n</code></pre>\n\n<p><code>flask.ext</code> does some clever examination of the path at runtime, which is probably something cx_freeze doesn't expect.</p>\n"}], "owner": {"reputation": 57, "user_id": 2683781, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7d9e674f463e62ffb0b180e2f63b97cc?s=128&d=identicon&r=PG", "display_name": "Spideynn", "link": "https://stackoverflow.com/users/2683781/spideynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 30630368, "answer_count": 1, "score": 0, "last_activity_date": 1433365462, "creation_date": 1433364138, "question_id": 30630266, "link": "https://stackoverflow.com/questions/30630266/freeze-an-app-with-flask-and-flask-logging-via-cx-freeze", "title": "Freeze an app with flask and flask-logging via cx_freeze", "body": "<p>I have an app with Flask and <a href=\"https://github.com/nathancahill/Flask-Logging\" rel=\"nofollow\">Flask-Logging</a> that I have been wanting to turn into an Windows executable with cx_Freeze, but whenever I try to freeze it, and run the resulting executable, it is missing <code>flask.ext.logging</code> which is from flask-logging.</p>\n\n<p>Setup.py</p>\n\n<pre><code>from cx_Freeze import setup, Executable\n\n# Dependencies are automatically detected, but it might need\n# fine tuning.\nbuildOptions = dict(packages = [\"flask\", \"psutil\"], excludes = [])\n\nbase = 'Console'\n\nexecutables = [\n    Executable('app.py', base=base, targetName = 'test.exe')\n]\n\nsetup(name='FlaskExample',\n      version = '0.5',\n      description = 'Example Flask App',\n      options = dict(build_exe = buildOptions),\n      executables = executables)\n</code></pre>\n\n<p>I have tried specifying <code>flask.ext.logging</code> in the packages, but it still doesn't work. What have I missed?</p>\n"}, {"tags": ["python", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 4967149, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b844ad01220e719cbef2f392eba00361?s=128&d=identicon&r=PG&f=1", "display_name": "joey", "link": "https://stackoverflow.com/users/4967149/joey"}, "edited": false, "score": 0, "creation_date": 1433364817, "post_id": 30630363, "comment_id": 49326617, "body": "TypeError: expected bytes, bytearray or buffer compatible object |  Is the error message is get:("}], "tags": [], "owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1433364415, "creation_date": 1433364415, "answer_id": 30630363, "question_id": 30630181, "link": "https://stackoverflow.com/questions/30630181/python-subprocess-messy-output/30630363#30630363", "title": "Python subprocess Messy output", "body": "<p>Use <code>translate</code></p>\n\n<pre><code>print output.translate(None, '\\r\\n')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 221, "user_id": 4967149, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b844ad01220e719cbef2f392eba00361?s=128&d=identicon&r=PG&f=1", "display_name": "joey", "link": "https://stackoverflow.com/users/4967149/joey"}, "edited": false, "score": 0, "creation_date": 1433451625, "post_id": 30630402, "comment_id": 49371075, "body": "why would you call <code>str(bytes_object)</code> here, why would you suggest it to a newbie? The second code example should be the only one in your answer. @joey: I hope that you&#39;ve used <code>universal_newlines=True</code> solution that enables the text mode (why <code>text_mode</code> is spelled as <code>universal_newlines</code> is not clear)."}, {"owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1433488283, "post_id": 30630402, "comment_id": 49383276, "body": "@J.F.Sebastian Good point.  Removed the hacky call at the start :)"}], "tags": [], "owner": {"reputation": 224, "user_id": 4647944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab1eb0f09dd1a9862ab4e269e2569c4?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Runchey", "link": "https://stackoverflow.com/users/4647944/matthew-runchey"}, "is_accepted": true, "score": 2, "last_activity_date": 1433488244, "last_edit_date": 1433488244, "creation_date": 1433364540, "answer_id": 30630402, "question_id": 30630181, "link": "https://stackoverflow.com/questions/30630181/python-subprocess-messy-output/30630402#30630402", "title": "Python subprocess Messy output", "body": "<p>Use the argument \"universal_newlines=True\" when you call the function:</p>\n\n<pre><code>output = subprocess.check_output(['wmic', 'PATH', 'Win32_videocontroller',  'GET', 'description'], universal_newlines=True)\nprint(output , \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 4967149, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b844ad01220e719cbef2f392eba00361?s=128&d=identicon&r=PG&f=1", "display_name": "joey", "link": "https://stackoverflow.com/users/4967149/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 30630402, "answer_count": 2, "score": 1, "last_activity_date": 1433488244, "creation_date": 1433363818, "question_id": 30630181, "link": "https://stackoverflow.com/questions/30630181/python-subprocess-messy-output", "title": "Python subprocess Messy output", "body": "<p>With the following code:</p>\n\n<pre><code>output = subprocess.check_output(['wmic', 'PATH', 'Win32_videocontroller', 'GET', 'description'])\n    print(output , \"\\n\")\n</code></pre>\n\n<p>I get the next output:</p>\n\n<pre><code>b'Description                \\r\\r\\nNVIDIA GeForce 710M        \\r\\r\\nIntel(R) HD Graphics 4000  \\r\\r\\n\\r\\r\\n'\n</code></pre>\n\n<p>When I use the commando <code>wmic path win32_videocontroller get desription</code>in my CMD I get only the videocard info back. Is this possible in python aswell? With out the /r/r/r/r things?</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy", "celery"], "comments": [{"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1433365436, "post_id": 30630120, "comment_id": 49326996, "body": "No value set for <code>max_connection</code>, so I assume default of 100."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1433366571, "post_id": 30630120, "comment_id": 49327565, "body": "<code>max_connections=151</code>"}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1433366767, "post_id": 30630120, "comment_id": 49327656, "body": "I can&#39;t copy the entire output of <code>show processlist</code>. But, I see 6 rows - all the same user and host. 5 of which have the same db (app database), while the other says NULL. 5 of which says Sleep as the command, while the other says query. 5 of which have large Time values, while the other has 0."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1433367066, "post_id": 30630120, "comment_id": 49327797, "body": "I see 6 rows, MAX(id) == 21 if that answers the question"}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "edited": false, "score": 0, "creation_date": 1433367341, "post_id": 30630120, "comment_id": 49327935, "body": "That is the output while the celery tasks are running."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "edited": false, "score": 0, "creation_date": 1433367657, "post_id": 30630120, "comment_id": 49328075, "body": "New row - this just happened  <code>| 27 | root | localhost | ab__development | Query   |    0 | Writing to net | rollback         |</code>"}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "edited": false, "score": 0, "creation_date": 1433416256, "post_id": 30630120, "comment_id": 49348593, "body": "The output of <code>show processlist</code> is not useful - the queries have already failed by the time you type it. The one showing <code>rollback</code> may well be significant, but not that informative."}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "edited": false, "score": 0, "creation_date": 1433416392, "post_id": 30630120, "comment_id": 49348677, "body": "Can you update your code to show the database operations please. And can you also do <code>SHOW TABLE ...</code>for the table(s) being operated on?"}, {"owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "edited": false, "score": 0, "creation_date": 1433433839, "post_id": 30630120, "comment_id": 49361104, "body": "Check <a href=\"http://stackoverflow.com/a/21132756/3571\">stackoverflow.com/a/21132756/3571</a> , it might be that you need to specify pool_recycle in the call to create_engine"}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "edited": false, "score": 0, "creation_date": 1433473158, "post_id": 30630120, "comment_id": 49377866, "body": "I found something weird out today - whenever I first start my celery worker and kick off the chord task, I get connection issues before the tasks get a chance to finish. However, every time after the first time, it runs all the way through."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "edited": false, "score": 0, "creation_date": 1433473257, "post_id": 30630120, "comment_id": 49377892, "body": "@codeape I&#39;m using a connection pool of 100 already."}, {"owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "edited": false, "score": 0, "creation_date": 1433489523, "post_id": 30630120, "comment_id": 49384006, "body": "Yes but you might still have a problem where connections in the pool time out. And do you properly release sessions after they&#39;re used? I don&#39;t know what <code>Session</code> is, but if it is a <code>scoped_session</code>, make sure you call <code>session.remove()</code> at the end of each task (commonly done in a finally block)."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "reply_to_user": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "edited": false, "score": 0, "creation_date": 1433513648, "post_id": 30630120, "comment_id": 49399608, "body": "@codeape <code>Session</code> is a <code>scoped_session</code>. I hear what you&#39;re saying, but I have a signal that runs after each task that does just that."}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "edited": false, "score": 0, "creation_date": 1433525768, "post_id": 30630120, "comment_id": 49407091, "body": "When I run celery with one process, everything works just fine. <code>worker -c 1</code>"}, {"owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "edited": false, "score": 0, "creation_date": 1433526905, "post_id": 30630120, "comment_id": 49407646, "body": "also, doing this before each task runs seems to work when using more than one process <code>Session.bind.engine.dispose(); Session.bind.engine.connect()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 961391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29d59a9436d12e0f42e0cd19f2a0cacb?s=128&d=identicon&r=PG", "display_name": "Kanstantsin Kamkou", "link": "https://stackoverflow.com/users/961391/kanstantsin-kamkou"}, "is_accepted": false, "score": 0, "last_activity_date": 1444413025, "last_edit_date": 1495542574, "creation_date": 1444413025, "answer_id": 33044345, "question_id": 30630120, "link": "https://stackoverflow.com/questions/30630120/mysql-keeps-losing-connection-during-celery-tasks/33044345#33044345", "title": "MySQL keeps losing connection during celery tasks", "body": "<p><a href=\"https://stackoverflow.com/a/18057194/961391\">Read the answer</a>. In short you have to either disable the <a href=\"http://docs.sqlalchemy.org/en/rel_0_9/core/pooling.html#switching-pool-implementations\" rel=\"nofollow noreferrer\">SQLAlchemy's Pool engine</a> or try to ping the mysql server:</p>\n\n<pre><code>from flask.ext.sqlalchemy import SQLAlchemy\nfrom sqlalchemy import event, exc\n\n\ndef instance(app):\n    \"\"\":rtype: SQLAlchemy\"\"\"\n    db = SQLAlchemy(app)\n\n    if app.testing:\n        return db\n\n    @event.listens_for(db.engine, 'checkout')\n    def checkout(dbapi_con, con_record, con_proxy):\n        try:\n            try:\n                dbapi_con.ping(False)\n            except TypeError:\n                app.logger.debug('MySQL connection died. Restoring...')\n                dbapi_con.ping()\n        except dbapi_con.OperationalError as e:\n            app.logger.warning(e)\n            if e.args[0] in (2006, 2013, 2014, 2045, 2055):\n                raise exc.DisconnectionError()\n            else:\n                raise\n\n    return db\n</code></pre>\n"}], "owner": {"reputation": 3752, "user_id": 156814, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/26ab135f873a1b065a7c3b2dbaa26c31?s=128&d=identicon&r=PG", "display_name": "BDuelz", "link": "https://stackoverflow.com/users/156814/bduelz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2440, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444413025, "creation_date": 1433363611, "last_edit_date": 1433367715, "question_id": 30630120, "link": "https://stackoverflow.com/questions/30630120/mysql-keeps-losing-connection-during-celery-tasks", "title": "MySQL keeps losing connection during celery tasks", "body": "<p>I'm trying to process an entire csv file as fast as possible, so I'm looking to process each line in parallel as a celery task. The cleanup, which is also a celery task, has to wait until every line is processed. See the example below.</p>\n\n<p>The problem is, I can't seem to get through a file because I keep running into Connection errors with MySQL. So far, I've seen these two errors: <code>2013, 'Lost connection to MySQL server during query'</code> and <code>2006, 'MySQL server has gone away'</code></p>\n\n<pre><code>from app.db.meta import Session\nfrom celery import chord, Celery\nfrom celery.signals import task_postrun\n\ncelery = Celery()\ncelery.config_from_object('config')\n\n@task_postrun.connect\ndef close_session(*args, **kwargs):\n    Session.remove()\n\ndef main():\n    # process each line in parallel\n    header = [process_line.s(line) for line in csv_file]\n    # pass stats to cleanup after all lines are processed\n    callback = cleanup.s()\n    chord(header)(callback)\n\n@celery.task\ndef process_line(line):\n    session = Session()\n    ...\n    # process line\n    ...\n    return stats\n\n@celery.task\ndef cleanup(stats):\n    session = Session()\n    ...\n    # do cleanup and log stats\n    ...\n</code></pre>\n\n<p>I'm using celery 3.1.18 and SQLAlchemy 0.9.9. I'm using connection pooling as well.</p>\n\n<pre><code>mysql&gt; SHOW FULL PROCESSLIST;                                                                  \n+----+------+-----------+-----------------+---------+------+-------+-----------------------+ \n| Id | User | Host      | db              | Command | Time | State          | Info             | \n+----+------+-----------+-----------------+---------+------+-------+-----------------------+                           \n|  1 | root | localhost | ab__development | Sleep   | 4987 |       | NULL                  |                           \n| 11 | root | localhost | ab__development | Sleep   | 1936 |       | NULL                  |                           \n| 16 | root | localhost | ab__development | Sleep   |  143 |       | NULL                  |                           \n| 17 | root | localhost | ab__development | Sleep   | 1045 |       | NULL                  |                           \n| 18 | root | localhost | NULL            | Query   |    0 | init  | SHOW FULL PROCESSLIST |                                            \n| 21 | root | localhost | ab__development | Sleep   |    7 |       | NULL                  |                           \n+----+------+-----------+-----------------+---------+------+-------+-----------------------+                           \n6 rows in set (0.01 sec)                                                                       \n</code></pre>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 4393381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8dd8949efc086d995532125e2314d8?s=128&d=identicon&r=PG&f=1", "display_name": "Mensur", "link": "https://stackoverflow.com/users/4393381/mensur"}, "is_accepted": false, "score": 0, "last_activity_date": 1433427320, "creation_date": 1433427320, "answer_id": 30646284, "question_id": 30630102, "link": "https://stackoverflow.com/questions/30630102/flask-dump-exceptions-to-debug-later/30646284#30646284", "title": "Flask - Dump exceptions to debug later", "body": "<p>You can save the complete stack trace to a file in case of exception. \nYou can create a function for your app instance that will log exceptions. In this example all exceptions in your app or sqllachemy package will be logged in \"sample.log\" file.</p>\n\n<pre><code>def log(app):\n\n    import logging\n    from logging.handlers import RotatingFileHandler\n    from logging import getLogger\n    logging._defaultFormatter = logging.Formatter(u\"%(message)s\")\n    file_handler.setLevel(logging.ERROR)\n    file_handler = RotatingFileHandler(\"sample.log\", maxBytes=1024*1024*10,     backupCount=100)\n\n    loggers = [app.logger, getLogger('sqlalchemy')]\n    for logger in loggers:\n        logger.addHandler(file_handler)\n</code></pre>\n\n<p>In the init script of your application after creating an app instance just\ncall the created function </p>\n\n<pre><code>log(app)\n</code></pre>\n"}], "owner": {"reputation": 1891, "user_id": 1386546, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/683baaac951442d4cfc0d352eaa5fd94?s=128&d=identicon&r=PG", "display_name": "rednaks", "link": "https://stackoverflow.com/users/1386546/rednaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433427320, "creation_date": 1433363527, "question_id": 30630102, "link": "https://stackoverflow.com/questions/30630102/flask-dump-exceptions-to-debug-later", "title": "Flask - Dump exceptions to debug later", "body": "<p>Sometimes in production one can experience some errors raising exceptions for example Flask. One of the solutions is to log the exception using <code>logging.exception</code>. but it's not sufficient to reproduce the issue. </p>\n\n<p>That would be nice if we can dump the exception into a file to debug later, to explore objects. do python able to do that ? something like core dump ?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 223115, "user_id": 426671, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zgBsf.jpg?s=128&g=1", "display_name": "Taryn", "link": "https://stackoverflow.com/users/426671/taryn"}, "edited": false, "score": 0, "creation_date": 1433371380, "post_id": 30630284, "comment_id": 49329652, "body": "Comments are not for extended discussion; this conversation has been <a href=\"http://chat.stackoverflow.com/rooms/79588/discussion-on-answer-by-mescalinum-parsing-binary-data-into-separate-variables-i\">moved to chat</a>."}, {"owner": {"reputation": 11, "user_id": 4971305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b768ae549595281762bd21d8dad34290?s=128&d=identicon&r=PG&f=1", "display_name": "rayn", "link": "https://stackoverflow.com/users/4971305/rayn"}, "edited": false, "score": 0, "creation_date": 1433379004, "post_id": 30630284, "comment_id": 49331956, "body": "Thanks a lot! This was insanely perfect."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 6, "last_activity_date": 1617522013, "last_edit_date": 1617522013, "creation_date": 1433364193, "answer_id": 30630284, "question_id": 30630090, "link": "https://stackoverflow.com/questions/30630090/parsing-binary-data-into-separate-variables-in-python/30630284#30630284", "title": "Parsing binary data into separate variables in Python?", "body": "<p>Use the <a href=\"https://docs.python.org/library/struct.html\" rel=\"nofollow noreferrer\"><code>struct</code> module</a>, it will also allow you to interpret the binary data in many ways; you need to define the types in a string format documented with that library:</p>\n<pre><code>struct.unpack('=HHf255s', bytes)\n</code></pre>\n<p>The above example expects native byte-order, two unsigned shorts, a float and a string of 255 characters.</p>\n<p>Your code example becomes:</p>\n<pre><code>for each_word in logData:\n    var1, var2, var3 = struct.unpack('8s16s8s', each_word)\n</code></pre>\n<p>In case you get an error <code>TypeError: 'str' does not support the buffer interface</code>, that is because <code>bytes</code> are expected, but you passed a <code>str</code>, so convert it to bytes and specify the encoding (in this example, UTF-8):</p>\n<pre><code>for each_word in logData:\n    var1, var2, var3 = struct.unpack('8s16s8s', bytes(each_word, 'utf-8'))\n</code></pre>\n<p>But maybe the case that your 8/16 byte strings are long integers? In that case use the appropriate format for struct.</p>\n<p><em>EDIT</em>: it turns out you wanted to read 8 <strong>bits</strong> (not bytes), then the next 16 bits, then the next 8 bits, so you can read it as one (unsigned?) byte, one short, and another byte. The format string you should use is <code>'=bhb'</code> (or <code>'=BHB'</code> for unsigned). Example:</p>\n<pre><code>import struct\nwith open('test.bin','rb') as f:\n    var1, var2, var3 = struct.unpack('=BHB', f.read(4))\n    print(var1, var2, var3)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4971305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b768ae549595281762bd21d8dad34290?s=128&d=identicon&r=PG&f=1", "display_name": "rayn", "link": "https://stackoverflow.com/users/4971305/rayn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 0, "accepted_answer_id": 30630284, "answer_count": 1, "score": 1, "last_activity_date": 1617522013, "creation_date": 1433363486, "last_edit_date": 1433371306, "question_id": 30630090, "link": "https://stackoverflow.com/questions/30630090/parsing-binary-data-into-separate-variables-in-python", "title": "Parsing binary data into separate variables in Python?", "body": "<p>Say I open a file in Python that contains a series of binary data.</p>\n\n<pre><code>with open(sys.argv[1]) as data_file:\n    logData = data_file.read()\n</code></pre>\n\n<p>I basically want to create a loop saying:</p>\n\n<pre><code>for each_word in logData:\n       var1 = first 8 bytes\n       var2 = next 16 bytes\n       var3 = next 8 bytes\n</code></pre>\n\n<p>C code to generate my binary file:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main(void)\n{\n        FILE *file;\n        int  buffer = 0x03000201;\n        int  buffer2= 0x010203;\n        file = fopen(\"test.bin\", \"wb\");\n\n        if (file != NULL)\n        {\n                fwrite(&amp;buffer, sizeof(buffer), 1, file);\n                fwrite(&amp;buffer2, sizeof(buffer2), 1, file);\n                fclose(file);\n        }\n\n        return 0;\n}\n</code></pre>\n\n<p>and this basically continues until the loop is over, iterating through the bytes of data. How is this possible?</p>\n"}, {"tags": ["python", "regex", "bs4"], "comments": [{"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1433363610, "post_id": 30630047, "comment_id": 49325995, "body": "are they literal <code>\\n</code> ?"}, {"owner": {"reputation": 23, "user_id": 3884238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48267ebe0ce96dc306cbe649e18ec99?s=128&d=identicon&r=PG&f=1", "display_name": "Idontgetphp", "link": "https://stackoverflow.com/users/3884238/idontgetphp"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1433366355, "post_id": 30630047, "comment_id": 49327457, "body": "no, when i copy past from the terminal to notepad++  if I search for &quot;\\n&quot; i have nothing, it&#39;s a special &#39;\\&#39; I guess. If I do print sprt[][thelastline] i have somethnig like :     Waves [NEWLINE]      of Technology: The Hidden Ideologies of Cognitive Neuroscience and the [NEWLINE] future production of the Iconic.\\xa0Panel Proposal (2)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3884238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48267ebe0ce96dc306cbe649e18ec99?s=128&d=identicon&r=PG&f=1", "display_name": "Idontgetphp", "link": "https://stackoverflow.com/users/3884238/idontgetphp"}, "edited": false, "score": 0, "creation_date": 1433366902, "post_id": 30630981, "comment_id": 49327727, "body": "They are unaffected even with &quot;raw&quot; mode"}, {"owner": {"reputation": 23, "user_id": 3884238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48267ebe0ce96dc306cbe649e18ec99?s=128&d=identicon&r=PG&f=1", "display_name": "Idontgetphp", "link": "https://stackoverflow.com/users/3884238/idontgetphp"}, "edited": false, "score": 0, "creation_date": 1433369097, "post_id": 30630981, "comment_id": 49328730, "body": "because I was looking in the wrong place... It&#39;s working with <code>raw</code>"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1433366476, "creation_date": 1433366476, "answer_id": 30630981, "question_id": 30630047, "link": "https://stackoverflow.com/questions/30630047/removing-newlines-n-with-beautifulsoup/30630981#30630981", "title": "Removing newlines (\\n) with BeautifulSoup", "body": "<pre><code>sprt[i][2] = re.sub(r\"\\n\", \"\", sprt[i][1], re.U, re.S)\n\n                   ^^\n</code></pre>\n\n<p>You can try with <code>raw</code> mode.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3884238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48267ebe0ce96dc306cbe649e18ec99?s=128&d=identicon&r=PG&f=1", "display_name": "Idontgetphp", "link": "https://stackoverflow.com/users/3884238/idontgetphp"}, "edited": false, "score": 0, "creation_date": 1433368947, "post_id": 30631428, "comment_id": 49328654, "body": "I copy/pasted the 3 paragraphs from the html source file. You are right. I was looking in the wrong place... The <code>re.sub</code> line works fine and now the parsing is perfect. Sorry it was my bad.  (I still don&#39;t understand where they come from tho)"}], "tags": [], "owner": {"reputation": 17000, "user_id": 60531, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bd24dab59beada36b501670cd01b8e2c?s=128&d=identicon&r=PG", "display_name": "UncleZeiv", "link": "https://stackoverflow.com/users/60531/unclezeiv"}, "is_accepted": true, "score": 0, "last_activity_date": 1433368333, "creation_date": 1433368333, "answer_id": 30631428, "question_id": 30630047, "link": "https://stackoverflow.com/questions/30630047/removing-newlines-n-with-beautifulsoup/30631428#30631428", "title": "Removing newlines (\\n) with BeautifulSoup", "body": "<p>I suspect the newline actually appears in the source Html file. I tried to reproduce your error using your paragraphs and I didn't get any <code>\\n</code> until I actually inserted a new line in the source file. This would also explain why it doesn't happen for other longer paragraphs: they simply don't have any actual newline in the html source file.</p>\n\n<p>Having said that, if I add your <code>re.sub</code> line I do get the newline character removed. (I get that in <code>sprt[i][2]</code> though, not <code>sprt[i][1]</code> of course - is it possible you are looking in the wrong place there?)</p>\n"}], "owner": {"reputation": 23, "user_id": 3884238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48267ebe0ce96dc306cbe649e18ec99?s=128&d=identicon&r=PG&f=1", "display_name": "Idontgetphp", "link": "https://stackoverflow.com/users/3884238/idontgetphp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1750, "favorite_count": 0, "accepted_answer_id": 30631428, "answer_count": 2, "score": 0, "last_activity_date": 1433369255, "creation_date": 1433363321, "last_edit_date": 1433369255, "question_id": 30630047, "link": "https://stackoverflow.com/questions/30630047/removing-newlines-n-with-beautifulsoup", "title": "Removing newlines (\\n) with BeautifulSoup", "body": "<p>I'm parsing an HTML page with BS4:</p>\n\n<pre><code>import re\nimport codecs\nimport MySQLdb\nfrom bs4 import BeautifulSoup\n\nsoup = BeautifulSoup(open(\"sprt.htm\"), from_encoding='utf-8')\nsprt = [[0 for x in range(3)] for x in range(300)]\ni = 0\n\nfor para in soup.find_all('p'):\n    if para.strong is not None:\n        sprt[i][0] = para.strong.get_text()\n        sprt[i][1] = para.get_text()\n        sprt[i][1] = re.sub(re.escape(sprt[i][0]), \"\", sprt[i][1], re.UNICODE)\n        sprt[i][2] = sprt[i][1]\n        sprt[i][2] = re.sub(r\".+[\\.\\?][\\s\\S\\n]\", \"\", sprt[i][1], re.S)\n        sprt[i][2] = re.sub(r\".+Panel\", \"Panel\", sprt[i][2], re.S)\n        sprt[i][1] = re.sub(re.escape(sprt[i][2]), \"\", sprt[i][1])\n\ni += 1\nx = 0\n</code></pre>\n\n<p>The page I'm parsing is filled with paragraphs like those 3:</p>\n\n<pre><code>&lt;p&gt;&lt;strong&gt;Name name. &lt;/strong&gt;The Visual Politics of Play: On The Signifying Practices of Digital Games. Panel Proposal (2p)&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Name name and Name name. &lt;/strong&gt;Pain, Art and Communication. Panel Proposal (2p)&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Name name, Name name and Name name. &lt;/strong&gt;Waves of Technology: The Hidden Ideologies of Cognitive Neuroscience and the future production of the Iconic. Panel Proposal (2p)&lt;/p&gt;\n</code></pre>\n\n<p>The parsing works properly until the last paragraph:</p>\n\n<pre><code>&lt;p&gt;&lt;strong&gt;Name name, Name name and Name name. &lt;/strong&gt;Waves of Technology: The Hidden Ideologies of Cognitive Neuroscience and the future production of the Iconic. Panel Proposal (2p)&lt;/p&gt;\n</code></pre>\n\n<p>What I find in the last slot of the array is this:</p>\n\n<pre><code>[u'Name name, Name name\\xa0and Name name.\\xa0', u'Waves\\n of Technology: The Hidden Ideologies of Cognitive Neuroscience and the \\nfuture production of the Iconic.\\xa0Panel Proposal (2p)', u'Waves\\n of Technology: The Hidden Ideologies of Cognitive Neuroscience and the \\nfuture production of the Iconic.\\xa0Panel Proposal (2p)']\n</code></pre>\n\n<p>There are two newlines (<code>\\n</code>) that appear in weird places (after <code>Waves</code> and before <code>future</code>). They always appear in the same position, not randomly.\nI thought they were due to the length of the paragraph, but there are some longer paragraphs where no <code>\\n</code> appears.</p>\n\n<p>I tried to remove them with:</p>\n\n<pre><code>sprt[i][2] = re.sub(\"\\n\", \"\", sprt[i][1], re.U, re.S)\n</code></pre>\n\n<p>But it didn't work. </p>\n\n<p>Are the newlines there because I made a mistake somewhere? Is there a way to remove them?</p>\n"}, {"tags": ["python", "file", "line", "readfile"], "comments": [{"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1433363944, "post_id": 30630003, "comment_id": 49326176, "body": "Consider using <code>Pandas</code>, then you can use the <code>.groupby(&#39;name&#39;)</code> function to look at each person individually."}], "answers": [{"comments": [{"owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433372787, "post_id": 30630485, "comment_id": 49330223, "body": "If my source file is tab delimited text file, how would I read this into the variable spl and how would the re.split function change? Thanks!"}], "tags": [], "owner": {"reputation": 2337, "user_id": 4278243, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IUMpR.jpg?s=128&g=1", "display_name": "Aleksander Monk", "link": "https://stackoverflow.com/users/4278243/aleksander-monk"}, "is_accepted": false, "score": 2, "last_activity_date": 1433364782, "creation_date": 1433364782, "answer_id": 30630485, "question_id": 30630003, "link": "https://stackoverflow.com/questions/30630003/python-read-specific-lines-in-a-text-file-based-on-a-condition/30630485#30630485", "title": "Python - Read specific lines in a text file based on a condition", "body": "<p>I think that you can solve your problem with dict.</p>\n\n<pre><code>import re\n\nspl = \"\"\"name | date | count\nJohn | 201406 | 1\nJohn | 201410 | 2\nMary | 201409 | 180\nMary | 201410 | 154\nMary | 201411 | 157\nMary | 201412 | 153\nMary | 201501 | 223\nMary | 201502 | 166\nMary | 201503 | 163\nMary | 201504 | 169\nMary | 201505 | 157\nTara | 201505 | 2\"\"\"\n\ndicto = {}\n\nlisto = re.split(\"\\\\||\\n\",spl)\nlisto = [x.strip() for x in listo]\nfor x in range(3,len(listo),3):\n    try:\n        dicto[listo[x]].append([listo[x+1],listo[x+2]])\n    except KeyError:\n        dicto[listo[x]]= []\n        dicto[listo[x]].append([listo[x+1],listo[x+2]])\n\nprint (dicto.get('John'))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['201406', '1'], ['201410', '2']]\n</code></pre>\n\n<p>So, now you have all data, for all users in your dict of dicts and you can do with them what you want</p>\n"}, {"comments": [{"owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433370121, "post_id": 30630608, "comment_id": 49329145, "body": "Does this assume that we have a header row in the txt file? What about the case where there is no header file?"}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "reply_to_user": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433370611, "post_id": 30630608, "comment_id": 49329331, "body": "Yes, this assumes the file has a header row. If there are no headers and you would like to explicitly provide column names, read in the file as follows: <code>df = pd.read_csv(&#39;input_csv.csv&#39;, names=[&#39;name&#39;,&#39;date&#39;,&#39;count&#39;])</code>"}, {"owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433371300, "post_id": 30630608, "comment_id": 49329609, "body": "Thanks. Where are we telling the program to only get the median of last 5 in names[name][&#39;last5median&#39;] = subdf[&#39;count&#39;].tail().median() ? What if I want for last 8?"}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "reply_to_user": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433371834, "post_id": 30630608, "comment_id": 49329867, "body": "The <code>.tail()</code> part returns the last 5 entries (5 is the default for tail). If you want 8, for eg., you can do <code>.tail(8)</code>. You get the point. The median is calculated using, well, the <code>.median()</code> part for the last X entries you give it in <code>.tail(X)</code>."}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "reply_to_user": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "edited": false, "score": 0, "creation_date": 1433373296, "post_id": 30630608, "comment_id": 49330392, "body": "Glad it helped! Hope this answers your question."}, {"owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "reply_to_user": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1433374510, "post_id": 30630608, "comment_id": 49330785, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79591/discussion-between-activelearner-and-vk1011\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "is_accepted": true, "score": 3, "last_activity_date": 1433390263, "last_edit_date": 1433390263, "creation_date": 1433365179, "answer_id": 30630608, "question_id": 30630003, "link": "https://stackoverflow.com/questions/30630003/python-read-specific-lines-in-a-text-file-based-on-a-condition/30630608#30630608", "title": "Python - Read specific lines in a text file based on a condition", "body": "<pre><code>import pandas as pd:\ndf = pd.read_csv('input_csv.csv') # This assumes you have a csv format file\nnames = {}\nfor name, subdf in df.groupby('name'):\n    if name not in names:\n        names[name] = {}\n    if (subdf['date']==201505).any():\n        if subdf['count'].count()==1:\n            names[name]['status'] = 'new'\n        else:\n            names[name]['status'] = 'active'\n            names[name]['last5median'] = subdf['count'].tail().median()\n    else:\n        names[name]['status'] = 'inactive'\n\n\n&gt;&gt;&gt;\n{'John': {'status': 'inactive'},\n 'Mary': {'last5median': 166.0, 'status': 'active'},\n 'Tara': {'status': 'new'}}\n</code></pre>\n"}], "owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2185, "favorite_count": 0, "accepted_answer_id": 30630608, "answer_count": 2, "score": 2, "last_activity_date": 1433390263, "creation_date": 1433363179, "question_id": 30630003, "link": "https://stackoverflow.com/questions/30630003/python-read-specific-lines-in-a-text-file-based-on-a-condition", "title": "Python - Read specific lines in a text file based on a condition", "body": "<p><strong>Problem Statement:</strong></p>\n\n<p>I have a file as below.</p>\n\n<pre><code>name | date | count\nJohn | 201406 | 1\nJohn | 201410 | 2\nMary | 201409 | 180\nMary | 201410 | 154\nMary | 201411 | 157\nMary | 201412 | 153\nMary | 201501 | 223\nMary | 201502 | 166\nMary | 201503 | 163\nMary | 201504 | 169\nMary | 201505 | 157\nTara | 201505 | 2\n</code></pre>\n\n<p>The file shows count data for three people John, Mary and Tara for a couple of months. I would like to analyze this data and come up with a status tag for each person i.e. active, inactive or new.</p>\n\n<p>A person is active if they have entries for 201505 and other previous months - like Mary</p>\n\n<p>A person is inactive if they do not have entries for 201505 - like John</p>\n\n<p>A person is new if they ONLY have 1 entry for 201505 - like Tara.</p>\n\n<p>Furthermore, if a person is active, I would like to get a median of their <strong>last</strong> 5 counts. For example, for Mary, I would like to get the mean as ((157 + 169 + 163 + 166 + 223 ) / 5).</p>\n\n<p><strong>Question:</strong></p>\n\n<p>I would like to understand how I should read this file in Python 2.7 in order to fulfill my requirements. I started with the following but was not sure how I could get previous entries (i.e. previous lines in file) for a particular person.</p>\n\n<pre><code>for line in data:\n    col = line.split('\\t')\n    name = col[0]\n    date = col[1]\n    count = col[2]\n</code></pre>\n"}, {"tags": ["python", "tkinter", "reversi"], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 3, "last_activity_date": 1433363176, "creation_date": 1433363176, "answer_id": 30629998, "question_id": 30629967, "link": "https://stackoverflow.com/questions/30629967/building-othello-game-using-tkinter-python/30629998#30629998", "title": "Building Othello game using Tkinter (Python)", "body": "<p>Draw the discs by using <code>canvas.create_oval(bbox, **options)</code>.</p>\n\n<p>Use <strong>tags</strong> to distinguish canvas items:</p>\n\n<blockquote>\n  <p>Tags are symbolic names attached to items. Tags are ordinary strings, and they can contain anything except whitespace.</p>\n</blockquote>\n\n<p>I'd suggest you tag each element (rectangle and oval) of each cell, with a tag that will allow you to recognize it.</p>\n\n<pre><code>item = canvas.create_oval(x1, x2, y1, y2, tags=(\"x=1\",\"y=3\"))\n</code></pre>\n\n<p>When an item is clicked, you can get all of its tags with</p>\n\n<pre><code>canvas.gettags(item)\n</code></pre>\n\n<p>then iterate all of its tags: if the tag starts with <code>\"x=\"</code> or with <code>\"y=\"</code>, then it contains the row/column information, which you can extract with <code>int(tagname[2:])</code></p>\n"}], "owner": {"reputation": 49, "user_id": 4971202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c962a99b6dcdea938318ddcfa9a27629?s=128&d=identicon&r=PG&f=1", "display_name": "pawawa", "link": "https://stackoverflow.com/users/4971202/pawawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2394, "favorite_count": 0, "accepted_answer_id": 30629998, "answer_count": 1, "score": 0, "last_activity_date": 1433363176, "creation_date": 1433363062, "question_id": 30629967, "link": "https://stackoverflow.com/questions/30629967/building-othello-game-using-tkinter-python", "title": "Building Othello game using Tkinter (Python)", "body": "<p>How would I go about building an Othello GUI using tkinter in python? Specifically how would I begin by making the initial four pieces show up? How do I get my board to print out the position of a piece when i select a square? So far it prints out \"[189.0, 126.0, 252.0, 189.0]\" when click on a piece. I am really just looking for guidance, any help is greatly appreciated! Here is the code I have so far.</p>\n\n<pre><code>import tkinter\nclass RA:\n    def __init__(self):\n        self._columns = 8\n        self._rows = 8\n        self._root = tkinter.Tk()\n        self._canvas = tkinter.Canvas(master = self._root,\n                                      height = 500, width = 500,\n                                      background = 'green')\n        self._canvas.pack(fill = tkinter.BOTH, expand = True)\n        self._canvas.bind('&lt;Configure&gt;',self.draw_handler)\n\n\n    def run(self):\n        self._root.mainloop()\n\n    def draw(self):\n        for c in range(self._columns):\n            for r in range(self._rows):\n                x1 = c * (column_width)\n                y1 = r * (row_height)\n                x2 = x1 + (column_width)\n                y2 = y1 + (row_height)\n\n    def clicked(self,event: tkinter.Event):\n        x = event.x\n        y = event.y\n        coordinates = self._canvas.coords(\"current\")\n        print(coordinates)\n\n    def draw(self):\n        self._canvas.delete(tkinter.ALL)\n        column_width = self._canvas.winfo_width()/self._columns\n        row_height = self._canvas.winfo_height()/self._rows\n        for  x in range(self._columns):\n            for y in range(self._rows):\n                x1 = x * column_width\n                y1 = y * row_height\n                x2 = x1 + column_width\n                y2 = y1 + row_height\n                r = self._canvas.create_rectangle(x1,y1,x2,y2,fill = 'blue')\n                self._canvas.tag_bind(r,'&lt;ButtonPress-1&gt;',self.clicked)\n\n                self._canvas.create_rectangle(x1,y1,x2,y2)\n        self._canvas.bind('&lt;Configure&gt;',self.draw_handler)\n\n\n    def draw_handler(self,event):\n        self.draw()\n\n\nr = RA()\nr.run()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1433363617, "post_id": 30629930, "comment_id": 49326002, "body": "you want <code>xor</code> by what?"}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 4273382, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd236e189dd8b635132124c6d57a6883?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4273382/jonathan"}, "edited": false, "score": 0, "creation_date": 1433363408, "post_id": 30629997, "comment_id": 49325889, "body": "Hmm, i dont have the bin method (Version 2.4.3)... i dont mind to iterate over each bit, by how do i do it?"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 245, "user_id": 4273382, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd236e189dd8b635132124c6d57a6883?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4273382/jonathan"}, "edited": false, "score": 1, "creation_date": 1433363657, "post_id": 30629997, "comment_id": 49326023, "body": "@Jonathan Ugh... nobody should still be using such an old version :-). But ok, I added another solution to my answer."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 245, "user_id": 4273382, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd236e189dd8b635132124c6d57a6883?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4273382/jonathan"}, "edited": false, "score": 1, "creation_date": 1433363810, "post_id": 30629997, "comment_id": 49326102, "body": "@Jonathan And now I added another, less easy but faster and more interesting one."}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": true, "score": 2, "last_activity_date": 1433363603, "last_edit_date": 1433363603, "creation_date": 1433363167, "answer_id": 30629997, "question_id": 30629930, "link": "https://stackoverflow.com/questions/30629930/how-to-xor-hex-value-in-python-1-bit-answer/30629997#30629997", "title": "How to xor hex value in Python (1 bit answer)", "body": "<p>Easiest? Maybe this:</p>\n\n<pre><code>bin(data).count('1') % 2\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; for data in 0x11, 0x10, 0x21, 0x23:\n        print bin(data).count('1') % 2\n\n0\n1\n0\n1\n</code></pre>\n\n<p><strong>Edit:</strong> If using an awfully old Python that doesn't have <code>bin</code>, here's a do-it-yourself solution:</p>\n\n<pre><code>for data in 0x11, 0x10, 0x21, 0x23:\n    xor = 0\n    while data:\n        xor ^= data &amp; 1\n        data &gt;&gt;= 1\n    print xor\n</code></pre>\n\n<p><strong>Edit 2:</strong> A faster and more tricky solution:</p>\n\n<pre><code>for data in 0x11, 0x10, 0x21, 0x23:\nxor = 0\nwhile data:\n    xor ^= 1\n    data &amp;= data - 1      # deletes the last 1-bit\nprint xor\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 4273382, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dd236e189dd8b635132124c6d57a6883?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4273382/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 30629997, "answer_count": 1, "score": 0, "last_activity_date": 1433363603, "creation_date": 1433362944, "question_id": 30629930, "link": "https://stackoverflow.com/questions/30629930/how-to-xor-hex-value-in-python-1-bit-answer", "title": "How to xor hex value in Python (1 bit answer)", "body": "<p>lets say i have the following variable\ndata=0xab12cd30\ni would like to get the xor over the 32 bits (for example in verilog ^data)</p>\n\n<p>for example (giving 8bit examples)</p>\n\n<p>data = 0x11 -> result should be 0</p>\n\n<p>data = 0x10 -> result shoule be 1</p>\n\n<p>data = 0x21 -> result should be 0</p>\n\n<p>data = 0x23 -> result should be 1</p>\n\n<p>What is the easiest way?\nUsing Python 2.4.3</p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "comments": [{"owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "edited": false, "score": 0, "creation_date": 1433427008, "post_id": 30629898, "comment_id": 49356009, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11898551/python-sqlalchemy-got-invalidrequesterror-after-change-class-location\">this so question</a>. Be careful, don&#39;t do <code>from database_setup import *</code>"}], "answers": [{"tags": [], "owner": {"reputation": 89167, "user_id": 3571, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG", "display_name": "codeape", "link": "https://stackoverflow.com/users/3571/codeape"}, "is_accepted": false, "score": 0, "last_activity_date": 1433433935, "creation_date": 1433433935, "answer_id": 30648823, "question_id": 30629898, "link": "https://stackoverflow.com/questions/30629898/unexpected-error-in-sqlalchemy-query/30648823#30648823", "title": "Unexpected Error in SQLAlchemy query", "body": "<p>Do not use the local variable name <code>Puppy</code> - that name is already taken for the  <code>Puppy</code> class that you import. </p>\n\n<p>I suggest you use <code>puppy</code> (all lower case) for variables in your code that represent a puppy.</p>\n\n<p>Local variables in Python should by convention use lower case: <a href=\"https://www.python.org/dev/peps/pep-0008/#method-names-and-instance-variables\" rel=\"nofollow\">https://www.python.org/dev/peps/pep-0008/#method-names-and-instance-variables</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4971257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbf1867f87d12ac0d4167d5a73aa598?s=128&d=identicon&r=PG&f=1", "display_name": "Raed", "link": "https://stackoverflow.com/users/4971257/raed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1396, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433433935, "creation_date": 1433362808, "question_id": 30629898, "link": "https://stackoverflow.com/questions/30629898/unexpected-error-in-sqlalchemy-query", "title": "Unexpected Error in SQLAlchemy query", "body": "<p>I am attempting to create a query to order a list of puppies based on weight, however it is not working and I receive the following error </p>\n\n<pre><code>sqlalchemy.exc.InvalidRequestError: SQL expression, column, or mapped entity exp\nected - got '&lt;database_setup.Puppy object at 0x02B7E590&gt;'\n</code></pre>\n\n<p>Other variables from the same class were ordered appropriately without error, my code looks as follows </p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\nfrom database_setup import *\n#from flask.ext.sqlalchemy import SQLAlchemy\nfrom random import randint\nimport datetime\nimport random\n\n\nengine = create_engine('sqlite:///puppies.db')\n\nBase.metadata.bind = engine\n\nDBSession = sessionmaker(bind=engine)\n\nsession = DBSession()\n\n\n#Format for query \n#session.query(*table*)self.filter_by(*criteria*)\n\n# 1. Query all of the puppies and return the results in ascending alphabetical order\n\n#so we call a query on the Shelter table where we order by name\nSheltersAlphabetically = session.query(Shelter).order_by(Shelter.name.desc())\n\nfor Shelter in SheltersAlphabetically:\n    print Shelter.name\n\nprint '\\n'\n# 2. Query all of the puppies that are less than 6 months old organized by the youngest first\ntoday = datetime.date.today()\n\n\nPuppiesByAge = session.query(Puppy).filter(Puppy.dateOfBirth &gt; '2014-12-03').order_by(Puppy.dateOfBirth)\n\nfor Puppy in PuppiesByAge:\n    print Puppy.dateOfBirth\n\nprint '\\n'\n\n# 3. Query all puppies by ascending weight\n\nPuppiesByWeight = session.query(Puppy).order_by(Puppy.weight)\n\nfor Puppy in PuppiesByWeight:\n    print Puppy.weight\n</code></pre>\n\n<p>my original set up file looks as follows </p>\n\n<pre><code>import os \nimport sys #provides key functions and variables\n\nfrom sqlalchemy import Column, ForeignKey, Integer, String #good for mapper ode\n\nfrom sqlalchemy.ext.declarative import declarative_base #used for config and class code\n\nfrom sqlalchemy.orm import relationship #for foreign key relationships n mampper\n\nfrom sqlalchemy import create_engine  # for config code\n\nBase = declarative_base() # an instance of class we jsut improted,\n                          #lets sql alchemy know our classes are special \n                          #sql alchemy classes, correspond to tables in databae\n\nclass Shelter (Base):\n    __tablename__ =  'shelter'\n    name = Column ( String(200), nullable = False)\n    id = Column (Integer, primary_key = True)\n    address = Column ( String(200), nullable = True)\n    city = Column ( String(100), nullable = True)\n    state = Column ( String(100), nullable = True)\n    zipCode = Column ( String(100), nullable = True)\n    website = Column ( String(200), nullable = True)\n\nclass Puppy (Base):\n    __tablename__ = 'puppy'\n    name = Column ( String(80), nullable = False)\n    id = Column (Integer, primary_key = True)\n    dateOfBirth = Column ( Integer, nullable = True)\n    breed = Column ( String(100), nullable = True)\n    gender = Column ( String(100), nullable = True)\n    picture = Column ( String(300), nullable = True)\n    weight = Column ( Integer, nullable = True)\n    shelter_id = Column ( Integer, ForeignKey('shelter.id'))\n    shelter = relationship(Shelter)\n\n#database creation and class integration\nengine = create_engine('sqlite:///puppies.db')\n\nBase.metadata.create_all(engine)\n</code></pre>\n\n<p>What can I do to avoid this error and perform the query to order the weight?</p>\n"}, {"tags": ["python", "macos", "py2app", "pyobjc"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1433366531, "post_id": 30629863, "comment_id": 49327545, "body": "can you show us the setup.py?"}, {"owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "edited": false, "score": 0, "creation_date": 1447203396, "post_id": 30629863, "comment_id": 55059101, "body": "Are you using the /same python/?"}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 1966868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUAMO.png?s=128&g=1", "display_name": "Michiel Kauw-A-Tjoe", "link": "https://stackoverflow.com/users/1966868/michiel-kauw-a-tjoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1434649007, "creation_date": 1434649007, "answer_id": 30922070, "question_id": 30629863, "link": "https://stackoverflow.com/questions/30629863/terminal-says-pyobjctools-doesnt-exist-when-it-does/30922070#30922070", "title": "Terminal says &quot;PyObjCTools&quot; doesn&#39;t exist when it does", "body": "<p>If it's access to the PyObjCTools functionality you want, you should import it the Python way, for example:</p>\n\n<pre><code>from PyObjCTools import AppHelper\n</code></pre>\n\n<p>If you need to access actual files, it's possible to force <code>py2app</code> to add files using the setup <code>data_files</code> options. For example:</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\napp=['main.py'],\nname=\"App Name\",\ndata_files=['/path/to/folder'],\nsetup_requires=['py2app'],\noptions=dict(py2app=dict(iconfile='en.lproj/icon.icns',\n                         includes=['includename'],\n                         packages=['packagename']\n                         )   \n             )   \n)\n</code></pre>\n\n<p>After a rebuild the files are located inside the Cocoa bundle <strong>Resources</strong> folder, which you can find using the <code>resourcePath()</code> function:</p>\n\n<pre><code>NSBundle.mainBundle().resourcePath()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4971265, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NEdk_pos8Ic/AAAAAAAAAAI/AAAAAAAAAD4/bFEw0Jd_8vA/photo.jpg?sz=128", "display_name": "Katie Imhof", "link": "https://stackoverflow.com/users/4971265/katie-imhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1434649007, "creation_date": 1433362687, "question_id": 30629863, "link": "https://stackoverflow.com/questions/30629863/terminal-says-pyobjctools-doesnt-exist-when-it-does", "title": "Terminal says &quot;PyObjCTools&quot; doesn&#39;t exist when it does", "body": "<p>I am attempting to build a Python application on OSX 10.10, I have used MacPorts to install all dependencies and have used PyCharm to write the application. When I run it from PyCharm everything works fine, but when I try to run the build script, when it comes to the py2app part it tells me that the directory \".../PyObjC/PyObjCTools\" isn't there, but I can navigate to it in Finder and it's very clearly there. Does anyone have any idea what my problem could be? I've been running around in circles with this for a week now.</p>\n"}, {"tags": ["python", "python-2.7", "selenium", "selenium-webdriver", "element"], "comments": [{"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1433362861, "post_id": 30629806, "comment_id": 49325588, "body": "Please provide the corresponding <code>html</code>. Selector of any element depends on the structure of <code>html</code>"}, {"owner": {"reputation": 83, "user_id": 4954162, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1e8271d1b5abba0a7ba34a5d6d7bb2d?s=128&d=identicon&r=PG&f=1", "display_name": "Shadylamp", "link": "https://stackoverflow.com/users/4954162/shadylamp"}, "reply_to_user": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1433363556, "post_id": 30629806, "comment_id": 49325970, "body": "Sorry, what exactly do you mean by html? Do you mean a link to the website or the part of the html that pertains to the item?"}, {"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "edited": false, "score": 0, "creation_date": 1433363619, "post_id": 30629806, "comment_id": 49326005, "body": "The <i>part of the html that pertains to the item</i> and the related parent node should be enough to explain the selector and how to find that uniquely"}, {"owner": {"reputation": 22674, "user_id": 1173729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99644be0e1bf1be8123b845d9ff539b1?s=128&d=identicon&r=PG&f=1", "display_name": "Arran", "link": "https://stackoverflow.com/users/1173729/arran"}, "edited": false, "score": 0, "creation_date": 1433368135, "post_id": 30629806, "comment_id": 49328290, "body": "Being unique is one thing, but is it a format your test can expect? Seems totally random to me, which is useless for your tests."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4954162, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1e8271d1b5abba0a7ba34a5d6d7bb2d?s=128&d=identicon&r=PG&f=1", "display_name": "Shadylamp", "link": "https://stackoverflow.com/users/4954162/shadylamp"}, "edited": false, "score": 0, "creation_date": 1433365892, "post_id": 30630666, "comment_id": 49327209, "body": "Thank you very much for your input! This is helpful. And yes, the code does seem non-standard and hard to automate. I&#39;ll just have to try and do my best at it."}, {"owner": {"reputation": 83, "user_id": 4954162, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1e8271d1b5abba0a7ba34a5d6d7bb2d?s=128&d=identicon&r=PG&f=1", "display_name": "Shadylamp", "link": "https://stackoverflow.com/users/4954162/shadylamp"}, "edited": false, "score": 0, "creation_date": 1433374401, "post_id": 30630666, "comment_id": 49330753, "body": "Sorry Saifur, I forgot to ask. How could I implement the search for a data-id number?"}], "tags": [], "owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "is_accepted": false, "score": 0, "last_activity_date": 1433365975, "last_edit_date": 1433365975, "creation_date": 1433365382, "answer_id": 30630666, "question_id": 30629806, "link": "https://stackoverflow.com/questions/30629806/what-is-a-unique-identifier-and-how-to-use-it-to-select/30630666#30630666", "title": "What is a unique identifier and how to use it to select?", "body": "<p>I am not sure how easy it will be to automate the scenario based on the <code>html</code> structure like this. I would suggest you to talk to the devs to see if they can add some kind of ids to each parent <code>div</code> otherwise the selector will be too brittle. I also see the <code>data-id</code> attribute is unique in every case so that could be your best bet if you somehow know the ids beforehand. If you do not have any other options then css <code>nth-child()</code> function is the next most reliable mechanism. But, in that case you have to know the parent. <code>nth-child()</code> is well explained <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child\" rel=\"nofollow\">here</a></p>\n\n<p>On the other hand, if the intention is to find the second <code>data-slot</code> you can use the following <code>xpath</code>:</p>\n\n<pre><code>//div[@data-slot='primary'][2]\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4954162, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1e8271d1b5abba0a7ba34a5d6d7bb2d?s=128&d=identicon&r=PG&f=1", "display_name": "Shadylamp", "link": "https://stackoverflow.com/users/4954162/shadylamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1433366131, "creation_date": 1433362521, "last_edit_date": 1433366131, "question_id": 30629806, "link": "https://stackoverflow.com/questions/30629806/what-is-a-unique-identifier-and-how-to-use-it-to-select", "title": "What is a unique identifier and how to use it to select?", "body": "<p>I use Selenium and I am trying to automate a task on a website and in order to select an item I have to use this:</p>\n\n<pre><code>select = driver.find_element_by_*whatever* \n</code></pre>\n\n<p>However, all the <em>whatevers</em> like <code>find_element_by_id</code>, by name, by tag name etc. are either unavailable or are shared by several items. The only one that seems to be unique to each item is a \"data-id\" number but there isn't a <code>find_element_by_data_id</code> function as far as I know.</p>\n\n<p>I can get a unique identifier which looks like this:</p>\n\n<pre><code>div.item:nth-child(453)\n</code></pre>\n\n<p>It seems to fit since it doesn't change when I reload the page and is unique to only one item.</p>\n\n<p>How can I use this unique identifier to select the object? Alternatively, could you suggest a way of how I could select the desired item?</p>\n\n<p>Here's the HTML pertaining to the object:</p>\n\n<pre><code>    ...\n&lt;/div&gt;\n&lt;div data-id=\"3817366931\"\n     data-slot=\"secondary\"\n     data-classes=\"pyro\"\n     data-content=\"Level: 30&lt;br/&gt;\"\n     data-appid=\"440\"\n     class=\"item hoverable quality6   app440\"\n     style=\"opacity:1;background-image:url(https://steamcdn-a.akamaihd.net/apps/440/icons/c_drg_manmelter.b76b87bda3242806c05a6201a4024a560269e805.png);\"\n     data-title=\"Manmelter\"\n     data-defindex=\"595\"&gt;\n&lt;/div&gt;\n&lt;div data-id=\"3820690816\"\n     data-slot=\"primary\"\n     data-classes=\"pyro\"\n     data-content=\"Level: 10&lt;br/&gt;\"\n     data-appid=\"440\"\n     class=\"item hoverable quality6   app440\"\n     style=\"opacity:1;background-image:url(https://steamcdn-a.akamaihd.net/apps/440/icons/c_drg_phlogistinator.99b83086e28b2f85ed4c925ac5e3c6e123289aec.png);\"\n     data-title=\"Phlogistinator\"\n     data-defindex=\"594\"&gt;\n&lt;/div&gt;\n&lt;div data-id=\"3819377317\"\n     data-slot=\"primary\"\n     data-classes=\"pyro\"\n     data-content=\"Level: 10&lt;br/&gt;\"\n     data-appid=\"440\"\n     class=\"item hoverable quality6   app440\"\n     style=\"opacity:1;background-image:url(https://steamcdn-a.akamaihd.net/apps/440/icons/c_drg_phlogistinator.99b83086e28b2f85ed4c925ac5e3c6e123289aec.png);\"\n     data-title=\"Phlogistinator\"\n     data-defindex=\"594\"&gt;\n</code></pre>\n\n<p>So the items in the two bottom boxes are the same. The one at the top is different. Let's I would like a way to select the item in the second box.</p>\n"}, {"tags": ["python", "typeerror"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 8, "creation_date": 1433362697, "post_id": 30629805, "comment_id": 49325507, "body": "After the first iteration, <code>latlong</code> is now <code>[(42.19, -71.42), 43.19]</code>, therefore you cannot do <code>latlong[-1][0]</code> a second time."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1433363057, "post_id": 30629805, "comment_id": 49325704, "body": "You would need to add 0.01, not 1, at each step, but you&#39;re going to run into floating-point precision issues."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 0, "last_activity_date": 1433363158, "creation_date": 1433363158, "answer_id": 30629992, "question_id": 30629805, "link": "https://stackoverflow.com/questions/30629805/float-object-not-subscriptable/30629992#30629992", "title": "&quot;Float&quot; object not subscriptable", "body": "<p>If I understand what you are shooting for, you want a grid with bounded latitudes and longitudes? Then you could do something like</p>\n\n<pre><code>import itertools\nlongs = [-i / 100.0 for i in range(7087, 7142)]\nlats = [i / 100.0 for i in range(4219, 4254)]\nlatlong = list(itertools.product(lats, longs))\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[(42.19, -70.87), (42.19, -70.88), (42.19, -70.89), ...\n ...\n (42.28, -70.87), (42.28, -70.88), (42.28, -70.89), ...\n ...\n ... (42.53, -71.39), (42.53, -71.4), (42.53, -71.41)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2291, "user_id": 1500214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cb16a7a9af0cfbe5ad85848024b4cfa?s=128&d=identicon&r=PG", "display_name": "Vynce", "link": "https://stackoverflow.com/users/1500214/vynce"}, "is_accepted": false, "score": 0, "last_activity_date": 1433363626, "creation_date": 1433363626, "answer_id": 30630125, "question_id": 30629805, "link": "https://stackoverflow.com/questions/30629805/float-object-not-subscriptable/30630125#30630125", "title": "&quot;Float&quot; object not subscriptable", "body": "<p>The last item in <code>latlong</code> is a float; floats are not subscriptable. However, your question is unclear. </p>\n\n<p>If your question is \"Why isn't a float subscriptable?\" then I would ask what you think subscripting a float should do.  </p>\n\n<p>If your question is \"Why does it think I'm trying to subscript a float?\" then the answer is that you're looking at the last item of latlong, which is now a float, because you appended one; perhaps you meant to append (latlong[-1][0]+1, latlong[-1][1]) instead.</p>\n\n<p>If your question is \"How could I better approach this problem?\" then I'd advise a list comprehension, one of python's great strengths. Observe what this does:  </p>\n\n<pre><code>latLongList = [(lat/10., long/10.) for lat in range(128,135) for long in range(237,243)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11225, "user_id": 3718878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/392829bf28778fcbb8ae53033c98df8c?s=128&d=identicon&r=PG&f=1", "display_name": "Zenadix", "link": "https://stackoverflow.com/users/3718878/zenadix"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364228, "creation_date": 1433364228, "answer_id": 30630295, "question_id": 30629805, "link": "https://stackoverflow.com/questions/30629805/float-object-not-subscriptable/30630295#30630295", "title": "&quot;Float&quot; object not subscriptable", "body": "<p>You can use 2 nested loops.</p>\n\n<pre><code>latlong = []\n\nfor lat in range(4219, 4254 + 1):\n    for lng in range(-7142, -7087 + 1):\n        latlong.append((lat*0.01, lng*0.01))\n</code></pre>\n\n<p>I'm using whole numbers and then multiplying them by 0.01, because the <code>range</code> function only accepts whole numbers.</p>\n\n<p>Output:</p>\n\n<pre><code>(42.19, -71.42)\n(42.19, -71.41)\n(42.19, -71.4)\n(42.19, -71.39)\n(42.19, -71.38)\n...\n(42.54, -70.9)\n(42.54, -70.89)\n(42.54, -70.88)\n(42.54, -70.87)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2753, "user_id": 2122215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLDsu.jpg?s=128&g=1", "display_name": "Jazzer", "link": "https://stackoverflow.com/users/2122215/jazzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364415, "creation_date": 1433364415, "answer_id": 30630362, "question_id": 30629805, "link": "https://stackoverflow.com/questions/30629805/float-object-not-subscriptable/30630362#30630362", "title": "&quot;Float&quot; object not subscriptable", "body": "<p>You can accomplish this with a simple list comprehension:</p>\n\n<pre><code>latlong = [(lat/100, lon/100) for lat in range(4219, 4255) for lon in range(-7142, -7086)]\n</code></pre>\n\n<p>You can find more on list comprehensions (and the language in general) <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4971241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f9f922b52421bd28b057110e512af32?s=128&d=identicon&r=PG&f=1", "display_name": "midwesteryid", "link": "https://stackoverflow.com/users/4971241/midwesteryid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 1, "accepted_answer_id": 30629992, "answer_count": 4, "score": 0, "last_activity_date": 1433365773, "creation_date": 1433362517, "last_edit_date": 1433365773, "question_id": 30629805, "link": "https://stackoverflow.com/questions/30629805/float-object-not-subscriptable", "title": "&quot;Float&quot; object not subscriptable", "body": "<p>I have looked all over, and have not found my answer.</p>\n\n<p>What I am trying to do is create a list of every longitude from 71.42 W to 70.87 W, and every latitude from 42.19 N to 42.54 N for every 1/100th of a latitude/longitude.</p>\n\n<blockquote>\n  <p>So, kind of like:</p>\n\n<pre><code>(42.19, -71.42)\n\n(42.19, -71.43)\n\n(42.19, -71.44)\n</code></pre>\n  \n  <p><strong>...</strong></p>\n\n<pre><code>(42.20, -71.42)\n\n(42.20, -71.43)\n</code></pre>\n  \n  <p>etc.,</p>\n</blockquote>\n\n<p>My code looks like this so far: </p>\n\n<pre><code>latlong = [(42.19, -71.42)]\n\nwhile latlong[-1][0] &lt; 42.54:\n    latlong.append(latlong[-1][0] + 1)\n\nprint(latlong)\n</code></pre>\n\n<p>The problem is that when I try this code, (which currently is only supposed to do longitude,) I get a <code>TypeError: 'Float' object is not subscriptable.</code></p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: ANSWERED! Thanks, CoryCramer</p>\n"}, {"tags": ["python", "macos", "hidden-files"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 1, "creation_date": 1433362739, "post_id": 30629775, "comment_id": 49325529, "body": "It works fine for me; how are you defining <code>file_path</code>?"}, {"owner": {"reputation": 578, "user_id": 1413326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Mqy8u.jpg?s=128&g=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/1413326/arash"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1433363372, "post_id": 30629775, "comment_id": 49325864, "body": "Ooops. The folder I was testing it with, was originally unhidden while I was assuming it is hidden...."}, {"owner": {"reputation": 578, "user_id": 1413326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Mqy8u.jpg?s=128&g=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/1413326/arash"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 1, "creation_date": 1433363388, "post_id": 30629775, "comment_id": 49325877, "body": "You are right, it works"}], "owner": {"reputation": 578, "user_id": 1413326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Mqy8u.jpg?s=128&g=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/1413326/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 658, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1433363736, "creation_date": 1433362425, "last_edit_date": 1433363736, "question_id": 30629775, "link": "https://stackoverflow.com/questions/30629775/setting-hidden-status-in-mac-with-python", "title": "setting hidden status in Mac with Python", "body": "<p>To toggle the hidden status of a file on Mac OSX in python, I use the following code:</p>\n\n<pre><code>st = os.stat(file_path)\nos.chflags(file_path, st.st_flags ^ stat.UF_HIDDEN)\n</code></pre>\n\n<p>This works perfectly for \"files\" but does not work for \"folders\".\nNote that I am not talking about files or folders that start with \".\"</p>\n\n<hr>\n\n<p>EDIT:\nThe above code works for both files and folder, I made a mistake in my assumption...</p>\n"}, {"tags": ["python", "python-3.x", "urllib"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1433363139, "post_id": 30629735, "comment_id": 49325741, "body": "You say, &quot;the url that it seems to choke on is...&quot;.  Can you verify that?  I see a <code>print(url)</code> in your except block, but I don&#39;t see this output in your question.  If you isolate the row containing that URL in a separate file, can you reproduce the error? Can you post that row in your question?"}, {"owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1433363250, "post_id": 30629735, "comment_id": 49325811, "body": "Yes, that is the line that is output from the print in the except block."}, {"owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1433363407, "post_id": 30629735, "comment_id": 49325887, "body": "I should also mention that that is the first URL in the file that I process, and if I remove it gives me the same error with the next url."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1433365958, "post_id": 30629735, "comment_id": 49327250, "body": "It works for me, for the given url, with a simple <code>from urllib.request import urlretrieve; urlretrieve(&quot; http:&#47;&#47;phytoimages.siu.edu&#47;users&#47;vitt&#47;10_27_06_2&#47;Equisetumar&zwnj;&#8203;vense.JPG&quot;)</code>. So there must be something else wrong. Can you do a <code>print(repr(url))</code>?"}, {"owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "edited": false, "score": 0, "creation_date": 1433366268, "post_id": 30629735, "comment_id": 49327411, "body": "Hmm.  It gives me <code>&#39;\\ufeffhttp:&#47;&#47;phytoimages.siu.edu&#47;users&#47;vitt&#47;10_27_06_2&#47;Equi&zwnj;&#8203;setumarvense.JPG&#39;</code>.  <a href=\"http://www.fileformat.info/info/unicode/char/feff/index.htm\" rel=\"nofollow noreferrer\">\\uffef</a>.  Not sure how that got there."}], "answers": [{"comments": [{"owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "edited": false, "score": 0, "creation_date": 1433364968, "post_id": 30630444, "comment_id": 49326713, "body": "I fail to see how that would help me.  <a href=\"https://docs.python.org/3.4/library/urllib.parse.html#urllib.parse.urlencode\" rel=\"nofollow noreferrer\">urlencode is for encoding a dictionary or similar.</a>  I&#39;m just trying to get the file at a certain url."}], "tags": [], "owner": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364639, "creation_date": 1433364639, "answer_id": 30630444, "question_id": 30629735, "link": "https://stackoverflow.com/questions/30629735/python3-urlerror-unknown-url-type-http/30630444#30630444", "title": "python3 URLError unknown url type http", "body": "<p>Check this code snippet</p>\n\n<pre><code>&gt;&gt;&gt; import urllib.parse\n&gt;&gt;&gt; urllib.parse.quote(':')\n'%3A'\n</code></pre>\n\n<p>As you can see urllib interprets the ':' character strangely. Which coincidentally is where your program hangs up on you.</p>\n\n<p>Try <code>urllib.parse.urlencode()</code> that should put you on the right track.</p>\n"}, {"tags": [], "owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "is_accepted": true, "score": 0, "last_activity_date": 1433366796, "creation_date": 1433366796, "answer_id": 30631072, "question_id": 30629735, "link": "https://stackoverflow.com/questions/30629735/python3-urlerror-unknown-url-type-http/30631072#30631072", "title": "python3 URLError unknown url type http", "body": "<p>After some help from the comments I found the solution.  It appears that the problem was the csv module being tripped up on the byte order mark (BOM).  I was able to fix it by opening the file with <code>encoding='utf-8-sig'</code> as suggest <a href=\"https://bugs.python.org/issue7185\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 745, "user_id": 2486737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8e8e8b274f5e20cf209b28f8b8b6?s=128&d=identicon&r=PG", "display_name": "Aereaux", "link": "https://stackoverflow.com/users/2486737/aereaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3396, "favorite_count": 0, "accepted_answer_id": 30631072, "answer_count": 2, "score": 1, "last_activity_date": 1433366796, "creation_date": 1433362288, "last_edit_date": 1433363514, "question_id": 30629735, "link": "https://stackoverflow.com/questions/30629735/python3-urlerror-unknown-url-type-http", "title": "python3 URLError unknown url type http", "body": "<p>I am trying to use urllib.request.urlretrieve along with the multiprocessing module to download some files and do some processing on them.  However, each time I try to run my program, it gives me the error:</p>\n\n<pre><code>multiprocessing.pool.RemoteTraceback: \n\"\"\"\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 119, in worker\n    result = (True, func(*args, **kwds))\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 44, in mapstar\n    return list(map(*args))\n  File \"./thumb.py\", line 13, in download_and_convert\n    filename, headers = urlretrieve(url)\n  File \"/usr/lib/python3.4/urllib/request.py\", line 186, in urlretrieve\n    with contextlib.closing(urlopen(url, data)) as fp:\n  File \"/usr/lib/python3.4/urllib/request.py\", line 161, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/usr/lib/python3.4/urllib/request.py\", line 463, in open\n    response = self._open(req, data)\n  File \"/usr/lib/python3.4/urllib/request.py\", line 486, in _open\n    'unknown_open', req)\n  File \"/usr/lib/python3.4/urllib/request.py\", line 441, in _call_chain\n    result = func(*args)\n  File \"/usr/lib/python3.4/urllib/request.py\", line 1252, in unknown_open\n    raise URLError('unknown url type: %s' % type)\nurllib.error.URLError: &lt;urlopen error unknown url type: http&gt;\n\"\"\"\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"./thumb.py\", line 27, in &lt;module&gt;\n    pool.map(download_and_convert, enumerate(csvr))\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 260, in map\n    return self._map_async(func, iterable, mapstar, chunksize).get()\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 599, in get\n    raise self._value\nurllib.error.URLError: &lt;urlopen error unknown url type: http&gt;\n</code></pre>\n\n<p>The url that it seems to choke on is <code>http://phytoimages.siu.edu/users/vitt/10_27_06_2/Equisetumarvense.JPG</code>.  Here is my code:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom subprocess import Popen\nfrom sys import argv, stdin\nimport csv\nfrom multiprocessing import Pool\nfrom urllib.request import urlretrieve\n\ndef download_and_convert(args):\n    num, url_list = args\n    url = url_list[0]\n    try:\n        filename, headers = urlretrieve(url)\n    except:\n        print(url)\n        raise\n    Popen([\"convert\", filename, \"-resize\", \"250x250\",\\\n           str(num)+'.'+url.split('.')[-1]])\n\nif __name__ == \"__main__\":\n    csvr = csv.reader(open(argv[1]))\n\n    if(len(argv) &gt; 2): nprocs = argv[2]\n    else: nprocs = None\n\n    pool = Pool(processes=nprocs)\n    pool.map(download_and_convert, enumerate(csvr))\n</code></pre>\n\n<p>I have no idea why this error is ocurring.  Could it be because I am using multiprocessing?  If anyone could help me, it would be much appreciated.</p>\n\n<p>Edit: This is the first url it tries to process, and it doesn't change the error if I change it.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433362274, "post_id": 30629722, "comment_id": 49325235, "body": "<code>type(items)</code> will <i>always</i> be <code>str</code>, it won&#39;t be <code>int</code> unless you convert it to such."}, {"owner": {"reputation": 401, "user_id": 4815263, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/5f3e8477baa979d4130e3c5c9ca40957?s=128&d=identicon&r=PG&f=1", "display_name": "satyaki", "link": "https://stackoverflow.com/users/4815263/satyaki"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433362483, "post_id": 30629722, "comment_id": 49325355, "body": "How do i figure out the type of the column ?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433362517, "post_id": 30629722, "comment_id": 49325378, "body": "<code>if items.isdigit()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1433362588, "post_id": 30629812, "comment_id": 49325428, "body": "If you wanted to do something like this you should be more specific <code>except ValueError:</code>"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433362673, "post_id": 30629812, "comment_id": 49325492, "body": "@CoryKramer - yes thats right ! I just put a comment there for him to handle it however he wants."}], "tags": [], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "is_accepted": false, "score": 0, "last_activity_date": 1433362535, "creation_date": 1433362535, "answer_id": 30629812, "question_id": 30629722, "link": "https://stackoverflow.com/questions/30629722/how-to-get-the-data-type-of-a-csv-file-using-python/30629812#30629812", "title": "How to get the data type of a csv file using Python", "body": "<p>You can only read it as a <code>string</code> and then typecast that to <code>int</code></p>\n\n<p>converting <code>string</code> to <code>int</code></p>\n\n<pre><code>def str2int(str):\n    try : \n        return int(str)\n    except : # handle this exception correctly\n        print \"error in str2int()\"\n\nprint str2int(\"100\")\nprint type(str2int(\"100\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1433363097, "last_edit_date": 1433363097, "creation_date": 1433362686, "answer_id": 30629862, "question_id": 30629722, "link": "https://stackoverflow.com/questions/30629722/how-to-get-the-data-type-of-a-csv-file-using-python/30629862#30629862", "title": "How to get the data type of a csv file using Python", "body": "<p>I'm not familiar with <code>csvkit</code> but it seems that you didn't iterate over your rows, and <code>items</code> is just the rows. also you can not check the type with <code>type(items) == int</code> because <code>items</code> would be tuple. instead you need to loop over your items and check with <code>str.isdigit</code></p>\n\n<pre><code>for items in header:\n   for it in items :\n      if it.isdigit():\n        print it\n</code></pre>\n\n<p>Or you can use <code>filter</code> for example :</p>\n\n<pre><code>&gt;&gt;&gt; filter(lambda x: x.isdigit(),['101','4/14/2015','1','21'])\n['101', '1', '21']\n</code></pre>\n\n<p>or you can also use a list comprehension :</p>\n\n<pre><code>[it if it.isdigit() for items in header for it in items]\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 4815263, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/5f3e8477baa979d4130e3c5c9ca40957?s=128&d=identicon&r=PG&f=1", "display_name": "satyaki", "link": "https://stackoverflow.com/users/4815263/satyaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1109, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433363097, "creation_date": 1433362239, "question_id": 30629722, "link": "https://stackoverflow.com/questions/30629722/how-to-get-the-data-type-of-a-csv-file-using-python", "title": "How to get the data type of a csv file using Python", "body": "<p>I have the following data in a csv file:--</p>\n\n<pre><code>User_ID Date    Num_1   Comp_ID\n101 4/14/2015   1   21\n102 5/12/2014   11  1\n</code></pre>\n\n<p>Each column has a type.</p>\n\n<p>I want to extract and manipulate the columns which has int data type.</p>\n\n<p>Not sure why the following code is not working.</p>\n\n<pre><code>import csvkit\nfile_name ='file.csv'\nwith open(file_name,'r') as f:\n    reader=csvkit.reader(f)\n    header = reader.next()\n    for items in header:\n        if type(items) == int:\n            print row\n</code></pre>\n\n<p>I am not getting any output when I run this.</p>\n"}, {"tags": ["python", "sql", "qt", "sqlite", "pyqt"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 4922093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096f136a8da0b98ab323b78dceda8470?s=128&d=identicon&r=PG&f=1", "display_name": "aliaoca", "link": "https://stackoverflow.com/users/4922093/aliaoca"}, "is_accepted": false, "score": 1, "last_activity_date": 1433367745, "creation_date": 1433367745, "answer_id": 30631282, "question_id": 30629681, "link": "https://stackoverflow.com/questions/30629681/qsqldatabase-failing-to-open-with-no-useful-information-using-lasterror/30631282#30631282", "title": "QSqlDatabase failing to open with no useful information using lastError()", "body": "<p>Dumb mistake by me. Fixed by setting a database name using QtSql.QSqlDatabase.setDatabaseName(\"name_here.db\")</p>\n"}], "owner": {"reputation": 126, "user_id": 4922093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096f136a8da0b98ab323b78dceda8470?s=128&d=identicon&r=PG&f=1", "display_name": "aliaoca", "link": "https://stackoverflow.com/users/4922093/aliaoca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433367745, "creation_date": 1433362101, "question_id": 30629681, "link": "https://stackoverflow.com/questions/30629681/qsqldatabase-failing-to-open-with-no-useful-information-using-lasterror", "title": "QSqlDatabase failing to open with no useful information using lastError()", "body": "<p>I'm having trouble opening a QSqlDatabase (QSQLITE) in PyQT, and I don't seem to be getting a useful error telling me why it's failing. I'm using Python 3.4.3 and PyQt 4.11.3.</p>\n\n<p>Here's a snippet of my code that I quickly hacked together just to try and get the thing working:</p>\n\n<pre><code>def __init__(self):\n    self.__database = QtSql.QSqlDatabase.addDatabase(\"QSQLITE\")\n\n    if self.__database.isValid():\n        print(\"DB is Valid\")\n    else:\n        print(\"DB is Not Valid\")\n\n    if not self.__database.open():\n        print(\"Could not open database.\")\n        print(\"Text: \" + self.__database.lastError().text())\n        print(\"Type: \" + str(self.__database.lastError().type()))\n        print(\"Number: \" + str(self.__database.lastError().number()))\n\n    query = QtSql.QSqlQuery(self.__database)\n    query.exec(\"create table person (id int primary key, firstname varchar(20), lastname varchar(20))\");\n    query.exec(\"insert into person values(101, 'Danny', 'Young')\");\n    query.exec(\"insert into person values(102, 'Christine', 'Holand')\");\n    query.exec(\"insert into person values(103, 'Lars', 'Gordon')\");\n</code></pre>\n\n<p>And here's the output when the above is ran:</p>\n\n<p>DB is Valid</p>\n\n<p>Could not open database.</p>\n\n<p>Text:  </p>\n\n<p>Type: 0</p>\n\n<p>Number: -1</p>\n\n<p>QSqlQuery::exec: database not open</p>\n\n<p>QSqlQuery::exec: database not open</p>\n\n<p>QSqlQuery::exec: database not open</p>\n\n<p>QSqlQuery::exec: database not open</p>\n\n<p>Any direction would be much appreciated! It's frustrating that the error messages aren't useful at all.</p>\n"}, {"tags": ["python", "pymc3"], "comments": [{"owner": {"reputation": 1721, "user_id": 2610971, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98c35e22a5c8c92bb066efb332e30991?s=128&d=identicon&r=PG", "display_name": "Peadar Coyle", "link": "https://stackoverflow.com/users/2610971/peadar-coyle"}, "edited": false, "score": 0, "creation_date": 1433367007, "post_id": 30629672, "comment_id": 49327776, "body": "Thanks Thomas. I will have a play"}], "answers": [{"tags": [], "owner": {"reputation": 1256, "user_id": 2288595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25bc1a4b9096cf335e0c83404ffac26e?s=128&d=identicon&r=PG", "display_name": "twiecki", "link": "https://stackoverflow.com/users/2288595/twiecki"}, "is_accepted": true, "score": 3, "last_activity_date": 1433363987, "creation_date": 1433363987, "answer_id": 30630230, "question_id": 30629672, "link": "https://stackoverflow.com/questions/30629672/setting-deterministic-distributions-in-pymc3/30630230#30630230", "title": "Setting deterministic distributions in PyMC3", "body": "<p>Yes, determinstic transformations need to be theano expressions in pymc3. So instead of using np.exp you'd use theano.tensor.exp:</p>\n\n<pre><code>import theano.tensor as T\nimport pymc3 as pm\n\nwith Model():\n    ...\n    regression = pm.Deterministic('regression', T.exp(intercept + atts[away_team] + defs[home_team]))\n    ...\n</code></pre>\n"}], "owner": {"reputation": 1721, "user_id": 2610971, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/98c35e22a5c8c92bb066efb332e30991?s=128&d=identicon&r=PG", "display_name": "Peadar Coyle", "link": "https://stackoverflow.com/users/2610971/peadar-coyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 1, "accepted_answer_id": 30630230, "answer_count": 1, "score": 2, "last_activity_date": 1434096971, "creation_date": 1433362064, "last_edit_date": 1434096971, "question_id": 30629672, "link": "https://stackoverflow.com/questions/30629672/setting-deterministic-distributions-in-pymc3", "title": "Setting deterministic distributions in PyMC3", "body": "<p>I'm new to PyMC3 \nHere is some PyMC2 - do I need to do something specific like compile in Theano to convert this to PyMC3 code?    </p>\n\n<pre><code> @pymc.deterministic\n    def away_theta(home_team=home_team, \n                   away_team=away_team, \n                   home=home, \n                   atts=atts, \n                   defs=defs, \n                   intercept=intercept): \n        return np.exp(intercept + \n                      atts[away_team] + \n                      defs[home_team])   \n</code></pre>\n\n<p>I get an error like</p>\n\n<pre><code>AsTensorError: ('Cannot convert home_theta to TensorType', &lt;class 'pymc.PyMCObjects.Deterministic'&gt;)\n</code></pre>\n"}, {"tags": ["python", "django", "webserver", "real-time", "pubnub"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433427076, "post_id": 30632835, "comment_id": 49356083, "body": "I am using version 3.7.1 of the SDK in python 3.4.3."}, {"owner": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433427344, "post_id": 30632835, "comment_id": 49356292, "body": "I am developing on a macbook pro. How do I check if the clock is set to NTP?"}, {"owner": {"reputation": 2397, "user_id": 970193, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/P9LJb.png?s=128&g=1", "display_name": "Geremy", "link": "https://stackoverflow.com/users/970193/geremy"}, "reply_to_user": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433441627, "post_id": 30632835, "comment_id": 49365696, "body": "Date and Time Preferences -&gt; &quot;Set date and time automatically&quot;"}, {"owner": {"reputation": 2397, "user_id": 970193, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/P9LJb.png?s=128&g=1", "display_name": "Geremy", "link": "https://stackoverflow.com/users/970193/geremy"}, "reply_to_user": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433441666, "post_id": 30632835, "comment_id": 49365716, "body": "If the NTP trick doesnt work, ping us at support@pubnub.com and we&#39;ll work together to figure it out."}, {"owner": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433524063, "post_id": 30632835, "comment_id": 49406204, "body": "There were problems using version 3.7.1 of the SDK in python 3.4.3. They were addressed by Pubnub&#39;s developers some time last night and it seems to have been resolved in their development code. I guess they will put it into the production code some time in the near future."}, {"owner": {"reputation": 2397, "user_id": 970193, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/P9LJb.png?s=128&g=1", "display_name": "Geremy", "link": "https://stackoverflow.com/users/970193/geremy"}, "reply_to_user": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "edited": false, "score": 0, "creation_date": 1433538643, "post_id": 30632835, "comment_id": 49413469, "body": "Its in the development branch now but will be in pip/master by next week, pending our testing/deploy process. If you have a need for it beforehand and have issues getting it, drop us a line at support@pubnub.com and we&#39;ll help you out."}], "tags": [], "owner": {"reputation": 2397, "user_id": 970193, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/P9LJb.png?s=128&g=1", "display_name": "Geremy", "link": "https://stackoverflow.com/users/970193/geremy"}, "is_accepted": false, "score": 0, "last_activity_date": 1433376116, "creation_date": 1433376116, "answer_id": 30632835, "question_id": 30629579, "link": "https://stackoverflow.com/questions/30629579/pubnub-access-management-with-python/30632835#30632835", "title": "Pubnub Access Management with Python", "body": "<p>Which version of the SDK are you on?</p>\n\n<p>Also, this may also happen because your system clock is not set to NTP. Can you verify its set to NTP, and try again?</p>\n\n<p>If it persists, please contact us at support@pubnub.com and we'd be happy to help trace the issue down with you.</p>\n\n<p>geremy</p>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "is_accepted": true, "score": 0, "last_activity_date": 1433524115, "creation_date": 1433524115, "answer_id": 30672156, "question_id": 30629579, "link": "https://stackoverflow.com/questions/30629579/pubnub-access-management-with-python/30672156#30672156", "title": "Pubnub Access Management with Python", "body": "<p>There were problems using version 3.7.1 of the SDK in python 3.4.3. They were addressed by Pubnub's developers some time last night and it seems to have been resolved in their development code. I guess they will put it into the production code some time in the near future.</p>\n"}], "owner": {"reputation": 437, "user_id": 1922771, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UTA6Q.jpg?s=128&g=1", "display_name": "Javier Carmona", "link": "https://stackoverflow.com/users/1922771/javier-carmona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 30672156, "answer_count": 2, "score": 1, "last_activity_date": 1433524115, "creation_date": 1433361738, "question_id": 30629579, "link": "https://stackoverflow.com/questions/30629579/pubnub-access-management-with-python", "title": "Pubnub Access Management with Python", "body": "<p>I am trying to use Pubnub Access Management with Python by I always get an error message saying that the 'Signature Does not Match'. I know their documentation says that this means that the Secret/Publish/Subscribe keys may be wrong but I have triple checked that they are correct. Also checked in Pubnub developer console and it works fine from there.</p>\n\n<p>Here is the method that I am using:</p>\n\n<pre><code>def get_pubnub_token(request, connector_id):\n    pubnub = Pubnub(settings.PUBKEY, settings.SUBKEY, secret_key=settings.PUB_SECRET_KEY)\n    authkey = str(uuid.uuid4())\n    result = pubnub.grant(channel=connector_id+\"-pnpres\", auth_key=authkey, read=True, write=True, ttl=60)\n    if result['error']:\n        return HttpResponse(status=result['status'])\n    result = pubnub.grant(channel=connector_id, auth_key=authkey, read=True, write=True, ttl=60)\n    if result['error']:\n        return HttpResponse(status=result['status'])\n    result = pubnub.grant(channel=connector_id+\"-stream\", auth_key=authkey, read=True, write=True, ttl=60)\n    if result['error']:\n        return HttpResponse(status=result['status'])\n    jsonstr = get_json(authkey)\n    return HttpResponse(jsonstr, content_type='application/json')\n</code></pre>\n\n<p>I wonder if anyone has done this before and if they could give me any tips as to why I could be seeing this error.</p>\n"}, {"tags": ["python", "sockets", "send"], "comments": [{"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1433365391, "post_id": 30629576, "comment_id": 49326971, "body": "It would appear that your C++ code is not prepared to receive a 16-bit encoded (UTF-16 probably) string, and is expecting a byte-stream instead..."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1446540352, "creation_date": 1446540352, "answer_id": 33494732, "question_id": 30629576, "link": "https://stackoverflow.com/questions/30629576/socket-send-function-in-python-sending-nulls/33494732#33494732", "title": "socket.send function in Python sending Nulls", "body": "<p>It would appear that your C++ code is not prepared to receive a 16-bit encoded (UTF-16 probably) string, and is expecting a byte-stream instead... \u2013 twalberg</p>\n"}], "owner": {"reputation": 35, "user_id": 4631865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0921e0afbb76f589cea8e2a353036058?s=128&d=identicon&r=PG&f=1", "display_name": "pythonMan", "link": "https://stackoverflow.com/users/4631865/pythonman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446540352, "creation_date": 1433361730, "question_id": 30629576, "link": "https://stackoverflow.com/questions/30629576/socket-send-function-in-python-sending-nulls", "title": "socket.send function in Python sending Nulls", "body": "<p>I tried to send \"Hello World\" to simple server in c++.\nI wrote this line :</p>\n\n<pre><code>self.soc.send(\"Hello World\")\n</code></pre>\n\n<p>I checked what the server recieved and the result was : 'H', because the rest was : '\\0','e','\\0','l'....</p>\n\n<p>Why the send function change my message?\nThanks in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1433361555, "post_id": 30629506, "comment_id": 49324785, "body": "It takes <b>3</b> arguments."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1433361714, "post_id": 30629506, "comment_id": 49324890, "body": "it looks like you defined a class method but I see no class object you are calling <code>fib</code> on?"}, {"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1433363200, "post_id": 30629506, "comment_id": 49325783, "body": "@EdChum s/class method/method/ - in Python a <code>classmethod</code> is a method that takes the class (not the instance) as first argument."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433363284, "post_id": 30629506, "comment_id": 49325825, "body": "@brunodesthuilliers ah thanks for the clarification, coming from c++ background this is a little different to what I&#39;d expect"}], "answers": [{"comments": [{"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433363436, "post_id": 30629572, "comment_id": 49325904, "body": "First point: the two variables at the class level are useless and misleading. Second point: there&#39; s no such thing as a &quot;static function&quot; in Pyton. Third point: <code>self</code> is not a keyword. Fourth point: not naming a method&#39;s first arg <code>self</code> makes no difference, the method will get the instance as first argument, as explained here : <a href=\"https://wiki.python.org/moin/FromFunctionToMethod\" rel=\"nofollow noreferrer\">wiki.python.org/moin/FromFunctionToMethod</a>."}], "tags": [], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "is_accepted": true, "score": 1, "last_activity_date": 1433362095, "last_edit_date": 1433362095, "creation_date": 1433361711, "answer_id": 30629572, "question_id": 30629506, "link": "https://stackoverflow.com/questions/30629506/error-while-calling-python-function/30629572#30629572", "title": "Error while calling Python function", "body": "<p>I am assuming you don't understand <code>self</code> very well in python. Its heading towards OOP (Object oriented programming).</p>\n\n<p>non-OOP approach (doing the same thing with static methods)</p>\n\n<pre><code>def fib(a,b):\n    print a+b\n\nfib(4,8)\n</code></pre>\n\n<p>OOP approach</p>\n\n<pre><code>class Test():\n    i = 0\n    j = 0\n    def fib(self, a,b):\n        self.i=a\n        self.j=b\n        print self.i+self.j\n\nt = Test() # create an object of Test class\nt.fib(2, 3) # make the function call\n</code></pre>\n\n<p><strong>NOTE :</strong> python considers a function to be a static function if it does not have the keyword <code>self</code> as the first parameter</p>\n"}, {"comments": [{"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433363501, "post_id": 30629590, "comment_id": 49325940, "body": "s/class method/method/. A <code>classmethod</code> is something different (it&#39;s a method that takes the class - not the instance - as first argument)."}, {"owner": {"reputation": 4046, "user_id": 4709400, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1", "display_name": "stellasia", "link": "https://stackoverflow.com/users/4709400/stellasia"}, "reply_to_user": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1433408676, "post_id": 30629590, "comment_id": 49343390, "body": "You&#39;re right, bad wording. I have edited the answer."}], "tags": [], "owner": {"reputation": 4046, "user_id": 4709400, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1", "display_name": "stellasia", "link": "https://stackoverflow.com/users/4709400/stellasia"}, "is_accepted": false, "score": 1, "last_activity_date": 1433408653, "last_edit_date": 1433408653, "creation_date": 1433361762, "answer_id": 30629590, "question_id": 30629506, "link": "https://stackoverflow.com/questions/30629506/error-while-calling-python-function/30629590#30629590", "title": "Error while calling Python function", "body": "<p>You function has 3 arguments: self, a and b. </p>\n\n<p>self is traditionally used for methods. </p>\n\n<p>You write (simplified example): </p>\n\n<pre><code>class A:\n   def multiply(self, b): # method called with one argument\n       return 2 * b\n\na = A()\na.multiply(3)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>def multiply(b): # this is a function with one argument\n    return 2*b\n\nmutiply(3)\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 30629572, "answer_count": 2, "score": -1, "last_activity_date": 1439371561, "creation_date": 1433361517, "last_edit_date": 1439371561, "question_id": 30629506, "link": "https://stackoverflow.com/questions/30629506/error-while-calling-python-function", "title": "Error while calling Python function", "body": "<p>I defined a function which takes 2 arguments. When I call the function, I get an error saying not enough argument:</p>\n\n<pre><code>&gt;&gt;&gt; def fib(self, a,b):\n...   self.i=a, self.j=b\n...   print self.i+self.j\n... \n&gt;&gt;&gt; fib(4,8)\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: fib() takes exactly 3 arguments (2 given)\n\n&gt;&gt;&gt; fib(4,8,9)\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"&lt;stdin&gt;\", line 2, in fib\nAttributeError: 'int' object has no attribute 'i'\n</code></pre>\n\n<p>I passed with both 2 and 3 arguments. What should be the third argument?</p>\n"}, {"tags": ["python", "wikipedia", "attributeerror", "nonetype"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1433361415, "post_id": 30629436, "comment_id": 49324694, "body": "Can you tell us where this error occurs? Just add the traceback to the question."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1433361967, "post_id": 30629436, "comment_id": 49325043, "body": "Try to <code>print(repr(item))</code> inside the loop that fails."}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 1, "creation_date": 1433361985, "post_id": 30629436, "comment_id": 49325054, "body": "You&#39;ve got a value hard-coded there.  What happens if instead of <code>print wp.page(search).section(&quot;Aortic rupture&quot;)</code> you did <code>print wp.page(search).section(item)</code>?"}, {"owner": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "edited": false, "score": 0, "creation_date": 1433362516, "post_id": 30629436, "comment_id": 49325375, "body": "If I print, inside the for-loop, <code>wp.page(search).section(item)</code>, I get <code>None</code>. That&#39;s the part I don&#39;t understand - it should be the text."}], "answers": [{"tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": false, "score": 0, "last_activity_date": 1433362331, "creation_date": 1433362331, "answer_id": 30629745, "question_id": 30629436, "link": "https://stackoverflow.com/questions/30629436/why-is-this-returning-a-nonetype/30629745#30629745", "title": "Why is this returning a NoneType?", "body": "<p><code>wp.page(search).section(item)</code> does not find the section you're looking for, and returns <code>None</code>. You don't check for it and try to handle the value as a string; this expectedly fails.</p>\n"}, {"comments": [{"owner": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "edited": false, "score": 0, "creation_date": 1433362861, "post_id": 30629790, "comment_id": 49325587, "body": "Do you have any idea why running <code>add_section_info(&quot;HIV&quot;)</code> would work properly? Because even with &quot;HIV&quot;, calling <code>wp.page(search).sections</code> returns <code>[ ]</code>, which is why I&#39;m having to do this workaround."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "edited": false, "score": 0, "creation_date": 1433363092, "post_id": 30629790, "comment_id": 49325720, "body": "@MIT_noob It&#39;s due to the <code>edit</code> link, see my last edit. If you check the <code>HIV</code> page most headings are missing that link and so the library works. However I&#39;m not familiar with wikipedia and how they display stuff. I suggest you open a ticket in the library issue tracker, because this seems either a bug or a missing feature that isn&#39;t documented."}, {"owner": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "edited": false, "score": 0, "creation_date": 1433363924, "post_id": 30629790, "comment_id": 49326165, "body": "Thanks a bunch!   Quick question: Can you explain what <code>p.content[3220:3220+50]</code> does?"}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "edited": false, "score": 0, "creation_date": 1433392378, "post_id": 30629790, "comment_id": 49335083, "body": "@MIT the <code>i.content</code> is a string containing the text of the page. There I simply checked at which index the sites <code>Aortic</code>appeared, which happened to be <code>3223</code> and so I checked what the content was around that index using slicing. The <code>[3220:3220+50]</code> simply means take the characters from the <code>3220</code>th to the <code>3220+50</code>th one."}], "tags": [], "owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "is_accepted": true, "score": 2, "last_activity_date": 1433363344, "last_edit_date": 1433363344, "creation_date": 1433362467, "answer_id": 30629790, "question_id": 30629436, "link": "https://stackoverflow.com/questions/30629436/why-is-this-returning-a-nonetype/30629790#30629790", "title": "Why is this returning a NoneType?", "body": "<p>The <code>page</code> method never returns <code>None</code> (you can easily check this in the source code), however the <code>section</code> method <em>does</em> return <code>None</code> if the title cannot be found. See the <a href=\"https://wikipedia.readthedocs.org/en/latest/code.html#wikipedia.WikipediaPage.section\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong><code>section(section_title)</code></strong></p>\n  \n  <p>Get the plain text content of a section from <code>self.sections</code>.\n  <strong>Returns <code>None</code> if <code>section_title</code> isn\u2019t found</strong>, otherwise returns a whitespace stripped string.</p>\n</blockquote>\n\n<p>So the answer is that the wikipedia page you are referring to has no section titled <code>Aortic rupture</code>, <em>as far as the library is concerned</em>.</p>\n\n<p>Looking at wikipedia itself it seems like the page <a href=\"http://en.wikipedia.org/wiki/Abdominal_aortic_aneurysm#Aortic_rupture\" rel=\"nofollow\">Abdominal aortic aneurysm</a> does have such a section.</p>\n\n<p>Note that if you try to check what the value of <code>wp.page(search).sections</code> is you get: <code>[]</code>. I.e. <strong>it seems like the library isn't parsing the sections properly.</strong></p>\n\n<hr>\n\n<p>From the source code of the library found <a href=\"https://github.com/goldsmith/Wikipedia/blob/master/wikipedia/wikipedia.py#L653\" rel=\"nofollow\">here</a> you can see this test:</p>\n\n<pre><code>section = u\"== {} ==\".format(section_title)\ntry:\n  index = self.content.index(section) + len(section)\nexcept ValueError:\n  return None\n</code></pre>\n\n<p>However:</p>\n\n<pre><code>In [14]: p.content.find('Aortic')\nOut[14]: 3223\n\nIn [15]: p.content[3220:3220+50]\nOut[15]: '== Aortic ruptureEdit ===\\n\\nThe signs and symptoms '\nIn [16]: p.section('Aortic ruptureEdit')\nOut[16]: \"The signs and symptoms of a ruptured AAA may includes severe pain in the lower back, flank, abdomen or groin. A mass that pulses with the heart beat may also be felt. The bleeding can leads to a hypovolemic shock with low blood pressure and a fast heart rate. This may lead to brief passing out.\\nThe mortality of AAA rupture is up to 90%. 65\u201375% of patients die before they arrive at hospital and up to 90% die before they reach the operating room. The bleeding can be retroperitoneal or into the abdominal cavity. Rupture can also create a connection between the aorta and intestine or inferior vena cava. Flank ecchymosis (appearance of a bruise) is a sign of retroperitoneal bleeding, and is also called Grey Turner's sign.\\nAortic aneurysm rupture may be mistaken for the pain of kidney stones, muscle related back pain.\"\n</code></pre>\n\n<p>Note the <code>Edit ==</code>. In other words the library has a bug that doesn't take into account the link to edit.</p>\n\n<p>The same code works with the page for <a href=\"http://en.wikipedia.org/wiki/HIV\" rel=\"nofollow\">HIV</a> because in that page the headings don't have an <code>edit</code> link right next to them. I have no idea why this is so, anywyay it looks like either a bug or a shortcoming of the library, so you should open a ticket on its issue tracker.</p>\n\n<p>In the meanwhile you could use a simple fix like:</p>\n\n<pre><code>def find_section(page, title):\n    res = page.section(title)\n    if res is None:\n        res = page.section(title + 'Edit')\n    return res\n</code></pre>\n\n<p>and use this function instead of using the <code>.section</code> method. However this can only be a temporary fix.</p>\n"}], "owner": {"reputation": 208, "user_id": 3614985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ssU7L.jpg?s=128&g=1", "display_name": "Try431", "link": "https://stackoverflow.com/users/3614985/try431"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 30629790, "answer_count": 2, "score": 0, "last_activity_date": 1433363344, "creation_date": 1433361310, "last_edit_date": 1433361562, "question_id": 30629436, "link": "https://stackoverflow.com/questions/30629436/why-is-this-returning-a-nonetype", "title": "Why is this returning a NoneType?", "body": "<p>I'm trying to scrape info off of Wikipedia using the function below, but I'm running into an <strong>Attribute Error</strong> because a function call is returning <strong>None</strong>. Can someone please try and explain why this is returning None? </p>\n\n<pre><code>import wikipedia as wp\nimport string\n\ndef add_section_info(search):\n    HTML = wp.page(search).html().encode(\"UTF-8\") #gets HTML source from Wikipedia\n\n    with open(\"temp.xml\",'w') as t: #write HTML to xml format\n        t.write(HTML)\n\n    table_of_contents = []\n    dict_of_section_info = {}\n\n    #This extracts the info in the table of contents\n    with open(\"temp.xml\",'r') as r:\n        for line in r:\n            if \"toclevel\" in line: \n                new_string = line.partition(\"#\")[2]\n                content_title = new_string.partition(\"\\\"\")[0]\n                tbl = string.maketrans(\"_\",\" \")\n                content_title = content_title.translate(tbl)\n                table_of_contents.append(content_title)\n\n    print wp.page(search).section(\"Aortic rupture\") #this is None, but shouldn't be\n\n    for item in table_of_contents:\n        section = wp.page(search).section(item).encode(\"UTF-8\")\n        print section\n        if section == \"\":\n            continue\n        else:\n            dict_of_section_info[item] = section\n\n    with open(\"Section_Info.txt\",'a') as sect:\n        sect.write(search)\n        sect.write(\"------------------------------------------\\n\")\n        for item in dict_of_section_info:\n            sect.write(item)\n            sect.write(\"\\n\\n\")\n            sect.write(dict_of_section_info[item])\n        sect.write(\"####################################\\n\\n\")\n\nadd_section_info(\"Abdominal aortic aneurysm\")\n</code></pre>\n\n<p>What I don't understand is that if I run <code>add_section_info(\"HIV\")</code>, for example, it works perfectly.</p>\n\n<p>The source code for the imported wikipedia is <a href=\"https://github.com/goldsmith/Wikipedia/blob/master/wikipedia/wikipedia.py\" rel=\"nofollow\">here</a></p>\n\n<p>My output on the above code is this:</p>\n\n<pre><code>Abdominal aortic aneurysm\n\nSigns and symptoms\nTraceback (most recent call last):\n  File \"/home/pharoslabsllc/Documents/wikitest.py\", line 79, in &lt;module&gt;\nadd_section_info(line)\n  File \"/home/pharoslabsllc/Documents/wikitest.py\", line 30, in add_section_info\n    section = wp.page(search).section(item).encode(\"UTF-8\")\nAttributeError: 'NoneType' object has no attribute 'encode'\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1433361425, "post_id": 30629429, "comment_id": 49324702, "body": "Do you know the JSON format? It doesn&#39;t allow keys like <code>(&#39;category1&#39;, &#39;category2&#39;)</code> - heck, it doesn&#39;t have tuples at all. You&#39;ll have to reorganize your data."}, {"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 0, "creation_date": 1433362930, "post_id": 30629429, "comment_id": 49325635, "body": "You may hack it by creating string from the tuple like {&quot;category1#category2&quot;:4}. JSON itself doesn&#39;t work with tuples as keys."}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 2470337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8e01d9ab9de95c0cc755a2ab131f7?s=128&d=identicon&r=PG", "display_name": "Dr_Zaszu\u015b", "link": "https://stackoverflow.com/users/2470337/dr-zaszu%c5%9b"}, "edited": false, "score": 2, "creation_date": 1600938018, "post_id": 30630056, "comment_id": 113248844, "body": "It would be nice if this answer could explain how to restore the original object. <code>json</code> serialization is a two-way operation... It is not enough to do <code>dumps</code>, one also has to know how to <code>loads</code>."}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "reply_to_user": {"reputation": 427, "user_id": 2470337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8e01d9ab9de95c0cc755a2ab131f7?s=128&d=identicon&r=PG", "display_name": "Dr_Zaszu\u015b", "link": "https://stackoverflow.com/users/2470337/dr-zaszu%c5%9b"}, "edited": false, "score": 0, "creation_date": 1600947878, "post_id": 30630056, "comment_id": 113253665, "body": "I&#39;m not sure: the question isn&#39;t really clear about what data structure is actually required. Is the string-ified key sufficient? Then one can simply call <code>loads</code> on the JSON data and be done with it. If the data structure <i>requires</i> tuples as key, then the solution is going to look different. That said, if you have particular questions around de-serializing JSON, feel free to open a new question and we&#39;d be happy to help out."}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": false, "score": 5, "last_activity_date": 1433363345, "creation_date": 1433363345, "answer_id": 30630056, "question_id": 30629429, "link": "https://stackoverflow.com/questions/30629429/json-dump-gives-me-typeerror-keys-must-be-a-string/30630056#30630056", "title": "json.dump() gives me &quot;TypeError: keys must be a string&quot;", "body": "<p>The error seems pretty clear: Your keys must be strings.  </p>\n\n<p>If I take the example from your question and <code>str()</code>-ify the keys:</p>\n\n<pre><code>&gt;&gt;&gt; data = {str(('category1', 'category2')): 4}\n</code></pre>\n\n<p>It works just fine:</p>\n\n<pre><code>&gt;&gt;&gt; json.dumps(data)\n'{\"(\\'category1\\', \\'category2\\')\": 4}'\n</code></pre>\n\n<p>Having said that, in your position I would consider making your keys more readable.  Possibly something like:</p>\n\n<pre><code>&gt;&gt;&gt; data = dict((':'.join(k), v) for k,v in data.items())\n</code></pre>\n\n<p>This turns a key like <code>('category1', 'category2')</code> into <code>category1:category2</code>,</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2003359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d448779714702cbfe22d7177735351b1?s=128&d=identicon&r=PG", "display_name": "AYHarano", "link": "https://stackoverflow.com/users/2003359/ayharano"}, "is_accepted": false, "score": 2, "last_activity_date": 1495163280, "last_edit_date": 1495163280, "creation_date": 1495161437, "answer_id": 44060541, "question_id": 30629429, "link": "https://stackoverflow.com/questions/30629429/json-dump-gives-me-typeerror-keys-must-be-a-string/44060541#44060541", "title": "json.dump() gives me &quot;TypeError: keys must be a string&quot;", "body": "<p>I know that <a href=\"https://www.python.org/dev/peps/pep-0020/\" rel=\"nofollow noreferrer\">The Zen of Python</a> states</p>\n\n<blockquote>\n  <p>Flat is better than nested.</p>\n</blockquote>\n\n<p>However, for my context, I had some levels of nested dicts. So I recursively treated it:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import json\n\ndef key_to_json(data):\n    if data is None or isinstance(data, (bool, int, str)):\n        return data\n    if isinstance(data, (tuple, frozenset)):\n        return str(data)\n    raise TypeError\n\ndef to_json(data):\n    if data is None or isinstance(data, (bool, int, tuple, range, str, list)):\n        return data\n    if isinstance(data, (set, frozenset)):\n        return sorted(data)\n    if isinstance(data, dict):\n        return {key_to_json(key): to_json(data[key]) for key in data}\n    raise TypeError\n\ndata = {('category1', 'category2'): {frozenset(['cat1', 'cat2']): 1212}}\njson.dumps(to_json(data))\n# '{\"(\\'category1\\', \\'category2\\')\": {\"frozenset({\\'cat2\\', \\'cat1\\'})\": 1212}}'\n</code></pre>\n\n<p>Adjust this code to match your context.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 10437110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685e58875c95d50670d2add22f3a2328?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/10437110/ash"}, "edited": false, "score": 0, "creation_date": 1603382770, "post_id": 55237241, "comment_id": 114026543, "body": "How to convert string to tuple  when we read the json file?"}], "tags": [], "owner": {"reputation": 31, "user_id": 10068413, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_B2jwYlsZfQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qZlUlLoOE5X3xnVQ97bbVZyIVSBg/mo/photo.jpg?sz=128", "display_name": "Shuchita Prasad", "link": "https://stackoverflow.com/users/10068413/shuchita-prasad"}, "is_accepted": false, "score": 3, "last_activity_date": 1552986816, "creation_date": 1552986816, "answer_id": 55237241, "question_id": 30629429, "link": "https://stackoverflow.com/questions/30629429/json-dump-gives-me-typeerror-keys-must-be-a-string/55237241#55237241", "title": "json.dump() gives me &quot;TypeError: keys must be a string&quot;", "body": "<p>Please try the below approach.\nMake the key of your dictionary a string rather than tuple before conversion to json. When converting json back to dictionary, convert back into list/tuple.</p>\n\n<pre><code>data  =['category1', 'category2']\ndata_map = {}\ndata_map[','.join(data)]= 4\njson.dumps(data_map)\n</code></pre>\n\n<p>Do not forget to convert back the string to list once you convert read the json to dictionary</p>\n"}], "owner": {"reputation": 4167, "user_id": 2935984, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/14mj8.jpg?s=128&g=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/2935984/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18604, "favorite_count": 0, "answer_count": 3, "score": 7, "last_activity_date": 1552986816, "creation_date": 1433361292, "question_id": 30629429, "link": "https://stackoverflow.com/questions/30629429/json-dump-gives-me-typeerror-keys-must-be-a-string", "title": "json.dump() gives me &quot;TypeError: keys must be a string&quot;", "body": "<p>I have some very simple code that takes a dictionary with a tuple as a key and turns it into json:</p>\n\n<pre><code>In [11]:\n\nimport simplejson as json\nIn [12]:\n\ndata = {('category1', 'category2'): 4}\nIn [13]:\n\njson.dumps(data)\n</code></pre>\n\n<p>However, running the code gives me:</p>\n\n<pre><code>TypeError: keys must be a string\n</code></pre>\n\n<p>I have tried str()'ing the keys and everything else I can find, but without luck.</p>\n"}, {"tags": ["python", "ftplib", "ftps"], "answers": [{"tags": [], "owner": {"reputation": 722, "user_id": 1105534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254fffc9a799616aa2b8cf103b12f16b?s=128&d=identicon&r=PG", "display_name": "ivan133", "link": "https://stackoverflow.com/users/1105534/ivan133"}, "is_accepted": false, "score": 1, "last_activity_date": 1456316871, "last_edit_date": 1592644375, "creation_date": 1447657852, "answer_id": 33730073, "question_id": 30629407, "link": "https://stackoverflow.com/questions/30629407/ftp-upload-error-with-python-and-ftplib/33730073#33730073", "title": "FTP upload error with Python and ftplib.", "body": "<p>I think this problem only shows on MS FTP server.\nFirst of all turn on debug</p>\n<pre><code>ftp.set_debuglevel(2)\n</code></pre>\n<p>In my case transfer hangs on</p>\n<blockquote>\n<p><em>put</em> 'STOR test.xml\\r\\n'</p>\n<p><em>get</em> '125 Data connection already open; Transfer starting.\\n'</p>\n<p><em>resp</em> '125 Data connection already open; Transfer starting.'</p>\n</blockquote>\n<p>Then I found this suggession <a href=\"http://www.sami-lehtinen.net/blog/python-32-ms-ftps-ssl-tls-lockup-fix\" rel=\"nofollow noreferrer\">http://www.sami-lehtinen.net/blog/python-32-ms-ftps-ssl-tls-lockup-fix</a>\nI've tried (commented conn.unwrap() in storbinary) it and it worked!\nIn my case in was line 513</p>\n<pre><code>        # shutdown ssl layer\n        if _SSLSocket is not None and isinstance(conn, _SSLSocket):\n            pass #conn.unwrap()\n</code></pre>\n<p>This is obliviously very bad hack, but I couldn't find anything better.</p>\n"}, {"tags": [], "owner": {"reputation": 1142, "user_id": 10010216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PvbB.jpg?s=128&g=1", "display_name": "F Blanchet", "link": "https://stackoverflow.com/users/10010216/f-blanchet"}, "is_accepted": false, "score": 0, "last_activity_date": 1607514498, "creation_date": 1607514498, "answer_id": 65216183, "question_id": 30629407, "link": "https://stackoverflow.com/questions/30629407/ftp-upload-error-with-python-and-ftplib/65216183#65216183", "title": "FTP upload error with Python and ftplib.", "body": "<p>I had the same issue and succeeded to solve it with this lines :</p>\n<pre><code>ftps = FTP_TLS(server)\nftps.set_debuglevel(2) # To show logs\nftps.ssl_version = ssl.PROTOCOL_TLS\nftps.set_pasv(True)\nftps.login(user=&quot;user&quot;, passwd=&quot;passwd&quot;)\n</code></pre>\n<p>And I switched from <code>Python 3.5.1</code> to <code>Python 3.8.3</code>.</p>\n"}], "owner": {"reputation": 413, "user_id": 1309452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4445499c82c56143ccee50a7ab78c9fc?s=128&d=identicon&r=PG", "display_name": "Cesar", "link": "https://stackoverflow.com/users/1309452/cesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2679, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1607514498, "creation_date": 1433361222, "question_id": 30629407, "link": "https://stackoverflow.com/questions/30629407/ftp-upload-error-with-python-and-ftplib", "title": "FTP upload error with Python and ftplib.", "body": "<p>I'm trying to run a simple ftps script to upload a file on a scheduled basis from a Linux box to a ftps instance running on Windows Server 2012. When I try and test the script on my desktop (OS x), the script errors out:</p>\n\n<blockquote>\n  <p>Error uploading file: [Errno 54] Connection reset by peer</p>\n</blockquote>\n\n<p>If I run the script on a linux box, same error, except 104 instead of 54:</p>\n\n<blockquote>\n  <p>Error uploading file: [Errno 104] Connection reset by peer</p>\n</blockquote>\n\n<p>The files that I'm uploading have either been empty or are 8 bytes. I've verified that ftps is working with 2 other clients on my desktop. What am I missing / overlooking? </p>\n\n<pre><code>#!/usr/bin/env python\nfrom ftplib import FTP_TLS\nimport fnmatch\nimport os\nimport ssl\nimport sys\n\nserver = '192.168.1.2'\nuser = 'myUsername'\npasswd = 'myPassword'\n\ndef connect_ftp():\n    ftp = FTP_TLS(server, user, passwd)\n    ftp.set_pasv(True)\n    ftp.prot_p()\n\n    return ftp\n\ndef upload_file(ftp_connection, upload_file_path):\n    try:\n        upload_file = open(\"/tmp/test/\" + upload_file_path, 'r')\n        print('Uploading ' + upload_file_path + \"...\")\n        ftp_connection.storbinary('STOR ' + upload_file_path, upload_file)\n        ftp_connection.quit()\n        ftp_connection.close()\n        upload_file.close()\n        print('Upload finished.')\n\n    except Exception, e:\n        print(\"Error uploading file: \" + str(e))\n\nftp_conn = connect_ftp()\n\n\nfor file in os.listdir('/tmp/test'):\n        if fnmatch.fnmatch(file, 'bt_*.txt'):\n            upload_file(ftp_conn, file)\n</code></pre>\n"}, {"tags": ["python", "ipython"], "answers": [{"comments": [{"owner": {"reputation": 700, "user_id": 4650316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153116720874378/picture?type=large", "display_name": "Sergio Lucero", "link": "https://stackoverflow.com/users/4650316/sergio-lucero"}, "edited": false, "score": 0, "creation_date": 1544639182, "post_id": 30629448, "comment_id": 94350925, "body": "Additionally, the table name is <code>history</code>. This would allow you for instance to search this database using sqlite3."}, {"owner": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 0, "creation_date": 1616774580, "post_id": 30629448, "comment_id": 118116995, "body": "How to set the location of this file separate from profile?"}], "tags": [], "owner": {"reputation": 28965, "user_id": 2344584, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dcecdcb0f6089de0a693c97c05cdb4ca?s=128&d=identicon&r=PG", "display_name": "Stefano Sanfilippo", "link": "https://stackoverflow.com/users/2344584/stefano-sanfilippo"}, "is_accepted": true, "score": 37, "last_activity_date": 1433363104, "last_edit_date": 1433363104, "creation_date": 1433361366, "answer_id": 30629448, "question_id": 30629390, "link": "https://stackoverflow.com/questions/30629390/where-is-the-history-file-for-ipython/30629448#30629448", "title": "Where is the history file for ipython", "body": "<p>IPython history is stored in a SQLite database located in the profile directory. By default:</p>\n\n<pre><code>~/.ipython/profile_default/history.sqlite\n</code></pre>\n\n<p>Older versions (1.x) stored profile data in <code>~/.config/ipython</code>, at least on platforms conforming to <a href=\"http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html\">XDG basedir specs</a> (i.e. most Linux distributions). </p>\n\n<p>Anyway, you can locate the profile directory with:</p>\n\n<pre><code>$ ipython locate profile default\n</code></pre>\n\n<p>Notice that the history database is shared between IPython and IPython3, if both are installed.</p>\n"}, {"comments": [{"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 3, "creation_date": 1492614386, "post_id": 39415188, "comment_id": 74053287, "body": "I find no <code>-g</code> works well for me, too. What does <code>-g</code> do?"}, {"owner": {"reputation": 6599, "user_id": 456550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cd11130b5f8c988a54b663bad96cd68?s=128&d=identicon&r=PG", "display_name": "Christian Long", "link": "https://stackoverflow.com/users/456550/christian-long"}, "reply_to_user": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 6, "creation_date": 1492630353, "post_id": 39415188, "comment_id": 74063554, "body": "Without <code>-g</code> it exports the history for the current session. With <code>-g</code> it exports history for all sessions.  The only documentation I found for <code>-g</code> is by typing <code>%quickref</code> in to an IPython shell."}], "tags": [], "owner": {"reputation": 6599, "user_id": 456550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cd11130b5f8c988a54b663bad96cd68?s=128&d=identicon&r=PG", "display_name": "Christian Long", "link": "https://stackoverflow.com/users/456550/christian-long"}, "is_accepted": false, "score": 49, "last_activity_date": 1473435488, "creation_date": 1473435488, "answer_id": 39415188, "question_id": 30629390, "link": "https://stackoverflow.com/questions/30629390/where-is-the-history-file-for-ipython/39415188#39415188", "title": "Where is the history file for ipython", "body": "<p>If you want your IPython history in a plain-text file, you can export it yourself.</p>\n\n<pre><code>%history -g -f filename \n</code></pre>\n"}], "owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14077, "favorite_count": 3, "accepted_answer_id": 30629448, "answer_count": 2, "score": 37, "last_activity_date": 1473435488, "creation_date": 1433361151, "last_edit_date": 1433363366, "question_id": 30629390, "link": "https://stackoverflow.com/questions/30629390/where-is-the-history-file-for-ipython", "title": "Where is the history file for ipython", "body": "<p>I can not determine where the ipython is storing its history.</p>\n\n<p>a. There is no ~/.pythonhistory:</p>\n\n<pre><code>12:49:00/dashboards $ll ~/.py*\nls: /Users/steve/.py*: No such file or directory\n</code></pre>\n\n<p>b. Nothing special in the python startup file:</p>\n\n<pre><code>12:49:07/dashboards $echo $PYTHONSTARTUP\n/shared/.pythonstartup\n12:49:43/dashboards $cat /shared/.pythonstartup\nimport rlcompleter\nimport readline\n\nreadline.parse_and_bind(\"tab: complete\")\n</code></pre>\n\n<p>c. BUT: i do have plenty of history available in ipython when I start it up.</p>\n\n<p>So where is that history being stored?</p>\n\n<p><em>UPDATE</em>   the answer from @Stefano led the correct way: here is the actual path</p>\n\n<pre><code>13:30:05/shared $ll ~/.ipython/profile_default/history.sqlite\n-rw-r--r--  1 steve  staff  372736 Jun  3 12:48 /Users/steve/.ipython/profile_default/history.sqlite\n</code></pre>\n"}, {"tags": ["python", "xml", "xsd"], "owner": {"reputation": 165, "user_id": 3422533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bd273b95f0d9d02f77347acb7ca64603?s=128&d=identicon&r=PG&f=1", "display_name": "user3422533", "link": "https://stackoverflow.com/users/3422533/user3422533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512908444, "creation_date": 1433360914, "last_edit_date": 1512908444, "question_id": 30629328, "link": "https://stackoverflow.com/questions/30629328/python-generate-xml-with-schema-location", "title": "Python generate XML with Schema-Location", "body": "<p>How I can create a such XML:</p>\n\n<pre><code>&lt;urlset xsi:schemaLocation=\"http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\"&gt;\n    &lt;url&gt;\n        &lt;loc&gt;http://...&lt;/loc&gt;\n    &lt;/url&gt;\n&lt;/urlset&gt;\n</code></pre>\n\n<p>How can I add a xsi:schemaLocation with xml.etree? Here's my code:</p>\n\n<pre><code>urlset = ET.Element(\"urlset\")\nfor url in self.urls:\n    url = ET.SubElement(urlset, \"url\")\n    ET.SubElement(url, \"loc\").text = url.loc\nself.tree = ET.ElementTree(urlset)\nself.tree.write(path)\n</code></pre>\n\n<p>Is there a simple way to add a such attribute?</p>\n"}, {"tags": ["python", "performance", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 3211564, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00226bdb9ca598bd0e4fd0bc37fa802?s=128&d=identicon&r=PG&f=1", "display_name": "nikosd", "link": "https://stackoverflow.com/users/3211564/nikosd"}, "edited": false, "score": 1, "creation_date": 1433361695, "post_id": 30629375, "comment_id": 49324874, "body": "The groupby().transform() solution was &quot;only&quot; around 1,000 times faster in the real data ;-) Thanks so much! I knew it was there in the API, somewhere."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 899, "user_id": 3211564, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00226bdb9ca598bd0e4fd0bc37fa802?s=128&d=identicon&r=PG&f=1", "display_name": "nikosd", "link": "https://stackoverflow.com/users/3211564/nikosd"}, "edited": false, "score": 0, "creation_date": 1433361801, "post_id": 30629375, "comment_id": 49324943, "body": "I guess it depends on the data distribution, on your dataset there were only 3 unique values so even concatenating this to itself 100,000 times the lookup times remained proportionally faster, but on your much more varied dataset the speed up is more significant, thanks for letting me know the speedup difference"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 5, "last_activity_date": 1433361587, "last_edit_date": 1433361587, "creation_date": 1433361094, "answer_id": 30629375, "question_id": 30629326, "link": "https://stackoverflow.com/questions/30629326/fastest-way-to-find-compute-function-on-dataframe-slices-by-column-value-python/30629375#30629375", "title": "Fastest way to find compute function on DataFrame slices by column value (Python pandas)", "body": "<p>Perform a <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby\" rel=\"nofollow\"><code>groupby</code></a> on 'id_col' and then a <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html#transformation\" rel=\"nofollow\"><code>transform</code></a> passing function 'min', this will return a Series aligned to your original df so you can add as a new column:</p>\n\n<pre><code>In [13]:\n\ndf = pd.DataFrame({\"id_col\":[0, 0, 0, 1, 1, 1, 2, 2, 2], \n                   \"val_col\":[0.1, 0.2, 0.3, 0.6, 0.4, 0.5, 0.2, 0.1, 0.0]})\ndf['offset'] = df.groupby('id_col').transform('min')\ndf\nOut[13]:\n   id_col  val_col  offset\n0       0      0.1     0.1\n1       0      0.2     0.1\n2       0      0.3     0.1\n3       1      0.6     0.4\n4       1      0.4     0.4\n5       1      0.5     0.4\n6       2      0.2     0.0\n7       2      0.1     0.0\n8       2      0.0     0.0\n</code></pre>\n\n<p><strong>timings</strong></p>\n\n<pre><code>In [15]:\n\ndef apply_by_id_value(df, id_col=\"id_col\", val_col=\"val_col\", offset_col=\"offset\", f=min):\n    for rid in set(df[id_col].values):\n        df.loc[df[id_col] == rid, offset_col] =  f(df[df[id_col] == rid][val_col])\n    return df\n%timeit apply_by_id_value(df)\n%timeit df.groupby('id_col').transform('min')\n100 loops, best of 3: 8.12 ms per loop\n100 loops, best of 3: 5.99 ms per loop\n</code></pre>\n\n<p>So the <code>groupby</code> and <code>transform</code> is faster on this dataset, I expect it to be significantly faster on your real dataset as it will scale better.</p>\n\n<p>For a 800,000 row df I get the following timings:</p>\n\n<pre><code>1 loops, best of 3: 611 ms per loop\n1 loops, best of 3: 438 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 3211564, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a00226bdb9ca598bd0e4fd0bc37fa802?s=128&d=identicon&r=PG&f=1", "display_name": "nikosd", "link": "https://stackoverflow.com/users/3211564/nikosd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 1, "accepted_answer_id": 30629375, "answer_count": 1, "score": 6, "last_activity_date": 1433361587, "creation_date": 1433360906, "question_id": 30629326, "link": "https://stackoverflow.com/questions/30629326/fastest-way-to-find-compute-function-on-dataframe-slices-by-column-value-python", "title": "Fastest way to find compute function on DataFrame slices by column value (Python pandas)", "body": "<p>I am trying to create a column on a data frame which contains the minimum of column A (the value column), for which column B (the id column) has a particular value. My code is really slow. I'm looking for a faster way to do this. Here is my little function:</p>\n\n<pre><code>def apply_by_id_value(df, id_col=\"id_col\", val_col=\"val_col\", offset_col=\"offset\", f=min):\n    for rid in set(df[id_col].values):\n        df.loc[df[id_col] == rid, offset_col] =  f(df[df[id_col] == rid][val_col])\n    return df\n</code></pre>\n\n<p>And example usage:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n# create data frame\ndf = pd.DataFrame({\"id_col\":[0, 0, 0, 1, 1, 1, 2, 2, 2], \n                   \"val_col\":[0.1, 0.2, 0.3, 0.6, 0.4, 0.5, 0.2, 0.1, 0.0]})\n\nprint df.head(10)\n# output\n   id_col  val_col\n0       0      0.1\n1       0      0.2\n2       0      0.3\n3       1      0.6\n4       1      0.4\n5       1      0.5\n6       2      0.2\n7       2      0.1\n8       2      0.0\n\ndf = apply_by_id_value(df)\nprint df.head(10) \n# output\n\n   id_col  val_col  offset\n0       0      0.1     0.1\n1       0      0.2     0.1\n2       0      0.3     0.1\n3       1      0.6     0.4\n4       1      0.4     0.4\n5       1      0.5     0.4\n6       2      0.2     0.0\n7       2      0.1     0.0\n8       2      0.0     0.0\n</code></pre>\n\n<p>Some more context: In my real data, the \"id_col\" column has some 30000 or more unique values. This means that the data frame has to be sliced 30000 times. I imagine this is the bottleneck.</p>\n"}, {"tags": ["python", "list", "encoding", "utf-8", "byte-order-mark"], "comments": [{"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1433361193, "post_id": 30629297, "comment_id": 49324576, "body": "&quot;and thus the original encoding is highly variable and unknown to me.&quot; - Then you should probably be opening in binary mode instead of text mode.  You don&#39;t know the encoding, so don&#39;t lie and say you do."}, {"owner": {"reputation": 41, "user_id": 4905173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce37a235e0b0e8cf95199c50cc083ced?s=128&d=identicon&r=PG&f=1", "display_name": "bauerandrew", "link": "https://stackoverflow.com/users/4905173/bauerandrew"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1434050496, "post_id": 30629297, "comment_id": 49628779, "body": "@Kevin: Fair point. I did try binary mode, but ran into a problem writing the file later. I think I can solve that problem using <code>outfile.write(bytes(text, &quot;UTF-8&quot;))</code>, although I&#39;m not quite sure if I then re-introduce an encoding (decoding?) problem (among other formatting issues to explore)."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1434051215, "post_id": 30629297, "comment_id": 49629237, "body": "If you open both files in binary mode, you will read bytes objects (<code>str</code> in 2.x, which gets the alias <code>bytes</code> in 2.7, and is fully renamed in 3.x) and write bytes objects.  No conversion should be necessary."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7603874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D5gt.jpg?s=128&g=1", "display_name": "Riesje", "link": "https://stackoverflow.com/users/7603874/riesje"}, "is_accepted": false, "score": 0, "last_activity_date": 1610458098, "last_edit_date": 1610458098, "creation_date": 1610457792, "answer_id": 65684845, "question_id": 30629297, "link": "https://stackoverflow.com/questions/30629297/remove-byte-order-mark-from-objects-in-a-list/65684845#65684845", "title": "Remove byte order mark from objects in a list", "body": "<p>The problem is that you are replacing <em>specific</em> bytes, while the representation of your byte order mark might be different, depending on the encoding of your file.\nActually checking for the presence of a BOM is pretty straightforward with the codecs library. Codecs has the specific byte order marks for different UTF encodings. Also, you can get the encoding automatically from an opened file, no need to specify it.\nSuppose you are reading a csv file with utf-8 encoding, which may or may not use a byte order mark. Then you could go about like this:</p>\n<pre><code>import codecs\n\nwith open(&quot;testfile.csv&quot;, &quot;r&quot;) as csvfile:\n    line = csvfile.readline()\n    if line.__contains__(codecs.BOM_UTF8.decode(csvfile.encoding)):\n        # A Byte Order Mark is present\n        line = line.strip(codecs.BOM_UTF8.decode(csvfile.encoding))\n    print(line)\n</code></pre>\n<p>In the output resulting from the code above you will see the output without byte order mark. To further improve on this, you could also restrict this check to be only done on the first line of a file (because that is where the byte order mark always resides, it is the first few bytes of the file).\nUsing strip instead of replace won't replace anything and won't actually do anything if the indicated byte order mark is not present. So you may even skip the manual check for byte-order-mark altogether and just run the strip method on the entire contents of the file:</p>\n<pre><code>import codecs\n\nwith open(&quot;testfile.csv&quot;, &quot;r&quot;) as csvfile:\n    with open(&quot;outfile.csv&quot;, &quot;w&quot;) as outfile:\n        outfile.write(csvfile.read().strip(codecs.BOM_UTF8.decode(csvfile.encoding)))\n</code></pre>\n<p>Voila, you end up with 'outfile.csv' containing the exact contents of the original (testfile.csv) without the Byte Order Mark.</p>\n"}], "owner": {"reputation": 41, "user_id": 4905173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce37a235e0b0e8cf95199c50cc083ced?s=128&d=identicon&r=PG&f=1", "display_name": "bauerandrew", "link": "https://stackoverflow.com/users/4905173/bauerandrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1512, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1610458098, "creation_date": 1433360819, "last_edit_date": 1495540685, "question_id": 30629297, "link": "https://stackoverflow.com/questions/30629297/remove-byte-order-mark-from-objects-in-a-list", "title": "Remove byte order mark from objects in a list", "body": "<p>I am using Python (3.4, on Windows 7) to download a set of text files, and when I read (and write, after modifications) these files appear to have a few byte order marks (BOM) among the values that are retained, primarily UTF-8 BOM. Eventually I use each text file as a list (or a string) and I cannot seem to remove these BOM. So I ask whether it is possible to remove the BOM?</p>\n\n<p>For more context, the text files were downloaded from a public ftp source where users upload their own documents, and thus the original encoding is highly variable and unknown to me. To allow the download to run without error, I specified encoding as UTF-8 (using latin-1 would give errors). So it's not a mystery to me that I have the BOM, and I don't think an up-front encoding/decoding solution is likely to be answer for me (<a href=\"https://stackoverflow.com/questions/8898294/convert-utf-8-with-bom-to-utf-8-with-no-bom-in-python\">Convert UTF-8 with BOM to UTF-8 with no BOM in Python</a>) - it actually appears to make the frequency of other BOM increase.</p>\n\n<p>When I modify the files after download, I use the following syntax:</p>\n\n<pre><code>with open(t, \"w\", encoding='utf-8') as outfile:\n    with open(f, \"r\", encoding='utf-8') as infile:\n        text = infile.read\n        #Arguments to make modifications follow\n</code></pre>\n\n<p>Later on, after the \"outfiles\" are read in as a list I see that some words have the UTF-8 BOM, like <code>\\ufeff</code>. I try to remove the BOM using the following list comprehension:</p>\n\n<pre><code>g = list_outfile    #Outfiles now stored as list\ng = [i.replace(r'\\ufeff','') for i in g]\n</code></pre>\n\n<p>While this argument will run, unfortunately the BOM remain when, for example, I print the list (I believe I would have a similar issue even if I tried to remove BOM from strings and not lists: <a href=\"https://stackoverflow.com/questions/6786609/how-to-remove-this-special-character\">How to remove this special character?</a>). If I put a normal word (non-BOM) in the list comprehension, that word will be replaced. </p>\n\n<p>I do understand that if I print the list object by object that the BOM will not appear (<a href=\"https://stackoverflow.com/questions/23321695/special-national-characters-wont-split-in-python?rq=1\">Special national characters won&#39;t .split() in Python</a>). And the BOM is not in the raw text files. But I worry that those BOM will remain when running later arguments for text analysis and thus any object that appears in the list as <code>\\ufeffword</code> rather than <code>word</code> will be analyzed as <code>\\ufeffword</code>.</p>\n\n<p>Again, is it possible to remove the BOM after the fact?</p>\n"}, {"tags": ["python", "raspberry-pi", "gpio"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 2917406, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33e304253244e0ca251fcfdba9bc1e02?s=128&d=identicon&r=PG&f=1", "display_name": "user2917406", "link": "https://stackoverflow.com/users/2917406/user2917406"}, "is_accepted": false, "score": 1, "last_activity_date": 1433453515, "creation_date": 1433453515, "answer_id": 30654543, "question_id": 30629158, "link": "https://stackoverflow.com/questions/30629158/gpio-python-library-on-pidora-not-available/30654543#30654543", "title": "GPIO Python Library on PIDORA not available?", "body": "<p>Okay, so this solved the issue!</p>\n\n<pre><code>sudo yum install python-devel\nwget https://raw.github.com/pypa/pip/master/contrib/get-pip.py\nsudo python get-pip.py\nsudo pip install RPi.GPIO\n# if it doesnt work then\nsudo pip uninstall RPi.GPIO  \nsudo pip install RPi.GPIO\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 2917406, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33e304253244e0ca251fcfdba9bc1e02?s=128&d=identicon&r=PG&f=1", "display_name": "user2917406", "link": "https://stackoverflow.com/users/2917406/user2917406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433453515, "creation_date": 1433360341, "question_id": 30629158, "link": "https://stackoverflow.com/questions/30629158/gpio-python-library-on-pidora-not-available", "title": "GPIO Python Library on PIDORA not available?", "body": "<p>[Pidora is up-to-date on 3.12.26]</p>\n\n<p>sudo yum update<br>\nsudo yum install python-rpi.gpio<br>\n <strong>>No package available</strong><br>\nsudo yum install python3-rpi.gpio<br>\n <strong>>No package available</strong><br>\nsudo yum install pip-python<br>\n <strong>>No package available</strong><br></p>\n\n<p>How do I control the GPIO on Pidora using python?</p>\n"}, {"tags": ["python", "macos"], "answers": [{"comments": [{"owner": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 0, "creation_date": 1433365464, "post_id": 30629663, "comment_id": 49327010, "body": "The author of the program specifies that you need to run python3 at the URL given"}, {"owner": {"reputation": 103, "user_id": 4946884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7ce5fc6109c84b7162ce14296501d?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul", "link": "https://stackoverflow.com/users/4946884/nazmul"}, "reply_to_user": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 0, "creation_date": 1433365634, "post_id": 30629663, "comment_id": 49327089, "body": "@VincentLaufer that&#39;s odd, the link I provided says otherwise."}, {"owner": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 0, "creation_date": 1433366904, "post_id": 30629663, "comment_id": 49327729, "body": "You&#39;re right it ... certainly does. I went ahead and ran <code>sudo python setup.py install</code> to install it for python2.7 then ran the script. I got a similar issue, it says, &quot;ImportError: No module named combinatorics&quot;"}, {"owner": {"reputation": 103, "user_id": 4946884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7ce5fc6109c84b7162ce14296501d?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul", "link": "https://stackoverflow.com/users/4946884/nazmul"}, "reply_to_user": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 0, "creation_date": 1433367792, "post_id": 30629663, "comment_id": 49328129, "body": "@VincentLaufer have you tried installing with <code>pypm</code>"}, {"owner": {"reputation": 103, "user_id": 4946884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7ce5fc6109c84b7162ce14296501d?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul", "link": "https://stackoverflow.com/users/4946884/nazmul"}, "reply_to_user": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 1, "creation_date": 1433368650, "post_id": 30629663, "comment_id": 49328527, "body": "@VincentLaufer please have a look at the edited answer, hope it helps."}, {"owner": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "edited": false, "score": 0, "creation_date": 1433429930, "post_id": 30629663, "comment_id": 49358371, "body": "after completing that procedure, I still receive python mastermind_p1_trim.py  Traceback (most recent call last):   File &quot;mastermind_p1_trim.py&quot;, line 8, in &lt;module&gt;     from combinatorics import all_colours ImportError: No module named combinatorics"}, {"owner": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "reply_to_user": {"reputation": 103, "user_id": 4946884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7ce5fc6109c84b7162ce14296501d?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul", "link": "https://stackoverflow.com/users/4946884/nazmul"}, "edited": false, "score": 0, "creation_date": 1433438235, "post_id": 30629663, "comment_id": 49363673, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/79686/discussion-between-vincent-laufer-and-nazmul\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 103, "user_id": 4946884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7ce5fc6109c84b7162ce14296501d?s=128&d=identicon&r=PG&f=1", "display_name": "Nazmul", "link": "https://stackoverflow.com/users/4946884/nazmul"}, "is_accepted": true, "score": 1, "last_activity_date": 1433369305, "last_edit_date": 1592644375, "creation_date": 1433362007, "answer_id": 30629663, "question_id": 30629115, "link": "https://stackoverflow.com/questions/30629115/difficulty-installing-combinatorics-module-on-mac-osx/30629663#30629663", "title": "Difficulty installing combinatorics module on Mac OSX", "body": "<p>Combinatorics might not be compatible with <code>Python 3.4.3</code></p>\n<p>Here are some suggestions:</p>\n<ul>\n<li>Un-install Python 3.4.3 and all it's resources</li>\n<li>Install <code>python 2.7</code></li>\n<li>Install <code>combinatorics</code></li>\n</ul>\n<p><a href=\"https://code.activestate.com/pypm/combinatorics/\" rel=\"nofollow noreferrer\">Read more in detail</a></p>\n<p><strong>Here is a guide from ActiveState:</strong></p>\n<blockquote>\n<ol>\n<li><p>Download and install <a href=\"http://www.activestate.com/activepython/downloads#\" rel=\"nofollow noreferrer\">ActivePython</a></p>\n</li>\n<li><p>[IGNORE THIS] Buy and install the Business Edition license from account.activestate.com</p>\n</li>\n<li><p>Open Command Prompt</p>\n</li>\n<li><p>Type <code>pypm install combinatorics</code></p>\n</li>\n</ol>\n</blockquote>\n"}], "owner": {"reputation": 631, "user_id": 2727150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4fd6abf555a3f5c62571cff3252a5ebc?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Laufer", "link": "https://stackoverflow.com/users/2727150/vincent-laufer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 30629663, "answer_count": 1, "score": 0, "last_activity_date": 1433369305, "creation_date": 1433360205, "question_id": 30629115, "link": "https://stackoverflow.com/questions/30629115/difficulty-installing-combinatorics-module-on-mac-osx", "title": "Difficulty installing combinatorics module on Mac OSX", "body": "<p>I attempted to run the program that plays mastermind, here:\n<a href=\"http://www.python-course.eu/mastermind.php\" rel=\"nofollow\">http://www.python-course.eu/mastermind.php</a> </p>\n\n<p>To do so, I installed python3.4.3 first.</p>\n\n<p>I ran the program, but it returned:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"mastermind_p1_trim.py\", line 5, in &lt;module&gt;\n    from combinatorics import all_colours\nImportError: No module named 'combinatorics'\n</code></pre>\n\n<p>So I navigated to <a href=\"https://pypi.python.org/pypi/Combinatorics\" rel=\"nofollow\">https://pypi.python.org/pypi/Combinatorics</a></p>\n\n<p>and downloaded it, then ran python3 </p>\n\n<pre><code>python3 setup.py install\n</code></pre>\n\n<p>from within the Directory downloaded. </p>\n\n<p>This returned</p>\n\n<pre><code>Writing /Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/Combinatorics-1.4.5-py3.4.egg-info\n</code></pre>\n\n<p>finally, sys.path returns</p>\n\n<p>['', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python34.zip', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/plat-darwin', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/lib-dynload', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages']</p>\n\n<p>when running python3.</p>\n\n<p>So, I do not know why I am still receiving the error,</p>\n\n<pre><code>ImportError: No module named 'combinatorics'\n</code></pre>\n\n<p>I have looked at other similar pages on SO, but the suggestions there do not seems to solve my problem. Could anyone help me figure this out? </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 4046, "user_id": 4709400, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1", "display_name": "stellasia", "link": "https://stackoverflow.com/users/4709400/stellasia"}, "is_accepted": true, "score": 1, "last_activity_date": 1433360313, "creation_date": 1433360313, "answer_id": 30629148, "question_id": 30629031, "link": "https://stackoverflow.com/questions/30629031/is-pandas-0-16-1-groupby-apply-method-applying-function-more-than-once-to-th/30629148#30629148", "title": "Is Pandas 0.16.1 groupby().apply() method applying function more than once to the same group?", "body": "<p>According to the doc (<a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.apply.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.apply.html</a>)</p>\n\n<blockquote>\n  <p>In the current implementation apply calls func twice on the first column/row to decide whether it can take a fast or slow code path. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 1, "last_activity_date": 1433360318, "creation_date": 1433360318, "answer_id": 30629150, "question_id": 30629031, "link": "https://stackoverflow.com/questions/30629031/is-pandas-0-16-1-groupby-apply-method-applying-function-more-than-once-to-th/30629150#30629150", "title": "Is Pandas 0.16.1 groupby().apply() method applying function more than once to the same group?", "body": "<p>It is <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.apply.html\" rel=\"nofollow\">documented</a> behavior:</p>\n\n<blockquote>\n  <p>In the current implementation apply calls func twice on the first group to decide whether it can take a fast or slow code path. This can lead to unexpected behavior if func has side-effects, as they will take effect twice for the first group.</p>\n</blockquote>\n"}], "owner": {"reputation": 9391, "user_id": 717481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0292aeefc5c774d3acd0ca14914c5db2?s=128&d=identicon&r=PG", "display_name": "sparc_spread", "link": "https://stackoverflow.com/users/717481/sparc-spread"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "closed_date": 1433360426, "accepted_answer_id": 30629148, "answer_count": 2, "score": 1, "last_activity_date": 1433360318, "creation_date": 1433359957, "question_id": 30629031, "link": "https://stackoverflow.com/questions/30629031/is-pandas-0-16-1-groupby-apply-method-applying-function-more-than-once-to-th", "closed_reason": "Duplicate", "title": "Is Pandas 0.16.1 groupby().apply() method applying function more than once to the same group?", "body": "<p>I have noticed that in some cases with pandas 0.16.1, the <code>apply()</code> function on <code>groupby()</code> is being applied more than once to one or more of the output groups.  Here is a reproduction:</p>\n\n<pre><code>In [1]: \ndf2 = DataFrame ({\"a\" : [\"alpha\", \"alpha\", \"alpha\", \"beta\",\"beta\",\"beta\",\"beta\",\"gamma\"]})\ndf2 [\"b\"] = Series ([i for i in range(0,len(df2))])\ndf2\n\nOut [1]:\n    a   b\n0   alpha   0\n1   alpha   1\n2   alpha   2\n3   beta    3\n4   beta    4\n5   beta    5\n6   beta    6\n7   gamma   7\n\nIn [2]: \ndef my_func (df):\n    print(df.index)\n\nIn [3]: \ndf2.groupby(\"a\").apply(my_func)\n\nOut [3]:\nInt64Index([0, 1, 2], dtype='int64')\nInt64Index([0, 1, 2], dtype='int64')\nInt64Index([3, 4, 5, 6], dtype='int64')\nInt64Index([7], dtype='int64')\n</code></pre>\n\n<p>Notice the <code>[0,1,2]</code> index appearing twice in the output.  This would seem to indicate that the function was applied to the <code>alpha</code> group twice.  </p>\n\n<p>This is not a huge issue, since it's good practice for these functions to be idempotent in the first place.  However, if the functions are costly in terms of runtime (think big regression runs, etc.), it can be more of a problem.  </p>\n\n<p>Am I using the API incorrectly and/or misinterpreting this output, or is there a possible issue here?</p>\n"}, {"tags": ["python", "windows"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1433359852, "post_id": 30628943, "comment_id": 49323827, "body": "Try using a shebang, <code>#!&#47;bin&#47;env python2.7</code> at the top of your script referring to the location of <code>Python27</code> ?"}, {"owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "edited": false, "score": 0, "creation_date": 1433364764, "post_id": 30628943, "comment_id": 49326587, "body": "Set the environment variable <code>PYLAUNCH_DEBUG</code> to any value and run the script using <code>py my_file.py</code> in a Command Prompt window.  What output does this give you?"}, {"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1433401756, "post_id": 30628943, "comment_id": 49339181, "body": "@ZdaR It&#39;s important for this specific script not to have a shebang."}, {"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "reply_to_user": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "edited": false, "score": 0, "creation_date": 1433401908, "post_id": 30628943, "comment_id": 49339262, "body": "@LukeWoodward Output is this: <a href=\"https://gist.github.com/cool-RR/ffb9425e05b232e723cd\" rel=\"nofollow noreferrer\">gist.github.com/cool-RR/ffb9425e05b232e723cd</a>"}, {"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1433401938, "post_id": 30628943, "comment_id": 49339278, "body": "@eryksun I&#39;ve never installed Python 3.5, I think I got my launcher from Python 3.4."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1433425629, "post_id": 30628943, "comment_id": 49354994, "body": "@RamRachum, the similar behavior I thought I had with 3.5&#39;s launcher turned out to be unrelated. In 3.5 the launcher checks for and uses an active <code>VIRTUAL_ENV</code>. I had an active 3.4 virtual environment, which was overriding py.ini."}], "answers": [{"comments": [{"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 0, "creation_date": 1433416607, "post_id": 30640394, "comment_id": 49348840, "body": "Solid reasoning, but it doesn&#39;t work even after removing the shebang line. Debug output here: <a href=\"https://gist.github.com/cool-RR/b2f5e086a7adaeaf5cbd\" rel=\"nofollow noreferrer\">gist.github.com/cool-RR/b2f5e086a7adaeaf5cbd</a>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 0, "creation_date": 1433425422, "post_id": 30640394, "comment_id": 49354842, "body": "@RamRachum, but now your debug output says it can&#39;t find py.ini: &quot;<code>File &#39;C:\\Users\\Administrator\\AppData\\Local\\py.ini&#39; non-existent</code>&quot;. But it &quot;<code>found configured value &#39;python=3&#39; in environment</code>&quot;, i.e. the environment variable <code>PY_PYTHON=3</code> is set."}, {"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1433427956, "post_id": 30640394, "comment_id": 49356763, "body": "@eryksun Sorry, my mistake probably, but now I made sure that the file exists and still it doesn&#39;t work: <a href=\"https://gist.github.com/cool-RR/adbd67d87944a5971f0e\" rel=\"nofollow noreferrer\">gist.github.com/cool-RR/adbd67d87944a5971f0e</a>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 1, "creation_date": 1433429413, "post_id": 30640394, "comment_id": 49357943, "body": "@RamRachum, you still have <code>PY_PYTHON=3</code> set. That overrides py.ini."}], "tags": [], "owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "is_accepted": true, "score": 2, "last_activity_date": 1433410963, "creation_date": 1433410963, "answer_id": 30640394, "question_id": 30628943, "link": "https://stackoverflow.com/questions/30628943/the-python-windows-launcher-isnt-reading-py-ini/30640394#30640394", "title": "The Python Windows launcher isn&#39;t reading `py.ini`", "body": "<p>The <a href=\"https://docs.python.org/3.5/using/windows.html#shebang-lines\" rel=\"nofollow\">documentation for Python 3.5</a> describes this behaviour:</p>\n\n<blockquote>\n  <p>The <code>/usr/bin/env</code> form of shebang line has one further special property. Before looking for installed Python interpreters, this form will search the executable <code>PATH</code> for a Python executable. This corresponds to the behaviour of the Unix <code>env</code> program, which performs a <code>PATH</code> search.</p>\n</blockquote>\n\n<p>Oddly enough this same functionality appears to apply to Python 3.4 as well (or at least version 3.4.3), despite the <a href=\"https://docs.python.org/3.4/using/windows.html#shebang-lines\" rel=\"nofollow\">corresponding documentation page for Python 3.4</a> not mentioning it.  I've included a reproduction of this behaviour at the bottom of this answer.</p>\n\n<p>It seems your script contains the shebang line <code>#!/usr/bin/env python</code> at the top, and <code>C:\\Python34</code> is on your system's <code>PATH</code> before any appearance of <code>C:\\Python27</code>.  You say in a comment that</p>\n\n<blockquote>\n  <p>It's important for this specific script not to have a shebang</p>\n</blockquote>\n\n<p>but the line </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>parse_shebang: found command: python  \n</code></pre>\n\n<p>in your launcher output gives away the fact that the script must indeed have a shebang line.</p>\n\n<hr>\n\n<p>I have Python 2.7.10 and Python 3.4.3 installed on my system, with 3.4 before 2.7 on the <code>PATH</code>. I also have a <code>py.ini</code> file in <code>C:\\Users\\Luke\\AppData\\Local</code> which contains the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[defaults]\npython=2\n</code></pre>\n\n<p>and a <code>test.py</code> script that contains</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys; print(sys.version_info)\n</code></pre>\n\n<p>I've set the value of the environment variable <code>PYLAUNCH_DEBUG</code> to <code>1</code>.  Running this script using <code>py test.py</code>, I get the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>launcher build: 32bit\nlauncher executable: Console\nUsing local configuration file 'C:\\Users\\Luke\\AppData\\Local\\py.ini'\nFile 'C:\\WINDOWS\\py.ini' non-existent\nCalled with command line: test.py\nmaybe_handle_shebang: read 60 bytes\nmaybe_handle_shebang: BOM not found, using UTF-8\nparse_shebang: found command: python\nsearching PATH for python executable\nPython on path: C:\\Python34\\python.EXE\nlocated python on PATH: C:\\Python34\\python.EXE\nrun_child: about to run 'C:\\Python34\\python.EXE test.py'\nsys.version_info(major=3, minor=4, micro=3, releaselevel='final', serial=0)\nchild process exit code: 0\n</code></pre>\n\n<p>If I change my <code>test.py</code> script to</p>\n\n<pre><code>#! python\nimport sys; print(sys.version_info)\n</code></pre>\n\n<p>(i.e. remove the <code>/usr/bin/env</code> from the shebang line) and re-run <code>py test.py</code>, I get the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>launcher build: 32bit\nlauncher executable: Console\nUsing local configuration file 'C:\\Users\\Luke\\AppData\\Local\\py.ini'\nFile 'C:\\WINDOWS\\py.ini' non-existent\nCalled with command line: test.py\nmaybe_handle_shebang: read 48 bytes\nmaybe_handle_shebang: BOM not found, using UTF-8\nparse_shebang: found command: python\nlocating Pythons in 64bit registry\nlocate_pythons_for_key: unable to open PythonCore key in HKCU\nlocate_pythons_for_key: unable to open PythonCore key in HKLM\nlocating Pythons in native registry\nlocate_pythons_for_key: unable to open PythonCore key in HKCU\nlocate_pythons_for_key: C:\\Python27\\python.exe is a 32bit executable\nlocate_pythons_for_key: C:\\Python27\\PCBuild\\python.exe: The system cannot find the path specified.\nlocate_pythons_for_key: C:\\Python27\\PCBuild\\amd64\\python.exe: The system cannot find the path specified.\nlocate_pythons_for_key: C:\\Python34\\python.exe is a 32bit executable\nlocate_pythons_for_key: C:\\Python34\\PCBuild\\python.exe: The system cannot find the path specified.\nlocate_pythons_for_key: C:\\Python34\\PCBuild\\amd64\\python.exe: The system cannot find the path specified.\nfound configured value 'python=2' in C:\\Users\\Luke\\AppData\\Local\\py.ini\nsearch for default Python found version 2.7 at 'C:\\Python27\\python.exe'\nrun_child: about to run 'C:\\Python27\\python.exe test.py'\nsys.version_info(major=2, minor=7, micro=10, releaselevel='final', serial=0)\nchild process exit code: 0\n</code></pre>\n"}], "owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3630, "favorite_count": 2, "accepted_answer_id": 30640394, "answer_count": 1, "score": 5, "last_activity_date": 1433410963, "creation_date": 1433359677, "last_edit_date": 1433408839, "question_id": 30628943, "link": "https://stackoverflow.com/questions/30628943/the-python-windows-launcher-isnt-reading-py-ini", "title": "The Python Windows launcher isn&#39;t reading `py.ini`", "body": "<p>I currently have Python 3.4 as my default Python version, but I want to set Python 2.7 as the default one temporarily.</p>\n\n<p>I'm on Windows 7 and my Python scripts are run using the Python Windows launcher. <a href=\"https://docs.python.org/3.3/using/windows.html#customization\" rel=\"nofollow\">The documentation says</a> I can customize it by creating a <code>py.ini</code> file, but that doesn't work. I created a file with these contents:</p>\n\n<pre><code>[defaults]\npython=2.7\n</code></pre>\n\n<p>I've tried placing it in the same folder as the file I'm running, I tried placing it in <code>C:\\Users\\Administrator\\</code>, in <code>C:\\Users\\Administrator\\AppData\\</code> and in <code>C:\\Users\\Administrator\\AppData\\Local\\</code>, but none of these worked. The launcher still uses Python 3.4. (Both when I double-click the file in the Windows UI and both when I launch the launcher directly, like <code>py my_file.py</code>.)</p>\n\n<p><strong>Why is the Python Windows launcher ignoring my <code>py.ini</code> file?</strong></p>\n\n<p>Here's the output from running <code>py age.py</code> with the environment variable <code>PYLAUNCH_DEBUG</code> set:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>launcher build: 32bit                                                                 \nlauncher executable: Console                                                          \nUsing local configuration file 'C:\\Users\\Administrator\\AppData\\Local\\py.ini'          \nFile 'C:\\Windows\\py.ini' non-existent                                                 \nCalled with command line: age.py                                                      \nmaybe_handle_shebang: read 256 bytes                                                  \nmaybe_handle_shebang: BOM not found, using UTF-8                                      \nparse_shebang: found command: python                                                  \nsearching PATH for python executable                                                  \nPython on path: C:\\python34\\python.EXE                                                \nlocated python on PATH: C:\\python34\\python.EXE                                        \nrun_child: about to run 'C:\\python34\\python.EXE age.py'                               \nTraceback (most recent call last):                                                    \n  File \"age.py\", line 17, in &lt;module&gt;                                                 \n    name = raw_input(\"Enter a person's name to check their age: \")                    \nNameError: name 'raw_input' is not defined                                            \nchild process exit code: 1  \n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1433359888, "creation_date": 1433359888, "answer_id": 30629001, "question_id": 30628932, "link": "https://stackoverflow.com/questions/30628932/when-using-tkinter-in-python-3-how-do-you-get-a-button-to-run-a-function-each-t/30629001#30629001", "title": "When using tkinter in Python 3, how do you get a button to run a function each time it is pressed?", "body": "<p>You never saved the incremented value of <code>num</code>.</p>\n\n<pre><code>def increase():\n    global num # declare it a global so we can modify it\n    num += 1 # modify it\n    lbl1.configure(text = str(num)) # use it\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2337, "user_id": 4278243, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IUMpR.jpg?s=128&g=1", "display_name": "Aleksander Monk", "link": "https://stackoverflow.com/users/4278243/aleksander-monk"}, "is_accepted": false, "score": 0, "last_activity_date": 1433359925, "creation_date": 1433359925, "answer_id": 30629019, "question_id": 30628932, "link": "https://stackoverflow.com/questions/30628932/when-using-tkinter-in-python-3-how-do-you-get-a-button-to-run-a-function-each-t/30629019#30629019", "title": "When using tkinter in Python 3, how do you get a button to run a function each time it is pressed?", "body": "<p>It's because num is always 43</p>\n\n<pre><code>import tkinter as tk\nnum = 42\n\ndef increase():\n    global num\n    num += 1\n    lbl1.configure(text = str(num))\n\n\npanel = tk.Tk()\n\nlbl1 = tk.Label(panel, text = str(num))\nlbl1.pack()\nbtn = tk.Button(panel, text = 'Increase', command = increase)\nbtn.pack()\npanel.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4971092, "user_type": "registered", "profile_image": "https://graph.facebook.com/940759892652703/picture?type=large", "display_name": "manilt", "link": "https://stackoverflow.com/users/4971092/manilt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1433541732, "creation_date": 1433359659, "last_edit_date": 1433541732, "question_id": 30628932, "link": "https://stackoverflow.com/questions/30628932/when-using-tkinter-in-python-3-how-do-you-get-a-button-to-run-a-function-each-t", "title": "When using tkinter in Python 3, how do you get a button to run a function each time it is pressed?", "body": "<pre><code>import tkinter as tk\npanel = tk.Tk()\nnum = 42\nlbl1 = tk.Label(panel, text = str(num))\n</code></pre>\n\n<p>Let's say I have a function and button like this:</p>\n\n<pre><code>def increase():\n    lbl1.configure(text = str(num+1))\n\nbtn = tk.Button(panel, text = 'Increase', command = increase)\n\npanel.mainloop()\n</code></pre>\n\n<p>This button will make the number that is the label increase by 1 when pressing the button. However, this only works once before the button does absolutely nothing. How can I make it so that every time I press the button, the number increases by 1?</p>\n"}, {"tags": ["python", "eclipse", "python-2.7", "cuda", "theano"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 1, "creation_date": 1433360430, "post_id": 30628900, "comment_id": 49324160, "body": "It seems likely that <code>nvcc</code> is not in any of the paths being searched.  You may want to locate <code>nvcc.exe</code> on your system, and then add the path to it to your %PATH% environment variable, either permanently (via Windows computer properties...) or in the env.bat file (in the set PATH=... line).  I&#39;m not sure that has any bearing on the import config issue, but it may."}, {"owner": {"reputation": 734, "user_id": 3878508, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/biRvC.jpg?s=128&g=1", "display_name": "Troy Zuroske", "link": "https://stackoverflow.com/users/3878508/troy-zuroske"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1433362564, "post_id": 30628900, "comment_id": 49325410, "body": "That worked in solving my &quot;where nvcc&quot; issue. It can find that now so that thank you for that. It did not fix my AttritbuteError problem in the test file like I thought it would though. Not sure what the problem is now."}, {"owner": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "edited": false, "score": 0, "creation_date": 1433442086, "post_id": 30628900, "comment_id": 49365950, "body": "How was Theano installed? Are you trying to run the test file in the Theano src directory? Do you have a Python package of your own in the path called <code>theano</code> that is shadowing (i.e. hiding) the real theano package?"}, {"owner": {"reputation": 734, "user_id": 3878508, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/biRvC.jpg?s=128&g=1", "display_name": "Troy Zuroske", "link": "https://stackoverflow.com/users/3878508/troy-zuroske"}, "edited": false, "score": 0, "creation_date": 1433528973, "post_id": 30628900, "comment_id": 49408719, "body": "I actually just ended up installing it on a VM using Ubuntu. Much easier. Thanks for the help though."}], "answers": [{"tags": [], "owner": {"reputation": 5041, "user_id": 949321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/082c34b6c1544c177cb7a66609360089?s=128&d=identicon&r=PG", "display_name": "nouiz", "link": "https://stackoverflow.com/users/949321/nouiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1433508145, "creation_date": 1433508145, "answer_id": 30666848, "question_id": 30628900, "link": "https://stackoverflow.com/questions/30628900/theano-test-file-will-not-compile/30666848#30666848", "title": "Theano Test File Will Not Compile", "body": "<p>The first problem was fixed in the comments on the question.</p>\n\n<p>For the import, I suggest that you uninstall Theano. Do this many times to make sure you remove all version. Depending how you installed python, it could have installed an old version of Theano at the same time.</p>\n\n<p>Then install Theano development version.</p>\n\n<p>Then it can't find theano.config, most of the time is because there is problem in the installation or you use an old version that had problems related to Windows.</p>\n"}], "owner": {"reputation": 734, "user_id": 3878508, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/biRvC.jpg?s=128&g=1", "display_name": "Troy Zuroske", "link": "https://stackoverflow.com/users/3878508/troy-zuroske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433508145, "creation_date": 1433359574, "question_id": 30628900, "link": "https://stackoverflow.com/questions/30628900/theano-test-file-will-not-compile", "title": "Theano Test File Will Not Compile", "body": "<p>I have been trying to install Theano for windows 7 64 bit machine based off of the tutorial found on the website <a href=\"http://deeplearning.net/software/theano/install_windows.html#visual-studio-and-cuda\" rel=\"nofollow\">here</a>. I have gotten almost everything to work but after installing CUDA 5.5 and then continuing to on verifying the programs with these commands:</p>\n\n<p>\"Please do so, and verify that the following programs are found:</p>\n\n<ol>\n<li>where gcc</li>\n<li>where gendef</li>\n<li>where cl</li>\n<li>where nvcc\"</li>\n</ol>\n\n<p>The first three work fine but the last one returns \"INFO: Could not find files for the given pattern(s).\" I am not sure why because I installed CUDA and nvcc should be found. This is causing a larger problem because when I try to run this test file:</p>\n\n<pre><code>import numpy as np\nimport time\nimport theano\nA = np.random.rand(1000,10000).astype(theano.config.floatX)\nB = np.random.rand(10000,1000).astype(theano.config.floatX)\nnp_start = time.time()\nAB = A.dot(B)\nnp_end = time.time()\nX,Y = theano.tensor.matrices('XY')\nmf = theano.function([X,Y],X.dot(Y))\nt_start = time.time()\ntAB = mf(A,B)\nt_end = time.time()\nprint \"NP time: %f[s], theano time: %f[s] (times should be close when run on CPU!)\" %(np_end-np_start, t_end-t_start)\nprint \"Result difference: %f\" % (np.abs(AB-tAB).max(), )\n</code></pre>\n\n<p>Eclipsed throws the error at the fourth line under config saying \"Undefined variable from import: config\". Then when I run it anyways the error in the console is \"AttributeError: 'module' object has no attribute 'config'\"</p>\n\n<p>Any suggestions or advice on any of this is much appreciated.</p>\n"}, {"tags": ["python", "debugging", "pycharm"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1433359470, "post_id": 30628853, "comment_id": 49323636, "body": "As a side note you may use <code>dir(object)</code>"}, {"owner": {"reputation": 622, "user_id": 2949830, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/I9CgV.jpg?s=128&g=1", "display_name": "rusnasonov", "link": "https://stackoverflow.com/users/2949830/rusnasonov"}, "edited": false, "score": 1, "creation_date": 1514524827, "post_id": 30628853, "comment_id": 83004558, "body": "you can vote this <a href=\"https://youtrack.jetbrains.com/issue/PY-27760\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/PY-27760</a>"}, {"owner": {"reputation": 3495, "user_id": 471376, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/9dc7655e3512eb9cf4576c1990a4f775?s=128&d=identicon&r=PG", "display_name": "JamesThomasMoon", "link": "https://stackoverflow.com/users/471376/jamesthomasmoon"}, "edited": false, "score": 0, "creation_date": 1548824841, "post_id": 30628853, "comment_id": 95676761, "body": "Vote on <a href=\"https://youtrack.jetbrains.com/issue/PY-14849\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/PY-14849</a> .  PY-27760 is locked because it duplicates PY-14849."}], "answers": [{"tags": [], "owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "is_accepted": true, "score": 6, "last_activity_date": 1433363775, "last_edit_date": 1433363775, "creation_date": 1433363298, "answer_id": 30630040, "question_id": 30628853, "link": "https://stackoverflow.com/questions/30628853/is-there-a-way-in-pycharm-to-check-an-objects-methods-while-debugging/30630040#30630040", "title": "Is there a way in PyCharm to check an object&#39;s methods while debugging?", "body": "<p>I add <code>dir(variablename)</code> to the watch window to achieve this. If it's not visible, activate it with <kbd>Alt</kbd>+<kbd>5</kbd> (or <code>View/Tool Windows/Debug</code>).</p>\n\n<p><img src=\"https://i.stack.imgur.com/A0UnO.png\" alt=\"PyCharms Watches\"></p>\n\n<p>Another option is to use \"Evaluate Expression\" (<kbd>Alt</kbd>+<kbd>F8</kbd>) and do the same</p>\n\n<p><img src=\"https://i.stack.imgur.com/2muvb.png\" alt=\"PyCharms Evaluate Expression\"></p>\n\n<p>Using Community Edition 4.0.4 on Windows 7 SP1 x64 if that should matter.</p>\n"}], "owner": {"reputation": 197, "user_id": 2713948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nzkqq.jpg?s=128&g=1", "display_name": "Philip Dodson", "link": "https://stackoverflow.com/users/2713948/philip-dodson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1327, "favorite_count": 1, "accepted_answer_id": 30630040, "answer_count": 1, "score": 5, "last_activity_date": 1433363775, "creation_date": 1433359406, "question_id": 30628853, "link": "https://stackoverflow.com/questions/30628853/is-there-a-way-in-pycharm-to-check-an-objects-methods-while-debugging", "title": "Is there a way in PyCharm to check an object&#39;s methods while debugging?", "body": "<p>While debugging in PyCharm, it's easy to check an object's fields while execution is suspended.  Is there a way to similarly check the object's methods from the IDE, or is this a feature that has just not been implemented by JetBrains?  The builtin <code>hasattr</code> function checks for both, so one would think it would be an easy feature to implement in the IDE.</p>\n"}, {"tags": ["python", "linux", "bash"], "answers": [{"tags": [], "owner": {"reputation": 91305, "user_id": 19410, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/175f1d55c73ce5cb1d071dc4d0f1a333?s=128&d=identicon&r=PG", "display_name": "Alex Reynolds", "link": "https://stackoverflow.com/users/19410/alex-reynolds"}, "is_accepted": false, "score": 3, "last_activity_date": 1433364500, "last_edit_date": 1433364500, "creation_date": 1433359731, "answer_id": 30628961, "question_id": 30628805, "link": "https://stackoverflow.com/questions/30628805/average-time-and-cpu-linux/30628961#30628961", "title": "Average time and CPU Linux", "body": "<pre><code>#!/bin/bash -x\n\nsize=400\nn_cpu=4\ntrials=($(seq 1 30))\n\nfor trial in \"${trials[@]}\"\ndo\n    { time -p python \"script.py\" $size $size $n_cpu; } 2&gt; $trial.time\ndone \n\n# optional aggregation and cleanup\ncat *.time &gt; trials.txt &amp;&amp; rm -rf *.time\n</code></pre>\n\n<p>After that, you could pull <code>trials.txt</code> into an R or Python script to calculate runtime statistics (mean, std. deviation, etc.).</p>\n"}], "owner": {"reputation": 11, "user_id": 4971109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b582d04e5ab07798969a3bdda7a6fce?s=128&d=identicon&r=PG&f=1", "display_name": "dromenox", "link": "https://stackoverflow.com/users/4971109/dromenox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433364500, "creation_date": 1433359247, "question_id": 30628805, "link": "https://stackoverflow.com/questions/30628805/average-time-and-cpu-linux", "title": "Average time and CPU Linux", "body": "<p>I need to get the cpu usage and the execution time of a program in python. I have to make an average of 30 executions and <strong>must use the <code>time</code> command (Linux)</strong>. I've never worked with Linux before so I'm struggling to make it work. I've tried a number of ways and that's what I did so far.</p>\n\n<pre><code>#!/bin/bash\n\nsize=400\nn_cpu=4\n\n/usr/bin/time -f \"CPU:  %p    TIME:  %e\"\nfor i in {1..30};\ndo\n    python \"script.py\" $size $size $n_cpu\ndone \n</code></pre>\n\n<p>Could someone tell me what should I do?</p>\n"}, {"tags": ["python", "date", "datetime"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1433358817, "post_id": 30628599, "comment_id": 49323271, "body": "<code>days = (birthdate - currentDate).days</code>"}, {"owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "edited": false, "score": 0, "creation_date": 1433359028, "post_id": 30628599, "comment_id": 49323388, "body": "Wouldn&#39;t it be days =  (currentDate - birthdata).days as well instead of the other way around?"}], "answers": [{"comments": [{"owner": {"reputation": 24942, "user_id": 688653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/978a9f5060338657ddeb3781c6a3a2c8?s=128&d=identicon&r=PG", "display_name": "zw324", "link": "https://stackoverflow.com/users/688653/zw324"}, "reply_to_user": {"reputation": 21, "user_id": 4961959, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4969e2556710625484efedc42b38a28e?s=128&d=identicon&r=PG&f=1", "display_name": "Creative Username", "link": "https://stackoverflow.com/users/4961959/creative-username"}, "edited": false, "score": 0, "creation_date": 1433359274, "post_id": 30628677, "comment_id": 49323525, "body": "@CreativeUsername: No problem!"}], "tags": [], "owner": {"reputation": 24942, "user_id": 688653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/978a9f5060338657ddeb3781c6a3a2c8?s=128&d=identicon&r=PG", "display_name": "zw324", "link": "https://stackoverflow.com/users/688653/zw324"}, "is_accepted": false, "score": 2, "last_activity_date": 1433358807, "creation_date": 1433358807, "answer_id": 30628677, "question_id": 30628599, "link": "https://stackoverflow.com/questions/30628599/how-to-remove-time-from-date-python/30628677#30628677", "title": "How to remove time from date? (Python)", "body": "<p><code>days</code> is a <a href=\"https://docs.python.org/2/library/datetime.html#timedelta-objects\" rel=\"nofollow\"><code>timedelta</code></a> object, and you can directly access its <code>days</code> component:</p>\n\n<pre><code>&gt;&gt;&gt; days.days # -6806\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1433358938, "post_id": 30628682, "comment_id": 49323339, "body": "While this could print <i>&quot;You were born 1 days ago&quot;</i> given the wrong input, that&#39;s probably not an issue for your target users"}], "tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1433358825, "creation_date": 1433358825, "answer_id": 30628682, "question_id": 30628599, "link": "https://stackoverflow.com/questions/30628599/how-to-remove-time-from-date-python/30628682#30628682", "title": "How to remove time from date? (Python)", "body": "<p>What you're actually asking to do is remove the time from the <code>__str__</code> of a <code>timedelta</code> object, not a datetime object. The only way to do this is build your own string - <code>timedelta</code>'s output format is not configurable.</p>\n\n<pre><code>print('You were born {} days ago'.format(days.days))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4961959, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4969e2556710625484efedc42b38a28e?s=128&d=identicon&r=PG&f=1", "display_name": "Creative Username", "link": "https://stackoverflow.com/users/4961959/creative-username"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1433358825, "creation_date": 1433358543, "last_edit_date": 1433358606, "question_id": 30628599, "link": "https://stackoverflow.com/questions/30628599/how-to-remove-time-from-date-python", "title": "How to remove time from date? (Python)", "body": "<p>I'm new to Python and programming in general. I was wondering, how would I remove the time form a date?\nHere is my code:</p>\n\n<pre><code>import datetime\ncurrentDate = datetime.date.today()\n\nuserInput = input(\"Please enter your birth date? (dd/mm/yyyy) )\")\nbirthdate = datetime.datetime.strptime(userInput, \"%d/%m/%Y\").date()\n\ndays = birthdate - currentDate\nprint('You were born ' +str(days), 'ago')\n</code></pre>\n\n<p>At the moment, if I typed in my birth date which is 14/10/1996, it outputs \"You were born 6806 days, 00:00:00 ago.\" and I want it to just output the date so it would end up like this \"You were born 6806 days ago.\"</p>\n\n<p>Any help would be greatly appreciated! </p>\n"}, {"tags": ["python", "python-2.7", "gensim", "word2vec"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4718092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca577fd91242f994f80b691cdc2d66e?s=128&d=identicon&r=PG&f=1", "display_name": "Searcher", "link": "https://stackoverflow.com/users/4718092/searcher"}, "edited": false, "score": 0, "creation_date": 1433363765, "post_id": 30629100, "comment_id": 49326086, "body": "He said &quot;Divide your data set into 2 equal size data set, then train both of them&quot; I can also think like that, with my newdata and olddata, if I say newdata=data_of_size1, and olddata=data_of_size2, where size1=size2. If I merge my model of newdata and model of olddata my problem gets solved. Am I wrong if I say it? But how to do it?"}, {"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "reply_to_user": {"reputation": 1, "user_id": 4718092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca577fd91242f994f80b691cdc2d66e?s=128&d=identicon&r=PG&f=1", "display_name": "Searcher", "link": "https://stackoverflow.com/users/4718092/searcher"}, "edited": false, "score": 0, "creation_date": 1433523084, "post_id": 30629100, "comment_id": 49405659, "body": "Often times models use aggregated data that cannot be directly merged. Regardless is the size of the data, is the models can work on their own, just use them separately and merge the predictions instead."}], "tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": false, "score": 1, "last_activity_date": 1433360180, "creation_date": 1433360180, "answer_id": 30629100, "question_id": 30628566, "link": "https://stackoverflow.com/questions/30628566/averaging-multiple-models-word2vec-gensim/30629100#30629100", "title": "Averaging Multiple Models Word2vec Gensim", "body": "<p>The answer you pointed to does NOT suggest merging the models as a solution. Actually, they are suggesting you to use the different models that you have separately. Cast a prediction with each of the models and then combine the answers. There are several approaches to combine the output. In your case you mention you have several models, so you can ignore the part of that answer where they suggest to break your training data in 2 in order to actually have 3 models casting predictions. You can use a majority voting policy as long as you have more than 2 predictions.</p>\n"}], "owner": {"reputation": 1, "user_id": 4718092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca577fd91242f994f80b691cdc2d66e?s=128&d=identicon&r=PG&f=1", "display_name": "Searcher", "link": "https://stackoverflow.com/users/4718092/searcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433361282, "creation_date": 1433358420, "last_edit_date": 1495539978, "question_id": 30628566, "link": "https://stackoverflow.com/questions/30628566/averaging-multiple-models-word2vec-gensim", "title": "Averaging Multiple Models Word2vec Gensim", "body": "<p>I have trained few million words in <code>Word2Vec</code> of <code>Gensim</code> of Python. I want to update this trained model with new data. \nBut from your previous posts and other sources around the web I came to know this is not possible.\nSo I am trying to create multiple models and dump them. Now I want to merge the models I am dumping. I want to use these dumped results. I got a previous post <a href=\"https://stackoverflow.com/questions/30482669/merging-pretrained-models-in-word2vec\">Merging pretrained models in Word2Vec?</a>\nbut I am not getting how to do it. I came to know there is a library named deepdist, I am trying to see some experiments around:</p>\n\n<pre><code>model = word2vec.Word2Vec.load_word2vec_format('/tmp/vectors.bin', binary=True)\n</code></pre>\n\n<ol>\n<li>Is there a possible solution?</li>\n<li>If any, one may kindly suggest how to do it?</li>\n</ol>\n\n<p>I am using Python2.7 on Windows 7 Professional. </p>\n"}, {"tags": ["python", "logging"], "comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1433358623, "post_id": 30628487, "comment_id": 49323162, "body": "Just a guess: try to comment out one of the lines where you <code>self.component_logger.addHandler...</code> and see if it solves the issue."}, {"owner": {"reputation": 585, "user_id": 2849587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000511956357/picture?type=large", "display_name": "Ian", "link": "https://stackoverflow.com/users/2849587/ian"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1433358897, "post_id": 30628487, "comment_id": 49323324, "body": "That didn&#39;t work. Thanks though"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1433359594, "post_id": 30628487, "comment_id": 49323703, "body": "Another shot: try to <code>setFormatter</code> to the <code>stream_handler</code>  as well"}, {"owner": {"reputation": 585, "user_id": 2849587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000511956357/picture?type=large", "display_name": "Ian", "link": "https://stackoverflow.com/users/2849587/ian"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1433424812, "post_id": 30628487, "comment_id": 49354389, "body": "Thanks, it worked for formatting the duplicated input. I ended up setting self.component_logger.propogate to False to stop the duplication of output. Thanks @alfasin . Now the only problem is organizing the output from sub processes and I should be able to do that. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 2849587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000511956357/picture?type=large", "display_name": "Ian", "link": "https://stackoverflow.com/users/2849587/ian"}, "is_accepted": true, "score": 1, "last_activity_date": 1433427594, "creation_date": 1433427594, "answer_id": 30646390, "question_id": 30628487, "link": "https://stackoverflow.com/questions/30628487/python-logs-displaying-multiple-times-in-stdout/30646390#30646390", "title": "Python Logs displaying multiple times in stdout", "body": "<p>Another shot: try to setFormatter to the stream_handler as well \u2013  alfasin 18 hours ago</p>\n\n<p>Thanks, it worked for formatting the duplicated input. I ended up setting self.component_logger.propogate to False to stop the duplication of output. Thanks @alfasin . Now the only problem is organizing the output from sub processes and I should be able to do that. Thanks! \u2013  Ian 45 mins ago   </p>\n\n<pre><code>self.component_logger = logging.getLogger(self.__class__.__name__)\n    self.stream_handler = logging.StreamHandler(sys.stdout)\n    self.buffered_handler = logging.handlers.MemoryHandler(500000, flushLevel='ERROR', target=self.stream_handler)\n    self.stream_handler.setFormatter((logging.Formatter(\"[%(threadName)s] %(levelname)s - %(asctime)s [%(lineno)d]: %(message)s\")))\n    # self.component_logger.addHandler(self.stream_handler)\n    self.component_logger.addHandler(self.buffered_handler)\n    self.component_logger.propagate = False\n</code></pre>\n"}], "owner": {"reputation": 585, "user_id": 2849587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100000511956357/picture?type=large", "display_name": "Ian", "link": "https://stackoverflow.com/users/2849587/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "accepted_answer_id": 30646390, "answer_count": 1, "score": 1, "last_activity_date": 1517270333, "creation_date": 1433358113, "last_edit_date": 1517270333, "question_id": 30628487, "link": "https://stackoverflow.com/questions/30628487/python-logs-displaying-multiple-times-in-stdout", "title": "Python Logs displaying multiple times in stdout", "body": "<p>I currently have two classes. A subclass and a superclass. All my superclass does is thread the methods in the subclass. The subclass's logs were out of order, and I was told to fix it. The logs are now in order, but the log reprints with a format and without format. I've been working on this all day and can't figure out how to fix it. Any and all constructive help would be appreciated.</p>\n\n<p>This is inside of the subclass...</p>\n\n<pre><code># -----------\n    self.component_logger = logging.getLogger(self.__class__.__name__)\n    self.stream_handler = logging.StreamHandler(sys.stdout)\n    self.buffered_handler = logging.handlers.MemoryHandler(500000, flushLevel='ERROR', target=self.stream_handler)\n    self.component_logger.addHandler(self.stream_handler)\n    self.component_logger.addHandler(self.buffered_handler)\n\n    self.buffered_handler.setFormatter(logging.Formatter(\"[%(threadName)s] %(levelname)s - %(asctime)s [%(lineno)d]: %(message)s\"))\n # -----------\n</code></pre>\n\n<p>I call flush in the super class </p>\n\n<pre><code>for component in components:\n        t = threading.Thread(target=threaded_start, name=component.component_id, args=(component, exceptions_queue))\n        t.start()\n        threads.append(t)\n    for t in threads:\n        t.join(timeout=60)\n    for component in components:\n        component.buffered_handler.flush()\n\n    #Reset log formatting\n    logging.getLogger().handlers[0].setFormatter(logging.Formatter(\"%(levelname)s - %(asctime)s [%(lineno)d]: %(message)s\"))\n\n    #Gather results and reformat logs\n    logging.info(\"Finished threaded starts.\")\n</code></pre>\n\n<p>Currently still printing like this... (general example)</p>\n\n<pre><code> Starting l2-ilogin   active\n Starting l2-ilogin   active\n [L2-0] DEBUG - 2015-06-03 14:58:18,129 [57]: Starting l2-ilogin   active\n Starting l2-mgmt     active\n Starting l2-mgmt     active\n [L2-0] DEBUG - 2015-06-03 14:58:18,129 [57]: Starting l2-mgmt     active\n</code></pre>\n\n<p>Where the first two are repeats and the third is the formatted version (this is the output).</p>\n"}]