[{"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1423699253, "post_id": 28466960, "comment_id": 45259438, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28444532/python-function-to-find-out-if-a-tuple-contains-even-numbers\">Python: Function to find out if a tuple contains even numbers?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423699994, "post_id": 28467004, "comment_id": 45259677, "body": "Not sure why that didnt work: Traceback (most recent call last):   File &quot;&lt;pyshell#69&gt;&quot;, line 1, in &lt;module&gt;     any_even(2,3) TypeError: any_even() takes 1 positional argument but 2 were given"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423700211, "post_id": 28467004, "comment_id": 45259747, "body": "your input must be <code>any_even( (x,y,z) )</code> you had it <code>any_even(x,y)</code>"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423700451, "post_id": 28467004, "comment_id": 45259815, "body": "can you post the working function? still having trouble"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423700493, "post_id": 28467004, "comment_id": 45259826, "body": "<code>any_even((2,3))</code> instead of <code>any_even(2,3) </code>"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423700664, "post_id": 28467004, "comment_id": 45259858, "body": "oh, the input has to be in that form. i got it, thanks"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423701067, "post_id": 28467004, "comment_id": 45259967, "body": "<code>tuple</code> is a built-in. I&#39;d change that."}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": true, "score": 2, "last_activity_date": 1423701357, "last_edit_date": 1423701357, "creation_date": 1423699404, "answer_id": 28467004, "question_id": 28466960, "link": "https://stackoverflow.com/questions/28466960/input-with-tuple-and-choosing-odd-or-even/28467004#28467004", "title": "Input with tuple and choosing odd or even", "body": "<pre><code>def any_even(foo):\n    for i in foo:\n        if i % 2 == 0:\n            return True\n    return False\n</code></pre>\n\n<p>You got the correct idea, however, you must iterate over the tuple<br>\njust like you would in a list.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423700020, "creation_date": 1423700020, "answer_id": 28467100, "question_id": 28466960, "link": "https://stackoverflow.com/questions/28466960/input-with-tuple-and-choosing-odd-or-even/28467100#28467100", "title": "Input with tuple and choosing odd or even", "body": "<pre><code>any_even = lambda x: sum([1 for i in x if i % 2 == 0]) &gt; 0\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 28467004, "answer_count": 2, "score": 2, "last_activity_date": 1423701357, "creation_date": 1423699183, "last_edit_date": 1423699935, "question_id": 28466960, "link": "https://stackoverflow.com/questions/28466960/input-with-tuple-and-choosing-odd-or-even", "title": "Input with tuple and choosing odd or even", "body": "<p>I am trying to define a function that returns true if any of the inputted numbers are even.  1.) I do not know how to make python return true if both odd and even numbers are inputted.  For example, one input could be (1,2,3,4).  To me, that is true, but not to my function.  I only know how to tell python what is odd and what is even.  2.)  The input has to be in tuple form, and I only know how to input in (x,y) form.</p>\n\n<p>This is what I have so far:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def any_even(tuple):\n    \"\"\"returns true if tuple has any even integers in it\n    int -&gt; int\"\"\"\n    if tuple % 2 == 0:\n        return True\n    else:\n        return False\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 6814, "user_id": 1205745, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a11ba35d089eaa7eeb31a15a7b93240c?s=128&d=identicon&r=PG", "display_name": "Dnaiel", "link": "https://stackoverflow.com/users/1205745/dnaiel"}, "edited": false, "score": 0, "creation_date": 1423701412, "post_id": 28467274, "comment_id": 45260082, "body": "Hi JAB, thanks, however, if I do tt = df.groupby([&#39;year&#39;,&#39;dico&#39;]).mean(), and then if I do tt[&#39;year&#39;] seems not to work because tt is not a dataframe with those columns anymore.... anyway to access that info still?"}], "tags": [], "owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "is_accepted": true, "score": 1, "last_activity_date": 1423701790, "last_edit_date": 1423701790, "creation_date": 1423701296, "answer_id": 28467274, "question_id": 28466913, "link": "https://stackoverflow.com/questions/28466913/basic-panda-questions-related-to-slicing-and-aggregating-tables/28467274#28467274", "title": "basic panda questions related to slicing and aggregating tables", "body": "<p>values from series in a list:</p>\n\n<pre><code>df['year'].values #returns an array\n</code></pre>\n\n<p><code>loc</code> lets you subset a dateframe by index labels:</p>\n\n<pre><code>df.loc[['a','b'],['year','values']]\n</code></pre>\n\n<p>Group by lets you aggregate over columns:</p>\n\n<pre><code>df.groupby(['year','dico'],as_index=False).mean() #don't have 2013 in your df\n</code></pre>\n\n<p>Filtering by a column value:</p>\n\n<pre><code>df[df['mybool']==True]\n</code></pre>\n"}], "owner": {"reputation": 6814, "user_id": 1205745, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a11ba35d089eaa7eeb31a15a7b93240c?s=128&d=identicon&r=PG", "display_name": "Dnaiel", "link": "https://stackoverflow.com/users/1205745/dnaiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 28467274, "answer_count": 1, "score": 1, "last_activity_date": 1423701790, "creation_date": 1423698917, "last_edit_date": 1423699560, "question_id": 28466913, "link": "https://stackoverflow.com/questions/28466913/basic-panda-questions-related-to-slicing-and-aggregating-tables", "title": "basic panda questions related to slicing and aggregating tables", "body": "<p>I am getting familiar with Pandas and I want to learn the logic with a few simple examples.</p>\n\n<p>Let us say I have the following panda DataFrame object:</p>\n\n<pre><code>import pandas as pd\nd = {'year':pd.Series([2014,2014,2014,2014], index=['a','b','c','d']),\n     'dico':pd.Series(['A','A','A','B'], index=['a','b','c','d']),\n     'mybool':pd.Series([True,False,True,True], index=['a','b','c','d']),\n     'values':pd.Series([10.1,1.2,9.5,4.2], index=['a','b','c','d'])}\ndf = pd.DataFrame(d)\n</code></pre>\n\n<p><strong>Basic Question</strong>.\nHow do I take a column as a list.\nI.e., <code>d['year']</code>\nwould return </p>\n\n<pre><code>[2013,2014,2014,2014]\n</code></pre>\n\n<p><strong>Question 0</strong>\nHow do I take rows 'a' and 'b' and columns 'year' and 'values' as a new dataFrame?\nIf I try:</p>\n\n<pre><code>d[['a','b'],['year','values']]\n</code></pre>\n\n<p>it doesn't work.</p>\n\n<p><strong>Question 1.</strong></p>\n\n<p>How would I aggregate (sum/average) the values column by the year, and dico columns, for example.  I.e., such that different years/dico combinations would not be added, but basically mybool would be removed from the list.</p>\n\n<p>I.e., after aggregation (this case average) I should get:</p>\n\n<pre><code>tipo  values               year\nA      10.1                2013\nA      (9.5+1.2)/2         2014\nB      4.2                 2014\n</code></pre>\n\n<p>If I try the groupby function it seems to output some odd new DataFrame structure with bool in it, and all possible years/dico combinations - my objective is rather to have that simpler new sliced and smaller dataframe I showed above.</p>\n\n<p><strong>Question 2</strong>.  How do I filter by a condition?</p>\n\n<p>I.e., I want to filter out all bool columns that are False.\nIt'd return:</p>\n\n<pre><code>tipo   values               year   mybool\nA      10.1                2013    True\nA      9.5                 2014    True\nB      4.2                 2014    True\n</code></pre>\n\n<p>I've tried the panda tutorial but I still get some odd behavior so asking directly seems to be a better idea.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "splinter"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423698848, "post_id": 28466848, "comment_id": 45259282, "body": "Surely the trickier bit would be writing the code to determine whether or not you know if they&#39;re any good at that skill?"}], "answers": [{"tags": [], "owner": {"reputation": 1813, "user_id": 3011648, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3xHwR.jpg?s=128&g=1", "display_name": "hello_there_andy", "link": "https://stackoverflow.com/users/3011648/hello-there-andy"}, "is_accepted": true, "score": 0, "last_activity_date": 1423699377, "last_edit_date": 1423699377, "creation_date": 1423699072, "answer_id": 28466944, "question_id": 28466848, "link": "https://stackoverflow.com/questions/28466848/in-python-splinter-how-can-i-click-on-un-endorsed-linkedin-skills/28466944#28466944", "title": "In python: splinter, how can I .click() on un-endorsed linkedin skills?", "body": "<p>You need to <code>.click()</code> on the <code>&lt;a class=\"endorse-button\" role=\"button\" href=\"javascript:void(0)\"&gt;</code> element of a given skill.</p>\n\n<p>You can filter the skills that are not yet endorsed by checking if there is <strong>\"endorsable\"</strong> in a parent element of the button element (mentioned above) has <code>class=\"endorse-item has-endorsements endorsable\"</code>. Specifically: <code>&lt;li class=\"endorse-item has-endorsements endorsable\" data-endorsed-item-name=\"Molecular Biology\"&gt;</code>.</p>\n\n<p>The string <strong>\"endorsable\"</strong> is what separates un-endorsed skills from endorsed ones, for example, already endorsed skills appear as: <code>&lt;li class=\"endorse-item has-endorsements endorsed-by-viewer\" data-endorsed-item-name=\"genetics\"&gt;</code>; where instead of <strong>\"endorsable\"</strong> you have the string <strong>\"endorsed-by-viewer\"</strong>.</p>\n\n<p>The code required to filter, then click on endorsable skills is thus:</p>\n\n<pre><code>##############################################################\n# Searches for the \"endorse skills\" buttons and iteratively clicks them...\n##############################################################\n\nlist_of_skills = browser.find_by_id(\"profile-skills\")[0].find_by_css(\"li\")\n\nfor skill in list_of_skills:\n\n    if skill.has_class(\"endorse-item has-endorsements endorsable\"):\n\n        # ...this skill can be endorsed\n\n        button_and_other = skill.find_by_css(\"div\")[0].find_by_css(\"a\") # there are two elements that match \"a\": [0] list of endorsers, [1] the endorse button\n\n        for css in button_and_other:\n\n            if css.has_class(\"endorse-button\"): # ..if the element has the class: \"endorse-button\" we click it\n\n                css.click()\n    else:\n\n        # ...this skill is already endorsed\n\n        pass\n</code></pre>\n"}], "owner": {"reputation": 1813, "user_id": 3011648, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3xHwR.jpg?s=128&g=1", "display_name": "hello_there_andy", "link": "https://stackoverflow.com/users/3011648/hello-there-andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 28466944, "answer_count": 1, "score": 0, "last_activity_date": 1423699377, "creation_date": 1423698621, "question_id": 28466848, "link": "https://stackoverflow.com/questions/28466848/in-python-splinter-how-can-i-click-on-un-endorsed-linkedin-skills", "title": "In python: splinter, how can I .click() on un-endorsed linkedin skills?", "body": "<p><strong>Previous research</strong></p>\n\n<p>I haveve read the splinter help docs and searched Stack Overflow and spent about 4 hours trying various ideas, mainly playing with dir() in combination with firefox's \"inspect element\" feature. No success.</p>\n\n<p><strong>Question</strong></p>\n\n<p>I am struggling to figure out how I can automatically endorse skills of my connections in Linkedin, restricting the interaction to skills that are <strong>not yet endorsed</strong>. To the Human eye, such skills are presented with a <strong>grey cross</strong> as opposed to a <strong>blue cross</strong> had that skill already been endorsed. </p>\n\n<p><img src=\"https://i.stack.imgur.com/WQXEs.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423698658, "post_id": 28466829, "comment_id": 45259222, "body": "is it always &#39;+&#39; and lowercase letters?"}, {"owner": {"reputation": 137, "user_id": 3121361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564481125/picture?type=large", "display_name": "Wilson Mak", "link": "https://stackoverflow.com/users/3121361/wilson-mak"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423699050, "post_id": 28466829, "comment_id": 45259357, "body": "Yes. that is always the case."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423699187, "post_id": 28466829, "comment_id": 45259410, "body": "i think the index value would change in case of <code>i153a+l203f</code>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 3121361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564481125/picture?type=large", "display_name": "Wilson Mak", "link": "https://stackoverflow.com/users/3121361/wilson-mak"}, "edited": false, "score": 0, "creation_date": 1423702963, "post_id": 28467002, "comment_id": 45260488, "body": "Thanks! I am really new to programming in general and I&#39;m not that familiar with the itertool module. Could you please explain a little more what the following two lines are doing exactly? fillers = map(get_filler,zip(my_numbers,my_numbers[1:])) #figure out what fillers we need print &quot;&quot;.join(itertools.chain.from_iterable(zip(parts,fillers)))+p&zwnj;&#8203;arts[-1]"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 137, "user_id": 3121361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564481125/picture?type=large", "display_name": "Wilson Mak", "link": "https://stackoverflow.com/users/3121361/wilson-mak"}, "edited": false, "score": 0, "creation_date": 1423703630, "post_id": 28467002, "comment_id": 45260665, "body": "<code>itertools.chain</code> simply takes a 2d list and flattens it ... it is one of many ways to do that ... the line above zips the list of numbers with itself to get pairs of adjacent numbers and maps them to a function that decides on + or _"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 2, "last_activity_date": 1423699389, "creation_date": 1423699389, "answer_id": 28467002, "question_id": 28466829, "link": "https://stackoverflow.com/questions/28466829/python-find-and-replace-upon-condition-with-a-function/28467002#28467002", "title": "Python find and replace upon condition / with a function", "body": "<pre><code>import itertools,re\n\nmy_string =  \"n76a+q80a+l83a+i153a+l203f+r207a+s211a+s215w+f216a+e283l\"\n#first extract the numbers    \nmy_numbers = map(int,re.findall(\"[0-9]+\",my_string))\n#split the string on + (useless comment)\nparts = my_string.split(\"+\")\n\ndef get_filler((a,b)):\n    '''this method decides on the joiner'''\n    return \"_\" if abs(a-b) &lt; 10 else '+'\n\nfillers = map(get_filler,zip(my_numbers,my_numbers[1:])) #figure out what fillers we need\nprint \"\".join(itertools.chain.from_iterable(zip(parts,fillers)))+parts[-1] #it will always skip the last part so gotta add it\n</code></pre>\n\n<p>is one way you might accomplish this... and is also an example of worthless comments</p>\n"}, {"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1423700546, "last_edit_date": 1423700546, "creation_date": 1423700165, "answer_id": 28467119, "question_id": 28466829, "link": "https://stackoverflow.com/questions/28466829/python-find-and-replace-upon-condition-with-a-function/28467119#28467119", "title": "Python find and replace upon condition / with a function", "body": "<p>Through <code>re</code> module only.</p>\n\n<pre><code>&gt;&gt;&gt; s = 'n76a+q80a+l83a+i153a+l203f+r207a+s211a+s215w+f216a+e283l'\n&gt;&gt;&gt; m = re.findall(r'(?=\\b([^+]+\\+[^+]+))', s)               # This regex would helps to do a overlapping match. See the  demo (https://regex101.com/r/jO6zT2/13)\n&gt;&gt;&gt; m\n['n76a+q80a', 'q80a+l83a', 'l83a+i153a', 'i153a+l203f', 'l203f+r207a', 'r207a+s211a', 's211a+s215w', 's215w+f216a', 'f216a+e283l']\n&gt;&gt;&gt; l = []\n&gt;&gt;&gt; for i in m:\n        if abs(int(re.search(r'^\\D*(\\d+)', i).group(1)) -    int(re.search(r'^\\D*\\d+\\D*(\\d+)', i).group(1))) &lt; 10:\n            l.append(i.replace('+', '_'))\n        else:\n            l.append(i)\n&gt;&gt;&gt; re.sub(r'([a-z0-9]+)\\1', r'\\1',''.join(l))\n'n76a_q80a_l83a+i153a+l203f_r207a_s211a_s215w_f216a+e283l'\n</code></pre>\n\n<p>By defining a separate function.</p>\n\n<pre><code>import re\ndef aa_dist(x):\n    l = []\n    m = re.findall(r'(?=\\b([^+]+\\+[^+]+))', x)\n    for i in m:\n        if abs(int(re.search(r'^\\D*(\\d+)', i).group(1)) - int(re.search(r'^\\D*\\d+\\D*(\\d+)', i).group(1))) &lt; 10:\n            l.append(i.replace('+', '_'))\n        else:\n            l.append(i)\n    return re.sub(r'([a-z0-9]+)\\1', r'\\1',''.join(l))\n\nstring = 'n76a+q80a+l83a+i153a+l203f+r207a+s211a+s215w+f216a+e283l'\nprint  aa_dist(string)  \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>n76a_q80a_l83a+i153a+l203f_r207a_s211a_s215w_f216a+e283l\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 3121361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564481125/picture?type=large", "display_name": "Wilson Mak", "link": "https://stackoverflow.com/users/3121361/wilson-mak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28467002, "answer_count": 2, "score": 0, "last_activity_date": 1423700624, "creation_date": 1423698518, "last_edit_date": 1423700624, "question_id": 28466829, "link": "https://stackoverflow.com/questions/28466829/python-find-and-replace-upon-condition-with-a-function", "title": "Python find and replace upon condition / with a function", "body": "<pre><code>String = n76a+q80a+l83a+i153a+l203f+r207a+s211a+s215w+f216a+e283l\n</code></pre>\n\n<p>I want the script to look at a pair at a time meaning:</p>\n\n<p>evaluate n76a+q80a. if abs(76-80) &lt; 10, then replace '+' with a '_': \n                        else don't change anything.\nThen evaluate q80a+l83a next and do the same thing.</p>\n\n<p>The desired output should be:</p>\n\n<pre><code>n76a_q80a_l83a+i153a+l203f_r207a_s211a_s215w_f216a+e283l\n</code></pre>\n\n<p>What i tried is,</p>\n\n<pre><code>def aa_dist(x):\nif abs(int(x[1:3]) - int(x[6:8])) &lt; 10:\n    print re.sub(r'\\+', '_', x)\n\nwith open(input_file, 'r') as alex:\n    oligos_list = alex.read()\n    aa_dist(oligos_list)\n</code></pre>\n\n<p>This is what I have up to this point. I know that my code will just replace all '+' into '_' because it only evaluates the first pair and and replace all. How should I do this?</p>\n"}, {"tags": ["python", "datetime", "csv", "pandas", "pad"], "comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 1, "creation_date": 1423705272, "post_id": 28466772, "comment_id": 45261138, "body": "df.index should be a <code>DatetimeIndex</code>, I recommend using <code>pd.to_datetime</code> rather than the pd.DatetimeIndex constructor. <code>df.index.names</code> is the &quot;index header&quot; (the columns are labelled, e.g. &quot;Rate&quot;, so can the levels of the index)."}, {"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "reply_to_user": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1423708552, "post_id": 28466772, "comment_id": 45261983, "body": "can I do that during cvs import (pd.read_csv())"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1423719913, "post_id": 28466772, "comment_id": 45265015, "body": "Yes, <code>parse_dates=True</code> may do the trick."}, {"owner": {"reputation": 10841, "user_id": 105484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2eff88bb0c22cdffb3159b325c93150d?s=128&d=identicon&r=PG", "display_name": "nategood", "link": "https://stackoverflow.com/users/105484/nategood"}, "edited": false, "score": 0, "creation_date": 1429289995, "post_id": 28466772, "comment_id": 47545990, "body": "Your first example shows that 01/03 and 01/04 were missing, but your &quot;data after correction&quot; shows a completely different range, claiming that 1/30 and 1/31 were newly generated. Seems like you would want to show the same time period before and after."}, {"owner": {"reputation": 1592, "user_id": 594431, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ee3bfe15c7cbbc94883c206430e3dc96?s=128&d=identicon&r=PG", "display_name": "Manto", "link": "https://stackoverflow.com/users/594431/manto"}, "edited": false, "score": 0, "creation_date": 1533433814, "post_id": 28466772, "comment_id": 90343402, "body": "Update: <code>fill_method=&quot;pad&quot;</code> has since been deprecated. Use <code>.resample(...).pad()</code> instead"}], "answers": [{"comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1423698635, "post_id": 28466825, "comment_id": 45259218, "body": "Now you&#39;ve updated with ohlc, I&#39;m not sure if you can how=&#39;ohlc&#39; on an already ohlc DataFrame (there is an issue about that though), you can resample each column individually (i.e. high with how=&#39;max&#39;, low with how=&#39;min&#39;, rate with how=&#39;mean&#39;). That&#39;s if you have multiple entries for a day, if you don&#39;t its all good."}, {"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1423702712, "post_id": 28466825, "comment_id": 45260413, "body": "Thanks.. I&#39;m getting : TypeError: Only valid with DatetimeIndex, TimedeltaIndex or PeriodIndex ?? when I try it ... df.index.names gives back : FrozenList([u&#39;Date&#39;]) , if it means something .."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 2, "creation_date": 1423705123, "post_id": 28466825, "comment_id": 45261095, "body": "@user1019129 your index is not a DatetimeIndex, you can make it so with <code>df.index = pd.to_datetime(df.index)</code>."}, {"owner": {"reputation": 10841, "user_id": 105484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2eff88bb0c22cdffb3159b325c93150d?s=128&d=identicon&r=PG", "display_name": "nategood", "link": "https://stackoverflow.com/users/105484/nategood"}, "edited": false, "score": 1, "creation_date": 1429290568, "post_id": 28466825, "comment_id": 47546418, "body": "Related. I was looking to fill daily gaps and interpret them as 0s (e.g. there was no data to collect that day). <code>fillna</code> does the trick. <code>df2 = df.resample(&#39;D&#39;, how=&#39;mean&#39;).fillna(0)</code>"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": false, "score": 11, "last_activity_date": 1423698494, "creation_date": 1423698494, "answer_id": 28466825, "question_id": 28466772, "link": "https://stackoverflow.com/questions/28466772/filling-date-gaps-in-pandas-dataframe/28466825#28466825", "title": "Filling date gaps in pandas dataframe", "body": "<p>You'll could resample by day e.g. using mean if there are multiple entries per day:</p>\n\n<pre><code>df.resample('D', how='mean')\n</code></pre>\n\n<p>You can then <code>ffill</code> to replace NaNs with the previous days result.</p>\n\n<p><em>See <a href=\"http://pandas.pydata.org/pandas-docs/stable/timeseries.html#up-and-downsampling\" rel=\"noreferrer\">up and down sampling</a> in the docs.</em></p>\n"}], "owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11193, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1423793208, "creation_date": 1423698197, "last_edit_date": 1423793208, "question_id": 28466772, "link": "https://stackoverflow.com/questions/28466772/filling-date-gaps-in-pandas-dataframe", "title": "Filling date gaps in pandas dataframe", "body": "<p>I have Pandas DataFrame (loaded from .csv) with Date-time as index.. where there is/have-to-be one entry per day.\nThe problem is that I have gaps i.e. there is days for which I have no data at all.\nWhat is the easiest way to insert rows (days) in the gaps ? Also is there a way to control what is inserted in the columns as data ! Say 0 OR copy the prev day info OR to fill sliding increasing/decreasing values in the range from prev-date toward next-date data-values.</p>\n\n<p>thanks</p>\n\n<p>Here is example 01-03 and 01-04 are missing :</p>\n\n<pre><code>In [60]: df['2015-01-06':'2015-01-01']\nOut[60]: \n           Rate  High (est)  Low (est)\nDate                                      \n2015-01-06  1.19643      0.0000     0.0000\n2015-01-05  1.20368      1.2186     1.1889\n2015-01-02  1.21163      1.2254     1.1980\n2015-01-01  1.21469      1.2282     1.2014\n</code></pre>\n\n<hr>\n\n<p>Still experimenting but this seems to solve the problem :</p>\n\n<pre><code>df.set_index(pd.DatetimeIndex(df.Date),inplace=True)\n</code></pre>\n\n<p>and then resample... the reason being that importing the .csv with header-col-name Date, is not actually creating date-time-index, but Frozen-list whatever that means.\nresample() is expecting : if isinstance(ax, DatetimeIndex): .....</p>\n\n<hr>\n\n<p>Here is my final solution :</p>\n\n<pre><code>  #make dates the index\n  self.df.set_index(pd.DatetimeIndex(self.df.Date), inplace=True)\n  #fill the gaps\n  self.df = self.df.resample('D',fill_method='pad')\n  #fix the Date column\n  self.df.Date = self.df.index.values\n</code></pre>\n\n<p>I had to fix the Date column, because resample() just allow you to pad-it.\nIt fixes the index correctly though, so I could use it to fix the Date column.</p>\n\n<p>Here is snipped of the data after correction :</p>\n\n<pre><code>2015-01-29 2015-01-29  1.13262      0.0000     0.0000\n2015-01-30 2015-01-30  1.13161      1.1450     1.1184\n2015-01-31 2015-01-31  1.13161      1.1450     1.1184\n2015-02-01 2015-02-01  1.13161      1.1450     1.1184\n</code></pre>\n\n<p>01-30, 01-31 are the new generated data.</p>\n"}, {"tags": ["python", "django", "sqlite"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423698540, "post_id": 28466719, "comment_id": 45259190, "body": "SQLite has pretty darn fast writes as long as you don&#39;t churn the data (i.e. lots of interleaved deletes and inserts, which causes exponential slowdown due to B-tree fragmentation). So the new-table-then-swap approach should be very fast, with none of the complexity of the RAM-table approach. Neither one will have overmuch disk I/O if you chunk things into large transactions."}, {"owner": {"reputation": 1727, "user_id": 1886109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/23b61274b590314a3d6abf5e67115a9f?s=128&d=identicon&r=PG", "display_name": "seawolf", "link": "https://stackoverflow.com/users/1886109/seawolf"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423699752, "post_id": 28466719, "comment_id": 45259606, "body": "Thanks... I&#39;ll try that approach. FWIW, Django&#39;s update_or_create() method is churning somewhere; even inside a transaction this is taking 25-30 minutes to complete for 1.8M rows."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423699971, "post_id": 28466719, "comment_id": 45259668, "body": "Hmm. I&#39;ve seen SQLite do ~100k inserts/s (on a relatively simple table with a couple indexes). I think you need to find a way to look at the generated queries (I&#39;m afraid I don&#39;t know Django)."}, {"owner": {"reputation": 1727, "user_id": 1886109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/23b61274b590314a3d6abf5e67115a9f?s=128&d=identicon&r=PG", "display_name": "seawolf", "link": "https://stackoverflow.com/users/1886109/seawolf"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423761692, "post_id": 28466719, "comment_id": 45289561, "body": "update_or_create() first has to look up the row by some criteria: if it exists, it updates the remaining columns; if it doesn&#39;t exist, then it creates it. So there are a lot of queries going on for each row."}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423772039, "post_id": 28466719, "comment_id": 45295510, "body": "Ah, I see. Still, seems a little on the slow side (SQLite tends to have faster reads than writes, for example). Are you sure the search query is using the right index(es) to look up the data? If you run <code>explain query plan &lt;sql&gt;</code> in the sqlite3 console with the queries you&#39;ll get a nice summary of what the DB is doing for each one."}, {"owner": {"reputation": 1727, "user_id": 1886109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/23b61274b590314a3d6abf5e67115a9f?s=128&d=identicon&r=PG", "display_name": "seawolf", "link": "https://stackoverflow.com/users/1886109/seawolf"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423772716, "post_id": 28466719, "comment_id": 45295894, "body": "Cool, thanks... I&#39;ll investigate further."}], "owner": {"reputation": 1727, "user_id": 1886109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/23b61274b590314a3d6abf5e67115a9f?s=128&d=identicon&r=PG", "display_name": "seawolf", "link": "https://stackoverflow.com/users/1886109/seawolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423697964, "creation_date": 1423697964, "question_id": 28466719, "link": "https://stackoverflow.com/questions/28466719/perform-in-memory-update-of-sqlite3-database-file-using-django", "title": "Perform in-memory update of SQLite3 database file using Django", "body": "<p>I have a Django application using a database with approximately 1.8 million rows in the primary table. This table is read-only in the application.</p>\n\n<p>Once per day I need to perform update_or_create on the entire database to refresh the data with an updated file from an external source. I imagine the fastest way to do this would be to load the table into a RAM-based table, perform all the updates, and then flush it back to the SQLite3 file. Alternately, I could create a new table, bulk-load everything, and then swap the new table into place of the original table. Either approach works conceptually.</p>\n\n<p>What I am wondering is how do I go about doing either of these? Which is preferred from a performance perspective? Which will have the least disk IO?</p>\n\n<p>Any suggestions or links on either approach are appreciated.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1423697851, "post_id": 28466679, "comment_id": 45258946, "body": "Your <i>&quot;input string&quot;</i> <b>isn&#39;t a string!</b> Try <code>numberIntegers = str(123456)</code> or <code>numberIntegers = &#39;123456&#39;</code>. Also, note that <code>print(&quot; The digits, in order, are: {} {} {} {} {} {}&quot;.format(*numberIntegers)</code> would save you the separate names."}, {"owner": {"reputation": 199, "user_id": 4539580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/43b26958fa5f784adf7631986984eeb9?s=128&d=identicon&r=PG&f=1", "display_name": "MonotonousSonder", "link": "https://stackoverflow.com/users/4539580/monotonoussonder"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423698921, "post_id": 28466679, "comment_id": 45259309, "body": "If I was to leave it as a integer, would there still be a way to separate them, or do I have to convert them into a string?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423699009, "post_id": 28466679, "comment_id": 45259339, "body": "You could do it mathematically, but it&#39;s much easier with a string. Integers don&#39;t really <i>have</i> digits, that&#39;s just the way they&#39;re displayed <i>in decimal form</i> (e.g. <code>0x1e240 == 123456 == 0b11110001001000000 == 0361100</code>, so which &quot;digits&quot; should you get?)"}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423698739, "creation_date": 1423698739, "answer_id": 28466875, "question_id": 28466679, "link": "https://stackoverflow.com/questions/28466679/typeerror-int-object-is-not-subscriptable-python-3-4-2/28466875#28466875", "title": "TypeError: &#39;int&#39; object is not subscriptable Python 3.4.2", "body": "<p><code>numberIntegers</code> is an integer rather than a string. Change like so:</p>\n\n<pre><code>numberIntegers = '123456'\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 4539580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/43b26958fa5f784adf7631986984eeb9?s=128&d=identicon&r=PG&f=1", "display_name": "MonotonousSonder", "link": "https://stackoverflow.com/users/4539580/monotonoussonder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423698739, "creation_date": 1423697720, "last_edit_date": 1423697923, "question_id": 28466679, "link": "https://stackoverflow.com/questions/28466679/typeerror-int-object-is-not-subscriptable-python-3-4-2", "title": "TypeError: &#39;int&#39; object is not subscriptable Python 3.4.2", "body": "<p>I am wanting to write a code in Python 3.4.2 that takes a string of numbers, separates them and then puts them in reverse order. So far I have:</p>\n\n<pre><code>#input string\nnumberIntegers = 123456\n#assign each character to an idex\nzeroDigit = numberIntegers[0]\noneDigit = numberIntegers[1]\nsecondDigit = numberIntegers[2]\nthirdDigit = numberIntegers[3]\nfourthDigit = numberIntegers[4]\nfifthDigit = numberIntegers[5]\nprint(\" The numbers to reverse:  {}\".format(numberIntegers))\nprint(\" The digits, in order, are: {} {} {} {} {} {}\".format(zeroDigit,oneDigit,secondDigit,thirdDigit,fourthDigit,fifthDigit))\nprint(\" The numbers in reverse: \")\n</code></pre>\n"}, {"tags": ["python", "computer-vision", "svm", "libsvm", "liblinear"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3585140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582b676c73276165c788efbb0ecad30d?s=128&d=identicon&r=PG&f=1", "display_name": "user3585140", "link": "https://stackoverflow.com/users/3585140/user3585140"}, "edited": false, "score": 0, "creation_date": 1423846984, "post_id": 28478093, "comment_id": 45328726, "body": "Thank you! I didn&#39;t know the gamma parameter was only used by the RBF kernel. I won&#39;t be using the grid,py script, this script as well as all these training tools use a text-file for input which can be easily 70 times slower than reading a binary file. I&#39;ve written the C-finding in my main program which appears no longer needed when removing inconsistant negatives from the training data."}], "tags": [], "owner": {"reputation": 133, "user_id": 682624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd434a58b55958ead5aa0af645901ff6?s=128&d=identicon&r=PG", "display_name": "Daniel Moraes", "link": "https://stackoverflow.com/users/682624/daniel-moraes"}, "is_accepted": false, "score": 0, "last_activity_date": 1423749083, "last_edit_date": 1423749083, "creation_date": 1423745903, "answer_id": 28478093, "question_id": 28466666, "link": "https://stackoverflow.com/questions/28466666/liblinear-grid-py-libsvm-for-hog-training/28478093#28478093", "title": "LibLinear + grid.py (LibSVM) for HOG training", "body": "<p>Gamma is a parameter of the RBF kernel. LibLinear is an alternative (usually faster) formulation to C-SVM, using a Linear kernel instead. Thus, the gamma parameter is not used, while the C parameter is used because it comes from the C-SVM.</p>\n\n<p>The grid.py script that comes with LibSVM uses the C-SVM formulation and the RBF kernel. So, to use it with LibLinear, you should disable gamma by passing \"-log2g null\" and update the path to the train/predict binaries of LibSVM on grid.py to the LibLinear ones.</p>\n\n<p>For a better understanding, I suggest you read this <a href=\"http://www.csie.ntu.edu.tw/~cjlin/papers/guide/guide.pdf\" rel=\"nofollow\">quick practical tutorial</a> written by the authors of LibSVM/LibLinear.</p>\n"}], "owner": {"reputation": 1, "user_id": 3585140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582b676c73276165c788efbb0ecad30d?s=128&d=identicon&r=PG&f=1", "display_name": "user3585140", "link": "https://stackoverflow.com/users/3585140/user3585140"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1423749083, "creation_date": 1423697637, "question_id": 28466666, "link": "https://stackoverflow.com/questions/28466666/liblinear-grid-py-libsvm-for-hog-training", "title": "LibLinear + grid.py (LibSVM) for HOG training", "body": "<p>i've been training a HOG to detect objects with pretty good results thusfar using LibLinear. When i saw the grid.py python-script, included in the LibSVM package, i sort of recreated this by doing cross-validations with different C values. </p>\n\n<p>However this script is trying different values for C and gamma but liblinear doesn't have a gamma parameter, is the bias parameter similar to LibSVM's gamma?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1423697533, "post_id": 28466609, "comment_id": 45258821, "body": "The dict idea sounds like a good one to me."}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1423697533, "post_id": 28466609, "comment_id": 45258822, "body": "What&#39;s wrong with the occasional <code>a[x+offset]</code>? Too much typing?"}, {"owner": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 2, "creation_date": 1423697572, "post_id": 28466609, "comment_id": 45258837, "body": "What have you tried so far and what was the problem you had with that approach? Specific code would be helpful."}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 0, "creation_date": 1423697818, "post_id": 28466609, "comment_id": 45258934, "body": "@jsalonen The biggest problem is, I&#39;m not fluent enough in Python to get the dict values out from the (unknown) lowest key to the (unknown) highest one, given that dict is unordered."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1423698013, "post_id": 28466609, "comment_id": 45258999, "body": "@DailyFrankPeter please read <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>. A minimal example of code and input data, along with what you&#39;ve tried, what you expected to happen and what happened instead would go a long way to making this question <i>actually answerable</i>."}, {"owner": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 0, "creation_date": 1423698043, "post_id": 28466609, "comment_id": 45259011, "body": "Is your mesh sparse and does it always have a maximum and minimum?"}, {"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1423698046, "post_id": 28466609, "comment_id": 45259013, "body": "@DailyFrankPeter A code example of what you want to do with the result will help generate better-quality answers."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423698072, "post_id": 28466609, "comment_id": 45259026, "body": "a <code>list</code> is a collection with negative indices ..."}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 0, "creation_date": 1423698567, "post_id": 28466609, "comment_id": 45259194, "body": "@jsalonen It always has a maximum and minimum; in a special case of it being looped, the entry point ends up as the minimum (0) and the maximum equals the number of all edge loops -1 (i.e. only walks one way), otherwise the minimum is some finite negative integer and maximum some finite positive integer;  I don&#39;t understand &quot;sparse&quot;"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 1, "creation_date": 1423706251, "post_id": 28466609, "comment_id": 45261388, "body": "You can dump the contents of a dictionary to a list, sorting as you do so, using the <code>sorted()</code> built-in function.  Dictionaries are one of the most central and pervasive data structures in Python (and quite a number of other languages), so it&#39;s worth taking the time and effort to become comfortable with them.  Play around with them.  Read the tutorial and documentation on them.  See what the <code>.items()</code> dictionary method gets you.  I think you&#39;ll be able to figure out what you need."}, {"owner": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 0, "creation_date": 1423726544, "post_id": 28466609, "comment_id": 45267710, "body": "@DailyFrankPeter by sparse I mean do you have a lot of - say - indices that hold 0 as value or you need to skip otherwise? Regardless, please add some code or examples to get more higher result answer."}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 26543, "user_id": 117919, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/71f458589f80dab6ff43f0c6c3f62eb9?s=128&d=identicon&r=PG", "display_name": "jsalonen", "link": "https://stackoverflow.com/users/117919/jsalonen"}, "edited": false, "score": 0, "creation_date": 1423731771, "post_id": 28466609, "comment_id": 45270318, "body": "@jsalonen MCVE added"}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423731859, "post_id": 28466609, "comment_id": 45270356, "body": "@jonrsharpe MCVE added"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1423732230, "post_id": 28466609, "comment_id": 45270542, "body": "@DailyFrankPeter could you add some clarification on what you expected? Dictionaries are <i>unordered</i>; if order matters you can use a <code>collections.OrderedDict</code> to retain insertion order, or just use e.g. <code>sorted(occupants_map.items())</code> to get a list of tuples <code>(key, value)</code> in key order."}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423733066, "post_id": 28466609, "comment_id": 45271049, "body": "@jonrsharpe I used a dictionary so that I can specify &quot;indices&quot; (keys) myself, in the order which is not dictated by anything except my mesh searching algorithm. The intention is to first collect (edit: &quot;piece together&quot;) the data, and then put it in order, once I have the whole &quot;picture&quot; of the mesh."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423734547, "post_id": 28466609, "comment_id": 45271975, "body": "It&#39;s still not clear what you want the output to be. Could you give an example dictionary, and the result you want from it? Do you just want to shift all keys up until the smallest is zero?"}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423735435, "post_id": 28466609, "comment_id": 45272540, "body": "@jonrsharpe yes, that&#39;s exactly what I wanted; I also want the result to be iterable in order, I think I got enough hints by now to solve it"}], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423737170, "post_id": 28474775, "comment_id": 45273628, "body": "Note that the dictionary at the start of your answer <i>wasn&#39;t in the question</i>, and that the code that you did eventually put there wasn&#39;t really relevant to your query. It is hard to answer questions when they don&#39;t contain appropriate information."}, {"owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423737483, "post_id": 28474775, "comment_id": 45273834, "body": "The dictionary at the start of my answer was generated by the MCVE. It wasn&#39;t quoted in the question because it is a specific example of a random result printed by the MCVE. Should I still have put it there?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423737661, "post_id": 28474775, "comment_id": 45273953, "body": "My point is that the core of your question was about transforming that dictionary into a different form; <i>how</i> it is created is not really relevant to that. By including the code to generate it, rather than just giving the dictionary and explaining the subsequent output you needed, you require readers to either run the code on the inputs or work out what it does, which <i>isn&#39;t actually necessary</i> to solve the problem. Had you just presented the dictionary, and clearly explained what you wanted from it, this question would probably have been answered in five minutes."}], "tags": [], "owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "is_accepted": true, "score": 0, "last_activity_date": 1423736158, "creation_date": 1423736158, "answer_id": 28474775, "question_id": 28466609, "link": "https://stackoverflow.com/questions/28466609/python-i-need-a-collection-with-negative-indices/28474775#28474775", "title": "Python - I need a collection with negative indices", "body": "<p>Right, so after hints I managed go from this raw result of the above code:</p>\n\n<pre><code>{0: 'The S Family', 1: 'The M Family', 2: 'Mr Rich', -1: 'Mr J', -5: 'Stoker', -4: 'Laundryboy', -3: 'Receptionist', -2: 'Mr Z'}\n</code></pre>\n\n<p>by means of: </p>\n\n<pre><code>dict2 = OrderedDict (sorted(occupants_map.items() ) )\n\nlist = dict2.values()\nprint(list)\n</code></pre>\n\n<p>to a list of:</p>\n\n<pre><code>['Stoker', 'Laundryboy', 'Receptionist', 'Mr Z', 'Mr J', 'The S Family', 'The M Family', 'Mr Rich']\n</code></pre>\n\n<p>Which is 0-based, ordered and iterable. And is what I wanted.</p>\n\n<p>(I imagine I can also use the OrderedDict itself as an ordered and iterable collection, depending if I need easier access to my entry point, or to start of mesh.)</p>\n"}], "owner": {"reputation": 370, "user_id": 4045924, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8853b251dfbea91580907dbdaf445bd3?s=128&d=identicon&r=PG&f=1", "display_name": "DailyFrankPeter", "link": "https://stackoverflow.com/users/4045924/dailyfrankpeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 28474775, "answer_count": 1, "score": -3, "last_activity_date": 1423736158, "creation_date": 1423697338, "last_edit_date": 1423732628, "question_id": 28466609, "link": "https://stackoverflow.com/questions/28466609/python-i-need-a-collection-with-negative-indices", "title": "Python - I need a collection with negative indices", "body": "<p>I am \"parsing\" a 3d mesh, collecting repeating loops. The point of entry is not precisely known to me, but my algorithm \"walks\" the mesh in in two directions. First from 0 up, then from 0 down. I then need to convert collected information into a simple ordered collection. </p>\n\n<p>I've managed to achieve a dict[int, SomeContainerFor3D] with keys ranging from -i to j. </p>\n\n<p>Can I somehow sort it now and output into a 0-based collection? Or is there an easier way to go about it all?</p>\n\n<p>EDIT: Because I can't attach the whole 3D mesh along with the actual algorithm, I built a model of the problem as MCVE: </p>\n\n<pre><code>import random\n\ncondo = [\"Stoker\", \"Laundryboy\", \"Receptionist\", \"Mr Z\", \"Mr J\", \"The S Family\", \"The M Family\", \"Mr Rich\"]\nentry_point = random.randint(0, len(condo)-1)\n\noccupants_map = {}\n\"\"\":type : dict [int, string]\"\"\"    \n\ndef burglar(current):\n    unknownlocation = entry_point+current\n    if unknownlocation &lt; len(condo) and unknownlocation &gt;= 0:\n        doorlabel = condo[unknownlocation]\n        occupants_map[current] = doorlabel\n        return True\n    else: \n        return False\n\n\ncurrent = 0\nwhile burglar(current) == True:\n    current += 1\n\n\ncurrent = -1\nwhile burglar(current) == True:\n    current -= 1\n\n\n\nprint(occupants_map)\n</code></pre>\n\n<p>It prints out, oddly enough, positive keys in order, then negative keys in a weird unordered fashion. </p>\n\n<p>Next, I will try to sort the dict and output the same occupants map to a sorted collection with only positive indices. I would still appreciate help with this.</p>\n"}, {"tags": ["python", "python-2.7", "input"], "comments": [{"owner": {"reputation": 3947, "user_id": 3390466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Zo1VL.png?s=128&g=1", "display_name": "Victor2748", "link": "https://stackoverflow.com/users/3390466/victor2748"}, "edited": false, "score": 0, "creation_date": 1423697497, "post_id": 28466582, "comment_id": 45258808, "body": "Did you watch/read/listen to the tutorials for beginners?"}], "answers": [{"tags": [], "owner": {"reputation": 18120, "user_id": 2587797, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8H6jK.png?s=128&g=1", "display_name": "RustyShackleford", "link": "https://stackoverflow.com/users/2587797/rustyshackleford"}, "is_accepted": false, "score": 0, "last_activity_date": 1423699324, "last_edit_date": 1423699324, "creation_date": 1423697355, "answer_id": 28466613, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/28466613#28466613", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<pre><code>print \"Hello, \" + example + \"!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": true, "score": -1, "last_activity_date": 1423697363, "creation_date": 1423697363, "answer_id": 28466615, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/28466615#28466615", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<pre><code>name = raw_input (\"What is your name?: \")\nprint \"Hello, \" + name + \"!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 3, "last_activity_date": 1423697423, "creation_date": 1423697423, "answer_id": 28466628, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/28466628#28466628", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<p>You were very close, you already had the correct template, now you have to tell it what the <code>{name}</code> should be replaced by:</p>\n\n<pre><code>&gt;&gt;&gt; example = \"Foo\"\n&gt;&gt;&gt; \"Hello, {name}!\".format(name=example)\n'Hello, Foo!'\n</code></pre>\n\n<p>See <a href=\"https://docs.python.org/2/library/string.html#formatstrings\" rel=\"nofollow\">the docs</a> for more information on using <a href=\"https://docs.python.org/2/library/stdtypes.html#str.format\" rel=\"nofollow\"><code>str.format</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 4557084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MLpMB.jpg?s=128&g=1", "display_name": "Chironian", "link": "https://stackoverflow.com/users/4557084/chironian"}, "is_accepted": false, "score": 0, "last_activity_date": 1423700872, "creation_date": 1423700872, "answer_id": 28467200, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/28467200#28467200", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<p>There are several ways to acomplish your goal.</p>\n\n<p>As was mentioned, you could use:</p>\n\n<pre><code>name = raw_input (\"What is your name?: \")\nprint \"Hello, \" + name + \"!\"\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>&gt;&gt;&gt; example = \"Foo\"\n&gt;&gt;&gt; \"Hello, {name}!\".format(name=example)\n'Hello, Foo!'\n</code></pre>\n\n<p>You could also use,</p>\n\n<pre><code>name = raw_input(\"What is your name?: \")\nprint \"Hello, %s!\" % name\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1406, "user_id": 4444239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/232f5d8be90d655a878ff8e2d0e6ba50?s=128&d=identicon&r=PG", "display_name": "Haresh Shyara", "link": "https://stackoverflow.com/users/4444239/haresh-shyara"}, "is_accepted": false, "score": 0, "last_activity_date": 1423724782, "creation_date": 1423724782, "answer_id": 28471324, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/28471324#28471324", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<pre><code>print raw_input('Enter name :')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5505803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hEUnN2Hk5w8/AAAAAAAAAAI/AAAAAAAAARg/0vtshNgknPM/photo.jpg?sz=128", "display_name": "Ash Dang", "link": "https://stackoverflow.com/users/5505803/ash-dang"}, "is_accepted": false, "score": 0, "last_activity_date": 1446183507, "last_edit_date": 1446183507, "creation_date": 1446181516, "answer_id": 33429009, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell/33429009#33429009", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<p>For Python 3.5 users, it can work like this: </p>\n\n<pre><code>name = input(\"What is your name? \")  \nprint \"Hello, %s!\" % (name)\n</code></pre>\n\n<p>That should work.</p>\n"}], "owner": {"reputation": 3, "user_id": 4557040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zIA___mRguU/AAAAAAAAAAI/AAAAAAAAAD8/sjeA-vVAoUc/photo.jpg?sz=128", "display_name": "BDAVI12", "link": "https://stackoverflow.com/users/4557040/bdavi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 28466615, "answer_count": 6, "score": -2, "last_activity_date": 1446183507, "creation_date": 1423697220, "last_edit_date": 1423697323, "question_id": 28466582, "link": "https://stackoverflow.com/questions/28466582/how-would-i-take-a-users-input-and-reprint-it-in-the-python-shell", "title": "How would I take a user&#39;s input and reprint it in the Python shell", "body": "<p>I'm fairly new to Python, and I'm working on a few things that would involve names. Something such as:</p>\n\n<pre><code>example = raw_input (\"What is your name?: \")\n</code></pre>\n\n<p>How would I go about using this to have them answer it, and reprint their name such as:</p>\n\n<pre><code>print \"Hello, {name}!\"\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 2, "creation_date": 1423696543, "post_id": 28466403, "comment_id": 45258445, "body": "Strip the spaces and newlines: <code>stringz_ = line.split(STRINGZ_)[1].strip()</code>"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1423696565, "post_id": 28466403, "comment_id": 45258453, "body": "What do you see when printing that string? Add <code>[</code>..<code>]</code> around it for clarity."}, {"owner": {"reputation": 347, "user_id": 4522343, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/120005cd79a0d28edb0c6273127ecc39?s=128&d=identicon&r=PG&f=1", "display_name": "Chalupa", "link": "https://stackoverflow.com/users/4522343/chalupa"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1423696887, "post_id": 28466403, "comment_id": 45258584, "body": "@AshwiniChaudhary thank you that solved it!"}], "answers": [{"tags": [], "owner": {"reputation": 1738, "user_id": 2512216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3T5LI.jpg?s=128&g=1", "display_name": "daronwolff", "link": "https://stackoverflow.com/users/2512216/daronwolff"}, "is_accepted": false, "score": 0, "last_activity_date": 1423698191, "last_edit_date": 1423698191, "creation_date": 1423697398, "answer_id": 28466619, "question_id": 28466403, "link": "https://stackoverflow.com/questions/28466403/python-returning-length-of-a-string/28466619#28466619", "title": "Python: returning length of a string", "body": "<p>Yes!! Maybe you need remove the whitespaces</p>\n\n<pre><code>text = ' hello worldss      '\ntext = text.strip()\nprint len(text)\n# Return 13\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1423721752, "post_id": 28470456, "comment_id": 45265661, "body": "Hiya, this may well solve the problem... but it&#39;d be good if you could edit your answer and provide a little explanation about how and why it works :) Don&#39;t forget - there are heaps of newbies on Stack overflow, and they could learn a thing or two from your expertise - what&#39;s obvious to you might not be so to them."}], "tags": [], "owner": {"reputation": 1, "user_id": 4557862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0e-l-Hz9Zlk/AAAAAAAAAAI/AAAAAAAAAIY/Peb3LWwxo7g/photo.jpg?sz=128", "display_name": "J oe", "link": "https://stackoverflow.com/users/4557862/j-oe"}, "is_accepted": false, "score": 0, "last_activity_date": 1423723585, "last_edit_date": 1423723585, "creation_date": 1423721167, "answer_id": 28470456, "question_id": 28466403, "link": "https://stackoverflow.com/questions/28466403/python-returning-length-of-a-string/28470456#28470456", "title": "Python: returning length of a string", "body": "<p>With the code as it was posted the list that is returned by split looks like:</p>\n\n<pre><code>['msg1                  ', '    \"Hello Hello\"']\n</code></pre>\n\n<p>So you have that extra white space. Instead of adding another method to the script and striping it you can just split by '\"'.</p>\n\n<pre><code>for line in f:\n    if STRINGZ_ in line:\n        string_len = 0\n        stringz_ = line.split('\"')[1]\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 4522343, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/120005cd79a0d28edb0c6273127ecc39?s=128&d=identicon&r=PG&f=1", "display_name": "Chalupa", "link": "https://stackoverflow.com/users/4522343/chalupa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1423723585, "creation_date": 1423696434, "last_edit_date": 1423696692, "question_id": 28466403, "link": "https://stackoverflow.com/questions/28466403/python-returning-length-of-a-string", "title": "Python: returning length of a string", "body": "<p>I have an input file that looks something like this: </p>\n\n<pre><code> ADD    R0, R0, R2        \n PUTS                     \n\n HALT\n\n MSG1          .STRINGZ   \"Hello Hello\"\n MEMORYSPACE   .BLKW      9\n NEWLINE       .FILL      #10\n NEG48         .FILl      #-48\n</code></pre>\n\n<p>I need to return the length of the string in front of .STRINGZ (I usually don't know what that string is but this is an example.) My string has 11 characters but my code returns 17 and I can't figure out why. Can anyone help? Here's my code: </p>\n\n<pre><code>for line in f:\n    if STRINGZ_ in line:\n        string_len = 0\n        stringz_ = line.split(STRINGZ_)[1]\n        print (stringz_)\n        string_len = len(stringz_)\n        print ('len(stringz_): ' + str(string_len))\n</code></pre>\n"}, {"tags": ["python", "email", "python-2.7", "flask"], "answers": [{"comments": [{"owner": {"reputation": 1738, "user_id": 2512216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3T5LI.jpg?s=128&g=1", "display_name": "daronwolff", "link": "https://stackoverflow.com/users/2512216/daronwolff"}, "edited": false, "score": 2, "creation_date": 1454011227, "post_id": 28681221, "comment_id": 57864693, "body": "Yes, you right I resolved doing:  pip uninstall flask-mail  pip install flask_mail==0.9.0"}], "tags": [], "owner": {"reputation": 121, "user_id": 4598185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdf4eef9a3f667c234aaafb4cdd25c7?s=128&d=identicon&r=PG", "display_name": "Juan Megino", "link": "https://stackoverflow.com/users/4598185/juan-megino"}, "is_accepted": false, "score": 12, "last_activity_date": 1424771732, "last_edit_date": 1424771732, "creation_date": 1424717682, "answer_id": 28681221, "question_id": 28466384, "link": "https://stackoverflow.com/questions/28466384/python-flask-email-keyerror-keyerror-mail/28681221#28681221", "title": "Python Flask Email KeyError KeyError: &#39;mail&#39;", "body": "<p>Downgrade to <code>flask_mail==0.9.0</code></p>\n\n<p>This appears to be a regression in version 0.9.1.</p>\n"}], "owner": {"reputation": 1738, "user_id": 2512216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3T5LI.jpg?s=128&g=1", "display_name": "daronwolff", "link": "https://stackoverflow.com/users/2512216/daronwolff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3158, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1424771732, "creation_date": 1423696352, "last_edit_date": 1423701074, "question_id": 28466384, "link": "https://stackoverflow.com/questions/28466384/python-flask-email-keyerror-keyerror-mail", "title": "Python Flask Email KeyError KeyError: &#39;mail&#39;", "body": "<p>I have a problem using Python Flask and Flask-Mail libraries.</p>\n\n<p>I'm getting a error:</p>\n\n<blockquote>\n  <p>KeyError: 'mail'</p>\n</blockquote>\n\n<p>Can someone help me resolve this?</p>\n\n<p>My code is:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom flask import Flask\nfrom flask.ext.mail import Message\nfrom flask.ext.mail import Mail\nfrom ws import app\n\n\nclass Email():  \n\ndef __init__(self):\n    \"\"\n#\n# Enviar el email\n#\ndef enviar_mail(self,subject, sender, recipients, text_body=\"hola mundo txt\", html_body=\"hola mundo html\"):\n    app = Flask(__name__)\n\n    app.config.update(dict(\n        MAIL_SERVER = 'smtp.gmail.com',\n        MAIL_PORT = 465,\n        MAIL_USE_TLS = False,\n        MAIL_USE_SSL = True,\n        MAIL_USERNAME = 'miaccount@gmail.com',\n        MAIL_PASSWORD = 'mypasswd$%'\n    ))\n\n    mail = Mail(app)\n    mail.init_app(app)\n    msg = Message(\"Hello\", sender=\"miaccount@gmail.com\",recipients=[\"myrecipient@hotmail.com\"])\n    msg.body = \"testing\"\n    msg.html = \"&lt;b&gt;testing&lt;/b&gt;\"\n    mail.send(msg)\n</code></pre>\n\n<p><strong>And the error is</strong></p>\n\n<pre><code>KeyError\nKeyError: 'mail'\nTraceback (most recent call last)\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask/app.py\", line 1836, in __call__\n\nmail.send(msg)\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask_mail.py\", line 492, in send\n\nmessage.send(connection)\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask_mail.py\", line 427, in send\n\nconnection.send(self)\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask_mail.py\", line 190, in send\n\nmessage.as_bytes() if PY3 else message.as_string(),\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask_mail.py\", line 381, in as_string\n\nreturn self._message().as_string()\nFile \"/home/javier/python/wszbeltia/lib/python2.7/site-packages/flask_mail.py\", line 307, in _message\n\n**ascii_attachments = current_app.extensions['mail'].ascii_attachments\nKeyError: 'mail'**\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "google-apps-script"], "comments": [{"owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1423697603, "post_id": 28466367, "comment_id": 45258852, "body": "try doing an ajax get from a regular webapp (client js). if you also get the authentication there, its easier to debug. also try https"}, {"owner": {"reputation": 3, "user_id": 2891669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d8375c29c881aaaf9d90e8615957e5?s=128&d=identicon&r=PG&f=1", "display_name": "MHuckelberryP", "link": "https://stackoverflow.com/users/2891669/mhuckelberryp"}, "reply_to_user": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1423698426, "post_id": 28466367, "comment_id": 45259155, "body": "Thanks, well it looks like one issue is I must use HTTPS. Thanks. But I am not not being allowed access, here is the output: XMLHttpRequest cannot load <a href=\"https://fakeapp.appspot.com/functions/func?id=XYZ\" rel=\"nofollow noreferrer\">fakeapp.appspot.com/functions/func?id=XYZ</a>. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;<a href=\"https://docs.google.com\" rel=\"nofollow noreferrer\">docs.google.com</a>&#39; is therefore not allowed access."}, {"owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1423698903, "post_id": 28466367, "comment_id": 45259301, "body": "<a href=\"http://enable-cors.org/server_appengine.html\" rel=\"nofollow noreferrer\">enable-cors.org/server_appengine.html</a> also s.o. has answers to that one."}, {"owner": {"reputation": 3, "user_id": 2891669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d8375c29c881aaaf9d90e8615957e5?s=128&d=identicon&r=PG&f=1", "display_name": "MHuckelberryP", "link": "https://stackoverflow.com/users/2891669/mhuckelberryp"}, "reply_to_user": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1423701139, "post_id": 28466367, "comment_id": 45259993, "body": "Thanks, I was looking at that before you sent it. I am mystified. I have implemented the header, tested them to make sure they are there (e,g used <a href=\"http://web-sniffer.net/\" rel=\"nofollow noreferrer\">web-sniffer.net</a> to test) but I am STILL getting the exact same error. I&#39;ll have to play with it some more."}, {"owner": {"reputation": 6363, "user_id": 1666569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJxtP.jpg?s=128&g=1", "display_name": "Cameron Roberts", "link": "https://stackoverflow.com/users/1666569/cameron-roberts"}, "edited": false, "score": 1, "creation_date": 1423702231, "post_id": 28466367, "comment_id": 45260279, "body": "The Access-Control-Origin issue shouldn&#39;t be present in Apps Script, it runs server side, that&#39;s a client-side javascript issue."}], "answers": [{"tags": [], "owner": {"reputation": 6363, "user_id": 1666569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJxtP.jpg?s=128&g=1", "display_name": "Cameron Roberts", "link": "https://stackoverflow.com/users/1666569/cameron-roberts"}, "is_accepted": true, "score": 1, "last_activity_date": 1423702905, "creation_date": 1423702905, "answer_id": 28467492, "question_id": 28466367, "link": "https://stackoverflow.com/questions/28466367/fetching-html-from-a-gae-application-using-gas-custom-function-for-spreadsheets/28467492#28467492", "title": "Fetching HTML from a GAE application using GAS (custom function for spreadsheets)", "body": "<p>You can definitely access your App Engine application from apps script with UrlFetchApp, I use that approach regularly.  </p>\n\n<p>If you are getting the Google login page the endpoint on GAE must be requiring some authentication. </p>\n\n<p>UrlFetchApp requests from Apps Script are anonymous requests, they don't pass along the credentials of the user executing the script.</p>\n"}], "owner": {"reputation": 3, "user_id": 2891669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9d8375c29c881aaaf9d90e8615957e5?s=128&d=identicon&r=PG&f=1", "display_name": "MHuckelberryP", "link": "https://stackoverflow.com/users/2891669/mhuckelberryp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28467492, "answer_count": 1, "score": 0, "last_activity_date": 1423702905, "creation_date": 1423696286, "last_edit_date": 1423697390, "question_id": 28466367, "link": "https://stackoverflow.com/questions/28466367/fetching-html-from-a-gae-application-using-gas-custom-function-for-spreadsheets", "title": "Fetching HTML from a GAE application using GAS (custom function for spreadsheets)", "body": "<p>I have built a very useful database and set of tools on Google App Engine. I have begun a new job, related to my old job, and I want to access some of the data from my GAE application. </p>\n\n<p>Long story short, this code in Google App Script fails when used with Google Apps Spreadsheet:</p>\n\n<pre><code>function getData(id) {\n    url = \"http://fakeapp.appspot.com/functions/func?id=\" + id;\n    response = UrlFetchApp.fetch(url);\n    if (response.getResponseCode() == 200) {\n        return response.getContentText();\n    } else {\n        return \"error\";\n    }\n}\n</code></pre>\n\n<p>In the spread sheet you'd have:</p>\n\n<p><code>=getDate(\"XYZ\")</code></p>\n\n<p>Which ought to return some value:</p>\n\n<p><code>10000</code></p>\n\n<p>In my GAE yaml file, there is no authorization required for this specific url. However, when you use this custom function in Google Spreadsheets, it basically pulls the html from the very familiar Google login page:</p>\n\n<blockquote>One account. All of Google.</blockquote>\n\n<p>That sort of thing. Questions:</p>\n\n<ul>\n<li>(1) Am I trying to do something which is impossible? I have the fetch working in many other scenarios so it appears to be specific with my GAE app.</li>\n<li>(2) If not, how do I get this working?</li>\n</ul>\n\n<p>Thank you for your time. </p>\n"}, {"tags": ["python", "imaging", "psychopy"], "answers": [{"tags": [], "owner": {"reputation": 2201, "user_id": 3521179, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03e5137ca08082f2d28fe28ec0a7745b?s=128&d=identicon&r=PG", "display_name": "Nolan Conaway", "link": "https://stackoverflow.com/users/3521179/nolan-conaway"}, "is_accepted": true, "score": 1, "last_activity_date": 1423715636, "creation_date": 1423715636, "answer_id": 28469349, "question_id": 28466345, "link": "https://stackoverflow.com/questions/28466345/image-rendering-issue-in-psychopy/28469349#28469349", "title": "image rendering issue in psychopy", "body": "<p>I received this information from the <a href=\"https://groups.google.com/forum/#!forum/psychopy-users\" rel=\"nofollow\">psychopy-users group</a> (Micahel MacAskill):</p>\n\n<ol>\n<li><p>As a general point, you should avoid using .jpgs for line art: they aren't designed for this (if you zoom in, in the internal corners of your square, you'll see the typical compression artefacts that their natural image-optimised compression algorithm introduces when applied to line art). .png format is optimal for line art. It is lossless and for this sort of image will still be very small file-size wise.</p></li>\n<li><p>Graphics cards sometimes do scaling-up and then down-scaling of bitmaps, which can lead to issues like this with single-pixel width lines. Perhaps this is particularly the issue here because (I think) this image was supposed to be 255 \u00d7 255 pixels, and cards will sometimes scale up to the nearest power-of-two size (256 \u00d7 256) and then down again, so easy to see how the border might be trimmed.</p></li>\n<li><p>I grabbed your image off SO, it seemed to have a surrounding border around the black line to make it 321 \u00d7 321 in total. I made that surround transparent and saved it as .png (another benefit of png vs jpg). It displays without problems (although a version cropped to just the precise dimensions of the black line did show the error you mentioned). (Also, the compression artefacts are still there, as I just made this png directly from the jpg). See attached file.</p></li>\n<li><p>If this is the sort of simple stimulus you are showing, you might want to use ShapeStim/Polygon stimuli instead of bitmaps. They will always be drawn precisely, without any scaling issues, and there wouldn't be the need for any jiggery pokery. </p></li>\n<li><p>Why this changed from 1.78 I'm not sure. The issue is also there in 1.82.00</p></li>\n</ol>\n"}], "owner": {"reputation": 2201, "user_id": 3521179, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/03e5137ca08082f2d28fe28ec0a7745b?s=128&d=identicon&r=PG", "display_name": "Nolan Conaway", "link": "https://stackoverflow.com/users/3521179/nolan-conaway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 28469349, "answer_count": 1, "score": 1, "last_activity_date": 1423715636, "creation_date": 1423696165, "question_id": 28466345, "link": "https://stackoverflow.com/questions/28466345/image-rendering-issue-in-psychopy", "title": "image rendering issue in psychopy", "body": "<p>I am a long-time psychopy user, and i just upgraded to 1.81.03 (from 1.78.x). In one experiment, i present images (.jpgs) to the user and ask for a rating scale response. The code worked fine before the update, but now i am getting weird artifacts on some images. For example, here is one image i want to show:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gEe4Y.jpg\" alt=\"actual image\"></p>\n\n<p>But here is what shows up [screencapped]:\n<img src=\"https://i.stack.imgur.com/CQj0F.png\" alt=\"shown image\"> </p>\n\n<p>You can see that one border is missing. This occurs for many of my images, though it is not always the same border, and sometimes two or three borders are missing.</p>\n\n<p>Does anyone have an idea about what might be going on?</p>\n"}, {"tags": ["python", "sorting", "python-3.x", "dictionary", "lambda"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1423696221, "post_id": 28466337, "comment_id": 45258320, "body": "<code>key=lambda t: (t[1], t[0][2:])</code>?"}, {"owner": {"reputation": 89, "user_id": 3618005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2aeed78ff134d08dfcd5e6a2121a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieDeBeadle", "link": "https://stackoverflow.com/users/3618005/charliedebeadle"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423696363, "post_id": 28466337, "comment_id": 45258379, "body": "@jonrsharpe I get a &quot;non-keyword arg after keyword arg&quot; SyntaxError when I try that."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423696470, "post_id": 28466337, "comment_id": 45258417, "body": "I see no reason you&#39;d get that, unless you accidentally left around some of the previous <code>key</code>."}, {"owner": {"reputation": 89, "user_id": 3618005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2aeed78ff134d08dfcd5e6a2121a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieDeBeadle", "link": "https://stackoverflow.com/users/3618005/charliedebeadle"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423696517, "post_id": 28466337, "comment_id": 45258433, "body": "@jonrsharpe scratch that, I left out parenthesis. It seems to work properly, however am using reverse=True, so the alphabetizing is backwards. Is there any way to fix that?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423696588, "post_id": 28466337, "comment_id": 45258461, "body": "... <i>don&#39;t</i> use <code>reverse=True</code>?"}, {"owner": {"reputation": 89, "user_id": 3618005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2aeed78ff134d08dfcd5e6a2121a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieDeBeadle", "link": "https://stackoverflow.com/users/3618005/charliedebeadle"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423696648, "post_id": 28466337, "comment_id": 45258492, "body": "@jonrsharpe well I&#39;m sorting it by value primarily, and I have to use reverse=True as I need it in ascending order."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423696816, "post_id": 28466337, "comment_id": 45258559, "body": "OK, have added that to the end of my answer."}], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 3, "last_activity_date": 1423697021, "last_edit_date": 1423697021, "creation_date": 1423696718, "answer_id": 28466475, "question_id": 28466337, "link": "https://stackoverflow.com/questions/28466337/skip-first-two-characters-in-key-lambda-sorting/28466475#28466475", "title": "Skip first two characters in (key=lambda) sorting", "body": "<p>When you iterate over <code>dict.items()</code>, you get tuples <code>(key, value)</code>, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; for t in {'3.Julie': '7'}.items():\n       print t\n('3.Julie', '7')\n</code></pre>\n\n<p>Currently, you're just reversing the whole thing:</p>\n\n<pre><code>&gt;&gt;&gt; ('3.Julie', '7')[::-1]\n('7', '3.Julie')\n</code></pre>\n\n<p>But you could be more explicit about what you want (i.e. second part, then first part), and include the slice to remove the relevant characters:</p>\n\n<pre><code>&gt;&gt;&gt; t = ('3.Julie', '7')\n&gt;&gt;&gt; t[1], t[0][2:]\n('7', 'Julie')\n</code></pre>\n\n<p>Therefore your sort becomes:</p>\n\n<pre><code>sorted(dictionary.items(), key=lambda t: (t[1], t[0][2:]))\n</code></pre>\n\n<p>Note that the parentheses in the lambda are necessary to indicate the tuple, otherwise <code>t[0][2:]</code> is interpreted as a positional argument to <code>sorted</code>.</p>\n\n<hr>\n\n<p>If you want the value and the key to sort in opposite directions, you could do something like:</p>\n\n<pre><code>key=lambda t: (-int(t[1]), t[0][2:])\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; d = {'1.John': '3', '2.Karl': '7', '3.Julie': '7'}\n&gt;&gt;&gt; sorted(d.items(), key=lambda t: (-int(t[1]), t[0][2:]))\n[('3.Julie', '7'), ('2.Karl', '7'), ('1.John', '3')]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 3618005, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2aeed78ff134d08dfcd5e6a2121a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "CharlieDeBeadle", "link": "https://stackoverflow.com/users/3618005/charliedebeadle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 28466475, "answer_count": 1, "score": 0, "last_activity_date": 1423697021, "creation_date": 1423696126, "last_edit_date": 1495541141, "question_id": 28466337, "link": "https://stackoverflow.com/questions/28466337/skip-first-two-characters-in-key-lambda-sorting", "title": "Skip first two characters in (key=lambda) sorting", "body": "<p>This is an extension on my previous question which was suitably answered, seen here:\n<a href=\"https://stackoverflow.com/questions/28356342/sorting-dictionary-keys-by-value-then-those-with-the-same-value-alphabetically\">Sorting dictionary keys by value, then those with the same value alphabetically</a></p>\n\n<p>I have a setup of users and scores in a dictionary, such that the key is \"group.name\" and the value is their score (e.g. \"'3.Julie':'7' is a user \"Julie\" in group 3 with a score of 7). I already know how to sort it by value, and then by key:</p>\n\n<pre><code>sorted(dictionary.items(), key=lambda t: t[::-1])\n</code></pre>\n\n<p>but when it compares two keys, I want it to ignore the first character/two characters, so that users with the same score will be sorted alphabetically (whereas currently, they'd be sorted by group, as the group number comes first). Without changing the naming convention, is there anyway I can achieve this? (Ideally within the lambda key, a few lines is fine but if there's more than 2-3 it's not worth it)</p>\n"}, {"tags": ["java", "python", "jar", "flask", "jython"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4556989, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27563e8fc3a6a029794a78877752a761?s=128&d=identicon&r=PG", "display_name": "knoll", "link": "https://stackoverflow.com/users/4556989/knoll"}, "edited": false, "score": 0, "creation_date": 1423754834, "post_id": 28467085, "comment_id": 45284854, "body": "I was able to add the modules I need to the jar, but I don&#39;t think my app knows to look for them in there. Is there a path I need to update?"}, {"owner": {"reputation": 1753, "user_id": 1555925, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bd24a2af3551b9e30b267ce944a18639?s=128&d=identicon&r=PG", "display_name": "davidrmcharles", "link": "https://stackoverflow.com/users/1555925/davidrmcharles"}, "reply_to_user": {"reputation": 333, "user_id": 4556989, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27563e8fc3a6a029794a78877752a761?s=128&d=identicon&r=PG", "display_name": "knoll", "link": "https://stackoverflow.com/users/4556989/knoll"}, "edited": false, "score": 0, "creation_date": 1423755959, "post_id": 28467085, "comment_id": 45285587, "body": "No, anything you add to the root of your jar should be importable by programs inside the jar without having to touch <code>sys.path</code>."}, {"owner": {"reputation": 333, "user_id": 4556989, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27563e8fc3a6a029794a78877752a761?s=128&d=identicon&r=PG", "display_name": "knoll", "link": "https://stackoverflow.com/users/4556989/knoll"}, "edited": false, "score": 0, "creation_date": 1423763090, "post_id": 28467085, "comment_id": 45290446, "body": "Almost there. I&#39;m now getting a syntax error from my flask import. <code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8   File &quot;app.py&quot;, line 25, in &lt;module&gt;     import flask   File &quot;__pyclasspath__&#47;flask&#47;__init__.py&quot;, line 17, in &lt;module&gt;   File &quot;__pyclasspath__&#47;werkzeug&#47;__init__.py&quot;, line 154, in &lt;module&gt;   File &quot;__pyclasspath__&#47;werkzeug&#47;exceptions.py&quot;, line 67, in &lt;module&gt;   File &quot;__pyclasspath__&#47;werkzeug&#47;_internal.py&quot;, line 26     _cookie_params = set((b&#39;expires&#39;, b&#39;path&#39;, b&#39;comment&#39;,                           ^ SyntaxError: no viable alternative at input &#39;&#39;expires&#39;&#39;</code>"}, {"owner": {"reputation": 1753, "user_id": 1555925, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bd24a2af3551b9e30b267ce944a18639?s=128&d=identicon&r=PG", "display_name": "davidrmcharles", "link": "https://stackoverflow.com/users/1555925/davidrmcharles"}, "reply_to_user": {"reputation": 333, "user_id": 4556989, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27563e8fc3a6a029794a78877752a761?s=128&d=identicon&r=PG", "display_name": "knoll", "link": "https://stackoverflow.com/users/4556989/knoll"}, "edited": false, "score": 0, "creation_date": 1423779180, "post_id": 28467085, "comment_id": 45299243, "body": "@solrrt, this is really a new question that you are asking, and we should not ask new questions in the comments."}], "tags": [], "owner": {"reputation": 1753, "user_id": 1555925, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/bd24a2af3551b9e30b267ce944a18639?s=128&d=identicon&r=PG", "display_name": "davidrmcharles", "link": "https://stackoverflow.com/users/1555925/davidrmcharles"}, "is_accepted": true, "score": 1, "last_activity_date": 1423716392, "last_edit_date": 1423716392, "creation_date": 1423699963, "answer_id": 28467085, "question_id": 28466334, "link": "https://stackoverflow.com/questions/28466334/importing-flask-module-in-jython-jar/28467085#28467085", "title": "Importing flask module in jython jar", "body": "<p>The simplest solution is to add the <code>flask</code> module to the root of <code>myapp.jar</code>.  You can do this with the <code>jar</code> utility that comes with the JDK, or use the <code>&lt;jar&gt;</code> task in Ant.  I am sure Maven has a way to do the same thing, but I don't know Maven.</p>\n\n<p>Something like this should get <code>flask</code> into the root of your *.jar file, assuming that <code>flask</code> is the path to your <code>flask</code> module:</p>\n\n<pre><code>$ jar uf folder/myapp.jar flask\n</code></pre>\n\n<p>I am currently using Ant, and that would look something like this if all you are doing is adding <code>flask</code>:</p>\n\n<pre><code>&lt;target name=\"add-flask-module\"&gt;\n    &lt;jar basedir=\"flask\" destfile=\"folder/myapp.jar\" update=\"true\"/&gt;\n&lt;/target&gt;\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4556989, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27563e8fc3a6a029794a78877752a761?s=128&d=identicon&r=PG", "display_name": "knoll", "link": "https://stackoverflow.com/users/4556989/knoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "accepted_answer_id": 28467085, "answer_count": 1, "score": 1, "last_activity_date": 1423716392, "creation_date": 1423696119, "question_id": 28466334, "link": "https://stackoverflow.com/questions/28466334/importing-flask-module-in-jython-jar", "title": "Importing flask module in jython jar", "body": "<p>This is my first attempt at working with jython, so here goes!</p>\n\n<p>I've got a little Python app using Flask as my web framework, and I want to package it up into a jar.</p>\n\n<p>I've followed the <a href=\"https://wiki.python.org/jython/JythonFaq/DistributingJythonScripts\" rel=\"nofollow\">jar method tutorial here</a>, and I've got my app components all set inside the jar. However when I attempt to execute my script inside the jar using this command:</p>\n\n<pre><code>java -jar folder/myapp.jar myapp.py runserver\n</code></pre>\n\n<p>I'm met with your typical Python import error:</p>\n\n<pre><code>File \"folder/myapp.py\", line 24, in &lt;module&gt;\nfrom flask import Flask, render_template, flash, redirect, request, session\nImportError: No module named flask\n</code></pre>\n\n<p>I'm assuming I need to somehow package up my modules inside the jar with the rest of my code, but I'm at a loss as to how. And advice would be appreciated!</p>\n"}, {"tags": ["python", "django", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1423696639, "post_id": 28466344, "comment_id": 45258481, "body": "Yeah, don&#39;t forget to include your url as a string in Django 1.5+ and not use the <code>{{ }}</code> for URL args."}], "tags": [], "owner": {"reputation": 1997, "user_id": 2079162, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9062be775da10788ccdff2c89a33b9ab?s=128&d=identicon&r=PG", "display_name": "warath-coder", "link": "https://stackoverflow.com/users/2079162/warath-coder"}, "is_accepted": true, "score": 2, "last_activity_date": 1423700052, "last_edit_date": 1423700052, "creation_date": 1423696163, "answer_id": 28466344, "question_id": 28466192, "link": "https://stackoverflow.com/questions/28466192/making-custom-urls-with-django-for-template-menue/28466344#28466344", "title": "Making Custom URLs with Django for Template Menue", "body": "<p>Read the docs - <a href=\"https://docs.djangoproject.com/en/1.7/ref/templates/builtins/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/ref/templates/builtins/</a></p>\n\n<pre><code>{% block content %}\n    {% for x in data %}\n        &lt;a href=\"{%url 'hikes.views.displayHike' x.hikeId %}\"&gt; {{x.name}}&lt;/a&gt;\n    {% endfor %}\n{% endblock content %}\n</code></pre>\n\n<p>Should do the trick.</p>\n"}], "owner": {"reputation": 15, "user_id": 3448418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bc6cb6b27c18b39c93b31244320f95?s=128&d=identicon&r=PG&f=1", "display_name": "hiEntropy", "link": "https://stackoverflow.com/users/3448418/hientropy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 28466344, "answer_count": 1, "score": 0, "last_activity_date": 1423700052, "creation_date": 1423695467, "last_edit_date": 1423698579, "question_id": 28466192, "link": "https://stackoverflow.com/questions/28466192/making-custom-urls-with-django-for-template-menue", "title": "Making Custom URLs with Django for Template Menue", "body": "<p>The idea is to take my views address which in my case is <code>hikes.views.displayHike</code> and pass it different id numbers from my database so that there will be a list of links generated by a for loop in the template.  If I do this:</p>\n\n<pre><code>{%block content%}   \n    {% for x in data %}\n        &lt;a href=\"{%url hikes.views.displayHike x.hikeId:{{x.hikeId}}%}\"&gt; {{x.name}}&lt;/a&gt;\n    {% endfor %}\n{%endblock%}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>{%block content%}   \n    {% for x in data %}\n        &lt;a href=\"{%url 'hikes.views.displayHike' {{x.hikeId}}%}\"&gt; {{x.name}}&lt;/a&gt;\n    {% endfor %}\n{%endblock%}\n</code></pre>\n\n<p>The view for both of the above is simple:</p>\n\n<pre><code>def hikeHome(request):\n    data = Hikes.objects.all()       \n    return render(request, 'hikeHome.html', {'data':data})\n</code></pre>\n\n<p>I get a syntax error :</p>\n\n<pre><code>Django Version: 1.7\nException Type: TemplateSyntaxError\nException Value:    \nCould not parse the remainder: ':{{x.hikeId}}' from 'x.hikeId:{{x.hikeId}}'\n</code></pre>\n\n<p>However if I hardcode in a value like this:</p>\n\n<pre><code>{%block content%}   \n    {% for x in data %}\n        &lt;a href=\"{%url 'hikes.views.displayHike' 1 %}\"&gt; {{x.name}}&lt;/a&gt;\n    {% endfor %}\n{%endblock%}\n</code></pre>\n\n<p>It works great but I dont want to have a hard coded value... I want to be able to just put this in the for loop let it run and display all the possible links for the user.  </p>\n\n<p>I also attempted to make the URL in the view, put it into a dictionary and access the name as the key and the value as the URL like so: </p>\n\n<p>view:</p>\n\n<pre><code>def hikeHome(request):\n    hikes = Hikes.objects.all()    \n    data = dict()\n    for x in hikes:\n        data[x.name] = reverse(displayHike,args=[1])\n\n    return render(request, 'hikeHome.html', {'data':data})\n</code></pre>\n\n<p>template:</p>\n\n<pre><code>{%block content%}   \n    {% for x, y in data.items %}\n        &lt;a href=\"{%url {{y}}%}\"&gt; {{x}}&lt;/a&gt;\n    {% endfor %}\n{%endblock%}`\n</code></pre>\n\n<p>This gets the error message:</p>\n\n<pre><code>Django Version: 1.7\nException Type: TemplateSyntaxError\nException Value:    \nCould not parse the remainder: '{{y}}' from '{{y}}'\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-3.x", "subprocess", "kill"], "comments": [{"owner": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "edited": false, "score": 0, "creation_date": 1423695726, "post_id": 28466166, "comment_id": 45258138, "body": "if your threads are blocked &quot;until the end of script&quot; then presumably your C++ processes are also running for that long (otherwise, you&#39;d reach EOF on reading from the pipe)? Why do you want to kill the threads, if the processes they&#39;re listening to are still running?"}, {"owner": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "edited": false, "score": 0, "creation_date": 1423695842, "post_id": 28466166, "comment_id": 45258182, "body": "See: <a href=\"http://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread-in-python\" title=\"is there any way to kill a thread in python\">stackoverflow.com/questions/323972/&hellip;</a>"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1423695850, "post_id": 28466166, "comment_id": 45258186, "body": "Why are you creating pseudoterminals?  Use <code>os.pipe()</code> to create a connected pair of file descriptors with which to communicate with a subprocess."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1423696170, "post_id": 28466166, "comment_id": 45258304, "body": "If you have no other way to signal your C++ processes to terminate, then make them terminate when they detect EOF on their standard input.  Close the python end of that pipe when you&#39;re done with that process.  Similarly, you should make your threads exit naturally when they detect EOF on the streams they are reading.  Having done that, you should not need to forcibly kill your threads."}, {"owner": {"reputation": 2687, "user_id": 1802974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0066445dcc2757c44db6d1e61ae10a7d?s=128&d=identicon&r=PG", "display_name": "Victor Mezrin", "link": "https://stackoverflow.com/users/1802974/victor-mezrin"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1423697514, "post_id": 28466166, "comment_id": 45258812, "body": "@JohnBollinger, using of os.pipe() helped a lot. Most of calls that I send have immediate response, in this case reading thread closed as expected. But I still have troubles with long running calls - if we don&#39;t get response too long, sometimes we don&#39;t need it at all. In this case manual closing of the thread that reads pipe may be very usefull"}, {"owner": {"reputation": 2687, "user_id": 1802974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0066445dcc2757c44db6d1e61ae10a7d?s=128&d=identicon&r=PG", "display_name": "Victor Mezrin", "link": "https://stackoverflow.com/users/1802974/victor-mezrin"}, "reply_to_user": {"reputation": 9801, "user_id": 567650, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ccbc30c848110d05818d71e37ae8c8cf?s=128&d=identicon&r=PG", "display_name": "jwd", "link": "https://stackoverflow.com/users/567650/jwd"}, "edited": false, "score": 0, "creation_date": 1423697808, "post_id": 28466166, "comment_id": 45258926, "body": "@jwd, if C++ program do not respond too long and we don&#39;t need outdated response - it&#39;s better to kill a process, that is reading a pipe. It saves resources - in some cases script can make 100 calls per minute"}, {"owner": {"reputation": 2687, "user_id": 1802974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0066445dcc2757c44db6d1e61ae10a7d?s=128&d=identicon&r=PG", "display_name": "Victor Mezrin", "link": "https://stackoverflow.com/users/1802974/victor-mezrin"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1423698007, "post_id": 28466166, "comment_id": 45258997, "body": "@JohnBollinger, I can&#39;t sent a call to C++ program to close a pipe. This is the third party software that does not have such API call"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1423757126, "post_id": 28466166, "comment_id": 45286375, "body": "@VictorMezrin, you misunderstand.  I suggested that the Python program close <i>its own</i> end of the pipe, which it certainly can do.  If the C++ program continues to read from its end, then it will (eventually) receive an EOF, which it can take as a signal to terminate.  It sounds like that&#39;s not going to serve your particular purpose, however, as you seem to want an out-of-band method to terminate these processes."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1423931075, "post_id": 28466166, "comment_id": 45352343, "body": "@JohnBollinger: you should not use <code>os.pipe()</code> in most cases; <code>subprocess.PIPE</code> should be used instead (internally, it might be implemented using <code>os.pipe()</code>). If <code>PIPE</code> works here instead of <code>pty</code> then it should be used because it guarantees that the threads exit if the subprocess dies (it may not be so for <code>pty</code>). Though sometimes <a href=\"http://pexpect.readthedocs.org/en/latest/FAQ.html#whynotpipe\" rel=\"nofollow noreferrer\"><code>pty</code> is useful due to reasons outlined here</a>"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424026698, "post_id": 28466166, "comment_id": 45374767, "body": "@J.F.Sebastian, you should use <code>os.pipe()</code> in exactly those cases for which it makes sense.  It would be futile to argue how frequently or infrequently those arise, but the one presented in the question certainly is such a case.  <code>subprocess.PIPE</code> provides only unidirectional communication (subprocess to parent), but bidirectional communication is needed here.  <code>pty</code> is not appropriate because there is no (human) interactivity involved (and in fact it performed poorly in practice).  <code>os.pipe()</code> is the right tool for this job."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424028768, "post_id": 28466166, "comment_id": 45375398, "body": "wrong. Read the link: there are two explicit reasons. Look at the subprocess source code to see how PIPE is implemented in terms of os.pipe() -- both are unidirectional. Show me the code for the case in question that uses <code>os.pipe()</code> and does something that PIPE can&#39;t."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424188669, "post_id": 28466166, "comment_id": 45441449, "body": "@J.F.Sebastian, yes, individual pipes are unidirectional.  That&#39;s why you create <i>two</i> for bidirectional communication, just as the OP did with <code>pty</code>s.  But you&#39;re right that that&#39;s a false trail.  The fact remains that passing <code>subprocess.PIPE</code> as a <code>subprocess.Popen()</code> argument and subsequently retrieving the subprocess object&#39;s <code>stdin</code>, <code>stdout</code>, or <code>stderr</code> is equivalent to manually setting up pipes to a subprocess with the help of <code>os.pipe()</code>.  I withdraw my claim that <code>subprocess.PIPE</code> is inappropriate, but I still reject your claim that <code>os.pipe()</code> is inappropriate."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424189460, "post_id": 28466166, "comment_id": 45441956, "body": "what &quot;OP did with <code>pty</code>s&quot; is probably an error. Though I don&#39;t know enough to comment. I can understand only when all three standard streams (stdin/stdout/stderr) point to the same pty, <a href=\"http://stackoverflow.com/a/20509641/4279\">code example</a>. I said you should use <code>PIPE</code> instead of <code>os.pipe()</code> here and you haven&#39;t demonstrated any reasons to the contrary."}], "answers": [{"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1423756410, "last_edit_date": 1495540691, "creation_date": 1423756410, "answer_id": 28481881, "question_id": 28466166, "link": "https://stackoverflow.com/questions/28466166/hard-kill-a-python-sub-thread/28481881#28481881", "title": "Hard kill a python sub-thread", "body": "<p>Just kill the subprocess: <code>self.popen.kill(); self.popen.wait()</code>. The threads will exit automatically (resources such as open pipes are freed when the process dies -- <code>pipe.readline()</code> should return an empty result (meaning EOF)). Though it might fails for <code>pty.openpty()</code> -- close pty fds manually in this case. </p>\n\n<p>You are already using <code>pty</code> (non-portable behavior) therefore you don't need threads (to get portable behavior): you could use <code>pexpect</code> module (a high-level interface  around <code>pty</code>) or <code>fcntl</code> (non-blocking read), or <code>select</code> (wait for multiple fds at once with a timeout), or <code>asyncio</code> instead. See code examples:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/17698359/4279\">Python: read streaming input from subprocess.communicate()</a> -- a simple code example that works if the child process flushes its stdout buffer often enough. Note: you don't need <code>for line in iter(pipe.readline, b'')</code> on Python 3 (the read-ahead bug is fixed there) i.e., you could use <code>for line in pipe</code> instead</li>\n<li><a href=\"https://stackoverflow.com/q/12419198/4279\">Python subprocess readlines() hangs</a> -- shows how to force line-buffering behaviour</li>\n<li><a href=\"https://stackoverflow.com/q/20503671/4279\">Python C program subprocess hangs at \u201cfor line in iter\u201d</a> -- more on the block-buffering issue -- additional solutions if you can modify the child process</li>\n<li><a href=\"https://stackoverflow.com/q/375427/4279\">Non-blocking read on a subprocess.PIPE in python</a> -- look at all solutions (including non-portable -- you don't need Windows support)</li>\n<li><a href=\"https://stackoverflow.com/a/25960956/4279\">Subprocess.Popen: cloning stdout and stderr both to terminal and variables</a> -- shows how to read both stdout/stderr concurrently using <code>asyncio</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2687, "user_id": 1802974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0066445dcc2757c44db6d1e61ae10a7d?s=128&d=identicon&r=PG", "display_name": "Victor Mezrin", "link": "https://stackoverflow.com/users/1802974/victor-mezrin"}, "is_accepted": true, "score": 0, "last_activity_date": 1432656474, "creation_date": 1432656474, "answer_id": 30463681, "question_id": 28466166, "link": "https://stackoverflow.com/questions/28466166/hard-kill-a-python-sub-thread/30463681#30463681", "title": "Hard kill a python sub-thread", "body": "<p>I have created a class to communicate with another processes via pipes.\nClass creates separate threads that read/write to pipes and use async queues to communicate with your thread.\nIt;s a proven solution that I use in my project</p>\n\n<hr>\n\n<pre><code>import time\nimport subprocess\nimport queue\nimport threading\n\nTIMEOUT_POLLINGINTERVAL = 0.5\n\nclass ShellCall():\n    def __init__(self):\n        self._popen = None\n        \"\"\" :type: subprocess.Popen \"\"\"\n        self._stdOutQueue = None\n        \"\"\" :type: queue.Queue \"\"\"\n        self._stdErrQueue = None\n        \"\"\" :type: queue.Queue \"\"\"\n        self._stdOut = []\n        self._stdErr = []\n\n    def __del__(self):\n        if self._popen and self._popen.poll() is None:\n            self._popen.kill()\n\n    def call(self, command, shell=False):\n        \"\"\"\n        Execute a shell command\n\n        :param command: command to be executed\n        :type command: str | list[str]\n        :param shell: If shell is True, the specified command will be executed through the shell\n        :type shell: bool\n        :rtype: None\n        \"\"\"\n        if shell:\n            command = command.encode('utf-8')\n        else:\n            command = [item.encode('utf-8') for item in command]\n        self._popen = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=shell, bufsize=0)\n        self._stdOutQueue = self._getAsyncReadQueue(self._popen.stdout)\n        self._stdErrQueue = self._getAsyncReadQueue(self._popen.stderr)\n\n    def _getAsyncReadQueue(self, sourcePipe):\n        \"\"\"\n        Create a thread to read from pipe in asynchronous mode, get queue to receive data from pipe\n\n        :param sourcePipe: Pipe to read from\n        :type sourcePipe: pipe\n        :return: Queue to receive read data\n        :rtype: queue.Queue\n        \"\"\"\n        newQueue = queue.Queue()\n        newThread = threading.Thread(target=self._enqueueOutput, args=(sourcePipe, newQueue))\n        newThread.daemon = True  # thread dies with the program\n        newThread.start()\n        return newQueue\n\n    @staticmethod\n    def _enqueueOutput(sourcePipe, outputQueue):\n        \"\"\"\n        Read from pipe and write to the queue\n\n        :param sourcePipe: Pipe to read from\n        :type sourcePipe: pipe\n        :param outputQueue: Queue to write to\n        :type outputQueue: queue.Queue\n        \"\"\"\n        for line in iter(sourcePipe.readline, b''):\n            outputQueue.put(line)\n\n    def waitNotNoneReturnCode(self, timeout, *, checkCallback=None):\n        \"\"\"\n        Wait until any return code\n\n        :param timeout: Timeout for executed command (sec). If timeout expired - ShellException raised\n        :type timeout: float\n        :param checkCallback: Any callable that will be used to check is shell call finished\n        :type checkCallback: callable\n        :rtype: None\n        \"\"\"\n        self._wait(timeout, notNoneReturnCode=True, checkCallback=checkCallback)\n\n    def waitNoErrorReturnCode(self, timeout, *, checkCallback=None):\n        \"\"\"\n        Wait until success return code '0'. Otherwise raise ShellException\n\n        :param timeout: Timeout for executed command (sec). If timeout expired - ShellException raised\n        :type timeout: float\n        :param checkCallback: Any callable that will be used to check is shell call finished\n        :type checkCallback: callable\n        :rtype: None\n        \"\"\"\n        self._wait(timeout, notNoneReturnCode=True, noErrorReturnCode=True, checkCallback=checkCallback)\n\n    def waitNoStdErr(self, timeout, *, checkCallback=None):\n        \"\"\"\n        Wait until success return code '0' and empty stderr. Otherwise raise ShellException\n\n        :param timeout: Timeout for executed command (sec). If timeout expired - ShellException raised\n        :type timeout: float\n        :param checkCallback: Any callable that will be used to check is shell call finished\n        :type checkCallback: callable\n        :rtype: None\n        \"\"\"\n        self._wait(timeout, notNoneReturnCode=True, noErrorReturnCode=True, noStdErr=True, checkCallback=checkCallback)\n\n    def waitStdOut(self, timeout, *, checkCallback=None):\n        \"\"\"\n        Wait until success return code '0', empty stderr and not empty stdout. Otherwise raise ShellException\n\n        :param timeout: Timeout for executed command (sec). If timeout expired - ShellException raised\n        :type timeout: float\n        :param checkCallback: Any callable that will be used to check is shell call finished\n        :type checkCallback: callable\n        :rtype: None\n        \"\"\"\n        self._wait(timeout, notNoneReturnCode=True, noErrorReturnCode=True,\n                   noStdErr=True, stdOut=True, checkCallback=checkCallback)\n\n    def _wait(self, timeout, *, pollingTime=TIMEOUT_POLLINGINTERVAL,\n              notNoneReturnCode=False, noErrorReturnCode=False, noStdErr=False, stdOut=False, checkCallback=None):\n        \"\"\"\n        Raise ShellException if conditions not satisfied (see :func:`checkCallResults`).\n        Raise ShellException if conditions not satisfied too long.\n\n\n        :param timeout: Timeout for executed command (sec). If timeout expired - ShellException raised\n        :type timeout: float\n        :param pollingTime: Time interval length to check result of command execution\n        :type pollingTime: float\n        :rtype: None\n        \"\"\"\n        startTime = time.time()\n        while True:\n            if self._checkCallResults(notNoneReturnCode=notNoneReturnCode, noErrorReturnCode=noErrorReturnCode,\n                                      noStdErr=noStdErr, stdOut=stdOut, checkCallback=checkCallback):\n                return\n            # exception due to timeout\n            if time.time() - startTime &gt; timeout:\n                raise ShellException('Shell call not finished too long', self)\n            time.sleep(pollingTime)\n\n    def _checkCallResults(self, notNoneReturnCode=False, noErrorReturnCode=False,\n                          noStdErr=False, stdOut=False, checkCallback=None):\n        \"\"\"\n        Raise ShellException if noErrorReturnCode=True and shell call return not 0 return call\n        Raise ShellException if noStdErr=True and shell call print anything to stderr\n\n        :param notNoneReturnCode: return True only if shell call return any return call\n        :type notNoneReturnCode: bool\n        :param noErrorReturnCode: return True only if shell call return 0 return code\n        :type noErrorReturnCode: bool\n        :param noStdErr: return True only if shell call print nothing to stderr\n        :type noStdErr: bool\n        :param stdOut: return True only if shell call print anything to stdout\n        :type stdOut: bool\n        :param checkCallback: Any callable that will be used to check is shell call finished,\n                              positional arguments, keyword arguments\n        :type checkCallback: callable, args, kwargs\n        :return: True if conditions are satisfied\n        :rtype: bool\n        \"\"\"\n        # exceptions\n        if noErrorReturnCode:\n            if self.getReturnCode() is not None and self.getReturnCode() &gt; 0:\n                raise ShellException('Shell call finished with error return code', self)\n        if noStdErr:\n            if len(self.getStdErr()) &gt; 0:\n                raise ShellException('Shell call have non-empty stderr', self)\n        # break loop\n        notNoneReturnCodeCondition = (self.getReturnCode() is not None) if notNoneReturnCode else True\n        noErrorReturnCodeCondition = (self.getReturnCode() == 0) if noErrorReturnCode else True\n        notStdErrCondition = (len(self.getStdErr()) == 0) if noStdErr else True\n        stdOutCondition = (len(self.getStdOut()) &gt; 0) if stdOut else True\n        callbackCondition = checkCallback() if checkCallback else True\n        if notNoneReturnCodeCondition and noErrorReturnCodeCondition and \\\n                notStdErrCondition and stdOutCondition and callbackCondition:\n            return True\n        else:\n            return False\n\n    def getReturnCode(self):\n        \"\"\"\n        Get return code of the process\n\n        :return: return code of the child process or None if process is not terminated yet\n        :rtype: int|None\n        \"\"\"\n        return self._popen.poll()\n\n    def getStdOut(self):\n        \"\"\"\n        Get list with stdout lines\n\n        :rtype: list[str]\n        \"\"\"\n        self._stdOut += self._readAllQueue(self._stdOutQueue)\n        return self._stdOut\n\n    def getStdErr(self):\n        \"\"\"\n        Get list with stderr lines\n\n        :rtype: list[str]\n        \"\"\"\n        self._stdErr += self._readAllQueue(self._stdErrQueue)\n        return self._stdErr\n\n    @staticmethod\n    def _readAllQueue(sourceQueue):\n        lines = []\n        try:\n            while True:\n                line = sourceQueue.get_nowait()  # or q.get(timeout=.1)\n                line = line.decode('utf-8').rstrip()\n                lines.append(line)\n        except queue.Empty:\n            return lines\n\n    def __repr__(self):\n        stdOut = str.join(' ', self.getStdOut())\n        stdOut = (stdOut[:1000] + '...') if len(stdOut) &gt; 1000 else stdOut\n        stdErr = str.join(' ', self.getStdErr())\n        stdErr = (stdErr[:1000] + '...') if len(stdErr) &gt; 1000 else stdErr\n        return '&lt;ShellCall(command={}, ReturnCode={}, stdout=\"{}\", stderr=\"{}\")&gt;'. \\\n            format(self._popen.args, self.getReturnCode(), stdOut, stdErr)\n\n\nclass ShellException(Exception):\n    def __init__(self, description, shellCall):\n        \"\"\"\n        :param description: test description of the error\n        :type description: str\n        :param shellCall: shell call object used to execute a command\n        :type shellCall: ShellCall\n        :rtype: None\n        \"\"\"\n        super(Exception, self).__init__(description, shellCall)\n\n    def getShellCall(self):\n        \"\"\"\n        Get shell call object used to execute a command\n\n        :rtype: ShellCall\n        \"\"\"\n        description, shellCall = self.args\n        return shellCall\n</code></pre>\n"}], "owner": {"reputation": 2687, "user_id": 1802974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0066445dcc2757c44db6d1e61ae10a7d?s=128&d=identicon&r=PG", "display_name": "Victor Mezrin", "link": "https://stackoverflow.com/users/1802974/victor-mezrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "accepted_answer_id": 30463681, "answer_count": 2, "score": 0, "last_activity_date": 1432656474, "creation_date": 1423695356, "question_id": 28466166, "link": "https://stackoverflow.com/questions/28466166/hard-kill-a-python-sub-thread", "title": "Hard kill a python sub-thread", "body": "<p>I have a python script that communicates with C++ program via shell commands.\nPython script makes calls to C++ program and gets responses through pipes.</p>\n\n<p>C++ program buffers output and blocks threads that read from pipes. I solved these problems using this class:</p>\n\n<pre><code>import os\nimport subprocess\nimport threading\nimport queue\nimport time\nimport pty\n\n\nclass DaemonCall():\n    def __init__(self):\n        self.popen = None\n        self.stdoutQueue = None\n        self.stderrQueue = None\n        self.stdoutThread = None\n        self.stderrThread = None\n\n    def __del__(self):\n        pass\n\n    def call(self, command):\n        masterStdout, slaveStdout = pty.openpty()\n        masterStderr, slaveStderr = pty.openpty()\n        self.popen = subprocess.Popen(command, shell=True, stdout=slaveStdout, stderr=slaveStderr, bufsize=0)\n        self.stdoutQueue, self.stdoutThread = self.getAsyncReadQueue(masterStdout)\n        self.stderrQueue, self.stderrThread = self.getAsyncReadQueue(masterStderr)\n\n    @classmethod\n    def getAsyncReadQueue(cls, source):\n        newQueue = queue.Queue()\n        newThread = threading.Thread(target=cls.enqueueOutput, args=(os.fdopen(source), newQueue))\n        newThread.daemon = True  # thread dies with the program\n        newThread.start()\n        return newQueue, newThread\n\n    @staticmethod\n    def enqueueOutput(pipe, outputQueue):\n        for newLine in iter(pipe.readline, b''):\n            outputQueue.put(newLine)\n        pipe.close()\n\n\ncallWrapper = DaemonCall()\ncallWrapper.call('some shell command')\ntime.sleep(1)\ntry:\n    line = callWrapper.stdoutQueue.get_nowait()  # or q.get(timeout=.1)\nexcept queue.Empty:\n    print('no output yet')\nelse:\n    print(line)\n</code></pre>\n\n<p>Now I have another problem - each call creates two threads to read from pipes, that blocked by C++ program and live until the end of script. I need a way to kill such processes.\nBest of all - paste some code into the <code>__del__</code> method</p>\n\n<p>Any ideas how to kill threads which blocked while reading from pipes?</p>\n\n<p>This all works on Ubuntu 14.04, python 3.4</p>\n"}, {"tags": ["python", "django", "dreamhost"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1423695589, "post_id": 28466141, "comment_id": 45258076, "body": "Do you have an empty <code>__init__.py</code> in core?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1423695702, "post_id": 28466141, "comment_id": 45258121, "body": "Good point. Yes, there&#39;s an <code>__init__.py</code> in the core directory."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1423696500, "post_id": 28466141, "comment_id": 45258425, "body": "Hmm. Can&#39;t see anything obviously wrong. Can you paste the full traceback? Also note that you don&#39;t need to manually create the app structure, <code>manage.py startapp</code> will do it for you."}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1423696950, "post_id": 28466141, "comment_id": 45258614, "body": "Here&#39;s a <a href=\"http://dpaste.com/02Z5BXA\" rel=\"nofollow noreferrer\">stack trace</a>. I did actually create the app using startapp but in a different project. I&#39;m trying to effectively &quot;deploy&quot; the app to another project that&#39;s already hosted."}, {"owner": {"reputation": 1534, "user_id": 3591336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJbmv.jpg?s=128&g=1", "display_name": "dylrei", "link": "https://stackoverflow.com/users/3591336/dylrei"}, "edited": false, "score": 0, "creation_date": 1423697982, "post_id": 28466141, "comment_id": 45258992, "body": "Line 39 of the tb shows you have two levels of &quot;mysite&quot; directories. Any chance you&#39;re running a different settings.py than you think you are?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423698294, "post_id": 28466141, "comment_id": 45259107, "body": "I triple checked just to be sure. There&#39;s only one settings.py file in the whole of the project."}, {"owner": {"reputation": 1534, "user_id": 3591336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJbmv.jpg?s=128&g=1", "display_name": "dylrei", "link": "https://stackoverflow.com/users/3591336/dylrei"}, "edited": false, "score": 1, "creation_date": 1423700257, "post_id": 28466141, "comment_id": 45259760, "body": "@Thew Nothing looks wrong in what you have posted here. Also, you&#39;re able to run it in the shell, so that&#39;s a good sign. My next guess is your WSGI config. Anything unusual in your wsgi.py file? Or your web server wsgi config? Are you running this in a virtualenv?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423700950, "post_id": 28466141, "comment_id": 45259936, "body": "It is in fact running in a virtualenv. I&#39;ve included the wsgi files in the original post."}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1423701695, "post_id": 28466141, "comment_id": 45260144, "body": "try <code>manage.py syncdb</code>."}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423703965, "post_id": 28466141, "comment_id": 45260759, "body": "I tried syncdb again. No change in the behavior."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423707522, "post_id": 28468116, "comment_id": 45261720, "body": "This is one of the combinations I&#39;ve tried. I added the <code>from core import views</code> in order to be able to use it in the way it is now. To be thorough though, I changed it as you described and am still seeing the same issue."}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423707624, "post_id": 28468116, "comment_id": 45261748, "body": "@Thew I am sorry &#39;core.views.home&#39;, without import, sometimes import causes circular dependency"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423708325, "post_id": 28468116, "comment_id": 45261933, "body": "I removed the import declaration and added the quoted <code>core.views.home</code>. I tried both the <code>urlpatterns = patterns(...)</code> and the <code>urlpatterns = [...]</code>, but to no avail. I&#39;m still getting the &quot;No module named urls&quot; at all paths."}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423710008, "post_id": 28468116, "comment_id": 45262329, "body": "How does the the get request looks like ? any reason to import admin in your core/urls.py file ?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423765267, "post_id": 28468116, "comment_id": 45291683, "body": "I&#39;ve updated the core/urls.py and I&#39;ve added the contents of core/views.py."}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423769840, "post_id": 28468116, "comment_id": 45294317, "body": "For just a sanity test can you make sure that there are no stale .pyc files in your project directory, can you remove the urls.pyc and settings.pyc from your project and test again. Currently there is nothing that looks to be a problem. expect that your trace does not look similar to your mysite/urls.py code any idea why this is in your trace ? <code>url(r&#39;^aa&#47;&#39;, include(&#39;core.urls&#39;, namespace=&quot;aa&quot;)),</code> Also can you specify a name of the app in your mysite/urls.py something on the lines of  <code>url(r&#39;^polls&#47;&#39;, include(&#39;core.urls&#39;, namespace=&#39;core&#39;, app_name=&#39;core&#39;)),</code>"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423770012, "post_id": 28468116, "comment_id": 45294427, "body": "The aa is what&#39;s actually in the urls.py files. I&#39;ve been replacing it with &#39;core&#39; for the sake of clarity in this question. I&#39;ve been extremely thorough to make sure that I&#39;m being consistent though. As for the pyc files, I delete them all every time I make a change to be certain that I&#39;m testing updated logic."}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423770420, "post_id": 28468116, "comment_id": 45294651, "body": "Sorry my previous comment had wrong url name url(r&#39;^core/&#39;, include(&#39;core.urls&#39;, namespace=&#39;core&#39;, app_name=&#39;core&#39;)),"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423771244, "post_id": 28468116, "comment_id": 45295080, "body": "I tried adding the app_name to the url declaration. This offered no change. 200 from shell, 500 from browser."}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423772758, "post_id": 28468116, "comment_id": 45295919, "body": "The only think I can now suggest is to enable the DEBUG on settings and check the local variables when in it trying to import by setting in settings.py <code>DEBUG = True TEMPLATE_DEBUG = True</code>  this provides the trace with local variables in the browser something like  <code>No module named urls import_modul __import__(name) Local vars Variable \tValue name \tresults.urls&#39; Package  None </code> The only way I can reproduce your problem is when I do not have a urls.py in my app."}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423773406, "post_id": 28468116, "comment_id": 45296273, "body": "DEBUG &amp; TEMPLATE_DEBUG have both been set to True for the duration of my troubleshooting and also for the stack trace I posted. I know that django is finding both url files as the shell testing functions as intended. It&#39;s only failing to find the core.urls when called remotely via browser. Hopefully, DreamHost will have some suggestions as to why that might be."}], "tags": [], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423707601, "last_edit_date": 1423707601, "creation_date": 1423707165, "answer_id": 28468116, "question_id": 28466141, "link": "https://stackoverflow.com/questions/28466141/adding-an-application-to-hosted-django-project/28468116#28468116", "title": "Adding an application to hosted Django project", "body": "<p>The urlpatterns looks wrong in core/urls.py\ninstead of doing</p>\n\n<pre><code>urlpatterns = patterns('',\nurl(r'^', views.home, name='home'),)\n</code></pre>\n\n<p>try</p>\n\n<pre><code>   urlpatterns = [url(r'^','core.views.home',name='home'),]\n</code></pre>\n\n<p>P.S. The views.name is quoted</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423765810, "post_id": 28471461, "comment_id": 45291986, "body": "I tried all combinations of removing the namespace and the url prefix. Both left me with a 200 response from <code>django.test.Client</code> but a 500 from the browser."}, {"owner": {"reputation": 816, "user_id": 3502612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Czpxy.jpg?s=128&g=1", "display_name": "Sean Azlin", "link": "https://stackoverflow.com/users/3502612/sean-azlin"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423767405, "post_id": 28471461, "comment_id": 45292867, "body": "Can you post more details about the 500 message?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423767659, "post_id": 28471461, "comment_id": 45293022, "body": "There&#39;s a link to the stack trace in the question (right before the first bolded &quot;Edit&quot;). The exception type is &quot;ImportError&quot; and the exception value is &quot;No module named urls&quot;."}, {"owner": {"reputation": 816, "user_id": 3502612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Czpxy.jpg?s=128&g=1", "display_name": "Sean Azlin", "link": "https://stackoverflow.com/users/3502612/sean-azlin"}, "reply_to_user": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423767846, "post_id": 28471461, "comment_id": 45293133, "body": "Are the permissions set properly for the core directory?"}, {"owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "edited": false, "score": 0, "creation_date": 1423768050, "post_id": 28471461, "comment_id": 45293267, "body": "I double checked to be sure. The permissions for the core directory and it&#39;s contents mirror that of polls and mysite. (which function perfectly if I remove any calls to core from mysite/urls.py)"}], "tags": [], "owner": {"reputation": 816, "user_id": 3502612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Czpxy.jpg?s=128&g=1", "display_name": "Sean Azlin", "link": "https://stackoverflow.com/users/3502612/sean-azlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1423725257, "creation_date": 1423725257, "answer_id": 28471461, "question_id": 28466141, "link": "https://stackoverflow.com/questions/28466141/adding-an-application-to-hosted-django-project/28471461#28471461", "title": "Adding an application to hosted Django project", "body": "<p>Just a hunch, but try swapping out <code>url(r'^core/', include('core.urls', namespace=\"core\"))</code> with <code>(r'^core/', include('core.urls'))</code> in mysite/urls.py.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "is_accepted": true, "score": 0, "last_activity_date": 1424117199, "creation_date": 1424117199, "answer_id": 28549467, "question_id": 28466141, "link": "https://stackoverflow.com/questions/28466141/adding-an-application-to-hosted-django-project/28549467#28549467", "title": "Adding an application to hosted Django project", "body": "<p>I finally found a resolution.</p>\n\n<p>I tried creating a completely new project and adding the 'core' app, but was seeing the exact same issue. It dawned on me that the reason that it wasn't able to access submodules (views, models, urls) is that the 'core' module that was being loaded by passenger wasn't the 'core' module that I had created.</p>\n\n<p>I tried changing the name of the app and the issue was resolved.</p>\n\n<p>I noticed that when trying to create an app named 'test' Django throws you a message indicating that it isn't allowed due to an existing module. Apparently this isn't the case across the board.</p>\n\n<p>To follow up, I reviewed my <code>passenger_wsgi.py</code> file (also in the question):</p>\n\n<pre><code>import sys, os\ncwd = os.getcwd()\nsys.path.append(cwd)\nsys.path.append(cwd + '/mysite')\n\nif sys.version &lt; \"2.7.9\":\n   os.execl(cwd + \"/env/bin/python\", \"python2.7\", *sys.argv)\n\nsys.path.insert(0, cwd + '/env/bin')\nsys.path.insert(0, cwd + '/env/lib/python2.7')\nsys.path.insert(0, cwd + '/env/lib/python2.7/site-packages/django')\nsys.path.insert(0, cwd + '/env/lib/python2.7/site-packages')\n\nos.environ['DJANGO_SETTINGS_MODULE'] = \"mysite.settings\"\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p>After looking back, I see the error. In following DreamHost's setup guide for alternative versions of python (found <a href=\"http://wiki.dreamhost.com/Django#Custom_Python_and_Django_install\" rel=\"nofollow\">here</a>), I had inserted my env's python path to the beginning of the <code>sys.path</code>. This causes the <code>django.core</code> module to be matched before my project app which was appended to the end of <code>sys.path</code>.</p>\n\n<p>Moral of the story is be aware of module names and path construction.</p>\n"}], "owner": {"reputation": 61, "user_id": 2199552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw0Mi.jpg?s=128&g=1", "display_name": "Thew", "link": "https://stackoverflow.com/users/2199552/thew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 28549467, "answer_count": 3, "score": 5, "last_activity_date": 1424117199, "creation_date": 1423695239, "last_edit_date": 1423771906, "question_id": 28466141, "link": "https://stackoverflow.com/questions/28466141/adding-an-application-to-hosted-django-project", "title": "Adding an application to hosted Django project", "body": "<p>I've poured over the site for a while now, and haven't found a resolution that works for me. Long time listener, first time caller.</p>\n\n<p>I have an existing Django application (based on the Django documentation sample site including 'polls'). I've moved this over and got it up and running on a web server via wsgi.</p>\n\n<p>I have created a new local project of my own content. I did so in a manner similar to the sample site with an app on the same level as the project's main application.</p>\n\n<p>I'm now trying to add the app that I created to the sample site. I'm trying to mirror the organization and plumbing for the polls app as it connects to \"mysite\".</p>\n\n<p>My file structure is as follows:</p>\n\n<ul>\n<li>passenger_wsgi.py</li>\n<li>mysite\n<ul>\n<li>mysite (main app)\n<ul>\n<li><code>__init__.py</code></li>\n<li>settings.py</li>\n<li>urls.py</li>\n<li>wsgi.py</li>\n</ul></li>\n<li>polls (sample site app)\n<ul>\n<li><code>__init__.py</code></li>\n<li>urls.py</li>\n<li>views.py</li>\n<li>models.py</li>\n</ul></li>\n<li>core (app that I'm adding)\n<ul>\n<li><code>__init__.py</code></li>\n<li>urls.py</li>\n<li>views.py</li>\n<li>models.py</li>\n</ul></li>\n<li>manage.py</li>\n</ul></li>\n</ul>\n\n<p>The addition to settings looks as follows:</p>\n\n<pre><code>INSTALLED_APPS = {\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'polls',\n    'core'\n}\n</code></pre>\n\n<p>mysite/urls.py:</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.contrib import admin\nurlpatterns = patterns('',\n    url(r'^$', 'polls.views.home', name='home2'),\n    url(r'^polls/', include('polls.urls', namespace=\"polls\")),\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^core/', include('core.urls', namespace=\"core\")),\n)\n</code></pre>\n\n<p>core/urls.py:</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.contrib import admin\n#from core import views\nurlpatterns = patterns('',\n    url(r'^', 'core.views.home', name='home'),\n)\n</code></pre>\n\n<p>When I load up \"manage.py shell\", I can import urls, models, and views all from core. I can even use django.test.Client to \"get\" \"/core/\" and I get a 200 response with the expected content. However, when I try to navigate to the site (any url) in a browser, I get: \"ImportError at  No module named urls\"</p>\n\n<p>If I remove the call to include core.urls the other urls work as expected.</p>\n\n<p>I've tried a number if different tweaks to both urls.py files including calling calling core.views directly from the top urls.py ignoring the core.urls which results in \"No module named views\".</p>\n\n<p>Any advice would be greatly appreciated. I also welcome advice on how to write better questions.</p>\n\n<p><a href=\"http://dpaste.com/02Z5BXA\" rel=\"nofollow\">Stack Trace</a></p>\n\n<p><strong>Edit</strong>: Also wanted to mention that I tried deleting all compiled python files to eliminate the possibility of unupdated logic.</p>\n\n<p><strong>Edit 2</strong>: It is running in a virtualenv. I've installed a newer version of Python on a Dreamhost server.</p>\n\n<p>passenger_wsgi.py:</p>\n\n<pre><code>import sys, os\ncwd = os.getcwd()\nsys.path.append(cwd)\nsys.path.append(cwd + '/mysite')\n\nif sys.version &lt; \"2.7.9\":\n       os.execl(cwd + \"/env/bin/python\", \"python2.7\", *sys.argv)\n\nsys.path.insert(0, cwd + '/env/bin')\nsys.path.insert(0, cwd + '/env/lib/python2.7')\nsys.path.insert(0, cwd + '/env/lib/python2.7/site-packages/django')\nsys.path.insert(0, cwd + '/env/lib/python2.7/site-packages')\n\nos.environ['DJANGO_SETTINGS_MODULE'] = \"mysite.settings\"\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p>mysite/mysite/wsgi.py:</p>\n\n<pre><code>import os\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"mysite.settings\")\n\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p><strong>Edit 3</strong>: Here's the core/views.py</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.core.mail import send_mail\nfrom django.http import HttpResponseRedirect\n\n# Create your views here.\ndef home(request):\n    return render(request, 'core/home.html')\n</code></pre>\n\n<p><strong>Edit 4</strong>: Sample GET header from browser. Results in 500 Import Error; No module named urls</p>\n\n<pre><code>GET /core/ HTTP/1.1\nHost: #redacted\nConnection: keep-alive\nPragma: no-cache\nCache-Control: no-cache\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36\nAccept-Encoding: gzip, deflate, sdch\nAccept-Language: en-US,en;q=0.8\nCookie: csrftoken=36HpckIqzOMbw29BOrQWcnaIJbMn6pwo; sessionid=z9c58vb6610kevo4yytolcbhlaqsoqnm\n</code></pre>\n\n<p><strong>Edit 5</strong>: Since the response has predominantly indicated that things <em>look</em> right, I've expanded the scope of the question to include Dreamhost and submitted a support ticket with them. I will report back here if anything useful comes of that.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423695385, "post_id": 28466101, "comment_id": 45257979, "body": "The canonical answer: <a href=\"http://stackoverflow.com/q/2034576/3001761\">stackoverflow.com/q/2034576/3001761</a>"}], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 3008420, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ignnl.jpg?s=128&g=1", "display_name": "jmercier", "link": "https://stackoverflow.com/users/3008420/jmercier"}, "edited": false, "score": 0, "creation_date": 1423695595, "post_id": 28466123, "comment_id": 45258077, "body": "thank you for your clear explanation; I will look into this matter to better understand."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 2, "last_activity_date": 1423695497, "last_edit_date": 1423695497, "creation_date": 1423695169, "answer_id": 28466123, "question_id": 28466101, "link": "https://stackoverflow.com/questions/28466101/tkinter-pack-or-grid-or-place-bug/28466123#28466123", "title": "tkinter pack or grid or place bug", "body": "<p>It occurs because <code>grid(row = 2, column = 2)</code> returns null by definition, i.e. its not a bug. Thus, in your first example, <code>self.progressbar</code> is null. This is not the case in your second example in which <code>self.progressbar</code> holds an instance of the <code>ttk.Progressbar()</code>. The same is for <code>pack()</code>, btw.</p>\n"}], "owner": {"reputation": 534, "user_id": 3008420, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ignnl.jpg?s=128&g=1", "display_name": "jmercier", "link": "https://stackoverflow.com/users/3008420/jmercier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 28466123, "answer_count": 1, "score": 1, "last_activity_date": 1423695497, "creation_date": 1423695073, "last_edit_date": 1423695345, "question_id": 28466101, "link": "https://stackoverflow.com/questions/28466101/tkinter-pack-or-grid-or-place-bug", "title": "tkinter pack or grid or place bug", "body": "<p>I had a problem with <code>tkinter</code>. After several hours of research I found my bug, but don't understand why it happened.</p>\n\n<p>If I write this snippet:</p>\n\n<pre><code>self.progressbar = ttk.Progressbar(self.frame_content, orient=HORIZONTAL, length=200, mode='determinate').grid(row = 2, column = 2)\n</code></pre>\n\n<p>instead of this one:</p>\n\n<pre><code>self.progressbar = ttk.Progressbar(self.frame_content, orient=HORIZONTAL, length=200, mode='determinate')\nself.progressbar.grid(row = 2, column = 2)\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>AttributeError: 'NoneType' object has no attribute 'start'\n</code></pre>\n\n<p>I understand the error, but I do not understand why it occurs. Could someone explain it to me please?</p>\n"}, {"tags": ["python", "post", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 1018, "user_id": 4175690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3ad8359be15c37c5217632368ffaf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ojmeny", "link": "https://stackoverflow.com/users/4175690/ojmeny"}, "is_accepted": false, "score": 0, "last_activity_date": 1423697980, "creation_date": 1423697980, "answer_id": 28466726, "question_id": 28466054, "link": "https://stackoverflow.com/questions/28466054/how-to-create-post-url-for-python-requests-from-charles/28466726#28466726", "title": "How to create post URL for python-requests from Charles", "body": "<p>I would suggest to do </p>\n\n<pre><code>req = requests.post(url, data=json.dumps(payload),headers=headers,auth=auth)\n</code></pre>\n\n<p>For me sending just payload \"make noise\" here, because you do not specific what you are sending.</p>\n"}], "owner": {"reputation": 25, "user_id": 4242125, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/43a26cf544fa3433c409d9c1bea6f31a?s=128&d=identicon&r=PG", "display_name": "victorbrca", "link": "https://stackoverflow.com/users/4242125/victorbrca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423697980, "creation_date": 1423694884, "question_id": 28466054, "link": "https://stackoverflow.com/questions/28466054/how-to-create-post-url-for-python-requests-from-charles", "title": "How to create post URL for python-requests from Charles", "body": "<p>I think I'm way over my head and my question might be too generic, but hopefully someone can point me to the right direction. </p>\n\n<p>I'm trying to reverse engineer the URL used in our web based monitoring app (<a href=\"http://www.whatsupgold.com/\" rel=\"nofollow\">WhatsUpGold</a>) to disable the monitoring for a host via a python script. I've used Charles to show me the post URL and data, but I can't get it to work with <code>python-requests</code> (due to my lack of python and web knowledge). </p>\n\n<p>This is the data being posted to the server when you click the 'disable' button, which is double urlencoded (I've changed user, IP and host):</p>\n\n<pre><code>__DIALOG_OUT_PARAM.MB_ANSWER=DISABLE_%3A1&amp;__DIALOGRESULT=-1&amp;__DIALOGCLOSING=DlgM\nessageBox.asp&amp;__FORMID=%7BB1F8B816-52D1-463E-8669-44C01E276FC5%7D&amp;DlgDevicePrope\nrtiesActiveMonitors.oListActiveMonitors=1&amp;_isDirty=true&amp;DlgDevicePropertiesActiv\neMonitors.DIALOGRETURNURL=%2FNmConsole%2FDeviceManagement%2FDlgDeviceProperties%\n2FDlgDevicePropertiesSummary%2FDlgDevicePropertiesSummary.asp&amp;DlgDevicePropertie\nsActiveMonitors.SAVEDFORMSTATE=%253cSavedFormState%253e%253cFormVariables%253e%2\n53coElement%2520sName%3D%2522ShowAspFormDialog.VISITEDFORM%2522%2520sValue%3D%25\n22visited%2522%2F%253e%253coElement%2520sName%3D%2522_isDirty%2522%2520sValue%3D\n%2522false%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesSummary\n.DIALOGRETURNURL%2522%2520sValue%3D%2522%2FNmConsole%2F%24Nm%2FCore%2FForm-AspFo\nrms%2Finc%2FShowAspFormDialog.asp%2522%2F%253e%253coElement%2520sName%3D%2522Dlg\nDevicePropertiesSummary.SAVEDFORMSTATE%2522%2520sValue%3D%2522%25253cSavedFormSt\nate%25253e%25253cFormVariables%25253e%25253coElement%252520sName%3D%252522__VIEW\nSTATE%252522%252520sValue%3D%252522%2525253cViewState%2F%2525253e%0D%0A%252522%2\nF%25253e%25253c%2FFormVariables%25253e%25253cQueryStringVariables%2F%25253e%2525\n3c%2FSavedFormState%25253e%2522%2F%253e%253coElement%2520sName%3D%2522DlgDeviceP\nropertiesSummary.VISITEDFORM%2522%2520sValue%3D%2522visited%2522%2F%253e%253coEl\nement%2520sName%3D%2522__VIEWSTATE%2522%2520sValue%3D%2522%25253cViewState%25253\ne%25253coElement%252520sName%3D%252522DlgDevicePropertiesSummary.sNote%252522%25\n2520sValue%3D%252522This%252520device%252520was%252520cloned%252520from%252520th\ne%252520device%252520%27server1%27%252520on%2525207%2F3%2F2013%25252010%3A51%3A0\n5%252520AM.%252522%2F%25253e%25253coElement%252520sName%3D%252522DlgDeviceProper\ntiesSummary.nDeviceID%252522%252520sValue%3D%2525222096%252522%2F%25253e%25253co\nElement%252520sName%3D%252522DlgDevicePropertiesSummary.nBestStateID%252522%2525\n20sValue%3D%2525224%252522%2F%25253e%25253coElement%252520sName%3D%252522DlgDevi\ncePropertiesSummary.sDeviceTypeName%252522%252520sValue%3D%252522RedHat%252522%2\nF%25253e%25253coElement%252520sName%3D%252522DlgDevicePropertiesSummary.sHostNam\ne%252522%252520sValue%3D%252522server2%252522%2F%25253e%25253coElement%252520sNa\nme%3D%252522DlgDevicePropertiesSummary.sNetworkAddress%252522%252520sValue%3D%25\n252210.10.10.10%252522%2F%25253e%25253coElement%252520sName%3D%252522DlgDevicePr\nopertiesSummary.sDisplayName%252522%252520sValue%3D%252522server2%252522%2F%2525\n3e%25253coElement%252520sName%3D%252522DlgDevicePropertiesSummary.nWorstStateID%\n252522%252520sValue%3D%2525224%252522%2F%25253e%25253coElement%252520sName%3D%25\n2522DlgDevicePropertiesSummary.nSelectedProperty%252522%252520sValue%3D%252522-1\n%252522%2F%25253e%25253coElement%252520sName%3D%252522DlgDevicePropertiesSummary\n.nDeviceTypeID%252522%252520sValue%3D%25252235%252522%2F%25253e%25253coElement%2\n52520sName%3D%252522bWriteRights%252522%252520sValue%3D%2525221%252522%2F%25253e\n%25253coElement%252520sName%3D%252522DlgDevicePropertiesSummary.sWebUserName%252\n522%252520sValue%3D%252522user1%252522%2F%25253e%25253c%2FViewState%25253e%0D%0A\n%2522%2F%253e%253c%2FFormVariables%253e%253cQueryStringVariables%2F%253e%253c%2F\nSavedFormState%253e&amp;DlgDevicePropertiesSummary.VISITEDFORM=visited&amp;DlgDeviceProp\nertiesActiveMonitors.VISITEDFORM=visited&amp;__VIEWSTATE=%253cViewState%253e%253coEl\nement%2520sName%3D%2522DlgDevicePropertiesSummary.sNote%2522%2520sValue%3D%2522T\nhis%2520device%2520was%2520cloned%2520from%2520the%2520device%2520%27server1%27%\n2520on%25207%2F3%2F2013%252010%3A51%3A05%2520AM.%2522%2F%253e%253coElement%2520s\nName%3D%2522DlgDevicePropertiesActiveMonitors.nDeviceID%2522%2520sValue%3D%25222\n096%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesActiveMonitors\n.bPollingOrder%2522%2520sValue%3D%25220%2522%2F%253e%253coElement%2520sName%3D%2\n522DlgDevicePropertiesSummary.nDeviceID%2522%2520sValue%3D%25222096%2522%2F%253e\n%253coElement%2520sName%3D%2522DlgDevicePropertiesSummary.nBestStateID%2522%2520\nsValue%3D%25224%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesSu\nmmary.sDeviceTypeName%2522%2520sValue%3D%2522RedHat%2522%2F%253e%253coElement%25\n20sName%3D%2522DlgDevicePropertiesSummary.sHostName%2522%2520sValue%3D%2522serve\nr2%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesSummary.sNetwor\nkAddress%2522%2520sValue%3D%252210.10.10.10%2522%2F%253e%253coElement%2520sName%\n3D%2522DlgDevicePropertiesSummary.sDisplayName%2522%2520sValue%3D%2522server2%25\n22%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesActiveMonitors.nSele\nctedProperty%2522%2520sValue%3D%25222%2522%2F%253e%253coElement%2520sName%3D%252\n2DlgDevicePropertiesSummary.nWorstStateID%2522%2520sValue%3D%25224%2522%2F%253e%\n253coElement%2520sName%3D%2522DlgDevicePropertiesSummary.nSelectedProperty%2522%\n2520sValue%3D%2522-1%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropert\niesSummary.nDeviceTypeID%2522%2520sValue%3D%252235%2522%2F%253e%253coElement%252\n0sName%3D%2522bWriteRights%2522%2520sValue%3D%25221%2522%2F%253e%253coElement%25\n20sName%3D%2522DlgDevicePropertiesActiveMonitors.sWebUserName%2522%2520sValue%3D\n%2522user1%2522%2F%253e%253coElement%2520sName%3D%2522DlgDevicePropertiesActiveM\nonitors.nNewMonitorIDCounter%2522%2520sValue%3D%25221%2522%2F%253e%253coElement%\n2520sName%3D%2522DlgDevicePropertiesSummary.sWebUserName%2522%2520sValue%3D%2522\nuser1%2522%2F%253e%253c%2FViewState%253e%0D%0A\n</code></pre>\n\n<p>Request Headers:</p>\n\n<pre><code>User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0\nReferer:https://whatsup.mydomain.com/NmConsole/CoreNm/DlgMessageBox/DlgMessageBox.asp\nHost:whatsup.mydomain.com\nConnection:keep-alive\nAccept-Language:en-US,en;q=0.5\nAccept-Encoding:gzip, deflate\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\n</code></pre>\n\n<p>I tried posting it with the following code... and it doesn't fail, but it also does not post.</p>\n\n<pre><code>auth = 'username:password'\n\nurl = 'https://whatsup.mydomain.com/NmConsole/DeviceManagement/DlgDeviceProperties/DlgDevicePropertiesActiveMonitors/DlgDevicePropertiesActiveMonitors.asp'\n\nheaders = {'accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','content-type': 'application/x-www-form-urlencoded'}\n\npayload = [code block above]\n\nreq = requests.post(url,payload,headers=headers,auth=auth)\n</code></pre>\n\n<p>I'm not expecting this to be a simple answer... but maybe some pointers of where to look.</p>\n\n<p>Thanks,\nVictor.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1423695141, "post_id": 28466019, "comment_id": 45257860, "body": "<code>x is float</code> tells you whether or not <code>x</code> is <i>exactly the same object</i> as <code>float</code> (which it is pretty unlikely to be). Did you mean <code>if isinstance(x, float)</code> (i.e. if <code>x</code> is an instance of the <code>float</code> class)?"}], "answers": [{"tags": [], "owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "is_accepted": false, "score": 6, "last_activity_date": 1423695268, "last_edit_date": 1423695268, "creation_date": 1423694926, "answer_id": 28466068, "question_id": 28466019, "link": "https://stackoverflow.com/questions/28466019/division-with-str-float-int-and-tuples/28466068#28466068", "title": "Division with str, float, int, and tuples", "body": "<p>Just use <a href=\"https://docs.python.org/3/library/functools.html#functools.singledispatch\"><code>functools.singledispatch</code></a>, which chooses the implementation based on the type of the first argument:</p>\n\n<pre><code>from functools import singledispatch\n\n@singledispatch\ndef half(x):\n    raise TypeError()\n\n@half.register(int)\ndef _(x):\n    return x // 2\n\n@half.register(float)\ndef _(x):\n    return x / 2\n\n@half.register(tuple)\ndef _(x):\n    return x[:len(x) // 2]\n\n@half.register(str)\ndef _(x):\n    return x[:len(x) // 2]\n</code></pre>\n\n<p>You can shorten this to passing lambdas to <code>half.register</code> instead of using decorators and function statements if you prefer so:</p>\n\n<pre><code>from functools import singledispatch\n\n@singledispatch\ndef half(x):\n    raise TypeError()\n\nhalf.register(int, lambda x: x // 2)\nhalf.register(float, lambda x: x / 2)\nhalf.register(tuple, lambda x: x[:len(x) // 2])\nhalf.register(str, lambda x: x[:len(x) // 2])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1423695221, "post_id": 28466127, "comment_id": 45257899, "body": "<code>isinstance(x, (float, int))</code> would be generally preferred"}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1423695234, "post_id": 28466127, "comment_id": 45257905, "body": "In Python 3, <code>4 &#47; 2 == 2.0</code> - not what is wanted."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423695362, "post_id": 28466127, "comment_id": 45257970, "body": "Jon, what would be the purpose of the <code>type</code> function if it is not preferred?"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1423695537, "last_edit_date": 1423695537, "creation_date": 1423695171, "answer_id": 28466127, "question_id": 28466019, "link": "https://stackoverflow.com/questions/28466019/division-with-str-float-int-and-tuples/28466127#28466127", "title": "Division with str, float, int, and tuples", "body": "<p>First of all you need to check types. Secondly, this code assumes you're using Python 2.</p>\n\n<pre><code>def half(x):\n\n    if type(x) == float:\n        return x / 2\n\n    if type(x) == int:\n        return x // 2\n\n    if type(x) in (tuple, str):\n         return x[:len(x)//2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1423696458, "last_edit_date": 1423696458, "creation_date": 1423695725, "answer_id": 28466258, "question_id": 28466019, "link": "https://stackoverflow.com/questions/28466019/division-with-str-float-int-and-tuples/28466258#28466258", "title": "Division with str, float, int, and tuples", "body": "<p>You can use a dict with type as key and lambda as value using <code>//</code> for ints and <code>/</code> for floats and simply indexing for str and tuple <code>len(x)//2</code>. </p>\n\n<pre><code>def half(i):\n    d = {float: lambda x: x/2, int: lambda x: x//2, str: lambda x: x[:len(x)//2:], tuple: lambda x: x[:len(x)//2]}\n    return d.get(type(i), lambda x: \"Invalid input\")(i)\n\nIn [29]: print(half(7))\n3   \nIn [30]: print(half((1,2,3,4,5,6,7)))\n(1, 2, 3)\nIn [31]: print(half(\"seventeen\") )\nseve\nIn [32]: print( half(9.0))\n4.5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1423696170, "post_id": 28466277, "comment_id": 45258303, "body": "it would be <code>import numbers</code> and <code>str</code> as there is no basestring in <code>python3</code>"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 1, "last_activity_date": 1423696261, "last_edit_date": 1423696261, "creation_date": 1423695778, "answer_id": 28466277, "question_id": 28466019, "link": "https://stackoverflow.com/questions/28466019/division-with-str-float-int-and-tuples/28466277#28466277", "title": "Division with str, float, int, and tuples", "body": "<pre><code>import numbers\n\ndef half(x):\n    if isinstance(x, numbers.Integral):\n        return x // 2\n    elif isinstance(x, numbers.Real):\n        return x / 2.\n    elif isinstance(x, (tuple, str)):\n        return x[:len(x) // 2]\n    else:\n        raise TypeError(\"x should be an int, float, tuple, or str (or derived from one of those)\")\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 28466127, "answer_count": 4, "score": 1, "last_activity_date": 1423696458, "creation_date": 1423694739, "last_edit_date": 1423694880, "question_id": 28466019, "link": "https://stackoverflow.com/questions/28466019/division-with-str-float-int-and-tuples", "title": "Division with str, float, int, and tuples", "body": "<p>Basically, I want to be able to divide int, str, tuple, and float in half. I'm having trouble with distinguishing the type of an input and then returning the same type.</p>\n\n<p>For example, half(7) should return 3 (not 3.0!), half(9.0) should return 4.5, half(\"seventeen\") should return \"seve\", and half((1,2,3,4,5,6,7)) should return (1,2,3).  I have tried this code without success:</p>\n\n<pre><code>def half(x):\n    \"\"\"returns half of the input, rounded down\n\n    str -&gt; str, int -&gt; int, float -&gt; float, tuple -&gt; tuple\"\"\"\n    return int(x/2)\n    if x is float:\n        return float(x/2)\n    if x is tuple:\n        return tuple(x/2)\n    if x is str:\n        return str(x/2)\n</code></pre>\n"}, {"tags": ["python", "gtk", "pygtk", "pygobject"], "answers": [{"tags": [], "owner": {"reputation": 1179, "user_id": 2220325, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/95d777fff297d2f8e06b8a1f35b98b21?s=128&d=identicon&r=PG", "display_name": "arthropode", "link": "https://stackoverflow.com/users/2220325/arthropode"}, "is_accepted": false, "score": 3, "last_activity_date": 1423737666, "creation_date": 1423737666, "answer_id": 28475330, "question_id": 28465956, "link": "https://stackoverflow.com/questions/28465956/popup-menu-doesnt-appear-when-clicking-on-statusicon/28475330#28475330", "title": "Popup menu doesn&#39;t appear when clicking on StatusIcon", "body": "<p>Finally, I found a solution : the variable menu is destroyed when I leave the function. So I have to save it.\nThus I transformed my code into a class and <code>menu</code> is saved in a attribute :</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom gi.repository import Gtk\n\nclass Menu:\n    def __init__(self):\n        statusicon = Gtk.StatusIcon()\n        statusicon.set_from_stock(Gtk.STOCK_HOME)\n        statusicon.set_title(\"StatusIcon\")\n        statusicon.connect(\"popup-menu\", self.popup_menu)\n\n        window = Gtk.Window()\n        window.connect(\"destroy\", lambda q: Gtk.main_quit())\n        window.show_all()\n\n        Gtk.main()\n\n    def popup_menu(self, icon, button, time):\n        print(time, button)\n\n        self.menu = Gtk.Menu()\n\n        menuitemAbout = Gtk.MenuItem(label=\"About\")\n        self.menu.append(menuitemAbout)\n        menuitemQuit = Gtk.MenuItem(label=\"Quit\")\n        self.menu.append(menuitemQuit)\n        self.menu.show_all()\n\n        self.menu.popup(None, None, None, None, button, time)\n\nMenu()\n</code></pre>\n"}], "owner": {"reputation": 1179, "user_id": 2220325, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/95d777fff297d2f8e06b8a1f35b98b21?s=128&d=identicon&r=PG", "display_name": "arthropode", "link": "https://stackoverflow.com/users/2220325/arthropode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423737666, "creation_date": 1423694409, "question_id": 28465956, "link": "https://stackoverflow.com/questions/28465956/popup-menu-doesnt-appear-when-clicking-on-statusicon", "title": "Popup menu doesn&#39;t appear when clicking on StatusIcon", "body": "<p>I found that code on the Internet :</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom gi.repository import Gtk\n\ndef popup_menu(icon, button, time):\n\n    menu = Gtk.Menu()\n\n    menuitemAbout = Gtk.MenuItem(label=\"About\")\n    menu.append(menuitemAbout)\n    menuitemQuit = Gtk.MenuItem(label=\"Quit\")\n    menu.append(menuitemQuit)\n    menu.show_all()\n\n    menu.popup(None, None, None, None, button, time)\n\nstatusicon = Gtk.StatusIcon()\nstatusicon.set_from_stock(Gtk.STOCK_HOME)\nstatusicon.set_title(\"StatusIcon\")\nstatusicon.connect(\"popup-menu\", popup_menu)\n\nwindow = Gtk.Window()\nwindow.connect(\"destroy\", lambda q: Gtk.main_quit())\nwindow.show_all()\n\nGtk.main()\n</code></pre>\n\n<p>A small menu should appear when I right-click on the status icon, but when I run the code and click, the menu appears and immediately disappears.</p>\n\n<p>Any idea why ?</p>\n"}, {"tags": ["python", "python-2.7", "metaclass"], "answers": [{"comments": [{"owner": {"reputation": 1517, "user_id": 1332689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26dfbd7e31112db41f856e13ac904c94?s=128&d=identicon&r=PG", "display_name": "platypus", "link": "https://stackoverflow.com/users/1332689/platypus"}, "edited": false, "score": 0, "creation_date": 1423697172, "post_id": 28466272, "comment_id": 45258692, "body": "Great answer thank you! By the way, I have some questions on the phrase, &quot;(this looks for a <code>__class__</code> attribute first and if not found, uses its type).&quot; 1. In what type of situations would the <code>__class__</code> attribute be not found? 2. In what type of situations would the <code>__class__</code> attribute of a class be different from its type (as determined using <code>type()</code>)? Thank you"}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 1517, "user_id": 1332689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26dfbd7e31112db41f856e13ac904c94?s=128&d=identicon&r=PG", "display_name": "platypus", "link": "https://stackoverflow.com/users/1332689/platypus"}, "edited": false, "score": 0, "creation_date": 1423698931, "post_id": 28466272, "comment_id": 45259312, "body": "@platypus Old style classes don&#39;t have this attribute and even thier output for <code>type()</code> is different. For new-style classes default type is <code>type</code> and for old-style classes its <code>classobj</code>. <a href=\"https://docs.python.org/2/reference/datamodel.html#new-style-and-classic-classes\" rel=\"nofollow noreferrer\">New-style and classic classes</a>"}], "tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": true, "score": 4, "last_activity_date": 1423695766, "creation_date": 1423695766, "answer_id": 28466272, "question_id": 28465955, "link": "https://stackoverflow.com/questions/28465955/python-metaclass-behavior-not-calling-new-is-there-an-explanation/28466272#28466272", "title": "Python metaclass behavior (not calling __new__), is there an explanation?", "body": "<p>In the second case instead of returning an instance of the metaclass you're actually returning an instance of <code>type</code>, this in turn sets the <code>__class__</code> attribute of the newly created class <code>E</code> as <code>&lt;type 'type'&gt;</code> instead of <code>D</code>. Hence <a href=\"https://docs.python.org/2/reference/datamodel.html#__metaclass__\" rel=\"nofollow\">as per the rule <strong>2</strong></a> Python checks for base class's <code>__class__</code> attribute(or <code>type(E)</code> or <code>E.__class__</code>) and decides to use <code>type</code> as <code>F</code>'s metaclass, so <code>D</code>'s <code>__new__</code> is never called in this case.</p>\n\n<ul>\n<li>If <code>dict['__metaclass__']</code> exists, it is used.</li>\n<li>Otherwise, if <strong>there is at least one base class, its metaclass is used</strong> (this looks for a <code>__class__</code> attribute first and if not found, uses its type).</li>\n</ul>\n\n<p>So, the proper way is to call type's <code>__new__</code> method in metaclass's <code>__new__</code> method:</p>\n\n<pre><code>class D(type):\n    def __new__(cls, name, bases, dct):\n        print \"cls is:   \", cls\n        print \"name is:  \", name\n        print \"bases is: \", bases\n        print \"dct is:   \", dct\n        return type.__new__(cls, name, bases, dct)\n\nclass E(object):\n    __metaclass__ = D\n\nclass F(E): pass\n\nclass A(object):\n    pass\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>cls is:    &lt;class '__main__.D'&gt;\nname is:   E\nbases is:  (&lt;type 'object'&gt;,)\ndct is:    {'__module__': '__main__', '__metaclass__': &lt;class '__main__.D'&gt;}\ncls is:    &lt;class '__main__.D'&gt;\nname is:   F\nbases is:  (&lt;class '__main__.E'&gt;,)\ndct is:    {'__module__': '__main__'}\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 1332689, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26dfbd7e31112db41f856e13ac904c94?s=128&d=identicon&r=PG", "display_name": "platypus", "link": "https://stackoverflow.com/users/1332689/platypus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 1, "accepted_answer_id": 28466272, "answer_count": 1, "score": 3, "last_activity_date": 1423695766, "creation_date": 1423694409, "last_edit_date": 1495542830, "question_id": 28465955, "link": "https://stackoverflow.com/questions/28465955/python-metaclass-behavior-not-calling-new-is-there-an-explanation", "title": "Python metaclass behavior (not calling __new__), is there an explanation?", "body": "<p>In a file named exp.py (below), I am trying to understand metaclasses in Python. It seems like when the metaclass's <code>__new__</code> method uses the 'type' constructor to construct a class, its <code>__new__</code> method does not get called by a subclass of a class using it as the metaclass:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class A(type):\n    def __new__(cls, name, bases, dct):\n        print \"cls is:   \", cls\n        print \"name is:  \", name\n        print \"bases is: \", bases\n        print \"dct is:   \", dct\n        print\n        return super(A, cls).__new__(cls, name, bases, dct)\n\nclass B(object):\n    __metaclass__ = A\n\nclass C(B): pass\n\nclass D(type):\n    def __new__(cls, name, bases, dct):\n        print \"cls is:   \", cls\n        print \"name is:  \", name\n        print \"bases is: \", bases\n        print \"dct is:   \", dct\n        return type(name, bases, dct)\n\nclass E(object):\n    __metaclass__ = D\n\nclass F(E): pass\n</code></pre>\n\n<p>In the terminal:</p>\n\n<pre><code>&gt;&gt;&gt; from exp import *\ncls is:    &lt;class 'exp.A'&gt;\nname is:   B\nbases is:  (&lt;type 'object'&gt;,)\ndct is:    {'count': 0, '__module__': 'exp', '__metaclass__': &lt;class 'exp.A'&gt;, '__init__': &lt;function __init__ at 0x107eb9578&gt;}\n\ncls is:    &lt;class 'exp.A'&gt;\nname is:   C\nbases is:  (&lt;class 'exp.B'&gt;,)\ndct is:    {'__module__': 'exp'}\n\ncls is:    &lt;class 'exp.D'&gt;\nname is:   E\nbases is:  (&lt;type 'object'&gt;,)\ndct is:    {'count': 0, '__module__': 'exp', '__metaclass__': &lt;class 'exp.D'&gt;, '__init__': &lt;function __init__ at 0x107ebdb18&gt;}\n&gt;&gt;&gt; \n</code></pre>\n\n<p>As you can see, the <code>__new__</code> method of the metaclass D does not get called when class F's definition is loaded. (If it had been called, then information about the class F would have been printed too.)</p>\n\n<p>Could someone help me explain this?</p>\n\n<hr>\n\n<p>Related post: I was reading <a href=\"https://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python/6581949#6581949\">What is a metaclass in Python?</a>, and seem to encounter something similar in the sentence, \"Be careful here that the <code>__metaclass__</code> attribute will not be inherited, the metaclass of the parent (<code>Bar.__class__</code>) will be. If Bar used a <code>__metaclass__</code> attribute that created Bar with <code>type()</code> (and not <code>type.__new__()</code>), the subclasses will not inherit that behavior.\" But I did not fully understand this.</p>\n"}, {"tags": ["python", "repeat"], "comments": [{"owner": {"reputation": 456, "user_id": 3015219, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a4f61bae905b479e8dc1faa3b335e5a7?s=128&d=identicon&r=PG", "display_name": "noahbkim", "link": "https://stackoverflow.com/users/3015219/noahbkim"}, "edited": false, "score": 0, "creation_date": 1423694325, "post_id": 28465897, "comment_id": 45257505, "body": "Just use the text multiplication operator: <code>&quot;abc&quot; * 3 == &quot;abcabcabc&quot;</code>"}, {"owner": {"reputation": 267, "user_id": 4516039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5812ed455cedffb9e85972875b405b3?s=128&d=identicon&r=PG&f=1", "display_name": "Meng Wang", "link": "https://stackoverflow.com/users/4516039/meng-wang"}, "edited": false, "score": 0, "creation_date": 1423694444, "post_id": 28465897, "comment_id": 45257553, "body": "The first code snippet seems not &quot;reads 10 lines of data&quot;, but read in everything."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1423695116, "last_edit_date": 1423695116, "creation_date": 1423694357, "answer_id": 28465937, "question_id": 28465897, "link": "https://stackoverflow.com/questions/28465897/repeating-contents-of-a-file-into-another-file-using-python/28465937#28465937", "title": "Repeating contents of a file into another file using Python", "body": "<pre><code>from itertools import repeat,islice\n\nfw.write(\"\".join(repeat(text, 10000)))\n</code></pre>\n\n<p>So:</p>\n\n<pre><code>with open('TR.txt') as fr, open('TrentsRecords.txt', 'w') as fw:\n    text = list(islice(fr, None, 10)) # get first ten lines\n    fw.writelines(repeat(line.strip()+\"\\n\", 10000)) # write first ten lines 10000 times\n</code></pre>\n\n<p><code>with</code> will automatically close your files.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1423694416, "creation_date": 1423694416, "answer_id": 28465957, "question_id": 28465897, "link": "https://stackoverflow.com/questions/28465897/repeating-contents-of-a-file-into-another-file-using-python/28465957#28465957", "title": "Repeating contents of a file into another file using Python", "body": "<p>Just multiply. If it is a string, it will concatenate. If it is a number, it will multiply.</p>\n\n<pre><code>fw.write(text * 1000000) # add newlines if you want\n</code></pre>\n\n<p>Look at the Python Documentation. This is taken straight from it.</p>\n\n<blockquote>\n  <p>Strings can be concatenated (glued together) with the <code>+</code> operator, and repeated with <code>*</code>:</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; # 3 times 'un', followed by 'ium'\n&gt;&gt;&gt; 3 * 'un' + 'ium'\n'unununium'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": true, "score": 0, "last_activity_date": 1423694457, "creation_date": 1423694457, "answer_id": 28465968, "question_id": 28465897, "link": "https://stackoverflow.com/questions/28465897/repeating-contents-of-a-file-into-another-file-using-python/28465968#28465968", "title": "Repeating contents of a file into another file using Python", "body": "<pre><code>text = (text + '\\n')*1000\nfw.write(text)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4556892, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-oHTQJu-YHW4/AAAAAAAAAAI/AAAAAAAAAHE/f7_sghcrU5Y/photo.jpg?sz=128", "display_name": "Jesse Dugger", "link": "https://stackoverflow.com/users/4556892/jesse-dugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 0, "accepted_answer_id": 28465968, "answer_count": 3, "score": 1, "last_activity_date": 1423696013, "creation_date": 1423694207, "question_id": 28465897, "link": "https://stackoverflow.com/questions/28465897/repeating-contents-of-a-file-into-another-file-using-python", "title": "Repeating contents of a file into another file using Python", "body": "<p>So I am new to Python and I am trying to create a script that reads 10 lines of data from one text file and then repeats that data 1000 times and writes it to another text file.  Reading the file is not the problem, but this is what I have:</p>\n\n<pre><code>fr = open('TR.txt', 'r')\ntext = fr.read()\nprint(text)\nfr.close()\n</code></pre>\n\n<p>Now I understand that this opens the file and prints the contents.  I just need to take those entries and repeat them 1000 times and then write those to a file.  This is what I have so far to write to a file (I know this probably doesn't make sense):</p>\n\n<pre><code>fw = open('TrentsRecords.txt', 'w')\nfw.write(text.repeat(text, 1000000))\nfw.close()\n</code></pre>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 1, "last_activity_date": 1423695237, "creation_date": 1423695237, "answer_id": 28466140, "question_id": 28465850, "link": "https://stackoverflow.com/questions/28465850/rolling-window-polynomial-fit-in-pandas/28466140#28466140", "title": "Rolling window polynomial fit in pandas", "body": "<p>I don't think it is possible with <code>rolling_apply</code>.  The <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.stats.moments.rolling_apply.html\" rel=\"nofollow\">documentation</a> says that the applied function \"must produce a single value from an ndarray input\".  What it seems to actually mean is \"must produce a value <em>that is or can be converted into a single float</em>\".  If you follow up on the full exception traceback it leads you to this code in <code>algos.pyx</code>:</p>\n\n<pre><code>output = np.empty(n, dtype=float)\ncounts = roll_sum(np.isfinite(input).astype(float), win, minp)\n\nbufarr = np.empty(win, dtype=float)\noldbuf = &lt;float64_t*&gt; bufarr.data\n\nn = len(input)\nfor i from 0 &lt;= i &lt; int_min(win, n):\n    if counts[i] &gt;= minp:\n        output[i] = func(input[int_max(i - win + 1, 0) : i + 1], *args,\n                         **kwargs)\n    else:\n        output[i] = NaN\n</code></pre>\n\n<p>The error is raised on the line with <code>output[i] = func(...)</code>.  You can see that the output array is hardcoded to have dtype float.  The error you receive is the same as what you get if you attempt to convert a numpy array (of length more than 1) to a float:</p>\n\n<pre><code>&gt;&gt;&gt; float(np.array([1, 2, 3]))\nTraceback (most recent call last):\n  File \"&lt;pyshell#14&gt;\", line 1, in &lt;module&gt;\n    float(np.array([1, 2, 3]))\nTypeError: only length-1 arrays can be converted to Python scalars\n</code></pre>\n\n<p>So what is happening is that it tries to assign the output of <code>polyfit</code> to a single element of the float ndarray, and fails because the output of polyfit is an array that can't be converted to a float.</p>\n\n<p>This could be \"fixed\" by making <code>output</code> have dtype object, but this would slow things way down.</p>\n\n<p>I think you have to consider <code>rolling_apply</code> as usable only for functions that return a single float.  To support non-scalar outputs, you would have to roll (har har) your own version of <code>rolling_apply</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 565212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c760ef1aa8ed06d46eacb496a4debd0?s=128&d=identicon&r=PG", "display_name": "Tapomay", "link": "https://stackoverflow.com/users/565212/tapomay"}, "is_accepted": false, "score": 0, "last_activity_date": 1466022117, "creation_date": 1466022117, "answer_id": 37845056, "question_id": 28465850, "link": "https://stackoverflow.com/questions/28465850/rolling-window-polynomial-fit-in-pandas/37845056#37845056", "title": "Rolling window polynomial fit in pandas", "body": "<p>I wanted to create an IIR filter kind of expansion of a time series.\nEg: [1,2,3,4,5] with window = 2 should give: [[1,2], [2,3], [3,4], [4,5]]</p>\n\n<p>Here's my solution based on some bad coding practices but gets the job done.\nReturn index to a global dict/array from the rolling_apply() and throw away the return values. Solution is ready in the dict when rolling_apply returns.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndataDict = dict()\nINDEX = 0\n\ndef windowFunc(w):\n  global INDEX\n  global dataDict\n  dataDict[INDEX] = np.copy(w)\n  INDEX = INDEX + 1\n  return INDEX\n\ndd = pd.DataFrame([1,2,3,4,5,6,7,8,9,0])\ndd2 = pd.rolling_apply(dd, window=2, func = windowFunc)\nprint(list(dataDict.values()))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7765458, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OtP7MrXJV10/AAAAAAAAAAI/AAAAAAAAAOc/Sc9alwlbazc/photo.jpg?sz=128", "display_name": "Nissar Ahmed", "link": "https://stackoverflow.com/users/7765458/nissar-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1517754511, "creation_date": 1517754511, "answer_id": 48609119, "question_id": 28465850, "link": "https://stackoverflow.com/questions/28465850/rolling-window-polynomial-fit-in-pandas/48609119#48609119", "title": "Rolling window polynomial fit in pandas", "body": "<p>I came across the same issue, you can just add [0] to the lambda function:</p>\n\n<pre><code>coefs = pd.rolling_apply(my_ts, 21, lambda x: np.polyfit(range(len(x)), x, 3)[0])\n</code></pre>\n\n<p>It now works fine.</p>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 7696283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ljOTS.jpg?s=128&g=1", "display_name": "tommylicious", "link": "https://stackoverflow.com/users/7696283/tommylicious"}, "is_accepted": false, "score": 0, "last_activity_date": 1564439233, "creation_date": 1564439233, "answer_id": 57262093, "question_id": 28465850, "link": "https://stackoverflow.com/questions/28465850/rolling-window-polynomial-fit-in-pandas/57262093#57262093", "title": "Rolling window polynomial fit in pandas", "body": "<p>Since rolling_apply has been deprecated, Nissar's solution also works with pd.rolling.apply method:</p>\n\n<pre><code>coefs = my_ts.rolling(21).apply(lambda x: np.polyfit(range(len(x)), x, 3)[0])    \n</code></pre>\n\n<p>Of particular significance here is Nissar's use of range(len(x)) to satisfy the time component, which avoids the inability to use rolling.apply with a lambda function of two columns or series (since some placeholder count for the x (time) component would typically be in another column of a dataframe or another series).  </p>\n"}], "owner": {"reputation": 3672, "user_id": 415282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd4b5138bd71e97930f2ab8229184987?s=128&d=identicon&r=PG", "display_name": "Jubbles", "link": "https://stackoverflow.com/users/415282/jubbles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1769, "favorite_count": 1, "accepted_answer_id": 28466140, "answer_count": 4, "score": 1, "last_activity_date": 1564439233, "creation_date": 1423693989, "last_edit_date": 1517759751, "question_id": 28465850, "link": "https://stackoverflow.com/questions/28465850/rolling-window-polynomial-fit-in-pandas", "title": "Rolling window polynomial fit in pandas", "body": "<p>I am trying to compute coefficients from a <em>n</em>-degree polynomial applied to a <em>t</em>-day window of a time series.  However, I receive an exception <code>TypeError: only length-1 arrays can be converted to Python scalars</code>. </p>\n\n<p>My versions are:</p>\n\n<ul>\n<li>Python 3.6</li>\n<li>pandas version 0.22.0</li>\n<li>numpy version 1.13.3 </li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nmy_ts = pd.Series(data = np.random.normal(size = 365 * 2), index = pd.date_range(start = '2013-01-01', periods = 365 * 2))\ncoefs = pd.rolling_apply(my_ts, 21, lambda x: np.polyfit(range(len(x)), x, 3))\n</code></pre>\n\n<p>Yet, when I wrap <code>np.polyfit</code> so that it returns only one coefficient, <code>rolling_apply</code> has no issue.</p>\n\n<pre><code>def pf_wrapper(x):\n    coef_lst = np.polyfit(range(len(x)), x, 3)\n    return coef_lst[0]\ncoefs = pd.rolling_apply(my_ts, 21, pf_wrapper)\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Since <code>pd.rolling_apply()</code> is unable to return a non-scalar, my current solution is the following:</p>\n\n<pre><code>def get_beta(ts, deg):\n    coefs = polyfit(range(len(ts)), ts, deg = 3)[::-1]\n    return coefs[deg]\n\nb0 = pd.rolling_apply(my_ts, 21, lambda x: get_beta(x, 0))\n...\nb3 = pd.rolling_apply(my_ts, 21, lambda x: get_beta(x, 3))\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 268418, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6b6f937026b26c3163817081027991ca?s=128&d=identicon&r=PG", "display_name": "edu222", "link": "https://stackoverflow.com/users/268418/edu222"}, "edited": false, "score": 0, "creation_date": 1423694548, "post_id": 28465921, "comment_id": 45257608, "body": "thanks, I have edited the model so that it says categories instead of category, I will try to use the .all and get back to you."}, {"owner": {"reputation": 466, "user_id": 268418, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6b6f937026b26c3163817081027991ca?s=128&d=identicon&r=PG", "display_name": "edu222", "link": "https://stackoverflow.com/users/268418/edu222"}, "edited": false, "score": 0, "creation_date": 1423695109, "post_id": 28465921, "comment_id": 45257847, "body": "that was it! all I was missing was the .all"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1423695489, "last_edit_date": 1423695489, "creation_date": 1423694295, "answer_id": 28465921, "question_id": 28465849, "link": "https://stackoverflow.com/questions/28465849/best-way-to-list-subcategories-on-a-django-template-manyrelatedmanager-not-iter/28465921#28465921", "title": "Best way to list subcategories on a Django template (ManyRelatedManager not Iterable)", "body": "<p>Like the error says, it's a manager, so you need to use manager methods on it: <code>{% for category in event.categories.all %}</code>.</p>\n"}], "owner": {"reputation": 466, "user_id": 268418, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6b6f937026b26c3163817081027991ca?s=128&d=identicon&r=PG", "display_name": "edu222", "link": "https://stackoverflow.com/users/268418/edu222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 28465921, "answer_count": 1, "score": 0, "last_activity_date": 1423697309, "creation_date": 1423693986, "last_edit_date": 1423697309, "question_id": 28465849, "link": "https://stackoverflow.com/questions/28465849/best-way-to-list-subcategories-on-a-django-template-manyrelatedmanager-not-iter", "title": "Best way to list subcategories on a Django template (ManyRelatedManager not Iterable)", "body": "<p>I am building an app for displaying events.</p>\n\n<p>The events model looks like this:</p>\n\n<pre><code>class Event(models.Model):\n    name = models.CharField(max_length=255)\n    venue = models.ForeignKey('venues.Venue')\n    categories = models.ManyToManyField('categories.Category')\n    description = models.TextField()\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p>Note: the event can have multiple categories.</p>\n\n<p>The categories model looks like this:</p>\n\n<pre><code>class Category(models.Model):\n    name = models.CharField(max_length=255)\n    parent_category = models.ForeignKey('self', null=True, blank=True)\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p>Note:  A main category would be defined as a category that has no \"parent_category\"</p>\n\n<p>This allows me to have hierarchical categories like this:</p>\n\n<pre><code>Music\n    Vallenato\n    Rock Latino\n    Cumbia\n</code></pre>\n\n<p>Now on a Django template I want to present a list off all the events for a given <strong>main category</strong> (like a listview).</p>\n\n<p>Using the same example, this page would consist of:</p>\n\n<p>-A list with an overview of all of the music events so people can get a brief of the events and click on one to get a detail of a given event.</p>\n\n<p>When I send the event queryset to the template like this:</p>\n\n<pre><code>events = Event.objects.all().order_by('name')\n</code></pre>\n\n<p>And I try to loop over the event categories with something like this:</p>\n\n<pre><code>{% for event in events %}\n    {% for category in event.categories %}\n</code></pre>\n\n<p>I get a <strong>ManyRelatedManager not Iterable</strong> error.</p>\n\n<p>What is the best way to list all the subcategories of a given event on a template?</p>\n\n<p>How would you handle this at the template or view level? (whichever is best)</p>\n"}, {"tags": ["python", "string", "variables", "limit"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1423694222, "post_id": 28465779, "comment_id": 45257460, "body": "slice the string if you want to limit it"}], "answers": [{"tags": [], "owner": {"reputation": 27359, "user_id": 1516286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/36f74e0d3318a630af9ce0e356182040?s=128&d=identicon&r=PG", "display_name": "Vor", "link": "https://stackoverflow.com/users/1516286/vor"}, "is_accepted": false, "score": 0, "last_activity_date": 1423693982, "creation_date": 1423693982, "answer_id": 28465848, "question_id": 28465779, "link": "https://stackoverflow.com/questions/28465779/how-do-i-limit-the-amount-of-letters-in-a-string/28465848#28465848", "title": "How do I limit the amount of letters in a string", "body": "<p>You can check it with builtin <code>len</code> function:</p>\n\n<pre><code>my_input = raw_input(\"Enter something \")\nif len(my_input) &gt; 3:\n  print \"More then 3\"\nelse:\n  print \"Ok\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1574, "user_id": 8070090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHovr.jpg?s=128&g=1", "display_name": "Tri", "link": "https://stackoverflow.com/users/8070090/tri"}, "edited": false, "score": 0, "creation_date": 1550794374, "post_id": 28465854, "comment_id": 96412310, "body": "Thanks, you gave me insight how to do it :)"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": true, "score": 9, "last_activity_date": 1524267123, "last_edit_date": 1524267123, "creation_date": 1423694018, "answer_id": 28465854, "question_id": 28465779, "link": "https://stackoverflow.com/questions/28465779/how-do-i-limit-the-amount-of-letters-in-a-string/28465854#28465854", "title": "How do I limit the amount of letters in a string", "body": "<p>Python's <code>input</code> function cannot do this directly; but you can truncate the returned string, or repeat until the result is short enough.</p>\n\n<pre><code># method 1\nanswer = input(\"What's up, doc? \")[:10]  # no more than 10 characters\n\n# method 2\nwhile True:\n    answer = input(\"What's up, doc? \")\n    if len(answer) &lt;= 10:\n        break\n    else:\n        print(\"Too much info - keep it shorter!\")\n</code></pre>\n\n<p>If that's not what you're asking, you need to make your question more specific.</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 2911848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5796ee70e22e3992311d8808584f517f?s=128&d=identicon&r=PG&f=1", "display_name": "Saulo Mendes", "link": "https://stackoverflow.com/users/2911848/saulo-mendes"}, "is_accepted": false, "score": 2, "last_activity_date": 1423694266, "creation_date": 1423694266, "answer_id": 28465914, "question_id": 28465779, "link": "https://stackoverflow.com/questions/28465779/how-do-i-limit-the-amount-of-letters-in-a-string/28465914#28465914", "title": "How do I limit the amount of letters in a string", "body": "<p>You can get only the first n characters of the input text like so:</p>\n\n<pre><code>data = raw_input()[:10]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9667452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RJS8lYIDIb8/AAAAAAAAAAI/AAAAAAAAABQ/L7wlvBXw9Ho/photo.jpg?sz=128", "display_name": "Nolan Mayer", "link": "https://stackoverflow.com/users/9667452/nolan-mayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1524107209, "creation_date": 1524107209, "answer_id": 49912083, "question_id": 28465779, "link": "https://stackoverflow.com/questions/28465779/how-do-i-limit-the-amount-of-letters-in-a-string/49912083#49912083", "title": "How do I limit the amount of letters in a string", "body": "<p>use this:</p>\n\n<pre><code>while True:\n    answer = input(\"What's up, doc? \")\n    if len(answer) &gt;= 10:\n        print(\"Too much info - keep it shorter!\")\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4343118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-w_mryGo9mE8/AAAAAAAAAAI/AAAAAAAAABw/r2-MBMpDlpM/photo.jpg?sz=128", "display_name": "Jacob cummins", "link": "https://stackoverflow.com/users/4343118/jacob-cummins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20693, "favorite_count": 1, "accepted_answer_id": 28465854, "answer_count": 4, "score": 4, "last_activity_date": 1524267123, "creation_date": 1423693696, "question_id": 28465779, "link": "https://stackoverflow.com/questions/28465779/how-do-i-limit-the-amount-of-letters-in-a-string", "title": "How do I limit the amount of letters in a string", "body": "<p>I have a program that asks a the user to input a question, the program then answers it.\nWhat I want to know is how do I limit the amount of letters a user can input into a variable.</p>\n"}, {"tags": ["python", "string", "list", "sorting"], "comments": [{"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1423693685, "post_id": 28465735, "comment_id": 45257246, "body": "You&#39;ll have to create your own algorithm to do this...also, as this question is worded, it&#39;s beyond the scope of SO."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423694175, "post_id": 28465735, "comment_id": 45257435, "body": "See below Luke. It is actually extremely simple."}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423695249, "post_id": 28466025, "comment_id": 45257912, "body": "I think it is best to no reinvent the wheel. No offense, but I feel that my route is more efficient."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 3, "creation_date": 1423695870, "post_id": 28466025, "comment_id": 45258191, "body": "@MalikBrahimi - this answer does more than yours, correctly implementing the lexical sort. Test both on <code>[&#39;fghde&#39;, &#39;fghij&#39;, &#39;abcde&#39;]</code> with <code>&quot;gfiabdcej&quot;</code> as the ordering string - a correct sort will put the <code>fghij</code> before <code>fghde</code>. It&#39;s also more efficient, although that doesn&#39;t matter for the kinds of data we see here - <code>index.get</code> on a dict is faster than <code>index</code> on a list."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423696470, "post_id": 28466025, "comment_id": 45258416, "body": "Actually I fixed my code, now it is in fact, more efficient and it goes as far."}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": true, "score": 5, "last_activity_date": 1423694767, "creation_date": 1423694767, "answer_id": 28466025, "question_id": 28465735, "link": "https://stackoverflow.com/questions/28465735/sort-a-list-based-on-a-string-python/28466025#28466025", "title": "Sort a list based on a string- Python", "body": "<pre><code>def make_sort_key(key_string):\n    # make index\n    index = {}\n    for i,ch in enumerate(key_string):\n        index[ch] = i\n    # sort any char not in index following any char in index\n    omitted = len(index)\n    val = index.get\n\n    def key_fn(s):\n        return [val(ch, omitted) for ch in s]\n\n    return key_fn\n</code></pre>\n\n<p>then</p>\n\n<pre><code>items = [\n    \"abcde\",\n    \"fghij\",\n    \"fghde\"\n]\n\nitems.sort(key = make_sort_key(\"gfiabdcej\"))\n</code></pre>\n\n<p>results in</p>\n\n<pre><code>['fghij', 'fghde', 'abcde']\n</code></pre>\n"}], "owner": {"reputation": 5987, "user_id": 4414003, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2b49a0c830607a550fe7fe4d1efc2dd6?s=128&d=identicon&r=PG", "display_name": "Luke Taylor", "link": "https://stackoverflow.com/users/4414003/luke-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "closed_date": 1423711026, "accepted_answer_id": 28466025, "answer_count": 1, "score": -1, "last_activity_date": 1431183207, "creation_date": 1423693509, "last_edit_date": 1431183207, "question_id": 28465735, "link": "https://stackoverflow.com/questions/28465735/sort-a-list-based-on-a-string-python", "closed_reason": "Needs more focus", "title": "Sort a list based on a string- Python", "body": "<p>I want a list to be sorted as if by the sorted(list) method, but by a string. What I mean is, instead of sort by 'abcdefghijklmnopqrstuvwxyz', be able to control it. Like, sort in the order of 'zyabxwcdvueftsghrqijpoklmn', but do this based on any 26-letter string you put in. How would I do this?</p>\n\n<p>The sorted(list) method sorts a list into alphabetical order. If I want reverse alphabetical order, that's also fairly straightforward. But say I want a completely custom priority of letters? The default sorts the list in the order <code>'abcdefghijklmnopqrstuvwxyz'</code>. What if I could input a string, like <code>'zyabxwcdvueftsghrqijpoklmn'</code>, and I could sort a list based on this priority? So, given <code>['moose', 'apple', 'zebra', 'penguin']</code>, and the string <code>'zyabxwcdvueftsghrqijpoklmn'</code>, I would get <code>['zebra', 'apple', 'penguin', 'moose']</code>, because of the order the letters appear in the string. </p>\n"}, {"tags": ["python", "string-concatenation"], "answers": [{"comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1423694223, "post_id": 28465741, "comment_id": 45257461, "body": "you don&#39;t need <code>str()</code>"}], "tags": [], "owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "is_accepted": false, "score": 1, "last_activity_date": 1423693916, "last_edit_date": 1423693916, "creation_date": 1423693521, "answer_id": 28465741, "question_id": 28465711, "link": "https://stackoverflow.com/questions/28465711/how-can-i-concatenate-a-string-without-having-to-type-it-multiple-times/28465741#28465741", "title": "How can I concatenate a string without having to type it multiple times?", "body": "<p>use a <code>for loop</code></p>\n\n<pre><code>strip2 = strip1 \n\nfor i in range(3):\n\n    strip2 += str(random.choice(string.ascii_uppercase))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1922, "user_id": 3008185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2kQ3T.jpg?s=128&g=1", "display_name": "Hrabal", "link": "https://stackoverflow.com/users/3008185/hrabal"}, "is_accepted": false, "score": 0, "last_activity_date": 1423693855, "creation_date": 1423693855, "answer_id": 28465818, "question_id": 28465711, "link": "https://stackoverflow.com/questions/28465711/how-can-i-concatenate-a-string-without-having-to-type-it-multiple-times/28465818#28465818", "title": "How can I concatenate a string without having to type it multiple times?", "body": "<p>list comprehension + range:</p>\n\n<pre><code>strip2 = strip1 + ''join([str(random.choice(string.ascii_uppercase)) for x in range(3)])\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4502184, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/08e206bed8057577f019b6f91a71c510?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/4502184/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423693916, "creation_date": 1423693399, "question_id": 28465711, "link": "https://stackoverflow.com/questions/28465711/how-can-i-concatenate-a-string-without-having-to-type-it-multiple-times", "title": "How can I concatenate a string without having to type it multiple times?", "body": "<p>Is there a way to write it so I don't have to type + str(random.choice(string.ascii_uppercase)) 3 times?</p>\n\n<pre><code>strip 1 ''.join([c for c in s if c not in ('!',' ',',',)])\nstrip2 = strip1 + str(random.choice(string.ascii_uppercase))+ str(random.choice(string.ascii_uppercase))+ str(random.choice(string.ascii_uppercase))\nreturn (strip2)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4556881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa84b1f3f0b5549da1c9816dd65c72c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lawase", "link": "https://stackoverflow.com/users/4556881/lawase"}, "edited": false, "score": 0, "creation_date": 1423694996, "post_id": 28465829, "comment_id": 45257795, "body": "Thanks, after you mentioning that I managed to figure it out. This seemed to fix it:  for champ in soup.find(&quot;div&quot;, {&quot;class&quot;: &quot;weak-block&quot;}).find_all(&quot;div&quot;, {&quot;class&quot;: &quot;champ-block&quot;}):"}], "tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": true, "score": 0, "last_activity_date": 1423693905, "creation_date": 1423693905, "answer_id": 28465829, "question_id": 28465700, "link": "https://stackoverflow.com/questions/28465700/beautiful-soup-4-confusion/28465829#28465829", "title": "Beautiful Soup 4 confusion", "body": "<p>The problem is with the line</p>\n\n<pre><code>for champ in soup.find(class_='weak-block').find_all(class_='champ-block'):\n</code></pre>\n\n<p>Specifically, </p>\n\n<pre><code>soup.find(class_='weak-block')\n</code></pre>\n\n<p>returns 'None', so the next step, </p>\n\n<pre><code>find_all(class_='champ-block'):\n</code></pre>\n\n<p>has nothing to search, thus it returns AttributeError: 'NoneType' object has no attribute 'find_all' </p>\n"}], "owner": {"reputation": 3, "user_id": 4556881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa84b1f3f0b5549da1c9816dd65c72c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lawase", "link": "https://stackoverflow.com/users/4556881/lawase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 28465829, "answer_count": 1, "score": 0, "last_activity_date": 1423693905, "creation_date": 1423693330, "question_id": 28465700, "link": "https://stackoverflow.com/questions/28465700/beautiful-soup-4-confusion", "title": "Beautiful Soup 4 confusion", "body": "<p>I'm working on a little python program to get into web scraping:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nhero = raw_input(\"Enter Hero Name: \")\n\nurl = \"http://www.dotahut.com/heroes/\" + hero.lower().replace(' ', '_')\n\n#to double check url in case of error\nprint (url)\n\nr = requests.get(url)\nsoup = BeautifulSoup(r.text)\n\n# find 'weak against' heroes\nprint('\\nWeak Against:\\n')\nfor champ in soup.find(class_='weak-block').find_all(class_='champ-block'):\n    print(champ.find(class_='name').get_text())\n\n# find 'strong against' heroes\nprint('\\nStrong Against:\\n')\nfor champ in soup.find(class_='strong').find_all(class_='champ-block'):\n    print(champ.find(class_='name').get_text())\n</code></pre>\n\n<p>When I run this progra I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\LewisJames\\Google Drive\\Personal Files\\Programming\\Python\\Dota 2 Counter.py\", line 20, in &lt;module&gt;\n    for champ in soup.find(class_='weak-block').find_all(class_='champ-block'):\nAttributeError: 'NoneType' object has no attribute 'find_all'\n</code></pre>\n\n<p>After reading the BS4 documentation and inspecting elements of the website I'm very confused how this isn't working.</p>\n\n<p>I am a begginer BS4 and python so please bear with me, It would be great if you guys could help me!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 5, "creation_date": 1423698288, "post_id": 28466662, "comment_id": 45259102, "body": "You probably want fill_value=0."}, {"owner": {"reputation": 365, "user_id": 2554824, "user_type": "registered", "profile_image": "https://graph.facebook.com/14602044/picture?type=large", "display_name": "Russell Richie", "link": "https://stackoverflow.com/users/2554824/russell-richie"}, "edited": false, "score": 8, "creation_date": 1466119895, "post_id": 28466662, "comment_id": 63198596, "body": "God, I love stack overflow."}, {"owner": {"reputation": 6876, "user_id": 2238226, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4b84c08ccf21c8391af2bf4b5490f4a0?s=128&d=identicon&r=PG", "display_name": "marbel", "link": "https://stackoverflow.com/users/2238226/marbel"}, "edited": false, "score": 0, "creation_date": 1481694268, "post_id": 28466662, "comment_id": 69474747, "body": "this would mean having the entire training dataframe in memory at inference time!?"}, {"owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "reply_to_user": {"reputation": 6876, "user_id": 2238226, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4b84c08ccf21c8391af2bf4b5490f4a0?s=128&d=identicon&r=PG", "display_name": "marbel", "link": "https://stackoverflow.com/users/2238226/marbel"}, "edited": false, "score": 1, "creation_date": 1481746342, "post_id": 28466662, "comment_id": 69504852, "body": "@marbel No, you would only need the column index."}, {"owner": {"reputation": 2300, "user_id": 206253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d79c7576fd1035d7c9a89cd25a44295b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/206253/nick"}, "edited": false, "score": 0, "creation_date": 1530382961, "post_id": 28466662, "comment_id": 89221021, "body": "This works if the test data contains no unseen values for the category. But what if it does? The correct solution would to lump it into &quot;others&quot; category. How to efficiently implement this?"}], "tags": [], "owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "is_accepted": true, "score": 34, "last_activity_date": 1478127035, "last_edit_date": 1478127035, "creation_date": 1423697599, "answer_id": 28466662, "question_id": 28465633, "link": "https://stackoverflow.com/questions/28465633/easy-way-to-apply-transformation-from-pandas-get-dummies-to-new-data/28466662#28466662", "title": "Easy way to apply transformation from `pandas.get_dummies` to new data?", "body": "<p>you can create the dummies from the single new observation, and then reindex this frames columns using the columns from the original indicator matrix:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'cat':['a','b','c','d'],'val':[1,2,5,10]})\ndf1 = pd.get_dummies(pd.DataFrame({'cat':['a'],'val':[1]}))\ndummies_frame = pd.get_dummies(df)\ndf1.reindex(columns = dummies_frame.columns, fill_value=0)\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>        val     cat_a   cat_b   cat_c   cat_d\n  0     1       1       0       0       0\n</code></pre>\n"}], "owner": {"reputation": 1786, "user_id": 2643154, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yAmaU.png?s=128&g=1", "display_name": "Ellis Valentiner", "link": "https://stackoverflow.com/users/2643154/ellis-valentiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6850, "favorite_count": 12, "accepted_answer_id": 28466662, "answer_count": 1, "score": 21, "last_activity_date": 1478127035, "creation_date": 1423693091, "question_id": 28465633, "link": "https://stackoverflow.com/questions/28465633/easy-way-to-apply-transformation-from-pandas-get-dummies-to-new-data", "title": "Easy way to apply transformation from `pandas.get_dummies` to new data?", "body": "<p>Suppose I have a data frame <code>data</code> with strings that I want converted to indicators. I use <code>pandas.get_dummies(data)</code> to convert this to a dataset that I can now use for building a model.</p>\n\n<p>Now I have a single new observation that I want to run through my model. Obviously I can't use <code>pandas.get_dummies(new_data)</code> because it doesn't contain all of the classes and won't make the same indicator matrices. Is there a good way to do this?</p>\n"}, {"tags": ["python", "multithreading", "try-catch", "keyboardinterrupt"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4556459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b1ed3cb51399d4449fd41c56488f27?s=128&d=identicon&r=PG&f=1", "display_name": "fosple", "link": "https://stackoverflow.com/users/4556459/fosple"}, "is_accepted": true, "score": 4, "last_activity_date": 1423742459, "last_edit_date": 1423742459, "creation_date": 1423741523, "answer_id": 28476630, "question_id": 28465611, "link": "https://stackoverflow.com/questions/28465611/python-dbusgmainloop-inside-thread-and-try-and-catch-block/28476630#28476630", "title": "Python DBusGMainLoop inside thread and try and catch block", "body": "<p>In fact I was able to solve the problem by myself.</p>\n\n<p>You just have to put the MainLoop() in the main thread and start the other action which currently executes \"print(\"Host: Print every 1 sec\")\" in a new thread (myT). So you have to change threads from the code above. \nThen if a KeyboardInterrupt happens, you have to manually exit the second thread (myT).</p>\n\n<p>The reason why only \"print(\"Thread: KeyboardInterrupt\")\" is called is, that if you use a MainLoop the process calling it will be seen as the \"new main tread\".</p>\n\n<p>However, I'm still not sure how to get rid of the error:</p>\n\n<pre><code>(process:2429): GLib-CRITICAL **: Source ID 1 was not found when attempting to remove it\n</code></pre>\n\n<p>According to the post \"<a href=\"https://stackoverflow.com/questions/23199699/glib-critical-source-id-xxx-was-not-found-when-attempting-to-remove-it\">GLib-CRITICAL **: Source ID XXX was not found when attempting to remove it</a>\" the warning is not a problem, so I'll just ignore it.\nHope this helps anyone who'll stumble on this post!</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>import time\nimport threading\n\nfrom dbus.mainloop.glib import DBusGMainLoop\n\ntry:\n    from gi.repository import GObject\nexcept ImportError:\n    import gobject as GObject\n\nDBusGMainLoop(set_as_default=True)\n\ndef myThread(run_event):\n    while run_event.is_set():\n        print(\"Thread: Print every 1 sec\")\n        time.sleep(1)\n    print(\"Thread: Exit\")\n    return\n\ntry:\n    run_event = threading.Event()\n    run_event.set()\n\n    myT = threading.Thread(target=myThread, args=(run_event,))\n    myT.start()\n\n    GObject.threads_init()\n    mainloop = GObject.MainLoop()\n    mainloop.run()\n\nexcept (KeyboardInterrupt, SystemExit):\n    mainloop.quit()\n    run_event.clear()\n    myT.join()\n    print(\"Host: KeyboardInterrupt\")\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Thread: Print every 1 sec\nThread: Print every 1 sec\n^CThread: Exit\nHost: KeyboardInterrupt\n\n(process:2429): GLib-CRITICAL **: Source ID 1 was not found when attempting to remove it\n</code></pre>\n\n<p>See also: \n<a href=\"https://stackoverflow.com/questions/11436502/closing-all-threads-with-a-keyboard-interrupt\">Closing all threads with a keyboard interrupt</a> </p>\n"}], "owner": {"reputation": 71, "user_id": 4556459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b1ed3cb51399d4449fd41c56488f27?s=128&d=identicon&r=PG&f=1", "display_name": "fosple", "link": "https://stackoverflow.com/users/4556459/fosple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2091, "favorite_count": 1, "accepted_answer_id": 28476630, "answer_count": 1, "score": 3, "last_activity_date": 1423742459, "creation_date": 1423693012, "question_id": 28465611, "link": "https://stackoverflow.com/questions/28465611/python-dbusgmainloop-inside-thread-and-try-and-catch-block", "title": "Python DBusGMainLoop inside thread and try and catch block", "body": "<p>I'm currently trying to create a python script which has to use the GObject.MainLoop() to communicate with a Bluetooth client. \nI put the loop in a new thread in order to not block the remaining code. </p>\n\n<p>Everything works fine until I've tried to quit the program with Control + C. \nIf I hit this command the second try and catch block (\"Host:...\") does not seem to get executed.</p>\n\n<p><strong>Example script:</strong></p>\n\n<pre><code>import time\nimport threading\n\nfrom dbus.mainloop.glib import DBusGMainLoop\n\ntry:\n    from gi.repository import GObject\nexcept ImportError:\n    import gobject as GObject\n\nDBusGMainLoop(set_as_default=True)\n\ndef myThread(a):\n    try:\n        GObject.threads_init()\n        mainloop = GObject.MainLoop()\n        mainloop.run()\n\n    except KeyboardInterrupt:\n        mainloop.quit()\n        print(\"Thread: KeyboardInterrupt\")\n    return\n\ntry:\n    myT = threading.Thread(target=myThread, args=(1,))\n    myT.start()\n\n    while 1:\n        print(\"Host: Print every 1 sec\")\n        time.sleep(1)\nexcept KeyboardInterrupt:\n    print(\"Host: KeyboardInterrupt\")\n</code></pre>\n\n<p><strong>Output of the script:</strong></p>\n\n<pre><code>Host: Print every 1 sec\nHost: Print every 1 sec\n^CHost: Print every 1 sec\nThread: KeyboardInterrupt\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: Source ID 1 was not found when attempting to remove it\n  return info.invoke(*args, **kwargs)\nHost: Print every 1 sec\nHost: Print every 1 sec\nHost: Print every 1 sec\nHost: Print every 1 sec\n\nProcess finished with exit code -1\n</code></pre>\n\n<p>Now I'm wondering why \"print(\"Host: KeyboardInterrupt\")\" does not get executed. Furthermore I'm not sure how to solve the stated warning.</p>\n\n<p>Hope you can help!</p>\n"}, {"tags": ["python", "r", "pdf", "download", "google-scholar"], "comments": [{"owner": {"reputation": 5192, "user_id": 1091766, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d9033fa816e09d79e44995e92f025cdd?s=128&d=identicon&r=PG", "display_name": "sckott", "link": "https://stackoverflow.com/users/1091766/sckott"}, "edited": false, "score": 0, "creation_date": 1423693709, "post_id": 28465570, "comment_id": 45257257, "body": "I would suggest using the Crossref API, which mints DOIs for thousands of journals, and is completely open. I maintain a the <code>rcrossref</code> package, which you can use from R"}], "answers": [{"comments": [{"owner": {"reputation": 10589, "user_id": 3588876, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/U6j8x.jpg?s=128&g=1", "display_name": "rafa.pereira", "link": "https://stackoverflow.com/users/3588876/rafa-pereira"}, "edited": false, "score": 0, "creation_date": 1423697089, "post_id": 28465987, "comment_id": 45258662, "body": "Thanks @Scott. I think you have partially solved the problem as your answer gets the URLs. However, I still need a way to loop and download the PDFs."}, {"owner": {"reputation": 103366, "user_id": 903061, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jMWGQ.jpg?s=128&g=1", "display_name": "Gregor Thomas", "link": "https://stackoverflow.com/users/903061/gregor-thomas"}, "edited": false, "score": 0, "creation_date": 1423697957, "post_id": 28465987, "comment_id": 45258981, "body": "If you have the URLs, use the <code>downloader</code> package to get the PDFs. You&#39;ll probably need to specify <code>mode = &quot;wb&quot;</code> to treat the file as binary. You could try to use <code>utils::download.file</code>, but if any are HTTPS you&#39;ll need the downloader package."}, {"owner": {"reputation": 5192, "user_id": 1091766, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d9033fa816e09d79e44995e92f025cdd?s=128&d=identicon&r=PG", "display_name": "sckott", "link": "https://stackoverflow.com/users/1091766/sckott"}, "edited": false, "score": 0, "creation_date": 1423698102, "post_id": 28465987, "comment_id": 45259036, "body": "If publishers don&#39;t provide links to pdfs, then we have to do extra work in the pkg to figure them out, which we can try at least..."}], "tags": [], "owner": {"reputation": 5192, "user_id": 1091766, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d9033fa816e09d79e44995e92f025cdd?s=128&d=identicon&r=PG", "display_name": "sckott", "link": "https://stackoverflow.com/users/1091766/sckott"}, "is_accepted": true, "score": 5, "last_activity_date": 1423694573, "creation_date": 1423694573, "answer_id": 28465987, "question_id": 28465570, "link": "https://stackoverflow.com/questions/28465570/how-to-download-pdf-of-academic-papers-via-google-scholar-query-using-r-or-pytho/28465987#28465987", "title": "How to download PDF of academic papers via Google Scholar query using R or Python", "body": "<p>Crossref has a program where publishers can give metadata for links to full text versions of articles. Unfortunately, for publishers like Wiley, Elsevier, and Springer, they may give links, but then you need extra permissions to actually retrieve the content. Fun right?  Anyway, some work, e.g., this works for your second title, search crossref, then fetch URLs for full text if provided, then grab xml, (better than PDF IMHO)</p>\n\n<pre><code>titles &lt;- c(\"Effect of interfacial properties on polymer\u2013nanocrystal thermoelectric transport\", \"Reducing social and environmental impacts of urban freight transport: A review of some major cities\", \"Using Lorenz curves to assess public transport equity\", \"Green infrastructure: The effects of urban rail transit on air quality\")\n\nlibrary(\"rcrossref\")\nout &lt;- cr_search(titles[2])\ndoi &lt;- sub(\"http://dx.doi.org/\", \"\", out$doi[1])\n(links &lt;- cr_ft_links(doi, \"all\"))\n$xml\n&lt;url&gt; http://api.elsevier.com/content/article/PII:S1877042812005551?httpAccept=text/xml\n\n$plain\n&lt;url&gt; http://api.elsevier.com/content/article/PII:S1877042812005551?httpAccept=text/plain\n\nxml &lt;- cr_ft_text(links, \"xml\")\nlibrary(\"XML\")\nxpathApply(xml, \"//ce:author\")[[1]]\n&lt;ce:author&gt;\n   &lt;ce:degrees&gt;Prof&lt;/ce:degrees&gt;\n   &lt;ce:given-name&gt;Eiichi&lt;/ce:given-name&gt;\n   &lt;ce:surname&gt;Taniguchi&lt;/ce:surname&gt;\n&lt;/ce:author&gt; \n</code></pre>\n"}], "owner": {"reputation": 10589, "user_id": 3588876, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/U6j8x.jpg?s=128&g=1", "display_name": "rafa.pereira", "link": "https://stackoverflow.com/users/3588876/rafa-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4945, "favorite_count": 1, "accepted_answer_id": 28465987, "answer_count": 1, "score": 3, "last_activity_date": 1423694573, "creation_date": 1423692816, "last_edit_date": 1495541959, "question_id": 28465570, "link": "https://stackoverflow.com/questions/28465570/how-to-download-pdf-of-academic-papers-via-google-scholar-query-using-r-or-pytho", "title": "How to download PDF of academic papers via Google Scholar query using R or Python", "body": "<p>I have a list of titles of academic papers that I need to download. I would like to write a loop to download their PDF files from the web, but can't find a way to do it. </p>\n\n<p>Here is the step-by-step of what I've thought so far (The answer is welcomed to be in R or Python):</p>\n\n<pre><code># Create list with paper titles (example with 4 papers from different journals)\ntitles &lt;- c(\"Effect of interfacial properties on polymer\u2013nanocrystal thermoelectric transport\",\n            \"Reducing social and environmental impacts of urban freight transport: A review of some major cities\",\n            \"Using Lorenz curves to assess public transport equity\",\n            \"Green infrastructure: The effects of urban rail transit on air quality\")\n\n#Loop step1 - Query paper title in Google Scholar to get URL of journal webpage containing the paper\n#Loop step2 - Download the PDF from the journal webpage and save in your computer\n\nfor (i in titles){\n                  journal_URL &lt;- query i in google (scholar)\n                  download.file (url = journal_URL, pattern = \"pdf\",\n                                 destfile=paste0(i,\".pdf\")                      \n                 }\n</code></pre>\n\n<p>Complicators:</p>\n\n<p>Loop step1 - The first hit of Google Scholar should be the paper's original URL. However, I've heard Google Scholar is a bit fussy with Bots, so the alternative would be to query Google and get the first URL (hopping it will bring the correct URL)</p>\n\n<p>Loop step2 - Some papers are gated, so I imagine that it would be necessary to include authentication info (user=__ , passwd=__). If I am using my university network, though, this authentication should be automatic, right?</p>\n\n<p>ps. I only need to download the PDF. I'm not interested in getting bibliometric information (e.g. citation records, h-index). For getting bibliometric data, there is some guidance <a href=\"https://stackoverflow.com/questions/5005989/how-to-download-search-results-on-google-scholar-using-r\">here (R users)</a> and <a href=\"https://stackoverflow.com/questions/13200709/extract-google-scholar-results-using-python-or-r\">here (python users)</a>.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 21, "user_id": 4411114, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db4cedf28a3103b50a0c528806f4c4ed?s=128&d=identicon&r=PG&f=1", "display_name": "asdfghj", "link": "https://stackoverflow.com/users/4411114/asdfghj"}, "edited": false, "score": 0, "creation_date": 1423692787, "post_id": 28465542, "comment_id": 45256760, "body": "y += -(x**x) + 35, this equation is to express parabola, I know this is wrong..."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1423692983, "post_id": 28465542, "comment_id": 45256870, "body": "Explain what exactly is not working. If there is an error, include the full error you are getting in your question."}, {"owner": {"reputation": 21, "user_id": 4411114, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db4cedf28a3103b50a0c528806f4c4ed?s=128&d=identicon&r=PG&f=1", "display_name": "asdfghj", "link": "https://stackoverflow.com/users/4411114/asdfghj"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1423693041, "post_id": 28465542, "comment_id": 45256899, "body": "Traceback (most recent call last):   File &quot;C:\\Users\\SeungYoun\\Desktop\\Game.py..py&quot;, line 23, in &lt;module&gt;     canvas.move(x,y)   File &quot;C:\\Python34\\lib\\tkinter_<i>init_</i>.py&quot;, line 2429, in move     self.tk.call((self._w, &#39;move&#39;) + args) _tkinter.TclError: wrong # args: should be &quot;.53039280 move tagOrId xAmount yAmount&quot;"}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1423693077, "post_id": 28465542, "comment_id": 45256920, "body": "Include this in your question, not in the comments."}, {"owner": {"reputation": 456, "user_id": 3015219, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a4f61bae905b479e8dc1faa3b335e5a7?s=128&d=identicon&r=PG", "display_name": "noahbkim", "link": "https://stackoverflow.com/users/3015219/noahbkim"}, "edited": false, "score": 0, "creation_date": 1423694828, "post_id": 28465542, "comment_id": 45257737, "body": "What do you think <code>while True: canvas.move(x, y)</code> does? And more importantly, why do you have it?"}, {"owner": {"reputation": 21, "user_id": 4411114, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db4cedf28a3103b50a0c528806f4c4ed?s=128&d=identicon&r=PG&f=1", "display_name": "asdfghj", "link": "https://stackoverflow.com/users/4411114/asdfghj"}, "edited": false, "score": 0, "creation_date": 1423695168, "post_id": 28465542, "comment_id": 45257879, "body": "I change it to canvas.move(3,x,y)"}], "owner": {"reputation": 21, "user_id": 4411114, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db4cedf28a3103b50a0c528806f4c4ed?s=128&d=identicon&r=PG&f=1", "display_name": "asdfghj", "link": "https://stackoverflow.com/users/4411114/asdfghj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423692713, "creation_date": 1423692713, "question_id": 28465542, "link": "https://stackoverflow.com/questions/28465542/i-wanna-make-the-ball-to-hit-opposite-side-of-box", "title": "I wanna make the ball to hit opposite side of box", "body": "<pre><code>import tkinter,turtle,random,time\nfrom tkinter import *\n\ntk =Tk()\ncanvas = Canvas(tk,width=800,height=600)\ncanvas.pack()\ncanvas.create_rectangle(10,550,60,600,fill='white',outline='black')\ncanvas.create_rectangle(740,550,790,600,fill='white',outline='black')\ncanvas.config(background=\"light green\")\n\ncanvas.create_oval(13,553,57,597,fill='blue',outline='black')\ncanvas.create_oval(743,553,787,597,fill='red',outline='black')\n\nx = 0\ny = 0\ndef SHOT(x,y):\n     x += random.random()\n     while 35 &lt;= x &lt;= 740:\n        y += -(x**x) +35\n     return y\n\nwhile True:\n    canvas.move(x,y)\ntk.update()\ntime.sleep(0.05)\n\ntk.mainloop()\n</code></pre>\n\n<p>I am trying to make animation. There are two ball on right and left bottom sides in the boxes and I want to make the ball to heat the other side's box.\nIt doesn't work... I know what I wrong but I don't know how can I fix it\nguys plz help me !!</p>\n"}, {"tags": ["python", "datetime", "self"], "answers": [{"comments": [{"owner": {"reputation": 6891, "user_id": 3326189, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HzEeZ.png?s=128&g=1", "display_name": "ApathyBear", "link": "https://stackoverflow.com/users/3326189/apathybear"}, "edited": false, "score": 0, "creation_date": 1423693400, "post_id": 28465622, "comment_id": 45257098, "body": "Thanks. I knew it was bad code, just wanted to know what difference it would make."}], "tags": [], "owner": {"reputation": 6117, "user_id": 2307066, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8da46eb87f02bc6c4b5f3d4f770bfa56?s=128&d=identicon&r=PG", "display_name": "Bartosz Marcinkowski", "link": "https://stackoverflow.com/users/2307066/bartosz-marcinkowski"}, "is_accepted": true, "score": 2, "last_activity_date": 1423693054, "creation_date": 1423693054, "answer_id": 28465622, "question_id": 28465521, "link": "https://stackoverflow.com/questions/28465521/understanding-authors-choice-for-assigning-datetime-datetime-self/28465622#28465622", "title": "Understanding author&#39;s choice for assigning datetime.datetime = self", "body": "<p>It is an example of so called \"monkey patching\". The line commented out makes a change in an imported module, <code>datetime</code>.</p>\n\n<p>After <code>p(2013,2,14)</code> is executed (if you do not comment out the line), the code</p>\n\n<pre><code>datetime.datetime()\n</code></pre>\n\n<p>does not do what it usually does, but executes <code>__call__</code> on the <code>p</code> instance.</p>\n\n<p>It is generally bad practice, so I would not refer to it as authors choice for writing good software, but just an example. The author himself described it as a silly idea:</p>\n\n<blockquote>\n  <p>Since everything in Python is essentially names bound to objects, we can do silly (but interesting) stuff like this</p>\n</blockquote>\n"}], "owner": {"reputation": 6891, "user_id": 3326189, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HzEeZ.png?s=128&g=1", "display_name": "ApathyBear", "link": "https://stackoverflow.com/users/3326189/apathybear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 28465622, "answer_count": 1, "score": -1, "last_activity_date": 1423693054, "creation_date": 1423692635, "question_id": 28465521, "link": "https://stackoverflow.com/questions/28465521/understanding-authors-choice-for-assigning-datetime-datetime-self", "title": "Understanding author&#39;s choice for assigning datetime.datetime = self", "body": "<p>I am trying to understand the following code, specifically line 5 (the line that is commented out, I commented that out myself).  </p>\n\n<pre><code>  &gt;&gt;&gt; class PartyTime():\n    ...     def __call__(self,*args):\n    ...         imp.reload(datetime)\n    ...         value = datetime.datetime(*args)\n    ...         #datetime.datetime = self \n    ...         return value\n\n    ... etc\n    &gt;&gt;&gt; p = PartyTime()\n    &gt;&gt;&gt; print p(2013,2,14)\n    2013-02-14 00:00:00\n</code></pre>\n\n<p>As you can see, line 5 is commented out <code>#datetime.datetime = self</code> yet the function behaves normally. Why did the author include that line? You can see the full article <a href=\"http://www.jeffknupp.com/blog/2013/02/14/drastically-improve-your-python-understanding-pythons-execution-model/\" rel=\"nofollow\">here</a> (its about half way down). What would the assignment to <code>self</code> help with? </p>\n"}, {"tags": ["python", "django", "pytest"], "comments": [{"owner": {"reputation": 12054, "user_id": 3614835, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xzZDV.png?s=128&g=1", "display_name": "Jeffrey Bosboom", "link": "https://stackoverflow.com/users/3614835/jeffrey-bosboom"}, "edited": false, "score": 0, "creation_date": 1423704003, "post_id": 28465514, "comment_id": 45260769, "body": "Stack Overflow is a resource for everyone, not just your personal help desk.  Vandalizing your questions hurts future readers."}], "answers": [{"tags": [], "owner": {"reputation": 6713, "user_id": 308204, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oBc2a.jpg?s=128&g=1", "display_name": "LaundroMat", "link": "https://stackoverflow.com/users/308204/laundromat"}, "is_accepted": false, "score": 0, "last_activity_date": 1423693653, "creation_date": 1423693653, "answer_id": 28465768, "question_id": 28465514, "link": "https://stackoverflow.com/questions/28465514/pytest-mark-django-db-and-mock-patch-decorator-not-working-together/28465768#28465768", "title": "pytest.mark.django_db and mock.patch decorator not working together", "body": "<p>Working off the top of my head here, but shouldn't that last line read:</p>\n\n<pre><code>assert results.items() == mock_get_similar_titles().items()\n</code></pre>\n\n<p>Edit: the docs <a href=\"http://www.voidspace.org.uk/python/mock/mock.html#mock.Mock.return_value\" rel=\"nofollow\">seem to suggest so</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 816, "user_id": 3502612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Czpxy.jpg?s=128&g=1", "display_name": "Sean Azlin", "link": "https://stackoverflow.com/users/3502612/sean-azlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1423694195, "creation_date": 1423694195, "answer_id": 28465892, "question_id": 28465514, "link": "https://stackoverflow.com/questions/28465514/pytest-mark-django-db-and-mock-patch-decorator-not-working-together/28465892#28465892", "title": "pytest.mark.django_db and mock.patch decorator not working together", "body": "<p>You are mocking out the function you are testing. You want to be mocking out the functions or objects that are called/used by the code you are testing,  not the code you're testing itself.</p>\n"}], "owner": {"reputation": 1, "user_id": 4476050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc10de1cbff4a88dc6150b842ba7277?s=128&d=identicon&r=PG&f=1", "display_name": "Euroz", "link": "https://stackoverflow.com/users/4476050/euroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423703936, "creation_date": 1423692616, "last_edit_date": 1423703936, "question_id": 28465514, "link": "https://stackoverflow.com/questions/28465514/pytest-mark-django-db-and-mock-patch-decorator-not-working-together", "title": "pytest.mark.django_db and mock.patch decorator not working together", "body": "<p>I'm trying to mock a function on a pytest test and the mock doesn't seem to work at all. </p>\n\n<p>Here's my test</p>\n\n<pre><code>@pytest.mark.django_db\n@patch('apps.titles.logic.get_similar_titles')\ndef test_get_recommended_titles_for_results(self, mock_get_similar_titles,\n                                            set_up):\n    mock_get_similar_titles.return_value = OrderedDict([\n        ('uuid-1', 165),\n        ('uuid-2', 163),\n        ('uuid-6', 135),\n    ])\n    match_signals = []\n    results = get_similar_titles(\n        match_signals=match_signals,\n        title=set_up['title']\n    )\n\n    assert results.items() == mock_get_similar_titles.return_value.items()\n</code></pre>\n\n<p>Is there some compatability issue when using @pytest decorators, or have I made a mistake?</p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "class", "python-3.x", "operator-overloading"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423692399, "post_id": 28465411, "comment_id": 45256550, "body": "Is that your actual indentation? Also, note that <code>__cmp__</code> is ignored in 3.x, and was replaced by rich comparison: <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__lt__\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/datamodel.html#object.__lt__</a>. See e.g. <a href=\"http://stackoverflow.com/q/8276983/3001761\">stackoverflow.com/q/8276983/3001761</a>"}, {"owner": {"reputation": 2792, "user_id": 1352766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a829688c3133e665bd86ab402d760419?s=128&d=identicon&r=PG", "display_name": "Morgan Kenyon", "link": "https://stackoverflow.com/users/1352766/morgan-kenyon"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692521, "post_id": 28465411, "comment_id": 45256623, "body": "That is my actual indentation. I&#39;m new to Python, is another indentation more common? So I should use a rich comparison rather than cmp?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692571, "post_id": 28465411, "comment_id": 45256652, "body": "Indentation is crucial in Python, the code you&#39;ve posted won&#39;t work. Yes, you have to use the rich comparison methods if you&#39;re writing for 3.x."}, {"owner": {"reputation": 2792, "user_id": 1352766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a829688c3133e665bd86ab402d760419?s=128&d=identicon&r=PG", "display_name": "Morgan Kenyon", "link": "https://stackoverflow.com/users/1352766/morgan-kenyon"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692642, "post_id": 28465411, "comment_id": 45256683, "body": "What specifically is wrong about my indentation? What kind of indentation do you use?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692699, "post_id": 28465411, "comment_id": 45256715, "body": "The body of <code>Skill.__init__</code> isn&#39;t indented, and <code>__cmp__</code> is shown as being outside of the class altogether. What do you mean <i>&quot;what kind&quot;</i>?! Indentation is <b>part of Python&#39;s syntax</b>."}, {"owner": {"reputation": 2792, "user_id": 1352766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a829688c3133e665bd86ab402d760419?s=128&d=identicon&r=PG", "display_name": "Morgan Kenyon", "link": "https://stackoverflow.com/users/1352766/morgan-kenyon"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692776, "post_id": 28465411, "comment_id": 45256753, "body": "You&#39;re right, I copied from my text editor and StackOverflow&#39;s code indentation messed up my indentation. The issues you point out are correct in my code."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423692804, "post_id": 28465411, "comment_id": 45256771, "body": "So when you said <i>&quot;that is my actual indentation&quot;</i>, it actually isn&#39;t? Please <b>edit the question</b>."}, {"owner": {"reputation": 2792, "user_id": 1352766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a829688c3133e665bd86ab402d760419?s=128&d=identicon&r=PG", "display_name": "Morgan Kenyon", "link": "https://stackoverflow.com/users/1352766/morgan-kenyon"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423693013, "post_id": 28465411, "comment_id": 45256882, "body": "No it wasn&#39;t. Sorry about that."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "is_accepted": false, "score": 1, "last_activity_date": 1423692557, "creation_date": 1423692557, "answer_id": 28465494, "question_id": 28465411, "link": "https://stackoverflow.com/questions/28465411/priority-queue-doesnt-recognize-cmp-function-in-python/28465494#28465494", "title": "Priority Queue Doesn&#39;t Recognize __cmp__ Function In Python", "body": "<p><code>cmp</code> and <code>__cmp__</code> were only used in Python 2.x; they no longer exist in Python 3.x.  Nowadays, you overload the comparison operators directly by implementing <code>__eq__</code>, <code>__ne__</code>, <code>__lt__</code>, <code>__gt__</code>, <code>__ge__</code>, and <code>__le__</code>.</p>\n\n<p>You can read about this change on the What's New In Python 3.0 page under <a href=\"https://docs.python.org/3/whatsnew/3.0.html#ordering-comparisons\" rel=\"nofollow\">Ordering Comparisons</a>:</p>\n\n<blockquote>\n  <p>The <code>cmp()</code> function should be treated as gone, and the <code>__cmp__()</code>\n  special method is no longer supported. Use <code>__lt__()</code> for sorting,\n  <code>__eq__()</code> with <code>__hash__()</code>, and other rich comparisons as needed.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 4, "last_activity_date": 1423692972, "last_edit_date": 1423692972, "creation_date": 1423692586, "answer_id": 28465506, "question_id": 28465411, "link": "https://stackoverflow.com/questions/28465411/priority-queue-doesnt-recognize-cmp-function-in-python/28465506#28465506", "title": "Priority Queue Doesn&#39;t Recognize __cmp__ Function In Python", "body": "<p><code>__cmp__</code> was removed in Python3, you should use the rich comparison dunder methods instead <code>__lt__</code>, <code>__le__</code>, <code>__eq__</code>, <code>__ne__</code>, <code>__gt__</code>, <code>__ge__</code>.</p>\n\n<p>They work as follows:</p>\n\n<pre><code>a &lt; b  # a.__lt__(b)\na &lt;= b # a.__le__(b)\na == b # a.__eq__(b)\na != b # a.__ne__(b)\na &gt; b  # a.__gt__(b)\na &gt;= b # a.__ge__(b)\n</code></pre>\n\n<p>You can also use the the class decorator <a href=\"https://docs.python.org/3/library/functools.html#functools.total_ordering\" rel=\"nofollow\"><code>functools.total_ordering</code></a> which allows you to specify <code>__eq__</code> and any one of <code>__lt__, __le__, __gt__, __ge__</code> and it will infer the rest of the rich comparison methods.</p>\n\n<pre><code>import functools\n\n@functools.total_ordering\nclass NewNumber(object):\n    def __init__(self, num):\n        self.num = num\n    def __lt__(self, other):\n        return self.num &lt; getattr(other, 'num', other)\n        # fancy way of doing self.num &lt; other.num if other.num exists,\n        #   else to do self.num &lt; other\n    def __eq__(self, other):\n        return self.num == getattr(other, 'num', other)\n</code></pre>\n"}], "owner": {"reputation": 2792, "user_id": 1352766, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a829688c3133e665bd86ab402d760419?s=128&d=identicon&r=PG", "display_name": "Morgan Kenyon", "link": "https://stackoverflow.com/users/1352766/morgan-kenyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3000, "favorite_count": 1, "accepted_answer_id": 28465506, "answer_count": 2, "score": 0, "last_activity_date": 1423693370, "creation_date": 1423692210, "last_edit_date": 1423693370, "question_id": 28465411, "link": "https://stackoverflow.com/questions/28465411/priority-queue-doesnt-recognize-cmp-function-in-python", "title": "Priority Queue Doesn&#39;t Recognize __cmp__ Function In Python", "body": "<p>I am attempting to implement a priority queue in Python. I am following an <a href=\"http://www.bogotobogo.com/python/python_PriorityQueue_heapq_Data_Structure.php\" rel=\"nofollow\">example</a> that I found online. The <code>Skill</code> class overrides the <code>__cmp__</code> method so that the priority queue can order itself. I am getting a error when I run:</p>\n\n<pre><code>TypeError: unorderable types: Skill() &lt; Skill()\n</code></pre>\n\n<p>I've found several examples online that say as long as you overload the <code>__cmp__()</code> method the priority queue should be good.</p>\n\n<pre><code>try:\n    import Queue as Q  # ver. &lt; 3.0\nexcept ImportError:\n    import queue as Q\n\nclass Skill(object):\n    def __init__(self, priority, description):\n        self.priority = priority\n        self.description = description\n        print ('New Level:', description)\n        return\n    def __cmp__(self, other):\n        return cmp(self.priority, other.priority)\n\nq = Q.PriorityQueue()\n\nq.put(Skill(5, 'Proficient'))\nq.put(Skill(10, 'Expert'))\nq.put(Skill(1, 'Novice'))\n\nwhile not q.empty():\n    next_level = q.get()\n    print ('Processing level:', next_level.description)\n</code></pre>\n\n<p>I'm currently running Python 3.4.1 on my computer.</p>\n"}, {"tags": ["python", "json", "bash"], "comments": [{"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1423692474, "post_id": 28465391, "comment_id": 45256596, "body": "Since you&#39;re using Python, why not use Python? <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/json.html</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1423693270, "post_id": 28465391, "comment_id": 45257034, "body": "<code>jq</code> is also widely recommended, amongst the many duplicates of this question."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "edited": false, "score": 0, "creation_date": 1423693418, "post_id": 28465391, "comment_id": 45257112, "body": "@JonathanM, ...the only reason I&#39;m not a fan of that question is that it <i>explicitly</i> specifies <code>sed</code> and <code>awk</code>, rather than leaving the specification open for the best tool for the job, whatever that may be. (Granted, there are a great many answers that don&#39;t conform to that unfortunate specification)."}, {"owner": {"reputation": 16071, "user_id": 751484, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c752a87779402b14b7cc55a24ca7a18c?s=128&d=identicon&r=PG", "display_name": "Jonathan M", "link": "https://stackoverflow.com/users/751484/jonathan-m"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1423693645, "post_id": 28465391, "comment_id": 45257231, "body": "@CharlesDuffy, yep, I&#39;m not recommending the question, just pointing to the answer, which is just one way to skin the cat."}, {"owner": {"reputation": 23, "user_id": 4410510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df5fc8a11cfc2a7f1b25c9aeac6153bb?s=128&d=identicon&r=PG&f=1", "display_name": "Fatma", "link": "https://stackoverflow.com/users/4410510/fatma"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1424125208, "post_id": 28465391, "comment_id": 45415797, "body": "@CharlesDuffy Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4410510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df5fc8a11cfc2a7f1b25c9aeac6153bb?s=128&d=identicon&r=PG&f=1", "display_name": "Fatma", "link": "https://stackoverflow.com/users/4410510/fatma"}, "edited": false, "score": 0, "creation_date": 1424125168, "post_id": 28465572, "comment_id": 45415783, "body": "Thank you so much this tool seems great"}], "tags": [], "owner": {"reputation": 807, "user_id": 759899, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/46057bb39a12ce906143ba5c9c8da607?s=128&d=identicon&r=PG", "display_name": "boileau", "link": "https://stackoverflow.com/users/759899/boileau"}, "is_accepted": true, "score": 0, "last_activity_date": 1423692820, "creation_date": 1423692820, "answer_id": 28465572, "question_id": 28465391, "link": "https://stackoverflow.com/questions/28465391/parse-json-file-in-bash/28465572#28465572", "title": "Parse JSON file in bash", "body": "<p>I use jshon, which I believe is available on ubuntu's repositories:</p>\n\n<pre><code>apt-get install jshon\n</code></pre>\n\n<p>I haven't tested this, but you will want to do something like:</p>\n\n<pre><code>jshon -e 0 -e event-types -e 0 -e time-updated -u &lt; data.json\n</code></pre>\n\n<p>which would print 1423675036</p>\n\n<p>See here for more info: <a href=\"http://kmkeen.com/jshon/\" rel=\"nofollow\">http://kmkeen.com/jshon/</a></p>\n"}], "owner": {"reputation": 23, "user_id": 4410510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df5fc8a11cfc2a7f1b25c9aeac6153bb?s=128&d=identicon&r=PG&f=1", "display_name": "Fatma", "link": "https://stackoverflow.com/users/4410510/fatma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "closed_date": 1423693510, "accepted_answer_id": 28465572, "answer_count": 1, "score": 1, "last_activity_date": 1423692820, "creation_date": 1423692112, "question_id": 28465391, "link": "https://stackoverflow.com/questions/28465391/parse-json-file-in-bash", "closed_reason": "Duplicate", "title": "Parse JSON file in bash", "body": "<p>I have tho following JSON file</p>\n\n<pre><code>[\n    {\n        \"bw-parallel-streams\": \"1\",\n        \"destination\": \"198.124\",\n        \"event-types\": [\n            {\n                \"base-uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/throughput-subintervals/base\",\n                \"event-type\": \"throughput-subintervals\",\n                \"summaries\": [],\n                \"time-updated\": 1423675036\n            },\n            {\n                \"base-uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/failures/base\",\n                \"event-type\": \"failures\",\n                \"summaries\": [],\n                \"time-updated\": null\n            },\n            {\n                \"base-uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/packet-retransmits/base\",\n                \"event-type\": \"packet-retransmits\",\n                \"summaries\": [],\n                \"time-updated\": 1423675036\n            },\n            {\n                \"base-uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/throughput/base\",\n                \"event-type\": \"throughput\",\n                \"summaries\": [\n                    {\n                        \"summary-type\": \"average\",\n                        \"summary-window\": \"86400\",\n                        \"time-updated\": 1423675036,\n                        \"uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/throughput/averages/86400\"\n                    }\n                ],\n                \"time-updated\": 1423675036\n            },\n            {\n                \"base-uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/packet-retransmits-subintervals/base\",\n                \"event-type\": \"packet-retransmits-subintervals\",\n                \"summaries\": [],\n                \"time-updated\": 1423675036\n            }\n        ],\n        \"input-destination\": \"wash-pt1.es.net\",\n        \"input-source\": \"128.143\",\n        \"ip-transport-protocol\": \"tcp\",\n        \"measurement-agent\": \"128.143.231.161\",\n        \"metadata-count-total\": 1,\n        \"metadata-key\": \"dfbd05cef48c4111b9da3cc1238f74ad\",\n        \"source\": \"128.143.\",\n        \"subject-type\": \"point-to-point\",\n        \"time-duration\": \"20\",\n        \"time-interval\": \"21600\",\n        \"tool-name\": \"bwctl/iperf3\",\n        \"uri\": \"/esmond/perfsonar/archive/dfbd05cef48c4111b9da3cc1238f74ad/\"\n    }\n]\n</code></pre>\n\n<p>and I want to retrieve the base-uri depending on the event-type.<br>\nI am writing a bash script to do that. I've never worked with JSON files or wrote python codes before, so I am sorry if my question seems so naive.  Can I do this in Bash or it would be easier if I used python?<br>\nThank you</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1423692815, "post_id": 28465449, "comment_id": 45256781, "body": "<code>a = area()</code> wouldn&#39;t this be a problem, since <code>a</code> already exists?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1423692846, "post_id": 28465449, "comment_id": 45256797, "body": "True, thank you. I&#39;ll fix it. Otherwise, I am correct, right?"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423692868, "last_edit_date": 1423692868, "creation_date": 1423692372, "answer_id": 28465449, "question_id": 28465388, "link": "https://stackoverflow.com/questions/28465388/calculating-area-and-perimeter-of-triangle-with-python/28465449#28465449", "title": "Calculating area and perimeter of triangle with Python?", "body": "<p>You need to assign the returned values and make the three side lengths global. Honestly, you should read more about variable scope which are the levels in which variables are defined. In addition, your variable names shouldn't overwrite your function names.</p>\n\n<pre><code>a = int(input('Enter first side: '))\nb = int(input('Enter second side: '))\nc = int(input('Enter third side: '))\n\ndef area():\n\n    # calculate the sides\n    s = (a + b + c) / 2\n\n    # calculate the area\n    area = (s*(s-a)*(s-b)*(s-c)) ** 0.5\n\n    return area\n\nareaValue = area()\n\ndef perimeter():\n\n    # Calculate the perimeter\n    perim = a + b + c\n\n    return perim\n\nperim = perimeter()\n\n\nprint( 'Area is: ', format(areaValue,'.1f'))\nprint( 'Perimeter is: ', format(perim,',.1f'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "is_accepted": true, "score": 2, "last_activity_date": 1423692946, "last_edit_date": 1423692946, "creation_date": 1423692632, "answer_id": 28465518, "question_id": 28465388, "link": "https://stackoverflow.com/questions/28465388/calculating-area-and-perimeter-of-triangle-with-python/28465518#28465518", "title": "Calculating area and perimeter of triangle with Python?", "body": "<p>You need to assign the returned values and make the three side lengths global. Honestly, you should read more about variable scope which are the levels in which variables are defined. In addition, your variable names shouldn't overwrite your function names. In this way you can reuse those small functions later anywhere in your script by just calling them and passing three parameters.</p>\n\n<p>For example:</p>\n\n<pre><code>def area(a, b, c):\n    # calculate the sides\n    s = (a + b + c) / 2\n    # calculate the area\n    area = (s*(s-a)*(s-b)*(s-c)) ** 0.5\n    return area\n\ndef perimeter(a, b, c):\n    # Calculate the perimeter\n    perim = a + b + c\n    return perim\n\ndef main():   \n    a = int(input('Enter first side: '))\n    b = int(input('Enter second side: '))\n    c = int(input('Enter third side: '))\n\n    print \"Area is:\", area(a, b, c)\n    print \"Perimeter is:\", perimeter(a, b, c)\n\nmain()\n</code></pre>\n\n<p>This should be a cleaner way to do this and you only call one function from the main thread. You'll avoid declaring global variables and a whole lot of mess you have (no offence) in your original code.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4556896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/990dc1329875de398ee2ae6fb47a6847?s=128&d=identicon&r=PG&f=1", "display_name": "mcadorel", "link": "https://stackoverflow.com/users/4556896/mcadorel"}, "is_accepted": false, "score": 0, "last_activity_date": 1423693538, "creation_date": 1423693538, "answer_id": 28465745, "question_id": 28465388, "link": "https://stackoverflow.com/questions/28465388/calculating-area-and-perimeter-of-triangle-with-python/28465745#28465745", "title": "Calculating area and perimeter of triangle with Python?", "body": "<ul>\n<li><p>TypeError : be sure to mark formatting parameters with a pair of curly braces.</p>\n\n<pre><code>'Area is {}, perimeter is {}.'.format(first_value, second_value)\n</code></pre></li>\n<li><p>NameError : you might want to read about variable scopes.</p>\n\n<pre><code>def perimeter(a, b, c):\n    # Calculate the perimeter\n    perim = a + b + c\n    return perim\n\n# Call the function with the parameters\n# you want it to compute :\nprint \"Perimeter is {}.\"format(\n    perimeter(3, 4, 5)\n    )\n# output : \"Perimeter is 12.\"\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 217, "user_id": 4505132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-LmvNAFBLSCU/AAAAAAAAAAI/AAAAAAAAA9E/WeThsfCT6zM/photo.jpg?sz=128", "display_name": "AvenNova", "link": "https://stackoverflow.com/users/4505132/avennova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13964, "favorite_count": 0, "closed_date": 1423721842, "accepted_answer_id": 28465518, "answer_count": 3, "score": -1, "last_activity_date": 1423693538, "creation_date": 1423692083, "last_edit_date": 1423692596, "question_id": 28465388, "link": "https://stackoverflow.com/questions/28465388/calculating-area-and-perimeter-of-triangle-with-python", "closed_reason": "Needs more focus", "title": "Calculating area and perimeter of triangle with Python?", "body": "<p>Hey guys I am having problems with outputting the area and perimeter of a triangle given the sides using the Heron's formula. Here's my code:</p>\n\n<pre><code>def main():\n\na = int(input('Enter first side: '))\nb = int(input('Enter second side: '))\nc = int(input('Enter third side: '))\n\ndef area():\n\n    # calculate the sides\n    s = (a + b + c) / 2\n\n    # calculate the area\n    area = (s*(s-a)*(s-b)*(s-c)) ** 0.5\n\n    return area\n\narea()\n\ndef perimeter():\n\n    # Calculate the perimeter\n    perim = a + b + c\n\n    return perim\n\nperimeter()\n\n\nprint( 'Area is: ',format(area,'.1f'))\nprint( 'Perimeter is: ',format(perim,',.1f'))\n\n\nmain()\n</code></pre>\n\n<p>I am getting lots of errors like </p>\n\n<ul>\n<li>TypeError: non-empty format string passed to object.<strong>format</strong></li>\n<li>NameError: name 'perim' is not defined</li>\n</ul>\n\n<p>The way I'm supposed to do this is by asking for the sides in the main function and then calling the second one and then output the answers with one decimal place. </p>\n\n<p>Can someone tell me what I doing wrong?</p>\n"}, {"tags": ["python", "regex", "django"], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 2521287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gej8E.jpg?s=128&g=1", "display_name": "DrZoo", "link": "https://stackoverflow.com/users/2521287/drzoo"}, "edited": false, "score": 0, "creation_date": 1423694297, "post_id": 28465468, "comment_id": 45257489, "body": "Do I add that in the /mysite/polls/urls.py file, or the /mysite/mysite/urls.py?"}, {"owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "reply_to_user": {"reputation": 1362, "user_id": 2521287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gej8E.jpg?s=128&g=1", "display_name": "DrZoo", "link": "https://stackoverflow.com/users/2521287/drzoo"}, "edited": false, "score": 0, "creation_date": 1423694487, "post_id": 28465468, "comment_id": 45257572, "body": "If you already send anything matching <code>polls</code> to your <code>polls&#47;urls.py</code>, then you would need to define <code>^index.html$</code> in your <code>mysite&#47;polls&#47;urls.py</code>"}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1423694777, "post_id": 28465468, "comment_id": 45257718, "body": "The problem with <code>mysite</code> in the tutorials if I remember, is that <code>mysite</code> is the project and the app. You could just have <code>settings.py</code> and <code>wsgi.py</code> in the <code>mysite</code> dir, then do <code>python manage.py startapp myapp</code> and you&#39;ll have a <code>models.py</code> <code>views.py</code> and <code>urls.py</code> in that. Add <code>myapp</code> to <code>INSTALLED_APPS</code> and then put your <code>&#47;polls&#47;</code> urls in <code>myapp</code>"}], "tags": [], "owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "is_accepted": true, "score": 5, "last_activity_date": 1423694494, "last_edit_date": 1423694494, "creation_date": 1423692456, "answer_id": 28465468, "question_id": 28465355, "link": "https://stackoverflow.com/questions/28465355/django-tutorial-write-views-that-actually-do-something/28465468#28465468", "title": "Django Tutorial &quot;Write Views That Actually Do Something&quot;", "body": "<p>Django view functions or classes use the template you define, so that you do not have to specify it in the URL. The <code>urls.py</code> file matches your defined regex to send requests to views. </p>\n\n<p>If you <em>truly</em> wanted to use that URL, you would have to define <code>^polls/index.html$</code> in your <code>urls.py</code> and direct it to your view.</p>\n"}, {"tags": [], "owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "is_accepted": false, "score": 0, "last_activity_date": 1423694576, "creation_date": 1423694576, "answer_id": 28465989, "question_id": 28465355, "link": "https://stackoverflow.com/questions/28465355/django-tutorial-write-views-that-actually-do-something/28465989#28465989", "title": "Django Tutorial &quot;Write Views That Actually Do Something&quot;", "body": "<p>From what you're asking it sounds like you essentially want to output a static html file on a URL defined in your <code>urlpatterns</code> in <code>urls.py</code>.</p>\n\n<p>I strongly suggest you take a look at Class Based Views.\n<a href=\"https://docs.djangoproject.com/en/1.7/topics/class-based-views/#simple-usage-in-your-urlconf\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/topics/class-based-views/#simple-usage-in-your-urlconf</a></p>\n\n<p>The quickest way to go from what you've got, to rendering <code>polls/index.html</code> would be something like;</p>\n\n<pre><code># some_app/urls.py\nfrom django.conf.urls import patterns\nfrom django.views.generic import TemplateView\n\nurlpatterns = patterns('',\n    (r'^polls/index.html', TemplateView.as_view(template_name=\"index.html\")),\n)\n</code></pre>\n\n<p>But I'm sure you'll want to pass things to the template so class based views will be what you need. So the alternative to the above with added context would be;</p>\n\n<pre><code># some_app/views.py\nfrom django.views.generic import TemplateView\n\nclass Index(TemplateView):\n    template_name = \"index.html\"\n\n    def get_context_data(self, **kwargs):\n        context = super(Index, self).get_context_data(**kwargs)\n        context['foo'] = 'bar'\n        return context\n</code></pre>\n\n<p>Then obviously adding <code>{{ foo }}</code> to your <code>index.html</code> would output bar to the user. And you'd update your <code>urls.py</code> to;</p>\n\n<pre><code># some_app/urls.py\nfrom django.conf.urls import patterns\nfrom .views import Index\n\nurlpatterns = patterns(\n    '',\n    (r'^polls/index.html', Index.as_view()),\n)\n</code></pre>\n"}], "owner": {"reputation": 1362, "user_id": 2521287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gej8E.jpg?s=128&g=1", "display_name": "DrZoo", "link": "https://stackoverflow.com/users/2521287/drzoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 28465468, "answer_count": 2, "score": 0, "last_activity_date": 1423694576, "creation_date": 1423691951, "question_id": 28465355, "link": "https://stackoverflow.com/questions/28465355/django-tutorial-write-views-that-actually-do-something", "title": "Django Tutorial &quot;Write Views That Actually Do Something&quot;", "body": "<p>I've been working on the Django tutorial. I'm on the part where it is \"Write Views That Actually Do something.\" (Part 3)</p>\n\n<p>I'm trying to use the index.html template that it gives you, but I keep getting a 404 error that says </p>\n\n<pre><code>Request Method: GET\nRequest URL: http://127.0.0.1:8000/polls/index.html\n\nUsing the URLconf defined in mysite.urls, Django tried these URL patterns, in this order:\n^polls/ ^$ [name='index']\n^polls/ ^(?P&lt;question_id&gt;\\d+)/$ [name='detail']\n^polls/ ^(?P&lt;question_id&gt;\\d+)/results/$ [name='results']\n^polls/ ^(?P&lt;question_id&gt;\\d+)/vote/$ [name='vote']\n^admin/\nThe current URL, polls/index.html, didn't match any of these.\n</code></pre>\n\n<p>I don't know if one of the regex are wrong? I've been messing around with it for a while now and I have had no luck getting it to work.</p>\n\n<p>I can go to /polls just fine. But /polls/index.html does not work. </p>\n\n<p>Any help would be appreciated. </p>\n\n<p>The version of Django that I'm using is 1.7.4</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 0, "creation_date": 1423692210, "post_id": 28465339, "comment_id": 45256442, "body": "Maybe allocating <code>buffer[21]</code> isn&#39;t the right thing to do when you end up doing <code>fgets(buffer, 81, input)</code>?"}, {"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 0, "creation_date": 1423692380, "post_id": 28465339, "comment_id": 45256539, "body": "Seriously? Allocate a buffer that&#39;s big enough! What did you expect, &quot;do a barrel roll&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 1, "last_activity_date": 1423692425, "creation_date": 1423692425, "answer_id": 28465462, "question_id": 28465339, "link": "https://stackoverflow.com/questions/28465339/segmentation-fault-11-caused-by-buffer/28465462#28465462", "title": "Segmentation Fault 11 caused by buffer?", "body": "<p>You have a memory access problem. You have:</p>\n\n<pre><code>int B = 21;\n\n...\n\nchar buffer[B];\n\n...\n\nwhile(fgets(buffer, 81, input) != NULL) {\n</code></pre>\n\n<p>Since you are accessing <code>buffer</code> out of bounds, your program is subject to undefined behavior. You can fix that by making sure you that you use <code>B</code> instead of <code>81</code> in the call to <code>fgets()</code>. If you want to be able to read <code>81</code> characters at a time into <code>buffer</code>, set the value of <code>B</code> to <code>81</code>.</p>\n\n<pre><code>int B = 81; // 81 instead of 21\n\n...\n\nchar buffer[B];\n\n...\n\nwhile(fgets(buffer, B, input) != NULL) { // B instead of 81\n</code></pre>\n"}], "owner": {"reputation": 1491, "user_id": 3310212, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/45f6d295f5b617410092dd23196431bb?s=128&d=identicon&r=PG&f=1", "display_name": "Vimzy", "link": "https://stackoverflow.com/users/3310212/vimzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 28465462, "answer_count": 1, "score": -1, "last_activity_date": 1423705446, "creation_date": 1423691883, "last_edit_date": 1423705446, "question_id": 28465339, "link": "https://stackoverflow.com/questions/28465339/segmentation-fault-11-caused-by-buffer", "title": "Segmentation Fault 11 caused by buffer?", "body": "<p>I've been pulling my hair out because of this forever. I'm new to the C language. It keeps giving me a \"Segmentation fault: 11\" error message. I can't figure out what's wrong. </p>\n\n<p>I think the problem may lie with the following segment of my code:    </p>\n\n<pre><code>int counter = 21; \n\n\n char load[counter];\n\n\nwhile(fgets(load, 81, input) != NULL) \n</code></pre>\n"}, {"tags": ["python", "pdf", "numpy", "matplotlib", "ipython-notebook"], "comments": [{"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1423692971, "post_id": 28465337, "comment_id": 45256867, "body": "Is there a particular reason you are using <code>pcolor</code> rather than the faster <code>imshow?</code> In some cases, <code>pcolor</code> is really what is desired, but those cases are rare, in my opinion."}, {"owner": {"reputation": 115, "user_id": 4548347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vp1a.png?s=128&g=1", "display_name": "nedlrichards", "link": "https://stackoverflow.com/users/4548347/nedlrichards"}, "reply_to_user": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1423783235, "post_id": 28465337, "comment_id": 45300846, "body": "Wow, amazing, that fixed my problem. I was just using pcolor by habit, i guess."}], "owner": {"reputation": 115, "user_id": 4548347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vp1a.png?s=128&g=1", "display_name": "nedlrichards", "link": "https://stackoverflow.com/users/4548347/nedlrichards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423691878, "creation_date": 1423691878, "question_id": 28465337, "link": "https://stackoverflow.com/questions/28465337/matplotlib-limit-figure-save-size-for-pdfpages", "title": "matplotlib limit figure save size for PdfPages", "body": "<p>The included code takes about 2 mins to run, and creates a 22 mb pdf. Is there a way to limit the size of each saved figure to a reasonable limit (i.e. 1 mb)?</p>\n\n<p>I have checked fig.get_dpi(), and it reports 80, which should be a reasonable size for a 4\" x 6\" figure.</p>\n\n<pre><code>%matplotlib inline\nimport numpy as np\nfrom numpy.random import randn\nfrom matplotlib.backends.backend_pdf import PdfPages\n\n# This will be the basic way for me to save figures\npp = PdfPages('test.pdf')\n\n# Simulate and plot random data\ndr = 1\nrMax = 300\nrRange = np.arange(0, rMax, dr)\nR, Z = np.meshgrid(rRange, rRange)\nY = randn(R.shape[0], R.shape[1])\nfig, ax = subplots()\nax.pcolor(R, Z, Y, cmap='RdBu')\n\n# Save figure and produce pdf\npp.savefig(fig)\npp.close()\n</code></pre>\n"}, {"tags": ["python", "matlab"], "comments": [{"owner": {"reputation": 1856, "user_id": 4116831, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a7f72171b14399db9ac49c325de619e2?s=128&d=identicon&r=PG&f=1", "display_name": "scmg", "link": "https://stackoverflow.com/users/4116831/scmg"}, "edited": false, "score": 0, "creation_date": 1423692275, "post_id": 28465294, "comment_id": 45256477, "body": "maybe your matlab function returns one struct with 2 fields as result?"}, {"owner": {"reputation": 35987, "user_id": 2732801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YEZ8S.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2732801/daniel"}, "edited": false, "score": 1, "creation_date": 1423692404, "post_id": 28465294, "comment_id": 45256555, "body": "With python-matlab-bridge you are refering to the Matlab Engine for Python (<a href=\"http://www.mathworks.com/help/matlab/matlab-engine-for-python.html\" rel=\"nofollow noreferrer\">mathworks.com/help/matlab/matlab-engine-for-python.html</a>) or to some 3rd party library?"}, {"owner": {"reputation": 289, "user_id": 2475611, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1200152166d28f4b3353669a62554166?s=128&d=identicon&r=PG", "display_name": "realmq", "link": "https://stackoverflow.com/users/2475611/realmq"}, "edited": false, "score": 1, "creation_date": 1423692495, "post_id": 28465294, "comment_id": 45256610, "body": "I am refering to this one: <a href=\"https://github.com/arokem/python-matlab-bridge\" rel=\"nofollow noreferrer\">github.com/arokem/python-matlab-bridge</a>"}], "owner": {"reputation": 289, "user_id": 2475611, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1200152166d28f4b3353669a62554166?s=128&d=identicon&r=PG", "display_name": "realmq", "link": "https://stackoverflow.com/users/2475611/realmq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423691728, "creation_date": 1423691728, "question_id": 28465294, "link": "https://stackoverflow.com/questions/28465294/return-more-than-one-variable-from-matlab-to-python-using-python-matlab-bridge", "title": "return more than one variable from matlab to python, using python-matlab-bridge", "body": "<p>It is easy to return one variable from Matlab using</p>\n\n<pre><code>res = mlab.run_func('path/to/jk.m', {'arg1': 3, 'arg2': 5})\n</code></pre>\n\n<p>How can I return more than one variable from Matlab. For example, my .m function is as below</p>\n\n<pre><code>function [lol, sos] = jk(args)\n    arg1 = args.arg1;\n    arg2 = args.arg2;\n    lol = arg1 + arg2;\n   sos = arg1 * arg2;\nend\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pycharm", "sha"], "answers": [{"comments": [{"owner": {"reputation": 6134, "user_id": 766708, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/55fd0f7d95a4938975026ff886c3a563?s=128&d=identicon&r=PG", "display_name": "daiyue", "link": "https://stackoverflow.com/users/766708/daiyue"}, "edited": false, "score": 0, "creation_date": 1423692846, "post_id": 28465270, "comment_id": 45256796, "body": "<code>import hashlib</code>, but when trying to use <code>hasher = hashlib.sha1</code> <code>hasher.update(somestring)</code>; I got a error: <code>AttributeError: &#39;builtin_function_or_method&#39; object has no attribute &#39;update&#39;</code>, how to resolve this issue?"}, {"owner": {"reputation": 4822, "user_id": 506898, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/38411fac98e3ec54590450a491b1dcf9?s=128&d=identicon&r=PG", "display_name": "bwbrowning", "link": "https://stackoverflow.com/users/506898/bwbrowning"}, "edited": false, "score": 2, "creation_date": 1423693789, "post_id": 28465270, "comment_id": 45257293, "body": "should be <code>hasher = hashlib.sha1()</code>"}], "tags": [], "owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "is_accepted": true, "score": 5, "last_activity_date": 1423691640, "creation_date": 1423691640, "answer_id": 28465270, "question_id": 28465173, "link": "https://stackoverflow.com/questions/28465173/importerror-no-module-named-sha/28465270#28465270", "title": "ImportError: No module named &#39;sha&#39;", "body": "<p>Please use <code>hashlib</code>, in any case.  <code>sha</code> has long been deprecated.</p>\n"}], "owner": {"reputation": 6134, "user_id": 766708, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/55fd0f7d95a4938975026ff886c3a563?s=128&d=identicon&r=PG", "display_name": "daiyue", "link": "https://stackoverflow.com/users/766708/daiyue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6650, "favorite_count": 1, "accepted_answer_id": 28465270, "answer_count": 1, "score": 2, "last_activity_date": 1423691640, "creation_date": 1423691286, "last_edit_date": 1423691490, "question_id": 28465173, "link": "https://stackoverflow.com/questions/28465173/importerror-no-module-named-sha", "title": "ImportError: No module named &#39;sha&#39;", "body": "<p>all, I tried to <code>import sha</code> in a <code>python</code> file, but got the error message when compiling the file.</p>\n\n<pre><code>ImportError: No module named 'sha'\n</code></pre>\n\n<p>I am using <code>pycharm 4.0.4</code> with <code>python 3.4.2</code> installed on <code>Win 7</code>. I am wondering how to solve the problem.</p>\n"}, {"tags": ["python", "dictionary", "apache-spark", "dataframe", "apache-spark-sql"], "answers": [{"comments": [{"owner": {"reputation": 1643, "user_id": 3597974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33cebecba4301daa1b4c8bd0b4d7e749?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/3597974/michal"}, "edited": false, "score": 0, "creation_date": 1423692620, "post_id": 28465451, "comment_id": 45256676, "body": "the statement: dict(zip([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;],[1,2,3])) produces the output: {&#39;a&#39;: 1, &#39;c&#39;: 3, &#39;b&#39;: 2} Why is the order not preserved?"}, {"owner": {"reputation": 4822, "user_id": 506898, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/38411fac98e3ec54590450a491b1dcf9?s=128&d=identicon&r=PG", "display_name": "bwbrowning", "link": "https://stackoverflow.com/users/506898/bwbrowning"}, "edited": false, "score": 1, "creation_date": 1423693402, "post_id": 28465451, "comment_id": 45257100, "body": "you can use an ordereddict if you care about order"}], "tags": [], "owner": {"reputation": 3153, "user_id": 641234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42888171bce11ee00617e3f803af6a6b?s=128&d=identicon&r=PG", "display_name": "emulbreh", "link": "https://stackoverflow.com/users/641234/emulbreh"}, "is_accepted": true, "score": 2, "last_activity_date": 1423692374, "creation_date": 1423692374, "answer_id": 28465451, "question_id": 28465164, "link": "https://stackoverflow.com/questions/28465164/defining-a-dictionary-with-a-very-large-amount-of-columns/28465451#28465451", "title": "Defining a dictionary with a very large amount of columns", "body": "<p><a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow\">zip</a> might help.</p>\n\n<pre><code>dict(zip(col_names, p))\n</code></pre>\n\n<p>You can use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip\" rel=\"nofollow\">izip</a> if you're concerned about the extra memory for the intermediate list.</p>\n"}], "owner": {"reputation": 1643, "user_id": 3597974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33cebecba4301daa1b4c8bd0b4d7e749?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/3597974/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 28465451, "answer_count": 1, "score": 0, "last_activity_date": 1423692374, "creation_date": 1423691262, "question_id": 28465164, "link": "https://stackoverflow.com/questions/28465164/defining-a-dictionary-with-a-very-large-amount-of-columns", "title": "Defining a dictionary with a very large amount of columns", "body": "<p>I have a dataset that I want to move to spark sql. This dataset has about 200 columns. The best way I have found to doing this is mapping the data to a dictionary and then moving that dictionary to a spark sql table.</p>\n\n<p>The problem is that if I move it to a dictionary, the code will be super hacky and not robust. I will probably have to write something like this:</p>\n\n<pre><code>lines = sc.textFile(file_loc)\n#parse commas\nparts = lines.map(lambda l: l.split(\",\"))\n#split data into columns\ncolumns = parts.map(lambda p:{'col1':p[0], 'col2':p[1], 'col3':p[2], 'col4': p[3], ;'col5': p[4], 'col6':p[5], 'col7':p[6], 'col8':p[7], col9':p[8], 'col10':p[9], 'col11':p[10], 'col12':p[11], 'col13':p[12]})\n</code></pre>\n\n<p>I only did 13 columns since I didn't feel like typing more than this, but you get the idea.</p>\n\n<p>I would like to do something similar to how you read a csv into a data frame in R where you specify the column names into a variable and then use that variable to name all columns.</p>\n\n<p>example:</p>\n\n<pre><code>col_names &lt;- ('col0','col1','col2','col3','col4','col5','col6','col7','col8','col9','col10','col11','col12','col3')\ndf &lt;- read.csv(file_loc, header=FALSE, col.names=col_names)\n</code></pre>\n\n<p>I cannot use a pandas data frame since the data structure is not available for use in spark at the moment.</p>\n\n<p>Is there a way to create a dictionary in python similar to the way you create a data frame in R?</p>\n"}, {"tags": ["python", "plugins", "amazon-s3", "yum"], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 4412991, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28d5211a3f55b1d954c9bee7a8d4bab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ethier", "link": "https://stackoverflow.com/users/4412991/alex-ethier"}, "is_accepted": false, "score": 0, "last_activity_date": 1423774809, "creation_date": 1423774809, "answer_id": 28487658, "question_id": 28465161, "link": "https://stackoverflow.com/questions/28465161/how-do-i-fix-a-yum-repo-plugin-to-never-crash-yum/28487658#28487658", "title": "How do I fix a yum repo plugin to never crash yum", "body": "<p>yum.baseurl.org is still down but it turns out yum is pretty much all Python code.  The best way I could come up to fix the repo was to do a test url grab within a try catch.  If any errors occur, the repo will just disable itself.  I had to add the code twice since different yum hooks are called depending on whether you are installing locally or remotely.</p>\n"}], "owner": {"reputation": 359, "user_id": 4412991, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/28d5211a3f55b1d954c9bee7a8d4bab9?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ethier", "link": "https://stackoverflow.com/users/4412991/alex-ethier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423774809, "creation_date": 1423691248, "question_id": 28465161, "link": "https://stackoverflow.com/questions/28465161/how-do-i-fix-a-yum-repo-plugin-to-never-crash-yum", "title": "How do I fix a yum repo plugin to never crash yum", "body": "<p>I need to patch a yum plugin hosted at: <a href=\"https://github.com/seporaitis/yum-s3-iam/blob/master/s3iam.py\" rel=\"nofollow\">https://github.com/seporaitis/yum-s3-iam/blob/master/s3iam.py</a>, essentially if the s3 repo is unreachable the script throws an error and yum dies ungracefully.  I need to change it so that if the repo is unreachable, yum will continue to search other available repos.</p>\n\n<p>Wrapping any thrown exceptions in a URLGrabError nearly fixed the problem except when yum tries to install an rpm that is local to the machine.</p>\n\n<p>Unfortunately yum.baseurl.org has been unreachable for several days now so I don't have any access to documentation on how to write/fix yum plugins.  If anyone has those pages cached somewhere or can find another in depth guide I would really appreciate them.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423691701, "post_id": 28465158, "comment_id": 45256189, "body": "Why does my code only strip two of the four characters?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423691907, "post_id": 28465158, "comment_id": 45256293, "body": "@MalikBrahimi because you are forgetting the newline, <code>parse = line.strip(&#39;()[]\\n&#39;).split(&#39;,&#39;)</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423691946, "post_id": 28465158, "comment_id": 45256321, "body": "That didn&#39;t work either. It actually switches to the other two characters."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1423693445, "post_id": 28465158, "comment_id": 45257130, "body": "Using <code>literal_eval()</code> is a good approach. However the <code>print(a, b)</code> is likely going to produce output like <code>(1, 1)</code>, <code>(11, 11)</code>, etc because from the code in the OP&#39;s question, it looks like they&#39;re using Python 2. In addition to that they want each pair to produce something like <code>x = 1</code> &amp; <code>y = 1</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1423693990, "post_id": 28465158, "comment_id": 45257373, "body": "@martineau, yes, rereading the question the OP does seem to want formatted output so I added <code>str.format</code>"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1423693905, "last_edit_date": 1423693905, "creation_date": 1423691244, "answer_id": 28465158, "question_id": 28465083, "link": "https://stackoverflow.com/questions/28465083/how-can-i-select-item-of-a-tuple-within-list/28465158#28465158", "title": "How can I select item of a tuple within list?", "body": "<p>You can use <code>ast.literal_eval</code>, unpack each item accessing the tuple stored inside each list and print using <a href=\"https://docs.python.org/2/library/string.html#format-string-syntax\" rel=\"nofollow\">str.format</a>:</p>\n\n<pre><code>from ast import literal_eval\nwith open('list.log') as f:\n    for line in f:\n        a,b = literal_eval(line.rstrip())[0]\n        print(\"x = {}\\ny = {}\".format(a,b))\nx = 1\ny = 1\nx = 11\ny = 11\nx = 157\ny = 208\nx = 222\ny = 224\nx = 239\ny = 239\nx = 265\ny = 268   \n</code></pre>\n\n<p>If you want to store a list of all tuples:</p>\n\n<pre><code> tups = [literal_eval(line.rstrip())[0] for line in f]\n print(tups)\n [(1, 1), (11, 11), (157, 208), (222, 224), (239, 239), (265, 268)]\n</code></pre>\n\n<p><a href=\"http://ast.literal_eval\" rel=\"nofollow\">ast.literal_eval</a>:</p>\n\n<p><em>Safely evaluate an expression node or a Unicode or Latin-1 encoded string containing a Python literal or container display. The string or node provided may only consist of the following Python literal structures: strings, numbers, tuples, lists, dicts, booleans, and None.</em></p>\n\n<p>doing it manually you would need to index 2:-2 after stripping the newline, split on <code>,</code> and <code>map</code> to int:</p>\n\n<pre><code> for line in f:\n    a,b =(map(int,line.rstrip()[2:-2].split(\",\")))\n    print(\"x = {}\\ny = {}\".format(a,b))\n</code></pre>\n\n<p>Or use str.translate to remove the commas,parens etc..:</p>\n\n<pre><code>with open('list.log') as f:\n      for line in f:\n        a,b = map(int,line.translate(None,\"()[],\").split())\n        print(\"x = {}\\ny = {}\".format(a,b))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1423692107, "last_edit_date": 1423692107, "creation_date": 1423691469, "answer_id": 28465228, "question_id": 28465083, "link": "https://stackoverflow.com/questions/28465083/how-can-i-select-item-of-a-tuple-within-list/28465228#28465228", "title": "How can I select item of a tuple within list?", "body": "<pre><code>with open('list.log') as log:\n    for line in log:\n        parse = line.strip('()[]\\n').split(',')\n        print 'x = %s' % parse[0]\n        print 'y = %s' % parse[1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1423692094, "post_id": 28465232, "comment_id": 45256385, "body": "you will have an extra <code>)</code> you need to strip the newline before indexing"}], "tags": [], "owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "is_accepted": false, "score": 0, "last_activity_date": 1423752714, "last_edit_date": 1423752714, "creation_date": 1423691489, "answer_id": 28465232, "question_id": 28465083, "link": "https://stackoverflow.com/questions/28465083/how-can-i-select-item-of-a-tuple-within-list/28465232#28465232", "title": "How can I select item of a tuple within list?", "body": "<p>How about this:</p>\n\n<pre><code>for line in fhand:\n    line = line.strip(); # trim off any leading or extra whitespace including newline\n    line = line[2:-2]  # trim off the leading [( and trailing )] chars\n    parsed_line = line.split(',') # convert to list \n    print('x =',parsed_line[0].strip())\n    print('y =',parsed_line[1].strip())\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 4556761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c88b13976dc666fe33402ea7032ca15?s=128&d=identicon&r=PG&f=1", "display_name": "Hdez", "link": "https://stackoverflow.com/users/4556761/hdez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1423752714, "creation_date": 1423690952, "last_edit_date": 1423698268, "question_id": 28465083, "link": "https://stackoverflow.com/questions/28465083/how-can-i-select-item-of-a-tuple-within-list", "title": "How can I select item of a tuple within list?", "body": "<p>I have this list of numbers in a file log: </p>\n\n<pre><code>[(1, 1)]\n[(11, 11)]\n[(157, 208)]\n[(222, 224)]\n[(239, 239)]\n[(265, 268)]\n</code></pre>\n\n<p>and I want to print the items like a value of variable like this: </p>\n\n<pre><code>x = 1\ny = 1\n</code></pre>\n\n<p>and then: return to next line</p>\n\n<pre><code>x= 11\ny = 11\n</code></pre>\n\n<p>return: </p>\n\n<pre><code>x=157\ny=208\n</code></pre>\n\n<p>It's possible?</p>\n\n<p>My CODE were: </p>\n\n<pre><code> fhand=open('list.log')\n    for lines in fhand:\n    print lines\n    print (lines[1:1])\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>import re\nfhand=open('list.log')\nfor line in fhand:\n    line=line.split()\n    number=map(lambda line: line.split()[0], line)\n    print number\n</code></pre>\n\n<p>I've tried with lambda, map, filter...but I dont know what chance in this code. Please Can somebody help me please? Can somebody tell me what to do?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 80605, "user_id": 1281433, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/O8XCE.png?s=128&g=1", "display_name": "Joshua Taylor", "link": "https://stackoverflow.com/users/1281433/joshua-taylor"}, "edited": false, "score": 0, "creation_date": 1423690913, "post_id": 28465038, "comment_id": 45255775, "body": "Have your <i>tried</i> multiplying by 2? <code>&#39;foo&#39;*2 == &#39;foofoo&#39;</code> and  <code>4*2 == 8</code> in Python."}, {"owner": {"reputation": 5331, "user_id": 3777428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJ6pq.png?s=128&g=1", "display_name": "eigenchris", "link": "https://stackoverflow.com/users/3777428/eigenchris"}, "edited": false, "score": 0, "creation_date": 1423690938, "post_id": 28465038, "comment_id": 45255787, "body": "Python is dynamically typed, and the <code>*</code> operator works for both integers and strings, so you don&#39;t need to care about what the function input is."}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1423693346, "post_id": 28465038, "comment_id": 45257072, "body": "thanks everyone, had a brain fart"}], "answers": [{"tags": [], "owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "is_accepted": true, "score": 4, "last_activity_date": 1423692878, "last_edit_date": 1423692878, "creation_date": 1423690899, "answer_id": 28465054, "question_id": 28465038, "link": "https://stackoverflow.com/questions/28465038/multiplication-with-int-and-str/28465054#28465054", "title": "Multiplication with int and str", "body": "<p>What about:</p>\n\n<pre><code>def double(x):\n    return x+x\n</code></pre>\n\n<p>or </p>\n\n<pre><code>def double(x):\n    return x*2\n</code></pre>\n\n<p>Both should work as:</p>\n\n<ul>\n<li>the <code>+</code> operator is overloaded to perform concatenation when arguments are strings;</li>\n<li>the <code>*</code> operator is overloaded to \"duplicate\" when one argument is a string.</li>\n</ul>\n\n<p>As Python is dynamically typed, the choice of the <em>real</em> operation performed will be made at run-time, depending the type of the operands.</p>\n\n<hr>\n\n<p>More formally, to quote <a href=\"https://docs.python.org/3/reference/expressions.html#binary-arithmetic-operations\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>*</code> (multiplication) operator yields the product of its arguments. <strong>The arguments must either both be numbers, or one argument must be an integer and the other must be a sequence</strong>. In the former case, the numbers are converted to a common type and then multiplied together. In the latter case, sequence repetition is performed; a negative repetition factor yields an empty sequence.</p>\n  \n  <p>[...]</p>\n  \n  <p>The <code>+</code> (addition) operator yields the sum of its arguments. <strong>The arguments must either both be numbers or both be sequences of the same type</strong>. In the former case, the numbers are converted to a common type and then added together. In the latter case, the sequences are concatenated.</p>\n</blockquote>\n\n<hr>\n\n<p>If you're curious, from the sources or <code>Python3.3.6/Objects/abstract.c</code> (The code for <code>PyNumber_Mul</code> is quite comparable) :</p>\n\n<pre><code>PyObject *\nPyNumber_Add(PyObject *v, PyObject *w)\n{\n    PyObject *result = binary_op1(v, w, NB_SLOT(nb_add));\n    if (result == Py_NotImplemented) {\n        PySequenceMethods *m = v-&gt;ob_type-&gt;tp_as_sequence;\n        Py_DECREF(result);\n        if (m &amp;&amp; m-&gt;sq_concat) {\n            return (*m-&gt;sq_concat)(v, w);\n        }\n        result = binop_type_error(v, w, \"+\");\n    }\n    return result;\n}\n</code></pre>\n\n<p>As you can see, the interpreter will first try to perform an addition using the special method <code>__add__</code> defined for the left operand. If this one returns <code>NotImplemented</code>, it will try to interpret the left operand as a sequence and perform a concatenation.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1423691004, "creation_date": 1423691004, "answer_id": 28465089, "question_id": 28465038, "link": "https://stackoverflow.com/questions/28465038/multiplication-with-int-and-str/28465089#28465089", "title": "Multiplication with int and str", "body": "<p>Just multiply the input by two. If it is a string, it will concatenate twice. If it is a number, it will double.</p>\n\n<pre><code>user = raw_input('Enter input: ')\nprint user * 2\n</code></pre>\n\n<p>Look at the Python Documentation. This is taken straight from it.</p>\n\n<blockquote>\n  <p>Strings can be concatenated (glued together) with the <code>+</code> operator, and repeated with <code>*</code>:</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; # 3 times 'un', followed by 'ium'\n&gt;&gt;&gt; 3 * 'un' + 'ium'\n'unununium'\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 28465054, "answer_count": 2, "score": 0, "last_activity_date": 1423692878, "creation_date": 1423690834, "last_edit_date": 1423691037, "question_id": 28465038, "link": "https://stackoverflow.com/questions/28465038/multiplication-with-int-and-str", "title": "Multiplication with int and str", "body": "<p>I am completely baffled at this seemingly simple problem that I have.  I want to define a function that will take the input, which can be a str or int and double it.  For example, if the input is <code>'foo'</code>, then the output will be <code>'foofoo'</code>.  Likewise, if the input is (9), the output will be 18.  Can somebody point me in the right direction?</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>def double(x):\n    \"\"\"returns two times a number if input is a number, returns double the size of the string inputted, if input is a string\nstr -&gt; str; int -&gt; int\"\"\"\n    if x is :\n        return x*2\n    if x is :\n        return x*2\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 926, "user_id": 3265764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f6db683527ade20659915b80545323a3?s=128&d=identicon&r=PG&f=1", "display_name": "mcatis", "link": "https://stackoverflow.com/users/3265764/mcatis"}, "edited": false, "score": 0, "creation_date": 1423692728, "post_id": 28465311, "comment_id": 45256731, "body": "So maybe a chance to start the itertools.cycle with the color after red!? Do you know how many colors are in the set, before the cycle starts again?"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 926, "user_id": 3265764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f6db683527ade20659915b80545323a3?s=128&d=identicon&r=PG&f=1", "display_name": "mcatis", "link": "https://stackoverflow.com/users/3265764/mcatis"}, "edited": false, "score": 0, "creation_date": 1423692907, "post_id": 28465311, "comment_id": 45256833, "body": "You mean the default color cycle? You can test this yourself by doing <code>[ax_color_cycle.next() for ii in xrange(10)]</code> - you&#39;ll see that it gives you <code>[&#39;b&#39;, &#39;g&#39;, &#39;r&#39;, &#39;c&#39;, &#39;m&#39;, &#39;y&#39;, &#39;k&#39;, &#39;b&#39;, &#39;g&#39;, &#39;r&#39;]</code>, i.e. it repeats every 8 lines."}, {"owner": {"reputation": 926, "user_id": 3265764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f6db683527ade20659915b80545323a3?s=128&d=identicon&r=PG&f=1", "display_name": "mcatis", "link": "https://stackoverflow.com/users/3265764/mcatis"}, "edited": false, "score": 0, "creation_date": 1423693615, "post_id": 28465311, "comment_id": 45257217, "body": "ok, thx. this is in my case unfavorable. I need more then a colorbar."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 926, "user_id": 3265764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f6db683527ade20659915b80545323a3?s=128&d=identicon&r=PG&f=1", "display_name": "mcatis", "link": "https://stackoverflow.com/users/3265764/mcatis"}, "edited": false, "score": 1, "creation_date": 1423693979, "post_id": 28465311, "comment_id": 45257365, "body": "I&#39;m not sure what you mean by a &#39;colorbar&#39;, but you can create your own color cycle as long or as short as you like by varying the number of strings in the list you pass to <code>cycle</code>. As well as strings you could also give it RGBA tuples or hex values (<a href=\"http://matplotlib.org/api/colors_api.html\" rel=\"nofollow noreferrer\">see here</a> for other ways to specify colors in matplotlib)."}, {"owner": {"reputation": 802, "user_id": 2842999, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/44f1d0a6d26c9dad8383f1368cf690a3?s=128&d=identicon&r=PG", "display_name": "Rho Phi", "link": "https://stackoverflow.com/users/2842999/rho-phi"}, "edited": false, "score": 0, "creation_date": 1552661645, "post_id": 28465311, "comment_id": 97108515, "body": "I think <code>_get_lines.color_cycle</code> is no longer there <a href=\"https://matplotlib.org/api/prev_api_changes/api_changes_1.5.0.html?highlight=color_cycle#color-cycle-deprecated\" rel=\"nofollow noreferrer\">matplotlib.org/api/prev_api_changes/&hellip;</a>"}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1423699173, "last_edit_date": 1423699173, "creation_date": 1423691800, "answer_id": 28465311, "question_id": 28465028, "link": "https://stackoverflow.com/questions/28465028/pyplot-matplotlib-line-plot-same-color/28465311#28465311", "title": "Pyplot / matplotlib line plot - same color", "body": "<p>There are lots of ways you could potentially do this. Probably the simplest and most obvious would be to specify separate line colors for all 20 lines:</p>\n\n<pre><code>line_colors = ['r', 'g', 'b', 'c', 'm', 'y', 'k', ...]\n\nfor ii in range(20):\n    plt.plot(x, y, c=line_colors[ii])\n</code></pre>\n\n<p>Of course it would a bit of a pain to have to type out 20 different color strings!</p>\n\n<p>You could also generate the colors by drawing an array of RGBA values from a colormap as in unutbu's answer, but most of the built-in colormaps contain red, so you'd have to either pick a colormap that doesn't contain red, <a href=\"http://matplotlib.org/examples/pylab_examples/custom_cmap.html\" rel=\"nofollow\">design your own</a>, or pick a range of float values between 0 and 1 that did not map to the red region of the colormap.</p>\n\n<p>If you don't mind some colors being repeated, one potentially nicer option would be to use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.cycle\" rel=\"nofollow\"><code>itertools.cycle</code></a> to create a generator object that yields colors in a repeating cycle:</p>\n\n<pre><code>from itertools import cycle\n\ncolor_cycle = cycle(['g', 'b', 'c', 'm', 'y', 'k'])\n\nfor ii in range(20):\n    if ii == 0:\n        plt.plot(x, y, c='r')\n    else:\n        plt.plot(x, y, c=cycle.next())\n</code></pre>\n\n<p>In fact, this is exactly how the default matplotlib color cycle works. Each axis object contains an <code>itertools.cycle</code> which sequentially changes the default color for each line that is drawn on that axis:</p>\n\n<pre><code>ax = plt.axes()\n\nax_color_cycle = ax._get_lines.color_cycle\n\nprint(ax_color_cycle)\n# &lt;itertools.cycle object at 0x7fdb91efae60&gt;\n\nprint(ax_color_cycle.next())\n# b\n\nprint(ax_color_cycle.next())\n# g\n\nprint(ax_color_cycle.next())\n# r\n\n# etc.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14111, "user_id": 978486, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mEjSr.jpg?s=128&g=1", "display_name": "ManuelSchneid3r", "link": "https://stackoverflow.com/users/978486/manuelschneid3r"}, "edited": false, "score": 3, "creation_date": 1526471035, "post_id": 28465490, "comment_id": 87755852, "body": "One up for that eye pleasing plot"}, {"owner": {"reputation": 1286, "user_id": 1935611, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1abf5b5c23043f42b90b10252fc236f3?s=128&d=identicon&r=PG", "display_name": "anilbey", "link": "https://stackoverflow.com/users/1935611/anilbey"}, "edited": false, "score": 0, "creation_date": 1549975212, "post_id": 28465490, "comment_id": 96091805, "body": "What is N in this line? <code>color = cmap(float(i)&#47;N)</code>"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1549976153, "post_id": 28465490, "comment_id": 96092403, "body": "<code>N</code> is the number of lines. It&#39;s 20 in the plot above."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 29, "last_activity_date": 1423693807, "last_edit_date": 1423693807, "creation_date": 1423692543, "answer_id": 28465490, "question_id": 28465028, "link": "https://stackoverflow.com/questions/28465028/pyplot-matplotlib-line-plot-same-color/28465490#28465490", "title": "Pyplot / matplotlib line plot - same color", "body": "<p>The default <code>jet</code> color map goes from blue to red. Every builtin colormap also has a sister color map with the colors going in reverse order. The reversed color map has the same name with the suffix <code>_r</code>. Thus, <code>jet_r</code> goes from red to blue.</p>\n\n<p>So you can give each line a unique color from the <code>jet_r</code> colormap by defining</p>\n\n<pre><code>color = cmap(float(i)/N)\n</code></pre>\n\n<p>where <code>cmap</code> is the <code>jet_r</code> colormap. \nThe colormap <code>cmap</code> is a callable. When passed a float, it returns a RGB tuple.\nThus, if <code>float(i)/N</code> is a distinct float between 0 and 1 for each line, then each line will automatically get a distinct color. </p>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.linspace(0, 5, 100)\ncmap = plt.get_cmap('jet_r')\nN = 20\nfor i, n in enumerate(np.linspace(2.0, 0, N)):\n    y = np.sin(x)*x**n\n    color = cmap(float(i)/N)\n    lw = 2.5 if i==0 else 1\n    # zorder controls the order in which the lines are drawn. \n    # The line with the highest zorder lies on top.\n    plt.plot(x, y, c=color, lw=lw, zorder=-i)\nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><img src=\"https://i.stack.imgur.com/DDX1H.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 926, "user_id": 3265764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f6db683527ade20659915b80545323a3?s=128&d=identicon&r=PG&f=1", "display_name": "mcatis", "link": "https://stackoverflow.com/users/3265764/mcatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17795, "favorite_count": 6, "accepted_answer_id": 28465490, "answer_count": 2, "score": 10, "last_activity_date": 1485107802, "creation_date": 1423690816, "last_edit_date": 1485107802, "question_id": 28465028, "link": "https://stackoverflow.com/questions/28465028/pyplot-matplotlib-line-plot-same-color", "title": "Pyplot / matplotlib line plot - same color", "body": "<p>I plot a simple line plot with matplotlib/pyplot. In the same plot, there are up to 20 lines. Matplotlib automatically chooses a line color. \nI need to draw the first of the lines in a thicker red.</p>\n\n<p>So i tried:</p>\n\n<pre><code>if (i==0):                       # first line\n    plt.plot(x, y, 'r', lw=2.5)\nelse:                            # other lines\n    plt.plot(x, y)\n</code></pre>\n\n<p>So far very simple. First line is correct. But one of the other lines is red too. How can avoid this?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1423692731, "post_id": 28465046, "comment_id": 45256733, "body": "shoot i was indeed doing group."}, {"owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1423692923, "post_id": 28465046, "comment_id": 45256841, "body": "@How would i give a name to the group <code>re.compile(r&#39;(?P&lt;gu&gt;gu_w=(.*?);)&#39;, re.I | re.U)</code> this will return entire thing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "reply_to_user": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1423693107, "post_id": 28465046, "comment_id": 45256935, "body": "Use <code>.group(2)</code> since you put the capture group in another capture group."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "is_accepted": true, "score": 3, "last_activity_date": 1423691373, "last_edit_date": 1423691373, "creation_date": 1423690860, "answer_id": 28465046, "question_id": 28464991, "link": "https://stackoverflow.com/questions/28464991/match-strings-in-between-without-returning-start-and-end/28465046#28465046", "title": "Match strings in between without returning start and end", "body": "<p>You must be doing <code>.group(0)</code>, which returns the entire match.  You should be accessing capture group <code>1</code> instead.  This will return only the text matched by <code>(.*?)</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; line = '242322342343-gewe|gu_w=23423526,29845903458,3244;tu_w=2234234;'\n&gt;&gt;&gt; pat = re.compile(r'gu_w=(.*?);', re.I | re.U)\n&gt;&gt;&gt; pat.search(line).group(1)\n'23423526,29845903458,3244'\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Below is an excerpt from the <a href=\"https://docs.python.org/3/library/re.html#re.match.group\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p><code>match.group([group1, ...])</code></p>\n  \n  <p>Returns one or more subgroups of the match...<strong>If a\n  <code>groupN</code> argument is zero, the corresponding return value is the entire\n  matching string</strong>; if it is in the inclusive range <code>[1..99]</code>, it is the string matching the corresponding parenthesized group.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1423692125, "last_edit_date": 1423692125, "creation_date": 1423690911, "answer_id": 28465057, "question_id": 28464991, "link": "https://stackoverflow.com/questions/28464991/match-strings-in-between-without-returning-start-and-end/28465057#28465057", "title": "Match strings in between without returning start and end", "body": "<p>This regex:</p>\n\n<pre><code>gu_w=([^;]+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/fE6kA0/2\" rel=\"nofollow\">DEMO</a></p>\n\n<p>will match between the anchors without including them.</p>\n\n<p>Python demo:</p>\n\n<pre><code>&gt;&gt;&gt; st='242322342343-gewe|gu_w=23423526,29845903458,3244;tu_w=2234234;'\n&gt;&gt;&gt; re.search(r'gu_w=([^;]+)', st).group(1) \n'23423526,29845903458,3244'\n</code></pre>\n\n<p>You can also use named capture groups to make your intent more clear:</p>\n\n<pre><code>&gt;&gt;&gt; seeking='gu_w'\n&gt;&gt;&gt; m=re.search(r'{0}=(?P&lt;{0}&gt;[^;]+)'.format(seeking), st)\n&gt;&gt;&gt; m.group(seeking)\n'23423526,29845903458,3244'\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>&gt;&gt;&gt; m.groupdict()\n{'gu_w': '23423526,29845903458,3244'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1423691012, "creation_date": 1423691012, "answer_id": 28465090, "question_id": 28464991, "link": "https://stackoverflow.com/questions/28464991/match-strings-in-between-without-returning-start-and-end/28465090#28465090", "title": "Match strings in between without returning start and end", "body": "<p>In addition to iCodez's answer, you could also use lookarounds to handle the boundaries.</p>\n\n<pre><code>re.compile(r\"\"\"\n    (?&lt;=gu_w=)    # assert literal gu_w=\n    .*?           # match anything, non-greedily\n    (?=;)         # assert literal ;\"\"\", re.I | re.U | re.X)\n</code></pre>\n"}], "owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 28465046, "answer_count": 3, "score": 0, "last_activity_date": 1423692125, "creation_date": 1423690665, "last_edit_date": 1423691518, "question_id": 28464991, "link": "https://stackoverflow.com/questions/28464991/match-strings-in-between-without-returning-start-and-end", "title": "Match strings in between without returning start and end", "body": "<p>I have following style of string: </p>\n\n<pre><code>line = '242322342343-gewe|gu_w=23423526,29845903458,3244;tu_w=2234234;'\n</code></pre>\n\n<p>I want to match elements that are in between <code>gu_w=</code> and <code>;</code>but after match I don't want <code>gu_w</code> and <code>;</code> to be in the result: </p>\n\n<pre><code>re.compile(r'gu_w=(.*?);', re.I | re.U)\n</code></pre>\n\n<p>above expression will return: </p>\n\n<pre><code>gu_w=23423526,29845903458,3244;\n</code></pre>\n\n<p>but how do I get regex to return <code>23423526,29845903458,3244</code></p>\n\n<p>I was thinking strip the results after matching but is there a better way? </p>\n"}, {"tags": ["python", "numpy", "scikit-learn"], "comments": [{"owner": {"reputation": 2041, "user_id": 3731745, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f391c0f1cf9143fd4c4605a4b1ffbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Andreus", "link": "https://stackoverflow.com/users/3731745/andreus"}, "edited": false, "score": 0, "creation_date": 1434389183, "post_id": 28464963, "comment_id": 49746152, "body": "Did you ever figure this out? I presume you are using Pandas; have you tried bypassing Pandas and using only numpy arrays and Python lists?"}, {"owner": {"reputation": 1295, "user_id": 1093448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bf993dcf4ae027577fa9d0612021d84a?s=128&d=identicon&r=PG", "display_name": "Vladislavs Dovgalecs", "link": "https://stackoverflow.com/users/1093448/vladislavs-dovgalecs"}, "edited": false, "score": 0, "creation_date": 1438107006, "post_id": 28464963, "comment_id": 51309767, "body": "I suggest to move this question to stats or data science."}], "answers": [{"comments": [{"owner": {"reputation": 13885, "user_id": 1509695, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/04a3ca8cd41bf8e170b901072fcc667f?s=128&d=identicon&r=PG", "display_name": "matanster", "link": "https://stackoverflow.com/users/1509695/matanster"}, "edited": false, "score": 0, "creation_date": 1608748688, "post_id": 31683871, "comment_id": 115675993, "body": "Is it only me or is the documentation of <a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.KNeighborsClassifier.html#sklearn.neighbors.KNeighborsClassifier.predict_proba\" rel=\"nofollow noreferrer\">predict_proba</a> just dead wrong when saying &quot;Classes are ordered by lexicographic order&quot;?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5153326"}, "is_accepted": false, "score": 3, "last_activity_date": 1438106929, "last_edit_date": 1438106929, "creation_date": 1438106468, "answer_id": 31683871, "question_id": 28464963, "link": "https://stackoverflow.com/questions/28464963/connecting-probabilities-with-labels-in-scikit-learn/31683871#31683871", "title": "Connecting probabilities with labels in scikit-learn", "body": "<p>I believe the probability order follows the order of the extracted labels in <code>knn_classifier.classes_</code>. You can <code>zip</code> the <code>classes_</code> and predict probability vectors together, sort and take the second one.</p>\n\n<p><code>classes_ = np.array(['a','b','c'])\nprob_vec = np.array([0.6, 0, 0.4])\nsec_class, sec_prob = list(sorted(zip(classes_, prob_vec), key=lambda k: -k[1]))[1]</code></p>\n"}], "owner": {"reputation": 4929, "user_id": 1884063, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c10f3f9f0559b465de9c96e4a5f5a760?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1884063/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1438106929, "creation_date": 1423690532, "question_id": 28464963, "link": "https://stackoverflow.com/questions/28464963/connecting-probabilities-with-labels-in-scikit-learn", "title": "Connecting probabilities with labels in scikit-learn", "body": "<p>I'm training <code>scikit-learn</code>'s <code>neighbors.KNeighborsClassifier</code> model object to predict a multi-class classification problem.  I've already predicted the most likely class, but now I want to extract the second most likely class predicted using the <code>predict_proba</code> function.  However, the output of the function just gives a raw numpy array, which is supposed to be sorted lexicographically.  However, when I eyeball the data to see if the probabilities are in alphabetical order, but it does not seem to be.  </p>\n\n<pre><code>from sklearn import neighbors\nknn_classifier  = neighbors.KNeighborsClassifier(n_neighbors = NUM_NEIGHBORS, weights = 'distance', metric ='haversine' )\nknn_classifier.fit(knn_data, response)\n\nunique_levels =  response.unique()\nunique_levels.sort()\nprint unique_levels\n    ['Canada' 'DCarea' 'NYarea' 'bostonArea' 'caribbean' 'eastAsia' 'florida'\n     'hawaii' 'italy' 'midwest' 'nevada' 'newEngland' 'northernEurope'\n     'northern_california' 'northern_france' 'notFound' 'otherSouthernEurope'\n     'pacificNW' 'pennArea' 'south' 'southAmerica' 'southeastAsiaAus'\n     'southern_california' 'spain' 'texas' 'unitedKingdom' 'west']\n\nknn_preds = knn_classifier.predict(knn_data)\nknn_probs = knn_classifier.predict_proba(knn_data)\n\nknn_preds[0:10]\n    array(['DCarea', 'NYarea', 'DCarea', 'Canada', 'midwest', 'unitedKingdom',\n           'midwest', 'NYarea', 'NYarea', 'south'], dtype=object)\n\nknn_probs[0]\n    array([ 0.    ,  0.0667,  0.2667,  0.0333,  0.1   ,  0.    ,  0.    ,\n            0.    ,  0.    ,  0.0667,  0.1   ,  0.    ,  0.    ,  0.0667,\n            0.    ,  0.    ,  0.    ,  0.0333,  0.    ,  0.1   ,  0.    ,\n            0.    ,  0.1333,  0.    ,  0.    ,  0.    ,  0.0333])\n\nknn_probs[1]\n    array([ 0.   ,  0.   ,  0.25 ,  0.   ,  0.   ,  0.   ,  0.   ,  0.   ,\n            0.   ,  0.125,  0.125,  0.   ,  0.   ,  0.25 ,  0.   ,  0.   ,\n            0.   ,  0.125,  0.   ,  0.   ,  0.   ,  0.   ,  0.125,  0.   ,\n            0.   ,  0.   ,  0.   ])\n</code></pre>\n\n<p>If the probabilities were sorted lexicographically, I would expect the second key in <code>knn_probs[0]</code> to have the highest probability, since <code>'DCarea'</code> was the winning class, and it comes second lexicographically (per above).  However, the largest value is the <em>third</em> item in the list. What gives?  </p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "is_accepted": false, "score": 2, "last_activity_date": 1423692122, "creation_date": 1423692122, "answer_id": 28465395, "question_id": 28464950, "link": "https://stackoverflow.com/questions/28464950/delete-second-row-of-pandas-multiindex/28465395#28465395", "title": "delete second row of pandas MultiIndex?", "body": "<p>you can use <code>droplevel()</code>:</p>\n\n<pre><code>from numpy.random import randn\nimport pandas as pd\narrays = [['bar', 'bar', 'baz', 'baz'],['one', 'three', 'one', 'six',]]\ntuples = list(zip(*arrays))\ndf = pd.DataFrame(randn(10, 4),columns = pd.MultiIndex.from_tuples(tuples, names=['foo', 'bar']))\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>df.columns = df.columns.droplevel(1)\n</code></pre>\n\n<p>or for rows:</p>\n\n<pre><code>df.index = df.index.droplevel(1)\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4538658, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f31643a73a22b9fce72c85935037ee11?s=128&d=identicon&r=PG&f=1", "display_name": "pythanaconda", "link": "https://stackoverflow.com/users/4538658/pythanaconda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1423692810, "creation_date": 1423690483, "question_id": 28464950, "link": "https://stackoverflow.com/questions/28464950/delete-second-row-of-pandas-multiindex", "title": "delete second row of pandas MultiIndex?", "body": "<p>I have been trying everything: reset index, etc.</p>\n\n<p>The first level of my row index is a list of dates and the second level is simply [1,1,1,1,1,1,1]. I need to delete the second row index as it is causing problems with plot format.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1423690651, "post_id": 28464941, "comment_id": 45255630, "body": "There is so much wrong in that one line: <code>strftime</code> isn&#39;t a method of <code>str</code> (it&#39;s a method of <code>datetime.datetime</code>); it&#39;s not for converting <i>from</i> <code>str</code> <i>to</i> <code>datetime</code> (it&#39;s for converting <i>from</i> <code>datetime</code> <i>to</i> <code>str</code>); and <code>%s</code> is nowhere near enough information to explain how you think that string should be interpreted. Maybe <a href=\"https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\">RTFM</a>?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423690722, "post_id": 28464941, "comment_id": 45255662, "body": "related: <a href=\"http://stackoverflow.com/q/8777753/4279\">Converting datetime.date to UTC timestamp in Python</a>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423693681, "post_id": 28464941, "comment_id": 45257243, "body": "@jonrsharpe: unrelated: <code>time.strftime(&#39;%s&#39;)</code> is <code>str(int(time.time()))</code> on some systems."}], "answers": [{"comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1423691081, "post_id": 28465042, "comment_id": 45255849, "body": "why would the OP look up any documentation? they have every thing they need right there."}, {"owner": {"reputation": 26078, "user_id": 145400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e40548053ab6deeef715a1f7fd0aafef?s=128&d=identicon&r=PG", "display_name": "Dr. Jan-Philip Gehrcke", "link": "https://stackoverflow.com/users/145400/dr-jan-philip-gehrcke"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1423691188, "post_id": 28465042, "comment_id": 45255918, "body": "@njzk2: I kind of agree with you. However, I myself have found the time/datetime docs a little confusing from time to time, especially as a beginner. It is always a great help to look at a working solution, and <i>then</i> to try to understand <i>why</i> it works. If he/she does not use that offer, it&#39;s his/her problem. I definitely do not expect to get upvoted, though ;-)."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423693890, "post_id": 28465042, "comment_id": 45257337, "body": "note: local time may be ambiguous (e.g., during end-of-DST transition (&quot;fall back&quot;)) and the local timezone may have different utc offset in the past: <code>time.mktime()</code> may return a wrong result."}], "tags": [], "owner": {"reputation": 26078, "user_id": 145400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e40548053ab6deeef715a1f7fd0aafef?s=128&d=identicon&r=PG", "display_name": "Dr. Jan-Philip Gehrcke", "link": "https://stackoverflow.com/users/145400/dr-jan-philip-gehrcke"}, "is_accepted": true, "score": 4, "last_activity_date": 1423690850, "creation_date": 1423690850, "answer_id": 28465042, "question_id": 28464941, "link": "https://stackoverflow.com/questions/28464941/how-would-i-convert-date-in-string-to-epoch-time-in-python/28465042#28465042", "title": "How would I convert date in string to epoch time in python", "body": "<p>I hope you will go through this example and look up the corresponding documentation.</p>\n\n<pre><code>&gt;&gt;&gt; s = \"11-feb-15:04:02:21\"\n&gt;&gt;&gt; timestruct = time.strptime(s, \"%d-%b-%y:%H:%M:%S\")\n&gt;&gt;&gt; time.mktime(timestruct)\n1423623741.0\n</code></pre>\n\n<p>The format specifiers are defined here: <a href=\"https://docs.python.org/2/library/time.html#time.strftime\" rel=\"nofollow\">https://docs.python.org/2/library/time.html#time.strftime</a></p>\n\n<p>The docs are also clear on the fact that when you want to convert from <strong>struct_time in local time</strong> to <strong>seconds since the epoch</strong> you need to use <code>mktime()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1423695224, "last_edit_date": 1423695224, "creation_date": 1423694346, "answer_id": 28465933, "question_id": 28464941, "link": "https://stackoverflow.com/questions/28464941/how-would-i-convert-date-in-string-to-epoch-time-in-python/28465933#28465933", "title": "How would I convert date in string to epoch time in python", "body": "<p>To convert a time string that represents local time into \"seconds since the Epoch\":</p>\n\n<pre><code>#!/usr/bin/env python\nimport time\nfrom datetime import datetime\nimport pytz # $ pip install pytz\nfrom tzlocal import get_localzone # $ pip install tzlocal\n\ntt = time.strptime(\"11-feb-15:04:02:21\", \"%d-%b-%y:%H:%M:%S\")\nnaive_dt = datetime(*tt[:5]+(min(tt[5], 59),))\ndt = get_localzone().localize(naive_dt, is_dst=None)\ntimestamp = (dt - datetime(1970, 1, 1, tzinfo=pytz.utc)).total_seconds()\nprint(timestamp) # -&gt; 1423623741.0\n</code></pre>\n\n<p>This solution raises an exception if the input time is ambiguous or non-existent e.g., during a DST transition -- set <code>is_dst</code> parameter to True/False to disambiguate the time and/or call <code>tz.normalize()</code> method to adjust non-existent local times.</p>\n\n<p>To get a proper utc offset, the tz database is used (<code>get_localzone()</code> returns the local timezone as a <code>pytz</code> timezone object).</p>\n\n<p><code>time.strptime()</code> is used to support leap seconds e.g., <code>\"1-jul-15:1:59:60\"</code> is converted to <code>datetime(2015, 7, 1, 1, 59, 59)</code> -- note: seconds are truncated to <code>59</code>.</p>\n"}], "owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1965, "favorite_count": 2, "accepted_answer_id": 28465042, "answer_count": 2, "score": -4, "last_activity_date": 1423695224, "creation_date": 1423690440, "question_id": 28464941, "link": "https://stackoverflow.com/questions/28464941/how-would-i-convert-date-in-string-to-epoch-time-in-python", "title": "How would I convert date in string to epoch time in python", "body": "<p>I have a value like this:</p>\n\n<pre><code>var=\"11-feb-15:04:02:21\"\n</code></pre>\n\n<p>I need to convert to epoch time:</p>\n\n<p>I tried this:</p>\n\n<pre><code>var.strftime('%s')\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>AttributeError: 'str' object has no attribute 'strftime'\n</code></pre>\n\n<p>Any ideas?\nI </p>\n"}, {"tags": ["python", "class", "garbage-collection", "ipython", "spyder"], "comments": [{"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 0, "creation_date": 1423690506, "post_id": 28464924, "comment_id": 45255551, "body": "Could you clarify how you noticed that &quot;some of the variables are surviving&quot;?"}, {"owner": {"reputation": 6473, "user_id": 907927, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LuqIB.jpg?s=128&g=1", "display_name": "kasper Taeymans", "link": "https://stackoverflow.com/users/907927/kasper-taeymans"}, "edited": false, "score": 0, "creation_date": 1423690597, "post_id": 28464924, "comment_id": 45255593, "body": "and where is the rest of your code? I don&#39;t see any object initiation."}, {"owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423690607, "post_id": 28464924, "comment_id": 45255602, "body": "Essentially the ReadFile function crashes the second time it is run (ie run straight after the first time), and whilst debugging I printed the m_seclist lists to discover that they contained two copies of the data (e.g 1,2,3,1,2,3 where it should be 1,2,3)"}, {"owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "reply_to_user": {"reputation": 6473, "user_id": 907927, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LuqIB.jpg?s=128&g=1", "display_name": "kasper Taeymans", "link": "https://stackoverflow.com/users/907927/kasper-taeymans"}, "edited": false, "score": 0, "creation_date": 1423690660, "post_id": 28464924, "comment_id": 45255633, "body": "@kasperTaeymans I think its the my_instance = Reader(filename) line, is this not the correct way to initialise a class?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1423690790, "post_id": 28464924, "comment_id": 45255701, "body": "Please read <a href=\"http://stackoverflow.com/q/1680528/3001761\">stackoverflow.com/q/1680528/3001761</a>"}, {"owner": {"reputation": 6473, "user_id": 907927, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LuqIB.jpg?s=128&g=1", "display_name": "kasper Taeymans", "link": "https://stackoverflow.com/users/907927/kasper-taeymans"}, "edited": false, "score": 0, "creation_date": 1423690791, "post_id": 28464924, "comment_id": 45255702, "body": "yes it is but your indentation is somewhat wrong... it seems that ReadFile is part of the class... but it isn&#39;t."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423690842, "post_id": 28464924, "comment_id": 45255729, "body": "I interpreted it as a separate function. There is no static method decorator."}, {"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1423691187, "post_id": 28464924, "comment_id": 45255915, "body": "@TomKilney not quite.  What we&#39;re talking about here is Class members and Instance members.  There&#39;s a difference.  Class members are available from all instances of that particular class.  This is great for static values that are the same across all instances.  Instance members are dynamic to each instance."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1423691241, "post_id": 28464924, "comment_id": 45255942, "body": "@TomKilney this is consistent, not crazy - everything else you define at the same level (e.g. the methods) belong to the class, not an instance."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423690777, "post_id": 28465007, "comment_id": 45255692, "body": "how do you make something an instance attribute versus shared?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423690815, "post_id": 28465007, "comment_id": 45255712, "body": "@TomKilney <a href=\"https://docs.python.org/2/tutorial/classes.html\" rel=\"nofollow noreferrer\">read the docs</a>?"}, {"owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423691322, "post_id": 28465007, "comment_id": 45255989, "body": "thanks, and I will. I can&#39;t say I&#39;ve come across a case where a class variable would be useful, but presumably such cases exist!"}, {"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "reply_to_user": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423691387, "post_id": 28465007, "comment_id": 45256032, "body": "@Tom They definitely exist."}, {"owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423691913, "post_id": 28465007, "comment_id": 45256300, "body": "do you have an example (I&#39;m curious)"}, {"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "reply_to_user": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "edited": false, "score": 0, "creation_date": 1423692269, "post_id": 28465007, "comment_id": 45256476, "body": "@TomKilney For example, a list of class instances which have been created..."}], "tags": [], "owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "is_accepted": true, "score": 2, "last_activity_date": 1423690740, "creation_date": 1423690740, "answer_id": 28465007, "question_id": 28464924, "link": "https://stackoverflow.com/questions/28464924/python-class-instance-not-being-destroyed-at-end-of-method/28465007#28465007", "title": "Python class instance not being destroyed at end of method", "body": "<p>Your problem is the way you store the data:</p>\n\n<p>Class attributes are stored in the class and shared between all instances of a class.</p>\n\n<p>Instance attributes, instead, count per instance.</p>\n\n<p>Instead of </p>\n\n<pre><code>class Reader:\n    m_headers = []\n    m_seclist = []\n\n\n    def __init__(self, filename):\n</code></pre>\n\n<p>do</p>\n\n<pre><code>class Reader:\n    def __init__(self, filename):\n        self.m_headers = []\n        self.m_seclist = []\n        ...\n</code></pre>\n\n<p>Then they are new and fresh in every instance.</p>\n"}, {"comments": [{"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 0, "creation_date": 1423690995, "post_id": 28465069, "comment_id": 45255813, "body": "Why the <code>_</code>? I don&#39;t consider it necessary here..."}, {"owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "reply_to_user": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 0, "creation_date": 1423691170, "post_id": 28465069, "comment_id": 45255903, "body": "I just translated his convention of private member variables <code>m_varname</code> to Python&#39;s <code>self._varname</code>"}], "tags": [], "owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "is_accepted": false, "score": 1, "last_activity_date": 1423691243, "last_edit_date": 1423691243, "creation_date": 1423690925, "answer_id": 28465069, "question_id": 28464924, "link": "https://stackoverflow.com/questions/28464924/python-class-instance-not-being-destroyed-at-end-of-method/28465069#28465069", "title": "Python class instance not being destroyed at end of method", "body": "<p>You misunderstood class and instance members. What you do with this:</p>\n\n<pre><code>class Reader:\n    m_headers = []\n    m_seclist = []\n</code></pre>\n\n<p>is declare class members. And they survive.</p>\n\n<p>What you want is this, oh and convention in python is to just prefix with <code>_</code> private members. I've also added with statement which is preferred for handling resources that need closing.</p>\n\n<pre><code>class Reader:\n\n    def __init__(self, filename):\n        self._headers = [] # This creates instance members\n        self._seclist = []\n        with open(filename, 'r') as fh: # With statement will auto close fh\n            file_contents = fh.read().splitlines()\n\n        for line in file_contents:\n            dataPointList = []\n            for each section in the file (more code here)\n                thisLine = line.split()\n                dataPointList.append((float(thisLine[1]), float(thisLine[0])))\n            self._seclist.append(dataPointList)\n\n    def getData(self, index):\n        return self._seclist[index][0]\n\ndef ReadFile(filename):\n    my_instance = Reader(filename)\n    output = my_instance.getData(2)\n    return output\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 553490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a19b0e0aa6a0d376c99ba22ba84739b?s=128&d=identicon&r=PG", "display_name": "Tom Kilney", "link": "https://stackoverflow.com/users/553490/tom-kilney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "closed_date": 1423691360, "accepted_answer_id": 28465007, "answer_count": 2, "score": 0, "last_activity_date": 1423691243, "creation_date": 1423690360, "last_edit_date": 1423690874, "question_id": 28464924, "link": "https://stackoverflow.com/questions/28464924/python-class-instance-not-being-destroyed-at-end-of-method", "closed_reason": "Duplicate", "title": "Python class instance not being destroyed at end of method", "body": "<p>I should begin by saying this is being run in IPython, using the Spyder IDE if it makes a difference. I am somewhat of a newbie at Python but fluent in other languages.</p>\n\n<p>I have a class which is instantiated and used in a function, like below. I have simplified the code from a very long reading and processing algorithm. This all works fine the first time I run this file and call ReadFile(). Any subsequents runs crash, basically because m_seclist and m_headers already contain data.</p>\n\n<p>My understanding of classes comes from C++, PHP and VB so I may be off with my assumptions, but as the class is instantiated within a function (ie local scope), should the instance not be completely destroyed at the end of the function? In this case it appears it very definitely isn't, or at least some of the variables are surviving. Am I misunderstanding how Python deals with class instances?</p>\n\n<pre><code>class Reader:\n    m_headers = []\n    m_seclist = []\n\n\n    def __init__(self, filename):\n        fh = open(filename, 'r')\n        file_contents = fh.read().splitlines()\n        fh.close()\n\n        dataPointList = []\n\n        for line in file_contents:\n            for each section in the file (more code here)\n                thisLine = line.split()\n                dataPointList.append((float(thisLine[1]), float(thisLine[0])))\n            m_seclist.append(dataPointList)\n            dataPointList = []\n\n    def getData(self, index):\n        return m_seclist[index][0]\n\n  #end of class\n   def ReadFile(filename):\n       my_instance = Reader(filename)\n       output = my_instance.getData(2)\n       return output\n</code></pre>\n\n<p>If I can clarify something, yell.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3"], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1423777680, "post_id": 28465397, "comment_id": 45298533, "body": "This solution doesnt work when I put in the path as <code>test_folder&#47;test_folder1</code> and so on."}, {"owner": {"reputation": 2062, "user_id": 1772673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89b6a300aac526ffe07c53c049dde773?s=128&d=identicon&r=PG", "display_name": "Josh Kupershmidt", "link": "https://stackoverflow.com/users/1772673/josh-kupershmidt"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1423778764, "post_id": 28465397, "comment_id": 45299045, "body": "Why not? What output do you get when dealing with such nested folders, and what output do you expect?"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1423783938, "post_id": 28465397, "comment_id": 45301108, "body": "The files are named as <code>path&#47;to&#47;file&#47;filename.txt</code> if they are located deep inside multiple folders. So they skipped over when when i user your <code>if</code> statement because we only search for <code>if &#39;&#47;&#39; not in file:</code>"}], "tags": [], "owner": {"reputation": 2062, "user_id": 1772673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89b6a300aac526ffe07c53c049dde773?s=128&d=identicon&r=PG", "display_name": "Josh Kupershmidt", "link": "https://stackoverflow.com/users/1772673/josh-kupershmidt"}, "is_accepted": true, "score": 1, "last_activity_date": 1423692134, "creation_date": 1423692134, "answer_id": 28465397, "question_id": 28464893, "link": "https://stackoverflow.com/questions/28464893/classify-between-files-and-fodler-in-s3-bucket-python/28465397#28465397", "title": "Classify between files and fodler in S3 bucket -Python", "body": "<p>It sounds like you want to suppress the \"Files:\" output for all files which are contained in folders (i.e. those with a '/' character in their filename), and then print out the distinct folder names separately at the end. If so, how about something like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>print \"Files: \"\nfolders = set()\nfor files in bucket.list():\n  if '/' not in files.name:\n    print \"\\t\", files.name\n  else:\n    folders.add(files.name[:files.name.rfind('/')])\n\nprint \"Folders: \"\nfor folder in folders:\n  print \"\\t\", folder\n</code></pre>\n"}], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 28465397, "answer_count": 1, "score": 0, "last_activity_date": 1423788417, "creation_date": 1423690249, "last_edit_date": 1423788417, "question_id": 28464893, "link": "https://stackoverflow.com/questions/28464893/classify-between-files-and-fodler-in-s3-bucket-python", "title": "Classify between files and fodler in S3 bucket -Python", "body": "<p><strong>Note:</strong> I know that amazon buckets do not have the concept of folder, but im using that term for the sake of simplicity</p>\n\n<p>So iam trying to list files in my s3 bucket using <code>boto</code>. Its fairly simple using:</p>\n\n<pre><code>for files in bucket.list():\n            print files.name\n</code></pre>\n\n<p>Which lists an output like this</p>\n\n<pre><code>file1\nfile2\nfile3\ntest_folder/file4\ntest_folder/file5\n</code></pre>\n\n<p>How do i classify between files and folders here? i just want to list the files and then only the folder <code>test_folder</code> once.</p>\n\n<p>Looking for something like this:</p>\n\n<pre><code>File:s\n    file1\n    file2\n    file3\nFolders:\n    test_folder\n</code></pre>\n"}, {"tags": ["python", "postgresql", "arcgis", "arcpy"], "owner": {"reputation": 1315, "user_id": 2346166, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5f0615c2109a741ff6c6cae23903b85a?s=128&d=identicon&r=PG", "display_name": "Lars Anundsk&#229;s", "link": "https://stackoverflow.com/users/2346166/lars-anundsk%c3%a5s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423690215, "creation_date": 1423690215, "question_id": 28464886, "link": "https://stackoverflow.com/questions/28464886/call-postgres-function-from-arcpy-returning-set-of-features", "title": "Call postgres function from ArcPy, returning set of features", "body": "<p>I'm trying to execute a postgresql function through ArcPy;</p>\n\n<pre><code>cfg = config()\nsde_conn = cfg.sdeConnection()\nfeatures = sde_conn.execute(cfg.sqlSearchQuery().format(parameters[0]))\n</code></pre>\n\n<p>On the last line, it crashes with:</p>\n\n<pre><code>AttributeError: AttributeError(u'ArcSDESQLExecute: SreamBindOutputColumn ArcSDE Error -65 \\ud490',)\n</code></pre>\n\n<p><code>cfg.sqlSearchQuery().format(parameters[0])</code> boils down to the simple query:</p>\n\n<blockquote>\n  <p>SELECT * FROM test_func('some string')</p>\n</blockquote>\n\n<p>The function returns a subset of rows (features) in a table (feature class)\nI have tested the function from pgAdmin query and it works.</p>\n\n<p>Any ideas are appreciated!</p>\n"}, {"tags": ["python", "json", "string", "python-2.7"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1423690132, "post_id": 28464851, "comment_id": 45255370, "body": "<code>[&#39;localhost&#39;, &#39;127.0.0.0&#47;8&#39;]</code> is not properly formatted JSON. JSON requires that <b>double</b> quotes are used. See <a href=\"http://tools.ietf.org/html/rfc7158#section-7\" rel=\"nofollow noreferrer\">chapter 7 of the RFC</a>, <code>quotation-mark</code> is defined as <code>&quot;</code>."}, {"owner": {"reputation": 105, "user_id": 1016861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304bb753046841b2024ca2dbd6793d25?s=128&d=identicon&r=PG", "display_name": "McManip", "link": "https://stackoverflow.com/users/1016861/mcmanip"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423690684, "post_id": 28464851, "comment_id": 45255644, "body": "Ah, thanks. The <i>double quotes</i> requirement did not stand out to me when reading <a href=\"http://www.json.org\" rel=\"nofollow noreferrer\">json.org</a>."}], "answers": [{"tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1423690263, "creation_date": 1423690263, "answer_id": 28464899, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used/28464899#28464899", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>Because <a href=\"https://tools.ietf.org/html/rfc7159\" rel=\"nofollow\">RFC 7159</a> says so.  Strings in JSON documents are enclosed in double quotes.</p>\n"}, {"tags": [], "owner": {"reputation": 8334, "user_id": 1432801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c925b2538b1f594a81f6ef2922c15e1d?s=128&d=identicon&r=PG", "display_name": "Jon Surrell", "link": "https://stackoverflow.com/users/1432801/jon-surrell"}, "is_accepted": false, "score": 0, "last_activity_date": 1423690329, "last_edit_date": 1592644375, "creation_date": 1423690329, "answer_id": 28464918, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used/28464918#28464918", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>JSON is <em>not</em> just JavaScript.</p>\n<p>JSON strings are double quoted according to the spec <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf\" rel=\"nofollow noreferrer\">pdf</a> or <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">json.org</a>.</p>\n<p>JSON object keys are strings.</p>\n<p>You <strong>must</strong> use double quotes for your strings and keys (to follow the spec). Many JSON parsers will be more permissive.</p>\n<p>From <code>object</code> definition:</p>\n<blockquote>\n<p>An object structure is represented as a pair of curly bracket tokens surrounding zero or more name/value pairs.</p>\n<p>A name is a string. A single colon token follows each name, separating the name from the value. A single comma token separates a value from a following name.</p>\n</blockquote>\n<p>From <code>string</code> definition:</p>\n<blockquote>\n<p>A string is a sequence of Unicode code points wrapped with quotation marks (U+0022).</p>\n</blockquote>\n<p>That <code>U+0022</code> is the (double) quotation mark: <code>&quot;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1503350359, "last_edit_date": 1503350359, "creation_date": 1423690398, "answer_id": 28464933, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used/28464933#28464933", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>From the <a href=\"http://tools.ietf.org/html/rfc7158#section-7\" rel=\"nofollow noreferrer\">JSON RFC 7159</a>:</p>\n\n<blockquote>\n<pre><code>  string = quotation-mark *char quotation-mark\n</code></pre>\n  \n  <p>[...]</p>\n\n<pre><code>  quotation-mark = %x22      ; \"\n</code></pre>\n</blockquote>\n\n<p>JSON strings <strong><em>must</em></strong> use <code>\"</code> quotes.</p>\n\n<p>You can parse that list as a Python literal instead, using <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><code>ast.literal_eval()</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import ast\n&gt;&gt;&gt; ast.literal_eval(\"['localhost', '127.0.0.0/8']\")\n['localhost', '127.0.0.0/8']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": false, "score": 0, "last_activity_date": 1508658247, "creation_date": 1508658247, "answer_id": 46871681, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used/46871681#46871681", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>As said before, that is invalid JSON. To parse, there are two other possibilities: use either <code>demjson</code> or <code>yaml</code></p>\n\n<pre><code>&gt;&gt;&gt; demjson.decode(\" ['localhost', '127.0.0.0/8']\")\n[u'localhost', u'127.0.0.0/8']\n&gt;&gt;&gt; yaml.load(\" ['localhost', '127.0.0.0/8']\")\n['localhost', '127.0.0.0/8']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9379471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da3884a508caf4d889b6a175eea0355?s=128&d=identicon&r=PG&f=1", "display_name": "Nishi Sahlot", "link": "https://stackoverflow.com/users/9379471/nishi-sahlot"}, "is_accepted": false, "score": 0, "last_activity_date": 1519026986, "creation_date": 1519026986, "answer_id": 48861651, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used/48861651#48861651", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>Yes it cares for valid json. But you can tweak Simple json code to parse this Unquoted and single quoted json strings. </p>\n\n<p>I have given my answer on this post</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14347047/single-versus-double-quotes-in-json-loads-in-python/48861504#48861504\">Single versus double quotes in json loads in Python</a></p>\n"}], "owner": {"reputation": 105, "user_id": 1016861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/304bb753046841b2024ca2dbd6793d25?s=128&d=identicon&r=PG", "display_name": "McManip", "link": "https://stackoverflow.com/users/1016861/mcmanip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4367, "favorite_count": 0, "accepted_answer_id": 28464933, "answer_count": 5, "score": 1, "last_activity_date": 1519026986, "creation_date": 1423690070, "last_edit_date": 1508658321, "question_id": 28464851, "link": "https://stackoverflow.com/questions/28464851/why-does-json-loads-care-which-type-of-quotes-are-used", "title": "Why does json.loads care which type of quotes are used?", "body": "<p>In a python script I am parsing the return of<br>\n<code>gsettings get org.gnome.system.proxy ignore-hosts</code><br>\nwhich looks like it should be properly formatted <a href=\"http://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON</a><br>\n<code>['localhost', '127.0.0.0/8']</code><br>\nhowever, when passing this output to <a href=\"https://docs.python.org/2/library/json.html#json.loads\" rel=\"nofollow noreferrer\">json.loads</a> it throws<br>\n<code>ValueError: No JSON object could be decoded</code></p>\n\n<p>I make the call to gsettings via:  </p>\n\n<pre><code>import subprocess\nproc = subprocess.Popen([\"gsettings\", \"get\", \"org.gnome.system.proxy\", \"ignore-hosts\"], stdout=subprocess.PIPE, stderr=subprocess.PIPE)  \nstdout,stderr = proc.communicate()\n</code></pre>\n\n<p>which assigns <code>\"['localhost', '127.0.0.0/8']\\n\"</code> to <code>stdout</code>.\nThen I strip the newline and pass to json.loads:  </p>\n\n<pre><code>ignore = json.loads(stdout.strip(\"\\n\"))\n</code></pre>\n\n<p>But, this throws a <code>ValueError</code>.</p>\n\n<p>I've tracked the issue down to the string being defined by single-quotes or double-quotes as shown in the following snippet:</p>\n\n<pre><code># tested in python 2.7.3\n\nimport json\n\nignore_hosts_works = '[\"localhost\", \"127.0.0.0/8\"]'\nignore_hosts_fails = \"['localhost', '127.0.0.0/8']\"\n\njson.loads(ignore_hosts_works) # produces list of unicode strings\njson.loads(ignore_hosts_fails) # ValueError: No JSON object could be decoded\n\nimport string\ntable = string.maketrans(\"\\\"'\", \"'\\\"\")\n\njson.loads(string.translate(ignore_hosts_fails, table)) # produces list of unicode strings\n</code></pre>\n\n<p>Why is <code>ignore_hosts_fails</code> not successfully parsed by <code>json.loads</code> without swapping the quote types?</p>\n\n<p>In case it might matter, I'm running Ubuntu 12.04 with Python 2.7.3.</p>\n"}, {"tags": ["python", "python-requests"], "owner": {"reputation": 1067, "user_id": 1279369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa8044a5ce7180caf43a56953d07a227?s=128&d=identicon&r=PG", "display_name": "nanny", "link": "https://stackoverflow.com/users/1279369/nanny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554717009, "creation_date": 1423689793, "question_id": 28464777, "link": "https://stackoverflow.com/questions/28464777/how-to-do-a-complex-login-with-python-requests", "title": "How to do a complex login with Python Requests?", "body": "<p><a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">Requests documentation</a></p>\n\n<p>I'm trying to login to Paychex's Time and Labor website with Python to keep track of my hours automatically.</p>\n\n<p>What I did so far was login to Paychex using Chrome, looked at the various requests in the \"Network\" tab of the Developer Tools, and translate the requests into Python Requests format:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests\nimport json\nimport sys\n\nUSER = 'username'\nPASSWORD = 'password'\n\nIMAGE_URL = 'https://landing.paychex.com/ssologin/Login.aspx/GetSecurityImage'\nLOGIN_URL = 'https://landing.paychex.com/ssologin/Login.aspx/ProcessLogin'\nLOGINFCC_URL = 'https://landing.paychex.com/ssologin/login.fcc'\n\ndef main():\n    session = requests.session()\n\n    # Get security image\n    data = { 'enteredUsername': USER }\n    session.headers.update({\n        'Origin': 'https://landing.paychex.com',\n        'Accept-Encoding': 'gzip, deflate',\n        'Accept-Language': 'en-US,en;q=0.8',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36',\n        'Content-Type': 'application/json; charset=UTF-8',\n        'Accept': 'application/json, text/javascript, */*',\n        'Referer': 'https://landing.paychex.com/ssologin/login.aspx',\n        'X-Requested-With': 'XMLHttpRequest',\n        'Connection': 'keep-alive',\n    })\n    r = session.post(IMAGE_URL, data=json.dumps(data))\n\n    data = { 'eu': USER, 'ep': PASSWORD }\n    session.headers.update({\n        'Host': 'landing.paychex.com',\n        'Connection': 'keep-alive',\n        'Content-Length': '34',\n        'Accept': 'application/json, text/javascript, */*',\n        'Origin':' https://landing.paychex.com',\n        'X-Requested-With': 'XMLHttpRequest',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36',\n        'Content-Type': 'application/json; charset=UTF-8',\n        'Referer':' https://landing.paychex.com/ssologin/login.aspx',\n        'Accept-Encoding': 'gzip, deflate',\n        'Accept-Language': 'en-US,en;q=0.8',\n    })\n    r = session.post(LOGIN_URL, data=json.dumps(data))\n\n    session.headers.update({\n        'Host': 'landing.paychex.com',\n        'Connection': 'keep-alive',\n        'Content-Length': '653',\n        'Cache-Control': 'max-age=0',\n        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\n        'Origin': 'https://landing.paychex.com',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36',\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Referer': 'https://landing.paychex.com/ssologin/login.aspx',\n        'Accept-Encoding': 'gzip, deflate',\n        'Accept-Language': 'en-US,en;q=0.8',\n    })\n    data = {\n        '__LASTFOCUS': '',\n        '__EVENTTARGET': '',\n        '__EVENTARGUMENT': '',\n        '__VIEWSTATE': '',\n        '__EVENTVALIDATION': '',\n        'SMENC': 'ISO-8859-1',\n        'SMLOCALE': 'US-EN',\n        'target': '/LandingRedirect.aspx',\n        'USER': USER,\n        'PASSWORD': PASSWORD,\n    }\n    r = session.post(LOGINFCC_URL, data=data) # Returns \"Welcome USER\" page. Successful login.\n\n    session.headers.update({\n        'Host': 'timeandlabor.paychex.com',\n        'Connection': 'keep-alive',\n        'Cache-Control': 'max-age=0',\n        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36',\n        'Accept-Encoding': 'gzip, deflate, sdch',\n        'Accept-Language': 'en-US,en;q=0.8',\n    })\n\n    # Should return time and labor page, but instead it hangs here until connection is reset by peer.\n    r = session.get('https://timeandlabor.paychex.com/secure/EmployeeHome.aspx')\n\n    print(r.content.decode('utf-8'))\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I that understand many of the headers are redundant. The third request returns the \"Welcome, Name!\" page, so it's definitely logging in successfully. The problem arises when I try to request the time and labor page with a GET (near the bottom). It just hangs there until the connection is reset. What am I doing wrong? </p>\n\n<p>Stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 319, in _make_request\n    httplib_response = conn.getresponse(buffering=True)\nTypeError: getresponse() got an unexpected keyword argument 'buffering'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 493, in urlopen\n    body=body, headers=headers)\n  File \"/usr/local/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 321, in _make_request\n    httplib_response = conn.getresponse()\n  File \"/usr/local/lib/python3.4/http/client.py\", line 1172, in getresponse\n    response.begin()\n  File \"/usr/local/lib/python3.4/http/client.py\", line 351, in begin\n    version, status, reason = self._read_status()\n  File \"/usr/local/lib/python3.4/http/client.py\", line 313, in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n  File \"/usr/local/lib/python3.4/socket.py\", line 371, in readinto\n    return self._sock.recv_into(b)\n  File \"/usr/local/lib/python3.4/ssl.py\", line 746, in recv_into\n    return self.read(nbytes, buffer)\n  File \"/usr/local/lib/python3.4/ssl.py\", line 618, in read\n    v = self._sslobj.read(len, buffer)\nConnectionResetError: [Errno 104] Connection reset by peer\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/site-packages/requests/adapters.py\", line 327, in send\n    timeout=timeout\n  File \"/usr/local/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 543, in urlopen\n    raise MaxRetryError(self, url, e)\nrequests.packages.urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='timeandlabor.paychex.com', port=443): Max retries exceeded with url: /secure/EmployeeHome.aspx (Caused by &lt;class 'ConnectionResetError'&gt;: [Errno 104] Connection reset by peer)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"paychex.py\", line 89, in &lt;module&gt;\n    main()\n  File \"paychex.py\", line 84, in main\n    r = session.get('https://timeandlabor.paychex.com/secure/EmployeeHome.aspx')\n  File \"/usr/local/lib/python3.4/site-packages/requests/sessions.py\", line 468, in get\n    return self.request('GET', url, **kwargs)\n  File \"/usr/local/lib/python3.4/site-packages/requests/sessions.py\", line 456, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.4/site-packages/requests/sessions.py\", line 559, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.4/site-packages/requests/adapters.py\", line 375, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: HTTPSConnectionPool(host='timeandlabor.paychex.com', port=443): Max retries exceeded with url:\n/secure/EmployeeHome.aspx (Caused by &lt;class 'ConnectionResetError'&gt;: [Errno 104] Connection reset by peer)\n</code></pre>\n\n<p>Using Python 3.4.2.</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "edited": false, "score": 0, "creation_date": 1423691241, "post_id": 28464699, "comment_id": 45255943, "body": "Silly question, but why don&#39;t you let init/upstart/systemd (shudder) take care of the nitty gritty, and let the OS provided tools handle this for you?"}, {"owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "reply_to_user": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "edited": false, "score": 0, "creation_date": 1423691377, "post_id": 28464699, "comment_id": 45256024, "body": "This is a part of a larger script I&#39;m putting together to do something like the following, for a third party package, that has daemons running under several developer environments:  * Start several daemon processes, if they are not already started * Do some other stuff, that communicates with these processes * During this &quot;some other stuff&quot; - some of the daemons will have to be restarted, multiple times, for changes to take effect."}, {"owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "reply_to_user": {"reputation": 10828, "user_id": 1394729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Ri8.jpg?s=128&g=1", "display_name": "tink", "link": "https://stackoverflow.com/users/1394729/tink"}, "edited": false, "score": 0, "creation_date": 1423691786, "post_id": 28464699, "comment_id": 45256237, "body": "I.e. I have a few developers using this tool, and it requires several daemons to be ran under individual dev environments."}], "answers": [{"comments": [{"owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "edited": false, "score": 0, "creation_date": 1423690061, "post_id": 28464813, "comment_id": 45255322, "body": "Thanks, trying this now. The daemon is a 3P tool, so can&#39;t modify the protocol."}, {"owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "edited": false, "score": 0, "creation_date": 1423690492, "post_id": 28464813, "comment_id": 45255545, "body": "I don&#39;t think I can use deamonize, as it is designed to create a python daemon, not to start another executable as daemon. The pid it stores in the .pid file is that of the python process that is forked."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "reply_to_user": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "edited": false, "score": 0, "creation_date": 1423729589, "post_id": 28464813, "comment_id": 45269172, "body": "@PavelChernikov I updated the answer: If your daemon is not written in Python you can use subprocess or os.execv to start the executable (together with daemonize)"}, {"owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "edited": false, "score": 0, "creation_date": 1423756198, "post_id": 28464813, "comment_id": 45285748, "body": "using deamonize will result in addition python processes running together with the actual daemon processes they started as well as the problem where deamonize pid will be that of the python process that forked, not the actual daemon. I don&#39;t think I can use deamonize here - the problem I had was solved by using os.waitpid()."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "reply_to_user": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "edited": false, "score": 0, "creation_date": 1423760717, "post_id": 28464813, "comment_id": 45288916, "body": "@PavelChernikov with os.execv() the second Python process gets <b>replaced</b> with executable you start."}], "tags": [], "owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "is_accepted": false, "score": 1, "last_activity_date": 1423729536, "last_edit_date": 1423729536, "creation_date": 1423689920, "answer_id": 28464813, "question_id": 28464699, "link": "https://stackoverflow.com/questions/28464699/starting-a-daemon-process-from-within-python-script-and-killing-it-via-os-kill-l/28464813#28464813", "title": "Starting a daemon process from within Python script and killing it via os.kill later", "body": "<p>Don't reinvent. Reuse: <a href=\"https://pypi.python.org/pypi/daemonize\" rel=\"nofollow\">https://pypi.python.org/pypi/daemonize</a></p>\n\n<p>BTW, can you modify the protocol you speak with the daemon? If yes, you could add a \"terminate yourself\" command to the protocol. This is cleaner than \"os.kill()\".</p>\n\n<p>If your daemon is not written in Python you can use subprocess or <a href=\"https://docs.python.org/2/library/os.html#os.execl\" rel=\"nofollow\">os.execv</a> to start the executable (together with daemonize).</p>\n"}, {"tags": [], "owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1423692768, "creation_date": 1423692768, "answer_id": 28465556, "question_id": 28464699, "link": "https://stackoverflow.com/questions/28464699/starting-a-daemon-process-from-within-python-script-and-killing-it-via-os-kill-l/28465556#28465556", "title": "Starting a daemon process from within Python script and killing it via os.kill later", "body": "<p>Looks like what I have to do is call os.waitpid() on the process after issuing the kill. The process is no longer defunct and is gone.</p>\n"}], "owner": {"reputation": 1879, "user_id": 4289417, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/1568217912/picture?type=large", "display_name": "Pavel Chernikov", "link": "https://stackoverflow.com/users/4289417/pavel-chernikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1677, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1423729536, "creation_date": 1423689523, "last_edit_date": 1423689945, "question_id": 28464699, "link": "https://stackoverflow.com/questions/28464699/starting-a-daemon-process-from-within-python-script-and-killing-it-via-os-kill-l", "title": "Starting a daemon process from within Python script and killing it via os.kill later", "body": "<p>In Linux environment, I'm trying to use python to start a daemon process if it's not already started, get the PID, and then at some point later kill that process using os.kill(pid, signel.SIGTERM). This results in the daemon process becoming defunct, if it was started from my script.</p>\n\n<p>Here's the example code:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport os, subprocess, time, signal, getpass\n\np = subprocess.Popen(['sleep', '30'])\n\nos.kill(int(p.pid), signal.SIGTERM)\n\nos.system('ps -fu ' + getpass.getuser())\n</code></pre>\n\n<p>I get the following as output:</p>\n\n<pre><code>UID        PID  PPID  C STIME TTY          TIME CMD\npchernik  7179 10629  0 16:07 pts/0    00:00:00 python3 ./boom\npchernik  7180  7179  0 16:07 ?        00:00:00 [sleep] &lt;defunct&gt;\n</code></pre>\n\n<p>My end goal is:</p>\n\n<ul>\n<li>Using a .pid file check whether daemon is running</li>\n<li>Start daemon if not running, get PID and save it to .pid file</li>\n<li>Do some other stuff (socket communication with daemon)</li>\n<li>Stop daemon and start it again using os.kill(pid, signal.SIGTERM)</li>\n</ul>\n\n<p>Can't use p.kill() b/c I might not have \"p\" to work with, if process is already started outside of this python script.</p>\n\n<p>Can't use wait() as I have more than 1 process started this way.</p>\n\n<p>I tried adding preexec_fn=os.setsid to Popen - doesn't seem to help</p>\n\n<p>How can I start a daemon process from within Python script and completely detach it from my Python process?</p>\n\n<p>Thanks,\n-Pavel</p>\n"}, {"tags": ["python", "strptime"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1423690005, "post_id": 28464684, "comment_id": 45255294, "body": "check out this link <a href=\"http://opensourcehacker.com/2008/06/30/relativity-of-time-shortcomings-in-python-datetime-and-workaround/\" rel=\"nofollow noreferrer\">opensourcehacker.com/2008/06/30/&hellip;</a>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1423690055, "post_id": 28464684, "comment_id": 45255318, "body": "Look at <a href=\"http://pytz.sourceforge.net\" rel=\"nofollow noreferrer\">pytz</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1634, "user_id": 11796003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yysPJ.jpg?s=128&g=1", "display_name": "Adam Strauss", "link": "https://stackoverflow.com/users/11796003/adam-strauss"}, "is_accepted": false, "score": 0, "last_activity_date": 1574432001, "creation_date": 1574432001, "answer_id": 58996013, "question_id": 28464684, "link": "https://stackoverflow.com/questions/28464684/what-is-the-time-format-string-for-eet-eest-in-python/58996013#58996013", "title": "What is the time format string for EET/EEST in python?", "body": "<p>It seems like this formatting works with UTC, but not other time zones (have tried EST, CST, IST)</p>\n\n<p>So just write this like.</p>\n\n<pre><code>&gt;&gt;timestamp = datetime.strptime('10/23/2019 6:02:05 PM EEST', '%m/%d/%Y %I:%M:%S %p EEST')\n\n&gt;&gt;2019-10-23 06:02:05\n</code></pre>\n\n<p>This ignores the time zone and produces a time zone naive datetime, which will not error out (unless a time zone other than EST is input), but will also not pass the timestamp correctly because it is not passing the time zone</p>\n"}], "owner": {"reputation": 21, "user_id": 4556673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e2031a16741e884a01ff56357bd1b1?s=128&d=identicon&r=PG&f=1", "display_name": "shirin ak", "link": "https://stackoverflow.com/users/4556673/shirin-ak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574432001, "creation_date": 1423689473, "last_edit_date": 1423689570, "question_id": 28464684, "link": "https://stackoverflow.com/questions/28464684/what-is-the-time-format-string-for-eet-eest-in-python", "title": "What is the time format string for EET/EEST in python?", "body": "<p>I am a python beginner and I have the timestap as following </p>\n\n<pre><code>x:\"Mon 20 Feb 2012 09:44:22 AM EET\"\nx:\"Wed 27 Aug 2014 09:36:48 AM EEST\"\n</code></pre>\n\n<p>I am wondering what is the format string for EET/EEST in pyhton? I have already come up with : <code>datetime.strptime(x, '%a %d %b %Y %I:%M:%S %p ??')</code>.\nWhat should I put instead of ??</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 4, "creation_date": 1423689606, "post_id": 28464669, "comment_id": 45255078, "body": "Please read the python tutorial before trying to code. It will save you time. Trust me."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 3630133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d16cae32dc7b70fbb8af41e0c32839fd?s=128&d=identicon&r=PG&f=1", "display_name": "Twin802", "link": "https://stackoverflow.com/users/3630133/twin802"}, "edited": false, "score": 0, "creation_date": 1423689675, "post_id": 28464693, "comment_id": 45255111, "body": "Thank you this worked. But I can&#39;t choose this as my answer til 10 minutes from now."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 59, "user_id": 3630133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d16cae32dc7b70fbb8af41e0c32839fd?s=128&d=identicon&r=PG&f=1", "display_name": "Twin802", "link": "https://stackoverflow.com/users/3630133/twin802"}, "edited": false, "score": 0, "creation_date": 1423689696, "post_id": 28464693, "comment_id": 45255124, "body": "That&#39;s fine. Do what you need to do."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 59, "user_id": 3630133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d16cae32dc7b70fbb8af41e0c32839fd?s=128&d=identicon&r=PG&f=1", "display_name": "Twin802", "link": "https://stackoverflow.com/users/3630133/twin802"}, "edited": false, "score": 0, "creation_date": 1423690912, "post_id": 28464693, "comment_id": 45255774, "body": "Could you mark as answer Twin802?"}, {"owner": {"reputation": 59, "user_id": 3630133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d16cae32dc7b70fbb8af41e0c32839fd?s=128&d=identicon&r=PG&f=1", "display_name": "Twin802", "link": "https://stackoverflow.com/users/3630133/twin802"}, "edited": false, "score": 0, "creation_date": 1423696097, "post_id": 28464693, "comment_id": 45258271, "body": "Yeah, Sorry I had to go somewhere. Here you go."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 5, "last_activity_date": 1423689506, "creation_date": 1423689506, "answer_id": 28464693, "question_id": 28464669, "link": "https://stackoverflow.com/questions/28464669/access-value-from-string-in-list-in-python/28464693#28464693", "title": "Access value from string in list in Python?", "body": "<p>You're thinking of a dictionary which maps a key to a value. Try this instead:</p>\n\n<pre><code>AI = {\"Hello\" : \"Hi\", \"Goodbye\" : \"Bye\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 2881115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MNbr7.jpg?s=128&g=1", "display_name": "castaway2000", "link": "https://stackoverflow.com/users/2881115/castaway2000"}, "is_accepted": false, "score": 1, "last_activity_date": 1423690541, "last_edit_date": 1423690541, "creation_date": 1423690092, "answer_id": 28464857, "question_id": 28464669, "link": "https://stackoverflow.com/questions/28464669/access-value-from-string-in-list-in-python/28464857#28464857", "title": "Access value from string in list in Python?", "body": "<p>you need to be using a dict</p>\n\n<p>it is represented as such </p>\n\n<pre><code>dict = {key : value, key : value}\n</code></pre>\n\n<p>so for you you would need to do something like this. </p>\n\n<pre><code>In [1]: AI = { \"Hello\" : \"Hi\", \"Goodbye\" : \"Bye\" }\n\nIn [2]: print(AI[\"Hello\"])\n\nOut[3]: 'Hi'\n</code></pre>\n\n<p>keep in mind you can also add <code>.key</code> and <code>.value</code> on to get the key of that index or the value of that index.</p>\n\n<p>there is more info about dictionaries <a href=\"https://docs.python.org/2/library/stdtypes.html#dictionary-view-objects\" rel=\"nofollow\">here</a> </p>\n"}], "owner": {"reputation": 59, "user_id": 3630133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d16cae32dc7b70fbb8af41e0c32839fd?s=128&d=identicon&r=PG&f=1", "display_name": "Twin802", "link": "https://stackoverflow.com/users/3630133/twin802"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1423721879, "accepted_answer_id": 28464693, "answer_count": 2, "score": -3, "last_activity_date": 1423690541, "creation_date": 1423689428, "question_id": 28464669, "link": "https://stackoverflow.com/questions/28464669/access-value-from-string-in-list-in-python", "closed_reason": "Needs more focus", "title": "Access value from string in list in Python?", "body": "<p>So, I am attempting to create a list of responses for each command for a game I am creating. In previous languages that I have used I would be able to just do the following:</p>\n\n<pre><code>myList[] = [\"1\" : \"2\", \"3\" : \"4\"]\n</code></pre>\n\n<p>This would allow me to, for example, access the string \"2\" if I just typed in:</p>\n\n<pre><code>myList[\"1\"]\n</code></pre>\n\n<p>but this does not seem to work in python. Also, as a side note, I would like to know what it's called when you create a list like \"myList\". (Layered Lists?)</p>\n\n<p>Thanks in advance,\nTwin802</p>\n\n<p>EDIT: My Current code, the one that doesn't work, is:</p>\n\n<pre><code>AI = [\n\"Hello\" : \"Hi\",\n\"Goodbye\" : \"Bye\"]\n</code></pre>\n"}, {"tags": ["python", "subprocess", "google-bigquery"], "answers": [{"tags": [], "owner": {"reputation": 15705, "user_id": 18601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3c5cb8ebf97404f98f5e078227d619d?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/18601/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1424255987, "last_edit_date": 1424255987, "creation_date": 1423729719, "answer_id": 28472633, "question_id": 28464658, "link": "https://stackoverflow.com/questions/28464658/bigquery-command-line-tool-on-windows/28472633#28472633", "title": "Bigquery command line tool on Windows", "body": "<p>The error messages says, that it cannot find the executable you specified. This is most likely caused by the use of backslashes (<code>\\</code>). Backslashes escape characters in a Python string. You can either replace <code>\\</code> with <code>\\\\</code> or with <code>/</code>. Furthermore you should add the file extension <code>.cmd</code>. Try this:</p>\n\n<pre><code>p = subprocess.Popen([\"C:/Program Files/Google/Cloud SDK/google-cloud-sdk/bin/bq.cmd\"])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 2, "last_activity_date": 1424493580, "last_edit_date": 1495542498, "creation_date": 1423759809, "answer_id": 28483146, "question_id": 28464658, "link": "https://stackoverflow.com/questions/28464658/bigquery-command-line-tool-on-windows/28483146#28483146", "title": "Bigquery command line tool on Windows", "body": "<p>You need to provide the full name <em>including file extensions</em> e.g.,</p>\n\n<pre><code>from subprocess import Popen\n\np = Popen(r\"C:\\Program Files\\Google\\Cloud SDK\\google-cloud-sdk\\bin\\bq.exe\")\n</code></pre>\n\n<p>Notice: <code>.exe</code> at the end.</p>\n\n<p><code>r''</code> -- a raw string literal is used to avoid escaping backslashes in the Windows path.</p>\n\n<p>Note: if <code>r\"C:\\Program Files\\Google\\Cloud SDK\\google-cloud-sdk\\bin</code> is in <code>%PATH%</code> then you could use <code>p = Popen(\"bq\")</code>. See <a href=\"https://stackoverflow.com/q/24789749/4279\">Popen with conflicting executable/path</a></p>\n\n<p>Note: if the actual <code>bq</code> filename ends with <code>.cmd</code> <a href=\"https://stackoverflow.com/a/28494388/4279\">as @Antonio suggests</a> then (<a href=\"https://stackoverflow.com/q/24789749/4279\">as said in the link</a>) <code>CreateProcess()</code> Windows function that is used by <code>Popen()</code> won't find it unless you specify the file extension explicitly. If you use the shell (<code>cmd.exe</code>); it uses different rules (e.g., enumerates <code>%PATHEXT%</code> <a href=\"https://stackoverflow.com/q/24789749/4279\">as said in the link</a>) and therefore it might find <code>bq.cmd</code> even if you give only <code>bq</code> (assuming <code>.cmd</code> is in <code>%PATHEXT%</code>).</p>\n\n<blockquote>\n  <p>After trying with several solutions provided below I found that when I use \"shell=True\" most of the commands work on windows shell!</p>\n</blockquote>\n\n<p><code>dir</code> is an internal shell command. Unless there is some other <code>dir</code> program; it won't work without <code>shell=True</code> that starts <code>cmd.exe</code> (<code>%COMSPEC%</code>) on Windows. The reason some commands work with <code>shell=True</code> and appear to fail without it is due to the difference in rules that are used to find the executable compared to <code>shell=False</code> case (the default). These rules are enumerated <a href=\"https://stackoverflow.com/q/24789749/4279\">in the link (follow it and read it, I'll wait.  It is 4th time, the link is mentioned in the answer)</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424312117, "post_id": 28494388, "comment_id": 45501544, "body": "<code>Popen()</code> uses Windows API (<code>CreateProcess()</code>) to run the child process. It is <code>cmd.exe</code> that has different rules, not Python interpreter."}], "tags": [], "owner": {"reputation": 1639, "user_id": 4161438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EupTX.jpg?s=128&g=1", "display_name": "Antxon", "link": "https://stackoverflow.com/users/4161438/antxon"}, "is_accepted": false, "score": 2, "last_activity_date": 1423811833, "creation_date": 1423811833, "answer_id": 28494388, "question_id": 28464658, "link": "https://stackoverflow.com/questions/28464658/bigquery-command-line-tool-on-windows/28494388#28494388", "title": "Bigquery command line tool on Windows", "body": "<p>Use one of these:</p>\n\n<pre><code>from subprocess import Popen\np = Popen([\"C:/Program Files/Google/Cloud SDK/google-cloud-sdk/bin/bq.cmd\"])\np = Popen([r\"C:\\Program Files\\Google\\Cloud SDK\\google-cloud-sdk\\bin\\bq.cmd\"])\n</code></pre>\n\n<p>bq executable in Google Cloud SDK for windows is called bq.cmd. When calling it from command line, cmd will look the .cmd extension automatically, while python interpreter does not.</p>\n"}], "owner": {"reputation": 384, "user_id": 3294904, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f39b88d86c9cf0e9cdaa309d475c9cff?s=128&d=identicon&r=PG&f=1", "display_name": "user3294904", "link": "https://stackoverflow.com/users/3294904/user3294904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1424493580, "creation_date": 1423689404, "last_edit_date": 1424470684, "question_id": 28464658, "link": "https://stackoverflow.com/questions/28464658/bigquery-command-line-tool-on-windows", "title": "Bigquery command line tool on Windows", "body": "<p>This may be simple but for quite some time I am getting this error!</p>\n\n<p>On windows and python 2.7</p>\n\n<blockquote>\n  <p>import subprocess</p>\n  \n  <p>p = subprocess.Popen([\"C:\\Program Files\\Google\\Cloud\n  SDK\\google-cloud-sdk\\bin\\bq\"])</p>\n</blockquote>\n\n<p>Traceback (most recent call last):\n  File \"\", line 1, in \n  File \"C:\\Python27\\lib\\subprocess.py\", line 710, in <strong>init</strong>\n    errread, errwrite)\n  File \"C:\\Python27\\lib\\subprocess.py\", line 958, in _execute_child\n    startupinfo)\nWindowsError: [Error 2] The system cannot find the file specified</p>\n\n<p>When I run normally from command prompt with bq it runs perfectly. \nI am missing something with subprocess and bq.</p>\n\n<p>Thanks</p>\n\n<p>EDIT:\nAfter trying with several solutions provided below I found that when I use \"shell=True\" most of the commands work on windows shell!</p>\n\n<blockquote>\n  <p>e.g:  p = subprocess.Popen('dir', shell=True)</p>\n</blockquote>\n"}, {"tags": ["python", "odoo", "pycrypto"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3854643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7df38bdb8c6c97bb19b4f5008291703?s=128&d=identicon&r=PG&f=1", "display_name": "user3854643", "link": "https://stackoverflow.com/users/3854643/user3854643"}, "edited": false, "score": 0, "creation_date": 1423830362, "post_id": 28471967, "comment_id": 45318367, "body": "I tried this and it generate this error :  Traceback (most recent call last):   File &quot;/usr/local/bin/easy_install&quot;, line 5, in &lt;module&gt;     from pkg_resources import load_entry_point   File &quot;/usr/lib/python2.7/dist-packages/pkg_resources.py&quot;, line 2711, in &lt;module&gt;     parse_requirements(<b>requires</b>), Environment()   File &quot;/usr/lib/python2.7/dist-packages/pkg_resources.py&quot;, line 584, in resolve     raise DistributionNotFound(req) pkg_resources.DistributionNotFound: setuptools&gt;=0.7"}], "tags": [], "owner": {"reputation": 9433, "user_id": 2926754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DuemX.jpg?s=128&g=1", "display_name": "Bhavesh Odedra", "link": "https://stackoverflow.com/users/2926754/bhavesh-odedra"}, "is_accepted": false, "score": 1, "last_activity_date": 1423727144, "creation_date": 1423727144, "answer_id": 28471967, "question_id": 28464648, "link": "https://stackoverflow.com/questions/28464648/an-error-when-executing-pycrypto/28471967#28471967", "title": "An error when executing pycrypto", "body": "<p>Might be issue with the <code>pycrypto</code> package installation.  </p>\n\n<p>try with</p>\n\n<pre><code>sudo easy_install pycrypto\n</code></pre>\n\n<p>and than reboot your system. </p>\n\n<p>You may also checkout <a href=\"https://www.dlitz.net/software/pycrypto/api/2.6/\" rel=\"nofollow\">api of pycrypto</a></p>\n\n<p>If you use Mac OS than see more discussion <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=1627\" rel=\"nofollow\">here</a> </p>\n"}, {"tags": [], "owner": {"reputation": 310, "user_id": 3778815, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005390745185/picture?type=large", "display_name": "Harry", "link": "https://stackoverflow.com/users/3778815/harry"}, "is_accepted": false, "score": 0, "last_activity_date": 1476669804, "creation_date": 1476669804, "answer_id": 40077520, "question_id": 28464648, "link": "https://stackoverflow.com/questions/28464648/an-error-when-executing-pycrypto/40077520#40077520", "title": "An error when executing pycrypto", "body": "<p>Its an old question but for people who are still looking for answer and stumbling upon this page. You can download the pyCrypto from <a href=\"https://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/\" rel=\"nofollow\">pycrypto dist</a>, but I recommend \"pip install pyCrypto\" as its simple and better.</p>\n"}], "owner": {"reputation": 1, "user_id": 3854643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7df38bdb8c6c97bb19b4f5008291703?s=128&d=identicon&r=PG&f=1", "display_name": "user3854643", "link": "https://stackoverflow.com/users/3854643/user3854643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1855, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476669804, "creation_date": 1423689364, "last_edit_date": 1423690570, "question_id": 28464648, "link": "https://stackoverflow.com/questions/28464648/an-error-when-executing-pycrypto", "title": "An error when executing pycrypto", "body": "<p>I work with odoo and I want to install the module of paybox : this one : <a href=\"https://bitbucket.org/anybox/anybox_paybox/\" rel=\"nofollow\">https://bitbucket.org/anybox/anybox_paybox/</a>\nFor that : this module needs pycrypto to work </p>\n\n<p>So, I installed  pycrypto in the linux server (ubuntu) </p>\n\n<ol>\n<li><code>git clone https://github.com/dlitz/pycrypto.git</code></li>\n<li><code>./configure</code></li>\n<li><code>python setup.py build</code></li>\n<li><code>python setup.py install</code></li>\n</ol>\n\n<p>and I made this test : python setup.py test \nResult there is no error but the problem comes here : in this file //paybox_signature.py//</p>\n\n<pre><code># coding: utf-8\nimport urllib\nimport base64\nfrom Crypto.PublicKey import RSA\nfrom Crypto.Signature import PKCS1_v1_5\nfrom Crypto.Hash import SHA\n\nclass Signature():\n\ndef verify(self, signature, msg, key):\n    \"\"\" check if the signature is correct according to the public key path         given\n        and the message \"\"\"\n    msg = self.remove_sign(msg)\n    key = RSA.importKey(key)\n    ha = SHA.SHA1Hash().new(msg)\n    verifier = PKCS1_v1_5.new(key)\n    signature = urllib.unquote(signature)\n    signature = base64.b64decode(signature)\n    return verifier.verify(ha, signature)\n\n    def remove_sign(self, msg):\n    \"\"\" remove signature arg from the given string\"\"\"\n    pos = msg.find('&amp;Signature')\n    if pos == -1:\n        return msg\n    return msg[:pos] \n</code></pre>\n\n<p>when I execute this line of the file :</p>\n\n<pre><code>from Crypto.PublicKey import RSA\n</code></pre>\n\n<p>--> It ok there is no error </p>\n\n<p>when I do this</p>\n\n<pre><code>from Crypto.Signature import PKCS1_v1_5\n</code></pre>\n\n<p>--> Traceback (most recent call last):\n    File \"\", line 1, in \n    ImportError: No module named Signature</p>\n\n<p>I don't know Why \nAll the modules are there why python make this error !! really I don't know \nPlease I need your help Thank you </p>\n"}, {"tags": ["python", "postgresql"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1423689736, "post_id": 28464639, "comment_id": 45255144, "body": "Why not just background or daemonize the process?"}, {"owner": {"reputation": 493, "user_id": 1228532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d151acda512a8f748473ad89de496370?s=128&d=identicon&r=PG", "display_name": "James N", "link": "https://stackoverflow.com/users/1228532/james-n"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1423689852, "post_id": 28464639, "comment_id": 45255212, "body": "You&#39;re right, I just found this answer: <a href=\"http://stackoverflow.com/questions/5772873/python-spawn-off-a-child-subprocess-detach-and-exit\" title=\"python spawn off a child subprocess detach and exit\">stackoverflow.com/questions/5772873/&hellip;</a>. I can&#39;t suggest my own answer yet because I haven&#39;t tested it"}], "answers": [{"tags": [], "owner": {"reputation": 493, "user_id": 1228532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d151acda512a8f748473ad89de496370?s=128&d=identicon&r=PG", "display_name": "James N", "link": "https://stackoverflow.com/users/1228532/james-n"}, "is_accepted": true, "score": 0, "last_activity_date": 1423692399, "last_edit_date": 1495540258, "creation_date": 1423692399, "answer_id": 28465457, "question_id": 28464639, "link": "https://stackoverflow.com/questions/28464639/how-can-i-start-a-query-in-postgresql-then-detach-the-initiating-program-e-g/28465457#28465457", "title": "How can I start a query in PostgreSQL, then detach the initiating program (e.g. python) so it can be closed, leaving the query to run for days", "body": "<p>It turns out this was trivial, from <a href=\"https://stackoverflow.com/a/7224186/1228532\">this</a> answer to a similar question. I didn't mention I was using Windows, which makes a difference.</p>\n\n<pre><code>import subprocess\ncmd = ['psql', '-d', 'test', '-U', 'postgres', '-f', 'test_points.pgsql']\nsubprocess.Popen(cmd)  # will run in the background if the output is not used in the rest of the script\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 1228532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d151acda512a8f748473ad89de496370?s=128&d=identicon&r=PG", "display_name": "James N", "link": "https://stackoverflow.com/users/1228532/james-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 28465457, "answer_count": 1, "score": 0, "last_activity_date": 1423692399, "creation_date": 1423689317, "question_id": 28464639, "link": "https://stackoverflow.com/questions/28464639/how-can-i-start-a-query-in-postgresql-then-detach-the-initiating-program-e-g", "title": "How can I start a query in PostgreSQL, then detach the initiating program (e.g. python) so it can be closed, leaving the query to run for days", "body": "<p>I have a large PostgreSQL database which takes days or weeks to run our business queries. I am developing a Python front-end for users to trigger these queries. I would like to know if it is possible to detach the python process from the queries it triggers in PG so the front end can be closed, leaving the queries to run quietly in the DB?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 2, "creation_date": 1423689683, "post_id": 28464617, "comment_id": 45255116, "body": "Firstly, correct indentation is needed.  Secondly, try to include  the full error message you are getting. Also,  you might find this of use: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 81337, "user_id": 91757, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/afaf752cb41c3968dbd570c6f6fa0dc3?s=128&d=identicon&r=PG", "display_name": "Frerich Raabe", "link": "https://stackoverflow.com/users/91757/frerich-raabe"}, "is_accepted": false, "score": 1, "last_activity_date": 1423689613, "creation_date": 1423689613, "answer_id": 28464727, "question_id": 28464617, "link": "https://stackoverflow.com/questions/28464617/python-sorting-high-scores-from-a-file/28464727#28464727", "title": "Python - Sorting High Scores from a file", "body": "<p>You only mentioned that you got 'syntax errors' with your code but didn't actually say which errors you got, but based on the code snippets I'd say that you didn't get the indentation right: there should be an indented block after <code>def</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 4552257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b75504111c3441273d720826aff90c9?s=128&d=identicon&r=PG&f=1", "display_name": "Klodiano", "link": "https://stackoverflow.com/users/4552257/klodiano"}, "edited": false, "score": 0, "creation_date": 1423692159, "post_id": 28465150, "comment_id": 45256417, "body": "Hmm... I&#39;m still getting the same Index out of range error."}, {"owner": {"reputation": 159, "user_id": 4552257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b75504111c3441273d720826aff90c9?s=128&d=identicon&r=PG&f=1", "display_name": "Klodiano", "link": "https://stackoverflow.com/users/4552257/klodiano"}, "edited": false, "score": 0, "creation_date": 1423692696, "post_id": 28465150, "comment_id": 45256711, "body": "Thank you very much. You have helped me incredibly!"}], "tags": [], "owner": {"reputation": 26, "user_id": 4556669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1549db98b7a97e09f685507d0c34b448?s=128&d=identicon&r=PG&f=1", "display_name": "BruceDarby", "link": "https://stackoverflow.com/users/4556669/brucedarby"}, "is_accepted": true, "score": 1, "last_activity_date": 1423692656, "last_edit_date": 1495541285, "creation_date": 1423691217, "answer_id": 28465150, "question_id": 28464617, "link": "https://stackoverflow.com/questions/28464617/python-sorting-high-scores-from-a-file/28465150#28465150", "title": "Python - Sorting High Scores from a file", "body": "<p>Ran Code:</p>\n\n<pre><code>    column.append(int(line.split(\"\\t\")[3]))\nIndexError: list index out of range\n</code></pre>\n\n<p>I believe you're not splitting on the right criteria. You generate the score file using commas as the..uhh separator.. but then ask it to split based on \\t which is tabs, I believe. Change that to a comma. Also, python indexes start with 0. So set the 3(refers to the 4th item) to a 2(refers to the 3rd item).</p>\n\n<p>Additionally, having a blank line at the beginning of the score.txt(suppose you clear the scores and add them creates the problem).</p>\n\n<p>Do something like this:</p>\n\n<pre><code>    for line in myFile:\n        if line == \"\\n\":\n            this = \"doesnothing\"\n        else:\n            column.append(int(line.split(\",\")[2]))\n</code></pre>\n\n<p>Also searching the returned error helps:\n<a href=\"https://stackoverflow.com/questions/9256013/python-indexerror-list-index-out-of-range\">Python: IndexError: list index out of range</a></p>\n"}], "owner": {"reputation": 159, "user_id": 4552257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b75504111c3441273d720826aff90c9?s=128&d=identicon&r=PG&f=1", "display_name": "Klodiano", "link": "https://stackoverflow.com/users/4552257/klodiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "closed_date": 1423698002, "accepted_answer_id": 28465150, "answer_count": 2, "score": -4, "last_activity_date": 1470350963, "creation_date": 1423689264, "last_edit_date": 1470350963, "question_id": 28464617, "link": "https://stackoverflow.com/questions/28464617/python-sorting-high-scores-from-a-file", "closed_reason": "Not suitable for this site", "title": "Python - Sorting High Scores from a file", "body": "<p>I have a task, and it is to write a program with the following menu items (being read off a file):\n1-Display High Scores\n2-Add a new high score\n3-Clear All high scores\n4-Quit</p>\n\n<p>I've got the rest working, it's just 1-Display High scores. I'm receiving syntax errors with it. The error being an InternalError: list out of range. Here is the part of the code:</p>\n\n<pre><code>def askUser():\nQuestion=input('What would you like to do?\\n1-Display High Scores\\n2-Add A New High Score\\n3-Clear All High Scores\\n4-Quit\\nPlease choose a number:')\nif Question=='1':\n    myFile=open('Scores.txt','r')\n    column=[]\n    for line in myFile:\n        column.append(int(line.split(\"\\t\")[3]))\n    column.sort()\n    print(column)\n    myFile.close()\n    askUser()\n</code></pre>\n\n<p>It might still not make sense from here... yet. However here is my full code:</p>\n\n<pre><code>def askUser():\nQuestion=input('What would you like to do?\\n1-Display High Scores\\n2-Add A New High Score\\n3-Clear All High Scores\\n4-Quit\\nPlease choose a number:')\nif Question=='1':\n    myFile=open('Scores.txt','r')\n    column=[]\n    for line in myFile:\n        column.append(int(line.split(\"\\t\")[3]))\n    column.sort()\n    print(column)\n    myFile.close()\n    askUser()\nif Question=='2':\n    Name=input('What is your name:')\n    Date=input('What is the date:')\n    Score=input('What was your high score:')\n    myFile=open('Scores.txt','a')\n    myFile.write((\"\\n\"+\"{},{},{}\").format(Name, Date, Score))\n    myFile.close()\n    askUser()\nif Question=='3':\n    myFile=open('Scores.txt','r+')\n    myFile.truncate()\n    myFile.close()\n    print('File Cleared')\n    askUser()\nif Question=='4':\n   print('Quiting...')\n</code></pre>\n\n<p>Sorry if I am not being clear. I need to Display High scores (Option 1) from the file <strong>Scores.txt</strong>. I already have a few sample scores written in there, if you need to get them too, try this code:</p>\n\n<pre><code>Name=input('What is your name:')\nDate=input('What is the date:')\nScore=input('What was your high score:')\nmyFile=open('Scores.txt','a')\nmyFile.write((\"\\n\"+\"{},{},{}\").format(Name, Date, Score))\nmyFile.close()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423689321, "post_id": 28464532, "comment_id": 45254930, "body": "Why are you replacing each value in <code>pay</code> with a single integer from <code>value</code> before sorting?"}, {"owner": {"reputation": 15, "user_id": 4556657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d85b35b5e829f936af802f817c854aa3?s=128&d=identicon&r=PG&f=1", "display_name": "cizwiz", "link": "https://stackoverflow.com/users/4556657/cizwiz"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423689590, "post_id": 28464532, "comment_id": 45255069, "body": "i am not a 100% sure what you mean but if its what i think your talking about its because i have been asked to find the highest pay rate in each list so i have ordered them then took the last one and added it to a different dictionary"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1423689848, "last_edit_date": 1423689848, "creation_date": 1423689415, "answer_id": 28464663, "question_id": 28464532, "link": "https://stackoverflow.com/questions/28464532/sorting-in-python/28464663#28464663", "title": "Sorting In Python", "body": "<p>You are trying to sort lists:</p>\n\n<pre><code>sorted(pay.items(),key=operator.itemgetter(1),reverse=True)\n</code></pre>\n\n<p>Here <code>operator.itemgetter(1)</code> gets each <em>value</em> from the <code>pay</code> dictionary.</p>\n\n<p>However, you replaced <strong>one</strong> value with an integer:</p>\n\n<pre><code>value.sort()\npay [key]=value.pop()\n</code></pre>\n\n<p>That's the highest value from the original list, and you replaced the whole list with that lowest value.</p>\n\n<p>So you had this:</p>\n\n<pre><code>&gt;&gt;&gt; pay\n{'Designers': [25, 65, 24, 45], 'Developers': [35, 22, 18, 36], 'Testers': [34, 52, 12, 32]}\n</code></pre>\n\n<p>then in your loop took <em>one</em> of those keys and replaced the value:</p>\n\n<pre><code>&gt;&gt;&gt; key = 'Designers'\n&gt;&gt;&gt; value = pay[key]\n&gt;&gt;&gt; value\n[25, 65, 24, 45]\n&gt;&gt;&gt; value.sort()\n&gt;&gt;&gt; pay[key] = value.pop()\n&gt;&gt;&gt; pay\n{'Designers': 65, 'Developers': [35, 22, 18, 36], 'Testers': [34, 52, 12, 32]}\n</code></pre>\n\n<p>Note how <code>pay['Designers']</code> is now no longer a list. It is a single integer. You now can no longer sort your dictionary items as you cannot compare a single integer to the other lists:</p>\n\n<pre><code>&gt;&gt;&gt; sorted(pay.items(),key=operator.itemgetter(1),reverse=True)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unorderable types: int() &lt; list()\n</code></pre>\n\n<p>If you wanted to find the highest pay rate, I'd use the <a href=\"https://docs.python.org/3/library/functions.html#max\" rel=\"nofollow\"><code>max()</code> function</a> here, and use it <em>twice</em>, once in the key function to select the highest value from the list:</p>\n\n<pre><code>highest_rate = max(pay.items(), key=lambda i: max(i[1]))\n</code></pre>\n\n<p>This returns the <code>key, value</code> pair for the job title with the highest rate:</p>\n\n<pre><code>&gt;&gt;&gt; pay = {'Designers': [25, 65, 24, 45], 'Developers': [35, 22, 18, 36], 'Testers': [34, 52, 12, 32]}\n&gt;&gt;&gt; max(pay.items(), key=lambda i: max(i[1]))\n('Designers', [25, 65, 24, 45])\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4556657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d85b35b5e829f936af802f817c854aa3?s=128&d=identicon&r=PG&f=1", "display_name": "cizwiz", "link": "https://stackoverflow.com/users/4556657/cizwiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 28464663, "answer_count": 1, "score": -2, "last_activity_date": 1423689848, "creation_date": 1423688965, "last_edit_date": 1423689298, "question_id": 28464532, "link": "https://stackoverflow.com/questions/28464532/sorting-in-python", "title": "Sorting In Python", "body": "<pre><code>#Wednesday 11th February 2015 By Daniel B Scanlon\n#Sorting Homework\nimport operator\npay = {}\npay[\"Developers\"]=[35,22,18,36]\npay[\"Designers\"]=[25,65,24,45]\npay[\"Testers\"]=[34,52,12,32]\nuserInput=int(input(\"How would you like the menu to be sorted?\\n1 for     Dictionary keys sorted in alphabetical order\\n2 for Sort each list of employee\u2019s pay rates from highest to lowest\\n3 for Lowest pay level in each list sorted from highest to lowest\\n4 for Average pay per department sorted from highest to lowest\"))\nif userInput == 1:\n    for key,value in pay.items():\n        sortedDictionary = sorted(pay)\n     print (sortedDictionary)\nif userInput == 2:\n    for key,value in pay.items():\n        value.sort()\n        value.reverse()\n        print(key,value)\nif userInput == 3:\n    for key,value in pay.items():\n        value.sort()\n        pay [key]=value.pop()\n        lowestPay =   sorted(pay.items(),key=operator.itemgetter(1),reverse=True)\n    print (lowestPay)\n</code></pre>\n\n<p>In the third <code>if</code> statement I am trying to get the highest value from each list and and then print them with the keys assigned to them from highest to lowest and when I run I am getting a error saying </p>\n\n<pre><code>  ... line 22, in &lt;module&gt;\n    lowestPay = sorted(pay.items(),key=operator.itemgetter(1),reverse=True)\nTypeError: unorderable types: int() &lt; list()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 1, "creation_date": 1423688912, "post_id": 28464486, "comment_id": 45254708, "body": "You are missing a <code>:</code> at the end of your line."}, {"owner": {"reputation": 2903, "user_id": 4340076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b1bc392e1cc52cc64c0d207c6ed680?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4340076/andrew"}, "edited": false, "score": 1, "creation_date": 1423688933, "post_id": 28464486, "comment_id": 45254715, "body": "You need to add a &#39;:&#39; at the end of your if statement.  For example: <code>if (line[5] in (&quot;Tablespace Space Used (%)&quot;, &quot;Tablespace Free Space (MB)&quot;):</code>"}, {"owner": {"reputation": 5256, "user_id": 116540, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/197996357deeb13ed67e96678c796996?s=128&d=identicon&r=PG", "display_name": "sharjeel", "link": "https://stackoverflow.com/users/116540/sharjeel"}, "edited": false, "score": 0, "creation_date": 1423689570, "post_id": 28464486, "comment_id": 45255059, "body": "Also, relational OR in python is &quot;or&quot;, not pipe."}], "answers": [{"comments": [{"owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1423689599, "post_id": 28464531, "comment_id": 45255075, "body": "@martinPeiters, I get this error: if line[5] in {&quot;Tablespace Space Used (%)&quot;,&quot;Tablespace Free Space (MB)&quot;}:                                               ^ SyntaxError: invalid syntax"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1423689764, "post_id": 28464531, "comment_id": 45255163, "body": "@user1471980: What version of Python are you using? <code>{...}</code> for sets requires Python 2.7 or up."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1423689785, "last_edit_date": 1423689785, "creation_date": 1423688959, "answer_id": 28464531, "question_id": 28464486, "link": "https://stackoverflow.com/questions/28464486/how-do-you-check-if-variable-is-equal-in-python/28464531#28464531", "title": "how do you check if variable is equal in python", "body": "<p>You were missing the <code>:</code> at the end of your <code>if</code> statement.</p>\n\n<p>However, you are using invalid syntax for your test too; it'll lead to a runtime error (<code>TypeError: unsupported operand type(s) for |: 'str' and 'str'</code>). You want to create a tuple, or a set of strings to test against, not use <code>|</code>:</p>\n\n<pre><code>if line[5] in (\"Tablespace Space Used (%)\", \"Tablespace Free Space (MB)\"):\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if line[5] in {\"Tablespace Space Used (%)\", \"Tablespace Free Space (MB)\"}:\n</code></pre>\n\n<p>The latter is technically more efficient, except if you are using Python 2 where the set isn't optimised into a constant the way the tuple would be in either version of the language. Using <code>{...}</code> to create a set requires Python 2.7 or newer.</p>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423695104, "post_id": 28464545, "comment_id": 45257844, "body": "why are you using <code>in</code> still instead of <code>==</code>?"}, {"owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423695302, "post_id": 28464545, "comment_id": 45257943, "body": "didn&#39;t see the OP&#39;s statement &#39;if line[5] is any of these I need to do some extra work.&#39; will amend."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423695616, "post_id": 28464545, "comment_id": 45258084, "body": "Sure, but why not use a membership test still?"}, {"owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423695856, "post_id": 28464545, "comment_id": 45258189, "body": "Could you elucidate? My understanding is that &#39;==&#39; is a membership test. <a href=\"https://docs.python.org/2/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">docs.python.org/2/reference/&hellip;</a>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1423696218, "post_id": 28464545, "comment_id": 45258317, "body": "No, <code>==</code> tests for equality. <code>in</code> tests for membership. As in <code>something in (&#39;valueA&#39;, &#39;valueB)</code> (which is implemented by testing for equality against each element in turn) or `something in {&#39;valueA&#39;, &#39;valueB&#39;} (which uses a hash table and equality testing for a more efficient membership test)."}, {"owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423696903, "post_id": 28464545, "comment_id": 45258596, "body": "Thanks! I&#39;ve amended that part."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423697172, "post_id": 28464545, "comment_id": 45258693, "body": "The OP reported a syntax error when they tried a set literal, so perhaps they are using an older Python version. See the comments on my answer."}], "tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1423696862, "last_edit_date": 1423696862, "creation_date": 1423689010, "answer_id": 28464545, "question_id": 28464486, "link": "https://stackoverflow.com/questions/28464486/how-do-you-check-if-variable-is-equal-in-python/28464545#28464545", "title": "how do you check if variable is equal in python", "body": "<p>You use == to check equality </p>\n\n<pre><code>4 == 2*2\nTrue\n</code></pre>\n\n<p>To use an if statement, conclude the line with a ':'</p>\n\n<pre><code>if line[5] in {'Tablespace Space Used (%)', 'Tablespace Free Space (MB)'}:\n   do x\n</code></pre>\n"}], "owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 28464545, "answer_count": 2, "score": 0, "last_activity_date": 1423696862, "creation_date": 1423688795, "last_edit_date": 1423688903, "question_id": 28464486, "link": "https://stackoverflow.com/questions/28464486/how-do-you-check-if-variable-is-equal-in-python", "title": "how do you check if variable is equal in python", "body": "<p>I have a line array that values in position 5 can be either of these values:</p>\n\n<pre><code>\"Tablespace Free Space (MB)\", \"Tablespace Space Used (%)\"\n</code></pre>\n\n<p>if <code>line[5]</code> is any of these I need to do some extra work.</p>\n\n<p>I have tried this:</p>\n\n<pre><code>if (line[5] in (\"Tablespace Space Used (%)\")|(\"Tablespace Free Space (MB)\"))\n\n    # some other code here\n</code></pre>\n\n<p>I keep getting this error:</p>\n\n<pre><code>    if (line[5] in (\"Tablespace Space Used (%)\"|\"Tablespace Free Space (MB)\"))\n                                                                             ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "django", "python-2.7", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 39782, "user_id": 548165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMkYl.jpg?s=128&g=1", "display_name": "catavaran", "link": "https://stackoverflow.com/users/548165/catavaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1423691676, "creation_date": 1423691676, "answer_id": 28465278, "question_id": 28464464, "link": "https://stackoverflow.com/questions/28464464/csrf-token-missing-or-incorrect-in-django-form/28465278#28465278", "title": "CSRF token missing or incorrect in Django form", "body": "<p>You do it in a wrong, very PHPish, way.</p>\n\n<p>Move the form definition from <code>models.py</code> to the <code>forms.py</code>, so your <code>feedback/forms.py</code> should be:</p>\n\n<pre><code>from django.forms import ModelForm\n\nclass TestForm(forms.ModelForm):\n      class Meta:\n           model = Test\n           fields = ['name']\n</code></pre>\n\n<p>The <code>feedback/views.py</code> should be simplified to:</p>\n\n<pre><code>from django.shortcuts import render, redirect\n\nfrom feedback.forms import TestForm\n\ndef test_view(request):\n    if request.method == 'POST':\n        form = TestForm(request.POST)\n        if form.is_valid():\n            form.save()\n            return redirect('.')\n    else:\n        form = TestForm()\n    return render(request, 'form.html', {'form': form})\n</code></pre>\n\n<p>And the template:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n     &lt;title&gt;test form&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;form method=\"POST\"&gt;\n        {% csrf_token %}\n        {{ form.as_p }}\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 1551473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40fd15557d39397b7c27039a91d48a16?s=128&d=identicon&r=PG", "display_name": "user1551473", "link": "https://stackoverflow.com/users/1551473/user1551473"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2630, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423691676, "creation_date": 1423688721, "last_edit_date": 1423691288, "question_id": 28464464, "link": "https://stackoverflow.com/questions/28464464/csrf-token-missing-or-incorrect-in-django-form", "title": "CSRF token missing or incorrect in Django form", "body": "<p>I am very new to Django forms. I am trying to simply get a value from a text field and store it in a database. I am getting an error report saying:</p>\n\n<p>*Forbidden (403)\nCSRF verification failed. \nRequest aborted.\nReason given for failure:\nCSRF token missing or incorrect.</p>\n\n<p>For POST forms, you need to ensure:</p>\n\n<p>Your browser is accepting cookies.</p>\n\n<p>The view function uses RequestContext for the template, instead of Context.</p>\n\n<p>In the template, there is a {% csrf_token %} template tag inside each POST form that targets an internal URL.</p>\n\n<p>If you are not using CsrfViewMiddleware, then you must use csrf_protect on any views that use the csrf_token template tag, as well as those that accept the POST data.*</p>\n\n<p><strong>Where am I going wrong?</strong></p>\n\n<p>My views.py code is:</p>\n\n<pre><code>from django.shortcuts import render\nfrom feedback.models import Test\nfrom mysite.forms import TestForm\nfrom django.http import HttpResponse\nfrom django.template import Context, loader\n\ndef test_view(request):\n    form = TestForm\n    t = loader.get_template('form.html')\n    c = RequestContext(request,{'n':''})\n    if request.method=='POST':\n        form = TestForm(request.POST)\n        if form.is_valid():\n            in_name = request.POST.get(\"firstname\")\n            fd = Test(name = in_name)\n            fd.save()\n    return HttpResponse(t.render(c))\n</code></pre>\n\n<p>My models.py code is:</p>\n\n<pre><code>from django.db import models\nfrom django.forms import ModelForm\n\nclass Test(models.Model):\n      name = models.CharField(max_length=255)\n\nclass TestForm(ModelForm):\n      class Meta:\n           model = Test\n           fields = ['name']\n</code></pre>\n\n<p>My forms.py code is:</p>\n\n<pre><code>from django import forms\n\nclass TestForm(forms.Form):\n      name = forms.CharField()\n</code></pre>\n\n<p>My HTML template is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n     &lt;title&gt;test form&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form method = \"POST\"&gt;\n{% csrf_token %}\nFirst name:&lt;br&gt;\n&lt;input type=\"text\" name=\"firstname\" value = {{ n }}&gt;\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 534, "user_id": 3008420, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ignnl.jpg?s=128&g=1", "display_name": "jmercier", "link": "https://stackoverflow.com/users/3008420/jmercier"}, "edited": false, "score": 0, "creation_date": 1423696147, "post_id": 28464331, "comment_id": 45258294, "body": "did you try myImage.subsample(N,N) ?"}], "answers": [{"comments": [{"owner": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "edited": false, "score": 0, "creation_date": 1423842380, "post_id": 28466447, "comment_id": 45325665, "body": "That&#39;s way more simple than what I came up with =)"}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 3, "last_activity_date": 1423696610, "creation_date": 1423696610, "answer_id": 28466447, "question_id": 28464331, "link": "https://stackoverflow.com/questions/28464331/resizing-images-with-imagetk-photoimage-with-tkinter-python/28466447#28466447", "title": "Resizing images with ImageTk.PhotoImage with Tkinter/Python", "body": "<p>You were close, but not quite there yet.  Thus, I changed your example to make it work:</p>\n\n<pre><code>import Tkinter as tk\nfrom PIL import Image, ImageTk\nfrom itertools import cycle\n\nclass App(tk.Tk):\n\n    def __init__(self, image_files, x, y, delay):\n        tk.Tk.__init__(self)\n        self.geometry('+{}+{}'.format(x,y))\n        self.delay = delay\n        #self.pictures = cycle((ImageTk.PhotoImage(file=image), image) for image in image_files)\n        self.pictures = cycle(image for image in image_files)        \n        self.pictures = self.pictures\n        self.picture_display = tk.Label(self)\n        self.picture_display.pack()\n        self.images = [] # to keep references to images.\n\n    def show_slides(self):        \n        img_name = next(self.pictures)\n        image_pil = Image.open(img_name).resize((300, 300)) #&lt;-- resize images here\n\n        self.images.append(ImageTk.PhotoImage(image_pil))      \n\n        self.picture_display.config(image=self.images[-1])\n        self.title(img_name)\n        self.after(self.delay, self.show_slides)\n\n    def run(self):\n        self.mainloop()\n\ndelay = 3500\n\nimage_files = [\n            './empty.gif',\n            './empty2.gif',\n            './empty1.gif'\n        ]\n\nx = 200\ny = 150\napp = App(image_files,x,y,delay)\napp.show_slides()\napp.run()\n</code></pre>\n\n<p>Basicly, image resizing must be done using PIL image, before you make an instance of <code>ImageTk.PhotoImage</code>. In two critical points I made comments in the example, so you know where to look for. Hope this helps.</p>\n"}], "owner": {"reputation": 663, "user_id": 2843275, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/90f66c4ae9513776e570d9ff3d68cfda?s=128&d=identicon&r=PG&f=1", "display_name": "T.J.", "link": "https://stackoverflow.com/users/2843275/t-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6747, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1423696610, "creation_date": 1423688155, "question_id": 28464331, "link": "https://stackoverflow.com/questions/28464331/resizing-images-with-imagetk-photoimage-with-tkinter-python", "title": "Resizing images with ImageTk.PhotoImage with Tkinter/Python", "body": "<p>I'm attempting to make a slideshow with Tkinter but I'm having trouble sizing the images. They only show as the default size while I'd like to make them all uniform. I can do it for individual images using Image.open and resize, but I can't sort out how to get it to work over an iteration. I'd appreciate the help:</p>\n\n<pre><code>import Tkinter as tk\nfrom PIL import Image, ImageTk\nfrom itertools import cycle\n\nclass App(tk.Tk):\n    def __init__(self, image_files, x, y, delay):\n        tk.Tk.__init__(self)\n        self.geometry('+{}+{}'.format(x,y))\n        self.delay = delay\n        self.pictures = cycle((ImageTk.PhotoImage(file=image), image) for image in image_files)\n        self.pictures = self.pictures\n        self.picture_display = tk.Label(self)\n        self.picture_display.pack()\n    def show_slides(self):\n        img_object, img_name = next(self.pictures)\n        self.picture_display.config(image=img_object)\n        self.title(img_name)\n        self.after(self.delay, self.show_slides)\n    def run(self):\n        self.mainloop()\ndelay = 3500\n\nimage_files = [\n'c:/users/xxx/pictures/47487_10100692997065139_1074926086_n.jpg',\n'E:\\\\1415\\\\20141216_105336.jpg'\n]\n\nx = 100\ny = 50\napp = App(image_files,x,y,delay)\napp.show_slides()\napp.run()\n</code></pre>\n"}, {"tags": ["python", "list", "variables", "arguments"], "comments": [{"owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "edited": false, "score": 2, "creation_date": 1423688304, "post_id": 28464253, "comment_id": 45254418, "body": "don&#39;t use <code>sum</code> as variable name, its inbuilt function for addition"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 4351345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1665ea86d53830c10da21776f99cbb50?s=128&d=identicon&r=PG&f=1", "display_name": "juggernaut", "link": "https://stackoverflow.com/users/4351345/juggernaut"}, "edited": false, "score": 0, "creation_date": 1423689392, "post_id": 28464406, "comment_id": 45254967, "body": "So with mean(x, *l) definition, function intelligently treats rest of the list members from z as tuple after it got the value of x?"}, {"owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "reply_to_user": {"reputation": 215, "user_id": 4351345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1665ea86d53830c10da21776f99cbb50?s=128&d=identicon&r=PG&f=1", "display_name": "juggernaut", "link": "https://stackoverflow.com/users/4351345/juggernaut"}, "edited": false, "score": 0, "creation_date": 1423689538, "post_id": 28464406, "comment_id": 45255045, "body": "Yes, that is what is happening."}], "tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 7, "last_activity_date": 1423688797, "last_edit_date": 1423688797, "creation_date": 1423688448, "answer_id": 28464406, "question_id": 28464253, "link": "https://stackoverflow.com/questions/28464253/how-list-unpacking-works-when-passed-as-argument-to-function-with-variable-param/28464406#28464406", "title": "How list unpacking works when passed as argument to function with variable parameters?", "body": "<p>When you call <code>mean(*z)</code>, you are correct in that Python unpacks <code>z</code>, which means that your function call is equivalent (in this case), to calling <code>mean(1, 2, 3, 4)</code></p>\n\n<p>Now, on to the second part of your question:</p>\n\n<blockquote>\n  <p>Did it unpack list z just to extract the 1st element from z then keeping rest of z as it is?</p>\n</blockquote>\n\n<p>Not really.  First, <code>z</code> was unpacked and each argument passed in separately (as mentioned above).  So now you have we look at the definition of mean: <code>def mean(x, *l):</code>.  This definition is expecting at least one positional argument (<code>x</code>), and than <em>any number of extra arguments</em>.  So, because your initial call of <code>mean(*z)</code> got turned into <code>mean(1, 2, 3, 4)</code>, then inside your <code>mean</code>, <code>x</code> is equal to <code>1</code> and <code>*l</code> becomes the tuple <code>(2, 3, 4)</code>.</p>\n\n<blockquote>\n  <p>Also, If I call the function with z alone as argument, it throws error</p>\n</blockquote>\n\n<p>If you just call the function with z alone (<code>mean(z)</code>), then, going back to your function definition, <code>x</code> will be the list <code>[1,2,3,4]</code> and <code>l</code> will be an empty tuple.  Because <code>l</code> is an empty tuple, nothing happens in the for-loop, and you get to the last line, <code>return sum / (1.0 + len(l))</code>.  Now, because <code>x</code> is a list, Python raises an exception because it does not know how to compute <code>[1,2,3,4] / 1.0</code></p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 12542167, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oFd1cDaeMUg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdqhOGCXuGaSZ91IVxfV4EMkLhcfQ/photo.jpg?sz=128", "display_name": "Panagiotis Ntinis", "link": "https://stackoverflow.com/users/12542167/panagiotis-ntinis"}, "is_accepted": false, "score": 0, "last_activity_date": 1576933113, "creation_date": 1576933113, "answer_id": 59436395, "question_id": 28464253, "link": "https://stackoverflow.com/questions/28464253/how-list-unpacking-works-when-passed-as-argument-to-function-with-variable-param/59436395#59436395", "title": "How list unpacking works when passed as argument to function with variable parameters?", "body": "<p>Running the code below can show you how it works, the comments present the way the arguments are passed in the function.</p>\n\n<pre><code>def mean(x, *l):\n    sum=x\n    print(\"x:\",x)\n    print(\"l:\",l)\n    print(\"len(l):\",len(l))\n    for i in l:\n        sum += i\n    return sum / (1.0+len(l))\n\nz = [1,2,3,4]\nprint(\"1st call:\")\nprint(\"result:\",mean(*z))  ##x = z[0] and l=tuple(z[1:])\nprint(\"\\n\\n2nd call:\")\nprint(\"result:\",mean(z))  ##x = z and l = tuple()\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 4351345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1665ea86d53830c10da21776f99cbb50?s=128&d=identicon&r=PG&f=1", "display_name": "juggernaut", "link": "https://stackoverflow.com/users/4351345/juggernaut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1576933113, "creation_date": 1423687903, "last_edit_date": 1423688523, "question_id": 28464253, "link": "https://stackoverflow.com/questions/28464253/how-list-unpacking-works-when-passed-as-argument-to-function-with-variable-param", "title": "How list unpacking works when passed as argument to function with variable parameters?", "body": "<p>I have a function which calculates arithmetic mean of variable parameter list. It has one positional parameter and rest variable parameter. So the code is shown below. </p>\n\n<pre><code>def mean(x, *l):\n  sum = x\n  for i in l:\n     sum += i\n  return sum / (1.0 + len(l))\n</code></pre>\n\n<p>Now I define a list containing var arguments</p>\n\n<pre><code>z = [1,2,3,4]\n</code></pre>\n\n<p>Now I call my function</p>\n\n<pre><code>mean(*z) which prints 2.5 which is correct.\n</code></pre>\n\n<p>So what happened here? My understanding is when I did *z it unpacked the list z.\nBut then how it picked the 1st positional parameter from the list and kept the rest of the list intact to get the length of 'l' as defined in the function mean. Did it unpack list z just to extract the 1st element from z then keeping rest of z as it is? If that can be done with a list then how? </p>\n\n<p>Also, If I call the function with z alone as argument, it throws error</p>\n\n<p>ari_mean(z)\nTraceback (most recent call last):\n  File \"\", line 1, in \n  File \"\", line 5, in ari_mean\nTypeError: unsupported operand type(s) for /: 'list' and 'float'</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1423687480, "post_id": 28464077, "comment_id": 45253942, "body": "This looks like a lot of work! I suggest using the built-in <code>list</code> type instead."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 3, "creation_date": 1423687528, "post_id": 28464077, "comment_id": 45253965, "body": "@Kevin: <code>list</code> is not a linked list, especially not for the purposes of a data structures class.."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 7, "creation_date": 1423687576, "post_id": 28464077, "comment_id": 45253993, "body": "So where are you stuck? You implemented <i>something</i>, can you give us some sample inputs, expected output and what you get instead? If there are errors, please include those too (full traceback)."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1423687759, "post_id": 28464077, "comment_id": 45254121, "body": "As an aside: there&#39;s no good reason to use getters and setters in Python. Just use the attribute, and if you find you need custom logic for getting or setting use a <code>@property</code>"}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "is_accepted": false, "score": 0, "last_activity_date": 1423688217, "last_edit_date": 1423688217, "creation_date": 1423687874, "answer_id": 28464248, "question_id": 28464077, "link": "https://stackoverflow.com/questions/28464077/insert-in-ordered-linked-list-python/28464248#28464248", "title": "Insert in Ordered Linked List (Python)", "body": "<p>I think changing this:</p>\n\n<pre><code>    else:\n            while data &gt; other.get_data():\n                previous = other\n                other = other.get_next\n            previous.set_next(Node(data))\n</code></pre>\n\n<p>to this, should make it work.</p>\n\n<pre><code>    else:\n            # First condition will short circuit so there won't be exception on calling other.get_data() if other is None\n            while other is not None and data &gt; other.get_data():\n                previous = other\n                other = other.get_next()\n            node = Node(data)\n            node.set_next = previous.get_next()\n            previous.set_next(node)\n</code></pre>\n\n<p>Also, getter and setter methods aren't really necessary in python.\nThe convention is to use <code>@property</code> annotation if you need that kind of behavior and private members are usually prefixed with one <code>_</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 0, "last_activity_date": 1423688792, "last_edit_date": 1423688792, "creation_date": 1423688026, "answer_id": 28464296, "question_id": 28464077, "link": "https://stackoverflow.com/questions/28464077/insert-in-ordered-linked-list-python/28464296#28464296", "title": "Insert in Ordered Linked List (Python)", "body": "<p>You need to <em>insert</em> your item into the list. That means you need to:</p>\n\n<ul>\n<li>Break up the chain at the place you are going to insert</li>\n<li>Create a new node</li>\n<li>Join up the chain again with your new node in the middle.</li>\n</ul>\n\n<p>You don't technically need to break up the chain, as setting the next link on the <code>previous</code> item will clear the old link, so all you need to do still is join up the chain again:</p>\n\n<pre><code>while data &gt; other.get_data():\n    previous = other\n    other = other.get_next()\nnew = Node(data)\nprevious.set_next(new)\nnew.set_next(other)\n</code></pre>\n\n<p>I also corrected a different error, you didn't <em>call</em> <code>Node.get_next()</code>.</p>\n\n<p>Next, you need to think more about edge cases. What happens when you get to the <em>end</em> of your chain but haven't found <em>any</em> node where <code>node.get_data()</code> is greater than your inserted data?</p>\n\n<p>You need to adjust your <code>while</code> loop to make sure that you test for that case; <code>other</code> will be <code>None</code> for the last element of the chain:</p>\n\n<pre><code>while other is not None and data &gt; other.get_data():\n    previous = other\n    other = other.get_next()\nnew = Node(data)\nprevious.set_next(new)\nnew.set_next(other)\n</code></pre>\n\n<p>There are other things you can do to improve your code. There is no need to use setters and getters in Python; there is no cost involved in turning attributes to <code>@property</code>s in the future, so just use attributes here.</p>\n\n<p>You could also make your <code>Node()</code> accept a next element in the constructor, that'd make inserting an element easier.</p>\n\n<p>You can use <code>str.join()</code> to insert a fixed string between elements of a sequence. Put all your <code>data</code> attributes into a Python <code>list</code> and join that list.</p>\n\n<p>You do not need to set <code>self.head</code> as the next node when creating an initial element (when <code>self.head</code> is <code>None</code>); that's the default already anyway:</p>\n\n<pre><code>class Node:\n    def __init__(self, initial_data, next=None):\n        self.data = initial_data\n        self.next = next\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def __str__(self):\n        data_list = []    \n        current = self.head\n        while current is not None:\n            data_list.append(str(current.data))\n            current = current.next\n        return '-&gt;'.join(data_list)\n\n    def insert(self, data):\n        other = self.head\n        previous = None\n        if other is None:\n            self.head = Node(data)\n        else:\n            while other is not None and data &gt; other.data:\n                previous = other\n                other = other.next\n            previous.next = Node(data, other)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; ll = LinkedList()\n&gt;&gt;&gt; str(ll)\n''\n&gt;&gt;&gt; ll.insert(10)\n&gt;&gt;&gt; str(ll)\n'10'\n&gt;&gt;&gt; ll.insert(20)\n&gt;&gt;&gt; str(ll)\n'10-&gt;20'\n&gt;&gt;&gt; ll.insert(15)\n&gt;&gt;&gt; str(ll)\n'10-&gt;15-&gt;20'\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4556587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B3QIE_bd8TE/AAAAAAAAAAI/AAAAAAAAABw/FhQjKwAToqE/photo.jpg?sz=128", "display_name": "Calvin Tennakoon", "link": "https://stackoverflow.com/users/4556587/calvin-tennakoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3702, "favorite_count": 0, "closed_date": 1423721929, "accepted_answer_id": 28464296, "answer_count": 2, "score": -1, "last_activity_date": 1423688792, "creation_date": 1423687263, "last_edit_date": 1423687531, "question_id": 28464077, "link": "https://stackoverflow.com/questions/28464077/insert-in-ordered-linked-list-python", "closed_reason": "Not suitable for this site", "title": "Insert in Ordered Linked List (Python)", "body": "<p>I am having trouble creating an insert function for an ordered Linked List. Here is what I have so far:</p>\n\n<pre><code>class Node:\n    def __init__(self, initial_data):\n        self.data = initial_data\n        self.next = None\n\n    def get_data(self):\n        return self.data\n\n    def get_next(self):\n        return self.next\n\n    def set_data(self, new_data):\n        self.data = new_data\n\n    def set_next(self, new_next):\n        self.next = new_next\n\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def __str__(self):\n        output_string = ''\n\n        current = self.head\n        while current is not None:\n            output_string += str(current.get_data())\n            next_node = current.get_next()\n\n            if next_node is not None:\n                output_string += \"-&gt;\"\n\n            current = next_node\n\n        return output_string\n\n    def insert(self, data):\n        other = self.head\n        previous = None\n        if other is None:\n            new_node = Node(data)\n            new_node.set_next(self.head)\n            self.head = new_node\n        else:\n                while data &gt; other.get_data():\n                    previous = other\n                    other = other.get_next\n                previous.set_next(Node(data))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1423687337, "post_id": 28464068, "comment_id": 45253866, "body": "How long are they supposed to be? BTW, I notice that your ranges all start at one. Are you aware that <code>a[0]</code> is the first element of <code>a</code>, and <code>a[1]</code> is the second?"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1423687596, "post_id": 28464068, "comment_id": 45254003, "body": "I noticed function <code>BpN</code> takes parameters <code>A</code> and <code>Z</code>.  <code>Z</code> is not used, but  global <code>B</code> is.  It would be better if you passed <code>B</code> into <code>BpN</code> so you don&#39;t rely on the global."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4556557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ymjS84yYrxo/AAAAAAAAAAI/AAAAAAAAB_c/55X95qrUXRw/photo.jpg?sz=128", "display_name": "GeegMofo", "link": "https://stackoverflow.com/users/4556557/geegmofo"}, "edited": false, "score": 0, "creation_date": 1423692583, "post_id": 28464094, "comment_id": 45256657, "body": "Thank you the issue was fixed with <code>range(100)</code> and I&#39;ll most likely rewrite the code with numpy arrays after I look into it, but right now I&#39;m just trying to make it functional to meet a deadline."}], "tags": [], "owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "is_accepted": true, "score": 1, "last_activity_date": 1423687346, "creation_date": 1423687346, "answer_id": 28464094, "question_id": 28464068, "link": "https://stackoverflow.com/questions/28464068/python-indexerror-list-index-out-of-range-dividing-lists/28464094#28464094", "title": "python -- IndexError: list index out of range / dividing lists", "body": "<p>In Python, list indices start from zero and not from one.</p>\n\n<p>It's hard to be sure without seeing your code in its entirety, but <code>range(1,101)</code> looks suspect. If the list has 100 elements, the correct bounds for the loop are <code>range(0,100)</code> or, equivalently, <code>range(100)</code> or, better still, <code>range(len(A))</code>.</p>\n\n<p>P.S. Since you're using Numpy already, you should look into rewriting your code using Numpy arrays instead of using lists and loops. If <code>A</code> and <code>B</code> were Numpy arrays, your entire troublesome function could become:</p>\n\n<pre><code>return B / A\n</code></pre>\n\n<p>(This is element-wise division of <code>B</code> by <code>A</code>.)</p>\n"}], "owner": {"reputation": 13, "user_id": 4556557, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ymjS84yYrxo/AAAAAAAAAAI/AAAAAAAAB_c/55X95qrUXRw/photo.jpg?sz=128", "display_name": "GeegMofo", "link": "https://stackoverflow.com/users/4556557/geegmofo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 28464094, "answer_count": 1, "score": 1, "last_activity_date": 1423693673, "creation_date": 1423687238, "question_id": 28464068, "link": "https://stackoverflow.com/questions/28464068/python-indexerror-list-index-out-of-range-dividing-lists", "title": "python -- IndexError: list index out of range / dividing lists", "body": "<p>I'm not great at programming and I've been driving myself crazy trying to figure this out.</p>\n\n<p>I have a program to calculate binding energies that stores values in lists. At a certain point one list is divided by a different one, but I keep getting this error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"semf.py\", line 76, in &lt;module&gt;\n    BpN = BpN(A, Z)\n  File \"semf.py\", line 68, in BpN\n    bper = B[i]/A[i]\nIndexError: list index out of range\n</code></pre>\n\n<p>The relevant code is below, sorry there's so much of it:</p>\n\n<pre><code>  A = 0.0\n\ndef mass_A(Z):\n    \"\"\"\n    ranges through all A values Z, ..., 3Z+1 for Z ranging from 1 to 100\n    \"\"\"\n    a = 0.0\n    a = np.arange(Z, 3*Z+1)\n    return a\n\ndef semf(A, Z):\n    \"\"\"\n    The semi-empirical mass formula (SEMF) calculates the binding energy of the nucleus.\n    N is the number of neutrons.\n    \"\"\"\n    i = 0\n    E = []\n    for n in A:\n        # if statement to determine value of a5\n        if np.all(Z%2==0 and (A-Z)%2==0):\n            a5 = 12.0\n        elif np.all(Z%2!=0 and (A-Z)%2!=0):\n            a5 = -12.0\n        else:\n            a5 = 0\n\n        B = a1*A[i] - a2*A[i]**(2/3) - a3*(Z**2 / A[i]**(1/3)) - a4*( (A[i] - 2*Z)**2 / A[i] ) + a5 / A[i]**(1/2)\n        i += 1\n    E.append(B)\n    return E\n\ndef BpN(A, Z):\n    \"\"\"\n     function to calculate the binding energy per nucleon (B/A)\n     \"\"\"\n    i = 0\n    R = []\n    for n in range(1,101):\n        bper = B[i]/A[i]\n        i += 1\n        R.append(bper)\n    return R\n\nfor Z in range(1,101):\n    A = mass_A(Z)\n    B = semf(A, Z)\n    BpN = BpN(A, Z)\n</code></pre>\n\n<p>It seems like somehow, the two lists A and B aren't the same length, but I'm not sure how to fix that issue.</p>\n\n<p>Please help.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 37399, "user_id": 441387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf2c39b5cc1cb9db06cecb16dc8e665c?s=128&d=identicon&r=PG", "display_name": "Henrik Andersson", "link": "https://stackoverflow.com/users/441387/henrik-andersson"}, "edited": false, "score": 0, "creation_date": 1423686879, "post_id": 28463938, "comment_id": 45253620, "body": "FYI, <code>list</code> is the function you use when you cast something to a list so be careful that you don&#39;t overwrite it."}, {"owner": {"reputation": 17165, "user_id": 532978, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/605b27d2287fbf324b32d55c1f3c0299?s=128&d=identicon&r=PG", "display_name": "JCOC611", "link": "https://stackoverflow.com/users/532978/jcoc611"}, "edited": false, "score": 0, "creation_date": 1423686997, "post_id": 28463938, "comment_id": 45253686, "body": "Welcome to StackOverflow. I would advice you consider adding some code, even if it doesn&#39;t work, so that we can help you without doing everything for you (this site is not meant for that)."}], "answers": [{"comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1423687291, "post_id": 28464047, "comment_id": 45253830, "body": "Look at the expected output, and look at your output, do they match?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423689327, "post_id": 28464047, "comment_id": 45254933, "body": "I must have misinterpreted. I thought you were referring to an extra space in my final list."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 4, "last_activity_date": 1423689250, "last_edit_date": 1423689250, "creation_date": 1423687155, "answer_id": 28464047, "question_id": 28463938, "link": "https://stackoverflow.com/questions/28463938/a-function-that-chages-the-structure-of-a-python-list/28464047#28464047", "title": "a function that chages the structure of a python list", "body": "<p>Use the join method to join the contain elements in the nested lists. Then split at the spaces.</p>\n\n<pre><code>my_list = [['A B C', 'D E F'], ['1 2 3 ', '4 5 6']]\nmy_list = [' '.join(i).split() for i in my_list]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423687544, "post_id": 28464121, "comment_id": 45253975, "body": "That&#39;s nearly exactly what I did! And I&#39;m racking up the downvotes."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423687718, "post_id": 28464121, "comment_id": 45254098, "body": "@MalikBrahimi, yours will have an extra space I imagine"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 2, "creation_date": 1423688335, "post_id": 28464121, "comment_id": 45254433, "body": "Look at your first code block, then look at mine. And you&#39;re telling me I&#39;m wrong?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423688465, "post_id": 28464121, "comment_id": 45254504, "body": "@MalikBrahimi, <b>YOU ARE WRONG</b>, did you get that?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 1, "creation_date": 1423688912, "post_id": 28464121, "comment_id": 45254709, "body": "lol two downvotes for a correct answer,some people really need to get out more"}, {"owner": {"reputation": 5664, "user_id": 680727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e84ed97f423d7dd974efd8a871c5861?s=128&d=identicon&r=PG", "display_name": "Aleksi Torhamo", "link": "https://stackoverflow.com/users/680727/aleksi-torhamo"}, "edited": false, "score": 2, "creation_date": 1423689173, "post_id": 28464121, "comment_id": 45254839, "body": "@PadraicCunningham: I imagine you&#39;re being downvoted because you made the matter a lot harder than it needed to be. (For the record, I didn&#39;t downvote you)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 5664, "user_id": 680727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e84ed97f423d7dd974efd8a871c5861?s=128&d=identicon&r=PG", "display_name": "Aleksi Torhamo", "link": "https://stackoverflow.com/users/680727/aleksi-torhamo"}, "edited": false, "score": 1, "creation_date": 1423689313, "post_id": 28464121, "comment_id": 45254920, "body": "@AleksiTorhamo, you cannot help someone when they don&#39;t want to listen"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 1, "creation_date": 1423689621, "post_id": 28464121, "comment_id": 45255086, "body": "Again Padraic, sorry for my difficulty. I honestly didn&#39;t see the space in the original question, as the code wasn&#39;t very well formatted. I don&#39;t really think Robin intended to put it there. I think it was just a mistyping."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423689759, "post_id": 28464121, "comment_id": 45255161, "body": "@MalikBrahimi, don&#39;t worry about it, I was trying to help you originally by pointing out there was an extra element in your output. I had not downvoted you either and to be honest until you commented on mine I had not even looked at another answer. I was always going to use just join I just pasted the wrong code originally."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1423689354, "last_edit_date": 1423689354, "creation_date": 1423687439, "answer_id": 28464121, "question_id": 28463938, "link": "https://stackoverflow.com/questions/28463938/a-function-that-chages-the-structure-of-a-python-list/28464121#28464121", "title": "a function that chages the structure of a python list", "body": "<p>Join your subelements making sure to leave a space when joining then split on whitespace to split into individual elements and remove any trailing whitespace.</p>\n\n<pre><code>print([ \" \".join(sub).split() for sub in l])\n[['A', 'B', 'C', 'D', 'E', 'F'], ['1', '2', '3', '4', '5', '6']]\n</code></pre>\n\n<p>If you only have two subelements unpack and split using str.format to allow a space between for splitting:</p>\n\n<pre><code>print([ \"{} {}\".format(a,b).split() for a,b in l ])\n\n[['A', 'B', 'C', 'D', 'E', 'F'], ['1', '2', '3', '4', '5', '6']]\n</code></pre>\n\n<p>If you are using list as a variable name then don't as you will be shadowing the builtin list which often leads to more questions on SO...</p>\n"}, {"tags": [], "owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "is_accepted": false, "score": 3, "last_activity_date": 1423698297, "last_edit_date": 1423698297, "creation_date": 1423688334, "answer_id": 28464382, "question_id": 28463938, "link": "https://stackoverflow.com/questions/28463938/a-function-that-chages-the-structure-of-a-python-list/28464382#28464382", "title": "a function that chages the structure of a python list", "body": "<p>Sometimes it's best not to over think it. Lets start with just one piece of your problem, <code>['A B C','D E F']</code> . You want to split each string, and put parts into a result list. Let's start by writing that function. You've correctly stated that this can be done using <code>split</code>/<code>append</code>, but lists also happen to have an <code>extend</code> method which will save you a few lines of code.</p>\n\n<pre><code>def as_char(seq):\n    result = []\n    for item in seq:\n        result.extend(item.split())\n    return result\n</code></pre>\n\n<p>Now you want to apply that function to every list in your input. For that you can use <code>map</code> for a list comprehension.</p>\n\n<pre><code>sample_input = [['A B C','D E F'],['1 2 3 ', '4 5 6 ']]\noutput = map(as_char, sample_input)\n# or\noutput = [as_char(item) for item in sample_input]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": true, "score": 0, "last_activity_date": 1423689098, "last_edit_date": 1423689098, "creation_date": 1423688688, "answer_id": 28464458, "question_id": 28463938, "link": "https://stackoverflow.com/questions/28463938/a-function-that-chages-the-structure-of-a-python-list/28464458#28464458", "title": "a function that chages the structure of a python list", "body": "<p>How about this:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = [['A B C','D E F'],['1 2 3 ', '4 5 6 ']]\n&gt;&gt;&gt; map(lambda x:x.split(), map(\" \".join, my_list))\n[['A', 'B', 'C', 'D', 'E', 'F'], ['1', '2', '3', '4', '5', '6']]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4556250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5be8682a3df5dcae0f22d4926bb1290?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/4556250/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 28464458, "answer_count": 4, "score": 0, "last_activity_date": 1423698297, "creation_date": 1423686775, "last_edit_date": 1423687958, "question_id": 28463938, "link": "https://stackoverflow.com/questions/28463938/a-function-that-chages-the-structure-of-a-python-list", "title": "a function that chages the structure of a python list", "body": "<p>I plan to write a python function that can change the structure of a list.\nThe input is:</p>\n\n<pre><code>list=[['A B C','D E F'],['1 2 3 ', '4 5 6 ']]\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>list=[['A','B','C','D','E','F'],['1','2','3','4','5','6']]\n</code></pre>\n\n<p>I know I need the <code>split()</code> and <code>append()</code>. The confusing part is the loops.\nThanks so much!!</p>\n"}, {"tags": ["python", "selenium", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1423686963, "post_id": 28463934, "comment_id": 45253672, "body": "Does it hang if chrome options are not specified? Which selenium and chrome versions are you using?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1423687380, "post_id": 28463934, "comment_id": 45253895, "body": "Also, try to add debug log messages and see on which line is it hanging. Also, show how do you start <code>xvfb</code>. Thanks."}, {"owner": {"reputation": 935, "user_id": 1751987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b06b2efa20a314ab3e7b2408fa8a9613?s=128&d=identicon&r=PG", "display_name": "Trevor", "link": "https://stackoverflow.com/users/1751987/trevor"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1423687627, "post_id": 28463934, "comment_id": 45254028, "body": "see my edits. I&#39;ve been adding debug messages over the few times that this has happened, though I guess I wasn&#39;t thorough enough."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1423687843, "post_id": 28463934, "comment_id": 45254180, "body": "Well, the first thing to try is to upgrade selenium to the latest (currently 2.44) version."}, {"owner": {"reputation": 8075, "user_id": 2624089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85311cccae59eee02de7052cdd422618?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/2624089/richard"}, "edited": false, "score": 0, "creation_date": 1423687956, "post_id": 28463934, "comment_id": 45254247, "body": "I think the Chromedriver is the culprit here.  Chromedriver 2.10 only covers up to Chrome version 36."}, {"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1429643467, "post_id": 28463934, "comment_id": 47692212, "body": "do you ever stop xvfb?  or just keep spawning new ones?"}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 1751987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b06b2efa20a314ab3e7b2408fa8a9613?s=128&d=identicon&r=PG", "display_name": "Trevor", "link": "https://stackoverflow.com/users/1751987/trevor"}, "is_accepted": true, "score": 1, "last_activity_date": 1434665339, "creation_date": 1434665339, "answer_id": 30926659, "question_id": 28463934, "link": "https://stackoverflow.com/questions/28463934/selenium-chromedriver-hangs/30926659#30926659", "title": "Selenium Chromedriver Hangs?", "body": "<p>I never found out the specific piece of code that was causing this problem, but creating a fresh instance of Xvfb with each driver load seems to have fixed it. Perhaps there is a memory leak somewhere in the interaction between selenium and Xvfb? Either way, marking this as closed.</p>\n"}, {"tags": [], "owner": {"reputation": 1266, "user_id": 307766, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/6ed50089c7518715832099ae34621a6c?s=128&d=identicon&r=PG", "display_name": "Kevin Schroeder", "link": "https://stackoverflow.com/users/307766/kevin-schroeder"}, "is_accepted": false, "score": 10, "last_activity_date": 1460463137, "creation_date": 1460463137, "answer_id": 36572903, "question_id": 28463934, "link": "https://stackoverflow.com/questions/28463934/selenium-chromedriver-hangs/36572903#36572903", "title": "Selenium Chromedriver Hangs?", "body": "<p>I ran into a similar issue and found the answer <a href=\"https://github.com/SeleniumHQ/docker-selenium/issues/87\" rel=\"noreferrer\">here</a> and blogged about it <a href=\"http://www.eschrade.com/page/chromedriver-hangs-with-selenium-server-and-xvfb/\" rel=\"noreferrer\">here</a>.  Setting the environment variable DBUS_SESSION_BUS_ADDRESS=/dev/null worked for me without having to restart Xvfb all the time.</p>\n"}], "owner": {"reputation": 935, "user_id": 1751987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b06b2efa20a314ab3e7b2408fa8a9613?s=128&d=identicon&r=PG", "display_name": "Trevor", "link": "https://stackoverflow.com/users/1751987/trevor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8673, "favorite_count": 5, "accepted_answer_id": 30926659, "answer_count": 2, "score": 10, "last_activity_date": 1460463137, "creation_date": 1423686760, "last_edit_date": 1423769772, "question_id": 28463934, "link": "https://stackoverflow.com/questions/28463934/selenium-chromedriver-hangs", "title": "Selenium Chromedriver Hangs?", "body": "<p>I have a long running python app that will periodically (every 30-60 seconds) open a webpage with selenium and chrome driver, run some javascript and take a screenshot. Its running on an EC2 ubuntu instance with chrome in Xvfb and for the most part everything is working, except intermittently the program will hang. It is happening on one of these lines:</p>\n\n<pre><code>    options = Options()\n    options.add_argument(\"--disable-web-security\")\n    options.add_argument(\"--webdriver-logfile=webdrive.log\")\n    dc = DesiredCapabilities.CHROME\n    dc['loggingPrefs'] = {'browser': 'ALL'}\n    driver = webdriver.Chrome(chrome_options=options, desired_capabilities=dc)\n    driver.get(url);\n</code></pre>\n\n<p>(I don't have an exact line but I know from debug statements I have put in that it is somewhere in between here)</p>\n\n<p>Unfortunately, the program doesn't crash so it doesn't have any error messages, its just waiting endlessly since 7pm last night. Running <code>strace -p 'python program pid'</code> returns: <code>wait4(-1,</code> and running <code>strace -p 'chromedriver pid'</code> returns <code>recvfrom(20,</code></p>\n\n<p>I can see in <code>ps axjf</code> that the process is still running, its just not doing anything. I'm sort of at a loss of what to do now, any suggestions?</p>\n\n<p>chromedriver version: 2.10.267518</p>\n\n<p>Google Chrome 40.0.2214.111</p>\n\n<p>Selenium (installed with pip): 2.42.1</p>\n\n<pre><code>#https://github.com/cgoldberg/xvfbwrapper\nxvfb = Xvfb(width=1920, height=1920)\nxvfb.start()\n</code></pre>\n\n<p>---- EDIT ----</p>\n\n<p>I have just updated to <code>ChromeDriver 2.14.313457</code> and <code>Selenium 2.44.0</code>, hopefully this will fix the issue. I'm going to leave this open for now. Thanks for the advice so far guys!</p>\n\n<p>---- EDIT ----</p>\n\n<p>So the service still ended up hanging. I'm wondering if this is because for every screenshot I close and restart google-chrome? Is this possibly causing a memory leak somehow? How could I diagnose this?</p>\n"}, {"tags": ["python", "file", "text"], "answers": [{"tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": false, "score": 1, "last_activity_date": 1423688803, "creation_date": 1423688803, "answer_id": 28464489, "question_id": 28463906, "link": "https://stackoverflow.com/questions/28463906/deleting-text-from-file-using-python/28464489#28464489", "title": "Deleting text from file using python", "body": "<p>Here's how to delete a name and highscore:</p>\n\n<pre><code>def deletescore(name, newscore):\n    names = ['Alex', 'Jason', 'Will', 'Jon']\n    scores = [10, 88, 55, 95]\n    scores.append(newscore)\n    names.remove(name)\n    scores = sorted(scores, reverse=True)\n   scores.remove(scores[0])\nprint names\nprint scores\n\ndeletescore('Jason',94)\n</code></pre>\n\n<p>results:</p>\n\n<pre><code>['Alex', 'Will', 'Jon']\n[94, 88, 55, 10]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4250177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d287b73299604a9f66f1e9cdcb96c57?s=128&d=identicon&r=PG&f=1", "display_name": "jburke424", "link": "https://stackoverflow.com/users/4250177/jburke424"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436173038, "creation_date": 1423686661, "last_edit_date": 1436173038, "question_id": 28463906, "link": "https://stackoverflow.com/questions/28463906/deleting-text-from-file-using-python", "title": "Deleting text from file using python", "body": "<p>I am writing a function for a program that can add/delete/read highscores and names within a text file. I have the addscore function working but cant seem to figure out about deleting a selected name and highscore from the text file. This is how i have started the delete function, i had some other code too but none of it made sense. Thank you in advance for any help. </p>\n\n<pre><code>import os\ndef deleteScore():\n    nameDelete = input(\"Enter a name you would like to delete... \")\n    deleteFile = open(\"highscores.txt\", \"r\")\n    deleteList = deleteFile.readlines()\n    deleteFile.close()\n</code></pre>\n\n<p>this is also the addscore function which is working perfectly and write to the text file in the format :</p>\n\n<blockquote>\n  <p>jim99</p>\n</blockquote>\n\n<pre><code>def addScore():\n#asks user for a name and a score\nname = input(\"Please enter the name you want to add... \")\nscore = inputInt(\"Please enter the highscore... \")\nmessage = \"\"\n\n#opens the highscore file and reads all lines\n#the file is then closed\nscoresFile = open(\"highscores.txt\",\"r\")\nscoresList = scoresFile.readlines()\nscoresFile.close()\n\n#for each line in the list\nfor i in range(0, len(scoresList)):\n    #checks to see if the name is in the line\n    if name in scoresList[i]:\n        #if it is then takes the name from the text to leave the score\n        tempscore = scoresList[i].replace(name, \"\")\n\n        #if the score is new then add to the list \n        if int(tempscore) &lt; score:\n            message = \"Score Updated\"\n            scoresList[i] = (name + str(score))\n\n            #Writes the score back into the file\n            scoresFile = open(\"highscores.txt\", \"w\")\n            for line in scoresList:\n                scoresFile.write(line + \"\\n\")\n            scoresFile.close()\n\n            #breaks the loop\n            break\n        else:\n            #sets the message as score too low\n            message = \"Score too low! Not updated\"\n\n#if the message is blank then the name wasnt found, the file is appended to the end of the file\nif message == \"\":\n    message = \"New score added\"\n    scoresFile = open(\"highscores.txt\", \"a\")\n    scoresFile.write(name + str(score) + \"\\n\")\n    scoresFile.close()\nprint(message)\n</code></pre>\n"}, {"tags": ["python", "pickle"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1423686598, "post_id": 28463853, "comment_id": 45253473, "body": "I don&#39;t know if this is related to your problem, but you don&#39;t need to do <code>f.close()</code> if you opened <code>f</code> from inside a <code>with</code> statement. The closing is done for you automatically."}], "owner": {"reputation": 397, "user_id": 4550563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad324d47e64218fe6d0a2774fdb0248?s=128&d=identicon&r=PG&f=1", "display_name": "Richy", "link": "https://stackoverflow.com/users/4550563/richy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 1, "closed_date": 1423686684, "answer_count": 0, "score": 1, "last_activity_date": 1423686474, "creation_date": 1423686474, "question_id": 28463853, "link": "https://stackoverflow.com/questions/28463853/python-error-while-pickling", "closed_reason": "Duplicate", "title": "Python - error while pickling", "body": "<p>Trying to build a program that will compute discrete log modulo a prime p. I am attempting to perform this using a meet-in-the-middle approach. Build a hash table like this:</p>\n\n<pre><code>lhs = [powmod(g,i,p) for i in range(2**20)]\n</code></pre>\n\n<p>And then call this;</p>\n\n<pre><code>with open(\"temp1.red\",\"w\") as f:\n    pickle.dump(lhs,f)\n    f.close()\n    print (\"calculate 1/2^20 array\")\n    lhs = [xgcd(i,p)[1] for i in lhs]\n</code></pre>\n\n<p>When it hits the dump method it thr5ows a TypeError exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\lincoln\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\workspace\\Python 3\\src\\Modulo.py\", line 150, in &lt;module&gt;\n    pickle.dump(lhs,f)\nTypeError: must be str, not bytes\n</code></pre>\n\n<p>I am using Python 3.4. Any ideas?</p>\n"}, {"tags": ["python", "list", "tuples", "lowercase"], "comments": [{"owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "edited": false, "score": 0, "creation_date": 1423686809, "post_id": 28463826, "comment_id": 45253583, "body": "You don&#39;t need to use <code>.lower()</code>, <code>float()</code> should work even with uppercase E"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4556502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6521c4911dae075201eb02592dfcc93?s=128&d=identicon&r=PG&f=1", "display_name": "jackiej", "link": "https://stackoverflow.com/users/4556502/jackiej"}, "edited": false, "score": 1, "creation_date": 1423687188, "post_id": 28463866, "comment_id": 45253775, "body": "Using Michal&#39;s answer yielded the correct response.  Thanks!"}, {"owner": {"reputation": 3008, "user_id": 2209329, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e62709eac24c8a174c5f876e1cb63b39?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Szyd\u0142owski", "link": "https://stackoverflow.com/users/2209329/micha%c5%82-szyd%c5%82owski"}, "reply_to_user": {"reputation": 21, "user_id": 4556502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6521c4911dae075201eb02592dfcc93?s=128&d=identicon&r=PG&f=1", "display_name": "jackiej", "link": "https://stackoverflow.com/users/4556502/jackiej"}, "edited": false, "score": 1, "creation_date": 1423687351, "post_id": 28463866, "comment_id": 45253880, "body": "glad I could help, think of accepting one of the answers as correct"}], "tags": [], "owner": {"reputation": 3008, "user_id": 2209329, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e62709eac24c8a174c5f876e1cb63b39?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Szyd\u0142owski", "link": "https://stackoverflow.com/users/2209329/micha%c5%82-szyd%c5%82owski"}, "is_accepted": false, "score": 1, "last_activity_date": 1423686931, "last_edit_date": 1423686931, "creation_date": 1423686523, "answer_id": 28463866, "question_id": 28463826, "link": "https://stackoverflow.com/questions/28463826/python-using-lower-function-on-tuples/28463866#28463866", "title": "Python: Using lower function on tuples", "body": "<p>Because it doesn't. You could iterate over the tuple fields first, and then over the entire list.</p>\n\n<p>Since tuple doesn't have a <code>.lower</code> method, use a nested list comprehension to get a list of list corresponding to your original list of tuples:</p>\n\n<pre><code>&gt;&gt;&gt; EarthV = [('4.2997980E+12', '7.5608735E+13'), ('1.8986931E+00', '3.0367303E+02'), ('3.4997980E+12', '7.5608735E+13'), ('-4.9202352E+04', '2.8277192E+06')]\n&gt;&gt;&gt; [[x.lower()  for x in element] for element in EarthV]\n[['4.2997980e+12', '7.5608735e+13'], ['1.8986931e+00', '3.0367303e+02'], ['3.4997980e+12', '7.5608735e+13'], ['-4.9202352e+04', '2.8277192e+06']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 4438564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e106d381efbaff42e495ed0843a6235d?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Epstein", "link": "https://stackoverflow.com/users/4438564/jonathan-epstein"}, "is_accepted": false, "score": 0, "last_activity_date": 1423687837, "last_edit_date": 1423687837, "creation_date": 1423686798, "answer_id": 28463944, "question_id": 28463826, "link": "https://stackoverflow.com/questions/28463826/python-using-lower-function-on-tuples/28463944#28463944", "title": "Python: Using lower function on tuples", "body": "<p>Can also iterate over lists as a substitute for tuples</p>\n\n<pre><code>EarthU = [['4.2997980E+12', '7.5608735E+13'], ['1.8986931E+00', '3.0367303E+02'], ['3.4997980E+12', '7.5608735E+13'], ['-4.9202352E+04', '2.8277192E+06']]\nearthv = []\nfor x in EarthU:\n   z = []\n   for y in x:\n       y = str(y).replace('E','e')\n       y =  (0.3048*0.3048)*float(y)\n       z.append(y)\n   earthv.append(z)\nprint earthv\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[[399464305585.92004, 7024281332054.4], [0.17639436101702402, 28.2121476530112], [325141873585.92004, 7024281332054.4], [-4571.048075950081, 262703.709946368]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2903, "user_id": 4340076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b1bc392e1cc52cc64c0d207c6ed680?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4340076/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1423688548, "last_edit_date": 1423688548, "creation_date": 1423687015, "answer_id": 28464010, "question_id": 28463826, "link": "https://stackoverflow.com/questions/28463826/python-using-lower-function-on-tuples/28464010#28464010", "title": "Python: Using lower function on tuples", "body": "<p>The reason that you receive the <code>AttributeError: 'tuple' object has no attribute 'lower'</code> is because you are applying the <code>.lower()</code> to a tuple as opposed to a string.  You need to first iterate over the elements in the tuple and apply <code>.lower()</code> then apply your mathematical operation.  This can be performed in one line using list comprehensions and generator expression as follows (w/o using .lower()):</p>\n\n<pre><code>In [7]:\n\nEarthV = [('4.2997980E+12', '7.5608735E+13'), ('1.8986931E+00', '3.0367303E+02'), ('3.4997980E+12', '7.5608735E+13'), ('-4.9202352E+04', '2.8277192E+06')]\nearthV = [tuple((0.3048*0.3048)*float(element) for element in tple) for tple in EarthV]\nprint earthV\n\n\n[(399464305585.92004, 7024281332054.4), (0.17639436101702402, 28.2121476530112), (325141873585.92004, 7024281332054.4), (-4571.048075950081, 262703.709946368)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "is_accepted": false, "score": 3, "last_activity_date": 1423687334, "creation_date": 1423687334, "answer_id": 28464092, "question_id": 28463826, "link": "https://stackoverflow.com/questions/28463826/python-using-lower-function-on-tuples/28464092#28464092", "title": "Python: Using lower function on tuples", "body": "<p>Parsing of string to a floating point number works with both uppercase 'E' and lowercase 'e'.</p>\n\n<p>Your code can be shortened to:</p>\n\n<pre><code>EarthU = ['1.3719107E+11', '8.3311764E-02', '2.2719107E+11', '1.4880643E+03']\nearthU = [(0.3048*0.3048)*float(element) for element in earthU]\n</code></pre>\n\n<p>And for tuples you can use a single list comprehension by extracting the elements of tuples (since tuple itself doesn't have <code>.lower()</code> method but its elements do):</p>\n\n<pre><code>EarthV = [('4.2997980E+12', '7.5608735E+13'), ('1.8986931E+00', '3.0367303E+02'), ('3.4997980E+12', '7.5608735E+13'), ('-4.9202352E+04', '2.8277192E+06')]\nearthV = [(float(x), float(y)) for x,y in EarthV]\n</code></pre>\n\n<p>If you really need lowercase:</p>\n\n<pre><code>earthV = [(x.lower(), y.lower()) for x,y in EarthV]\n</code></pre>\n\n<p>This form <code>for x,y in EarthV</code> destructures the element of <code>EarthV</code> by taking the first part of the tuple element and binds it to <code>x</code> and the second part of the tuple binds to <code>y</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4556502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6521c4911dae075201eb02592dfcc93?s=128&d=identicon&r=PG&f=1", "display_name": "jackiej", "link": "https://stackoverflow.com/users/4556502/jackiej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8113, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1423688548, "creation_date": 1423686360, "question_id": 28463826, "link": "https://stackoverflow.com/questions/28463826/python-using-lower-function-on-tuples", "title": "Python: Using lower function on tuples", "body": "<p>I'm new to Python and have looked at quite a bit of documentation to figure out what is going on, but haven't had any luck. </p>\n\n<p>I have a list of tuples that I need to convert to lowercase and perform mathematical operations on all values in the list. The \"E\", needs to become an \"e\" in order to perform mathematical operations.  </p>\n\n<p>If there is a single value in a given list of tuples, the following works: </p>\n\n<pre><code>EarthU = ['1.3719107E+11', '8.3311764E-02', '2.2719107E+11', '1.4880643E+03']\nearthU = [element.lower() for element in EarthU]\nearthU = [(0.3048*0.3048)*float(element) for element in earthU]\n</code></pre>\n\n<p>If there are more than one value for each tuple in a given list of tuples and I try the same logic: </p>\n\n<pre><code>EarthV = [('4.2997980E+12', '7.5608735E+13'), (1.8986931E+00', '3.0367303E+02'), ('3.4997980E+12', '7.5608735E+13'), ('-4.9202352E+04', '2.8277192E+06')]\nearthV = [element.lower() for element in EarthV]\n</code></pre>\n\n<p>And I receive the following error when trying to convert each element in the tuple to lowercase: </p>\n\n<blockquote>\n  <p>AttributeError: 'tuple' object has no attribute 'lower'</p>\n</blockquote>\n\n<p>I have a feeling that this attribute error I am running into will become a problem when I try to perform the mathematical operations as well. \nThanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423686250, "post_id": 28463726, "comment_id": 45253282, "body": "You don&#39;t need to initialize the iterative variable before the loop."}, {"owner": {"reputation": 51553, "user_id": 82474, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7f82cba9dbc95e901b4280ab315bbf1?s=128&d=identicon&r=PG", "display_name": "Eric Wilson", "link": "https://stackoverflow.com/users/82474/eric-wilson"}, "edited": false, "score": 0, "creation_date": 1423686258, "post_id": 28463726, "comment_id": 45253289, "body": "Don&#39;t bother with IDLE if it doesn&#39;t suit you. Do install IPython, as the IPython console is far superior to the default REPL."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1423686415, "post_id": 28463726, "comment_id": 45253370, "body": "I&#39;d go with Sublime. More aesthetic, very functional."}, {"owner": {"reputation": 737, "user_id": 4421112, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/39u3s.jpg?s=128&g=1", "display_name": "Mozein", "link": "https://stackoverflow.com/users/4421112/mozein"}, "edited": false, "score": 0, "creation_date": 1423686782, "post_id": 28463726, "comment_id": 45253566, "body": "I have to use IDLE since it&#39;s a school requirement. I don&#39;t like the fact that I have to call the function in shell instead of just pressing run."}], "answers": [{"tags": [], "owner": {"reputation": 60360, "user_id": 1860929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6UcuF.jpg?s=128&g=1", "display_name": "Anshul Goyal", "link": "https://stackoverflow.com/users/1860929/anshul-goyal"}, "is_accepted": true, "score": 5, "last_activity_date": 1423686114, "creation_date": 1423686114, "answer_id": 28463748, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working/28463748#28463748", "title": "Python shuffle list not working", "body": "<p><a href=\"https://docs.python.org/2/library/random.html#random.shuffle\" rel=\"noreferrer\"><code>random.shuffle</code></a> shuffles the list in place, and its output is <code>None</code>.</p>\n\n<p>Since you store and return its output in <code>shuffleList = random.shuffle(aList)</code>, nothing is printed.</p>\n\n<p>So instead, return the <code>aList</code> back:</p>\n\n<pre><code>import random\ndef shuffle():\n    aList = []\n    i = 0\n    for i in range(0, 5):\n        elements = input(\": \")\n        aList.append(elements)\n    random.shuffle(aList)\n    return aList\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2072, "user_id": 4456243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xACLxDQfrvA/AAAAAAAAAAI/AAAAAAAAAAA/soJzmYcJ1FE/photo.jpg?sz=128", "display_name": "Zachary Cross", "link": "https://stackoverflow.com/users/4456243/zachary-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1423686124, "creation_date": 1423686124, "answer_id": 28463750, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working/28463750#28463750", "title": "Python shuffle list not working", "body": "<p><code>random.shuffle()</code> reorders the list in-place and returns None.</p>\n"}, {"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1423686136, "creation_date": 1423686136, "answer_id": 28463755, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working/28463755#28463755", "title": "Python shuffle list not working", "body": "<p><code>random.shuffle</code> is an in-place operation, it does not return anything</p>\n\n<pre><code>&gt;&gt;&gt; l\n[0, 1, 2, 3, 4]\n\n&gt;&gt;&gt; random.shuffle(l)\n&gt;&gt;&gt; l\n[0, 3, 1, 4, 2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7750, "user_id": 832136, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/MeiCh.jpg?s=128&g=1", "display_name": "Hannele", "link": "https://stackoverflow.com/users/832136/hannele"}, "is_accepted": false, "score": 2, "last_activity_date": 1423773404, "last_edit_date": 1423773404, "creation_date": 1423686158, "answer_id": 28463764, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working/28463764#28463764", "title": "Python shuffle list not working", "body": "<p><a href=\"https://docs.python.org/2/library/random.html#random.shuffle\" rel=\"nofollow\"><code>random.shuffle</code></a> works <a href=\"http://en.wikipedia.org/wiki/In-place_algorithm\" rel=\"nofollow\">in place</a>, meaning it updates the provided parameter, rather than returning a value (other than the default, <code>None</code>). In C++, you would need to pass a reference to the list instead (e.g. <code>int** aList</code>), but in Python this distinction doesn't really exist.</p>\n\n<p>So, you're actually setting <code>shuffleList</code> to <code>None</code>, and then returning it!</p>\n\n<p>You can confirm this by using <code>print</code> to actually show the results when you're finished - just returning the value from the function won't output anything, as far as I am aware:</p>\n\n<pre><code>results = shuffle()\nprint results\n</code></pre>\n\n<p>To fix it, just return <code>aList</code>, instead of storing the result in another variable:</p>\n\n<pre><code>random.shuffle(aList)\nreturn aList\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 4421112, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/39u3s.jpg?s=128&g=1", "display_name": "Mozein", "link": "https://stackoverflow.com/users/4421112/mozein"}, "edited": false, "score": 0, "creation_date": 1423686688, "post_id": 28463775, "comment_id": 45253521, "body": "You are printing the function which does not work. returning th elist is enough. I believe thats the problem"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 737, "user_id": 4421112, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/39u3s.jpg?s=128&g=1", "display_name": "Mozein", "link": "https://stackoverflow.com/users/4421112/mozein"}, "edited": false, "score": 0, "creation_date": 1423686733, "post_id": 28463775, "comment_id": 45253544, "body": "I added the print after the downvotes started rolling in and this willwork by the way. You&#39;re just printing a list."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 737, "user_id": 4421112, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/39u3s.jpg?s=128&g=1", "display_name": "Mozein", "link": "https://stackoverflow.com/users/4421112/mozein"}, "edited": false, "score": 0, "creation_date": 1423686892, "post_id": 28463775, "comment_id": 45253630, "body": "Really guys? Why the downvotes? This works fine!"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423686212, "creation_date": 1423686212, "answer_id": 28463775, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working/28463775#28463775", "title": "Python shuffle list not working", "body": "<p>Shuffle shuffles the list, it doesn't return a new list. Try this:</p>\n\n<pre><code>import random\n\ndef shuffle():\n    aList = []\n\n    for i in range(0, 5):\n        elements = input(\": \")\n        aList.append(elements)\n\n    random.shuffle(aList)\n    return aList\n\nprint shuffle()\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 4421112, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/39u3s.jpg?s=128&g=1", "display_name": "Mozein", "link": "https://stackoverflow.com/users/4421112/mozein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5967, "favorite_count": 0, "closed_date": 1423686685, "accepted_answer_id": 28463748, "answer_count": 5, "score": 5, "last_activity_date": 1423773404, "creation_date": 1423685982, "question_id": 28463726, "link": "https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working", "closed_reason": "Duplicate", "title": "Python shuffle list not working", "body": "<p>I am new with python. coming from a C++ background I'm ironically having trouble understanding the simplicity of this language not to mention how IDLE works. </p>\n\n<p>anyhow I need to write a simple function that takes a list and returns a new list with the elements inside it shuffled</p>\n\n<p>this is what I have so far</p>\n\n<pre><code>import random\ndef shuffle():\n    aList = []\n    i = 0\n    for i in range(0, 5):\n        elements = input(\": \")\n        aList.append(elements)\n\n    shuffleList = random.shuffle(aList)\n    return shuffleList\n\n\nshuffle()\n</code></pre>\n\n<p>and after I enter the elements(numerical numbers in this case), nothing outputs.. So the shuffleList for some reason is not being shown in there. Any ideas ?</p>\n\n<blockquote>\n<pre><code>&gt;&gt;&gt; \n: 1\n: 2\n: 3\n: 4\n: 5\n&gt;&gt;&gt;\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "youtube-api", "youtube-data-api"], "comments": [{"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 0, "creation_date": 1423686081, "post_id": 28463723, "comment_id": 45253194, "body": "Many sites that implement pagination in their APIs still impose a limit. Twitter only lets you go 1,000 posts back in certain endpoints. Others might be date-driven (which would be a possible explanation for why you see only some of your history and in an variable number)."}], "answers": [{"tags": [], "owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "is_accepted": false, "score": 4, "last_activity_date": 1477276784, "last_edit_date": 1477276784, "creation_date": 1423945035, "answer_id": 28519846, "question_id": 28463723, "link": "https://stackoverflow.com/questions/28463723/youtube-api-v3-returns-truncated-watch-history/28519846#28519846", "title": "YouTube API v3 returns truncated watch history", "body": "<h1>Update: As of Sept 15, 2016 the watchHistory is no longer provided in any capacity so this is, sadly, now irrelevant.</h1>\n\n<p>It seems like this is a known bug originally reported in 2013. The exact same behavior is explained on a Google Code thread: <a href=\"https://code.google.com/p/gdata-issues/issues/detail?id=4642\" rel=\"nofollow\">https://code.google.com/p/gdata-issues/issues/detail?id=4642</a></p>\n\n<p>\"I get back results but like a few posters up, they are very recent videos (possibly a day's worth).  I can't seem to find any documentation on a time limit for retrieval.  Anybody found a workaround or figured out how long the history is available?\" (recent comment on the thread)</p>\n\n<p>Looks like I'm out of luck until Google decides to fix this. Hopefully someone proves me (and everone else in that Google Code thread) wrong.</p>\n"}], "owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2897, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1477276784, "creation_date": 1423685978, "question_id": 28463723, "link": "https://stackoverflow.com/questions/28463723/youtube-api-v3-returns-truncated-watch-history", "title": "YouTube API v3 returns truncated watch history", "body": "<p>I'm able to access my watch history via the YouTube v3 data API, but it only returns my most recent 30 videos (though I see many more when I view the Watch History on YouTube.com). </p>\n\n<p>And then when I watch another video, it returns 31. When I watch another, 32. If it can return more than 30, why didn't it return more originally? I understand that the API might have a limit, but why start at 30 then grow? And with paging, there really shouldn't be a limit, right?</p>\n\n<p>I must be doing something wrong. Here's my code:</p>\n\n<pre><code>def getWatchHistory(youtube):\n    playlistId = getWatchHistoryPlaylistId(youtube)\n    videos = retrieveVideos(youtube, playlistId);\n    return videos # Only returns 30, 31, 32 videos, etc. though I have many more in my History\n\ndef getWatchHistoryPlaylistId(youtube):\n    channels_response = youtube.channels().list(\n        part=\"contentDetails\",\n        mine=True,\n    ).execute()\n\n    channel = channels_response[\"items\"][0]\n\n    playlistId = channel[\"contentDetails\"][\"relatedPlaylists\"][\"watchHistory\"]\n    return playlistId\n\ndef retrieveVideos(youtube, playlistId, nextPageToken=None):\n    # Search the specified playlist and list all videos\n    playlistItems_response = youtube.playlistItems().list(\n        part=\"snippet,contentDetails\",\n        playlistId=playlistId,\n        maxResults=50,\n        pageToken=nextPageToken\n    ).execute()\n\n    results = []\n    for x in playlistItems_response[\"items\"]:\n        videoTitle = x[\"snippet\"][\"title\"]\n        videoId = x[\"contentDetails\"][\"videoId\"]\n        videoSpec = videoId + \": \" + videoTitle\n        print 'adding to results: ' + videoSpec\n        results.append(videoSpec)\n\n    if (\"nextPageToken\" in playlistItems_response):\n        pageToken = playlistItems_response[\"nextPageToken\"]\n        results.extend(retrieveVideos(youtube, playlistId, pageToken));\n        return results\n    else:\n        return results\n</code></pre>\n"}, {"tags": ["python", "string-formatting"], "comments": [{"owner": {"reputation": 1054, "user_id": 1031027, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/c83ze.jpg?s=128&g=1", "display_name": "sc3w", "link": "https://stackoverflow.com/users/1031027/sc3w"}, "edited": false, "score": 0, "creation_date": 1423686474, "post_id": 28463639, "comment_id": 45253406, "body": "I have tried your examples and for me throws the same TypeError for both cases. Are you sure it ignores silently the second case? What version of python are you using?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1423686721, "post_id": 28463639, "comment_id": 45253540, "body": "I can reproduce this behavior in Python 2.6. Appears to be a bug in that version of Python; Python 2.7 behaves as expected."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1423687494, "post_id": 28463639, "comment_id": 45253950, "body": "I should note, I was able to reproduce the behavior with instances of any old user-defined class, not just Django classes. Even <code>class myclass: pass</code>. Then <code>&quot;foo&quot; % myclass()</code> returns <code>&quot;foo&quot;</code> instead of an error. That&#39;s why I say it&#39;s a bug in Python. <code>&quot;foo&quot; % object()</code> is an error, however."}, {"owner": {"reputation": 982, "user_id": 686782, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9712821c6075d8abef4bd1f7fe3c29a5?s=128&d=identicon&r=PG", "display_name": "user686782", "link": "https://stackoverflow.com/users/686782/user686782"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1423688855, "post_id": 28463639, "comment_id": 45254679, "body": "I&#39;m using Python 2.7.3, and it does trigger the silent ignore behavior with any instance of a user-defined class as kindall pointed out. I also tested 2.7.5 and it did the same thing. Which version behaved as expected @kindall?"}, {"owner": {"reputation": 982, "user_id": 686782, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9712821c6075d8abef4bd1f7fe3c29a5?s=128&d=identicon&r=PG", "display_name": "user686782", "link": "https://stackoverflow.com/users/686782/user686782"}, "edited": false, "score": 0, "creation_date": 1423689120, "post_id": 28463639, "comment_id": 45254815, "body": "I edited the question to remove the red herring of Django model instances."}, {"owner": {"reputation": 193, "user_id": 1966904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaffbead10d196649a3d05fe4c4d54ac?s=128&d=identicon&r=PG", "display_name": "Th30n", "link": "https://stackoverflow.com/users/1966904/th30n"}, "edited": false, "score": 0, "creation_date": 1423689275, "post_id": 28463639, "comment_id": 45254892, "body": "I believe pylint catches these errors, so maybe it might be more reliable than python implementation for catching this."}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1423689568, "post_id": 28463639, "comment_id": 45255057, "body": "Python 2.7 string <code>__mod__</code> operator: <a href=\"https://hg.python.org/cpython/file/648dcafa7e5f/Objects/stringobject.c#l3743\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/648dcafa7e5f/Objects/&hellip;</a>  <code>PyString_Format()</code>: <a href=\"https://hg.python.org/cpython/file/648dcafa7e5f/Objects/stringobject.c#l4231\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/648dcafa7e5f/Objects/&hellip;</a> ... looks one big hairy function and no comments :("}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1423692532, "post_id": 28463639, "comment_id": 45256630, "body": "The version of Python 2.7 that I didn&#39;t see the bug with was Python 2.7.5, so it&#39;s odd that @user686782 saw it there! Maybe a platform difference...? (Windows here.)"}], "answers": [{"comments": [{"owner": {"reputation": 982, "user_id": 686782, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9712821c6075d8abef4bd1f7fe3c29a5?s=128&d=identicon&r=PG", "display_name": "user686782", "link": "https://stackoverflow.com/users/686782/user686782"}, "edited": false, "score": 0, "creation_date": 1423691421, "post_id": 28464634, "comment_id": 45256051, "body": "Perfect explanation: thanks! I guess it &quot;makes sense&quot; in the same way as how <code>{} + [] == 0</code> in JS: perfectly specified but really confusing."}], "tags": [], "owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "is_accepted": true, "score": 3, "last_activity_date": 1423689644, "last_edit_date": 1495542034, "creation_date": 1423689298, "answer_id": 28464634, "question_id": 28463639, "link": "https://stackoverflow.com/questions/28463639/why-does-python-string-formatting-silently-ignore-mismatched-argument-counts-wit/28464634#28464634", "title": "Why does Python string formatting silently ignore mismatched argument counts with class instances?", "body": "<p><strong>This is exactly why <code>%</code>-formatting is <em>old</em></strong></p>\n\n<p><code>%</code>-formatting is <em>well known</em> for its inconsistencies about argument handling which result in exceptions or not depending on the type. There are only two ways to use <code>%</code> formatting and avoid inconsistencies:</p>\n\n<ol>\n<li>Make sure the formatting string contains <em>exactly</em> one formatting field and pass the object to format as only right argument</li>\n<li>Use a <code>tuple</code> or <code>dict</code> as right argument. Don't use <code>list</code>s, <code>set</code>s or <code>Model</code>s. <strong>Only</strong> <code>tuple</code>s and <code>dicts</code>. </li>\n</ol>\n\n<p>These are taken from the <a href=\"https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>If format requires a single argument, values may be a single non-tuple\n  object. Otherwise, values <strong>must</strong> be a tuple with exactly the number\n  of items specified by the format string, or a single mapping object\n  (for example, a dictionary).</p>\n</blockquote>\n\n<p>Your examples do not fall in these two cases because you have 0 formatting fields, which is different than 1 and thus the right argument <strong>must</strong> be a <code>tuple</code> or a mapping, but you are passing a string and a user defined object. As such you are under \"undefined behaviour\".</p>\n\n<p>The inconsistencies on the error messages were already discussed in <a href=\"https://stackoverflow.com/q/13864532/510937\">this</a> question (in my answer).</p>\n\n<p>If you want more consistent behaviour, use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\"><code>str.format</code></a>.</p>\n"}], "owner": {"reputation": 982, "user_id": 686782, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9712821c6075d8abef4bd1f7fe3c29a5?s=128&d=identicon&r=PG", "display_name": "user686782", "link": "https://stackoverflow.com/users/686782/user686782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 28464634, "answer_count": 1, "score": 4, "last_activity_date": 1423689644, "creation_date": 1423685655, "last_edit_date": 1423689056, "question_id": 28463639, "link": "https://stackoverflow.com/questions/28463639/why-does-python-string-formatting-silently-ignore-mismatched-argument-counts-wit", "title": "Why does Python string formatting silently ignore mismatched argument counts with class instances?", "body": "<p>Normally, Python old-style string formatting complains if the number of placeholders in the string doesn't match the number of arguments passed:</p>\n\n<pre><code>&gt;&gt;&gt; 'no.placeholders.here' % 'test'\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: not all arguments converted during string formatting\n</code></pre>\n\n<p>However, when the argument passed is an instance of a user-defined class, it instead silently ignores it:</p>\n\n<pre><code>&gt;&gt;&gt; class Test(object): pass\n&gt;&gt;&gt; 'no.placeholders.here' % Test()\n'no.placeholders.here'\n</code></pre>\n\n<p>This behavior seems inconsistent and has resulted in some difficult-to-track-down bugs. Why does the type of the format argument matter for the purposes of this error?</p>\n"}, {"tags": ["python", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 6093, "user_id": 4293020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352ea26cb808b26c421ab55184231322?s=128&d=identicon&r=PG", "display_name": "Simon Gibbons", "link": "https://stackoverflow.com/users/4293020/simon-gibbons"}, "edited": false, "score": 2, "creation_date": 1423686654, "post_id": 28463626, "comment_id": 45253501, "body": "Could you post the error message that ipython crashes with please?"}, {"owner": {"reputation": 11, "user_id": 945509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daaea8c2637aab322955ae531cedece?s=128&d=identicon&r=PG", "display_name": "Timothy O&#39;Brien", "link": "https://stackoverflow.com/users/945509/timothy-obrien"}, "reply_to_user": {"reputation": 6093, "user_id": 4293020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352ea26cb808b26c421ab55184231322?s=128&d=identicon&r=PG", "display_name": "Simon Gibbons", "link": "https://stackoverflow.com/users/4293020/simon-gibbons"}, "edited": false, "score": 0, "creation_date": 1423689227, "post_id": 28463626, "comment_id": 45254866, "body": "It&#39;s just a dialog box saying something along the lines of &quot;The kernel has stopped and will be restarted&quot;. Pretty sure it&#39;s due to the size of the matrix."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 945509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daaea8c2637aab322955ae531cedece?s=128&d=identicon&r=PG", "display_name": "Timothy O&#39;Brien", "link": "https://stackoverflow.com/users/945509/timothy-obrien"}, "edited": false, "score": 0, "creation_date": 1423687301, "post_id": 28463961, "comment_id": 45253840, "body": "My scipy version is 0.14.1. Yes, the matrix is very big and is quite dense. There are ~3,000,000,000 non-zero entries. I believe that is the issue. I&#39;m wondering if there are any tricks to get around this (perhaps some way to efficiently round down very small entries to zero?)"}, {"owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "reply_to_user": {"reputation": 11, "user_id": 945509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daaea8c2637aab322955ae531cedece?s=128&d=identicon&r=PG", "display_name": "Timothy O&#39;Brien", "link": "https://stackoverflow.com/users/945509/timothy-obrien"}, "edited": false, "score": 0, "creation_date": 1423687511, "post_id": 28463961, "comment_id": 45253958, "body": "Thats a good idea, but I don&#39;t know how to do it off hand. I would look into trying to set a precision flag. How are you constructing the matrix? Maybe you could zero some data before it goes into it?"}], "tags": [], "owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "is_accepted": false, "score": 1, "last_activity_date": 1423686849, "creation_date": 1423686849, "answer_id": 28463961, "question_id": 28463626, "link": "https://stackoverflow.com/questions/28463626/filtering-a-large-sparse-matrix-in-python/28463961#28463961", "title": "Filtering a large sparse matrix in python", "body": "<p>I would try performing the operation on a smaller set of data \nI just tried </p>\n\n<pre><code>In [22]: import scipy.sparse as sps\nIn [23]: m = sps.csr_matrix(np.random.rand(100,100))\n\nIn [24]: m\nOut[24]: \n&lt;100x100 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\n    with 10000 stored elements in Compressed Sparse Row format&gt;\n\nIn [25]: m &gt; .5\nOut[25]: \n&lt;100x100 sparse matrix of type '&lt;type 'numpy.bool_'&gt;'\n    with 5028 stored elements in Compressed Sparse Row format&gt;\n</code></pre>\n\n<p>So that seemed to work. Maybe your matrix is too big / dense. Did you build scipy yourself? Perhaps there is a build error causing it to crash.</p>\n\n<p>What is your OS / version of python / version of scipy?</p>\n\n<pre><code>import scipy\nscipy.__version__\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 945509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daaea8c2637aab322955ae531cedece?s=128&d=identicon&r=PG", "display_name": "Timothy O&#39;Brien", "link": "https://stackoverflow.com/users/945509/timothy-obrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423699460, "creation_date": 1423685622, "question_id": 28463626, "link": "https://stackoverflow.com/questions/28463626/filtering-a-large-sparse-matrix-in-python", "title": "Filtering a large sparse matrix in python", "body": "<p>I have a large (60,000 x 60,000) symmetric document similarity matrix stored in the scipy sparse csr_matrix format.</p>\n\n<p>I want to find the indices of all values that are above a certain value. In other words, all the document pairs that have a similarity score greater than a certain value.</p>\n\n<p>When I try something like</p>\n\n<pre><code>matrix &gt; 0.9\n</code></pre>\n\n<p>my ipython kernel crashes. </p>\n\n<p>I'm new to scipy and numpy, so any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "python-3.x", "python-imaging-library", "pillow"], "comments": [{"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 1, "creation_date": 1423686572, "post_id": 28463552, "comment_id": 45253455, "body": "If you are having trouble building the <code>.egg</code> file for <code>PIL</code>, alternatively you could download <code>Pillow</code>&#39;s <code>.egg</code> file pre-made <a href=\"https://pypi.python.org/pypi/Pillow/2.7.0\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 2725280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zikUF.jpg?s=128&g=1", "display_name": "Inazuma", "link": "https://stackoverflow.com/users/2725280/inazuma"}, "edited": false, "score": 1, "creation_date": 1423687382, "post_id": 28463618, "comment_id": 45253897, "body": "I tried doing this, using the pillow egg downloaded from PyPi. However, when using your script, I got the following error:    File &quot;C:\\Users\\USER\\Documents\\Python\\PIL test\\p import.py&quot;, line 8, in &lt;module&gt;     from PIL import Image   File pil egg file, line 63, in &lt;module&gt;     from PIL import _imaging as core   File pil egg file, line 7, in &lt;module&gt;   File pil egg file, line 6, in <b>bootstrap</b> ImportError: DLL load failed: %1 is not a valid Win32 application."}], "tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": true, "score": 4, "last_activity_date": 1423685919, "last_edit_date": 1495541875, "creation_date": 1423685604, "answer_id": 28463618, "question_id": 28463552, "link": "https://stackoverflow.com/questions/28463552/import-pillow-without-installing/28463618#28463618", "title": "Import pillow without installing", "body": "<p>One solution is bundle <code>PIL</code> in with the script in <code>.egg</code> form. Then, you can import <code>PIL</code> directly from the <code>.egg</code> instead of having to install it:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2026395/how-to-create-python-egg-file\">How to create Python egg file</a></p>\n\n<p>The basic process is as follows:</p>\n\n<p>How to create egg:</p>\n\n<ol>\n<li>Edit <code>PIL</code>'s <code>setup.py</code> to include <code>from setuptools import setup</code> instead of normal setup import</li>\n<li>Run <code>python setup.py bdist_egg</code></li>\n<li>Egg will be inside of <code>dist/</code></li>\n</ol>\n\n<p>How to import egg:</p>\n\n<p>Copy <code>.egg</code> file to script's directory and import desired modules:</p>\n\n<pre><code>import os\nimport sys\n\nDIR = os.path.dirname(__file__)\nsys.path.append(os.path.join(DIR, \"./path/to/PIL.egg\"))\n\n#You can now import from PIL normally:\nfrom PIL import Image\n</code></pre>\n"}], "owner": {"reputation": 148, "user_id": 2725280, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zikUF.jpg?s=128&g=1", "display_name": "Inazuma", "link": "https://stackoverflow.com/users/2725280/inazuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1573, "favorite_count": 2, "accepted_answer_id": 28463618, "answer_count": 1, "score": 2, "last_activity_date": 1423685919, "creation_date": 1423685393, "question_id": 28463552, "link": "https://stackoverflow.com/questions/28463552/import-pillow-without-installing", "title": "Import pillow without installing", "body": "<p>I am working on a Python project that requires PIL to show images. However, the computers that I am working on often do not allow me to install things, and have a very bare bones python setup. For this reason, most of the modules that I need I simply place in the same directory as my python files.</p>\n\n<p>I tried doing the same with PIL. I downloaded the pillow source, and copied the PIL folder into my project. I was then able to run \"import PIL\" with no problems. However, when I then tried to run \"from PIL import Image\" I get the error: \"The _Imaging C module is not installed\". From other searches I think that installing Pillow properly would fix this problem, however I would like PIL to be more portable, and not require an instillation.</p>\n\n<p>Any ideas would be great. Thanks in advance.</p>\n"}, {"tags": ["python", "css", "ruby", "node.js", "sass"], "comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1424194951, "post_id": 28463516, "comment_id": 45445504, "body": "Have you tried libsass? (Meaning it&#39;s implementation in your favourite programming language) Check this: <a href=\"http://sass-lang.com/libsass\" rel=\"nofollow noreferrer\">sass-lang.com/libsass</a>"}, {"owner": {"reputation": 7808, "user_id": 937271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/05cb1759e7799b7272464b6bfc06d6d1?s=128&d=identicon&r=PG", "display_name": "Gerard", "link": "https://stackoverflow.com/users/937271/gerard"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1424204218, "post_id": 28463516, "comment_id": 45450504, "body": "Yes I have, and as far as I&#39;ve seen, these implementations only compile SASS into CSS :( they&#39;re very good packages but not what I need. I need to be able to programatically modify the source before compilation. Thanks."}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1424204438, "post_id": 28463516, "comment_id": 45450607, "body": "Yeah, this was just my first intention. Now after having a closer look to that projects I must say you are right. However, they are a good starting point. You&#39;ll need to extract the code which parses the scss files and create something new around this. Its not a 5 minute job, but I think it is possible.. btw, I cannot understand why they put this question <i>on hold as off-topic</i>. Placed reopen-vote."}, {"owner": {"reputation": 62282, "user_id": 1652962, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cf5a0741f183379686fe0995ffc27ae?s=128&d=identicon&r=PG", "display_name": "cimmanon", "link": "https://stackoverflow.com/users/1652962/cimmanon"}, "edited": false, "score": 0, "creation_date": 1424214575, "post_id": 28463516, "comment_id": 45455485, "body": "Tool requests are off topic for SO."}, {"owner": {"reputation": 7808, "user_id": 937271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/05cb1759e7799b7272464b6bfc06d6d1?s=128&d=identicon&r=PG", "display_name": "Gerard", "link": "https://stackoverflow.com/users/937271/gerard"}, "edited": false, "score": 0, "creation_date": 1424276763, "post_id": 28463516, "comment_id": 45484018, "body": "Even though it is a tool request, the problem to solve with such tool is very specific and, from my point of view, unlikely to be opinionated since it&#39;s not an broad topic. One can stick to <i>facts</i> to why X tool would be better suited to solve X <i>problem</i>. Having said that, of course I might be missing the real &quot;why&quot; that turned this question off-topic. So, if this is off-topic for SO, where does this question belong and why there? Thanks for any clarification :)"}], "owner": {"reputation": 7808, "user_id": 937271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/05cb1759e7799b7272464b6bfc06d6d1?s=128&d=identicon&r=PG", "display_name": "Gerard", "link": "https://stackoverflow.com/users/937271/gerard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "closed_date": 1424261076, "answer_count": 0, "score": 5, "last_activity_date": 1424207296, "creation_date": 1423685268, "question_id": 28463516, "link": "https://stackoverflow.com/questions/28463516/how-to-programmatically-manipulate-scss", "closed_reason": "Not suitable for this site", "title": "How to programmatically manipulate SCSS?", "body": "<p>I'm trying to find a tool to parse and manipulate SCSS. What I need to do is programmatically \"merge\" two versions of SCSS files from different sources.</p>\n\n<p>The use cases involve files that only differ in declarations within the rules and not two totally different SCSS files.</p>\n\n<p>For example, if I have the following files:</p>\n\n<pre><code>// foo/sample.scss\n$myColor: #fff;\nbody { background-color: $myColor; margin: 0; }\n\n// bar/sample.scss\n$myColor: #ccc;\n$black: #000;\nbody { background-color: $myColor; color: $black; }\n</code></pre>\n\n<p>It would be cool to have a tool in which you could do something like:</p>\n\n<pre><code>var sass = require('some-sass-parsing-lib'),\n  fooFile = sass.parse({source: 'foo/sample.scss', otherOption: 'value'}),\n  barFile = sass.parse({source: 'bar/sample.scss', otherOption: 'value'});\n\nfunction findFooRuleSomehow () {\n  // this would be implemented by the developer, not a part of the lib\n}\n\nfunction hasDeclaration (rule, declaration) {\n  // return wether `rule` has a declaration `declaration`\n}\n\nbarFile.stylesheet.rules.forEach(function (barRule) {\n  var fooRule = findFooRuleSomehow();\n\n  rule.declarations.forEach(function (barDeclaration) {\n    if (!hasDeclaration(fooRule, barDeclaration)) {\n      fooRule.declarations.append(declaration);\n    }\n  });\n  // do the same with variables, etc.\n});\n\nsass.save(fooFile, 'result/sample.scss');  // produces the updated version of the SASS file (not CSS)\n</code></pre>\n\n<p>and produce something like:</p>\n\n<pre><code>// result/sample.scss\n$myColor: #fff;\n$black: #000;\nbody { background-color: $myColor; color: $black; margin: 0; }\n</code></pre>\n\n<p>Which, for example, would allow you to merge only new declarations from <code>bar/sample.scss</code> into <code>foo/sample.scss</code>.</p>\n\n<p>I found <a href=\"https://github.com/reworkcss/css\" rel=\"noreferrer\"><code>reworks/css</code></a> which actually allows you to do a very similar behavior to what I'm looking for but this one either a) only works for CSS (not SCSS) or b) I couldn't find what options to use so that it works for SCSS too.</p>\n\n<p>There is also <a href=\"https://github.com/sass/node-sass\" rel=\"noreferrer\"><code>node-sass</code></a> but it only renders the input to CSS, with no programmatic manipulation options.</p>\n\n<p>Do you know any tool for this you can recommend or point me to? A <code>nodejs</code>-based tool would be ideal but I'm open to alternatives in <code>ruby</code> or <code>python</code>.</p>\n"}, {"tags": ["python", "google-app-engine", "selenium-webdriver", "google-cloud-datastore", "nose-gae"], "comments": [{"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "edited": false, "score": 0, "creation_date": 1423752306, "post_id": 28463514, "comment_id": 45283087, "body": "Unless you need to test frontend javascript, you are probably better off with webtest (<a href=\"https://pypi.python.org/pypi/WebTest/\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/WebTest</a>) than with Selenium.  Webtest is faster and easier."}, {"owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "reply_to_user": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "edited": false, "score": 0, "creation_date": 1423845499, "post_id": 28463514, "comment_id": 45327729, "body": "I will be testing javascript eventually, this is just a sandbox."}], "answers": [{"comments": [{"owner": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "edited": false, "score": 0, "creation_date": 1423703095, "post_id": 28463782, "comment_id": 45260526, "body": "There&#39;s nothing about to use ancestor queries, he&#39;s asking how to make PseudoRandomHRConsistencyPolicy ignore eventual consistency."}, {"owner": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "reply_to_user": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "edited": false, "score": 0, "creation_date": 1423703818, "post_id": 28463782, "comment_id": 45260722, "body": "@DmitrySadovnychyi - No, this is not what he is asking. He is using the policy as a &quot;way to get around&quot; the eventual consistency issue - in his own words."}], "tags": [], "owner": {"reputation": 1719, "user_id": 2021517, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/855a4a04a9d20707225f9c9f9a2a365c?s=128&d=identicon&r=PG", "display_name": "dlebech", "link": "https://stackoverflow.com/users/2021517/dlebech"}, "is_accepted": false, "score": 1, "last_activity_date": 1423687647, "last_edit_date": 1423687647, "creation_date": 1423686240, "answer_id": 28463782, "question_id": 28463514, "link": "https://stackoverflow.com/questions/28463514/how-do-i-confirm-entities-are-saved-with-gaes-eventual-consistency/28463782#28463782", "title": "How do I confirm entities are saved with GAE&#39;s Eventual Consistency?", "body": "<p>Try using <a href=\"https://cloud.google.com/appengine/docs/python/ndb/queries#ancestor\" rel=\"nofollow\">ancestor queries</a> to get strong consistency instead of eventual consistency. From the docs:</p>\n\n<blockquote>\n  <p>Ancestor queries allow you to make strongly consistent queries to the datastore...</p>\n</blockquote>\n\n<p>If this does not work, the next thing I would try is to <em>not</em> reuse the <code>query</code> object but create a new the second time.</p>\n\n<p>If this does not work either, my guess is that something else is wrong. I am not familiar with browser test, but I have used <a href=\"https://cloud.google.com/appengine/docs/python/tools/handlertesting\" rel=\"nofollow\">webtest</a> with great success for testing web endpoints and have not had any consistency issues while unit testing.</p>\n"}, {"tags": [], "owner": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "is_accepted": false, "score": 1, "last_activity_date": 1423756943, "last_edit_date": 1423756943, "creation_date": 1423691013, "answer_id": 28465091, "question_id": 28463514, "link": "https://stackoverflow.com/questions/28463514/how-do-i-confirm-entities-are-saved-with-gaes-eventual-consistency/28465091#28465091", "title": "How do I confirm entities are saved with GAE&#39;s Eventual Consistency?", "body": "<p>Queries are eventually consistent (unless an ancestor is set), but a <code>get</code> operation is always consistent.</p>\n\n<p>If your objective is to simply test the code for writing an entity, you can insert an entity in this test and check if you can retrieve this entity using its key.</p>\n"}, {"comments": [{"owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423844613, "post_id": 28466152, "comment_id": 45327112, "body": "I added a wait time of 10 seconds before the assertNotEqual and the test still failed. :"}, {"owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423844684, "post_id": 28466152, "comment_id": 45327159, "body": "import time; time.sleep(10)"}, {"owner": {"reputation": 3609, "user_id": 3763102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2439148d94bddcda4415797c8f6afefa?s=128&d=identicon&r=PG", "display_name": "gipsy", "link": "https://stackoverflow.com/users/3763102/gipsy"}, "reply_to_user": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423849074, "post_id": 28466152, "comment_id": 45330020, "body": "You may have to show us what is happening on the handler at          <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>  Is it really creating a new Customer there ? etc."}, {"owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423849485, "post_id": 28466152, "comment_id": 45330248, "body": "I can see the form being filled out during the test and I also see it&#39;s being submitted."}, {"owner": {"reputation": 3609, "user_id": 3763102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2439148d94bddcda4415797c8f6afefa?s=128&d=identicon&r=PG", "display_name": "gipsy", "link": "https://stackoverflow.com/users/3763102/gipsy"}, "reply_to_user": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423850232, "post_id": 28466152, "comment_id": 45330626, "body": "Please shere the handler code including the routing."}], "tags": [], "owner": {"reputation": 3609, "user_id": 3763102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2439148d94bddcda4415797c8f6afefa?s=128&d=identicon&r=PG", "display_name": "gipsy", "link": "https://stackoverflow.com/users/3763102/gipsy"}, "is_accepted": false, "score": 5, "last_activity_date": 1423695279, "creation_date": 1423695279, "answer_id": 28466152, "question_id": 28463514, "link": "https://stackoverflow.com/questions/28463514/how-do-i-confirm-entities-are-saved-with-gaes-eventual-consistency/28466152#28466152", "title": "How do I confirm entities are saved with GAE&#39;s Eventual Consistency?", "body": "<p>The <code>PseudoRandomHRConsistencyPolicy</code> is not helping you here because your selenium test is submitting a live html form and the subsequent db update happening on the server which is outside scope of your policy.</p>\n\n<p>What you testing here is the end to end testing not the unit test per se. So your selenium  test should take care of the real world scenario and should wait for a predefined period of time before comparing the counts.</p>\n"}, {"comments": [{"owner": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "edited": false, "score": 0, "creation_date": 1423704269, "post_id": 28467435, "comment_id": 45260856, "body": "I think that the OP&#39;s intent was to simply test that his code to save the entity works, and it can be done by simply retrieving the entity by key. What you propose is a test on whether PseudoRandomHRConsistencyPolicy works (i.e. if probability is set to zero entity is not saved, but if probability is set to 1 entity will save)."}, {"owner": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "reply_to_user": {"reputation": 38473, "user_id": 821657, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qDRGg.png?s=128&g=1", "display_name": "Andrei Volgin", "link": "https://stackoverflow.com/users/821657/andrei-volgin"}, "edited": false, "score": 0, "creation_date": 1423704474, "post_id": 28467435, "comment_id": 45260913, "body": "Sure, he should receive it by key if its possible, but if he has the only one option to use non-ancestor query (and he does not care about strong consistency) -- ignoring the eventual consistency is a good option."}, {"owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "edited": false, "score": 0, "creation_date": 1423845054, "post_id": 28467435, "comment_id": 45327420, "body": "I&#39;m not sure how to receive a Key from a entity saved via Selenium. How would I do that?"}, {"owner": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "edited": false, "score": 0, "creation_date": 1423868423, "post_id": 28467435, "comment_id": 45339431, "body": "Set a custom key by monkey patching it from test, but I don&#39;t think that it will help as it does not works with strong consistency. There&#39;s a problem with something else."}], "tags": [], "owner": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "is_accepted": false, "score": 2, "last_activity_date": 1423702518, "creation_date": 1423702518, "answer_id": 28467435, "question_id": 28463514, "link": "https://stackoverflow.com/questions/28463514/how-do-i-confirm-entities-are-saved-with-gaes-eventual-consistency/28467435#28467435", "title": "How do I confirm entities are saved with GAE&#39;s Eventual Consistency?", "body": "<p>There's nothing wrong with strong/eventual consistency, but the design of your tests is wrong. Why you're trying to deal with devappserver in your tests by yourself? Why you're trying to remove entities in the end of the test? Each test should be isolated from each other and start from empty datastore with some possible initializations.</p>\n\n<p>Please, use the latest version of NoseGAE plugin. Here's two simple tests about strong/eventual consistency:</p>\n\n<pre><code>import unittest\nfrom google.appengine.ext import ndb\nfrom google.appengine.datastore import datastore_stub_util\n\n\nclass Foo(ndb.Model):\n  pass\n\n\nclass TestEventualConsistency(unittest.TestCase):\n  nosegae_datastore_v3 = True\n  nosegae_datastore_v3_kwargs = {\n    'consistency_policy': datastore_stub_util.PseudoRandomHRConsistencyPolicy(\n      probability=0)}\n\n  def test_eventual_consistency(self):\n    self.assertEqual(Foo.query().count(), 0)\n    Foo().put()\n    self.assertEqual(Foo.query().count(), 0)\n\n\nclass TestStrongConsistency(unittest.TestCase):\n  nosegae_datastore_v3 = True\n  nosegae_datastore_v3_kwargs = {\n    'consistency_policy': datastore_stub_util.PseudoRandomHRConsistencyPolicy(\n      probability=1)}\n\n  def test_strong_consistency(self):\n    self.assertEqual(Foo.query().count(), 0)\n    Foo().put()\n    self.assertEqual(Foo.query().count(), 1)\n</code></pre>\n\n<p>Notice that I don't have anything about GAE paths, dev_appserver, etc.\nYou still can control testbed by yourself, but better configure it with nosegae_*. (read about this in plugin documentation)</p>\n\n<p>And as I remember, it will work even if you will programmatically fill your HTML form, but its not unittests anymore though.</p>\n"}], "owner": {"reputation": 11316, "user_id": 86731, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/876564dd7625975a8e9029fde0b48af0?s=128&d=identicon&r=PG", "display_name": "BryanWheelock", "link": "https://stackoverflow.com/users/86731/bryanwheelock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1479256632, "creation_date": 1423685259, "last_edit_date": 1479256632, "question_id": 28463514, "link": "https://stackoverflow.com/questions/28463514/how-do-i-confirm-entities-are-saved-with-gaes-eventual-consistency", "title": "How do I confirm entities are saved with GAE&#39;s Eventual Consistency?", "body": "<p>I'm trying to create tests to verify that my entities are being saved in the database.\nWhen I put breakpoints in the post function, I can see that the customer count changes after the record is saved. \nI read <a href=\"https://cloud.google.com/appengine/docs/python/tools/localunittesting#Python_Writing_High_Replication_Datastore_tests\" rel=\"nofollow\">https://cloud.google.com/appengine/docs/python/tools/localunittesting#Python_Writing_High_Replication_Datastore_tests</a></p>\n\n<p>From what I understood, the tests were failing because of Eventual Consistency and the way to get around that was to change the PseudoRandomHRConsistencyPolicy settings.  </p>\n\n<pre><code>policy = datastore_stub_util.PseudoRandomHRConsistencyPolicy(probability=1)  \n</code></pre>\n\n<p>And when I ran the test again I got the same error.</p>\n\n<p>What am I doing wrong with creating these tests?  </p>\n\n<pre><code>&gt; /Users/Bryan/work/GoogleAppEngine/dermalfillersecrets/main.py(137)post()  \n-&gt; customer.put()  \n(Pdb) l  \n134             query = Customer.query()  \n135             orig_customer_count = query.count()  \n136             import pdb; pdb.set_trace()  \n137  -&gt;         customer.put()  \n138             import pdb; pdb.set_trace()  \n139             query_params = {'leadbook_name': leadbook_name}  \n140             self.redirect('/?' + urllib.urlencode(query_params))  \n141       \n142     config = {}  \n(Pdb) orig_customer_count  \n5  \n(Pdb) c  \n&gt; /Users/Bryan/work/GoogleAppEngine/dermalfillersecrets/main.py(139)post()  \n-&gt; query_params = {'leadbook_name': leadbook_name}  \n(Pdb) l  \n134             query = Customer.query()  \n135             orig_customer_count = query.count()  \n136             import pdb; pdb.set_trace()  \n137             customer.put()  \n138             import pdb; pdb.set_trace()  \n139  -&gt;         query_params = {'leadbook_name': leadbook_name}  \n140             self.redirect('/?' + urllib.urlencode(query_params))  \n141       \n142     config = {}  \n143     config['webapp2_extras.sessions'] = {  \n144         'secret_key': 'my-super-secret-key',  \n(Pdb) query.count()  \n6  \n</code></pre>\n\n<p>The entities also show up in the Datastore Viewer.</p>\n\n<p>However, my test keeps failing.</p>\n\n<pre><code>$ nosetests --with-gae  \nF  \n======================================================================  \nFAIL: test_guest_can_submit_contact_info (dermalfillersecrets.functional_tests.NewVisitorTest)  \n----------------------------------------------------------------------  \nTraceback (most recent call last):  \n  File \"/Users/Bryan/work/GoogleAppEngine/dermalfillersecrets/functional_tests.py\", line 80, in test_guest_can_submit_contact_info  \n    self.assertNotEqual(orig_custs, query.count())  \nAssertionError: 0 == 0   \n</code></pre>\n\n<p>This is the functional_tests.py file contents:  </p>\n\n<pre><code>import os, sys  \nsys.path.append(\"/usr/local/google_appengine\")  \nsys.path.append(\"/usr/local/google_appengine/lib/yaml/lib\")  \nsys.path.append(\"/usr/local/google_appengine/lib/webapp2-2.5.2\")  \nsys.path.append(\"/usr/local/google_appengine/lib/django-1.5\")  \nsys.path.append(\"/usr/local/google_appengine/lib/cherrypy\")  \nsys.path.append(\"/usr/local/google_appengine/lib/concurrent\")  \nsys.path.append(\"/usr/local/google_appengine/lib/docker\")  \nsys.path.append(\"/usr/local/google_appengine/lib/requests\")  \nsys.path.append(\"/usr/local/google_appengine/lib/websocket\")  \nsys.path.append(\"/usr/local/google_appengine/lib/fancy_urllib\")  \nsys.path.append(\"/usr/local/google_appengine/lib/antlr3\")  \n\nimport unittest  \nfrom selenium import webdriver  \nfrom google.appengine.api import memcache  \nfrom google.appengine.ext import db  \nfrom google.appengine.ext import testbed  \nimport dev_appserver    \nfrom google.appengine.tools.devappserver2 import devappserver2  \n\n\nclass NewVisitorTest(unittest.TestCase):  \n\n    def setUp(self):  \n        self.testbed = testbed.Testbed()  \n        self.testbed.activate()  \n        #self.testbed.setup_env(app_id='dermalfillersecrets')  \n        self.testbed.init_user_stub()  \n        ####################################################\n        # this sets testbed to imitate strong consistency \n        from google.appengine.datastore import datastore_stub_util\n        policy = datastore_stub_util.PseudoRandomHRConsistencyPolicy(probability=1)\n        self.testbed.init_datastore_v3_stub(consistency_policy=policy)\n        self.testbed.init_memcache_stub() \n        ####################################################\n\n        # setup the dev_appserver  \n        APP_CONFIGS = ['app.yaml']  \n\n        self.browser = webdriver.Firefox()  \n        self.browser.implicitly_wait(3)  \n\n    def tearDown(self):  \n        self.browser.quit()  \n        self.testbed.deactivate()  \n\n    def test_guest_can_submit_contact_info(self):  \n        from main import Customer  \n        query = Customer.query()  \n        orig_custs = query.count()  \n        self.browser.get('http://localhost:8080')  \n        self.browser.find_element_by_name('id_name').send_keys(\"Kallie Wheelock\")  \n        self.browser.find_element_by_name('id_street').send_keys(\"123 main st\")  \n        self.browser.find_element_by_name('id_phone').send_keys('(404)555-1212')  \n        self.browser.find_element_by_name('id_zip').send_keys(\"30306\")  \n        self.browser.find_element_by_name('submit').submit()  \n        # this should return 1 more record  \n        #import pdb; pdb.set_trace()  \n        query = Customer.query()   \n        self.assertNotEqual(orig_custs, query.count())  \n        assert(Customer.query(Customer.name == \"Kallie Wheelock\").get())  \n        # Delete the Customer record  \n        Customer.query(Customer.name ==\"Kallie Wheelock\").delete()  \n</code></pre>\n"}, {"tags": ["python", "matplotlib", "anaconda"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1423727412, "post_id": 28463510, "comment_id": 45268116, "body": "What do you mean when you say <code>pip is at least consistent with python in the environment</code>? Did you install pip via  <code>conda install pip</code>?"}, {"owner": {"reputation": 168, "user_id": 2322548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omseE.png?s=128&g=1", "display_name": "Penbeuz", "link": "https://stackoverflow.com/users/2322548/penbeuz"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1423729458, "post_id": 28463510, "comment_id": 45269112, "body": "@cel I mean that in the environment the library version in python is the same than the one given by pip. Outside environment pip says matplotlib version 1.4.2 , python says 1.2.1"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 1, "creation_date": 1423730016, "post_id": 28463510, "comment_id": 45269383, "body": "Have you tried <code>print(matplotlib)</code> right after importing? The printed path may help to find the culprit."}, {"owner": {"reputation": 168, "user_id": 2322548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omseE.png?s=128&g=1", "display_name": "Penbeuz", "link": "https://stackoverflow.com/users/2322548/penbeuz"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1423772899, "post_id": 28463510, "comment_id": 45296003, "body": "@cel seems you have the point, in ipython the path is &#39;/home/xxx/anaconda3/lib/python3.4/site-packages/matplotlib/&zwnj;&#8203;__init__.py&#39;, in python this is &#39;/usr/lib/python3/dist-packages/matplotlib/__init__.py&#39;, do you know how to change the path?"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1423773357, "post_id": 28463510, "comment_id": 45296244, "body": "I don&#39;t have a concrete idea. You could check <code>site.getsitepackages()</code> what paths are searched for third-party packages."}, {"owner": {"reputation": 168, "user_id": 2322548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omseE.png?s=128&g=1", "display_name": "Penbeuz", "link": "https://stackoverflow.com/users/2322548/penbeuz"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1423776992, "post_id": 28463510, "comment_id": 45298173, "body": "@cel thanks for help, I set PYTHONPATH to the correct directory, but I have other errors now when importing matplotlib, will probably re-install all."}, {"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 0, "creation_date": 1423784696, "post_id": 28463510, "comment_id": 45301355, "body": "Ideally you should not have PYTHONPATH set at all. Having it set will mess up your conda environments (it will make them all point to the path in your PYTHONPATH, regardless of which one is active)."}], "owner": {"reputation": 168, "user_id": 2322548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omseE.png?s=128&g=1", "display_name": "Penbeuz", "link": "https://stackoverflow.com/users/2322548/penbeuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423685247, "creation_date": 1423685247, "question_id": 28463510, "link": "https://stackoverflow.com/questions/28463510/how-to-activate-matplotlib-1-4", "title": "How to activate matplotlib 1.4", "body": "<p>on Ubuntu I installed Anaconda3-2.1.0-Linux-x86_64, works fine however the version 1.4.2 is not activated in python, how can I activate it ?</p>\n\n<pre><code>pip freeze\nmatplotlib==1.4.2\n</code></pre>\n\n<p>python in a shell</p>\n\n<pre><code>Python 3.3.2+ (default, Feb 28 2014, 00:52:16) \n[GCC 4.8.1] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import matplotlib\n&gt;&gt;&gt; matplotlib.__version__\n'1.2.1'\n</code></pre>\n\n<p>ipython</p>\n\n<pre><code>In [1]: import matplotlib\nIn [2]: matplotlib.__version__\nOut[2]: '1.4.2'\n</code></pre>\n\n<p>paths</p>\n\n<pre><code>which python\n/home/xxx/anaconda3/bin/python\n\nwhich ipython\n/home/xxx/anaconda3/bin/ipython\n</code></pre>\n\n<p>I tried to create a virtual environment with \n    conda create -n py34 matplotlib=1.4.2</p>\n\n<pre><code>The following NEW packages will be INSTALLED:\n    ....\n    matplotlib: 1.4.2-np19py34_0\n    ....\n</code></pre>\n\n<p>pip is at least consistent with python in the environment</p>\n\n<pre><code>(py34)pip freeze\nmatplotlib==1.2.1\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 396, "user_id": 3014115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6852a3db6b8400666bfbf3be1cce654f?s=128&d=identicon&r=PG&f=1", "display_name": "Tjaart", "link": "https://stackoverflow.com/users/3014115/tjaart"}, "edited": false, "score": 0, "creation_date": 1492674764, "post_id": 28463479, "comment_id": 74080504, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14629438/hide-invisible-matplotlib-figure\">Hide / Invisible Matplotlib figure</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4498, "user_id": 897640, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/26c6f0ce8c6d4396d5cb3204bc79ebb1?s=128&d=identicon&r=PG", "display_name": "jdmcbr", "link": "https://stackoverflow.com/users/897640/jdmcbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1441310207, "creation_date": 1441310207, "answer_id": 32384396, "question_id": 28463479, "link": "https://stackoverflow.com/questions/28463479/how-to-toggle-visibility-of-matplotlib-figures/32384396#32384396", "title": "How to toggle visibility of matplotlib figures?", "body": "<p>There is a <a href=\"http://matplotlib.org/examples/pylab_examples/toggle_images.html\" rel=\"nofollow\">small guide to image toggling</a> in the matplotlib gallery. I was able to use <code>set_visible</code> and <code>get_visible()</code> as shown in the example. The calls in the matplotlib gallery example are on <code>AxesImage</code> instances, rather than <code>Figure</code> instances, as in your example code. That is my guess as to why it did not work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 2133, "user_id": 641622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1ed05b61a8811e5a335c00e0c82a68?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/641622/sameer"}, "is_accepted": true, "score": 8, "last_activity_date": 1442279144, "creation_date": 1442279144, "answer_id": 32576093, "question_id": 28463479, "link": "https://stackoverflow.com/questions/28463479/how-to-toggle-visibility-of-matplotlib-figures/32576093#32576093", "title": "How to toggle visibility of matplotlib figures?", "body": "<p>You have to call <code>plt.draw()</code> to actually instantiate any changes. This should work:</p>\n\n<pre><code>def toggle_plot():\n  # This function is called by a keypress to hide/show the figure\n  fig.set_visible(not fig.get_visible())\n  plt.draw()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 3014115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6852a3db6b8400666bfbf3be1cce654f?s=128&d=identicon&r=PG&f=1", "display_name": "Tjaart", "link": "https://stackoverflow.com/users/3014115/tjaart"}, "is_accepted": false, "score": 1, "last_activity_date": 1492673851, "last_edit_date": 1492673851, "creation_date": 1492672738, "answer_id": 43512741, "question_id": 28463479, "link": "https://stackoverflow.com/questions/28463479/how-to-toggle-visibility-of-matplotlib-figures/43512741#43512741", "title": "How to toggle visibility of matplotlib figures?", "body": "<p>You can you use the Toplevel() widget from the tkinter library together with the matplotlib backend.</p>\n\n<p>Here is a full example:</p>\n\n<pre><code>from tkinter import *\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\n\nfig,(ax) = plt.subplots()\nx = np.linspace(0, 2 * np.pi)\ny = np.transpose([np.sin(x)])\nax.plot(y)\n\ngraph = Toplevel()\ncanvas = FigureCanvasTkAgg(fig,master=graph)\ncanvas.get_tk_widget().grid()\ncanvas.show()\n\nimport pdb; pdb.set_trace()\n</code></pre>\n\n<p>Calling:</p>\n\n<pre><code>graph.withdraw()\n</code></pre>\n\n<p>will hide the plot, and:</p>\n\n<pre><code>graph.deiconify()\n</code></pre>\n\n<p>will display it again.</p>\n"}], "owner": {"reputation": 639, "user_id": 1189797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6afdd7499bf9239f401c06bc31fd98ad?s=128&d=identicon&r=PG", "display_name": "Brent", "link": "https://stackoverflow.com/users/1189797/brent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14617, "favorite_count": 0, "accepted_answer_id": 32576093, "answer_count": 3, "score": 7, "last_activity_date": 1492673851, "creation_date": 1423685156, "question_id": 28463479, "link": "https://stackoverflow.com/questions/28463479/how-to-toggle-visibility-of-matplotlib-figures", "title": "How to toggle visibility of matplotlib figures?", "body": "<p>Is there a way that I can make a matplotlib figure disappear and reappear in response to some event? (i.e. a keypress)</p>\n\n<p>I've tried using <code>fig.set_visible(False)</code> but that doesn't seem to do anything for me.</p>\n\n<p>Simple example of code:</p>\n\n<pre><code>import matplotlib\nimport matplotlib.pyplot as plt\n\nfig=matplotlib.pyplot.figure(figsize=(10, 10))\n\n# Some other code will go here\n\ndef toggle_plot():\n  # This function is called by a keypress to hide/show the figure\n  fig.set_visible(not fig.get_visible()) # This doesn't work for me\n\nplt.show()\n</code></pre>\n\n<p>The reason I'm trying to do this is because I have a bunch of plots/animations running on the figure that show the output of a running simulation, but displaying them all the time slows down my computer a lot. \nAny ideas?</p>\n"}, {"tags": ["python", "zeromq", "blocking", "pyzmq"], "comments": [{"owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "edited": false, "score": 0, "creation_date": 1423687777, "post_id": 28463396, "comment_id": 45254133, "body": "So you&#39;re using a ZMQ inproc to arbitrate access to a python <code>Queue</code>. Why not use ZMQ&#39;s queueing directly? PUSH-PULL comes to mind."}, {"owner": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "reply_to_user": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "edited": false, "score": 0, "creation_date": 1423695433, "post_id": 28463396, "comment_id": 45258008, "body": "Won&#39;t that just block in the same way?"}, {"owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "edited": false, "score": 0, "creation_date": 1423696143, "post_id": 28463396, "comment_id": 45258291, "body": "Yes it was more of a general comment. Answer below on why you&#39;re blocking."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "edited": false, "score": 0, "creation_date": 1423764378, "post_id": 28466425, "comment_id": 45291205, "body": "Thanks for the suggestion. I wanted to field out the question before taking action as I&#39;m never fully certain of the repercussions. If I set the HWM on the Dealer socket, it will then still receive all the inproc signals from the pair socket, and everything will continue as expected right? Do you feel the better solution is to have it buffered in the sender queue/kernel buffer rather than using a semaphore between the Worker Thread and Communication Thread - buffering the messages to the Queue, but without sending the inproc signal?"}, {"owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "reply_to_user": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "edited": false, "score": 0, "creation_date": 1423764805, "post_id": 28466425, "comment_id": 45291430, "body": "Assuming you never want to drop messages, and assuming your consumer can go away at any time, you must either 1) have an unbounded queue in which to store them or 2) pause the process that is creating them when you hit the limit of your queue. One thing that is unclear: does the worker need to work for some other reason than to produce these messages; that is, does it perform some necessary function that needs to happen regardless of whether anyone is listening?"}, {"owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "reply_to_user": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "edited": false, "score": 0, "creation_date": 1423764877, "post_id": 28466425, "comment_id": 45291472, "body": "Regarding the signal, I feel it is totally unnecessary, because if you&#39;re queueing you can always do a blocking wait on the queue itself, which will unblock as soon as new items are added to the queue."}, {"owner": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "edited": false, "score": 0, "creation_date": 1423772884, "post_id": 28466425, "comment_id": 45295993, "body": "Yeah - the worker does important functions other than sending messages, hence the separation. I see your point about the signal being unnecessary - in my actual code, there are a number of signals from a number of threads (there certainly ZMQ patterns which would work for this), I chose the signal because from what I understand polling this way was more efficient than a blocking wait on the queue (code running on embedded computer). Not sure if this is true though :)"}], "tags": [], "owner": {"reputation": 2628, "user_id": 1356458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247822f2ce59d6022b4490b211f78127?s=128&d=identicon&r=PG", "display_name": "engineerC", "link": "https://stackoverflow.com/users/1356458/engineerc"}, "is_accepted": true, "score": 1, "last_activity_date": 1423770220, "last_edit_date": 1495542035, "creation_date": 1423696532, "answer_id": 28466425, "question_id": 28463396, "link": "https://stackoverflow.com/questions/28463396/zmq-pair-for-signaling-is-blocking-because-of-bad-connection/28466425#28466425", "title": "ZMQ pair (for signaling) is blocking because of bad connection", "body": "<p>The dealer socket has a limit on the number of messages it will store, called the high water mark. Right below your dealer socket creation, try:</p>\n\n<pre><code>    self.socket = self.context.socket(zmq.DEALER)\n    self.socket.setsockopt(zmq.SNDHWM, 200000)\n</code></pre>\n\n<p>And set that number as high as you dare; the limit is your machine's memory. </p>\n\n<p>EDIT:</p>\n\n<p>Some good discussion of high water marks in this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28120776/majordomo-broker-handling-large-number-of-connections\">Majordomo broker: handling large number of connections</a></p>\n"}], "owner": {"reputation": 667, "user_id": 1351530, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eb86b3746c4728dbca271f0c15345001?s=128&d=identicon&r=PG", "display_name": "Jono", "link": "https://stackoverflow.com/users/1351530/jono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "accepted_answer_id": 28466425, "answer_count": 1, "score": 1, "last_activity_date": 1423770220, "creation_date": 1423684883, "question_id": 28463396, "link": "https://stackoverflow.com/questions/28463396/zmq-pair-for-signaling-is-blocking-because-of-bad-connection", "title": "ZMQ pair (for signaling) is blocking because of bad connection", "body": "<p>I have two threads. One is a <code>Worker Thread</code>, the other a <code>Communication Thread</code>.</p>\n\n<p>The <code>Worker Thread</code> is reading data off a serial port, doing some processing, and then enqueueing the results to be sent to a server.</p>\n\n<p>The <code>Communication Tthread</code> is reading the results off the queue, and sending it. The challenge is that connectivity is wireless, and although usually present, it can be spotty (dropping in and out of range for a few minutes), and I don't want to block <code>Worker Thread</code> if I lose connectivity.</p>\n\n<p>The pattern I have chosen for this, is as follows:</p>\n\n<p><code>Worker Thread</code> has an <code>enqueue</code> method which adds the message to a <code>Queue</code>, then send a signal to <code>inproc://signal</code> using a <code>zmq.PAIR</code>.</p>\n\n<p><code>Communication Thread</code> uses <code>zmq.DEALER</code> to communicate to the server (a <code>zmq.ROUTER</code>), but polls the <code>inproc://signal</code> pair in order to register whether there is a new message needing sending or not.</p>\n\n<p>The following is a simplified example of the pattern:</p>\n\n<pre><code>import Queue\nimport zmq\nimport time\nimport threading\nimport simplejson\n\n\nclass ZmqPattern():\n    def __init__(self):\n        self.q_out = Queue.Queue()\n        self.q_in = Queue.Queue()\n        self.signal = None\n        self.API_KEY = 'SOMETHINGCOMPLEX'\n        self.zmq_comm_thr = None\n\n    def start_zmq_signal(self):\n        self.context = zmq.Context()\n\n        # signal socket for waking the zmq thread to send messages to the relay\n        self.signal = self.context.socket(zmq.PAIR)\n        self.signal.bind(\"inproc://signal\")\n\n    def enqueue(self, msg):\n        print(\"&gt; pre-enqueue\")\n        self.q_out.put(msg)\n        print(\"&lt; post-enqueue\")\n\n        print(\") send sig\")\n        self.signal.send(b\"\")\n        print(\"( sig sent\")\n\n    def communication_thread(self, q_out):\n        poll = zmq.Poller()\n\n        self.endpoint_url = 'tcp://' + '127.0.0.1' + ':' + '9001'\n\n        wake = self.context.socket(zmq.PAIR)\n        wake.connect(\"inproc://signal\")\n        poll.register(wake, zmq.POLLIN)\n\n        self.socket = self.context.socket(zmq.DEALER)\n        self.socket.setsockopt(zmq.IDENTITY, self.API_KEY)\n        self.socket.connect(self.endpoint_url)\n        poll.register(self.socket, zmq.POLLIN)\n\n        while True:\n            sockets = dict(poll.poll())\n\n            if self.socket in sockets:\n                message = self.socket.recv()\n                message = simplejson.loads(message)\n\n                # Incomming messages which need to be handled on the worker thread\n                self.q_in.put(message)\n\n            if wake in sockets:\n                wake.recv()\n                while not q_out.empty():\n                    print(\"&gt;&gt; Popping off Queue\")\n                    message = q_out.get()\n                    print(\"&gt;&gt;&gt; Popped off Queue\")\n                    message = simplejson.dumps(message)\n                    print(\"&lt;&lt;&lt; About to be sent\")\n                    self.socket.send(message)\n                    print(\"&lt;&lt; Sent\")\n\n    def start(self):\n        self.start_zmq_signal()\n        # ZMQ Thread\n        self.zmq_comm_thr = threading.Thread(target=self.communication_thread, args=([self.q_out]))\n        self.zmq_comm_thr.daemon = True\n        self.zmq_comm_thr.name = \"ZMQ Thread\"\n        self.zmq_comm_thr.start()\n\n\nif __name__ == '__main__':\n    test = ZmqPattern()\n    test.start()\n\n    print '###############################################'\n    print '############## Starting comms #################'\n    print \"###############################################\"\n\n    last_debug = time.time()\n    test_msg = {}\n    for c in xrange(1000):\n        key = 'something{}'.format(c)\n        val = 'important{}'.format(c)\n        test_msg[key] = val\n\n    while True:\n        test.enqueue(test_msg)\n        if time.time() - last_debug &gt; 1:\n            last_debug = time.time()\n            print \"Still alive...\"\n</code></pre>\n\n<p>If you run this, you'll see the dealer blocks as there is no router on the other end, and shortly after, the pair blocks as the <code>Communication Thread</code> isn't receiving </p>\n\n<p>How should I best set up the inproc zmq to not block <code>Worker Thread</code>.</p>\n\n<p>FYI, the most the entire system would need to buffer is in the order of 200k messages, and each message is around 256 bytes.</p>\n"}, {"tags": ["python", "batch-file", "apache-spark", "spark-streaming"], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 4284474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgIWgIUVPlA/AAAAAAAAAAI/AAAAAAAADCE/ZD79pRQIZwk/photo.jpg?sz=128", "display_name": "luke", "link": "https://stackoverflow.com/users/4284474/luke"}, "edited": false, "score": 0, "creation_date": 1423822905, "post_id": 28485148, "comment_id": 45314094, "body": "It is in fact true, I asked TD himself. By the way, it appears not being in the roadmap yet."}], "tags": [], "owner": {"reputation": 1549, "user_id": 1243590, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8797f5f45f2f82297df21b854165ca26?s=128&d=identicon&r=PG", "display_name": "venuktan", "link": "https://stackoverflow.com/users/1243590/venuktan"}, "is_accepted": true, "score": 0, "last_activity_date": 1423766136, "creation_date": 1423766136, "answer_id": 28485148, "question_id": 28463362, "link": "https://stackoverflow.com/questions/28463362/changing-batch-size-in-spark-streaming-during-the-execution/28485148#28485148", "title": "Changing batch size in Spark Streaming during the execution", "body": "<p>I don't think you can change the batch size in spark streaming at least that is what Tathagata Das said in one of his talks.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5079937, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OErzklwWjAw/AAAAAAAAAAI/AAAAAAAAABo/G7hTa301KQI/photo.jpg?sz=128", "display_name": "xu Bruce", "link": "https://stackoverflow.com/users/5079937/xu-bruce"}, "is_accepted": false, "score": 0, "last_activity_date": 1462442065, "last_edit_date": 1462442065, "creation_date": 1462441102, "answer_id": 37047224, "question_id": 28463362, "link": "https://stackoverflow.com/questions/28463362/changing-batch-size-in-spark-streaming-during-the-execution/37047224#37047224", "title": "Changing batch size in Spark Streaming during the execution", "body": "<p>Actually this <a href=\"http://www.columbia.edu/~yz2561/dynamic_batching.pdf\" rel=\"nofollow\">paper</a> by TD may answer your question. He tried to use dynamic batch interval and get better result.</p>\n"}], "owner": {"reputation": 365, "user_id": 4284474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgIWgIUVPlA/AAAAAAAAAAI/AAAAAAAADCE/ZD79pRQIZwk/photo.jpg?sz=128", "display_name": "luke", "link": "https://stackoverflow.com/users/4284474/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "accepted_answer_id": 28485148, "answer_count": 2, "score": 3, "last_activity_date": 1462442065, "creation_date": 1423684787, "last_edit_date": 1423685157, "question_id": 28463362, "link": "https://stackoverflow.com/questions/28463362/changing-batch-size-in-spark-streaming-during-the-execution", "title": "Changing batch size in Spark Streaming during the execution", "body": "<p>Is there a way to vary the batch interval duration in Spark Streaming (i.e., depending on some tests in the code) so that it does not stays the same for all the computation time?</p>\n\n<p>When coding in Python, for instance, the batch interval duration is the second argument in</p>\n\n<p><code>StreamingContext(sparkContext: SparkContext, batchDuration: Duration)</code>;</p>\n\n<p>e.g., <code>ssc = StreamingContext(sc, 1)</code>,</p>\n\n<p>and as far as I know it is not going to change during the execution.</p>\n\n<p>Is it possible in Spark to make it mutable <em>during</em> the computation, i.e. accordingly to the output of some tests?</p>\n\n<p>A dumb example of a possible use: in the <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/python/streaming/network_wordcount.py\" rel=\"nofollow\">class</a> <code>newtork_wordcount.py</code>, increase the batch interval duration in case of a particular string (or line) in the previous batch interval.</p>\n\n<p>I hope I have been clear enough!</p>\n\n<p>Thanks to anybody who will try to help! Have a nice day! :-)</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423684349, "post_id": 28463151, "comment_id": 45252256, "body": "you need to at least post your models for the form and the class ... apparently its trying to render the u attribute ... which is not in the class ..."}, {"owner": {"reputation": 363, "user_id": 3806679, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/562f57dc57f37cc819519c1ac1587cec?s=128&d=identicon&r=PG&f=1", "display_name": "Hook", "link": "https://stackoverflow.com/users/3806679/hook"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423684958, "post_id": 28463151, "comment_id": 45252601, "body": "There&#39;s no &#39;u&#39; attr... check the model"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423685255, "post_id": 28463151, "comment_id": 45252749, "body": "are you using a AdminFormClass for it?  ... something is trying to access <code>Usuario_aux.u</code>"}, {"owner": {"reputation": 363, "user_id": 3806679, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/562f57dc57f37cc819519c1ac1587cec?s=128&d=identicon&r=PG&f=1", "display_name": "Hook", "link": "https://stackoverflow.com/users/3806679/hook"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423685517, "post_id": 28463151, "comment_id": 45252891, "body": "just posted the admin.py part of it... but its weird... yesterday was working perfectly"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1423685665, "post_id": 28463151, "comment_id": 45252969, "body": "you could just try adding <code>u=&quot;uuuuuuuu&quot;</code> or something to the class and see where you see all those u&#39;s ... is there a relationship that might be looking for <code>usario.u</code>  or something? (maybe it was user and someone accidentaly deleted ser?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 13, "creation_date": 1423687147, "post_id": 28463151, "comment_id": 45253746, "body": "Are you <i>sure</i> that is exactly what you have for <code>list_display</code> on that model? You would get that error if, for example, you had just <code>&#39;user&#39;</code> or even <code>(&#39;user&#39;)</code> without the comma, because Python will treat that as a single string and try to iterate through it."}], "owner": {"reputation": 363, "user_id": 3806679, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/562f57dc57f37cc819519c1ac1587cec?s=128&d=identicon&r=PG&f=1", "display_name": "Hook", "link": "https://stackoverflow.com/users/3806679/hook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3545, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1423685446, "creation_date": 1423684006, "last_edit_date": 1423685446, "question_id": 28463151, "link": "https://stackoverflow.com/questions/28463151/django-unable-to-lookup-u", "title": "Django - Unable to lookup &#39;u&#39;", "body": "<p>yesterday everything was working perfect, today i enter to the admin and this error is showing when i click in \"usuarios_aux\" model...</p>\n\n<p><code>Unable to lookup 'u' on Usuario_aux or Usuario_AuxAdmin</code></p>\n\n<p>Why is this happening? heres the traceback.</p>\n\n<blockquote>\n  <p>Environment:</p>\n  \n  <p>Request Method: GET Request URL:\n  <a href=\"http://provisional.jetint.webfactional.com/admin/clients/usuario_aux/\" rel=\"nofollow\">http://provisional.jetint.webfactional.com/admin/clients/usuario_aux/</a></p>\n  \n  <p>Django Version: 1.7.3 Python Version: 2.7.9 Installed Applications:\n  ('django.contrib.admin.apps.SimpleAdminConfig', \n  'django.contrib.auth',  'django.contrib.contenttypes', \n  'django.contrib.sessions',  'django.contrib.messages', \n  'django.contrib.staticfiles',  'adminplus',  'clients',  'currier')\n  Installed Middleware:\n  ('django.contrib.sessions.middleware.SessionMiddleware', \n  'django.middleware.common.CommonMiddleware', \n  'django.middleware.csrf.CsrfViewMiddleware', \n  'django.contrib.auth.middleware.AuthenticationMiddleware', \n  'django.contrib.messages.middleware.MessageMiddleware', \n  'django.middleware.clickjacking.XFrameOptionsMiddleware')</p>\n  \n  <p>Template error: In template\n  /home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/contrib/admin/templates/admin/change_list.html, error at line 91    Unable to lookup 'u' on Usuario_aux or\n  Usuario_AuxAdmin    81 :         {% endif %}</p>\n  \n  <p>82 :       {% endblock %}</p>\n  \n  <p>83 : </p>\n  \n  <p>84 :       {% csrf_token %}</p>\n  \n  <p>85 :       {% if cl.formset %}</p>\n  \n  <p>86 :         {{ cl.formset.management_form }}</p>\n  \n  <p>87 :       {% endif %}</p>\n  \n  <p>88 : </p>\n  \n  <p>89 :       {% block result_list %}</p>\n  \n  <p>90 :           {% if action_form and actions_on_top and\n  cl.full_result_count %}{% admin_actions %}{% endif %}</p>\n  \n  <p>91 :            {% result_list cl %} </p>\n  \n  <p>92 :           {% if action_form and actions_on_bottom and\n  cl.full_result_count %}{% admin_actions %}{% endif %}</p>\n  \n  <p>93 :       {% endblock %}</p>\n  \n  <p>94 :       {% block pagination %}{% pagination cl %}{% endblock %}</p>\n  \n  <p>95 :       </p>\n  \n  <p>96 :     </p>\n  \n  <p>97 :   </p>\n  \n  <p>98 : {% endblock %}</p>\n  \n  <p>99 : </p>\n  \n  <p>Traceback: File\n  \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/core/handlers/base.py\"\n  in get_response\n    137.                 response = response.render() File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/response.py\"\n  in render\n    103.             self.content = self.rendered_content File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/response.py\"\n  in rendered_content\n    80.         content = template.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    148.             return self._render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in _render\n    142.         return self.nodelist.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    844.                 bit = self.render_node(node, context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/debug.py\"\n  in render_node\n    80.             return node.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/loader_tags.py\"\n  in render\n    126.         return compiled_parent._render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in _render\n    142.         return self.nodelist.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    844.                 bit = self.render_node(node, context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/debug.py\"\n  in render_node\n    80.             return node.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/loader_tags.py\"\n  in render\n    126.         return compiled_parent._render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in _render\n    142.         return self.nodelist.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    844.                 bit = self.render_node(node, context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/debug.py\"\n  in render_node\n    80.             return node.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/loader_tags.py\"\n  in render\n    65.                 result = block.nodelist.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    844.                 bit = self.render_node(node, context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/debug.py\"\n  in render_node\n    80.             return node.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/loader_tags.py\"\n  in render\n    65.                 result = block.nodelist.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    844.                 bit = self.render_node(node, context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/debug.py\"\n  in render_node\n    80.             return node.render(context) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/template/base.py\"\n  in render\n    1207.                     _dict = func(*resolved_args, **resolved_kwargs) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/contrib/admin/templatetags/admin_list.py\"\n  in result_list\n    307.     headers = list(result_headers(cl)) File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/contrib/admin/templatetags/admin_list.py\"\n  in result_headers\n    101.             return_attr=True File \"/home/jetint/webapps/jet_test/lib/python2.7/Django-1.7.3-py2.7.egg/django/contrib/admin/utils.py\"\n  in label_for_field\n    324.                 raise AttributeError(message)</p>\n  \n  <p>Exception Type: AttributeError at /admin/clients/usuario_aux/\n  Exception Value: Unable to lookup 'u' on Usuario_aux or\n  Usuario_AuxAdmin</p>\n</blockquote>\n\n<p>how i can fix this?</p>\n\n<p>model: </p>\n\n<pre><code>class Usuario_aux(models.Model):\n    user = models.ForeignKey(User)\n    clave = models.CharField(max_length=100)\n    correo = models.BooleanField(default=False)\n</code></pre>\n\n<p>admin.py:</p>\n\n<pre><code>class Usuario_AuxAdmin(admin.ModelAdmin):\n    list_display = ('user', 'correo')\n    search_fields = ('user', 'correo')\nadmin.site.register(Usuario_aux, Usuario_AuxAdmin)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "unicode", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1423686018, "post_id": 28463053, "comment_id": 45253151, "body": "You need to figure out the encoding that the original file has, and use that instead of <code>utf-8</code> when you open the file."}, {"owner": {"reputation": 1283, "user_id": 4064901, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7c2f28b58ae6032b772c0e012525617f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4064901/jeremy"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423686780, "post_id": 28463053, "comment_id": 45253564, "body": "How do I do that? Because when I hit save as in notepad, it just said unicode"}, {"owner": {"reputation": 1283, "user_id": 4064901, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7c2f28b58ae6032b772c0e012525617f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4064901/jeremy"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423689490, "post_id": 28463053, "comment_id": 45255015, "body": "Alright, I&#39;ve almost got it! In the python3 repr I figured out that the encoding of the file is cp1252. Now I think I have to just convert that to utf-8 right after opening the file"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423690891, "post_id": 28463053, "comment_id": 45255763, "body": "Python doesn&#39;t analyze the file to figure out which encoding it should use, it just assumes the default for your Windows environment. Notepad on the other hand <i>does</i> try to analyze the file. If it says Unicode, it&#39;s probably <code>utf-16le</code> - try that."}, {"owner": {"reputation": 1283, "user_id": 4064901, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7c2f28b58ae6032b772c0e012525617f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4064901/jeremy"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423691112, "post_id": 28463053, "comment_id": 45255865, "body": "how do I convert that to utf-8?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423691220, "post_id": 28463053, "comment_id": 45255934, "body": "Why do you need to convert? If you open the file with <code>encoding=&#39;utf-16&#39;</code> you should get proper Unicode strings as you read the file, and your program will &quot;just work&quot;."}, {"owner": {"reputation": 1283, "user_id": 4064901, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7c2f28b58ae6032b772c0e012525617f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4064901/jeremy"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423691526, "post_id": 28463053, "comment_id": 45256104, "body": "It&#39;s not. I am writing what I read to another file each time and it is printing characters that look like garbage code. I can&#39;t even print out any of it. It says UnicodeEncodeError"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1423692878, "post_id": 28463053, "comment_id": 45256811, "body": "You also need to use <code>encoding=...</code> on the file you&#39;re writing. They don&#39;t need to be the same, and it sounds from what you&#39;ve said that the output should be utf-8. Don&#39;t expect Windows to be able to open a utf-8 file and make sense of it though, that&#39;s not its native character set."}], "answers": [{"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 8, "last_activity_date": 1423935771, "last_edit_date": 1423935771, "creation_date": 1423935423, "answer_id": 28518285, "question_id": 28463053, "link": "https://stackoverflow.com/questions/28463053/python-3-unicode-to-utf-8-on-file/28518285#28518285", "title": "Python 3 unicode to utf-8 on file", "body": "<p>What notepad considers <code>Unicode</code> is <code>utf16</code> to Python.  Windows \"Unicode\" files start with a byte order mark (BOM) of <code>FF FE</code>, which indicates little-endian UTF-16.  This is why you get the following when using <code>utf8</code> to decode the file:</p>\n\n<blockquote>\n  <p>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte</p>\n</blockquote>\n\n<p>To convert to UTF-8, you could use:</p>\n\n<pre><code>with open('log.txt',encoding='utf16') as f:\n    data = f.read()\nwith open('utf8.txt','w',encoding='utf8') as f:\n    f.write(data)\n</code></pre>\n\n<p>Note that many Windows editors like a UTF-8 signature at the beginning of the file, or may assume <code>ANSI</code> instead.  <code>ANSI</code> is really the local language locale.  On US Windows it is <code>cp1252</code>, but it varies for other localized builds.  If you open <code>utf8.txt</code> and it still looks garbled, use <code>encoding='utf-8-sig'</code> when writing instead.</p>\n"}], "owner": {"reputation": 1283, "user_id": 4064901, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7c2f28b58ae6032b772c0e012525617f?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/4064901/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10122, "favorite_count": 0, "accepted_answer_id": 28518285, "answer_count": 1, "score": 2, "last_activity_date": 1605597756, "creation_date": 1423683636, "last_edit_date": 1605597756, "question_id": 28463053, "link": "https://stackoverflow.com/questions/28463053/python-3-unicode-to-utf-8-on-file", "title": "Python 3 unicode to utf-8 on file", "body": "<p>I am trying to parse through a log file, but the file format is always in unicode. My usual process that I would like to automate:</p>\n\n<blockquote>\n  <ul>\n  <li>I pull file up in notepad  </li>\n  <li>Save as...  </li>\n  <li>change encoding from <code>unicode</code> to <code>UTF-8</code></li>\n  <li>Then run python program on it</li>\n  </ul>\n</blockquote>\n\n<p>So this is the process I would like to automate in Python 3.4. Pretty much just changed the file to <code>UTF-8</code> or something like <code>open(filename,'r',encoding='utf-8')</code> although this exact line was throwing me this error when I tried to call read() on it:</p>\n\n<pre><code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte\n</code></pre>\n\n<p>It would be EXTREMELY helpful if I could convert the entire file (like in my first scenario) or just open the whole thing in UTF-8 that way I don't have to str.encode (or something like that) every time I analyze a string.</p>\n\n<p>Anybody been through this and know which method I should use and how to do it?</p>\n\n<p>EDIT:</p>\n\n<p>In the python3 repr, I did</p>\n\n<pre><code>&gt;&gt;&gt; f = open('file.txt','r')\n&gt;&gt;&gt; f\n(_io.TextIOWrapper name='file.txt' mode='r' encoding='cp1252')\n</code></pre>\n\n<p>So now my python code in my program opens the file with <code>open('file.txt','r',encoding='cp1252')</code>. I am running a lot of regex looking through this file though and it isn't picking it up (I think because it isn't utf-8). So I just have to figure out how to switch from cp1252 to UTF-8. Thank you @Mark Ransom</p>\n"}, {"tags": ["python", "csv", "dictionary", "export-to-csv"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user554546"}, "edited": false, "score": 1, "creation_date": 1423683594, "post_id": 28463015, "comment_id": 45251863, "body": "And what have you tried?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1423683895, "post_id": 28463015, "comment_id": 45252028, "body": "Try the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">csv module</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1907906"}, "is_accepted": true, "score": 1, "last_activity_date": 1423687529, "creation_date": 1423687529, "answer_id": 28464146, "question_id": 28463015, "link": "https://stackoverflow.com/questions/28463015/convert-data-to-csv-with-python/28464146#28464146", "title": "convert data to CSV with python", "body": "<p>Try this:</p>\n\n<pre><code>d = \"\"\"name Smith city Boston country USA\nname Meier city Berlin ZIP 12345 country Germany\nname Grigoriy country Russia\"\"\"\n\nkeys = {}                                # will collect all keys\nobjs = []                                # will collect all lines\nfor line in d.split(\"\\n\"):               # split input by linebreak\n    ks = [x for x in line.split()[::2]]  # even positions: 0, 2, 4, 6\n    vs = [x for x in line.split()[1::2]] # odd positions:  1, 3, 5, 7\n    objs.append(dict(zip(ks, vs)))       # turn line into dictionary\n    for key in ks:\n        keys[key] = True                 # note all keys\n\nprint(\",\".join(keys))                    # print header row\nfor obj in objs:\n    print(\",\".join([obj.get(k, \"\") for k in keys]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>country,city,name,ZIP\nUSA,Boston,Smith,\nGermany,Berlin,Meier,12345\nRussia,,Grigoriy,\n</code></pre>\n\n<p>Getting the columns in another order is left as an exercise to the reader.</p>\n"}], "owner": {"reputation": 157, "user_id": 2329047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/146924037ed46effa6998667def779d7?s=128&d=identicon&r=PG", "display_name": "Micha", "link": "https://stackoverflow.com/users/2329047/micha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 28464146, "answer_count": 1, "score": -4, "last_activity_date": 1423687529, "creation_date": 1423683496, "question_id": 28463015, "link": "https://stackoverflow.com/questions/28463015/convert-data-to-csv-with-python", "title": "convert data to CSV with python", "body": "<p>I'm not deep involved with dictionaries in python. However, I have structured text data (ASCII) which I would like to convert to CSV (to input in a database or spreadsheet). Not all values are available in each line:</p>\n\n<pre><code>name Smith city Boston country USA\nname Meier city Berlin ZIP 12345 country Germany\nname Grigoriy country Russia\n</code></pre>\n\n<p>not all fields are in each line. However, no spaces are in the field values. How can I convert such textfile in a CSV like</p>\n\n<pre><code>name, city, ZIP, country\nSmith, Boston, , USA\nMeier, Berlin, 12345, Germany\nGrigory, , , Russia\n</code></pre>\n"}, {"tags": ["python", "windows", "python-2.7", "sys"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 2230856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f259b9260c4315260619a15e19734d74?s=128&d=identicon&r=PG", "display_name": "PTW-105", "link": "https://stackoverflow.com/users/2230856/ptw-105"}, "edited": false, "score": 0, "creation_date": 1423685015, "post_id": 28463087, "comment_id": 45252632, "body": "Thanks for the quick reply.  Converting to string fixed it right up!  Thanks for the second pair of eyes!"}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 1, "last_activity_date": 1423683766, "creation_date": 1423683766, "answer_id": 28463087, "question_id": 28463004, "link": "https://stackoverflow.com/questions/28463004/windows-version-detection-in-python-not-working/28463087#28463087", "title": "Windows version detection in Python not working", "body": "<p>Although <code>sys_info_raw</code> looks like a string when you print it, its type is actually <code>&lt;type 'sys.getwindowsversion'&gt;</code>, which apparently does not treat the <code>in</code> operator the same way the str type does. Try explicitly converting to string before performing your checks.</p>\n\n<pre><code>print(\"Loaded os_version_detection function!\")\nprint(\"Detecting family of Windows...\")\nsys_info_raw = str(sys.getwindowsversion())\n</code></pre>\n\n<p>Result (on my machine):</p>\n\n<pre><code>Loaded os_version_detection function!\nDetecting family of Windows...\nDetected OS: Windows 7/2008!\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 2230856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f259b9260c4315260619a15e19734d74?s=128&d=identicon&r=PG", "display_name": "PTW-105", "link": "https://stackoverflow.com/users/2230856/ptw-105"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 28463087, "answer_count": 1, "score": 0, "last_activity_date": 1423683766, "creation_date": 1423683452, "last_edit_date": 1495535052, "question_id": 28463004, "link": "https://stackoverflow.com/questions/28463004/windows-version-detection-in-python-not-working", "title": "Windows version detection in Python not working", "body": "<p>I'm building a component into a Python 2.7 script that determines what version of Windows the script is running on.  I found a good solution located <a href=\"https://stackoverflow.com/questions/12471772/what-is-better-way-of-getting-windows-version-in-python\">here</a> from another Stack Overflow post which seemed pretty straightforward and fit my needs (Obviously, I used the second answer).  Unfortunately, it does not seem to be working.  I've tried this script on two systems (Win7 32-bit and Win7 64-bit) and it outputs my else statement every time.</p>\n\n<p>Here's my output:</p>\n\n<pre><code>Loaded os_version_detection function!\nDetecting family of Windows...\nDetected OS: Unknown!\nsys.getwindowsversion(major=6, minor=1, build=7601, platform=2, service_pack='Service Pack 1')\n</code></pre>\n\n<p>Can someone point out what I'm missing.  It feels like the fix should be pretty simple (a missing character, missing statement, typo, etc.) but I just can't seem to put my finger on it.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>def os_version_detection(started_by_function):\n    global os_version\n    global os_arch\n\n    # Determine what family of Windows is installed.\n    print(\"Loaded os_version_detection function!\")\n    print(\"Detecting family of Windows...\")\n    sys_info_raw = sys.getwindowsversion()\n    if 'major=6, minor=2' in sys_info_raw:\n        os_version = \"Win8\"\n        print(\"Detected OS: Windows 8/2012!\")\n\n    elif 'major=6, minor=1' in sys_info_raw:\n        os_version = \"Win7\"\n        print(\"Detected OS: Windows 7/2008!\")\n\n    elif 'major=6, minor=0' in sys_info_raw:\n        os_version = \"WinVista\"\n        print(\"Detected OS: Windows Vista!\")\n\n    elif 'major=5, minor=2' in sys_info_raw:\n        os_version = \"Win2003\"\n        print(\"Detected OS: Windows 2003!\")\n\n    elif 'major=5, minor=1' in sys_info_raw:\n        os_version = \"WinXP\"\n        print(\"Detected OS: Windows XP!\")\n\n    else:\n        os_version = \"Unknown\"\n        print(\"Detected OS: Unknown!\")\n        print sys_info_raw\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "google-drive-api"], "answers": [{"comments": [{"owner": {"reputation": 2043, "user_id": 4115369, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/295e2bbc171e610e7a3f0625fc8f89d3?s=128&d=identicon&r=PG&f=1", "display_name": "Yibo Yang", "link": "https://stackoverflow.com/users/4115369/yibo-yang"}, "edited": false, "score": 0, "creation_date": 1446525441, "post_id": 28470799, "comment_id": 54767418, "body": "Direct link to how it can be done: <a href=\"http://stackoverflow.com/questions/22092402/python-google-drive-api-list-the-entire-drive-file-tree\" title=\"python google drive api list the entire drive file tree\">stackoverflow.com/questions/22092402/&hellip;</a>"}], "tags": [], "owner": {"reputation": 18863, "user_id": 1000753, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/23634e7a38e353cca12bb72a4205615b?s=128&d=identicon&r=PG", "display_name": "pinoyyid", "link": "https://stackoverflow.com/users/1000753/pinoyyid"}, "is_accepted": true, "score": 4, "last_activity_date": 1423804162, "last_edit_date": 1423804162, "creation_date": 1423722515, "answer_id": 28470799, "question_id": 28462998, "link": "https://stackoverflow.com/questions/28462998/google-drive-api-just-listing-up-to-100-files-per-folder/28470799#28470799", "title": "Google Drive API just listing up to 100 files per folder", "body": "<p>It's pretty standard for all REST APIs to paginate their output lists. The Drive API is no different. You simply need to monitor the presence of a nextPageToken in the JSON response and recurse through the successive pages.</p>\n\n<p>NB. Don't make the mistake as some have of assuming that a response with less than MaxResults is the last page. You should rely solely on nextPageToken.</p>\n\n<p>As an aside, once you have pagination working in your code, consider setting maxResults back to its default. I have a suspicion that the non-default values are less well tested, and also more prone to timeouts.</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 3360964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJZgx.jpg?s=128&g=1", "display_name": "ahumblenerd", "link": "https://stackoverflow.com/users/3360964/ahumblenerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1431798665, "creation_date": 1431798665, "answer_id": 30278910, "question_id": 28462998, "link": "https://stackoverflow.com/questions/28462998/google-drive-api-just-listing-up-to-100-files-per-folder/30278910#30278910", "title": "Google Drive API just listing up to 100 files per folder", "body": "<p>Default max results of query is 100. Must use pageToken/nextPageToken to repeat it. see Python Google Drive API - list the entire drive file tree</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6867606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r16tqNs7p84/AAAAAAAAAAI/AAAAAAAAABM/R5EPD7Xn0Hw/photo.jpg?sz=128", "display_name": "Alejandro Robles", "link": "https://stackoverflow.com/users/6867606/alejandro-robles"}, "is_accepted": false, "score": 1, "last_activity_date": 1475616365, "creation_date": 1475616365, "answer_id": 39862027, "question_id": 28462998, "link": "https://stackoverflow.com/questions/28462998/google-drive-api-just-listing-up-to-100-files-per-folder/39862027#39862027", "title": "Google Drive API just listing up to 100 files per folder", "body": "<p>\"results = service.files().list(\n        pageSize = 1000, q=\"'xxx' in parents\",fields=\"nextPageToken, files(id, name)\").execute()\"</p>\n\n<p>This worked for me.</p>\n"}], "owner": {"reputation": 215, "user_id": 2852609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0324fc59d655ace224529612a02a12bf?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s", "link": "https://stackoverflow.com/users/2852609/andr%c3%a9s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1836, "favorite_count": 1, "accepted_answer_id": 28470799, "answer_count": 3, "score": 1, "last_activity_date": 1475616365, "creation_date": 1423683440, "last_edit_date": 1495540853, "question_id": 28462998, "link": "https://stackoverflow.com/questions/28462998/google-drive-api-just-listing-up-to-100-files-per-folder", "title": "Google Drive API just listing up to 100 files per folder", "body": "<p>I'm creating an application to backup files stored in Google Drive using Python. The fist problem I encountered is that for some reason it just list up to 100 files in every folder. I think I'm using the correct scope ('<a href=\"https://www.googleapis.com/auth/drive\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/drive</a>') and here is the line of code I'm using to list the contents of a folder</p>\n\n<pre><code>folder_contents = service.files().list( q=\"'%s' in parents\" % folder['id'] ).execute()\n</code></pre>\n\n<p>Is there any way to change the number of listed files? I found in this thread <a href=\"https://stackoverflow.com/questions/21158219/google-drive-list-api-not-listed-all-the-documents\">Google Drive List API - not listed all the documents?</a> that there is a way to do this but <code>NumberToRetrieve</code> does not work. I tried to test it in the Drive API reference webpage (<a href=\"https://developers.google.com/drive/v2/reference/files/list\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/v2/reference/files/list</a>) but it gives me an error. I also can't figure out how to put this parameter when I request the list fromm my code (I'm new using the Drive API).</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT: I found a way to increase the number of files using the <code>MaxResuls</code> flag. But it just allows to list up to 1000 and that's not quite enough.</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1423684351, "post_id": 28462973, "comment_id": 45252260, "body": "<a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.xticks\" rel=\"nofollow noreferrer\">The docs</a> are your friend."}], "answers": [{"tags": [], "owner": {"reputation": 3998, "user_id": 2652811, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/t9tWd.jpg?s=128&g=1", "display_name": "bluevoxel", "link": "https://stackoverflow.com/users/2652811/bluevoxel"}, "is_accepted": false, "score": 1, "last_activity_date": 1423684545, "creation_date": 1423684545, "answer_id": 28463296, "question_id": 28462973, "link": "https://stackoverflow.com/questions/28462973/how-to-increase-the-number-of-displayed-thicks-on-the-x-axis-for-predefined-x-ra/28463296#28463296", "title": "How to increase the number of displayed thicks on the x-axis for predefined x-range?", "body": "<p>The answer is easier than I've thought. It can be eg.:</p>\n\n<pre><code>py.xticks(np.arange(-100, 1100, 100))\n</code></pre>\n\n<p>We'll get than:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WDReE.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 3998, "user_id": 2652811, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/t9tWd.jpg?s=128&g=1", "display_name": "bluevoxel", "link": "https://stackoverflow.com/users/2652811/bluevoxel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423684545, "creation_date": 1423683366, "last_edit_date": 1423684474, "question_id": 28462973, "link": "https://stackoverflow.com/questions/28462973/how-to-increase-the-number-of-displayed-thicks-on-the-x-axis-for-predefined-x-ra", "title": "How to increase the number of displayed thicks on the x-axis for predefined x-range?", "body": "<p>Say, I have a plot with x axis described by <code>numpy.arange(-100, 1000, 1)</code>. The plot looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Rrx0X.png\" alt=\"enter image description here\"></p>\n\n<p>The problem is, I want x thicks to be for example every 100, or even 50. How can I achieve that? Thank you in advance.    </p>\n"}, {"tags": ["python", "amazon-s3"], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 1466897, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d421d55bc1b1ba748dcf6ad70ae2e3ca?s=128&d=identicon&r=PG", "display_name": "Muttonchop", "link": "https://stackoverflow.com/users/1466897/muttonchop"}, "is_accepted": false, "score": 1, "last_activity_date": 1423689108, "creation_date": 1423689108, "answer_id": 28464574, "question_id": 28462962, "link": "https://stackoverflow.com/questions/28462962/argeparse-confirmation/28464574#28464574", "title": "Argeparse confirmation", "body": "<p>From reading the <a href=\"https://docs.python.org/2/library/argparse.html#action\" rel=\"nofollow\">docs</a> I would use the ability to subclass argparse.Action to do your custom behavior when you see that argument. I will include a slightly modified version of the code in the docs for you to use.</p>\n\n<pre><code>class CheckDeleteAction(argparse.Action):\n    def __init__(self, option_strings, dest, nargs=None, **kwargs):\n        if nargs is not None:\n            raise ValueError(\"nargs not allowed\")\n        super(CheckDeleteAction, self).__init__(option_strings, dest, **kwargs)\n\n    def __call__(self, parser, namespace, values, option_string):\n        # put your prompting and file deletion logic here\n        pass\n</code></pre>\n\n<p>Add this <code>parser.add_argument(\"-r\", \"--remove\", type=str, help=\"msg\", default='', action=CheckDeleteAction)</code> to make use of the class.</p>\n"}, {"comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1425270414, "post_id": 28802249, "comment_id": 45879010, "body": "I already solved the problem. But used a very &quot;badly coded&quot; solution of my own. This was much better and I could use it at a lot of places. Thanks!"}], "tags": [], "owner": {"reputation": 1965, "user_id": 3133885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fcfe8388e9a8c029a4135e6c7bdf9e07?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3133885/beginner"}, "is_accepted": true, "score": 1, "last_activity_date": 1425266872, "last_edit_date": 1495534190, "creation_date": 1425266872, "answer_id": 28802249, "question_id": 28462962, "link": "https://stackoverflow.com/questions/28462962/argeparse-confirmation/28802249#28802249", "title": "Argeparse confirmation", "body": "<p>I had the same issue (In a different CLI). I would suggest you to use the answer given <a href=\"https://stackoverflow.com/questions/3041986/python-command-line-yes-no-input\">here</a>. Look at the answer given by James. Its fairly easy to understand. Use it like this:</p>\n\n<pre><code>if args.remove:\n    b = Bucket(conn,default_bucket)\n    k = Key(b)\n    if b.get_key(args.remove):\n        if yes_no('Are you sure: ')\n            b.delete_key(args.remove)\n            print ( ' {0} Has been removed'.format(args.remove.split(\"/\")[-1]) )\n    else:\n        print ( \" No files named '{0}' found \".format(args.remove.split(\"/\")[-1] ) )\n        print ( ' Please check the bucket path or file name. Use -l command to list\n</code></pre>\n"}], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 1, "accepted_answer_id": 28802249, "answer_count": 2, "score": 3, "last_activity_date": 1425266872, "creation_date": 1423683320, "question_id": 28462962, "link": "https://stackoverflow.com/questions/28462962/argeparse-confirmation", "title": "Argeparse confirmation", "body": "<p>I am using <code>aprgeparse</code> in my program where to create an argument which allows the user to delete a file from a amazon s3 bucket. I create it in this way:</p>\n\n<pre><code>parser.add_argument(\"-r\", \"--remove\",type = str, help= \"Delete a file (enter full path to file)\" , default = '' )\n</code></pre>\n\n<p>I then check if the file is available, if yes i delete it:</p>\n\n<pre><code>if args.remove:\n    b = Bucket(conn,default_bucket)\n    k = Key(b)\n    if b.get_key(args.remove):\n        b.delete_key(args.remove)\n        print ( ' {0} Has been removed'.format(args.remove.split(\"/\")[-1]) )\n    else:\n        print ( \" No files named '{0}' found \".format(args.remove.split(\"/\")[-1] ) )\n        print ( ' Please check the bucket path or file name. Use -l command to list files')\n</code></pre>\n\n<p>I wanted to know if there is way I can prompt the user if he really intends the user to delete the file which is usually the case for deleting files (every program does it). Something like this</p>\n\n<pre><code>&gt;python myprog.py -r foo.txt\n&gt;Are your sure [Y/N] : Y\n&gt;File deleted\n</code></pre>\n"}, {"tags": ["python", "block", "urllib"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user554546"}, "edited": false, "score": 4, "creation_date": 1423683257, "post_id": 28462927, "comment_id": 45251644, "body": "You should ask yourself why you want to access websites that are blocked by an anti-malware program."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2629998"}, "edited": false, "score": 1, "creation_date": 1423684348, "post_id": 28462927, "comment_id": 45252254, "body": "If your antimalware program is giving you trouble then disable it."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 3, "creation_date": 1423684497, "post_id": 28462927, "comment_id": 45252355, "body": "@Andr&#233;Daniel that&#39;s possibly a very bad advice"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2629998"}, "reply_to_user": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 1, "creation_date": 1423685469, "post_id": 28462927, "comment_id": 45252864, "body": "@yuvi I don&#39;t see why it is, as the antimalware probably flagged the domain/URL as malicious because it either has exploits against browsers or just hosts malware files, none of which would work against this Python script;"}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 3, "creation_date": 1423686320, "post_id": 28462927, "comment_id": 45253324, "body": "@Andr&#233;Daniel without sufficient information about the url OP is using, to what domain it&#39;s reaching, or what the rest of the script is doing with it (because this is very obviously an excerpt), you can&#39;t know that for sure"}], "answers": [{"comments": [{"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1423693860, "post_id": 28463678, "comment_id": 45257315, "body": "Your doubt regarding bypass/<a href=\"https://forums.malwarebytes.org/index.php?/topic/164263-need-help-removing-edeal-by-ad-malware/?hl=whitelist#entry935305\" rel=\"nofollow noreferrer\">whitelisting</a> is unjustified and your answer poorly addresses what the OP needs based on the level of his question. Most of the comments on the OP agree."}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 3, "last_activity_date": 1423685810, "creation_date": 1423685810, "answer_id": 28463678, "question_id": 28462927, "link": "https://stackoverflow.com/questions/28462927/python-bypass-malwarebytes-blocked-websites-with-urllib/28463678#28463678", "title": "Python - bypass Malwarebytes blocked websites with urllib?", "body": "<p>A third party program (Malwarebytes) is controlling network traffic from and to your computer. You are at the mercy of this software.</p>\n\n<p>Unless this program provides a method to bypass its checks (which I highly doubt) the advice is that</p>\n\n<ul>\n<li><p>Disable Malwarebytes</p></li>\n<li><p>Run your Python script on a different computer</p></li>\n<li><p>Contact Malwarebytes how to adjust their program to allow your script (highly unlikely they have any bypass mechanism or they will do any exception for single individual)</p></li>\n</ul>\n\n<p>Also as a further security advise I suggest you run and visit malware sites in a browser run inside a Linux virtual machine.</p>\n"}, {"tags": [], "owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "is_accepted": false, "score": 2, "last_activity_date": 1423687294, "last_edit_date": 1423687294, "creation_date": 1423686858, "answer_id": 28463963, "question_id": 28462927, "link": "https://stackoverflow.com/questions/28462927/python-bypass-malwarebytes-blocked-websites-with-urllib/28463963#28463963", "title": "Python - bypass Malwarebytes blocked websites with urllib?", "body": "<p>If you really trust the url you're trying to reach, and have no problem that your script will reach it and interact with it (because, you should seriously consider that maybe malewarebytes is actually doing it's job), you can add the requested IP to the \"Web Exclusion\" list. Just follow <a href=\"https://helpdesk.malwarebytes.org/hc/en-us/articles/201948297-How-do-I-stop-Malwarebytes-Anti-Malware-from-blocking-a-website-or-network-program-that-I-trust-\" rel=\"nofollow\">these instructions</a> or open <strong>malewarebytes > settings > Web Exclusions</strong> and just logic your way (it's pretty straightforward). </p>\n\n<p>Now, you've asked:</p>\n\n<blockquote>\n  <p>I want to [...] all without Malwarebytes blocking anything but <strong>avoiding\n  malicious stuff</strong>.</p>\n</blockquote>\n\n<p>See, this is <strong>impossible</strong>. Either you trust malewarebytes to decide what's malicious and what's not, <em>or</em> you decide that yourself. You can't have it both ways - because there aren't both ways here. MB is supposed to block only malicious things, and if it gives out false positives, <strong>the only one who can tell the computer to ignore those is you</strong>, and again, when you do that, you run it at your <strong>own risk</strong>.</p>\n"}], "owner": {"reputation": 39, "user_id": 4543925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e5becda14f54e1b00e223998fead774?s=128&d=identicon&r=PG&f=1", "display_name": "BlaZe", "link": "https://stackoverflow.com/users/4543925/blaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 28463678, "answer_count": 2, "score": 0, "last_activity_date": 1423688520, "creation_date": 1423683147, "last_edit_date": 1423688520, "question_id": 28462927, "link": "https://stackoverflow.com/questions/28462927/python-bypass-malwarebytes-blocked-websites-with-urllib", "title": "Python - bypass Malwarebytes blocked websites with urllib?", "body": "<p>Here's a part my code that gets source code from websites:</p>\n\n<pre><code>#Header dictionary\nheaders = {}\n#Header for websites\nheaders['User-Agent'] = \"Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.27 Safari/537.17\"\n\n#Urllib code\nreq = urllib.request.Request(url, headers=headers)\nresp = urllib.request.urlopen(req)\nrespData = resp.read()\n</code></pre>\n\n<p>This works, however my Malwarebytes blocks some websites even when I use this program. Is there a way I can bypass this block? </p>\n\n<p>I want to get the source code and possibly write it to a txt file, all without Malwarebytes blocking anything but <strong>avoiding malicious stuff</strong>. </p>\n"}, {"tags": ["python", "parsing", "stdin", "python-interactive"], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423686677, "post_id": 28463897, "comment_id": 45253518, "body": "<code>for line in fileinput.input():</code>"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423686990, "post_id": 28463897, "comment_id": 45253682, "body": "@J.F.Sebastian: That&#39;s not extensible.  If OP wants to add more arguments in the future, they&#39;ll need to rework <code>fileinput</code> based solutions.  Such reworking risks breaking backwards compatibility (e.g. because someone wanted to pass a file named <code>-h</code>)."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423687935, "post_id": 28463897, "comment_id": 45254233, "body": "@J.F.: Then you might as well just pass <code>sys.argv[1]</code> to <code>open()</code> or fall back to <code>sys.stdin</code>.  I mean, you aren&#39;t going to need the multiple-file capabilities of <code>fileinput</code>, right?"}, {"owner": {"reputation": 33, "user_id": 1142185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb9a83d0dcca5fd9afa43fbf2ea92a5?s=128&d=identicon&r=PG", "display_name": "SSACody", "link": "https://stackoverflow.com/users/1142185/ssacody"}, "edited": false, "score": 0, "creation_date": 1423688217, "post_id": 28463897, "comment_id": 45254376, "body": "I see. This does feel like the correct way to do it; this lets me test small, manually constructed examples via <code>python -i parser.py</code> and on real data via <code>python -i parser.py file.txt</code>."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423688388, "post_id": 28463897, "comment_id": 45254462, "body": "@Kevin: <code>fileinput.input()</code> is the simplest thing that can accept input from files and fall back to <code>sys.stdin</code> automatically."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423688468, "post_id": 28463897, "comment_id": 45254505, "body": "@J.F.Sebastian: And, as I explained, that will give you headaches if you ever add another command line switch.  <a href=\"http://c2.com/cgi/wiki?EconomicsOfYagni\" rel=\"nofollow noreferrer\">YAGNI is not a free lunch</a>."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423688780, "post_id": 28463897, "comment_id": 45254642, "body": "There is no compatibility issue. I would only pass <code>-h</code> as <code>-- -h</code> and <code>fileinput</code> does not support <code>--</code>."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423688846, "post_id": 28463897, "comment_id": 45254676, "body": "@J.F.Sebastian: &quot;and fileinput does not support --.&quot; -- that&#39;s precisely the problem.  If you have an <i>actual file</i> named <code>-h</code>, you can <i>only</i> pass <code>-h</code>, because <code>-- -h</code> does not work.  Then, you switch to argparse to support <code>--foo</code> or whatever, and <code>-h</code> breaks."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423689067, "post_id": 28463897, "comment_id": 45254782, "body": "yes. It is exactly the point if and when I need it; I&#39;ll implement it -- no sooner."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423689266, "post_id": 28463897, "comment_id": 45254889, "body": "@J.F.Sebastian: The person passing arguments at the command line <i>is not you</i>.  It&#39;s the end user, and they&#39;ll do whatever they damn well please, so long as it works."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1423690566, "post_id": 28463897, "comment_id": 45255576, "body": "@Kevin: If we are talking about end users and backwards compatibility then you should add tests, documentation, etc to your answer. At this point I would use <code>argparse</code>"}], "tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": true, "score": 3, "last_activity_date": 1423686633, "creation_date": 1423686633, "answer_id": 28463897, "question_id": 28462919, "link": "https://stackoverflow.com/questions/28462919/python-interactive-after-reading-sys-stdin/28463897#28463897", "title": "Python interactive after reading sys.stdin", "body": "<p>The REPL (interactive console) exits when it exhausts standard input.  Ordinarily, standard input is the console, so it only exits when you type ^D or call <code>quit()</code> manually.  But if you redirect stdin from a file, stdin will be exhausted when you reach the end of the file.</p>\n\n<p>You can use <code>argparse</code> to accept a file on the command line, defaulting to <code>sys.stdin</code>:</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument('input', type=argparse.FileType(), nargs='?', default=sys.stdin)\nargs = parser.parse_args()\nG = defaultdict(list)\nfor line in args.input:\n    ...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 1142185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb9a83d0dcca5fd9afa43fbf2ea92a5?s=128&d=identicon&r=PG", "display_name": "SSACody", "link": "https://stackoverflow.com/users/1142185/ssacody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 1, "accepted_answer_id": 28463897, "answer_count": 1, "score": 1, "last_activity_date": 1423686633, "creation_date": 1423683128, "question_id": 28462919, "link": "https://stackoverflow.com/questions/28462919/python-interactive-after-reading-sys-stdin", "title": "Python interactive after reading sys.stdin", "body": "<p>I'm trying to write a small graph parser that reads from <code>stdin</code> and writes the processed output to <code>stdout</code> along the lines of:</p>\n\n<pre><code># parser.py\nG = defaultdict(list)\nfor line in sys.stdin:\n    node, neighbor = line.split()\n    G[node].append(neighbor)\nprint(G)\n</code></pre>\n\n<p>I would like to invoke the script with <code>python -i parser.py &lt; data.txt</code> and interact with the objects I've created, but the interpreter always exits after the code runs even when I invoke Python with the <code>-i</code> option. N.B. The same thing occurs with <code>ipython</code>; it even confirms for me that I \"really want to exit.\"</p>\n\n<p>A workaround is to write the code to use a specific file passed in as an argument, but I was wondering if there is a way to make Python not exit the interpreter in the example above.</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "owner": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1423684748, "creation_date": 1423683088, "last_edit_date": 1423684748, "question_id": 28462908, "link": "https://stackoverflow.com/questions/28462908/assigning-a-series-to-a-multi-index-column", "title": "Assigning a series to a multi-index column", "body": "<p>Consider the following:</p>\n\n<pre><code>import itertools\n\nindex_levels = [['foo', 'bar'], ['something', 'something_else']]\nmidx         = pd.MultiIndex.from_product(index_levels, names=['one', 'two']\ndf           = pd.DataFrame(columns=midx)\n</code></pre>\n\n<p>The following works:</p>\n\n<pre><code>df['foo', 'something']] = pd.Series(np.random.randn(20,))\n</code></pre>\n\n<p>but the following doesn't: </p>\n\n<pre><code>df.loc[:, idx['foo', 'something']] = pd.Series(np.random.randn(20,))\n</code></pre>\n\n<p>we get the following error:</p>\n\n<pre><code>ValueError: Must have equal len keys and value when setting with an iterable\n</code></pre>\n\n<p>Why? </p>\n\n<p>Note that this type of Series-to-column assignment works without problem when the column depth is 1:</p>\n\n<pre><code>df = pd.DataFrame(columns=['foo'])\ndf.loc[:, 'foo'] = pd.Series(np.random.randn(20,))\n</code></pre>\n\n<p>The following also works:</p>\n"}, {"tags": ["python", "csv", "cmd", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 4552023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fd27b3115916d610b0c9abab0afe65?s=128&d=identicon&r=PG&f=1", "display_name": "K.Reed", "link": "https://stackoverflow.com/users/4552023/k-reed"}, "is_accepted": true, "score": 0, "last_activity_date": 1423847665, "creation_date": 1423847665, "answer_id": 28505043, "question_id": 28462886, "link": "https://stackoverflow.com/questions/28462886/scrapy-csv-outputing-on-multiple-lines/28505043#28505043", "title": "Scrapy csv outputing on multiple lines", "body": "<p>I was able to find it by experimenting with:</p>\n\n<pre><code>hxs = HtmlXPathSelector(response)\n</code></pre>\n\n<p>Apparently, there is a huge difference between Selector and HtmlPatchSelector</p>\n"}], "owner": {"reputation": 25, "user_id": 4552023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fd27b3115916d610b0c9abab0afe65?s=128&d=identicon&r=PG&f=1", "display_name": "K.Reed", "link": "https://stackoverflow.com/users/4552023/k-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 28505043, "answer_count": 1, "score": 0, "last_activity_date": 1462209012, "creation_date": 1423683009, "last_edit_date": 1423737574, "question_id": 28462886, "link": "https://stackoverflow.com/questions/28462886/scrapy-csv-outputing-on-multiple-lines", "title": "Scrapy csv outputing on multiple lines", "body": "<p>Here's my spider:</p>\n\n<pre><code>from scrapy.spider import BaseSpider\nfrom scrapy.selector import Selector\nfrom ..items import TutorialItem\n\nclass Tutorial1(BaseSpider):\nname = \"Tut\"\nallowed_domains = ['nytimes.com']\nstart_urls = [\"http://nytimes.com\",] \n\ndef parse(self, response):\n    sel = Selector(response)\n    sites = sel.xpath('//div[@class=\"span-ab-layout layout\"]')\n    items = []\n\n    for site in sites:\n        item = TutorialItem()\n        item['title'] = map(unicode.strip, site.select('//h2[@class=\"story-heading\"]/a/text()').extract())\n        item['time'] = map(unicode.strip, site.select('//time[@class=\"timestamp\"]/text()').extract())\n        yield item\n</code></pre>\n\n<p>Here is my output:</p>\n\n<blockquote>\n  <p>author    time\n  By PETER BAKER,By JONATHAN M. KATZ and RICHARD P\u00c3\u2030REZ-PE\u00c3\u2018A,By NEIL MacFARQUHAR,By RON NIXON,By RICHARD GOLDSTEIN,By LOUISE STORY and ALEJANDRA XANIC von BERTRAB,By DAVID CARR,By A.O. SCOTT,By JER\u00c3\u2030 LONGMAN,By THE EDITORIAL BOARD,By JON BECKMANN,By C. J. HUGHES,By JOANNE KAUFMAN 10:26 AM ET,1:08 PM ET,11:57 AM ET,8:33 AM ET,10:01 AM ET,12:35 PM ET,1:47 PM ET,10:36 AM ET,10:26 AM ET,9:49 AM ET,12:05 PM ET,9:21 AM ET,12:22 PM ET,11:52 AM ET,8:59 AM ET</p>\n  \n  <blockquote>\n    <p>By PETER BAKER,By JONATHAN M. KATZ and RICHARD P\u00c3\u2030REZ-PE\u00c3\u2018A,By NEIL MacFARQUHAR,By RON NIXON,By RICHARD GOLDSTEIN,By LOUISE STORY and ALEJANDRA XANIC von BERTRAB,By DAVID CARR,By A.O. SCOTT,By JER\u00c3\u2030 LONGMAN,By THE EDITORIAL BOARD,By JON BECKMANN,By C. J. HUGHES,By JOANNE KAUFMAN   10:26 AM ET,1:08 PM ET,11:57 AM ET,8:33 AM ET,10:01 AM ET,12:35 PM ET,1:47 PM ET,10:36 AM ET,10:26 AM ET,9:49 AM ET,12:05 PM ET,9:21 AM ET,12:22 PM ET,11:52 AM ET,8:59 AM ET</p>\n  </blockquote>\n</blockquote>\n\n<p>I made the indention so it was clear where it was duplicating.</p>\n\n<p>My problem occurs when I go to print out my work in CSV is always comes out in 1 giant row. It also makes a duplicate column for some reason. Can anyone help me with this dilemma?</p>\n"}]