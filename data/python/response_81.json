[{"tags": ["python", "regex", "string", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1469664194, "post_id": 38625057, "comment_id": 64635509, "body": "Where is the <code>&#39;d&#39;</code> supposed to come from? Also, a dict can&#39;t map <code>&#39;2&#39;</code> to both <code>&#39;a&#39;</code> and <code>&#39;b&#39;</code>, so you&#39;ll have to go with the second structure for your dict."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1469664275, "post_id": 38625057, "comment_id": 64635531, "body": "Can you show what you have tried thus far?"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 4, "last_activity_date": 1469664342, "creation_date": 1469664342, "answer_id": 38625110, "question_id": 38625057, "link": "https://stackoverflow.com/questions/38625057/creating-a-dictionary-from-a-list-of-strings/38625110#38625110", "title": "Creating a dictionary from a list of strings", "body": "<p>Since a dictionary can't contain duplicate keys, use a <code>defaultdict</code>:</p>\n\n<pre><code>import collections\nl = ['2(a)', '2(b)', '3', '3(a)', '1c', '5']\nd = collections.defaultdict(list)\nfor item in l:\n    num = ''.join(c for c in item if c.isdigit())\n    word = ''.join(c for c in item if c.isalpha())\n    if word and num:\n        d[num].append(word)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&gt;&gt;&gt; print(d)\ndefaultdict(&lt;class 'list'&gt;, {'2': ['a', 'b'], '1': ['c'], '3': ['a']})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469674748, "post_id": 38625225, "comment_id": 64637536, "body": "There&#39;s no list comprehension there, only a generator expression."}, {"owner": {"reputation": 3137, "user_id": 6320655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M4BVxTY56KE/AAAAAAAAAAI/AAAAAAAAAB4/4zNEZqhVqpI/photo.jpg?sz=128", "display_name": "ospahiu", "link": "https://stackoverflow.com/users/6320655/ospahiu"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469715918, "post_id": 38625225, "comment_id": 64661502, "body": "@TigerhawkT3 updated with more information, great answer btw!"}], "tags": [], "owner": {"reputation": 3137, "user_id": 6320655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M4BVxTY56KE/AAAAAAAAAAI/AAAAAAAAAB4/4zNEZqhVqpI/photo.jpg?sz=128", "display_name": "ospahiu", "link": "https://stackoverflow.com/users/6320655/ospahiu"}, "is_accepted": true, "score": 2, "last_activity_date": 1469715711, "last_edit_date": 1469715711, "creation_date": 1469665308, "answer_id": 38625225, "question_id": 38625057, "link": "https://stackoverflow.com/questions/38625057/creating-a-dictionary-from-a-list-of-strings/38625225#38625225", "title": "Creating a dictionary from a list of strings", "body": "<p>This is a good time to use <code>setdefault()</code> for a <strong>dictionary</strong> to define the structure of your dictionary. The first part involves capturing the numbers from the elements using a regex that captures all numbers. That <code>list</code> is then concatenated using <code>join()</code>. </p>\n\n<p>We then extract only <strong>alphabet</strong> characters using either a <em>list comprehension</em> -> <code>[j for j in i if j.isalpha()]</code>, or pass as a <em>generator</em> <code>j for j in i if j.isalpha()</code> (<em>generator in our case, joining the elements as a</em> <code>string</code> <em>together once again</em>). </p>\n\n<p>Lastly a check to see that both <code>key</code> and <code>value</code> exist so that we can set our dictionary to be of this format -> <code>{ '' : [] , ...}</code></p>\n\n<pre><code>import re\n\ndef to_dict(l):\n    d = {}\n    for i in l: \n        key = re.findall(r'\\d+', i)\n        value = ''.join(j for j in i if j.isalpha())\n        if key and value:\n            d.setdefault(''.join(key), []).append(value)    \n    return d\n</code></pre>\n\n<p><strong>Sample output:</strong></p>\n\n<pre><code>l = ['2(a)', '2(b)', '3', '3(a)', '1c', '5']\nprint to_dict(l)\n&gt;&gt;&gt; {'1': ['c'], '3': ['a'], '2': ['a', 'b']}\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 5391221, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/06d03449ef2d22e00f14d277f17192cc?s=128&d=identicon&r=PG&f=1", "display_name": "boldbrandywine", "link": "https://stackoverflow.com/users/5391221/boldbrandywine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 38625225, "answer_count": 2, "score": 0, "last_activity_date": 1469715711, "creation_date": 1469663980, "last_edit_date": 1469669902, "question_id": 38625057, "link": "https://stackoverflow.com/questions/38625057/creating-a-dictionary-from-a-list-of-strings", "title": "Creating a dictionary from a list of strings", "body": "<p>I have a list of strings </p>\n\n<pre><code>list = ['2(a)', '2(b)', '3', '3(a)', '1d', '5']\n</code></pre>\n\n<p>where it is intentional that the 1d, 3, and 5 don't involve parentheses.</p>\n\n<p>I would like to create a dictionary which looks like this:</p>\n\n<pre><code>dict = {'2': 'a', '2': 'b', '3': 'a', '1': 'd'}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>dict = {'2': ['a', 'b'], '3': ['a'], '1': ['d']}.\n</code></pre>\n\n<p>Essentially, ignore those strings without a letter a-z. I've used regular expressions to extract from the top list the following:</p>\n\n<pre><code>['a', 'b', 'a', 'd'],\n</code></pre>\n\n<p>but this hasn't helped me much in forming my dictionary easily.</p>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["python", "matplotlib", "ipython"], "answers": [{"tags": [], "owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "is_accepted": true, "score": 1, "last_activity_date": 1469668424, "last_edit_date": 1495542154, "creation_date": 1469668424, "answer_id": 38625607, "question_id": 38624967, "link": "https://stackoverflow.com/questions/38624967/why-are-these-functions-not-drawing-on-the-same-graph-together/38625607#38625607", "title": "Why are these functions not drawing on the same graph together?", "body": "<p>I played around with your code and got it to work by adding %matplotlib notebook and removing calls to plt.show().</p>\n\n<pre><code>%matplotlib notebook\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Rectangle\nfrom ipywidgets.widgets import Button\nfrom IPython.display import display\n\nclass Test(object):\n    def __init__(self):\n        plt.ion()\n        self.figure = plt.figure()\n        self.ax = self.figure.gca()\n        self.button = Button(description = \"Draw new points.\")\n        display(self.button)\n        self.button.on_click(self.button_clicked)\n        self.button2 = Button(description = \"Draw more points.\")\n        display(self.button2)\n        self.button2.on_click(self.button_clicked2)\n\n    def button_clicked(self, event):\n        self.ax.scatter([1,2,8], [6,5,4])\n        self.figure.canvas.draw()\n\n    def button_clicked2(self, event):\n        self.ax.scatter([1,0,5], [3,8,3])\n        self.figure.canvas.draw()\n\ntest = Test()\n</code></pre>\n\n<p>Make sure that you have the latest version of matplotlib installed. This functionality depends on the nbagg backend. See <a href=\"https://stackoverflow.com/questions/34486642/what-is-the-currently-correct-way-to-dynamically-update-plots-in-jupyter-ipython\">this question</a> for more information.</p>\n"}], "owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 38625607, "answer_count": 1, "score": 2, "last_activity_date": 1469668424, "creation_date": 1469663331, "question_id": 38624967, "link": "https://stackoverflow.com/questions/38624967/why-are-these-functions-not-drawing-on-the-same-graph-together", "title": "Why are these functions not drawing on the same graph together?", "body": "<p>I'd like to be able to click on the two buttons generated in the IPython GUI and then generate a total of 6 points on the same graph. However, right now clicking the two buttons does not create the 6 points, and only creates the graph made by the first button to be clicked. What am I doing wrong?</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.patches import Rectangle\nfrom ipywidgets.widgets import Button\nfrom IPython.display import display\n\nclass Test(object):\n    def __init__(self):\n        self.figure = plt.figure()\n        self.ax = self.figure.gca()\n        self.button = Button(description = \"Draw new points.\")\n        display(self.button)\n        self.button.on_click(self.button_clicked)\n        self.button2 = Button(description = \"Draw more points.\")\n        display(self.button2)\n        self.button2.on_click(self.button_clicked2)\n\n    def button_clicked(self, event):\n        self.ax.scatter([1,2,8], [6,5,4])\n        self.figure.canvas.draw()\n        plt.show()\n\n    def button_clicked2(self, event):\n        self.ax.scatter([1,0,5], [3,8,3])\n        self.figure.canvas.draw()\n        plt.show()\n\ntest = Test()\n</code></pre>\n"}, {"tags": ["python", "mongodb"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1469664914, "post_id": 38624903, "comment_id": 64635707, "body": "401 means the url is password protected."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 2804064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/89968a1a021ba7d17e106b5db427ec8d?s=128&d=identicon&r=PG&f=1", "display_name": "user2804064", "link": "https://stackoverflow.com/users/2804064/user2804064"}, "edited": false, "score": 0, "creation_date": 1469742977, "post_id": 38625250, "comment_id": 64677420, "body": "Thanks for your answer, actually the problem was with twitter API not with mongodb connection, I had to reset the system clock and it worked just fine."}], "tags": [], "owner": {"reputation": 1052, "user_id": 559969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rBMLi.png?s=128&g=1", "display_name": "FoxMulder900", "link": "https://stackoverflow.com/users/559969/foxmulder900"}, "is_accepted": false, "score": 0, "last_activity_date": 1469665541, "creation_date": 1469665541, "answer_id": 38625250, "question_id": 38624903, "link": "https://stackoverflow.com/questions/38624903/401-error-python-mongodb-connection/38625250#38625250", "title": "401 error python MongoDB connection", "body": "<p>Sounds like you need to authenticate with the database right after creating the new MongoClient instance:</p>\n\n<pre><code>client.tweets_db.authenticate('user', 'password')\n</code></pre>\n\n<p>See <a href=\"https://api.mongodb.com/python/current/examples/authentication.html\" rel=\"nofollow\">here</a> for more detailed examples</p>\n"}], "owner": {"reputation": 171, "user_id": 2804064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/89968a1a021ba7d17e106b5db427ec8d?s=128&d=identicon&r=PG&f=1", "display_name": "user2804064", "link": "https://stackoverflow.com/users/2804064/user2804064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469665541, "creation_date": 1469662900, "last_edit_date": 1469663122, "question_id": 38624903, "link": "https://stackoverflow.com/questions/38624903/401-error-python-mongodb-connection", "title": "401 error python MongoDB connection", "body": "<p>I'm trying to set a connection between Python and MongoDB to store tweets. My problem is that I get 401 in each request with <code>Mylistener</code>. Could you please help to fix this ?</p>\n\n<pre><code>class MyListener(StreamListener):\n    def __init__(self, start_time, time_limit=60):\n        self.time = start_time\n        self.limit = time_limit\n        self.tweet_data = []\n     def on_data(self, data):\n        while (time.time() - self.time)&lt;self.limit:\n              try:\n                client = MongoClient('localhost',27017)\n                client.server_info()\n                db = client.tweets_db\n                collection = db.collect_tweets\n                tweet = json.loads(data)\n                collect_tweets.insert(tweet)\n                return True\n            except BaseException as e:\n                print(\"Error on_data: %s\" % str(e))\n            return True\n      def on_error(self, status):\n        print(status)\nKeywords_list=['word1','word2','word3']\ntwitter_stream = Stream(auth, MyListener(start_time, time_limit))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1469663008, "post_id": 38624887, "comment_id": 64635223, "body": "You should read more about how return works. This should be a good start: <a href=\"http://stackoverflow.com/questions/7129285/why-would-you-use-the-return-statement-in-python\" title=\"why would you use the return statement in python\">stackoverflow.com/questions/7129285/&hellip;</a>"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1469663151, "post_id": 38624887, "comment_id": 64635273, "body": "What did you expect the code to do by having two return statements ? maybe what you actually wanted is something like: <code>return min(nums), max(nums)</code>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1469663896, "post_id": 38624887, "comment_id": 64635443, "body": "Also see <a href=\"http://stackoverflow.com/questions/21278736/why-doesnt-python-print-return-values\">here</a>, <a href=\"http://stackoverflow.com/questions/3881434/difference-between-returns-and-printing-in-python\">here</a>, and a ton of other results that you can find by Googling the difference between printing and returning."}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 6646471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b527fee24ac7ea7c4e4497935fe1069c?s=128&d=identicon&r=PG&f=1", "display_name": "aramase", "link": "https://stackoverflow.com/users/6646471/aramase"}, "is_accepted": false, "score": 2, "last_activity_date": 1469663418, "last_edit_date": 1469663418, "creation_date": 1469662953, "answer_id": 38624912, "question_id": 38624887, "link": "https://stackoverflow.com/questions/38624887/why-doesnt-this-code-display-any-output/38624912#38624912", "title": "Why doesn&#39;t this code display any output?", "body": "<ol>\n<li>You cannot use 2 returns. The first return will return the minimum value and the second return will never be reached. </li>\n<li>The value returned is not being printed.</li>\n</ol>\n\n<p>Try this - </p>\n\n<pre><code>def Ehlo():\n   nums = [1,5,2,4,6,12,8,9,3]\n   return (min(nums)),(max(nums))\n\nprint(Ehlo())\n</code></pre>\n\n<p>Output: (1,12)</p>\n"}, {"tags": [], "owner": {"reputation": 1929, "user_id": 1354844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a41ff886354534dd64567d50e41c2d25?s=128&d=identicon&r=PG", "display_name": "dkar", "link": "https://stackoverflow.com/users/1354844/dkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1469663323, "last_edit_date": 1469663323, "creation_date": 1469662967, "answer_id": 38624917, "question_id": 38624887, "link": "https://stackoverflow.com/questions/38624887/why-doesnt-this-code-display-any-output/38624917#38624917", "title": "Why doesn&#39;t this code display any output?", "body": "<p>This is how Python behaves: In a script you will always need a print statement to see a visible result. However, in the console entering the name of a variable (or returning something as in your case from a routine) will automatically print the value.</p>\n"}], "owner": {"reputation": 17, "user_id": 5451806, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c0b994c74c0588e73eb0bc25cc5bcb71?s=128&d=identicon&r=PG&f=1", "display_name": "TeachAble", "link": "https://stackoverflow.com/users/5451806/teachable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1469663859, "answer_count": 2, "score": -1, "last_activity_date": 1469663504, "creation_date": 1469662748, "last_edit_date": 1469663504, "question_id": 38624887, "link": "https://stackoverflow.com/questions/38624887/why-doesnt-this-code-display-any-output", "closed_reason": "Duplicate", "title": "Why doesn&#39;t this code display any output?", "body": "<p>I wrote a function that printed out the min &amp; max of the numbers in the list, but when I switched print with return the code doesn't seem to print a thing, so I ran the same code with the return statement in the python console and it work, I want to know why the code works with the python console in terminal and why it doesn't when I run the script as python3 Code.py</p>\n\n<pre><code>#!/usr/bin/env python3.5\n#\n#\ndef Ehlo():\n    nums = [1,5,2,4,6,12,8,9,3]\n\n    return (min(nums))\n    #return (max(nums))\n\nEhlo()\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469663742, "post_id": 38624891, "comment_id": 64635404, "body": "it&#39;s still not running after I create the instance"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "reply_to_user": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469663825, "post_id": 38624891, "comment_id": 64635428, "body": "@Mia Updated above"}, {"owner": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469664036, "post_id": 38624891, "comment_id": 64635469, "body": "I saw and fixed that after I posted the code. Apparently, there&#39;s another problem in my code that I&#39;m not seeing."}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "reply_to_user": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469664067, "post_id": 38624891, "comment_id": 64635476, "body": "@Mia Did you see my update about calling <code>createDirectionPad()</code> ?"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "reply_to_user": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469665385, "post_id": 38624891, "comment_id": 64635785, "body": "@Mia What is <code>window</code>? that isn&#39;t defined."}, {"owner": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469665759, "post_id": 38624891, "comment_id": 64635859, "body": "it is supposed to be turtle.Screen()"}, {"owner": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469668269, "post_id": 38624891, "comment_id": 64636310, "body": "Oh wow I didnt see that. Thank you so much. I have it running now"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "reply_to_user": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "edited": false, "score": 0, "creation_date": 1469668463, "post_id": 38624891, "comment_id": 64636338, "body": "@Mia Consider marking this as a solution if it worked for you"}], "tags": [], "owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "is_accepted": false, "score": 2, "last_activity_date": 1469666821, "last_edit_date": 1469666821, "creation_date": 1469662763, "answer_id": 38624891, "question_id": 38624875, "link": "https://stackoverflow.com/questions/38624875/gui-buttons-not-displaying-in-window/38624891#38624891", "title": "GUI, Buttons not displaying in window", "body": "<p>First of all your indentation is off, but once you fix that, you never actually create an instance of your <code>turtleApp</code> class, so none of that code ever gets executed leaving you with an empty GUI.</p>\n\n<pre><code># Actually create a turtleApp instance which adds the buttons\napp = turtleApp()\n\n# Enter your main event loop\nmain.mainloop()\n</code></pre>\n\n<p>You also need to actually <em>call</em> <code>createDirectionPad</code> within <code>__init__</code> using explicit <code>()</code>. As it is, <code>self.createDirectionPad</code> (without the <code>()</code>) just creates a reference to the method and doesn't actually call it.</p>\n\n<pre><code>def __init__(self):\n    # other stuff\n    self.createDirectionPad()\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>You also have a typo in your <code>__init__</code> function declaration. You are missing the final <code>_</code> in <code>__init__</code></p>\n"}], "owner": {"reputation": 11, "user_id": 6525176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c247090a9b263d488a88e4c01ea735ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mia", "link": "https://stackoverflow.com/users/6525176/mia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469708939, "creation_date": 1469662670, "last_edit_date": 1469708939, "question_id": 38624875, "link": "https://stackoverflow.com/questions/38624875/gui-buttons-not-displaying-in-window", "title": "GUI, Buttons not displaying in window", "body": "<p>For my homework, I have to create a widget. I'm very new to this. I'm trying to get my buttons to show up. I have tried packing them, but I don't know what I'm doing wrong. Here is what I have.</p>\n\n<pre><code>from tkinter import *\nimport turtle\nmain = Tk()\nmain.title(\"TurtleApp\")\n\nclass turtleApp:\n\n  def __init_(self):\n    self.main = main\n    self.step = 10\n    self.turtle = turtle.Turtle()\n    self.window = turtle.Screen()\n    self.createDirectionPad\n\n  def createDirectionPad(self):\n    mainFrame = Frame(main)\n    mainFrame.pack()\n    button1 = Button(mainFrame,text = \"left\", fg=\"red\")\n    button2 = Button(mainFrame,text = \"right\", fg=\"red\")\n    button3 = Button(mainFrame,text = \"up\", fg=\"red\")\n    button4= Button(mainFrame,text = \"down\", fg=\"red\")\n    button1.pack()\n    button2.pack()\n    button3.pack()\n    button4.pack()\n\nmain.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "recursion", "decorator", "memoization"], "comments": [{"owner": {"reputation": 3346, "user_id": 5141328, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/518f7cb4b021eb39eb3cb9987016db2d?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Smith", "link": "https://stackoverflow.com/users/5141328/oscar-smith"}, "edited": false, "score": 0, "creation_date": 1469665567, "post_id": 38624852, "comment_id": 64635827, "body": "One slight comment is that your code could be cleaned up with <code>cost = 1 - (s[-1] is t[-1])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": true, "score": 7, "last_activity_date": 1469663210, "creation_date": 1469663210, "answer_id": 38624949, "question_id": 38624852, "link": "https://stackoverflow.com/questions/38624852/maximum-recursion-depth-exceeded-but-only-when-using-a-decorator/38624949#38624949", "title": "Maximum recursion depth exceeded, but only when using a decorator", "body": "<p>Consider the stack frames (function calls) that are happening in your original code.  They will look something like:</p>\n\n<pre><code>lev(s, t)\n-&gt; lev(..., ...)\n   -&gt; lev(..., ...)\n       -&gt; lev(..., ...)\n           -&gt; lev(..., ...)\n</code></pre>\n\n<p>In you memoized version they appear as:</p>\n\n<pre><code>wraps(s, t)\n-&gt; lev(..., ...)\n   -&gt; wraps(s, t)\n      -&gt; lev(..., ...)\n          -&gt; wraps(s, t)\n             -&gt; lev(..., ...)\n                -&gt; wraps(s, t)\n                   -&gt; lev(..., ...)\n                      -&gt; wraps(s, t)\n                         -&gt; lev(..., ...)\n</code></pre>\n\n<p>That is, your stack frame will be twice as big, as each \"call\" actually invokes two functions.  Thus you will exhaust the stack frame limit earlier.</p>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 6, "last_activity_date": 1469663223, "creation_date": 1469663223, "answer_id": 38624952, "question_id": 38624852, "link": "https://stackoverflow.com/questions/38624852/maximum-recursion-depth-exceeded-but-only-when-using-a-decorator/38624952#38624952", "title": "Maximum recursion depth exceeded, but only when using a decorator", "body": "<p>This <em>looks</em> like an infinite recursion issue, but it's not. You're just recursing really deeply, and the decorator makes it deeper.</p>\n\n<p>Instead of directly calling the <code>lev</code> function you defined, every call goes through <code>wrap</code>, and <code>wrap</code> calls <code>lev</code>. That makes your call stack twice as deep. You would have run into this problem anyway if you didn't use the decorator and your inputs got bigger.</p>\n\n<p>To fix this, you'll probably have to switch to a non-recursive program structure, either by using a bottom-up dynamic programming style or by converting the recursion to iteration and maintaining a stack manually.</p>\n"}, {"tags": [], "owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "is_accepted": false, "score": 4, "last_activity_date": 1469667326, "last_edit_date": 1469667326, "creation_date": 1469666491, "answer_id": 38625382, "question_id": 38624852, "link": "https://stackoverflow.com/questions/38624852/maximum-recursion-depth-exceeded-but-only-when-using-a-decorator/38625382#38625382", "title": "Maximum recursion depth exceeded, but only when using a decorator", "body": "<p>Trying to understand your code, I made some modifications. Nothing big, just a matter of preference.</p>\n\n<p>I only changed one line:</p>\n\n<pre><code>if s[-1] is t[-1]:\n</code></pre>\n\n<p>for this one</p>\n\n<pre><code>if s[-1] == t[-1]:\n</code></pre>\n\n<p>As is, your code runs without any recursion problem</p>\n\n<p><strong>EDIT</strong> Testing it with the whole string you are using, I ran into recursion limit problem too. Definitely, it goes deep.</p>\n\n<p>Add these 2 lines:</p>\n\n<pre><code>import sys\nsys.setrecursionlimit(10000) \n\ndef memoize(func):\n  memo = {}\n  def wrap(s, t):\n    if (s, t) not in memo:\n      memo[(s, t)] = func(s, t)\n    return memo[(s, t)]\n  return wrap\n\n@memoize\ndef lev(s, t):\n    len_s, len_t = len(s), len(t)\n    if len_s==0: return len_t\n    if len_t==0: return len_s\n    cost = 0 if s[-1] == t[-1] else 1\n    return min(lev(s[:-1], t) + 1,\n               lev(s, t[:-1]) + 1,\n               lev(s[:-1], t[:-1]) + cost)\n\ns = \"Lorem ibsum +++\"\nt = \"Loren ipsum ...\"\nprint(lev(s, t))             # 5\n</code></pre>\n\n<p>Other than that, because you are using Python 3 (as I see in the question tag), you could use the <code>functools.lru_cache</code> instead of a custom <code>memoize</code> function:</p>\n\n<pre><code>from functools import lru_cache\n\n@lru_cache(maxsize=None)\ndef lev(s, t):\n    ...\n    ...\n</code></pre>\n"}], "owner": {"reputation": 294, "user_id": 2694982, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100000491316440/picture?type=large", "display_name": "Timothy Deng", "link": "https://stackoverflow.com/users/2694982/timothy-deng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 2, "accepted_answer_id": 38624949, "answer_count": 3, "score": 6, "last_activity_date": 1469667326, "creation_date": 1469662577, "last_edit_date": 1469663689, "question_id": 38624852, "link": "https://stackoverflow.com/questions/38624852/maximum-recursion-depth-exceeded-but-only-when-using-a-decorator", "title": "Maximum recursion depth exceeded, but only when using a decorator", "body": "<p>I'm writing a program to calculate Levenshtein distance in Python. I implemented memoization because I am running the algorithm recursively. My original function implemented the memoization in the function itself. Here's what it looks like:</p>\n\n<pre><code># Memoization table mapping from a tuple of two strings to their Levenshtein distance\ndp = {}\n\n# Levenshtein distance algorithm\ndef lev(s, t):\n\n  # If the strings are 0, return length of other\n  if not s:\n    return len(t)\n  if not t:\n    return len(s)\n\n  # If the last two characters are the same, no cost. Otherwise, cost of 1\n  if s[-1] is t[-1]:\n    cost = 0\n  else:\n    cost = 1\n\n  # Save in dictionary if never calculated before\n  if not (s[:-1], t) in dp:\n    dp[(s[:-1], t)] = lev(s[:-1], t)\n  if not (s, t[:-1]) in dp:\n    dp[(s, t[:-1])] = lev(s, t[:-1])\n  if not (s[:-1], t[:-1]) in dp:\n    dp[(s[:-1], t[:-1])] = lev(s[:-1], t[:-1])\n\n  # Returns minimum chars to delete from s, t, and both\n  return min(dp[(s[:-1], t)] + 1,\n             dp[(s, t[:-1])] + 1,\n             dp[(s[:-1], t[:-1])] + cost)\n</code></pre>\n\n<p>This works! However, I found a way to memoize <a href=\"http://www.python-course.eu/python3_memoization.php\">using decorators</a>. I tried to apply this technique to my algorithm:</p>\n\n<pre><code># Memoization table mapping from a tuple of two strings to their Levenshtein distance\ndef memoize(func):\n  memo = {}\n  def wrap(s, t):\n    if (s, t) not in memo:\n      memo[(s, t)] = func(s, t)\n    return memo[(s, t)]\n  return wrap\n\n# Levenshtein distance algorithm\n@memoize # lev = memoize(lev)\ndef lev(s, t):\n\n  # If the strings are 0, return length of other\n  if not s:\n    return len(t)\n  if not t:\n    return len(s)\n\n  # If the last two characters are the same, no cost. Otherwise, cost of 1\n  if s[-1] is t[-1]:\n    cost = 0\n  else:\n    cost = 1\n\n  # Returns minimum chars to delete from s, t, and both\n  return min(lev(s[:-1], t) + 1,\n             lev(s, t[:-1]) + 1,\n             lev(s[:-1], t[:-1]) + cost)\n</code></pre>\n\n<p>To me, this looks cleaner and less confusing. I thought that the two would be functionally equivalent, but when I ran the version with the decorator, I was surprised to find that I got a <code>RecursionError: maximum recursion depth exceeded</code>.</p>\n\n<p>What exactly am I missing? Is using the decorator not functionally equivalent? I attempted a fix by adding <code>sys.setrecursionlimit(1500)</code> and this works, but it is a hack and doesn't explain why the two function differently. </p>\n\n<p>NOTE: I am using one paragraph of lorem ipsum as my test strings for s and t from Wikipedia:</p>\n\n<blockquote>\n  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est labour.</p>\n</blockquote>\n\n<p>I understand that for even longer strings, my first function will fail. I just want to know why the decorated one fails first. Thanks!</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 1, "creation_date": 1469662495, "post_id": 38624827, "comment_id": 64635101, "body": "You&#39;re comparing floating point numbers by determining if they are exactly equal to one another but they aren&#39;t due to floating point errors."}, {"owner": {"reputation": 124, "user_id": 3667122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5ae03f95898ea7829968fd4e6f8fe1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3667122", "link": "https://stackoverflow.com/users/3667122/user3667122"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1469662858, "post_id": 38624827, "comment_id": 64635186, "body": "That&#39;s it. Thanks. Between moving between Pandas and Numpy the dtypes on the id columns diverged (probably due to type cohesion?), and one was float64 while the other was int64. If you copy your comment into a response, you&#39;ve got the answer."}], "answers": [{"comments": [{"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 1, "creation_date": 1469665490, "post_id": 38624919, "comment_id": 64635813, "body": "See also <a href=\"http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.isclose.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-dev/reference/generated/&hellip;</a> and <a href=\"http://docs.scipy.org/doc/numpy-dev/reference/generated/numpy.allclose.html#numpy.allclose\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-dev/reference/generated/&hellip;</a> for routines that do floating point comparison with tolerance for you."}], "tags": [], "owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "is_accepted": true, "score": 1, "last_activity_date": 1469662976, "creation_date": 1469662976, "answer_id": 38624919, "question_id": 38624827, "link": "https://stackoverflow.com/questions/38624827/numpy-strange-behavior-sanity-check-how-is-this-possible/38624919#38624919", "title": "Numpy strange behavior - sanity check. How is this possible?", "body": "<p><code>setdiff1d</code> and your other methods check number for <em>exact</em> equality. Due to floating point errors, it is very possible that your numbers aren't <em>exactly</em> equal. If you want to do floating point comparisons, you should instead use a very small epsilon.</p>\n\n<pre><code>if abs(a - b) &lt; 1e-12:\n    disp('equal!')\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 3667122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5ae03f95898ea7829968fd4e6f8fe1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3667122", "link": "https://stackoverflow.com/users/3667122/user3667122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 38624919, "answer_count": 1, "score": 2, "last_activity_date": 1469662976, "creation_date": 1469662424, "question_id": 38624827, "link": "https://stackoverflow.com/questions/38624827/numpy-strange-behavior-sanity-check-how-is-this-possible", "title": "Numpy strange behavior - sanity check. How is this possible?", "body": "<p>I'm no Python expert by any stretch of the imagination, but this one has me stumped. Either that or I'm missing something completely obvious. It must be one of the two.</p>\n\n<p>I have two numpy arrays, <code>a</code> and <code>b</code>. <code>a</code> should be a proper subset of <code>b</code>. To confirm this I produce the set difference:</p>\n\n<pre><code>&gt;&gt;&gt; np.setdiff1d(a, b)\narray([], dtype=float64)\n</code></pre>\n\n<p>as expected. <code>a</code> is therefore a subset of <code>b</code>.\nUnless my understanding of <code>setdiff1d</code> is wrong, which I suppose it could be, but I reread the documentation and it states that <code>setdiff1d</code> returns a:</p>\n\n<blockquote>\n  <p>Sorted 1D array of values in ar1 that are not in ar2.</p>\n</blockquote>\n\n<p>Ok, here's where something strange happens. I have some value <code>p</code>. The following should be a true statement if <code>a</code> really is a subset of <code>b</code>:\n<strong><em>if <code>p</code> is in <code>a</code>, then <code>p</code> is also in <code>b</code></em></strong></p>\n\n<p>When attempting to confirm this, I get:</p>\n\n<pre><code>&gt;&gt;&gt; p in a\nTrue\n&gt;&gt;&gt; p in b\nFalse\n</code></pre>\n\n<p>So I'm not sure exactly what's going on, and I was hoping someone would point at my stupid mistake and laugh.</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "edited": false, "score": 0, "creation_date": 1469663957, "post_id": 38624818, "comment_id": 64635455, "body": "The syntax for arguments is not specific to Python, but generally follows GNU C <code>getopt</code> operation."}, {"owner": {"reputation": 1363, "user_id": 2792896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dbf65eb2ebc0d8dc5b8fb48ac825fed?s=128&d=identicon&r=PG&f=1", "display_name": "Arnial", "link": "https://stackoverflow.com/users/2792896/arnial"}, "edited": false, "score": 0, "creation_date": 1469664804, "post_id": 38624818, "comment_id": 64635680, "body": "<i>&quot;but does not seem to allow optional args that depend on a flag to denote their purpose&quot;</i> doesn&#39;t seem that you need it."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469664876, "post_id": 38624818, "comment_id": 64635701, "body": "&quot;does not seem to allow optional args that depend on a flag to denote their purpose&quot; - do you mean like the <code>123</code> in <code>-p 123</code>? argparse handles that."}, {"owner": {"reputation": 1009, "user_id": 1258509, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f9315022aceafcbb98310c170b1e59ce?s=128&d=identicon&r=PG", "display_name": "Brian C", "link": "https://stackoverflow.com/users/1258509/brian-c"}, "edited": false, "score": 0, "creation_date": 1469728066, "post_id": 38624818, "comment_id": 64669878, "body": "I now see that the pydocs tutorial does cover this, but it is not too obvious. It uses the value assigned with <code>-v</code> to cause the program to act differently via if-else statements, and that it all. I was looking for an args that had a flag and used the value as an operand, or passed it somewhere, or printed it."}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1469665473, "post_id": 38625043, "comment_id": 64635806, "body": "<code>&#39;store_int&#39;</code> - that&#39;s an action value that I haven&#39;t seen before."}, {"owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1469665547, "post_id": 38625043, "comment_id": 64635821, "body": "You&#39;re right. I&#39;ve been mixing them up. I&#39;ll update the answer to use <code>type=int</code>"}, {"owner": {"reputation": 1009, "user_id": 1258509, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f9315022aceafcbb98310c170b1e59ce?s=128&d=identicon&r=PG", "display_name": "Brian C", "link": "https://stackoverflow.com/users/1258509/brian-c"}, "edited": false, "score": 0, "creation_date": 1469727753, "post_id": 38625043, "comment_id": 64669707, "body": "Thanks! This worked great, but there is one error (which I edited). You had written <code>type=&quot;int&quot;</code>, which  gives a <code>&quot;Str type not callable&quot;</code> error. You muse use <code>type=int</code>."}, {"owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "edited": false, "score": 0, "creation_date": 1469728330, "post_id": 38625043, "comment_id": 64670033, "body": "Thanks for the fix."}], "tags": [], "owner": {"reputation": 641, "user_id": 3634771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5dafa11cd0c093996a2c79e82791c1?s=128&d=identicon&r=PG&f=1", "display_name": "theorifice", "link": "https://stackoverflow.com/users/3634771/theorifice"}, "is_accepted": true, "score": 4, "last_activity_date": 1469728236, "last_edit_date": 1469728236, "creation_date": 1469663848, "answer_id": 38625043, "question_id": 38624818, "link": "https://stackoverflow.com/questions/38624818/using-argparse-to-overwrite-variables-depending-on-flags-use-the-default-values/38625043#38625043", "title": "Using argparse to overwrite variables depending on flags, use the default values if no args given (python)", "body": "<p>There's a few ways to define default values for arguments specified by <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow\"><code>argparse</code></a>. When adding arguments to your parser, you can specify a default value. Simply:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import argparse\nparser = argparse.ArgumentParser()\nparser.add_argument(\"-p\", \"--port\", dest=\"port\", default=500,\n    type=int, help=\"specify port\")\n\nargs = parser.parse_args()\nprint \"You've selected port: %d\" % (args.port)\n</code></pre>\n\n<p>From the above example, it is trivial to extend to allow additional default functionality. Note that <code>dest=\"port\"</code> is already by default due to the naming of the long argument <code>--port</code>. Like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>parser.add_argument(\"-p\", \"--port\", dest=\"port\", default=None,\n    type=int, help=\"specify port\")\n\nargs = parser.parse_args()\n\nif args.port is None:\n    port = read_port_from_file()\n    print \"No optional port specified. Reading value from file.\" \n\nprint \"You've selected port: %d\" % (args.port)\n</code></pre>\n"}], "owner": {"reputation": 1009, "user_id": 1258509, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f9315022aceafcbb98310c170b1e59ce?s=128&d=identicon&r=PG", "display_name": "Brian C", "link": "https://stackoverflow.com/users/1258509/brian-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 0, "accepted_answer_id": 38625043, "answer_count": 1, "score": 2, "last_activity_date": 1469728529, "creation_date": 1469662367, "last_edit_date": 1469728529, "question_id": 38624818, "link": "https://stackoverflow.com/questions/38624818/using-argparse-to-overwrite-variables-depending-on-flags-use-the-default-values", "title": "Using argparse to overwrite variables depending on flags, use the default values if no args given (python)", "body": "<p>I have a program that stores a few important variables as strings that are necessary for the program to operate properly: <code>DeviceNumber</code>, <code>IPAddress</code>, and  <code>Port</code>. These variables are stored in a file, which is loaded by the program.</p>\n\n<p>For debugging purposes, I would like to be able to quickly overwrite the files with command line arguments. The args would all be optional, and if not used then it just uses the variables taken out of the file.</p>\n\n<p>I can do simple positional args using something like <code>DeviceNumber = sys.args[1]</code>, and only overwrite vars if the args are present, but this has the problem of not being able to handle if you enter the variables in the wrong order, or if you enter, say, the <code>IPAddress</code> and <code>Port</code> but not the <code>DeviceNumber</code>.</p>\n\n<p>I have been reading through the pyDocs <a href=\"https://docs.python.org/2/howto/argparse.html\" rel=\"nofollow\">argparse Tutorial</a> and documentation, but it does not seem terribly useful for what I need - it covers mandatory args, and optional flags, but does not seem to allow optional args that depend on a flag to denote their purpose. <strong>EDIT:</strong> <em>Turns out it does, but the example is not very obvious, so I missed it.</em> Similarly I have had trouble finding applicable questions here on SE. </p>\n\n<p>In short, given a program like</p>\n\n<pre><code>#Default Names loaded from file\nDeviceNumber = \"2000\"\nIPAddress = \"159.142.32.30\"\nPort = 80\n\n#if command line args entered:\n    #overwrite default vars with arg corresponding to each one\n    #this probably involves argparse, but I don't know how\n\nprint \"DNumber:\"+DeviceNumber+\" IP:\"+IPAddress+\" Port:\"+Port\n</code></pre>\n\n<p>Some examples with different cmd line inputs/outputs would be:</p>\n\n<p>All values are defaults</p>\n\n<pre><code>$ python myfile.py\nDNumber:2000 IP:159.142.32.30 Port:80 \n</code></pre>\n\n<p>All values are overridden</p>\n\n<pre><code>$ python myfile.py -n 1701 -ip 120.50.60.1 -p 3000\nDNumber:1701 IP:120.50.60.1 Port:3000 \n</code></pre>\n\n<p>Default <code>DNumber</code>, Override <code>IPAddress</code> + <code>Port</code>. Args were specified in different order.</p>\n\n<pre><code>$ python myfile.py -p 123 -ip 124.45.67.89\nDNumber:2000 IP:124.45.67.89 Port:123 \n</code></pre>\n\n<p>Default <code>DNumber</code> and <code>IPAddress</code>, Override <code>Port</code></p>\n\n<pre><code>$ python myfile.py -p 500\nDNumber:2000 IP:159.142.32.30 Port:500\n</code></pre>\n\n<p>You get the idea...</p>\n\n<p>for the syntax of the flag/args relationship, I am also not sure if there is a specific syntax python needs you to use (i.e. <code>-p 500</code> vs. <code>-p500</code> v <code>-p=500</code>)</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "import", "packages"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1469665725, "post_id": 38624810, "comment_id": 64635855, "body": "You shouldn&#39;t be trying to run <code>package.py</code> on its own."}, {"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1469666389, "post_id": 38624810, "comment_id": 64635967, "body": "Thanks. The point was just trying to understand why <code>subpackage</code> could be imported one way and not the other. Of course there is no reason to run <code>package.py</code>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1469666616, "post_id": 38624810, "comment_id": 64636007, "body": "In that case see <a href=\"http://stackoverflow.com/questions/14132789/relative-imports-for-the-billionth-time\"><i>Relative imports for the billionth time</i></a>"}, {"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1469669038, "post_id": 38624810, "comment_id": 64636441, "body": "@martineau I&#39;ve actually read that post a couple of months back but for some reason it makes more sense now. Funny how that works"}], "answers": [{"comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 2, "creation_date": 1469663045, "post_id": 38624831, "comment_id": 64635238, "body": "@pylang what do you mean?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1469666814, "post_id": 38624831, "comment_id": 64636037, "body": "What part of &quot;in <code>package&#47;package.py</code>&quot; was unclear? You know, the one with <code>import subpackage</code> in it in your question."}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": true, "score": 2, "last_activity_date": 1469662478, "creation_date": 1469662478, "answer_id": 38624831, "question_id": 38624810, "link": "https://stackoverflow.com/questions/38624810/nested-importerror-on-py3-but-not-on-py2/38624831#38624831", "title": "Nested `ImportError` on Py3 but not on Py2", "body": "<p>You should use:</p>\n\n<pre><code>from . import subpackage\n</code></pre>\n\n<p>in <code>package/package.py</code>.</p>\n"}], "owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "accepted_answer_id": 38624831, "answer_count": 1, "score": 0, "last_activity_date": 1469662478, "creation_date": 1469662330, "question_id": 38624810, "link": "https://stackoverflow.com/questions/38624810/nested-importerror-on-py3-but-not-on-py2", "title": "Nested `ImportError` on Py3 but not on Py2", "body": "<p>I'm having trouble understanding how nested imports work in a python project. For example:</p>\n\n<pre><code>test.py\npackage/\n    __init__.py\n    package.py\n    subpackage/\n        __init__.py\n</code></pre>\n\n<p><code>test.py</code>:</p>\n\n<pre><code>import package\n</code></pre>\n\n<p><code>package/__init__.py</code>:</p>\n\n<pre><code>from .package import functionA\n</code></pre>\n\n<p><code>package/package.py</code>:</p>\n\n<pre><code>import subpackage\n\ndef functionA():\n    pass\n</code></pre>\n\n<p>In Python 3.5 when I run <code>test.py</code> I get the following error, but no error in Python 2.7:</p>\n\n<pre><code>C:\\Users\\Patrick\\Anaconda3\\python.exe C:/Users/Patrick/Desktop/importtest/test.py\nTraceback (most recent call last):\n  File \"C:/Users/Patrick/Desktop/importtest/test.py\", line 1, in &lt;module&gt;\n    import package\n  File \"C:\\Users\\Patrick\\Desktop\\importtest\\package\\__init__.py\", line 1, in &lt;module&gt;\n    from .package import functionA\n  File \"C:\\Users\\Patrick\\Desktop\\importtest\\package\\package.py\", line 1, in &lt;module&gt;\n    import subpackage\nImportError: No module named 'subpackage'\n</code></pre>\n\n<p>However if I run <code>package.py</code> with Python 3.5. I get no error at all.</p>\n\n<p>This seems strange to me as when <code>package.py</code> is run on its own the line <code>import subpackage</code> works, but with it is being 'run' (don't know if this is the right terminology here) through the nested import, the same line cannot find <code>subpackage</code>.</p>\n\n<p>Why are there differences between Python 2.7 and 3.5 in this case and how can this be resolved in a way that works for both 2.7.x and 3.x?</p>\n\n<p>I think this might be due to the fact that <code>import subpackage</code> in the nested import counts as an implicit relative import in the nested import but not when <code>package.py</code> is run directly, but if I do <code>import .subpackage</code> instead, I get this error on both 2.7 and 3.5:</p>\n\n<pre><code>C:\\Users\\Patrick\\Anaconda3\\python.exe C:/Users/Patrick/Desktop/importtest/test.py\nTraceback (most recent call last):\n  File \"C:/Users/Patrick/Desktop/importtest/test.py\", line 1, in &lt;module&gt;\n    import package\n  File \"C:\\Users\\Patrick\\Desktop\\importtest\\package\\__init__.py\", line 1, in &lt;module&gt;\n    from .package import functionA\n  File \"C:\\Users\\Patrick\\Desktop\\importtest\\package\\package.py\", line 1\n    import .subpackage\n           ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "yaml"], "comments": [{"owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "edited": false, "score": 0, "creation_date": 1469662234, "post_id": 38624773, "comment_id": 64635042, "body": "Hi, SO deals a lot better with questions that post the code and not screen shots with it. To post your code paste it as text and use the code block tags on it for better formatting(optional since someone will edit it). Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 6200537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/defbd8546a2fcc03126d040828310dd8?s=128&d=identicon&r=PG&f=1", "display_name": "dharpatel", "link": "https://stackoverflow.com/users/6200537/dharpatel"}, "edited": false, "score": 0, "creation_date": 1469824160, "post_id": 38625701, "comment_id": 64714875, "body": "Thank you so much @mhawke for your answer!"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "reply_to_user": {"reputation": 347, "user_id": 6200537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/defbd8546a2fcc03126d040828310dd8?s=128&d=identicon&r=PG&f=1", "display_name": "dharpatel", "link": "https://stackoverflow.com/users/6200537/dharpatel"}, "edited": false, "score": 0, "creation_date": 1469853667, "post_id": 38625701, "comment_id": 64721497, "body": "@dharpatel: No problem. You might want to consider accepting this answer, if it has solved your problem."}], "tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 2, "last_activity_date": 1469669228, "creation_date": 1469669228, "answer_id": 38625701, "question_id": 38624773, "link": "https://stackoverflow.com/questions/38624773/how-to-use-variable-from-yml-file-to-py-file/38625701#38625701", "title": "how to use variable from .yml file to .py file", "body": "<p>Because of the structure of the YAML document, <code>yaml.load()</code> returns a list of dictionaries:</p>\n\n<pre><code>with open('test.yml') as f:\n    var = yaml.load(f)\n\n&gt;&gt;&gt; var\n[{'Username': ['xyz']}, {'Userpassword': ['ubuntu']}, {'Hostname': ['10.0.0.3']}]\n</code></pre>\n\n<p>This is not the most usable data structure; not only is there a list of single key dictionaries, but the values themselves are lists that must be indexed to get to their contents. A single dictionary would be more convenient so, if you are able to, you could change the YAML to:</p>\n\n<pre><code>---\nUsername: xyz\nUserpassword: ubuntu \nHostname: 10.0.0.3\n</code></pre>\n\n<p>which represents a single dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; var\n{'Username': 'xyz', 'Userpassword': 'ubuntu', 'Hostname': '10.0.0.3'}\n</code></pre>\n\n<p>Now it's easy to pass these values to your function:</p>\n\n<pre><code>answer = example(var['Username'], var['Userpassword'], var['Hostname'])\n</code></pre>\n\n<hr>\n\n<p>If you can't change the YAML file, then you can first make a single dictionary out of the data, and then use that to call the function as above:</p>\n\n<pre><code>with open('test.yml') as f:\n    var = yaml.load(f)\n    var = {k:v[0] for d in var for k,v in d.items()}\n    answer = example(var['Username'], var['Userpassword'], var['Hostname'])\n</code></pre>\n\n<p>Here the line <code>var = {k:v[0] for d in var for k,v in d.items()}</code> is a dictionary comprehension that converts the list of single-key dictionaries into a single multi-key dictionary.</p>\n"}], "owner": {"reputation": 347, "user_id": 6200537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/defbd8546a2fcc03126d040828310dd8?s=128&d=identicon&r=PG&f=1", "display_name": "dharpatel", "link": "https://stackoverflow.com/users/6200537/dharpatel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3635, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1469824628, "creation_date": 1469662023, "last_edit_date": 1469663262, "question_id": 38624773, "link": "https://stackoverflow.com/questions/38624773/how-to-use-variable-from-yml-file-to-py-file", "title": "how to use variable from .yml file to .py file", "body": "<p>I have below two files one is .py file and other is .yml file as shown in image. In .py file I am using all variable that define in .yml file. Now I am looking for a solution about How I can pass this .yml file or how I can call or use the variables from .yml file to .py file. I have also marked my question in image to help to understand my question exactly.</p>\n\n<p>Any suggestion will be very helpful. </p>\n\n<p>Thanks</p>\n\n<p>-> Below is abcd.py file</p>\n\n<pre><code># abcd.py\n\nimport pexpect\nimport os\nimport yaml\nfrom yaml import load\nfrom pexpect import pxssh\nimport pdb\n\n\nwith open('/home/asdf/Desktop/test.yml', 'rb') as f:\n var=yaml.load(f.read())\n\ndef example(gw_user,gw_password,gw_host):\n  child = pexpect.spawn(\"ssh\"+\" \"+gw_user+\"@\"+gw_host,timeout=30)\n  child.expect('password')\n  child.sendline(gw_password)\n  #child.expect(self.gw_prompt)\n  print 'connection established'\n  child.expect('$')\n  child.sendline('cd /usr/local/lib/python2.7/dist-packages/ostinato/')\n  child.expect('ostinato')\n  child.sendline('python example.py')\n  print 'establishing connectivity with ostinato'\n  child.expect('127.0.0.1')\n  child.sendline('10.0.0.3')\n  child.expect('Tx')\n  child.sendline('1')\n  child.expect('Rx')\n  child.sendline('1')\n  child.expect('$')\n  child.sendline('exit')\n  child.interact()\n  #return self.gw_user\n #pdb.set_trace()\nanswer=example(var[Username],var[Userpassword],var[Hostname])\nprint (answer)\n</code></pre>\n\n<p>-> Below is test.yml file</p>\n\n<pre><code>---\n- Username:\n      - xyz\n- Userpassword:\n      - ubuntu \n- Hostname:\n      - 10.0.0.3\n</code></pre>\n\n<p>Also attached below screenshot for better understanding of my question.</p>\n\n<p><a href=\"https://i.stack.imgur.com/N75rX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N75rX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 0, "creation_date": 1469662191, "post_id": 38624751, "comment_id": 64635031, "body": "what do you want to do with the line breaks in the original files?"}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "reply_to_user": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 0, "creation_date": 1469662320, "post_id": 38624751, "comment_id": 64635063, "body": "I just want to ignore line breaks. Just a space between paragraphs would be great. Thanks!"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1469662490, "post_id": 38624751, "comment_id": 64635100, "body": "How many lines in the files? Is each line then one field in the csv? Are each line in each file the same meaning in each file?"}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "edited": false, "score": 0, "creation_date": 1469662686, "post_id": 38624751, "comment_id": 64635136, "body": "About 50 short sentences in each txt file. I would like to convert the whole content of each file to a single row in csv file. Ideally, the whole content to be a single cell in csv. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "edited": false, "score": 0, "creation_date": 1469662853, "post_id": 38624876, "comment_id": 64635184, "body": "This does not return the right outputs. Instead, it writes the name of txt file in each row in csv."}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "edited": false, "score": 0, "creation_date": 1469663294, "post_id": 38624876, "comment_id": 64635302, "body": "Thanks for your suggestion @dawg, but now each cell contains a single character."}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "edited": false, "score": 0, "creation_date": 1469663510, "post_id": 38624876, "comment_id": 64635351, "body": "The content of a cell looks like this: &quot;p,l,o,t, ,:, ,t,w,o, ,t,e,e,n, ,c,o,u,p,l,e,s, ,g,o, ,t,o, ,a, ,c,h,u,r,c,h, ,p,a,r,t,y,&quot;"}, {"owner": {"reputation": 2933, "user_id": 1168680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EgYGV.jpg?s=128&g=1", "display_name": "RAVI", "link": "https://stackoverflow.com/users/1168680/ravi"}, "edited": false, "score": 0, "creation_date": 1469663837, "post_id": 38624876, "comment_id": 64635432, "body": "w.writerow([&quot; &quot;.join([line.strip() for line in infile])])"}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "reply_to_user": {"reputation": 2933, "user_id": 1168680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EgYGV.jpg?s=128&g=1", "display_name": "RAVI", "link": "https://stackoverflow.com/users/1168680/ravi"}, "edited": false, "score": 0, "creation_date": 1469664040, "post_id": 38624876, "comment_id": 64635471, "body": "@RAVI, thank you guys. w.writerow([&quot; &quot;.join([line.strip() for line in infile])]) makes it work!"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 2, "last_activity_date": 1469662991, "last_edit_date": 1469662991, "creation_date": 1469662676, "answer_id": 38624876, "question_id": 38624751, "link": "https://stackoverflow.com/questions/38624751/convert-txt-files-in-a-folder-to-rows-in-csv-file/38624876#38624876", "title": "Convert txt files in a folder to rows in csv file", "body": "<p>Try:</p>\n\n<pre><code>import glob\nimport csv\n\nread_files = glob.glob('neg/*')\n\nwith open(\"neg.csv\", \"wb\") as outfile:\n    w=csv.writer(outfile)\n    for f in read_files:\n        with open(f, \"rb\") as infile:\n            w.writerow([line for line in infile])\n</code></pre>\n\n<p>That makes each line a cell in the output and each file a row.</p>\n\n<p>If you want each cell to be the entire contents of the file, try:</p>\n\n<pre><code>import glob\nimport csv\n\nread_files = glob.glob('neg/*')\n\nwith open(\"neg.csv\", \"wb\") as outfile:\n    w=csv.writer(outfile)\n    for f in read_files:\n        with open(f, \"rb\") as infile:\n            w.writerow(\" \".join([line for line in infile]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "is_accepted": false, "score": 0, "last_activity_date": 1469662692, "creation_date": 1469662692, "answer_id": 38624881, "question_id": 38624751, "link": "https://stackoverflow.com/questions/38624751/convert-txt-files-in-a-folder-to-rows-in-csv-file/38624881#38624881", "title": "Convert txt files in a folder to rows in csv file", "body": "<p>Before writing each <code>line</code>, first do <code>line.replace('\\n',' ')</code> to replace all new line characters with spaces.  </p>\n\n<p>Obviously, adjust your newline character according to your OS.</p>\n"}], "owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 38624876, "answer_count": 2, "score": 0, "last_activity_date": 1469665790, "creation_date": 1469661818, "last_edit_date": 1469665790, "question_id": 38624751, "link": "https://stackoverflow.com/questions/38624751/convert-txt-files-in-a-folder-to-rows-in-csv-file", "title": "Convert txt files in a folder to rows in csv file", "body": "<p>I have 100 txt files in a folder. I would like to create a csv file in which the content of each text file becomes a single row (actually, a single cell in a row) in this csv file. So, the result would be a csv file with 100 rows. </p>\n\n<p>I tried the following code:</p>\n\n<pre><code>import glob\n\nread_files = glob.glob('neg/*')\n\nwith open(\"neg.csv\", \"wb\") as outfile:\n    for f in read_files:\n        with open(f, \"rb\") as infile:\n            for line in infile:\n                outfile.write(line)\n</code></pre>\n\n<p>This create a csv with over thousands of rows since each txt file contains multiple paragraphs. Any suggestion?</p>\n"}, {"tags": ["python", "pypeg"], "answers": [{"tags": [], "owner": {"reputation": 17717, "user_id": 691867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86cad22e6f9100c801c56c099872bbc2?s=128&d=identicon&r=PG", "display_name": "colinfang", "link": "https://stackoverflow.com/users/691867/colinfang"}, "is_accepted": false, "score": 0, "last_activity_date": 1475861755, "creation_date": 1475861755, "answer_id": 39922979, "question_id": 38624749, "link": "https://stackoverflow.com/questions/38624749/unable-to-parse-function-declaration-with-python-like-syntax/39922979#39922979", "title": "Unable to parse function declaration with Python like syntax", "body": "<p>Because <code>name()</code> essential attach a matched <code>Symbol</code> to the <code>name</code> attr of the class. In your case the attachment of <code>b</code> overwrites <code>a</code>.</p>\n\n<p>The official doc lists the following:</p>\n\n<pre><code>class Parameter(object):\n    grammar = attr(\"typing\", Type), name()\n\nclass Parameters(Namespace):\n    grammar = csl(Parameter)\n</code></pre>\n\n<p>Here each <code>Parameter</code> has a <code>name</code>. The <code>Parameters</code> looks for the <code>name</code> attribute of the matched <code>Parameter</code> and put it into is internal <code>dict</code>. </p>\n"}], "owner": {"reputation": 14609, "user_id": 667648, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/mTpbt.jpg?s=128&g=1", "display_name": "Dair", "link": "https://stackoverflow.com/users/667648/dair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475861755, "creation_date": 1469661809, "question_id": 38624749, "link": "https://stackoverflow.com/questions/38624749/unable-to-parse-function-declaration-with-python-like-syntax", "title": "Unable to parse function declaration with Python like syntax", "body": "<p>I am using <a href=\"https://fdik.org/pyPEG/index.html\" rel=\"nofollow\">pyPEG</a> to parse the declaration of a function. Currently I have this written:</p>\n\n<pre><code>from pypeg2 import attr, \\\n                   optional, \\\n                   csl, \\\n                   name, \\\n                   List, \\\n                   Namespace\n\n\nclass Parameters(Namespace):\n    grammar = optional(csl(name()))\n\n\nclass Function(List):\n    grammar = \"def\", name(), \\\n              \"(\", attr(\"params\", Parameters), \"):\"\n</code></pre>\n\n<p>So for example if I do:</p>\n\n<pre><code>&gt;&gt;&gt; import pypeg2\n&gt;&gt;&gt; f = pypeg2.parse(\"def f(a, b):\", Function)\n</code></pre>\n\n<p>I would expect <code>f.params</code> to contain <code>a</code> and <code>b</code> as parameters. Instead:</p>\n\n<pre><code>&gt;&gt;&gt; f.params\nParameters([], name=Symbol('b'))\n</code></pre>\n\n<p>only <code>b</code> is found. Why is <code>b</code> the only found symbol?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469661675, "post_id": 38624678, "comment_id": 64634902, "body": "<code>func_validator</code> can use <code>*args</code> and <code>**kwargs</code> and pass them through to <code>func</code> (which doesn&#39;t need to use <code>*args</code> or <code>**kwargs</code>).  However, you <i>need</i> to specify the variable names twice anyway since you presumably need to validate them ...  Perhaps if you gave a simple example where the validation is done in <code>func</code> we could see what validation is being done and propose some alternatives..."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469661719, "post_id": 38624678, "comment_id": 64634913, "body": "Also, what version of python are you using?  For newer versions, if you&#39;re just validating types, you can probably use function annotations in the validation function."}, {"owner": {"reputation": 9494, "user_id": 1244455, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2d100b37ea641d0189a946f05b08ce84?s=128&d=identicon&r=PG", "display_name": "Sean Mackesey", "link": "https://stackoverflow.com/users/1244455/sean-mackesey"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469662255, "post_id": 38624678, "comment_id": 64635048, "body": "@mgilson Thanks for your response. As I noted above, I am aware I can use <code>*args</code> / <code>**kwargs</code> in just the validator. I know that I will need to use the real variable names in the validator itself, so in that sense you are correct that I have to specify them twice anyway. Still, writing the signature over again is one more time I have to write them-- and the validator code won&#39;t necessarily deal with every argument. As for Python version, I&#39;m not sure exactly what I need to support but it needs to be at least some version of 2 and 3, and preferably not just the latest."}, {"owner": {"reputation": 9494, "user_id": 1244455, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2d100b37ea641d0189a946f05b08ce84?s=128&d=identicon&r=PG", "display_name": "Sean Mackesey", "link": "https://stackoverflow.com/users/1244455/sean-mackesey"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469662364, "post_id": 38624678, "comment_id": 64635074, "body": "@mgilson Also, regarding your request for an example-- I am looking to solve the general problem of extracting long argument validation (and possibly normalization) code from a function. My example is purposefully generic."}], "owner": {"reputation": 9494, "user_id": 1244455, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2d100b37ea641d0189a946f05b08ce84?s=128&d=identicon&r=PG", "display_name": "Sean Mackesey", "link": "https://stackoverflow.com/users/1244455/sean-mackesey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469661259, "creation_date": 1469661259, "question_id": 38624678, "link": "https://stackoverflow.com/questions/38624678/python-dynamically-define-a-validation-function-with-the-same-signature-as-a-ta", "title": "Python: Dynamically define a validation function with the same signature as a target function?", "body": "<p>I have a Python function that takes a relatively large number of arguments. The function is part of a public interface and I need to perform argument validation/normalization on its arguments. I can think of three ways to do this:</p>\n\n<pre><code># METHOD 1: front-loading the function\ndef func(a1, a2, a3=1, a4=2...):\n  # validation code here ...\n  # func code here ...\n\ndef func_validator(a1, a2, a3=1, a4=2...):\n  # validation code here ...\n\n# METHOD 2: passing args to a different function\ndef func(a1, a2, a3=1, a4=2...):\n  func_validator(a1, a2, a3=1, a4=2...)\n  # func code here ...\n\n# METHOD 3: decorator\n@validator(func_validator)\ndef func(a1, a2, a3=1, a4=2...):\n  # func code here ...\n\n# validator decorator definition ...\n</code></pre>\n\n<p>All three of these methods have problems:</p>\n\n<ul>\n<li>Method 1: while simple, this makes my code less readable. For a function with many arguments the validation can be quite long. I don't need to see this when I'm trying to understand what the function does.</li>\n<li>Method 2: solves the problem with Method 1 by getting the actual validation code out of the way, but requires writing out the arguments 2x more times.</li>\n<li>Method 3: simply better than Method 2, but I still need to write the function signature twice.</li>\n</ul>\n\n<p>I am aware that I could also use <code>*args</code> and <code>**kwargs</code>, but this introduces additional in overhead in how I access the arguments in the main function body.</p>\n\n<p>My ideal implementation would allow me to write an external validation function with its argument signature tied to the target function, and apply it with a decorator. Something like this:</p>\n\n<pre><code>def func_validator(????):  # how can I tie the argspec to `func`?\n  # validation code here ...\n  # can access arguments just as if it were inside `func`\n\n@validator(func_validator)\ndef func(a1, a2, a3=1, ap=2...):\n  # func code here...\n</code></pre>\n\n<p>Let me preemptively state that I know such a thing could be abused, but I don't think the use case I've outlined is at all obfuscating. The idea is just to move long validation code out of the main function body and into an adjacent function, without needing to (a) replicate the signature (b) use a generic signature that makes accessing the arguments more verbose.</p>\n\n<p>Is it possible?</p>\n"}, {"tags": ["python", "google-chrome", "cookies", "tornado"], "comments": [{"owner": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1469669149, "post_id": 38624673, "comment_id": 64636468, "body": "What does the form look like? Did you include <code>{% module xsrf_form_html() %}</code>?"}, {"owner": {"reputation": 237, "user_id": 4200767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/daaad906d808028e20902facf7ea851d?s=128&d=identicon&r=PG&f=1", "display_name": "Shengcong Wang", "link": "https://stackoverflow.com/users/4200767/shengcong-wang"}, "reply_to_user": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1469728286, "post_id": 38624673, "comment_id": 64670007, "body": "@BenDarnell Added the form as requested, yes, I included it, otherwise it won&#39;t for other browsers."}, {"owner": {"reputation": 237, "user_id": 4200767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/daaad906d808028e20902facf7ea851d?s=128&d=identicon&r=PG&f=1", "display_name": "Shengcong Wang", "link": "https://stackoverflow.com/users/4200767/shengcong-wang"}, "reply_to_user": {"reputation": 20703, "user_id": 2805033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TasHL.jpg?s=128&g=1", "display_name": "Ben Darnell", "link": "https://stackoverflow.com/users/2805033/ben-darnell"}, "edited": false, "score": 0, "creation_date": 1469728374, "post_id": 38624673, "comment_id": 64670057, "body": "I captured the network package and found the problem is indeed the &quot;Set-Cookie&quot; in response does not work for Chrome with a domain added to host file. But it works for Chrome using &quot;localhost&quot;. I am a little bit confused now."}], "owner": {"reputation": 237, "user_id": 4200767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/daaad906d808028e20902facf7ea851d?s=128&d=identicon&r=PG&f=1", "display_name": "Shengcong Wang", "link": "https://stackoverflow.com/users/4200767/shengcong-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1469728173, "creation_date": 1469661249, "last_edit_date": 1469728173, "question_id": 38624673, "link": "https://stackoverflow.com/questions/38624673/python-tornado-xsrf-cookie-issue-with-chrome", "title": "Python Tornado XSRF cookie issue with Chrome", "body": "<p>I am new to Tornado and I am trying to build a very simple login form with xsrf cookie.\nCode as below:</p>\n\n<pre><code>class MainHandler(tornado.web.RequestHandler):\n    def get(self):\n        self.render(\"index.html\")\n    def post(self):\n        self.write(\"You ahve submitted the form.!\")\nclass App(tornado.web.Application):\n    def __init__(self):\n        handlers = [\n            (r\"/\", MainHandler),\n        ]\n        settings = dict(xsrf_cookies=True)\n        tornado.web.Application.__init__(self, handlers, **settings)\nif __name__ == \"__main__\":\n    app = App()\n    server = tornado.httpserver.HTTPServer(app)\n    server.listen(7001)\n    tornado.ioloop.IOLoop.current().start()\n</code></pre>\n\n<p>The form is also very simple:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Text XSRF&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"post\"&gt;\n    {% module xsrf_form_html() %}\n    {% raw xsrf_form_html() %}\n    Username:&lt;input type=\"text\" name=\"username\"&gt;\n    Password:&lt;input type=\"password\" name=\"pwd\"&gt;\n    &lt;input type=\"submit\" value=\"submit\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am adding to the host file a domain:</p>\n\n<pre><code>127.0.0.1 xsrf.test.com\n</code></pre>\n\n<p>And when I open Chrome and type in hxxp://xsrf.test.com:7001, I can see the login form, but when sending the POST request I get a </p>\n\n<pre><code>403 (XSRF cookie does not match POST argument) \n</code></pre>\n\n<p>However, if I hit hxxp://localhost:7001, I can submit the form as expected. IE and Safari works fine for both domains. So I am wondering is there anything I did wrong to make this work using \"xsrf.test.com\" in Chrome?</p>\n\n<p>I did check <em>Chrome->Settings->Content Settings->Cookies->Allow local data to be set</em> is properly selected.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6258071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a036500e102cd37d3a6827e2813851?s=128&d=identicon&r=PG&f=1", "display_name": "Ghale-Boong", "link": "https://stackoverflow.com/users/6258071/ghale-boong"}, "edited": false, "score": 0, "creation_date": 1469661021, "post_id": 38624593, "comment_id": 64634765, "body": "Thanks Padraic for such a quick response. Is it possible without having to import the collection module?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1469661089, "last_edit_date": 1469661089, "creation_date": 1469660796, "answer_id": 38624593, "question_id": 38624557, "link": "https://stackoverflow.com/questions/38624557/taking-identical-1st-element-of-a-list-and-assigning-it-as-1st-element-of-the-li/38624593#38624593", "title": "Taking identical 1st element of a list and assigning it as 1st element of the list in python", "body": "<p>You should use a <em>dict</em>/<a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\">defaultdict</a> to group the data by name, using the first element which is the key as the name, slicing the rest of the data and appending that as a value:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(list)\nfor sub in mapping:\n     d[sub[0]].append(sub[1:])\n\nprint(d)\n</code></pre>\n\n<p>Which would give you:</p>\n\n<pre><code>defaultdict(&lt;type 'list'&gt;, {'Max': [['OBL 0.0 421', 0.766102], ['DBR 3.250 721', 0.887863]], 'Tom': [['BTPS 1.500 625', 0.702604], ['BTPS 2.000 1225', 0.724939]]})\n</code></pre>\n\n<p>Or if the order matters, use an <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow\"><em>OrderedDict</em></a>:</p>\n\n<pre><code>from collections import OrderedDict\n\nd = OrderedDict()\nfor sub in mapping:\n     d.setdefault(sub[0],[]).append(sub[1:])\n</code></pre>\n\n<p>That gives you:</p>\n\n<pre><code>OrderedDict([('Tom', [['BTPS 1.500 625', 0.702604], ['BTPS 2.000 1225', 0.724939]]), ('Max', [['OBL 0.0 421', 0.766102], ['DBR 3.250 721', 0.887863]])])\n</code></pre>\n\n<p>Without any imports, just use a regular dict again using <a href=\"http://www.tutorialspoint.com/python/dictionary_setdefault.htm\" rel=\"nofollow\">dict.setdefault</a>:</p>\n\n<pre><code>d = {}\nfor sub in mapping:\n     d.setdefault(sub[0],[]).append(sub[1:])\n\nprint(d)\n</code></pre>\n\n<p>Using  setdefault, if the key is not in the dict it gets added with a list as the value, if it does exist it just appends the value.</p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 6646471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b527fee24ac7ea7c4e4497935fe1069c?s=128&d=identicon&r=PG&f=1", "display_name": "aramase", "link": "https://stackoverflow.com/users/6646471/aramase"}, "is_accepted": false, "score": 0, "last_activity_date": 1469660951, "creation_date": 1469660951, "answer_id": 38624622, "question_id": 38624557, "link": "https://stackoverflow.com/questions/38624557/taking-identical-1st-element-of-a-list-and-assigning-it-as-1st-element-of-the-li/38624622#38624622", "title": "Taking identical 1st element of a list and assigning it as 1st element of the list in python", "body": "<p>You can loop over the names in mapping and add to dictionary. </p>\n\n<pre><code>mapping = [['Tom', 'BTPS 1.500 625', 0.702604], ['Tom', 'BTPS 2.000 1225', 0.724939], ['Max', 'OBL 0.0 421', 0.766102], ['Max', 'DBR 3.250 721', 0.887863]]\n\n#using dictionary to store output\nmapping_dict=dict()\n\nfor items in mapping:\nif items[0] in mapping_dict:\n    mapping_dict[items[0]].append([items[1],items[2]])\nelse:\n    mapping_dict[items[0]]=[items[1],items[2]]\n\nprint mapping_dict\n\nOutput: {'Max': ['OBL 0.0 421', 0.766102, ['DBR 3.250 721', 0.887863]], 'Tom': ['BTPS 1.500 625', 0.702604, ['BTPS 2.000 1225', 0.724939]]}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6258071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a036500e102cd37d3a6827e2813851?s=128&d=identicon&r=PG&f=1", "display_name": "Ghale-Boong", "link": "https://stackoverflow.com/users/6258071/ghale-boong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469661089, "creation_date": 1469660476, "last_edit_date": 1469660592, "question_id": 38624557, "link": "https://stackoverflow.com/questions/38624557/taking-identical-1st-element-of-a-list-and-assigning-it-as-1st-element-of-the-li", "title": "Taking identical 1st element of a list and assigning it as 1st element of the list in python", "body": "<p>I am trying to Taking identical 1st element of  a list and assigning it as 1st element of the list. I was told it can be done by using defaultdict from collections module but is there a way i can do this without using the Collections library.</p>\n\n<p>What i have:</p>\n\n<pre><code>mapping = [['Tom', 'BTPS 1.500 625', 0.702604], ['Tom', 'BTPS 2.000 1225', 0.724939], ['Max', 'OBL 0.0 421', 0.766102], ['Max', 'DBR 3.250 721', 0.887863]]\n</code></pre>\n\n<p>What i am looking to do:</p>\n\n<pre><code>mapping = [['Tom',[ 'BTPS 1.500 625', 0.702604], [ 'BTPS 2.000 1225', 0.724939]],['Max',[ 'OBL 0.0 421', 0.766102],['DBR 3.250 721', 0.887863]]]\n</code></pre>\n"}, {"tags": ["python", "matlab", "matplotlib"], "comments": [{"owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 1, "creation_date": 1469660549, "post_id": 38624495, "comment_id": 64634660, "body": "maybe include MCVE <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>?"}, {"owner": {"reputation": 2319, "user_id": 4428725, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Uuubu.jpg?s=128&g=1", "display_name": "Moon Cheesez", "link": "https://stackoverflow.com/users/4428725/moon-cheesez"}, "edited": false, "score": 0, "creation_date": 1469661019, "post_id": 38624495, "comment_id": 64634763, "body": "Their functions may not be stored in memory. It may be using <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow noreferrer\">generators</a>."}, {"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1469679348, "post_id": 38624495, "comment_id": 64638617, "body": "Maybe use a Numpy array <code>results</code> instead of a list. <a href=\"http://stackoverflow.com/a/994010/1586200\">That will save you space</a>."}, {"owner": {"reputation": 7977, "user_id": 3604159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32946c257cb4802dea738db1ecbf0c6?s=128&d=identicon&r=PG&f=1", "display_name": "TheBlackCat", "link": "https://stackoverflow.com/users/3604159/theblackcat"}, "edited": false, "score": 0, "creation_date": 1469684305, "post_id": 38624495, "comment_id": 64640132, "body": "What is the full backtrace of the error message?  Without knowing exactly where the memory error is occurring it is impossible to help."}, {"owner": {"reputation": 326, "user_id": 1806043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78ec84a7468e0dca0de272909e13f2bb?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1806043/alex"}, "edited": false, "score": 0, "creation_date": 1469795080, "post_id": 38624495, "comment_id": 64698370, "body": "Your code runs fine on my linux machine. Maybe it&#39;s something to do with anaconda or windows, both of which I don&#39;t use. So someone else will be better able to help. Is anaconda up to date? Have you tried a different python distribution? Have you tried <code>imshow</code> on other (smaller) data?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5701045, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e2bcdafb855a65570edf39f73916f46a?s=128&d=identicon&r=PG&f=1", "display_name": "Sylwia", "link": "https://stackoverflow.com/users/5701045/sylwia"}, "edited": false, "score": 0, "creation_date": 1469663432, "post_id": 38624619, "comment_id": 64635334, "body": "I changed the way the data is loaded (by the way, thanks, it&#39;s very useful to know), but still MemoryError..."}, {"owner": {"reputation": 7977, "user_id": 3604159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32946c257cb4802dea738db1ecbf0c6?s=128&d=identicon&r=PG&f=1", "display_name": "TheBlackCat", "link": "https://stackoverflow.com/users/3604159/theblackcat"}, "reply_to_user": {"reputation": 71, "user_id": 5701045, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e2bcdafb855a65570edf39f73916f46a?s=128&d=identicon&r=PG&f=1", "display_name": "Sylwia", "link": "https://stackoverflow.com/users/5701045/sylwia"}, "edited": false, "score": 0, "creation_date": 1469684260, "post_id": 38624619, "comment_id": 64640113, "body": "@Sylwia Please update your original post with the new version."}, {"owner": {"reputation": 326, "user_id": 1806043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78ec84a7468e0dca0de272909e13f2bb?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1806043/alex"}, "edited": false, "score": 0, "creation_date": 1469710999, "post_id": 38624619, "comment_id": 64657373, "body": "<code>imshow</code> seems to be fine with data of your size. I tried with <code>a=np.random.normal(size=(500,20000))</code>, <code>imshow(a)</code> with the expected result of seing a plot of the above random data. This is python3.5.2 or 2.7.12 running in ipython. Old laptop with 3GB RAM, but lots of other stuff running as well. What&#39;s the exact error you are getting?"}], "tags": [], "owner": {"reputation": 326, "user_id": 1806043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78ec84a7468e0dca0de272909e13f2bb?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1806043/alex"}, "is_accepted": false, "score": 2, "last_activity_date": 1469660946, "creation_date": 1469660946, "answer_id": 38624619, "question_id": 38624495, "link": "https://stackoverflow.com/questions/38624495/out-of-memory-with-python-but-ok-with-matlab-while-displaying-the-same-2d-data-a/38624619#38624619", "title": "Out of memory with Python but OK with Matlab while displaying the same 2D data as image", "body": "<p>I'm not sure this will solve your problem, but you seem to have the data in memory several times - as a numpy array, as a list of floats, and as a list of strings.</p>\n\n<p>If you only need the numpy array, you could use </p>\n\n<pre><code>np.loadtxt\n</code></pre>\n\n<p>or </p>\n\n<pre><code>np.fromfile\n</code></pre>\n\n<p>if you need more control over how the data is read.</p>\n\n<p>This assumes (you do not specify) that the data is in an ASCII file.\nFor a more specific answer, you should post your code so people can see what you are doing and where the problem might be.</p>\n"}], "owner": {"reputation": 71, "user_id": 5701045, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e2bcdafb855a65570edf39f73916f46a?s=128&d=identicon&r=PG&f=1", "display_name": "Sylwia", "link": "https://stackoverflow.com/users/5701045/sylwia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469751382, "creation_date": 1469660076, "last_edit_date": 1469751382, "question_id": 38624495, "link": "https://stackoverflow.com/questions/38624495/out-of-memory-with-python-but-ok-with-matlab-while-displaying-the-same-2d-data-a", "title": "Out of memory with Python but OK with Matlab while displaying the same 2D data as image", "body": "<p>I have a 2D array to display as image (it is 500 by 20 000). </p>\n\n<p>Python:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt    \n\nspect_data = np.loadtxt('some_data.txt') \n\nplt.figure(figsize=(12,9))\nplt.imshow(spect_data,aspect='auto')\nplt.colorbar()\nplt.show()\n</code></pre>\n\n<p>Matlab:</p>\n\n<pre><code>spect_data=load('some_data.txt');\nimagesc(spect_data)\n</code></pre>\n\n<p>Here's the error I get (sorry I wasn't clear about my problem the first time):</p>\n\n<blockquote>\n  <p> Traceback (most recent call\n  last):</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\IPython\\core\\formatters.py\",\n  line 339, in <strong>call</strong>\n      return printer(obj)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\IPython\\core\\pylabtools.py\",\n  line 228, in \n      png_formatter.for_type(Figure, lambda fig: print_figure(fig, 'png', **kwargs))</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\IPython\\core\\pylabtools.py\",\n  line 119, in print_figure\n      fig.canvas.print_figure(bytes_io, **kw)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\backend_bases.py\",\n  line 2180, in print_figure\n      **kwargs)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\",\n  line 527, in print_png\n      FigureCanvasAgg.draw(self)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\",\n  line 474, in draw\n      self.figure.draw(self.renderer)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\artist.py\", line\n  61, in draw_wrapper\n      draw(artist, renderer, *args, **kwargs)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\figure.py\", line\n  1159, in draw\n      func(*args)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\artist.py\", line\n  61, in draw_wrapper\n      draw(artist, renderer, *args, **kwargs)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\axes_base.py\",\n  line 2324, in draw\n      a.draw(renderer)</p>\n  \n  <p>File\n  \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\artist.py\", line\n  61, in draw_wrapper\n      draw(artist, renderer, *args, **kwargs)</p>\n  \n  <p>File \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\image.py\",\n  line 389, in draw\n      im = self.make_image(renderer.get_image_magnification())</p>\n  \n  <p>File \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\image.py\",\n  line 624, in make_image\n      transformed_viewLim)</p>\n  \n  <p>File \"C:\\Users\\User\\Anaconda\\lib\\site-packages\\matplotlib\\image.py\",\n  line 238, in _get_unsampled_image\n      x = (x * 255).astype(np.uint8)</p>\n  \n  <p>MemoryError</p>\n</blockquote>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1469659893, "post_id": 38624456, "comment_id": 64634488, "body": "<a href=\"https://docs.python.org/2/howto/argparse.html\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/argparse.html</a>"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 3, "creation_date": 1469659921, "post_id": 38624456, "comment_id": 64634497, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7427101/dead-simple-argparse-example-wanted-1-argument-3-results\">Dead simple argparse example wanted: 1 argument, 3 results</a>"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469661333, "post_id": 38624456, "comment_id": 64634831, "body": "&quot;Is this possible using <code>argparse</code>?&quot;.  <a href=\"https://docs.python.org/2/library/argparse.html#sub-commands\" rel=\"nofollow noreferrer\">Yes</a>.  Argparse calls these <code>subcommands</code> (which are parsed by &quot;subparsers&quot;)"}, {"owner": {"reputation": 734, "user_id": 1069464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6e21cbd96e3c03d29e892bbea726f682?s=128&d=identicon&r=PG", "display_name": "IAmJulianAcosta", "link": "https://stackoverflow.com/users/1069464/iamjulianacosta"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469662128, "post_id": 38624456, "comment_id": 64635017, "body": "@mgilson please add it as an answer, that is what I&#39;m looking for"}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 6250710, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25c60dd5feb1457cbfbbe9d4d0f75289?s=128&d=identicon&r=PG&f=1", "display_name": "Melody", "link": "https://stackoverflow.com/users/6250710/melody"}, "is_accepted": false, "score": 1, "last_activity_date": 1469691738, "creation_date": 1469691738, "answer_id": 38630028, "question_id": 38624456, "link": "https://stackoverflow.com/questions/38624456/python-use-commands-when-running-script/38630028#38630028", "title": "Python use commands when running script", "body": "<p>Yes the argparse module is exactly that what you are looking for. </p>\n\n<p>visit this page to get the informations how to work with it:</p>\n\n<p><a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow\">https://docs.python.org/3/library/argparse.html</a></p>\n"}], "owner": {"reputation": 734, "user_id": 1069464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6e21cbd96e3c03d29e892bbea726f682?s=128&d=identicon&r=PG", "display_name": "IAmJulianAcosta", "link": "https://stackoverflow.com/users/1069464/iamjulianacosta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469742525, "creation_date": 1469659795, "last_edit_date": 1469660119, "question_id": 38624456, "link": "https://stackoverflow.com/questions/38624456/python-use-commands-when-running-script", "title": "Python use commands when running script", "body": "<p>I'm writing a script in python and I need to do something like this:</p>\n\n<p><code>python myscript.py command1 --commandarg1 --commandarg2</code></p>\n\n<p><code>python myscript.py --scriptargument1 --scriptargument2 command2 --commandarg1 --commandarg2 --commandarg3</code></p>\n\n<p>Is this possible using <code>argparse</code>?</p>\n"}, {"tags": ["python", "floating-point", "integer", "add"], "comments": [{"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "edited": false, "score": 0, "creation_date": 1469660241, "post_id": 38624450, "comment_id": 64634587, "body": "<code>NotImplemented</code> also returned for <code>m.__radd__(n)</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "edited": false, "score": 0, "creation_date": 1469660263, "post_id": 38624450, "comment_id": 64634594, "body": "@this-vidor: Wrong <code>__radd__</code> method there."}, {"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469660314, "post_id": 38624450, "comment_id": 64634613, "body": "@user2357112 True! Then that&#39;s the solution."}], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 2085221, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EA252.png?s=128&g=1", "display_name": "RBV", "link": "https://stackoverflow.com/users/2085221/rbv"}, "edited": false, "score": 0, "creation_date": 1484007007, "post_id": 38624533, "comment_id": 70323343, "body": "I&#39;m still confused. How does this explain the behavior of <i>anInt.__add__(aFloat)</i> == <i>NotImplemented</i> but <i>aFloat.__add__(anInt)</i> produces a float sum? I would think + / <code>__add__</code> would both be commutative?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1119, "user_id": 2085221, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EA252.png?s=128&g=1", "display_name": "RBV", "link": "https://stackoverflow.com/users/2085221/rbv"}, "edited": false, "score": 1, "creation_date": 1484010181, "post_id": 38624533, "comment_id": 70324178, "body": "@RBV: Neither <code>+</code> nor <code>__add__</code> are commutative. <code>+</code> isn&#39;t commutative because of cases like <code>[1] + [2] != [2] + [1]</code>, and <code>__add__</code> isn&#39;t commutative even for cases when <code>+</code> is commutative because only one argument needs to know how to handle the operation."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1469660315, "creation_date": 1469660315, "answer_id": 38624533, "question_id": 38624450, "link": "https://stackoverflow.com/questions/38624450/python-add-and-different-behavior-with-float-and-integer/38624533#38624533", "title": "Python: __add__ and +, different behavior with float and integer", "body": "<p><code>a + b</code> does not directly translate to <code>a.__add__(b)</code>. It also tries <code>b.__radd__(a)</code> if <code>a.__add__</code> doesn't exist or returns <code>NotImplemented</code>, or if <code>b</code> is an instance of a subtype of <code>a</code>'s type.</p>\n"}], "owner": {"reputation": 271, "user_id": 6447718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/718070111669036/picture?type=large", "display_name": "Gianluca John Massimiani", "link": "https://stackoverflow.com/users/6447718/gianluca-john-massimiani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 1, "accepted_answer_id": 38624533, "answer_count": 1, "score": 6, "last_activity_date": 1469661249, "creation_date": 1469659784, "question_id": 38624450, "link": "https://stackoverflow.com/questions/38624450/python-add-and-different-behavior-with-float-and-integer", "title": "Python: __add__ and +, different behavior with float and integer", "body": "<p>When adding an integer value to a float value, I realized that <code>__add__</code> method is working fine if called on float, such as this:</p>\n\n<pre><code>&gt;&gt;&gt; n = 2.0\n&gt;&gt;&gt; m = 1\n&gt;&gt;&gt; n.__add__(m)\n3.0\n</code></pre>\n\n<p>but not if called on an integer:</p>\n\n<pre><code>&gt;&gt;&gt; m.__add__(n)\nNotImplemented\n</code></pre>\n\n<p>At first I thought that <code>__add__</code> was just being implemented differently for <code>int</code> and <code>float</code> types (like float types accepting to be added to int types, but not the opposite). Then I noticed that everything works fine if I use the + operator instead:</p>\n\n<pre><code>&gt;&gt;&gt; n + m\n3.0\n&gt;&gt;&gt; m + n\n3.0\n</code></pre>\n\n<p>Does anybody know why this is happening? Are <code>__add__</code> and <code>+</code> not deeply related to each other?</p>\n"}, {"tags": ["python", "nginx", "websocket", "socket.io", "gunicorn"], "answers": [{"tags": [], "owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "is_accepted": true, "score": 5, "last_activity_date": 1469751267, "creation_date": 1469751267, "answer_id": 38648638, "question_id": 38624447, "link": "https://stackoverflow.com/questions/38624447/websockets-proxied-by-nginx-to-gunicorn-over-https-giving-400-bad-request/38648638#38648638", "title": "websockets proxied by nginx to gunicorn over https giving 400 (bad request)", "body": "<p>The problem is that you are running multiple workers on gunicorn. This is not a configuration that is currently supported, due to the very limited load balancer in gunicorn that does not support sticky sessions. Documentation reference: <a href=\"https://flask-socketio.readthedocs.io/en/latest/#gunicorn-web-server\" rel=\"noreferrer\">https://flask-socketio.readthedocs.io/en/latest/#gunicorn-web-server</a>.</p>\n\n<p>Instead, run several gunicorn instances, each with one worker, and then set  up nginx to do the load balancing, using the <code>ip_hash</code> method so that sessions are sticky.</p>\n\n<p>Also, in case you are not aware, if you run multiple servers you need to also run a message queue, so that the processes can coordinate. This is also covered in the documentation link above.</p>\n"}], "owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 2, "accepted_answer_id": 38648638, "answer_count": 1, "score": 2, "last_activity_date": 1469751267, "creation_date": 1469659782, "last_edit_date": 1469745603, "question_id": 38624447, "link": "https://stackoverflow.com/questions/38624447/websockets-proxied-by-nginx-to-gunicorn-over-https-giving-400-bad-request", "title": "websockets proxied by nginx to gunicorn over https giving 400 (bad request)", "body": "<p>I am having trouble establishing a websocket in my Flask web application.</p>\n\n<p>On the client side, I am emitting a \"ping\" websocket event every second to the server. In the browser console, I see the following error each second</p>\n\n<pre><code>POST https://example.com/socket.io/?EIO=3&amp;transport=polling&amp;t=LOkVYzQ&amp;sid=88b5202cf38f40879ddfc6ce36322233 400 (BAD REQUEST)\n\nGET https://example.com/socket.io/?EIO=3&amp;transport=polling&amp;t=LOkVZLN&amp;sid=5a355bbccb6f4f05bd46379066876955 400 (BAD REQUEST)\n\nWebSocket connection to 'wss://example.com/socket.io/?EIO=3&amp;transport=websocket&amp;sid=5a355bbccb6f4f05bd46379066876955' failed: WebSocket is closed before the connection is established.\n</code></pre>\n\n<p>I have the following <code>nginx.conf</code></p>\n\n<pre><code>server {\n    listen 80;\n    server_name example.com www.example.com;\n    return 301 https://$server_name$request_uri;\n}\n\nupstream app_server {\n\n    # for UNIX domain socket setups\n    server unix:/pathtowebapp/gunicorn.sock fail_timeout=0;\n\n}\n\nserver {\n\n    listen 443 ssl;\n\n    server_name example.com www.example.com;\n\n    keepalive_timeout 5;\n\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers 'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n\n    charset     utf-8;\n    client_max_body_size 30M;\n\n    location / {\n        try_files $uri @proxy_to_app;\n    }\n\n    location /socket.io {\n      proxy_pass http://app_server;\n      proxy_redirect off;\n\n      proxy_set_header Host $host;\n      proxy_set_header X-Real-IP $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n      proxy_http_version 1.1;\n      proxy_set_header Upgrade $http_upgrade;\n      proxy_set_header Upgrade websocket;\n      proxy_set_header Connection \"upgrade\";\n      proxy_read_timeout 86400;\n      proxy_buffering off;\n      proxy_headers_hash_max_size 1024;\n\n    }\n\n\n    location /static {\n        alias /pathtowebapp/webapp/static;\n    }\n\n    location @proxy_to_app {\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\n        # enable this if and only if you use HTTPS\n        proxy_set_header X-Forwarded-Proto https;\n\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        proxy_set_header Host $http_host;\n\n        # we don't want nginx trying to do something clever with\n        # redirects, we set the Host: header above already.\n        proxy_redirect off;\n        #proxy_buffering off;\n        proxy_pass http://app_server;\n\n    }\n\n}\n</code></pre>\n\n<p>I have been looking all over for examples of a websocket working with https using nginx in front of gunicorn. </p>\n\n<p>My webpage loads, although the websocket connection is not successful.</p>\n\n<p>The client side websocket is established using the following javascript:</p>\n\n<pre><code>var socket = io.connect('https://' + document.domain + ':' + location.port + namespace);\n</code></pre>\n\n<p>Here is my <code>gunicorn.conf</code></p>\n\n<pre><code>import multiprocessing\n\nbind = 'unix:/pathtowebapp/gunicorn.sock'\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'eventlet'\n</code></pre>\n\n<p><strong>[EDIT]</strong> if I configure nginx the way it is in the <a href=\"https://flask-socketio.readthedocs.io/en/latest/#using-nginx-as-a-websocket-reverse-proxy\" rel=\"nofollow\">Flask-IO documentation</a> and just run <code>(env)$ python deploy_app.py</code> then it works. But I was under the impression that this was not as production-ideal as the setup I previously mentioned</p>\n"}, {"tags": ["python", "django", "api", "tastypie"], "answers": [{"tags": [], "owner": {"reputation": 3448, "user_id": 3570352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb5fc96c44022b2065b85165edc14c1?s=128&d=identicon&r=PG&f=1", "display_name": "rafalmp", "link": "https://stackoverflow.com/users/3570352/rafalmp"}, "is_accepted": true, "score": 3, "last_activity_date": 1469660657, "creation_date": 1469660657, "answer_id": 38624576, "question_id": 38624446, "link": "https://stackoverflow.com/questions/38624446/tastypie-access-resource-by-parameter-other-than-pk/38624576#38624576", "title": "Tastypie access resource by parameter other than PK", "body": "<p>You need to use <code>detail_uri_name</code> in your <code>ModelResource</code>'s <code>Meta</code> class (<a href=\"http://django-tastypie.readthedocs.io/en/latest/resources.html#detail-uri-name\" rel=\"nofollow\">documentation</a>) - example resources.py:</p>\n\n<pre><code>from django.contrib.auth.models import User\nfrom tastypie.resources import ModelResource\n\n\nclass UserResource(ModelResource):\n    class Meta:\n        queryset = User.objects.all()\n        allowed_methods = ['get']\n        detail_uri_name = 'username'\n</code></pre>\n"}], "owner": {"reputation": 733, "user_id": 3803822, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OeUb2.jpg?s=128&g=1", "display_name": "Tsangares", "link": "https://stackoverflow.com/users/3803822/tsangares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 38624576, "answer_count": 1, "score": 0, "last_activity_date": 1469665383, "creation_date": 1469659774, "last_edit_date": 1469665383, "question_id": 38624446, "link": "https://stackoverflow.com/questions/38624446/tastypie-access-resource-by-parameter-other-than-pk", "title": "Tastypie access resource by parameter other than PK", "body": "<p>I am having a hard time figuring out how to ask this question. </p>\n\n<p>I have a model <code>User</code>. Currently when I want to access a specific user I go to the url: <code>/api/v1/user/8/</code>. Although, all users have unique usernames, so I would like to go to a specific user by using the url: <code>/api/v1/user/joe/</code>.</p>\n\n<p>Maybe something with <code>prepend_urls()</code>?</p>\n"}, {"tags": ["python", "python-2.7", "module", "python-ldap"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1469660153, "post_id": 38624352, "comment_id": 64634562, "body": "Do you have a file called ldap.py in your main project"}, {"owner": {"reputation": 425, "user_id": 725580, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcb072c57963ee9e72d5983bbb89274e?s=128&d=identicon&r=PG", "display_name": "Jack Wu", "link": "https://stackoverflow.com/users/725580/jack-wu"}, "edited": false, "score": 0, "creation_date": 1469674589, "post_id": 38624352, "comment_id": 64637510, "body": "Here is the thing, you could try to print your sys.path at each of your python instance, the pip might just install the ldap to one of your folders, and if you are capable to import ldap, type ldap.__file__, generally it&#39;s at your python/lib/site-package, things would be much clear if you check these one by one"}, {"owner": {"reputation": 23, "user_id": 384879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be46cae0abbfd2014ccfe27c590596b3?s=128&d=identicon&r=PG", "display_name": "Justin B", "link": "https://stackoverflow.com/users/384879/justin-b"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1469721645, "post_id": 38624352, "comment_id": 64665875, "body": "@idjaw I don&#39;t have a file named ldap.py in my project."}, {"owner": {"reputation": 23, "user_id": 384879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be46cae0abbfd2014ccfe27c590596b3?s=128&d=identicon&r=PG", "display_name": "Justin B", "link": "https://stackoverflow.com/users/384879/justin-b"}, "reply_to_user": {"reputation": 425, "user_id": 725580, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcb072c57963ee9e72d5983bbb89274e?s=128&d=identicon&r=PG", "display_name": "Jack Wu", "link": "https://stackoverflow.com/users/725580/jack-wu"}, "edited": false, "score": 0, "creation_date": 1469721904, "post_id": 38624352, "comment_id": 64666063, "body": "@JackWu I&#39;ve printed my sys.path, and the lib\\site-packages folder is on the path.  I&#39;m not able to import ldap at all, so I cannot test ldap.__file__."}, {"owner": {"reputation": 425, "user_id": 725580, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcb072c57963ee9e72d5983bbb89274e?s=128&d=identicon&r=PG", "display_name": "Jack Wu", "link": "https://stackoverflow.com/users/725580/jack-wu"}, "edited": false, "score": 0, "creation_date": 1469755808, "post_id": 38624352, "comment_id": 64680814, "body": "are you capable to run python at cmd, both python and pip should be in PATH"}, {"owner": {"reputation": 23, "user_id": 384879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be46cae0abbfd2014ccfe27c590596b3?s=128&d=identicon&r=PG", "display_name": "Justin B", "link": "https://stackoverflow.com/users/384879/justin-b"}, "reply_to_user": {"reputation": 425, "user_id": 725580, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dcb072c57963ee9e72d5983bbb89274e?s=128&d=identicon&r=PG", "display_name": "Jack Wu", "link": "https://stackoverflow.com/users/725580/jack-wu"}, "edited": false, "score": 0, "creation_date": 1470151804, "post_id": 38624352, "comment_id": 64825329, "body": "@JackWu Sorry for the delayed answer, both python and pip are in the path."}], "owner": {"reputation": 23, "user_id": 384879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be46cae0abbfd2014ccfe27c590596b3?s=128&d=identicon&r=PG", "display_name": "Justin B", "link": "https://stackoverflow.com/users/384879/justin-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1537, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469659148, "creation_date": 1469659148, "question_id": 38624352, "link": "https://stackoverflow.com/questions/38624352/python-not-finding-ldap", "title": "python not finding _ldap", "body": "<p>What I'm looking to do is install and use python on a python install that isn't the system default. </p>\n\n<p>It's a 64-bit Python.NET install, version 2.7.11.</p>\n\n<p>I've installed pip, and the latest 64-bit wheel for python-ldap. I could not use the version available on PyPl as it is only 32-bit.</p>\n\n<p>To test if I can import ldap I run:\n    dpython.exe -c \"import ldap\"</p>\n\n<p>Which returns:</p>\n\n<pre><code>File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n    File \"C:\\Program Files\\Thinkbox\\Deadline8\\bin\\lib\\site-packages\\ldap\\__init__.py\", line 22, in &lt;module&gt;\n    import _ldap\nImportError: DLL load failed: The specified module could not be found.\n</code></pre>\n\n<p>Checking pip for what I thinks is installed:</p>\n\n<pre><code>pip list\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>pip (8.1.2)\npython-ldap (2.4.25)\nsetuptools (24.3.0)\nwheel (0.29.0)\n</code></pre>\n\n<p>What's really strange is that I've successfully installed and used this exact same wheel on my system's python install (the one located in C:\\Python27).</p>\n\n<p>What am I missing to get python to find this module?</p>\n"}, {"tags": ["python", "windows", "service", "multiprocessing"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1469659303, "post_id": 38624336, "comment_id": 64634324, "body": "This is documented under <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms685141.aspx\" rel=\"nofollow noreferrer\">Services</a>."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1469681289, "post_id": 38624336, "comment_id": 64639136, "body": "As far as Windows is concerned, the executable is launched as normal, with whatever command line arguments were registered when the service was created.  The executable must immediately make contact with the service control manager.  (I would <i>guess</i> that&#39;s what <code>ServiceFramework.__init__</code> does.)"}], "owner": {"reputation": 11, "user_id": 6646965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd84c8294ac8ab1e265b7530c24a7df5?s=128&d=identicon&r=PG&f=1", "display_name": "user6646965", "link": "https://stackoverflow.com/users/6646965/user6646965"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469659491, "creation_date": 1469659052, "last_edit_date": 1469659491, "question_id": 38624336, "link": "https://stackoverflow.com/questions/38624336/what-happens-when-a-window-service-is-started", "title": "What happens when a Window service is started?", "body": "<p>I am writing a windows service with python and using pyinstaller to package it into an executable. The python script will contain the service subclass with necessary overridden methods as well as a MessageServer class for some socket communication and to display simple message boxes. I have the MessageServer seperate because of the interactive services restrictions in Windows. What I'm trying to figure out is when you start a service from the GUI or from the CLI (net start ) what happens? does it just execute the service's .exe with start argument or does it just access a portion of the code within?</p>\n\n<p>I'll post the code I'm using but keep in mind that this is nowhere near where I want to be for the real thing... just using it to test some ideas.</p>\n\n<pre><code>import win32serviceutil\nimport win32service\nimport win32event\nimport servicemanager\nimport win32timezone\nimport win32api\nimport win32con\n\nimport sys\nimport time\nimport random\n\nimport multiprocessing\n\nsvc_name = \"testSvc\"\nTIMEOUT = 6000\n\n\nclass TesterService(win32serviceutil.ServiceFramework):\n    _svc_name_ = svc_name\n    _svc_display_name_ = \"test service\"\n    _svc_description_ = \"This service is for testing purposes\"\n\n    def __init__(self, args):\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)\n\n    def SvcStop(self):\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        win32event.SetEvent(self.hWaitStop)\n\n    def SvcDoRun(self):\n        global sm\n        while True:\n            stop_signal = win32event.WaitForSingleObject(self.hWaitStop, TIMEOUT)\n\n            try:\n                if stop_signal == win32event.WAIT_OBJECT_0:\n                    break\n                else:\n                    if sm == 0:\n                        sm = 1\n            except RuntimeError as details:\n                print(details)\n\n\nclass MessageServer(object):\n    def __init__(self):\n        self._messages_ = [\"msg-1\", \"msg-2\", \"msg-3\", \"msg-4\", \"msg-5\"]\n        self._serve_msg_(self._messages_)\n\n    def _serve_msg_(self, msgs):\n        t = 0\n        while t &lt; 36:\n            time.sleep(6)\n            t += 6\n            win32api.MessageBox(\n                None,\n                msgs[random.randint(0, 4)],\n                \"test message box\",\n                win32con.MB_ICONHAND\n            )\n\n\nclass MsgSrvProcess(multiprocessing.Process):\n    def __init__(self, name=\"Ptest\"):\n        multiprocessing.Process.__init__(self)\n        self.name = name\n\n    def run(self):\n        MessageServer()\n\n\nsm = 0\nif __name__ == \"__main__\":\n    multiprocessing.freeze_support()\n\n    if len(sys.argv) == 1:\n        servicemanager.Initialize(svc_name, None)\n        servicemanager.PrepareToHostSingle(TesterService)\n        servicemanager.StartServiceCtrlDispatcher()\n\n    else:\n        win32serviceutil.HandleCommandLine(TesterService)\n    c = 0\n    while c &lt; 18:\n        c += 6\n        if sm == 1:\n            p1 = MsgSrvProcess()\n            p1.start()\n            p1.join()\n        else: sm = 1\n        time.sleep(6)\n    print(\"exiting\")\n</code></pre>\n"}, {"tags": ["python", "regex", "search", "find", "substitution"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1469659442, "post_id": 38624332, "comment_id": 64634361, "body": "This is doable, but it sounds like the wrong way to solve whatever problem you want this string for."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1469660281, "post_id": 38624332, "comment_id": 64634604, "body": "If you don&#39;t know regex, having someone give you a complex regex won&#39;t be very helpful because you won&#39;t understand it and won&#39;t be able to maintain it. I suggest you spend one whole day at a computer with regex documentation, and figure it out yourself. The effort will pay off for your entire career. Regular expressions are only hard if you don&#39;t take the time to learn them. One day is likely all you&#39;ll need."}], "answers": [{"comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1469661936, "post_id": 38624461, "comment_id": 64634967, "body": "Thanks, @John1024. I&#39;ve updated to use <code>\\b</code> around <code>or</code>."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1469661916, "last_edit_date": 1469661916, "creation_date": 1469659831, "answer_id": 38624461, "question_id": 38624332, "link": "https://stackoverflow.com/questions/38624332/wrap-a-variable-number-of-instances-in-a-string-with-parenthesis-in-python/38624461#38624461", "title": "wrap a variable number of instances in a string with parenthesis in python", "body": "<p>This might do what you want:</p>\n\n<pre><code>import re\n\ns = 'x[1] and x[2] or x[3] and x[4] or x[5] or x[6] and x[7]'\ns = re.sub(r'(\\S+(?:\\s*or\\s*\\S+)+)', r'(\\1)', s)\nassert s == 'x[1] and (x[2] or x[3]) and (x[4] or x[5] or x[6]) and x[7]'\n</code></pre>\n\n<hr />\n\n<p>EDIT: A slightly more robust expression and more test cases:</p>\n\n<pre><code>import re\n\ntests = (\n    ('x[1] and x[2] or x[3] and x[4] or x[5] or x[6] and x[7]',\n    'x[1] and (x[2] or x[3]) and (x[4] or x[5] or x[6]) and x[7]'),\n    ('door and floor', 'door and floor'),\n    ('more and more and more', 'more and more and more')\n)\nfor test, expected in tests:\n    actual = re.sub(r'\\S+(?:\\s*\\bor\\b\\s*\\S+)+', r'(\\g&lt;0&gt;)', test)\n    assert actual == expected\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 0, "last_activity_date": 1469660580, "creation_date": 1469660580, "answer_id": 38624562, "question_id": 38624332, "link": "https://stackoverflow.com/questions/38624332/wrap-a-variable-number-of-instances-in-a-string-with-parenthesis-in-python/38624562#38624562", "title": "wrap a variable number of instances in a string with parenthesis in python", "body": "<p>As you already have an answer with a regex method, here is a method that doesn't require a regex:</p>\n\n<pre><code>&gt;&gt;&gt; s = 'x[1] and x[2] or x[3] and x[4] or x[5] or x[6] and x[7]'\n&gt;&gt;&gt; ' and '.join(['(%s)' % w if ' or ' in w else w for w in s.split(' and ')])\n'x[1] and (x[2] or x[3]) and (x[4] or x[5] or x[6]) and x[7]'\n</code></pre>\n\n<h3>How it works</h3>\n\n<p>The first step is to split on <code>and</code>:</p>\n\n<pre><code>&gt;&gt;&gt; s.split(' and ')\n['x[1]', 'x[2] or x[3]', 'x[4] or x[5] or x[6]', 'x[7]']\n</code></pre>\n\n<p>The next step is to decide if the substrings need to be surrounded by parens.  That is done with a ternary statement:</p>\n\n<pre><code>&gt;&gt;&gt; w = 'x[2] or x[3]'; '(%s)' % w if ' or ' in w else w\n'(x[2] or x[3])'\n&gt;&gt;&gt; w = 'x[1]'; '(%s)' % w if ' or ' in w else w\n'x[1]'\n</code></pre>\n\n<p>The last step is to reassemble the string with <code>' and '.join(...)</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4760670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb8c3eb5a546a73afd7a4a36c325c6a?s=128&d=identicon&r=PG&f=1", "display_name": "BigJosh2015", "link": "https://stackoverflow.com/users/4760670/bigjosh2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469661916, "creation_date": 1469659014, "question_id": 38624332, "link": "https://stackoverflow.com/questions/38624332/wrap-a-variable-number-of-instances-in-a-string-with-parenthesis-in-python", "title": "wrap a variable number of instances in a string with parenthesis in python", "body": "<p>I have a string that contains variable names separated by 'and's/'or's such as 'x[1] and x[2] or x[3]'. The number of variable names varies as does whether it's an 'and' or 'or' that comes in between them. I want to wrap parenthesis around each stretch of variables separated by 'or's. For example, if the string is 'x[1] and x[2] or x[3] and x[4] or x[5] or x[6] and x[7]', I want to change it to 'x[1] and (x[2] or x[3]) and (x[4] or x[5] or x[6]) and x[7]'.</p>\n\n<p>I'm not even a novice at regex. I was wondering if there is a fairly elegant and efficient way to do this using regex in python? Any help would be greatly appreacited.</p>\n\n<p>Josh</p>\n"}, {"tags": ["python", "excel", "numpy", "scipy", "scikit-learn"], "comments": [{"owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469663801, "post_id": 38624290, "comment_id": 64635423, "body": "Could you please explain how cur_path_i and req_path_i relate to path? Also is your dataset small enough to post it? Currently, we don&#39;t have enough information solve your problem."}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "reply_to_user": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469735983, "post_id": 38624290, "comment_id": 64674127, "body": "you can think of &#39;path&#39; as a piecewise function. &#39;cur_path_i&#39; and &#39;req_path_i&#39; are the two pieces. &#39;cur_path_i&#39; is defined by a linear equation and &#39;req_path_i&#39; is defined by an exponential equation."}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "reply_to_user": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469736654, "post_id": 38624290, "comment_id": 64674445, "body": "data is very easy to recreate. for the &#39;sbt&#39; list, start with 8549826. for all the following values, simply multiply the previous value by 0.96734. So you will have an array of 61 elements that looks like [8549826, 8270595, 8000483, 7739193...1205441, 1166072]"}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "reply_to_user": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469736881, "post_id": 38624290, "comment_id": 64674551, "body": "for cur_path_i: follow the same procedure...start at 8549826, and multiply by 0.9941. [8549826, 8499665...7556006, 7511675]"}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "reply_to_user": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469737821, "post_id": 38624290, "comment_id": 64675021, "body": "for req_path_i: follow the same procedure...start at 7511675, and multiply by 0.9522. [7511675, 7152321...1224659, 1166072]"}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "reply_to_user": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469737957, "post_id": 38624290, "comment_id": 64675097, "body": "finally, the &#39;year&#39; array is [1990...2050]. However, to do the integration calc in python, you need to use [1...61]. The cur_path_i function goes from [1, 23], and the req_path_i function goes from [24,61]. thank you very much for your help!"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1469741887, "post_id": 38624290, "comment_id": 64676917, "body": "Those are essential details. Could you please edit your question to include some code for generating example data? You are much more likely to get a useful answer if you produce an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "edited": false, "score": 0, "creation_date": 1469743140, "post_id": 38624290, "comment_id": 64677484, "body": "Also, your posted exponential coefficients are imprecise (not enough places after the decimal point), and that magnifies  a lot when trying to regenerate the data."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1469738667, "post_id": 38625120, "comment_id": 64675463, "body": "you have properly interpreted my process, and yes i did use Excel. i&#39;m using an exponential fit because that is how i modeled the data. i expected them to be equal because the definite integral equals the area under the curve..."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1469741571, "post_id": 38625120, "comment_id": 64676791, "body": "In the second case you are <i>fitting</i> your data and then computing the integral from the fit, whereas in the first case you seem to be estimating the integral <i>directly</i> from the input data. At least that&#39;s my impression - it&#39;s unclear what you&#39;re actually doing since you haven&#39;t named your variables consistently, posted the full code, or provided any example input data."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1469753566, "last_edit_date": 1469753566, "creation_date": 1469664399, "answer_id": 38625120, "question_id": 38624290, "link": "https://stackoverflow.com/questions/38624290/what-is-the-difference-between-metrics-auc-and-scipy-integrate-quad/38625120#38625120", "title": "What is the difference between metrics.auc and scipy.integrate.quad?", "body": "<p><a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.metrics.auc.html\" rel=\"nofollow\"><code>sklearn.metrics.auc</code></a> just estimates the integral for your given pair of <code>x</code> and <code>y</code> vectors using the <a href=\"https://en.wikipedia.org/wiki/Trapezoidal_rule\" rel=\"nofollow\">trapezoid rule</a>. It doesn't make any strong assumptions about the functional form of the ROC curve.</p>\n\n<p>In the second case you seem to have fitted an exponential parametric model to your data (in Excel?), then used <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.quad.html\" rel=\"nofollow\"><code>scipy.integrate.quad</code></a> to integrate the fitted function over some interval.</p>\n\n<p>There's no particular reason to expect these two approaches to give identical results. Without having the data there's no way for us to tell whether your exponential fit looks good, or even whether an exponential model is appropriate in this case.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470439243, "post_id": 38647387, "comment_id": 64968095, "body": "Thank very much for doing this! Your charts are correct What&#39;s throwing me off is that when I use &#39;auc&#39; I get a less than 0.5% difference between &#39;sbt&#39; and &#39;path&#39;. When I take the definite integral, there is a 20% difference between &#39;sbt&#39; and &#39;path&#39;. Is the definite integral the more reliable calculation?"}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470439586, "post_id": 38647387, "comment_id": 64968183, "body": "the main issue I&#39;m trying to solve is to make the auc (or definite integral) of &#39;sbt&#39; equal to cur_path + req_path. the cur_path equation is fixed, while the req_path equation is what i&#39;m solving for. is it possible to get an equation for req_path given the auc (or definite integral) of &#39;sbt&#39; and &#39;cur_path&#39;?"}, {"owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "reply_to_user": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470442751, "post_id": 38647387, "comment_id": 64968809, "body": "Yes. You could write out the definite integrals and compute them symbolically,  with the req_path exponent as a parameter, then solve the equation. Or you could do a binary search on the exponent (probably easier)."}, {"owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "reply_to_user": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470443021, "post_id": 38647387, "comment_id": 64968871, "body": "scipy.quad is more accurate, if your data is actually exponential and continuous. Can you tell me exactly what the problem you&#39;re trying to solve is? Also, if my answer is helpful, you can thank me with an upvote :)."}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470679503, "post_id": 38647387, "comment_id": 65036938, "body": "The problem I&#39;m trying to solve is for the definite integrals of both equations to be the same. I need to figure out what the exponent in the <code>req_path</code> should be, or come up with a new equation for <code>req_path</code> all together. The <code>req_path</code> should still end at the same point as <code>sbt</code>."}, {"owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470679614, "post_id": 38647387, "comment_id": 65037002, "body": "Is there a way for python to solve for the <code>req_path</code> exponent? What is a binary search, and how do I do that? I tried to upvote you but I have less than 15 reputation. Sorry. Once I get more reputation, I&#39;ll come back and upvote you!"}, {"owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "reply_to_user": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "edited": false, "score": 0, "creation_date": 1470768515, "post_id": 38647387, "comment_id": 65080677, "body": "My bad, forgot you were 1 rep. I think I understand what you need now, and yes, Python can do it. You should ask a followup question (and give me the link), because comments aren&#39;t the place for answering questions, and your problem is different from your posted question."}], "tags": [], "owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "is_accepted": false, "score": 0, "last_activity_date": 1469742954, "creation_date": 1469742954, "answer_id": 38647387, "question_id": 38624290, "link": "https://stackoverflow.com/questions/38624290/what-is-the-difference-between-metrics-auc-and-scipy-integrate-quad/38647387#38647387", "title": "What is the difference between metrics.auc and scipy.integrate.quad?", "body": "<p>Based on your description of your data, I get the following plots. For the path data (curr_path and then req_path), I use this function: </p>\n\n<pre><code>start = 8549826\ndef path(year):\n    if year &gt; 23: return start*(cur_path_exp)**23 * req_path_exp**(year-23)\n    else: return start * (cur_path_exp)**year\n</code></pre>\n\n<p>and get this plot (over year from 1 to 61):\n<a href=\"https://i.stack.imgur.com/2UrV0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2UrV0.png\" alt=\"Plot of the generated path data.\"></a></p>\n\n<p>For the sbt array, I use this function:</p>\n\n<pre><code>start = 8549826\nsbt = lambda year: start * (sbt_exp)**year\n</code></pre>\n\n<p>and get this plot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/s2jWX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2jWX.png\" alt=\"sbt plot\"></a></p>\n\n<p>I then compared the integrals using <code>scipy.integrate.quad</code> and <code>sklearn.metrics.auc</code>.</p>\n\n<pre><code>import numpy as np\nfrom scipy.integrate import quad\nfrom sklearn.metrics import auc\nstart = 8549826\nsbt_exp = 0.9673405832388313\ncur_path_exp = .9941\nreq_path_exp = 0.9522\nsbt = lambda year: start * (sbt_exp)**year\ndef path(year):\n    if year &gt; 23: return start*(cur_path_exp)**23 * req_path_exp**(year-23)\n    else: return start * (cur_path_exp)**year\n\nyears = range(1,62)\nprint \"Quad sbt: \", quad(sbt, 1,61), \"Auc sbt: \",auc(map(sbt, years), years)\n\nprint \"Quad sbt: \",quad(path, 1, 61), \"Auc sbt: \",auc(map(path, years),years)\n</code></pre>\n\n<p>and got the output:</p>\n\n<pre><code>Quad sbt:  (215108922.75692844, 2.3881887884705626e-06) Auc sbt:  154592534.468\nQuad sbt:  (303985184.7185244, 0.4825437736101641) Auc sbt:  241740742.863\n</code></pre>\n\n<p>As you can see, they are quite different. This is because auc uses a simple trapezoidal rule, while quad uses the function you give it to interpolate the data and has a much higher level of accuracy. In summary, the difference between an <strong>exponential</strong> and a <strong>piece-wise linear interpolation</strong> is <strong>huge</strong>.  </p>\n"}], "owner": {"reputation": 73, "user_id": 5978172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10105298382930019/picture?type=large", "display_name": "Moiz Kapadia", "link": "https://stackoverflow.com/users/5978172/moiz-kapadia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469753566, "creation_date": 1469658798, "question_id": 38624290, "link": "https://stackoverflow.com/questions/38624290/what-is-the-difference-between-metrics-auc-and-scipy-integrate-quad", "title": "What is the difference between metrics.auc and scipy.integrate.quad?", "body": "<p>I am getting different values when I calculate the Area Under the Curve when use sklearn.metrics.auc and when I use scipy.integrate.quad. </p>\n\n<p>To calculate the AUC, I passing in my data:</p>\n\n<pre><code>auc_path = metrics.auc(path,year)\nauc_sbt = metrics.auc(sbt,year)\n\nauc_path = 14929608030\nauc_sbt = 14846098649\n</code></pre>\n\n<p>To calculate the definite integral, I input the trendline equations (generated from the same data I input above) that I found from Excel into python:</p>\n\n<pre><code>def cur_path(x):\n    return -47177.249*x + 8586190.275\ncur_path_i, cur_path_err = quad(cur_path,1,23)\n\ndef req_path(x):\n    return 23195385.6616*np.exp(-0.049*x) \nreq_path_i, req_path_err = quad(req_path,24,61)\n\ndef sbt(x):\n    return 8838484.57*np.exp(-0.03*x) \nsbt_i, sbt_err = quad(sbt,1,61)\n\npath = 298653886\nsbt = 238648501\n</code></pre>\n\n<p>Is the error attributed to the trendline equation from Excel? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "c++", "exception"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1469667174, "post_id": 38624273, "comment_id": 64636097, "body": "Please <a href=\"https://stackoverflow.com/posts/38624273/edit\">edit</a> your question and add the try{}catch(...) code you tried."}, {"owner": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "edited": false, "score": 0, "creation_date": 1469679513, "post_id": 38624273, "comment_id": 64638662, "body": "C and C++ are different languages. There is no <code>try{}catch(...)</code> in C. What language are you using?"}], "owner": {"reputation": 21, "user_id": 6622487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae8370c529b8bfbfc7e00e5321d204ec?s=128&d=identicon&r=PG&f=1", "display_name": "user6622487", "link": "https://stackoverflow.com/users/6622487/user6622487"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469729486, "creation_date": 1469658718, "last_edit_date": 1469729486, "question_id": 38624273, "link": "https://stackoverflow.com/questions/38624273/how-to-catch-and-handle-fatal-error-from-calling-py-initialize-in-c", "title": "How to catch and handle fatal error from calling Py_Initialize() in C", "body": "<p>I'm embedding Python into C and at the beginning of my code I have something like below. Everything works fine until a user accidently removed python33 folder. This causes Py_Initialize() throw a fatal error saying \"Fatal Python error: Py_Initialize: unable to load the file system codec\" Then my application crashed. I tried to use try{}catch(...) to catch this kind of error, but seems not working. I wonder if there is any way I can gracefully catch and handle it.</p>\n\n<pre><code>try\n{\n    if(!Py_IsInitialized())\n    {\n        Py_Initialize();\n    }\n}\ncatch(...)\n{\n    std::out &lt;&lt; \"Can't initialized Python\" &lt;&lt; std::endl;\n    return;\n}\n</code></pre>\n"}, {"tags": ["python", "qt", "pyqt", "qfiledialog"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1469660569, "post_id": 38624245, "comment_id": 64634664, "body": "The code you&#39;ve posted does exactly what you say you want (i.e. the user can view files and dirs, but only choose dirs). So maybe you need to explain more clearly what it is you want to achieve."}, {"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1469713013, "post_id": 38624245, "comment_id": 64659082, "body": "Not really.. the code above allows you to choose files as well."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1469725689, "post_id": 38624245, "comment_id": 64668449, "body": "For me, the &quot;Choose&quot; button only becomes enabled when I select directories. It is possible to <i>select</i> files, but not choose them (because the button is disabled)."}, {"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1469726293, "post_id": 38624245, "comment_id": 64668795, "body": "this is a bit awkward but i just discovered that there was another piece of code that was responsible for it. it&#39;s a code that allows me to select multiple folders instead of just one - but then it does so while also giving me the problem i mentioned. i edited my original post with that code."}, {"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1469726457, "post_id": 38624245, "comment_id": 64668891, "body": "see my last comment;)"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 0, "creation_date": 1469732380, "post_id": 38643574, "comment_id": 64672323, "body": "Okay great thanks! I&#39;m not sure if i should open a new question for that or not (let me know) - but is there a quick modification i could make to my code above to be able to select both folders and files?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 1, "creation_date": 1469732576, "post_id": 38643574, "comment_id": 64672426, "body": "@YaronGh. <code>file_dialog.setProxyModel(None)</code>."}, {"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 0, "creation_date": 1469732863, "post_id": 38643574, "comment_id": 64672583, "body": "If i do that it returns the selected file + all of the other files in that folder"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 0, "creation_date": 1469733129, "post_id": 38643574, "comment_id": 64672708, "body": "@YaronGh. You&#39;re going to have to explain much more clearly what you&#39;re trying to do."}, {"owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 0, "creation_date": 1469733323, "post_id": 38643574, "comment_id": 64672807, "body": "I&#39;m trying to select both files and folders, and have the file dialog returns the paths to those files and folders."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "edited": false, "score": 0, "creation_date": 1469734822, "post_id": 38643574, "comment_id": 64673533, "body": "@YaronGh. That sounds like a <a href=\"http://stackoverflow.com/q/27005858/984421\">completely different question</a>."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 2, "last_activity_date": 1573074679, "last_edit_date": 1573074679, "creation_date": 1469728622, "answer_id": 38643574, "question_id": 38624245, "link": "https://stackoverflow.com/questions/38624245/qfiledialog-view-folders-and-files-but-select-folders-only/38643574#38643574", "title": "QFileDialog view folders and files but select folders only?", "body": "<p>To prevent files being selected, you can install a proxy model which manipulates the flags for items in the file-view:</p>\n\n<pre><code>dialog = QFileDialog()\ndialog.setFileMode(QFileDialog.Directory)\ndialog.setOption(QFileDialog.DontUseNativeDialog, True)\n\nclass ProxyModel(QIdentityProxyModel):\n    def flags(self, index):\n        flags = super(ProxyModel, self).flags(index)\n        if not self.sourceModel().isDir(index):\n            flags &amp;= ~Qt.ItemIsSelectable\n            # or disable all files\n            # flags &amp;= ~Qt.ItemIsEnabled\n        return flags\n\nproxy = ProxyModel(dialog)\ndialog.setProxyModel(proxy)\n\ndialog.exec()\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 6566625, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/521cbd73a2c6f53774a3218d1f4a2948?s=128&d=identicon&r=PG&f=1", "display_name": "YaronGh", "link": "https://stackoverflow.com/users/6566625/yarongh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1314, "favorite_count": 0, "protected_date": 1529480930, "accepted_answer_id": 38643574, "answer_count": 1, "score": 2, "last_activity_date": 1573074679, "creation_date": 1469658584, "last_edit_date": 1469726373, "question_id": 38624245, "link": "https://stackoverflow.com/questions/38624245/qfiledialog-view-folders-and-files-but-select-folders-only", "title": "QFileDialog view folders and files but select folders only?", "body": "<p>I'm creating my own custom file dialog using the following code:</p>\n\n<pre><code>file_dialog = QtGui.QFileDialog()\nfile_dialog.setFileMode(QtGui.QFileDialog.Directory)\nfile_dialog.setViewMode(QtGui.QFileDialog.Detail)\nfile_dialog.setOption(QtGui.QFileDialog.DontUseNativeDialog, True)\n</code></pre>\n\n<p>The behaviour that i'm interested in is for the user to be able to view both files and folders, but select folders only. (making files unselectable). Is that possible? </p>\n\n<p><strong>Note:</strong>\nUsing the <code>DirectoryOnly</code> option is not good for me since it doesn't allow you to view files, just folders.</p>\n\n<p><strong>Edit</strong> (extra code that i forgot to add which responsible for being able to select multiple folders instead of just one):</p>\n\n<pre><code>file_view = file_dialog.findChild(QtGui.QListView, 'listView')\nif file_view:\n    file_view.setSelectionMode(QtGui.QAbstractItemView.MultiSelection)\nf_tree_view = file_dialog.findChild(QtGui.QTreeView)\nif f_tree_view:\n    f_tree_view.setSelectionMode(QtGui.QAbstractItemView.MultiSelection)\n</code></pre>\n"}, {"tags": ["python", "image", "opencv"], "comments": [{"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1469660825, "post_id": 38624200, "comment_id": 64634735, "body": "I think you are assuming that the two glob calls will return *.txt and *.png files in the same order, but that is not necessarily true. There are two things that might help: (1) during the loop over *.txt, store the data in a dictionary with f[-4] (the filename minus &#39;.txt&#39;) as the key, e.g., d[f[-4]]=small. Then during the loop over *.png, retrieve the data by accessing d[f[-4]]. (2) skip the loop over the *.txt files, and just read the .txt file while you are looping over the *.png files. You could do this with something like <code>f_text = open(f[-4]+&#39;.txt&#39;)</code>"}, {"owner": {"reputation": 156, "user_id": 6623142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9e2e63e2f92458b1a497c2673d922a7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/6623142/praveen"}, "reply_to_user": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1473710493, "post_id": 38624200, "comment_id": 66236963, "body": "Thanks! That helps!"}], "answers": [{"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 1, "last_activity_date": 1469692679, "creation_date": 1469692679, "answer_id": 38630346, "question_id": 38624200, "link": "https://stackoverflow.com/questions/38624200/crop-images-using-dimensions-extracted-from-txt-file/38630346#38630346", "title": "Crop images using dimensions extracted from txt file", "body": "<p>You would be best to just cycle through all of the PNG files, and for each one attempt to find a matching text file as follows:</p>\n\n<pre><code>import glob\nimport os\nimport re\n\nfaces_folder_path = r\"c:\\myfiles\"\n\nfor png_file in glob.glob(os.path.join(faces_folder_path, \"*.png\")):\n    name, ext = os.path.splitext(os.path.basename(png_file))\n\n    try:\n        with open(os.path.join(faces_folder_path, '{}.txt'.format(name))) as f_text:\n            re_crop = re.search(r'(\\d+),(\\d+);(\\d+),(\\d+)', f_text.read())\n\n            if re_crop:\n                x, width, y, height = [int(v) for v in re_crop.groups()]\n\n                # Add crop code here\n            else: \n                print '\"{}\" text file format not understood'.format(png_file)\n    except IOError as e:\n        print '\"{}\" has no matching txt file'.format(png_file)\n</code></pre>\n\n<p>This takes the file path to each png file and extracts the base filename. It then constructs a matching txt file, loads this in and uses a regular expression to try and find the required crop details. Each entry is converted to <code>int</code>.</p>\n\n<p>This assumes an example text file would look something like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0,100;10,50\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 6623142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9e2e63e2f92458b1a497c2673d922a7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/6623142/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 38630346, "answer_count": 1, "score": 1, "last_activity_date": 1469692679, "creation_date": 1469658414, "question_id": 38624200, "link": "https://stackoverflow.com/questions/38624200/crop-images-using-dimensions-extracted-from-txt-file", "title": "Crop images using dimensions extracted from txt file", "body": "<p>I would like to crop multiple images in my folder using PIL or opencv2. But, I have the dimensions in a text file having the same filename as the image. \nSo, let's say my filename is 1_a.jpg, the dimensions (top left.x,width;top left.x,height) are in the 1_a.txt file.\nSo, my program must iterate through every file, select the dimensions and crop the image.\nI am using a similar setup where I am trying to append  all the dimensions in a list separately and then trying to iterate images pointing to the lists while cropping but however, it doesn't work.\nKindly help.</p>\n\n<p>Find my code below:-</p>\n\n<pre><code>for f in glob.glob(os.path.join(faces_folder_path, \"*.txt\")):\n    file = open(f)\n    small=[]\n    data= file.read()\n\n    print type(data)\n    small.append(data.rstrip('\\n'))\n    print small\n    print small[1]\n    print type(small)\n    x.append(small)\n    print type(x)\n    print x\n\n    # print type(list)\n    # print list\n    # # print x\n    # x.append(list)\n    # for i,val in enumerate(x):\n    #     print val[0]\n\n\n\nfor f in glob.glob(os.path.join(faces_folder_path, \"*.png\")):\n\n    imgfile = f[53:75]\n    print imgfile\n    img=cv2.imread(imgfile)\n    cv2.imshow('image',img)\n    print (x[i])\n    print type(x[i])\n    # new_image=img[x[i]]\n    # cv2.imshow('cropped',new_image)\n\n    # cv2.imsave('imgfile',new_image)\n\n    i+=1\n    cv2.waitKey(0)\n</code></pre>\n"}, {"tags": ["python", "list", "pygame", "iteration"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469658554, "post_id": 38624188, "comment_id": 64634040, "body": "Are you trying to compare <code>x &lt;= mouse_x &lt;= (x + w)</code> or <code>(x &lt;= mouse_x &lt;= x) + w</code>... or something else? You may want to look at Python&#39;s order of operations or add the correct parenthesis"}, {"owner": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1469658792, "post_id": 38624188, "comment_id": 64634124, "body": "Indent your print statement, you&#39;re printing out of the loop and will only see the last one in the list regardless of the contents"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1469659468, "post_id": 38624188, "comment_id": 64634368, "body": "@Nick well i tried that both under the <code>if</code> statement and <code>else</code> statement but I didn&#39;t get any desired results."}], "answers": [{"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469659281, "post_id": 38624229, "comment_id": 64634317, "body": "Thanks for the great explanation. I just learned about chained comparison recently, but I guess that is what I get for trying to be fancy. I did: <code>if mx &gt; x and mx &lt; x + w:</code> then added a second if statement under it: <code>if my &gt; y and my &lt; y + h:</code>.  And that worked perfectly."}, {"owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469659611, "post_id": 38624229, "comment_id": 64634406, "body": "Since you&#39;re just and-ing everything, you can actually leave it as one <code>if</code> statement: <code>if mx &gt; x and mx &lt; (x + w) and my &gt; y and my &lt; (y + h)</code>.  For other situations, you can just be explicit about the groupings using parentheses. For example, if you were <code>or</code>-ing <code>and</code> expressions: <code>if (mx &gt; x and mx &lt; (x+w)) or (my &gt; y and my &lt; (y+h))</code>"}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1469660096, "post_id": 38624229, "comment_id": 64634545, "body": "@Mr.Python: Indeed, this is a good answer. However, I don&#39;t see that it answers the core of your question: why it is only the &quot;last rectangle&quot; which decides over the value of <code>self.hovering</code>. @xgord: Maybe you could add a little hint to your answer pointing to the state issue within the loop. Just for future reference."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469661933, "post_id": 38624229, "comment_id": 64634966, "body": "@xgord your second example, the one where you use break, is not working. I want <code>self.hovering = False</code> while I&#39;m not hovering over any of the red rectangles. When I use your solution, <code>self.hovering</code> never equals <code>False</code> again after the first collision detection."}, {"owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469662724, "post_id": 38624229, "comment_id": 64635146, "body": "@Mr.Python did you include the line before the loop that sets <code>self.hovering</code> to False? if the example without <code>break</code> works, then the one with <code>break</code> will also work -- they&#39;re functionally equivalent -- i.e. the result is the same no matter which one you use. At the end of the function, <code>self.hovering</code> will equal false until the next time that function is called or something else changes the value."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469663795, "post_id": 38624229, "comment_id": 64635421, "body": "@xgord Duh, I completely forgot the first line. Thanks for the help."}, {"owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469664909, "post_id": 38624229, "comment_id": 64635705, "body": "@Mr.Python no worries, glad to help"}], "tags": [], "owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "is_accepted": true, "score": 2, "last_activity_date": 1469660648, "last_edit_date": 1495542787, "creation_date": 1469658538, "answer_id": 38624229, "question_id": 38624188, "link": "https://stackoverflow.com/questions/38624188/variable-that-is-set-to-true-in-if-statement-never-becomes-false/38624229#38624229", "title": "variable that is set to True in if statement never becomes False", "body": "<p>Your <code>if</code> statement has a problem:</p>\n\n<pre><code>if x &lt;= mouse_x &lt;= x + w and y &lt;= mouse_y &lt;= y + h:\n                self.hovering = True\n</code></pre>\n\n<p>You can't chain less than/greater than as you do in: <code>x &lt;= mouse_x &lt;= x + w</code>. This really gets translated to:</p>\n\n<pre><code>if x &lt;= (mouse_x &lt;= x + w) ....\n</code></pre>\n\n<p>And since <code>True == 1</code> and <code>False == 0</code>, this means that if <code>mouse_x &lt;= x + w</code> is <code>True</code>, <code>x &lt;= (mouse_x &lt;= x + w)</code> really becomes <code>x &lt;= 1</code></p>\n\n<p><br/></p>\n\n<p><strong><em>Edit -- Added additional problem explanation</em></strong> (credit to <a href=\"https://stackoverflow.com/users/6525140/michael-hoff\">Michael Hoff</a> for the suggestion)</p>\n\n<p>You also have a problem with your loop. In the loop, <em>for every rectangle pair</em>, you set the variable <code>self.hovering</code>. This means that you are continuously overwriting the value of <code>self.hovering</code> with the status of the <em>current</em> rectangle --- not if <em>any</em> of the rectangles are hovering.</p>\n\n<p>Instead, since you care if <code>self.hovering</code> is <em>ever</em> <code>True</code>, you should only set the value in the <code>True</code> case:</p>\n\n<pre><code>self.hovering = False # assume it's not hovering at first\nfor rects in self.rectangle_list:\n    x, y, w, h = rects\n    if x &lt;= mouse_x and mouse_x &lt;= x + w and y &lt;= mouse_y  and mouse_y &lt;= y + h:\n        self.hovering = True # now it will always be True\n</code></pre>\n\n<p>While this solves the loop issue, it's still a little bit inefficient, as it will continue looping over the pairs even after you find one that makes <code>self.hovering = True</code>. To stop looping when you find a \"good\" pair, you can use <code>break</code>, which just prematurely ends a loop.</p>\n\n<pre><code>self.hovering = False # assume it's not hovering at first\nfor rects in self.rectangle_list:\n    x, y, w, h = rects\n    if x &lt;= mouse_x and mouse_x &lt;= x + w and y &lt;= mouse_y  and mouse_y &lt;= y + h:\n        self.hovering = True # now it will always be True\n        break # exit the loop, since we've found what we're looking for\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1469658837, "post_id": 38624256, "comment_id": 64634142, "body": "What about <code>break</code>-ing the loop when True is found?"}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1469658963, "post_id": 38624256, "comment_id": 64634196, "body": "This is a valid optimization. But at this point I found it more important to focus on the problem and to mention a very basic solution."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469659890, "post_id": 38624256, "comment_id": 64634487, "body": "@MichaelHoff -<i>I think you want to set self.hovering = False before the loop and in the loop set it to True if one of the rectangles matches your condition.</i> Well isn&#39;t that what I am doing."}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469660280, "post_id": 38624256, "comment_id": 64634603, "body": "No, and exactly this is your problem. Say you have a list of three numbers [1,2,3] and a property <code>odd</code>. When you loop over the elements and set <code>odd = number % 2 == 1</code> then, after the loop, the variable <code>odd</code> will only characterize the last element and not all. That is because you set your boolean variable to the new value every time. I&#39;ll add this to my answer."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469661378, "post_id": 38624256, "comment_id": 64634840, "body": "@MichaelHoff Ok, i get you. Thanks for the clarification"}], "tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": false, "score": 4, "last_activity_date": 1469660463, "last_edit_date": 1469660463, "creation_date": 1469658641, "answer_id": 38624256, "question_id": 38624188, "link": "https://stackoverflow.com/questions/38624188/variable-that-is-set-to-true-in-if-statement-never-becomes-false/38624256#38624256", "title": "variable that is set to True in if statement never becomes False", "body": "<p>You set <code>self.hovering</code> inside the loop for <em>every</em> rectangle in the list. This means, after the loop the value of <code>self.hovering</code> corresponds to the \"hovering state\" of only the <em>last</em> rectangle.</p>\n\n<p>I think you want to set <code>self.hovering = False</code> before the loop and in the loop set it to <code>True</code> if one of the rectangles matches your condition. This way, <code>self.hovering == True</code> holds only if at least one of your rectangles matches your condition.</p>\n\n<p>This is a simplistic example for your problem:</p>\n\n<pre><code>numbers = [2,3,4]\ncontains_odd = False\nfor number in numbers:\n    if number % 2 == 0:\n        contains_odd = False # this is wrong!\n    else:\n        contains_odd = True\n# contains_odd == (numbers[2] % 2 == 1) == False\n</code></pre>\n\n<p>The solution would be:</p>\n\n<pre><code>numbers = [2,3,4]\ncontains_odd = False\nfor number in numbers:\n    if number % 2 == 1:\n        contains_odd = True\n\n# contains_odd == True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1469660174, "post_id": 38624284, "comment_id": 64634565, "body": "thanks your solution also worked to perfection, But would you mind explaining your code a little bit more, as I&#39;ve never used the built-in function <code>any()</code>"}], "tags": [], "owner": {"reputation": 425, "user_id": 6278795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526a286f81595fc36a9c195b6110bdb4?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Albert", "link": "https://stackoverflow.com/users/6278795/rafael-albert"}, "is_accepted": false, "score": 1, "last_activity_date": 1469660607, "last_edit_date": 1469660607, "creation_date": 1469658764, "answer_id": 38624284, "question_id": 38624188, "link": "https://stackoverflow.com/questions/38624188/variable-that-is-set-to-true-in-if-statement-never-becomes-false/38624284#38624284", "title": "variable that is set to True in if statement never becomes False", "body": "<p>The code is iterating through the list and self.hovering changes after each step. Therefore, the last rectangle determines which value is printed since its the only one influencing it since the print function is called <strong>outside</strong> of the loop.</p>\n\n<p><strong>Update</strong>: <br>\nIf you want it to be True if <strong>any</strong> of the rectangles fits, you can use:</p>\n\n<pre><code>any([x &lt;= mouse_x &lt;= x + w and y &lt;= mouse_y &lt;= y + h for x,y,w,h in self.rectangle_list])\n</code></pre>\n\n<p>Any is a built-in function that is given an iterable as argument. It returns True whenever any value within the iterable is True, otherwise False. In this case, it is given a list created by a so called list comprehension. The list comprehension is equivalent to the following:</p>\n\n<pre><code>lis = []\nfor x, y, w, h in self.rectangle_list:\n    lis.append(x &lt;= mouse_x &lt;= x + w and y &lt;= mouse_y &lt;= y + h)\n</code></pre>\n\n<p>However, it does not require to create an empty list first and is therfore more compact. </p>\n"}], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 38624229, "answer_count": 3, "score": 0, "last_activity_date": 1470686448, "creation_date": 1469658323, "last_edit_date": 1470686448, "question_id": 38624188, "link": "https://stackoverflow.com/questions/38624188/variable-that-is-set-to-true-in-if-statement-never-becomes-false", "title": "variable that is set to True in if statement never becomes False", "body": "<p>I have a list of rectangles coordinates, that I'm iterating over to test for collisions with each one. The list is Like so: <code>self.rectangle_list = [(200, 30, 100, 10), (200, 60, 100, 10), (200, 90, 100, 10), (200, 120, 100, 10), (200, 150, 100, 10)]</code>. My code for the for loop is below.</p>\n\n<pre><code>        mouse_x, mouse_y = event_obj.pos # mouse_x, mouse_y are the coordinates of the mouse.\n        for rects in self.rectangle_list:\n            x, y, w, h = rects\n            if x &lt;= mouse_x &lt;= x + w and y &lt;= mouse_y &lt;= y + h:\n                self.hovering = True\n            else:\n                self.hovering = False\n        print(self.hovering)\n</code></pre>\n\n<p>When I print out <code>self.hovering</code>, The only time It changes to True is when The mouse cursor is in the coordinates of the very last rectangle in the list.</p>\n\n<p>When I move <code>self.hovering</code> under the <code>if</code> statement it works, but never sets <code>self.hovering</code> back to False while the <code>if</code> condition is not meet.</p>\n\n<p>example code to reproduce the problem is bellow:</p>\n\n<pre><code>import pygame as pg\n\n\nclass RenderRects:\n    def __init__(self, surface, rects_to_render=0):\n        self.surface = surface\n        self.rects_to_render = rects_to_render\n        self.rectangle_list = []\n        self.hovering = False\n\n    def render_rects(self):\n        y_padding = 0\n        for rects in range(self.rects_to_render):\n            y_padding += 30\n            menu_items_rect = (200, y_padding, 100, 10)\n            pg.draw.rect(self.surface, (255, 0, 0), menu_items_rect)\n            if len(self.rectangle_list) &gt; 5:\n                del self.rectangle_list[4:]\n            self.rectangle_list.append(menu_items_rect)\n\n    def check_for_rect_collision(self, event_obj):\n       #-----------------Where problem is-----------#\n        mx, my = event_obj.pos\n        for rects in self.rectangle_list:\n            x, y, w, h = rects\n            if x &lt;= mx &lt;= x + w and y &lt;= my &lt;= y + h:\n                self.hovering = True\n            else:\n                self.hovering = False\n        print(self.hovering)\n        #-----------------Where problem is-----------#\n\n    def update_rects(self, event_obj):\n        if event_obj.type == pg.MOUSEMOTION:\n            self.check_for_rect_collision(event_obj)\n\ndef main():\n    WIDTH = 800\n    HEIGHT = 600\n    display = pg.display.set_mode((WIDTH, HEIGHT))\n\n    R = RenderRects(display, rects_to_render=5)\n\n    running = True\n    while running:\n        for e in pg.event.get():\n            if e.type == pg.QUIT:\n                running = False\n                pg.quit()\n                quit()\n\n            R.update_rects(e)\n\n        display.fill((255, 255, 255))\n        R.render_rects()\n        pg.display.flip()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1469800679, "post_id": 38630095, "comment_id": 64702244, "body": "It is better to use <code>draw_idle</code> rather than <code>draw</code>.  It allows the backends to defer the (possibly expensive) draw until it is strictly needed."}], "tags": [], "owner": {"reputation": 4673, "user_id": 319584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5d1e6ccdfaf2fb28512d5b1025c6852?s=128&d=identicon&r=PG", "display_name": "Marijn van Vliet", "link": "https://stackoverflow.com/users/319584/marijn-van-vliet"}, "is_accepted": true, "score": 1, "last_activity_date": 1472025321, "last_edit_date": 1472025321, "creation_date": 1469691908, "answer_id": 38630095, "question_id": 38624168, "link": "https://stackoverflow.com/questions/38624168/kivy-and-matplotlib-trying-to-update-plot-on-button-callback/38630095#38630095", "title": "Kivy and Matplotlib trying to update plot on button callback", "body": "<p>Line 45 of your code:</p>\n\n<pre><code>fig, ax = plt.subplots()\n</code></pre>\n\n<p>creates a new figure and hence a new canvas. This canvas is never added to the <code>BoxLayout</code> and hence never shown. It's probably a better idea to re-use the old canvas. Change the callback function to this:</p>\n\n<pre><code>def callback(instance):\n    # Clear the existing figure and re-use it\n    plt.clf()\n\n    X = np.arange(-508, 510, 203.2)\n    Y = np.arange(-508, 510, 203.2)\n    X, Y = np.meshgrid(X, Y)\n\n    Z = np.random.rand(6, 6)\n\n    plt.contourf(X, Y, Z, 100, zdir='z', offset=1.0, cmap=cm.hot)\n    plt.colorbar()\n\n    ax.set_ylabel('Y [mm]')\n    ax.set_title('NAILS surface')\n    ax.set_xlabel('X [mm]')\n\n    canvas.draw_idle()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 1950071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31304e0fef41832919b1f68c5a78af7e?s=128&d=identicon&r=PG", "display_name": "mikeppalmer", "link": "https://stackoverflow.com/users/1950071/mikeppalmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1469726531, "creation_date": 1469726531, "answer_id": 38642936, "question_id": 38624168, "link": "https://stackoverflow.com/questions/38624168/kivy-and-matplotlib-trying-to-update-plot-on-button-callback/38642936#38642936", "title": "Kivy and Matplotlib trying to update plot on button callback", "body": "<p>Need to make the fig and ax variables global. Call plt.clf() to clear the current figure and re-plot with appropriate colorbar.</p>\n\n<pre><code>import matplotlib\nmatplotlib.use('module://kivy.garden.matplotlib.backend_kivy')\nfrom matplotlib.figure import Figure\nfrom numpy import arange, sin, pi\nfrom kivy.app import App\n\nimport numpy as np\nfrom matplotlib.mlab import griddata\nfrom kivy.garden.matplotlib.backend_kivy import FigureCanvas,\\\n                                                NavigationToolbar2Kivy\n\n# from backend_kivy import FigureCanvasKivy as FigureCanvas\n\nfrom kivy.uix.floatlayout import FloatLayout\nfrom kivy.uix.boxlayout import BoxLayout\nfrom matplotlib.transforms import Bbox\nfrom kivy.uix.button import Button\nfrom kivy.graphics import Color, Line, Rectangle\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nfrom mpl_toolkits.mplot3d import Axes3D\n\n# fig, ax = plt.subplots()\nfig, ax = plt.subplots()\n\nX = np.arange(-508, 510, 203.2)\nY = np.arange(-508, 510, 203.2)\nX, Y = np.meshgrid(X, Y)\n\nZ = np.random.rand(6, 6)\n\nplt.contourf(X, Y, Z, 100, zdir='z', offset=1.0, cmap=cm.hot)\nplt.colorbar()\n\nax.set_ylabel('Y [mm]')\nax.set_title('NAILS surface')\nax.set_xlabel('X [mm]')\n\ncanvas = fig.canvas\n\n\n\ndef callback(instance):\n\n    global fig, ax\n    # fig, ax = plt.subplots()\n\n    X = np.arange(-508, 510, 203.2)\n    Y = np.arange(-508, 510, 203.2)\n    X, Y = np.meshgrid(X, Y)\n\n    Z = 1000*np.random.rand(6, 6)\n    plt.clf()\n    plt.contourf(X, Y, Z, 100, zdir='z', offset=1.0, cmap=cm.hot)\n    plt.colorbar()\n\n    # ax.set_ylabel('Y [mm]')\n    # ax.set_title('NAILS surface')\n    # ax.set_xlabel('X [mm]')\n\n    # canvas = fig.canvas\n    canvas.draw()\n\n\nclass MatplotlibTest(App):\n    title = 'Matplotlib Test'\n\n    def build(self):\n        fl = BoxLayout(orientation=\"vertical\")\n        a = Button(text=\"press me\", height=40, size_hint_y=None)\n        a.bind(on_press=callback)\n\n        fl.add_widget(canvas)\n        fl.add_widget(a)\n        return fl\n\nif __name__ == '__main__':\n    MatplotlibTest().run()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 1950071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31304e0fef41832919b1f68c5a78af7e?s=128&d=identicon&r=PG", "display_name": "mikeppalmer", "link": "https://stackoverflow.com/users/1950071/mikeppalmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3024, "favorite_count": 3, "accepted_answer_id": 38630095, "answer_count": 2, "score": 2, "last_activity_date": 1472025321, "creation_date": 1469658200, "question_id": 38624168, "link": "https://stackoverflow.com/questions/38624168/kivy-and-matplotlib-trying-to-update-plot-on-button-callback", "title": "Kivy and Matplotlib trying to update plot on button callback", "body": "<p>I can generate a 2D surface plot very nicely with Kivy and Matplotlib. I am trying to update the Z values on a button click. How may this be accomplished?</p>\n\n<p>I noticed that I can issue a plt.clf() which will clear the plot but doing the plt.gcf() to display the current plot doesn't work.</p>\n\n<p>Any suggestions would be really appreciated.</p>\n\n<pre><code>import matplotlib\nmatplotlib.use('module://kivy.garden.matplotlib.backend_kivy')\nfrom matplotlib.figure import Figure\nfrom numpy import arange, sin, pi\nfrom kivy.app import App\n\nimport numpy as np\nfrom matplotlib.mlab import griddata\nfrom kivy.garden.matplotlib.backend_kivy import FigureCanvas,\\\n                                                NavigationToolbar2Kivy\n\n# from backend_kivy import FigureCanvasKivy as FigureCanvas\n\nfrom kivy.uix.floatlayout import FloatLayout\nfrom kivy.uix.boxlayout import BoxLayout\nfrom matplotlib.transforms import Bbox\nfrom kivy.uix.button import Button\nfrom kivy.graphics import Color, Line, Rectangle\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm\nfrom mpl_toolkits.mplot3d import Axes3D\n\nfig, ax = plt.subplots()\n\nX = np.arange(-508, 510, 203.2)\nY = np.arange(-508, 510, 203.2)\nX, Y = np.meshgrid(X, Y)\n\nZ = np.random.rand(6, 6)\n\nplt.contourf(X, Y, Z, 100, zdir='z', offset=1.0, cmap=cm.hot)\nplt.colorbar()\n\nax.set_ylabel('Y [mm]')\nax.set_title('NAILS surface')\nax.set_xlabel('X [mm]')\n\ncanvas = fig.canvas\n\n\ndef callback(instance):\n\n\n    fig, ax = plt.subplots()\n\n    X = np.arange(-508, 510, 203.2)\n    Y = np.arange(-508, 510, 203.2)\n    X, Y = np.meshgrid(X, Y)\n\n    Z = np.random.rand(6, 6)\n\n    plt.contourf(X, Y, Z, 100, zdir='z', offset=1.0, cmap=cm.hot)\n    plt.colorbar()\n\n    ax.set_ylabel('Y [mm]')\n    ax.set_title('NAILS surface')\n    ax.set_xlabel('X [mm]')\n\n    canvas = fig.canvas\n    canvas.draw()\n\n\nclass MatplotlibTest(App):\n    title = 'Matplotlib Test'\n\n    def build(self):\n        fl = BoxLayout(orientation=\"vertical\")\n        a = Button(text=\"press me\", height=40, size_hint_y=None)\n        a.bind(on_press=callback)\n\n        fl.add_widget(canvas)\n        fl.add_widget(a)\n        return fl\n\nif __name__ == '__main__':\n    MatplotlibTest().run()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe"], "comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469659055, "post_id": 38624151, "comment_id": 64634232, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/q/38577737/6525140\">this question</a>? Not exactly, but at least both questions are strongly related to each other."}, {"owner": {"reputation": 1190, "user_id": 1969404, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/KPeiC.jpg?s=128&g=1", "display_name": "Bedi Egilmez", "link": "https://stackoverflow.com/users/1969404/bedi-egilmez"}, "edited": false, "score": 0, "creation_date": 1469659479, "post_id": 38624151, "comment_id": 64634370, "body": "Iterating over keys, and merging lists seems like the solution you&#39;d like."}, {"owner": {"reputation": 13750, "user_id": 3830997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lg47I.png?s=128&g=1", "display_name": "Matthias Fripp", "link": "https://stackoverflow.com/users/3830997/matthias-fripp"}, "edited": false, "score": 0, "creation_date": 1469660016, "post_id": 38624151, "comment_id": 64634527, "body": "Do you need the <code>a</code> and <code>b</code> dicts for anything else? If not, you could just keep appending data to dict <code>a</code> as you receive it from all pages, then do <code>df = pd.DataFrame(a)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1469659400, "creation_date": 1469659400, "answer_id": 38624388, "question_id": 38624151, "link": "https://stackoverflow.com/questions/38624151/converting-list-dicts-to-dataframe-pandas/38624388#38624388", "title": "Converting list Dict&#39;s to DataFrame: Pandas", "body": "<p>What about simply merging the dictionaries in each step?</p>\n\n<pre><code>import pandas as pd\n\ndef merge_dicts(trg, src):\n    for k, v in src.items():\n        trg[k].extend(v)\n\na = {'b':[100, 200],'c':[300, 400]}\nb = {'b':[300, 400, 500],'c':[500, 600, 700]}\n\nmerge_dicts(a, b)\n\nprint(a)\n\n# {'c': [300, 400, 500, 600, 700], 'b': [100, 200, 300, 400, 500]}\n\nprint(pd.DataFrame(a))\n\n#     b    c\n# 0  100  300\n# 1  200  400\n# 2  300  500\n# 3  400  600\n# 4  500  700\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "is_accepted": false, "score": 1, "last_activity_date": 1469661749, "creation_date": 1469661749, "answer_id": 38624739, "question_id": 38624151, "link": "https://stackoverflow.com/questions/38624151/converting-list-dicts-to-dataframe-pandas/38624739#38624739", "title": "Converting list Dict&#39;s to DataFrame: Pandas", "body": "<p>Try this change the keys for clarity:</p>\n\n<pre><code>a = {'e':[100, 200],'f':[300, 400]}\nb = {'e':[300, 400, 500],'f':[500, 600, 700]}\nc = {'e':[300, 400, 500],'f':[500, 600, 700]}\n\nlistDicts = [a,b,c]\ndd= {}\n\nfor x in listDicts:\n    for k in listDicts[0].keys():\n        try:    dd[k] = dd[k] + x[k]\n        except: dd[k] = x[k]\n\ndf = pd.DataFrame(dd)\n\n     e    f\n0  100  300\n1  200  400\n2  300  500\n3  400  600\n4  500  700\n5  100  300\n6  200  400\n7  300  500\n8  400  600\n9  500  700\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1492770496, "post_id": 38625256, "comment_id": 74132368, "body": "You can not time my approach like this. My function modifies the given dictionary, thus you are creating very long lists using timeit... Another thing is the performance for integer-lists (and dicts) significantly longer than 2-3 elements."}], "tags": [], "owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "is_accepted": true, "score": 1, "last_activity_date": 1469670846, "last_edit_date": 1469670846, "creation_date": 1469665582, "answer_id": 38625256, "question_id": 38624151, "link": "https://stackoverflow.com/questions/38624151/converting-list-dicts-to-dataframe-pandas/38625256#38625256", "title": "Converting list Dict&#39;s to DataFrame: Pandas", "body": "<p>Comprehensions FTW (maybe not the fastest, but can you get any more pythonic?):</p>\n\n<pre><code>import pandas as pd\n\nlist_of_dicts = [{'b': [100, 200], 'c': [300, 400]},\n                 {'b': [300, 400, 500], 'c': [500, 600, 700]}]\n\ndef extract(key):\n    return [item for x in list_of_dicts for item in x[key]]\n\ndf = pd.DataFrame({k: extract(k) for k in ['b', 'c']})\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I stand corrected. It is just as fast as some of the other approaches.</p>\n\n<pre><code>import pandas as pd\nimport toolz\n\nlist_of_dicts = [{'b': [100, 200], 'c': [300, 400]},\n                 {'b': [300, 400, 500], 'c': [500, 600, 700]}]\n\ndef extract(key):\n    return [item for x in list_of_dicts for item in x[key]]\n\ndef merge_dicts(trg, src):\n    for k, v in src.items():\n        trg[k].extend(v)\n\ndef approach_AlbertoGarciaRaboso():\n    df = pd.DataFrame({k: extract(k) for k in ['b', 'c']})\n\ndef approach_root():\n    df = pd.DataFrame(toolz.merge_with(lambda x: list(toolz.concat(x)), list_of_dicts))\n\ndef approach_Merlin():\n    dd = {}\n    for x in list_of_dicts:\n        for k in list_of_dicts[0].keys():\n            try:    dd[k] = dd[k] + x[k]\n            except: dd[k] = x[k]\n    df = pd.DataFrame(dd)\n\ndef approach_MichaelHoff():\n    merge_dicts(list_of_dicts[0], list_of_dicts[1])\n    df = pd.DataFrame(list_of_dicts[0])\n\n\n%timeit approach_AlbertoGarciaRaboso()  # 1000 loops, best of 3: 501 \u00b5s per loop\n%timeit approach_root()                 # 1000 loops, best of 3: 503 \u00b5s per loop\n%timeit approach_Merlin()               # 1000 loops, best of 3: 516 \u00b5s per loop\n%timeit approach_MichaelHoff()          # 100 loops, best of 3: 2.62 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 741, "user_id": 5066768, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-YoBUVJzZy6I/AAAAAAAAAAI/AAAAAAAAC6Y/7HFIlfzMvMc/photo.jpg?sz=128", "display_name": "Ryan Erwin", "link": "https://stackoverflow.com/users/5066768/ryan-erwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 38625256, "answer_count": 3, "score": 2, "last_activity_date": 1469670846, "creation_date": 1469658085, "last_edit_date": 1469658467, "question_id": 38624151, "link": "https://stackoverflow.com/questions/38624151/converting-list-dicts-to-dataframe-pandas", "title": "Converting list Dict&#39;s to DataFrame: Pandas", "body": "<p>I'm doing some web-scraping and I'm storing the variables of interest in form of:</p>\n\n<pre><code>a = {'b':[100, 200],'c':[300, 400]}\n</code></pre>\n\n<p>This is for one page, where there were two <code>b</code>'s and two <code>c</code>'s. The next page could have three of each, where I'd store them as:</p>\n\n<pre><code>b = {'b':[300, 400, 500],'c':[500, 600, 700]}\n</code></pre>\n\n<p>When I go to create a <code>DataFrame</code> from the list of <code>dict</code>'s, I get:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame([a, b])\n\ndf\n                 b                c\n0       [100, 200]       [300, 400]\n1  [300, 400, 500]  [500, 600, 700]\n</code></pre>\n\n<p>What I'm expecting is:</p>\n\n<pre><code>df\n     b    c\n0  100  300\n1  200  400\n2  300  500\n3  400  600\n4  500  700\n</code></pre>\n\n<p>I could create a <code>DataFrame</code> each time I store a page and <code>concat</code> the list of <code>DataFrame</code>'s at the end. However, based on experience, this is very expensive because the construction of thousands of <code>DataFrame</code>'s is much more expensive than creating one <code>DataFrame</code> from a lower-level constructor (i.e., list of <code>dict</code>'s).</p>\n"}, {"tags": ["python", "python-cryptography"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469658707, "post_id": 38624132, "comment_id": 64634095, "body": "FWIW using  zipapp to create the pyz works for me, <a href=\"https://docs.python.org/3/library/zipapp.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/zipapp.html</a>"}, {"owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469660023, "post_id": 38624132, "comment_id": 64634529, "body": "This is fine, but my application needs to work with Python2 for at least another year :-( Which means I can&#39;t really on packaging with Python3.5."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469660172, "post_id": 38624132, "comment_id": 64634564, "body": "The source code is there so it is only a matter of replicating the logic, <a href=\"https://hg.python.org/cpython/file/3.5/Lib/zipapp.py\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/3.5/Lib/zipapp.py</a> <code>pip2 install pathlib</code> and you are good to go"}, {"owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469689492, "post_id": 38624132, "comment_id": 64642690, "body": "See my update. This is something which does not have to do with my bash script"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469692876, "post_id": 38624132, "comment_id": 64644868, "body": "I have used your bash script and <a href=\"https://hg.python.org/cpython/file/3.5/Lib/zipapp.py\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/3.5/Lib/zipapp.py</a> under python2 and 3, your bash approach always gives the same error but the zipapp logic works fine under both 2 and 3. The only thing to run the script under python2 was install pathlib"}, {"owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469697254, "post_id": 38624132, "comment_id": 64647582, "body": "Would you be kind and write the exact steps you are taking? I have 0 success so far."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469714919, "post_id": 38624132, "comment_id": 64660712, "body": "I will add the code to pastebin when I get back on my comp"}], "owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469697463, "creation_date": 1469657970, "last_edit_date": 1469697463, "question_id": 38624132, "link": "https://stackoverflow.com/questions/38624132/using-c-based-python-modules-in-zipped-python-directories", "title": "Using C based Python modules in zipped Python directories", "body": "<p>I recently learned about Python's ability to run a zipped directory and I set out to try it. \nThis works quite well for small pure Python programs I tested. However, once I moved to much larger applications using C based libraries things become though. I have an application which uses Cryptography, and I can't get this to work. \nHere is how to produces the error I am seeing:</p>\n\n<p>This is the <code>__main__</code> file:</p>\n\n<pre><code># cat __main__.py \nimport os\nfrom cryptography.hazmat.primitives.ciphers import Cipher, algorithms, modes\nfrom cryptography.hazmat.backends import default_backend\nbackend = default_backend()\nkey = os.urandom(32)\niv = os.urandom(16)\ncipher = Cipher(algorithms.AES(key), modes.CBC(iv), backend=backend)\nencryptor = cipher.encryptor()\nct = encryptor.update(b\"a secret message\") + encryptor.finalize()\ndecryptor = cipher.decryptor()\nprint(decryptor.update(ct) + decryptor.finalize())\n</code></pre>\n\n<p>And this is how to create the zipped file:</p>\n\n<pre><code>#!/bin/bash\nset -e\nrm -R build/\nmkdir build\ncp __main__.py build/\npip2 install -v -U --no-cache-dir --target=build/ cryptography\ncd build/\nzip -r ../test.pyz .\n</code></pre>\n\n<p>Now I got a file <code>test.pyz</code> which I am trying to run and I get the following error:</p>\n\n<pre><code>$ python2 test.pyz\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib64/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"test.pyz/__main__.py\", line 4, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/hazmat/backends/__init__.py\", line 35, in default_backend\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/hazmat/backends/__init__.py\", line 22, in _available_backends\n  File \"/tmp/pip-build-3JjP5c/setuptools/pkg_resources/__init__.py\", line 2235, in resolve\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/hazmat/backends/openssl/__init__.py\", line 7, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/hazmat/backends/openssl/backend.py\", line 15, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/x509/__init__.py\", line 7, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/x509/base.py\", line 15, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/x509/extensions.py\", line 19, in &lt;module&gt;\n  File \"/tmp/tmpZjvIXl/lib/python/cryptography/hazmat/primitives/constant_time.py\", line 9, in &lt;module&gt;\nImportError: No module named _constant_time\n</code></pre>\n\n<p>Does anyone have an idea how to work with C based modules in zip files?</p>\n\n<h3>Update</h3>\n\n<p>As suggested, I tried packaging the application with zipapp and run it with \nPython3, but I'm still seeing that same error.</p>\n\n<h3>Update 2</h3>\n\n<p>Here is again a complete log of my failure:</p>\n\n<pre><code>$ pip3.5 install -v -U --no-cache-dir --target=build/ pycryptodome\n$ cat build/__main__.py \n\nfrom Crypto.Cipher import AES\n\ndef main():\n    print(bla)\n\n$ python3.5 -m zipapp build\n$ python3.5 build.pyz \nTraceback (most recent call last):\n  File \"/usr/lib64/python3.5/runpy.py\", line 170, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/usr/lib64/python3.5/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"build.pyz/__main__.py\", line 2, in &lt;module&gt;\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 664, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 634, in _load_backward_compatible\n  File \"build.pyz/Crypto/Cipher/__init__.py\", line 78, in &lt;module&gt;\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n\nbal = AES\n\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 664, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 634, in _load_backward_compatible\n  File \"build.pyz/Crypto/Cipher/_mode_ecb.py\", line 46, in &lt;module&gt;\n  File \"build.pyz/Crypto/Util/_raw_api.py\", line 168, in load_pycryptodome_raw_lib\nOSError: Cannot load native module 'Crypto.Cipher._raw_ecb'\n</code></pre>\n\n<p>No idea how to use C based modules inside zipped directories ...</p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1469657936, "post_id": 38624091, "comment_id": 64633853, "body": "Python is case sensitive."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 2, "creation_date": 1469658031, "post_id": 38624091, "comment_id": 64633887, "body": "<code>While</code>, <code>If</code>, and <code>Print</code> are not the same as <code>while</code>, <code>if</code>, and <code>print</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1469658339, "post_id": 38624091, "comment_id": 64633977, "body": "Incidentally, why are you on a Python 3.6 alpha build? That&#39;s not a stable release; Python 3.5.2 is the latest stable release."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6646989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2b5e674e3afb65fea84b2669a3f17?s=128&d=identicon&r=PG&f=1", "display_name": "Kewl Dude", "link": "https://stackoverflow.com/users/6646989/kewl-dude"}, "edited": false, "score": 0, "creation_date": 1469748892, "post_id": 38624194, "comment_id": 64679196, "body": "Thank you!! Yes! You are right! I messed up with the uppercase &quot;While.&quot; I also realized that indentation makes a huge difference in execution and isn&#39;t just about readability."}], "tags": [], "owner": {"reputation": 1430, "user_id": 6084928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKTrp.jpg?s=128&g=1", "display_name": "Lex Scarisbrick", "link": "https://stackoverflow.com/users/6084928/lex-scarisbrick"}, "is_accepted": false, "score": 2, "last_activity_date": 1469658389, "creation_date": 1469658389, "answer_id": 38624194, "question_id": 38624091, "link": "https://stackoverflow.com/questions/38624091/learning-coding-and-while-true-usage-is-giving-an-error/38624194#38624194", "title": "Learning coding and &quot;While True&quot; usage is giving an error", "body": "<p>Here's a working example:</p>\n\n<pre><code>#Program to practice While and Continue\nwhile True:\n    print('Who are you?')\n    name = input()\n    if name != 'Joe':\n      continue\n    print('Hello Joe! What is the password? (It is a fish)')\n    password = input()\n    if password == 'swordfish':\n      break\nprint('Access granted')\n</code></pre>\n\n<p>You had a bunch of syntax errors:</p>\n\n<ol>\n<li><p>Python is case-sensitive, so <code>if</code>, <code>while</code> and <code>print</code> should all be in lower-case.</p></li>\n<li><p>Conditional statements need to end with a colon <code>:</code></p></li>\n<li><p>Statements <em>inside</em> a conditional block need to be indented.</p></li>\n</ol>\n\n<p>Further reading:</p>\n\n<p><a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">https://www.python.org/dev/peps/pep-0008/</a></p>\n"}], "owner": {"reputation": 7, "user_id": 6646989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2b5e674e3afb65fea84b2669a3f17?s=128&d=identicon&r=PG&f=1", "display_name": "Kewl Dude", "link": "https://stackoverflow.com/users/6646989/kewl-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1469734124, "answer_count": 1, "score": -2, "last_activity_date": 1469658389, "creation_date": 1469657780, "last_edit_date": 1469657966, "question_id": 38624091, "link": "https://stackoverflow.com/questions/38624091/learning-coding-and-while-true-usage-is-giving-an-error", "closed_reason": "Not suitable for this site", "title": "Learning coding and &quot;While True&quot; usage is giving an error", "body": "<p>So, I am trying to learn Python and am using Python 3.6.0a3 on windows 10. As part of my practice I was trying to use the \"while\" loop and the editor says there is an error with my code and the cursor goes to 'While True\"</p>\n\n<p>My code is:</p>\n\n<pre><code>#Program to practice While and Continue\nWhile True:\n    Print('Who are you?')\n    name=input()\n\n    If name!='Joe':\n    continue\n    print('Hello Joe! What is the password? (It is a fish)')\n    password-input()\n    If password=='swordfish'\n    break\nprint('Access granted')\n</code></pre>\n\n<p>I can't execute it! </p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 4930, "user_id": 171236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3b966fda9859d4bcd97c46b6a851210?s=128&d=identicon&r=PG", "display_name": "Doctor J", "link": "https://stackoverflow.com/users/171236/doctor-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1469657686, "creation_date": 1469657686, "answer_id": 38624075, "question_id": 38624029, "link": "https://stackoverflow.com/questions/38624029/assign-to-masked-numpy-array-without-removing-mask/38624075#38624075", "title": "Assign to masked numpy array without removing mask?", "body": "<p>In researching the question, I found an answer:</p>\n\n<pre><code>np.copyto(a, -1, where=a &lt; 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82255, "user_id": 226621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4ecd473d46f300f81636ee7034c358e2?s=128&d=identicon&r=PG", "display_name": "Alok Singhal", "link": "https://stackoverflow.com/users/226621/alok-singhal"}, "is_accepted": true, "score": 3, "last_activity_date": 1469658012, "creation_date": 1469658012, "answer_id": 38624143, "question_id": 38624029, "link": "https://stackoverflow.com/questions/38624029/assign-to-masked-numpy-array-without-removing-mask/38624143#38624143", "title": "Assign to masked numpy array without removing mask?", "body": "<p>I think what you want can be done by:</p>\n\n<pre><code>a.data[a &lt; 2] = -1\n</code></pre>\n"}], "owner": {"reputation": 4930, "user_id": 171236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3b966fda9859d4bcd97c46b6a851210?s=128&d=identicon&r=PG", "display_name": "Doctor J", "link": "https://stackoverflow.com/users/171236/doctor-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 38624143, "answer_count": 2, "score": 4, "last_activity_date": 1469658012, "creation_date": 1469657425, "last_edit_date": 1469657959, "question_id": 38624029, "link": "https://stackoverflow.com/questions/38624029/assign-to-masked-numpy-array-without-removing-mask", "title": "Assign to masked numpy array without removing mask?", "body": "<p>I would like to assign to (a slice of) a masked numpy array but not modify the mask.  (Assignment normally clears the mask (unless it is \"hard\"), which seems completely contrary to the point of masking, but that's what we've got to work with.)  I would also like this routine to work for plain unmasked arrays.</p>\n\n<p>Is there a better way to do this than saving and restoring the mask?</p>\n\n<pre><code>a = np.ma.array([0, 1, 2], mask=[0, 1, 0])\nmask = a.mask.copy() if np.ma.is_masked(a) else None        # Have to copy because it might be shared\na[a &lt; 2] = -1\nif mask is not None:\n    a.mask = mask\nprint(a, a.data)\n# [-1 -- 2] [-1 -1 2]\n</code></pre>\n\n<p>This is Python 2, numpy 1.11.1.</p>\n"}, {"tags": ["python", "integer", "comparison", "tuples"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1469657427, "post_id": 38624020, "comment_id": 64633678, "body": "None of the tests will pass. Type tuple will never be equal to int"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1469657443, "post_id": 38624020, "comment_id": 64633686, "body": "<code>tup[0:5]</code> is a tuple. It&#39;s never going to be equal to an integer."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1469657485, "post_id": 38624020, "comment_id": 64633703, "body": "so you&#39;re trying to do an intersection of the two tuples and count how many values are in common?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1469657534, "post_id": 38624020, "comment_id": 64633721, "body": "You might have better luck using <code>set</code>"}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 4, "last_activity_date": 1469658229, "last_edit_date": 1469658229, "creation_date": 1469657559, "answer_id": 38624054, "question_id": 38624020, "link": "https://stackoverflow.com/questions/38624020/tuple-comparison-with-integers/38624054#38624054", "title": "Tuple Comparison with Integers", "body": "<p>You can do what you intend with a set intersection:</p>\n\n<pre><code>len(set(tup1) &amp; set(tup2))\n</code></pre>\n\n<p>The <em>intersection</em> returns the common items in both tuples:</p>\n\n<pre><code>&gt;&gt;&gt; set(tup1) &amp; set(tup2)\n{2, 5}\n</code></pre>\n\n<p>Calling <code>len</code> on the result of the intersection gives the number of common items in both tuples. </p>\n\n<p>The above will however not give correct results if there are duplicated items in any of the tuples. You will need to do, say a comprehension, to handle this:</p>\n\n<pre><code>sum(1 for i in tup1 if i in tup2) # adds one if item in tup1 is found in tup2\n</code></pre>\n\n<p>You may need to change the order in which the tuples appear depending on which of them has the duplicate. Or if both contain dupes, you could make two runs juxtaposing both tuples and take the max value from both runs.</p>\n"}, {"tags": [], "owner": {"reputation": 425, "user_id": 6278795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526a286f81595fc36a9c195b6110bdb4?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Albert", "link": "https://stackoverflow.com/users/6278795/rafael-albert"}, "is_accepted": false, "score": 1, "last_activity_date": 1469657785, "creation_date": 1469657785, "answer_id": 38624092, "question_id": 38624020, "link": "https://stackoverflow.com/questions/38624020/tuple-comparison-with-integers/38624092#38624092", "title": "Tuple Comparison with Integers", "body": "<p>You are comparing one slice of one tuple (e.g tup1[0:5]) to one element of the other one which happens to be an integer. Therefore, the result of the comparison will always result in \"False\". \nTo check, whether an element of tup2 is situated also in tup1 as well, you may use intersection or the following:</p>\n\n<pre><code>if tup2[n] in tup1:\n   ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 6595796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z23NT.png?s=128&g=1", "display_name": "MrMinehart", "link": "https://stackoverflow.com/users/6595796/mrminehart"}, "edited": false, "score": 0, "creation_date": 1469698658, "post_id": 38624401, "comment_id": 64648658, "body": "Oh I see. Thank you so much!"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1469661352, "last_edit_date": 1469661352, "creation_date": 1469659481, "answer_id": 38624401, "question_id": 38624020, "link": "https://stackoverflow.com/questions/38624020/tuple-comparison-with-integers/38624401#38624401", "title": "Tuple Comparison with Integers", "body": "<p>Your code fails as you are comparing a tuple to an integer, even if you use in as below you would still need to use <code>+=</code> <code>count + 1</code> does not update the count variable: </p>\n\n<pre><code>count = 0\n\nfor ele in tup2:\n    if ele in tup1:\n        count += 1\n</code></pre>\n\n<p>You can do it in linear time and account for duplicate occurrences in tup2 making only tup1  set:</p>\n\n<pre><code>st = set(tup1)\nprint(sum(ele in st for ele in tup2))\n</code></pre>\n\n<p>If you wanted the total sum from both of common elements, you could use a <em>Counter dict</em>:</p>\n\n<pre><code>tup1 = (1, 2, 3, 4, 5, 4, 2)\ntup2 = (2, 7, 9, 8, 2, 5)\nfrom collections import Counter\n\ncn = Counter(tup1)\n\nprint(sum(cn[i] for i in tup2))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6595796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z23NT.png?s=128&g=1", "display_name": "MrMinehart", "link": "https://stackoverflow.com/users/6595796/mrminehart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1441, "favorite_count": 0, "accepted_answer_id": 38624401, "answer_count": 3, "score": 3, "last_activity_date": 1469661352, "creation_date": 1469657379, "question_id": 38624020, "link": "https://stackoverflow.com/questions/38624020/tuple-comparison-with-integers", "title": "Tuple Comparison with Integers", "body": "<p>I am trying to do tuple comparison. I expected 2 as a result, but this bit of code prints out 0. Why?</p>\n\n<pre><code>tup1 = (1, 2, 3, 4, 5)\ntup2 = (2, 7, 9, 8, 5)\ncount = 0\n\nif tup1[0:5] == tup2[0]:\n    count + 1\nelif tup1[0:5] == tup2[1]:\n    count + 1\nelif tup1[0:5] == tup2[2]:\n    count + 1\nelif tup1[0:5] == tup2[3]:\n    count + 1\nelif tup1[0:5] == tup2[4]:\n    count + 1\nprint(count)\n</code></pre>\n"}, {"tags": ["python", "if-statement", "python-3.5"], "answers": [{"comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1469657372, "post_id": 38624009, "comment_id": 64633648, "body": "You can discard those parenthesis"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1469657469, "post_id": 38624009, "comment_id": 64633696, "body": "You could also lowercase the variable and have one comparison"}, {"owner": {"reputation": 25, "user_id": 6334494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b75139aa692fb1c9ae694434a6c9f2?s=128&d=identicon&r=PG", "display_name": "John Anselmo", "link": "https://stackoverflow.com/users/6334494/john-anselmo"}, "edited": false, "score": 1, "creation_date": 1469657473, "post_id": 38624009, "comment_id": 64633697, "body": "Wow... I feel stupid, thanks man, that completely worked :P"}, {"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1469657536, "post_id": 38624009, "comment_id": 64633722, "body": "You&#39;re welcome. Glad we could help."}, {"owner": {"reputation": 25, "user_id": 6334494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b75139aa692fb1c9ae694434a6c9f2?s=128&d=identicon&r=PG", "display_name": "John Anselmo", "link": "https://stackoverflow.com/users/6334494/john-anselmo"}, "edited": false, "score": 0, "creation_date": 1469657653, "post_id": 38624009, "comment_id": 64633759, "body": "@RobertColumbia I would make it the answer but I can only make it the answer in 8 minutes"}], "tags": [], "owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "is_accepted": true, "score": 1, "last_activity_date": 1469657327, "creation_date": 1469657327, "answer_id": 38624009, "question_id": 38623994, "link": "https://stackoverflow.com/questions/38623994/python-ignore-if-else-command/38624009#38624009", "title": "Python Ignore if/else Command?", "body": "<pre><code>if zelphaMain_MenuInput == (\"Credits\") or zelphaMain_MenuInput == (\"credits\"):\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6334494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b75139aa692fb1c9ae694434a6c9f2?s=128&d=identicon&r=PG", "display_name": "John Anselmo", "link": "https://stackoverflow.com/users/6334494/john-anselmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "closed_date": 1469657378, "accepted_answer_id": 38624009, "answer_count": 1, "score": 0, "last_activity_date": 1469657327, "creation_date": 1469657257, "question_id": 38623994, "link": "https://stackoverflow.com/questions/38623994/python-ignore-if-else-command", "closed_reason": "Duplicate", "title": "Python Ignore if/else Command?", "body": "<p>The python if/else command is completely not working.</p>\n\n<pre><code>import time\nimport os\nimport sys\n\ndef zelphaMain():\n    def zelphaMain_Credits():\n        print(\"Coding:\")\n        print(\"John Antonio Anselmo\")\n        print(\"\")\n        print(\"\")\n        print(\"&gt;&gt;Back\")\n        def zelphaMain_CreditsInput_Options():\n            zelphaMain_CreditsInput = input(\"&gt;&gt; \")\n            if zelphaMain_CreditsInput == (\"back\") or (\"Back\"):\n                os.system('cls')\n                zelphaMain()\n            else:\n                print(\"What you have entered is not a valid command\")\n                zelphaMain_CreditsInput_Options()\n        zelphaMain_CreditsInput_Options()\n\n    def zelphaMain_Game():\n        print(\"*\")\n        time.sleep(1)\n        print(\"*\")\n        time.sleep(1)\n        print(\"*\")\n        time.sleep(1)\n        os.system('cls')\n        time.sleep(1)\n        print(\"Zelpha808\")\n        time.sleep(1)\n        print(\"\")\n        print(\"Booting...\")\n        time.sleep(8)\n        os.system('cls')\n    def zelphaMain_Menu():\n        print(\"Main Menu\")\n        print(\"\")\n        print(\"\")\n        print(\"Welcome to Zelpha808\")\n        print(\"\")\n        print(\"\")\n        print(\"&gt;&gt;Start\")\n        print(\"&gt;&gt;Credits\")\n        print(\"\")\n        zelphaMain_MenuInput = input(\"&gt;&gt; \")\n        if zelphaMain_MenuInput == (\"Credits\") or (\"credits\"):\n            zelphaMain_Credits()\n        else:\n            exit()\n\n    zelphaMain_Menu()\n\nzelphaMain()\n</code></pre>\n\n<p>Down to if <code>zelphaMain_MenuInput == (\"Credits\") or (\"credits\"):</code> when I run the program, and get to the main menu of the game, no matter what I input, the program goes on to zelphaMain_Credits(). And in the credits, no matter what I input, it acts as if I inputted \"back\". I have no idea what is happening, if any of you are confused or need clarification, I'd be happy to add more details.</p>\n"}, {"tags": ["python", "django", "jinja2"], "comments": [{"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 1, "creation_date": 1469657416, "post_id": 38623993, "comment_id": 64633672, "body": "Why not always just send a list?"}, {"owner": {"reputation": 63, "user_id": 6591150, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4b3ef9e2703104aad37151433c80da33?s=128&d=identicon&r=PG&f=1", "display_name": "theCed7", "link": "https://stackoverflow.com/users/6591150/theced7"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1469657630, "post_id": 38623993, "comment_id": 64633753, "body": "@IanAuld Because I find using <code>objects.get</code> easier to use in my scenario. It would be possible to always send a list, however I thought Jinja would be capable of checking?"}, {"owner": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "edited": false, "score": 1, "creation_date": 1469657764, "post_id": 38623993, "comment_id": 64633804, "body": "Sending a list would be cleaner.  If you use <code>objects.get</code> just put it into a list by itself before sending to the template."}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1469658155, "post_id": 38623993, "comment_id": 64633922, "body": "You can put one item in a list"}, {"owner": {"reputation": 63, "user_id": 6591150, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4b3ef9e2703104aad37151433c80da33?s=128&d=identicon&r=PG&f=1", "display_name": "theCed7", "link": "https://stackoverflow.com/users/6591150/theced7"}, "reply_to_user": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "edited": false, "score": 0, "creation_date": 1469658202, "post_id": 38623993, "comment_id": 64633933, "body": "@Plasma Well, in my case when dealing with a single object, I&#39;d like to put it in &lt;h3&gt; tags, when dealing with a list, I&#39;d like to use &lt;li&gt;. Jinja says in the docs <code>iterable</code> checks if you can iterate, so it must be possible?"}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1469658392, "post_id": 38623993, "comment_id": 64633990, "body": "Either way, it looks like your syntax is wrong. Should probably be <code>{% if iterable response %}</code> according to a quick glancing over of the docs."}, {"owner": {"reputation": 104, "user_id": 1146187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBq7f.jpg?s=128&g=1", "display_name": "timmins", "link": "https://stackoverflow.com/users/1146187/timmins"}, "edited": false, "score": 4, "creation_date": 1471286680, "post_id": 38623993, "comment_id": 65276607, "body": "It works for me: <code>{% if value is iterable %}</code>  Documentation <a href=\"http://jinja.pocoo.org/docs/dev/templates/#iterable\" rel=\"nofollow noreferrer\">here:</a>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6591150, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4b3ef9e2703104aad37151433c80da33?s=128&d=identicon&r=PG&f=1", "display_name": "theCed7", "link": "https://stackoverflow.com/users/6591150/theced7"}, "edited": false, "score": 0, "creation_date": 1470147436, "post_id": 38624197, "comment_id": 64821918, "body": "Doesn&#39;t work either, sadly: <code>Could not parse the remainder: &#39;(response)&#39; from &#39;iterable(response)&#39;</code>"}, {"owner": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "reply_to_user": {"reputation": 63, "user_id": 6591150, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4b3ef9e2703104aad37151433c80da33?s=128&d=identicon&r=PG&f=1", "display_name": "theCed7", "link": "https://stackoverflow.com/users/6591150/theced7"}, "edited": false, "score": 0, "creation_date": 1470155032, "post_id": 38624197, "comment_id": 64827541, "body": "Without the parens maybe? <code>if iterable response</code>"}], "tags": [], "owner": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "is_accepted": false, "score": 1, "last_activity_date": 1469658398, "creation_date": 1469658398, "answer_id": 38624197, "question_id": 38623993, "link": "https://stackoverflow.com/questions/38623993/jinja-check-if-variable-is-iterable/38624197#38624197", "title": "Jinja: Check if variable is iterable", "body": "<p>Try:</p>\n\n<p><code>{% if iterable(response) %}\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 7091, "user_id": 1836618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/552e7df10bda07699d7771ad835c691c?s=128&d=identicon&r=PG", "display_name": "Peter Featherstone", "link": "https://stackoverflow.com/users/1836618/peter-featherstone"}, "is_accepted": false, "score": 4, "last_activity_date": 1578582225, "creation_date": 1578582225, "answer_id": 59666783, "question_id": 38623993, "link": "https://stackoverflow.com/questions/38623993/jinja-check-if-variable-is-iterable/59666783#59666783", "title": "Jinja: Check if variable is iterable", "body": "<p>The above answer no longer works for me, however the below does:</p>\n\n<p><code>{% if response is iterable %}</code></p>\n\n<p>One caveat with this though is that it would deem a string iterable (which it is) and would then loop over every letter in the string, a more appropriate check might be:</p>\n\n<p><code>{% if response is iterable and response is not string %}</code></p>\n"}], "owner": {"reputation": 63, "user_id": 6591150, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4b3ef9e2703104aad37151433c80da33?s=128&d=identicon&r=PG&f=1", "display_name": "theCed7", "link": "https://stackoverflow.com/users/6591150/theced7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4827, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1578582225, "creation_date": 1469657253, "question_id": 38623993, "link": "https://stackoverflow.com/questions/38623993/jinja-check-if-variable-is-iterable", "title": "Jinja: Check if variable is iterable", "body": "<p>Is there a way in Jinja to check if a variable is iterable? I'm working with Django and depening on whether I use <code>objects.filter</code> or <code>objects.get</code> the <code>response</code> is send to the jinja template is could be iterable or not. </p>\n\n<p>I tried the following:</p>\n\n<pre><code>{% extends 'header.html' %}\n\n{% block content %}\n{% if response is iterable %}\n    {% for i in response %}\n        &lt;p&gt;i&lt;/p&gt;\n    {% endfor %}\n{% else %}\n     {{ response }}\n{% endif %}\n{% endblock %}\n</code></pre>\n\n<p>However, Django throws: <code>Unused 'is' at end of if expression.</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1469657272, "post_id": 38623983, "comment_id": 64633611, "body": "You passed a list when it should be each string in a loop or use <code>&quot;&quot;.join(big_list)</code>"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1469657276, "post_id": 38623983, "comment_id": 64633613, "body": "do <code>for elem in big_list: print re.search(...).group(1)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 0, "last_activity_date": 1469657816, "last_edit_date": 1469657816, "creation_date": 1469657443, "answer_id": 38624035, "question_id": 38623983, "link": "https://stackoverflow.com/questions/38623983/get-substring-between-strings-from-a-python-list/38624035#38624035", "title": "Get substring between strings from a python list", "body": "<p>You need to iterate over the list, checking each string:</p>\n\n<pre><code>big_list = ['something', 'something', ' something top.window.location.href = &amp;quot;/commander/link/jobDetails/jobs/a2537f238-8622-11ee-a1a0-f0921c14c828?autoRefresh=0&amp;amp;s=Jobs&amp;quot;;\"&gt;','something']\n\ndef get_all_subs(lst, pat, grp=0):\n    patt = re.compile(pat)\n    for s in lst:\n        m = patt.search(s, grp)\n        if m:\n            yield m.group(grp)\n\nprint(list(get_all_subs(big_list, '&amp;quot;(.*?)autoRefresh', 1)))\n</code></pre>\n\n<p>Or call <code>str.join</code> on the list and use <em>findall</em>:</p>\n\n<pre><code>print(re.findall('&amp;quot;(.*?)autoRefresh', \"\".join(big_list)))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1469658584, "post_id": 38624165, "comment_id": 64634052, "body": "its a very big list, so let me iterate through and break out of loop after the match. thanks."}, {"owner": {"reputation": 425, "user_id": 6278795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526a286f81595fc36a9c195b6110bdb4?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Albert", "link": "https://stackoverflow.com/users/6278795/rafael-albert"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1469658865, "post_id": 38624165, "comment_id": 64634154, "body": "What do you mean? Didn&#39;t get it."}], "tags": [], "owner": {"reputation": 425, "user_id": 6278795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526a286f81595fc36a9c195b6110bdb4?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Albert", "link": "https://stackoverflow.com/users/6278795/rafael-albert"}, "is_accepted": false, "score": 0, "last_activity_date": 1469658179, "creation_date": 1469658179, "answer_id": 38624165, "question_id": 38623983, "link": "https://stackoverflow.com/questions/38623983/get-substring-between-strings-from-a-python-list/38624165#38624165", "title": "Get substring between strings from a python list", "body": "<p>You may use the following:</p>\n\n<pre><code>re.search(r'(?&lt;=&amp;quot).*?(?=autoRefresh)', ''.join(YourList))\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 38624035, "answer_count": 2, "score": 0, "last_activity_date": 1469658179, "creation_date": 1469657191, "question_id": 38623983, "link": "https://stackoverflow.com/questions/38623983/get-substring-between-strings-from-a-python-list", "title": "Get substring between strings from a python list", "body": "<p>How to get the content between strings <code>&amp;quot</code> and <code>autoRefresh</code> which will be <code>/commander/link/jobDetails/jobs/a2537f238-8622-11ee-a1a0-f0921c14c828?</code> from a list as below, I just need the first match (there could be multiple matches).</p>\n\n<pre><code>['something', 'something', ' something top.window.location.href = &amp;quot;/commander/link/jobDetails/jobs/a2537f238-8622-11ee-a1a0-f0921c14c828?autoRefresh=0&amp;amp;s=Jobs&amp;quot;;\"&gt;','something']\n</code></pre>\n\n<p>Tried </p>\n\n<pre><code>link = re.search('&amp;quot;(.*?)autoRefresh', big_list)\nprint link.group(1)\n</code></pre>\n\n<p>and got <code>TypeError: expected string or buffer</code></p>\n"}, {"tags": ["python", "youtube", "embedding", "youtube-dl", "python-embedding"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "anon"}, "is_accepted": true, "score": 1, "last_activity_date": 1469659631, "creation_date": 1469659631, "answer_id": 38624425, "question_id": 38623977, "link": "https://stackoverflow.com/questions/38623977/youtube-dl-download-videos-with-formatid/38624425#38624425", "title": "youtube-dl download videos with formatid", "body": "<p>If you really want format 22, then indeed, pass in a <code>format</code> key of <code>22</code>. You can use <code>/best</code> to fall back to the best video format if 22 is not available:</p>\n\n<pre><code>ydl_opts = {\n    'format': '22/best',\n    ...\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6646920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22383e6640a6b57c01936ac13fd22ea4?s=128&d=identicon&r=PG&f=1", "display_name": "stackrangerflow", "link": "https://stackoverflow.com/users/6646920/stackrangerflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1486, "favorite_count": 0, "accepted_answer_id": 38624425, "answer_count": 1, "score": 0, "last_activity_date": 1469659631, "creation_date": 1469657150, "last_edit_date": 1592644375, "question_id": 38623977, "link": "https://stackoverflow.com/questions/38623977/youtube-dl-download-videos-with-formatid", "title": "youtube-dl download videos with formatid", "body": "<blockquote>\n<p>------------------------------Format Numbers----------------------------------------------------------------------</p>\n<ul>\n<li>249          webm       audio only DASH audio   52k , opus @ 50k, 629.08KiB</li>\n<li>250          webm       audio only DASH audio   69k , opus @ 70k, 811.98KiB</li>\n<li>171          webm       audio only DASH audio  110k , vorbis@128k, 1.27MiB</li>\n<li>140          m4a        audio only DASH audio  128k , m4a_dash container, mp4a.40.2@128k, 1.56MiB</li>\n<li>251          webm       audio only DASH audio  138k , opus @160k, 1.53MiB</li>\n<li>278          webm       254x144    144p   82k , webm container, vp9, 13fps, video only, 772.69KiB</li>\n<li>242          webm       400x226    240p  101k , vp9, 25fps, video only, 884.56KiB</li>\n<li>160          mp4        254x144    144p  112k , avc1.4d400c, 13fps, video only, 1.31MiB</li>\n<li>133          mp4        400x226    240p  265k , avc1.4d400d, 25fps, video only, 2.92MiB</li>\n<li>17           3gp        176x144    small , mp4v.20.3,  mp4a.40.2@ 24k</li>\n<li>36           3gp        320x180    small , mp4v.20.3,  mp4a.40.2</li>\n<li>18           mp4        400x226    medium , avc1.42001E,  mp4a.40.2@ 96k</li>\n<li>43           webm       640x360    medium , vp8.0,  vorbis@128k (best)</li>\n</ul>\n</blockquote>\n<p>I want use format numbers in a program like this</p>\n<pre><code>import youtube_dl\n\nurl = &quot;https://www.youtube.com/watch?v=BaW_jenozKc&quot;\nydl_opts = {\n    'verbose': True,\n    'format': 'bestaudio/best', #maybe like this 'formatid'= 22\n    'outtmpl': '%(title)s-%(id)s.%(ext)s',\n    'noplaylist': True,\n}\nwith youtube_dl.YoutubeDL(ydl_opts) as ydl:\n    ydl.download([url])\n</code></pre>\n<p>how can i do this</p>\n"}, {"tags": ["python", "excel", "pandas", "beautifulsoup"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469659678, "post_id": 38623948, "comment_id": 64634432, "body": "Your commented out code produces what you wish in my testing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469659916, "post_id": 38623948, "comment_id": 64634496, "body": "It places all my results into cell B1 I want the teams in one column and the lines in another column. Does that make sense? @bernie"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469659973, "post_id": 38623948, "comment_id": 64634513, "body": "It makes sense I&#39;m just saying that in my testing the output is as you wish."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660042, "post_id": 38623948, "comment_id": 64634532, "body": "Hmm thats really weird any idea why that would be, what year excel do you have? @bernie"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660101, "post_id": 38623948, "comment_id": 64634546, "body": "I&#39;m on 2013 now. No idea what is going wrong in your case..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660231, "post_id": 38623948, "comment_id": 64634584, "body": "Odd, well hopefully someone can shed some light on this... My A1 Cell is a 0 and all of the data I want in the columns is in B1. Thanks anyways! @bernie"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660352, "post_id": 38623948, "comment_id": 64634622, "body": "Oh I think I see what&#39;s going on..."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660401, "post_id": 38623948, "comment_id": 64634631, "body": "Can you try your code below beginning with this: <code>data = {&#39;Team&#39;: team, &#39;line&#39;: line}</code>? They are already lists and putting brackets around them makes them lists of lists."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660598, "post_id": 38623948, "comment_id": 64634669, "body": "I&#39;ll check shortly I&#39;m at work haha, that sounds like it should work though! I&#39;ll keep you posted! @bernie"}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469660741, "post_id": 38623948, "comment_id": 64634718, "body": "Alright. Good luck."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469661861, "post_id": 38623948, "comment_id": 64634941, "body": "YEA BABY! Thanks @bernie much appreciated."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1469662010, "post_id": 38623948, "comment_id": 64634987, "body": "You&#39;re very welcome. I will post an answer."}], "answers": [{"tags": [], "owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "is_accepted": true, "score": 1, "last_activity_date": 1469662062, "creation_date": 1469662062, "answer_id": 38624783, "question_id": 38623948, "link": "https://stackoverflow.com/questions/38623948/python-formatting-data-into-excel-spreadsheet-using-pandas/38624783#38624783", "title": "Python - Formatting Data into Excel Spreadsheet Using pandas", "body": "<p>Here you should not do this because you're making lists of lists:</p>\n\n<pre><code>data = {'Team':[team], 'line' : [line]}\n# ...\n</code></pre>\n\n<p>Instead do:</p>\n\n<pre><code>data = {'Team': team, 'line': line}\n# ...\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6646201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 38624783, "answer_count": 1, "score": 1, "last_activity_date": 1469662062, "creation_date": 1469657002, "last_edit_date": 1469659934, "question_id": 38623948, "link": "https://stackoverflow.com/questions/38623948/python-formatting-data-into-excel-spreadsheet-using-pandas", "title": "Python - Formatting Data into Excel Spreadsheet Using pandas", "body": "<p>I want two columns of data the team name and the line. However all my input is just placed into cell B1. (Note that was with the commented out code at the bottom of my snippet). I think I need to iterate through my lists with for loops to get all the teams down the A column, and lines down the B column, but just can't wrap my head around it while doing it with pandas. Any help would be greatly appreciated!</p>\n\n<p>Thanks</p>\n\n<pre><code>team = []\nline = []\n# Each row in table find all rows with class name team\nfor tr in table.find_all(\"tr\", class_=\"team\"):\n    # Place all text with identifier 'name' in list named team\n    for td in tr.find_all(\"td\", [\"name\"]):\n        team.append(td.text.strip())\n\n\nfor tr in table.find_all(\"tr\", class_=\"team\"):\n\n    for td in tr.find_all(\"td\", [\"currentline\"]):\n        line.append(td.text.strip())\n # Amount of data in lists  \n x = len(team)\n\n# Team name is list team, Line in list line. Create relationship between both data sets\n# Creating Excel Document and Placing Team Name in column A, Placing Line in Column B\n\n#Need to add data into Excel somehow\nfor i in range(0,1):\n\n    for j to line:\n\n\n\n\n\"\"\" data = {'Team':[team], 'line' : [line]}\n\ntable = pd.DataFrame(data)\n\nwriter = pd.ExcelWriter('Scrape.xlsx')\ntable.to_excel(writer, 'Scrape 1')\n\nwriter.save()\"\"\"\n</code></pre>\n"}, {"tags": ["python", "sqlite", "twitter"], "comments": [{"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "edited": false, "score": 0, "creation_date": 1469657492, "post_id": 38623945, "comment_id": 64633705, "body": "Please post your code and tell us what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 2528, "user_id": 2844464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9f29e9facc25e69a329d36185d1f44?s=128&d=identicon&r=PG", "display_name": "Alex Santos", "link": "https://stackoverflow.com/users/2844464/alex-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1469657150, "creation_date": 1469657150, "answer_id": 38623975, "question_id": 38623945, "link": "https://stackoverflow.com/questions/38623945/how-to-auto-tweet-from-sqlite/38623975#38623975", "title": "How to auto tweet from sqlite?", "body": "<p>I'm not sure if you can do it directly in sqlite (even if you could, sounds like it would be a very bad decision to shift so much logic into a database unless extremely necessary)</p>\n\n<p>You can create tweets from Python though:</p>\n\n<p><a href=\"https://pypi.python.org/pypi/twitter\" rel=\"nofollow\">https://pypi.python.org/pypi/twitter</a> </p>\n"}], "owner": {"reputation": 1, "user_id": 6646970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73dde4d43aafc88ea1a2c06c59aa0235?s=128&d=identicon&r=PG&f=1", "display_name": "MK_1990", "link": "https://stackoverflow.com/users/6646970/mk-1990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469657150, "creation_date": 1469656998, "question_id": 38623945, "link": "https://stackoverflow.com/questions/38623945/how-to-auto-tweet-from-sqlite", "title": "How to auto tweet from sqlite?", "body": "<p>I have a db.sqlite file that is updated live. If a certain value is saved within DB I would like to create a tweet based around this value. Any recommendations on the best way to do this please. </p>\n"}, {"tags": ["python", "json", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1469657051, "post_id": 38623942, "comment_id": 64633541, "body": "Python has <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">a <code>json</code> module</a> in the standard library. Have you tried it?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 3, "creation_date": 1469657139, "post_id": 38623942, "comment_id": 64633567, "body": "That does not look like json, what are <code>ISODate</code> and <code>Timestamp</code>?"}, {"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1469657325, "post_id": 38623942, "comment_id": 64633632, "body": "Where is the  data from? Looks like BSON."}, {"owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "edited": false, "score": 0, "creation_date": 1469661011, "post_id": 38623942, "comment_id": 64634761, "body": "Yes, looks like a document from MongoDB"}], "owner": {"reputation": 11, "user_id": 6646957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef80e2aae2e3a1ecf919db4c766bf728?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/6646957/manoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469690898, "creation_date": 1469656978, "last_edit_date": 1469657024, "question_id": 38623942, "link": "https://stackoverflow.com/questions/38623942/parse-json-output-in-python", "title": "Parse json output in Python", "body": "<pre><code>{\n        \"set\" : \"rs01\",\n        \"date\" : ISODate(\"2016-07-27T21:05:04Z\"),\n        \"myState\" : 1,\n        \"members\" : [\n                {\n                        \"_id\" : 0,\n                        \"name\" : \"myserver1:27017\",\n                        \"health\" : 1,\n                        \"state\" : 1,\n                        \"stateStr\" : \"PRIMARY\",\n                        \"uptime\" : 608144,\n                        \"optime\" : Timestamp(1469650746, 1),\n                        \"optimeDate\" : ISODate(\"2016-07-27T20:19:06Z\"),\n                        \"electionTime\" : Timestamp(1469653499, 1),\n                        \"electionDate\" : ISODate(\"2016-07-27T21:04:59Z\"),\n                        \"self\" : true\n                },\n                {\n                        \"_id\" : 1,\n                        \"name\" : \"myserver3.uu.server.com:27017\",\n                        \"health\" : 1,\n                        \"state\" : 2,\n                        \"stateStr\" : \"SECONDARY\",\n                        \"uptime\" : 11,\n                        \"optime\" : Timestamp(1469650746, 1),\n                        \"optimeDate\" : ISODate(\"2016-07-27T20:19:06Z\"),\n                        \"lastHeartbeat\" : ISODate(\"2016-07-27T21:05:03Z\"),\n                        \"lastHeartbeatRecv\" : ISODate(\"2016-07-27T21:05:03Z\"),\n                        \"pingMs\" : 0,\n                        \"lastHeartbeatMessage\" : \"syncing to: myserver1:27017\",\n                        \"syncingTo\" : \"myserver1:27017\"\n                },\n                {\n                        \"_id\" : 2,\n                        \"name\" : \"myserver2.uu.server.com:27017\",\n                        \"health\" : 0,\n                        \"state\" : 8,\n                        \"stateStr\" : \"(not reachable/healthy)\",\n                        \"uptime\" : 0,\n                        \"lastHeartbeat\" : ISODate(\"2016-07-27T21:05:03Z\"),\n                        \"lastHeartbeatRecv\" : ISODate(\"2016-07-27T21:03:13Z\"),\n                        \"pingMs\" : 0\n                }\n        ],\n        \"ok\" : 1\n}\n</code></pre>\n\n<p>Question:</p>\n\n<p>1) How can I parse this json output in python?</p>\n\n<p>2) I would like to extract \"health\" : 1 and \"state\" : 1, from the output.</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "x11", "x11-forwarding"], "comments": [{"owner": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "edited": false, "score": 0, "creation_date": 1469657662, "post_id": 38623934, "comment_id": 64633763, "body": "To test if your x11 forwarding is really working you can save your figure with <code>plt.savefig(&quot;out.png&quot;)</code> and then open it for viewing with <code>eog out.png</code> if you have &quot;eye of gnome&quot; on the remote machine"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 3, "creation_date": 1469659619, "post_id": 38623934, "comment_id": 64634408, "body": "You have asked mpl to use the <code>&#39;Agg&#39;</code> backend which does not include a GUI.  If you want to use interactive windows you will need to use one of the GUI connected backends (ex <code>&#39;Qt4Agg&#39;</code> or <code>&#39;tkagg&#39;</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6136427, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b1589ae880c30e865cf9289aad1cc11?s=128&d=identicon&r=PG&f=1", "display_name": "HenrikWolf", "link": "https://stackoverflow.com/users/6136427/henrikwolf"}, "is_accepted": true, "score": 0, "last_activity_date": 1469705681, "creation_date": 1469705681, "answer_id": 38635174, "question_id": 38623934, "link": "https://stackoverflow.com/questions/38623934/python-2-7-12-matplotlib-x11-forwarding-not-showing-or-throwing-multiple-errors/38635174#38635174", "title": "Python 2.7.12 Matplotlib x11 forwarding not showing or throwing multiple errors", "body": "<p>I got it figured out: </p>\n\n<p>at first it is like \"tcaswell\" said, you can\u00b4t use the <code>'Agg'</code> backend with interactive windows. This error gets fixed by just deleting the first two lines of code.\nThe second problem is, that by the <code>plt.figure(1)</code> comand a new figure 1 is created but in the <code>plt.show()</code> comand there is no figure specified that should show up. So this error can be solved by either deleting the line that says <code>plt.figure(1)</code> or by putting the number of the figure to plot in the brackets behind the <code>plt.show()</code> comand: <code>plt.show(1)</code>. By this way it is possible to create multiple figures in one file and being able to switch between them.</p>\n"}], "owner": {"reputation": 21, "user_id": 6136427, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b1589ae880c30e865cf9289aad1cc11?s=128&d=identicon&r=PG&f=1", "display_name": "HenrikWolf", "link": "https://stackoverflow.com/users/6136427/henrikwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 38635174, "answer_count": 1, "score": 0, "last_activity_date": 1469705681, "creation_date": 1469656922, "question_id": 38623934, "link": "https://stackoverflow.com/questions/38623934/python-2-7-12-matplotlib-x11-forwarding-not-showing-or-throwing-multiple-errors", "title": "Python 2.7.12 Matplotlib x11 forwarding not showing or throwing multiple errors", "body": "<p>I am logging in to a remote linux machine from windows 7 via putty. In the settings I enabled the X11 forwarding option, and added the -X flag when loging in to the ssh server. On this server I run the following python code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib\nmatplotlib.use('Agg')\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pyfits\na = raw_input(\"path: \") #filepath on the server, conected with filename\nfile = pyfits.open (a +'/file.fits', memap = 'True')\ndata = file[0].data\nprint data.shape #shape gets printed correctly\n\nplt.figure(1)\nplt.imshow(data[0,:,:], cmap = 'gray')\nprint 3\nplt.show()\nprint 4\n</code></pre>\n\n<p>I get all the print values, with the output looking like this:</p>\n\n<pre><code>(300, 512, 512)\n3\n4\n</code></pre>\n\n<p>there is no error raised nor a x11 window opend. The comadoline goes back as if the program was at the end. Is there any possibility to get the <code>plt.show()</code> comand to actually show on the remote controlling windows machine?</p>\n"}, {"tags": ["python", "dictionary", "comparison"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 1, "creation_date": 1469657200, "post_id": 38623921, "comment_id": 64633586, "body": "I think you want <code>for option in edu_options[edu_level]:</code> in your third line. As an aside, it might help to invert your dictionary for faster lookups"}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1469657276, "post_id": 38623921, "comment_id": 64633612, "body": "that&#39;s what I originally had it as and it still produced the same problem"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1469657665, "post_id": 38623921, "comment_id": 64633765, "body": "<code>This problem didn&#39;t occur for input strs such as &#39;bs biology&#39; or &#39;bs business&#39;.</code> because the <code>e</code> in <code>Completed College</code> is in <code>bs business</code> and the <code>l</code> in <code>Grad School</code> is in <code>bs biology</code>. I&#39;d recommend that you post the input, as well as the expected output for that input, so that we can better understand your issue. Also, please show us how you compute <code>cleaned_string</code>"}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1469658928, "post_id": 38623921, "comment_id": 64634182, "body": "I added all the &#39;nondetected&#39; keys as well as the clean_edu() and the edu_dict"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1469662180, "post_id": 38624765, "comment_id": 64635027, "body": "an example of the desired output from edu_dict: input: &#39;B-Arch&#39; would be edited by clean_edu() to become &#39;barch&#39; which would then be compared to the lists in edu_options and return the key if the list contains the str(ex: &#39;Completed College&#39;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1469689471, "post_id": 38624765, "comment_id": 64642673, "body": "So, my loop should work isn&#39;t it? Though I didn&#39;t understand if/elif statements at the end of your code... Anyway, the &#39;l&#39; value comes from your second loop <code>for option in edu_level:</code> in that way <code>option</code> becomes each character of the keys in dict."}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1469744818, "post_id": 38624765, "comment_id": 64678073, "body": "your approach does produce some matches but less than my current code. The if elif statements provide a way to break once the correct value has been matched instead of iterating through all parts of the list. Since the data set is going to be very large, this is important"}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1469744947, "post_id": 38624765, "comment_id": 64678117, "body": "I&#39;m able to match almost all the items in the edu_dict but it doesn&#39;t catch the value &#39;bs&#39;. When I check what the value &#39;bs&#39; is being compared to, it comes up as &#39;l&#39; in all cases"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1469776658, "post_id": 38624765, "comment_id": 64687121, "body": "But when I run your code, it iterates over the keys strings of edu_options dict, not over the lists. Is this what you want? Sorry, I didn&#39;t understand yet. However a simple <code>return key</code> should be enough to stop the iteration."}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470082361, "post_id": 38624765, "comment_id": 64792204, "body": "in my code, having iterations through each value of the list in edu_options allows a more accurate comparison of the value to cleaned_str. At least that is what I think based on results from your code suggestion vs mine"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470084805, "post_id": 38624765, "comment_id": 64793397, "body": "I edited my answer in order to show where I think the mistake is. I guess that you are not having iterations through each value of the lists."}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470085495, "post_id": 38624765, "comment_id": 64793700, "body": "your exactly right, i changed the code to include &quot;for option in edu_options[edu_level] to get the whole str value. But now it is comparing false options to the cleaned_string. As you can see from the edited outputs on the OP"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470085976, "post_id": 38624765, "comment_id": 64793968, "body": "Instead of <code>if option in cleaned_string</code> try <code>if option == cleaned_string</code>. You should get the same output of my code, I guess..."}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470087106, "post_id": 38624765, "comment_id": 64794454, "body": "that works but eliminates matches that occur from partial match. Ex: &#39;masters&#39;(option) in  &#39;mastersinengineer&#39;(cleaned_string). I don&#39;t want to have to enter in every possible value for future big data sets"}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470087609, "post_id": 38624765, "comment_id": 64794640, "body": "So I realized that I hadn&#39;t entered some of the strs into edu_options such as &#39;2006&#39; and &#39;airframe&#39;. The one output error left is &#39;business&#39; being compared to &#39;nursing&#39;. I definitely have business in the edu_options. Thanks a lot for your help Marco, it has helped me work through these problems"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470088693, "post_id": 38624765, "comment_id": 64795093, "body": "You are welcome! Well I think is not a good idea rely on partial match, especially in big data sets, with a small option such as &#39;be&#39;, your condition could become true so easily, even when it shouldn&#39;t."}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470089660, "post_id": 38624765, "comment_id": 64795451, "body": "but then how to create a match in edu_options without accounting for every possible string?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "reply_to_user": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "edited": false, "score": 0, "creation_date": 1470126697, "post_id": 38624765, "comment_id": 64807354, "body": "Well, only in the worst case you need to check every single string. Are you worried about the efficiency? I think that the most efficient (and safe) way to match a str in a list of str is simply <code>if str in list</code>, neat and clean! Now that I think, if the values in the lists are unique and you don&#39;t need indices, you could use sets instead of lists (they are more efficient)."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6550919"}, "is_accepted": true, "score": 1, "last_activity_date": 1470084531, "last_edit_date": 1470084531, "creation_date": 1469661939, "answer_id": 38624765, "question_id": 38623921, "link": "https://stackoverflow.com/questions/38623921/string-compared-to-list-in-a-dict/38624765#38624765", "title": "string compared to list in a dict", "body": "<p>I'm not sure if I understand what you should return when you find a match in a list, maybe the key of that list?</p>\n\n<p>In that case, this should work:</p>\n\n<pre><code>&gt;&gt;&gt; edu_options = {'Completed College' : [ 'bachelor', 'ba', 'be', 'bs'], 'Grad Shool': ['phd', 'doctor']}\n&gt;&gt;&gt; cleaned_string = 'phd'\n&gt;&gt;&gt; for key, value in edu_options.items():\n...     if cleaned_string in value:         # value is the list\n...         print key                       # inside a function, use return\n...\n&gt;&gt;&gt; Grad Shool\n</code></pre>\n\n<p>Edit: I think the mistake is in your second loop, look what happens:</p>\n\n<pre><code>&gt;&gt;&gt; edu_options = {'Completed College' : [ 'bachelor', 'ba', 'be', 'bs'], 'Grad Shool': ['phd', 'doctor']}\n&gt;&gt;&gt; for edu_level in edu_options: \n...     for option in edu_level:   # Right here\n...         print option\n... \nC\no\nm\np\nl\ne\nt\ne\nd\n\nC\no\nl\nl\ne\ng\ne\nG\nr\na\nd\n\nS\nh\no\no\nl\n&gt;&gt;&gt;\n</code></pre>\n\n<p>From there 'l' comes out.</p>\n"}], "owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 38624765, "answer_count": 1, "score": 0, "last_activity_date": 1470087503, "creation_date": 1469656845, "last_edit_date": 1470087503, "question_id": 38623921, "link": "https://stackoverflow.com/questions/38623921/string-compared-to-list-in-a-dict", "title": "string compared to list in a dict", "body": "<p>I will be entering a large data set of strs to compare to a dict with lists. For example, the str 'phd' will be compared against strs from this dict</p>\n\n<pre><code>   edu_options = {'Completed College' : [ 'bachelor', 'ba', 'be', 'bs'....],\n                  'Grad School' : ['phd','doctor'...] }\n</code></pre>\n\n<p>input str comes from edu_dict</p>\n\n<pre><code>edu_dict = {\n        \"A.S\":\"Attended Vocational/Technical\",\n        \"AS\":\"Attended Vocational/Technical\",\n        \"AS,\":\"Attended Vocational/Technical\",\n        \"ASS,\":\"Attended Vocational/Technical\",\n        \"Associate\":\"Attended Vocational/Technical\",\n        \"Associate of Arts (A.A.),\":\"Attended Vocational/Technical\",\n        \"Associate of Arts and Sciences (AAS)\":\"Attended Vocational/Technical\",\n        \"B-Arch\":\"Completed College\",\n        \"B-Tech\":\"Attended Vocational/Technical\",\n        \"B.A. B.S\":\"Completed College\",\n        \"B.A.,\":\"Completed College\",\n        \"B.Arch,\":\"Completed College\",\n        \"B.S\":\"Completed College\",\n        \"B.S.\":\"Completed College\",\n        \"B.S. in Management\":\"Completed College\",\n        \"B.S.,\":\"Completed College\",\n        \"BA\":\"Completed College\",... \n    *The list is 169 items similar to this*\n    }\n</code></pre>\n\n<p>clean_edu() takes the key from edu_dict, removes the punctuation, spaces...etc. For example 'P.H.D.' becomes 'phd'. If 'phd' matches a str from any of these lists, it should return the correct key, in this case 'Completed Graduate'. For most of the inputs I have put in, the correct value has been returned.</p>\n\n<pre><code>def clean_edu(edu_entry):\n\n    lower_case_key = edu_entry.lower() # changing the key to lower case\n\n    chars_in = \"-.,')(\"           #setting the chars to be translated\n    chars_out = \"      \" \n    char_change = \"\".maketrans(chars_in, chars_out)        # replacing punctuation(char_in) with empty space(char_out)   \n\n    clean = lower_case_key.translate(char_change)      #executing char_change \n\n\n    cleaned_string = re.sub(r'\\s\\s{0,}','',clean).strip()\n\n\n    return cleaned_string\n\n\nwhile user == \"\":\n    for edu_level in edu_options: \n        for option in edu_options[edu_level]:\n            if option in cleaned_string: \n                user = edu_level\n                return user \n\n    user = \"No match\"\n</code></pre>\n\n<p>The problem is that 'bs' is correctly triggered for some of the inputs but not for others. When I print the unmatched str and their comparison</p>\n\n<pre><code>print (\"Not Detected. Adding to txt\" + '\\t' + edu_entry + '\\t' + cleaned_string + '\\t' + option) \n\nOutput: \" Not Detected. Adding to txt     business        nursing \n</code></pre>\n\n<p>where bs is the input and l is the comparison str. In edu_options dict there is no value 'l' so I don't understand where this is coming from. This problem didn't occur for input strs such as 'bs biology' or 'bs business'.</p>\n\n<p>Successful run: </p>\n\n<p>input str: 'P.H.D'         output:'Completed Graduate School' </p>\n"}, {"tags": ["python", "numpy", "scikit-learn", "importerror"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1469657265, "post_id": 38623912, "comment_id": 64633609, "body": "You called your file <code>sklearn.py</code>. Stop doing that."}, {"owner": {"reputation": 302, "user_id": 6300467, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/5kwYE.jpg?s=128&g=1", "display_name": "AlphaBetaGamma96", "link": "https://stackoverflow.com/users/6300467/alphabetagamma96"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1469658763, "post_id": 38623912, "comment_id": 64634114, "body": "I changed the name and I get the same error :/"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1469658874, "post_id": 38623912, "comment_id": 64634158, "body": "Delete any <code>sklearn.pyc</code> file that might have been compiled from your file, restart Python, and try again."}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 6300467, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/5kwYE.jpg?s=128&g=1", "display_name": "AlphaBetaGamma96", "link": "https://stackoverflow.com/users/6300467/alphabetagamma96"}, "edited": false, "score": 0, "creation_date": 1469658927, "post_id": 38624095, "comment_id": 64634180, "body": "I&#39;ve changed the name and saved it in another directory the one with all the site-packages. But I get the same error. I&#39;m new to using sklearn and I&#39;ve only starting learning python about a month ago"}, {"owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "reply_to_user": {"reputation": 302, "user_id": 6300467, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/5kwYE.jpg?s=128&g=1", "display_name": "AlphaBetaGamma96", "link": "https://stackoverflow.com/users/6300467/alphabetagamma96"}, "edited": false, "score": 0, "creation_date": 1469659217, "post_id": 38624095, "comment_id": 64634296, "body": "OK. Can you check if there&#39;s any <code>*.pyc</code> file (py2) or <code>__pycache__</code> folder (py3) inside your workspace and delete them all? Also can you write a new <code>.py</code> file, try <code>import sklearn</code> then <code>print(sklearn)</code> and post the result here?"}], "tags": [], "owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "is_accepted": false, "score": 1, "last_activity_date": 1469657788, "creation_date": 1469657788, "answer_id": 38624095, "question_id": 38623912, "link": "https://stackoverflow.com/questions/38623912/importerror-cannot-import-name-tree-for-sklearn/38624095#38624095", "title": "ImportError: cannot import name &#39;tree&#39; for sklearn", "body": "<p>The solution is to rename your \"sklearn.py\" under the \"Machine Learning\" folder to any other name but not \"sklearn.py\".</p>\n\n<p>Why? That's the mechanism of Python modules searching sequence. Try prepend these lines to your \"sklearn.py\":</p>\n\n<pre><code>import sys\nprint(sys.path)\n</code></pre>\n\n<p>You'll find the first element of the output list is always an empty string, which means the current directory has the highest priority on modules searching. Runs <code>from sklearn import tree</code> at \"C:\\Machine Learning\" folder will import the local same name \"sklearn.py\" as \"sklearn\" module, instead of importing the machine learning module globally.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3251285, "user_type": "registered", "profile_image": "https://graph.facebook.com/593417175/picture?type=large", "display_name": "user3251285", "link": "https://stackoverflow.com/users/3251285/user3251285"}, "is_accepted": false, "score": 1, "last_activity_date": 1544633484, "creation_date": 1544633484, "answer_id": 53747750, "question_id": 38623912, "link": "https://stackoverflow.com/questions/38623912/importerror-cannot-import-name-tree-for-sklearn/53747750#53747750", "title": "ImportError: cannot import name &#39;tree&#39; for sklearn", "body": "<p>I had the same issue. Using sublime text 3 as editor and build. Very simple to solve in my case.</p>\n\n<p>My working file was also named 'sklearn.py' so when I was attempting to \"import sklearn\" it was importing its own file found in the current working directory - without error. But when I attempted to 'from sklearn import tree' it failed. </p>\n\n<p>Just changing the name of my working file program to something else solved the problem.</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 302, "user_id": 6300467, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/5kwYE.jpg?s=128&g=1", "display_name": "AlphaBetaGamma96", "link": "https://stackoverflow.com/users/6300467/alphabetagamma96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9059, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1562068259, "creation_date": 1469656811, "question_id": 38623912, "link": "https://stackoverflow.com/questions/38623912/importerror-cannot-import-name-tree-for-sklearn", "title": "ImportError: cannot import name &#39;tree&#39; for sklearn", "body": "<p>I've recently installed Scipy, Numpy and Scikit-learn by using pip, but when I run the program below </p>\n\n<pre><code>from sklearn import tree\n\nfeatures = [[140, 1], [130, 1], [150, 1], [170, 1]] #input\nlabels = [0, 0, 1, 1] #output\n\nclf = tree.DecisionTreeClassifier()  \nclf = clf.fit(features, labels) #fit = find patterns in data\n\nprint (clf.predict([[160, 0]]))\n</code></pre>\n\n<p>The shell prints this error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Machine Learning/sklearn.py\", line 1, in &lt;module&gt;\n    from sklearn import tree\n  File \"C:/Machine Learning\\sklearn.py\", line 1, in &lt;module&gt;\n    from sklearn import tree\nImportError: cannot import name 'tree'\n</code></pre>\n\n<p>Does anyone know how to solve this? I've tried uninstalling and reinstalling it, but I get the same error. Many thanks in advance! </p>\n"}, {"tags": ["python", "numpy", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 1896, "user_id": 2527629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4b4cd6fa0393dd88e042c488d88702bc?s=128&d=identicon&r=PG", "display_name": "ddzzbbwwmm", "link": "https://stackoverflow.com/users/2527629/ddzzbbwwmm"}, "edited": false, "score": 0, "creation_date": 1469703055, "post_id": 38627495, "comment_id": 64651704, "body": "I have to say <code>numpy</code> makes smug things"}], "tags": [], "owner": {"reputation": 82255, "user_id": 226621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4ecd473d46f300f81636ee7034c358e2?s=128&d=identicon&r=PG", "display_name": "Alok Singhal", "link": "https://stackoverflow.com/users/226621/alok-singhal"}, "is_accepted": true, "score": 1, "last_activity_date": 1469682417, "creation_date": 1469682417, "answer_id": 38627495, "question_id": 38623768, "link": "https://stackoverflow.com/questions/38623768/duplicated-outputs-of-np-apply-along-axis-when-a-dict-is-returned/38627495#38627495", "title": "duplicated outputs of np.apply_along_axis when a dict is returned", "body": "<p>It seems like <code>np.apply_along_axis</code> is trying to figure out what the resulting shape should be, based on the result of calling <code>func</code>.  If your input array has shape <code>(n, m)</code> and your <code>func</code> returns something with length <code>k</code>, then <code>np.apply_along_axis(func, -1, a)</code> will return an array of shape <code>(n, k)</code>.  This is true even if your function returns something other than a list or an array.  If your function returns a scalar, the resulting shape will be <code>(n,)</code>.</p>\n\n<p>Examples:</p>\n\n<pre><code># np.diff(a[0]) has length 9.\n&gt;&gt;&gt; np.apply_along_axis(lambda x: np.diff(x), -1, a).shape\n(2, 9)\n# sorted(a[0]) has length 10\n&gt;&gt;&gt; np.apply_along_axis(lambda x: sorted(x), -1, a).shape\n(2, 10)\n# len(a[0]) is a scalar\n&gt;&gt;&gt; np.apply_along_axis(lambda x: len(x), -1, a).shape\n(2,)\n</code></pre>\n\n<p>Now, in your case, since you're returning a <code>dict</code> with length 2, the resulting shape is <code>(2, 2)</code>.  A simple workaround would be to wrap the dictionary in something that's a scalar.  But apparently, numpy doesn't like custom scalars.  So if you try to use a custom <code>DictWrap</code> class like this:</p>\n\n<pre><code>class DictWrap(object):\n    def __init__(self, *args, **kwargs):\n        self._d = dict(*args, **kwargs)\n</code></pre>\n\n<p>...it doesn't work:</p>\n\n<pre><code>&gt;&gt;&gt; np.apply_along_axis(lambda x: DictWrap(k1=1, k2=len(x)), -1, a)\n...\nTypeError: object of type 'DictWrap' has no len()\n</code></pre>\n\n<p>So either we need to add a custom <code>__len__()</code> method to <code>DictWrap</code> which returns 1, or we can wrap the dictionary in a list:</p>\n\n<pre><code>&gt;&gt;&gt; np.apply_along_axis(lambda x: [dict(k1=1, k2=len(x))], -1, a)\narray([[{'k2': 10, 'k1': 1}],\n       [{'k2': 10, 'k1': 1}]], dtype=object)\n</code></pre>\n\n<p>This has a shape <code>(2, 1)</code>.  You can call <code>squeeze()</code> on it to get a 1-d array:</p>\n\n<pre><code>&gt;&gt;&gt; r = np.apply_along_axis(lambda x: [dict(k1=1, k2=len(x))], -1, a)\n&gt;&gt;&gt; r.squeeze()\narray([{'k2': 10, 'k1': 1}, {'k2': 10, 'k1': 1}], dtype=object)\n</code></pre>\n\n<p>Another, and perhaps the easiest, way would be to get rid of the extra dimensions yourself:</p>\n\n<pre><code>&gt;&gt;&gt; r = np.apply_along_axis(lambda x: dict(k1=1, k2=len(x)), -1, a)\n&gt;&gt;&gt; r[:, 0]\narray([{'k2': 10, 'k1': 1}, {'k2': 10, 'k1': 1}], dtype=object)\n</code></pre>\n\n<p>To see how exactly numpy handles various cases, see <a href=\"https://github.com/numpy/numpy/blob/v1.11.0/numpy/lib/shape_base.py#L20-L131\" rel=\"nofollow\">documentation of <code>apply_along_axis</code></a> (particularly starting at <code>if isscalar(res):</code>).</p>\n"}], "owner": {"reputation": 1896, "user_id": 2527629, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4b4cd6fa0393dd88e042c488d88702bc?s=128&d=identicon&r=PG", "display_name": "ddzzbbwwmm", "link": "https://stackoverflow.com/users/2527629/ddzzbbwwmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 38627495, "answer_count": 1, "score": 0, "last_activity_date": 1469682417, "creation_date": 1469656143, "question_id": 38623768, "link": "https://stackoverflow.com/questions/38623768/duplicated-outputs-of-np-apply-along-axis-when-a-dict-is-returned", "title": "duplicated outputs of np.apply_along_axis when a dict is returned", "body": "<p>Check this piece of code snippet,</p>\n\n<pre><code>import numpy as np    \na = np.arange(20).reshape(2,10)\n\n# the result is right if there is only 1 key\nfunc = lambda x: dict(k1=len(x))\nprint np.apply_along_axis(func, -1, a)\nout[1]: [[{'k1': 10}]\n         [{'k1': 10}]]\n\n# but if there are more than 1 key in the returned dict\n# the results are duplicated\nfunc = lambda x: dict(k1=1, k2=len(x))\nprint np.apply_along_axis(func, -1, a)\nout[2]: [[{'k2': 10, 'k1': 1} {'k2': 10, 'k1': 1}]\n          [{'k2': 10, 'k1': 1} {'k2': 10, 'k1': 1}]]\n\nfunc = lambda x: dict(k1=1, k2=2, k3=len(x))\nprint np.apply_along_axis(func, -1, a)\nout[3]: [[{'k3': 10, 'k2': 2, 'k1': 1} {'k3': 10, 'k2': 2, 'k1': 1} {'k3': 10, 'k2': 2, 'k1': 1}]\n         [{'k3': 10, 'k2': 2, 'k1': 1} {'k3': 10, 'k2': 2, 'k1': 1} {'k3': 10, 'k2': 2, 'k1': 1}]]\n</code></pre>\n\n<p>The problem has been described in the comments and the results have been shown also.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "is_accepted": true, "score": 1, "last_activity_date": 1469745448, "creation_date": 1469745448, "answer_id": 38647845, "question_id": 38623737, "link": "https://stackoverflow.com/questions/38623737/comparing-values-in-different-time-frames-after-resample-and-rolling-in-pandas/38647845#38647845", "title": "Comparing values in different time frames (after resample and rolling in Pandas)", "body": "<p>If I understand correctly what you're asking, you may want to use <code>Series.asof</code>, which returns last valid value and can take a list-like argument. I assume <code>ntick</code> (and also <code>rol</code>) has a sorted <code>DatetimeIndex</code> as an index.</p>\n\n<pre><code>rol2 = rol.squeeze().asof(ntick.index)\n</code></pre>\n\n<p>Initially, <code>rol</code> is a one-column data frame, so <code>squeeze</code> is necessary to turn it into a <code>Series</code>. Indexes of <code>rol2</code> and <code>ntick</code> are now equal and we can compare:</p>\n\n<pre><code>mask = ntick.Last == rol2\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 5382553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e93e27686cf278ee69b75ca4d09d19df?s=128&d=identicon&r=PG&f=1", "display_name": "PeterL", "link": "https://stackoverflow.com/users/5382553/peterl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 38647845, "answer_count": 1, "score": 0, "last_activity_date": 1469746553, "creation_date": 1469656003, "last_edit_date": 1469695788, "question_id": 38623737, "link": "https://stackoverflow.com/questions/38623737/comparing-values-in-different-time-frames-after-resample-and-rolling-in-pandas", "title": "Comparing values in different time frames (after resample and rolling in Pandas)", "body": "<p>I have fast timeframe (tick data) and want to check if the value is equal to maximum price of rolling max on 1 minute timeframe.</p>\n\n<p>Tick data are:</p>\n\n<pre><code>2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4243.00\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.75\n2016-06-27 08:30:00    4242.50\n2016-06-27 08:30:00    4242.50\n2016-06-27 08:30:00    4242.50\n</code></pre>\n\n<p>I calculate the rolling max on 1 minute timeframe using:</p>\n\n<pre><code>rol=ntick.Last.resample('1min').max().rolling(center=False,window=4).max()\n</code></pre>\n\n<p>But what is the fastest way to check if value from tick data is equal to rolling max in rol?</p>\n\n<p>I am still quite new to Python, so I can come only with very slow way using loop:</p>\n\n<pre><code>mask=[]\nfor x in range(0,len(ntick)):\n    mask.append(ntick.Last[x]==rol[ntick.index[x].replace(second=0)])\n</code></pre>\n\n<p>and then apply mask as ntick['mask']=mask</p>\n\n<p>This works but is not very efficient. Any tip how to do this better?</p>\n\n<p>EDIT:</p>\n\n<p>List comprehension instead of the loop makes the process 3x faster:</p>\n\n<pre><code>mask=[ntick.Last[x]==rol[ntick.index[x].replace(second=0)] for x in range(0,len(ntick))]\n</code></pre>\n\n<p>But still wondering if there is some better way.</p>\n"}, {"tags": ["python", "matplotlib", "matplotlib-widget"], "comments": [{"owner": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "edited": false, "score": 0, "creation_date": 1469656251, "post_id": 38623611, "comment_id": 64633218, "body": "Why does the <code>next</code> function take in an <code>event</code> argument? I don&#39;t think you&#39;re passing it when you call it. Have you checked that the code is making it into the <code>next</code> function with a <code>print</code> statement maybe?"}, {"owner": {"reputation": 4673, "user_id": 319584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5d1e6ccdfaf2fb28512d5b1025c6852?s=128&d=identicon&r=PG", "display_name": "Marijn van Vliet", "link": "https://stackoverflow.com/users/319584/marijn-van-vliet"}, "edited": false, "score": 0, "creation_date": 1469692899, "post_id": 38623611, "comment_id": 64644882, "body": "How are you running this? Just <code>python script.py</code> or from inside IPython or a notebook? The reason I ask is because &#39;interactive mode&#39; seems to be on. You want to switch it off (e.g. <code>plt.ioff()</code>), but the exact method of doing that depends on how you are running the script."}], "owner": {"reputation": 211, "user_id": 2308191, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/eb9fff5eda00d9793a5f31a9b55d7b52?s=128&d=identicon&r=PG", "display_name": "user2308191", "link": "https://stackoverflow.com/users/2308191/user2308191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469655408, "creation_date": 1469655408, "question_id": 38623611, "link": "https://stackoverflow.com/questions/38623611/how-to-handle-costum-created-button-clicked-events-in-python-matplotlib", "title": "How to handle costum created button clicked events in python matplotlib?", "body": "<p>I have a sequence of images that I am trying to display them using a figure/plot in matplotlib. Also I want to allow the users to navigate between images by clicking on <code>next</code> and <code>previous</code> buttons that I have created using <code>matplotlib.widgets</code>. Here is my code:</p>\n\n<pre><code>class Index(object):\n   ind = 0\n\n   def next(self, event):\n      self.ind += 1\n      orig_frame = cv2.imread(FFMPEG_PATH + all_frames[self.ind])\n      ax.imshow(orig_frame)                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n      fig.canvas.draw()\n      plt.waitforbuttonpress()\n\n\n   def prev(self, event):\n      self.ind -= 1\n      if self.ind &gt;= 0:\n         orig_frame = cv2.imread(FFMPEG_PATH + all_frames[self.ind])\n         ax.imshow(orig_frame)                                                                                                                                                                                                                                                                                                                                                                                   \n         fig.canvas.draw()\n         plt.waitforbuttonpress()\n\nfig, ax = plt.subplots()\ncallback = Index()                                                                                                                                                                                               \nstart_frame = 0\norig_frame = cv2.imread(FFMPEG_PATH + all_frames[start_frame])\nax.imshow(orig_frame)\n\naxnext = plt.axes([0.81, 0.05, 0.1, 0.075])\naxprev = plt.axes([0.7, 0.05, 0.1, 0.075])\nnext_button = Button(axnext, 'Next')\nnext_button.on_clicked(callback.next)\nprev_button = Button(axprev, 'Previous')\nprev_button.on_clicked(callback.prev)\n\n\nplt.show()\nplt.waitforbuttonpress()\n</code></pre>\n\n<p>The problem is that, although that I have put <code>fig.canvas.draw()</code> and <code>plt.waitforbuttonpress()</code> at the end of <code>next</code> and <code>prev</code> functions, the program terminates as soon as I click <code>next</code> button.\nAny idea what is the problem?</p>\n"}, {"tags": ["python", "pygame", "exe", "py2exe", "pyinstaller"], "comments": [{"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 1, "creation_date": 1469656403, "post_id": 38623602, "comment_id": 64633283, "body": "hmm.. if you&#39;re open to other programs i know of a few but dunno about compatibility with win 8: there <a href=\"http://cx-freeze.sourceforge.net/\" rel=\"nofollow noreferrer\">cx-freeze.sourceforge.net</a>, <a href=\"https://pypi.python.org/pypi/bbfreeze/1.1.3\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/bbfreeze/1.1.3</a>, <a href=\"http://pygtk.org/\" rel=\"nofollow noreferrer\">pygtk.org</a>, <a href=\"https://sourceforge.net/projects/wxpython/files/wxPython/3.0.2.0/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/wxpython/files/wxPython/3.0.2.0</a> - thats all i can think of just now"}, {"owner": {"reputation": 813, "user_id": 6585628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72a535c63934cf22493c1084aa37b96e?s=128&d=identicon&r=PG&f=1", "display_name": "antonin_scalia", "link": "https://stackoverflow.com/users/6585628/antonin-scalia"}, "reply_to_user": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1469662379, "post_id": 38623602, "comment_id": 64635080, "body": "I&#39;ll give all of these a shot, hopefully one of them works out. Which one are you most experienced with/would recommend?"}, {"owner": {"reputation": 813, "user_id": 6585628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72a535c63934cf22493c1084aa37b96e?s=128&d=identicon&r=PG&f=1", "display_name": "antonin_scalia", "link": "https://stackoverflow.com/users/6585628/antonin-scalia"}, "reply_to_user": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1469663112, "post_id": 38623602, "comment_id": 64635254, "body": "I just tried cxfreeze and installed it, but none of the cx-freeze scripts seem to run in command line. It says that it isn&#39;t recognized as a command?"}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 1, "creation_date": 1469678518, "post_id": 38623602, "comment_id": 64638397, "body": "hey, sorry i fell asleep (i live in ireland - its 5am now - have you got Visual Studio? you can get it free <a href=\"https://www.visualstudio.com/downloads/download-visual-studio-vs\" rel=\"nofollow noreferrer\">visualstudio.com/downloads/download-visual-studio-vs</a>. I found this blog v helpful when i was installing 3.23 <a href=\"http://www.taywils.me/2012/12/23/pythonfinance1.html\" rel=\"nofollow noreferrer\">taywils.me/2012/12/23/pythonfinance1.html</a> Any reason you&#39;re still on 2.7? it&#39;s so old!!!"}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 1, "creation_date": 1469678597, "post_id": 38623602, "comment_id": 64638415, "body": "Visual Studio makes it quite easy to install packages, especially in zip format, i tried WinPython but it&#39;s finicky.."}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 1, "creation_date": 1469678708, "post_id": 38623602, "comment_id": 64638445, "body": "bbfreeze comes highly recommended, it and wxPython.. surprised you&#39;re having trouble with cFreeze though, it&#39;s usually really good.."}, {"owner": {"reputation": 813, "user_id": 6585628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72a535c63934cf22493c1084aa37b96e?s=128&d=identicon&r=PG&f=1", "display_name": "antonin_scalia", "link": "https://stackoverflow.com/users/6585628/antonin-scalia"}, "reply_to_user": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1469718840, "post_id": 38623602, "comment_id": 64663806, "body": "I managed to get cxfreeze working, still checking if it works on other people&#39;s computers, but it looks good."}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1469718906, "post_id": 38623602, "comment_id": 64663850, "body": "Cool! That&#39;s great. I&#39;m on a train at the mo to the middle of nowhere.. Ta for the vote!! :)"}, {"owner": {"reputation": 1114, "user_id": 7192342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mx89t.jpg?s=128&g=1", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/7192342/qwerty"}, "edited": false, "score": 0, "creation_date": 1515993357, "post_id": 38623602, "comment_id": 83497159, "body": "Hey, I know this is an extremely old question, but I think I may have found the solution to your problem. Is there ever a time in your script that you display text on the pygame screen?"}], "owner": {"reputation": 813, "user_id": 6585628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/72a535c63934cf22493c1084aa37b96e?s=128&d=identicon&r=PG&f=1", "display_name": "antonin_scalia", "link": "https://stackoverflow.com/users/6585628/antonin-scalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 654, "favorite_count": 0, "closed_date": 1611501138, "answer_count": 0, "score": 1, "last_activity_date": 1611501162, "creation_date": 1469655376, "last_edit_date": 1470006398, "question_id": 38623602, "link": "https://stackoverflow.com/questions/38623602/pyinstaller-not-working-properly", "closed_reason": "Duplicate", "title": "Pyinstaller not working properly", "body": "<p>I'm trying to turn a game I made into an executable using Pyinstaller (I'd be open to other similar programs, but I can't get py2exe to work at all).</p>\n\n<p>This is Windows 8, Python 2.7 + Pygame.</p>\n\n<p>I created a simple hello.py file which just prints \"hello world\" and then turned that into an exe which worked perfectly. However, when I tried making the game itself into an exe, it's failing in strange ways. </p>\n\n<p>The command I used was <code>pyinstaller gamename.py</code> in command line. </p>\n\n<p>The process then ran to completion and created the exe,but when I try to open it I just get \"gamename.exe\" has stopped working. I tried openning it from the command prompt to see what errors it was printing, but that doesn't show any errors either. </p>\n\n<p>Any ideas? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "image", "visualization"], "answers": [{"tags": [], "owner": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "is_accepted": false, "score": 1, "last_activity_date": 1469655737, "creation_date": 1469655737, "answer_id": 38623687, "question_id": 38623570, "link": "https://stackoverflow.com/questions/38623570/visualisation-with-python/38623687#38623687", "title": "Visualisation with Python", "body": "<p>Try using matplotlib instead of PIL.</p>\n\n<p>Matplotlib:</p>\n\n<p><a href=\"http://matplotlib.org/\" rel=\"nofollow\">http://matplotlib.org/</a></p>\n\n<p>Specifically about bar charts (I think this is what you want):</p>\n\n<p><a href=\"http://matplotlib.org/examples/api/barchart_demo.html\" rel=\"nofollow\">http://matplotlib.org/examples/api/barchart_demo.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4800, "user_id": 777706, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1fe425dcf3133462fb6376e8e1550b4a?s=128&d=identicon&r=PG", "display_name": "Oriol Nieto", "link": "https://stackoverflow.com/users/777706/oriol-nieto"}, "is_accepted": false, "score": 1, "last_activity_date": 1469655871, "creation_date": 1469655871, "answer_id": 38623714, "question_id": 38623570, "link": "https://stackoverflow.com/questions/38623570/visualisation-with-python/38623714#38623714", "title": "Visualisation with Python", "body": "<p>I would put these data in a (100, 4000) numpy array and plot it using <code>matplotlib</code>. For example:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n# TODO: Put data in numpy array X\n# TODO: Define the image size you want in my_size (eg, my_size=(10, 20))\nplt.figure(figsize=my_size)\nplt.imshow(X, interpolation=\"nearest\", aspect=\"auto\")\nplt.savefig(\"my_plot.pdf\")\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 4285400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/212c49722e7b80381d39b35cb1a53cf6?s=128&d=identicon&r=PG&f=1", "display_name": "Saguaro", "link": "https://stackoverflow.com/users/4285400/saguaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469690742, "creation_date": 1469655255, "last_edit_date": 1469690742, "question_id": 38623570, "link": "https://stackoverflow.com/questions/38623570/visualisation-with-python", "title": "Visualisation with Python", "body": "<p>I want to plot the data from a connected device (which count number of steps) used by 100 users. I got about 4000 records for each user.</p>\n\n<p>So I plot each point mannualy in a picture of size 100*4000 using the package PIL : <code>Image.putpixel((CurrentTimePx,CurrentRowPx),(CurrentActivityPixelIntensity,0,0))</code></p>\n\n<p>But the picture is too small, I have to zoom to see correctly the points.</p>\n\n<p>Do you have a solution to print the picture point by point but with a correct size ?</p>\n\n<p>Edit :</p>\n\n<p>It's a bit more difficult : for one user, I plot a point (at time 0) for which intensity=number of steps. Then I skip to next row (for another user) and I do the same. Once I've done all the users, I skip to next column (for time 1) and so on...</p>\n\n<p>I join a picture of the complete visualisation. <a href=\"http://i.stack.imgur.com/tqnDA.png\" rel=\"nofollow\">Final Image</a></p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 6553638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83c8ec251e9c4ac2f7df4db4a7767fa1?s=128&d=identicon&r=PG&f=1", "display_name": "Noam", "link": "https://stackoverflow.com/users/6553638/noam"}, "is_accepted": true, "score": 1, "last_activity_date": 1469655238, "creation_date": 1469655238, "answer_id": 38623561, "question_id": 38623495, "link": "https://stackoverflow.com/questions/38623495/questions-on-use-ginput-and-print-the-results-with-python/38623561#38623561", "title": "Questions on use ginput and print the results with python", "body": "<p>In Python 3, <a href=\"https://docs.python.org/3/library/functions.html#print\" rel=\"nofollow\">print()</a> is a function, therefore it requires parentheses around its input argument like any other function.</p>\n"}], "owner": {"reputation": 43, "user_id": 6622982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4732940936e85dfbf6798f4acabbc4ba?s=128&d=identicon&r=PG&f=1", "display_name": "zhao", "link": "https://stackoverflow.com/users/6622982/zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 38623561, "answer_count": 1, "score": 1, "last_activity_date": 1469665011, "creation_date": 1469654956, "last_edit_date": 1469665011, "question_id": 38623495, "link": "https://stackoverflow.com/questions/38623495/questions-on-use-ginput-and-print-the-results-with-python", "title": "Questions on use ginput and print the results with python", "body": "<p>I would like to use <code>ginput</code> function in python to get two points from the figure and get the closest int value and save the array. The code is shown below:</p>\n\n<pre><code>from __future__ import print_function\nfrom pylab import plot, ginput, show, axis\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nt = np.arange(10)\nplt.plot(t, np.sin(t))\nprint(\"Please click\")\nx = ginput(2)\nx=np.ceil(x)\n**print (x)**\nplt.show()\n</code></pre>\n\n<p>When I run the code and print the x with brackets, the output is:</p>\n\n<pre><code>Please click\n[[ 2.  1.]\n [ 8. -0.]]\n</code></pre>\n\n<p>However, if I run the code and print <code>x</code> without the brackets, </p>\n\n<pre><code>from __future__ import print_function\nfrom pylab import plot, ginput, show, axis\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nt = np.arange(10)\nplt.plot(t, np.sin(t))\nprint(\"Please click\")\nx = ginput(2)\nx=np.ceil(x)\n**print x**\nplt.show()\n</code></pre>\n\n<p>the output shows error:</p>\n\n<pre><code> File \"&lt;ipython-input-27-1d992b01e790&gt;\", line 1\n    print x\n          ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>I am really confused about this. What is the reason of this?</p>\n"}, {"tags": ["python", "for-loop", "math", "coordinates", "nested-loops"], "comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469655652, "post_id": 38623400, "comment_id": 64632928, "body": "The sample code does not work at all. The 4&#39;th line fails because file1 is a tuple and no Dataframe?"}, {"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "reply_to_user": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469655837, "post_id": 38623400, "comment_id": 64633017, "body": "@MichaelHoff Thanks, alright I clearly have no idea what I am doing so do I need to read this as a data-frame to get it to work?"}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469656324, "post_id": 38623400, "comment_id": 64633248, "body": "Ah, sorry, this is a part of your question? The way you operate on the variable (<code>file1.apply</code>, <code>lambda row...</code>, <code>axis=1</code>) make it look like you wanted to operate on a <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas</a> dataframe."}, {"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "reply_to_user": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1469656534, "post_id": 38623400, "comment_id": 64633343, "body": "No you&#39;re exactly right, I had been trying to read things in through pandas with earlier tests so that&#39;s absolutely still in my code. Maybe the issue here is that I just don&#39;t know how to reformat it without pandas? Or should I transform the data through pandas to read most efficiently?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469655946, "post_id": 38623585, "comment_id": 64633084, "body": "Thanks, I thought I was defining my i, j variables as file1 and file2? Do they need to be titles i and j to work properly?"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "reply_to_user": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469656585, "post_id": 38623585, "comment_id": 64633364, "body": "@JustinT In your code you have used the name <code>dist</code> for both loop variables.  Two nested loops with a shared loop variable doesn&#39;t make sense.  The tuples file1 or file2 contain the sequences of values to be iterated over.   Each time through the loop, the loop variable is assigned a new value from the sequence.  Rafael&#39;s i, j variables correspond to your <code>dist</code>; Rafael&#39;s <code>range(10)</code> calls correspond to your file1 and file2."}, {"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1469656927, "post_id": 38623585, "comment_id": 64633503, "body": "@PaulCornelius Oops that is what I had meant. That makes sense then that thats the problem I am having here thank you. Any advice on how to properly call the distance to be applied to the values in file2 then or what to call it?"}], "tags": [], "owner": {"reputation": 425, "user_id": 6278795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/526a286f81595fc36a9c195b6110bdb4?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Albert", "link": "https://stackoverflow.com/users/6278795/rafael-albert"}, "is_accepted": false, "score": 2, "last_activity_date": 1469657374, "last_edit_date": 1469657374, "creation_date": 1469655316, "answer_id": 38623585, "question_id": 38623400, "link": "https://stackoverflow.com/questions/38623400/nested-for-loop-on-tupled-coordinates/38623585#38623585", "title": "Nested for loop on tupled coordinates", "body": "<p><strong>For-loops in general</strong> :<br>\nYou choose one variable as an iterator (can be anything, but shouldn't be something that is used elsewhere at the same time) which iterates through an iterable (e.g. a list). In my example below, i and j are the iterators while range(10) is the object they iterate through. Within the loop, you write everything down you want to have repeated. In my example below, I append every possible i/j combination to the list.\n<br> <br>\n<strong>Nested</strong> for loops require you to use <strong>two different variables</strong>. </p>\n\n<p>Example:</p>\n\n<pre><code>whatever = []\nfor j in range(10):\n    for i in range(10):\n        whatever.append([j, i])\n</code></pre>\n\n<p>After running the code, whatever will look like that:</p>\n\n<pre><code>[ [0, 0], [0, 1], [0,2] ,... [1, 0], [1, 1], ... [9, 9] ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469661240, "post_id": 38623930, "comment_id": 64634813, "body": "Thanks for that, My code is now at least giving me no errors thanks to the code you gave me, however I am unsure if what is coming out is exactly what I am looking for it to do. I get these huge outputs, and everything seems scattered and random. I am not sure how to ask you for help here anymore though. Perhaps a second stack overflow question is in order?"}, {"owner": {"reputation": 782, "user_id": 3712761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1aPMK.png?s=128&g=1", "display_name": "dashiell", "link": "https://stackoverflow.com/users/3712761/dashiell"}, "reply_to_user": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469713776, "post_id": 38623930, "comment_id": 64659744, "body": "The code I wrote takes all of your points and computes the distances between each pair between the lists. So if your lists are: <code>[p1,p2,p3]</code> and <code>[q1,q2,q3]</code>, it computes the distances between the pairs: <code>p1-q1, p1-q2,p1-q3; p2-q1,p2-q2,p2-q3; p3-q1,p3-q2,p3-q3</code>"}], "tags": [], "owner": {"reputation": 782, "user_id": 3712761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1aPMK.png?s=128&g=1", "display_name": "dashiell", "link": "https://stackoverflow.com/users/3712761/dashiell"}, "is_accepted": false, "score": 1, "last_activity_date": 1469656911, "creation_date": 1469656911, "answer_id": 38623930, "question_id": 38623400, "link": "https://stackoverflow.com/questions/38623400/nested-for-loop-on-tupled-coordinates/38623930#38623930", "title": "Nested for loop on tupled coordinates", "body": "<p>Assuming you're getting your data in as tuples:</p>\n\n<pre><code># convert file1 and file2 to lists of 2d points\n# this is quite sloppy and I'll tidy it up when I get home from work\nxs = [[float(pq.split(',')[0]),float(pq.split(',')[1])] for pq in list(file1)]\nys = [[float(pq.split(',')[0]),float(pq.split(',')[1])] for pq in list(file2)]\n# generate a cartesian product of the two lists\ncp = [(x,y) for x in xs for y in ys]\n# generate distances\ndists = map(lambda (x,y):math.hypot(x[0]-y[0],x[1]-y[1]),cp)\n# loop through and find distances below some_threshold\nfor i in range(len(xs)):\n    for j in range(1,len(ys)+1):\n        if dists[i*j] &gt; some_threshold:\n            print i,j,dist\n        else:\n            print 'no match'\n</code></pre>\n\n<p>I would recommend using pandas or numpy if you're going to be reading in any reasonably sized dataset, however.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469660807, "post_id": 38623996, "comment_id": 64634728, "body": "Thanks for that, super informative. Quick question about it though: Will I need to write another for loop for each element? Just as an example would I need to write out for <code>coord1 in file1:</code>     <code>for coord2n in file2:</code> for each coord2 in file1: or will what you have writen above take coord 1 and search a match for every coord in file 2 and then coord2 for every coord in file 2. So on down the list till eaxh coord in file1 is checked with each coord in file2?"}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "reply_to_user": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469661087, "post_id": 38623996, "comment_id": 64634778, "body": "No, you don&#39;t need a third loop. Think of it like operating with two hands. The left hand is the outer and the right hand the inner loop. You first take one single tuple of the outer list into the left hand. Then, one after the other, you take on element of the inner list into the right hand, conduct your comparison and go on. When the right hand is finished with all items, the left hand picks the next item and the right hand begins anew."}, {"owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469661919, "post_id": 38623996, "comment_id": 64634958, "body": "Fantastic! Also how (if I need to) do I define the coordinates as such? I&#39;m going to take your advice in renaming file1 so it looks prettier."}, {"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "reply_to_user": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "edited": false, "score": 0, "creation_date": 1469687585, "post_id": 38623996, "comment_id": 64641668, "body": "As you can see in my answer representing them as <code>tuples</code> which means you put them in round parentheses can be convenient. You could also represent them using a custom class type. Numpy arrays are also a convenient representation. But for now, I suggest you to stick with the simplistic tuple format."}], "tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1469657266, "creation_date": 1469657266, "answer_id": 38623996, "question_id": 38623400, "link": "https://stackoverflow.com/questions/38623400/nested-for-loop-on-tupled-coordinates/38623996#38623996", "title": "Nested for loop on tupled coordinates", "body": "<p>You represent your tuples as strings which is very inconvenient to work with.\n\"Real\" tuples are generally better to start off.</p>\n\n<pre><code>file1 = [(1.36, 7.11), (1.38, 7.12), (1.5, -7.14), (8.7, 3.33)]\nfile2 = [(1.46, 7.31), (1.47, 7.32), (1.49, -7.34), (8.56, 3.13)]\n</code></pre>\n\n<p>The next question is, how do we get the distance between those two xy points?\nFor this, we can use <code>scipy.spatial.distance.euclidean</code> as a function which takes two tuples and returns the euclidean norm of the vector in between. For example:</p>\n\n<pre><code>&gt; import scipy.spatial.distance as distance\n&gt; distance.euclidean(file1[0], file2[0])\n0.22360679774997827\n</code></pre>\n\n<p>Now, we come to core of your question: the nested loop.\nThe logic is as follows. For each element in <code>file1</code>, say <code>coord1</code>, we take each element in <code>file2</code>, say <code>coord2</code> and compute the distance between <code>coord1</code> and <code>coord2</code>.</p>\n\n<pre><code>for coord1 in file1:\n    for coord2 in file2:\n        dist = distance.euclidean(coord1, coord2) # do not forget to import distance before\n        if dist &lt; 0.5:\n            print True, dist\n        else:\n            print 'no match'\n</code></pre>\n\n<p>I would name the variables after what they represent. <code>file1</code> is a <code>coordinate_list</code> (<code>first_coordinate_list</code>, <code>coordinate_list_1</code>) and the elements are coordinates, e.g. <code>coordinate</code>, <code>coordinate_1</code>, <code>left_coordinate</code>.</p>\n"}], "owner": {"reputation": 47, "user_id": 6552785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-0vKkatMkmms/AAAAAAAAAAI/AAAAAAAABMs/7sH9A7ke2GU/photo.jpg?sz=128", "display_name": "Justin T", "link": "https://stackoverflow.com/users/6552785/justin-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 38623996, "answer_count": 3, "score": 0, "last_activity_date": 1469657374, "creation_date": 1469654483, "question_id": 38623400, "link": "https://stackoverflow.com/questions/38623400/nested-for-loop-on-tupled-coordinates", "title": "Nested for loop on tupled coordinates", "body": "<p>I need to write a code that will eventually read in coordinates from across multiple tables of big data stored in excel sheets but first I wanted to learn to write a nested for loop to analyze the tuples in the code below.</p>\n\n<p>All I can find for nested for loops don't have anything like this so I thought it could be good to post up here. </p>\n\n<p>What I need this code to do specifically is to take the first coordinate in file1 and compare it to each coordinate in file2, Then second coordinate in file1 to each coordinate in file2, and so on to loop through each coordinate in file1 compared to every coordinate in file to and then return if the two share the specified proximity. </p>\n\n<pre><code>import math\nfile1 = ('1.36, 7.11', '1.38, 7.12', '1.5, -7.14', '8.7, 3.33', '8.5, 3.34', '8.63, -3.36')\nfile2 = ('1.46, 7.31', '1.47, 7.32', '1.49, -7.34', '8.56, 3.13', '8.57, 3.14', '8.59, -3.16')\ndist = file1.apply(lambda row: math.hypot(row['x_diff'], row['y_diff']), axis=1)\nfor dist in file1:\n    for dist in file2:\n        if dist.values &gt;= .5:\n            print 'no match'\n        elif dist.values &lt;= .5:\n            print True, dist\n</code></pre>\n\n<p>My hunch with whats wrong is that I am not filling the appropriate command to read the tuples as coordinates. Then furthermore, I am having a lot of confusion as to what I ought to write in this statement here <code>for dist in file1</code>. By that I mean what I am supposed to call and how to label it appropriately. </p>\n\n<p>I realize this is probably a mess but, this is my first coding project ever so if absolutely anybody can help steer me in the right direction or provide some feedback as to what I might need to understand better here I would greatly appreciate it. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 3373, "user_id": 3993741, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/45d66d1903d4fc343491eb9df7235c0f?s=128&d=identicon&r=PG&f=1", "display_name": "mikal94305", "link": "https://stackoverflow.com/users/3993741/mikal94305"}, "edited": false, "score": 4, "creation_date": 1496291500, "post_id": 38623540, "comment_id": 75602740, "body": "I get with pandas v0.19.2: <code>NotImplementedError: chunksize keyword of read_excel is not implemented</code>"}, {"owner": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 0, "creation_date": 1510678025, "post_id": 38623540, "comment_id": 81532649, "body": "Same for pandas <code>0.20.2</code>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 1, "creation_date": 1510678409, "post_id": 38623540, "comment_id": 81532895, "body": "@iipr, <a href=\"https://stackoverflow.com/a/45346340/5741205\">it was removed in Pandas 0.17.0</a>"}, {"owner": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 1, "creation_date": 1510678766, "post_id": 38623540, "comment_id": 81533134, "body": "Oh I see. @MaxU Is there another alternative for reading an Excel using chunking?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 0, "creation_date": 1510679056, "post_id": 38623540, "comment_id": 81533302, "body": "@iipr, i\u2019ll try to implement it, but I\u2019m not sure it will be fast. Why do you need it? Does your data set fit in memory?"}, {"owner": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 0, "creation_date": 1510679833, "post_id": 38623540, "comment_id": 81533747, "body": "@MaxU thank you for your help. Ideally it should be an argument of <code>pd.read_excel</code> like for <code>pd.read_csv</code> (unless I&#39;m missing something, which could be the case). My current dataset does fit in memory, but because I&#39;m currently using a pc with 32GB, which doesn&#39;t always happen. I want to use it to move data contained in Excels to HDFs."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 0, "creation_date": 1510682109, "post_id": 38623540, "comment_id": 81535080, "body": "@iipr, it&#39;s not that easy, as both standard engines Pandas is using - <code>xlrd</code> and <code>openpyxl</code> are reading the whole file in memory first. So I think you would need to convert it to CSV file first and then you can read it in chunks..."}, {"owner": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 1, "creation_date": 1510757567, "post_id": 38623540, "comment_id": 81571389, "body": "@MaxU that is exactly what I tried yesterday: save the Excel as CSV and then read it. In general, Excels will not be too big as for to not fit in memory, so its fine I guess. The only thing is to be careful with the conversion to avoid data leaks/mistakes. Thanks!"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1567676536, "last_edit_date": 1567676536, "creation_date": 1469655172, "answer_id": 38623540, "question_id": 38623368, "link": "https://stackoverflow.com/questions/38623368/reading-a-portion-of-a-large-xlsx-file-with-python/38623540#38623540", "title": "Reading a portion of a large xlsx file with python", "body": "<p><strong>UPDATE:</strong> 2019-09-05</p>\n\n<p>The <code>chunksize</code> parameter has been deprecated as it wasn't used by <code>pd.read_excel()</code>, because of the nature of XLSX file format, which will be read up into memory as a whole during parsing.</p>\n\n<p>There are more details about that in <a href=\"https://stackoverflow.com/a/47455961/5741205\">this great SO answer</a>...</p>\n\n<hr>\n\n<p><strong>OLD answer:</strong></p>\n\n<p>you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">read_excel()</a> method:</p>\n\n<pre><code>chunksize = 10**5\nfor chunk in pd.read_excel(filename, chunksize=chunksize):\n    # process `chunk` DF\n</code></pre>\n\n<p>if your excel file has multiple sheets, take a look at <a href=\"https://stackoverflow.com/a/38623545/5741205\">bpachev's</a> solution</p>\n"}, {"comments": [{"owner": {"reputation": 3373, "user_id": 3993741, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/45d66d1903d4fc343491eb9df7235c0f?s=128&d=identicon&r=PG&f=1", "display_name": "mikal94305", "link": "https://stackoverflow.com/users/3993741/mikal94305"}, "edited": false, "score": 6, "creation_date": 1496291482, "post_id": 38623545, "comment_id": 75602734, "body": "I get with pandas v0.19.2: <code>NotImplementedError: chunksize keyword of read_excel is not implemented</code>"}, {"owner": {"reputation": 820, "user_id": 6188901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTeRT.jpg?s=128&g=1", "display_name": "iipr", "link": "https://stackoverflow.com/users/6188901/iipr"}, "edited": false, "score": 0, "creation_date": 1510677952, "post_id": 38623545, "comment_id": 81532595, "body": "Same for pandas <code>0.20.2</code>"}], "tags": [], "owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "is_accepted": false, "score": 2, "last_activity_date": 1469655180, "creation_date": 1469655180, "answer_id": 38623545, "question_id": 38623368, "link": "https://stackoverflow.com/questions/38623368/reading-a-portion-of-a-large-xlsx-file-with-python/38623545#38623545", "title": "Reading a portion of a large xlsx file with python", "body": "<p>Yes. Pandas supports chunked reading. You would go about reading an excel file like so.</p>\n\n<pre><code>import pandas as pd\nxl = pd.ExcelFile(\"myfile.xlsx\")\nfor sheet_name in xl.sheet_names:\n  reader = xl.parse(sheet_name, chunksize=1000):\n  for chunk in reader:\n    #parse chunk here\n</code></pre>\n"}], "owner": {"reputation": 2546, "user_id": 2997866, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/dnGQe.jpg?s=128&g=1", "display_name": "Adel", "link": "https://stackoverflow.com/users/2997866/adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7364, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1567676536, "creation_date": 1469654374, "question_id": 38623368, "link": "https://stackoverflow.com/questions/38623368/reading-a-portion-of-a-large-xlsx-file-with-python", "title": "Reading a portion of a large xlsx file with python", "body": "<p>I have a large .xlsx file with 1 million rows. I don't want to open the whole file in one go. I was wondering if I can read a chunk of the file, process it and then read the next chunk? (I prefer to use pandas for it.)</p>\n"}, {"tags": ["python", "python-3.x", "plot", "plotly", "keyerror"], "answers": [{"tags": [], "owner": {"reputation": 2009, "user_id": 2658917, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1414e76e39cf82a40a3724d5dc19c376?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/2658917/plasma"}, "is_accepted": true, "score": 11, "last_activity_date": 1469654109, "creation_date": 1469654109, "answer_id": 38623309, "question_id": 38623249, "link": "https://stackoverflow.com/questions/38623249/keyerror-plotly-domain/38623309#38623309", "title": "KeyError: &#39;plotly_domain&#39;", "body": "<p>Based on this answer, try using <code>py.plot</code> instead of <code>py.iplot</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/34929778/keyerror-plotly-domain-when-using-plotly-to-do-scatter-plot-in-python\">KeyError: &#39;plotly_domain&#39; when using plotly to do scatter plot in python</a></p>\n\n<p>The reason is that <code>iplot</code> is for ipython sessions.</p>\n"}], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4990, "favorite_count": 0, "accepted_answer_id": 38623309, "answer_count": 1, "score": 4, "last_activity_date": 1469654109, "creation_date": 1469653847, "question_id": 38623249, "link": "https://stackoverflow.com/questions/38623249/keyerror-plotly-domain", "title": "KeyError: &#39;plotly_domain&#39;", "body": "<p>I am running the code from <a href=\"https://plot.ly/~jackp/16625/\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>import plotly\nimport plotly.plotly as py\nfrom plotly.tools import FigureFactory as FF\n\nimport numpy as np\nimport pandas as pd\nprint(plotly.__version__)\ndataframe = pd.DataFrame(np.random.randn(100, 3),\n                         columns=['Column A', 'Column B', 'Column C'])\n\nfig = FF.create_scatterplotmatrix(dataframe, diag='histogram', index='Column A',\n                                  colormap=['rgb(100, 150, 255)', '#F0963C', 'rgb(51, 255, 153)'],\n                                  colormap_type='seq', height=800, width=800)\npy.iplot(fig, filename = 'Custom Sequential Colormap')\n</code></pre>\n\n<p>And I get this error:</p>\n\n<pre><code>/Library/Frameworks/Python.framework/Versions/3.4/bin/python3.4 /Users/mona/PycharmProjects/PythonCodes/plotly_viz.py\n1.12.4\nThis is the format of your plot grid:\n[ (1,1) x1,y1 ]  [ (1,2) x2,y2 ]\n[ (2,1) x3,y3 ]  [ (2,2) x4,y4 ]\n\nTraceback (most recent call last):\n  File \"/Users/mona/PycharmProjects/PythonCodes/plotly_viz.py\", line 14, in &lt;module&gt;\n    py.iplot(fig, filename = 'Custom Sequential Colormap')\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/plotly/plotly/plotly.py\", line 175, in iplot\n    return tools.embed(url, **embed_options)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/plotly/tools.py\", line 443, in embed\n    != session.get_session_config()['plotly_domain']):\nKeyError: 'plotly_domain'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Do you know what is the problem and how can it be solved? I was trying plotly out but even my first try happened to be unsuccessful!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1469653935, "post_id": 38623246, "comment_id": 64632102, "body": "how are you trying to &quot;run the python module&quot; ? also did you attend IDYCA last year?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469653981, "post_id": 38623246, "comment_id": 64632122, "body": "Are you trying to execute that as if it were valid Python code, rather than a snippet of an interpreter session?"}, {"owner": {"reputation": 21, "user_id": 6646794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c01b6c8c9927536da07be9ecf98ddf8?s=128&d=identicon&r=PG&f=1", "display_name": "Waffles", "link": "https://stackoverflow.com/users/6646794/waffles"}, "edited": false, "score": 0, "creation_date": 1469654641, "post_id": 38623246, "comment_id": 64632471, "body": "I&#39;m going to the python module file I made, right clicking a module, and clicking Edit With IDLE, then clicking run"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469654704, "post_id": 38623246, "comment_id": 64632503, "body": "Well apparently that <i>&quot;python module file&quot;</i> doesn&#39;t contain syntactically valid Python code, instead containing a copied-and-pasted interpreter session. It&#39;s not clear why you anticipated that this would work."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6646794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c01b6c8c9927536da07be9ecf98ddf8?s=128&d=identicon&r=PG&f=1", "display_name": "Waffles", "link": "https://stackoverflow.com/users/6646794/waffles"}, "edited": false, "score": 0, "creation_date": 1469654719, "post_id": 38623321, "comment_id": 64632513, "body": "how do I fix it though?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 21, "user_id": 6646794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c01b6c8c9927536da07be9ecf98ddf8?s=128&d=identicon&r=PG&f=1", "display_name": "Waffles", "link": "https://stackoverflow.com/users/6646794/waffles"}, "edited": false, "score": 0, "creation_date": 1469654808, "post_id": 38623321, "comment_id": 64632551, "body": "@Waffles what do you mean <i>&quot;fix it&quot;</i>? It&#39;s not clear what you expected to happen. Your Python file needs to contain <b>only valid Python code</b> (in this case just <code>print(&quot;Hello&quot;)</code>). I can only suggest following <a href=\"http://sopython.com/wiki/What_tutorial_should_I_read%3F\" rel=\"nofollow noreferrer\">a decent tutorial</a>."}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 3, "last_activity_date": 1469654143, "creation_date": 1469654143, "answer_id": 38623321, "question_id": 38623246, "link": "https://stackoverflow.com/questions/38623246/python-syntax-error-on-the-5-in-3-5-1/38623321#38623321", "title": "Python Syntax Error On The 5 In 3.5.1", "body": "<p>You're trying to execute the introductory text the interpreter prints out when you start it as if it were actual, valid Python code. It's not clear why. To recreate:</p>\n\n<pre><code>$ python3 -c \"Python 3.5.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:38:48)\"\n  File \"&lt;string&gt;\", line 1\n    Python 3.5.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:38:48)\n             ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Here's how it's supposed to look:</p>\n\n<pre><code>$ python3  # I only typed this\nPython 3.5.2 (default, Jun 29 2016, 13:43:58)\n[GCC 4.2.1 Compatible Apple LLVM 7.3.0 (clang-703.0.31)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; print (\"Hello\")  # and this\nHello\n</code></pre>\n\n<p>In this second, working case, I <strong>start the interpreter</strong>, which prints out a welcome message to tell me which version I'm running, and <em>then</em> start typing valid commands at the interpreter prompt.</p>\n"}], "owner": {"reputation": 21, "user_id": 6646794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c01b6c8c9927536da07be9ecf98ddf8?s=128&d=identicon&r=PG&f=1", "display_name": "Waffles", "link": "https://stackoverflow.com/users/6646794/waffles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "closed_date": 1469654977, "answer_count": 1, "score": -2, "last_activity_date": 1469654283, "creation_date": 1469653843, "last_edit_date": 1469654283, "question_id": 38623246, "link": "https://stackoverflow.com/questions/38623246/python-syntax-error-on-the-5-in-3-5-1", "closed_reason": "Not suitable for this site", "title": "Python Syntax Error On The 5 In 3.5.1", "body": "<p>When I try to run a python module it highlights the 5 in:</p>\n\n<pre><code>Python 3.**5**.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:38:48) [MSC v.1900 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n&gt;&gt;&gt; print (\"Hello\")\n</code></pre>\n\n<p>and says it's \"invalid syntax\". I've seen other sites to try to fix it, but it gets <em>very</em> confusing. What am I doing wrong and why is it highlighting the 5 in 3.5.1?</p>\n"}, {"tags": ["python", "image", "gtk3"], "owner": {"reputation": 31, "user_id": 3812062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f11b3174e5d07556ea57d8031c5fcb?s=128&d=identicon&r=PG&f=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/3812062/bugs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469653819, "creation_date": 1469653819, "question_id": 38623238, "link": "https://stackoverflow.com/questions/38623238/gtk3-resizable-image-prevent-window-restore-size", "title": "GTK3 Resizable Image prevent window restore size", "body": "<p>I have written a Class that extend Gtk.image to automatically fit the parent size based on <a href=\"https://stackoverflow.com/questions/5067310/pygtk-how-do-i-make-an-image-automatically-scale-to-fit-its-parent-widget/31596830#31596830\">PyGTK: How do I make an image automatically scale to fit it&#39;s parent widget?</a> but with some improvements and corrections.</p>\n\n<pre><code>import gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk, GdkPixbuf, GLib\n\nclass ImageEx(Gtk.Image):\n    pixbuf = None\n\n    def __init__(self, *args, **kwargs):\n        super(ImageEx, self).__init__(*args, **kwargs)\n        self.connect(\"size-allocate\", self.on_size_allocate)\n        self.props = super(ImageEx, self).props\n        self.props.width_request  = 100\n        self.props.height_request = -1\n        self.props.hexpand = True\n        self.tempHeight = 0\n        self.tempWidth  = 0\n        self.origHeight = 0\n        self.origWidth  = 0\n\n\n    def set_from_pixbuf(self, pixbuf):\n        self.pixbuf = pixbuf\n        self.origHeight = pixbuf.get_height()\n        self.origWidth  = pixbuf.get_width()\n        self.tempHeight = 0\n        self.tempWidth  = 0\n        self.on_size_allocate(None, self.get_allocation())\n\n    def calculateHeight(self, desiredWidth):\n        return desiredWidth * self.origHeight / self.origWidth\n\n    def on_size_allocate(self, obj, rect):\n        if self.pixbuf is not None:\n            desiredWidth = min(rect.width-10, self.origWidth)\n            if self.tempWidth != desiredWidth:\n                self.tempWidth = desiredWidth\n                self.tempHeight = self.calculateHeight(desiredWidth)\n                pixbuf = self.pixbuf.scale_simple(self.tempWidth,\n                                                  self.tempHeight,\n                                                  GdkPixbuf.InterpType.BILINEAR)\n                GLib.idle_add(super(ImageEx, self).set_from_pixbuf,\n                              pixbuf)\n</code></pre>\n\n<p>I use it in a Gtk.Paned, it works correctly, I can resize the panel, and the window, but if I expand the window I can't restore it with the window button but if I move the window, it restores correctly.</p>\n\n<p>How can a so inconsistent state exist?\nHow can I correct it?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "matplotlib", "jupyter-notebook", "conda"], "owner": {"reputation": 3395, "user_id": 1734278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a841783fd83b0a9c60eb23bab32d872?s=128&d=identicon&r=PG", "display_name": "chrise", "link": "https://stackoverflow.com/users/1734278/chrise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1471195747, "creation_date": 1469653751, "last_edit_date": 1471195747, "question_id": 38623222, "link": "https://stackoverflow.com/questions/38623222/jupter-ipython-matplotlib-importerror-dll-load-failed-the-specified-module-cou", "title": "jupter/ipython matplotlib ImportError: DLL load failed: The specified module could not be found", "body": "<p>I installed graphviz with conda and then when using jupyter notebook, I got the following error when importing matplotlib</p>\n\n<pre><code>ImportError: DLL load failed: %1 is not a valid Win32 application for Python Matplotlib\n</code></pre>\n\n<p>So, I deinstalled graphviz and matplotlib, reinstalled matplotlib and now I get</p>\n\n<pre><code>matplotlib ImportError: DLL load failed: The specified module could not be found.\n\nPython 2.7.11 |Anaconda custom (64-bit)| (default, Feb 16 2016, 09:58:36) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://anaconda.org\n&gt;&gt;&gt; import matplotlib\n&gt;&gt;&gt;\n</code></pre>\n\n<p>This is my anaconda environment</p>\n\n<pre><code>platform : win-64\nconda version : 4.1.11\nconda-env version : 2.5.2\nconda-build version : 1.21.3\npython version : 2.7.11.final.0\nrequests version : 2.9.1\nroot environment : C:\\Anaconda3  (writable)\ndefault environment : C:\\Anaconda3\nenvs directories : C:\\Anaconda3\\envs\npackage cache : C:\\Anaconda3\\pkgs\nchannel URLs : https://repo.continuum.io/pkgs/free/win-64/\nhttps://repo.continuum.io/pkgs/free/noarch/\nhttps://repo.continuum.io/pkgs/pro/win-64/\nhttps://repo.continuum.io/pkgs/pro/noarch/\nhttps://repo.continuum.io/pkgs/msys2/win-64/\nhttps://repo.continuum.io/pkgs/msys2/noarch/\nconfig file : None\noffline mode : False\nis foreign system : False\n</code></pre>\n\n<p>Is there anything I should try before I go and axe my whole conda and jupyter installs? I would prefer to avoid that.</p>\n"}, {"tags": ["python", "bash", "ssh", "subprocess"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1469653873, "post_id": 38623221, "comment_id": 64632069, "body": "communicate waits until the process exits (if you are doing <code>ssh</code> this is probably when you type &quot;exit&quot;)"}, {"owner": {"reputation": 1385, "user_id": 3948658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/68ef0e09aaac0157ea8d44d9d8cd51bc?s=128&d=identicon&r=PG&f=1", "display_name": "dredbound", "link": "https://stackoverflow.com/users/3948658/dredbound"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1469654809, "post_id": 38623221, "comment_id": 64632553, "body": "I tried using  proc_stdout= process.stdout.readlines() and proc_stdout= process.stdout.read() also. Same outcome."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1469657147, "post_id": 38623221, "comment_id": 64633571, "body": "It could be writing to <code>stderr</code>.  <code>communicate</code> returns a tuple, it could be that nothing is being written to stdout if it can&#39;t connect to the server."}, {"owner": {"reputation": 1385, "user_id": 3948658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/68ef0e09aaac0157ea8d44d9d8cd51bc?s=128&d=identicon&r=PG&f=1", "display_name": "dredbound", "link": "https://stackoverflow.com/users/3948658/dredbound"}, "edited": false, "score": 0, "creation_date": 1469714791, "post_id": 38623221, "comment_id": 64660593, "body": "Thanks, I tried that and updated my question with the output I got."}], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 3948658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/68ef0e09aaac0157ea8d44d9d8cd51bc?s=128&d=identicon&r=PG&f=1", "display_name": "dredbound", "link": "https://stackoverflow.com/users/3948658/dredbound"}, "edited": false, "score": 0, "creation_date": 1469714683, "post_id": 38637265, "comment_id": 64660501, "body": "Works like a charm, thanks a lot! I&#39;ll study this and figure out why my code didn&#39;t work."}], "tags": [], "owner": {"reputation": 26, "user_id": 6648781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Nw9qQbGteZw/AAAAAAAAAAI/AAAAAAAAAck/vQw65FqxcDo/photo.jpg?sz=128", "display_name": "Simon Pichugin", "link": "https://stackoverflow.com/users/6648781/simon-pichugin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469711094, "creation_date": 1469711094, "answer_id": 38637265, "question_id": 38623221, "link": "https://stackoverflow.com/questions/38623221/terminal-hangs-after-sshing-via-python-subprocess/38637265#38637265", "title": "Terminal hangs after sshing via python subprocess", "body": "<p>If you want just to list directory contents, you can send some command over SSH.</p>\n\n<p>Bash:</p>\n\n<pre><code>ssh 192.168.122.24 ls /tmp\n</code></pre>\n\n<p>or if you want to use \"cd\" as in your question:</p>\n\n<pre><code>ssh 192.168.122.24 \"cd /tmp; ls\"\n</code></pre>\n\n<p>Python script example:</p>\n\n<pre><code>import subprocess\n\nHOST = 'server'\nPORT = '111'\nUSER = 'user'\nCMD = 'cd /tmp; ls'\n\nprocess = subprocess.Popen(['ssh', '{}@{}'.format(USER, HOST),\n                            '-p', PORT, CMD], \n                           shell=False,\n                           stdout=subprocess.PIPE,\n                           stderr=subprocess.PIPE)\nresult = process.stdout.readlines()\n\nif not result:\n    err = process.stderr.readlines()\n    print('ERROR: {}'.format(err))\nelse:\n    print(result)\n</code></pre>\n"}], "owner": {"reputation": 1385, "user_id": 3948658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/68ef0e09aaac0157ea8d44d9d8cd51bc?s=128&d=identicon&r=PG&f=1", "display_name": "dredbound", "link": "https://stackoverflow.com/users/3948658/dredbound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 1, "accepted_answer_id": 38637265, "answer_count": 1, "score": 3, "last_activity_date": 1469711094, "creation_date": 1469653737, "last_edit_date": 1469707753, "question_id": 38623221, "link": "https://stackoverflow.com/questions/38623221/terminal-hangs-after-sshing-via-python-subprocess", "title": "Terminal hangs after sshing via python subprocess", "body": "<p>I've been working on this for a long time, and any help would be appreciated.</p>\n\n<p>What I am trying to do here is ssh to a testing server, then cd .., and then print a list of the directories in that folder through python. This code is my best attempt:</p>\n\n<pre><code>def subprocess_cmd(command):\n    process = subprocess.Popen(command,stdout=subprocess.PIPE, shell=True)\n    print \"Test 1\"\n    proc_stdout = process.communicate()[0].strip()\n    #proc_stdout= process.stdout.readlines() (Gives same outcome as communicate)\n    #proc_stdout= process.stdout.read()  (Gives same outcome as communicate)\n    print \"Test 2\"\n    print proc_stdout\n</code></pre>\n\n<p>subprocess_cmd('ssh user@server -p 111;cd ..;ls')</p>\n\n<p>For some reason this function always hangs at the \"proc_stdout= \"step. It never prints \"Test 2\" or returns a list of files. It works fine if I take out the ssh command though. What I expect to see in the terminal is something like this, but instead the terminal hangs, and I can't interact with it anymore:</p>\n\n<pre><code>dredbounds-computer: python file_name.py\nTest 1\nTest 2\nFileA\nFileB\nFileC\n</code></pre>\n\n<p>Update:\n    I modified the code and and put proc_stdout= process.stderr. communicate(). \nHere is my updated code: </p>\n\n<pre><code>def subprocess_cmd(command):\n    process = subprocess.Popen(command,stdout=subprocess.PIPE, shell=True)\n    print \"Test 1\"\n    proc_stderr= process.stderr. communicate()\n    print \"Test 2\"\n    print proc_stderr\n    print \"Test 3\"\n</code></pre>\n\n<p>Running this I am getting the following error in the terminal: </p>\n\n<pre><code>dredbounds-computer: python terminal_test.py\nTest 1\nTraceback (most recent call last):\n  File \"file_name.py\", line 26, in &lt;module&gt;\n    subprocess_cmd('ssh user@server -p 111;cd ..;ls')\n  File \"terminal_test.py\", line 21, in subprocess_cmd\n    proc_stdout= process.stderr. communicate()\nAttributeError: 'NoneType' object has no attribute 'communicate'\n</code></pre>\n\n<p>Does anyone know how I can fix this code, or another way of doing the same thing. Not sure why this is giving me a none type error. Is there something wrong with how I call my ssh command? I've entered the same commands manually in the terminal and it returns a list of directories, so it should work in theory. Any advice?</p>\n"}, {"tags": ["python", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1469714107, "post_id": 38623229, "comment_id": 64660031, "body": "Super!  Got me to the next step.  Now, trying to actually run the program in debug.  here&#39;s the code: print (os.getcwd())"}, {"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1469714261, "post_id": 38623229, "comment_id": 64660150, "body": "Super!  Got me to the next step.  I have a one-liner: print (os.getcwd()) that I want to debug.  I click on the debug icon (or hit F5), There&#39;s a little blue moving line under Environment pulldown.  However, my code never runs.  Guess I&#39;m missing something. What would that be?"}, {"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1469714815, "post_id": 38623229, "comment_id": 64660611, "body": "forget those last two,  I got it"}, {"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 1, "creation_date": 1469718484, "post_id": 38623229, "comment_id": 64663539, "body": "Next thing.  Using the suggestion, I was surprised to see that the ${workspaceRoot} was not actually the root but the .vscode directory under the root.  Is this as expected? If so, I can set cwd to ${workspaceRoot}\\.. (on windows anway)"}], "tags": [], "owner": {"reputation": 1595, "user_id": 1831092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/654a64a1f932a0144befcfb416287b90?s=128&d=identicon&r=PG", "display_name": "Krzysztof Cieslak", "link": "https://stackoverflow.com/users/1831092/krzysztof-cieslak"}, "is_accepted": false, "score": 1, "last_activity_date": 1469653783, "creation_date": 1469653783, "answer_id": 38623229, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/38623229#38623229", "title": "VSCode -- how to set working directory for debug", "body": "<p>You can set up current working directory for debugged program using <code>cwd</code> argument in <code>launch.json</code></p>\n"}, {"comments": [{"owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1469720311, "post_id": 38637243, "comment_id": 64664902, "body": "Yup, did that.  I see that it&#39;s actually the .vscode directory, so I think I need to add \\.. to the end, right?"}, {"owner": {"reputation": 5876, "user_id": 4443457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebba8dda528baa8273aa12dba8118e6?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/4443457/don"}, "reply_to_user": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "edited": false, "score": 0, "creation_date": 1469745587, "post_id": 38637243, "comment_id": 64678311, "body": "Yes, will amend the answer accordingly"}, {"owner": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "edited": false, "score": 20, "creation_date": 1541015623, "post_id": 38637243, "comment_id": 93079003, "body": "<code>&quot;cwd&quot;: &quot;${fileDirname}&quot;</code> to run in current directory of open source file"}], "tags": [], "owner": {"reputation": 5876, "user_id": 4443457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebba8dda528baa8273aa12dba8118e6?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/4443457/don"}, "is_accepted": false, "score": 46, "last_activity_date": 1576714091, "last_edit_date": 1576714091, "creation_date": 1469711045, "answer_id": 38637243, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/38637243#38637243", "title": "VSCode -- how to set working directory for debug", "body": "<p>All you need to do is configure the cwd setting in launch.json file as follows:</p>\n\n<pre><code>{\n    \"name\": \"Python\",\n    \"type\": \"python\",\n    \"pythonPath\":\"python\", \n    ....\n    \"cwd\": \"&lt;Path to the directory&gt;\"\n    ....\n}\n</code></pre>\n\n<p>More information about this can be found <a href=\"https://code.visualstudio.com/docs/python/debugging#_cwd\" rel=\"noreferrer\">on the official VS Code docs website</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 22066, "user_id": 4468648, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/PS9id.jpg?s=128&g=1", "display_name": "Xin", "link": "https://stackoverflow.com/users/4468648/xin"}, "is_accepted": false, "score": 19, "last_activity_date": 1549395054, "last_edit_date": 1549395054, "creation_date": 1493970100, "answer_id": 43799218, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/43799218#43799218", "title": "VSCode -- how to set working directory for debug", "body": "<p><strong>This setting helps me:</strong></p>\n\n<pre><code>{\n  \"type\": \"node\",\n  \"request\": \"launch\",\n  \"name\": \"Launch Program\",\n  \"cwd\": \"${workspaceFolder}\\\\app\\\\js\", // set directory here\n  \"program\": \"${workspaceFolder}\\\\app\\\\js\\\\server.js\", // set start js here\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3990, "user_id": 246719, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab9d8b06b710af2cc248ad15e6714599?s=128&d=identicon&r=PG", "display_name": "Serhiy", "link": "https://stackoverflow.com/users/246719/serhiy"}, "edited": false, "score": 6, "creation_date": 1558080106, "post_id": 55072246, "comment_id": 98989687, "body": "Any way to set this as a default setting for all configurations?"}, {"owner": {"reputation": 2223, "user_id": 1630244, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pRubH.png?s=128&g=1", "display_name": "chrisinmtown", "link": "https://stackoverflow.com/users/1630244/chrisinmtown"}, "edited": false, "score": 1, "creation_date": 1603716934, "post_id": 55072246, "comment_id": 114115218, "body": "Be sure you&#39;re editing the right launch.json file!  In my experience VS Code creates a .vscode directory in every project folder I open. If yesterday you opened folder parent/ and today you opened parent/child/, you&#39;ll have to make changes appropriately."}, {"owner": {"reputation": 1978, "user_id": 1705829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/85YCp.gif?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/1705829/timo"}, "edited": false, "score": 1, "creation_date": 1606743227, "post_id": 55072246, "comment_id": 115045146, "body": "There is another file that looks similar to launch.json: workspace[x].code-workspace. It has a &#39;launch&#39; key. Is this setting there similar to launch.json entries?"}, {"owner": {"reputation": 1978, "user_id": 1705829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/85YCp.gif?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/1705829/timo"}, "edited": false, "score": 1, "creation_date": 1606746834, "post_id": 55072246, "comment_id": 115046872, "body": "Can I set the folder in the terminal to the folder the script was?. E.g. my last ps1 script line is set-location foo, I want the terminal to be in foo."}, {"owner": {"reputation": 23586, "user_id": 65326, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/073bb762e6c77ac6eee6cadeadf81aae?s=128&d=identicon&r=PG", "display_name": "Apreche", "link": "https://stackoverflow.com/users/65326/apreche"}, "edited": false, "score": 1, "creation_date": 1609429801, "post_id": 55072246, "comment_id": 115842584, "body": "This answer did not work for me, but this one did: <a href=\"https://stackoverflow.com/a/62331298/65326\">stackoverflow.com/a/62331298/65326</a>"}, {"owner": {"reputation": 139, "user_id": 2842389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38e84439fbeb7d6f74c76ed67212ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Benbob", "link": "https://stackoverflow.com/users/2842389/benbob"}, "edited": false, "score": 0, "creation_date": 1618802872, "post_id": 55072246, "comment_id": 118703903, "body": "What the heck is a launch.json file? Instructions make no sense."}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "reply_to_user": {"reputation": 139, "user_id": 2842389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f38e84439fbeb7d6f74c76ed67212ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Benbob", "link": "https://stackoverflow.com/users/2842389/benbob"}, "edited": false, "score": 0, "creation_date": 1618866348, "post_id": 55072246, "comment_id": 118728073, "body": "@Benbob, the launch.json file controls the run/debug settings of your Visual Studio code project; <a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-versus-attach-configurations\" rel=\"nofollow noreferrer\">more info on the launch.json file here</a>"}], "tags": [], "owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "is_accepted": true, "score": 181, "last_activity_date": 1606327162, "last_edit_date": 1606327162, "creation_date": 1552086551, "answer_id": 55072246, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/55072246#55072246", "title": "VSCode -- how to set working directory for debug", "body": "<p>@SpeedCoder5 's comment deserves to be an answer;</p>\n<p>Specifically, you can specify a dynamic working directory; (i.e. whichever directory where the currently-open Python file is located), using <code>&quot;cwd&quot;: &quot;${fileDirname}&quot;</code></p>\n<p>If you're using the <code>Python: Current File (Integrated Terminal)</code> option when you run Python, your <code>launch.json</code> file might look like mine, below.</p>\n<pre><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n    {\n            &quot;name&quot;: &quot;Python: Current File (Integrated Terminal)&quot;,\n            &quot;type&quot;: &quot;python&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;program&quot;: &quot;${file}&quot;,\n            &quot;console&quot;: &quot;integratedTerminal&quot;,\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;\n    }, \n\n    //... other settings, but I modified the &quot;Current File&quot; setting above ...\n}\n</code></pre>\n<p><a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-versus-attach-configurations\" rel=\"noreferrer\">Remember the <code>launch.json</code> file controls the run/debug  settings of your Visual Studio code project</a>; my <code>launch.json</code> file was auto-generated by VS Code, in the directory of my current &quot;Open Project&quot;. I just edited the file manually to add <code>&quot;cwd&quot;: &quot;${fileDirname}&quot;</code> as shown above.</p>\n<p>Remember the <code>launch.json</code> file may be specific to your project, or specific to your directory, so confirm you're editing the <em>correct</em> <code>launch.json</code> (see comment)</p>\n<p>If you don't have a <code>launch.json</code> file, <a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-configurations\" rel=\"noreferrer\">try this</a>:</p>\n<blockquote>\n<p>To create a launch.json file, open your project folder in VS Code (File &gt; Open Folder) and then select the Configure gear icon on the Debug view top bar.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 6134, "user_id": 2424587, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c95aa6752be7d1cc0e88f7a4ad2f9106?s=128&d=identicon&r=PG", "display_name": "Hanan Shteingart", "link": "https://stackoverflow.com/users/2424587/hanan-shteingart"}, "edited": false, "score": 0, "creation_date": 1611694084, "post_id": 58751479, "comment_id": 116532646, "body": "thanks, that helped. but I am not sure I understand why is that needed. Can you explain it please?"}], "tags": [], "owner": {"reputation": 964, "user_id": 6533353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b614dfd7a0f7a1f653d3a267f28a9dd1?s=128&d=identicon&r=PG", "display_name": "CermakM", "link": "https://stackoverflow.com/users/6533353/cermakm"}, "is_accepted": false, "score": 13, "last_activity_date": 1573138827, "creation_date": 1573138827, "answer_id": 58751479, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/58751479#58751479", "title": "VSCode -- how to set working directory for debug", "body": "<p>In some cases, it might be also useful to set the <code>PYTHONPATH</code> along with the <code>workspaceFolder</code>:</p>\n\n<pre><code>{\n    \"name\": \"Python: Current File\",\n    \"type\": \"python\",\n    \"request\": \"launch\",\n    \"program\": \"${file}\",\n    \"console\": \"integratedTerminal\",\n    \"cwd\": \"${workspaceFolder}\",\n    \"env\": {\n        \"PYTHONPATH\": \"${cwd}\"\n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1542982, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/XQhr0.jpg?s=128&g=1", "display_name": "MJ X", "link": "https://stackoverflow.com/users/1542982/mj-x"}, "is_accepted": false, "score": 5, "last_activity_date": 1583509602, "creation_date": 1583509602, "answer_id": 60567426, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/60567426#60567426", "title": "VSCode -- how to set working directory for debug", "body": "<p>I am posting this sample configuration for people who use TypeScript on Node.js </p>\n\n<p>in my project my Node.js server TypeScript files are located in folder Application_ts\nand the compiled js files are generated in the folder named Application</p>\n\n<p>because when we run our application in debug mode or start it normally we should start from Application folder which contains the js files\nso bellow configuration run debug from root folder where my application_ts also exists and works perfect</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n        \"type\": \"node\",\n        \"request\": \"launch\",\n        \"name\": \"Debug TypeScript in Node.js\",\n        \"program\": \"${workspaceRoot}\\\\Application\\\\app.js\",\n        \"cwd\": \"${workspaceRoot}\\\\Application\",\n        \"protocol\": \"inspector\",\n        \"outFiles\": [],\n        \"sourceMaps\": true\n    },        \n    {\n        \"type\": \"node\",\n        \"request\": \"attach\",\n        \"name\": \"Attach to Process\",\n        \"port\": 5858,\n        \"outFiles\": [],\n        \"sourceMaps\": true\n    }\n ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7677773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d883bc2685f0c99f4e23f41f2b92d0fb?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7677773/jake"}, "is_accepted": false, "score": 0, "last_activity_date": 1599658572, "creation_date": 1599658572, "answer_id": 63812875, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug/63812875#63812875", "title": "VSCode -- how to set working directory for debug", "body": "<p>To set current working directory to whatever file you are executing at the time:</p>\n<p>File &gt; Preferences &gt; Settings &gt; Python &gt; Data Science &gt; Execute in File Dir</p>\n<p>Thanks brch: <a href=\"https://stackoverflow.com/questions/56776521/python-in-vscode-set-working-directory-to-python-files-path-everytime\">Python in VSCode: Set working directory to python file&#39;s path everytime</a></p>\n"}], "owner": {"reputation": 4136, "user_id": 1443098, "user_type": "registered", "accept_rate": 2, "profile_image": "https://www.gravatar.com/avatar/943c60e4b1686ea72a0dd48fd394dee4?s=128&d=identicon&r=PG", "display_name": "user1443098", "link": "https://stackoverflow.com/users/1443098/user1443098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109074, "favorite_count": 24, "accepted_answer_id": 55072246, "answer_count": 7, "score": 116, "last_activity_date": 1606327162, "creation_date": 1469653385, "question_id": 38623138, "link": "https://stackoverflow.com/questions/38623138/vscode-how-to-set-working-directory-for-debug", "title": "VSCode -- how to set working directory for debug", "body": "<p>I'm starting to use vscode for Python.  I have a simple test program. I want to run it under debug and I need to set the working directory for the run. </p>\n\n<p>How/where do I do that?</p>\n"}, {"tags": ["python", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "edited": false, "score": 0, "creation_date": 1469685960, "post_id": 38623102, "comment_id": 64640837, "body": "Does tweet.author.screen_name or tweet.user.screen_name work?"}, {"owner": {"reputation": 631, "user_id": 4668284, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/kn6UR.jpg?s=128&g=1", "display_name": "hansolo", "link": "https://stackoverflow.com/users/4668284/hansolo"}, "reply_to_user": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "edited": false, "score": 0, "creation_date": 1469805616, "post_id": 38623102, "comment_id": 64705497, "body": "@YuriSchimke yes it does. thanks yuri!"}, {"owner": {"reputation": 565, "user_id": 6562240, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4a3ba6a945cb92d20ec289f418e8eec1?s=128&d=identicon&r=PG", "display_name": "Curious Student", "link": "https://stackoverflow.com/users/6562240/curious-student"}, "edited": false, "score": 0, "creation_date": 1510677329, "post_id": 38623102, "comment_id": 81532208, "body": "@hansolo - did you find you were getting 429 errors using this method of searching twitter?"}], "answers": [{"tags": [], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "is_accepted": false, "score": 1, "last_activity_date": 1469806029, "creation_date": 1469806029, "answer_id": 38662431, "question_id": 38623102, "link": "https://stackoverflow.com/questions/38623102/tweepy-api-search/38662431#38662431", "title": "Tweepy - API.Search", "body": "<p>To get the author's screenname use tweet.author.screen_name.  The profile is it's own object inside the tweet.</p>\n"}], "owner": {"reputation": 631, "user_id": 4668284, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/kn6UR.jpg?s=128&g=1", "display_name": "hansolo", "link": "https://stackoverflow.com/users/4668284/hansolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2544, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469806029, "creation_date": 1469653252, "last_edit_date": 1469653440, "question_id": 38623102, "link": "https://stackoverflow.com/questions/38623102/tweepy-api-search", "title": "Tweepy - API.Search", "body": "<p>I want to be able to run a search for keywords (<code>ContinuousDelivery</code> in this example) and have it return the date created, text and screen name of tweets containing the keyword and store it into a CSV which will ultimately be ported to a relational database. </p>\n\n<ol>\n<li><p>I can get the created and text but not the screen name with code below. </p></li>\n<li><p>I am also wondering how I can be sure I am getting all of the results pursuant to my request. </p></li>\n</ol>\n\n<p>I have looked at Twitter API documentation and the <code>tweepy</code> GitHub but neither has got me far. </p>\n\n<pre><code># --OAuth Headers omitted--\n\napi = tweepy.API(auth)\n# Open/Create a file to append data\ncsvFile = open('result17.csv', 'a')\n#Use csv Writer\ncsvWriter = csv.writer(csvFile)\n\n for tweet in tweepy.Cursor(api.search, \n                q=\"ContinuousDelivery\", \n                #since=\"2014-02-14\", \n                #until=\"2014-02-15\", \n                lang=\"en\").items(5000000):\n#Write a row to the csv file/ I use encode utf-8\ncsvWriter.writerow([tweet.created_at, tweet.text.encode('utf-8'), tweet.screen_name])\nprint tweet.created_at, tweet.text, tweet.screen_name\ncsvFile.close()\n</code></pre>\n"}, {"tags": ["python", "numpy", "polynomial-math", "polynomials"], "comments": [{"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469653250, "post_id": 38623076, "comment_id": 64631762, "body": "as a side comment: <code>p = [1, -2.8176255165067872, 2.6797211079532777, -0.86023870029448335]</code> gives a <i>decent</i> answer for <code>np.root</code>"}, {"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469653560, "post_id": 38623076, "comment_id": 64631899, "body": "It appears as thought the <code>numpy</code> documentation is incorrect. <code>np.roots</code> requires the <code>reversed()</code> array as an input"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469653713, "post_id": 38623076, "comment_id": 64631981, "body": "You&#39;re right that <code>np.roots</code> requires a reversed array -- but I think that the documentation is completely accurate in this regard..."}, {"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1469653858, "post_id": 38623076, "comment_id": 64632057, "body": "@mgilson you&#39;re totally correct. Looking carefully the docs are correct. I&#39;ve spent an hour reading them incorrectly !"}], "answers": [{"comments": [{"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469653600, "post_id": 38623178, "comment_id": 64631919, "body": "nice one Warren. We got there at about the same time, which is impressive since I had a whole one hour head start :)"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469653802, "post_id": 38623178, "comment_id": 64632027, "body": "That documentation looks correct to me.  What problem do you see?"}, {"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469653959, "post_id": 38623178, "comment_id": 64632115, "body": "I think it is a case of reading what I expect to see rather than what is actually there. I take it that the <code>polynomial</code> variant is the one that should be used as it seems to be more accurate"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1469654213, "post_id": 38623178, "comment_id": 64632245, "body": "I haven&#39;t heard that the code in the <code>polynomial</code> module is more accurate, but I&#39;m not saying it isn&#39;t.  That might be a question for the numpy mailing list."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 5, "last_activity_date": 1469653687, "last_edit_date": 1469653687, "creation_date": 1469653536, "answer_id": 38623178, "question_id": 38623076, "link": "https://stackoverflow.com/questions/38623076/why-is-numpys-root-failing/38623178#38623178", "title": "Why is numpy&#39;s root failing?", "body": "<p>The code in <code>numpy.polynomial</code> is newer than <code>numpy.roots</code> (and <code>numpy.poly1d</code>, etc).  In the new polynomial code, the convention for the order of the coefficients was changed.  In the new code, the coefficients are given in increasing order, while in the old code, the highest order coefficient is given first.</p>\n\n<pre><code>In [98]: p = [1, -2.8176255165067872, -0.97639120853458261, -0.86023870029448335]\n\nIn [99]: np.roots(p[::-1])\nOut[99]: array([-0.72347487+1.78978357j, -0.72347487-1.78978357j,  0.31192616+0.j        ])\n\nIn [100]: np.polynomial.polynomial.polyroots(p)\nOut[100]: array([-0.72347487-1.78978357j, -0.72347487+1.78978357j,  0.31192616+0.j        ])\n</code></pre>\n"}], "owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 1, "accepted_answer_id": 38623178, "answer_count": 1, "score": 2, "last_activity_date": 1469653687, "creation_date": 1469653177, "question_id": 38623076, "link": "https://stackoverflow.com/questions/38623076/why-is-numpys-root-failing", "title": "Why is numpy&#39;s root failing?", "body": "<ul>\n<li><em>Why is my answer from <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.roots.html\" rel=\"nofollow\"><code>np.roots</code></a> different from <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.polynomial.polynomial.polyroots.html\" rel=\"nofollow\"><code>np.polynomial.polynomial.polyroots</code></a>?</em></li>\n</ul>\n\n<p>Define the polynomial</p>\n\n<pre><code># a specific polynomial x**0 + x**1 + x**2 + x**3\np = [1, -2.8176255165067872, -0.97639120853458261, -0.86023870029448335]\n</code></pre>\n\n<p>Here is a neat example to demonstrate the difference,</p>\n\n<pre><code>import numpy as np\nr1 = np.roots(p); r2 = np.polynomial.polynomial.polyroots(p)\nf = lambda x: np.sum([x**i*j for i,j in enumerate(p)])\n\nprint \"{:&gt;10} {:&gt;10}\".format(\"roots\",\"polyroots\")\nfor i,j in zip(r1, r2): # test should return 0\n    print \"{:10.5f} {:10.5f}\".format(np.abs(f(i)),np.abs(f(j)))\n</code></pre>\n\n<p>The output is clearly not zero</p>\n\n<pre><code>     roots  polyroots\n  46.41221    0.00000\n   1.97595    0.00000\n   1.97595    0.00000\n</code></pre>\n\n<h2>Correct Case for Comparison</h2>\n\n<p>In comparision, Mathematica correctly obtains the roots:</p>\n\n<pre><code>fn[x_] := 1.` - 2.817625516506788` x - 0.97639120853458261` x^2 - 0.8602387002944835` x^3\nRoots[fn[x] == 0, x]\n</code></pre>\n\n<p>which provides the roots as:</p>\n\n<pre><code>x == -0.723475 - 1.78978 I || x == -0.723475 + 1.78978 I || x == 0.311926\n</code></pre>\n\n<p>Testing verifies this:</p>\n\n<pre><code>fn[-0.7234748700272414` - 1.7897835665374093` I]\n-4.44089*10^-16 - 2.66454*10^-15 \n</code></pre>\n"}, {"tags": ["python", "django", "rest", "login"], "answers": [{"comments": [{"owner": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 0, "creation_date": 1469727350, "post_id": 38626166, "comment_id": 64669465, "body": "Alright, that works, but now it&#39;s redirecting to <code>accounts&#47;profile</code> after login. What is the URL/page actually supposed to be? When I go to (...)/api-auth/, the only valid patterns it gives are <code>api-auth&#47; ^login&#47;$</code> and <code>api-auth&#47; ^logout&#47;$</code>."}, {"owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "reply_to_user": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 0, "creation_date": 1469731068, "post_id": 38626166, "comment_id": 64671565, "body": "that is a setting <code>LOGIN_REDIRECT_URL</code> <a href=\"https://docs.djangoproject.com/en/1.9/ref/settings/#login-redirect-url\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/ref/settings/#login-redirect-u&zwnj;&#8203;rl</a>"}, {"owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "reply_to_user": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 1, "creation_date": 1469731414, "post_id": 38626166, "comment_id": 64671769, "body": "keep in mind that you have multiple authentication methods. So with this method (session) you&#39;re going to be redirected to the <code>LOGIN_REDIRECT_URL</code>. However TokenAuthentication is different, and it will just respond with the token and not redirect. Just thought I&#39;d add this in case you had concerns about not wanting to redirect to the same place when you use TokenAuthentication"}, {"owner": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 0, "creation_date": 1469735735, "post_id": 38626166, "comment_id": 64673985, "body": "Well, the main issue I am having with that is the fact that it doesn&#39;t appear that the <code>include(&#39;rest_framework.urls&#39;)</code> statement in <code>urls.py</code> actually generates a URL for viewing the browsable API, and I don&#39;t know what that URL is supposed to be. Because of that, I don&#39;t know what to redirect the login to."}, {"owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "reply_to_user": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 0, "creation_date": 1469736788, "post_id": 38626166, "comment_id": 64674517, "body": "ah yeah that&#39;s always annoying. A little workaround i do is go to a url i know will return a 404 and it will show you all the urls (with name i.e. &#39;account-detail&#39;) that are generated magically through ViewSets. You can use that in a reverse, or just hardcode the url and then after session login it will redirect there."}, {"owner": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "edited": false, "score": 0, "creation_date": 1470432228, "post_id": 38626166, "comment_id": 64966248, "body": "Unfortunately, there are no url patterns that would seem to produce a page that would contain the browsable API. I have no idea why this is."}], "tags": [], "owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "is_accepted": false, "score": 5, "last_activity_date": 1469672798, "creation_date": 1469672798, "answer_id": 38626166, "question_id": 38623002, "link": "https://stackoverflow.com/questions/38623002/how-do-i-login-to-the-django-rest-browsable-api-when-i-have-a-custom-auth-model/38626166#38626166", "title": "How do I login to the Django Rest browsable API when I have a custom auth model?", "body": "<p>I've ran into this before too and from what I remember it's because the built-in DRF auth form is not using TokenAuthentication, but rather SessionAuthentication. Try adding <code>rest_framework.authentication.SessionAuthentication</code> to your <code>DEFAULT_AUTHENTICATION_CLASSES</code> tuple</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 5648649, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nlNE3i1Z-Rk/AAAAAAAAAAI/AAAAAAAAAh0/OyuZrJyzixI/photo.jpg?sz=128", "display_name": "uniqueNt", "link": "https://stackoverflow.com/users/5648649/uniquent"}, "edited": false, "score": 0, "creation_date": 1606302217, "post_id": 64617738, "comment_id": 114921591, "body": "thanks for sharing, actually I also only needed api in my project. but for testing purpose need session auth as well."}], "tags": [], "owner": {"reputation": 31, "user_id": 13432584, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oy_7EBeGJ0k/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJMgV4Mjf4QbZurVSyQpTkKqIM69NQ/photo.jpg?sz=128", "display_name": "Sanjeeb Kc", "link": "https://stackoverflow.com/users/13432584/sanjeeb-kc"}, "is_accepted": false, "score": 2, "last_activity_date": 1604109631, "creation_date": 1604109631, "answer_id": 64617738, "question_id": 38623002, "link": "https://stackoverflow.com/questions/38623002/how-do-i-login-to-the-django-rest-browsable-api-when-i-have-a-custom-auth-model/64617738#64617738", "title": "How do I login to the Django Rest browsable API when I have a custom auth model?", "body": "<p>Django Rest Framework &quot;Login to browsable API&quot; uses session authentication rather than token authentication. To add login to the browsable API follow the steps below:</p>\n<p>Step 1 : Add the following in the 'urls.py' file in your project.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>from django.urls import path, include\nurlpatterns += [path('api-auth/', include('rest_framework.urls')),]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Step 2 : You have added only TokenAuthentication in 'DEFAULT_AUTHENTICATION_CLASSES', you need to add sessionAuthentication as well. Change your code as below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework.authentication.TokenAuthentication',\n        'rest_framework.authentication.SessionAuthentication'\n    ),</code></pre>\r\n</div>\r\n</div>\r\n\nNow both your Token authentication for your custom authentication, and Session Authentication for Browsable API will work.</p>\n"}], "owner": {"reputation": 3763, "user_id": 1362215, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c9237a0432d6a65ac82edd0085a5d100?s=128&d=identicon&r=PG", "display_name": "Max Candocia", "link": "https://stackoverflow.com/users/1362215/max-candocia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3330, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1604109631, "creation_date": 1469652819, "question_id": 38623002, "link": "https://stackoverflow.com/questions/38623002/how-do-i-login-to-the-django-rest-browsable-api-when-i-have-a-custom-auth-model", "title": "How do I login to the Django Rest browsable API when I have a custom auth model?", "body": "<p>I have a custom user model as follows in <code>account/models.py</code></p>\n\n<pre><code>from django.contrib.auth.modles import AbstractUser\nfrom django.db.models.signals import post_save\nfrom rest_framework.authtoken.models import Token\nfrom django.db import models\nfrom django.dispatch import receiver\nfrom django.conf import settings\n\n@receiver(post_save, sender=settings.AUTH_USER_MODEL)                                \ndef create_auth_token(sender, instance=None, created=False, **kwargs):               \n    if created:                                                                      \n        Token.objects.create(user=instance)                                          \n\nclass UserProfile(AbstractUser):                                                     \n    gender = models.CharField(max_length=1,default='') \n</code></pre>\n\n<p>and in <code>settings.py</code></p>\n\n<pre><code>REST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework.authentication.TokenAuthentication',\n    )\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>AUTH_USER_MODEL = \"account.UserProfile\"\n</code></pre>\n\n<p>However, whenever I try to log into the browsable API, it asks me to use a correct username and password, and I am using credentials of users who are both marked as superusers and staff.</p>\n\n<p>The <code>manage.py runserver</code> console shows this status message:</p>\n\n<pre><code>[27/Jul/2016 20:41:39] \"POST /api-auth/login/ HTTP/1.1\" 200 2897\n</code></pre>\n"}, {"tags": ["python", "c++", "boost", "boost-python", "python-bindings"], "comments": [{"owner": {"reputation": 1355, "user_id": 1411160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P4XMo.jpg?s=128&g=1", "display_name": "Emil Sier\u017c\u0119ga", "link": "https://stackoverflow.com/users/1411160/emil-sier%c5%bc%c4%99ga"}, "edited": false, "score": 1, "creation_date": 1469653227, "post_id": 38622890, "comment_id": 64631753, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/145270/calling-c-c-from-python\">Calling C/C++ from python?</a>"}, {"owner": {"reputation": 6642, "user_id": 434233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y6HxN.png?s=128&g=1", "display_name": "Arunmu", "link": "https://stackoverflow.com/users/434233/arunmu"}, "edited": false, "score": 0, "creation_date": 1469654689, "post_id": 38622890, "comment_id": 64632495, "body": "You probably need GObject Introspection library."}, {"owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "edited": false, "score": 0, "creation_date": 1469654888, "post_id": 38622890, "comment_id": 64632590, "body": "At least with Cython it is possible to have call chain like &#39;C++ main -&gt; C function implemented in cython -&gt; python code -&gt; python module implemented in cython -&gt; C++ code...&#39;. It is probably possible with Boost.python also."}, {"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469684781, "post_id": 38622890, "comment_id": 64640318, "body": "It is worth pointing out that it is usually considered good practice for the C/C++ main to do very little other than parsing the parameters and then calling the actual processing with the parsed results - this makes what you are considering doing, or any bindings, much easier."}], "answers": [{"comments": [{"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469684564, "post_id": 38624911, "comment_id": 64640248, "body": "It might be worth mentioning the possibility of using a shared library, (.dll/.so), as a possibility as well as a static library."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "reply_to_user": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469714319, "post_id": 38624911, "comment_id": 64660199, "body": "The python extension module is (and must be) a shared library (.pyd/.so). The underlying code library has to be compatibile with that (-fPic) but making it also shared means you have to distribute it and not have any version/interface mismatches. Risk with no benefit."}, {"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469727154, "post_id": 38624911, "comment_id": 64669356, "body": "Please note that the answer above, mentions linking a <b>static</b> library to the python code - this is wrong. You also have the possibility of building a static library for a C++ executable and a shared library to bundle into a wheel with the python interface."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "reply_to_user": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469799967, "post_id": 38624911, "comment_id": 64701713, "body": "I&#39;m willing to correct any errors, but I think we just have a miscommunication. Python doesn&#39;t link, but it can import a shared library (python extension module). When this shared library was built from c++, other shared or static libraries may have been linked (and that&#39;s where your c++ code library came in)."}, {"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469802023, "post_id": 38624911, "comment_id": 64703177, "body": "Above states &quot;...and link the static library...&quot; then &quot;.. link the same c++ library ...&quot; it should read &quot; import a DLL built with the source of the same C++ library ...&quot;"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "reply_to_user": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469802945, "post_id": 38624911, "comment_id": 64703751, "body": "That is for building the original c++ executable."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "reply_to_user": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469804283, "post_id": 38624911, "comment_id": 64704623, "body": "Also, building multiple projects from the same SOURCE files is bad. That&#39;s the whole point of a library -- build once."}, {"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 0, "creation_date": 1469806667, "post_id": 38624911, "comment_id": 64706153, "body": "Building multiple outputs from a single set of source files is generally considered good especially it you can use make tools and keep the options the same for compiling both, so C++s -&gt; .obj happens once and objs -&gt; lib -&gt; exe plus objs -&gt; dll -&gt; wheel. Your original answer still reads that python is using the same [static] library."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "reply_to_user": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 1, "creation_date": 1469809512, "post_id": 38624911, "comment_id": 64707754, "body": "I edited my answer to separate my recommendation from the points we agree on.  And I do grant that makefile achieves the same thing of building the source once."}], "tags": [], "owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "is_accepted": true, "score": 1, "last_activity_date": 1469809118, "last_edit_date": 1469809118, "creation_date": 1469662952, "answer_id": 38624911, "question_id": 38622890, "link": "https://stackoverflow.com/questions/38622890/python-binding-of-functions-within-a-c-program/38624911#38624911", "title": "Python binding of functions within a c++ program", "body": "<p>We have an extensive c++ library which we made available to python through use of a python wrapper class which calls an interface that we defined in boost python. </p>\n\n<p>One python class handles all the queries in a pythonic manner, by calling a python extension module written in c++ with boost python. The python extension executes c++ code, so it can link and use anything from the original library.</p>\n\n<p>You said your c++ is an executable, though. Why can't you use system calls to launch a shell process? You can do that in any language, including python. What I thought was you want to access individual functions, which means you need all your functions in a static library. </p>\n\n<p>You build your c++ exe normally, linking the common code. You make a \"boost python extension module\" which links the common code, and can be imported by a python script. And of course a unit test executable, which links and tests the common code.  My preference is that the common code be a stand-alone static lib (use -fPic if there's a posix gcc build).</p>\n"}], "owner": {"reputation": 11, "user_id": 6646657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCOeD.jpg?s=128&g=1", "display_name": "Kari", "link": "https://stackoverflow.com/users/6646657/kari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 38624911, "answer_count": 1, "score": 0, "last_activity_date": 1469809118, "creation_date": 1469652352, "question_id": 38622890, "link": "https://stackoverflow.com/questions/38622890/python-binding-of-functions-within-a-c-program", "title": "Python binding of functions within a c++ program", "body": "<p>I have a program written in c++ that functions on it's own, however we want to make it accessible to Python. Specifically, we have several functions that are more efficient in c++, but we do a lot of other things with the output using Python scripts. I don't want to rewrite the whole of main() in Python as we make use of Boost's root finding algorithms and other functionalities that'd be a pain to do in Python. </p>\n\n<p>Is it possible to add Python binding to these functions while keeping the c++ main()? I've never done Python binding before, but I've looked at <a href=\"http://www.boost.org/doc/libs/1_61_0/libs/python/doc/html/tutorial/index.html\" rel=\"nofollow\">Boost.python</a> since we're already using Boost. Most of the examples use c++ functions/classes in a hpp file and embed them into a python program, which isn't exactly what we want.</p>\n\n<p>What we want is to keep our c++ program as a standalone so it can run as it is if users want, and also allow users to call these functions from a Python program. Being able to use the same Makefile and exe would be great. We don't really want to make a separate c++ library containing the bound functions; we're not interested in making a pythonic version of the code, merely allowing access to these useful functions.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "postgresql", "python-2.7", "datetime", "psycopg2"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469652652, "post_id": 38622876, "comment_id": 64631461, "body": "Because you&#39;re trying to compare a date to a date with time. When on that day is the date supposed to be? Either add a time to the date, or remove it from the datetime, <i>then</i> do the comparison."}, {"owner": {"reputation": 645, "user_id": 2853437, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/31d60f130ef5aeee4a6c4932567a872a?s=128&d=identicon&r=PG&f=1", "display_name": "user2853437", "link": "https://stackoverflow.com/users/2853437/user2853437"}, "edited": false, "score": 4, "creation_date": 1469652695, "post_id": 38622876, "comment_id": 64631485, "body": "<a href=\"http://stackoverflow.com/questions/7239315/cant-compare-datetime-datetime-to-datetime-date\" title=\"cant compare datetime datetime to datetime date\">stackoverflow.com/questions/7239315/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 6400967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ee53d35ad44b763b472ae0e39fa5ba?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Daigneault", "link": "https://stackoverflow.com/users/6400967/joseph-daigneault"}, "is_accepted": false, "score": -1, "last_activity_date": 1469659392, "last_edit_date": 1469659392, "creation_date": 1469654117, "answer_id": 38623310, "question_id": 38622876, "link": "https://stackoverflow.com/questions/38622876/comparing-dates-in-python/38623310#38623310", "title": "Comparing dates in python", "body": "<p>It looks like a type error.</p>\n\n<pre><code>ser_date = cursor.fetchone()\n</code></pre>\n\n<p>The above needs to be set to a date type for comparison.</p>\n"}], "owner": {"reputation": 21, "user_id": 6646556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e11a826dc65a773e4170fa05ff87b3?s=128&d=identicon&r=PG&f=1", "display_name": "chatch2016", "link": "https://stackoverflow.com/users/6646556/chatch2016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "closed_date": 1469687801, "answer_count": 1, "score": 2, "last_activity_date": 1469659392, "creation_date": 1469652281, "last_edit_date": 1469652956, "question_id": 38622876, "link": "https://stackoverflow.com/questions/38622876/comparing-dates-in-python", "closed_reason": "Duplicate", "title": "Comparing dates in python", "body": "<p>I am trying to compare dates in python. Can anyone tell me why this will not work.</p>\n\n<pre><code> cursor = conn.cursor()\n\n tech = raw_input(\"Please enter your id number: \")\n\n cursor.execute(\"Select cust_id from client where tech_id = %s\" % tech)\n rows = cursor.fetchall()\n day_num = datetime.datetime.today().weekday()\n\n\n dte = datetime.datetime.today()\n week = datetime.timedelta(days=5)\n service_inc = datetime.timedelta(days=14)\n friday = dte + datetime.timedelta(days=5)\n work = []\n for row in rows:\n     client = row[0];\n     cursor.execute(\"Select last_serviced from client where \" \\\n     \"cust_id= %s\" % client)\n     ser_date = cursor.fetchone()\n     ser_date = ser_date[0] + service_inc\n     if dte &lt;= ser_date &lt;= friday:\n         work.append(client)\n</code></pre>\n\n<p>The error I continue to get is can't compare datetime.datetime to datetime.date. Thanks for any help in advance.</p>\n"}, {"tags": ["python", "list", "split"], "answers": [{"comments": [{"owner": {"reputation": 1258, "user_id": 5606836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d188c6c0908205bfbaac125a962deea4?s=128&d=identicon&r=PG&f=1", "display_name": "Jerrybibo", "link": "https://stackoverflow.com/users/5606836/jerrybibo"}, "edited": false, "score": 0, "creation_date": 1469652735, "post_id": 38622869, "comment_id": 64631511, "body": "Is this an answer or an addition to the question?"}, {"owner": {"reputation": 1381, "user_id": 2950946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0004950ef51b069a6150b456ea7a73da?s=128&d=identicon&r=PG&f=1", "display_name": "Stefanus", "link": "https://stackoverflow.com/users/2950946/stefanus"}, "reply_to_user": {"reputation": 1258, "user_id": 5606836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d188c6c0908205bfbaac125a962deea4?s=128&d=identicon&r=PG&f=1", "display_name": "Jerrybibo", "link": "https://stackoverflow.com/users/5606836/jerrybibo"}, "edited": false, "score": 0, "creation_date": 1469689940, "post_id": 38622869, "comment_id": 64642940, "body": "That&#39;s my suggestion, but I&#39;m looking for better solutions."}], "tags": [], "owner": {"reputation": 1381, "user_id": 2950946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0004950ef51b069a6150b456ea7a73da?s=128&d=identicon&r=PG&f=1", "display_name": "Stefanus", "link": "https://stackoverflow.com/users/2950946/stefanus"}, "is_accepted": false, "score": 1, "last_activity_date": 1469652264, "creation_date": 1469652264, "answer_id": 38622869, "question_id": 38622868, "link": "https://stackoverflow.com/questions/38622868/how-to-split-a-list-of-numbers-based-on-the-distance-of-consecutive-elements-in/38622869#38622869", "title": "How to split a list of numbers based on the distance of consecutive elements in Python?", "body": "<p><strong>Code</strong></p>\n\n<pre><code>from boltons import iterutils\n\ndef grouponpairs(l, f):\n    groups = []\n    g = []\n    pairs = iterutils.pairwise(l + [None])\n    for a, b in pairs:\n        g.append(a)\n        if b is None:\n            continue\n        if not f(a, b):\n            groups.append(g)\n            g = []\n    groups.append(g)\n    return groups\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>grouponpairs([1, 2, 5, 3, -2, -1, 4, 5, 2, 4, 8], lambda a, b: abs(a - b) &lt;= 3)\n# [[1, 2, 5, 3], [-2, -1], [4, 5, 2, 4], [8]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": true, "score": 4, "last_activity_date": 1469653015, "creation_date": 1469653015, "answer_id": 38623043, "question_id": 38622868, "link": "https://stackoverflow.com/questions/38622868/how-to-split-a-list-of-numbers-based-on-the-distance-of-consecutive-elements-in/38623043#38623043", "title": "How to split a list of numbers based on the distance of consecutive elements in Python?", "body": "<p>You can do it using zip:</p>\n\n<pre><code># initialization\n&gt;&gt;&gt; lst = [1, 2, 5, 3, -2, -1, 4, 5, 2, 4, 8]\n&gt;&gt;&gt; n = 3\n</code></pre>\n\n<p>Find splitting locations using zip:</p>\n\n<pre><code>&gt;&gt;&gt; indices = [i + 1 for (x, y, i) in zip(lst, lst[1:], range(len(lst))) if n &lt; abs(x - y)]\n</code></pre>\n\n<p>Slice subslists using previous result:</p>\n\n<pre><code># pad start index list with 0 and end index list with length of original list\n&gt;&gt;&gt; result = [lst[start:end] for start, end in zip([0] + indices, indices + [len(lst)])]\n&gt;&gt;&gt; result\n[[1, 2, 5, 3], [-2, -1], [4, 5, 2, 4], [8]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1381, "user_id": 2950946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0004950ef51b069a6150b456ea7a73da?s=128&d=identicon&r=PG&f=1", "display_name": "Stefanus", "link": "https://stackoverflow.com/users/2950946/stefanus"}, "edited": false, "score": 0, "creation_date": 1469690833, "post_id": 38623101, "comment_id": 64643526, "body": "I like the clarity of your answer! How large would the difference in performance be?"}, {"owner": {"reputation": 1258, "user_id": 5606836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d188c6c0908205bfbaac125a962deea4?s=128&d=identicon&r=PG&f=1", "display_name": "Jerrybibo", "link": "https://stackoverflow.com/users/5606836/jerrybibo"}, "reply_to_user": {"reputation": 1381, "user_id": 2950946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0004950ef51b069a6150b456ea7a73da?s=128&d=identicon&r=PG&f=1", "display_name": "Stefanus", "link": "https://stackoverflow.com/users/2950946/stefanus"}, "edited": false, "score": 0, "creation_date": 1469708141, "post_id": 38623101, "comment_id": 64655128, "body": "It should not matter if you are not going for millisecond accuracy, but I&#39;ll do some tests on that soon."}], "tags": [], "owner": {"reputation": 1258, "user_id": 5606836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d188c6c0908205bfbaac125a962deea4?s=128&d=identicon&r=PG&f=1", "display_name": "Jerrybibo", "link": "https://stackoverflow.com/users/5606836/jerrybibo"}, "is_accepted": false, "score": 1, "last_activity_date": 1469653249, "creation_date": 1469653249, "answer_id": 38623101, "question_id": 38622868, "link": "https://stackoverflow.com/questions/38622868/how-to-split-a-list-of-numbers-based-on-the-distance-of-consecutive-elements-in/38623101#38623101", "title": "How to split a list of numbers based on the distance of consecutive elements in Python?", "body": "<p>Here's a more primitive piece of code that achieves what you want to do, even though it is not efficient (see Reut Sharabani's answer for a more efficient solution.)</p>\n\n<pre><code># Input list\nl = [1, 6, 5, 3, 5, 0, -3, -5, 2]\n# Difference to split list with\nn = 3\n\noutput = []\nt = []\nfor i in range(1, len(l)):\n    t.append(l[i])\n    if abs(l[i] - l[i - 1]) &lt; n:\n        None\n    else:\n        output.append(t)\n        t = []\nreturn output\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 640, "user_id": 5495024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f175c5d07f7522dd6caee95208f3eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/5495024/mehdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1469655713, "last_edit_date": 1469655713, "creation_date": 1469655341, "answer_id": 38623590, "question_id": 38622868, "link": "https://stackoverflow.com/questions/38622868/how-to-split-a-list-of-numbers-based-on-the-distance-of-consecutive-elements-in/38623590#38623590", "title": "How to split a list of numbers based on the distance of consecutive elements in Python?", "body": "<pre><code>n = 3\na = [1, 2, 5, 3, -2, -1, 4, 5, 2, 4, 8]\n\nb = [abs(i - j) &gt; n for i, j in zip(a[:-1], a[1:])]\nm = [i + 1 for i, j in enumerate(b) if j is True]\nm = [0] + m + [len(a)]\nresult = [a[i: j] for i, j in zip(m[:-1], m[1:])]\n\nprint(result)\n</code></pre>\n"}], "owner": {"reputation": 1381, "user_id": 2950946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0004950ef51b069a6150b456ea7a73da?s=128&d=identicon&r=PG&f=1", "display_name": "Stefanus", "link": "https://stackoverflow.com/users/2950946/stefanus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 38623043, "answer_count": 4, "score": 1, "last_activity_date": 1469775437, "creation_date": 1469652264, "last_edit_date": 1469775437, "question_id": 38622868, "link": "https://stackoverflow.com/questions/38622868/how-to-split-a-list-of-numbers-based-on-the-distance-of-consecutive-elements-in", "title": "How to split a list of numbers based on the distance of consecutive elements in Python?", "body": "<p>Given a list of numbers, how can I split it whenever the distance of two adjacent elements is larger than <em>n</em>?</p>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>n = 3   \nl = [1, 2, 5, 3, -2, -1, 4, 5, 2, 4, 8]\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[[1, 2, 5, 3], [-2, -1], [4, 5, 2, 4], [8]]\n</code></pre>\n"}, {"tags": ["python", "django", "web", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 768, "user_id": 3390595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8435f0fd22a3bdcdaf81eae77a78?s=128&d=identicon&r=PG&f=1", "display_name": "JClarke", "link": "https://stackoverflow.com/users/3390595/jclarke"}, "edited": false, "score": 0, "creation_date": 1469656095, "post_id": 38622832, "comment_id": 64633147, "body": "This could probably give you some insight. <a href=\"http://stackoverflow.com/questions/10399077/django-httpresponse-response-with-file-and-content\" title=\"django httpresponse response with file and content\">stackoverflow.com/questions/10399077/&hellip;</a>"}, {"owner": {"reputation": 431, "user_id": 5832318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be44f7b8d991502ac1eb10cf4e23286?s=128&d=identicon&r=PG&f=1", "display_name": "JJSanDiego", "link": "https://stackoverflow.com/users/5832318/jjsandiego"}, "reply_to_user": {"reputation": 768, "user_id": 3390595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465d8435f0fd22a3bdcdaf81eae77a78?s=128&d=identicon&r=PG&f=1", "display_name": "JClarke", "link": "https://stackoverflow.com/users/3390595/jclarke"}, "edited": false, "score": 0, "creation_date": 1469657502, "post_id": 38622832, "comment_id": 64633706, "body": "Hmm.. took a look, but still a little confused. Is it possible to pass in the dictionary back to the template, both the image, and the string? The image is dynamically generated along with the string... with the return render(request, &quot;pic_text_display.html&quot;,objects_to_render, content_type=&#39;image/png&#39;).. they are both available, but the picture does not render. I need the picture render, and then display the text. thoughts?"}, {"owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "edited": false, "score": 0, "creation_date": 1469659965, "post_id": 38622832, "comment_id": 64634510, "body": "If it&#39;s a small image you can also convert the image object to a base64 string (<a href=\"http://stackoverflow.com/questions/31826335/how-to-convert-pil-image-image-object-to-base64-string\" title=\"how to convert pil image image object to base64 string\">stackoverflow.com/questions/31826335/&hellip;</a>). Then use data-uri (<a href=\"https://css-tricks.com/data-uris/\" rel=\"nofollow noreferrer\">css-tricks.com/data-uris</a>) format to include it in your HTML."}, {"owner": {"reputation": 431, "user_id": 5832318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be44f7b8d991502ac1eb10cf4e23286?s=128&d=identicon&r=PG&f=1", "display_name": "JJSanDiego", "link": "https://stackoverflow.com/users/5832318/jjsandiego"}, "edited": false, "score": 0, "creation_date": 1469660603, "post_id": 38622832, "comment_id": 64634672, "body": "Philip - Thanks for the response. That is an interesting solution that I hadn&#39;t thought of. Still, I can&#39;t guarantee a small image since this is user uploaded, and the string is being output from the image. There is a dependency between the two. This appears to be mostly a problem with the dynamic image still needs a url to serve properly, as the dictionary context returns the location of the image object. there is a solution here for rendering a dynamic image to template, but I am really as a loss of how to implement, because in one post request I need to gen the image and return a string."}, {"owner": {"reputation": 431, "user_id": 5832318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be44f7b8d991502ac1eb10cf4e23286?s=128&d=identicon&r=PG&f=1", "display_name": "JJSanDiego", "link": "https://stackoverflow.com/users/5832318/jjsandiego"}, "edited": false, "score": 0, "creation_date": 1469660610, "post_id": 38622832, "comment_id": 64634675, "body": "this is the link with rendering dynamic to template. not a full answer here as I am not sure how to have one method just return the image, but then another method needs the image for the string, and return all in one response.  <a href=\"http://stackoverflow.com/questions/16358091/django-serve-dynamic-reportlab-png-to-template\" title=\"django serve dynamic reportlab png to template\">stackoverflow.com/questions/16358091/&hellip;</a>"}], "owner": {"reputation": 431, "user_id": 5832318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be44f7b8d991502ac1eb10cf4e23286?s=128&d=identicon&r=PG&f=1", "display_name": "JJSanDiego", "link": "https://stackoverflow.com/users/5832318/jjsandiego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1265, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469662853, "creation_date": 1469652144, "last_edit_date": 1469662853, "question_id": 38622832, "link": "https://stackoverflow.com/questions/38622832/django-return-image-and-text-to-same-template-simultaneously-for-display", "title": "Django: Return image and text to same Template simultaneously for display", "body": "<p>I have a method in views.py that creates an image and also creates a text string to return to a template for display. The string is dependent on the dynamically generated image, so I need the image to be created, then create the string, then return both to a view. I am not using a backend currently due to not desiring to keep photos, and strings around taking up space (user does not need it). </p>\n\n<p>Trying different things below:</p>\n\n<p>This code shows just the image correctly(without the string showing up since not returned):</p>\n\n<pre><code>response = HttpResponse(content_type='image/png')\nimage.save(response, \"PNG\")\nreturn response\n</code></pre>\n\n<p>This code just displays text:</p>\n\n<pre><code>    ##return text\n    response=HttpResponse()\n    response.write(the_string)\n    return response\n</code></pre>\n\n<p>This code doesn't quite work right as it just displays text (the PIL photo object text string instead of the image, the string is displayed correctly)</p>\n\n<pre><code>objects_to_render = {\"photo\":image,\"string\":the_string}\nreturn render(request, \"pic_text_display.html\",objects_to_render, content_type='image/png')\n</code></pre>\n\n<p>In \"pic_text_display.html\":</p>\n\n<pre><code>{{photo}}\n{{string}}\n</code></pre>\n\n<p>Here is the output from above:</p>\n\n<pre><code>&amp;lt;PIL.Image.Image image mode=RGBA size=512x512 at 0x7FCEA377FED0&amp;gt;\nthe string\n</code></pre>\n\n<p>How can I return an image and have the string available for display in the template at the same time? I am sure there is a better way to do this than I have been...</p>\n\n<p>Note that I am not using a backend model as I am not storing the attribute, just want to create the string and image, and return both for display. I seem to be having issues as I have different content types, or don't know the right syntax.</p>\n\n<p>Thanks for the help!!</p>\n"}, {"tags": ["python", "xlutils"], "comments": [{"owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 0, "creation_date": 1469652446, "post_id": 38622807, "comment_id": 64631355, "body": "are you using python3?"}, {"owner": {"reputation": 11, "user_id": 4171216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f531f71bade2ce8840227f378aeb461?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Rodriguez", "link": "https://stackoverflow.com/users/4171216/jose-rodriguez"}, "reply_to_user": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 0, "creation_date": 1470929863, "post_id": 38622807, "comment_id": 65160285, "body": "Yes, I am using python3.  Should this this operation be run from python 2 ( 2.7) instead?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4171216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f531f71bade2ce8840227f378aeb461?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Rodriguez", "link": "https://stackoverflow.com/users/4171216/jose-rodriguez"}, "edited": false, "score": 0, "creation_date": 1473788902, "post_id": 38902811, "comment_id": 66271428, "body": "Thanks, I corrected and it has allowed me to move forward...def  method(self,name,*args):         if self.name:             print (repr(self.name)),         print (&quot;%s:%r&quot;%(name,args))  Also had to add parentheses to print arguments on several associate files/scripts."}, {"owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "reply_to_user": {"reputation": 11, "user_id": 4171216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f531f71bade2ce8840227f378aeb461?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Rodriguez", "link": "https://stackoverflow.com/users/4171216/jose-rodriguez"}, "edited": false, "score": 0, "creation_date": 1473800292, "post_id": 38902811, "comment_id": 66276913, "body": "great! btw, this change is backwards compatible to 2.7"}], "tags": [], "owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "is_accepted": false, "score": 0, "last_activity_date": 1470937101, "creation_date": 1470937101, "answer_id": 38902811, "question_id": 38622807, "link": "https://stackoverflow.com/questions/38622807/python-xlutils-filter-py-syntax-error-print-reprself-name/38902811#38902811", "title": "Python - xlutils &quot;filter.py&quot; syntax error - print repr(self.name)", "body": "<p>In python3, the print command  is significantly different. in particular you can't say <code>print x</code>. you have to say <code>print(x)</code>.  See <a href=\"https://docs.python.org/3.0/whatsnew/3.0.html#print-is-a-function\" rel=\"nofollow\">https://docs.python.org/3.0/whatsnew/3.0.html#print-is-a-function</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4171216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f531f71bade2ce8840227f378aeb461?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Rodriguez", "link": "https://stackoverflow.com/users/4171216/jose-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470937101, "creation_date": 1469652062, "question_id": 38622807, "link": "https://stackoverflow.com/questions/38622807/python-xlutils-filter-py-syntax-error-print-reprself-name", "title": "Python - xlutils &quot;filter.py&quot; syntax error - print repr(self.name)", "body": "<p>I developing a script that will eventually use a pdfminer package to convert .pdfs to .txt files.  In preparing the the subject files for use, I am having to import copy from xlutils.copy</p>\n\n<p>from xlutils.copy import copy, I run into a syntax error from one of the copy.py associated python files (<em>line 699</em> of xlutils\\filter.py</p>\n\n<pre><code>def method(self,name,*args):\n    if self.name:\n        print repr(self.name),\n    print \"%s:%r\"%(name,args)\n</code></pre>\n\n<p>the syntax error cursor points to the area of print repr(self.name) between the \"r\" and the left parenthesis.  I discovered <strong>repr</strong> is not defined until line 825 of the filter.py script. </p>\n\n<p>What could be the exact cause of the syntax error and is their any way to correct the script such that filter.py does not trip up the xlutils.copy command?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "pivot-table", "tidyr"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 6491115, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71b0220fd336613d04f64812f8d963c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/6491115/nico"}, "edited": false, "score": 0, "creation_date": 1469653015, "post_id": 38622949, "comment_id": 64631652, "body": "In what step do I do this? When do I specify that Count is the value for Fraction?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1469653058, "last_edit_date": 1469653058, "creation_date": 1469652599, "answer_id": 38622949, "question_id": 38622801, "link": "https://stackoverflow.com/questions/38622801/add-columns-to-a-pivot-table-pandas/38622949#38622949", "title": "Add columns to a pivot table (pandas)", "body": "<p>try this:</p>\n\n<pre><code>In [144]: df\nOut[144]:\n   Protein Peptide  Start Fraction  Count\n0        1       A    122       F1      1\n1        1       A    122       F2      2\n2        1       B    230       F1      3\n3        1       B    230       F2      4\n\nIn [145]: df.pivot_table(index=['Protein','Peptide','Start'], columns='Fraction').reset_index()\nOut[145]:\n         Protein Peptide Start Count\nFraction                          F1 F2\n0              1       A   122     1  2\n1              1       B   230     3  4\n</code></pre>\n\n<p>you can also specify <code>Count</code> column explicitly:</p>\n\n<pre><code>In [146]: df.pivot_table(index=['Protein','Peptide','Start'], columns='Fraction', values='Count').reset_index()\nOut[146]:\nFraction  Protein Peptide  Start  F1  F2\n0               1       A    122   1   2\n1               1       B    230   3   4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1469654280, "last_edit_date": 1469654280, "creation_date": 1469653909, "answer_id": 38623264, "question_id": 38622801, "link": "https://stackoverflow.com/questions/38622801/add-columns-to-a-pivot-table-pandas/38623264#38623264", "title": "Add columns to a pivot table (pandas)", "body": "<p>Using <code>stack</code>:</p>\n\n<pre><code>df.set_index(df.columns[:4].tolist()) \\\n  .Count.unstack().reset_index() \\\n  .rename_axis(None, axis=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WvvP2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvvP2.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 311, "user_id": 6491115, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71b0220fd336613d04f64812f8d963c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/6491115/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2022, "favorite_count": 1, "accepted_answer_id": 38622949, "answer_count": 2, "score": 6, "last_activity_date": 1469654826, "creation_date": 1469652046, "last_edit_date": 1469654826, "question_id": 38622801, "link": "https://stackoverflow.com/questions/38622801/add-columns-to-a-pivot-table-pandas", "title": "Add columns to a pivot table (pandas)", "body": "<p>I know in R I can use tidyr for the following:</p>\n\n<pre><code>data_wide &lt;- spread(data_protein, Fraction, Count)\n</code></pre>\n\n<p>and data_wide will inherit all the columns from data_protein that are not spread.</p>\n\n<pre><code>Protein Peptide  Start  Fraction  Count\n1             A    122       F1     1\n1             A    122       F2     2     \n1             B    230       F1     3     \n1             B    230       F2     4\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>Protein Peptide  Start  F1  F2\n1             A    122   1  2\n1             B    230   3  4     \n</code></pre>\n\n<p>But in pandas (Python),</p>\n\n<pre><code>data_wide = data_prot2.reset_index(drop=True).pivot('Peptide','Fraction','Count').fillna(0)\n</code></pre>\n\n<p>doesn't inherit anything not specified in the function (index, key, value).\nThus, I decided to join it through df.join():</p>\n\n<pre><code>data_wide2 = data_wide.join(data_prot2.set_index('Peptide')['Start']).sort_values('Start')\n</code></pre>\n\n<p>But that produces duplicates of the peptides because there are several start values. Is there any more straightforward way to solve this? Or a special parameter for join that omits repeats? Thank you in advance.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 13151, "user_id": 3329664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OU5vg.jpg?s=128&g=1", "display_name": "Billal Begueradj", "link": "https://stackoverflow.com/users/3329664/billal-begueradj"}, "edited": false, "score": 1, "creation_date": 1469652868, "post_id": 38622781, "comment_id": 64631582, "body": "Change the line after <code>else</code> to: <code>self.answer.config(text = qtxt, image=None)</code>"}, {"owner": {"reputation": 757, "user_id": 2256243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KQ8z0.png?s=128&g=1", "display_name": "polpetti", "link": "https://stackoverflow.com/users/2256243/polpetti"}, "reply_to_user": {"reputation": 13151, "user_id": 3329664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OU5vg.jpg?s=128&g=1", "display_name": "Billal Begueradj", "link": "https://stackoverflow.com/users/3329664/billal-begueradj"}, "edited": false, "score": 0, "creation_date": 1469707940, "post_id": 38622781, "comment_id": 64654997, "body": "Sorry, nope, still the same error"}, {"owner": {"reputation": 13151, "user_id": 3329664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OU5vg.jpg?s=128&g=1", "display_name": "Billal Begueradj", "link": "https://stackoverflow.com/users/3329664/billal-begueradj"}, "edited": false, "score": 1, "creation_date": 1469709160, "post_id": 38622781, "comment_id": 64655860, "body": "I want to test your code but I do not know how you installed this mysterious <code>parse_notes</code> library"}, {"owner": {"reputation": 757, "user_id": 2256243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KQ8z0.png?s=128&g=1", "display_name": "polpetti", "link": "https://stackoverflow.com/users/2256243/polpetti"}, "reply_to_user": {"reputation": 13151, "user_id": 3329664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OU5vg.jpg?s=128&g=1", "display_name": "Billal Begueradj", "link": "https://stackoverflow.com/users/3329664/billal-begueradj"}, "edited": false, "score": 0, "creation_date": 1469799331, "post_id": 38622781, "comment_id": 64701264, "body": "My b, parse_notes is here: <a href=\"http://pastebin.com/raw/1a8H4bVf\" rel=\"nofollow noreferrer\">pastebin.com/raw/1a8H4bVf</a> and test.md is here: <a href=\"http://pastebin.com/raw/9RaZ3wSD\" rel=\"nofollow noreferrer\">pastebin.com/raw/9RaZ3wSD</a> . Thank you for your help!"}, {"owner": {"reputation": 757, "user_id": 2256243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KQ8z0.png?s=128&g=1", "display_name": "polpetti", "link": "https://stackoverflow.com/users/2256243/polpetti"}, "reply_to_user": {"reputation": 13151, "user_id": 3329664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OU5vg.jpg?s=128&g=1", "display_name": "Billal Begueradj", "link": "https://stackoverflow.com/users/3329664/billal-begueradj"}, "edited": false, "score": 0, "creation_date": 1471874382, "post_id": 38622781, "comment_id": 65510676, "body": "I never did figure out how to reuse a <code>tk.Label</code> to display an image and then text. I settled on having multiple <code>tk.Label</code>s, some dedicated to displaying images only and others to displaying text only. The project code ended up here: <a href=\"https://github.com/ilyakava/tkflashcards\" rel=\"nofollow noreferrer\">github.com/ilyakava/tkflashcards</a>"}], "owner": {"reputation": 757, "user_id": 2256243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KQ8z0.png?s=128&g=1", "display_name": "polpetti", "link": "https://stackoverflow.com/users/2256243/polpetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469651989, "creation_date": 1469651989, "question_id": 38622781, "link": "https://stackoverflow.com/questions/38622781/tkinter-alternating-displaying-an-image-and-text", "title": "Tkinter alternating displaying an image and text", "body": "<p>I have a flashcards quiz game in python 2.7 with Tkinter. The general idea is to display a question with no answer, then to add a display of the answer, then to place a new question and erase the answer, and repeat... Sometimes the answer to a question is an image, and sometimes it is text. I want to be able to alternate between showing nothing, showing an image, showing nothing, and showing text. Showing images only, or text only, or images after text works fine. It is showing text after images that does not work for me.</p>\n\n<p>Here is the pertinent part of my code (where a latex string is converted to an image):</p>\n\n<pre><code>self.answer = tk.Label(master, text = '')\nself.answer.pack()\n# stuff stuff stuff\n\nqtxt = self.last_question['A']\nif self.last_question['type'] == 'flash-latex':\n    sympy.preview(qtxt, viewer='file', filename='qtemp.jpg', euler=False)\n    image = Image.open('qtemp.jpg')\n    photo = ImageTk.PhotoImage(image)\n    self.answer.image = photo\n    self.answer.config(image = photo)\n    self.answer.pack()\nelse:\n    self.answer.config(text = qtxt)\n</code></pre>\n\n<p>Where <code>master = Tk()</code>.\nThe error I get if I try to display text after an image is:</p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python/2.7.8_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1486, in __call__\n    return self.func(*args)\n  File \"game.py\", line 65, in next_frame\n    self.answer.config(image = None, text = qtxt)\n  File \"/usr/local/Cellar/python/2.7.8_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1271, in configure\n    return self._configure('configure', cnf, kw)\n  File \"/usr/local/Cellar/python/2.7.8_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py\", line 1262, in _configure\n    self.tk.call(_flatten((self._w, cmd)) + self._options(cnf))\nTclError: image \"pyimage1\" doesn't exist\n</code></pre>\n\n<p>Here is my full code: <a href=\"http://pastebin.com/raw/SdS2fRHJ\" rel=\"nofollow\">http://pastebin.com/raw/SdS2fRHJ</a>\nNote that some questions with a similar error message to mine on SO had multiple <code>Tk()</code> calls, which is not the case here.</p>\n\n<p>I am using <code>self.label_instance.config(opts)</code> instead of creating new <code>tk.Label</code>s because I don't want the elements in the window to move around.</p>\n\n<p>p.s. I have a suspicion that some reference to the image needs to be erased, or is being prematurely erased, but I am not sure...</p>\n\n<p>p.p.s. I can solve the problem by never trying to display text after an image, i.e. by having two Labels for answers, one for images, and one for text, and displaying a blank image when no image is needed. But, I am curious if this problem is actually fixable (using the same label to display an image, then text, then an image, etc.), or if my workaround is as clean as it gets.</p>\n"}, {"tags": ["python", "integer", "bit-manipulation"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 3, "creation_date": 1469652112, "post_id": 38622776, "comment_id": 64631190, "body": "The real-world implication is that you don&#39;t have to write awful unreadable code which uses bitshift hacks to do arithmetic.  You just write basic math and it just works .."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1469652181, "post_id": 38622776, "comment_id": 64631220, "body": "You don&#39;t get silent misbehavior when you end up needing bigger integers than you expected."}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1469652849, "post_id": 38622776, "comment_id": 64631576, "body": "What do you mean by &#39;implications&#39;, exactly? The only real implication is that you have to be careful. Are you looking for something more specific? If so, what?"}], "answers": [{"comments": [{"owner": {"reputation": 2731, "user_id": 2102585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261dfa9c0baa1cdadbd56a9aae116389?s=128&d=identicon&r=PG", "display_name": "flornquake", "link": "https://stackoverflow.com/users/2102585/flornquake"}, "edited": false, "score": 1, "creation_date": 1469652279, "post_id": 38622812, "comment_id": 64631269, "body": "Although this is a good point, it does not answer the question at all."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 2731, "user_id": 2102585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261dfa9c0baa1cdadbd56a9aae116389?s=128&d=identicon&r=PG", "display_name": "flornquake", "link": "https://stackoverflow.com/users/2102585/flornquake"}, "edited": false, "score": 0, "creation_date": 1469652631, "post_id": 38622812, "comment_id": 64631454, "body": "how does this not answer the question ... you have to enforce sizes if you are trying to implement  checksums ... thats all there is too it ..."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 3, "last_activity_date": 1469652686, "last_edit_date": 1469652686, "creation_date": 1469652088, "answer_id": 38622812, "question_id": 38622776, "link": "https://stackoverflow.com/questions/38622776/what-are-the-implications-of-python-integers-not-being-limited-by-32-or-64-bit-s/38622812#38622812", "title": "What are the implications of Python integers not being limited by 32 or 64 bit size?", "body": "<p>the implications are that you must <strong>know</strong> and <strong>enforce</strong> your own integer widths when computing checksums</p>\n\n<p>you make it the size you want </p>\n\n<pre><code>carry = (a &amp; b)&amp;255\na = (a ^ b)&amp;255\nb = (carry &lt;&lt; 1)&amp;255\n</code></pre>\n\n<p>would be one byte wide integers ... </p>\n"}], "owner": {"reputation": 1104, "user_id": 466919, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c2a1e36ca5742482a9581b5e1e753979?s=128&d=identicon&r=PG", "display_name": "Ivan Vashchenko", "link": "https://stackoverflow.com/users/466919/ivan-vashchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 38622812, "answer_count": 1, "score": 2, "last_activity_date": 1469652686, "creation_date": 1469651976, "question_id": 38622776, "link": "https://stackoverflow.com/questions/38622776/what-are-the-implications-of-python-integers-not-being-limited-by-32-or-64-bit-s", "title": "What are the implications of Python integers not being limited by 32 or 64 bit size?", "body": "<p>There's a bit manipulation problem that asks you to sum up two integers without using + or - operators. Below is the code in Java:</p>\n\n<pre><code>public int getSum(int a, int b) {\n    while (b != 0) {\n        int carry = a &amp; b;\n        a = a ^ b;\n        b = carry &lt;&lt; 1;\n    }\n    return a;\n}\n</code></pre>\n\n<p>When you try to sum up -1 and 1, the intermediate values take on [-2, 2], [-4, 4] and so on until the number overflows and the result reaches 0. You can't do the same in Python, the process goes on forever taking up an entire CPU thread and slowly growing in memory. It seems that on my machine the numbers will grow for a while until no memory is left.</p>\n\n<pre><code>def getSum(a, b):\n    while c != 0:\n        carry = a &amp; b\n        a = a ^ b\n        b = carry &lt;&lt; 1\n    return a\n\nif __name__ == '__main__':\n    print getSum(-1, 1) # will run forever\n</code></pre>\n\n<p>This is rather peculiar example, are there any real-world implications of not having the integers limited in size?</p>\n"}, {"tags": ["javascript", "python", "json"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 4, "creation_date": 1469651864, "post_id": 38622741, "comment_id": 64631066, "body": "How exactly are you getting data from python to javascript?"}, {"owner": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "edited": false, "score": 0, "creation_date": 1469652156, "post_id": 38622741, "comment_id": 64631210, "body": "Is it possible you&#39;re being returned JSON already (instead of a string that needs to be parsed)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "reply_to_user": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "edited": false, "score": 0, "creation_date": 1469652461, "post_id": 38622741, "comment_id": 64631367, "body": "@Hodrobond: JSON <i>is</i> a string that needs to be parsed. How else could it be transferred?"}, {"owner": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "edited": false, "score": 0, "creation_date": 1469652610, "post_id": 38622741, "comment_id": 64631445, "body": "Apologies, I thought there was a possibility of it being transferred as the object, not a string"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "reply_to_user": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "edited": false, "score": 1, "creation_date": 1469652772, "post_id": 38622741, "comment_id": 64631536, "body": "@Hodrobond: Yeah, that would require knowledge of the binary representation that the JS engine in the browser uses for the object, as well as a way to import that binary data. JSON exists as a serialization to remedy that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1469652884, "post_id": 38622741, "comment_id": 64631591, "body": "...however it is possible that some API has already parsed it into an object when it arrived."}], "answers": [{"tags": [], "owner": {"reputation": 1505, "user_id": 1234625, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9YDMT.jpg?s=128&g=1", "display_name": "Marios Fakiolas", "link": "https://stackoverflow.com/users/1234625/marios-fakiolas"}, "is_accepted": false, "score": 0, "last_activity_date": 1469652182, "creation_date": 1469652182, "answer_id": 38622845, "question_id": 38622741, "link": "https://stackoverflow.com/questions/38622741/javascript-syntaxerror-json-parse-unexpected-character-line-1/38622845#38622845", "title": "JavaScript SyntaxError: JSON.parse: unexpected character line 1", "body": "<p>I 've tested quickly with JSONlint so you definitely get valid json already. There is no need to normalize this with <code>JSON.parse()</code> since it is already fine. Only thing you have to do is:</p>\n\n<pre><code>var myVar2 = jsVar;\n</code></pre>\n\n<p>If you check <code>console.log(myVar2.TT1001);</code> will present you some array data as wanted.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1469652601, "post_id": 38622873, "comment_id": 64631442, "body": "What he posted in the question is how JSON would look if it came from a server. There wouldn&#39;t be outer quotation marks. Those would only be there if you were creating JSON data directly in a JS program, like: <code>var j = &#39;{&quot;foo&quot;:&quot;bar&quot;}&#39;</code>. The outer quotes aren&#39;t part of the resulting data. They&#39;re just syntactic delimiters that tell the JS engine that you want to create a string."}, {"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1469653655, "post_id": 38622873, "comment_id": 64631946, "body": "@squint You are too strict.. :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1106925"}, "edited": false, "score": 0, "creation_date": 1469658840, "post_id": 38622873, "comment_id": 64634143, "body": "Yeah, I know... :-) Just that people get so mixed up about JSON stuff. When they post raw JSON data in a question, it looks like JavaScript code, so it&#39;s hard to tell sometimes what they actually have."}], "tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1469652270, "creation_date": 1469652270, "answer_id": 38622873, "question_id": 38622741, "link": "https://stackoverflow.com/questions/38622741/javascript-syntaxerror-json-parse-unexpected-character-line-1/38622873#38622873", "title": "JavaScript SyntaxError: JSON.parse: unexpected character line 1", "body": "<p>Your data is already parsed and you can simply use it like javascript object. if your data is like </p>\n\n<pre><code>\"{\"TT1004\":[[1004,45.29610904,-75.92654658,66.99666476,150,false]],\"TT1001\":[[1001,45.29647122,-75.92388129,64.61642341,150,false]],\"TT1003\":[[1003,45.29610938,-75.92654338,67.24002542,150,false]],\"TT1002\":[[1002,45.29626098,-75.92490861,65.30088048,150,true]]}\"\n</code></pre>\n\n<p>a JSON string, then you need to parse it but the data you pasted above is a javascript object.</p>\n\n<pre><code>{\n    \"TT1004\": [\n      [1004, 45.296109039999997, -75.926546579999993, 66.996664760000002, 150, false]\n    ],\n    \"TT1001\": [\n      [1001, 45.296471220000001, -75.923881289999997, 64.616423409999996, 150, false]\n    ],\n    \"TT1003\": [\n      [1003, 45.296109379999997, -75.926543379999998, 67.240025419999995, 150, false]\n    ],\n    \"TT1002\": [\n      [1002, 45.29626098, -75.924908610000003, 65.300880480000004, 150, true]\n    ]\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 6640938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XAEI.png?s=128&g=1", "display_name": "Almond", "link": "https://stackoverflow.com/users/6640938/almond"}, "is_accepted": false, "score": -1, "last_activity_date": 1469652551, "creation_date": 1469652551, "answer_id": 38622939, "question_id": 38622741, "link": "https://stackoverflow.com/questions/38622741/javascript-syntaxerror-json-parse-unexpected-character-line-1/38622939#38622939", "title": "JavaScript SyntaxError: JSON.parse: unexpected character line 1", "body": "<p>Your data is already a JavaScript object. You can do something like this if you aren't sure whether the object you're getting back is already a valid JavaScript object.</p>\n\n<pre><code>if(typeof data != 'object') \n{ \n  var data = JSON.parse(data);\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5920455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d8907b7016ef3994cd1c550a484029?s=128&d=identicon&r=PG", "display_name": "Bill N", "link": "https://stackoverflow.com/users/5920455/bill-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1073, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1493245199, "creation_date": 1469651803, "last_edit_date": 1493245199, "question_id": 38622741, "link": "https://stackoverflow.com/questions/38622741/javascript-syntaxerror-json-parse-unexpected-character-line-1", "title": "JavaScript SyntaxError: JSON.parse: unexpected character line 1", "body": "<p>In Python I load a variable with data then convert it to json with this code.</p>\n\n<pre><code>jsVar = (json.dumps(jsPass)) \n</code></pre>\n\n<p>which produces this output. {\"TT1004\": [[1004, 45.296109039999997, -75.926546579999993, 66.996664760000002, 150, false]], \"TT1001\": [[1001, 45.296471220000001, -75.923881289999997, 64.616423409999996, 150, false]], \"TT1003\": [[1003, 45.296109379999997, -75.926543379999998, 67.240025419999995, 150, false]], \"TT1002\": [[1002, 45.29626098, -75.924908610000003, 65.300880480000004, 150, true]]} </p>\n\n<p>The output passes validation on the JSON Formatter &amp; Validator website. When I run the javaScript code</p>\n\n<pre><code>var myVar2 = {};\nvar myVar2 = JSON.parse(jsVar); \n</code></pre>\n\n<p>I get the following error</p>\n\n<p>SyntaxError: JSON.parse: unexpected character at line 1 column 2 of the JSON data. </p>\n\n<p>I am not very strong with JS and new to JSON. Any constructive comments, website or literature suggestions will be greatly appreciated.</p>\n\n<p>Better Focus on the actual Issue.\nFrom your very helpful explanations and questions I can see that I don\u2019t need to parse the data. As has been stated here the variable holds valid JavaScript array data. What I\u2019m discovering is that the variable generated in Python is not the variable that I\u2019m accessing in JS, even though they are in the same file location and have the same name. The process is set up to run like this. First, the Python code generates the JSON variable, second the JavaScript code assigns a variable with the data from the variable generated in Python and then the HTML file is fired to execute the JS code.  When I look at the output of the console.log or .dir methods for the JavaScript variable there is no data. What I need to learn is how to import the Python variable into the JavaScript Code. I don\u2019t know whether this question can be answered here or should I ask another question in StackOverFlow? </p>\n"}, {"tags": ["python", "reference", "counting"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1469652545, "creation_date": 1469652545, "answer_id": 38622937, "question_id": 38622715, "link": "https://stackoverflow.com/questions/38622715/still-confused-about-reference-counting/38622937#38622937", "title": "Still confused about reference counting", "body": "<ol>\n<li><code>gc.get_referrers</code> only returns objects the cycle-detecting GC knows about. Objects that couldn't possibly be involved in a reference cycle don't need to be tracked by the cycle detector, so they might not show up in the <code>get_referrers</code> list.</li>\n<li><p>With <a href=\"https://hg.python.org/cpython/file/2.7/Objects/intobject.c#l79\" rel=\"nofollow\">this array here</a>:</p>\n\n<pre><code>static PyIntObject *small_ints[NSMALLNEGINTS + NSMALLPOSINTS];\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 6646660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6860410d047ec6152c8fcf8eb7f239?s=128&d=identicon&r=PG&f=1", "display_name": "2nd law and disorder", "link": "https://stackoverflow.com/users/6646660/2nd-law-and-disorder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1469652545, "creation_date": 1469651721, "last_edit_date": 1495539862, "question_id": 38622715, "link": "https://stackoverflow.com/questions/38622715/still-confused-about-reference-counting", "title": "Still confused about reference counting", "body": "<p>Out of curiosity, I am trying to understand how reference counting works in Python. These two entries: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/38253757/3001761\">Why are Python Ref Counts to small integers surprisingly high?</a></li>\n<li><a href=\"https://stackoverflow.com/q/510406/3001761\">Is there a way to get the current ref count of an object in Python?</a></li>\n</ul>\n\n<p>were helpful, but still raised questions.</p>\n\n<ol>\n<li><p>Using <code>sys.getrefcount()</code> returns a different value than <code>len(gc.get_referrers())</code>.  For example:</p>\n\n<pre><code>&gt;&gt;&gt; a = 3\n&gt;&gt;&gt; print sys.getrefcount(a)\n38\n&gt;&gt;&gt; print len(gc.get_referrers(a))\n23\n</code></pre>\n\n<p>Why the difference?</p></li>\n<li><p>As I understand it, the reference count on <code>a</code> is so high because there is already an object holding an integer value of <code>3</code> at the time I bound the name <code>a</code> to it. How does Python keep track of which object is holding <code>3</code> so that it binds the name <code>a</code> to it and increments its reference count accordingly?</p></li>\n</ol>\n"}, {"tags": ["python", "radare2"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1469653001, "post_id": 38622681, "comment_id": 64631643, "body": "How did you install radare2?"}, {"owner": {"reputation": 83, "user_id": 3636085, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uuyzp.jpg?s=128&g=1", "display_name": "UdaySagar", "link": "https://stackoverflow.com/users/3636085/udaysagar"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1469793626, "post_id": 38622681, "comment_id": 64697437, "body": "I have installed using &quot;pip install r2pipe&quot;"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1469801076, "post_id": 38622681, "comment_id": 64702555, "body": "when i only install r2pipe, it didnt work. once I installed radare2 everything works as expected"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 3, "last_activity_date": 1469653414, "creation_date": 1469653414, "answer_id": 38623148, "question_id": 38622681, "link": "https://stackoverflow.com/questions/38622681/python-couldnt-open-a-file-using-radare2-invalid-option-0/38623148#38623148", "title": "python - couldn&#39;t open a file using radare2: invalid option -- &#39;0&#39;", "body": "<p>Here's what I did:</p>\n\n<ol>\n<li><p>go to <a href=\"https://github.com/radare/radare2\" rel=\"nofollow\">https://github.com/radare/radare2</a>, clone the project to my laptop and install it by <code>sys/install.sh</code> (radare2 README contains all instructions)</p></li>\n<li><p>pip install r2pipe (I have python 2.7.6 on Ubuntu 14.04)</p></li>\n</ol>\n\n<p>Here's the output I got from python console:</p>\n\n<pre><code>&gt;&gt;&gt; r2 = r2pipe.open(\"/bin/ls\")\n&gt;&gt;&gt; print(r2.cmd(\"pd 10\"))\n;-- entry0:\n            0x00404890      31ed           xor ebp, ebp\n            0x00404892      4989d1         mov r9, rdx\n            0x00404895      5e             pop rsi\n            0x00404896      4889e2         mov rdx, rsp\n            0x00404899      4883e4f0       and rsp, 0xfffffffffffffff0\n            0x0040489d      50             push rax\n            0x0040489e      54             push rsp\n            0x0040489f      49c7c0d01e41.  mov r8, 0x411ed0\n            0x004048a6      48c7c1601e41.  mov rcx, 0x411e60\n            0x004048ad      48c7c7c02840.  mov rdi, 0x4028c0           ; \"AWAVAUATUH..S..H....\" @ 0x4028c0\n&gt;&gt;&gt; print(r2.cmdj(\"pd 10\"))\nr2pipe.cmdj.Error: No JSON object could be decoded\nNone\n</code></pre>\n\n<p>Please make sure you install <code>radare2</code> properly. You can try to <code>uninstall</code> your current radare2 and install it from scratch in case of some version issues on radare side.</p>\n"}, {"comments": [{"owner": {"reputation": 2879, "user_id": 1201863, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/993b5c15ca4a2d520f80f0c0120f13e6?s=128&d=identicon&r=PG", "display_name": "Luc", "link": "https://stackoverflow.com/users/1201863/luc"}, "edited": false, "score": 0, "creation_date": 1480668048, "post_id": 40927879, "comment_id": 69066888, "body": "In response to the edit: I actually chose to include the link separately on purpose because it makes it more visible (see the other answer as well)..."}], "tags": [], "owner": {"reputation": 2879, "user_id": 1201863, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/993b5c15ca4a2d520f80f0c0120f13e6?s=128&d=identicon&r=PG", "display_name": "Luc", "link": "https://stackoverflow.com/users/1201863/luc"}, "is_accepted": false, "score": 0, "last_activity_date": 1480667909, "last_edit_date": 1480667909, "creation_date": 1480667859, "answer_id": 40927879, "question_id": 38622681, "link": "https://stackoverflow.com/questions/38622681/python-couldnt-open-a-file-using-radare2-invalid-option-0/40927879#40927879", "title": "python - couldn&#39;t open a file using radare2: invalid option -- &#39;0&#39;", "body": "<p>For me the solution was to install radare2 from the git <a href=\"https://github.com/radare/radare2\" rel=\"nofollow noreferrer\">repository</a> rather than from the outdated Ubuntu repositories.</p>\n\n<p>Installing was as easy as running <code>sys/install.sh</code>. Note that this overrides any existing radare2 install, you will probably want to remove it using your package manager (e.g. <code>apt-get remove radare2</code>) before installing.</p>\n"}], "owner": {"reputation": 83, "user_id": 3636085, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uuyzp.jpg?s=128&g=1", "display_name": "UdaySagar", "link": "https://stackoverflow.com/users/3636085/udaysagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1526707644, "creation_date": 1469651620, "last_edit_date": 1526707644, "question_id": 38622681, "link": "https://stackoverflow.com/questions/38622681/python-couldnt-open-a-file-using-radare2-invalid-option-0", "title": "python - couldn&#39;t open a file using radare2: invalid option -- &#39;0&#39;", "body": "<p>I have installed radare2 using pip install and then in the python shell I gave the followig lines of code</p>\n\n<pre><code>Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import r2pipe\n&gt;&gt;&gt; r = r2pipe.open(\"/bin/ls\")\nradare2: invalid option -- '0'\n</code></pre>\n\n<p>I have cross checked that /bin/ls is available. Why am I getting this error?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "edited": false, "score": 0, "creation_date": 1469651927, "post_id": 38622683, "comment_id": 64631103, "body": "Beautiful explanation. You saved my day!"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 6, "last_activity_date": 1469651642, "creation_date": 1469651642, "answer_id": 38622683, "question_id": 38622667, "link": "https://stackoverflow.com/questions/38622667/python-regex-stops-after-first-match/38622683#38622683", "title": "Python Regex stops after first &quot;|&quot; match", "body": "<p>Use a grouping construct <code>(...)</code> rather than a character class <code>[...]</code> around the alternatives:</p>\n\n<pre><code>p = re.compile(\"[AG].{2}(?:ATG|ATA|AAG).G\")\n                        ^^^^^^^^^^^^^^^  \n</code></pre>\n\n<p>The <code>(?:ATG|ATA|AAG)</code> matches 3 sequences: either a <code>ATG</code>, or <code>ATA</code> or <code>AAG</code>. The <code>[ATG|ATA|AAG]</code> character class matches 1 char, either <code>A</code>, <code>T</code>, <code>G</code> or <code>|</code>.</p>\n\n<p>Note the <code>{1}</code> is redundant and can be removed.</p>\n\n<p>Python:</p>\n\n<pre><code>import re\np = re.compile(\"[AG].{2}(?:ATG|ATA|AAG).G\")\nregex_result = p.search('ZZZAXXATGXGZZZ')\nprint(regex_result.group())\n# =&gt; AXXATGXG\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/reDEND\">IDEONE demo</a></p>\n"}], "owner": {"reputation": 1251, "user_id": 2228353, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b861c729f68424ecd5db06291b47af73?s=128&d=identicon&r=PG", "display_name": "fire_water", "link": "https://stackoverflow.com/users/2228353/fire-water"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "closed_date": 1469991396, "accepted_answer_id": 38622683, "answer_count": 1, "score": 3, "last_activity_date": 1469651642, "creation_date": 1469651557, "question_id": 38622667, "link": "https://stackoverflow.com/questions/38622667/python-regex-stops-after-first-match", "closed_reason": "Not suitable for this site", "title": "Python Regex stops after first &quot;|&quot; match", "body": "<pre><code>p = re.compile(\"[AG].{2}[ATG|ATA|AAG].{1}G\")\nregex_result = p.search('ZZZAXXATGXGZZZ')\nregex_result.group()\n'AXXATG'\n</code></pre>\n\n<p>I was expecting <code>AXXATGXG</code> instead.</p>\n"}, {"tags": ["python", "mongodb"], "comments": [{"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1469656977, "post_id": 38622666, "comment_id": 64633519, "body": "What are the <code>compareFx</code> and your so called <code>expensiveCall</code> function doing?"}, {"owner": {"reputation": 4633, "user_id": 1426906, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f22228bf1ee45283d539c68cf652590e?s=128&d=identicon&r=PG&f=1", "display_name": "sergiuz", "link": "https://stackoverflow.com/users/1426906/sergiuz"}, "edited": false, "score": 0, "creation_date": 1469657106, "post_id": 38622666, "comment_id": 64633553, "body": "There is no better way to find missing documents, from ids list."}, {"owner": {"reputation": 545, "user_id": 6225559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8954de43ac82de79f2161ccc9556d580?s=128&d=identicon&r=PG&f=1", "display_name": "nephlm", "link": "https://stackoverflow.com/users/6225559/nephlm"}, "edited": false, "score": 0, "creation_date": 1469692021, "post_id": 38622666, "comment_id": 64644313, "body": "<code>expensiveCall</code> is a call to a rate limited external API that&#39;s not under my control and <code>compareFx</code> is essentially <code>list(set(ids) - set([x[&#39;id&#39;] for x in items]))</code>, but I don&#39;t think their content should impact the situation."}], "owner": {"reputation": 545, "user_id": 6225559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8954de43ac82de79f2161ccc9556d580?s=128&d=identicon&r=PG&f=1", "display_name": "nephlm", "link": "https://stackoverflow.com/users/6225559/nephlm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469655503, "creation_date": 1469651556, "last_edit_date": 1469655503, "question_id": 38622666, "link": "https://stackoverflow.com/questions/38622666/get-list-of-missing-documents-from-mongoddb", "title": "Get list of missing documents from MongodDB", "body": "<p>First mongodb project so it's probably obvious but my google fu is insufficient or I'm approaching it wrong.</p>\n\n<p>I have a collection in mongodb.  Each document has an <code>id</code> field that is unique.  In my program I end up with a list of these ids and I want to make a slow expensive call to an api if I don't have a copy of the corresponding document in mongodb.  </p>\n\n<p>Obviously, I don't want to make the expensive call if I don't have to so the solution seems to be I need to retrieve the full list and compare:</p>\n\n<pre><code>ids = [45, 23, 45, 88, 34, 28] # Except many more\nitems = db.items.find({'id': {'$in': ids}}, {'id':1})\nmissingIds = compareFx(ids, items)\nfor missingId in missingIds:\n     doc = expensiveCall(missingId)\n     db.items.insert_one(doc)\n</code></pre>\n\n<p>That requires me to do a full retrieve of all existing/matching documents when I'm just looking for the ones that don't exist.  There is an <code>$exists</code> operator but it seems to only operate on fields not documents, but maybe I just don't see how to use it. </p>\n\n<p>Is there some sort of operator/combination of operators to get back the ids that weren't found or is this the right/best way to do this?</p>\n"}, {"tags": ["python", "ipython"], "comments": [{"owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "edited": false, "score": 0, "creation_date": 1469652069, "post_id": 38622610, "comment_id": 64631173, "body": "IPython has a format like xml. You can parse it and run the cell you want."}], "answers": [{"comments": [{"owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "edited": false, "score": 0, "creation_date": 1469741992, "post_id": 38645985, "comment_id": 64676962, "body": "Thanks. Is there anything I could do if say the cell had a jupyter/ipython specific magic in it, such as %run?"}, {"owner": {"reputation": 831, "user_id": 8661327, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393368177445189/picture?type=large", "display_name": "Eternal", "link": "https://stackoverflow.com/users/8661327/eternal"}, "edited": false, "score": 0, "creation_date": 1553695236, "post_id": 38645985, "comment_id": 97480299, "body": "Hii, I have a notebook which plots the graph, and when I execute that cell using this method I am not getting any output. Is there any work around?"}, {"owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "edited": false, "score": 0, "creation_date": 1553716520, "post_id": 38645985, "comment_id": 97492788, "body": "Things to check: is there plt.show() at the end, is a compatible matplotlib backend used. Interactive backend used in Jupyter is not compatible with plain python."}], "tags": [], "owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "is_accepted": true, "score": 2, "last_activity_date": 1469743557, "last_edit_date": 1495540739, "creation_date": 1469737087, "answer_id": 38645985, "question_id": 38622610, "link": "https://stackoverflow.com/questions/38622610/execute-ipython-notebook-cell-from-python-script/38645985#38645985", "title": "Execute IPython notebook cell from python script", "body": "<p>The file with extention \"ipynb\" of Jupyter (or IPython) is a JSON file. And the cells are under the name \"cells\" [\"cells\"]. Then you choose the number of the cell [0] and to get the source choose \"source\" [\"source\"]. In return you get an array with one element so you need to get the first element [0].</p>\n\n<pre><code>&gt;&gt;&gt; import json\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; with open('so1.ipynb', 'r') as content_file:\n...     content = content_file.read()\n... \n&gt;&gt;&gt; data=json.loads(content)\n&gt;&gt;&gt; data[\"cells\"][0][\"source\"][0]\n'1+1'\n&gt;&gt;&gt; eval(data[\"cells\"][0][\"source\"][0])\n2\n&gt;&gt;&gt; data[\"cells\"][1][\"source\"][0]\n'2+2'\n&gt;&gt;&gt; eval(data[\"cells\"][1][\"source\"][0])\n4\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To run other python scripts in cells that have %run:</p>\n\n<pre><code>os.system(data[\"cells\"][2][\"source\"][0].replace(\"%run \",\"\"))\n</code></pre>\n\n<p>Or replace it with the following if you have -i option:</p>\n\n<pre><code>execfile(data[\"cells\"][2][\"source\"][0].replace(\"%run -i \",\"\"))\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/3781851/run-a-python-script-from-another-python-script-passing-in-args\">Run a python script from another python script, passing in args</a> for more info.</p>\n"}], "owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2862, "favorite_count": 0, "accepted_answer_id": 38645985, "answer_count": 1, "score": 3, "last_activity_date": 1469743557, "creation_date": 1469651291, "question_id": 38622610, "link": "https://stackoverflow.com/questions/38622610/execute-ipython-notebook-cell-from-python-script", "title": "Execute IPython notebook cell from python script", "body": "<p>In the IPython notebook, you can execute an outside script, say <code>test.py</code>, using the run magic:</p>\n\n<pre><code>%run test.py\n</code></pre>\n\n<p>Is there a way to do the opposite, i.e. given an IPython notebook, accessing and then running a particular cell inside it from a python script?</p>\n"}, {"tags": ["python", "mysql", "docker"], "comments": [{"owner": {"reputation": 523, "user_id": 6524032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOomg.png?s=128&g=1", "display_name": "David Smith", "link": "https://stackoverflow.com/users/6524032/david-smith"}, "edited": false, "score": 0, "creation_date": 1469675533, "post_id": 38622594, "comment_id": 64637705, "body": "I believe the issue is in your starter.sh script. You&#39;re running your python script that inserts data to MySQL before the MySQL service has been started. I&#39;d guess that the <code>subprocess.call()</code> calls are actually failing. Have you checked their return values (exit codes). Anything other than a zero will indicate that the mysql binary you&#39;re calling returned a failure. The database is created as part of the MySQL docker image spinning up, which is probably why that exists even though the table doesn&#39;t."}, {"owner": {"reputation": 324, "user_id": 367275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e6711c223d02f6b4fe1cdf3251dec0?s=128&d=identicon&r=PG", "display_name": "Sergey Kravchenya", "link": "https://stackoverflow.com/users/367275/sergey-kravchenya"}, "reply_to_user": {"reputation": 523, "user_id": 6524032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOomg.png?s=128&g=1", "display_name": "David Smith", "link": "https://stackoverflow.com/users/6524032/david-smith"}, "edited": false, "score": 0, "creation_date": 1469802476, "post_id": 38622594, "comment_id": 64703452, "body": "I believe it is not the case, because schema drop and create are working correct."}], "answers": [{"comments": [{"owner": {"reputation": 324, "user_id": 367275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e6711c223d02f6b4fe1cdf3251dec0?s=128&d=identicon&r=PG", "display_name": "Sergey Kravchenya", "link": "https://stackoverflow.com/users/367275/sergey-kravchenya"}, "edited": false, "score": 0, "creation_date": 1470036515, "post_id": 38662417, "comment_id": 64765101, "body": "In that case I&#39;m getting help message from mysql like this <a href=\"https://gist.github.com/skrauchenia/e747efc3626c3cb5e6f6be6cee263b4b\" rel=\"nofollow noreferrer\">gist.github.com/skrauchenia/e747efc3626c3cb5e6f6be6cee263b4b</a>"}, {"owner": {"reputation": 523, "user_id": 6524032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOomg.png?s=128&g=1", "display_name": "David Smith", "link": "https://stackoverflow.com/users/6524032/david-smith"}, "reply_to_user": {"reputation": 324, "user_id": 367275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e6711c223d02f6b4fe1cdf3251dec0?s=128&d=identicon&r=PG", "display_name": "Sergey Kravchenya", "link": "https://stackoverflow.com/users/367275/sergey-kravchenya"}, "edited": false, "score": 0, "creation_date": 1470057397, "post_id": 38662417, "comment_id": 64777608, "body": "See my revised python code. It was most likely failing due to the <code>subprocess.call()</code> method escaping the <code>&lt;</code> symbol."}, {"owner": {"reputation": 324, "user_id": 367275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e6711c223d02f6b4fe1cdf3251dec0?s=128&d=identicon&r=PG", "display_name": "Sergey Kravchenya", "link": "https://stackoverflow.com/users/367275/sergey-kravchenya"}, "edited": false, "score": 0, "creation_date": 1470148965, "post_id": 38662417, "comment_id": 64823140, "body": "Thanks for answering. Did you tried to execute this code? Did it works?"}], "tags": [], "owner": {"reputation": 523, "user_id": 6524032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOomg.png?s=128&g=1", "display_name": "David Smith", "link": "https://stackoverflow.com/users/6524032/david-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1470223603, "last_edit_date": 1470223603, "creation_date": 1469805993, "answer_id": 38662417, "question_id": 38622594, "link": "https://stackoverflow.com/questions/38622594/mysql-source-command-do-nothing-inside-docker-container/38662417#38662417", "title": "mysql source command do nothing inside docker container", "body": "<p>Try passing your source SQL file into the MySQL command like this, instead of using the <code>-e</code> flag:</p>\n\n<pre><code>subprocess.call([\"mysql\", \"--user=root\", \"--password=root\", \"test_db\", \"&lt;\", \"/tmp/%s\" % dumpSqlFile])\n</code></pre>\n\n<p>This will call import your SQL file using the widely used syntax:</p>\n\n<p><code>mysql --user=root --password=root test_db &lt; /tmp/source.sql</code></p>\n"}], "owner": {"reputation": 324, "user_id": 367275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e6711c223d02f6b4fe1cdf3251dec0?s=128&d=identicon&r=PG", "display_name": "Sergey Kravchenya", "link": "https://stackoverflow.com/users/367275/sergey-kravchenya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470223603, "creation_date": 1469651219, "question_id": 38622594, "link": "https://stackoverflow.com/questions/38622594/mysql-source-command-do-nothing-inside-docker-container", "title": "mysql source command do nothing inside docker container", "body": "<h1>Description</h1>\n\n<p>I'm running docker container with mysql in it and I want to run python script after mysql started, which will apply dump on it.</p>\n\n<p>Here is a snippet of <strong>Dockerfile</strong>:</p>\n\n<pre><code>FROM mysql:5.6\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y python\n\nADD apply_dump.py /usr/local/bin/apply_dump.py\nADD starter.sh /usr/local/bin/starter.sh\n\nCMD [\"/usr/local/bin/starter.sh\"]\n</code></pre>\n\n<p><strong>starter.sh</strong>:</p>\n\n<pre><code>nohup python '/usr/local/bin/apply_dump.py' &amp;\nmysqld\n</code></pre>\n\n<p><strong>apply_dump.py</strong>:</p>\n\n<pre><code>import os\nimport urllib\nimport gzip\nimport shutil\nimport subprocess\nimport time\nimport logging\nimport sys\n\n# wait for mysql server\ntime.sleep(5)\nprint \"Start dumping\"\n\ndumpName = \"ggg.sql\"\ndumpGzFile = dumpName + \".gz\"\ndumpSqlFile = dumpName + \".sql\"\n\nprint \"Loading dump {}...\".format(dumpGzFile)\nurllib.urlretrieve('ftp://ftpUser:ftpPassword@ftpHost/' + dumpGzFile, '/tmp/' + dumpGzFile)\n\nprint \"Extracting dump...\"\nwith gzip.open('/tmp/' + dumpGzFile, 'rb') as f_in:\n    with open('/tmp/' + dumpSqlFile, 'wb') as f_out:\n        shutil.copyfileobj(f_in, f_out)\n\n        print \"Dropping database...\"\n        subprocess.call([\"mysql\", \"-u\", \"root\", \"-proot\", \"-e\", \"drop database if exists test_db\"])\n\n        print \"Creating database...\"\n        subprocess.call([\"mysql\", \"-u\", \"root\", \"-proot\", \"-e\", \"create schema test_db\"])\n\n        print \"Applying dump...\"\n        subprocess.call([\"mysql\", \"--user=root\", \"--password=root\", \"test_db\", \"-e\" \"source /tmp/{}\".format(dumpSqlFile)])\n        print \"Done\"\n</code></pre>\n\n<p>content of <strong>ggg.sql.gz</strong> is pretty simple:</p>\n\n<pre><code>CREATE TABLE test_table (id INT NOT NULL,PRIMARY KEY (id));\n</code></pre>\n\n<h2>Problem</h2>\n\n<p>Database created, but table is not. If I'll go to container and will run this script manually, table will be created. If I'll replace <code>source</code> command with direct sql create statement that will work as well. But in reality dump file will be pretty big and only <code>source</code> command will cope with this (or not only it?). Am I doing something wrong?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1469651285, "post_id": 38622585, "comment_id": 64630787, "body": "How are you running python? What operating system?"}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 3, "creation_date": 1469651317, "post_id": 38622585, "comment_id": 64630801, "body": "I think architecture returns the system architecture, not Python&#39;s -- so if you&#39;re on a 64-bit machine that&#39;s what it will return. I suspect that might be the same for sys.maxsize?"}, {"owner": {"reputation": 182, "user_id": 5744481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Fhaw4_ktCok/AAAAAAAAAAI/AAAAAAAAGqM/uo3qqBebVeo/photo.jpg?sz=128", "display_name": "Ian Pringle", "link": "https://stackoverflow.com/users/5744481/ian-pringle"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1469651360, "post_id": 38622585, "comment_id": 64630819, "body": "@suever I&#39;m running Windows 7 Enterprise 64-bit, I&#39;ll add this to the question as well."}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 3, "creation_date": 1469651501, "post_id": 38622585, "comment_id": 64630885, "body": "What does it say when you just run <code>python</code> or <code>python3</code> at the cmd prompt?  It will likely say something like: <code>Enthought Canopy Python 2.7.6 | 64-bit | (default, Jan 29 2014, 17:03:59) [MSC v.1500 64 bit (AMD64)] on win32</code>"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 1, "creation_date": 1469651503, "post_id": 38622585, "comment_id": 64630887, "body": "Why not just try to interface with the Java and see if you run into any problems? It could well be that no problems pop up. Don&#39;t try to debug before you are sure that there really is a bug."}, {"owner": {"reputation": 182, "user_id": 5744481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Fhaw4_ktCok/AAAAAAAAAAI/AAAAAAAAGqM/uo3qqBebVeo/photo.jpg?sz=128", "display_name": "Ian Pringle", "link": "https://stackoverflow.com/users/5744481/ian-pringle"}, "reply_to_user": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1469651560, "post_id": 38622585, "comment_id": 64630921, "body": "@brettb I get: <code>Python 3.5.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:54:25) [MSC v.1900 64 bit (AMD64)] on win32</code>  @JohnColeman I only was made aware of the incompatibility after trying to connect to the Java program, it&#39;s definitely a bug.  <code>&gt;&gt;&gt; app = application.Application().connect(path = r&quot;C:\\Program Files(x86)\\Java\\jre1.8.0_91\\bin\\jp2launcher.exe&quot;) C:\\Program Files\\Python3\\lib\\site-packages\\pywinauto\\application.py:945&zwnj;&#8203;:UserWarning: 32-bit application should be automated using 32-bit Python (you use 64-bit Python) UserWarning)</code>"}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1469651661, "post_id": 38622585, "comment_id": 64630980, "body": "Is there a chance you have multiple installs?  <code>python</code> might be pointing to the 64-bit, while 32-bit is installed somewhere else?"}, {"owner": {"reputation": 182, "user_id": 5744481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Fhaw4_ktCok/AAAAAAAAAAI/AAAAAAAAGqM/uo3qqBebVeo/photo.jpg?sz=128", "display_name": "Ian Pringle", "link": "https://stackoverflow.com/users/5744481/ian-pringle"}, "reply_to_user": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1469651790, "post_id": 38622585, "comment_id": 64631032, "body": "@brettb This is my only Python installation in <code>Paths</code> and when I searched for it (figured you might be right since this is a company PC they may have installed it without my knowledge). This is the installation path, <code>C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python35-32</code>  Now the &quot;32&quot; in the file name."}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 2, "creation_date": 1469652526, "post_id": 38622585, "comment_id": 64631398, "body": "Just for $#!%s and giggles, can you find the python executable in that directory, and run it from cmd by explicitly calling the FULL path? Does it still say 64-bit?"}, {"owner": {"reputation": 182, "user_id": 5744481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Fhaw4_ktCok/AAAAAAAAAAI/AAAAAAAAGqM/uo3qqBebVeo/photo.jpg?sz=128", "display_name": "Ian Pringle", "link": "https://stackoverflow.com/users/5744481/ian-pringle"}, "reply_to_user": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1469652841, "post_id": 38622585, "comment_id": 64631572, "body": "@brettb that actually worked. Now I need to figure out how to call this 32 bit version without having to type the full path. Also, not really surprising but this instance of python seems to be missing all my previously installed modules"}, {"owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "edited": false, "score": 0, "creation_date": 1469653805, "post_id": 38622585, "comment_id": 64632030, "body": "I&#39;d suggest you look into using a virtualenv to manage this -- glad you got it sorted out, though.   Best of luck!"}], "answers": [{"tags": [], "owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "is_accepted": false, "score": 2, "last_activity_date": 1469652810, "creation_date": 1469652810, "answer_id": 38622996, "question_id": 38622585, "link": "https://stackoverflow.com/questions/38622585/installed-python-with-32-bit-install-appears-as-64-bit/38622996#38622996", "title": "Installed Python with 32 bit install, appears as 64 bit", "body": "<p>You can determine if your Python is truly 64bit by running this code and looking at Task Manager in Windows (or its equivalent in Linux) and seeing what is the maximum allocated memory for the program. If it is 2GB (it could be 3GB for some cases I am not sure) then it is Python 32bit. Otherwise 64bit. On my computer the program executed till 9GB and then almost hanged the computer.</p>\n\n<pre><code>a=[]\nwhile(True):\n    a.append([1234]*10000000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 651, "user_id": 2386690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f0bed4144a26ebb56dff7c8ef757af8?s=128&d=identicon&r=PG", "display_name": "brettb", "link": "https://stackoverflow.com/users/2386690/brettb"}, "is_accepted": true, "score": 3, "last_activity_date": 1469654127, "creation_date": 1469654127, "answer_id": 38623318, "question_id": 38622585, "link": "https://stackoverflow.com/questions/38622585/installed-python-with-32-bit-install-appears-as-64-bit/38623318#38623318", "title": "Installed Python with 32 bit install, appears as 64 bit", "body": "<p>This sounds like you might have multiple instances of Python installed on your machine. Verify that you're calling the correct one by calling it explicitly from its full path, and noting if its still saying 64-bit or 32-bit.</p>\n\n<p>Moving forward, using a <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow\">virtualenv</a> might simplify any confusion of which python installation, and which installed packages, are being used.</p>\n"}], "owner": {"reputation": 182, "user_id": 5744481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Fhaw4_ktCok/AAAAAAAAAAI/AAAAAAAAGqM/uo3qqBebVeo/photo.jpg?sz=128", "display_name": "Ian Pringle", "link": "https://stackoverflow.com/users/5744481/ian-pringle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 38623318, "answer_count": 2, "score": 3, "last_activity_date": 1469654127, "creation_date": 1469651182, "last_edit_date": 1469651388, "question_id": 38622585, "link": "https://stackoverflow.com/questions/38622585/installed-python-with-32-bit-install-appears-as-64-bit", "title": "Installed Python with 32 bit install, appears as 64 bit", "body": "<p>I need to run the 32 bit version of Python. I thought that was what I had running on my machine, as that is the installer I downloaded and when I rerun the installer is refers to the currently installed version of Python as \"Python 3.5 32-Bit\". </p>\n\n<p>However when I run <code>platform.architecture()</code> it states that I am running 64 bit. I know this isn't always reliable so I also ran <code>sys.maxsize</code> and it returns <code>9223372036854775807</code>, so I am definitely running the 64 bit install. </p>\n\n<p>I need to run the 32 bit version of Python to interface with the 32 bit Java using pywinauto. I'm running Windows 7 Enterprise, 64-bit.</p>\n"}, {"tags": ["java", "python", "shell", "maven"], "comments": [{"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1469651218, "post_id": 38622523, "comment_id": 64630751, "body": "Is the script executable?  Is it headed with <code>#!&#47; usr&#47;bin&#47;python</code>?  Is there an error that is printed or does nothing happen?"}, {"owner": {"reputation": 325, "user_id": 6460291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71005ac01de8754a658e50a36928355a?s=128&d=identicon&r=PG&f=1", "display_name": "SVN600", "link": "https://stackoverflow.com/users/6460291/svn600"}, "reply_to_user": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1469651357, "post_id": 38622523, "comment_id": 64630817, "body": "Yes, it is executable and I can execute it myself outside of the program. When I deploy my application to a company server I get errors related to the script file not being found"}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 0, "creation_date": 1469651728, "post_id": 38622523, "comment_id": 64631011, "body": "Try <code>this.getClass().getClassLoader().getResource(&quot;&#47;lookUpScript.&zwnj;&#8203;py&quot;).getPath()</code>  If that doesn&#39;t work, try taking a look at the path that is being generated when run on the server."}, {"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 2, "creation_date": 1469656376, "post_id": 38622523, "comment_id": 64633271, "body": "You literally cannot access a resource that is inside a JAR file as a <code>File</code> or a <code>Path</code>. It will never work. What you must do is have an <code>InputStream</code> to the file <code>getClass().getResourceAsStream(...)</code>, copy that to a temp file (<code>Files.createTempFile</code> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>File.copy</code></a>) and execute that temp file."}], "answers": [{"comments": [{"owner": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "edited": false, "score": 0, "creation_date": 1469654851, "post_id": 38622730, "comment_id": 64632577, "body": "I like to add this is not really maven specific. Resources in the classpath are not files. If you want to run a phyton script its interpreter will need to be able to read the file, but it is inside a jar. One would either need to copy it first from the jar into a directory and execute it from there or package it outside the classes or resources folder - if creating a war file just somewhere in webapp/WEB-INF."}], "tags": [], "owner": {"reputation": 813, "user_id": 5905741, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6e7c1693885bd7f2750850a23fc4c94?s=128&d=identicon&r=PG&f=1", "display_name": "amitmah", "link": "https://stackoverflow.com/users/5905741/amitmah"}, "is_accepted": false, "score": 1, "last_activity_date": 1469651764, "creation_date": 1469651764, "answer_id": 38622730, "question_id": 38622523, "link": "https://stackoverflow.com/questions/38622523/maven-build-with-java-how-to-execute-script-located-in-resources/38622730#38622730", "title": "Maven build with Java: How to execute script located in resources?", "body": "<p>The maven path for all the artifacts is not the same that gets generated when you run it or export the project. You can check this by exporting the project as Jar/War/Ear file and viewing it via winRAR or any other tool.</p>\n\n<p>The resources should be in jar parallel to com directory if its a jar project, but you can double check it.</p>\n"}], "owner": {"reputation": 325, "user_id": 6460291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/71005ac01de8754a658e50a36928355a?s=128&d=identicon&r=PG&f=1", "display_name": "SVN600", "link": "https://stackoverflow.com/users/6460291/svn600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469651764, "creation_date": 1469650965, "question_id": 38622523, "link": "https://stackoverflow.com/questions/38622523/maven-build-with-java-how-to-execute-script-located-in-resources", "title": "Maven build with Java: How to execute script located in resources?", "body": "<p>I am building my Java project with Maven and I have a script file that ends up in the <code>target/classes/resources</code> folder. While I can access the file itself via <code>this.getClass.getResource(\"/lookUpScript.py\").getPath()</code>, I cannot execute a shell command with <code>\".\" + this.getClass.getResource(\"/lookUpScript.py\").getPath()</code>; this ultimately ends up being <code>./lookUpScript.py</code>. To execute the shell command I am using a method that is part of my company's code that I can get to work fine with any command not involving a file. Is there a standard way of accessing files located in the resources area of a Maven build that may fix this? </p>\n"}, {"tags": ["python", "import", "terminal", "console", "move"], "comments": [{"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "edited": false, "score": 0, "creation_date": 1469651016, "post_id": 38622500, "comment_id": 64630626, "body": "Are you on Windows, Linux, or some other operating system?"}, {"owner": {"reputation": 439, "user_id": 6646336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EZ55bwYhhc8/AAAAAAAAAAI/AAAAAAAAAR0/QKX9yh76ssU/photo.jpg?sz=128", "display_name": "Fahri G&#252;re\u015f&#231;i", "link": "https://stackoverflow.com/users/6646336/fahri-g%c3%bcre%c5%9f%c3%a7i"}, "reply_to_user": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "edited": false, "score": 0, "creation_date": 1470090727, "post_id": 38622500, "comment_id": 64795806, "body": "on Windows @Keozon"}, {"owner": {"reputation": 1338, "user_id": 2714915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YyuWA.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/2714915/ron"}, "edited": false, "score": 0, "creation_date": 1491678079, "post_id": 38622500, "comment_id": 73663835, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3646362/how-to-control-the-size-of-the-windows-shell-window-from-within-a-python-script\">How to control the size of the Windows shell window from within a python script?</a>"}, {"owner": {"reputation": 451, "user_id": 2127374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc1857024f6c5306e40527ee979eca3d?s=128&d=identicon&r=PG", "display_name": "Rainald62", "link": "https://stackoverflow.com/users/2127374/rainald62"}, "edited": false, "score": 0, "creation_date": 1525036760, "post_id": 38622500, "comment_id": 87199034, "body": "I&#39;m not sure it&#39;s a duplicate because the &#39;window position&#39; in the answer to that question refers to the <i>content</i> of the window (the <code>ScreenBuffer</code> the window may scroll over even in horizontal direction), while the window position in this question may refer to the <i>desktop</i> (at least, there is no content <i>on opening</i> of the console)."}], "owner": {"reputation": 439, "user_id": 6646336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EZ55bwYhhc8/AAAAAAAAAAI/AAAAAAAAAR0/QKX9yh76ssU/photo.jpg?sz=128", "display_name": "Fahri G&#252;re\u015f&#231;i", "link": "https://stackoverflow.com/users/6646336/fahri-g%c3%bcre%c5%9f%c3%a7i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2029, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1469666668, "creation_date": 1469650883, "last_edit_date": 1469666668, "question_id": 38622500, "link": "https://stackoverflow.com/questions/38622500/how-to-set-python-console-opening-position", "title": "How to set Python console opening position?", "body": "<p>How to set the position of the Python console? For example:</p>\n\n<pre><code>os.system('mode con: cols=88 lines=30')\n</code></pre>\n\n<p>However, I want to move the window to another location. For example:</p>\n\n<pre><code>os.system('mode move: x=88 y=30')\n</code></pre>\n\n<p>How can I do it?</p>\n"}, {"tags": ["python", "pandas", "contains", "assign", "extraction"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 3, "last_activity_date": 1469650967, "creation_date": 1469650967, "answer_id": 38622524, "question_id": 38622487, "link": "https://stackoverflow.com/questions/38622487/change-true-false-value-to-discrete-value-in-pandas-dataframe-with-np-where/38622524#38622524", "title": "Change True/False value to discrete value in pandas dataframe with np.where()", "body": "<p>You could use <code>str.extract</code> here, instead of <code>np.where</code>:</p>\n\n<pre><code>In [290]: df['State'] = df['College'].str.extract('({})'.format('|'.join(State)), expand=True)\n\nIn [291]: df\nOut[291]: \n                  College     State\n0  University of Michigan  Michigan\n1   University of Florida       NaN\n2              Iowa State      Iowa\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1469651613, "last_edit_date": 1469651613, "creation_date": 1469651201, "answer_id": 38622590, "question_id": 38622487, "link": "https://stackoverflow.com/questions/38622487/change-true-false-value-to-discrete-value-in-pandas-dataframe-with-np-where/38622590#38622590", "title": "Change True/False value to discrete value in pandas dataframe with np.where()", "body": "<pre><code>States = [\n            'Washington' 'Wisconsin' 'West Virginia' 'Florida' 'Wyoming'\n            'New Hampshire' 'New Jersey' 'New Mexico' 'National' 'North Carolina'\n            'North Dakota' 'Nebraska' 'New York' 'Rhode Island' 'Nevada' 'Guam'\n            'Colorado' 'California' 'Georgia' 'Connecticut' 'Oklahoma' 'Ohio' 'Kansas'\n            'South Carolina' 'Kentucky' 'Oregon' 'South Dakota' 'Delaware'\n            'District of Columbia' 'Hawaii' 'Puerto Rico' 'Texas' 'Louisiana'\n            'Tennessee' 'Pennsylvania' 'Virginia' 'Virgin Islands' 'Alaska' 'Alabama'\n            'American Samoa' 'Arkansas' 'Vermont' 'Illinois' 'Indiana' 'Iowa'\n            'Arizona' 'Idaho' 'Maine' 'Maryland' 'Massachusetts' 'Utah' 'Missouri'\n            'Minnesota' 'Michigan' 'Montana' 'Northern Mariana Islands' 'Mississippi'\n]\n\nstate_str = '|'.join(States)\ndf.update(df.College.str.extract(r'(?P&lt;State&gt;{})'.format(state_str), expand=True))\n\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zw2Et.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zw2Et.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 41, "user_id": 5063813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e488f4b452496e08b0a2831e01be16ea?s=128&d=identicon&r=PG&f=1", "display_name": "John12", "link": "https://stackoverflow.com/users/5063813/john12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1469651613, "creation_date": 1469650800, "question_id": 38622487, "link": "https://stackoverflow.com/questions/38622487/change-true-false-value-to-discrete-value-in-pandas-dataframe-with-np-where", "title": "Change True/False value to discrete value in pandas dataframe with np.where()", "body": "<p>I am trying to assign a state name to a list of university names: </p>\n\n<pre><code>df = pd.DataFrame({'College': pd.Series(['University of Michigan', 'University of Florida', 'Iowa State'])})\nState = ['Michigan', 'Iowa']\ndf['State'] = np.where(df['College'].str.contains('|'.join(State)),\n    'state','--')\n</code></pre>\n\n<p>I would like to replace the \"state\" value that appears when there is a match with the actual name of the state. Example: University of Michigan -> Michigan (rather than \"state\"). Ultimately, \"State\" will have all 50 states so I can't write 50 \"np.where\" statements for each state name. </p>\n\n<p>Thank you for your help. </p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 5645637, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wPnXm.jpg?s=128&g=1", "display_name": "gutelfuldead", "link": "https://stackoverflow.com/users/5645637/gutelfuldead"}, "edited": false, "score": 0, "creation_date": 1469716612, "post_id": 38622864, "comment_id": 64662064, "body": "Follow up question: If I have an amount of bits that is not a multiple of 8 after packing and unpacking I do not have the same stream. Is there an elegant pythonic way of dealing with this or should I just manually calculate my overflow and chop it off each time?  (I&#39;m passing data between modules via sockets so it will increase my overhead greatly if I need to pass what the erroneous amounts of data are and remove them for each transaction)"}], "tags": [], "owner": {"reputation": 2032, "user_id": 4317531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dpdH.jpg?s=128&g=1", "display_name": "bpachev", "link": "https://stackoverflow.com/users/4317531/bpachev"}, "is_accepted": true, "score": 5, "last_activity_date": 1469727113, "last_edit_date": 1469727113, "creation_date": 1469652250, "answer_id": 38622864, "question_id": 38622386, "link": "https://stackoverflow.com/questions/38622386/python2-7-store-boolean-values-as-individual-bits-when-writing-to-disk/38622864#38622864", "title": "python2.7 - store boolean values as individual bits when writing to disk", "body": "<ol>\n<li>The reason that bool is always returning true is that a[j] is a nonempty <strong>string</strong>. You need to cast a[j] to an int before testing with bool (and also before assigning it as an entry to a numpy bool array).</li>\n<li>You can just call numpy.packbits to compress your boolean array into a uint8 array, (it pads for you if needed) and then call numpy.unpackbits to reverse the operation. </li>\n</ol>\n\n<p><b>Edit:</b><br/><br/>\nIf your boolean array has a length that isn't a multiple of 8, after packing and unpacking your array will be zero-padded to make the length a multiple of 8. In this case, you have two options:</p>\n\n<ol>\n<li>If you can safely truncate your data to have a number of bits that is divisible by 8, then do so. Something like: <code>data=data[:8*(len(data)/8)]</code></li>\n<li>If you can't afford to truncate, then you are going to record the number of meaningful bits somehow. I suggest making the first byte of your  packed data equal to the number of meaningful bits mod 8. This will add only one byte of memory overhead, and not much compute time. Something like:</li>\n</ol>\n\n<h1>Packing</h1>\n\n<pre><code>bool_data = np.array([True, True, True])\nnbits = len(bool_data)\nrem = nbits % 8\nnbytes = nbits/8\nif rem: nbytes += 1\ndata = np.empty(1+nbytes, dtype=np.uint8)\ndata[0] = rem\ndata[1:] = np.packbits(bool_data)\n</code></pre>\n\n<h1>Unpacking</h1>\n\n<pre><code>rem = data[0]\nbool_data = np.unpackbits(data[1:])\nif rem:\n  bool_data = bool_data[:-(8-rem)]\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 5645637, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wPnXm.jpg?s=128&g=1", "display_name": "gutelfuldead", "link": "https://stackoverflow.com/users/5645637/gutelfuldead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 38622864, "answer_count": 1, "score": 3, "last_activity_date": 1469727113, "creation_date": 1469650491, "last_edit_date": 1469651888, "question_id": 38622386, "link": "https://stackoverflow.com/questions/38622386/python2-7-store-boolean-values-as-individual-bits-when-writing-to-disk", "title": "python2.7 - store boolean values as individual bits when writing to disk", "body": "<p>I'm writing code that converts integers into padded 8-bit strings. I would then like to write those strings to a binary file. I am having problems figuring out the proper <code>dtype</code> to be used with the numpy array that I am currently using.</p>\n\n<p>In the following code when I have <code>bin_data</code> variable set up with <code>dtype=np.int8</code> the output is:</p>\n\n<pre><code>$ python bool_dtype.py \na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 1, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\n[0 0 0 0 1 0 0 0 0]\n16\n</code></pre>\n\n<p>When <code>bin_data</code> is set as <code>dtype=np.bool_</code> the output is always true as shown below:</p>\n\n<pre><code>$ python bool_dtype.py \na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 1, bool(a[j]) = True\na[j] = 1, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 0, bool(a[j]) = True\na[j] = 1, bool(a[j]) = True\na[j] = 1, bool(a[j]) = True\n[ True  True  True  True  True  True  True  True  True]\n16\n</code></pre>\n\n<p>When I look at the xxd dump of the data when using the <code>dtype=np.int8</code> I see an expected byte being used to represent each bit (1,0) IE 00000001 or 00000000. Using <code>dtype=np.bool_</code> leads to the same problem.</p>\n\n<h1>So the two main questions I have are</h1>\n\n<ol>\n<li><p>Why is bool always reading as True when reading an array element</p></li>\n<li><p>How can I more efficiently store the data when I write it to the file such that a single bit is <strong>not</strong> stored as a byte but instead just concatenated onto the previous element?</p></li>\n</ol>\n\n<p>Here is the code in question, Thanks!</p>\n\n<pre><code>#!/usr/bin/python2.7\n\nimport numpy as np\nimport os\n\n# x = np.zeros(200,dtype=np.bool_)\n# for i in range(0,len(x)):\n#     if i%2 != 1:\n#         x[i] = 1\n\ndata_size = 2\ndata = np.random.randint(0,9,data_size)\ntx=''\nfor i in range(0,data_size):\n    tx += chr(data[i])\ndata = tx\na = np.zeros(8,dtype=np.int8)\nbin_data = np.zeros(len(data)*8,dtype=np.bool_)\n\n# each i is a character byte in data string\nfor i in range(0,len(data)):\n    # formats data in 8bit binary without the 0b prefix\n    a = format(ord(data[i]),'b').zfill(8)\n    for j in range(0,len(a)):\n        bin_data[i*len(a) + j] = a[j]\n        print(\"a[j] = {}, bool(a[j]) = {}\").format(a[j], bool(a[j]))\n\nprint bin_data[1:10]\nprint len(bin_data)\n\npath = os.getcwd()\npath = path + '/bool_data.bin'\ndata_file = open(path, \"wb\")\ndata_file.write(bin_data)\ndata_file.close()\n</code></pre>\n\n<h2>edit:</h2>\n\n<p>What I expect to see when using <code>dtype=np.bool_</code></p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.zeros(2,dtype=np.bool_)\n&gt;&gt;&gt; a\narray([False, False], dtype=bool)\n&gt;&gt;&gt; a[1] = 1\n&gt;&gt;&gt; a\narray([False,  True], dtype=bool)\n</code></pre>\n"}, {"tags": ["javascript", "python", "python-3.x", "python-3.5"], "comments": [{"owner": {"reputation": 1163, "user_id": 5481865, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/36eb3783cb07bbdff9581179614bcf5e?s=128&d=identicon&r=PG&f=1", "display_name": "FailedUnitTest", "link": "https://stackoverflow.com/users/5481865/failedunittest"}, "edited": false, "score": 0, "creation_date": 1469650649, "post_id": 38622385, "comment_id": 64630418, "body": "This may help: <a href=\"https://pypi.python.org/pypi/PyExecJS\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/PyExecJS</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5870134"}, "reply_to_user": {"reputation": 1163, "user_id": 5481865, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/36eb3783cb07bbdff9581179614bcf5e?s=128&d=identicon&r=PG&f=1", "display_name": "FailedUnitTest", "link": "https://stackoverflow.com/users/5481865/failedunittest"}, "edited": false, "score": 0, "creation_date": 1469650899, "post_id": 38622385, "comment_id": 64630556, "body": "@FailedUnitTest Thank you for the link. Also can the down-voter explain why &amp; how this is too broad?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5870134"}, "edited": false, "score": 0, "creation_date": 1469775843, "post_id": 38623079, "comment_id": 64686660, "body": "Thank you for the answer and help, appreciate it."}, {"owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "edited": false, "score": 1, "creation_date": 1469776217, "post_id": 38623079, "comment_id": 64686883, "body": "@Mango glad I could help :)"}], "tags": [], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "is_accepted": true, "score": 19, "last_activity_date": 1605694767, "last_edit_date": 1605694767, "creation_date": 1469653182, "answer_id": 38623079, "question_id": 38622385, "link": "https://stackoverflow.com/questions/38622385/how-can-i-execute-javascript-code-from-python/38623079#38623079", "title": "How can I execute JavaScript code from Python?", "body": "<p>The module <code>Naked</code> does exactly this. <code>pip install Naked</code> (or install from source if you prefer) and import the library shell functions as follows:</p>\n<pre class=\"lang-python prettyprint-override\"><code>from Naked.toolshed.shell import execute_js, muterun_js\n\nresponse = muterun_js('file.js')\nif response.exitcode == 0:\n  print(response.stdout)\nelse:\n  sys.stderr.write(response.stderr)\n</code></pre>\n<p>For your particular case, with file.js as</p>\n<pre><code>var x = 10;\nx = 10 - 5;\nconsole.log(x);\nfunction greet() {\n      console.log(&quot;Hello World!&quot;);\n}\ngreet()\n</code></pre>\n<p>the output is <code>'5\\nHello World!\\n'</code>, which you can parse as desired.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5870134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19865, "favorite_count": 10, "accepted_answer_id": 38623079, "answer_count": 1, "score": 12, "last_activity_date": 1605694767, "creation_date": 1469650489, "last_edit_date": 1487396493, "question_id": 38622385, "link": "https://stackoverflow.com/questions/38622385/how-can-i-execute-javascript-code-from-python", "title": "How can I execute JavaScript code from Python?", "body": "<p>Lets say that I have this code inside a JavaScript file:</p>\n\n<pre><code>var x = 10;\nx = 10 - 5;\nconsole.log(x);\nfunction greet() {\n  console.log(\"Hello World!\");\n}\ngreet()\n</code></pre>\n\n<p>How would I use Python to execute this code and <em>\"print\"</em> <code>x</code> and <code>Hello World!</code>?<br />\nHere is some pseudo code that further explains what I'm thinking:</p>\n\n<pre><code># 1. open the script\nscript = open(\"/path/to/js/files.js\", \"r\")\n# 2. get the script content\nscript_content = script.read()\n# 3. close the script file\nscript.close()\n# 4. execute the script content and \"print\" \"x\" and \"Hello World!\"\nx = js.exec(script_content)\n</code></pre>\n\n<p>And, the expected result would look like this:</p>\n\n<pre><code>&gt;&gt;&gt; 5\n&gt;&gt;&gt; \"Hello World!\"\n</code></pre>\n"}, {"tags": ["python", "excel", "charts", "openpyxl", "xlsxwriter"], "owner": {"reputation": 51, "user_id": 6535539, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kCOh-nS9ggE/AAAAAAAAAAI/AAAAAAAABIc/U6pDY8QTs8U/photo.jpg?sz=128", "display_name": "Josh", "link": "https://stackoverflow.com/users/6535539/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1469650406, "creation_date": 1469650406, "question_id": 38622366, "link": "https://stackoverflow.com/questions/38622366/openpyxl-format-excel-chart-background", "title": "Openpyxl format excel chart background", "body": "<p>Does anyone know if it is possible to format a chart background and border using openpyxl? I can do this relatively easily in xlsxwriter (see below for examples), but cannot determine how to do it or if it is possible in openpyxl. Any ideas?</p>\n\n<p>Thanks!</p>\n\n<p>xlsxwriter format example:</p>\n\n<pre><code>chart1.set_chartarea({\n    'border': {'color': 'white'}})\n\nchart1.set_plotarea({\n    'layout': {\n        'x':      0.16,\n        'y':      0.15,\n        'width':  0.75,\n        'height': 0.55\n    },\n    'fill': \n        {'color': '#eeece1'} })\n</code></pre>\n"}, {"tags": ["python", "api", "flask", "peewee"], "comments": [{"owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "edited": false, "score": 0, "creation_date": 1469650971, "post_id": 38622298, "comment_id": 64630596, "body": "I am not sure about Flask, but in some frameworks you can output anywhere some text. So you can try print(&quot;hello&quot;) in different parts of code and see where it shows up. (It is returned to the post request if it works)"}, {"owner": {"reputation": 1, "user_id": 6552357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UF0TE.png?s=128&g=1", "display_name": "Daniel Bowen", "link": "https://stackoverflow.com/users/6552357/daniel-bowen"}, "edited": false, "score": 0, "creation_date": 1469651902, "post_id": 38622298, "comment_id": 64631082, "body": "I&#39;ve tried a number of methods of producing a result that isn&#39;t the 200 OK to include forcing a 400 code return, and it ignores it all. It acts as if the post definition is not even there. Thank you though, that was my first thoughts actually and did try it."}, {"owner": {"reputation": 7932, "user_id": 1164104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584a376a0c422377280586120494bbd?s=128&d=identicon&r=PG", "display_name": "Doobeh", "link": "https://stackoverflow.com/users/1164104/doobeh"}, "edited": false, "score": 0, "creation_date": 1469654302, "post_id": 38622298, "comment_id": 64632297, "body": "if you remove your <code>@auth.login_required</code> decorator, do you then see the <code>post</code> occuring?"}, {"owner": {"reputation": 1, "user_id": 6552357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UF0TE.png?s=128&g=1", "display_name": "Daniel Bowen", "link": "https://stackoverflow.com/users/6552357/daniel-bowen"}, "edited": false, "score": 0, "creation_date": 1469707134, "post_id": 38622298, "comment_id": 64654398, "body": "It does work without that, I&#39;m so confused now. auth was working fine, but I guess I need to go take a look at its code again. Thanks."}, {"owner": {"reputation": 1, "user_id": 6552357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UF0TE.png?s=128&g=1", "display_name": "Daniel Bowen", "link": "https://stackoverflow.com/users/6552357/daniel-bowen"}, "edited": false, "score": 0, "creation_date": 1469707768, "post_id": 38622298, "comment_id": 64654887, "body": "One of those moments you feel like an idiot. I had wiped out my SQL database that held the login information so when I went to use the basic_auth, it obviously failed, it just wasn&#39;t clear. This&#39;ll teach me to use better error catching."}], "owner": {"reputation": 1, "user_id": 6552357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UF0TE.png?s=128&g=1", "display_name": "Daniel Bowen", "link": "https://stackoverflow.com/users/6552357/daniel-bowen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469650149, "creation_date": 1469650149, "question_id": 38622298, "link": "https://stackoverflow.com/questions/38622298/when-using-postman-my-post-method-is-ignored-making-a-flask-api", "title": "When using Postman, my post method is ignored (making a Flask API)", "body": "<p>Whenever I do a post request to <a href=\"http://0.0.0.0:8000/api/v1/fliers\" rel=\"nofollow\">http://0.0.0.0:8000/api/v1/fliers</a> it ignores it. I get a 200 OK status back and the database remains unchanged. My get request to the same comes back as its supposed to, but the post request is ignored.</p>\n\n<p>Weird thing is everything was working fine just a bit ago, and now it isn't. I'm thoroughly confused. Any help would be appreciated.    </p>\n\n<pre><code>from flask import jsonify, Blueprint, abort\n\nfrom flask.ext.restful import (Resource, Api, reqparse,\n                               inputs, fields, marshal,\n                               marshal_with, url_for)\n\nfrom auth import auth\nimport models\n\nflier_fields = {\n    'name': fields.String\n}\n\ndef flier_or_404(flier_id):\n    try:\n        flier = models.Flier.get(models.Flier.id==flier_id)\n    except models.Flier.DoesNotExist:\n        abort(404)\n    else:\n        return flier\n\n\nclass FlierList(Resource):\n    def __init__(self):\n        self.reqparse = reqparse.RequestParser()\n        self.reqparse.add_argument(\n            'name',\n            required=True,\n            help='No name provided',\n            location=['form', 'json']\n        )\n        super(FlierList, self).__init__()\n\n    def get(self):\n        fliers = [marshal(flier, flier_fields) for flier in     models.Flier.select()]\n        return {'fliers': fliers}\n\n    @marshal_with(flier_fields)\n    @auth.login_required\n    def post(self):\n        args = self.reqparse.parse_args()\n        flier = models.Flier.create(**args)\n        return (flier, 201)\n\nclass Flier(Resource):\n    def __init__(self):\n        self.reqparse = reqparse.RequestParser()\n        self.reqparse.add_argument(\n            'name',\n            required=True,\n            help='No name provided',\n            location=['form', 'json']\n        )\n        super(Flier, self).__init__()\n\n    @marshal_with(flier_fields)\n    def get(self, id):\n        return flier_or_404(id)\n\n    def put(self, id):\n        return 400\n\n    @auth.login_required\n    def delete(self, id):\n        query = models.Flier.delete().where(models.Flier.id==id)\n        query.execute()\n        return ('', 204)\n\nfliers_api = Blueprint('resources.fliers', __name__)\napi = Api(fliers_api)\napi.add_resource(\n    FlierList,\n    '/api/v1/fliers',\n    endpoint='fliers'\n)\napi.add_resource(\n    Flier,\n    '/api/v1/fliers/&lt;int:id&gt;',\n    endpoint='flier'\n)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input"], "comments": [{"owner": {"reputation": 438, "user_id": 4621804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/izx8b.jpg?s=128&g=1", "display_name": "SAMO", "link": "https://stackoverflow.com/users/4621804/samo"}, "edited": false, "score": 0, "creation_date": 1469650186, "post_id": 38622296, "comment_id": 64630210, "body": "2.x --&gt; user_input = raw_input()    3.x --&gt; user_input = input()"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1469650190, "post_id": 38622296, "comment_id": 64630212, "body": "Which version of Python?"}, {"owner": {"reputation": 1, "user_id": 6646635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c15fbaddda0471f877dbce6bcddfb3?s=128&d=identicon&r=PG&f=1", "display_name": "JaneDoe", "link": "https://stackoverflow.com/users/6646635/janedoe"}, "edited": false, "score": 0, "creation_date": 1469650357, "post_id": 38622296, "comment_id": 64630290, "body": "I&#39;m using python 3"}, {"owner": {"reputation": 438, "user_id": 4621804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/izx8b.jpg?s=128&g=1", "display_name": "SAMO", "link": "https://stackoverflow.com/users/4621804/samo"}, "edited": false, "score": 0, "creation_date": 1469650386, "post_id": 38622296, "comment_id": 64630303, "body": "Then it&#39;s just user_input = input()"}, {"owner": {"reputation": 404, "user_id": 877983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IVv.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/877983/nicholas-anderson"}, "edited": false, "score": 0, "creation_date": 1469650602, "post_id": 38622296, "comment_id": 64630395, "body": "This sounds quite a bit like a homework assignment. The best thing you can do as a new developer is familiarizing yourself with the available documentation for a language. Python in particular has great introduction documentation: <a href=\"https://docs.python.org/3/\" rel=\"nofollow noreferrer\">docs.python.org/3</a>"}, {"owner": {"reputation": 4475, "user_id": 3846228, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/j0fFT.jpg?s=128&g=1", "display_name": "dot.Py", "link": "https://stackoverflow.com/users/3846228/dot-py"}, "reply_to_user": {"reputation": 404, "user_id": 877983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IVv.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/877983/nicholas-anderson"}, "edited": false, "score": 0, "creation_date": 1469651105, "post_id": 38622296, "comment_id": 64630683, "body": "In the same line of thought that @NicholasAnderson, you should take a look at this free course: <a href=\"http://learnpythonthehardway.org/book/\" rel=\"nofollow noreferrer\">LPTHW</a>. It&#39;s a good source of &#39;easy&#39; knowledge for beginners!"}], "answers": [{"tags": [], "owner": {"reputation": 4475, "user_id": 3846228, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/j0fFT.jpg?s=128&g=1", "display_name": "dot.Py", "link": "https://stackoverflow.com/users/3846228/dot-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1469650727, "last_edit_date": 1495540739, "creation_date": 1469650421, "answer_id": 38622371, "question_id": 38622296, "link": "https://stackoverflow.com/questions/38622296/how-can-i-ask-for-user-input-using-python-3-x/38622371#38622371", "title": "How can I ask for user input using Python 3.x?", "body": "<p>Since you're using Python 3.x, you can use:</p>\n\n<pre><code>def compare(a, b):\n    a = int(input(\"Insert value A: \"))\n    b = int(input(\"Insert value B: \"))\n    return (a &gt; b) - (a &lt; b)\n</code></pre>\n\n<p>Since Python 3.x doesn't evaluate and/or convert the data type, you have to explicitly convert to <code>ints</code>, with <code>int()</code>, like this:</p>\n\n<pre><code>a = int(input(\"Insert value A: \"))\n</code></pre>\n\n<p>But if you wan't to create a good function, you'll have to validate the params A and B, to make sure your program don't accept <code>\"one\"</code> or <code>\"twelve\"</code> as inputs. </p>\n\n<p>You can take a deeper look here: <a href=\"https://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\">Asking the user for input until they give a valid response</a></p>\n"}, {"comments": [{"owner": {"reputation": 4475, "user_id": 3846228, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/j0fFT.jpg?s=128&g=1", "display_name": "dot.Py", "link": "https://stackoverflow.com/users/3846228/dot-py"}, "edited": false, "score": 0, "creation_date": 1469650974, "post_id": 38622448, "comment_id": 64630599, "body": "He said he&#39;s using Python 3.x. And in Python 3.x <code>input()</code> method accepts any data type. Take a look <a href=\"http://stackoverflow.com/a/20449433/3846228\">here</a>."}], "tags": [], "owner": {"reputation": 97, "user_id": 6553287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209892923218216/picture?type=large", "display_name": "Irribarra Cristi&#225;n", "link": "https://stackoverflow.com/users/6553287/irribarra-cristi%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1469651392, "last_edit_date": 1469651392, "creation_date": 1469650646, "answer_id": 38622448, "question_id": 38622296, "link": "https://stackoverflow.com/questions/38622296/how-can-i-ask-for-user-input-using-python-3-x/38622448#38622448", "title": "How can I ask for user input using Python 3.x?", "body": "<p>Use the command:</p>\n\n<pre><code>    variable = input(\"You can write something here:\" )\n</code></pre>\n\n<p>Then, when compiling the .py file, the terminal will show the message:</p>\n\n<pre><code>    You can write something here:\n</code></pre>\n\n<p>Where you can put your input as easy as type and enter.</p>\n\n<p>And maybe, as said above, you'll wish to convert the input to an int or float using either int() or float() to make sure you're getting a valid input.</p>\n"}], "owner": {"reputation": 1, "user_id": 6646635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78c15fbaddda0471f877dbce6bcddfb3?s=128&d=identicon&r=PG&f=1", "display_name": "JaneDoe", "link": "https://stackoverflow.com/users/6646635/janedoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 2, "score": -6, "last_activity_date": 1469683638, "creation_date": 1469650140, "last_edit_date": 1469683638, "question_id": 38622296, "link": "https://stackoverflow.com/questions/38622296/how-can-i-ask-for-user-input-using-python-3-x", "title": "How can I ask for user input using Python 3.x?", "body": "<p>I'm creating an assignment for school.</p>\n\n<p>First create the pseudocode, etc</p>\n\n<p>Then write a compare function that <code>returns 1 if a &gt; b , 0 if a == b , and -1 if a &lt; b</code></p>\n\n<p>I've written that part</p>\n\n<pre><code>def compare(a, b):\n\n    return (a &gt; b) - (a &lt; b)\n</code></pre>\n\n<p>BUT then I have to prompt the user to input the numbers for comparison. </p>\n\n<p>I have no idea how to write the user input prompt.</p>\n"}, {"tags": ["python", "django", "search", "elasticsearch", "wagtail"], "comments": [{"owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1469682737, "post_id": 38622289, "comment_id": 64639556, "body": "Can you share how you have set up the indexing of your <code>Questions</code> model?"}], "answers": [{"comments": [{"owner": {"reputation": 3542, "user_id": 5381547, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/jFcfu.png?s=128&g=1", "display_name": "Viktor", "link": "https://stackoverflow.com/users/5381547/viktor"}, "edited": false, "score": 0, "creation_date": 1469871253, "post_id": 38665074, "comment_id": 64725045, "body": "Then questions that start from uppercase letter will not be found"}, {"owner": {"reputation": 891, "user_id": 56774, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/93783fa78798168245879e707cb0fa5f?s=128&d=identicon&r=PG", "display_name": "robnardo", "link": "https://stackoverflow.com/users/56774/robnardo"}, "edited": false, "score": 0, "creation_date": 1479832884, "post_id": 38665074, "comment_id": 68720159, "body": "Is there a way to turn on case-insensitive search in the settings.py file ? Maybe with something like: WAGTAIL_SEARCH_CASE_INSENSITIVE = True"}], "tags": [], "owner": {"reputation": 512, "user_id": 2141313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36109ce45eab2e1ba4f42494e5e5d7d9?s=128&d=identicon&r=PG", "display_name": "jmwicks", "link": "https://stackoverflow.com/users/2141313/jmwicks"}, "is_accepted": true, "score": 3, "last_activity_date": 1469815837, "creation_date": 1469815837, "answer_id": 38665074, "question_id": 38622289, "link": "https://stackoverflow.com/questions/38622289/how-to-make-wagtail-search-case-insensitive/38665074#38665074", "title": "How to make Wagtail search case-insensitive", "body": "<p>With Wagtail's elasticsearch backend, fields indexed with <code>partial_match=True</code> are tokenized in <a href=\"https://github.com/torchbox/wagtail/blob/v1.5.3/wagtail/wagtailsearch/backends/elasticsearch.py#L623\" rel=\"nofollow\">lowercase</a>. So to accomplish case-insensitive search all you need to do is lowercase the query string:</p>\n\n<pre><code>results = s.search(query[u'question'].lower(), questions)\n</code></pre>\n"}], "owner": {"reputation": 3542, "user_id": 5381547, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/jFcfu.png?s=128&g=1", "display_name": "Viktor", "link": "https://stackoverflow.com/users/5381547/viktor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 38665074, "answer_count": 1, "score": 2, "last_activity_date": 1469871957, "creation_date": 1469650119, "last_edit_date": 1469871957, "question_id": 38622289, "link": "https://stackoverflow.com/questions/38622289/how-to-make-wagtail-search-case-insensitive", "title": "How to make Wagtail search case-insensitive", "body": "<p>I use Wagtail serach:</p>\n\n<pre><code>query = self.request.query_params\nquestions = models.Questions.objects.filter(\n    answer__isnull=False,\n    owner__isnull=False).exclude(answer__exact='')\ns = get_search_backend()\nresults = s.search(query[u'question'], questions)\n</code></pre>\n\n<p>And this is how I set up the indexing of my <code>Questions</code> model:</p>\n\n<pre><code>search_fields = [\n    index.SearchField('question', partial_match=True, boost=2),\n    index.FilterField('answer'),\n    index.FilterField('owner_id')\n]\n</code></pre>\n\n<p>But it case sensitive. So queries <code>how</code> and <code>How</code> will give different results. </p>\n\n<p>I need to make my search behave this way:</p>\n\n<p>When I type either <code>how</code> or <code>How</code>, it should return</p>\n\n<pre><code>how to...\nHow to...\nThe way how...\nTHE WAY HoW...\n</code></pre>\n\n<p>In other words, it should find all mentions of <code>how</code> in all posible cases.</p>\n\n<p>How do I make it work?</p>\n\n<p>P.S.: I'm using default backend, and I'm free to change it if needed.</p>\n"}, {"tags": ["python", "python-2.7", "function", "max"], "comments": [{"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1469650359, "post_id": 38622287, "comment_id": 64630292, "body": "<code>for item in List</code> should be <code>for item in args</code>."}, {"owner": {"reputation": 1350, "user_id": 1284735, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/655c83a20a81887db3d21c3faf98b3a8?s=128&d=identicon&r=PG&f=1", "display_name": "petabyte", "link": "https://stackoverflow.com/users/1284735/petabyte"}, "edited": false, "score": 1, "creation_date": 1469651693, "post_id": 38622287, "comment_id": 64630994, "body": "Another bug is if <code>args</code> is a list of negative numbers, it will return <code>0</code>. You could fix it by error handling for when <code>args</code> is empty, and then setting <code>Max = args[0]</code>"}, {"owner": {"reputation": 384, "user_id": 2148381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ7WF.jpg?s=128&g=1", "display_name": "Han.Oliver", "link": "https://stackoverflow.com/users/2148381/han-oliver"}, "edited": false, "score": 0, "creation_date": 1551944154, "post_id": 38622287, "comment_id": 96827886, "body": "and key , default?"}], "answers": [{"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 1, "creation_date": 1469651529, "post_id": 38622335, "comment_id": 64630900, "body": "you should return <code>Max</code> after the for loop"}], "tags": [], "owner": {"reputation": 249, "user_id": 6415191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18d6d11f988168bed6147776112fb3ae?s=128&d=identicon&r=PG&f=1", "display_name": "Kadima", "link": "https://stackoverflow.com/users/6415191/kadima"}, "is_accepted": true, "score": 1, "last_activity_date": 1469650299, "creation_date": 1469650299, "answer_id": 38622335, "question_id": 38622287, "link": "https://stackoverflow.com/questions/38622287/creating-a-max-function-from-scratch-python/38622335#38622335", "title": "Creating a max function from scratch (python)", "body": "<p>You've got one line of code backwards. Your if statement is effectively saying that if item is greater than Max, set item to Max. You need to flip that to say if item is greater than Max, set Max to item.</p>\n\n<pre><code>if item &gt; Max:\n    Max = item\nreturn Max\n</code></pre>\n\n<p>Also, I'm not an expert in Python, but i think you need to change the List inside your function to match the parameter name, in this case args.</p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 6646471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b527fee24ac7ea7c4e4497935fe1069c?s=128&d=identicon&r=PG&f=1", "display_name": "aramase", "link": "https://stackoverflow.com/users/6646471/aramase"}, "is_accepted": false, "score": 1, "last_activity_date": 1469651291, "creation_date": 1469651291, "answer_id": 38622611, "question_id": 38622287, "link": "https://stackoverflow.com/questions/38622287/creating-a-max-function-from-scratch-python/38622611#38622611", "title": "Creating a max function from scratch (python)", "body": "<p>*args = list of arguments -as positional arguments</p>\n\n<p>You are passing a list as an argument here. So your code should look something like this -</p>\n\n<pre><code>def maximum(nums):\n   Max = 0\n   for item in nums:\n       if item &gt; Max:\n           Max=item\n   return Max\n\nList = [1,5,8,77,24,95]\nprint maximum(List)\n</code></pre>\n\n<p>This would give you the result : 95.</p>\n\n<p>On the other hand you can use the max built in function to get the maximum number in the list. </p>\n\n<pre><code>print max(List)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1038, "user_id": 3762919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdZCJ.jpg?s=128&g=1", "display_name": "Sagar Gupta", "link": "https://stackoverflow.com/users/3762919/sagar-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1570179882, "creation_date": 1570179882, "answer_id": 58233201, "question_id": 38622287, "link": "https://stackoverflow.com/questions/38622287/creating-a-max-function-from-scratch-python/58233201#58233201", "title": "Creating a max function from scratch (python)", "body": "<p>Using reduce():</p>\n\n<p>Python 2</p>\n\n<pre><code>def Maximum(data):\n    return reduce(lambda x, y: x if x &gt; y else y, data)\n</code></pre>\n\n<p>In Python 3, add</p>\n\n<pre><code>from functools import reduce\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>print(Maximum([4, 8, 4, 19, -1]))\n</code></pre>\n\n<blockquote>\n  <p><code>19</code></p>\n</blockquote>\n"}], "owner": {"reputation": 57, "user_id": 6645233, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c956163f93e749d932a61acf92182d27?s=128&d=identicon&r=PG&f=1", "display_name": "Cyanidies", "link": "https://stackoverflow.com/users/6645233/cyanidies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8090, "favorite_count": 0, "accepted_answer_id": 38622335, "answer_count": 3, "score": 0, "last_activity_date": 1570179882, "creation_date": 1469650117, "question_id": 38622287, "link": "https://stackoverflow.com/questions/38622287/creating-a-max-function-from-scratch-python", "title": "Creating a max function from scratch (python)", "body": "<p>So I'm trying to create a function that determines the maximum of a set of values, from scratch. </p>\n\n<p>I'm not sure how to make the function change the new value of Max after a new Max has been found, I'm also not sure if my usage of args is correct. </p>\n\n<pre><code>def Maximum(*args):\n    Max = 0\n    for item in List:\n        if item &gt; Max:\n            item = Max\n    return Max\n\n\nList = [1,5,8,77,24,95]\n\nmaxList = Maximum(List)\nprint str(maxList)\n</code></pre>\n\n<p>Any help would be hugely appreciated.</p>\n"}, {"tags": ["python", "multithreading", "list"], "comments": [{"owner": {"reputation": 3339, "user_id": 2759719, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/5KMeF.png?s=128&g=1", "display_name": "mrQWERTY", "link": "https://stackoverflow.com/users/2759719/mrqwerty"}, "edited": false, "score": 0, "creation_date": 1469651025, "post_id": 38622284, "comment_id": 64630634, "body": "@AkshatMahajan My mistake. I meant &quot;list&quot;."}, {"owner": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "edited": false, "score": 0, "creation_date": 1469651230, "post_id": 38622284, "comment_id": 64630760, "body": "But you then need to make a loop that asks for the state of the list if I understand it right. Or fire the thread when you set the list"}, {"owner": {"reputation": 3339, "user_id": 2759719, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/5KMeF.png?s=128&g=1", "display_name": "mrQWERTY", "link": "https://stackoverflow.com/users/2759719/mrqwerty"}, "reply_to_user": {"reputation": 2382, "user_id": 3596337, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/342bc87e52c3a697732300f833e50036?s=128&d=identicon&r=PG&f=1", "display_name": "keiv.fly", "link": "https://stackoverflow.com/users/3596337/keiv-fly"}, "edited": false, "score": 1, "creation_date": 1469651269, "post_id": 38622284, "comment_id": 64630777, "body": "I am going with conditional locks. If it works, I will post my solution here."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469652042, "post_id": 38622284, "comment_id": 64631158, "body": "you could create a list subclass with a lock on it that opens when there are items in the list... it wouldn&#39;t be fast or efficient, but it should work"}], "answers": [{"tags": [], "owner": {"reputation": 21075, "user_id": 196206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b3e5f05b6457facb417239ce03739cb?s=128&d=identicon&r=PG", "display_name": "Messa", "link": "https://stackoverflow.com/users/196206/messa"}, "is_accepted": false, "score": 1, "last_activity_date": 1469652577, "last_edit_date": 1469652577, "creation_date": 1469652221, "answer_id": 38622859, "question_id": 38622284, "link": "https://stackoverflow.com/questions/38622284/python-block-thread-if-list-is-empty/38622859#38622859", "title": "Python block thread if list is empty", "body": "<p>I would go with this:</p>\n\n<pre><code>import threading\n\nclass MyList (list):\n\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self._cond = threading.Condition()\n\n    def append(self, item):\n        with self._cond:\n            super().append(item)\n            self._cond.notify_all()\n\n    def pop_or_sleep(self):\n        with self._cond:\n            while not len(self):\n                self._cond.wait()\n            return self.pop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 3, "last_activity_date": 1469713169, "creation_date": 1469713169, "answer_id": 38638174, "question_id": 38622284, "link": "https://stackoverflow.com/questions/38622284/python-block-thread-if-list-is-empty/38638174#38638174", "title": "Python block thread if list is empty", "body": "<p>Yes, the solution will probably involve a <a href=\"https://docs.python.org/3/library/threading.html#condition-objects\" rel=\"nofollow\"><code>threading.Condition</code></a> variable as you note in comments.</p>\n\n<p>Without more information or a code snippet, it's difficult to know what API suits your needs.  How are you producing new elements?  How are you consuming them?  At base, you could do something like this:</p>\n\n<pre><code>cv = threading.Condition()\nelements = []  # elements is protected by, and signaled by, cv\n\ndef produce(...):\n  with cv:\n    ... add elements somehow ...\n    cv.notify_all()\n\ndef consume(...):\n  with cv:\n    while len(elements) == 0:\n      cv.wait()\n    ... remove elements somehow ...\n</code></pre>\n"}], "owner": {"reputation": 3339, "user_id": 2759719, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/5KMeF.png?s=128&g=1", "display_name": "mrQWERTY", "link": "https://stackoverflow.com/users/2759719/mrqwerty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1227, "favorite_count": 2, "accepted_answer_id": 38638174, "answer_count": 2, "score": 5, "last_activity_date": 1469713169, "creation_date": 1469650106, "last_edit_date": 1469651011, "question_id": 38622284, "link": "https://stackoverflow.com/questions/38622284/python-block-thread-if-list-is-empty", "title": "Python block thread if list is empty", "body": "<p>Is there a way to make a thread go to sleep if the list is empty and wake it up again when there are items? I don't want to use Queues since I want to be able to index into the datastructure.</p>\n"}, {"tags": ["python", "bash"], "comments": [{"owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "edited": false, "score": 2, "creation_date": 1469650078, "post_id": 38622244, "comment_id": 64630160, "body": "you can&#39;t use spaces around the = sign for one"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1469650130, "post_id": 38622244, "comment_id": 64630184, "body": "You seem to be using <code>\u201c</code> instead of <code>&quot;</code>."}, {"owner": {"reputation": 4778, "user_id": 1917363, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/112f39ececafcaf7321fcfc67be141dd?s=128&d=identicon&r=PG", "display_name": "applecrusher", "link": "https://stackoverflow.com/users/1917363/applecrusher"}, "edited": false, "score": 0, "creation_date": 1469650167, "post_id": 38622244, "comment_id": 64630202, "body": "quotes on line 3 seem a little weird. Those aren&#39;t the proper quotes to surround a string."}, {"owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1469650262, "post_id": 38622244, "comment_id": 64630253, "body": "I thought they looked weird too, but when I delete them and re-type the quotes, they still appear the same. @MorganThrapp how do you go between each type?"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1469650296, "post_id": 38622244, "comment_id": 64630261, "body": "@alli Your keyboard must be using an alternative locale. This should really go on unix.se"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1469650582, "post_id": 38622244, "comment_id": 64630387, "body": "Keyboard using an alternative locale, eh? What program are you editing this file in?"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469650477, "post_id": 38622310, "comment_id": 64630334, "body": "how to you go between the types of quotes?"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469650549, "post_id": 38622310, "comment_id": 64630374, "body": "@alli  I have 2 text inputs: English and Chinese.  Switch to English input when modify profile"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469650757, "post_id": 38622310, "comment_id": 64630478, "body": "@alli, <code>&quot;&quot;</code> are the only quotes any proper UNIX text editor will insert. If you avoid using programs that aren&#39;t meant to act as text editors for editing text, you won&#39;t see any other kind."}, {"owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469650825, "post_id": 38622310, "comment_id": 64630512, "body": "I went to system preferences and mine says it only has U.S. English..."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1469651201, "post_id": 38622310, "comment_id": 64630738, "body": "What program are you actually using to edit this file? Emacs? vim? gedit? ...? -- this is the kind of bug you would get if you were using Microsoft Word (or pasting from the clipboard content originally written by someone who did)."}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 1, "last_activity_date": 1469650992, "last_edit_date": 1469650992, "creation_date": 1469650191, "answer_id": 38622310, "question_id": 38622244, "link": "https://stackoverflow.com/questions/38622244/bash-profile-error-not-a-valid-identifier/38622310#38622310", "title": "bash profile error: not a valid identifier", "body": "<p>Below line is not correct</p>\n\n<pre><code>PATH = \u201c/Users/allisondavis/Documents/HCl/sfit-ckopus\u201d\n</code></pre>\n\n<p>It should be something like this:</p>\n\n<pre><code>PATH=\"$PATH:/Users/allisondavis/Documents/HCl/sfit-ckopus\"\n</code></pre>\n\n<ol>\n<li>remove the spaces around <code>=</code></li>\n<li>replace your double quotes <code>\u201d</code> to <code>\"</code></li>\n<li>you cannot replace <code>PATH</code> to <code>/Users/allisondavis/Documents/HCl/sfit-ckopus</code>, you need to <strong>append</strong> it to your <code>PATH</code></li>\n</ol>\n\n<p>Here's a bash profile sample online, you can read it and modify your own profile <a href=\"https://natelandau.com/my-mac-osx-bash_profile/\" rel=\"nofollow\">Mac OS bash profile sample</a></p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469650582, "post_id": 38622348, "comment_id": 64630386, "body": "do you know how to go between the different types of quotes?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1469650789, "post_id": 38622348, "comment_id": 64630496, "body": "Also, <code>~</code> cannot be quoted in the assignments."}, {"owner": {"reputation": 404, "user_id": 877983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IVv.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/877983/nicholas-anderson"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1469650867, "post_id": 38622348, "comment_id": 64630536, "body": "@chepner You are 100% right there. I noted it at first, but forgot to change it  when copying and pasting from the OP. Updated answer."}, {"owner": {"reputation": 404, "user_id": 877983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IVv.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/877983/nicholas-anderson"}, "reply_to_user": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469651071, "post_id": 38622348, "comment_id": 64630665, "body": "@alli, This was asked in a comment on the question, but what are you using to edit the files? Any kind of rich text editor will default to the styled quotes."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1469651142, "post_id": 38622348, "comment_id": 64630708, "body": "Just for completeness, you can still use <code>~</code> as long as it isn&#39;t quoted; the shell expands it if it is the first unquoted character following the <code>=</code> or an assignment or following a <code>:</code> in the value of an assignment."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1469651305, "post_id": 38622348, "comment_id": 64630795, "body": "btw, <code>export</code> is only needed for variables that aren&#39;t <i>already</i> flagged for export. <code>PATH</code> is already going to be in the environment before your <code>.bashrc</code> is run, so updates to it will be reflected in the environment already."}, {"owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "edited": false, "score": 0, "creation_date": 1469652355, "post_id": 38622348, "comment_id": 64631311, "body": "I finally used nano to edit the bash instead of a text editor and it worked after a few tries, however I did not implement the $HOME and it is no longer giving me the error - I will try this for completeness"}], "tags": [], "owner": {"reputation": 404, "user_id": 877983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IVv.jpg?s=128&g=1", "display_name": "Nicholas Anderson", "link": "https://stackoverflow.com/users/877983/nicholas-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1469651254, "last_edit_date": 1469651254, "creation_date": 1469650345, "answer_id": 38622348, "question_id": 38622244, "link": "https://stackoverflow.com/questions/38622244/bash-profile-error-not-a-valid-identifier/38622348#38622348", "title": "bash profile error: not a valid identifier", "body": "<p>You have a couple problems there. The one giving you the error there is the quotes you're using: <code>\u201cfoo\u201d</code> should be <code>\"foo\"</code>.</p>\n\n<p>Your next issue is that you'll be losing your original path through the options there. You probably want something like:</p>\n\n<pre><code>PATH=\"$HOME/bin:/usr/bin:${PATH}\";\nPATH=\"/Users/allisondavis/Documents/HCl/sfit-ckopus:${PATH}\";\nPATH=\"/Library/Frameworks/Python.framework/Versions/3.5/bin:${PATH}\";\nexport PATH;\n\nPYTHONPATH=\"/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer0:/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer1:/Users/allisondavis/Documents/HCl/sfit4/pbin/ModLib:/Users/allisondavis/Documents/HCl/Pythonstuff:${PYTHONPATH}\";\nexport PYTHONPATH;\n</code></pre>\n\n<p>You also cannot use <code>~</code> to refer to home when assigning <code>PATH</code>, instead you should be using <code>$HOME</code>.</p>\n"}], "owner": {"reputation": 95, "user_id": 6505391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e1afd818a1caaab3bcd9b0bdc9c4682?s=128&d=identicon&r=PG&f=1", "display_name": "alli", "link": "https://stackoverflow.com/users/6505391/alli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1716, "favorite_count": 0, "closed_date": 1469695471, "accepted_answer_id": 38622348, "answer_count": 2, "score": -1, "last_activity_date": 1469651254, "creation_date": 1469649961, "question_id": 38622244, "link": "https://stackoverflow.com/questions/38622244/bash-profile-error-not-a-valid-identifier", "closed_reason": "Duplicate", "title": "bash profile error: not a valid identifier", "body": "<p>Whenever I open my bash profile I am immediately greeted with:</p>\n\n<pre><code>Last login: Wed Jul 27 11:41:49 on ttys000\n-bash: PATH: command not found\n-bash: export: `\u201c/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer0:/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer1:/Users/allisondavis/Documents/HCl/sfit4/pbin/ModLib:/Users/allisondavis/Documents/HCl/Pythonstuff\u201d': not a valid identifier\n~.bash_profile\n</code></pre>\n\n<p>Here is my bash profile:</p>\n\n<pre><code>PATH=\"~/bin:/usr/bin:${PATH}\"\nexport PATH\nPATH = \u201c/Users/allisondavis/Documents/HCl/sfit-ckopus\u201d\nexport PATH\nexport PATH PYTHONPATH= \u201c/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer0:/Users/allisondavis/Documents/HCl/sfit4/pbin/Layer1:/Users/allisondavis/Documents/HCl/sfit4/pbin/ModLib:/Users/allisondavis/Documents/HCl/Pythonstuff\u201d\nexport PYTHONPATH\n\nPATH=${PATH}:${PYTHONPATH}\nexport PATH\n\n\necho '~.bash_profile'\n# Setting PATH for Python 3.5\n# The orginal version is saved in .bash_profile.pysave\nPATH=\"/Library/Frameworks/Python.framework/Versions/3.5/bin:${PATH}\"\nexport PATH\n</code></pre>\n\n<p>Any idea what the problem is?</p>\n"}, {"tags": ["python", "class", "hash", "equivalence"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469650098, "post_id": 38622200, "comment_id": 64630167, "body": "If it&#39;s <code>Value</code> that&#39;s important for equality, you&#39;d generally implement <code>__hash__</code> as <code>return hash(self.Value)</code>."}, {"owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469650313, "post_id": 38622200, "comment_id": 64630271, "body": "In this case Value is not enough for identity, only for size. Defining it <i>_eq</i> by value along with <i>lt</i> and others is way to allow the class to be sortable by value, but instances with same value are not considered identical."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469650420, "post_id": 38622200, "comment_id": 64630319, "body": "Could you give a less abstract example? At the moment the problem seems to be that your class isn&#39;t consistently defined."}, {"owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469651114, "post_id": 38622200, "comment_id": 64630690, "body": "I updated the question with specific example, hope it makes it more clear."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1469651841, "post_id": 38622200, "comment_id": 64631052, "body": "In your case, I&#39;d suggest equality would be purely on value and hash on name and value (<code>return hash(self.Name) ^ hash(self.Value)</code>. <i>&quot;equal objects need to hash the same&quot;</i> is a bit of a simplification, rather <i>identical</i> objects should hash the same."}], "answers": [{"comments": [{"owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "edited": false, "score": 0, "creation_date": 1469650634, "post_id": 38622299, "comment_id": 64630406, "body": "The first behavior you described is exactly what i would like to have."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "reply_to_user": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "edited": false, "score": 0, "creation_date": 1469650733, "post_id": 38622299, "comment_id": 64630465, "body": "It is a bit tricky to show an example when it blows up, but you can have actually a different names, that will be placed in the same bucket, and then you will get a false positive due to values being equal. The fact that &quot;id&quot; should be unique does not mean that actual buckets will be unique. In other words - first example is <b>non deterministic</b>. It will sometimes give you equal elements and sometimes not. Depending of the internal implementation of python interpreter, available memory etc."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "edited": false, "score": 1, "creation_date": 1469651038, "post_id": 38622299, "comment_id": 64630641, "body": "@Lukas Now you&#39;re contradicting yourself. In the question, you wrote <i>&quot;In a set or dicionary, however, it should not be possible to have multiple outputs with same names&quot;</i>."}, {"owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1469651497, "post_id": 38622299, "comment_id": 64630882, "body": "@Rawing: My mistake, it&#39;s the second i want, the first one should really be one."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1469651655, "post_id": 38622299, "comment_id": 64630974, "body": "And neither is 1 (and cannot be), as shown in the examples. The &quot;second&quot; behaviour requires fixing hash to the original definition (thus my last example)"}, {"owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "edited": false, "score": 0, "creation_date": 1469663610, "post_id": 38622299, "comment_id": 64635371, "body": "I have a set with names anyway, and for the classes itself a list can be used."}], "tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 6, "last_activity_date": 1469651920, "last_edit_date": 1469651920, "creation_date": 1469650152, "answer_id": 38622299, "question_id": 38622200, "link": "https://stackoverflow.com/questions/38622200/is-it-really-necessary-to-hash-the-same-for-classes-that-compare-the-same/38622299#38622299", "title": "Is it really necessary to hash the same for classes that compare the same?", "body": "<p>The problem is that it does not make sense, hash is used to do efficient bucketing of objects. Consequently, when you have a set, which is implemented as a hash table, each hash points to a bucket, which is usually a list of elements. In order to check if an element is in the set (or other hash based container) you go to the bucket pointed by a hash and then you iterate over all elements in the list, comparing them one by one.</p>\n\n<p>In other words - hash is not supposed to be a comparator (as it can, and should give you sometimes a false positive). In particular, in your example, your set will not work - it will not recognize duplicate, as they do not compare to each other.</p>\n\n<pre><code>class Foo:\n\n    def __eq__(self,other):\n        return self.Value==other.Value\n\n    def __hash__(self):\n        return id(self.Name)\n\n\na = set()\nel = Foo()\nel.Name = 'x'\nel.Value = 1\n\nel2 = Foo()\nel2.Name = 'x'\nel2.Value = 2\n\na.add(el)\na.add(el2)\nprint len(a) # should be 1, right? Well it is 2\n</code></pre>\n\n<p>actually it is even worse then that, if you have 2 objects with the same values but different names, they are not recognized to be the same either</p>\n\n<pre><code>class Foo:\n\n    def __eq__(self,other):\n        return self.Value==other.Value\n\n    def __hash__(self):\n        return id(self.Name)\n\n\na = set()\nel = Foo()\nel.Name = 'x'\nel.Value = 2\n\nel2 = Foo()\nel2.Name = 'a'\nel2.Value = 2\n\na.add(el)\na.add(el2)\nprint len(a) # should be 1, right? Well it is 2 again\n</code></pre>\n\n<p>while doing it properly (thus, \"if a == b, then hash(a) == hash(b)\") gives:</p>\n\n<pre><code>class Foo:\n\n    def __eq__(self,other):\n        return self.Name==other.Name\n\n    def __hash__(self):\n        return id(self.Name)\n\n\na = set()\nel = Foo()\nel.Name = 'x'\nel.Value = 1\n\nel2 = Foo()\nel2.Name = 'x'\nel2.Value = 2\n\na.add(el)\na.add(el2)\nprint len(a) # is really 1\n</code></pre>\n\n<h1>Update</h1>\n\n<p>There is also an non deterministic part, which is hard to easily reproduce, but essentially hash does not uniquely define a bucket. Usually it is like</p>\n\n<pre><code>bucket_id = hash(object) % size_of_allocated_memory \n</code></pre>\n\n<p>consequently things that have different hashes can still end up in the same bucket. Consequently, you can get two elements equal to each (inside set) due to equality of Values even though Names are different, as well as the other way around, depending on actual internal implementation, memory constraints etc. </p>\n\n<p>In general there are many more examples where things can go wrong, as hash is <strong>defined</strong> as a function <code>h : X -&gt; Z</code> such that <code>x == y =&gt; h(x) == h(y)</code>, thus people implementing their containers, authorization protocols, and other tools are free to <strong>assume</strong> this property. If you break it - every single tool using hashes can break. Furthermore, it can break <strong>in time</strong>, meaning that you update some library and your code will stop working, as a valid update to the underlying libraries (using the above assumption) can lead to exploiting your violation of this assumption. </p>\n\n<h1>Update 2</h1>\n\n<p>Finally, in order to solve your issue - you simply should not define your <strong>eq</strong>, <strong>lt</strong> operators to handle sorting. It is about <strong>actual comparison of the elements</strong>, which should be compatible with the rest of the behaviours. All you have to do is define a separate <strong>comparator</strong> and use it in your sorting routines (sorting in python accepts any comparator, you do not need to rely on &lt;, > etc.). The other way around is to instead have valid &lt;, >, = defined on values, but in order to keep names unique - keep a set with... well... names, and not objects themselves. Whichever path you choose - the crucial element here is:\n<strong>equality and hashing have to be compatible</strong>, that's all.</p>\n"}, {"comments": [{"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1469823369, "post_id": 38622907, "comment_id": 64714590, "body": "this is simply not true. Hash do not have to identify uniquely any bucket, hash-tables (and other containers) can (and do) take modulo operations (or other mapping to constant size containers) on your hash, consequently even two unique hashes can end up being bucketed in the same spot, and while this could be solved on the container level (you could compare the hash when iterating) there is no point of doing so, as &quot;regular&quot; equality is supposed to work"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1469858481, "post_id": 38622907, "comment_id": 64722317, "body": "@lejlot So that means it&#39;s even harder to avoid hash collisions than I said. That doesn&#39;t mean what I said is wrong though."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1469899096, "post_id": 38622907, "comment_id": 64732744, "body": "this is not a hash collision. These are two different things. Hash collision is, as in your answer, when you have x!=y such that h(x)==h(y). What I am describing is a kind of error you might encounter when you use hashes in practise. These errors come from the fact, that (as said in previous answer) there is an underlying assumptin about hashing, that if two objects are equal their hashes are equal too. Period. This is not about colliding, it is about a common logic following hashing that may (and will, at some point) be broken."}], "tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": false, "score": -1, "last_activity_date": 1469652414, "creation_date": 1469652414, "answer_id": 38622907, "question_id": 38622200, "link": "https://stackoverflow.com/questions/38622200/is-it-really-necessary-to-hash-the-same-for-classes-that-compare-the-same/38622907#38622907", "title": "Is it really necessary to hash the same for classes that compare the same?", "body": "<p>It is possible to implement your class like this and <em>not</em> have any problems. However, you have to be 100% sure that no two different objects will ever produce the same hash. Consider the following example:</p>\n\n<pre><code>class Foo:\n    def __init__(self, name, value):\n        self.name= name\n        self.value= value\n\n    def __eq__(self, other):\n        return self.value == other.value\n\n    def __hash__(self):\n        return hash(self.name[0])\n\ns= set()\ns.add(Foo('a', 1))\ns.add(Foo('b', 1))\nprint(len(s)) # output: 2\n</code></pre>\n\n<p>But you have a problem if a hash collision occurs:</p>\n\n<pre><code>s.add(Foo('abc', 1))\nprint(len(s)) # output: 2\n</code></pre>\n\n<p>In order to prevent this, you would have to know <strong>exactly</strong> how the hashes are generated (which, if you rely on functions like <code>id</code> or <code>hash</code>, might vary between implementations!) and also the values of the attribute(s) used to generate the hash (<code>name</code> in this example). That's why ruling out the possibility of a hash collision is very difficult, if not impossible. It's basically like begging for unexpected things to happen.</p>\n"}], "owner": {"reputation": 1854, "user_id": 143211, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a8c97f74b90c4333140891d6ff7a6e6e?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/143211/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 1, "accepted_answer_id": 38622299, "answer_count": 2, "score": 4, "last_activity_date": 1469652414, "creation_date": 1469649782, "last_edit_date": 1469651891, "question_id": 38622200, "link": "https://stackoverflow.com/questions/38622200/is-it-really-necessary-to-hash-the-same-for-classes-that-compare-the-same", "title": "Is it really necessary to hash the same for classes that compare the same?", "body": "<p>Reading <a href=\"https://stackoverflow.com/a/1608882/143211\">this answer</a> it seems, that if <code>__eq__</code> is defined in custom class, <code>__hash__</code> needs to be defined as well. This is understandable.<br>\nHowever it is not clear, why - effectively - <code>__eq__</code> should be same as <code>self.__hash__()==other.__hash__</code></p>\n\n<p>Imagining a class like this:  </p>\n\n<pre><code>class Foo:\n    ...\n    self.Name\n    self.Value\n    ...\n    def __eq__(self,other):\n        return self.Value==other.Value\n    ...\n    def __hash__(self):\n        return id(self.Name)\n</code></pre>\n\n<p>This way class instances could be compared by value, which could be the only reasonable use, but considered identical by name.<br>\nThis way <code>set</code> could not contain multiple instances with equal name, but comparison would still work.  </p>\n\n<p>What could be the problem with such definition?</p>\n\n<p>The reason for defining <code>__eq__</code>, <code>__lt__</code> and other by <code>Value</code> is to be able to sort instances by <code>Value</code> and to be able to use functions like max. For example, he class should represent a physical output of a device (say heating element). Each of these outputs has unique Name. The Value is power of the output device. To find optimal combination of heating elements to turn on, it is useful to be able to compare them by power (Value). In a set or dictionary, however, it should not be possible to have multiple outputs with same names. Of course, different outputs with different names might easily have equal power.</p>\n"}, {"tags": ["python", "bash", "shell", "subprocess", "popen"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1469650042, "post_id": 38622180, "comment_id": 64630140, "body": "Did you try <code>p.communicate()</code> ?"}, {"owner": {"reputation": 509, "user_id": 5020728, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/cb39b5d02ed36476d08de72405b4bf78?s=128&d=identicon&r=PG&f=1", "display_name": "OMGitzMidgar", "link": "https://stackoverflow.com/users/5020728/omgitzmidgar"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1469654040, "post_id": 38622180, "comment_id": 64632154, "body": "Yes, that still did not work (same issue)."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1469654225, "post_id": 38622180, "comment_id": 64632252, "body": "does it work with a simple bash script? Can you workaround by sourcing the internal bash script instead of calling another bash?"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1469669059, "post_id": 38622180, "comment_id": 64636446, "body": "Are you interested in parsing the output? If not, try <code>subprocess.call()</code>. <code>subprocess.popen()</code>, as the name suggests, uses pipes and this could quickly deadlock as pipe buffers fill up."}], "owner": {"reputation": 509, "user_id": 5020728, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/cb39b5d02ed36476d08de72405b4bf78?s=128&d=identicon&r=PG&f=1", "display_name": "OMGitzMidgar", "link": "https://stackoverflow.com/users/5020728/omgitzmidgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1469649685, "creation_date": 1469649685, "question_id": 38622180, "link": "https://stackoverflow.com/questions/38622180/output-freezing-when-using-a-python-script-to-run-a-bash-script-which-runs-anoth", "title": "Output freezing when using a python script to run a bash script which runs another script", "body": "<p>I have always been able to use Python's subprocess.Popen to run bash scripts without any issues.</p>\n\n<p>However, I am now trying to run a bash script with Popen, and then that bash script is trying to run another script. I did not redirect the output that Popen was getting at all, so all of the output would appear on the terminal. I'm using Ubuntu Linux.</p>\n\n<p>However, when the script that is being called by the bash script finishes, the output on the terminal freezes while the rest of the bash script and the python script continues in the background.\nI understand that it might not be the smoothest practice to have a python script run a bash script which also runs a bash script, but I'm hoping to fix this issue. I sense that it is an issue with how I'm running the original bash script inside my python script. Here is the code I'm using:</p>\n\n<pre><code>p = subprocess.Popen([\"bash\", \"myScript.sh\", param1, param2, param3])\np.wait()\n</code></pre>\n\n<p>I originally was using <code>shell=True</code> for the Popen, but that was resulting in the same issue. I also tried removing <code>p.wait()</code> but that also does not resolve the issue.</p>\n\n<p>Any ideas? Should I use a different python method to run the bash script?</p>\n"}, {"tags": ["python", "matplotlib", "histogram"], "comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469650011, "post_id": 38622082, "comment_id": 64630127, "body": "are you asking about how to read in the data into something <code>matplotlib</code> can read or how to format the histogram once you&#39;ve read the data and converted it to numerical values?"}, {"owner": {"reputation": 1743, "user_id": 4116969, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pNRr1.jpg?s=128&g=1", "display_name": "HimanAB", "link": "https://stackoverflow.com/users/4116969/himanab"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469650236, "post_id": 38622082, "comment_id": 64630237, "body": "@Aaron I edited the question"}], "answers": [{"comments": [{"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469651154, "post_id": 38622519, "comment_id": 64630711, "body": "<code>pyplot</code> has tons of options to make your graph look as pretty as you wish. The <a href=\"http://matplotlib.org/api/pyplot_api.html?highlight=bar#matplotlib.pyplot.bar\" rel=\"nofollow noreferrer\">documentation</a> has some really nice examples with source code as well."}, {"owner": {"reputation": 1743, "user_id": 4116969, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pNRr1.jpg?s=128&g=1", "display_name": "HimanAB", "link": "https://stackoverflow.com/users/4116969/himanab"}, "edited": false, "score": 0, "creation_date": 1469652405, "post_id": 38622519, "comment_id": 64631340, "body": "most_common() removes some elements. For example the original list contains 345000 elements but most_common() returns 43000 elements"}, {"owner": {"reputation": 516, "user_id": 1267531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9adc08caf31023cf8040715c1b85b0c7?s=128&d=identicon&r=PG", "display_name": "story645", "link": "https://stackoverflow.com/users/1267531/story645"}, "edited": false, "score": 1, "creation_date": 1469653105, "post_id": 38622519, "comment_id": 64631701, "body": "Counter subclasses dicts, so you can do: ``` labels = list(counts.keys()); number = list(counts.values()) ```"}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "reply_to_user": {"reputation": 1743, "user_id": 4116969, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pNRr1.jpg?s=128&g=1", "display_name": "HimanAB", "link": "https://stackoverflow.com/users/4116969/himanab"}, "edited": false, "score": 0, "creation_date": 1469710474, "post_id": 38622519, "comment_id": 64656948, "body": "@HimanUCC the whole idea of using <code>Counter</code> is to reduce the number of elements. <code>most_common()</code> is returning a list of tuples containing each element and how many times it occurred. If there are any identical elements at all, the list returned by <code>most_common</code> will naturally be shorter than the input list."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "reply_to_user": {"reputation": 516, "user_id": 1267531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9adc08caf31023cf8040715c1b85b0c7?s=128&d=identicon&r=PG", "display_name": "story645", "link": "https://stackoverflow.com/users/1267531/story645"}, "edited": false, "score": 0, "creation_date": 1469710741, "post_id": 38622519, "comment_id": 64657168, "body": "@story645 <code>counts.keys()</code> would not preserve the order generated from <code>most_common()</code>, which is important if you want the largest columns on the left"}], "tags": [], "owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "is_accepted": true, "score": 1, "last_activity_date": 1469651440, "last_edit_date": 1469651440, "creation_date": 1469650958, "answer_id": 38622519, "question_id": 38622082, "link": "https://stackoverflow.com/questions/38622082/plot-histogram-of-a-list-of-strings-in-python/38622519#38622519", "title": "Plot histogram of a list of strings in Python", "body": "<p>how about something along these lines...</p>\n\n<pre><code>from collections import Counter\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ncounts = Counter(['a','a','a','c','a','a','c','b','b','d', 'd','d','d','d','b'])\ncommon = counts.most_common()\nlabels = [item[0] for item in common]\nnumber = [item[1] for item in common]\nnbars = len(common)\n\nplt.bar(np.arange(nbars), number, tick_label=labels)\nplt.show()\n</code></pre>\n\n<p>The <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter.most_common\" rel=\"nofollow\"><code>most_common()</code></a> call is the main innovation of this script. The rest is easily found in the <code>matplotlib</code> documentation (already linked in my comment).</p>\n"}], "owner": {"reputation": 1743, "user_id": 4116969, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pNRr1.jpg?s=128&g=1", "display_name": "HimanAB", "link": "https://stackoverflow.com/users/4116969/himanab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3838, "favorite_count": 1, "accepted_answer_id": 38622519, "answer_count": 1, "score": 2, "last_activity_date": 1469651440, "creation_date": 1469649367, "last_edit_date": 1469650206, "question_id": 38622082, "link": "https://stackoverflow.com/questions/38622082/plot-histogram-of-a-list-of-strings-in-python", "title": "Plot histogram of a list of strings in Python", "body": "<p>I have a very long list of IDs (IDs are string values.\nI want to plot a histogram of this list. There are some codes in other threads on stackoverflow for plotting a histogram but the histogram I want should look like this picture (i.e. highest values are in the left side and the values gradually decrease when x-axis increase. </p>\n\n<p>This is the code for plotting regular histogram</p>\n\n<pre><code>import pandas\nfrom collections import Counter\nitems=a long list of strings\nletter_counts = Counter(items)\ndf = pandas.DataFrame.from_dict(letter_counts, orient='index')\ndf.plot(kind='bar')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oc1nk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oc1nk.gif\" alt=\"The histogram\"></a></p>\n"}, {"tags": ["python", "django", "validation", "django-models", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "edited": false, "score": 0, "creation_date": 1469723354, "post_id": 38627053, "comment_id": 64667050, "body": "Thanks this is working pretty well, though I am not sure how to add in here the field that was the RegEx type like this one:  group_phone = forms.RegexField(regex=r&#39;^(\\+\\d{1,2}\\s)?&#40;?\\d{3}&#41;?[\\s&zwnj;&#8203;.-]?\\d{3}[\\s.-]?\\d{4&zwnj;&#8203;}$&#39;,                                  error_message = (&quot;Phone number must be entered in the format: &#39;555-555-5555 or 5555555555&#39;. Up to 15 digits allowed.&quot;),                                 widget = forms.TextInput(attrs={&#39;tabindex&#39;:&#39;13&#39;, &#39;placeholder&#39;: &#39;555-555-5555 or 5555555555&#39;}))"}, {"owner": {"reputation": 1681, "user_id": 3659874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc45d117aa5b2fad0bce19aef557313?s=128&d=identicon&r=PG&f=1", "display_name": "Tiny Instance", "link": "https://stackoverflow.com/users/3659874/tiny-instance"}, "reply_to_user": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "edited": false, "score": 0, "creation_date": 1469758027, "post_id": 38627053, "comment_id": 64681288, "body": "You can explicitly define those fields, just make sure your validation respects your model. They can be either <code>RegexField</code> as you have, or they can be <code>CharField</code> with validators. There is a validator example at the bottom of the <a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/modelforms/#overriding-the-default-fields\" rel=\"nofollow noreferrer\">overriding defaults section</a> but it&#39;s not necessary, you can override them however you wish."}], "tags": [], "owner": {"reputation": 1681, "user_id": 3659874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc45d117aa5b2fad0bce19aef557313?s=128&d=identicon&r=PG&f=1", "display_name": "Tiny Instance", "link": "https://stackoverflow.com/users/3659874/tiny-instance"}, "is_accepted": true, "score": 1, "last_activity_date": 1469679723, "creation_date": 1469679723, "answer_id": 38627053, "question_id": 38622020, "link": "https://stackoverflow.com/questions/38622020/validation-on-createview-and-updateview-in-django-always-being-triggered-even-w/38627053#38627053", "title": "Validation on CreateView and UpdateView in django always being triggered, even when model doesn&#39;t/shouldn&#39;t", "body": "<p>It's not because you added the widgets, it's because you actually redefined the fields and while redefining them, you did not respect your model's requirements. For example in your model </p>\n\n<pre><code> mailing_address = models.ForeignKey(..., null=True, blank=True)\n</code></pre>\n\n<p>mailing address is allowed to be empty, but in your defined form field it's required.</p>\n\n<pre><code>mailing_address = forms.ModelChoiceField(queryset=Address.objects.all(), widget=forms.Select(attrs={'tabindex':'7'}))\n# You need required=False\n</code></pre>\n\n<p>If you want to redefine your own fields for the <code>modelForm</code> you can, then you need to respect your model while doing it. <strong>However</strong>, you can also accomplish what you're trying by using already existing dictionaries in <code>modelForm</code>. For example inside your <code>class Meta</code> you can override the widgets like this:</p>\n\n<pre><code> class YourForm(ModelForm):\n     class Meta:\n        model = YourModel\n        fields = ('field_1', 'field_2', 'field_3', ...)\n        widgets = {\n            # CHANGE THE WIDGETS HERE IF YOU WANT TO\n            'field_1': Textarea(attrs={'cols': 80, 'rows': 20}),\n        }  \n        labels ={\n            # CHANGE THE LABELS HERE IF YOU WANT TO\n        }\n</code></pre>\n\n<p>More info at Django's <code>modelForm</code> docs: <a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/modelforms/#overriding-the-default-fields\" rel=\"nofollow\">Overriding defaults field</a></p>\n"}], "owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 38627053, "answer_count": 1, "score": 0, "last_activity_date": 1469679723, "creation_date": 1469649157, "last_edit_date": 1469656435, "question_id": 38622020, "link": "https://stackoverflow.com/questions/38622020/validation-on-createview-and-updateview-in-django-always-being-triggered-even-w", "title": "Validation on CreateView and UpdateView in django always being triggered, even when model doesn&#39;t/shouldn&#39;t", "body": "<p>I am not sure why adding widgets in my GroupForm form in forms.py caused my validations to go haywire.  Before that they were respecting my models, now after adding widget attrs for everything it no longer respects the models and says a field is required for everything.  Is there some other item I missed when defining the widget?</p>\n\n<p>forms.py:</p>\n\n<pre><code>class GroupForm(forms.ModelForm):\n    group_name = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'1', 'placeholder':'Groups name'}))\n    group_contact = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'2', 'placeholder':'Groups point of contact person'}))\n    tin = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'3', 'placeholder':'Groups tin#'}))\n    npi = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'4', 'placeholder':'Groups npi#'}))\n    notes = forms.CharField(widget = forms.Textarea(attrs={'tabindex':'5', 'placeholder':'Group notes'}))\n    #notes = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'5', 'placeholder':'Groups notes'}))\n\n    billing_address = forms.ModelChoiceField(queryset=Address.objects.all(), widget=forms.Select(attrs={'tabindex':'6'}))\n    mailing_address = forms.ModelChoiceField(queryset=Address.objects.all(), widget=forms.Select(attrs={'tabindex':'7'}))\n    start_date = forms.DateField(widget=forms.TextInput(attrs=\n                                {\n                                    'class':'datepicker',\n                                    'tabindex' : '8',\n                                    'placeholder' : 'Groups start date'\n                                }))\n    end_date = forms.DateField(widget=forms.TextInput(attrs=\n                                {\n                                    'class':'datepicker',\n                                    'tabindex' : '9',\n                                    'placeholder' : 'Groups term date'\n                                }))\n    change_date = forms.DateField(widget=forms.TextInput(attrs=\n                                {\n                                    'class':'datepicker',\n                                    'tabindex' : '10',\n                                    'placeholder' : 'Groups changed date'\n                                }))\n\n    change_text = forms.CharField(widget = forms.TextInput(attrs={'tabindex':'11', 'placeholder':'Reason for date change'}))\n    #term_comment = forms.CharField(widget= forms.TextInput(attrs={'tabindex':'12', 'placeholder':'Note on group term'}))\n    term_comment = forms.CharField(widget = forms.Textarea(attrs={'tabindex':'12',  'placeholder':'Note on group term'}))\n    group_phone = forms.RegexField(regex=r'^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$', \n                                error_message = (\"Phone number must be entered in the format: '555-555-5555 or 5555555555'. Up to 15 digits allowed.\"),\n                                widget = forms.TextInput(attrs={'tabindex':'13', 'placeholder': '555-555-5555 or 5555555555'}))\n\n    group_fax = forms.RegexField(regex=r'^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$', \n                                error_message = (\"Fax number must be entered in the format: '555-555-5555 or 5555555555'. Up to 15 digits allowed.\"),\n                                widget = forms.TextInput(attrs={'tabindex':'15', 'placeholder': '555-555-5555 or 5555555555'}))\n\n    group_term = forms.ModelChoiceField(queryset=GroupTerm.objects.all(), widget=forms.Select(attrs={'tabindex':'16'}))\n\n    class Meta:\n        model=Group\n        exclude = ['created_at', 'updated_at']\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>class GroupCreateView(CreateView):\n    model = Group\n    form_class = GroupForm\n    template_name = 'ipaswdb/group/group_form.html'\n    success_url = 'ipaswdb/group/'\n\n    def form_valid(self, form):\n        return super(GroupCreateView, self).form_valid(form)\n\nclass GroupUpdateView(UpdateView):\n    model = Group\n    form_class = GroupForm\n    template_name = 'ipaswdb/group/group_form.html'\n    success_url = 'ipaswdb/group/'\n</code></pre>\n\n<p>Group model:</p>\n\n<pre><code>class Group(models.Model):\n    group_name = models.CharField(max_length=50)\n    group_contact= models.CharField(max_length=50)\n    tin = models.CharField(max_length=50)\n    npi =models.CharField(max_length=50)\n    notes = models.TextField(max_length = 255,  null=True, blank=True)\n    billing_address = models.ForeignKey('Address', related_name = 'billing_address', on_delete=models.SET_NULL, null=True)\n    mailing_address = models.ForeignKey('Address', related_name = 'mailing_address', on_delete=models.SET_NULL,  null=True, blank=True)\n    start_date = models.DateField(auto_now=False, auto_now_add=False, null=True, blank=True)\n    end_date = models.DateField(auto_now=False, auto_now_add=False, null=True, blank=True)\n    change_date = models.DateField(auto_now=False, auto_now_add=False, null=True, blank=True)\n    change_text = models.TextField(max_length = 255,  null=True, blank=True)\n    term_comment = models.TextField(max_length = 255,  null=True, blank=True)\n    group_phone=models.CharField(max_length=50)\n    group_fax = models.CharField(max_length=50)\n    group_term = models.ForeignKey(GroupTerm, on_delete=models.SET_NULL, null=True, blank=True) #quesiton is can a group be termed many times?\n    created_at=models.DateField(auto_now_add=True)\n    updated_at=models.DateField(auto_now=True)\n\n    #provider_location = models.ManyToManyField('ProviderLocations', through='GroupLocations')\n\n    def __str__(self):\n        return self.group_name\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "packages", "python-2.x", "importerror"], "comments": [{"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1469661604, "post_id": 38621975, "comment_id": 64634890, "body": "I think you are doing an implicit relative import, which is disallowed in Py3.  If you type <code>from __future__ import absolute_import</code> this should turn off implicit rel. imports in Py2 as well and raise the same error as in Py3. &quot;Using dots&quot; as demonstrated by @pbreach is an example of an <a href=\"http://www.python.org/dev/peps/pep-0008/#imports\" rel=\"nofollow noreferrer\">explicit relative import</a> which is both Py2/3 compatible.  Use either explicit relative or absolute imports instead, never implicit."}], "answers": [{"comments": [{"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "edited": false, "score": 0, "creation_date": 1469657352, "post_id": 38623466, "comment_id": 64633641, "body": "Thanks for your input. Could you be more clear? Do you mean check sys.path, and if so what I am checking for. This is a comment not an answer."}], "tags": [], "owner": {"reputation": 16, "user_id": 6400967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ee53d35ad44b763b472ae0e39fa5ba?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Daigneault", "link": "https://stackoverflow.com/users/6400967/joseph-daigneault"}, "is_accepted": false, "score": 0, "last_activity_date": 1469812633, "last_edit_date": 1469812633, "creation_date": 1469654821, "answer_id": 38623466, "question_id": 38621975, "link": "https://stackoverflow.com/questions/38621975/import-package-from-adjacent-module-works-in-py2-but-not-in-py3/38623466#38623466", "title": "Import package from adjacent module works in Py2 but not in Py3", "body": "<p><strong>No module named 'scriptB'</strong></p>\n\n<p>Looks like a path error.  Check your path statement.\n  The path statement in Windows can be accessed by typing \"system\" into start menu search bar.  From there you can access \"Environment Variables\", one of which is the \"path\" statement.  There you can see different directories that are allowed to be accessed by Python scripts.  Make sure your Python 3.x directory and Python 3.x/scripts directory are listed there.<br>\n  Files listed in the path statement are kind of like Global Variables in a program.  If both Python 2 and Python 3 have the <strong>same</strong> file names in their directories you could access an incompatible file.  I've read that there is a python launcher which will solve this very problem so that you can run multiple versions of python on the same computer.\n  For now I would test to see if this is your problem by \n-copying the path statement to a backup file and then \n-remove references to python 2.x, \n-reboot\n-run your program.\nIf you want to run multiple versions of python copy the original path statement back and install the python launcher.</p>\n"}, {"tags": [], "owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "is_accepted": false, "score": 0, "last_activity_date": 1469660248, "creation_date": 1469660248, "answer_id": 38624524, "question_id": 38621975, "link": "https://stackoverflow.com/questions/38621975/import-package-from-adjacent-module-works-in-py2-but-not-in-py3/38624524#38624524", "title": "Import package from adjacent module works in Py2 but not in Py3", "body": "<p>So the problem was that the imports in <code>__init__.py</code> should have been relative imports i.e.:</p>\n\n<pre><code>from .scriptB import functionB\nfrom .scriptC import functionC\n</code></pre>\n\n<p>I guess this is one of the differences between importing a module and a python package. It seems that in Py3.5 relative imports need to be done explicitly and so an error was thrown. This is my interpretation. unfortunatly the structure I had put in the question was not close enough to the problem I had, so this doesn't solve it... But a more detailed (and probably accurate) answer for this is still welcomed.</p>\n"}], "owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1469812633, "creation_date": 1469649015, "question_id": 38621975, "link": "https://stackoverflow.com/questions/38621975/import-package-from-adjacent-module-works-in-py2-but-not-in-py3", "title": "Import package from adjacent module works in Py2 but not in Py3", "body": "<p>I'm still getting used to structuring python projects and relative imports, I thought I understood relative imports mostly until I ran into an issue when testing on Py3.</p>\n\n<p>I have a project that is structure like so:</p>\n\n<pre><code>scriptA.py\npackage/__init__.py\n          scriptB.py\n          scriptC.py\n</code></pre>\n\n<p>and <code>__init.py__</code> contains the following:</p>\n\n<pre><code>from scriptB import functionB\nfrom scriptC import functionC\n</code></pre>\n\n<p>In <code>scriptA</code> <code>import package as _package</code> works in Py2.7, but fails on Py3.5 with the error, <code>ImportError: No module named 'scriptB'</code>.</p>\n\n<p>How can I import <code>package</code> in a way that is compatible with both Py2 and 3? Why is this different?</p>\n\n<p>I tried doing <code>import .package as _package</code> but that doesn't seem to change anything (still figuring out when to use <code>.</code> and <code>..</code>...</p>\n"}, {"tags": ["python", "regex", "split"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1469649090, "post_id": 38621962, "comment_id": 64629650, "body": "Will there ever be other <code>%</code> characters in the string or are they only allowed around variables?"}, {"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1469649167, "post_id": 38621962, "comment_id": 64629692, "body": "THey are only allowed around variables."}, {"owner": {"reputation": 1769, "user_id": 879997, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c96ee08562add37a3a8923ff98d903f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/879997/andrew"}, "edited": false, "score": 0, "creation_date": 1469650997, "post_id": 38621962, "comment_id": 64630619, "body": "If you&#39;re going to expand to a more complex grammar, consider moving from regex to a parser generator, like <a href=\"http://theory.stanford.edu/~amitp/yapps/\" rel=\"nofollow noreferrer\">Yapps</a> or <a href=\"http://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a>."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "edited": false, "score": 0, "creation_date": 1469649896, "post_id": 38622156, "comment_id": 64630082, "body": "Precisely what I was looking for. Never heard of the lookaround term before. Very helpful. Thank you."}, {"owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "edited": false, "score": 0, "creation_date": 1469650551, "post_id": 38622156, "comment_id": 64630375, "body": "A little modification would also preserve the signs that were used for splitting: <code>r&quot;(?&lt;=%)([+&#47;*-])(?=%)&quot;</code>"}], "tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 0, "last_activity_date": 1469649610, "creation_date": 1469649610, "answer_id": 38622156, "question_id": 38621962, "link": "https://stackoverflow.com/questions/38621962/how-to-split-a-math-formula-that-is-composed-of-variables-that-contain-dashes/38622156#38622156", "title": "How to split a math formula that is composed of variables that contain dashes", "body": "<p>You can prevent <code>re.compile(\"%[\\+\\/\\-\\*]%\").split(formula)</code> from dropping the <code>%</code> characters by using lookarounds:</p>\n\n<pre><code>re.compile(r\"(?&lt;=%)[+/*-](?=%)\").split(formula)\n</code></pre>\n\n<p>Another solution would be to split on <code>[+/*-]</code> but only if followed by an even number of <code>%</code> characters:</p>\n\n<pre><code>re.split(r'[+*/-](?=(?:(?:[^%]*%){2})*$)', formula)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "is_accepted": false, "score": 0, "last_activity_date": 1469650465, "last_edit_date": 1469650465, "creation_date": 1469649655, "answer_id": 38622169, "question_id": 38621962, "link": "https://stackoverflow.com/questions/38621962/how-to-split-a-math-formula-that-is-composed-of-variables-that-contain-dashes/38622169#38622169", "title": "How to split a math formula that is composed of variables that contain dashes", "body": "<p>A 2-step solution:</p>\n\n<pre><code>import re\n\ntempList = re.split(\"(\\-|\\+|\\/|\\*)(?=%)\",'%abc-def%+%hij-klm%/%opq+rst%-%uvw-xyz%')\n\nfinalList = [x for x in tempList if \"%\" in x]\n\n['%abc-def%', '%hij-klm%', '%opq+rst%', '%uvw-xyz%']\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 325, "user_id": 4403891, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c189bd08eff508fa0010e81a7f47cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "musca999", "link": "https://stackoverflow.com/users/4403891/musca999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 38622156, "answer_count": 2, "score": 2, "last_activity_date": 1469661249, "creation_date": 1469648954, "last_edit_date": 1469661249, "question_id": 38621962, "link": "https://stackoverflow.com/questions/38621962/how-to-split-a-math-formula-that-is-composed-of-variables-that-contain-dashes", "title": "How to split a math formula that is composed of variables that contain dashes", "body": "<p>Trying to split this line:</p>\n\n<pre><code>formula='%abc-def%+%hij-klm%/%opq+rst%-%uvw-xyz%\n</code></pre>\n\n<p>The variable are contained with the <code>\"%\"</code> signs and must remain intact. </p>\n\n<p>I want to split on <code>+-/*</code> without splitting the variable due to the <code>'-'</code> in the name.</p>\n\n<p>Is there an easy way without having to use a for loop to scan each character?</p>\n\n<hr>\n\n<p><strong>1st Way:</strong></p>\n\n<p>Splits the variables (no good):</p>\n\n<pre><code>re.compile(\"[\\+\\/\\-\\*]\").split(formula) \n\n['%abc', 'def%', '%hij', 'klm%', '%opq', 'rst%', '%uvw', 'xyz%']\n</code></pre>\n\n<hr>\n\n<p><strong>2nd Way:</strong></p>\n\n<p>Loses the % (no good):</p>\n\n<pre><code>re.compile(\"%[\\+\\/\\-\\*]%\").split(formula) \n\n['%abc-def', 'hij-klm', 'opq+rst', 'uvw-xyz%']\n</code></pre>\n\n<hr>\n\n<p><strong>Expected Output:</strong></p>\n\n<p>I'm looking for something that'll yield:</p>\n\n<pre><code>['%abc-def%', '%hij-klm%', '%opq+rst%', '%uvw-xyz%']\n</code></pre>\n\n<p>Thanks,\nDan</p>\n"}, {"tags": ["python", "list", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 6344, "user_id": 2486357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d50eaca20365c51634c9452835c50ab?s=128&d=identicon&r=PG", "display_name": "C_Z_", "link": "https://stackoverflow.com/users/2486357/c-z"}, "edited": false, "score": 0, "creation_date": 1469648937, "post_id": 38621915, "comment_id": 64629564, "body": "Do you need to use a list of dictionaries for this? A dataframe might be better suited to this kind of task"}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1469648968, "post_id": 38621915, "comment_id": 64629581, "body": "are you asking to find duplicates of they key itself or duplicates of the value at <code>[&#39;un&#39;]</code>?"}, {"owner": {"reputation": 113, "user_id": 6129822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbd2dd528d6c1e48be2ad909db1f636?s=128&d=identicon&r=PG&f=1", "display_name": "Yan", "link": "https://stackoverflow.com/users/6129822/yan"}, "edited": false, "score": 0, "creation_date": 1469649051, "post_id": 38621915, "comment_id": 64629629, "body": "duplicates of the value"}, {"owner": {"reputation": 113, "user_id": 6129822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbd2dd528d6c1e48be2ad909db1f636?s=128&d=identicon&r=PG&f=1", "display_name": "Yan", "link": "https://stackoverflow.com/users/6129822/yan"}, "edited": false, "score": 0, "creation_date": 1469649218, "post_id": 38621915, "comment_id": 64629721, "body": "I am getting tis data in list of dicts maybe if future will try hanks for suggestion!"}, {"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "edited": false, "score": 0, "creation_date": 1469650248, "post_id": 38621915, "comment_id": 64630247, "body": "<code>dict</code> is a built-in python command for creating a dictionary, so you probably want to avoid using it as a variable name."}, {"owner": {"reputation": 113, "user_id": 6129822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbd2dd528d6c1e48be2ad909db1f636?s=128&d=identicon&r=PG&f=1", "display_name": "Yan", "link": "https://stackoverflow.com/users/6129822/yan"}, "edited": false, "score": 0, "creation_date": 1469651835, "post_id": 38621915, "comment_id": 64631050, "body": "thx, I have refactored it."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6129822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbd2dd528d6c1e48be2ad909db1f636?s=128&d=identicon&r=PG&f=1", "display_name": "Yan", "link": "https://stackoverflow.com/users/6129822/yan"}, "edited": false, "score": 0, "creation_date": 1469649762, "post_id": 38622067, "comment_id": 64630004, "body": "could you explain briefly your one  liner in the end?"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1524572545, "last_edit_date": 1524572545, "creation_date": 1469649310, "answer_id": 38622067, "question_id": 38621915, "link": "https://stackoverflow.com/questions/38621915/find-duplicates-in-python-list-of-dictionaries/38622067#38622067", "title": "Find duplicates in python list of dictionaries", "body": "<p>In general if you want to find duplicates in a list of dictionaries you should categorize your dictionaries in a way that duplicate ones stay in same groups. For that purpose you need to categorize based on <code>dict</code> items. Now, since for dictionaries Order is not an important factor you need to use a container that is both hashable and doesn't keep the order of its container. A <code>frozenset()</code> is the best choice for this task.</p>\n\n<p>Example:</p>\n\n<pre><code>In [87]: lst = [{2: 4, 6: 0},{20: 41, 60: 88},{5: 10, 2: 4, 6: 0},{20: 41, 60: 88},{2: 4, 6: 0}]\n\nIn [88]: result = defaultdict(list)\n\nIn [89]: for i, d in enumerate(lst):\n    ...:     result[frozenset(d.items())].append(i)\n    ...:     \nIn [91]: result\nOut[91]: \ndefaultdict(list,\n            {frozenset({(2, 4), (6, 0)}): [0, 4],\n             frozenset({(20, 41), (60, 88)}): [1, 3],\n             frozenset({(2, 4), (5, 10), (6, 0)}): [2]})\n</code></pre>\n\n<p>And in this case, you can categorize your dictionaries based on <code>'un'</code> key then choose the expected items based on <code>id</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; \n&gt;&gt;&gt; d = defaultdict(list)\n&gt;&gt;&gt; \n&gt;&gt;&gt; for i in a:\n...     d[i['un']].append(i)\n... \n&gt;&gt;&gt; d\ndefaultdict(&lt;type 'list'&gt;, {'a': [{'un': 'a', 'id': 'cd'}, {'un': 'a', 'id': 'cm'}], 'c': [{'un': 'c', 'id': 'vd'}, {'un': 'c', 'id': 'a'}, {'un': 'c', 'id': 'vd'}], 'b': [{'un': 'b', 'id': 'cd'}, {'un': 'b', 'id': 'cd'}]})\n&gt;&gt;&gt; \n&gt;&gt;&gt; keeps = {'a': 'cm', 'b':'cd', 'c':'vd'} # the key is 'un' and the value is 'id' should be keep for that 'un'\n&gt;&gt;&gt; \n&gt;&gt;&gt; [i for key, val in d.items() for i in val if i['id']==keeps[key]]\n[{'un': 'a', 'id': 'cm'}, {'un': 'c', 'id': 'vd'}, {'un': 'c', 'id': 'vd'}, {'un': 'b', 'id': 'cd'}, {'un': 'b', 'id': 'cd'}]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>In the last line (the nested list comprehension) we loop over the aggregated dict's items then over the values and keep those items within the values that follows or condition which is <code>i['id']==keeps[key]</code> that means we will keep the items that has an <code>id</code> with specified values in <code>keeps</code> dictionary.</p>\n\n<p>You can beak the list comprehension to something like this:</p>\n\n<pre><code>final_list = []\nfor key, val in d.items():\n    for i in val:\n        if i['id']==keeps[key]:\n             final_list.append(i)\n</code></pre>\n\n<p>Note that since the iteration of list comprehensions has performed in C it's very faster than regular python loops and in the pythonic way to go. But if the performance is not important for you you can use the regular approach. </p>\n"}, {"tags": [], "owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "is_accepted": false, "score": 2, "last_activity_date": 1469649691, "creation_date": 1469649691, "answer_id": 38622184, "question_id": 38621915, "link": "https://stackoverflow.com/questions/38621915/find-duplicates-in-python-list-of-dictionaries/38622184#38622184", "title": "Find duplicates in python list of dictionaries", "body": "<p>you were pretty much on the right track with a defaultdict... here's roughly how I would write it.</p>\n\n<pre><code>from collections import defaultdict\na = [{'un': 'a', 'id': \"cd\"}, {'un': 'b', 'id': \"cd\"},{'un': 'b', 'id':    \"cd\"}, {'un': 'c', 'id': \"vd\"}, {'un': 'c', 'id': \"a\"}, {'un': 'c', 'id': \"vd\"}, {'un': 'a', 'id': \"cm\"}]\n\nitems = defaultdict(list)\nfor row in a:\n    items[row['un']].append(row['id'])  #make a list of 'id' values for each 'un' key\n\nfor key in items.keys():\n    if len(items[key]) &gt; 1:  #if there is more than one 'id'\n        newValue = somefunc(items[key])  #decided which of the list items to keep\n        items[key] = newValue  #put that new value back into the dictionary\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6129822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbd2dd528d6c1e48be2ad909db1f636?s=128&d=identicon&r=PG&f=1", "display_name": "Yan", "link": "https://stackoverflow.com/users/6129822/yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10669, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1524572545, "creation_date": 1469648781, "last_edit_date": 1469651782, "question_id": 38621915, "link": "https://stackoverflow.com/questions/38621915/find-duplicates-in-python-list-of-dictionaries", "title": "Find duplicates in python list of dictionaries", "body": "<p>I have kind of dictionary below: </p>\n\n<pre><code>a = [{'un': 'a', 'id': \"cd\"}, {'un': 'b', 'id': \"cd\"},{'un': 'b', 'id':    \"cd\"}, {'un': 'c', 'id': \"vd\"},\n    {'un': 'c', 'id': \"a\"}, {'un': 'c', 'id': \"vd\"}, {'un': 'a', 'id': \"cm\"}]\n</code></pre>\n\n<p>I need to find the duplicates of dictionaries by 'un' key, for example this {'un': 'a', 'id': \"cd\"} and this {'un': 'a', 'id': \"cm\"} dicts are duplicates by value of key 'un' secondly when the duplicates are found I need to make decision what dict to keep concerning its second value of the key 'id', for example we keep dict with pattern value \"cm\".</p>\n\n<p>I have already made the firs step see the code below:</p>\n\n<pre><code>from collections import defaultdict\ntemp_ids = []\ndup_dict = defaultdict(list)\nfor number, row  in enumerate(a):\n    id = row['un']\n    if id not in temp_ids:\n        temp_ids.append(id)\n    else:\n        tally[id].append(number)\n</code></pre>\n\n<p>Using this code I more or less able to find indexes of duplicate lists, maybe there is other method to do it. And also I need the next step code that makes decision what dict keep and what omit. Will be very grateful for help.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1469648525, "post_id": 38621822, "comment_id": 64629340, "body": "Because you&#39;re trying to replace <code>&#47;&#47;</code> with \\."}, {"owner": {"reputation": 809, "user_id": 2925985, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/kevlx.png?s=128&g=1", "display_name": "Susannah Potts", "link": "https://stackoverflow.com/users/2925985/susannah-potts"}, "edited": false, "score": 3, "creation_date": 1469648575, "post_id": 38621822, "comment_id": 64629375, "body": "Why are you using <code>&#47;&#47;</code>?  &#39;/&#39; doesn&#39;t need to be escaped."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 3, "creation_date": 1469648639, "post_id": 38621822, "comment_id": 64629407, "body": "it seems weird that you would need to change the <code>&#47;</code> character in something that looks like a path anyway ..."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1469649233, "post_id": 38621822, "comment_id": 64629730, "body": "See <a href=\"http://stackoverflow.com/q/12288679/10077\">stackoverflow.com/q/12288679/10077</a>"}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 8, "last_activity_date": 1469648587, "creation_date": 1469648587, "answer_id": 38621849, "question_id": 38621822, "link": "https://stackoverflow.com/questions/38621822/replacing-with-doesnt-work/38621849#38621849", "title": "Replacing &quot;/&quot; with &quot;\\&quot; doesn&#39;t work", "body": "<p><code>'/'</code> does not need to be doubled. <code>'\\'</code> is doubled because strings cannot end with <code>'\\'</code>:</p>\n\n<pre><code>s = \"images/companyPkg/Pkg/nib64/\"\nreplaced_str = s.replace('/','\\\\')\n</code></pre>\n\n<p>Don't assign anything to the name <code>str</code>, <code>str</code> is a builtin (class for strings) in Python. Making an assignment will make the builtin name unusable later on in your code. You don't want that.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 6621330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355b547577a7af49c51e6f4cfd01e463?s=128&d=identicon&r=PG&f=1", "display_name": "Sean McMillan", "link": "https://stackoverflow.com/users/6621330/sean-mcmillan"}, "is_accepted": false, "score": 2, "last_activity_date": 1469648722, "creation_date": 1469648722, "answer_id": 38621899, "question_id": 38621822, "link": "https://stackoverflow.com/questions/38621822/replacing-with-doesnt-work/38621899#38621899", "title": "Replacing &quot;/&quot; with &quot;\\&quot; doesn&#39;t work", "body": "<p>You don't need to escape the <code>/</code> in python just the <code>\\</code> so the following line should do the trick:</p>\n\n<pre><code>replaced_str = str.replace('/', '\\\\')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2175, "user_id": 5032898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-sXfHQTrvip8/AAAAAAAAAAI/AAAAAAAAAD8/4PfohGnSV4I/photo.jpg?sz=128", "display_name": "Abhishek Kashyap", "link": "https://stackoverflow.com/users/5032898/abhishek-kashyap"}, "is_accepted": false, "score": 0, "last_activity_date": 1469649781, "creation_date": 1469649781, "answer_id": 38622199, "question_id": 38621822, "link": "https://stackoverflow.com/questions/38621822/replacing-with-doesnt-work/38622199#38622199", "title": "Replacing &quot;/&quot; with &quot;\\&quot; doesn&#39;t work", "body": "<p>You should double the back slash <code>\\</code> because it is the escape character and used to provide a special meaning to the certain characters as for example <code>n</code> is <strong>simple 'n'</strong> but <code>\\n</code> is a <strong>new line</strong>, but forward slash <code>/</code> is a simple character so you don't need to double it.</p>\n\n<p>You should write\n<code>replaced_str = str.replace('/','\\\\')</code></p>\n"}], "owner": {"reputation": 225, "user_id": 6645784, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/fd39a92d66e0d6b6e774f35a5f648133?s=128&d=identicon&r=PG&f=1", "display_name": "wisecrack", "link": "https://stackoverflow.com/users/6645784/wisecrack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 38621849, "answer_count": 3, "score": 0, "last_activity_date": 1469649781, "creation_date": 1469648475, "last_edit_date": 1469649307, "question_id": 38621822, "link": "https://stackoverflow.com/questions/38621822/replacing-with-doesnt-work", "title": "Replacing &quot;/&quot; with &quot;\\&quot; doesn&#39;t work", "body": "<p>I am trying to replace <code>/</code> with <code>\\</code> as below, but it doesn't work, why is that?</p>\n\n<pre><code>str = \"images/companyPkg/Pkg/nib64/\"\nreplaced_str = str.replace('//','\\\\')\nprint replaced_str\n</code></pre>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1469714137, "post_id": 38626076, "comment_id": 64660053, "body": "I assume you created three centroids. How are the  coordinates of each centroid represented by each element in <code>nmf.components_</code>? The number of non-zero elements in that array seems to indicate high dimensionality."}, {"owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 1, "creation_date": 1469714973, "post_id": 38626076, "comment_id": 64660753, "body": "The dimensions of <code>nmf.components_</code> are 3 rows by 14 columns, which correspond to 3 clusters and 14 different words, i.e. the vectors representing cluster centroids are linear combinations of the vocabulary basis."}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1469734312, "post_id": 38626076, "comment_id": 64673288, "body": "So how could I find the x-y coordinates of the centroids themselves? Or is that a misguided ask?"}, {"owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 1, "creation_date": 1469745913, "post_id": 38626076, "comment_id": 64678389, "body": "The centroids are 14-dimensional vectors, they do not lie in a 2D space"}, {"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1469822120, "post_id": 38626076, "comment_id": 64714104, "body": "Ah, I see. The values in the vectors indicate the coordinates for each dimension for each centroid. Thanks!"}], "tags": [], "owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "is_accepted": true, "score": 2, "last_activity_date": 1469672187, "creation_date": 1469672187, "answer_id": 38626076, "question_id": 38621791, "link": "https://stackoverflow.com/questions/38621791/sklearn-find-mean-centroid-location-for-clusters/38626076#38626076", "title": "Sklearn: find mean centroid location for clusters?", "body": "<p>The <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html\" rel=\"nofollow\">docs</a> of <code>sklearn.decomposition.NMF</code> explain how to get the coordinates of the centroid of each cluster:</p>\n\n<blockquote>\n  <p><strong>Attributes:</strong> &nbsp;&nbsp;&nbsp; <strong>components_</strong> : array, [n_components, n_features]<br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Non-negative components of the data.  </p>\n</blockquote>\n\n<p>The basis vectors are arranged row-wise, as shown in the following interactive session:</p>\n\n<pre><code>In [995]: np.set_printoptions(precision=2)\n\nIn [996]: nmf.components_\nOut[996]: \narray([[ 0.54,  0.91,  0.  ,  0.  ,  0.  ,  0.  ,  0.  ,  0.89,  0.  ,  0.89,  0.37,  0.54,  0.  ,  0.54],\n       [ 0.  ,  0.01,  0.71,  0.  ,  0.  ,  0.  ,  0.71,  0.72,  0.71,  0.01,  0.02,  0.  ,  0.71,  0.  ],\n       [ 0.  ,  0.01,  0.61,  0.61,  0.61,  0.61,  0.  ,  0.  ,  0.  ,  0.62,  0.02,  0.  ,  0.  ,  0.  ]])\n</code></pre>\n\n<p>As for your second question, I don't see the point of \"<em>computing the average of each</em> <code>descs</code> <em>element's topic value for each cluster</em>\". In my opinion it makes more sense to perform the classification through the calculated likelihoods.</p>\n"}], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1169, "favorite_count": 1, "accepted_answer_id": 38626076, "answer_count": 1, "score": 1, "last_activity_date": 1469672187, "creation_date": 1469648372, "question_id": 38621791, "link": "https://stackoverflow.com/questions/38621791/sklearn-find-mean-centroid-location-for-clusters", "title": "Sklearn: find mean centroid location for clusters?", "body": "<pre><code>import pandas as pd, numpy as np, scipy\nimport sklearn.feature_extraction.text as text\nfrom sklearn import decomposition\n\ndescs = [\"You should not go there\", \"We may go home later\", \"Why should we do your chores\", \"What should we do\"]\n\nvectorizer = text.CountVectorizer()\n\ndtm = vectorizer.fit_transform(descs).toarray()\n\nvocab = np.array(vectorizer.get_feature_names())\n\nnmf = decomposition.NMF(3, random_state = 1)\n\ntopic = nmf.fit_transform(dtm)\n</code></pre>\n\n<p>Printing <code>topic</code> leaves me with:</p>\n\n<pre><code>&gt;&gt;&gt; print(topic)\n[0.       , 1.403    , 0.     ],\n[0.       , 0.       , 1.637  ],\n[1.257    , 0.       , 0.     ],\n[0.874    , 0.056    , 0.065  ]\n</code></pre>\n\n<p>Which are vectors of each element in <code>descs</code>'s likelihood to belong to a certain cluster. How can I get the coordinates of the centroid of each cluster? Ultimately, I want to develop a function to calculate the distance of each element in <code>descs</code> from the centroid of the cluster it was assigned to.</p>\n\n<p>Would it be best to just compute the average of each <code>descs</code> element's <code>topic</code> value for each cluster?</p>\n"}, {"tags": ["python", "memory", "pixel", "getpixel"], "comments": [{"owner": {"reputation": 308, "user_id": 3241663, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2772bd82c001755ef52c69494e219a2a?s=128&d=identicon&r=PG&f=1", "display_name": "TypeKazt", "link": "https://stackoverflow.com/users/3241663/typekazt"}, "edited": false, "score": 0, "creation_date": 1469650832, "post_id": 38621724, "comment_id": 64630514, "body": "Have you tried storing the device content, i.e. <code>win32gui.GetDC(win32gui.GetActiveWindow())</code>, in a local variable inside your function and then deleting it after use?"}, {"owner": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "edited": false, "score": 0, "creation_date": 1469650899, "post_id": 38621724, "comment_id": 64630555, "body": "del/gc.collcet can delete the object/collect garbage and you can also use gc.garbage to see if there is reference cycle"}], "answers": [{"tags": [], "owner": {"reputation": 5217, "user_id": 6582873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aEx7y.jpg?s=128&g=1", "display_name": "napuzba", "link": "https://stackoverflow.com/users/6582873/napuzba"}, "is_accepted": false, "score": 1, "last_activity_date": 1469903226, "creation_date": 1469903226, "answer_id": 38677186, "question_id": 38621724, "link": "https://stackoverflow.com/questions/38621724/getpixel-memory-leak-in-python/38677186#38677186", "title": "GetPixel memory leak in Python", "body": "<p>You should call <a href=\"http://docs.activestate.com/activepython/3.2/pywin32/win32gui__ReleaseDC_meth.html\" rel=\"nofollow\">win32gui.ReleaseDC</a> for each call of <a href=\"http://docs.activestate.com/activepython/3.2/pywin32/win32gui__GetDC_meth.html\" rel=\"nofollow\">win32gui.GetDC</a> as explained in <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd144871(v=vs.85).aspx\" rel=\"nofollow\">GetDC</a>:</p>\n\n<blockquote>\n  <p>After painting with a common DC, the ReleaseDC function must be called to release the DC.</p>\n</blockquote>\n\n<pre><code>def function():\n    hwnd = win32gui.GetActiveWindow()\n    hdc  = win32gui.GetDC(hwnd)\n    a = win32gui.GetPixel(hdc , x, y)\n    win32gui.ReleaseDC(hwnd,hdc)\n    return a\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6646478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892aee4afccefeb2bf1c912997ba8437?s=128&d=identicon&r=PG&f=1", "display_name": "gr_y", "link": "https://stackoverflow.com/users/6646478/gr-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476624662, "creation_date": 1469648151, "last_edit_date": 1476624662, "question_id": 38621724, "link": "https://stackoverflow.com/questions/38621724/getpixel-memory-leak-in-python", "title": "GetPixel memory leak in Python", "body": "<p>I have a script that sits outside a game, reads pixels, and reacts to that information by \"pressing keys\", \"clicking\", etc. So to get the pixels, I am using code like this</p>\n\n<pre><code>def function():\n    a = win32gui.GetPixel(win32gui.GetDC(win32gui.GetActiveWindow()), x, y)\n    return a\n</code></pre>\n\n<p>in order to get values of pixels on the screen quickly and have the script quickly react.</p>\n\n<p>It starts off fine, is able to execute everything it needs to in time, but it gets progressively slower.</p>\n\n<p>I have identified the problem source as GetPixel by trying to use other methods like this</p>\n\n<pre><code>def function():\n    box = (x1, y1, x2, y2)\n    im = ImageOps.grayscale(ImageGrab.grab(box))\n    a = array(im.getcolors())\n    a = a.sum()\n    return a\n</code></pre>\n\n<p>which are far too slow, but if I run a while loop containing these other methods, they do not gradually execute slower and slower like the fast method with GetPixel does (memory leak.) </p>\n\n<p>I am using local variables that are deleted afterwards, etc. It IS GetPixel that is the problem. I just don't know where the stuff it's not deleting is, how to tell Python to delete it, if that's even possible, etc.</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 1, "creation_date": 1469648772, "post_id": 38621689, "comment_id": 64629481, "body": "Are you logged in as Administrator user on the machine?  Try to run cmd prompt as administrator see if that helps"}, {"owner": {"reputation": 1395, "user_id": 6359147, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a72bf7b3d8598739568189ccd448ecc?s=128&d=identicon&r=PG&f=1", "display_name": "vandelay", "link": "https://stackoverflow.com/users/6359147/vandelay"}, "reply_to_user": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1469650412, "post_id": 38621689, "comment_id": 64630316, "body": "@Yan I use administrator"}, {"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1469650773, "post_id": 38621689, "comment_id": 64630486, "body": "Have you seen this question?  <a href=\"http://stackoverflow.com/questions/36809739/pip-install-permissionerror-errno-13-permission-denied\" title=\"pip install permissionerror errno 13 permission denied\">stackoverflow.com/questions/36809739/&hellip;</a>"}, {"owner": {"reputation": 1395, "user_id": 6359147, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a72bf7b3d8598739568189ccd448ecc?s=128&d=identicon&r=PG&f=1", "display_name": "vandelay", "link": "https://stackoverflow.com/users/6359147/vandelay"}, "reply_to_user": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1469651213, "post_id": 38621689, "comment_id": 64630748, "body": "Yes using conda did not solve it."}], "answers": [{"comments": [{"owner": {"reputation": 1403, "user_id": 4077977, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/imsaG.png?s=128&g=1", "display_name": "Sosel", "link": "https://stackoverflow.com/users/4077977/sosel"}, "edited": false, "score": 0, "creation_date": 1490107061, "post_id": 39791527, "comment_id": 72957674, "body": "Works perfect on Win7 with Python 3.6"}, {"owner": {"reputation": 2103, "user_id": 6630397, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/HbAYT.png?s=128&g=1", "display_name": "s.k", "link": "https://stackoverflow.com/users/6630397/s-k"}, "edited": false, "score": 0, "creation_date": 1497652605, "post_id": 39791527, "comment_id": 76186043, "body": "Great, it also worked for PyQt4 / Python 2.7 on Windows for me."}, {"owner": {"reputation": 599, "user_id": 1026535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/hPJdn.jpg?s=128&g=1", "display_name": "Pankaj Bhambhani", "link": "https://stackoverflow.com/users/1026535/pankaj-bhambhani"}, "edited": false, "score": 0, "creation_date": 1500433790, "post_id": 39791527, "comment_id": 77328880, "body": "Works with Windows 10 and WinPython 3.5. Thanks a lot!"}], "tags": [], "owner": {"reputation": 231, "user_id": 6904670, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c05feb9e601ed3451722f84f1b7db2a4?s=128&d=identicon&r=PG", "display_name": "user6904670", "link": "https://stackoverflow.com/users/6904670/user6904670"}, "is_accepted": false, "score": 23, "last_activity_date": 1513970711, "last_edit_date": 1513970711, "creation_date": 1475238395, "answer_id": 39791527, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/39791527#39791527", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>With different Windows (8.2) and different PyQt (4-4) I had the same problem. </p>\n\n<p>What worked for me was:\nrun task manager and see if there are any Python tasks running. If there are (there were for me) kill them, as they (probably) lock the sip.pyd file. Then run  <code>pip install</code> again (\"successfully installed\" in my case).</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5991289, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4g62fK3wv6k/AAAAAAAAAAI/AAAAAAAAdg4/ztxiSzHoj1A/photo.jpg?sz=128", "display_name": "Denis Pisarev", "link": "https://stackoverflow.com/users/5991289/denis-pisarev"}, "is_accepted": false, "score": 0, "last_activity_date": 1491144682, "creation_date": 1491144682, "answer_id": 43169727, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/43169727#43169727", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>If your Python 3.x was installed to its preferred (default) location C:\\ <strong>Program Files</strong> \\Pyton3x and if you are running your code not with elevated privileges in OS (not as administrator), then consider giving all user permissions to Python installation folder.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6464677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160e284244d1211262218d1b87a4728?s=128&d=identicon&r=PG&f=1", "display_name": "Vast", "link": "https://stackoverflow.com/users/6464677/vast"}, "is_accepted": false, "score": 4, "last_activity_date": 1492000902, "creation_date": 1492000902, "answer_id": 43369855, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/43369855#43369855", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>Python3.6 Win10 x64 with Anaconda.\nSame problem\nas @user6904670 said, </p>\n\n<blockquote>\n  <p>kill running python.exe</p>\n</blockquote>\n\n<p>and \n<strong>Close Anaconda.exe and other related process</strong></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4088968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ecb26b83c3ff8b771086d4bf68e00?s=128&d=identicon&r=PG&f=1", "display_name": "GPCUS", "link": "https://stackoverflow.com/users/4088968/gpcus"}, "is_accepted": false, "score": 2, "last_activity_date": 1499169326, "creation_date": 1499169326, "answer_id": 44905355, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/44905355#44905355", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>Run the cmd window as administrator (<a href=\"https://technet.microsoft.com/en-us/library/cc947813(v=ws.10).aspx\" rel=\"nofollow noreferrer\">https://technet.microsoft.com/en-us/library/cc947813(v=ws.10).aspx</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 1186, "user_id": 1296980, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RPwOZ.jpg?s=128&g=1", "display_name": "Sebastialonso", "link": "https://stackoverflow.com/users/1296980/sebastialonso"}, "edited": false, "score": 0, "creation_date": 1510343555, "post_id": 47230080, "comment_id": 81410895, "body": "Try to format command line input as code, it will show more clearly."}], "tags": [], "owner": {"reputation": 11, "user_id": 8921540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r21tQq1Bgb8/AAAAAAAAAAI/AAAAAAAAAlI/fXzBYEJ823E/photo.jpg?sz=128", "display_name": "Mahaveer Suthar", "link": "https://stackoverflow.com/users/8921540/mahaveer-suthar"}, "is_accepted": false, "score": 1, "last_activity_date": 1510344025, "last_edit_date": 1510344025, "creation_date": 1510343089, "answer_id": 47230080, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/47230080#47230080", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<pre><code>pip install PyQt5\n</code></pre>\n\n<p>Syntax is not right for PyQt5 because PyQt5 is not compatible with pip, So\nyou have to use pip3.\nuse this command</p>\n\n<pre><code>pip3 install PyQt5\n</code></pre>\n\n<p>Read this article for more information official <a href=\"http://pyqt.sourceforge.net/Docs/PyQt5/installation.html\" rel=\"nofollow noreferrer\">http://pyqt.sourceforge.net/Docs/PyQt5/installation.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 648, "user_id": 5388967, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/49578d8472cda005ee5d5d0783bce666?s=128&d=identicon&r=PG&f=1", "display_name": "MaxS", "link": "https://stackoverflow.com/users/5388967/maxs"}, "is_accepted": false, "score": 0, "last_activity_date": 1522476530, "creation_date": 1522476530, "answer_id": 49584806, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied/49584806#49584806", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>I had the same problem. If you have Anaconda install try\nconda navigator and pip</p>\n"}], "owner": {"reputation": 1395, "user_id": 6359147, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a72bf7b3d8598739568189ccd448ecc?s=128&d=identicon&r=PG&f=1", "display_name": "vandelay", "link": "https://stackoverflow.com/users/6359147/vandelay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9683, "favorite_count": 1, "answer_count": 6, "score": 7, "last_activity_date": 1522476530, "creation_date": 1469648022, "last_edit_date": 1469650179, "question_id": 38621689, "link": "https://stackoverflow.com/questions/38621689/pyqt5-pip-installation-error-13-permission-denied", "title": "PyQt5 pip installation error 13. Permission denied", "body": "<p>I'm trying to install PyQt5 with the command <code>pip install PyQt5</code></p>\n\n<p>but I get an error instead.</p>\n\n<p>I use Python 3.5, windows 10.</p>\n\n<p>error:</p>\n\n<pre><code>C:\\WINDOWS\\system32&gt;pip install PyQt5\n\nCollecting PyQt5\n  Using cached PyQt5-5.7-cp35-none-win_amd64.whl\nCollecting sip (from PyQt5)\n  Using cached sip-4.18.1-cp35-none-win_amd64.whl\nInstalling collected packages: sip, PyQt5\nException:\nTraceback (most recent call last):\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\commands\\install.py\", line 317, in run\n    prefix=options.prefix_path,\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\req\\req_set.py\", line 742, in install\n    **kwargs\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\req\\req_install.py\", line 831, in install\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\req\\req_install.py\", line 1032, in move_wheel_files\n    isolated=self.isolated,\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\wheel.py\", line 346, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"c:\\anaconda3\\lib\\site-packages\\pip\\wheel.py\", line 324, in clobber\n    shutil.copyfile(srcfile, destfile)\n  File \"c:\\anaconda3\\lib\\shutil.py\", line 115, in copyfile\n    with open(dst, 'wb') as fdst:\nPermissionError: [Errno 13] Permission denied: 'c:\\\\anaconda3\\\\Lib\\\\site-packages\\\\sip.pyd'\n</code></pre>\n"}]