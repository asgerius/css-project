[{"tags": ["python", "python-3.x", "tensorflow"], "comments": [{"owner": {"reputation": 262, "user_id": 9427337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0983dfd53b11ae1368c8bcfff28227c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sandhiya - Intel", "link": "https://stackoverflow.com/users/9427337/sandhiya-intel"}, "edited": false, "score": 0, "creation_date": 1542020050, "post_id": 53199675, "comment_id": 93405571, "body": "Are you using Visual Studio for Python?"}, {"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "reply_to_user": {"reputation": 262, "user_id": 9427337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0983dfd53b11ae1368c8bcfff28227c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sandhiya - Intel", "link": "https://stackoverflow.com/users/9427337/sandhiya-intel"}, "edited": false, "score": 0, "creation_date": 1542041917, "post_id": 53199675, "comment_id": 93417628, "body": "I am trying to execute python through the anaconda prompt. I forgot to include this detail. I will do so right away."}, {"owner": {"reputation": 13702, "user_id": 419338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CgnUO.png?s=128&g=1", "display_name": "mbatchkarov", "link": "https://stackoverflow.com/users/419338/mbatchkarov"}, "edited": false, "score": 0, "creation_date": 1542043722, "post_id": 53199675, "comment_id": 93418571, "body": "Python modules written in C can crash the interpreter if they segfault. Sounds like what&#39;s happening here. My guess is something is wrong with your tensorflow installation- check that you&#39;ve got the right one for your platform (windows 64 bit) and downgrade to 1.7.0 if that&#39;s the last version that worked. It&#39;s possible your CPU is no longer supported because the precompiled version you installed includes some optimisations that don&#39;t work any more"}, {"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "reply_to_user": {"reputation": 13702, "user_id": 419338, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CgnUO.png?s=128&g=1", "display_name": "mbatchkarov", "link": "https://stackoverflow.com/users/419338/mbatchkarov"}, "edited": false, "score": 0, "creation_date": 1542047348, "post_id": 53199675, "comment_id": 93420079, "body": "@mbatchkarov I will try downgrading, but 1.7.0 used to work and then all of a sudden it didn&#39;t, which is why I upgraded."}, {"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "edited": false, "score": 0, "creation_date": 1542049491, "post_id": 53199675, "comment_id": 93420912, "body": "I have tried 1.7.0, 1.7.1, 1.6.0, and 1.12.0 and none of them work. All lead to the same windows error."}, {"owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "edited": false, "score": 0, "creation_date": 1542124095, "post_id": 53199675, "comment_id": 93451242, "body": "Could you provide the values which are present in your windows path? Do these match with your python installation?"}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 6513012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x1keP.jpg?s=128&g=1", "display_name": "PROW", "link": "https://stackoverflow.com/users/6513012/prow"}, "edited": false, "score": 4, "creation_date": 1542157861, "post_id": 53286280, "comment_id": 93465075, "body": "Please, accept the answer you provided, for future users reading the question"}, {"owner": {"reputation": 667, "user_id": 6688750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2X54S.jpg?s=128&g=1", "display_name": "Ahmad Moussa", "link": "https://stackoverflow.com/users/6688750/ahmad-moussa"}, "edited": false, "score": 0, "creation_date": 1561110150, "post_id": 53286280, "comment_id": 99965437, "body": "When I installed openCV in my conda environment it somehow downgraded h5py, and started giving me this error. Upgrading h5py fixed it."}], "tags": [], "owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "is_accepted": true, "score": 9, "last_activity_date": 1542129100, "creation_date": 1542129100, "answer_id": 53286280, "question_id": 53199675, "link": "https://stackoverflow.com/questions/53199675/importing-tensorflow-makes-python-3-6-5-error/53286280#53286280", "title": "Importing tensorflow makes python 3.6.5 error", "body": "<p>I have solved the issue. The following procedure was used to find and fix the problem:</p>\n\n<p>I used the <code>faulthandler</code> module to force python to print out a stack trace and recieved a <code>Windows fatal exception: access violation</code> error which seems to suggest the problem was indeed a segfault caused by some module used by tensorflow.</p>\n\n<p>I tried to fix dependencies by doing a <code>conda update --all</code> and then a <code>conda clean --all</code> which didn't fix the problem. </p>\n\n<p>I noticed though that the problems seems to arise from the <code>h5py</code> and <code>keras</code> modules so I did <code>pip install --upgrade h5py</code> and <code>pip install --upgrade keras</code> and <code>pip install --upgrade tensorflow</code> and the problem was fixed. I am now using <code>tensorflow version 1.12.0</code>, <code>keras version 2.2.4</code>, and <code>h5py version 2.8.0</code>.</p>\n\n<p>The key to solving this problem seems to be the <code>faulthander</code> module which showed me which modules (h5py and keras) were leading to the segfault.     </p>\n"}, {"tags": [], "owner": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "is_accepted": false, "score": 0, "last_activity_date": 1551813505, "creation_date": 1551813505, "answer_id": 55010016, "question_id": 53199675, "link": "https://stackoverflow.com/questions/53199675/importing-tensorflow-makes-python-3-6-5-error/55010016#55010016", "title": "Importing tensorflow makes python 3.6.5 error", "body": "<p>Please try following Steps</p>\n\n<pre><code>conda install -c anaconda qt\nconda update qt pyqt\n</code></pre>\n\n<p>start again</p>\n"}], "owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2669, "favorite_count": 0, "accepted_answer_id": 53286280, "answer_count": 2, "score": 12, "last_activity_date": 1561557879, "creation_date": 1541635043, "last_edit_date": 1542057441, "question_id": 53199675, "link": "https://stackoverflow.com/questions/53199675/importing-tensorflow-makes-python-3-6-5-error", "title": "Importing tensorflow makes python 3.6.5 error", "body": "<p>Tensorflow used to work on my computer. But now when I try to <code>import tensorflow</code> python itself errors out. I am not given a traceback call to tell me what the error  is. I get a window's prompt that says \"Python has stopped working\". When I click \"debug\" all I get is \"An unhandled win32 exception occurred in python.exe\". I've never had a python package actually error out python itself for me, I've always just had a traceback error thrown by python if I didn't install something right. </p>\n\n<p>I've tried uninstalling and reinstalling tensorflow (effectively updating from 1.7.0 to 1.12.0) but that has not helped. I'm not sure how to search for a solution to this problem either since I'm not given a traceback or an error code or an error message aside from the very generic one above.</p>\n\n<p>I'm currently using python 3.6.5 with tensorflow 1.12.0 (CPU only) installed. My OS is Windows 7 Enterprise 64 bit.  </p>\n\n<p>Any ideas? </p>\n\n<p>EDIT: The python distro I am using is through Anaconda and I'm trying to run python directly through the anaconda prompt (command line interface). </p>\n\n<p>EDIT2: I used the <code>faulthandler</code> module to see if I can get a stack trace out of it, and I got a <code>Windows fatal exception: code 0xc0000139</code> and a  <code>Windows fatal exception: access violation</code>, along with a bunch of lines linking to various <code>frozen importlib._bootstrap</code> lines of code in various <code>__init__.py</code> modules.</p>\n\n<p>EDIT3: For a bit more context, this is on a workplace machine with a lot of security software installed on it.  </p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 0, "creation_date": 1541638532, "post_id": 53199672, "comment_id": 93288702, "body": "Have a look at <a href=\"https://matplotlib.org/2.1.2/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots\" rel=\"nofollow noreferrer\">subplots</a>."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1541638664, "post_id": 53199672, "comment_id": 93288730, "body": "In addition to the duplicate, here you would want to use <code>plt.subplots(nrows=3, ncols=1, sharex=True)</code>."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541639693, "post_id": 53199672, "comment_id": 93288984, "body": "@ImportanceOfBeingErnest Thanks. I saw that subplots link but I am not sure how to go about using it with my code. I used plt.subplots(nrows=3, ncols=1, sharex=True). This gave me the three plots I already have in addition to a new plot with blank rows. How do I input my graphs into those boxes. There also seems to be a space in between each box. I&#39;d like to have them all merged into one with no separation."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541639831, "post_id": 53199672, "comment_id": 93289022, "body": "You need to use <code>ax=axes[0]</code> etc. in your case, instead of <code>ax=axes[0,0]</code> because you only have a 1D grid."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541639875, "post_id": 53199672, "comment_id": 93289034, "body": "@ImportanceOfBeingErnest I think it keeps printing my original graphs because of the line(s): ax = df.plot(color=&quot;blue&quot;,kind=&#39;line&#39;, legend = False,figsize=(10,3))"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541639941, "post_id": 53199672, "comment_id": 93289047, "body": "Yep, remove <code>figsize=(10,3)</code> and replace it by <code>ax=axes[0]</code> etc."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541639994, "post_id": 53199672, "comment_id": 93289067, "body": "@ImportanceOfBeingErnest what exactly is ax=axes[0]?"}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541640198, "post_id": 53199672, "comment_id": 93289106, "body": "@ImportanceOfBeingErnest Also, sorry but how do I define axes? I see the code fig, axes = plt.subplots(2, 2, subplot_kw=dict(polar=True)).. but that&#39;s for polar and created a 4 boxes. Also the graphs don&#39;t show up in there."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541640530, "post_id": 53199672, "comment_id": 93289183, "body": "I&#39;m talking about <a href=\"https://stackoverflow.com/a/22484249/4124317\">this answer</a>. There is no <code>polar</code> in it. <code>axes</code> is the array of axes defined in <code>fig, axes = plt.subplots(nrows=3, ncols=1, sharex=True)</code>"}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541640879, "post_id": 53199672, "comment_id": 93289267, "body": "@ImportanceOfBeingErnest I changed the array for each one to 0,1,2 and each row is now filled in with its own line plot. This happened without using plt.subplots(nrows=3, ncols=1,sharex=True) thought. Each row has a gap in between and has it&#39;s own Months axis. Is there a way to have the x-axis shared and displayed at the bottom. And remove the gap in between them?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541641064, "post_id": 53199672, "comment_id": 93289317, "body": "Not sure what you mean. If the line <code>fig, axes = plt.subplots(nrows=3, ncols=1, sharex=True)</code> is not in your code, you are doing something else than what the answer is suggesting. Feel free to edit your question with the code you have now."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541641078, "post_id": 53199672, "comment_id": 93289323, "body": "@ImportanceOfBeingErnest Thank you I see all the plots in their own row! There is still this gap in between them, not sure how to have them all squished together. Also I think I might have to resize because all the vertical numbers and titles from before all overlapping."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541641298, "post_id": 53199672, "comment_id": 93289376, "body": "@ImportanceOfBeingErnest Figured that out. It was plt.subplots_adjust(hspace=.0) plt.show()"}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541641369, "post_id": 53199672, "comment_id": 93289403, "body": "@ImportanceOfBeingErnest Thanks so much! Do you know of a way to resize so that the graph doesn&#39;t have these overlapping numbers and titles? I need to make them more uniform and size-appropriate for the graphs."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541642164, "post_id": 53199672, "comment_id": 93289577, "body": "@ImportanceOfBeingErnest Fixed it. Ended up using figsize=(15,12) in there to adjust the sizes. This is more of a side question for the data do you know how to get it to fit y-axis &quot;evenly&quot; and more appropriate to the dataset of weather data? Like this is hard coded, how would I do this without hard coding the intervals and value ranges: ax2.set_yticks([0,2,4,6,8,10])  ax2.set_yticklabels([0.0,0.5,1.0,1.5,2.0,2.5,3.0],rotation=9&zwnj;&#8203;0)"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541642946, "post_id": 53199672, "comment_id": 93289746, "body": "If you want to scale your data, I would recommend doing exactly that, <i>prior to</i> plotting, e.g. <code>df &#47;= 2.54</code> to convert from cm to inches."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1541645985, "post_id": 53199672, "comment_id": 93290382, "body": "@ImportanceOfBeingErnest Would you know how to make all the y tick marks vertical?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "edited": false, "score": 0, "creation_date": 1541636258, "post_id": 53199730, "comment_id": 93288135, "body": "I removed the other two plt.show() and ran it with the single plt.show() at the bottom. Same results."}, {"owner": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 0, "creation_date": 1541638481, "post_id": 53199730, "comment_id": 93288688, "body": "Have a look at <a href=\"https://matplotlib.org/2.1.2/api/_as_gen/matplotlib.pyplot.subplots.html#matplotlib.pyplot.subplots\" rel=\"nofollow noreferrer\">subplots</a>."}, {"owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "reply_to_user": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 0, "creation_date": 1541639726, "post_id": 53199730, "comment_id": 93288998, "body": "@JohnAnderson How would I do this with this type of code? I seems rather different."}, {"owner": {"reputation": 61, "user_id": 6590518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123529cd684f39ef688612c2f270389b?s=128&d=identicon&r=PG", "display_name": "Ryan Jarvis", "link": "https://stackoverflow.com/users/6590518/ryan-jarvis"}, "edited": false, "score": 0, "creation_date": 1541646121, "post_id": 53199730, "comment_id": 93290421, "body": "Can you send your .csv files?"}], "tags": [], "owner": {"reputation": 61, "user_id": 6590518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123529cd684f39ef688612c2f270389b?s=128&d=identicon&r=PG", "display_name": "Ryan Jarvis", "link": "https://stackoverflow.com/users/6590518/ryan-jarvis"}, "is_accepted": false, "score": 0, "last_activity_date": 1541655908, "last_edit_date": 1541655908, "creation_date": 1541635474, "answer_id": 53199730, "question_id": 53199672, "link": "https://stackoverflow.com/questions/53199672/how-to-merge-three-line-plots-into-one-that-share-one-x-axis-but-have-separate-y/53199730#53199730", "title": "How to merge three line plots into one that share one x-axis but have separate y-axes with matplotlib?", "body": "<p>Have you tried eliminating the first two Statements to show show the plot?</p>\n\n<pre><code>plt.show()\n</code></pre>\n\n<p>Then remove 2/3 of the ax, ax2, and ax3.  They should all refer to the same x-axis? </p>\n"}], "owner": {"reputation": 15, "user_id": 10404649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6468fa5c6dcb47807b6447d09551df?s=128&d=identicon&r=PG&f=1", "display_name": "JoshB0", "link": "https://stackoverflow.com/users/10404649/joshb0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 571, "favorite_count": 0, "closed_date": 1541638600, "answer_count": 1, "score": 0, "last_activity_date": 1541655908, "creation_date": 1541635030, "last_edit_date": 1592644375, "question_id": 53199672, "link": "https://stackoverflow.com/questions/53199672/how-to-merge-three-line-plots-into-one-that-share-one-x-axis-but-have-separate-y", "closed_reason": "Duplicate", "title": "How to merge three line plots into one that share one x-axis but have separate y-axes with matplotlib?", "body": "<p>I am able to make the three graphs in matplotlib fine but not sure how to go about merging them into one whole graph sharing a single x-axis of months and a separate y-axes.</p>\n<p>Here is the code I have for the three graphs that draw from three distinct csv files:</p>\n<pre><code>import pandas as pd \nimport matplotlib.pyplot as plt\n#import numpy as np\n\n\ndf = pd.read_csv('1541544819_et.csv', skiprows=4)\n\nax = df.plot(color=&quot;blue&quot;,kind='line', legend = False,figsize=(15,6))\n\nax.set_ylabel(&quot;Evapotranspiration (inches)&quot;)\n\nax.set_xticks([0,65,125,185,245,305,365])\n\nax.set_xticklabels(['Jan','Mar','May','Jul','Sep','Nov','Jan'], fontsize = 'large')\n\nplt.show()\n\n\n\n\ndf = pd.read_csv('1541544819_rainfall.csv', skiprows=4)\n\nax2 = df.plot(color=&quot;orange&quot;,kind='line', legend = False,figsize=(15,6))\n\nax2.set_ylabel(&quot;Rainfall (inches)&quot;)\n\nax2.set_xticks([0,65,125,185,245,305,365])\n\nax2.set_xticklabels(['Jan','Mar','May','Jul','Sep','Nov','Jan'], fontsize = 'large')\n\nax2.set_yticks([0,2,4,6,8,10])\n\nax2.set_yticklabels([0.0,0.5,1.0,1.5,2.0,2.5,3.0])\n\nplt.show()\n\n\n\n\n\ndf = pd.read_csv('1541556002_water_level.csv', skiprows=4)\n\nax3 = df.plot(color=&quot;green&quot;,kind='line', legend = False,figsize=(15,6))\n\nax3.set_ylabel(&quot;Water Level (ft above NADV88)&quot;)\n\nax3.set_xticks([0,65,125,185,245,305,365])\n\nax3.set_xticklabels(['Jan','Mar','May','Jul','Sep','Nov','Jan'], fontsize = 'large')\n\nax3.set_yticks([0,2,4,6,8,10])\n\nax3.set_yticklabels([6.0,6.2,6.4,6.6,6.8,7.0])\n\nplt.show()\n</code></pre>\n<p>And that results in the following line plots:</p>\n<p><a href=\"https://i.stack.imgur.com/1oNys.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oNys.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Now I just need to merge them together stacked on top of each other. With the shared x-axis of months. Would appreciate any and all help.</p>\n<p>Thank you</p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "edited": false, "score": 0, "creation_date": 1541693945, "post_id": 53203722, "comment_id": 93311606, "body": "I saw the associations in the documentation but I felt that I didn&#39;t want to use that or need that as I the RestarauntPreferences table was an association with the rating.  I just don&#39;t see how the associations table they recommend also can connect the rating information as well.  I haven&#39;t made that aha moment with that I guess."}, {"owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "edited": false, "score": 0, "creation_date": 1541717799, "post_id": 53203722, "comment_id": 93322538, "body": "you mentioned the secondary argument, so I tried to add that under the RestarauntPrefs under reach relationship where secondary=association, it lets me create the DB but running any code complains right away that it could not determine the join condition between parent child on relationship RestarauntPreferences.restaraunt, says no foreign keys but I clearly have them declared?"}, {"owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "edited": false, "score": 1, "creation_date": 1541719324, "post_id": 53203722, "comment_id": 93322983, "body": "Finally freaking got it thanks for having me take another look, the secondary tip was the key."}], "tags": [], "owner": {"reputation": 1886, "user_id": 7324965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7aa4909c554252eb14749ffffe4d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Fine", "link": "https://stackoverflow.com/users/7324965/fine"}, "is_accepted": true, "score": 1, "last_activity_date": 1541664937, "creation_date": 1541664937, "answer_id": 53203722, "question_id": 53199667, "link": "https://stackoverflow.com/questions/53199667/sqlalchemy-and-flask-relationships/53203722#53203722", "title": "SQLAlchemy and flask relationships", "body": "<p>Both, <a href=\"http://flask-sqlalchemy.pocoo.org/2.3/models/#many-to-many-relationships\" rel=\"nofollow noreferrer\">Flask-Sqlalchemy</a> and <a href=\"https://docs.sqlalchemy.org/en/latest/orm/basic_relationships.html#many-to-many\" rel=\"nofollow noreferrer\">Sqlalchemy</a>, documentations state that an association table required for a many-to-many relationship to work. Try creating it like in examples and add to your declaration as a <code>secondary</code> param.</p>\n"}], "owner": {"reputation": 3146, "user_id": 327258, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50d026903563e045ca29cab1ad0b1d66?s=128&d=identicon&r=PG", "display_name": "Codejoy", "link": "https://stackoverflow.com/users/327258/codejoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53203722, "answer_count": 1, "score": 1, "last_activity_date": 1541699513, "creation_date": 1541634984, "last_edit_date": 1541699513, "question_id": 53199667, "link": "https://stackoverflow.com/questions/53199667/sqlalchemy-and-flask-relationships", "title": "SQLAlchemy and flask relationships", "body": "<p>UPDATE:  Thanks to one of the comments I got closer, I did add the association table:</p>\n\n<pre><code>association = db.Table('association',\n    db.Column('user_id', db.Integer, db.ForeignKey('user.id'), primary_key=True),\n    db.Column('restaraunt_id', db.Integer, db.ForeignKey('restaraunt.id'), primary_key=True)\n)\n</code></pre>\n\n<p>It worked pretty good, in the shell i was able to:</p>\n\n<pre><code>u=User(username='bob', email='bob@villa.com')\ndb.session.add(u)\ndb.session.commit()\nr=Restaraunt(name='Five Guys', costRating=4)\ndb.session.add(r)\ndb.session.commit()\nrp=RestarauntPreferences(user=u, restaraunt=r, rating=0)\ndb.session.add(rp)\ndb.session.commit()\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>rp.restaraunt.name\n['Five Guys']\n</code></pre>\n\n<p>AWESOME.   BUT... the db.session.add(rp) adds duplicate entries into the RestarauntPreferences table?  Something with how I declared the association?   Something else I am not getting about SQLAlchemy and flask?\n(And using db browser to look at the sqlite database, the association table has no information in it after I run the shell commands, not sure if this is correct... or not?)</p>\n\n<p>ORIG POST: (Models below)</p>\n\n<p>I was trying to build this little flask app that uses SQLAlchemy.  The models I am trying to work with and work relationships with are many-to-many.   They are described below with how I want to use them.</p>\n\n<p>(Essentially a user can give a rating to multiple restaurants) </p>\n\n<pre><code>#how do I use these??\n\nrprefs=RestarauntPreferences.query.filter_by(user=current_user) \nrprefs.restaraunt.name   #doesn't work, doesn't know what restaraunt is\n\n#models below\n\nclass User(UserMixin, db.Model):\n    __tablename__ = 'user'\n\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    recipient_idf= db.Column(db.String(256))\n    first_name = db.Column(db.String(128))\n    last_name = db.Column(db.String(128))\n    most_recent_lunch_date = db.Column(db.DateTime)\n    lunch_Rating = db.Column(db.Integer)\n    phone_number = db.Column(db.String(128))\n\n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n\n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n\n    def __repr__(self):\n        return '&lt;User {} {}&gt;'.format(self.username, self.recipient_idf)\n\n\nclass Restaraunt(db.Model):\n    __tablename__ = 'restaraunt'\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(128))\n    costRating = db.Column(db.Integer)\n\n    def __repr__(self):\n        return '&lt;Restaraunt {} {}&gt;'.format(self.name, self.costRating)\n\n\nclass RestarauntPreferences(db.Model):\n    __tablename__ = 'restaraunt_preferences'\n    id = db.Column(db.Integer, primary_key=True)\n\n    restaraunt_id = db.Column(db.Integer, db.ForeignKey('restaraunt.id'))\n    restaraunt = relationship(\"Restaraunt\", foreign_keys=[restaraunt_id])\n\n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'))\n    user = relationship(\"User\", foreign_keys=[user_id])\n\n    rating = db.Column(db.Integer)\n\n\n    def __repr__(self):\n        return '&lt;RestarauntPref {} {} {}&gt;'.format(self.restaraunt_id, self.user_id, self.rating)\n</code></pre>\n"}, {"tags": ["python", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6846190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/djjTx.jpg?s=128&g=1", "display_name": "Bryan Rivera", "link": "https://stackoverflow.com/users/6846190/bryan-rivera"}, "edited": false, "score": 0, "creation_date": 1541635599, "post_id": 53199691, "comment_id": 93287990, "body": "currently if I search for the word &quot;learn&quot; on the web the result is 4, but replacing the code the result is 5 (from which it takes that extra 1), but with my code the result is 3"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 13, "user_id": 6846190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/djjTx.jpg?s=128&g=1", "display_name": "Bryan Rivera", "link": "https://stackoverflow.com/users/6846190/bryan-rivera"}, "edited": false, "score": 0, "creation_date": 1541635638, "post_id": 53199691, "comment_id": 93287995, "body": "I have explained why its giving 5 @BryanRivera, please re-read the answer."}], "tags": [], "owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "is_accepted": true, "score": 0, "last_activity_date": 1541635611, "last_edit_date": 1541635611, "creation_date": 1541635186, "answer_id": 53199691, "question_id": 53199665, "link": "https://stackoverflow.com/questions/53199665/find-and-count-matches-of-a-word-on-a-website-scraping/53199691#53199691", "title": "find and count matches of a word on a website - scraping", "body": "<p>you need to count both upper and lower case.\nreplace <code>limpiar_body = solo_body.text</code> with <code>limpiar_body = solo_body.text.lower()</code></p>\n\n<p>Please note that it will give you <code>5</code> matches instead of <code>4</code>. The reason is it will also match the result from the top down menu, and there is one occurrence of <code>Learning</code> in the menu, as depicted below,</p>\n\n<p><a href=\"https://i.stack.imgur.com/AHbqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AHbqV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 6846190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/djjTx.jpg?s=128&g=1", "display_name": "Bryan Rivera", "link": "https://stackoverflow.com/users/6846190/bryan-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 53199691, "answer_count": 1, "score": 1, "last_activity_date": 1541635986, "creation_date": 1541634976, "last_edit_date": 1541635986, "question_id": 53199665, "link": "https://stackoverflow.com/questions/53199665/find-and-count-matches-of-a-word-on-a-website-scraping", "title": "find and count matches of a word on a website - scraping", "body": "<p>I need found the matches of a WORD, for example:</p>\n\n<p>Found all words \"Learn\" in the web <a href=\"https://www.georgetown.edu/\" rel=\"nofollow noreferrer\">https://www.georgetown.edu/</a>\n(Result: 4 words) (you can see it press CTRL + F and search)</p>\n\n<p>I have my Python code, but my count match is 3!\nIf I look for another word, the result is one less or one more</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport re\n\npage = requests.get(\"https://www.georgetown.edu/\")\nsoup = BeautifulSoup(page.text, 'html.parser')\nsolo_body = soup.body\nlimpiar_body = solo_body.text\ncontar_coincidencias = (limpiar_body.count(\"learn\"))\nprint(contar_coincidencias)\n</code></pre>\n\n<p>Actually use Python3, \"find_all\" not working for me.</p>\n"}, {"tags": ["python", "installation"], "comments": [{"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "edited": false, "score": 3, "creation_date": 1541635307, "post_id": 53199656, "comment_id": 93287932, "body": "Have you tried right-clicking and installing as administrator?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10621119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QvDNKzZaUqc/AAAAAAAAAAI/AAAAAAAAAPY/e1RkvkOTIHM/photo.jpg?sz=128", "display_name": "xTomma", "link": "https://stackoverflow.com/users/10621119/xtomma"}, "edited": false, "score": 0, "creation_date": 1541676765, "post_id": 53200891, "comment_id": 93301741, "body": "where i find admin credentials?"}, {"owner": {"reputation": 3, "user_id": 2577194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cbfe179e569879ee1092c507bcbb28?s=128&d=identicon&r=PG", "display_name": "RK.", "link": "https://stackoverflow.com/users/2577194/rk"}, "reply_to_user": {"reputation": 11, "user_id": 10621119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QvDNKzZaUqc/AAAAAAAAAAI/AAAAAAAAAPY/e1RkvkOTIHM/photo.jpg?sz=128", "display_name": "xTomma", "link": "https://stackoverflow.com/users/10621119/xtomma"}, "edited": false, "score": 0, "creation_date": 1541677034, "post_id": 53200891, "comment_id": 93301914, "body": "Right click and &quot;Run as Administrator&quot;"}], "tags": [], "owner": {"reputation": 3, "user_id": 2577194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cbfe179e569879ee1092c507bcbb28?s=128&d=identicon&r=PG", "display_name": "RK.", "link": "https://stackoverflow.com/users/2577194/rk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541645638, "creation_date": 1541645638, "answer_id": 53200891, "question_id": 53199656, "link": "https://stackoverflow.com/questions/53199656/i-cant-install-python-on-vm-error-setup/53200891#53200891", "title": "I can&#39;t install python on vm, error setup", "body": "<p>Try to run with admin credentials. If its not working then check whether any policy is defined under Software Restriction Policies in Local Security Settings. \nIf there are no policies defined then create a new policy and double click on enforcement.</p>\n"}], "owner": {"reputation": 11, "user_id": 10621119, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QvDNKzZaUqc/AAAAAAAAAAI/AAAAAAAAAPY/e1RkvkOTIHM/photo.jpg?sz=128", "display_name": "xTomma", "link": "https://stackoverflow.com/users/10621119/xtomma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541645638, "creation_date": 1541634813, "last_edit_date": 1541645273, "question_id": 53199656, "link": "https://stackoverflow.com/questions/53199656/i-cant-install-python-on-vm-error-setup", "title": "I can&#39;t install python on vm, error setup", "body": "<p>I want to install Python on a VM, Google Cloud, and I am encountering the following error:</p>\n\n<blockquote>\n  <p>0x80070659.</p>\n</blockquote>\n\n<p>I can't bypass this error using regedit or administrator tool. In this machine, I have Windows Server 2016.</p>\n"}, {"tags": ["python", "spyder"], "comments": [{"owner": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1541635157, "post_id": 53199638, "comment_id": 93287902, "body": "Can you provide an image of the equation you&#39;re trying to solve or a reference that provides more information about the equation?"}, {"owner": {"reputation": 1, "user_id": 10621075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dAnvHeKrcUg/AAAAAAAAAAI/AAAAAAAAAJs/fjG0K_zHldc/photo.jpg?sz=128", "display_name": "Mariano Rivera Santiago", "link": "https://stackoverflow.com/users/10621075/mariano-rivera-santiago"}, "reply_to_user": {"reputation": 6531, "user_id": 1084875, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pig1l.jpg?s=128&g=1", "display_name": "wigging", "link": "https://stackoverflow.com/users/1084875/wigging"}, "edited": false, "score": 0, "creation_date": 1541635801, "post_id": 53199638, "comment_id": 93288031, "body": "<a href=\"https://www.pavementinteractive.org/reference-desk/design/structural-design/1993-aashto-rigid-pavement-structural-design/\" rel=\"nofollow noreferrer\">pavementinteractive.org/reference-desk/design/structural-des&zwnj;&#8203;ign/&hellip;</a>"}, {"owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "edited": false, "score": 0, "creation_date": 1541641339, "post_id": 53199638, "comment_id": 93289392, "body": "You should have a look at sympy"}], "owner": {"reputation": 1, "user_id": 10621075, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dAnvHeKrcUg/AAAAAAAAAAI/AAAAAAAAAJs/fjG0K_zHldc/photo.jpg?sz=128", "display_name": "Mariano Rivera Santiago", "link": "https://stackoverflow.com/users/10621075/mariano-rivera-santiago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541634629, "creation_date": 1541634629, "question_id": 53199638, "link": "https://stackoverflow.com/questions/53199638/how-to-solve-a-non-linear-equation", "title": "How to solve a Non linear equation?", "body": "<p>I want to know what model to use in order to solve this equation for variable \"D\" while incrementing \"Delta\" as shown in the code in order to perform a sensitivity analysis and see how this paramater affects the change in D.\nmy python version is Python 3.6.0, last updated Dec 23, 2016. </p>\n\n<pre><code>#Inputs\nk = 80\nE_c = 4*10**6\nS_c = 700\nJ = 3.2\nC_d = 2\nZ_r = -2.327\ns_0 = 0.25\nW_18 = 10*10**6\nPi = 4.5\nPt = 1.5\n\n#Building the design function\n\nwhile Pt&lt;3:\n    Pt= Pt + 0.0375\n    Delta = Pi - Pt\n\n    A = Z_r*s_0 + 7.35*math.log10(D+1) - 0.06\n    B = math.log10(((Delta)/(4.5-1.5))/(1+(1.624*10**7)/(D+1)**8.46))\n    C = 4.22 - 0.32*Pt\n    d = S_c*C_d/(215.63*J)\n    E = (D**0.75-1.132)/(D**0.75-(18.42/(E_c/k)**0.25))\n\n    rhs = A+B+C*math.log10(d*E)\n    lhs = math.log10(W_18)\n    lhs = rhs  \n</code></pre>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 1, "creation_date": 1541634927, "post_id": 53199632, "comment_id": 93287855, "body": "You&#39;re running <code>echo ping ...</code> in the shell, rather than <code>ping ...</code>, so the command is just going to print <code>&quot;ping ...&quot;</code> and exit with code 0."}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 0, "creation_date": 1541635476, "post_id": 53199632, "comment_id": 93287968, "body": "Also as a general note on best-practices, one should use the techniques <a href=\"https://stackoverflow.com/questions/35817/how-to-escape-os-system-calls\">here</a> to ensure a script isn&#39;t vulnerable to injection (in case someone enters <code>;rm -rf $HOME</code> as the hostname)."}, {"owner": {"reputation": 3, "user_id": 10620854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVNCs.jpg?s=128&g=1", "display_name": "Alan Wolfe", "link": "https://stackoverflow.com/users/10620854/alan-wolfe"}, "reply_to_user": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 0, "creation_date": 1541637425, "post_id": 53199632, "comment_id": 93288418, "body": "Thank you for the help... ill pull echo out, I was just trying to get it to show the Print statement instead of all the ping replies"}], "answers": [{"comments": [{"owner": {"reputation": 12117, "user_id": 2745495, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bbcd267235bab78ec6710ef6654ba87?s=128&d=identicon&r=PG", "display_name": "Gino Mempin", "link": "https://stackoverflow.com/users/2745495/gino-mempin"}, "reply_to_user": {"reputation": 3, "user_id": 10620854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVNCs.jpg?s=128&g=1", "display_name": "Alan Wolfe", "link": "https://stackoverflow.com/users/10620854/alan-wolfe"}, "edited": false, "score": 0, "creation_date": 1541637791, "post_id": 53199885, "comment_id": 93288492, "body": "@AlanWolfe It happens :) I saw your latest comment (&quot;<i>I was just trying to get it to show the Print statement instead of all the ping replies</i>&quot;), and I added info to my answer on how to make <code>subprocess.run</code> quiet."}], "tags": [], "owner": {"reputation": 12117, "user_id": 2745495, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bbcd267235bab78ec6710ef6654ba87?s=128&d=identicon&r=PG", "display_name": "Gino Mempin", "link": "https://stackoverflow.com/users/2745495/gino-mempin"}, "is_accepted": true, "score": 0, "last_activity_date": 1541637700, "last_edit_date": 1541637700, "creation_date": 1541636595, "answer_id": 53199885, "question_id": 53199632, "link": "https://stackoverflow.com/questions/53199632/ping-script-if-response/53199885#53199885", "title": "Ping Script - if response", "body": "<pre><code>response = os.system(\"echo ping -a -c 1 \" + hostname1)\n</code></pre>\n\n<p>The system command you are executing is just an <a href=\"http://www.linfo.org/echo.html\" rel=\"nofollow noreferrer\"><code>echo</code></a>, which will just print \"<code>ping -a -c 1 &lt;hostname&gt;</code>\" to stdout, and then return 0. It does not really do any pinging. You can test it by running the system commands directly on a terminal and checking the return value:</p>\n\n<pre><code>$ echo ping -a -c 1 8.8.8.8 \nping -a -c 1 8.8.8.8\n$ echo $?  # returns 0\n$ echo ping -a -c 1 &lt;some.invalid.ip&gt; \n&lt;some.invalid.ip&gt;\n$ echo $?  # still returns 0\n</code></pre>\n\n<p>You should remove <code>echo</code> and just do:</p>\n\n<pre><code>response = os.system(\"ping -a -c 1 \" + hostname1)\n</code></pre>\n\n<p>Which should return the correct result:</p>\n\n<pre><code># VALID IP\n\n&gt;&gt;&gt; response = os.system(\"ping -a -c 1 8.8.8.8\")\nPING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.\n64 bytes from 8.8.8.8: icmp_seq=1 ttl=119 time=5.80 ms\n\n--- 8.8.8.8 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 5.803/5.803/5.803/0.000 ms\n&gt;&gt;&gt; print(response)\n0\n\n# INVALID IP\n\n&gt;&gt;&gt; response = os.system(\"ping -a -c 1 5.5.5.5\")\nPING 5.5.5.5 (5.5.5.5) 56(84) bytes of data.\n\n--- 5.5.5.5 ping statistics ---\n1 packets transmitted, 0 received, 100% packet loss, time 0ms\n\n&gt;&gt;&gt; print(response)\n256\n</code></pre>\n\n<p>For system calls, I recommend to use the <a href=\"https://docs.python.org/3/library/subprocess.html#module-subprocess\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> package instead, which includes <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.run\" rel=\"nofollow noreferrer\"><code>subprocess.run</code></a> function that can print the command output and then return an object containing the command's return code.</p>\n\n<pre><code># VALID IP\n\n&gt;&gt;&gt; response = subprocess.run([\"ping\", \"-c\", \"1\", \"8.8.8.8\"])\nPING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.\n64 bytes from 8.8.8.8: icmp_seq=1 ttl=119 time=5.19 ms\n\n--- 8.8.8.8 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 5.194/5.194/5.194/0.000 ms\n&gt;&gt;&gt; response.returncode\n0\n\n# INVALID IP\n\n&gt;&gt;&gt; response = subprocess.run([\"ping\", \"-c\", \"1\", \"5.5.5.5\"])\nPING 5.5.5.5 (5.5.5.5) 56(84) bytes of data.\n\n--- 5.5.5.5 ping statistics ---\n1 packets transmitted, 0 received, 100% packet loss, time 0ms\n\n&gt;&gt;&gt; response.returncode\n1\n</code></pre>\n\n<p>If you wanted to hide the output of the <code>ping</code> command, you can pass <code>subprocess.PIPE</code> to <code>stdout</code> of <code>subprocess.run</code>:</p>\n\n<pre><code>&gt;&gt;&gt; response = subprocess.run([\"ping\", \"-c\", \"1\", \"5.5.5.5\"], stdout=subprocess.PIPE)\n&gt;&gt;&gt; response.returncode\n1\n</code></pre>\n\n<p>The recommendation to use <code>subprocess</code> is noted in the <a href=\"https://docs.python.org/3/library/os.html#os.system\" rel=\"nofollow noreferrer\"><code>os.system</code> doc</a>:</p>\n\n<blockquote>\n  <p>The <a href=\"https://docs.python.org/3/library/subprocess.html#module-subprocess\" rel=\"nofollow noreferrer\">subprocess</a> module provides more powerful facilities for spawning\n  new processes and retrieving their results; using that module is\n  preferable to using this function. See the <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess-replacements\" rel=\"nofollow noreferrer\">Replacing Older Functions\n  with the subprocess Module</a> section in the <a href=\"https://docs.python.org/3/library/subprocess.html#module-subprocess\" rel=\"nofollow noreferrer\">subprocess</a> documentation for\n  some helpful recipes</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 10620854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tVNCs.jpg?s=128&g=1", "display_name": "Alan Wolfe", "link": "https://stackoverflow.com/users/10620854/alan-wolfe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "accepted_answer_id": 53199885, "answer_count": 1, "score": 0, "last_activity_date": 1541637700, "creation_date": 1541634570, "last_edit_date": 1541634838, "question_id": 53199632, "link": "https://stackoverflow.com/questions/53199632/ping-script-if-response", "title": "Ping Script - if response", "body": "<p>I am just trying to put together a simple server up/down script as I have just started to learn python.</p>\n\n<p>Below is the script... but I can't get it to output the Server Down section of code. the <code>if response == 0</code> I'm guessing is picking up the \"Destination Unreachable\" response and is making a false positive.</p>\n\n<p>what can I do to get around this?</p>\n\n<pre><code># Server up/down Script\n\nimport os\n\nhostname1 = input (\" Please Enter IP Address: \")\n\nresponse = os.system(\"echo ping -a -c 1 \" + hostname1)\n\n#and then check the response...\nif response == 0: # This will check the host repeatedly\n    print (hostname1, '\\033[1;32m [ **SERVER ALIVE** ] \\033[1;m')\n    # As long as the server is up it will print the UP response in green text\nelse:\n    print(hostname1, '[ **SERVER DOWN** ]')\nprint( 30 * \"-\")\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "import", "enthought", "canopy"], "answers": [{"tags": [], "owner": {"reputation": 5775, "user_id": 1988991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a4ae5d937c20301fb9442597a6d0ee?s=128&d=identicon&r=PG", "display_name": "Jonathan March", "link": "https://stackoverflow.com/users/1988991/jonathan-march"}, "is_accepted": false, "score": 0, "last_activity_date": 1541644108, "creation_date": 1541644108, "answer_id": 53200709, "question_id": 53199613, "link": "https://stackoverflow.com/questions/53199613/import-data-command-in-enthought-canopy-fails-with-the-data-import-tool-requir/53200709#53200709", "title": "Import Data command in Enthought Canopy fails with: \u201cThe Data Import Tool requires...&quot;", "body": "<p>If you're running Python 3.5, perhaps you didn't install the PyQt packages? If you are a subscriber, please feel free to submit a feedback report from the Canopy Help menu which will provide Enthought with your configuration info. (If you are not a logged-in subscriber, then the Data Import Tool is not supported anyway, though I would not expect this error message in that case.)</p>\n"}], "owner": {"reputation": 1, "user_id": 10621112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecf53e52a6e8f6ddc3ce4e02278c46d?s=128&d=identicon&r=PG&f=1", "display_name": "Rubik", "link": "https://stackoverflow.com/users/10621112/rubik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1541655947, "creation_date": 1541634439, "last_edit_date": 1541655947, "question_id": 53199613, "link": "https://stackoverflow.com/questions/53199613/import-data-command-in-enthought-canopy-fails-with-the-data-import-tool-requir", "title": "Import Data command in Enthought Canopy fails with: \u201cThe Data Import Tool requires...&quot;", "body": "<p>Import Data command in Enthought Canopy fails with: </p>\n\n<blockquote>\n  <p>The Data Import Tool requires that the Canopy Python kernel be running in Pylab mode with Qt4 interactive backend. You can change back to this setting in your Canopy preferences (Python tab).</p>\n</blockquote>\n\n<p>I have changed the stated settings in preferences as the error message suggests. </p>\n\n<p>What could be the problem?</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1541634774, "creation_date": 1541634774, "answer_id": 53199650, "question_id": 53199610, "link": "https://stackoverflow.com/questions/53199610/python-2-7-using-packages-from-another-location/53199650#53199650", "title": "Python 2.7, using packages from another location", "body": "<p>You need to set your PYTHONPATH environment variable to include the path to the folder where <code>application</code> resides.  Check that you have a blank or properly coded <code>__init__.py</code> file in each folder in the sequence of inclusion.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4853145, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206546236277826/picture?type=large", "display_name": "Sam Warren", "link": "https://stackoverflow.com/users/4853145/sam-warren"}, "edited": false, "score": 0, "creation_date": 1541791330, "post_id": 53199861, "comment_id": 93351024, "body": "Late response, but this worked! Sorry for the duplicate question, and thanks so much for entertaining my ignorance. I know hard-coding is usually the wrong way to do things, this is a temporary solution"}, {"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "reply_to_user": {"reputation": 31, "user_id": 4853145, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206546236277826/picture?type=large", "display_name": "Sam Warren", "link": "https://stackoverflow.com/users/4853145/sam-warren"}, "edited": false, "score": 0, "creation_date": 1541796535, "post_id": 53199861, "comment_id": 93353067, "body": "@SamWarren glad to hear it helped :)"}], "tags": [], "owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "is_accepted": false, "score": 0, "last_activity_date": 1541637226, "last_edit_date": 1541637226, "creation_date": 1541636414, "answer_id": 53199861, "question_id": 53199610, "link": "https://stackoverflow.com/questions/53199610/python-2-7-using-packages-from-another-location/53199861#53199861", "title": "Python 2.7, using packages from another location", "body": "<p>The simplest way to do this is:</p>\n\n<pre><code>import sys\nsys.path.append(r'T:\\foo\\Python27\\Lib\\site-packages')\nimport babel\n</code></pre>\n\n<p>Hard-coding a path like this is usually not the best way to do your work, but it's certainly easy to understand and will work in a pinch. </p>\n"}], "owner": {"reputation": 31, "user_id": 4853145, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206546236277826/picture?type=large", "display_name": "Sam Warren", "link": "https://stackoverflow.com/users/4853145/sam-warren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1541637350, "answer_count": 2, "score": 0, "last_activity_date": 1541637226, "creation_date": 1541634420, "question_id": 53199610, "link": "https://stackoverflow.com/questions/53199610/python-2-7-using-packages-from-another-location", "closed_reason": "Duplicate", "title": "Python 2.7, using packages from another location", "body": "<p>I've tried searching for this but can't understand the answers that I've seen.</p>\n\n<p>I'm relatively new to Python (2.7) and am the only person at my org who uses it. They're sunsetting one of our virtual environments, and the one which will remain doesn't have any of the necessary third party packages to basically do anything. I need to copy all of the package folders (from 'Python27\\Lib\\site-packages') to a shared network drive so they're not lost. I've copied the entire Python27 folder over to a shared drive (T:) and want to run them using the copy of Python27 on the new virtual environment (C:)</p>\n\n<p>I want to modify my scripts to import these packages from the networked drive. </p>\n\n<p>The answers I'm seeing for this are similar to:</p>\n\n<pre><code>from application.app.folder.file import func_name\n</code></pre>\n\n<p>However, this isn't helpful to me, I guess I'm just too stupid to understand it. Lets say I want to import the babel package from the copy I made on T:. The above has me thinking I need to enter something like </p>\n\n<pre><code>from 'T:\\foo\\Python27\\Lib\\site-packages' import babel\n</code></pre>\n\n<p>or </p>\n\n<pre><code>from 'T:\\foo\\Python2y7\\Lib\\site-packages\\babel' import babel\n</code></pre>\n\n<p>but every variation of this I try gives syntax errors. Additionally I'm confused, because the examples I see show people pointing to literal '.py' files, but none of these packages have an actual '.py' file of the same name as the package (they all have <strong>init</strong> files within their individual folders, and lots of other randomly named .py files).</p>\n\n<p>Can someone, in plain english, using filepath examples, show me how to do this? I'm very confused by the long answers and fake example paths, I would love a literal absolute path starting with 'T:\\', as answers like </p>\n\n<pre><code>from packA.subA.sa1 import helloWorld\n</code></pre>\n\n<p>confuse the crap out of me (what is packA? what is subA? is helloWorld the name of the actual package, the name of the folder within site-packages, or the name of a .py file within a folder?) \nUnfortunately I'm unable to use PIP or any other third party libs that might make this easier, as the new VDE doesn't have anything but stock 2.7 packages. </p>\n\n<p>I'm sorry for being so dumb, I stayed late and created a StackOverflow account just for this, would really appreciate a hand holding. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1541634826, "post_id": 53199595, "comment_id": 93287829, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 0, "last_activity_date": 1541634896, "creation_date": 1541634896, "answer_id": 53199661, "question_id": 53199595, "link": "https://stackoverflow.com/questions/53199595/create-df-with-all-possible-values-for-week-in-pandas/53199661#53199661", "title": "create DF with all possible values for week in pandas", "body": "<p>I would just create a new dataframe with all <code>id</code> values repeated 5 times, and the range of 1-5 repeated <em>n</em> times, <em>n</em> being the number of <code>id</code> values. Then, do an outer merge with your original dataframe:</p>\n\n<pre><code>new_df = (pd.merge(pd.DataFrame({'id':np.repeat(df['id'].unique(), 5),\n                                 'week':np.tile([1,2,3,4,5], df['id'].nunique())}),\n                   df, how='outer'))\n\n    id  week  count\n0    1     1    2.0\n1    1     2    2.0\n2    1     3    NaN\n3    1     4    NaN\n4    1     5    NaN\n5    2     1    NaN\n6    2     2    NaN\n7    2     3    1.0\n8    2     4    NaN\n9    2     5    NaN\n10   3     1    NaN\n11   3     2    NaN\n12   3     3    NaN\n13   3     4    NaN\n14   3     5    4.0\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10620788, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vz2KPLwUU94/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD7-zvGxya4tCl5969A9Fuj2wvg8A/mo/photo.jpg?sz=128", "display_name": "Marcela Bejarano", "link": "https://stackoverflow.com/users/10620788/marcela-bejarano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 53199661, "answer_count": 1, "score": -2, "last_activity_date": 1541634896, "creation_date": 1541634279, "question_id": 53199595, "link": "https://stackoverflow.com/questions/53199595/create-df-with-all-possible-values-for-week-in-pandas", "title": "create DF with all possible values for week in pandas", "body": "<p>I have a dataframe that looks like this</p>\n\n<pre><code>id    week count\n1       1    2\n1       2    2\n2       3    1\n3       5    4\n</code></pre>\n\n<p>I want a df that will have each id with all the possible values of week (1-5):</p>\n\n<pre><code>id    week  count\n1       1     2\n1       2     2\n1       3     null\n1       4     null\n1       5     null\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "edited": false, "score": 0, "creation_date": 1541717199, "post_id": 53200312, "comment_id": 93322315, "body": "hi @Tanvir yes you plotting is also great. But I am looking for put the 2 column, one on the bottom and the other one on the top. I found the solution actually,  after use &quot;ax2=ax.twinx()&quot;, flip the range of ax2 y axis by &quot;ax2.set_ylim(BIG_NUMBER, SMALL_NUMBER)&quot;. Still thank you !"}, {"owner": {"reputation": 143, "user_id": 9210760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMIuT.jpg?s=128&g=1", "display_name": "Tanvir", "link": "https://stackoverflow.com/users/9210760/tanvir"}, "reply_to_user": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "edited": false, "score": 0, "creation_date": 1541747785, "post_id": 53200312, "comment_id": 93329465, "body": "yeah twinx work for same x axis but different y axis. it is nice to know that your problem have solved."}], "tags": [], "owner": {"reputation": 143, "user_id": 9210760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMIuT.jpg?s=128&g=1", "display_name": "Tanvir", "link": "https://stackoverflow.com/users/9210760/tanvir"}, "is_accepted": false, "score": 0, "last_activity_date": 1541640519, "creation_date": 1541640519, "answer_id": 53200312, "question_id": 53199567, "link": "https://stackoverflow.com/questions/53199567/matplotlib-plot-multiple-columns-into-a-figure-with-different-y-axes/53200312#53200312", "title": "Matplotlib: plot multiple columns into a figure with different y axes", "body": "<p>Are you looking for this?</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ny = np.random.rand(10,3)\ny[:,0]= np.arange(1,11)\ndf = pd.DataFrame(y, columns=['x', 'v', 't'])\n\nfig = plt.figure() # Create matplotlib figure\n\nax = fig.add_subplot(111) # Create matplotlib axes\nax2 = ax.twinx() # Create another axes that shares the same x-axis as ax.\n\nwidth = 0.4\n\ndf.plot(x='x',y='v',kind='bar', color='red', ax=ax, width=width, position=1)\ndf.t.plot(x='x', y='t[::-1]',kind='bar', color='blue', ax=ax2, width=width, position=0)\n\nax.set_ylabel('v')\nax2.set_ylabel('t')\n\n\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1541717079, "creation_date": 1541717079, "answer_id": 53217268, "question_id": 53199567, "link": "https://stackoverflow.com/questions/53199567/matplotlib-plot-multiple-columns-into-a-figure-with-different-y-axes/53217268#53217268", "title": "Matplotlib: plot multiple columns into a figure with different y axes", "body": "<p>here is my solution. It is pretty simple actually, after use ax2=ax.twinx(), flip the range of ax2 y axis by ax2.set_ylim(BIG_NUMBER, SMALL_NUMBER) </p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ny = np.random.rand(10,3)\ny[:,0]= np.arange(1,11)\ndf = pd.DataFrame(y, columns=['x', 'v', 't'])\ndf['x'] = np.arange(1, 11, 1)\n\nfig = plt.figure() # Create matplotlib figure\n\nax = fig.add_subplot(111) # Create matplotlib axes\nax2 = ax.twinx() # Create another axes that shares the same x-axis as ax.\n\n\nax.bar(df['x'],df['v'], color='red', alpha=0.8)\nax.set_ylabel('v', color='red')\nax.tick_params(axis='y', labelcolor='red')\nax.set_ylim(0, 1.5)\n\nax2.bar(df['x'], df['t'], color='blue', alpha=0.5)\nax2.set_ylabel('t', color='b')\nax2.tick_params(axis='y', labelcolor='blue')\nax2.set_ylim(1.5, 0)\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 883, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541717079, "creation_date": 1541634099, "question_id": 53199567, "link": "https://stackoverflow.com/questions/53199567/matplotlib-plot-multiple-columns-into-a-figure-with-different-y-axes", "title": "Matplotlib: plot multiple columns into a figure with different y axes", "body": "<p>I want to plot a figure similar with this(sorry it does not look very good):</p>\n\n<p><a href=\"https://i.stack.imgur.com/akCBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akCBY.png\" alt=\"enter image description here\"></a></p>\n\n<p>with data, let say, like this:</p>\n\n<pre><code>y = np.random.rand(10,3)\ny[:,0]= np.arange(1,11)\ndf = pd.DataFrame(y, columns=[\"X\", \"Volume\", \"Time\"])\ndf\n\nX   Volume  Time\n0   1.0 0.517895    0.182525\n1   2.0 0.488399    0.252989\n2   3.0 0.992292    0.941301\n3   4.0 0.147368    0.650542\n4   5.0 0.236345    0.662650\n5   6.0 0.913300    0.539643\n6   7.0 0.373740    0.379043\n7   8.0 0.752482    0.875370\n8   9.0 0.040096    0.097381\n9   10.0    0.793734    0.625026\n</code></pre>\n\n<p>Does anyone know how to do it? thanks, I try to dig in stack overflow but not found any similar question.\nThanks ahead for any idea and suggestion!!</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "loops", "dictionary"], "comments": [{"owner": {"reputation": 1792, "user_id": 6672746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba91b391da1f42e87437934cdd764a67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/6672746/evan"}, "edited": false, "score": 0, "creation_date": 1541634322, "post_id": 53199538, "comment_id": 93287708, "body": "Can you include some code to generate your df, or a MCVE?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1541634508, "post_id": 53199538, "comment_id": 93287757, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem.   We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1541635029, "post_id": 53199538, "comment_id": 93287874, "body": "&quot;I have a dataframe where every row is a dictionary&quot; probably not a good design choice. Since you&#39;ve pretty much removed any chance of doing this efficiently, just iterate over each row, and add all the keys to a <code>set</code>."}, {"owner": {"reputation": 1792, "user_id": 6672746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba91b391da1f42e87437934cdd764a67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/6672746/evan"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541635419, "post_id": 53199538, "comment_id": 93287954, "body": "@juanpa.arrivillaga I was trying to do that, but I couldn&#39;t figure out how to get a <code>df</code> of dictionaries. I kept just getting a flat dataframe. :-/"}, {"owner": {"reputation": 71, "user_id": 7667423, "user_type": "registered", "profile_image": "https://graph.facebook.com/3159071730760/picture?type=large", "display_name": "Zak Ray Sick", "link": "https://stackoverflow.com/users/7667423/zak-ray-sick"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541635523, "post_id": 53199538, "comment_id": 93287975, "body": "@juanpa dataset is not mine, provided by third party ;)"}, {"owner": {"reputation": 71, "user_id": 7667423, "user_type": "registered", "profile_image": "https://graph.facebook.com/3159071730760/picture?type=large", "display_name": "Zak Ray Sick", "link": "https://stackoverflow.com/users/7667423/zak-ray-sick"}, "reply_to_user": {"reputation": 1792, "user_id": 6672746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba91b391da1f42e87437934cdd764a67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/6672746/evan"}, "edited": false, "score": 0, "creation_date": 1541635606, "post_id": 53199538, "comment_id": 93287992, "body": "@evan Attached a code snippit that should reproduce the output I am currently getting, which are the unique keys for each row. What I am trying to get is just a list of all unique keys across rows."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1541635660, "creation_date": 1541635660, "answer_id": 53199754, "question_id": 53199538, "link": "https://stackoverflow.com/questions/53199538/determine-unique-dictionary-keys-across-rows/53199754#53199754", "title": "Determine unique dictionary keys across rows", "body": "<p>Just iterate and add to a set:</p>\n\n<pre><code>In [1]: import pandas as pd\n   ...: import numpy as np\n   ...: import ast\n   ...:\n   ...: dummy_data = [['A',str({\"pageviews\":\"1\",\"hits\":\"1\"})],['B',str({\"pageviews\":\"1\",\"visits\":\"1\"})]]\n   ...: dummy_df = pd.DataFrame(dummy_data,columns = ['ID','totals'])\n   ...:\n   ...:\n\nIn [2]: dummy_df\nOut[2]:\n  ID                             totals\n0  A    {'pageviews': '1', 'hits': '1'}\n1  B  {'pageviews': '1', 'visits': '1'}\n\nIn [3]: uniq = set()\n   ...: for x in dummy_df.totals:\n   ...:     uniq.update(ast.literal_eval(x))\n   ...:\n\nIn [4]: uniq\nOut[4]: {'hits', 'pageviews', 'visits'}\n</code></pre>\n\n<p>Probably the best you can do given the structure of your data.</p>\n"}], "owner": {"reputation": 71, "user_id": 7667423, "user_type": "registered", "profile_image": "https://graph.facebook.com/3159071730760/picture?type=large", "display_name": "Zak Ray Sick", "link": "https://stackoverflow.com/users/7667423/zak-ray-sick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53199754, "answer_count": 1, "score": 1, "last_activity_date": 1541635660, "creation_date": 1541633811, "last_edit_date": 1541635498, "question_id": 53199538, "link": "https://stackoverflow.com/questions/53199538/determine-unique-dictionary-keys-across-rows", "title": "Determine unique dictionary keys across rows", "body": "<p>I have a dataframe where every row is a dictionary, however the keys in each dictionary vary. I would like to iterate over each row and get one list with all unique keys. Does anyone know how to do this?</p>\n\n<p>I tried this code </p>\n\n<pre><code>np.unique(np.array(train.totals.apply(lambda x: ast.literal_eval(x).keys())))\n</code></pre>\n\n<p>But this yields unique combinations of dict_keys(), not unique combinations of keys. </p>\n\n<p>For example, lets say I have two rows. As mentioned above, the column values for each row are a dictionary. The dictionary keys for row 1 are fruit and vegetable, and the dictionary keys for row 2 are fruit, vegetable and grain. </p>\n\n<p>The code above would produce </p>\n\n<pre><code>dict_keys(['fruit','vegetable']) \n</code></pre>\n\n<p>and</p>\n\n<pre><code>dict_keys(['fruit','vegetable','grain']) \n</code></pre>\n\n<p>However, what I am want the output to be is just a list or array with fruit, vegetable and grain (the unique keys seen across rows). </p>\n\n<p>Edit: screenshot of dataframe added<a href=\"https://i.stack.imgur.com/TvJ0c.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>edit2: Code sample below</p>\n\n<pre><code>import pandas as pd \nimport numpy as np\nimport ast\n\ndummy_data = [['A',str({\"pageviews\":\"1\",\"hits\":\"1\"})],['B',str({\"pageviews\":\"1\",\"visits\":\"1\"})]]\ndummy_df = pd.DataFrame(dummy_data,columns = ['ID','totals'])\n\nnp.unique(np.array(dummy_df.totals.apply(lambda x: ast.literal_eval(x).keys())))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics", "simultaneous"], "comments": [{"owner": {"reputation": 1418, "user_id": 8569905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x8uQj.jpg?s=128&g=1", "display_name": "Banghua Zhao", "link": "https://stackoverflow.com/users/8569905/banghua-zhao"}, "edited": false, "score": 0, "creation_date": 1541635700, "post_id": 53199459, "comment_id": 93288007, "body": "How is turtle class defined? Could you provide the code?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1542321136, "post_id": 53199459, "comment_id": 93538067, "body": "In SO you should not add [ANSWERED] or similar in the title of the question, you must mark as correct the answer that is the solution to your problem, if no answer will help you then we invite you to publish your solution and mark it as correct."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1541634465, "creation_date": 1541634465, "answer_id": 53199616, "question_id": 53199459, "link": "https://stackoverflow.com/questions/53199459/how-do-i-run-two-turtles-in-python-simultaneously/53199616#53199616", "title": "How do I run two turtles in python simultaneously?", "body": "<p>You can't do this as a guaranteed part of the Turtle interface.  You could <em>try</em> doing these in parallel processes, but there's no guarantee of simultaneous movement.\nSome Python run-time systems handle parallel processes with sequential time-slicing of a single process.  You may also find that one move completes while the other process is initializing.  If you want to try tighter management, build two processes that hold on a process lock; have the main program release both locks in a critical section ... and you <em>might</em> get something close to the desired functionality.</p>\n\n<p>If you're trying to do something this graphically mature, you might consider a larger graphics package, such as PyGame.</p>\n"}, {"comments": [{"owner": {"reputation": 56, "user_id": 10398864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e77bab27b773ffbe94e9d71f41fb527?s=128&d=identicon&r=PG&f=1", "display_name": "rasabi", "link": "https://stackoverflow.com/users/10398864/rasabi"}, "edited": false, "score": 0, "creation_date": 1542320223, "post_id": 53214004, "comment_id": 93537785, "body": "Thanks! Since python is a pretty basic (but strong) language, I&#39;m sticking to making them appear to be moving &quot;simultaneously&quot;."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 3, "last_activity_date": 1541702504, "last_edit_date": 1541702504, "creation_date": 1541701624, "answer_id": 53214004, "question_id": 53199459, "link": "https://stackoverflow.com/questions/53199459/how-do-i-run-two-turtles-in-python-simultaneously/53214004#53214004", "title": "How do I run two turtles in python simultaneously?", "body": "<blockquote>\n  <p>Is there a way to make them move together simultaneously?</p>\n</blockquote>\n\n<p>The best we can hope to do is make them appear to move simultaneously.  Below are three increasingly complex approaches to this problem.  But first, let's establish our baseline code, two turtles heading at each other and stopping when they meet at the origin:</p>\n\n<pre><code>from turtle import Screen, Turtle\n\nscreen = Screen()\n\na = Turtle('square', visible=False)\na.speed('slow')\na.color('red')\na.penup()\na.setx(-300)\na.setheading(0)\na.pendown()\na.showturtle()\n\nb = Turtle('circle', visible=False)\nb.speed('slow')\nb.color('green')\nb.penup()\nb.setx(300)\nb.setheading(180)\nb.pendown()\nb.showturtle()\n\n### Subsequent variations start here ###\n\na.forward(300)\nb.forward(300)\n\n### Subsequent variations end here ###\n\nscreen.mainloop()\n</code></pre>\n\n<p>The above doesn't do what we want as one turtle moves and then the other.  For our first variation, we simply chop up the motion into smaller units and alternate:</p>\n\n<pre><code>###\n\nfor _ in range(300):\n    a.forward(1)\n    b.forward(1)\n\n###\n</code></pre>\n\n<p>Our next variation uses timer events to control the motion of the two turtles:</p>\n\n<pre><code>###\n\ndef move(turtle):\n    turtle.forward(1)\n\n    if turtle.distance(0, 0) &gt; 1 :\n        screen.ontimer(lambda t=turtle: move(t), 50)\n\nmove(a)\nmove(b)\n\n###\n</code></pre>\n\n<p>Our final variation uses threading to independently control the two turtles.  Each turtle is a thread and there's a third, main thread that handles all the graphics operations for the turtle threads.  This is needed as turtle operates atop tkinter which has issues handling graphics from secondary threads:</p>\n\n<pre><code>###\n\nfrom threading import Thread, active_count\nfrom queue import Queue\n\nQUEUE_SIZE = 1\n\ndef process_queue():\n    while not actions.empty():\n        action, *arguments = actions.get()\n        action(*arguments)\n\n    if active_count() &gt; 1:\n        screen.ontimer(process_queue, 100)\n\nactions = Queue(QUEUE_SIZE)  # a thread-safe data structure\n\ndef move(turtle):\n    while turtle.distance(0, 0) &gt; 1:\n        actions.put((turtle.forward, 1))\n\nThread(target=move, args=[a], daemon=True).start()\nThread(target=move, args=[b], daemon=True).start()\n\nprocess_queue()\n\n###\n</code></pre>\n"}], "owner": {"reputation": 56, "user_id": 10398864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e77bab27b773ffbe94e9d71f41fb527?s=128&d=identicon&r=PG&f=1", "display_name": "rasabi", "link": "https://stackoverflow.com/users/10398864/rasabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1984, "favorite_count": 0, "accepted_answer_id": 53214004, "answer_count": 2, "score": 3, "last_activity_date": 1542321020, "creation_date": 1541633361, "last_edit_date": 1542321020, "question_id": 53199459, "link": "https://stackoverflow.com/questions/53199459/how-do-i-run-two-turtles-in-python-simultaneously", "title": "How do I run two turtles in python simultaneously?", "body": "<p>I'm trying to make two turtles move together instead of one moving subsequently after the other. For example:</p>\n\n<pre><code>a = turtle.Turtle()\nb = turtle.Turtle()\n\na.forward(100)\nb.forward(100)\n</code></pre>\n\n<p>But this only makes them move one after the other.\nIs there a way to make them move together simultaneously?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1543267723, "post_id": 53482053, "comment_id": 93848573, "body": "Thanks for your contribution!  Unfortunately, this does not appear to work for me after adapting it.  I wonder if there might be a related .groupby transform approach? I&#39;ll have to revisit this."}], "tags": [], "owner": {"reputation": 74809, "user_id": 9698684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2XY.jpg?s=128&g=1", "display_name": "yatu", "link": "https://stackoverflow.com/users/9698684/yatu"}, "is_accepted": false, "score": 1, "last_activity_date": 1554502610, "last_edit_date": 1554502610, "creation_date": 1543238487, "answer_id": 53482053, "question_id": 53199457, "link": "https://stackoverflow.com/questions/53199457/python-groupby-function-vectorized/53482053#53482053", "title": "Python Groupby Function Vectorized", "body": "<p>Does this do what you want?</p>\n\n<pre><code>df.groupby(['id','atr1','atr2']).apply(lambda x: (x.orig_date &lt; pd.to_datetime(x.fix_date.min()))\n                                .astype(int)).reset_index()\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1554502610, "creation_date": 1541633348, "last_edit_date": 1554493163, "question_id": 53199457, "link": "https://stackoverflow.com/questions/53199457/python-groupby-function-vectorized", "title": "Python Groupby Function Vectorized", "body": "<p>I posted a previous question (<a href=\"https://stackoverflow.com/questions/53092924/python-groupby-with-boolean-mask\">Python Groupby with Boolean Mask</a>) which provided a successful answer:</p>\n\n<pre><code>import io\nimport pandas as pd\n\ndata = \"\"\" \nid,atr1,atr2,orig_date,fix_date\n1,bolt,l,2000-01-01,nan\n1,screw,l,2000-01-01,nan\n1,stem,l,2000-01-01,nan\n2,stem,l,2000-01-01,nan\n2,screw,l,2000-01-01,nan\n2,stem,l,2001-01-01,2001-01-01\n3,bolt,r,2000-01-01,nan\n3,stem,r,2000-01-01,nan\n3,bolt,r,2001-01-01,2001-01-01\n3,stem,r,2001-01-01,2001-01-01\n\"\"\"\ndata = io.StringIO(data)\ndf = pd.read_csv(data, parse_dates=['orig_date', 'fix_date'])\n\ndef f(g):\n    min_fix_date = g['fix_date'].min()\n    if pd.isnull(min_fix_date):\n        g['failed_part_ind'] = 0\n    else:\n        g['failed_part_ind'] = g['orig_date'].apply(lambda d: 1 if d &lt; min_fix_date else 0)\n    return g\n\ndf.groupby(['id', 'atr1', 'atr2']).apply(lambda g: f(g))\n</code></pre>\n\n<p>This result would be the following:</p>\n\n<pre><code>id,atr1,atr2,orig_date,fix_date,failed_part_ind\n1,bolt,l,2000-01-01,nan,0\n1,screw,l,2000-01-01,nan,0\n1,stem,l,2000-01-01,nan,0\n2,stem,l,2000-01-01,nan,1\n2,screw,l,2000-01-01,nan,0\n2,stem,l,2001-01-01,2001-01-01,0\n3,bolt,r,2000-01-01,nan,1\n3,stem,r,2000-01-01,nan,1\n3,bolt,r,2001-01-01,2001-01-01,0\n3,stem,r,2001-01-01,2001-01-01,0\n</code></pre>\n\n<p>However, I am now trying to develop an optimized/vectorized version to improve the runtime and scale up to larger datasets.  Any tips or trick would be most welcome!  I'm currently experimenting with pandas <code>.idxmin()</code> and numpy <code>.argmin()</code></p>\n"}, {"tags": ["python", "multiprocessing", "pool"], "comments": [{"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541699762, "post_id": 53199381, "comment_id": 93314639, "body": "&quot;Meanwhile I see that there are still over 100 remaining processes that haven&#39;t finished (or even started).&quot; How do you observe the 100 remaining tasks? Or is it really processes? It&#39;s important to not mix the wording because your pool will only start as much processes as much cores you have. The scheduled unit the worker-processes are fed with is a task (or a batch of tasks for chunksize &gt; 1)."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541702385, "post_id": 53199381, "comment_id": 93315902, "body": "My mistake. I did mean over 100 remaining tasks. I am able to observe the remaining tasks because within the <code>try</code> statement in the while loop I have a counter that counts completed tasks which I then print at the end of each iteration of the while loop."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541702732, "post_id": 53199381, "comment_id": 93316058, "body": "&quot;There is an internal mechanism that terminates the optimization function...&quot;  How is this done? Process killing?"}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541702910, "post_id": 53199381, "comment_id": 93316145, "body": "The optimization function also has an internal counter, so once it reaches 20,000 iterations for example, and still hasn&#39;t converged, it simply returns with the results as is and logs a warning."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541704785, "post_id": 53199381, "comment_id": 93316979, "body": "Do all tasks finish (one way or the other) eventually? You could try with <code>Pool(maxtasksperchild=1)</code> and see if this changes anything. It will start a fresh process for every task."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541711796, "post_id": 53199381, "comment_id": 93320219, "body": "That&#39;s actually what I was thinking I would try next. All tasks do eventually complete, but on fewer and fewer threads, which is the part that is mysterious to me. Even if I don&#39;t specify <code>maxtasksperchild</code>, my understanding was that the Pool would still assign a task to a worker one at a time, especially if I&#39;m not using chunking."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541712813, "post_id": 53199381, "comment_id": 93320648, "body": "Does CPU-utilization in total also drop , meaning you have cores idling? Insert <code>logger = multiprocessing.log_to_stderr(logging.DEBUG)</code> below <code>if __name__ == &#39;__main__&#39;:</code> and watch out for errors."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541738496, "post_id": 53199381, "comment_id": 93327097, "body": "OK I re-ran with your debugger set as well as <code>maxtasksperchild=1</code> and neither seemed to have any effect. Every single process logged the following messages:  <code>[DEBUG&#47;ForkPoolWorker-980] worker exiting after 1 tasks [INFO&#47;ForkPoolWorker-980] process shutting down [DEBUG&#47;ForkPoolWorker-980] running all &quot;atexit&quot; finalizers with priority &gt;= 0 [DEBUG&#47;ForkPoolWorker-980] running the remaining &quot;atexit&quot; finalizers [INFO&#47;ForkPoolWorker-980] process exiting with exitcode 0</code> with no other errors until suddenly it simply stops spawning workers with nearly 200 tasks remaining."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541761289, "post_id": 53199381, "comment_id": 93335752, "body": "...and freezes or what kind of exception do you get? Sounds like an OS thingy then. Which OS? Are you exhausting RAM?"}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541801810, "post_id": 53199381, "comment_id": 93354695, "body": "That&#39;s the weird thing...no exceptions are generated. This is on Ubuntu 18.04. I have no reason to believe that I&#39;m exhausting RAM."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541802223, "post_id": 53199381, "comment_id": 93354839, "body": "@Darkonaut I added some links in my original post to images that show what <code>top</code> and stdout look like at the beginning of a run vs once things start to get jammed up."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541803273, "post_id": 53199381, "comment_id": 93355093, "body": "I see 19 users, is this server yours?"}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541878017, "post_id": 53199381, "comment_id": 93370672, "body": "Yes, but I am a Ph.D. student and share this server with others in my lab though I am effectively sysadmin."}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541878451, "post_id": 53199381, "comment_id": 93370776, "body": "Ask the sysadmin in you if he implemented some resource limits (maybe default?) like on cpu-time for example. Terminal output of <code>ulimit -a</code> could be interesting. That&#39;s really my last idea, that you are hitting some OS-resource limit with such a heavy computation."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541903073, "post_id": 53199381, "comment_id": 93375787, "body": "Hmm, doesn&#39;t look like it: <code>core file size          (blocks, -c) 0 data seg size           (kbytes, -d) unlimited scheduling priority             (-e) 0 file size               (blocks, -f) unlimited pending signals                 (-i) 386408 max locked memory       (kbytes, -l) 16384 max memory size         (kbytes, -m) unlimited open files                      (-n) 1024 stack size              (kbytes, -s) 8192 cpu time               (seconds, -t) unlimited max user processes              (-u) 386408 virtual memory          (kbytes, -v) unlimited </code>"}, {"owner": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1541944204, "post_id": 53199381, "comment_id": 93383600, "body": "Strange. Maybe try to reproduce this on a private machine to exclude this is a server-related issue."}, {"owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "reply_to_user": {"reputation": 13858, "user_id": 9059420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qaO9g.jpg?s=128&g=1", "display_name": "Darkonaut", "link": "https://stackoverflow.com/users/9059420/darkonaut"}, "edited": false, "score": 0, "creation_date": 1542040326, "post_id": 53199381, "comment_id": 93416751, "body": "I&#39;ll give that a go. Thanks for you help."}], "owner": {"reputation": 43, "user_id": 1402163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9ce3d5f01b0d79b66b397e07627c3c1?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1402163/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541801964, "creation_date": 1541632821, "last_edit_date": 1541801964, "question_id": 53199381, "link": "https://stackoverflow.com/questions/53199381/unexpected-behavior-with-multiprocessing-pool-imap-unordered-method", "title": "Unexpected behavior with multiprocessing pool imap_unordered method", "body": "<p>I have a process that I'm trying to parallelize with the <code>multiprocessing</code> library. Each process does a few things, but one of the things each process does is to call a function that runs an optimization. Now, 90% of the time each optimization will complete in less than 1 minute, but if it doesn't, it might never converge. There is an internal mechanism that terminates the optimization function if it doesn't converge after say, 20,000 iterations, but that can take a long time (~1hr). </p>\n\n<p>Right now my code looks something like this:</p>\n\n<pre><code>pool = multiprocessing.Pool()\nimap_it = pool.imap_unordered(synth_worker, arg_tuples)\n\nwhile 1:\n    try:\n        result = imap_it.next(timeout=120)\n        process_result(result)\n    except StopIteration:\n        break\n    except multiprocessing.TimeoutError:\n        pass\n\npool.close()\npool.join()\n</code></pre>\n\n<p>This seems to work fairly well as I am able to process the first 90% of results fairly quickly, but towards the end, the longer processes start to bog things down and only 1 process completes every ~10 minutes. The weird thing is that once it gets to this point and I run <code>top</code> at the terminal, it seems like only 5-6  parallel processes are running even though I have 24 CPUs in my Pool. I see all 24 CPU's engaged at the beginning of the run, also. Meanwhile I see that there are still over 100 remaining tasks that haven't finished (or even started). I'm not utilizing any of the built-in chunking options of <code>imap_unordered</code> so my understanding is that as soon as one process finishes, the worker that was running that finished process should pick up a new one. Why would there be fewer parallel processes running than there are remaining tasks unless all remaining jobs were already allocated to the 5-6 jammed workers that are waiting for their non-convergent optimizations to hit their 20,000 iteration cutoff? Any ideas? Should I try another method to iterate over the results of my Pool as they come in?</p>\n\n<p>Output of <code>top</code> at the beginning of a run <a href=\"https://i.stack.imgur.com/r4COJ.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>and output of <code>top</code> once the jobs seem to get stuck <a href=\"https://i.stack.imgur.com/rODss.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>and <a href=\"https://i.stack.imgur.com/lxnWS.png\" rel=\"nofollow noreferrer\">this</a> is what stdout looks like when the jobs start to get stuck.</p>\n"}, {"tags": ["javascript", "python", "django"], "comments": [{"owner": {"reputation": 121, "user_id": 10620227, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sVeFlOWc4bs/AAAAAAAAAAI/AAAAAAAAAD0/ZXypgSK3ZmQ/photo.jpg?sz=128", "display_name": "Benjamin Brettsworth", "link": "https://stackoverflow.com/users/10620227/benjamin-brettsworth"}, "edited": false, "score": 0, "creation_date": 1541632792, "post_id": 53199365, "comment_id": 93287317, "body": "If python is putting out a JSON array here then wrapping it in <code>JSON.parse</code> might work to get you a JS object."}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1541632864, "post_id": 53199365, "comment_id": 93287340, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes#JavaScript_access\" rel=\"nofollow noreferrer\">MDN Docs</a> at the bottom of this section is says that all <code>data-*</code> attributes are strings."}], "answers": [{"comments": [{"owner": {"reputation": 1678, "user_id": 9393766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jae P.", "link": "https://stackoverflow.com/users/9393766/jae-p"}, "edited": false, "score": 0, "creation_date": 1541634437, "post_id": 53199435, "comment_id": 93287738, "body": "I tried <code>JSON.parse</code>, but it throws <code>Uncaught SyntaxError: Unexpected token &#39; in JSON at position 1 at JSON.parse (&lt;anonymous&gt;)</code>, so I tried <code>JSON.parse(JSON.stringify(...))</code>, but it still returns string."}, {"owner": {"reputation": 1678, "user_id": 9393766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jae P.", "link": "https://stackoverflow.com/users/9393766/jae-p"}, "edited": false, "score": 0, "creation_date": 1541634467, "post_id": 53199435, "comment_id": 93287748, "body": "I put the console.log result in the original post. Can you check that?"}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "reply_to_user": {"reputation": 1678, "user_id": 9393766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jae P.", "link": "https://stackoverflow.com/users/9393766/jae-p"}, "edited": false, "score": 0, "creation_date": 1541634602, "post_id": 53199435, "comment_id": 93287782, "body": "I don&#39;t know django but <a href=\"https://stackoverflow.com/questions/2428092/creating-a-json-response-using-django-and-python\">here is another question</a> about returning JSON from django."}], "tags": [], "owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "is_accepted": true, "score": 1, "last_activity_date": 1541635069, "last_edit_date": 1541635069, "creation_date": 1541633190, "answer_id": 53199435, "question_id": 53199365, "link": "https://stackoverflow.com/questions/53199365/how-can-i-pass-python-list-to-javascript-in-html-level/53199435#53199435", "title": "How can I pass Python list to Javascript in HTML level", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes#JavaScript_access\" rel=\"nofollow noreferrer\">According to the MDN Docs</a> all <code>data-*</code> attributes are saved as strings. To get a proper JSON type object you will need to use <code>JSON.parse</code></p>\n\n<pre><code>&lt;span data-names=\"{{ names }}\"&gt;...&lt;/span&gt;\n&lt;script&gt;\n    const data = JSON.parse($('span').attr('data-names'));\n    console.log(data);\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/2428092/creating-a-json-response-using-django-and-python\">According to this question</a> you can pass JSON from django (version >= 1.7) like</p>\n\n<pre><code>from django.http import JsonResponse\nreturn JsonResponse({'foo':'bar'})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1678, "user_id": 9393766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jae P.", "link": "https://stackoverflow.com/users/9393766/jae-p"}, "edited": false, "score": 0, "creation_date": 1541737646, "post_id": 53199848, "comment_id": 93326928, "body": "It seems like Javascript doens&#39;t read {{ names|safe }}."}], "tags": [], "owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "is_accepted": false, "score": 1, "last_activity_date": 1541636337, "creation_date": 1541636337, "answer_id": 53199848, "question_id": 53199365, "link": "https://stackoverflow.com/questions/53199365/how-can-i-pass-python-list-to-javascript-in-html-level/53199848#53199848", "title": "How can I pass Python list to Javascript in HTML level", "body": "<pre><code>&lt;script&gt;\n    var names = {{ names|safe }}\n&lt;/script&gt;\n</code></pre>\n\n<p><code>safe</code> tag is one option.</p>\n"}], "owner": {"reputation": 1678, "user_id": 9393766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jae P.", "link": "https://stackoverflow.com/users/9393766/jae-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "closed_date": 1541637412, "accepted_answer_id": 53199435, "answer_count": 2, "score": 1, "last_activity_date": 1541636337, "creation_date": 1541632716, "last_edit_date": 1541634341, "question_id": 53199365, "link": "https://stackoverflow.com/questions/53199365/how-can-i-pass-python-list-to-javascript-in-html-level", "closed_reason": "Duplicate", "title": "How can I pass Python list to Javascript in HTML level", "body": "<p>I'm trying to pass Python list to use it as Javascript array in HTML file, but when I check the passed Python list in Javascript level, the console log says it's string.</p>\n\n<p>I'm trying to do that in Django environment.</p>\n\n<p><strong>Django views.py</strong></p>\n\n<pre><code>def get_context_data(self, **kwargs):\n    context = super().get_context_data(**kwargs)\n    context['names'] = list(\n        Store.objects.values_list('businessName', flat=True))\n\n    return context\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;span data-names=\"{{ names }}\"&gt;...&lt;/span&gt;\n&lt;script&gt;\n    console.log(type($('span').attr('data-names')));\n&lt;/script&gt;\n</code></pre>\n\n<p>The console says it's string type. Did I miss any middle step there?</p>\n\n<p><strong>console.log result</strong></p>\n\n<pre><code>['Michael Kors', 'Luca + Grae', 'Rebecca Minkoff', 'Aritzia', 'Nest Boutique', 'Ruby Claire Boutique', 'Bella Ella Boutique', 'Called to Surf', 'Adidas', 'Lime Lush', 'Farfetch', 'AGACI', 'The Mint Julep Boutique', 'Free People', 'Current Boutique', 'Hazel and Olive', 'DownEast Basics', 'Roolee', 'J.Crew']\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1541632751, "post_id": 53199362, "comment_id": 93287305, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 1, "last_activity_date": 1541634337, "creation_date": 1541634337, "answer_id": 53199602, "question_id": 53199362, "link": "https://stackoverflow.com/questions/53199362/get-difference-in-days-for-each-group/53199602#53199602", "title": "Get difference in days for each group", "body": "<p><strong><em>Setup</em></strong> (Assuming, your <code>date</code> column is already <code>datetime</code>)</p>\n\n<pre><code>df = pd.DataFrame({'group1': {1: 'a', 2: 'b', 3: 'd', 4: 'c', 5: 'a'},\n 'group2': {1: 'b', 2: 'c', 3: 'b', 4: 'a', 5: 'd'},\n 'date': {1: pd.Timestamp('2017-01-01 00:00:00'),\n  2: pd.Timestamp('2017-01-05 00:00:00'),\n  3: pd.Timestamp('2017-01-07 00:00:00'),\n  4: pd.Timestamp('2017-01-10 00:00:00'),\n  5: pd.Timestamp('2017-01-15 00:00:00')}})\n</code></pre>\n\n<hr>\n\n<pre><code>s = df.set_index('date').stack().rename('value').reset_index(0)\n\nd = pd.DataFrame(s.groupby('value').date.diff().values.reshape(-1, 2),\n                 columns=['g1diff', 'g2diff'],\n                 index=df.index)\n\ndf.join(d)\n</code></pre>\n\n<p></p>\n\n<pre><code>  group1 group2       date g1diff g2diff\n1      a      b 2017-01-01    NaT    NaT\n2      b      c 2017-01-05 4 days    NaT\n3      d      b 2017-01-07    NaT 2 days\n4      c      a 2017-01-10 5 days 9 days\n5      a      d 2017-01-15 5 days 8 days\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 10582772, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ENTbrqNYPZU/AAAAAAAAAAI/AAAAAAAAA0s/q24T2r8SfHY/photo.jpg?sz=128", "display_name": "Chipmunkafy", "link": "https://stackoverflow.com/users/10582772/chipmunkafy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53199602, "answer_count": 1, "score": -1, "last_activity_date": 1541634337, "creation_date": 1541632702, "question_id": 53199362, "link": "https://stackoverflow.com/questions/53199362/get-difference-in-days-for-each-group", "title": "Get difference in days for each group", "body": "<p>df</p>\n\n<pre><code>      group1      group2     date\n1     a           b          2017-01-01\n2     b           c          2017-01-05\n3     d           b          2017-01-07\n4     c           a          2017-01-10\n5     a           d          2017-01-15\n</code></pre>\n\n<p>df expect</p>\n\n<pre><code>      group1      group2     grp1_diff_days      grp2_diff_days\n1     a           b          NaN                 NaN\n2     b           c          4                   NaN\n3     d           b          NaN                 2\n4     c           a          5                   9\n5     a           d          5                   8\n</code></pre>\n\n<p>I want to get the difference in days for a group and then put that value in their respective column ['grp<strong>i</strong>_diff_days'] regardless of if they were from another group before.</p>\n"}, {"tags": ["python", "arrays", "dynamic", "save", "append"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10621030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LOM0tXNHw_Y/AAAAAAAAAAI/AAAAAAAAANQ/zuG8mpm-_3o/photo.jpg?sz=128", "display_name": "Patrick Mccullen", "link": "https://stackoverflow.com/users/10621030/patrick-mccullen"}, "edited": false, "score": 0, "creation_date": 1541668853, "post_id": 53199446, "comment_id": 93297457, "body": "It doesn&#39;t work right. It should be appending the array with a new value of 5 every time I run the code"}], "tags": [], "owner": {"reputation": 392, "user_id": 9653302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/orm20.png?s=128&g=1", "display_name": "saeed heidari", "link": "https://stackoverflow.com/users/9653302/saeed-heidari"}, "is_accepted": false, "score": 0, "last_activity_date": 1541633280, "creation_date": 1541633280, "answer_id": 53199446, "question_id": 53199345, "link": "https://stackoverflow.com/questions/53199345/dynamic-array-appending-exporting-python/53199446#53199446", "title": "Dynamic array appending/exporting - Python", "body": "<p>Try this code:</p>\n\n<pre><code>merit = 5\nMeritHist = [merit]\nMeritArray = np.asarray(MeritHist)\nnp.savetxt('test.out', MeritArray, delimiter=',')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3177, "user_id": 3187077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655f971e66b0f782fbf55fe19ef71bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roy Scheffers", "link": "https://stackoverflow.com/users/3187077/roy-scheffers"}, "edited": false, "score": 0, "creation_date": 1541637986, "post_id": 53199622, "comment_id": 93288556, "body": "While this might answer the authors&#39; question, it lacks some explaining words and/or links to documentation. Raw code snippets are not very helpful without some phrases around them. You may also find <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write a good answer</a> very helpful. Please edit your answer."}, {"owner": {"reputation": 1, "user_id": 10621030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LOM0tXNHw_Y/AAAAAAAAAAI/AAAAAAAAANQ/zuG8mpm-_3o/photo.jpg?sz=128", "display_name": "Patrick Mccullen", "link": "https://stackoverflow.com/users/10621030/patrick-mccullen"}, "edited": false, "score": 0, "creation_date": 1541668859, "post_id": 53199622, "comment_id": 93297461, "body": "It doesn&#39;t work right. It should be appending the array with a new value of 5 every time I run the code"}], "tags": [], "owner": {"reputation": 1, "user_id": 9155022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac811d5ae4d4378ddf87ad952053f505?s=128&d=identicon&r=PG&f=1", "display_name": "Aziz", "link": "https://stackoverflow.com/users/9155022/aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1541634496, "creation_date": 1541634496, "answer_id": 53199622, "question_id": 53199345, "link": "https://stackoverflow.com/questions/53199345/dynamic-array-appending-exporting-python/53199622#53199622", "title": "Dynamic array appending/exporting - Python", "body": "<pre><code>merit=5 #example input\nMeritHist=[] #starting empty list\nMeritHist.insert(-1,merit) ##insert to the beginning of the list \nprint(MeritHist)\n\n\n# or try this  \nmeritList= []\nmerit= input(\"Type a Number: \") \nmeritList.append(merit)#aapend to the list \nprint(meritList)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10621030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LOM0tXNHw_Y/AAAAAAAAAAI/AAAAAAAAANQ/zuG8mpm-_3o/photo.jpg?sz=128", "display_name": "Patrick Mccullen", "link": "https://stackoverflow.com/users/10621030/patrick-mccullen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541634496, "creation_date": 1541632568, "question_id": 53199345, "link": "https://stackoverflow.com/questions/53199345/dynamic-array-appending-exporting-python", "title": "Dynamic array appending/exporting - Python", "body": "<p>Pretty new to Python and have been struggling to create something that would save and append the new values of my output function into an array for export. Got this so far, but this ain't elegant</p>\n\n<pre><code>merit=5 #example input\nMeritHist=[] #starting empty list\nMeritHist.append(merit)\n\nMeritArray=np.asarray(MeritHist) #turns into array\nnp.savetxt('test.out', MeritArray, delimiter=',')   #exports array\n</code></pre>\n\n<p>After the first run I hash the MeritHist=[] line so that it doesn't restart my list and then on subsequent runs new values are added like I want, but it just doesn't feel right...</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 992, "user_id": 7374610, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xFSdX.jpg?s=128&g=1", "display_name": "Zito Relova", "link": "https://stackoverflow.com/users/7374610/zito-relova"}, "edited": false, "score": 0, "creation_date": 1541632648, "post_id": 53199307, "comment_id": 93287272, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 1, "creation_date": 1541632681, "post_id": 53199307, "comment_id": 93287283, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17071871/select-rows-from-a-dataframe-based-on-values-in-a-column-in-pandas\">Select rows from a DataFrame based on values in a column in pandas</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 0, "last_activity_date": 1541632498, "creation_date": 1541632498, "answer_id": 53199338, "question_id": 53199307, "link": "https://stackoverflow.com/questions/53199307/how-to-remove-rows-from-dataframe/53199338#53199338", "title": "How to remove rows from DataFrame", "body": "<p>You can just do: <code>new_df = old_df[arr == 1]</code>.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>df = pd.DataFrame(np.random.randn(5,5))\n\narr = np.random.choice([1,-1], 5)\n&gt;&gt;&gt; df\n          0         1         2         3         4\n0 -0.238418  0.291475  0.139162 -0.030003 -0.515817\n1 -0.162404 -1.272317  0.342051 -0.787938  0.464699\n2 -0.965481  0.727143 -0.887149 -0.430592 -2.074865\n3  0.699129 -0.242738  1.754805 -0.120637 -1.536973\n4  0.228538  0.799445 -0.217787  0.398572 -1.255639\n&gt;&gt;&gt; arr\narray([ 1, -1, -1,  1, -1])\n\n&gt;&gt;&gt; df[arr == 1]\n          0         1         2         3         4\n0 -0.238418  0.291475  0.139162 -0.030003 -0.515817\n3  0.699129 -0.242738  1.754805 -0.120637 -1.536973\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10621038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--78nBFBQ7EE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDiu65_etcDxGsRGGXBx7QIOgE8iQ/mo/photo.jpg?sz=128", "display_name": "danfries", "link": "https://stackoverflow.com/users/10621038/danfries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541632637, "creation_date": 1541632345, "last_edit_date": 1541632637, "question_id": 53199307, "link": "https://stackoverflow.com/questions/53199307/how-to-remove-rows-from-dataframe", "title": "How to remove rows from DataFrame", "body": "<p>I have a DataFrame with n rows and an <code>ndarray</code> with n values (-1 for outliers and 1 for inlier). Is there a pythonic way to remove DataFrame rows that match the indices of the elements of the nparray marked as -1?</p>\n"}, {"tags": ["python", "mysql", "sql", "django"], "answers": [{"tags": [], "owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "is_accepted": true, "score": 0, "last_activity_date": 1541644062, "creation_date": 1541644062, "answer_id": 53200699, "question_id": 53199290, "link": "https://stackoverflow.com/questions/53199290/sql-formatting-escaping-injection-with-raw/53200699#53200699", "title": "SQL formatting/escaping injection with raw(...)", "body": "<p><code>raw(...)</code> <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/sql/#passing-parameters-into-raw\" rel=\"nofollow noreferrer\">supports a <code>params</code> argument</a> for exactly this case.</p>\n\n<p>Note the removal of the quotes from your original query:</p>\n\n<pre><code>items_from_master = list(\n    ItemMaster.objects.raw(\n        \"\"\"\n        SELECT * FROM main_itemmaster WHERE \n        (content_type_id != 'TV Season') AND (MATCH(name) against(%s)) LIMIT 20\n        UNION \n        SELECT * FROM main_itemmaster WHERE name=%s\n        ORDER BY imdb_votes DESC LIMIT 30\n        \"\"\",\n        [q, q],\n    ),\n)\n</code></pre>\n\n<p>This can also take a dictionary, which is a bit cleaner in cases like yours where one value is used multiple times:</p>\n\n<pre><code>items_from_master = list(\n    ItemMaster.objects.raw(\n        \"\"\"\n        SELECT * FROM main_itemmaster WHERE \n        (content_type_id != 'TV Season') AND (MATCH(name) against(%(q)s)) LIMIT 20\n        UNION \n        SELECT * FROM main_itemmaster WHERE name=%(q)s\n        ORDER BY imdb_votes DESC LIMIT 30\n        \"\"\",\n        {\"q\": q},\n    ),\n)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 53200699, "answer_count": 1, "score": 1, "last_activity_date": 1541644062, "creation_date": 1541632239, "question_id": 53199290, "link": "https://stackoverflow.com/questions/53199290/sql-formatting-escaping-injection-with-raw", "title": "SQL formatting/escaping injection with raw(...)", "body": "<p>I am using a query in django. While I normally do this directly in the sql connector, sometimes I use the <code>raw(...)</code> method, for example as follows:</p>\n\n<pre><code>items_from_master = list(ItemMaster.objects.raw(\n    \"\"\"SELECT * FROM main_itemmaster WHERE \n       (content_type_id != 'TV Season') AND (MATCH(name) against('%s')) LIMIT 20\n       UNION \n       SELECT * FROM main_itemmaster WHERE name='%s'\n       ORDER BY imdb_votes DESC LIMIT 30\"\"\" % (q,q)))\n</code></pre>\n\n<p>Is there a way to escape the string here? For example, something like <code>cursor.execute(sql, params)</code>?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541632560, "post_id": 53199249, "comment_id": 93287244, "body": "The data doesn&#39;t match between your inputs and outputs for <code>Alex</code>. Which date(s) are you intending to use between the two dataframes?"}, {"owner": {"reputation": 11, "user_id": 10610422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bdzR5oSql8g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDEt-DVwh57WJzYGDVrFRGxICMXgw/mo/photo.jpg?sz=128", "display_name": "Raghav Thirumulu", "link": "https://stackoverflow.com/users/10610422/raghav-thirumulu"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541632749, "post_id": 53199249, "comment_id": 93287303, "body": "I am looking at the ad date, so I want to calculate all the payments made before that ad date. Alex has made two ads on two seperate dates. So I want to calculate all the payments made before the first ad for the first ad, and all the payments made after the first ad but before the second ad for the second ad."}, {"owner": {"reputation": 11, "user_id": 10610422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bdzR5oSql8g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDEt-DVwh57WJzYGDVrFRGxICMXgw/mo/photo.jpg?sz=128", "display_name": "Raghav Thirumulu", "link": "https://stackoverflow.com/users/10610422/raghav-thirumulu"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541632932, "post_id": 53199249, "comment_id": 93287357, "body": "I&#39;ve edited the frame to clarify"}, {"owner": {"reputation": 11, "user_id": 10610422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bdzR5oSql8g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDEt-DVwh57WJzYGDVrFRGxICMXgw/mo/photo.jpg?sz=128", "display_name": "Raghav Thirumulu", "link": "https://stackoverflow.com/users/10610422/raghav-thirumulu"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541632996, "post_id": 53199249, "comment_id": 93287378, "body": "I&#39;ve tried joining and aggregating the data, but it begins duplicating the payment values for each ad date"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 10616043, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Eg7IhITm7yM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBnCRL762BwQg_1swo6fxPxQ-EQkA/mo/photo.jpg?sz=128", "display_name": "Drew Nicolette", "link": "https://stackoverflow.com/users/10616043/drew-nicolette"}, "is_accepted": false, "score": 0, "last_activity_date": 1541701471, "creation_date": 1541701471, "answer_id": 53213963, "question_id": 53199249, "link": "https://stackoverflow.com/questions/53199249/comparing-times-from-two-separate-dataframes/53213963#53213963", "title": "Comparing times from two separate dataframes", "body": "<p>While this may not be the most robust solution it was what I came up with...</p>\n\n<pre><code>#Merge two lists\ndf_new = df.merge(df1,how='outer',on='Name')\n\n#logic to make sure the sum is between the current date and after the previous date\ncount = 0\ntemp_list = []\nwhile count != len(df_new): \n  names = df_new.Name[count]\n  find = df_new[['Name','Ad Number','Ad Date_x','Ad Date_y','Payments']] [(df_new['Name'] == names)]\n  find['new_col'] = np.where(find['Ad Date_y']&lt;=find['Ad Date_x'], 'yes', 'no')\n  x = find.sort_values('Ad Date_y')\n  x = x[x.new_col == 'yes']\n  x = x.drop_duplicates('Ad Date_y')\n  x = x.groupby(['Name','Ad Number','Ad Date_x'],as_index=False)['Payments'].sum()\n  intermediate_list = x.values.tolist()\n  temp_list.append(intermediate_list)\n  count += 1\n\n#Traversing through list of lists and appending to final list to make another df\nfinal_list = []\nfor i in temp_list:\n  for j in i:\n    final_list.append(j)\n\n#create final df and drop duplicates and drop the Ad_Date Columns\nfinal_df = pd.DataFrame(final_list, columns = ['Name','Ad_Number','Ad_Date','Payments'])\nfinal_df = final_df.drop_duplicates(['Name','Ad_Number','Ad_Date','Payments'])\nfinal_df = final_df.drop('Ad_Date',axis=1)\n\nprint(final_df)\n\n#RESULT\n\nName      Ad_Number  Payments\nMichael           1       100\nTony              1       200\nAlex              1       300\nAlex              2       800\nVanessa           1       500\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10610422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bdzR5oSql8g/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDEt-DVwh57WJzYGDVrFRGxICMXgw/mo/photo.jpg?sz=128", "display_name": "Raghav Thirumulu", "link": "https://stackoverflow.com/users/10610422/raghav-thirumulu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541701471, "creation_date": 1541631985, "last_edit_date": 1541632918, "question_id": 53199249, "link": "https://stackoverflow.com/questions/53199249/comparing-times-from-two-separate-dataframes", "title": "Comparing times from two separate dataframes", "body": "<p>I have two separate dataframes with time data. I want to sum the payments to each person for the ad date. Here is the example dataset: </p>\n\n<pre>\nName        Ad Date     Ad Number      \n---------------------------------\nMichael    4/08/2018        1    \nTony       4/08/2018        1\nAlex       4/08/2018        1\nAlex       6/08/2018        2\nVanessa    9/08/2018        1\n\nName        Date         Payments  \n--------------------------------------\nMichael    4/08/2018      100\nTony       4/08/2018      200\nAlex       4/06/2018      300\nAlex       6/06/2018      400\nAlex       6/07/2018      400\nVanessa    9/08/2018      500\n\n</pre>\n\n<p>Here is the desired output:</p>\n\n<pre>\n\nName        Ad Number     Payments    \n------------------------------------\nMichael        1           100\nTony           1           200 \nAlex           1           300\nAlex           2           800\nVanessa        1           500\n</pre>\n\n<p>So if you take a look at Alex, a total of 3 payments were made for 2 ads. I want to sum the payments by using the date range of the ads. </p>\n"}, {"tags": ["python", "python-asyncio"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8701983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e0b63f89c7eb4a4c63fb520ffa620?s=128&d=identicon&r=PG&f=1", "display_name": "idrees", "link": "https://stackoverflow.com/users/8701983/idrees"}, "edited": false, "score": 0, "creation_date": 1541641031, "post_id": 53199447, "comment_id": 93289311, "body": "Yes, I understand that the matter is in it, but I don&#39;t understand how to fix it. :("}, {"owner": {"reputation": 776, "user_id": 3978993, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jamie Lindsey", "link": "https://stackoverflow.com/users/3978993/jamie-lindsey"}, "reply_to_user": {"reputation": 165, "user_id": 8701983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e0b63f89c7eb4a4c63fb520ffa620?s=128&d=identicon&r=PG&f=1", "display_name": "idrees", "link": "https://stackoverflow.com/users/8701983/idrees"}, "edited": false, "score": 0, "creation_date": 1541643056, "post_id": 53199447, "comment_id": 93289770, "body": "You need to call <code>loop.stop()</code>. I woul duse a condition such as an <code>if</code> clause or using a <code>while</code> loop. You can find it in the [python docs] (<a href=\"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.stop\" rel=\"nofollow noreferrer\">docs.python.org/3/library/&hellip;</a>)"}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 165, "user_id": 8701983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e0b63f89c7eb4a4c63fb520ffa620?s=128&d=identicon&r=PG&f=1", "display_name": "idrees", "link": "https://stackoverflow.com/users/8701983/idrees"}, "edited": false, "score": 1, "creation_date": 1541656642, "post_id": 53199447, "comment_id": 93292750, "body": "@idrees The standard idiom is <code>run_until_complete(asyncio.gather(coroutine1(), coroutine2(), ...))</code>, which will complete once <i>all</i> the coroutines complete, so you no longer have a need for <code>run_forever</code>. Brad&#39;s answer shows a variant when the number of coroutines is not known in advance."}], "tags": [], "owner": {"reputation": 776, "user_id": 3978993, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jamie Lindsey", "link": "https://stackoverflow.com/users/3978993/jamie-lindsey"}, "is_accepted": true, "score": 2, "last_activity_date": 1541763727, "last_edit_date": 1541763727, "creation_date": 1541633283, "answer_id": 53199447, "question_id": 53199248, "link": "https://stackoverflow.com/questions/53199248/get-json-using-python-and-asyncio/53199447#53199447", "title": "Get JSON using Python and AsyncIO", "body": "<p>The answer lies in your code. Here's the clue <code>loop.run_forever()</code>. So you will need to call <code>loop.stop()</code>. I would use a condition such as an <code>if</code> clause or using a <code>while</code> loop. </p>\n\n<pre><code>if we_have_what_we_need:\n    signal_handler(signal, frame)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while we_dont_have_what_we_need:\n    loop.forever()\n</code></pre>\n\n<p>The first will stop your code when the condition is met. The latter will keep going until the condition is met.</p>\n\n<p>[UPDATE]</p>\n\n<p>We can also use;</p>\n\n<h2>(Python Docs)</h2>\n\n<pre><code>loop.run_until_complete(future)\n</code></pre>\n\n<blockquote>\n  <p>Run until the future (an instance of Future) has completed.</p>\n  \n  <p>If the argument is a coroutine object it is implicitly scheduled to\n  run as a asyncio.Task.</p>\n  \n  <p>Return the Future\u2019s result or raise its exception.</p>\n</blockquote>\n\n<pre><code>loop.run_forever()\n</code></pre>\n\n<blockquote>\n  <p>Run the event loop until stop() is called.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 1710836, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df8a6dd88567e78e65e6475925c1ffe6?s=128&d=identicon&r=PG", "display_name": "umayneverknow", "link": "https://stackoverflow.com/users/1710836/umayneverknow"}, "edited": false, "score": 0, "creation_date": 1581308611, "post_id": 53200866, "comment_id": 106374870, "body": "In this case, how would you skip or ignore a result if any of the clients don&#39;t respond? For example, a timeout or a 404 error?"}], "tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": false, "score": 3, "last_activity_date": 1557491316, "last_edit_date": 1557491316, "creation_date": 1541645409, "answer_id": 53200866, "question_id": 53199248, "link": "https://stackoverflow.com/questions/53199248/get-json-using-python-and-asyncio/53200866#53200866", "title": "Get JSON using Python and AsyncIO", "body": "<p>Here are a few suggested changes, with context in the comments.</p>\n\n<p>Unless you really have a unique use-case, or are just experimenting for learning's sake, there probably shouldn't be a reason to use <code>signal</code> -- <code>asyncio</code> has top-level functions that let you decide when to close and terminate the event loop.</p>\n\n<pre><code>import asyncio\nimport logging\nimport sys\n\nimport aiohttp\n\nlogging.basicConfig(stream=sys.stdout, level=logging.DEBUG,\n                    format='%(asctime)s:%(message)s')\n\nURL = 'https://www.reddit.com/r/{subreddit}/top.json?sort=top&amp;t=day&amp;limit=50'\n\n\nasync def get_json(client: aiohttp.ClientSession, url: str) -&gt; dict:\n    # If you're going to be making repeated requests, use this\n    # over .get(), which is just a wrapper around `.request()` and\n    # involves an unneeded lookup\n    async with client.request('GET', url) as response:\n\n        # Raise if the response code is &gt;= 400.\n        # Some 200 codes may still be \"ok\".\n        # You can also pass raise_for_status within\n        # client.request().\n        response.raise_for_status()\n\n        # Let your code be fully async.  The call to json.loads()\n        # is blocking and won't take full advantage.\n        #\n        # And it does largely the same thing you're doing now:\n        # https://github.com/aio-libs/aiohttp/blob/76268e31630bb8615999ec40984706745f7f82d1/aiohttp/client_reqrep.py#L985\n        j = await response.json()\n        logging.info('DONE: got %s, size %s', url, j.__sizeof__())\n        return j\n\n\nasync def get_reddit_cont(keys, **kwargs) -&gt; list:\n    async with aiohttp.ClientSession(**kwargs) as session:\n        # Use a single session as a context manager.\n        # this enables connection pooling, which matters a lot when\n        # you're only talking to one site\n        tasks = []\n        for key in keys:\n            # create_task: Python 3.7+\n            task = asyncio.create_task(\n                get_json(session, URL.format(subreddit=key)))\n            tasks.append(task)\n        # The result of this will be a list of dictionaries\n        # It will only return when all of your subreddits\n        # have given you a response &amp; been decoded\n        #\n        # To process greedily, use asyncio.as_completed()\n        return await asyncio.gather(*tasks, return_exceptions=True)\n\n\nif __name__ == '__main__':\n    default = ('python', 'programming', 'compsci')\n    keys = sys.argv[1:] if len(sys.argv) &gt; 1 else default\n    sys.exit(asyncio.run(get_reddit_cont(keys=keys)))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ python3 asyncreddit.py \n2018-11-07 21:44:49,495:Using selector: KqueueSelector\n2018-11-07 21:44:49,653:DONE: got https://www.reddit.com/r/compsci/top.json?sort=top&amp;t=day&amp;limit=50, size 216\n2018-11-07 21:44:49,713:DONE: got https://www.reddit.com/r/python/top.json?sort=top&amp;t=day&amp;limit=50, size 216\n2018-11-07 21:44:49,947:DONE: got https://www.reddit.com/r/programming/top.json?sort=top&amp;t=day&amp;limit=50, size 216\n</code></pre>\n\n<hr>\n\n<p>Edit: from your question:</p>\n\n<blockquote>\n  <p>But when the code is completed, I get the message: <code>Unclosed client session</code></p>\n</blockquote>\n\n<p>This is because you need to <code>.close()</code> the <code>client</code> object, just as you would a file object.  You can do that two ways:</p>\n\n<ul>\n<li>Call it explicitly: <code>client.close()</code>.  It is safer to wrap this in a <code>try</code>/<code>finally</code> block to make sure that it's closed no matter what</li>\n<li>Or (easier way), use the client as an async context manager, as in this answer.  This means that, after the <code>async with</code> block is over, the session is automatically closed via its <code>.__aexit__()</code> method.</li>\n</ul>\n\n<p>The <a href=\"https://aiohttp.readthedocs.io/en/stable/client_advanced.html#connectors\" rel=\"nofollow noreferrer\"><code>connector</code></a> is the underlying <code>TCPConnector</code>, which is an attribute of the session.  It handles the connection pooling, and it's what ultimately is left open in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 8701983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e0b63f89c7eb4a4c63fb520ffa620?s=128&d=identicon&r=PG&f=1", "display_name": "idrees", "link": "https://stackoverflow.com/users/8701983/idrees"}, "is_accepted": false, "score": 0, "last_activity_date": 1549213384, "last_edit_date": 1549213384, "creation_date": 1541733319, "answer_id": 53219345, "question_id": 53199248, "link": "https://stackoverflow.com/questions/53199248/get-json-using-python-and-asyncio/53219345#53219345", "title": "Get JSON using Python and AsyncIO", "body": "<p>I solved the problem in this way:</p>\n\n<pre><code>import asyncio\nimport aiohttp\nimport json\n\nasync def get_json(client, url):\n    async with client.get(url) as response:\n        assert response.status == 200\n        return await response.read()\n\nasync def get_reddit_cont(subreddit):\n    async with aiohttp.ClientSession(loop=loop) as client:\n        data1 = await get_json(client, 'https://www.reddit.com/r/' + subreddit + '/top.json?sort=top&amp;t=day&amp;limit=50')\n\n        jn = json.loads(data1.decode('utf-8'))\n\n        print('DONE:', subreddit)\n\nif __name__ == '__main__':\n    loop = asyncio.get_event_loop()\n    futures = [get_reddit_cont(subreddit) for subreddit in {'python':1, 'programming':2, 'compsci':3}]\n    result = loop.run_until_complete(asyncio.gather(*futures))\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8701983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e0b63f89c7eb4a4c63fb520ffa620?s=128&d=identicon&r=PG&f=1", "display_name": "idrees", "link": "https://stackoverflow.com/users/8701983/idrees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7674, "favorite_count": 1, "accepted_answer_id": 53199447, "answer_count": 3, "score": 4, "last_activity_date": 1557491316, "creation_date": 1541631980, "last_edit_date": 1541741111, "question_id": 53199248, "link": "https://stackoverflow.com/questions/53199248/get-json-using-python-and-asyncio", "title": "Get JSON using Python and AsyncIO", "body": "<p>Not so long ago, I began to learn asyncio. And I ran into a problem. My code is not terminating. I can't figure it out. Help me please! </p>\n\n<pre><code>import signal\nimport sys\nimport asyncio\nimport aiohttp\nimport json\n\nloop = asyncio.get_event_loop()\nclient = aiohttp.ClientSession(loop=loop)\n\nasync def get_json(client, url):\n    async with client.get(url) as response:\n        assert response.status == 200\n        return await response.read()\n\nasync def get_reddit_cont(subreddit, client):\n    data1 = await get_json(client, 'https://www.reddit.com/r/' + subreddit + '/top.json?sort=top&amp;t=day&amp;limit=50')\n\n    jn = json.loads(data1.decode('utf-8'))\n\n    print('DONE:', subreddit)\n\ndef signal_handler(signal, frame):\n    loop.stop()\n    client.close()\n    sys.exit(0)\n\nsignal.signal(signal.SIGINT, signal_handler)\n\nfor key in {'python':1, 'programming':2, 'compsci':3}:\n    asyncio.ensure_future(get_reddit_cont(key, client))\nloop.run_forever()\n</code></pre>\n\n<p>Result:  </p>\n\n<pre><code>DONE: compsci  \nDONE: programming  \nDONE: python  \n...\n</code></pre>\n\n<hr>\n\n<p>I tried to accomplish something, but the result was not stable.  </p>\n\n<pre><code>future = []\nfor key in {'python':1, 'programming':2, 'compsci':3}:\n    future=asyncio.ensure_future(get_reddit_cont(key, client))\nloop.run_until_complete(future)\n</code></pre>\n\n<p>Result (1 tasks instead of 3):  </p>\n\n<pre><code>DONE: compsci  \n[Finished in 1.5s]  \n</code></pre>\n\n<hr>\n\n<p>I solved my question in this way:  </p>\n\n<p>Added by:</p>\n\n<pre><code>async with aiohttp.ClientSession () as a client:\n</code></pre>\n\n<p>AT:</p>\n\n<pre><code>async def get_reddit_cont (subreddit, client):  \n</code></pre>\n\n<p>And:</p>\n\n<pre><code>if __name__ == '__main__':\n    loop = asyncio.get_event_loop()\n    futures = [get_reddit_cont(subreddit,client) for subreddit in range(1,6)]\n    result = loop.run_until_complete(asyncio.gather(*futures))\n</code></pre>\n\n<p>But when the code is completed, I get the message:  </p>\n\n<pre><code>Unclosed client session\nclient_session: &lt;aiohttp.client.ClientSession object at 0x034021F0&gt;\n[Finished in 1.0s]\n</code></pre>\n\n<p>I don't understand why this is happening.  </p>\n\n<p>But when I try to execute \"for key\" about 60 or more times, I get an error:  </p>\n\n<blockquote>\n  <p>...<br>\n  aiohttp.client_exceptions.ClientOSError: [WinError 10054] Remote host forcibly terminated an existing connection</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "sockets", "python-sockets"], "comments": [{"owner": {"reputation": 1167, "user_id": 1568059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dafb4b165e44efe5781b0668f318118a?s=128&d=identicon&r=PG", "display_name": "ad_on_is", "link": "https://stackoverflow.com/users/1568059/ad-on-is"}, "edited": false, "score": 0, "creation_date": 1546270656, "post_id": 53199191, "comment_id": 94815633, "body": "I&#39;m having a similar problem. Did you find a solution?"}], "owner": {"reputation": 101, "user_id": 7787682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89dd679a20b1231dd34343574685ef32?s=128&d=identicon&r=PG&f=1", "display_name": "Jackpy", "link": "https://stackoverflow.com/users/7787682/jackpy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541633768, "creation_date": 1541631541, "last_edit_date": 1541633768, "question_id": 53199191, "link": "https://stackoverflow.com/questions/53199191/how-to-transfer-real-time-data-using-python-sockets-udp", "title": "How to transfer real time data using python sockets (udp)", "body": "<p>I'm trying to make an online game using both pygame and sockets. I'm new to sockets so I'm having some trouble.</p>\n\n<p>For now, each player is just a square that moves around the screen by command. So each player should be able to see the other player's exact position in real time.</p>\n\n<p>What I've come up with so far is this:</p>\n\n<pre><code>#server.py\nclass Play:\n    sk = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n    sk.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    #sk.setsockopt(socket.SOL_SOCKET, socket.SO_RCVBUF, 1)\n\n    def __init__(self):\n        #players positions\n        self.x, self.y = 200, 400\n        self.j, self.k = 400, 200\n        #wait for client\n        self.sk.bind(('', 12345))\n        data, self.adr = self.sk.recvfrom(1024)\n        #self.sk.setblocking(0)\n        self.sk.settimeout(0.05)\n        re_th = threading.Thread(target=self.receive)\n        re_th.daemon = True\n        re_th.start()\n        self.run()\n</code></pre>\n\n<p>run function:</p>\n\n<pre><code>def run(self):\n    win = pygame.display.set_mode((width, height))\n    clock = pygame.time.Clock()\n    while True:\n        keys = pygame.key.get_pressed()\n\n        if keys[pygame.K_LEFT] and self.x &gt; 0:\n            self.x -= vel\n        if keys[pygame.K_RIGHT] and self.x &lt; width - cw:\n            self.x += vel\n        if keys[pygame.K_UP] and self.y &gt; 0:\n            self.y -= vel\n        if keys[pygame.K_DOWN] and self.y &lt; height - ch:\n            self.y += vel\n\n        self.send()\n        #draws on screen both player's squares\n        clock.tick(60)\n</code></pre>\n\n<p>Send and receive functions:</p>\n\n<pre><code>def send(self):\n    co = json.dumps((self.x, self.y))\n    self.sk.sendto(co.encode('utf-8'), self.adr)\n\ndef receive(self):\n    while True:\n        try:\n            data, xadr = self.sk.recvfrom(1024)\n            self.j, self.k = (json.loads(data.decode('utf-8')))\n        except OSError:\n                pass\n</code></pre>\n\n<p>The client file is very similar.</p>\n\n<p>The run function takes user input to move the square, sends the coordinates to the other player and then draws on screen both players. All at the same time as a thread is receiving the other player's x and y coordinates.</p>\n\n<p>This works well locally, I do notice some delay that I think there shouldn't be since its local, while over the internet its slower.</p>\n\n<p>What am I doing wrong? What could I do better?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "python"], "comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1541632022, "post_id": 53199177, "comment_id": 93287049, "body": "<a href=\"https://www.developerfusion.com/tools/convert/csharp-to-python/\" rel=\"nofollow noreferrer\">Convert C# to Python</a>. However the UI technology and many other things might be different in Python. So converting just the syntax will solve the problem only partly."}], "answers": [{"tags": [], "owner": {"reputation": 2293, "user_id": 294836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39669186deaaafaa691ac0605fb0b8ce?s=128&d=identicon&r=PG", "display_name": "WombatPM", "link": "https://stackoverflow.com/users/294836/wombatpm"}, "is_accepted": false, "score": 0, "last_activity_date": 1541633776, "creation_date": 1541633776, "answer_id": 53199531, "question_id": 53199177, "link": "https://stackoverflow.com/questions/53199177/translating-a-c-windows-form-app-to-python/53199531#53199531", "title": "Translating a C# Windows Form App to Python", "body": "<p>You could try and save your UI code by using ironpython, assuming you are using WPF. The downside is that it is only python 2.7 compatible</p>\n"}, {"comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1541862826, "post_id": 53199749, "comment_id": 93366357, "body": "Yes. @TheNetPlex: If you are in the lucky position to have a good separation between business logic and UI, then you might at least be able convert your code partly."}, {"owner": {"reputation": 23, "user_id": 10620995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f38d19432ecc163cf0b9ab6566281fa?s=128&d=identicon&r=PG&f=1", "display_name": "TheNetPlex", "link": "https://stackoverflow.com/users/10620995/thenetplex"}, "edited": false, "score": 0, "creation_date": 1542304430, "post_id": 53199749, "comment_id": 93531029, "body": "This helps, a lot, thanks! I\u2019ll probably end up finding someone who knows Python and supplying the C# info to work together to recreate it in Python, as I don\u2019t really have time to learn Python right now.  Any idea what the closest thing to a Windows Form App is in Python?"}], "tags": [], "owner": {"reputation": 46, "user_id": 10621114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47f95e0253dde9a756eaae8028de6b5?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Vila", "link": "https://stackoverflow.com/users/10621114/miguel-vila"}, "is_accepted": true, "score": 2, "last_activity_date": 1541635624, "creation_date": 1541635624, "answer_id": 53199749, "question_id": 53199177, "link": "https://stackoverflow.com/questions/53199177/translating-a-c-windows-form-app-to-python/53199749#53199749", "title": "Translating a C# Windows Form App to Python", "body": "<p>TheNetPlex!</p>\n\n<p>I don\u00b4t know if that's possible because C# and Python are completely different programming languages.\nAlso, because you wrote a Windows Forms Applications, it means that you didn't use WPF so it is even harder to migrate the user interface.\nI would try to make the application from the scratch in python. By doing that you would avoid some kind of compatibilities or weird issues.</p>\n\n<p>Hope I've been useful! Good Luck!</p>\n"}], "owner": {"reputation": 23, "user_id": 10620995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f38d19432ecc163cf0b9ab6566281fa?s=128&d=identicon&r=PG&f=1", "display_name": "TheNetPlex", "link": "https://stackoverflow.com/users/10620995/thenetplex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 53199749, "answer_count": 2, "score": -1, "last_activity_date": 1541635624, "creation_date": 1541631479, "question_id": 53199177, "link": "https://stackoverflow.com/questions/53199177/translating-a-c-windows-form-app-to-python", "title": "Translating a C# Windows Form App to Python", "body": "<p>I wrote a Windows Form Application in C# for an Account Creation/Sign Up &amp; Sign In/ Main Menu program that I am creating for a project I\u2019m working on to build a custom gaming console for personal use. However, after spending 3 weeks working on the project in C#, I realized that the code must be done in Python. I would happily translate the code to Python, the problem is, I don\u2019t know the first thing about the coding language. Any ideas for how I could easily translate the program to C#? I\u2019ll post the code if necessary.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1541631506, "post_id": 53199167, "comment_id": 93286873, "body": "<code>secret_number = &#39;7&#39;</code> will make it work. See the difference? Check the documentation of <code>input</code> for why this is so."}, {"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1541631629, "post_id": 53199167, "comment_id": 93286916, "body": "<code>input</code> returns a string. So the string <code>&#39;7&#39;</code> and the number <code>7</code> are not equivalent."}], "answers": [{"tags": [], "owner": {"reputation": 225, "user_id": 10601013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dIrdAEM6hXk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCPK2fL8txlFmvBew9fJUFf7i9Bdg/mo/photo.jpg?sz=128", "display_name": "Alex Sherzhukov", "link": "https://stackoverflow.com/users/10601013/alex-sherzhukov"}, "is_accepted": true, "score": 1, "last_activity_date": 1541631774, "creation_date": 1541631774, "answer_id": 53199226, "question_id": 53199167, "link": "https://stackoverflow.com/questions/53199167/i-am-trying-to-make-a-little-game-in-python-but-somethings-not-working/53199226#53199226", "title": "I am trying to make a little game in python but somethings not working", "body": "<p>Your input comes in <code>string</code> value by default. You have to convert it to <code>int</code> in order to work. </p>\n\n<p><code>guess =</code><strong><code>int</code></strong><code>(input(\"What number am i thinking of?\"))</code></p>\n"}], "owner": {"reputation": 3, "user_id": 10454227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jb9lM66Ne-c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXG0jrGeUrBNvO3ytlDKk5TafH6ew/mo/photo.jpg?sz=128", "display_name": "C. Hengst", "link": "https://stackoverflow.com/users/10454227/c-hengst"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1541632433, "accepted_answer_id": 53199226, "answer_count": 1, "score": -3, "last_activity_date": 1541631774, "creation_date": 1541631422, "question_id": 53199167, "link": "https://stackoverflow.com/questions/53199167/i-am-trying-to-make-a-little-game-in-python-but-somethings-not-working", "closed_reason": "Duplicate", "title": "I am trying to make a little game in python but somethings not working", "body": "<p>This is the code:</p>\n\n<pre><code>secret_number = 7\n\nguess = input(\"What number am i thinking of?\")\n\nif secret_number == guess:\n    print(\"Yay you got it\")\nelse:\n    print(\"No that's not it\")\n</code></pre>\n\n<p>When I run the code I always get \"No that's not it\" even if I guessed the right number.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1541631418, "post_id": 53199132, "comment_id": 93286850, "body": "What do you think <code>&quot;Python&quot; or &quot;python&quot;</code> is? Unsure? Then Try it..."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10608727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79caa4a582dcd16288a319eedf05017?s=128&d=identicon&r=PG&f=1", "display_name": "jackrussel83", "link": "https://stackoverflow.com/users/10608727/jackrussel83"}, "edited": false, "score": 0, "creation_date": 1541632200, "post_id": 53199170, "comment_id": 93287118, "body": "Ahh thats what I was missing then. Thanks I appreciate the help!"}], "tags": [], "owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "is_accepted": true, "score": 2, "last_activity_date": 1541631437, "creation_date": 1541631437, "answer_id": 53199170, "question_id": 53199132, "link": "https://stackoverflow.com/questions/53199132/trying-to-count-the-number-of-words-from-user-input/53199170#53199170", "title": "Trying to count the number of words from user input", "body": "<p>Convert entire input sentence to lower case first,</p>\n\n<pre><code>sentence = input(str(\"Please enter a sentence with your thoughts on Python:\"))\nhowManyPython = sentence.lower().count (\"python\")\nlistOfWords = len(sentence.split())\nprint(\"You said Python \" + str(howManyPython) + \" times!\")\nprint(\"There was \" + str(listOfWords), \"words in your sentence\")\n\n# output\nPlease enter a sentence with your thoughts on Python:python 123 Python Python\nYou said Python 3 times!\nThere was 4 words in your sentence\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 10608727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79caa4a582dcd16288a319eedf05017?s=128&d=identicon&r=PG&f=1", "display_name": "jackrussel83", "link": "https://stackoverflow.com/users/10608727/jackrussel83"}, "edited": false, "score": 0, "creation_date": 1541632224, "post_id": 53199181, "comment_id": 93287136, "body": "Thanks for helping me out!"}], "tags": [], "owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1541631501, "creation_date": 1541631501, "answer_id": 53199181, "question_id": 53199132, "link": "https://stackoverflow.com/questions/53199132/trying-to-count-the-number-of-words-from-user-input/53199181#53199181", "title": "Trying to count the number of words from user input", "body": "<p>You can convert to whole input string to lowercase, to count the word 'Python':</p>\n\n<pre><code>sentence = 'Python python python3000 py'\nlistOfWords = len(sentence.split())\nhowManyPython = sentence.lower().count(\"python\")  # convert to lowercase\nprint(\"You said Python \" + str(howManyPython) + \" times!\")\nprint(\"There was \" + str(listOfWords) + \" words in your sentence\")\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>You said Python 3 times!\nThere was 4 words in your sentence\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10608727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79caa4a582dcd16288a319eedf05017?s=128&d=identicon&r=PG&f=1", "display_name": "jackrussel83", "link": "https://stackoverflow.com/users/10608727/jackrussel83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 53199170, "answer_count": 2, "score": 0, "last_activity_date": 1541631501, "creation_date": 1541631207, "question_id": 53199132, "link": "https://stackoverflow.com/questions/53199132/trying-to-count-the-number-of-words-from-user-input", "title": "Trying to count the number of words from user input", "body": "<p>I'm currently trying to count the amount of words in a sentence entered by the user and count the amount of times the word 'Python' is used in the sentence and print both the results at the end.\nI'm trying to force the sentence into lowercase but I'm currently unsure how to integrate it into the code. As of now it counts the amount of times 'Python' was entered but not 'python' and I need both to be registered at once.</p>\n\n<pre><code>sentence = input(str(\"Please enter a sentence with your thoughts on Python:\"))\nlistOfWords = len(sentence.split())\nhowManyPython = sentence.count (str(\"Python\" or \"python\"))\nprint(\"You said Python \" + str(howManyPython) + \" times!\")\nprint(\"There was \" + str(listOfWords), \"words in your sentence\")\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541631250, "post_id": 53199115, "comment_id": 93286786, "body": "check the type of dataframe"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "reply_to_user": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541631425, "post_id": 53199115, "comment_id": 93286855, "body": "It is pandas.core.frame.DataFrame. Plus I am trying this on the series inside."}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 1, "creation_date": 1541631426, "post_id": 53199115, "comment_id": 93286856, "body": "Works for me: <code>s = pd.Series([&#39;RPT_EDUCATE--&#39;]); s = s.str.strip(&#39;--&#39;)</code> gives me a stripped series"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 1, "creation_date": 1541631609, "post_id": 53199115, "comment_id": 93286911, "body": "Just realized after looking closely that there was a space in the end too after -- in data. Now I added strip(&quot;-- &quot;). Works. Thnx"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 1, "creation_date": 1541631802, "post_id": 53199115, "comment_id": 93286970, "body": "Note that <code>strip</code> takes the <i>characters</i>, not the sequences you want to strip as an argument. So <code>s = s.str.strip(&#39;-&#39;)</code> will do what you want as well (remove all <code>-</code>, even if they are consecutive, from the end)"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541631112, "creation_date": 1541631112, "question_id": 53199115, "link": "https://stackoverflow.com/questions/53199115/stripping-non-whitespace-character-from-pandas-series", "title": "Stripping non whitespace character from pandas series", "body": "<p>I hv a pandas dataframe and in that one column has string values. The data type of the column says object as it is a series. </p>\n\n<p>But one of the values is</p>\n\n<pre><code>RPT_EDUCATE--\n</code></pre>\n\n<p>Now I am trying to remove the end \"--\". So I do</p>\n\n<pre><code>series.str.strip(\"--\"). \n</code></pre>\n\n<p>But it doesn't remove the trailing hyphens from it. The same works if I try it on a string</p>\n\n<pre><code>s=\"\"\"RPT_EDUCATE--\"\"\"\n\ns.strip(\"--\")\n\n'RPT_EDUCATE'\n</code></pre>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1541632425, "post_id": 53199088, "comment_id": 93287197, "body": "Interesting.  The underlying function is <code>scipy.special.bdtr</code>.  For <code>n=2**31-1</code>, <code>bdtr(n-1, n, 0.5)</code> returns 0.9999999999999999.  For <code>n=2**31</code>, it returns <code>nan</code>."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1541632807, "post_id": 53199088, "comment_id": 93287321, "body": "I suspect this is a bug in scipy."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1541635585, "post_id": 53199088, "comment_id": 93287988, "body": "I created an issue on github: <a href=\"https://github.com/scipy/scipy/issues/9454\" rel=\"nofollow noreferrer\">github.com/scipy/scipy/issues/9454</a>.  It might turn out to be a duplicate; there are several related issues for <code>scipy.stats.binom</code>, <code>scipy.special.bdtr</code> and <code>scipy.special.betainc</code>."}], "answers": [{"comments": [{"owner": {"reputation": 622, "user_id": 1224002, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f4dcddce38402fb5ef2c2cf390ee82a4?s=128&d=identicon&r=PG", "display_name": "Ted Pudlik", "link": "https://stackoverflow.com/users/1224002/ted-pudlik"}, "edited": false, "score": 1, "creation_date": 1543203010, "post_id": 53199711, "comment_id": 93819209, "body": "I think the answer is even simpler: the number of trials is cast to a 32-bit integer by <code>bdtr</code>.  But 10**10 overflows a 32-bit integer, and <code>incbet</code> return NaN for negative <code>a</code> or <code>b</code>.  Although <code>incbet</code> does have precision issues (<a href=\"https://github.com/scipy/scipy/issues/5503\" rel=\"nofollow noreferrer\">github.com/scipy/scipy/issues/5503</a>), they don&#39;t come into play here."}], "tags": [], "owner": {"reputation": 46, "user_id": 7805877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa1410134c9a9476f8a1a34350c3441?s=128&d=identicon&r=PG&f=1", "display_name": "zuko3d", "link": "https://stackoverflow.com/users/7805877/zuko3d"}, "is_accepted": true, "score": 3, "last_activity_date": 1541635339, "creation_date": 1541635339, "answer_id": 53199711, "question_id": 53199088, "link": "https://stackoverflow.com/questions/53199088/scipy-stats-binom-cdf-returns-nan/53199711#53199711", "title": "scipy stats binom cdf returns nan", "body": "<h2>TL; DR</h2>\n\n<p>Lack of floating point precision during internal calculations. Though scipy is a Python library, it's core is written on C and uses C numeric types.</p>\n\n<hr>\n\n<p>Let me show you an example:</p>\n\n<pre><code>import scipy.stats\n\nfor i in range (13):\n    trials = 10 ** i\n    print(f\"i: {i}\\tprobability: {scipy.stats.binom(trials, 0.5).cdf(trials - 1)}\")\n</code></pre>\n\n<p>And output is:</p>\n\n<pre><code>i: 0    probability: 0.5\ni: 1    probability: 0.9990234375\ni: 2    probability: 0.9999999999999999\ni: 3    probability: 0.9999999999999999\ni: 4    probability: 0.9999999999999999\ni: 5    probability: 0.9999999999999999\ni: 6    probability: 0.9999999999999999\ni: 7    probability: 0.9999999999999999\ni: 8    probability: 0.9999999999999999\ni: 9    probability: 0.9999999999999999\ni: 10   probability: nan\ni: 11   probability: nan\ni: 12   probability: nan\n</code></pre>\n\n<p>The reason lies in the CDF formula for binomial distribution (I can't embed images so here is link to wiki: <a href=\"https://en.wikipedia.org/wiki/Binomial_distribution\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Binomial_distribution</a></p>\n\n<p>Inside the scipy sources we would see a refence to this implementation: <a href=\"http://www.netlib.org/cephes/doubldoc.html#bdtr\" rel=\"nofollow noreferrer\">http://www.netlib.org/cephes/doubldoc.html#bdtr</a> </p>\n\n<p>Deeply inside it involves division by <code>trials</code> (<code>incbet.c, line 375: ai = 1.0 / a;</code> here it's called <code>a</code>, but nwm). And if your <code>trials</code> is too large, the result of this division is so small that when we add this little number to another, not so little number, it doesn't actually change because we lack floating point precision here (only 64 bits so far). Then, after some more arithmetics, we try get logarithm from a number, but it's equal to zero as it hasn't changes when it should. And <code>log(0)</code> is not defined, which equals to <code>np.nan</code>.</p>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 53199711, "answer_count": 1, "score": 3, "last_activity_date": 1541635339, "creation_date": 1541630907, "question_id": 53199088, "link": "https://stackoverflow.com/questions/53199088/scipy-stats-binom-cdf-returns-nan", "title": "scipy stats binom cdf returns nan", "body": "<p>If I understand correctly, the <code>cdf</code> for a <code>scipy.stats</code> discrete distribution should return the sum of the probabilities of the values up to the parameter given.</p>\n\n<p>Thus, <code>scipy.stats.binom(7000000000, 0.5).cdf(6999999999)</code> should return something almost exactly 1, because in 7 billion trials, with a 50/50 chance, the probability of getting a success on 7 billion minus 1 of them or less is pretty much certain.  Instead, I get <code>np.nan</code>.  In fact, for any value provided to <code>.cdf</code> EXCEPT 7 billion itself (or more), I get back <code>np.nan</code>.</p>\n\n<p>What is going on here?  Is there some limit to the numbers that <code>scipy.stats</code> distributions can handle that is not in the docs?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1541631090, "post_id": 53199093, "comment_id": 93286736, "body": "Sir Maybe you can add <code>drop_duplicate</code> :-)"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1541631353, "post_id": 53199093, "comment_id": 93286822, "body": "Thank you @W-B  (-:"}, {"owner": {"reputation": 165, "user_id": 3116949, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a9e47e0d480ebfd926b791804db5ff07?s=128&d=identicon&r=PG&f=1", "display_name": "user3116949", "link": "https://stackoverflow.com/users/3116949/user3116949"}, "edited": false, "score": 0, "creation_date": 1541631665, "post_id": 53199093, "comment_id": 93286924, "body": "Thanks a lot for the help your solution worked! Greatly appreciate it!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 165, "user_id": 3116949, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a9e47e0d480ebfd926b791804db5ff07?s=128&d=identicon&r=PG&f=1", "display_name": "user3116949", "link": "https://stackoverflow.com/users/3116949/user3116949"}, "edited": false, "score": 2, "creation_date": 1541632616, "post_id": 53199093, "comment_id": 93287260, "body": "@user3116949 :-) you can always accept the answer when it address your problem"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 8, "last_activity_date": 1541631144, "last_edit_date": 1541631144, "creation_date": 1541630954, "answer_id": 53199093, "question_id": 53199076, "link": "https://stackoverflow.com/questions/53199076/grab-rows-with-max-date-from-pandas-dataframe/53199093#53199093", "title": "Grab rows with max date from pandas dataframe", "body": "<h3><code>idxmax</code></h3>\n\n<p>Should work so long as <code>index</code> is unique or the maximal index isn't repeated.</p>\n\n<pre><code>df.loc[df.groupby('ID').date.idxmax()]\n</code></pre>\n\n<hr>\n\n<h3>OP (edited)</h3>\n\n<p>Should work as long as maximal values are unique.  Otherwise, you'll get all rows equal to the maximum.</p>\n\n<pre><code>df[df.groupby('ID')['date'].transform('max') == df['date']]\n</code></pre>\n\n<hr>\n\n<h3>W-B go to solution</h3>\n\n<p>And also very good solution.</p>\n\n<pre><code>df.sort_values(['ID', 'date']).drop_duplicates('date', keep='last')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5621683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e2f1b81e6fc2f4c091c8d969aa5ab04?s=128&d=identicon&r=PG&f=1", "display_name": "vegabondx", "link": "https://stackoverflow.com/users/5621683/vegabondx"}, "is_accepted": false, "score": 0, "last_activity_date": 1619186848, "creation_date": 1619186848, "answer_id": 67231450, "question_id": 53199076, "link": "https://stackoverflow.com/questions/53199076/grab-rows-with-max-date-from-pandas-dataframe/67231450#67231450", "title": "Grab rows with max date from pandas dataframe", "body": "<p>My answer is a generalization of the @piRSquared</p>\n<ul>\n<li><p><code>manykey</code> indicates the keys from which the mapping is desired ( many-to)</p>\n</li>\n<li><p><code>onekey</code> indicates the keys to which the mapping is desired (-to-one)</p>\n</li>\n<li><p><code>sortkey</code> is sortable key and it follows <code>asc</code> set to True ( as python standard )</p>\n<pre><code>  def get_last(df:pd.DataFrame,manykey:list[str],onekey:list[str],sortkey,asc=True):\n       return df.sort_values(sortkey,asc).drop_duplicates(subset=manykey, keep='last')[manykey+onekey]\n</code></pre>\n</li>\n</ul>\n<p>In your case the answer should be</p>\n<pre><code>       get_last(df,[&quot;id&quot;],[&quot;item&quot;],&quot;date&quot;)\n</code></pre>\n<p>Note that I am using the <code>onekey</code> explicitely because i want to drop the rest of the keys (if they are in the table)  and create a mapping.</p>\n<p>PS Please let me know if this should be a comment instead of an answer. New to SO</p>\n"}], "owner": {"reputation": 165, "user_id": 3116949, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a9e47e0d480ebfd926b791804db5ff07?s=128&d=identicon&r=PG&f=1", "display_name": "user3116949", "link": "https://stackoverflow.com/users/3116949/user3116949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3785, "favorite_count": 1, "accepted_answer_id": 53199093, "answer_count": 2, "score": 5, "last_activity_date": 1619186848, "creation_date": 1541630845, "question_id": 53199076, "link": "https://stackoverflow.com/questions/53199076/grab-rows-with-max-date-from-pandas-dataframe", "title": "Grab rows with max date from pandas dataframe", "body": "<p>I have a pandas dataframe that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JxNr4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JxNr4.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I want to grab for each distinct ID, the row with the max date so that my final results looks something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7pvGn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7pvGn.png\" alt=\"enter image description here\"></a></p>\n\n<p>My date column is of data type 'object'. I have tried grouping and then trying to grab the max like the following:</p>\n\n<pre><code>idx = df.groupby(['ID','Item'])['date'].transform(max) == df_Trans['date']\ndf_new = df[idx]\n</code></pre>\n\n<p>However I am unable to get the desired result. Any help on this issue would be greatly appreciated! </p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "comments": [{"owner": {"reputation": 6911, "user_id": 6560549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8OQgD.jpg?s=128&g=1", "display_name": "SuperShoot", "link": "https://stackoverflow.com/users/6560549/supershoot"}, "edited": false, "score": 0, "creation_date": 1541649077, "post_id": 53199052, "comment_id": 93291003, "body": "possible duplicate: <a href=\"https://stackoverflow.com/questions/5631078/sqlalchemy-print-the-actual-query\" title=\"sqlalchemy print the actual query\">stackoverflow.com/questions/5631078/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 1, "last_activity_date": 1541651549, "creation_date": 1541651549, "answer_id": 53201594, "question_id": 53199052, "link": "https://stackoverflow.com/questions/53199052/sqlalchemy-select-into-temptable-recipe-fails-to-compile-with-literal-bind/53201594#53201594", "title": "sqlalchemy &#39;SELECT * INTO ##temptable&#39; recipe fails to compile with literal binds", "body": "<p>Forward the keyword arguments in your custom compiler:</p>\n\n<pre><code>@compiles(SelectInto)\ndef s_into(element, compiler, **kw):\n    text = compiler.visit_select(element, **kw)\n    text = text.replace('FROM', f'INTO {element.into} \\nFROM')\n    return text\n</code></pre>\n\n<p>At the moment <code>visit_select()</code> does not see the <code>literal_binds</code> argument, so it defaults to compiling placeholders instead.</p>\n"}], "owner": {"reputation": 507, "user_id": 7795770, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8MurLWtkY5M/AAAAAAAAAAI/AAAAAAAABNg/ncCCqLW8E3s/photo.jpg?sz=128", "display_name": "matthewgdv", "link": "https://stackoverflow.com/users/7795770/matthewgdv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 53201594, "answer_count": 1, "score": 0, "last_activity_date": 1541651549, "creation_date": 1541630736, "last_edit_date": 1541632071, "question_id": 53199052, "link": "https://stackoverflow.com/questions/53199052/sqlalchemy-select-into-temptable-recipe-fails-to-compile-with-literal-bind", "title": "sqlalchemy &#39;SELECT * INTO ##temptable&#39; recipe fails to compile with literal binds", "body": "<p>for my particular use-case I need the: </p>\n\n<p>SELECT * INTO ##tmp FROM some_table</p>\n\n<p>SQL server construct, and I need the fully compiled statement (with inline parameters included) to be shown to a human on the commandline before the statement is actually emitted to the database.</p>\n\n<p>I've used the following recipe (slightly tweaked for SQL Server syntax):\n<a href=\"https://groups.google.com/forum/#!msg/sqlalchemy/O4M6srJYzk0/B8Umq9y08EoJ\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!msg/sqlalchemy/O4M6srJYzk0/B8Umq9y08EoJ</a></p>\n\n<p>and while it does work, I can't get it to display the parameters inline.</p>\n\n<p>Here is the actual code:</p>\n\n<pre><code>from sqlalchemy.sql import Select, table, column\nfrom sqlalchemy.ext.compiler import compiles\n\nclass SelectInto(Select):\n    def __init__(self, columns, into, *arg, **kw):\n        super(SelectInto, self).__init__(columns, *arg, **kw)\n        self.into = into\n\n@compiles(SelectInto)\ndef s_into(element, compiler, **kw):\n    text = compiler.visit_select(element)\n    text = text.replace('FROM', f'INTO {element.into} \\nFROM')\n    return text\n\n\nemployee = table('employee', column('id'), column('name'))\nselect_into = SelectInto([employee.c.id, employee.c.name], \"##tmp\").select_from(employee).where(employee.c.id.in_([1, 3, 6]))\nprint(select_into.compile(compile_kwargs={'literal_binds': True}).string)\n</code></pre>\n\n<p>However, this returns:</p>\n\n<pre><code>SELECT employee.id, employee.name \nINTO ##tmp \nFROM employee \nWHERE employee.id IN (:id_1, :id_2, :id_3)\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>SELECT employee.id, employee.name \nINTO ##tmp \nFROM employee \nWHERE employee.id IN (1, 3, 6)\n</code></pre>\n\n<p>I've spent so much time trying to figure out why and I just have no idea. This SelectInto class subclasses the sqlalchemy Select class, and that class compiles statements with inline literal binds without any issue.</p>\n\n<p>Why is it not working here?</p>\n\n<p>Any help would be so much appreciated</p>\n"}, {"tags": ["python", "python-3.x", "logging", "python-telegram-bot"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541632278, "post_id": 53199040, "comment_id": 93287157, "body": "<a href=\"https://ideone.com/iH6fXx\" rel=\"nofollow noreferrer\">The code you have posted does not produce the output you report.</a> When stripping down code, please ensure that the stripped-down form still reproduces the error when run."}, {"owner": {"reputation": 1129, "user_id": 1241715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69ae2ece3cb83745d2302c67eaf44fb4?s=128&d=identicon&r=PG", "display_name": "madtyn", "link": "https://stackoverflow.com/users/1241715/madtyn"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541635161, "post_id": 53199040, "comment_id": 93287904, "body": "I&#39;m sorry. You&#39;re right. It does so when using the function from another file, but I tried to simplify all to include here and didn&#39;t tested it. I&#39;m editing now."}, {"owner": {"reputation": 1129, "user_id": 1241715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69ae2ece3cb83745d2302c67eaf44fb4?s=128&d=identicon&r=PG", "display_name": "madtyn", "link": "https://stackoverflow.com/users/1241715/madtyn"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541637362, "post_id": 53199040, "comment_id": 93288402, "body": "I modified it. I can&#39;t do it simpler than this."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541637478, "post_id": 53199040, "comment_id": 93288430, "body": "What python-telegram-bot version are you using?"}, {"owner": {"reputation": 1129, "user_id": 1241715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69ae2ece3cb83745d2302c67eaf44fb4?s=128&d=identicon&r=PG", "display_name": "madtyn", "link": "https://stackoverflow.com/users/1241715/madtyn"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541669934, "post_id": 53199040, "comment_id": 93298088, "body": "10.0.2 and python is 3.6.6"}, {"owner": {"reputation": 1129, "user_id": 1241715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69ae2ece3cb83745d2302c67eaf44fb4?s=128&d=identicon&r=PG", "display_name": "madtyn", "link": "https://stackoverflow.com/users/1241715/madtyn"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541694292, "post_id": 53199040, "comment_id": 93311801, "body": "I finally got to reproduce the error. It seems to happen when I add a ConversationHandler with a CallbackQueryHandler."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1541704597, "creation_date": 1541704597, "answer_id": 53214683, "question_id": 53199040, "link": "https://stackoverflow.com/questions/53199040/python-logging-with-ptb-same-line-logged-twice-but-only-one-handler-added/53214683#53214683", "title": "Python logging with ptb: Same line logged twice but only one handler added", "body": "<p><code>telegram.ext.ConversationHandler</code> includes several logging calls that use <code>logging.warning</code> instead of the <code>self.logger</code> logger they probably should use, such as <a href=\"https://github.com/python-telegram-bot/python-telegram-bot/blob/v10.0.2/telegram/ext/conversationhandler.py#L176\" rel=\"nofollow noreferrer\">this call</a>:</p>\n\n<pre><code>for handler in all_handlers:\n    if isinstance(handler, CallbackQueryHandler):\n        logging.warning(\"If 'per_message=False', 'CallbackQueryHandler' will not be \"\n                        \"tracked for every message.\")\n</code></pre>\n\n<p><code>logging.warning</code> and the other module-level logging convenience functions call <a href=\"https://docs.python.org/3/library/logging.html#logging.log\" rel=\"nofollow noreferrer\"><code>logging.basicConfig</code></a>, which adds a handler to the root logger if no handlers on the root logger are present. This handler is the one responsible for the unwanted</p>\n\n<pre><code>INFO:__main__:HELP!\n</code></pre>\n\n<p>logging output.</p>\n\n<p>The use of <code>logging.warning</code> instead of <code>self.logger.warning</code> should probably be considered a python-telegram-bot bug. I don't see an open issue for it on their <a href=\"https://github.com/python-telegram-bot/python-telegram-bot/issues\" rel=\"nofollow noreferrer\">issue tracker</a>, so you might want to file a bug report.</p>\n\n<p>In the meantime, or if the python-telegram-bot developers decide the behavior is fine, you can add a null handler to the root logger to prevent <code>basicConfig</code> from adding its own handler. This must be done before the <code>ConversationHandler</code> is created, to preempt the <code>basicConfig</code>:</p>\n\n<pre><code>logging.getLogger().addHandler(logging.NullHandler())\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 1241715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69ae2ece3cb83745d2302c67eaf44fb4?s=128&d=identicon&r=PG", "display_name": "madtyn", "link": "https://stackoverflow.com/users/1241715/madtyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 53214683, "answer_count": 1, "score": 3, "last_activity_date": 1541704597, "creation_date": 1541630673, "last_edit_date": 1541692194, "question_id": 53199040, "link": "https://stackoverflow.com/questions/53199040/python-logging-with-ptb-same-line-logged-twice-but-only-one-handler-added", "title": "Python logging with ptb: Same line logged twice but only one handler added", "body": "<ul>\n<li>python: 3.6.6</li>\n<li>python-telegram-bot: 10.0.2</li>\n</ul>\n\n<p>I have this problem: I have defined a python logger with a SMTPHandler, a TimedRotatingFileHandler and a StreamHandler. </p>\n\n<p>The StreamHandler works fine, but when I try to use it from a python-telegram-bot handler, the line is being printed twice on the standard output with two different formats and I can't find out how to avoid one and get the another one (the timed one) to remain.</p>\n\n<p>I have discovered the cause. When adding a ConversationHandler with a CallbackQueryHandler, this message is shown when starting.</p>\n\n<pre><code>WARNING:root:If 'per_message=False', 'CallbackQueryHandler' will not be tracked for every message.\n</code></pre>\n\n<p>And then the unwished log line appears every time.</p>\n\n<p>The code is here below as log_config.py . I have added also the sample code for testing my_main_file.py and the current output as a multiline comment.</p>\n\n<p><strong>config/log_config.py</strong>:</p>\n\n<pre><code>import os\n\nimport logging\nfrom logging import Formatter\n\nfrom datetime import datetime\n\n\nVERSION_NUM = '1.2.0'\nLOG_MSG_FORMAT = '%(asctime)s - ({0}) %(levelname)s - %(name)s - %(message)s'\nLOGFILE_PATH = os.path.join(os.path.dirname(os.path.dirname(__file__)),\n                            'log',\n                            'alfred.log')\nlogging.getLogger('telegram').setLevel(logging.WARNING)\nlogging.getLogger('chardet.charsetprober').setLevel(logging.WARNING)\n\n\ndef my_timezone_time(*args):\n    # I simplified this line, because it's irrelevant\n    return datetime.now().timetuple()\n\n\nhandlers = []\n\n\n#\n# ... different handlers added\n#\n\n\n# last handler to add, this one works just as I want\n\nch = logging.StreamHandler()\nformatter = Formatter(LOG_MSG_FORMAT.format(VERSION_NUM))\nformatter.converter = my_timezone_time\nch.setFormatter(formatter)\nch.setLevel(logging.INFO)\nhandlers.append(ch)\n\n\ndef getLogger(name):\n    \"\"\"\n    Returns a logger for the file. Works fine but when used,\n       it always outputs the same line with the last handler \n       and also with an unknown handler not added by me \n       (must be some default instance)\n    :param name: the file name\n    :return: a logger\n    \"\"\"\n    logger = logging.getLogger(name)\n    logger.setLevel(logging.DEBUG)\n    for h in handlers:\n        logger.addHandler(h)\n\n    return logger\n</code></pre>\n\n<p><strong>my_main_file.py</strong>:</p>\n\n<pre><code>#!/usr/bin/python3\nfrom telegram.ext import (Updater, CommandHandler, ConversationHandler,\n                          run_async, CallbackQueryHandler)\nfrom config.log_config import getLogger\n\n# Enable logging\nlogger = getLogger(__name__)\n\nupdater = Updater('......')  # Replace with your bot token\n\n# ************************** HANDLERS\n# Define a few command handlers. These usually take the two arguments bot and\n# update. Error handlers also receive the raised TelegramError object in error.\n\n\n@run_async\ndef show_help(bot, update):\n    logger.info('HELP!')\n\n\ndef error_handler(bot, update, error):\n    logger.warning('La actualizaci\u00f3n \"%s\" caus\u00f3 el error \"%s\"', update, error)\n\n\ndef dumb_handler(bot, update, user_data):\n    return ConversationHandler.END\n\n\ndef main():\n    \"\"\"Start the bot.\"\"\"\n    # Create the EventHandler and pass it your bot's token.\n    global updater\n\n    # Get the dispatcher to register handlers\n    dp = updater.dispatcher\n\n    # on different commands - answer in Telegram\n    dp.add_handler(CommandHandler('help', show_help))\n\n    # Add conversation handler with the states\n    # The telegram conversation handler needs a handler_list with functions\n    # so it can execute desired code in each state/step\n\n    conv_handler = ConversationHandler(\n        entry_points=[CommandHandler('irrelevant', dumb_handler,\n                                     pass_user_data=True)\n                      ],\n        states={\n            0: [CallbackQueryHandler(dumb_handler, pass_user_data=True)],\n        },\n        fallbacks=[],\n    )\n    dp.add_handler(conv_handler)\n\n    # log all errors\n    dp.add_error_handler(error_handler)\n\n    updater.start_polling()\n    updater.idle()\n\n\nif __name__ == '__main__':\n    main()\n\n\"\"\"\nOUTPUT when used /help from the bot chat\n(First is my wished output, second is the line I want to avoid)\n------\n\n2018-11-08 16:41:51,115 - (1.2.0) INFO - __main__ - HELP!\nINFO:__main__:HELP!\n\"\"\"\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1518, "user_id": 10000141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac09f6a889c1f8aa3cc060d30be17b7?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/10000141/joel"}, "edited": false, "score": 0, "creation_date": 1541631088, "post_id": 53199022, "comment_id": 93286735, "body": "Check all your <code>while</code> loops. Is it possible that within one of your <code>while</code> loops, you never change the <code>while</code> condition?"}, {"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1541631127, "post_id": 53199022, "comment_id": 93286749, "body": "I would strongly recommend trying to debug this yourself before coming here. Did you use an IDE with a debugger, and step through each line to see where the infinite loop was happening? If not, I&#39;d again strongly recommend learning how to do that, since it will be a necessary tool for every programmer at some point."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541631641, "post_id": 53199022, "comment_id": 93286918, "body": "Just a guess, but it seems to get stuck in this loop: <code>while not movido:</code> you set <code>movido = False</code>, and <code>while not movido</code> evaluates to <code>while True</code> and never set <code>movido = False</code> so it&#39;s continually checking <code>while True</code>. Possibly should the loop be <code>while movido:</code> ... ?"}, {"owner": {"reputation": 465, "user_id": 7625867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945f5e5e837d1665e997a5461959000f?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Arranz", "link": "https://stackoverflow.com/users/7625867/oscar-arranz"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1541631982, "post_id": 53199022, "comment_id": 93287034, "body": "@RandomDavis Already tried to debug it though I&#39;m not very familiar with pycharm (which is the ide I&#39;m using), I&#39;m a Java guy haha"}, {"owner": {"reputation": 465, "user_id": 7625867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945f5e5e837d1665e997a5461959000f?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Arranz", "link": "https://stackoverflow.com/users/7625867/oscar-arranz"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541632136, "post_id": 53199022, "comment_id": 93287086, "body": "@davedwards I tried to change the condition to movido == False but it&#39;s still doing the same thing, and I do change it to true after I type in the north/south/east/west thing.  It was working before, I am really confused"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541632336, "post_id": 53199022, "comment_id": 93287168, "body": "No I meant try changing the while loop to <code>while movido:</code>"}, {"owner": {"reputation": 465, "user_id": 7625867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945f5e5e837d1665e997a5461959000f?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Arranz", "link": "https://stackoverflow.com/users/7625867/oscar-arranz"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541632497, "post_id": 53199022, "comment_id": 93287223, "body": "@davedwards I tried it but it never enters into the loop in the first place as movido is set to False by default and doing while movido: is like doing while movido == True:"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541636855, "post_id": 53199022, "comment_id": 93288290, "body": "@OscarArranz You say it was working before, PyCharm has a &quot;History&quot; tool that you can browse previous saved versions of your script. Right-click the script on the top (or in the file list on the side) and look for &quot;<code>Local History</code>&quot; -&gt; &quot;<code>Show History</code>&quot;, and select the any of the old versions and see if you can find the one where it was working.  Or possibly the answer below can help fix it."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9085468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7ab122ddf606bc69c0c9163baf9104?s=128&d=identicon&r=PG&f=1", "display_name": "F. Montes", "link": "https://stackoverflow.com/users/9085468/f-montes"}, "is_accepted": true, "score": 1, "last_activity_date": 1541638039, "last_edit_date": 1541638039, "creation_date": 1541634200, "answer_id": 53199578, "question_id": 53199022, "link": "https://stackoverflow.com/questions/53199022/python-gets-into-an-infinite-loop-that-does-nothing/53199578#53199578", "title": "Python gets into an infinite loop that does nothing", "body": "<p>In your <code>Raton</code> class, in <code>moverse()</code>, you have <code>if gato.getmovimientos() % 3 == 0 is True</code>, then this leads to changing <code>movido</code> from <code>False</code> to <code>True</code>, however you have no statement for when <code>gato.getmovimientos()</code> is <code>False</code>, which is why you have an infinite loop.</p>\n"}], "owner": {"reputation": 465, "user_id": 7625867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945f5e5e837d1665e997a5461959000f?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Arranz", "link": "https://stackoverflow.com/users/7625867/oscar-arranz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53199578, "answer_count": 1, "score": 0, "last_activity_date": 1541638039, "creation_date": 1541630578, "question_id": 53199022, "link": "https://stackoverflow.com/questions/53199022/python-gets-into-an-infinite-loop-that-does-nothing", "title": "Python gets into an infinite loop that does nothing", "body": "<p>I don't know why it's happening but basically after python should end a while, it does nothing (but the program doesn't finish) and I can see the program is using processor as if it was an infinite loop.</p>\n\n<p>I have no clue why it happens, it wasn't happening before and I think I haven't changed anything on the function that's causing this issue.</p>\n\n<p>Code:</p>\n\n<pre><code>import random\n\n\nclass Gato:\n\n    movimiento = 0\n    posicion = [0, 0]\n\n    def spawn(self):\n        self.posicion = [random.randint(0, 4), random.randint(0, 4)]\n\n    def moverse(self, direccion):\n        movido = False\n\n        while not movido:\n            if direccion == \"sur\":\n                if self.posicion[1] == 4:\n                    print(\"No puedes salir de los limites del mapa\")\n                    direccion = input(\"Vuelve a moverte en una direcci\u00f3n (norte, este, oeste)\")\n                else:\n                    self.posicion[1] += 1\n                    self.movimiento += 1\n                    movido = True\n            elif direccion == \"norte\":\n                if self.posicion[1] == 0:\n                    print(\"No puedes salir de los limites del mapa\")\n                    direccion = input(\"Vuelve a moverte en una direcci\u00f3n (sur, este, oeste)\")\n                else:\n                    self.posicion[1] -= 1\n                    self.movimiento += 1\n                    movido = True\n            elif direccion == \"este\":\n                if self.posicion[0] == 4:\n                    print(\"No puedes salir de los limites del mapa\")\n                    direccion = input(\"Vuelve a moverte en una direcci\u00f3n (norte, sur, oeste)\")\n                else:\n                    self.posicion[0] += 1\n                    self.movimiento += 1\n                    movido = True\n            elif direccion == \"oeste\":\n                if self.posicion[0] == 0:\n                    print(\"No puedes salir de los limites del mapa\")\n                    direccion = input(\"Vuelve a moverte en una direcci\u00f3n (norte, sur, este)\")\n                else:\n                    self.posicion[0] -= 1\n                    self.movimiento += 1\n                    movido = True\n            else:\n                print(\"Esa no es una direccion v\u00e1lida\")\n                direccion = input(\"Vuelve a moverte en una direcci\u00f3n (norte, sur, este)\")\n\n    def detectarcolisionraton(self, raton):\n        if self.posicion == raton.getposicion():\n            return True\n        else:\n            return False\n\n    def detectarcolisionqueso(self, queso):\n        if self.posicion == queso.getposicion():\n            return True\n        else:\n            return False\n\n    def getmovimientos(self):\n        return self.movimiento\n\n    def checklimites(self, dir):\n        if self.posicion[1] == 4 &amp; dir == 0:\n            print(\"No puedes salir de los limites del mapa\")\n        elif self.posicion[1] == 0 &amp; dir == 1:\n            print(\"No puedes salir de los limites del mapa\")\n        elif self.posicion[0] == 0 &amp; dir == 2:\n            print(\"No puedes salir de los limites del mapa\")\n        elif self.posicion[0] == 4 &amp; dir == 3:\n            print(\"No puedes salir de los limites del mapa\")\n\n\nclass Raton:\n\n    posicion = [0, 0]\n\n    def spawn(self):\n        self.posicion = [random.randint(0, 4), random.randint(0, 4)]\n\n    def getposicion(self):\n        return self.posicion\n\n    def moverse(self, gato):\n        xory = random.randint(0, 1)\n        rand = random.randint(0, 1)\n        movido = False\n\n        while not movido:\n            if gato.getmovimientos() % 3 == 0:\n                if xory == 0:\n                    if rand == 0:\n                        if self.posicion[0] == 4:\n                            xory = random.randint(0, 1)\n                            rand = random.randint(0, 1)\n                        else:\n                            self.posicion[0] += 1\n                            movido = True\n                    else:\n                        if self.posicion[0] == 0:\n                            xory = random.randint(0, 1)\n                            rand = random.randint(0, 1)\n                        else:\n                            self.posicion[0] -= 1\n                            movido = True\n                else:\n                    if rand == 0:\n                        if self.posicion[1] == 4:\n                            xory = random.randint(0, 1)\n                            rand = random.randint(0, 1)\n                        else:\n                            self.posicion[1] += 1\n                            movido = True\n                    else:\n                        if self.posicion[1] == 0:\n                            xory = random.randint(0, 1)\n                            rand = random.randint(0, 1)\n                        else:\n                            self.posicion[1] -= 1\n                            movido = True\n\n    def pista(self, gato):\n        if self.posicion[0] == gato.posicion[0] and self.posicion[1] &gt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Sur\")\n        elif self.posicion[0] &gt; gato.posicion[0] and self.posicion[1] &gt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Sureste\")\n        elif self.posicion[0] &gt; gato.posicion[0] and self.posicion[1] == gato.posicion[1]:\n            print(\"El raton est\u00e1 al Este\")\n        elif self.posicion[0] &gt; gato.posicion[0] and self.posicion[1] &lt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Noreste\")\n        elif self.posicion[0] == gato.posicion[0] and self.posicion[1] &lt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Norte\")\n        elif self.posicion[0] &lt; gato.posicion[0] and self.posicion[1] &lt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Noroeste\")\n        elif self.posicion[0] &lt; gato.posicion[0] and self.posicion[1] == gato.posicion[1]:\n            print(\"El raton est\u00e1 al Oeste\")\n        elif self.posicion[0] &gt; gato.posicion[0] and self.posicion[1] &lt; gato.posicion[1]:\n            print(\"El raton est\u00e1 al Suroeste\")\n\n\nclass Queso:\n\n    posicion = [0, 0]\n\n    def spawn(self):\n        self.posicion = [random.randint(0, 4), random.randint(0, 4)]\n\n    def getposicion(self):\n        return self.posicion\n\n\ndef imprimirmapa():\n    for y in range(0, 5):\n        for x in range(0, 5):\n            print(\"[\", end=\"\", flush=True)\n            if gato.posicion[0] == x and gato.posicion[1] == y:\n                print(\"O\", end=\"\", flush=True)\n            else:\n                print(\"X\", end=\"\", flush=True)\n\n            if x == 4:\n                print(\"]\")\n            else:\n                print(\"]\", end=\"\", flush=True)\n\n\ngato = Gato()\nraton = Raton()\nqueso = Queso()\n\ngato.spawn()\nraton.spawn()\nqueso.spawn()\n\nwhile gato.posicion[0] == raton.posicion[0] and gato.posicion[1] == raton.posicion[1]:\n    print(\"Spawn Failed!\")\n    raton.spawn()\n\n\nganado = False\n\nwhile not ganado:\n    raton.pista(gato)\n    imprimirmapa()\n    gato.moverse(input(\"Introduce la direcci\u00f3n en que te quieres mover (norte, sur, este, oeste)\"))\n    if gato.detectarcolisionraton(raton):\n        print(\"Has ganado\")\n        ganado = True\n    elif gato.detectarcolisionqueso(queso):\n        queso.posicion = [-1, -1]\n        print(\"Encontraste el QUESO\")\n        raton.pista(gato)\n        gato.moverse(input(\"Introduce la direcci\u00f3n en que te quieres mover (norte, sur, este, oeste)\"))\n        raton.pista(gato)\n        gato.moverse(input(\"Introduce la direcci\u00f3n en que te quieres mover (norte, sur, este, oeste)\"))\n        raton.pista(gato)\n        queso.spawn()\n        gato.moverse(input(\"Introduce la direcci\u00f3n en que te quieres mover (norte, sur, este, oeste)\"))\n    raton.moverse(gato)\n</code></pre>\n"}, {"tags": ["python", "dataframe", "comparison"], "comments": [{"owner": {"reputation": 1666, "user_id": 2081663, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/736adb8e46653f06db563482a79a4376?s=128&d=identicon&r=PG", "display_name": "Ben Avery", "link": "https://stackoverflow.com/users/2081663/ben-avery"}, "edited": false, "score": 1, "creation_date": 1541632191, "post_id": 53199018, "comment_id": 93287106, "body": "Can you provide a little more information, what exactly is going wrong? Expected output vs actual output. Any errors?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10593543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cfb77dab45a6a334fe0192dd0bb8c5?s=128&d=identicon&r=PG&f=1", "display_name": "ftayyem", "link": "https://stackoverflow.com/users/10593543/ftayyem"}, "edited": false, "score": 0, "creation_date": 1541631361, "post_id": 53199101, "comment_id": 93286825, "body": "my STATE IS always empty with this code .. Thank youu"}, {"owner": {"reputation": 305, "user_id": 5747770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7gvCtpDxjzc/AAAAAAAAAAI/AAAAAAAAEsk/kd8cIkTnkZY/photo.jpg?sz=128", "display_name": "Ankur Gulati", "link": "https://stackoverflow.com/users/5747770/ankur-gulati"}, "reply_to_user": {"reputation": 3, "user_id": 10593543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cfb77dab45a6a334fe0192dd0bb8c5?s=128&d=identicon&r=PG&f=1", "display_name": "ftayyem", "link": "https://stackoverflow.com/users/10593543/ftayyem"}, "edited": false, "score": 0, "creation_date": 1542035299, "post_id": 53199101, "comment_id": 93413970, "body": "@flayyem Hi, I improved the answer and it should work. please check and confirm."}], "tags": [], "owner": {"reputation": 305, "user_id": 5747770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7gvCtpDxjzc/AAAAAAAAAAI/AAAAAAAAEsk/kd8cIkTnkZY/photo.jpg?sz=128", "display_name": "Ankur Gulati", "link": "https://stackoverflow.com/users/5747770/ankur-gulati"}, "is_accepted": false, "score": 0, "last_activity_date": 1542035257, "last_edit_date": 1542035257, "creation_date": 1541630982, "answer_id": 53199101, "question_id": 53199018, "link": "https://stackoverflow.com/questions/53199018/compare-column-value-to-an-int-in-dataframe-with-python/53199101#53199101", "title": "Compare column value to an int in dataframe with python", "body": "<p>Below code should work for you. </p>\n\n<pre><code>dframe['state']=''\ndframe.loc[dframe['number'] &lt;5, 'state'] = 'vv'\ndframe.loc[(dframe['number'] &gt;5) &amp; (dframe['number']&lt;17), 'state'] = 'xx'\ndframe.loc[dframe['state'] =='', 'state'] = 'yy'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10593543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cfb77dab45a6a334fe0192dd0bb8c5?s=128&d=identicon&r=PG&f=1", "display_name": "ftayyem", "link": "https://stackoverflow.com/users/10593543/ftayyem"}, "edited": false, "score": 0, "creation_date": 1541631904, "post_id": 53199198, "comment_id": 93287001, "body": "it works perfectly.. Thank You But my method i don&#39;t know what it don&#39;t work in python"}, {"owner": {"reputation": 992, "user_id": 7374610, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xFSdX.jpg?s=128&g=1", "display_name": "Zito Relova", "link": "https://stackoverflow.com/users/7374610/zito-relova"}, "reply_to_user": {"reputation": 3, "user_id": 10593543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cfb77dab45a6a334fe0192dd0bb8c5?s=128&d=identicon&r=PG&f=1", "display_name": "ftayyem", "link": "https://stackoverflow.com/users/10593543/ftayyem"}, "edited": false, "score": 0, "creation_date": 1541632020, "post_id": 53199198, "comment_id": 93287047, "body": "If this answer helped you, please consider upvoting and accepting.  <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 992, "user_id": 7374610, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xFSdX.jpg?s=128&g=1", "display_name": "Zito Relova", "link": "https://stackoverflow.com/users/7374610/zito-relova"}, "is_accepted": true, "score": 0, "last_activity_date": 1541631587, "creation_date": 1541631587, "answer_id": 53199198, "question_id": 53199018, "link": "https://stackoverflow.com/questions/53199018/compare-column-value-to-an-int-in-dataframe-with-python/53199198#53199198", "title": "Compare column value to an int in dataframe with python", "body": "<p>You can do this in one line with a list comprehension:</p>\n\n<pre><code>dframe['STATE'] = ['vv' if (i &lt; 5) else 'xx' if (i &gt;= 5) &amp; (i &lt; 17) else 'yy' for i in dframe['number']]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10593543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cfb77dab45a6a334fe0192dd0bb8c5?s=128&d=identicon&r=PG&f=1", "display_name": "ftayyem", "link": "https://stackoverflow.com/users/10593543/ftayyem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 53199198, "answer_count": 2, "score": 0, "last_activity_date": 1542035257, "creation_date": 1541630555, "question_id": 53199018, "link": "https://stackoverflow.com/questions/53199018/compare-column-value-to-an-int-in-dataframe-with-python", "title": "Compare column value to an int in dataframe with python", "body": "<p>I have a dataframe dframe and i want to iterate over lines of my column number if number &lt;5 then my column STATE takes the value 'vv'\nif number is between [5..17] so my value of my column STATE takes 'xx'.\nELSE STATE takes 'yy'.\nSO I wrote this code but it doesn't work..</p>\n\n<p>ANy helps please.</p>\n\n<p>thank you\n`</p>\n\n<pre><code>for it in dframe['number']:\n        if (it &lt; 5):\n            dframe['STATE'] = 'vv'\n        elif (it &gt;= 5 &amp; it &lt; 17):\n            dframe['STATE'] = 'xx' \n        else: \n            dframe['STATE'] = 'yy'`\n</code></pre>\n"}, {"tags": ["python", "parsing", "elementtree"], "comments": [{"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 1, "creation_date": 1541632946, "post_id": 53199014, "comment_id": 93287362, "body": "It&#39;s because of the default namespace (<a href=\"https://docs.python.org/3.6/library/xml.etree.elementtree.html#parsing-xml-with-namespaces\" rel=\"nofollow noreferrer\">see here</a> on how to parse XML with namespaces). It would also be helpful if you added an example of what your output should look like."}, {"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1541633140, "post_id": 53199014, "comment_id": 93287418, "body": "Another thing that would be helpful is code that will run as-is (see <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>)."}, {"owner": {"reputation": 35, "user_id": 9421006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e7ab32e6f3ef3e97c17276225ddbded?s=128&d=identicon&r=PG&f=1", "display_name": "Rafae Rafad", "link": "https://stackoverflow.com/users/9421006/rafae-rafad"}, "reply_to_user": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1541636606, "post_id": 53199014, "comment_id": 93288226, "body": "default namespace - I think thats it - need time to bite into it."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9421006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e7ab32e6f3ef3e97c17276225ddbded?s=128&d=identicon&r=PG&f=1", "display_name": "Rafae Rafad", "link": "https://stackoverflow.com/users/9421006/rafae-rafad"}, "edited": false, "score": 0, "creation_date": 1541642515, "post_id": 53199787, "comment_id": 93289662, "body": "I think that this is the answear, yet I can&#39;t seem to work it out. Somehow i&#39;m getting AttributeError: &#39;ElementTree&#39; object has no attribute &#39;getchildren&#39;"}], "tags": [], "owner": {"reputation": 7231, "user_id": 4915798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb8af3ae95300addb5dfa2e6cb5940c3?s=128&d=identicon&r=PG&f=1", "display_name": "afonso", "link": "https://stackoverflow.com/users/4915798/afonso"}, "is_accepted": true, "score": 2, "last_activity_date": 1541635924, "creation_date": 1541635924, "answer_id": 53199787, "question_id": 53199014, "link": "https://stackoverflow.com/questions/53199014/elementtree-parse-xml-file-problem-with-parsing/53199787#53199787", "title": "ElementTree parse xml file - problem with parsing", "body": "<p>This is how I would go and parse an <code>xml</code> file with namespaces. As per <a href=\"https://docs.python.org/3/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">official documentation</a>, the easiest way is to define a <code>dictionary</code> specifying the namespace.</p>\n\n<pre><code>from xml.etree import cElementTree as ET\n\nroot = ET.fromstring(\"\"\"\n&lt;offer file_format=\"IOF\" version=\"2.6\" extensions=\"yes\" xmlns=\"http://www.iai-shop.com/developers/iof.phtml\"&gt;\n    &lt;product id=\"9\" vat=\"23.0\" code_on_card=\"BHA\"&gt;\n      &lt;producer id=\"1308137276\" name=\"BEAL\"/&gt;\n      &lt;price gross=\"175\" net=\"142.28\"/&gt;\n      &lt;sizes&gt;\n        &lt;size code_producer=\"3700288265272\" code=\"9-uniw\" weight=\"0\"&gt;\n          &lt;stock id=\"0\" quantity=\"-1\"/&gt;\n          &lt;stock id=\"1\" quantity=\"4\"/&gt;\n        &lt;/size&gt;\n      &lt;/sizes&gt;\n    &lt;/product&gt;\n&lt;/offer&gt;\n\"\"\")\n\nns = {'offer': 'http://www.iai-shop.com/developers/iof.phtml'}\n\nproducts = root.getchildren()\n\nfor p in products:\n    qtt = [] #to store all stock quantities\n    product_id = p.get('code_on_card')\n    hurt_net = p.find('offer:price', ns).get('net')\n    for stock in p.find('offer:sizes', ns).find('offer:size', ns).getchildren():\n        qtt.append(int(stock.get('quantity')))\n\n    quantity = max(qtt) #or sum\n\nline = (product_id, hurt_net, quantity)\nprint(line)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>('BHA', '142.28', 4)\n</code></pre>\n\n<p>Also, I did not understand what was the stock quantity that you needed to extract, since you were only getting the last children(<code>stock</code>) value (change the <code>sum</code> function to <code>max</code> or to whatever you need).</p>\n"}], "owner": {"reputation": 35, "user_id": 9421006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e7ab32e6f3ef3e97c17276225ddbded?s=128&d=identicon&r=PG&f=1", "display_name": "Rafae Rafad", "link": "https://stackoverflow.com/users/9421006/rafae-rafad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 53199787, "answer_count": 1, "score": 0, "last_activity_date": 1541643296, "creation_date": 1541630516, "last_edit_date": 1541643296, "question_id": 53199014, "link": "https://stackoverflow.com/questions/53199014/elementtree-parse-xml-file-problem-with-parsing", "title": "ElementTree parse xml file - problem with parsing", "body": "<p>I have a problem parsing data from xml file. I'm using xml.etree.ElementTree to extract data from files and then save them into .csv. I have all the necessery modules installed on server.\nI am aware that there is bs4 module with BeutifulSoup, <strong>yet I would like to know if is possible to parse this data/xml file using ElementTree</strong>. Sorry if the answear is easy or obvious, yet I'm still very much a beginner and with this problem I could not name the problem in a way to find an answear.</p>\n\n<p>While running python script written below I have no errors and no outcome. I don't really know what should I change. I can not find solution. I tried using different child.tag or attributes but with no result.</p>\n\n<p>The xml file that I have problem with.:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;offer file_format=\"IOF\" version=\"2.6\" extensions=\"yes\" xmlns=\"http://www.iai-shop.com/developers/iof.phtml\"&gt;\n    &lt;product id=\"9\" vat=\"23.0\" code_on_card=\"BHA\"&gt;\n      &lt;producer id=\"1308137276\" name=\"BEAL\"/&gt;\n      ...\n      &lt;price gross=\"175\" net=\"142.28\"/&gt;\n      &lt;sizes&gt;\n        &lt;size code_producer=\"3700288265272\" code=\"9-uniw\" weight=\"0\"&gt;\n          &lt;stock id=\"0\" quantity=\"-1\"/&gt;\n          &lt;stock id=\"1\" quantity=\"4\"/&gt;\n        &lt;/size&gt;\n      &lt;/sizes&gt;\n    &lt;/product&gt;\n    &lt;product&gt;\n              ...\n    &lt;/product&gt;\n              ...\n</code></pre>\n\n<p>and script that I tried to use (here to extract code_on_card, price net, quantity).</p>\n\n<p>(I am aware that there are two childs: stock and quantity, and I'm completely fine with the second one overwrting the first one)</p>\n\n<pre><code>import requests\nimport os,sys\nimport csv\nimport xml.etree.ElementTree as ET\n\nreload(sys)\nsys.setdefaultencoding('utf-8')\n\nxml_path = '/file.xml'\n\nxml = ET.parse(xml_path)\n\nwith open('/home/file.csv', 'wb') as f:\n    c = csv.writer(f, delimiter=';')\n    for product in xml.iter('product'):\n    product_id = product.attrib[\"code_on_card\"]\n        for child in product:\n            if child.tag == 'price':\n                if child.attrib[\"net\"] != None:\n                    hurt_net = child.attrib[\"net\"]\n        for size in product.iter('size'):\n            for stock in size.iter('stock'):\n                if 'quantity' in stock.attrib.keys():\n                    quantity = stock.attrib[\"quantity\"]\n\n        line = product_id, hurt_net, quantity\n        c.writerow(line)\n</code></pre>\n\n<p>Files that seem to me to be built on similar scheme work just fine (offer -> product ->child/attrib ), like this one:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;offer file_format=\"IOF\" version=\"2.5\"&gt;\n    &lt;product id=\"2\"&gt;\n        &lt;price gross=\"0.00\" net=\"0.00\" vat=\"23.0\"/&gt;\n        &lt;srp gross=\"0.00\" net=\"0\" vat=\"23.0\"/&gt;\n        &lt;sizes&gt;\n            &lt;size id=\"0\"  code=\"2-0\"  weight=\"0\" &gt;\n            &lt;/size&gt;\n        &lt;/sizes&gt;\n    &lt;/product&gt;\n        ...\n    &lt;/product&gt;\n        ...\n</code></pre>\n\n<p>EDIT:\nOutcome should be .csv file containing multpile rows (each for each product in xml file) of code_on_card, price net, quantity. It should look like:</p>\n\n<pre><code>BC097B.50GD.O;70.81;37\nBC097B.50.A;76.75;24\nBC086C.50.B;76.75;29\nBGRT.L;3;96.75;28\n....\n</code></pre>\n\n<p><strong>EDIT2</strong>\ncode as it is, after drec4s answear:</p>\n\n<pre><code>import requests\nimport os,sys\nimport csv\nimport xml.etree.cElementTree as ET\n\nreload(sys)\nsys.setdefaultencoding('utf-8')\n\nxml_path = '/home/platne/serwer16373/dane/z_hurtowni/pobrane/beal2.xml'\n\nroot = ET.parse(xml_path)\n\nns = {'offer': 'http://www.iai-shop.com/developers/iof.phtml'}\n\nproducts = root.getchildren()\n\nwith open('/home/platne/serwer16373/dane/z_hurtowni/stany_magazynowe/karol/bealKa.csv', 'wb') as f:\n    c = csv.writer(f, delimiter=';')\n    hurtownia = 'beal'\n    for product in root.iter('product'):\n        qtt = [1]\n        code = product.get('code_on_card')\n        hurt_net = product.find('price').get('net')\n        for stock in product.find('sizes').find('size').getchildren():\n            qtt.append(stock.get('quantity'))\n        quantity = max(qtt)\n\n\n        line = 'beal-'+str(code), hurt_net, quantity\n        c.writerow(line)\n</code></pre>\n\n<p>somehow I'm getting\nAttributeError: 'ElementTree' object has no attribute 'getchildren'\nI've got Ele</p>\n"}, {"tags": ["python", "json", "api", "random", "request"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1541630953, "post_id": 53198937, "comment_id": 93286702, "body": "If you look at <a href=\"https://github.com/RandomOrg/JSON-RPC-Python/blob/907a07fe0569a5581f34671703b9c5215316273d/rdoclient/rdoclient.py#L1502\" rel=\"nofollow noreferrer\">their own implementation</a>, you can see that they&#39;re using a <code>POST</code>, not a <code>GET</code>, and are first running the <code>data</code> parameter through <code>json.dumps()</code> first. They&#39;re also setting the headers, which you probably should be doing as well. However I&#39;m not certain that their code is up-to-date - it is 5 years old. Still, since you want to learn more about APIs, that should be quite helpful if you want to learn how their own API is correctly used."}, {"owner": {"reputation": 1, "user_id": 7004942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc835504422ef0996c1fb3ff4d9ab35b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7004942/alec"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1541699334, "post_id": 53198937, "comment_id": 93314436, "body": "Thanks, your comment got it working, just had to change request type and call json.dumps(data)"}], "answers": [{"comments": [{"owner": {"reputation": 1103, "user_id": 6941244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPjsU.png?s=128&g=1", "display_name": "mikkokotila", "link": "https://stackoverflow.com/users/6941244/mikkokotila"}, "edited": false, "score": 0, "creation_date": 1568617224, "post_id": 53213474, "comment_id": 102315806, "body": "This does not work with the current version of the API"}], "tags": [], "owner": {"reputation": 1, "user_id": 7004942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc835504422ef0996c1fb3ff4d9ab35b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7004942/alec"}, "is_accepted": false, "score": 0, "last_activity_date": 1541699467, "creation_date": 1541699467, "answer_id": 53213474, "question_id": 53198937, "link": "https://stackoverflow.com/questions/53198937/python-api-calling-random-org/53213474#53213474", "title": "Python API Calling Random.org", "body": "<pre><code>    import requests\n    import json\n\n    url = 'https://api.random.org/json-rpc/1/invoke'\n\n    data = {'jsonrpc':'2.0','method':'generateIntegers','params': {'apiKey':'mykey','n':10,'min':1,'max':10,'replacement':'true','base':10},'id':24565}\n\n    params = json.dumps(data)\n\n    response = requests.post(url,params)\n\n    print(response.text)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7004942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc835504422ef0996c1fb3ff4d9ab35b?s=128&d=identicon&r=PG&f=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7004942/alec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 662, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541699467, "creation_date": 1541630169, "question_id": 53198937, "link": "https://stackoverflow.com/questions/53198937/python-api-calling-random-org", "title": "Python API Calling Random.org", "body": "<p>So I am new to APIs but I'm trying to get more practice with them. I am getting connection okay (200) but whenever I try to print the results I receive this error: </p>\n\n<p>{\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32700,\"message\":\"Parse error\",\"data\":null},\"id\":null}</p>\n\n<p>Here's my code, with the api key redacted: </p>\n\n<pre><code>    url = 'https://api.random.org/json-rpc/1/invoke'\n\n    data = {'jsonrpc':'2.0','method':'generateIntegers','params': {'apiKey':'mykeygoeshere','n':10,'min':1,'max':10,'replacement':'true','base':10},'id':24565}\n\n    response = requests.get(url,data)\n\n    print(response.text) \n</code></pre>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["python", "json", "pandas", "surveymonkey"], "comments": [{"owner": {"reputation": 506, "user_id": 3281063, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8df7f1a1005a1c6cb9a9152300ab837f?s=128&d=identicon&r=PG&f=1", "display_name": "MajorBriggs", "link": "https://stackoverflow.com/users/3281063/majorbriggs"}, "edited": false, "score": 0, "creation_date": 1548011417, "post_id": 53198931, "comment_id": 95381683, "body": "Did you ever succeed in formatting the responses from the Survey Monkey API in a ways that (even vaguely) resembles the Excel sheet from their export service? If so, would you save my week by sharing the code?"}], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 891424, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6851a6b7c850fd6701119d31cf90946e?s=128&d=identicon&r=PG", "display_name": "Abhinav Sood", "link": "https://stackoverflow.com/users/891424/abhinav-sood"}, "is_accepted": false, "score": 1, "last_activity_date": 1542052520, "creation_date": 1542052520, "answer_id": 53269204, "question_id": 53198931, "link": "https://stackoverflow.com/questions/53198931/using-pandas-and-json-normalize-to-flatten-nested-json-api-response/53269204#53269204", "title": "Using pandas and json_normalize to flatten nested JSON API response", "body": "<p>There is no way to do this in a completely generic way using <code>json_normalize()</code>. You can use the <code>record_path</code> and <code>meta</code> arguments to indicate how you want the JSON to be processed.</p>\n\n<p>However, you can use the <a href=\"https://github.com/amirziai/flatten\" rel=\"nofollow noreferrer\">flatten package</a> to flatten your deeply nested JSON and then convert that to a Pandas dataframe. The page has <a href=\"https://github.com/amirziai/flatten#usage-with-pandas\" rel=\"nofollow noreferrer\">example usage</a> of how to flatten a deeply-nested JSON and convert to a Pandas dataframe.</p>\n"}, {"tags": [], "owner": {"reputation": 1632, "user_id": 3286487, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/JObEe.jpg?s=128&g=1", "display_name": "y.luis", "link": "https://stackoverflow.com/users/3286487/y-luis"}, "is_accepted": true, "score": 13, "last_activity_date": 1542070714, "creation_date": 1542070714, "answer_id": 53272259, "question_id": 53198931, "link": "https://stackoverflow.com/questions/53198931/using-pandas-and-json-normalize-to-flatten-nested-json-api-response/53272259#53272259", "title": "Using pandas and json_normalize to flatten nested JSON API response", "body": "<p>You need to modify the <code>meta</code> parameter of your last option, and, if you want to rename columns to be exactly the way you want, you could do it with <code>rename</code>:</p>\n\n<pre><code>answers_df = json_normalize(data=so_survey_responses['data'],\n                        record_path=['pages', 'questions', 'answers'],\n                        meta=['id', ['pages', 'questions', 'id'], ['pages', 'id']])\\\n.rename(index=str,\n        columns={'id': 'response_id', 'pages.questions.id': 'question_id', 'pages.id': 'page_id'})\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 2752159, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97694ec12b84625f7f18ed1cb44d3aee?s=128&d=identicon&r=PG&f=1", "display_name": "user2752159", "link": "https://stackoverflow.com/users/2752159/user2752159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10171, "favorite_count": 6, "accepted_answer_id": 53272259, "answer_count": 2, "score": 7, "last_activity_date": 1542070714, "creation_date": 1541630132, "question_id": 53198931, "link": "https://stackoverflow.com/questions/53198931/using-pandas-and-json-normalize-to-flatten-nested-json-api-response", "title": "Using pandas and json_normalize to flatten nested JSON API response", "body": "<p>I have a deeply nested JSON that I am trying to turn into a Pandas Dataframe using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.json.json_normalize.html\" rel=\"noreferrer\">json_normalize</a>.</p>\n\n<p>A <a href=\"https://developer.surveymonkey.com/api/v3/#collectors-id-responses-bulk\" rel=\"noreferrer\">generic sample</a> of the JSON data I'm working with looks looks like this (I've added context of what I'm trying to do at the bottom of the post):</p>\n\n<pre><code>{\n    \"per_page\": 2,\n    \"total\": 1,\n    \"data\": [{\n            \"total_time\": 0,\n            \"collection_mode\": \"default\",\n            \"href\": \"https://api.surveymonkey.com/v3/responses/5007154325\",\n            \"custom_variables\": {\n                \"custvar_1\": \"one\",\n                \"custvar_2\": \"two\"\n            },\n            \"custom_value\": \"custom identifier for the response\",\n            \"edit_url\": \"https://www.surveymonkey.com/r/\",\n            \"analyze_url\": \"https://www.surveymonkey.com/analyze/browse/\",\n            \"ip_address\": \"\",\n            \"pages\": [\n                {\n                    \"id\": \"103332310\",\n                    \"questions\": [{\n                            \"answers\": [{\n                                    \"choice_id\": \"3057839051\"\n                                }\n                            ],\n                            \"id\": \"319352786\"\n                        }\n                    ]\n                },\n                {\n                    \"id\": \"44783164\",\n                    \"questions\": [{\n                            \"id\": \"153745381\",\n                            \"answers\": [{\n                                    \"text\": \"some_name\"\n                                }\n                            ]\n                        }\n                    ]\n                },\n                {\n                    \"id\": \"44783183\",\n                    \"questions\": [{\n                            \"id\": \"153745436\",\n                            \"answers\": [{\n                                    \"col_id\": \"1087201352\",\n                                    \"choice_id\": \"1087201369\",\n                                    \"row_id\": \"1087201362\"\n                                }, {\n                                    \"col_id\": \"1087201353\",\n                                    \"choice_id\": \"1087201373\",\n                                    \"row_id\": \"1087201362\"\n                                }\n                                ]\n                            }\n                        ]\n                }\n            ],\n            \"date_modified\": \"1970-01-17T19:07:34+00:00\",\n            \"response_status\": \"completed\",\n            \"id\": \"5007154325\",\n            \"collector_id\": \"50253586\",\n            \"recipient_id\": \"0\",\n            \"date_created\": \"1970-01-17T19:07:34+00:00\",\n            \"survey_id\": \"105723396\"\n        }\n    ],\n    \"page\": 1,\n    \"links\": {\n        \"self\": \"https://api.surveymonkey.com/v3/surveys/123456/responses/bulk?page=1&amp;per_page=2\"\n    }\n}\n</code></pre>\n\n<p>I'd like to end up with a dataframe that contains the question_id, page_id, response_id, and response data like this:</p>\n\n<pre><code>    choice_id      col_id      row_id       text   question_id       page_id      response_id\n0  3057839051         NaN         NaN        NaN     319352786     103332310       5007154325\n1         NaN         NaN         NaN  some_name     153745381      44783164       5007154325\n2  1087201369  1087201352  1087201362        NaN     153745436      44783183       5007154325\n3  1087201373  1087201353  1087201362        NaN     153745436      44783183       5007154325\n</code></pre>\n\n<p>I can get close by running the following code (Python 3.6):</p>\n\n<pre><code>df = json_normalize(data=so_survey_responses['data'], record_path=['pages', 'questions'], meta='id', record_prefix ='question_')\nprint(df)\n</code></pre>\n\n<p>Which returns:</p>\n\n<pre><code>                                    question_answers question_id          id\n0                      [{'choice_id': '3057839051'}]   319352786  5007154325\n1                            [{'text': 'some_name'}]   153745381  5007154325\n2  [{'col_id': '1087201352', 'choice_id': '108720...   153745436  5007154325\n</code></pre>\n\n<p>But if I try to run json_normalize at a deeper nest and keep the 'question_id' data from the above result, I can only get the page_id values to return, not true question_id values:</p>\n\n<pre><code>answers_df = json_normalize(data=so_survey_responses['data'], record_path=['pages', 'questions', 'answers'], meta=['id', ['questions', 'id'], ['pages', 'id']])\nprint(answers_df)\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>    choice_id      col_id      row_id       text          id questions.id   pages.id\n0  3057839051         NaN         NaN        NaN  5007154325    103332310  103332310\n1         NaN         NaN         NaN  some_name  5007154325     44783164   44783164\n2  1087201369  1087201352  1087201362        NaN  5007154325     44783183   44783183\n3  1087201373  1087201353  1087201362        NaN  5007154325     44783183   44783183\n</code></pre>\n\n<p>A complicating factor may be that all the above (question_id, page_id, response_id) are 'id:' in the JSON data.</p>\n\n<p>I'm sure this is possible, but I can't get there. Any examples of how to do this?</p>\n\n<p><strong>Additional context:</strong>\nI'm trying to create a dataframe of <a href=\"https://developer.surveymonkey.com/api/v3/#quick-start-guide-two-common-use-cases\" rel=\"noreferrer\">SurveyMonkey API response output</a>.</p>\n\n<p>My long term goal is to re-create the <a href=\"https://help.surveymonkey.com/articles/en_US/kb/Export-Examples\" rel=\"noreferrer\">\"all responses\" excel sheet that their export service provides</a>.</p>\n\n<p>I plan to do this by getting the response dataframe set up (above), and then use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html\" rel=\"noreferrer\">.apply()</a> to match responses with their <a href=\"https://developer.surveymonkey.com/api/v3/#surveys-id-details\" rel=\"noreferrer\">survey structure API output</a>.</p>\n\n<p>I've found the SurveyMonkey API pretty lackluster at providing useful output, but I'm new to Pandas so it's probably on me.</p>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541630654, "post_id": 53198927, "comment_id": 93286588, "body": "Are you only interested in finding it from inside an IDE? Because <a href=\"https://docs.scipy.org/doc/scipy/reference/stats.html\" rel=\"nofollow noreferrer\">here</a> is the documentation for all of the distributions and functions in <code>scipy.stats</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 0, "creation_date": 1541630982, "post_id": 53199041, "comment_id": 93286712, "body": "This is interesting, but I am specifically interesting in the <code>help</code> function."}], "tags": [], "owner": {"reputation": 11, "user_id": 10620938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb39e4311ea997cc79c8e20e78e187e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Mills", "link": "https://stackoverflow.com/users/10620938/ethan-mills"}, "is_accepted": false, "score": 1, "last_activity_date": 1541630674, "creation_date": 1541630674, "answer_id": 53199041, "question_id": 53198927, "link": "https://stackoverflow.com/questions/53198927/scipy-stats-distributions-documentation/53199041#53199041", "title": "scipy stats distributions documentation", "body": "<p>If you use ipython then I believe <code>scipy.stats.binom?</code> achieves this.</p>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541630674, "creation_date": 1541630102, "question_id": 53198927, "link": "https://stackoverflow.com/questions/53198927/scipy-stats-distributions-documentation", "title": "scipy stats distributions documentation", "body": "<p>I'm trying to track down the docs for the various distributions in <code>scipy.stats</code>.  It is easy enough to google around for them, but I like to use the built-in <code>help</code> function for kicks sometimes.  Through a series of <code>help</code> calls, can find that <code>scipy</code> has a <code>stats</code> module and that <code>scipy.stats</code> has a <code>binom</code> distribution.  However, at that point, using <code>help</code> becomes tricky.  <code>help(scipy.stats.binom)</code> actually returns a help document for a <code>class</code> named <code>binom_gen</code> which inherits methods from some parent abstract class whose <code>__init__</code> method is utterly uninformative.  However, it does provide the following hint:  \"See help(type(self)) for accurate signature.\"  Okay.  Since I do not have access to <code>self</code> from outside of the class code itself, I assume that this means \"go ahead and instantiate an object, and then call <code>help</code>.\"  After some trial and error on getting literally any old parameters to not <code>raise</code> an <code>Exception</code> (specifically, <code>scipy.stats.binom(0.5,0.5)</code> returns successfully), we can call <code>help</code> on that thing.</p>\n\n<p>Both <code>help(scipy.stats.binom(0.5,0.5))</code> and <code>help(type(scipy.stats.binom(0.5,0.5))</code> give the docs for <code>class rv_frozen</code>, which is equally uninformative, and actually gives the same suggestion to: \"See help(type(self)) for accurate signature.\"</p>\n\n<p>How do I access the <code>help</code> for distributions in <code>scipy.stats</code>?  More generally, is there a meaningful way to navigate an abstract class morass via successive calls to the <code>help</code> function, or must I simply know a priori the class ultimately returned by these factories?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1465, "user_id": 8147165, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Bx9DE.png?s=128&g=1", "display_name": "michjnich", "link": "https://stackoverflow.com/users/8147165/michjnich"}, "edited": false, "score": 0, "creation_date": 1558507673, "post_id": 53198907, "comment_id": 99119073, "body": "You need to mock the response when you test the connectivity to pyodbc so that it fails. You don&#39;t specify how you are testing, but here&#39;s the link to unittest.mock: <a href=\"https://docs.python.org/3/library/unittest.mock.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/unittest.mock.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 74748, "user_id": 11343, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88b275413b9c23754103610c9e51b394?s=128&d=identicon&r=PG", "display_name": "CharlesB", "link": "https://stackoverflow.com/users/11343/charlesb"}, "is_accepted": true, "score": 1, "last_activity_date": 1592488816, "creation_date": 1592488816, "answer_id": 62451738, "question_id": 53198907, "link": "https://stackoverflow.com/questions/53198907/create-a-python-unittest-where-the-absence-of-a-module-is-faked/62451738#62451738", "title": "Create a python unittest where the absence of a module is faked", "body": "<p>You can fake the absence of a module by messing around with <code>sys.modules</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.modules['pyodbc'] = None\n&gt;&gt;&gt; import pyodbc\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: import of 'pyodbc' halted; None in sys.modules\n</code></pre>\n\n<p>(stolen from <a href=\"https://stackoverflow.com/a/7843064/11343\">this answer</a>)</p>\n"}], "owner": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 62451738, "answer_count": 1, "score": 4, "last_activity_date": 1592488816, "creation_date": 1541629979, "question_id": 53198907, "link": "https://stackoverflow.com/questions/53198907/create-a-python-unittest-where-the-absence-of-a-module-is-faked", "title": "Create a python unittest where the absence of a module is faked", "body": "<p>I have a piece of code that is run on many different systems. On some systems the module <code>pyodbc</code> is not present so I fall back to <code>pymssql</code>.</p>\n\n<p>I would like to test the fall back process in an environment that has both of these modules installed.</p>\n\n<p>Added difficulty: <code>pyodbc</code> is not imported anywhere in my code, only inside <code>sqlalchemy</code>.</p>\n\n<p>The particulars of the libraries don't matter. I would just like to avoid having to run pip to remove and replace the <code>pyodbc</code> module and then have to test twice.</p>\n\n<p>Is there some way to spoof the module being missing?</p>\n"}, {"tags": ["python", "python-3.x", "nonetype"], "comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 3, "creation_date": 1541630085, "post_id": 53198902, "comment_id": 93286372, "body": "Could you give some examples of this behaviour? It might help explain things"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 4, "creation_date": 1541630247, "post_id": 53198902, "comment_id": 93286430, "body": "In a boolean sense, both are False."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 2, "creation_date": 1541630254, "post_id": 53198902, "comment_id": 93286432, "body": "<code>None</code> is a singleton. <code>False</code> is a boolean, which in Python is an int. Both are falsey. What are you unsure about?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1541630486, "post_id": 53198902, "comment_id": 93286524, "body": "See also: <a href=\"https://stackoverflow.com/q/39983695/6779307\">What is Truthy and Falsy in python? How is it different from True and False?</a>"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1541630538, "post_id": 53198902, "comment_id": 93286545, "body": "@khelwood <code>False</code> is also a singleton."}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1541630727, "post_id": 53198902, "comment_id": 93286619, "body": "However similar they may seem, they\u2019re used differently. <code>True</code>/<code>False</code> are a complimentary pair for indicating yes/no answers. <code>None</code> is a third value indicating \u201cnone of the above\u201d, \u201cno value\u201d."}, {"owner": {"reputation": 91, "user_id": 6308213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddf5e7802be2325099f4824c455b33a?s=128&d=identicon&r=PG&f=1", "display_name": "Mobyh", "link": "https://stackoverflow.com/users/6308213/mobyh"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1541631720, "post_id": 53198902, "comment_id": 93286936, "body": "Thanks @PatrickHaugh I&#39;ll check it out"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1541661620, "post_id": 53198902, "comment_id": 93294207, "body": "@wim No it isn&#39;t. A singleton is the sole instance of its type. False is a instance of a type with two elements: True and False."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1541692095, "post_id": 53198902, "comment_id": 93310445, "body": "@khelwood  Seems you&#39;re lugging baggage over from Java. From <a href=\"https://www.python.org/dev/peps/pep-0285/\" rel=\"nofollow noreferrer\">PEP 285</a>, which added the bool type to the language: <i>The values <code>False</code> and <code>True</code> will be singletons, like <code>None</code>.</i>  The datamodel does not allow another instance of <code>False</code> is the important property here (e.g. bool can&#39;t be subclassed), not whether it&#39;s the sole instance of the type."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1541716324, "post_id": 53198902, "comment_id": 93321974, "body": "@wim I stand corrected. I didn&#39;t realise that Python had its own special definition of singleton."}], "answers": [{"comments": [{"owner": {"reputation": 1286, "user_id": 101547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1b78c3c7f04fd32bce291c215ea974?s=128&d=identicon&r=PG", "display_name": "kmarsh", "link": "https://stackoverflow.com/users/101547/kmarsh"}, "edited": false, "score": 0, "creation_date": 1603980871, "post_id": 53198991, "comment_id": 114212174, "body": "I would not call automatic type conversion &quot;syntactic sugar&quot;, as it eliminates a syntax (e.g. bool(None)) rather than replaces it with a sweeter one... and automatic type conversions are common in most programming languages, without being labeled as a sweetener."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 1286, "user_id": 101547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1b78c3c7f04fd32bce291c215ea974?s=128&d=identicon&r=PG", "display_name": "kmarsh", "link": "https://stackoverflow.com/users/101547/kmarsh"}, "edited": false, "score": 0, "creation_date": 1603999388, "post_id": 53198991, "comment_id": 114221108, "body": "@kmarsh Syntactic sugar doesn&#39;t necessarily mean that a simpler syntax gets converted to a more verbose syntax by the compiler. In the purest sense, syntactic sugar is merely a syntax feature that is intended to make the developer&#39;s job easier from either a functional or cosmetic standpoint compared to an alternative existing convention. Truthiness of non-boolean values definitely falls into that category, in Python and in other languages. And besides, it does replace <code>if bool(x):</code> with a sweeter version <code>if x:</code>."}, {"owner": {"reputation": 1286, "user_id": 101547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1b78c3c7f04fd32bce291c215ea974?s=128&d=identicon&r=PG", "display_name": "kmarsh", "link": "https://stackoverflow.com/users/101547/kmarsh"}, "edited": false, "score": 0, "creation_date": 1604005388, "post_id": 53198991, "comment_id": 114223485, "body": "Then all automatic type conversions are &quot;syntactic sugar&quot;, which I reject."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 1286, "user_id": 101547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1b78c3c7f04fd32bce291c215ea974?s=128&d=identicon&r=PG", "display_name": "kmarsh", "link": "https://stackoverflow.com/users/101547/kmarsh"}, "edited": false, "score": 0, "creation_date": 1604006386, "post_id": 53198991, "comment_id": 114223819, "body": "@kmarsh Reject it if you want, but I would argue that all automatic type conversions <b>are</b> syntactic sugar because they are a syntactic feature that saves the developer from having to explicitly convert a value of a given type to another unrelated type, such as booleans and lists (which would otherwise be necessary even in dynamically-typed languages). Just because a feature has become a staple in a lot of modern interpreted languages doesn&#39;t mean it isn&#39;t syntactic sugar."}], "tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": true, "score": 10, "last_activity_date": 1604086120, "last_edit_date": 1604086120, "creation_date": 1541630417, "answer_id": 53198991, "question_id": 53198902, "link": "https://stackoverflow.com/questions/53198902/what-is-the-difference-between-none-and-false-in-python-3-in-a-boolean-sense/53198991#53198991", "title": "What is the difference between None and False in python 3? (in a boolean sense)", "body": "<p>Different values in Python can be described as being &quot;truthy&quot; or &quot;falsy&quot; even if they aren't <code>Boolean</code> values, which means they are interpreted as <code>True</code> or <code>False</code> in a situation that expects a <code>Boolean</code> value (such as an <code>if</code> condition). As defined in the <a href=\"https://docs.python.org/3/library/stdtypes.html#truth-value-testing\" rel=\"nofollow noreferrer\">documentation</a>, every value in Python, regardless of type, is interpreted as being <code>True</code> <em>except</em> for the following values (which are interpreted as <code>False</code>):</p>\n<ul>\n<li>Constants defined to be false: <code>None</code> and <code>False</code>.</li>\n<li>Zero of any numeric type: <code>0</code>, <code>0.0</code>, <code>0j</code>, <code>Decimal(0)</code>, <code>Fraction(0, 1)</code></li>\n<li>Empty sequences and collections: <code>''</code>, <code>()</code>, <code>[]</code>, <code>{}</code>, <code>set()</code>, <code>range(0)</code></li>\n</ul>\n<p>To your specific situation, using the <code>if</code> situation, the following statement:</p>\n<pre><code>if None:\n    # some code here\n</code></pre>\n<p>would be functionally identical to:</p>\n<pre><code>if False:\n    # some code here\n</code></pre>\n<p>This is because, as shown in the list above, the value <code>None</code> is automatically converted to <code>False</code> for the purposes of the <code>if</code> condition. This is something referred to as &quot;syntactic sugar&quot;, which is a feature of the language that exists to make the developer's life easier.</p>\n<p>However, just because <code>None</code> is <em>interpreted</em> as <code>False</code> in this particular scenario, that doesn't mean the two values are equal to each other. This is because <code>False</code> is meant to be part of the True/False pair indicating binary concepts like &quot;yes/no&quot;, &quot;on/off&quot;, etc. <code>None</code>, on the other hand, represents the concept of <em>nothing</em>. Variables with a value of <code>None</code> means they have no value at all. To compare it to <code>False</code> in the form of a metaphor, <code>False</code> would be like answering somebody by saying &quot;No&quot;, where <code>None</code> would be like not answering them at all.</p>\n<p>As a more practical example, see the following code snippet:</p>\n<pre><code>if None == False:\n    # code in here would not execute because None is not equal to False\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6308213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddf5e7802be2325099f4824c455b33a?s=128&d=identicon&r=PG&f=1", "display_name": "Mobyh", "link": "https://stackoverflow.com/users/6308213/mobyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3622, "favorite_count": 0, "closed_date": 1541631082, "accepted_answer_id": 53198991, "answer_count": 1, "score": 0, "last_activity_date": 1604086120, "creation_date": 1541629951, "last_edit_date": 1541631694, "question_id": 53198902, "link": "https://stackoverflow.com/questions/53198902/what-is-the-difference-between-none-and-false-in-python-3-in-a-boolean-sense", "closed_reason": "Needs details or clarity", "title": "What is the difference between None and False in python 3? (in a boolean sense)", "body": "<p>Sometimes python seems to treat them as the same whereas other times it returns False when False is used but returns nothing with None. It seems to behave very differently to null in other languages.</p>\n\n<p>Some specific examples are:</p>\n\n<p>True and None returns nothing\nFalse and None returns False</p>\n"}, {"tags": ["python", "eclipse", "debugging", "pydev"], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 8712517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2752cc450977142e352e2b1e9c49c8c2?s=128&d=identicon&r=PG&f=1", "display_name": "Q-life", "link": "https://stackoverflow.com/users/8712517/q-life"}, "is_accepted": false, "score": 2, "last_activity_date": 1541670271, "last_edit_date": 1541670271, "creation_date": 1541669704, "answer_id": 53204940, "question_id": 53198901, "link": "https://stackoverflow.com/questions/53198901/pydev-debugger-not-working-but-can-run-code-fine/53204940#53204940", "title": "pydev debugger not working but can run code fine", "body": "<p>I had the same issue after an update of these packages :</p>\n\n<ul>\n<li>Oomph Setup  1.11.0.v20181107-0652   org.eclipse.oomph.setup.feature.group   Eclipse Oomph Project</li>\n<li>PyDev for Eclipse   7.0.0.201811071319  org.python.pydev.feature.feature.group  Fabio Zadrozny</li>\n<li>PyDev for Eclipse Developer Resources   7.0.0.201811071319  org.python.pydev.feature.source.feature.group   Fabio Zadrozny</li>\n</ul>\n\n<p>Not running LiClipse but just Eclipse + pydev.</p>\n\n<p>I solved it for now by reverting the update. Click Help > About Eclipse IDE > Installation Details > Installation History > Click on the last working version > Revert</p>\n\n<p>I should have kept the error information though so that I could file a proper bug report ...</p>\n"}, {"comments": [{"owner": {"reputation": 23516, "user_id": 110451, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG", "display_name": "Fabio Zadrozny", "link": "https://stackoverflow.com/users/110451/fabio-zadrozny"}, "edited": false, "score": 2, "creation_date": 1541694324, "post_id": 53210935, "comment_id": 93311816, "body": "Note: LiClipse 5.1.2 is now available with the fix."}, {"owner": {"reputation": 23516, "user_id": 110451, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG", "display_name": "Fabio Zadrozny", "link": "https://stackoverflow.com/users/110451/fabio-zadrozny"}, "edited": false, "score": 1, "creation_date": 1541763548, "post_id": 53210935, "comment_id": 93336816, "body": "Actually, I found another critical in 5.1.2 (related to hyperlinking tracebacks) and just released PyDev 7.0.3/LiClipse 5.1.3... sorry -- please upgrade again ;)"}], "tags": [], "owner": {"reputation": 23516, "user_id": 110451, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG", "display_name": "Fabio Zadrozny", "link": "https://stackoverflow.com/users/110451/fabio-zadrozny"}, "is_accepted": true, "score": 5, "last_activity_date": 1541690865, "creation_date": 1541690865, "answer_id": 53210935, "question_id": 53198901, "link": "https://stackoverflow.com/questions/53198901/pydev-debugger-not-working-but-can-run-code-fine/53210935#53210935", "title": "pydev debugger not working but can run code fine", "body": "<p>Sorry about that. This is a bug in PyDev 7.0.0. I just finished uploading a new version for PyDev and LiClipse is almost there too (limiting factor is my internet connection speed, so, should be available in a few hours).</p>\n\n<p>Meanwhile, removing the accelerators (and recreating if you want locally) should make it work again. i.e.: Remove _pydevd_bundle*.pyd and _pydevd_bundle\\pydevd_frame_eval*.pyd and execute setup_cython.py locally (or don't if you're ok on going without the accelerator modules).</p>\n"}], "owner": {"reputation": 541, "user_id": 3822038, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/edb32f7a768bcafce4b72dbcf5dacd5a?s=128&d=identicon&r=PG&f=1", "display_name": "echo", "link": "https://stackoverflow.com/users/3822038/echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 0, "accepted_answer_id": 53210935, "answer_count": 2, "score": 0, "last_activity_date": 1541690865, "creation_date": 1541629950, "last_edit_date": 1541631396, "question_id": 53198901, "link": "https://stackoverflow.com/questions/53198901/pydev-debugger-not-working-but-can-run-code-fine", "title": "pydev debugger not working but can run code fine", "body": "<p>I am using Liclipse which is basically pydev with eclipse. The python file runs fine but when I try to use the pydev debugger on the same file the debugger fails to launch and I couldn't find anything about this error. Is it a bug in pydev? It even says \"During handling of the above exception, another exception occurred\"</p>\n\n<p>I am using python 3.7.1 </p>\n\n<pre><code>warning: Debugger speedups using cython not found. Run '\"C:\\Users\\q4116\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\" \"C:\\Program Files\\Brainwy\\LiClipse 5.1.0\\plugins\\org.python.pydev.core_7.0.0.201811071259\\pysrc\\setup_cython.py\" build_ext --inplace' to build.\npydev debugger: starting (pid: 20104)\nTraceback (most recent call last):\n  File \"_pydevd_bundle\\pydevd_cython_win32_37_32.pyx\", line 134, in _pydevd_bundle.pydevd_cython_win32_37_32.set_additional_thread_info\nAttributeError: '_MainThread' object has no attribute 'additional_info'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Brainwy\\LiClipse 5.1.0\\plugins\\org.python.pydev.core_7.0.0.201811071259\\pysrc\\pydevd.py\", line 1951, in &lt;module&gt;\n    main()\n  File \"C:\\Program Files\\Brainwy\\LiClipse 5.1.0\\plugins\\org.python.pydev.core_7.0.0.201811071259\\pysrc\\pydevd.py\", line 1945, in main\n    globals = debugger.run(setup['file'], None, None, is_module)\n  File \"C:\\Program Files\\Brainwy\\LiClipse 5.1.0\\plugins\\org.python.pydev.core_7.0.0.201811071259\\pysrc\\pydevd.py\", line 1295, in run\n    self.notify_thread_created(thread_id, t)\n  File \"C:\\Program Files\\Brainwy\\LiClipse 5.1.0\\plugins\\org.python.pydev.core_7.0.0.201811071259\\pysrc\\pydevd.py\", line 662, in notify_thread_created\n    additional_info = set_additional_thread_info(thread)\n  File \"_pydevd_bundle\\pydevd_cython_win32_37_32.pyx\", line 138, in _pydevd_bundle.pydevd_cython_win32_37_32.set_additional_thread_info\n  File \"_pydevd_bundle\\pydevd_cython_win32_37_32.pyx\", line 147, in _pydevd_bundle.pydevd_cython_win32_37_32.set_additional_thread_info\n  File \"_pydevd_bundle\\pydevd_cython_win32_37_32.pyx\", line 95, in _pydevd_bundle.pydevd_cython_win32_37_32.PyDBAdditionalThreadInfo.__init__\nAttributeError: '_pydevd_bundle.pydevd_cython_win32_37_32.PyDBAdditionalThreadInfo' object has no attribute 'pydev_state'\n</code></pre>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1541629992, "post_id": 53198873, "comment_id": 93286333, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem.   We should be able to paste your posted code into a text file and reproduce the problem you described.  Please post your <i>minimal</i> code and the full error message."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1541630405, "post_id": 53198873, "comment_id": 93286501, "body": "You have <code>displayData = list()</code> then <code>displayData &gt; 20</code>, you can&#39;t compare those two, as the error message states"}, {"owner": {"reputation": 1, "user_id": 10620897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2af6e36c31453298b57b030962e2906?s=128&d=identicon&r=PG&f=1", "display_name": "A2_hail", "link": "https://stackoverflow.com/users/10620897/a2-hail"}, "edited": false, "score": 0, "creation_date": 1541630664, "post_id": 53198873, "comment_id": 93286590, "body": "But how do I take the data from displayData and make it so I can compare it to an 8 bit unsigned integer?"}, {"owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "edited": false, "score": 0, "creation_date": 1541811866, "post_id": 53198873, "comment_id": 93356870, "body": "What do you actually want to compare? The first element? If <i>any</i> elements are larger? If the array is has more than 20 things?"}], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 5166521, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xgFqd.jpg?s=128&g=1", "display_name": "allardbrain", "link": "https://stackoverflow.com/users/5166521/allardbrain"}, "is_accepted": false, "score": 0, "last_activity_date": 1541633629, "creation_date": 1541633629, "answer_id": 53199507, "question_id": 53198873, "link": "https://stackoverflow.com/questions/53198873/i-am-getting-the-error-in-python-3-6-typeerror-not-supported-between-instan/53199507#53199507", "title": "I am getting the error in Python 3.6 TypeError: &#39;&gt;&#39; not supported between instances of &#39;list&#39; and &#39;int&#39;", "body": "<p>First, you are already instantiating <code>newDisplay</code> as a list, so there is no need to do <code>displayData = list(newDisplay)</code>. You can just do <code>displayData = newDisplay</code>.</p>\n\n<p>Secondly, when you try to evaluate <code>displayData &gt; 5</code>, you are comparing a list to an integer. This is like asking, \"is this list greater than 5?\". That doesn't make logical sense.</p>\n\n<p>A much more common paradigm is to ask if a list's <em>length</em> is greater than some number. Are you trying to say, \"If the length of the <code>displayData</code> list is greater than 20, do something\" ? If so, use <code>if len(displayData) &gt; 5</code>.</p>\n\n<p>However, you have some bigger logical issues in these lines of your code:</p>\n\n<pre><code>newDisplay = list(displayData[len(newData):len(displayData)] + newData)\ndisplayData = list(newDisplay) \n</code></pre>\n\n<p>You are trying to use <code>displayData</code> within your <code>newDisplay</code> definition, but <code>displayData</code> doesn't exist yet at that point in your code.</p>\n\n<p>As another person mentioned, we can help you more effectively if you post just enough code to convey your problem, along with the full error message.</p>\n"}], "owner": {"reputation": 1, "user_id": 10620897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2af6e36c31453298b57b030962e2906?s=128&d=identicon&r=PG&f=1", "display_name": "A2_hail", "link": "https://stackoverflow.com/users/10620897/a2-hail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541810784, "creation_date": 1541629840, "last_edit_date": 1541810784, "question_id": 53198873, "link": "https://stackoverflow.com/questions/53198873/i-am-getting-the-error-in-python-3-6-typeerror-not-supported-between-instan", "title": "I am getting the error in Python 3.6 TypeError: &#39;&gt;&#39; not supported between instances of &#39;list&#39; and &#39;int&#39;", "body": "<p>I am getting the error in Python 3.6 TypeError:  </p>\n\n<blockquote>\n  <p>'>' not supported between instances of 'list' and 'int'</p>\n</blockquote>\n\n<p>I am trying to take data from another Python program and use it to show when flexing or not but I do not know the syntax for this. My code is pasted below.</p>\n\n<p>I just need to get the 8 bit unsigned integer to be compared to the data being taken in.</p>\n\n<pre><code>import pyglet\nimport matplotlib\nmatplotlib.use('TkAgg')\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\nimport socket\nimport threading\nimport sys\nimport os\nimport math\n\n#Un-comment this if using OS-X.\n#os.system('defaults write org.python.python ApplePersistenceIgnoreState NO')\n\nWindowSize = 5000\nSampleRate = 1000.0\nVoltsPerBit = 2.5/256\n\n#Define global variables\nFs = 1000\nFlexWindowSize = 0.25\ndata = []\ndisplayData = [-2 for i in range(WindowSize)]\nflexing = False\n\n# This reads from a socket.\ndef data_listener():\n  global data\n  UDP_PORT = 9000\n  sock = socket.socket(socket.AF_INET, # Internet\n                      socket.SOCK_DGRAM) # UDP\n  sock.bind((UDP_IP, UDP_PORT))\n  while True:\n    newdata, addr = sock.recvfrom(1024) # buffer size is 1024 bytes\n    data.extend(list(newdata))\n\n#Handle command line arguments to get IP address\nif (len(sys.argv) == 2):\n    try:\n        UDP_IP = sys.argv[1]\n        socket.inet_aton(UDP_IP)\n    except:\n        sys.exit('Invalid IP address, Try again')\nelse:\n    sys.exit('EMG_Acquire &lt;Target IP Address&gt;')\n\n#Connect the UDP_Port\nUDP_PORT = 9000\nsock = socket.socket(socket.AF_INET, # Internet\n                     socket.SOCK_DGRAM) # UDP\n\nprint('Connected to ', str(UDP_IP))\nprint(\"Listening for incoming messages...\")\nprint('Close Window to exit')\n\n#Start a new thread to listen for data over UDP\nthread = threading.Thread(target=data_listener)\nthread.daemon = True\nthread.start()\n\n#Load and place image resources\npyglet.resource.path = ['./resources']\npyglet.resource.reindex()\nForeArm_image = pyglet.resource.image(\"forearm.png\")\nBicep_image = pyglet.resource.image(\"Bicep.png\")\nForeArm_image.anchor_x = 7\nForeArm_image.anchor_y = ForeArm_image.height-150\nBicep_image.anchor_x = Bicep_image.width/2\nBicep_image.anchor_y = Bicep_image.height/2\n\n#Define the moving ForeArm class\nclass ForeArm(pyglet.sprite.Sprite):\n  def __init__(self, *args, **kwargs):\n    super(ForeArm,self).__init__(img=ForeArm_image,*args, **kwargs) \n    self.rotate_speed = 100.0\n    self.rotation_upper_limit = -10\n    self.rotation_lower_limit = -100\n    self.rotation = self.rotation_upper_limit\n    self.key_handler = pyglet.window.key.KeyStateHandler()\n\n  def update(self, dt):\n    if flexing:\n      if not ((self.rotation-self.rotate_speed*dt) &lt;=   self.rotation_lower_limit):\n        self.rotation -= self.rotate_speed*dt\n      else:\n        self.rotation = self.rotation_lower_limit\n    else:\n      if not((self.rotation+self.rotate_speed*dt) &gt;= self.rotation_upper_limit):\n        self.rotation += self.rotate_speed*dt\n      else:\n        self.rotation = self.rotation_upper_limit\n\n#Setup the main window\nmain_window = pyglet.window.Window(1000,600)\nmain_batch = pyglet.graphics.Batch()\nbackground = pyglet.graphics.OrderedGroup(0)\nforeground = pyglet.graphics.OrderedGroup(1)\nbicep = pyglet.sprite.Sprite(img=Bicep_image,x=350,y=150,batch=main_batch,group=background)\nforearm = ForeArm(x=510, y=115,batch=main_batch,group=foreground)\npyglet.gl.glClearColor(1, 1, 1, 1)\nmain_window.push_handlers(forearm)\nmain_window.push_handlers(forearm.key_handler)\n\n\ndef update(dt):\n  global displayData, data, flexing\n\n  newData = list(data)\n\n  data = []\n  newDisplay = list(displayData[len(newData):len(displayData)] + newData)\n  displayData = list(newDisplay)\n\n  #Put your flex algorithm code here!\n  #If flexing is detected, set the 'flexing' variable to True.\n  #Otherwise, set it to False. \n  #############################\n  #ALL OF YOUR CODE SHOULD GO BELOW HERE\n\n  if displayData &gt; 20:\n    flexing = True\n  else: \n    flexing = False\n\n  #ALL OF YOUR CODE SHOULD GO ABOVE HERE\n  forearm.update(dt)\n\n@main_window.event\ndef on_draw():\n    main_window.clear()\n    main_batch.draw()\n\n   pyglet.clock.schedule_interval(update, 1/120.0)\n   pyglet.app.run()\n</code></pre>\n"}, {"tags": ["python", "django", "shell", "anaconda", "ipython"], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 5, "last_activity_date": 1541630333, "last_edit_date": 1541630333, "creation_date": 1541630022, "answer_id": 53198913, "question_id": 53198860, "link": "https://stackoverflow.com/questions/53198860/how-to-change-django-manage-py-default-shell/53198913#53198913", "title": "How to change django manage.py default shell", "body": "<p>Django 1.10+: </p>\n\n<pre><code>python manage.py shell --interface python\n</code></pre>\n\n<p>Django &lt; 1.10:</p>\n\n<pre><code>python manage.py shell --plain\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 10467153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0d0c5fa9960f6a2a521f9dca1c92af?s=128&d=identicon&r=PG&f=1", "display_name": "tikej", "link": "https://stackoverflow.com/users/10467153/tikej"}, "edited": false, "score": 0, "creation_date": 1541674457, "post_id": 53199855, "comment_id": 93300556, "body": "I know this answer, it&#39;s just that I&#39;d prefere to use original shell. At least to know how to change between original, anaconda, and shell-plus shells."}], "tags": [], "owner": {"reputation": 480, "user_id": 7497575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00667d110a4e61b5745bc025216f4dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Seshadri VS", "link": "https://stackoverflow.com/users/7497575/seshadri-vs"}, "is_accepted": false, "score": 0, "last_activity_date": 1541636388, "creation_date": 1541636388, "answer_id": 53199855, "question_id": 53198860, "link": "https://stackoverflow.com/questions/53198860/how-to-change-django-manage-py-default-shell/53199855#53199855", "title": "How to change django manage.py default shell", "body": "<p>i dont know if you have used shell_plus. </p>\n\n<p><code>install django-extensions</code>, then use <code>python manage.py shell_plus</code></p>\n\n<p>shell plus is a very great tool. </p>\n\n<p>you can use shell / shell_plus to have a plain interface </p>\n\n<pre><code>python manage.py shell_plus --plain\n</code></pre>\n\n<p>Note:- its not recommended to use django-extension in prod versions. But i'm sure you would love shell_plus, as this would reduce the headache of importing all models.</p>\n"}], "owner": {"reputation": 99, "user_id": 10467153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0d0c5fa9960f6a2a521f9dca1c92af?s=128&d=identicon&r=PG&f=1", "display_name": "tikej", "link": "https://stackoverflow.com/users/10467153/tikej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1541636388, "creation_date": 1541629775, "question_id": 53198860, "link": "https://stackoverflow.com/questions/53198860/how-to-change-django-manage-py-default-shell", "title": "How to change django manage.py default shell", "body": "<p>I've just installed Anaconda and what's annoying that after executing:</p>\n\n<pre><code>python manage.py shell\n</code></pre>\n\n<p>The IPython shell is used. I'd like to change it back to default Python distribution. I'm using Visual Studio Code and already changed it interpreter to default python 3.6. Moreover the </p>\n\n<pre><code>python\n</code></pre>\n\n<p>command runs normal python distribution, and the problem exists both in Visual Studio and normal cmd terminal.</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "css-selectors"], "comments": [{"owner": {"reputation": 15697, "user_id": 458214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef09f4a6e7e0803825d17212d2dba67?s=128&d=identicon&r=PG", "display_name": "ewwink", "link": "https://stackoverflow.com/users/458214/ewwink"}, "edited": false, "score": 0, "creation_date": 1541670446, "post_id": 53198850, "comment_id": 93298407, "body": "what is underscore <code>_</code> mean?"}], "answers": [{"tags": [], "owner": {"reputation": 25741, "user_id": 374693, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/03c70489237ec9fc2e571af68b2dcaae?s=128&d=identicon&r=PG", "display_name": "JimEvans", "link": "https://stackoverflow.com/users/374693/jimevans"}, "is_accepted": false, "score": 2, "last_activity_date": 1541674294, "creation_date": 1541674294, "answer_id": 53206216, "question_id": 53198850, "link": "https://stackoverflow.com/questions/53198850/invalid-or-illegal-selector-while-looping-through-css-selector-with-selenium/53206216#53206216", "title": "Invalid or illegal selector while looping through CSS Selector with Selenium", "body": "<p>The issue is in your attempt to add your <code>record</code> loop variable to your selector. You\u2019ve used the following (full, convoluted selector omitted for brevity): </p>\n\n<pre><code>'tr:nth-child(record)'\n</code></pre>\n\n<p>What you really want is something like this:</p>\n\n<pre><code># Warning: below code might not\n# be syntactically correct Python\n'tr:nth-child(' + record + ')'\n</code></pre>\n\n<p>Given this is Python, you should be able to use string formatting to get the term correctly substituted into the selector string. See Python\u2019s documentation for full details of how to do that.</p>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1542102819, "creation_date": 1542102819, "answer_id": 53278254, "question_id": 53198850, "link": "https://stackoverflow.com/questions/53198850/invalid-or-illegal-selector-while-looping-through-css-selector-with-selenium/53278254#53278254", "title": "Invalid or illegal selector while looping through CSS Selector with Selenium", "body": "<p>@JimEvans's analysis was in the right direction.</p>\n\n<p>The <a href=\"https://www.w3schools.com/python/ref_func_range.asp\" rel=\"nofollow noreferrer\"><strong><code>range()</code></strong></a> function returns a sequence of numbers, starting from 0 by default, and increments by 1 (by default), and ends at a specified number.</p>\n\n<p>So the expression:</p>\n\n<pre><code>for record in range(35, 2, -1)\n</code></pre>\n\n<p>Will return the sequence of numbers as 35, 34, 33, etc till 2.</p>\n\n<p>So when using the variable <code>record</code> which holds a number from the sequence, to pass it within <code>find_element_by_css_selector()</code> method you need to convert it into <code>string</code>.</p>\n\n<p>So you need to replace the part:</p>\n\n<pre><code>tr:nth-child(record)\n</code></pre>\n\n<p>As:</p>\n\n<pre><code>tr:nth-child(str(record))\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 9057704, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/92b8098293d8382d61623df795e1aa51?s=128&d=identicon&r=PG&f=1", "display_name": "Gregory", "link": "https://stackoverflow.com/users/9057704/gregory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542102819, "creation_date": 1541629731, "last_edit_date": 1542102682, "question_id": 53198850, "link": "https://stackoverflow.com/questions/53198850/invalid-or-illegal-selector-while-looping-through-css-selector-with-selenium", "title": "Invalid or illegal selector while looping through CSS Selector with Selenium", "body": "<p>I am attempting to loop through a bunch of rows on a table with Selenium, but am finding that I get an error when attempting to do so. The code should loop through and capture each row in a variable and then compare it against my reference variable, but it throws an error indicating that I've added an invalid or illegal selector.</p>\n\n<p>Please find my code below:</p>\n\n<pre><code>for record in range(35, 2, -1):\n\n        current_record = self.browser.find_element_by_css_selector('#web-body &gt; div &gt; div _\n        &gt; div &gt; div &gt; div &gt; div &gt; _\n        div:nth-child(2) &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div:nth-child(2) _\n        &gt; div.FieldLayout---input_below &gt; div &gt; _\n        div.PagingGridLayout---scrollable_content &gt; table _\n        &gt; tbody &gt; tr:nth-child(record) &gt; td:nth-child(2) &gt; div &gt; p &gt; a')\n\n        print('the current record is: ' + current_record.text) \n        #print the current record for debugging purposes\n\n        if self.entry_test_id != current_record.text: \n            continue \n            #if the current record in the loop != the correct record, go to the next record\n\n        else:\n            web_was_record_found = True #note that record was found for next check\n\n            actions.key_down(Keys.SHIFT).click(current_record).key_up(Keys.SHIFT).perform() \n            #open the found record in a new WINDOW\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook", "bokeh", "bokehjs"], "comments": [{"owner": {"reputation": 661, "user_id": 10524064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpe12.png?s=128&g=1", "display_name": "Pallie", "link": "https://stackoverflow.com/users/10524064/pallie"}, "edited": false, "score": 0, "creation_date": 1541672712, "post_id": 53198837, "comment_id": 93299643, "body": "You could try updating the <code>ColumnDataSource</code> instead of replotting the figure. See <a href=\"https://hub.mybinder.org/user/bokeh-bokeh-notebooks-y42307kg/notebooks/tutorial/06%20-%20Linking%20and%20Interactions.ipynb\" rel=\"nofollow noreferrer\">hub.mybinder.org/user/bokeh-bokeh-notebooks-y42307kg/noteboo&zwnj;&#8203;ks/&hellip;</a> for examples."}, {"owner": {"reputation": 6675, "user_id": 875295, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/1rKE0.jpg?s=128&g=1", "display_name": "lezebulon", "link": "https://stackoverflow.com/users/875295/lezebulon"}, "reply_to_user": {"reputation": 661, "user_id": 10524064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpe12.png?s=128&g=1", "display_name": "Pallie", "link": "https://stackoverflow.com/users/10524064/pallie"}, "edited": false, "score": 0, "creation_date": 1541694363, "post_id": 53198837, "comment_id": 93311838, "body": "yes but honestly I&#39;m very uncomfortable with that, I&#39;d rather have a python callback that allows me to do whatever I want on my figure"}], "owner": {"reputation": 6675, "user_id": 875295, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/1rKE0.jpg?s=128&g=1", "display_name": "lezebulon", "link": "https://stackoverflow.com/users/875295/lezebulon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541629667, "creation_date": 1541629667, "question_id": 53198837, "link": "https://stackoverflow.com/questions/53198837/unable-to-refresh-plot-in-bokeh-js-with-jupyter-notebook", "title": "Unable to refresh plot in Bokeh JS with jupyter notebook", "body": "<p>I'm trying to port <a href=\"https://demo.bokehplots.com/apps/crossfilter\" rel=\"nofollow noreferrer\">this</a> example from Bokeh to inside a notebook (cf <a href=\"https://github.com/bokeh/bokeh/tree/master/examples/app/crossfilter\" rel=\"nofollow noreferrer\">here</a> the source code)</p>\n\n<p>Here's my attempt:</p>\n\n<pre><code>import pandas as pd\n\nfrom bokeh.layouts import row, widgetbox\nfrom bokeh.models import Select\nfrom bokeh.palettes import Spectral5\nfrom bokeh.plotting import curdoc, figure\n\ndf = pandas.DataFrame({'A': [1.1, 2.7, 5.3], 'B': [2, 10, 9], 'C': [3.3, 5.4, 1.5], 'D': [4, 7, 15]},\n                      index = ['a1', 'a2', 'a3'])\n\ncolumns = sorted(df.columns)\n\ndef create_figure(x_v):\n    xs = df[x_v].values\n    ys = df[y.value].values\n    x_title = x_v.title()\n    y_title = y.value.title()\n\n    kw = dict()\n    kw['title'] = \"%s vs %s\" % (x_title, y_title)\n\n    p = figure(plot_height=600, plot_width=800, tools='pan,box_zoom,hover,reset', **kw)\n    p.xaxis.axis_label = x_title\n    p.yaxis.axis_label = y_title\n\n\n    sz = 9\n    c = \"#31AADE\"\n    p.circle(x=xs, y=ys, color=c, size=sz, line_color=\"white\", alpha=0.6, hover_color='white', hover_alpha=0.5)\n\n    return p\n\nfig = create_figure('A')\n\ndef update(x_value):\n    global fig\n    global layout\n    global bokeh_handle\n    fig = create_figure(x_value)\n    layout = row(controls, fig)\n    push_notebook(handle=bokeh_handle) #doesn't update?\n\nx = Select(title='X-Axis', value='A', options=columns)\nx.js_on_change('value', CustomJS(code=\"\"\"\nif (IPython.notebook.kernel !== undefined) {\n    var kernel = IPython.notebook.kernel;\n    cmd = \"update('\" + cb_obj.value + \"')\";\n    kernel.execute(cmd, {}, {});\n}\n\"\"\"))\n\ncontrols = widgetbox([x], width=200)\nlayout = row(controls, fig)\n\nbokeh_handle = show(layout, notebook_handle=True)\n</code></pre>\n\n<p>This display my plot of 'A vs B' but then the plot never updates when I change the select widget.\nHow can I make it work?</p>\n\n<p>What I see is that the layout object is actually changed, because if I call <code>show(layout)</code> in a new cell it will redraw the updated layout.\nHowever it seems that I'm not correctly updating the old layout with the new one, as the new once never changes.\nHow can I fix this?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": true, "score": 8, "last_activity_date": 1541629874, "creation_date": 1541629874, "answer_id": 53198881, "question_id": 53198832, "link": "https://stackoverflow.com/questions/53198832/list-comprehension-version-of-extend/53198881#53198881", "title": "List comprehension version of &quot;extend&quot;", "body": "<p>You can use a nested list comprehension.</p>\n\n<pre><code>&gt;&gt;&gt; [t for i in range(6) for t in ((-i,i,0,2), (-i-1,i,0,6))]\n&gt;&gt;&gt; \n[(0, 0, 0, 2),\n (-1, 0, 0, 6),\n (-1, 1, 0, 2),\n (-2, 1, 0, 6),\n (-2, 2, 0, 2),\n (-3, 2, 0, 6),\n (-3, 3, 0, 2),\n (-4, 3, 0, 6),\n (-4, 4, 0, 2),\n (-5, 4, 0, 6),\n (-5, 5, 0, 2),\n (-6, 5, 0, 6)]\n</code></pre>\n\n<p>It reads like this</p>\n\n<pre><code>[what I want (t) | for loops as if writing non-listcomp code]\n</code></pre>\n\n<p>and is thus equivalent to</p>\n\n<pre><code>result = []\nfor i in range(6):\n    for t in ((-i,i,0,2), (-i-1,i,0,6)):\n        result.append(t)\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 10619856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f337659c36e1ace3c4fc6c812638b25d?s=128&d=identicon&r=PG&f=1", "display_name": "ksgj1", "link": "https://stackoverflow.com/users/10619856/ksgj1"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "closed_date": 1541630827, "accepted_answer_id": 53198881, "answer_count": 1, "score": 3, "last_activity_date": 1541631186, "creation_date": 1541629633, "question_id": 53198832, "link": "https://stackoverflow.com/questions/53198832/list-comprehension-version-of-extend", "closed_reason": "Duplicate", "title": "List comprehension version of &quot;extend&quot;", "body": "<p>Is there a 1-liner equivalent (using list comprehension) for the following:</p>\n\n<pre><code>a = []\nfor i in range(6):\n    a.extend(((-i,i,0,2),(-i-1,i,0,6)))\na = tuple(a)\n</code></pre>\n\n<p>I was thinking something like </p>\n\n<pre><code>tuple(((-i,i,0,2),(-i-1,i,0,6)) for i in range(6))\n</code></pre>\n\n<p>but this gives:</p>\n\n<pre><code>(((0, 0, 0, 2), (-1, 0, 0, 6)),\n ((-1, 1, 0, 2), (-2, 1, 0, 6)),\n ((-2, 2, 0, 2), (-3, 2, 0, 6)),\n ((-3, 3, 0, 2), (-4, 3, 0, 6)),\n ((-4, 4, 0, 2), (-5, 4, 0, 6)),\n ((-5, 5, 0, 2), (-6, 5, 0, 6)))\n</code></pre>\n\n<p>which is not what I want.</p>\n\n<p><strong>Desired output</strong></p>\n\n<pre><code>((0, 0, 0, 2),\n (-1, 0, 0, 6),\n (-1, 1, 0, 2),\n (-2, 1, 0, 6),\n (-2, 2, 0, 2),\n (-3, 2, 0, 6),\n (-3, 3, 0, 2),\n (-4, 3, 0, 6),\n (-4, 4, 0, 2),\n (-5, 4, 0, 6),\n (-5, 5, 0, 2),\n (-6, 5, 0, 6))\n</code></pre>\n"}, {"tags": ["python", "json", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 895, "user_id": 6875778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2865a0ea6b44de5b273197112219d67f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron England", "link": "https://stackoverflow.com/users/6875778/aaron-england"}, "edited": false, "score": 0, "creation_date": 1541689644, "post_id": 53201546, "comment_id": 93308915, "body": "Thank you. I had to switch the code around a little bit to get in the desired order, but your code worked great. I appreciate the help!"}], "tags": [], "owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "is_accepted": true, "score": 1, "last_activity_date": 1541651117, "creation_date": 1541651117, "answer_id": 53201546, "question_id": 53198810, "link": "https://stackoverflow.com/questions/53198810/pandas-dataframe-to-partially-nested-json/53201546#53201546", "title": "Pandas DataFrame to partially nested JSON", "body": "<p>You can do it by storing each nesting before processing the next.</p>\n\n<pre><code>df = pd.DataFrame({'subsidary': ['company name','company name'],\n                   'purchase_order_number': ['PO Num', 'PO Num'],\n                   'invoice_date': ['2018-10-15', '2018-10-15'],\n                   'vendor_invoice_number': ['777','777'],\n                   'vendor_sku': ['SKU888', 'SKU888'],\n                   'quantity': ['10', '20'],\n                   'rate': ['12.00', '11.00'],\n                   'amount': ['120.00', '220.00'],\n                   'freight': ['5.00', '5.00'],\n                   'taxes': ['0.00', '0.00']})\n\n# Your original procedure\nj = df.groupby(\n    ['subsidary','purchase_order_number','invoice_date',\n    'vendor_invoice_number', \"freight\", \"taxes\"],\n     as_index=False).apply(lambda x: x[['vendor_sku','quantity','rate','amount']].to_dict('r')\n                     ).reset_index().rename(columns={0:'item_charges'})\n\n# Store the item_charges and do it again      \nitem_charges = j[\"item_charges\"]\nj=j.groupby(['subsidary','purchase_order_number','invoice_date',\n             'vendor_invoice_number',\"freight\", \"taxes\"], as_index=False\n              ).apply(lambda x: x[[\"freight\", \"taxes\"]].to_dict('r')\n              ).reset_index().rename(columns={0:'invoice_charges'})\n\n# Add back the stored item_charges\nj[\"item_charges\"] = item_charges\nj = j.to_json(orient='records')\nprint(json.dumps(json.loads(j), indent=2, sort_keys=False))\n</code></pre>\n\n<p>I should say that I'm not thrilled with this approach and I can't imagine that it is performant, but it was what I could think of that works. And it works -- output below:</p>\n\n<pre><code>[\n  {\n    \"subsidary\": \"company name\",\n    \"purchase_order_number\": \"PO Num\",\n    \"invoice_date\": \"2018-10-15\",\n    \"vendor_invoice_number\": \"777\",\n    \"freight\": \"5.00\",\n    \"taxes\": \"0.00\",\n    \"invoice_charges\": [\n      {\n        \"freight\": \"5.00\",\n        \"taxes\": \"0.00\"\n      }\n    ],\n    \"item_charges\": [\n      {\n        \"vendor_sku\": \"SKU888\",\n        \"quantity\": \"10\",\n        \"rate\": \"12.00\",\n        \"amount\": \"120.00\"\n      },\n      {\n        \"vendor_sku\": \"SKU888\",\n        \"quantity\": \"20\",\n        \"rate\": \"11.00\",\n        \"amount\": \"220.00\"\n      }\n    ]\n  }\n]\n</code></pre>\n"}], "owner": {"reputation": 895, "user_id": 6875778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2865a0ea6b44de5b273197112219d67f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron England", "link": "https://stackoverflow.com/users/6875778/aaron-england"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53201546, "answer_count": 1, "score": 2, "last_activity_date": 1541651117, "creation_date": 1541629521, "question_id": 53198810, "link": "https://stackoverflow.com/questions/53198810/pandas-dataframe-to-partially-nested-json", "title": "Pandas DataFrame to partially nested JSON", "body": "<p>I have a question similar to <a href=\"https://stackoverflow.com/questions/40470954/convert-pandas-dataframe-to-nested-json\">this one</a>. However, I need my JSON to be partially-nested. Currently, my dataframe looks like this:</p>\n\n<pre><code>df = pd.DataFrame({'subsidary': ['company name','company name'],\n                   'purchase_order_number': ['PO Num', 'PO Num'],\n                   'invoice_date': ['2018-10-15', '2018-10-15'],\n                   'vendor_invoice_number': ['777','777'],\n                   'vendor_sku': ['SKU888', 'SKU888'],\n                   'quantity': ['10', '20'],\n                   'rate': ['12.00', '11.00'],\n                   'amount': ['120.00', '220.00'],\n                   'freight': ['5.00', '5.00'],\n                   'taxes': ['0.00', '0.00']})\n</code></pre>\n\n<p>Using the link above and the code below:</p>\n\n<pre><code>j = (df.groupby(['subsidary','purchase_order_number','invoice_date','vendor_invoice_number'], as_index=False)\n           .apply(lambda x: x[['vendor_sku','quantity','rate','amount']].to_dict('r'))\n           .reset_index()\n           .rename(columns={0:'item_charges'})   \n           .to_json(orient='records'))\n\nprint(json.dumps(json.loads(j), indent=2, sort_keys=False))\n</code></pre>\n\n<p>I was able to get it to look like this:</p>\n\n<pre><code>[\n  {\n    \"subsidary\": \"company name\",\n    \"purchase_order_number\": \"PO Num\",\n    \"invoice_date\": \"2018-10-15\",\n    \"vendor_invoice_number\": \"777\",\n    \"item_charges\": [\n      {\n        \"vendor_sku\": \"SKU888\",\n        \"quantity\": \"10\",\n        \"rate\": \"12.00\",\n        \"amount\": \"120.00\"\n      },\n      {\n        \"vendor_sku\": \"SKU888\",\n        \"quantity\": \"20\",\n        \"rate\": \"11.00\",\n        \"amount\": \"220.00\"\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>However, I would like it to look like this:</p>\n\n<pre><code>[\n  {\n    \"subsidary\": \"Natural Partners\",\n    \"purchase_order_number\": \"AZ003387-PO\",\n    \"invoice_date\": \"2018-10-15\",\n    \"vendor_invoice_number\": \"76947\",\n    \"item_charges\": [\n      {\n        \"vendor_sku\": \"SUP002\",\n        \"quantity\": \"12.00\",\n        \"rate\": \"14.50\",\n        \"amount\": \"174.00\"\n      },\n      {\n        \"vendor_sku\": \"SUP004\",\n        \"quantity\": \"3.00\",\n        \"rate\": \"8.75\",\n        \"amount\": \"26.25\"\n      }\n    ],\n    \"invoice_charges\": \n    {\n       \"freight\": '5.00',\n       \"taxes\": '0.00',\n    }\n  }\n]\n</code></pre>\n\n<p>Is there a way for me to do this within python?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "python-3.x", "function", "concatenation"], "comments": [{"owner": {"reputation": 3091, "user_id": 7941251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd737c36d4225c66b8f647faecf5b793?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStormer", "link": "https://stackoverflow.com/users/7941251/superstormer"}, "edited": false, "score": 0, "creation_date": 1541631094, "post_id": 53198791, "comment_id": 93286738, "body": "Suggestion: In the future, consider following <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP8</a>, the Python style guide."}], "answers": [{"tags": [], "owner": {"reputation": 3091, "user_id": 7941251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd737c36d4225c66b8f647faecf5b793?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStormer", "link": "https://stackoverflow.com/users/7941251/superstormer"}, "is_accepted": false, "score": 0, "last_activity_date": 1541630890, "creation_date": 1541630890, "answer_id": 53199084, "question_id": 53198791, "link": "https://stackoverflow.com/questions/53198791/concatenation-of-string-integer-names-within-functions-python3/53199084#53199084", "title": "concatenation of string &amp; integer NAMES within functions (python3)", "body": "<p>Create a <code>dict</code> or a <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">collections.Counter</a> and then inside <code>tabulateANYTHING</code> increment the value that has the key that matches <code>TYPE</code></p>\n\n<p>For example, if your dict is named <code>quantities</code>:\n<code>quantities[TYPE]+=1</code></p>\n\n<p>For the files, create a <code>dict</code> of files and write to the one that has the key that matches <code>TYPE</code>.\nSame thing for the file headers.</p>\n"}], "owner": {"reputation": 23, "user_id": 10620124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vNW15.png?s=128&g=1", "display_name": "atomAnt", "link": "https://stackoverflow.com/users/10620124/atomant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541631473, "creation_date": 1541629400, "last_edit_date": 1541631473, "question_id": 53198791, "link": "https://stackoverflow.com/questions/53198791/concatenation-of-string-integer-names-within-functions-python3", "title": "concatenation of string &amp; integer NAMES within functions (python3)", "body": "<p>This is the first posting I've done to this forum.</p>\n\n<p>I have these strings, integers, and filenames declared early on...</p>\n\n<pre><code>linefeed='\\n'\n\nconsonantFileHeader='Consonants found in the infile:'\nvowelFileHeader='Vowels found in the infile:'\n\nqConsonant=0\nqVowel=0\nConsonantFile=open(path/tothe/file/chapters/Consonants.txt,'w+')\nVowelFile=open(path/tothe/file/chapters/Vowels.txt,'w+')\n</code></pre>\n\n<p>the program reads in unicode glyphs one by one, and assigns each a 'type'.</p>\n\n<pre><code>if glyph='A': \n   type='VOWEL'\nelif glyph='B':\n   type='CONSONANT'\n    ... etc...\n</code></pre>\n\n<p>later on, we want to add to a running count of each 'type' and write a record to a file that shows all the occurrences of each 'type'. It's routine code, that we don't want cluttering up our <code>main</code> function, so we call another function to do it....</p>\n\n<pre><code>if  type == 'CONSONANT':\n    tabulateCONSONANT(glyph)\nelif type == 'VOWEL':\n    tabulateVOWEL(glyph)\n</code></pre>\n\n<p>at this point, two different <code>types</code> - two different functions. here they are...</p>\n\n<pre><code>## ------------------------------------------------------------\ndef tabulateCONSONANT(glyph):\n    qConsonant=qConsonant+1   # bump up a counter\n    if  qConsonant = 1        # on 1 write header to output\n        ConsonantFile.write(consonantFileHeader)  \n    ConsonantFile.write(glyph+linefeed) # write data after    \n    return ;\n## ------------------------------------------------------------\ndef tabulateVOWEL(glyph):\n    qVowel=qVowel+1  # bump up counter\n   if  qVowel = 1\n        VowelFile.write(vowelFileHeader) # on 1, write header \n    VowelFile.write(glyph+linefeed)      # write data after\n    return ;\n</code></pre>\n\n<p>fine and dandy, but this seems really redundant to me. even though only the actual NAMES of the values change, I have to call a different function for each type!</p>\n\n<p>Is there any way write a single function that wherein we can concatenate the actual ITEM NAMES to do something like the following...?</p>\n\n<pre><code>if  type == 'CONSONANT':\n    tabulateANYTHING(glyph,'Consonant')\nelif type == 'VOWEL': \n    tabulateANYTHING(glyph,'Vowel')\n\n## ------------------------------------------------------------\ndef tabulateANYTHING(glyph,TYPE):\n# concatenate 'q'with 'TYPE' to reference 'qVowel'\n    qTYPE=qTYPE+1  \n    if  qTYPE = 1\n# concatenate 'TYPE' with part of the filename &gt; 'VowelFile'\n    TYPEFile.write(TYPEFileHeader)  \n    TYPEFile.write(glyph+linefeed)  # again,concatenation...\n    return ;\n</code></pre>\n\n<p>if you don't know what the heck I'm trying to do here, let me know and I'll try to make it clearer...</p>\n"}, {"tags": ["python", "pandas", "list"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541635012, "post_id": 53199058, "comment_id": 93287871, "body": "thanks for solution but I do need <code>d</code> not because of the <code>8</code> difference, because it is the reference and i want its corresponding value to be included in list as well!"}, {"owner": {"reputation": 705, "user_id": 5920741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2d96197a5f07a97f2ba3abf0e913db?s=128&d=identicon&r=PG&f=1", "display_name": "AmourK", "link": "https://stackoverflow.com/users/5920741/amourk"}, "reply_to_user": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541690131, "post_id": 53199058, "comment_id": 93309234, "body": "Hi, I have updated the solution by including the last row."}, {"owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541754902, "post_id": 53199058, "comment_id": 93332466, "body": "Is there any way to use df.query() for comparing the last entry of second column to ONLY its previous value and see if is less than a specific value, change the corresponding value to <code>nan</code> and make the list like <code>[d, &#39;nan&#39;]</code>?"}, {"owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541755656, "post_id": 53199058, "comment_id": 93332818, "body": "I tried this <code>qry = &quot;{ref} - {refer} &lt; 12 &quot;.format(ref=last_entry, refer=last_to_sec)</code> <code>df.query(qry)</code> and I got this error <code>KeyError: u&#39;the label [True] is not in the [index]&#39; </code>"}, {"owner": {"reputation": 705, "user_id": 5920741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2d96197a5f07a97f2ba3abf0e913db?s=128&d=identicon&r=PG&f=1", "display_name": "AmourK", "link": "https://stackoverflow.com/users/5920741/amourk"}, "reply_to_user": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541780369, "post_id": 53199058, "comment_id": 93345784, "body": "I updated the answer to reflect your new question. Please accept my answer if it works, thanks!"}, {"owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "edited": false, "score": 0, "creation_date": 1541786898, "post_id": 53199058, "comment_id": 93349089, "body": "the new addition part is not what i want. I want the comparison of two last entries in <code>second</code> column, see if less than a specific value. if so, grab the two last entries of corresponding values in <code>First</code> column and change the second to last entry of FIRST column to <code>nan</code>.The desired output is in the dataframe format with the <code>first</code> column with the value [d, &#39;nan&#39;]"}], "tags": [], "owner": {"reputation": 705, "user_id": 5920741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2d96197a5f07a97f2ba3abf0e913db?s=128&d=identicon&r=PG&f=1", "display_name": "AmourK", "link": "https://stackoverflow.com/users/5920741/amourk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541790461, "last_edit_date": 1541790461, "creation_date": 1541630758, "answer_id": 53199058, "question_id": 53198786, "link": "https://stackoverflow.com/questions/53198786/create-a-list-of-values-in-a-column-in-pandas-based-on-values-of-another-column/53199058#53199058", "title": "create a list of values in a column in pandas based on values of another column", "body": "<p>From the way I interpreted your question <code>d</code> should not be included. This is since <code>18 - 18 = 0 &lt; 8</code></p>\n\n<p>Regardless, I took a three step approach to this problem.</p>\n\n<pre><code># Get the desired reference value\nlast_entry = df.iloc[-1][col2]\n\n# Select only rows whose difference is at least 8 \n# Or the case where it is the last entry \nqry = \"{ref}-col2 &gt;= 8 or index=={idx}\".format(ref=last_entry, idx=len(df)-1)\ndiff_gt_8 = df.query(qry) \n\n# For each value of col3 get a list of values of col1 and convert to DataFrame\npd.DataFrame( diff_gt_8.groupby(col3)[col1].apply(list) )\n</code></pre>\n\n<p>To compare it to your previous value:</p>\n\n<pre><code>df[(df[col2] - df[col2].shift(1)) &lt; 12]\n</code></pre>\n\n<p>Note that <code>df[col2].shift(1)</code> returns a series with all rows down by 1. So we can compare a row in <code>df[col2]</code> to its previous row.\nThe first value will never be included since it is NaN (not a number).</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If I've understood your new question correctly, this is what you want.</p>\n\n<pre><code>last_two_rows = df.iloc[-2:, :] # Select last two rows\nif (last_two_rows.iloc[-1][col2] - last_two_rows.iloc[-2][col2]) &lt; 12:\n    last_two_rows[col1].iloc[-2] = np.nan\nlast_two_rows[[col1]]\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541790461, "creation_date": 1541629348, "last_edit_date": 1541635540, "question_id": 53198786, "link": "https://stackoverflow.com/questions/53198786/create-a-list-of-values-in-a-column-in-pandas-based-on-values-of-another-column", "title": "create a list of values in a column in pandas based on values of another column", "body": "<p>I have a dataframe containing 3 columns. I want to get the value in first column corresponding to last entry in second column and the the value in first column whose their associated values in second column have at least 8 difference with the last entry of second column and put them in a list. Since <code>18</code> is the reference, I want to have its associated value from col1 in the list and have a data frame in the output. I am trying to figure out how I can do this in pandas.</p>\n\n<pre><code>col1  col2   col3\n a      0      1\n b      2      1\n c      13     1\n d      18     1\n</code></pre>\n\n<p>the output that i want is: </p>\n\n<pre><code>    col1   col3\n [d, b, a]  1\n</code></pre>\n\n<p>Thanks in advance.  </p>\n"}, {"tags": ["python", "xml", "string", "python-3.x", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634288, "post_id": 53199398, "comment_id": 93287702, "body": "the file has no .xml suffix so he cant open the file"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634325, "post_id": 53199398, "comment_id": 93287710, "body": "just change the suffix in the code then, it will still work"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634495, "post_id": 53199398, "comment_id": 93287753, "body": "i try this like you said and getting this : error FileNotFoundError: [Errno 2] No such file or directory: &#39;b.xml&#39;"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634529, "post_id": 53199398, "comment_id": 93287763, "body": "where is you file? you need to provide correct path to your file in the code, not just copy paste my code"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634569, "post_id": 53199398, "comment_id": 93287775, "body": "the file are not XML file they written in a tags like XML just witout root tag"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634595, "post_id": 53199398, "comment_id": 93287779, "body": "my file is in the project folder"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634617, "post_id": 53199398, "comment_id": 93287788, "body": "it doesn&#39;t matter if its a xml file, just replace <code>d:&#47;b.xml</code> with the path to your file"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634720, "post_id": 53199398, "comment_id": 93287808, "body": "still the same outcome."}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634765, "post_id": 53199398, "comment_id": 93287814, "body": "understand the basic of python before asking question and attempt something."}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634823, "post_id": 53199398, "comment_id": 93287827, "body": "the location of the file is inside the project so the full path don&#39;t matter it still try to open it with file name b.xml that dosent exist but b is"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634885, "post_id": 53199398, "comment_id": 93287849, "body": "what is the name of the file in project folder? and what is the extension? the code couldn&#39;t file the file which means you are providing incorrect name"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541634912, "post_id": 53199398, "comment_id": 93287853, "body": "of course, already solve this with beautiful soup but the Performence are poor"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541635001, "post_id": 53199398, "comment_id": 93287869, "body": "there is not extension for the file i&#39;ts a file from the type &quot;file&quot; (by the file properties)"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541635374, "post_id": 53199398, "comment_id": 93287951, "body": "if i allowed to do so i&#39;t will be great. but i cant change the file i have 1800+ file just like this and the format of the file is not exactly XML so if i do so it will show me error like this: lxml.etree.XMLSyntaxError: Extra content at the end of the document, line 183, column 1"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541636404, "post_id": 53199398, "comment_id": 93288173, "body": "this should work for any file not just xml as long as file has tags. The reason of your error is your are not providing correct path to the file"}, {"owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "edited": false, "score": 0, "creation_date": 1541637084, "post_id": 53199398, "comment_id": 93288342, "body": "i write your suggested code with the path &quot;C:\\\\Users\\myUser\\PycharmProjects\\SE\\\\b.xml&quot;"}], "tags": [], "owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "is_accepted": false, "score": 0, "last_activity_date": 1541633228, "last_edit_date": 1541633228, "creation_date": 1541632911, "answer_id": 53199398, "question_id": 53198704, "link": "https://stackoverflow.com/questions/53198704/parsing-string-that-uses-xml-like-tags-in-a-fast-way/53199398#53199398", "title": "parsing string that uses xml like tags in a fast way", "body": "<p>using <code>fromstring</code> function from <code>lxml.html</code> as <a href=\"https://lxml.de/lxmlhtml.html#examples\" rel=\"nofollow noreferrer\">described in example here</a>,</p>\n\n<pre><code>with open(\"d:/b.xml\") as f:\n    read_xml = fromstring(f.read())\n    for tag in read_xml:\n        print(tag.text_content().strip())\n</code></pre>\n\n<p>gives you,</p>\n\n<pre><code>123\n\n           very cool item\n\n\n         more informaion about this item\n123\n\n           very cool item\n\n\n         more informaion about this item\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10467493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eX54InH-5xY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUCXjY3mqdsdQ221R9_R5lpBfcbpg/mo/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10467493/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1541633228, "creation_date": 1541628981, "last_edit_date": 1541633010, "question_id": 53198704, "link": "https://stackoverflow.com/questions/53198704/parsing-string-that-uses-xml-like-tags-in-a-fast-way", "title": "parsing string that uses xml like tags in a fast way", "body": "<p>i have a file that contains data in this format look like XML without the root tag</p>\n\n<pre><code>&lt;Item&gt;\n     &lt;ItemNumber&gt;123&lt;/ItemNumber&gt;\n        &lt;ItemData&gt;\n           very cool item\n        &lt;/itemData&gt;\n        &lt;ItemData&gt;\n         more informaion about this item\n        &lt;/ItemData&gt;\n&lt;/Item&gt;\n&lt;Item&gt;\n     &lt;ItemNumber&gt;123&lt;/ItemNumber&gt;\n        &lt;ItemData&gt;\n           very cool item\n        &lt;/itemData&gt;\n        &lt;ItemData&gt;\n         more informaion about this item\n        &lt;/ItemData&gt;\n&lt;/Item&gt;\n</code></pre>\n\n<p>i have alot of files in this format(1800+ each file 1M-5M), and i need to parse them\nIn a way that would allow me to access the data between tags and \noptional data in the tags in a fast way.\ni try to use beautifulSoup but i'ts not very efficient, \ntried also lxml but because i don't have a root tags i'ts make me lots of errors and i cant change the files </p>\n\n<p>need to use python3</p>\n"}, {"tags": ["python", "openpyxl"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1541671241, "post_id": 53198694, "comment_id": 93298851, "body": "Apart from the fact that a DateAxis isn&#39;t really that useful, the problem is probably that each axis requires a unique id. openpyxl defaults to different ones for the different types, which solves most cases but I suspect you&#39;ll need to set a different ID and crossAx for the second one. If I have time I&#39;ll look at the the code you have."}], "answers": [{"comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1541695742, "post_id": 53210064, "comment_id": 93312596, "body": "Thanks for the response. Can you elaborate on why a DateAxis isn&#39;t useful? I&#39;m using toy data here, but in my real use case I have a long, erratically spaced time series going back 20 year. A categorical axis wouldn&#39;t work in that situation."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1541695905, "post_id": 53210064, "comment_id": 93312675, "body": "Also, could you explain <code>crossAx</code>? Is it the <code>axId</code> of the other axis in an x/y pair of axes?"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1541701164, "post_id": 53210064, "comment_id": 93315331, "body": "AFAICT DateAxes just change the options in the GUI such as the intervals. A bit meh for generated charts so I never use it myself. And, yes, <code>crossAx</code> refers to the <code>axId</code> that the y-axis connects to. The specification doesn&#39;t really cover any of this, it&#39;s one of the few areas where you really have to work backwards from what Excel generates. :-/"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1541702392, "post_id": 53210064, "comment_id": 93315907, "body": "Thanks for the info. I disagree that DateAxis isn&#39;t useful. For irregularly spaced data such as what I&#39;m working will, it&#39;s much better than leaving the axes categorical."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1541755777, "post_id": 53210064, "comment_id": 93332881, "body": "Fine if it works for you. But basically it is just a categorical axis with some slightly different options."}], "tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": true, "score": 2, "last_activity_date": 1541688224, "creation_date": 1541688224, "answer_id": 53210064, "question_id": 53198694, "link": "https://stackoverflow.com/questions/53198694/chart-with-secondary-y-axis-and-x-axis-as-dates/53210064#53210064", "title": "Chart with secondary y-axis and x-axis as dates", "body": "<p>So, as noted in my comments, there isn't really much benefit in <code>DateAxes</code> but if you use them then they have a default id of 500. This is important because it is the value that the y-axes need to cross. <code>CrossAx</code> for the category/date axis doesn't seen to matter. The following works for me:</p>\n\n<pre><code>from datetime import datetime\nfrom openpyxl import Workbook, chart\n\nwb = Workbook()\nws = wb.active\n\nxvals = ['date', *[datetime(2018, 11, d, d+12) for d in range(1, 7)]]\navals = ['aliens', 6, 3, 4, 3, 6, 7]\nhvals = ['humans', 10, 40, 50, 20, 10, 50]\n\nfor row in zip(xvals, avals, hvals):\n    ws.append(row)\n\ndates = chart.Reference(ws, min_row=2, max_row=7, min_col=1, max_col=1)\naliens = chart.Reference(ws, min_row=1, max_row=7, min_col=2, max_col=2)\nhumans = chart.Reference(ws, min_row=1, max_row=7, min_col=3, max_col=3)\n\nc1 = chart.LineChart()\nc1.x_axis = chart.axis.DateAxis() # axId defaults to 500\nc1.x_axis.title = \"Date\"\nc1.x_axis.crosses = \"min\"\nc1.x_axis.majorTickMark = \"out\"\nc1.x_axis.number_format = \"yyyy-mmm-dd\"\n\nc1.add_data(aliens, titles_from_data=True)\nc1.set_categories(dates)\nc1.y_axis.title = 'Aliens'\nc1.y_axis.crossAx = 500\nc1.y_axis.majorGridlines = None\n\n# Create a second chart\nc2 = chart.LineChart()\nc2.x_axis.axId = 500 # same as c1\n\nc2.x_axis.crosses = \"min\"\nc2.add_data(humans, titles_from_data=True)\nc2.set_categories(dates)\n\nc2.y_axis.axId = 20\nc2.y_axis.title = \"Humans\"\nc2.y_axis.crossAx = 500\n\n# Display y-axis of the second chart on the right\n# by setting it to cross the x-axis at its maximum\nc1.y_axis.crosses = \"max\"\nc1 += c2\n\nws.add_chart(c1, \"E4\")\nwb.save(\"secondary.xlsx\")\n</code></pre>\n"}], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1262, "favorite_count": 0, "accepted_answer_id": 53210064, "answer_count": 1, "score": -1, "last_activity_date": 1541688224, "creation_date": 1541628949, "last_edit_date": 1541637093, "question_id": 53198694, "link": "https://stackoverflow.com/questions/53198694/chart-with-secondary-y-axis-and-x-axis-as-dates", "title": "Chart with secondary y-axis and x-axis as dates", "body": "<p>I'm trying to create a chart in openpyxl with a secondary y-axis and an <code>DateAxis</code> for the x-values.</p>\n\n<p>For this MWE, I've adapted the <a href=\"https://openpyxl.readthedocs.io/en/stable/charts/secondary.html\" rel=\"nofollow noreferrer\">secondary axis example</a> with the <a href=\"https://openpyxl.readthedocs.io/en/stable/charts/line.html\" rel=\"nofollow noreferrer\">DateAxis example</a>.</p>\n\n<pre><code>from datetime import datetime\nfrom openpyxl import Workbook, chart\n\n# set to True to fail/create an invalid document\n# set to False to generate a valid, but ugly/useless chart\nDATES_ON_2ND = True\n\nwb = Workbook()\nws = wb.active\n\nxvals = ['date', *[datetime(2018, 11, d, d+12) for d in range(1, 7)]]\navals = ['aliens', 6, 3, 4, 3, 6, 7]\nhvals = ['humans', 10, 40, 50, 20, 10, 50]\n\nfor row in zip(xvals, avals, hvals):\n    ws.append(row)\n\ndates = chart.Reference(ws, min_row=2, max_row=7, min_col=1, max_col=1)\naliens = chart.Reference(ws, min_row=1, max_row=7, min_col=2, max_col=2)\nhumans = chart.Reference(ws, min_row=1, max_row=7, min_col=3, max_col=3)\n\nc1 = chart.LineChart()\nc1.x_axis = chart.axis.DateAxis(crossAx=100)\nc1.x_axis.title = \"Date\"\nc1.x_axis.crosses = \"min\"\nc1.x_axis.majorTickMark = \"out\"\nc1.x_axis.number_format = \"yyyy-mmm-dd\"\n\nc1.add_data(aliens, titles_from_data=True)\nc1.set_categories(dates)\nc1.y_axis.title = 'Aliens'\n\n# Create a second chart\nc2 = chart.LineChart()\nif DATES_ON_2ND:\n    c2.x_axis = chart.axis.DateAxis(crossAx=100)\n    c2.x_axis.number_format = \"yyyy-mmm-dd\"\n\nc2.x_axis.crosses = \"min\"\nc2.add_data(humans, titles_from_data=True)\nc2.set_categories(dates)\n\n# c2.y_axis.axId = 200\nc2.y_axis.title = \"Humans\"\n\n# Display y-axis of the second chart on the right\n# by setting it to cross the x-axis at its maximum\nc1.y_axis.crosses = \"max\"\nc1 += c2\n\nws.add_chart(c1, \"E4\")\nwb.save(\"secondary.xlsx\")\n</code></pre>\n\n<p>When I leave the secondary <em>x</em> axis as a categorical axis, a valid Excel document is created, even if the chart isn't what I want. But setting the secondary axis as a DateAxis the same way as the primary axis generates an invalid corrupted file that fails to show any chart.</p>\n\n<p>Is there a trick to this that I'm missing?</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7"], "comments": [{"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 2, "creation_date": 1541629129, "post_id": 53198668, "comment_id": 93286024, "body": "I&#39;m thinking <a href=\"https://pandas.pydata.org\" rel=\"nofollow noreferrer\">pandas</a> here."}, {"owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "edited": false, "score": 0, "creation_date": 1542717890, "post_id": 53198668, "comment_id": 93661795, "body": "Did you manage to solve your question?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9335777"}, "edited": false, "score": 0, "creation_date": 1542892628, "post_id": 53198668, "comment_id": 93737441, "body": "I did, so sorry for not replying. It worked just fine."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9335777"}, "edited": false, "score": 0, "creation_date": 1541629299, "post_id": 53198764, "comment_id": 93286091, "body": "I&#39;ll try this out and let you know what happens."}], "tags": [], "owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629245, "creation_date": 1541629245, "answer_id": 53198764, "question_id": 53198668, "link": "https://stackoverflow.com/questions/53198668/distinguish-text-of-certain-format-with-python/53198764#53198764", "title": "Distinguish Text of Certain Format with Python", "body": "<p>On the top of my head I would read the file in, split the content by sep=\"   \" (three spaces) and finally create a dictionary of the separate parts. The headers are the keys and the following rows are the values.</p>\n"}, {"tags": [], "owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1541632616, "last_edit_date": 1541632616, "creation_date": 1541631802, "answer_id": 53199230, "question_id": 53198668, "link": "https://stackoverflow.com/questions/53198668/distinguish-text-of-certain-format-with-python/53199230#53199230", "title": "Distinguish Text of Certain Format with Python", "body": "<p>The phrase for formatting that you might have been looking for can be called as pattern matching, or <a href=\"https://docs.python.org/3/howto/regex.html\" rel=\"nofollow noreferrer\">regex</a>.</p>\n\n<p>If all else fails, you should always be able to muscle your way through this problem using regex to find the end of a section. \nNote that it might still be wise to follow up this code with logic that can import your data into pandas or something similar that you can manage easily.\nIf you wish to tweak this regex, i find <a href=\"https://regex101.com/r/jQIeTz/1\" rel=\"nofollow noreferrer\">regex101.com</a> very useful. Hope this helps.</p>\n\n<pre><code>import re    \n#matches the pattern UPPERCASE,SPACE followed by (UPPERCASE, SPACE) repeated, \n#followed by TWO SPACE optional\n#whole pattern can be repeated. \n#You may want to tweak the rules to make it more strict as necessary.\n\npattern = re.compile(\"(([A-Z] )([A-Z] )+(  )?)+\")\n\ntest = '''                                         D I S P L A C E M E N T   V E C T O R\n\n  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3\n    158819      G      1.709110E-04   7.605540E-16  -1.555717E-15  -4.860894E-18   1.829865E-03  -2.318361E-02\n    158820      G      1.875926E-04   7.603908E-16  -1.382438E-15   2.883937E-18   3.121088E-04   2.332622E-02\n    158821      G      1.275168E-04   6.281925E-16  -1.472595E-15  -1.425970E-17   4.282258E-03  -1.669750E-02\n    158822      G      1.712281E-04   7.267596E-16  -1.473447E-15  -2.136693E-18   1.425850E-03   2.210620E-02\n    158823      G      1.010464E-04   5.633097E-16  -1.426041E-15  -3.498301E-17   4.969753E-03  -1.144002E-02\n    158824      G      1.274082E-04   6.164795E-16  -1.567410E-15  -5.947361E-18   3.224372E-03   1.580865E-02\n                                                 L O A D   V E C T O R\n\n  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3\n    158801      G      1.175810E+02  -3.610042E-16  -2.782717E-12   0.0            0.0            0.0\n    158802      G      8.539756E+01   1.118419E-15  -2.639934E-12   0.0            0.0            0.0\n    158803      G      9.717072E+01  -7.574143E-16  -2.682750E-12   0.0            0.0            0.0\n    158804      G      1.175825E+02   0.0           -2.986422E-12   0.0            0.0            0.0'''\n\n#your input for beginning of a section header    \nbegin = 'displacement vector'\n#getting it into the correct style laid out here for section headers.\nbegin = ' '.join(begin.upper()) \nlocation = test.find(begin)\n\nif location != -1:\n    relevant_section = test[location + len(begin):]\nelse:\n    relevant_section = test\n#regex matching for end of section\nend = pattern.search(relevant_section)\nif end is not None:\n    end = end.span()[0]\n    relevant_section = relevant_section[:end]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9335777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1541632616, "creation_date": 1541628823, "question_id": 53198668, "link": "https://stackoverflow.com/questions/53198668/distinguish-text-of-certain-format-with-python", "title": "Distinguish Text of Certain Format with Python", "body": "<p>Alright, so I have a question to pose, and I'm not exactly sure how to phrase it, and I couldn't find anything on the Internet either for that same reason.  But I have a large text file, and it's an output from a Nastran job; here is a sample :</p>\n\n<pre><code>                                         D I S P L A C E M E N T   V E C T O R\n\n  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3\n    158819      G      1.709110E-04   7.605540E-16  -1.555717E-15  -4.860894E-18   1.829865E-03  -2.318361E-02\n    158820      G      1.875926E-04   7.603908E-16  -1.382438E-15   2.883937E-18   3.121088E-04   2.332622E-02\n    158821      G      1.275168E-04   6.281925E-16  -1.472595E-15  -1.425970E-17   4.282258E-03  -1.669750E-02\n    158822      G      1.712281E-04   7.267596E-16  -1.473447E-15  -2.136693E-18   1.425850E-03   2.210620E-02\n    158823      G      1.010464E-04   5.633097E-16  -1.426041E-15  -3.498301E-17   4.969753E-03  -1.144002E-02\n    158824      G      1.274082E-04   6.164795E-16  -1.567410E-15  -5.947361E-18   3.224372E-03   1.580865E-02\n                                                 L O A D   V E C T O R\n\n  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3\n    158801      G      1.175810E+02  -3.610042E-16  -2.782717E-12   0.0            0.0            0.0\n    158802      G      8.539756E+01   1.118419E-15  -2.639934E-12   0.0            0.0            0.0\n    158803      G      9.717072E+01  -7.574143E-16  -2.682750E-12   0.0            0.0            0.0\n    158804      G      1.175825E+02   0.0           -2.986422E-12   0.0            0.0            0.0\n</code></pre>\n\n<p>So as you can see, Nastran creates the file by heading each section with the name in all caps and a space between each letter, and three spaces between each word.  So my question is, if I have a script that looks for a POINT ID. in the file, how can I write it such that if I specify a section, it looks for the section name with the formatting, but it also stops at the next section, regardless of the name of the section, but stopping with respect to the formatting of the section header.</p>\n\n<p>Thanks so much for any help, please let me know if that doesn't make sense.</p>\n"}, {"tags": ["python", "json", "file", "contextmanager"], "comments": [{"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1541629087, "post_id": 53198665, "comment_id": 101151695, "body": "When you copy code from the internet, there&#39;s no guarantee that it is actually working. You have one &quot;with open&quot; that works and one that doesn&#39;t work. You also have an error message telling you why the second one doesn&#39;t work. That should give you enough information to fix the problem."}, {"owner": {"reputation": 526, "user_id": 3844774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5fbae5955fa36798159f0de2bac12b5f?s=128&d=identicon&r=PG", "display_name": "Quantum Mechanic", "link": "https://stackoverflow.com/users/3844774/quantum-mechanic"}, "edited": false, "score": 0, "creation_date": 1595254514, "post_id": 53198665, "comment_id": 111402955, "body": "Neither the question, nor the single answer will actually work, because the target of <code>as</code> doesn&#39;t match the parameter in the <code>json.dump()</code> call: <code>jsonFIle</code> vs <code>jsonFile</code> (Capital Eye vs lowercase Eye)."}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 9224678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1332cc923d0115fd72debbe647dc205d?s=128&d=identicon&r=PG&f=1", "display_name": "General4077", "link": "https://stackoverflow.com/users/9224678/general4077"}, "is_accepted": false, "score": 7, "last_activity_date": 1613488046, "last_edit_date": 1613488046, "creation_date": 1560254337, "answer_id": 56543218, "question_id": 53198665, "link": "https://stackoverflow.com/questions/53198665/typeerror-expected-str-bytes-or-os-pathlike-object-not-io-textiowrapper/56543218#56543218", "title": "TypeError: expected str, bytes or os.PathLike object, not _io.TextIOWrapper", "body": "<p>This Question is a bit old, but for anyone with the same issue:</p>\n<p>You're right you can't open the jsonFile variable. Its a pointer to another file connection and open wants a string or something similar. Its worth noting that jsonFile should also be closed once you exit the 'with' block so it should not be referenced outside of that.</p>\n<p>To answer the question though:</p>\n<pre><code>with open(jsonFile, 'w') as jsonFIle:\n   json.dump(json_decoded,jsonFile)\n</code></pre>\n<p>should be</p>\n<pre><code>with open(string_filename, 'w') as jsonFile:\n    json.dump(json_decoded,jsonFile)\n</code></pre>\n<p>You can see  we just need to use the same string to open a new connection and then we can give it the same alias we used to read the file if we want. Personally I prefer in_file and out_file just to be explicit about my intent.</p>\n"}], "owner": {"reputation": 61, "user_id": 10620802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1ad88a8a0a11e7b8f34b1a9dbb3911?s=128&d=identicon&r=PG&f=1", "display_name": "A T", "link": "https://stackoverflow.com/users/10620802/a-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18463, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1613488046, "creation_date": 1541628817, "last_edit_date": 1565794707, "question_id": 53198665, "link": "https://stackoverflow.com/questions/53198665/typeerror-expected-str-bytes-or-os-pathlike-object-not-io-textiowrapper", "title": "TypeError: expected str, bytes or os.PathLike object, not _io.TextIOWrapper", "body": "<p>I am trying to open, read, modify, and close a json file using the example here: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/23111625/how-to-add-a-key-value-to-json-data-retrieved-from-a-file-with-python\">How to add a key-value to JSON data retrieved from a file with Python?</a></p>\n\n<pre><code>import os\nimport json\n\npath = '/m/shared/Suyash/testdata/BIDS/sub-165/ses-1a/func'\nos.chdir(path)\n\nstring_filename = \"sub-165_ses-1a_task-cue_run-02_bold.json\"\n\nwith open (\"sub-165_ses-1a_task-cue_run-02_bold.json\", \"r\") as jsonFile:\n    json_decoded = json.load(jsonFile)\n\njson_decoded[\"TaskName\"] = \"CUEEEE\"\n\nwith open(jsonFile, 'w') as jsonFIle:\n    json.dump(json_decoded,jsonFile) ######## error here that open() won't work with _io.TextIOWrapper\n</code></pre>\n\n<p>I keep getting an error at the end (with <code>open(jsonFile...)</code> that I can't use the <code>jsonFile</code> variable with <code>open()</code>. I used the exact format as the example provided in the link above so I'm not sure why it's not working. This is eventually going in a larger script so I want to stay away from hard coding/ using strings for the json file name.</p>\n"}, {"tags": ["python", "python-3.x", "superclass"], "owner": {"reputation": 63, "user_id": 10210292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GmKH1YiSPQo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qiKkvTdM6pznSASJViJn51VIaDoQ/mo/photo.jpg?sz=128", "display_name": "Zhilong Fang", "link": "https://stackoverflow.com/users/10210292/zhilong-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "closed_date": 1541630193, "answer_count": 0, "score": 1, "last_activity_date": 1541631146, "creation_date": 1541628745, "last_edit_date": 1541631146, "question_id": 53198653, "link": "https://stackoverflow.com/questions/53198653/super-new-cls-args-kwargs-reports-an-error-typeerror-object-take", "closed_reason": "Duplicate", "title": "super().__new__(cls, *args, **kwargs), reports an error TypeError: object() takes no parameters", "body": "<p>I have a python file. I could run it with Python2.7 without any problems but can not run it correctly with Python3.6. The Python file is </p>\n\n<pre><code>__all__ = ['ParallelWrapShotNull', 'ParallelWrapShot']\n\nclass ParallelWrapShotBase(object):\n\n    def __init__(self, *args, **kwargs):\n    raise NotImplementedError('ParallelWrapShotBase.__init__ should never be called.')\n\nclass ParallelWrapShotNull(ParallelWrapShotBase):\n\ndef __init__(self, *args, **kwargs):\n    self.comm = None\n    self.use_parallel = False\n\n    self.size = 1\n    self.rank = 0\n\nclass ParallelWrapShot(ParallelWrapShotBase):\n\n    def __new__(cls, *args, **kwargs):\n\n    return super(ParallelWrapShot, cls).__new__(cls, *args, **kwargs)\n    # return super().__new__(cls, *args, **kwargs)\n\n\n\n    def __init__(self, comm=None, *args, **kwargs):\n\n        if comm is None:\n            self.comm = 1\n        else:\n            self.comm = 2\n\n        self.use_parallel = True\n        self.size = 3\n        self.rank = 4\n\n\n\nif __name__ == '__main__':\n\n    y = ParallelWrapShotNull()\n    z = ParallelWrapShot('foo')\n</code></pre>\n\n<p>The error message that I got is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File \"test_exp.py\", line 45, in &lt;module&gt;\n    z = ParallelWrapShot('foo')\n  File \"test_exp.py\", line 23, in __new__\n    return super(ParallelWrapShot, cls).__new__(cls, *args, **kwargs)\nTypeError: object() takes no parameters\n</code></pre>\n\n<p>I think there must be something changed in Python3.6 from Python 2.7. Can anyone help me?</p>\n"}, {"tags": ["python", "sql", "pandas"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1541628745, "post_id": 53198620, "comment_id": 93285886, "body": "How do we get from your example to your output? It&#39;s unclear where <code>-end</code> comes from, or where the <code>user_id</code> needs to be taken into account."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1541628915, "post_id": 53198620, "comment_id": 93285945, "body": "Even in R it is possible . Check dplyr group_by"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1541629585, "post_id": 53198620, "comment_id": 93286189, "body": "Use Python and not R. -end is another text I add to the concatenated product page names. Basically V1 above is the concatenated product page for each user id."}], "answers": [{"comments": [{"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1541719638, "post_id": 53198662, "comment_id": 93323076, "body": "This is giving a series. I want like a sql table structure. Columns should be user_id, page_category (which is concat one). I tried as_index=False but not sure why it is not working."}], "tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1541628786, "creation_date": 1541628786, "answer_id": 53198662, "question_id": 53198620, "link": "https://stackoverflow.com/questions/53198620/collapsing-rows-into-one-column-value-in-pandas-dataframe/53198662#53198662", "title": "Collapsing rows into one column value in pandas dataframe", "body": "<p>In pandas, you can use a <code>groupby</code> with an anonymous function:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame([(5, 'product'), (5, 'product'), (5, 'home'), (4, 'product'), (4, 'home')], columns=['user_id', 'page_category'])\n&gt;&gt;&gt; df\n    user_id page_category\n 0        5       product\n 1        5       product\n 2        5          home\n 3        4       product\n 4        4          home\n&gt;&gt;&gt; df.groupby('user_id')['page_category'].apply(lambda x: '-'.join(x))\n user_id\n 4            product-home\n 5    product-product-home\n Name: page_category, dtype: object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1541629531, "post_id": 53198738, "comment_id": 93286170, "body": "I hv mysql instance"}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629102, "creation_date": 1541629102, "answer_id": 53198738, "question_id": 53198620, "link": "https://stackoverflow.com/questions/53198620/collapsing-rows-into-one-column-value-in-pandas-dataframe/53198738#53198738", "title": "Collapsing rows into one column value in pandas dataframe", "body": "<p>If by \"easier\", you mean \"faster\", keep in mind that SQL is a database interface, not the database itself. How quickly this operation can be performed in the database depends on its architecture.</p>\n"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 857, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541629102, "creation_date": 1541628547, "question_id": 53198620, "link": "https://stackoverflow.com/questions/53198620/collapsing-rows-into-one-column-value-in-pandas-dataframe", "title": "Collapsing rows into one column value in pandas dataframe", "body": "<p>If I have a dataframe like this with different product page for each user id and I want to group all product page of a user together separated by hyphen</p>\n\n<p><a href=\"https://i.stack.imgur.com/0zCTm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0zCTm.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I want the end result like below </p>\n\n<p><a href=\"https://i.stack.imgur.com/OldPz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OldPz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is it easier to do this in pandas or sql? My dataset is currently 7.5MM rows and it would grow to ten of millions when used for more data.</p>\n\n<p>In pandas can we use series.str.concatenate method to collapse and join by hyphen? </p>\n\n<p>In sql suggestions? </p>\n"}, {"tags": ["python", "python-3.x", "animation", "matplotlib", "movie"], "comments": [{"owner": {"reputation": 382, "user_id": 6901311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZeAQP.png?s=128&g=1", "display_name": "Irbin B.", "link": "https://stackoverflow.com/users/6901311/irbin-b"}, "edited": false, "score": 0, "creation_date": 1547867437, "post_id": 53198609, "comment_id": 95351542, "body": "What OS are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 382, "user_id": 6901311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZeAQP.png?s=128&g=1", "display_name": "Irbin B.", "link": "https://stackoverflow.com/users/6901311/irbin-b"}, "is_accepted": true, "score": 5, "last_activity_date": 1547868152, "creation_date": 1547868152, "answer_id": 54263809, "question_id": 53198609, "link": "https://stackoverflow.com/questions/53198609/trying-to-save-an-animated-of-graph-with-matplotlib-in-python-invalid-file-ob/54263809#54263809", "title": "Trying to save an animated of graph with matplotlib in Python - &quot;Invalid file object: &lt;_io.BufferedReader name=76&gt;&quot;", "body": "<p>In OSX I solved it by:</p>\n\n<p>1) installing ffmpeg via brew</p>\n\n<pre><code>brew install ffmpeg\n</code></pre>\n\n<p>2) upgrade ffmpeg also via brew</p>\n\n<pre><code>brew upgrade ffmpeg\n</code></pre>\n\n<p>3) adding the path of \"ffmpeg\" just after \"matplotlib\":</p>\n\n<pre><code># -*- coding: utf-8 -*-\n\"\"\"\nCreated on Thu Oct 20 22:19:44 2018\n\n@author: Irbin\n\"\"\"\n\nimport numpy as np\nimport matplotlib\nmatplotlib.use(\"Agg\")\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\nplt.rcParams['animation.ffmpeg_path'] = '/usr/local/bin/ffmpeg' # Add the path of ffmpeg here!!\n\ndef update_line(num, data, line):\n    line.set_data(data[..., :num])\n    return line,\n\n# Fixing random state for reproducibility\nnp.random.seed(19680801)\n\n\n# Set up formatting for the movie files\nWriter = animation.writers['ffmpeg']\nwriter = Writer(fps=15, metadata=dict(artist='Me'), bitrate=1800)\n\n\nfig1 = plt.figure()\n\ndata = np.random.rand(2, 25)\nl, = plt.plot([], [], 'r-')\nplt.xlim(0, 1)\nplt.ylim(0, 1)\nplt.xlabel('x')\nplt.title('test')\nline_ani = animation.FuncAnimation(fig1, update_line, 25, fargs=(data, l),\n                                   interval=50, blit=True)\nline_ani.save('lines.mp4', writer=writer)\n\nfig2 = plt.figure()\n\nx = np.arange(-9, 10)\ny = np.arange(-9, 10).reshape(-1, 1)\nbase = np.hypot(x, y)\nims = []\nfor add in np.arange(15):\n    ims.append((plt.pcolor(x, y, base + add, norm=plt.Normalize(0, 30)),))\n\nim_ani = animation.ArtistAnimation(fig2, ims, interval=50, repeat_delay=3000,\n                                   blit=True)\nim_ani.save('im.mp4', writer=writer)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/c0CMn.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c0CMn.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Be aware you can get an error if you change the output directory of your .mp4 file.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 1268002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ca013e47a3f327d2bb78f57f4bc7782?s=128&d=identicon&r=PG", "display_name": "jaweej", "link": "https://stackoverflow.com/users/1268002/jaweej"}, "is_accepted": false, "score": 1, "last_activity_date": 1598347807, "creation_date": 1598347807, "answer_id": 63575909, "question_id": 53198609, "link": "https://stackoverflow.com/questions/53198609/trying-to-save-an-animated-of-graph-with-matplotlib-in-python-invalid-file-ob/63575909#63575909", "title": "Trying to save an animated of graph with matplotlib in Python - &quot;Invalid file object: &lt;_io.BufferedReader name=76&gt;&quot;", "body": "<p>I had a similar error (on linux) when writing a matplotlib animation:</p>\n<pre><code>ValueError: Invalid file object: &lt;_io.BufferedReader ....\n</code></pre>\n<p>It worked when a codec argument (<code>codec='mpeg4'</code>) was added to the writer's constructor:</p>\n<pre><code>import matplotlib.animation as manimation\n\nFFMpegWriter = manimation.writers['ffmpeg']\nmetadata = dict(title='Movie Test', artist='Matplotlib', comment='Movie support!') \nwriter = FFMpegWriter(fps=30, metadata=metadata, codec='mpeg4')\n</code></pre>\n<p>To list available codecs, use:</p>\n<pre><code>ffmpeg -codecs\n</code></pre>\n"}], "owner": {"reputation": 3629, "user_id": 9381746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/707d7a8ff5c79060e57cd6683e245c89?s=128&d=identicon&r=PG&f=1", "display_name": "ecjb", "link": "https://stackoverflow.com/users/9381746/ecjb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 1, "accepted_answer_id": 54263809, "answer_count": 2, "score": 2, "last_activity_date": 1598347807, "creation_date": 1541628469, "last_edit_date": 1541628843, "question_id": 53198609, "link": "https://stackoverflow.com/questions/53198609/trying-to-save-an-animated-of-graph-with-matplotlib-in-python-invalid-file-ob", "title": "Trying to save an animated of graph with matplotlib in Python - &quot;Invalid file object: &lt;_io.BufferedReader name=76&gt;&quot;", "body": "<p>I tried to save an animated graph by reproducing the code from <a href=\"https://matplotlib.org/2.1.2/gallery/animation/basic_example_writer_sgskip.html\" rel=\"nofollow noreferrer\">this website</a>. I then tried to reproduce a code from <a href=\"https://jakevdp.github.io/blog/2012/08/18/matplotlib-animation-tutorial/\" rel=\"nofollow noreferrer\">another website</a> which was similar but got the same message error \"<code>Invalid file object: &lt;_io.BufferedReader name=76&gt;</code>\"</p>\n\n<pre><code>import numpy as np\nimport matplotlib\nmatplotlib.use(\"Agg\")\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\n\ndef update_line(num, data, line):\n    line.set_data(data[..., :num])\n    return line,\n\n# Fixing random state for reproducibility\nnp.random.seed(19680801)\n\n\n# Set up formatting for the movie files\nWriter = animation.writers['ffmpeg']\nwriter = Writer(fps=15, metadata=dict(artist='Me'), bitrate=1800)\n\n\nfig1 = plt.figure()\n\ndata = np.random.rand(2, 25)\nl, = plt.plot([], [], 'r-')\nplt.xlim(0, 1)\nplt.ylim(0, 1)\nplt.xlabel('x')\nplt.title('test')\nline_ani = animation.FuncAnimation(fig1, update_line, 25, fargs=(data, l),\n                               interval=50, blit=True)\nline_ani.save('lines.mp4', writer=writer)\n\nfig2 = plt.figure()\n\nx = np.arange(-9, 10)\ny = np.arange(-9, 10).reshape(-1, 1)\nbase = np.hypot(x, y)\nims = []\nfor add in np.arange(15):\n    ims.append((plt.pcolor(x, y, base + add, norm=plt.Normalize(0, 30)),))\n\nim_ani = animation.ArtistAnimation(fig2, ims, interval=50, repeat_delay=3000,\n                               blit=True)\nim_ani.save('im.mp4', writer=writer)\n</code></pre>\n\n<p>and got the following error message: </p>\n\n<pre><code>/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py:3: UserWarning: \nThis call to matplotlib.use() has no effect because the backend has already\nbeen chosen; matplotlib.use() must be called *before* pylab, matplotlib.pyplot,\nor matplotlib.backends is imported for the first time.\n\nThe backend was *originally* set to 'module://ipykernel.pylab.backend_inline' by the following code:\n  File \"/anaconda3/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n\"__main__\", mod_spec)\n  File \"/anaconda3/lib/python3.6/runpy.py\", line 85, in _run_code\nexec(code, run_globals)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py\", line 16, in &lt;module&gt;\napp.launch_new_instance()\n  File \"/anaconda3/lib/python3.6/site-packages/traitlets/config/application.py\", line 658, in launch_instance\napp.start()\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/kernelapp.py\", line 486, in start\nself.io_loop.start()\n  File \"/anaconda3/lib/python3.6/site-packages/tornado/platform/asyncio.py\", line 127, in start\nself.asyncio_loop.run_forever()\n  File \"/anaconda3/lib/python3.6/asyncio/base_events.py\", line 422, in run_forever\nself._run_once()\n  File \"/anaconda3/lib/python3.6/asyncio/base_events.py\", line 1432, in _run_once\nhandle._run()\n  File \"/anaconda3/lib/python3.6/asyncio/events.py\", line 145, in _run\nself._callback(*self._args)\n  File \"/anaconda3/lib/python3.6/site-packages/tornado/platform/asyncio.py\", line 117, in _handle_events\nhandler_func(fileobj, events)\n  File \"/anaconda3/lib/python3.6/site-packages/tornado/stack_context.py\", line 276, in null_wrapper\nreturn fn(*args, **kwargs)\n  File \"/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 450, in _handle_events\nself._handle_recv()\n  File \"/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 480, in _handle_recv\nself._run_callback(callback, msg)\n  File \"/anaconda3/lib/python3.6/site-packages/zmq/eventloop/zmqstream.py\", line 432, in _run_callback\ncallback(*args, **kwargs)\n  File \"/anaconda3/lib/python3.6/site-packages/tornado/stack_context.py\", line 276, in null_wrapper\nreturn fn(*args, **kwargs)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 283, in dispatcher\nreturn self.dispatch_shell(stream, msg)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 233, in dispatch_shell\nhandler(stream, idents, msg)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/kernelbase.py\", line 399, in execute_request\nuser_expressions, allow_stdin)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/ipkernel.py\", line 208, in do_execute\nres = shell.run_cell(code, store_history=store_history, silent=silent)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/zmqshell.py\", line 537, in run_cell\nreturn super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\n  File \"/anaconda3/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 2666, in run_cell\nself.events.trigger('post_run_cell', result)\n  File \"/anaconda3/lib/python3.6/site-packages/IPython/core/events.py\", line 88, in trigger\nfunc(*args, **kwargs)\n  File \"/anaconda3/lib/python3.6/site-packages/ipykernel/pylab/backend_inline.py\", line 160, in configure_once\nactivate_matplotlib(backend)\n  File \"/anaconda3/lib/python3.6/site-packages/IPython/core/pylabtools.py\", line 311, in activate_matplotlib\nmatplotlib.pyplot.switch_backend(backend)\n  File \"/anaconda3/lib/python3.6/site-packages/matplotlib/pyplot.py\", line 229, in switch_backend\nmatplotlib.use(newbackend, warn=False, force=True)\n  File \"/anaconda3/lib/python3.6/site-packages/matplotlib/__init__.py\", line 1305, in use\nreload(sys.modules['matplotlib.backends'])\n  File \"/anaconda3/lib/python3.6/importlib/__init__.py\", line 166, in reload\n_bootstrap._exec(spec, module)\n  File \"/anaconda3/lib/python3.6/site-packages/matplotlib/backends/__init__.py\", line 14, in &lt;module&gt;\nline for line in traceback.format_stack()\n\n\n      This is separate from the ipykernel package so we can avoid doing imports until\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-3-97bf2a96714e&gt; in &lt;module&gt;()\n 29 line_ani = animation.FuncAnimation(fig1, update_line, 25, fargs=(data, l),\n 30                                    interval=50, blit=True)\n---&gt; 31 line_ani.save('lines.mp4', writer=writer)\n 32 \n 33 fig2 = plt.figure()\n\n/anaconda3/lib/python3.6/site-packages/matplotlib/animation.py in save(self, filename, writer, fps, dpi, codec, bitrate, extra_args, metadata, extra_anim, savefig_kwargs)\n   1258                         # TODO: See if turning off blit is really necessary\n   1259                         anim._draw_next_frame(d, blit=False)\n-&gt; 1260                     writer.grab_frame(**savefig_kwargs)\n   1261 \n   1262         # Reconnect signal for first draw if necessary\n\n/anaconda3/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\n     97                 value = type()\n     98             try:\n---&gt; 99                 self.gen.throw(type, value, traceback)\n    100             except StopIteration as exc:\n    101                 # Suppress StopIteration *unless* it's the same exception that\n\n/anaconda3/lib/python3.6/site-packages/matplotlib/animation.py in saving(self, fig, outfile, dpi, *args, **kwargs)\n    235             yield self\n    236         finally:\n--&gt; 237             self.finish()\n    238 \n    239 \n\n/anaconda3/lib/python3.6/site-packages/matplotlib/animation.py in finish(self)\n    367     def finish(self):\n    368         '''Finish any processing for writing the movie.'''\n--&gt; 369         self.cleanup()\n    370 \n    371     def grab_frame(self, **savefig_kwargs):\n\n/anaconda3/lib/python3.6/site-packages/matplotlib/animation.py in cleanup(self)\n    406     def cleanup(self):\n    407         '''Clean-up and collect the process used to write the movie file.'''\n--&gt; 408         out, err = self._proc.communicate()\n    409         self._frame_sink().close()\n    410         verbose.report('MovieWriter -- '\n\n/anaconda3/lib/python3.6/subprocess.py in communicate(self, input, timeout)\n    841 \n    842             try:\n--&gt; 843                 stdout, stderr = self._communicate(input, endtime, timeout)\n    844             finally:\n    845                 self._communication_started = True\n\n/anaconda3/lib/python3.6/subprocess.py in _communicate(self, input, endtime, orig_timeout)\n   1503                     selector.register(self.stdin, selectors.EVENT_WRITE)\n   1504                 if self.stdout:\n-&gt; 1505                     selector.register(self.stdout, selectors.EVENT_READ)\n   1506                 if self.stderr:\n   1507                     selector.register(self.stderr, selectors.EVENT_READ)\n\n/anaconda3/lib/python3.6/selectors.py in register(self, fileobj, events, data)\n    349 \n    350         def register(self, fileobj, events, data=None):\n--&gt; 351             key = super().register(fileobj, events, data)\n    352             poll_events = 0\n    353             if events &amp; EVENT_READ:\n\n/anaconda3/lib/python3.6/selectors.py in register(self, fileobj, events, data)\n    235             raise ValueError(\"Invalid events: {!r}\".format(events))\n    236 \n--&gt; 237         key = SelectorKey(fileobj, self._fileobj_lookup(fileobj), events, data)\n    238 \n    239         if key.fd in self._fd_to_key:\n\n/anaconda3/lib/python3.6/selectors.py in _fileobj_lookup(self, fileobj)\n    222         \"\"\"\n    223         try:\n--&gt; 224             return _fileobj_to_fd(fileobj)\n    225         except ValueError:\n    226             # Do an exhaustive search.\n\n/anaconda3/lib/python3.6/selectors.py in _fileobj_to_fd(fileobj)\n     37         except (AttributeError, TypeError, ValueError):\n     38             raise ValueError(\"Invalid file object: \"\n---&gt; 39                              \"{!r}\".format(fileobj)) from None\n     40     if fd &lt; 0:\n     41         raise ValueError(\"Invalid file descriptor: {}\".format(fd))\n\nValueError: Invalid file object: &lt;_io.BufferedReader name=76&gt;\n</code></pre>\n\n<p>I tried to run other codes available online for animated graph and got the same error. I updated the version of <code>ffmpeg</code> but it didn't help. What should I do?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1541628982, "post_id": 53198642, "comment_id": 93285969, "body": "Both the methods you provided would work equivalently for most applications in a normal case, but I don&#39;t think that&#39;s where OP&#39;s problem is coming from. I believe it has to do with the quote characters"}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1541628693, "creation_date": 1541628693, "answer_id": 53198642, "question_id": 53198592, "link": "https://stackoverflow.com/questions/53198592/drop-a-row-if-it-contains-a-certain-value-in-pandas/53198642#53198642", "title": "Drop a row if it contains a certain value in pandas", "body": "<p><code>df[(df['LEID'] !='1')]</code> selects on columns. You need <code>df.loc[df['LEID'] !='1']</code></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5344083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f76e61dc1c36a153d956ab4b1ebb04?s=128&d=identicon&r=PG&f=1", "display_name": "deltanov", "link": "https://stackoverflow.com/users/5344083/deltanov"}, "edited": false, "score": 0, "creation_date": 1541699240, "post_id": 53198676, "comment_id": 93314404, "body": "Thanks a lot for the help. It is strange as I tried both with removing the quotes before import and for some reason I still did not managed."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1541628861, "creation_date": 1541628861, "answer_id": 53198676, "question_id": 53198592, "link": "https://stackoverflow.com/questions/53198592/drop-a-row-if-it-contains-a-certain-value-in-pandas/53198676#53198676", "title": "Drop a row if it contains a certain value in pandas", "body": "<p>As you have it, the quote characters are still included in your dataframe. It probably looks like:</p>\n\n<pre><code>&gt;&gt;&gt; df\n   LEU  LEID  PPP  YYY  LEO\n0  '1'   '2'  '3'  '4'  '5'\n1  '2'   '1'  '2'  '3'  '4'\n2  '2'  'AA'   ''   ''   ''\n</code></pre>\n\n<p>So you would actually need to include those quotes in your filter. You can do this like:</p>\n\n<pre><code>df[df['LEID'] != \"'1'\"]\n# or:\ndf[df['LEID'] !='\\'1\\'']\n\n   LEU  LEID  PPP  YYY  LEO\n0  '1'   '2'  '3'  '4'  '5'\n2  '2'  'AA'   ''   ''   ''\n</code></pre>\n\n<p>An alternative would be to remove your single quotes when you read the csv:</p>\n\n<pre><code>df = pd.read_csv(originalFile, sep=',', quotechar=\"'\")\n</code></pre>\n\n<p>And you will get this dataframe:</p>\n\n<pre><code>&gt;&gt;&gt; df\n   LEU LEID  PPP  YYY  LEO\n0    1    2  3.0  4.0  5.0\n1    2    1  2.0  3.0  4.0\n2    2   AA  NaN  NaN  NaN\n</code></pre>\n\n<p>Which you can filter like you were trying:</p>\n\n<pre><code>df[df['LEID' ]!= '1']\n\n   LEU LEID  PPP  YYY  LEO\n0    1    2  3.0  4.0  5.0\n2    2   AA  NaN  NaN  NaN\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5344083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f76e61dc1c36a153d956ab4b1ebb04?s=128&d=identicon&r=PG&f=1", "display_name": "deltanov", "link": "https://stackoverflow.com/users/5344083/deltanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 53198676, "answer_count": 2, "score": 1, "last_activity_date": 1541628861, "creation_date": 1541628381, "last_edit_date": 1541628519, "question_id": 53198592, "link": "https://stackoverflow.com/questions/53198592/drop-a-row-if-it-contains-a-certain-value-in-pandas", "title": "Drop a row if it contains a certain value in pandas", "body": "<p>I have this text file:</p>\n\n<pre><code>LEU,LEID,PPP,YYY,LEO\n'1','2','3','4','5'\n'2','1','2','3','4'\n'2','AA','','',''\n</code></pre>\n\n<p>I want to delete the rows where for LEID='1'</p>\n\n<pre><code>import pandas as pd\nimport os\n\noriginalFile=os.path.abspath(\"D:\\\\python\\\\test\\\\OriginalFile.csv\")\n\ndf = pd.read_csv(originalFile)\n\ndf = df[(df['LEID'] !='1')]\n\ndf.to_csv('D:\\\\python\\\\test\\\\CorrectedFile.csv')\n\nprint (df)\n</code></pre>\n\n<p>Why the row with LEID='1' is not delted?</p>\n"}, {"tags": ["python", "bash", "subprocess"], "comments": [{"owner": {"reputation": 2260, "user_id": 5240970, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/16a645b64ff208b3ba9269dcf90305fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kabard", "link": "https://stackoverflow.com/users/5240970/kabard"}, "edited": false, "score": 0, "creation_date": 1541628764, "post_id": 53198589, "comment_id": 93285895, "body": "<a href=\"https://stackoverflow.com/questions/1196074/how-to-start-a-background-process-in-python\" title=\"how to start a background process in python\">stackoverflow.com/questions/1196074/&hellip;</a>"}, {"owner": {"reputation": 108, "user_id": 5892945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f501d52cc6d4c34a0cef2fe71c5619dd?s=128&d=identicon&r=PG", "display_name": "endikap100", "link": "https://stackoverflow.com/users/5892945/endikap100"}, "reply_to_user": {"reputation": 2260, "user_id": 5240970, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/16a645b64ff208b3ba9269dcf90305fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kabard", "link": "https://stackoverflow.com/users/5240970/kabard"}, "edited": false, "score": 0, "creation_date": 1541629387, "post_id": 53198589, "comment_id": 93286116, "body": "That doesn&#39;t work on python3 <code>AttributeError: module &#39;os&#39; has no attribute &#39;P_DETACH&#39;</code>"}], "owner": {"reputation": 108, "user_id": 5892945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f501d52cc6d4c34a0cef2fe71c5619dd?s=128&d=identicon&r=PG", "display_name": "endikap100", "link": "https://stackoverflow.com/users/5892945/endikap100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541941211, "creation_date": 1541628362, "last_edit_date": 1541941211, "question_id": 53198589, "link": "https://stackoverflow.com/questions/53198589/run-a-bash-command-with-python-in-background-without-killing-it", "title": "Run a bash command with python in background without killing it", "body": "<p>I'm trying to execute a bash command with python. The problem is that the program needs to run in background so I try executing the code with `&` but the subprocess module kills it.</p>\n\n<p>Who can I do it?</p>\n\n<pre><code>def run_command(bashCommand):\n    process = subprocess.Popen(bashCommand, shell=True)\n    output, error = process.communicate()\n    return output\n\ncommand = 'bettercap -iface wlx485d60575bf2 -eval \"set api.rest.username bettercap; set api.rest.password bettercap; set api.rest.address 127.0.0.1; set api.rest.port 8011; net.probe on; api.rest on\" &amp;'\nrun_command(command)\n</code></pre>\n\n<p>[SOLVED] It only kills it when you try to get the output.</p>\n\n<pre><code>def run_command(bashCommand):\n        process = subprocess.Popen(bashCommand, shell=True)\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1541629179, "post_id": 53198575, "comment_id": 93286044, "body": "The user can&#39;t edit a listbox. Bindings are for user actions. Why don&#39;t you just add your callback code to whatever code you are using to add and delete from the listbox?"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629700, "creation_date": 1541629700, "answer_id": 53198841, "question_id": 53198575, "link": "https://stackoverflow.com/questions/53198575/python-tkinter-listbox-bind-with-items-updated/53198841#53198841", "title": "python tkinter Listbox bind with items updated", "body": "<p>There are no built-in events when data is added to or removed from a listbox. However, since it's your code that adds and removes the data, you can generate your own events with <code>event_generate</code> whenever you update the listbox.</p>\n"}], "owner": {"reputation": 1226, "user_id": 871418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/hKXNB.jpg?s=128&g=1", "display_name": "Kasparov92", "link": "https://stackoverflow.com/users/871418/kasparov92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541629700, "creation_date": 1541628296, "question_id": 53198575, "link": "https://stackoverflow.com/questions/53198575/python-tkinter-listbox-bind-with-items-updated", "title": "python tkinter Listbox bind with items updated", "body": "<p>I have a python GUI made with tkinter and I want to define a callback method to be called when the items in a listbox change:</p>\n\n<ol>\n<li>Item added to the listbox</li>\n<li>Item deleted from the listbox</li>\n</ol>\n\n<p>I think that should be possible with bindings but I am not sure what is the exact binding name. </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1541628741, "post_id": 53198520, "comment_id": 93285885, "body": "And what about <code>categories</code> and <code>types</code>?"}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1541628976, "post_id": 53198520, "comment_id": 93285966, "body": "@Chiel I am trying to reduce the complexity of the problem for understanding purposes. But if I could have the daily maximums for category, model, type and event, that would be swell....I am just very confused regarding the multi-dims, and I am probably not relaying what I don&#39;t understand..."}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1541629105, "post_id": 53198520, "comment_id": 93286013, "body": "Eventually, I will take the <code>log</code> of the 14 day maximums and find the overall maximum and minimum for every type...Hope it explains a bit.."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1541629247, "post_id": 53198520, "comment_id": 93286070, "body": "In <code>numpy</code> it is better to use <code>[0,0,0,0]</code> style of indexing rather than <code>[0][0][0][0]</code>.  Sometimes they produce the same thing, but sometimes the differences give problems.  Also with arrays <code>[:]</code> does nothing for you."}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1541629429, "post_id": 53198520, "comment_id": 93286127, "body": "@hpaulj Thanks! I didn&#39;t know there was any difference. BTW, can you expand a little bit on <code>[:]</code> doing nothing.."}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1541629438, "post_id": 53198520, "comment_id": 93286131, "body": "@maximusdooku It is unclear what you want to retain. So do you want to have for each <code>event</code> and each <code>model</code> the maximum over the days? So that you have <code>event*model</code> number of maxima?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1541630014, "post_id": 53198520, "comment_id": 93286339, "body": "<code>[0][0]...</code> does a separate Python indexing step for each dimension; <code>[0,0,..]</code> is one indexing step, handled directly by <code>numpy</code>.  <code>[:]</code> just means return everything in that dimension.  It is not the same as <code>[0,:,0...]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 1643542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12f9cd7bc324a0af16b93407f9ee2eb?s=128&d=identicon&r=PG", "display_name": "Tomi Aarnio", "link": "https://stackoverflow.com/users/1643542/tomi-aarnio"}, "is_accepted": false, "score": 2, "last_activity_date": 1576582540, "creation_date": 1576582540, "answer_id": 59373438, "question_id": 53198520, "link": "https://stackoverflow.com/questions/53198520/how-can-i-find-maximum-along-multiple-axes-of-a-multidimensional-numpy-array/59373438#59373438", "title": "How can I find maximum along multiple axes of a multidimensional numpy array?", "body": "<p>If you want the maximum over <code>days</code> for each combination of <code>(category, model, type, event)</code>, for a resulting shape of (10, 11, 50, 100, 1):</p>\n\n<p><code>np.max(data, axis=4)</code></p>\n\n<p>If you want the maximum over <code>days</code> and  <code>types</code> for each combination of <code>(category, model, event)</code>, for a resulting shape of (10, 11, 100, 1):</p>\n\n<p><code>np.max(data, axis=(2,4))</code></p>\n"}], "owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576582540, "creation_date": 1541628095, "last_edit_date": 1541628582, "question_id": 53198520, "link": "https://stackoverflow.com/questions/53198520/how-can-i-find-maximum-along-multiple-axes-of-a-multidimensional-numpy-array", "title": "How can I find maximum along multiple axes of a multidimensional numpy array?", "body": "<p>I have a numpy array of these dimensions</p>\n\n<p><code>\ndata.shape\n(categories, models, types, events, days) -&gt;  (10, 11, 50, 100, 14)\n</code></p>\n\n<p>Now, I want to find the maximum of the 14 days for all events for each of the 11 models. But I am not sure how to do it in the <code>numpy</code> way. I am not sure if this is correct.</p>\n\n<pre><code>modelmax = []\nnmodels = 11\n\nfor modelcount in range(nmodels):\n    modelmax.append(np.max(data[0][modelcount][:], axis=2))\n</code></pre>\n\n<p>As an example, for the 100 events:</p>\n\n<pre><code>np.max(data, axis=4)[0][0][0])\n\n[ 3.9264417   3.3029506   3.0707457   3.6646023   1.7508441   3.1634364\n  6.195052    1.5353022   1.8033538   1.4508389   1.3882699   2.0849068\n  3.654939    6.6364765   3.92829     6.6467876   1.5442419   4.639682\n  9.361191    5.261462    1.7438816   5.6970205   2.4356377   1.6073244\n  2.6177561   6.886767    3.890399    2.8880894   1.9826577   1.0888597\n  4.3763924   3.8597727   1.790302    1.0277777   6.270729    9.311213\n  2.318774    2.9298437   1.139397    0.9598383   3.0489902   1.6736581\n  1.3983868   2.0979824   4.169757    1.0739225   1.5311266   1.4676268\n  1.726325    1.8057758   2.226462    2.6197987   4.49518     2.3042605\n  5.7164993   1.182242    1.5107205   2.2920077   2.205539    1.4702082\n  2.154468    2.0641963   4.9628353   1.9987459   2.1360166   1.7073958\n  1.943267    7.5767093   1.3124634   2.2648168   1.1504744   3.210688\n  2.6720855   2.998225    4.365262    3.5410352  10.765423    4.6292825\n  3.1789696   0.92157686  1.663245    1.5835482   3.1070056   1.6918416\n  8.086268    3.7994847   2.4314868   1.6471033   1.1688241   1.7820593\n  3.3509188   1.3092748   3.7915008   1.018912    3.2404447   1.596657\n  2.0869658   2.6753283   2.1096318   8.786542  ]\n</code></pre>\n\n<p>I have also tried </p>\n\n<p><code>np.max(dryflow[0][:], axis=3)</code></p>\n\n<p>But these multidimensional indices are leaving me confused.</p>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1541627978, "post_id": 53198415, "comment_id": 93285598, "body": "I might be missing something, but it&#39;s a little hard to say without knowing what your &quot;xxx&quot; is doing."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1541630929, "post_id": 53198415, "comment_id": 93286692, "body": "You may be missing an error message by piping stderr and stdout (on the command-line) when you&#39;re trying to run it in the background."}, {"owner": {"reputation": 835, "user_id": 1036875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a2de0ea35627040c8c6ecc377552d27f?s=128&d=identicon&r=PG", "display_name": "Softhinker.com", "link": "https://stackoverflow.com/users/1036875/softhinker-com"}, "edited": false, "score": 0, "creation_date": 1541631376, "post_id": 53198415, "comment_id": 93286832, "body": "The xxx is the beeline command used to execute hive sql. For example, Popen([&quot;beeline&quot;, &quot;-u&quot;, connection, &quot;-f&quot;, hive_file], stdout=PIPE, stderr=PIPE). It&#39;s working fine in foreground. Thanks in advance."}], "owner": {"reputation": 835, "user_id": 1036875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a2de0ea35627040c8c6ecc377552d27f?s=128&d=identicon&r=PG", "display_name": "Softhinker.com", "link": "https://stackoverflow.com/users/1036875/softhinker-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541627612, "creation_date": 1541627612, "question_id": 53198415, "link": "https://stackoverflow.com/questions/53198415/run-python-script-in-background-while-sending-subprocess-stdout-and-stderr-to-pi", "title": "Run python script in background while sending subprocess stdout and stderr to PIPE", "body": "<p>I have a python script (test.py) using subprocess to execute some bash commands and write bash commands stdout/stderr to a log file. It's working fine if running python in foreground like this:</p>\n\n<pre><code>python test.py -i 123 -d 567\n</code></pre>\n\n<p>However, if running test.py in background like this, subprocess seems doesn't send stdout/stderr to the log file any more.</p>\n\n<pre><code>python test.py -i 123 -d 567 &gt; /dev/null 2&gt;&amp;1 &amp; disown\n</code></pre>\n\n<p>Here is the code snippet about subprocess:</p>\n\n<pre><code>process = subprocess.Popen([\"xxx\",\"xxx\"], stdout=PIPE, stderr=PIPE)\nstdoutdata, stderrdata = process.communicate()\nlog_output(stdoutdata, stderrdata)\n</code></pre>\n\n<p>where log_output() is a method using logging to write message to a file.</p>\n\n<p>Please advise how to run python in background meanwhile send stdout/stderr to a log file.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "webserver", "cgi"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 2, "creation_date": 1541627726, "post_id": 53198379, "comment_id": 93285478, "body": "<code>print &#39;hello world&#39;</code> is invalid Python3 code (<code>print</code> is now a function). It should be <code>print(&#39;hello world&#39;)</code>. Does that stop the 500 error from happening?"}, {"owner": {"reputation": 180, "user_id": 10543188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3kap.jpg?s=128&g=1", "display_name": "Iulian", "link": "https://stackoverflow.com/users/10543188/iulian"}, "edited": false, "score": 0, "creation_date": 1541628141, "post_id": 53198379, "comment_id": 93285659, "body": "Can you check if your file has read and execute permission for all, not only local user?  If not use set them, but let write permission active only for creator of the file that are you."}, {"owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "edited": false, "score": 0, "creation_date": 1541628279, "post_id": 53198379, "comment_id": 93285715, "body": "the parenthesis dont solve the issue. I copied the syntax from some examples online. @lulian could you elaborate? I did use <code>chmod +x</code> for all the scripts, so not sure why python would be the only one without permission"}, {"owner": {"reputation": 180, "user_id": 10543188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3kap.jpg?s=128&g=1", "display_name": "Iulian", "link": "https://stackoverflow.com/users/10543188/iulian"}, "edited": false, "score": 1, "creation_date": 1541629648, "post_id": 53198379, "comment_id": 93286218, "body": "Oh right than let&#39;s try with some debugging. In python there is a module called <code>cgitb</code> that stay for <i><b>CGI Traceback</b></i> to retrieve some information of the execution. By importing it and calling its <b>enable</b> function, you will get a helpful web page with more information on what went wrong than only &quot;internal 500 error&quot;. So add <code>import cgitb; cgitb.enable()</code> after the pound bang line and see what you get when accessing the page from the browser."}, {"owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "edited": false, "score": 0, "creation_date": 1541642296, "post_id": 53198379, "comment_id": 93289612, "body": "unfortunately, I&#39;m still getting a 500 error with cgitb"}, {"owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "edited": false, "score": 0, "creation_date": 1541642692, "post_id": 53198379, "comment_id": 93289699, "body": "` import cgitb; cgitb.enable(); #!/usr/bin/python3.6`"}, {"owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "edited": false, "score": 0, "creation_date": 1541643271, "post_id": 53198379, "comment_id": 93289818, "body": "ok, checked the errors logs and am seeing this: ` End of script output before headers: testpython` how is this possible if headers are on the first line?"}, {"owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 1, "creation_date": 1541643558, "post_id": 53198379, "comment_id": 93289880, "body": "You are right @RandomDavis I realized this was part of the problem. Thank you, I am no longer getting the 500 error. If you post I will accept your answer"}], "owner": {"reputation": 1337, "user_id": 5729613, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/9XuOT.jpg?s=128&g=1", "display_name": "I Like", "link": "https://stackoverflow.com/users/5729613/i-like"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1541627416, "creation_date": 1541627416, "question_id": 53198379, "link": "https://stackoverflow.com/questions/53198379/cant-run-python-script-from-webserver-using-cgi", "title": "Cant Run Python Script From WebServer Using CGI", "body": "<p>I've been able to run a script written with Perl and Bash on my Apache2.0 webserver, but I get a 500 Internal Server Error when I try doing the same with a python script. </p>\n\n<p>I am using Ubuntu OS. \nThe executable scripts are located in <code>/usr/lib/cgi-bin</code></p>\n\n<p>I intentionally made my script very simple, and  </p>\n\n<pre><code>#!/usr/bin/python\nprint \"Content-type:text/html\\n\\n\"\nprint 'hello world'\n</code></pre>\n\n<p>I confirmed the Python interpreter is stored in <code>/usr/bin</code> as python3. I also tried changing the header as follows, but still got a 500 error</p>\n\n<pre><code>#!/usr/bin/python3\n#!/usr/bin/env python\n</code></pre>\n\n<p>I am at a loss for why this is the case, and the Internal 500 error isn't explanatory. Any suggestions? </p>\n"}, {"tags": ["python", "pandas", "numpy", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1541627547, "post_id": 53198378, "comment_id": 93285395, "body": "List append always adds at the end.  <code>np.insert</code> has different syntax and behavior.  Don&#39;t confuse the two.  Also we discourage the use of <code>np.append</code>.  Learn to use <code>np.concatenate</code> directly."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10620786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XpYyCwPj8E/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAGxKzIunhe_ID4HYYydHuSHhc46g/mo/photo.jpg?sz=128", "display_name": "MGilkies", "link": "https://stackoverflow.com/users/10620786/mgilkies"}, "edited": false, "score": 1, "creation_date": 1541628392, "post_id": 53198486, "comment_id": 93285761, "body": "Worked perfectly. Thanks for the advice!"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 0, "last_activity_date": 1541628323, "last_edit_date": 1541628323, "creation_date": 1541627968, "answer_id": 53198486, "question_id": 53198378, "link": "https://stackoverflow.com/questions/53198378/appending-vector-issue-python/53198486#53198486", "title": "Appending vector issue Python", "body": "<p>As suggested by @hpaulj, you can use <a href=\"https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.concatenate.html\" rel=\"nofollow noreferrer\"><code>np.concatenate</code></a>, using <code>vectorOnes</code> as the first, and <code>result1</code> as the second. This will concatenate the two arrays in the order that you provide them. Reproducing the relevant parts of your code:</p>\n\n<pre><code>result1 = np.random.random((12,4))\nvectorOnes= np.ones((result1.shape[0],1))\n\n&gt;&gt;&gt; result1\narray([[0.24082843, 0.31800901, 0.01556211, 0.32774249],\n       [0.41475486, 0.90611202, 0.00791056, 0.49544814],\n       [0.22842928, 0.97168093, 0.1808639 , 0.32310355],\n       [0.99674441, 0.97379065, 0.7482597 , 0.9397243 ],\n       [0.37714731, 0.94101763, 0.73416157, 0.36625995],\n       [0.16470904, 0.97471554, 0.58262108, 0.67246731],\n       [0.40309562, 0.88545376, 0.40600242, 0.06040476],\n       [0.65425856, 0.15789502, 0.09350497, 0.49837995],\n       [0.65652148, 0.00545527, 0.68244463, 0.38962242],\n       [0.4012334 , 0.67545283, 0.09977628, 0.18019942],\n       [0.67110475, 0.45046098, 0.24962163, 0.71436953],\n       [0.32890942, 0.6090705 , 0.71712907, 0.35790405]])\n&gt;&gt;&gt; vectorOnes\narray([[1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.],\n       [1.]])\n\nnew_results = np.concatenate((vectorOnes, result1),axis=1)\n&gt;&gt;&gt; new_results\narray([[1.        , 0.24082843, 0.31800901, 0.01556211, 0.32774249],\n       [1.        , 0.41475486, 0.90611202, 0.00791056, 0.49544814],\n       [1.        , 0.22842928, 0.97168093, 0.1808639 , 0.32310355],\n       [1.        , 0.99674441, 0.97379065, 0.7482597 , 0.9397243 ],\n       [1.        , 0.37714731, 0.94101763, 0.73416157, 0.36625995],\n       [1.        , 0.16470904, 0.97471554, 0.58262108, 0.67246731],\n       [1.        , 0.40309562, 0.88545376, 0.40600242, 0.06040476],\n       [1.        , 0.65425856, 0.15789502, 0.09350497, 0.49837995],\n       [1.        , 0.65652148, 0.00545527, 0.68244463, 0.38962242],\n       [1.        , 0.4012334 , 0.67545283, 0.09977628, 0.18019942],\n       [1.        , 0.67110475, 0.45046098, 0.24962163, 0.71436953],\n       [1.        , 0.32890942, 0.6090705 , 0.71712907, 0.35790405]])\n</code></pre>\n\n<p>Alternatively, you <em>could</em> use <code>np.append</code>, remembering that the order in which you provide your arrays is the order the arrays will appear in your new array (so just flip the order of <code>result1</code> and <code>vectorOnes</code>). However, I wouldn't recommend this because <a href=\"https://stackoverflow.com/a/35932176/6671176\"><code>np.append</code> basically calls <code>np.concatenate</code></a>, and you might as well use <code>concatenate</code></p>\n\n<pre><code>&gt;&gt;&gt; np.append(vectorOnes, result1, axis=1)\narray([[1.        , 0.24082843, 0.31800901, 0.01556211, 0.32774249],\n       [1.        , 0.41475486, 0.90611202, 0.00791056, 0.49544814],\n       [1.        , 0.22842928, 0.97168093, 0.1808639 , 0.32310355],\n       [1.        , 0.99674441, 0.97379065, 0.7482597 , 0.9397243 ],\n       [1.        , 0.37714731, 0.94101763, 0.73416157, 0.36625995],\n       [1.        , 0.16470904, 0.97471554, 0.58262108, 0.67246731],\n       [1.        , 0.40309562, 0.88545376, 0.40600242, 0.06040476],\n       [1.        , 0.65425856, 0.15789502, 0.09350497, 0.49837995],\n       [1.        , 0.65652148, 0.00545527, 0.68244463, 0.38962242],\n       [1.        , 0.4012334 , 0.67545283, 0.09977628, 0.18019942],\n       [1.        , 0.67110475, 0.45046098, 0.24962163, 0.71436953],\n       [1.        , 0.32890942, 0.6090705 , 0.71712907, 0.35790405]])\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 10620786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XpYyCwPj8E/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAGxKzIunhe_ID4HYYydHuSHhc46g/mo/photo.jpg?sz=128", "display_name": "MGilkies", "link": "https://stackoverflow.com/users/10620786/mgilkies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 53198486, "answer_count": 1, "score": 0, "last_activity_date": 1541628323, "creation_date": 1541627404, "last_edit_date": 1541627878, "question_id": 53198378, "link": "https://stackoverflow.com/questions/53198378/appending-vector-issue-python", "title": "Appending vector issue Python", "body": "<p>I'm trying to append a vector of 1's before the first column. However, anytime I try to insert the vectors, It always happens to the end of the array.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UvrUV.png\" rel=\"nofollow noreferrer\">Here is the current code I have written.</a></p>\n\n<pre><code>x1 = np.array([0.100, 0.200, 0.250, 0.350, 0.400, 0.450, 0.500, 0.600, \n0.750, 0.800, 0.850, 0.900])\n\nmu1 = np.array([0.000, 0.333, 0.667, 1.000])\nmu2 = np.array([0.000, 0.167, 0.333, 0.500, 0.667, 0.833, 1.000])\ns= 0.3\ny_train = [0.603, 0.986, 0.891, 0.834, 0.572, 0.353, -0.085, \n-0.371,-0.967, -0.989, -0.749, -0.382]\n\ny_train=np.array(y_train)\nbasis_function1 = [[0 for i in range(0,4)]for j in range(0,12)]\nbasis_function2 = [[0 for i in range(0,7)]for j in range(0,12)]\nresult1=[]\nresult2=[]\n\n\n\nfor x in x1:\n    for m in mu1:\n        a= np.exp(-((x-m)**2)/2*s**2)\n        result1.append(a)\n\n\nfor x in x1:\n    for m in mu2:\n        a= np.exp(-((x-m)**2)/2*s**2)\n        result2.append(a)\n\nresult1= np.reshape(result1, (12,4))\nresult2= np.reshape(result2, (12,7))\nvectorOnes= np.ones((12,1))\n\n\nresult1 = np.append(result1,vectorOnes, axis=1)\nnp.insert(result1, 0, 1, axis=1)\n\nprint(result1)\nprint(result2)\n</code></pre>\n"}, {"tags": ["python", "pandas", "nan"], "answers": [{"tags": [], "owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "is_accepted": true, "score": 2, "last_activity_date": 1541707067, "last_edit_date": 1541707067, "creation_date": 1541628035, "answer_id": 53198501, "question_id": 53198369, "link": "https://stackoverflow.com/questions/53198369/conditional-dropna-pandas/53198501#53198501", "title": "Conditional dropna() pandas", "body": "<p>You can check conditions with <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isin.html\" rel=\"nofollow noreferrer\"><code>isin()</code></a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isna.html\" rel=\"nofollow noreferrer\"><code>isna()</code></a> and subset the dataframe.</p>\n\n<pre><code>lst = ['Original RO', 'Integral RO']\n\ndf = df[~(df['Program'].isin(lst) &amp; df['act'].isna())]\n\n# Another one using drop.\n# df = df.drop(df[(df['Program'].isin(lst) &amp; df['act'].isna())].index)\n\nprint (df)\n\n       Program  act\n0  Original RO    A\n2  Followup RO    B\n3  Followup RO  NaN\n</code></pre>\n"}], "owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3143, "favorite_count": 0, "accepted_answer_id": 53198501, "answer_count": 1, "score": 2, "last_activity_date": 1541713287, "creation_date": 1541627362, "question_id": 53198369, "link": "https://stackoverflow.com/questions/53198369/conditional-dropna-pandas", "title": "Conditional dropna() pandas", "body": "<p>I have a rather simple question: I want to drop rows from a DataFrame based on a condition. The DataFrame looks something like this:</p>\n\n<pre><code>Program        act\nOriginal RO     A\nOriginal RO    nan\nFollowup RO     B\nFollowup RO    nan\nIntegral RO    nan\n</code></pre>\n\n<p>I want to delete nulls for <code>Original RO</code> and <code>Integral RO</code> Programs only. So it should look like this:</p>\n\n<pre><code>Program        act\nOriginal RO     A\nFollowup RO     B\nFollowup RO    nan\n</code></pre>\n\n<p>I always have problems when trying to do some operations on a portion of my dataframe and keep the rest as is. </p>\n\n<p>I tried this:</p>\n\n<pre><code>df.loc[df.Program.str.match('^(Original|Integral)')] = df.dropna()\n</code></pre>\n\n<p>But isn't working. What am I doing wrong?\nThanks in advance!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541628964, "post_id": 53198532, "comment_id": 93285965, "body": "Ah ok. Then <code>min_periods = 1</code> will differ <code>min_periods=2</code> in the 0th row. But I still don&#39;t understand: if <code>min_periods=2</code> , why <code>expanding</code> has 3 and 7 in 3rd and 4th row  resp.?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 1, "creation_date": 1541630316, "post_id": 53198532, "comment_id": 93286464, "body": "@bakka sum all previous value until the current row (included the current one )"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541630723, "post_id": 53198532, "comment_id": 93286615, "body": "@bakka it will be 0+1+2+NaN(3) and 0+1+2+NaN +4 (7)"}, {"owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541631574, "post_id": 53198532, "comment_id": 93286895, "body": "hm.. so in my <code>rolling</code> example, <code>NaN</code> in 3rd row is not from <code>NaN + 2</code>?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541632569, "post_id": 53198532, "comment_id": 93287247, "body": "@bakka your rolling is right  what I mentioned is for expeanding"}, {"owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541634841, "post_id": 53198532, "comment_id": 93287836, "body": "If my rolling is right then why <code>0+1+2+NaN = 3</code> while <code>NaN+2 = NaN</code>?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "edited": false, "score": 0, "creation_date": 1541640911, "post_id": 53198532, "comment_id": 93289274, "body": "@bakka you need <code>df.rolling(2,min_periods=1).sum()</code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 4, "last_activity_date": 1541628839, "last_edit_date": 1541628839, "creation_date": 1541628127, "answer_id": 53198532, "question_id": 53198344, "link": "https://stackoverflow.com/questions/53198344/pandas-dataframe-difference-between-rolling-and-expanding-function/53198532#53198532", "title": "Pandas DataFrame: difference between rolling and expanding function", "body": "<p>The 2 in <code>expanding</code> is <code>min_periods</code> not the <code>window</code> </p>\n\n<pre><code>df.expanding(min_periods=1).sum()\nOut[117]: \n     B\n0  0.0\n1  1.0\n2  3.0\n3  3.0\n4  7.0\n</code></pre>\n\n<p>If you want the same result with <code>rolling</code> <code>window</code> will be equal to the length of dataframe </p>\n\n<pre><code>df.rolling(window=len(df),min_periods=1).sum()\nOut[116]: \n     B\n0  0.0\n1  1.0\n2  3.0\n3  3.0\n4  7.0\n</code></pre>\n"}], "owner": {"reputation": 1662, "user_id": 10292170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0JUrO.jpg?s=128&g=1", "display_name": "ipramusinto", "link": "https://stackoverflow.com/users/10292170/ipramusinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1603, "favorite_count": 1, "accepted_answer_id": 53198532, "answer_count": 1, "score": 7, "last_activity_date": 1541628839, "creation_date": 1541627244, "question_id": 53198344, "link": "https://stackoverflow.com/questions/53198344/pandas-dataframe-difference-between-rolling-and-expanding-function", "title": "Pandas DataFrame: difference between rolling and expanding function", "body": "<p>Can anyone help me understand the difference between rolling and expanding function from the example given in the pandas docs.</p>\n\n<pre><code>df = DataFrame({'B': [0, 1, 2, np.nan, 4]})\ndf\n     B\n0  0.0\n1  1.0\n2  2.0\n3  NaN\n4  4.0\n\n\ndf.expanding(2).sum()\n     B\n0  NaN  # 0 + NaN\n1  1.0  # 1 + 0\n2  3.0  # 2 + 1\n3  3.0  # ??\n4  7.0  # ?? \n\ndf.rolling(2).sum()\n     B\n0  NaN  # 0 + NaN\n1  1.0  # 1 + 0\n2  3.0  # 2 + 1\n3  NaN  # NaN + 2\n4  NaN  # 4 + NaN\n</code></pre>\n\n<p>I give comment to each row to show my understanding of the calculation. Is that true for <code>rolling</code> function? What about <code>expanding</code>? Where are 3 and 7 in 3rd and 4th rows coming from?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1541627332, "post_id": 53198307, "comment_id": 93285302, "body": "Instead just try <code>data = np.loadtxt(...)</code> followed by <code>print(data)</code>. Numpy arrays are row-oriented so when you do <code>xvalues, y values = ...</code> you&#39;re trying to unpack the first two <i>rows</i> not columns. There are many ways to skin this cat but one of the simplest is to just transpose the array with <code>data.T</code>"}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1541627570, "post_id": 53198307, "comment_id": 93285405, "body": "My mistake, I didn&#39;t see you were using <code>unpack=True</code>. In that case it should work. But you might have a file that does not have two columns or is otherwise malformatted somehow. Best is to put a print statement or a breakpoint to see what file it&#39;s crashing on and investigate what the array returned for that file looks like."}, {"owner": {"reputation": 9, "user_id": 10620736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16cb41b7d579d9779b1cf5f91e13c19a?s=128&d=identicon&r=PG&f=1", "display_name": "aw4891", "link": "https://stackoverflow.com/users/10620736/aw4891"}, "reply_to_user": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1541704590, "post_id": 53198307, "comment_id": 93316882, "body": "Thanks for the advice! You were right that one of the files was faulty, not the code!"}], "owner": {"reputation": 9, "user_id": 10620736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16cb41b7d579d9779b1cf5f91e13c19a?s=128&d=identicon&r=PG&f=1", "display_name": "aw4891", "link": "https://stackoverflow.com/users/10620736/aw4891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541795658, "creation_date": 1541627100, "last_edit_date": 1541795658, "question_id": 53198307, "link": "https://stackoverflow.com/questions/53198307/how-to-import-multiple-dat-files-and-manipulate-data-for-each-file", "title": "How to import multiple dat files and manipulate data for each file?", "body": "<p>I'm using Python 3 to import a large number of .dat files and manipulate the data within each file. I'm running into trouble manipulating the files iteratively using a for loop... I keep getting the response: 'not enough values to unpack (expected 2, got 0)' My code is below. Any help is appreciated!   </p>\n\n<pre><code>import glob\nimport numpy as np\n\nfile_list = sorted(glob.glob('*.dat'))\nfor f in file_list: \n        xvalues, yvalues = np.loadtxt(fname = f, unpack = True, usecols =(0,1))\n</code></pre>\n"}, {"tags": ["python", "logistic-regression", "bayesian", "pymc3"], "answers": [{"tags": [], "owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "is_accepted": false, "score": 2, "last_activity_date": 1541749661, "last_edit_date": 1541749661, "creation_date": 1541726181, "answer_id": 53218462, "question_id": 53198259, "link": "https://stackoverflow.com/questions/53198259/running-a-multivariate-ordered-logit-in-pymc3/53218462#53218462", "title": "Running a multivariate ordered logit in PyMC3", "body": "<p><strong>I've never done multivariate ordinal regression before</strong>, but it seems like one must approach the modeling problem in either two ways:</p>\n\n<ol>\n<li>Partition in the predictor space, in which case you'd need cutlines/curves instead of points.</li>\n<li>Partition in a transformed space where you've projected predictor space to a scalar value and can use cutpoints again.</li>\n</ol>\n\n<p>If you want to use the <code>pm.OrderedLogistic</code> it seems like you have to do the latter, since it doesn't appear to support a multivariate <code>eta</code> case out of the box.</p>\n\n<p>Here's my stab at it, but again, I'm not sure this is a standard approach.</p>\n\n<pre><code>import numpy as np\nimport pymc3 as pm\nimport pandas as pd\nimport theano.tensor as tt\nfrom sklearn.datasets import load_iris\n\n# Load data\niris = load_iris(return_X_y=False)\niris = pd.DataFrame(data=np.c_[iris['data'], iris['target']],\n                     columns=iris['feature_names'] + ['target'])\niris = iris.rename(index=str, columns={\n    'sepal length (cm)': 'sepal_length', \n    'sepal width (cm)': 'sepal_width', \n    'target': 'species'})\n\n# Prep input data\nY = pd.Categorical(iris['species']).codes\nX = iris[['sepal_length', 'sepal_width']].values\n\n# augment X for simpler regression expression\nX_aug = tt.concatenate((np.ones((X.shape[0], 1)), X), axis=1)\n\n# Model with sampling\nwith pm.Model() as ordered_mvlogit:\n    # regression coefficients\n    beta = pm.Normal('beta', mu=0, sd=2, shape=X.shape[1] + 1)\n\n    # transformed space (univariate real)\n    eta = X_aug.dot(beta)\n\n    # points for separating categories\n    cutpoints = pm.Normal(\"cutpoints\", mu=np.array([-1,1]), sd=1, shape=2,\n                          transform=pm.distributions.transforms.ordered)\n\n    y_ = pm.OrderedLogistic(\"y\", cutpoints=cutpoints, eta=eta, observed=Y)\n\n    trace_mvordlogit = pm.sample(5000)\n</code></pre>\n\n<p>This seems to converge fine and yields decent intervals</p>\n\n<p><img src=\"https://i.stack.imgur.com/jqNPC.png\" alt=\"enter image description here\"></p>\n\n<p>If you then work the <code>beta</code> and <code>cutpoint</code> mean values back to predictor space, you get the following partitioning, which appears reasonable.  However, sepal length and width aren't really the best for partitioning.</p>\n\n<pre><code># Extract mean parameter values\nb0, b1, b2 = trace_mvordlogit.get_values(varname='beta').mean(axis=0)\ncut1, cut2 = trace_mvordlogit.get_values(varname='cutpoints').mean(axis=0)\n\n# plotting parameters\nx_min, y_min = X.min(axis=0)\nx_max, y_max = X.max(axis=0)\n\nbuffer = 0.2\nnum_points = 37\n\n# compute grid values\nx = np.linspace(x_min - buffer, x_max + buffer, num_points)\ny = np.linspace(y_min - buffer, y_max + buffer, num_points)\n\nX_plt, Y_plt = np.meshgrid(x, y)\nZ_plt = b0 + b1*X_plt + b2*Y_plt\n\n# contour + scatter plots\nplt.figure(figsize=(8,8))\nplt.contourf(X_plt,Y_plt,Z_plt, levels=[-80, cut1, cut2, 50])\nplt.scatter(iris.sepal_length, iris.sepal_width, c=iris.species)\nplt.xlabel(\"Sepal Length\")\nplt.ylabel(\"Sepal Width\")\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ca7lm.png\" alt=\"enter image description here\"></p>\n\n<h2>Second Order Terms</h2>\n\n<p>You could easily extend <code>eta</code> in the model to include interactions and higher-order terms, so that the final classifier cuts can be curves instead of simple lines.  For example, here is the second order model.</p>\n\n<pre><code>from sklearn.preprocessing import scale\n\nY = pd.Categorical(iris['species']).codes\n\n# scale X for better sampling\nX = scale(iris[['sepal_length', 'sepal_width']].values)\n\n# augment with intercept and second-order terms\nX_aug = tt.concatenate((\n    np.ones((X.shape[0], 1)), \n    X,\n    (X[:,0]*X[:,0]).reshape((-1,1)),\n    (X[:,1]*X[:,1]).reshape((-1,1)),\n    (X[:,0]*X[:,1]).reshape((-1,1))), axis=1)\n\nwith pm.Model() as ordered_mvlogit_second:\n    beta = pm.Normal('beta', mu=0, sd=2, shape=6)\n\n    eta = X_aug.dot(beta)\n\n    cutpoints = pm.Normal(\"cutpoints\", mu=np.array([-1,1]), sd=1, shape=2,\n                          transform=pm.distributions.transforms.ordered)\n\n    y_ = pm.OrderedLogistic(\"y\", cutpoints=cutpoints, eta=eta, observed=Y)\n\n    trace_mvordlogit_second = pm.sample(tune=1000, draws=5000, chains=4, cores=4)\n</code></pre>\n\n<p>This samples nicely and all the coefficients have non-zero HPDs</p>\n\n<p><img src=\"https://i.stack.imgur.com/JZbxn.png\" alt=\"enter image description here\"></p>\n\n<p>And as above you can generate a plot of the classification regions</p>\n\n<p><img src=\"https://i.stack.imgur.com/iV16H.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 41, "user_id": 10618950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57307048d012fc4744f96c7acedfef91?s=128&d=identicon&r=PG&f=1", "display_name": "Maya", "link": "https://stackoverflow.com/users/10618950/maya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1158, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1541750108, "creation_date": 1541626901, "last_edit_date": 1541750108, "question_id": 53198259, "link": "https://stackoverflow.com/questions/53198259/running-a-multivariate-ordered-logit-in-pymc3", "title": "Running a multivariate ordered logit in PyMC3", "body": "<p>I'm trying to build a Bayesian multivariate ordered logit model using PyMC3. I have gotten a toy multivariate logit model working based on the examples in <a href=\"https://rads.stackoverflow.com/amzn/click/com/B0171UHJKA\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">this</a> book. I've also gotten an ordered logistic regression model running based on the example at the bottom of <a href=\"https://docs.pymc.io/api/distributions/discrete.html\" rel=\"nofollow noreferrer\">this</a> page. </p>\n\n<p>However, I cannot get an ordered, multivariate logistic regression to run. I think the issue could be the way the cutpoints are specified, specifically the shape parameter, but I'm not sure why it would be different if there are multiple independent variables than if there were just one, since the number of response categories has not changed. </p>\n\n<p>Here's my code:</p>\n\n<p>Data prep for MWE: </p>\n\n<pre><code>import pymc3 as pm\nimport numpy as np\nimport pandas as pd\nfrom sklearn.datasets import load_iris\n\niris = load_iris(return_X_y=False)\niris = pd.DataFrame(data=np.c_[iris['data'], iris['target']],\n                     columns=iris['feature_names'] + ['target'])\n\niris = iris.rename(index=str, columns={'sepal length (cm)': 'sepal_length', 'sepal width (cm)': 'sepal_width', 'target': 'species'})\n</code></pre>\n\n<p>Here is a working multivariate (binary) logit:</p>\n\n<pre><code>df = iris.loc[iris['species'].isin([0, 1])]\ny = pd.Categorical(df['species']).codes\nx = df[['sepal_length', 'sepal_width']].values\n\nwith pm.Model() as model_1:\n      alpha = pm.Normal('alpha', mu=0, sd=10)\n      beta = pm.Normal('beta', mu=0, sd=2, shape=x.shape[1])\n      mu = alpha + pm.math.dot(x, beta)\n      theta = 1 / (1 + pm.math.exp(-mu))\n      y_ = pm.Bernoulli('yl', p=theta, observed=y)\n      trace_1 = pm.sample(5000)\n</code></pre>\n\n<p>Here is a working ordered logit (with one independent variable):</p>\n\n<pre><code>x = iris['sepal_length'].values\ny = pd.Categorical(iris['species']).codes\n\nwith pm.Model() as model:\n    cutpoints = pm.Normal(\"cutpoints\", mu=[-2,2], sd=10, shape=2,\n                          transform=pm.distributions.transforms.ordered)\n\n    y_ = pm.OrderedLogistic(\"y\", cutpoints=cutpoints, eta=x, observed=y)\n    tr = pm.sample(1000)\n</code></pre>\n\n<p>Here is my attempt at a multivariate ordered logit, which breaks:</p>\n\n<pre><code>x = iris[['sepal_length', 'sepal_width']].values\ny = pd.Categorical(iris['species']).codes\n\nwith pm.Model() as model:\n    cutpoints = pm.Normal(\"cutpoints\", mu=[-2,2], sd=10, shape=2,\n                          transform=pm.distributions.transforms.ordered)\n\n    y_ = pm.OrderedLogistic(\"y\", cutpoints=cutpoints, eta=x, observed=y)\n    tr = pm.sample(1000)\n</code></pre>\n\n<p>The error I get is: \"ValueError: all the input array dimensions except for the concatenation axis must match exactly.\"</p>\n\n<p>This suggests it's a data problem (x, y), but the data looks the same as it does for the multivariate logit, which works. </p>\n\n<p>How can I fix the ordered multivariate logit so it will run? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1541628083, "post_id": 53198257, "comment_id": 93285641, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541629135, "post_id": 53198522, "comment_id": 93286027, "body": "Hello thank you so much for your reply ! I have copy pasted your code as it s in afile named test.py and run it using the following command  python test.py file1 file2 however I have got an output like this NO-MATCH: chr5 19776794 19776869 5 19776845 19776920 K00230:40:HNWJLBBXX:4:1127:18467:28112 255 + - 19776857.00 however I;m sure that more than half of my input file falls within the range ( here I tested only chr5). Please help ! Should I change any parameter in the code you posted ? I&#39;m sorry I&#39;m new to python... there&#39;s no need for C/C++.. this code was very quick.."}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "reply_to_user": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541629697, "post_id": 53198522, "comment_id": 93286230, "body": "@Smiley - Add a few rows of test data to your question, and I can take a look."}, {"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541630067, "post_id": 53198522, "comment_id": 93286365, "body": "Thank you for your reply again... Here&#39;s few lines from file 1 : chr5 20311169 20311244 5 20311177 20311251 K00230:40:HNWJLBBXX:4:1101:1002:35936 255 + - 20311210.00 chr5 26610220 26610295 5 26610221 26610296 K00230:40:HNWJLBBXX:4:1101:1022:24155 255 + - 26610258.00  and this for file two :  chr5    121    221    Nucleosome:1    110    5.0    39.9    MainPeak    1.43492858    0.68583064 chr5    801    861    Nucleosome:2    70    1.0    5.4    MainPeak    0.17076187    0.806538035 chr5    1021    1091    Nucleosome:3    80    2.0    14.4    MainPeak    0.42430331    0.481579895"}, {"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541630904, "post_id": 53198522, "comment_id": 93286685, "body": "I will update my question example and this way it can be clear"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "reply_to_user": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541632059, "post_id": 53198522, "comment_id": 93287064, "body": "I tested this with the given input.  It seemed to work.  If you uncomment the <code>print()</code> near the column comparison you can see it working, and why it made the decision it did."}, {"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541667418, "post_id": 53198522, "comment_id": 93296723, "body": "Thank you for your reply. I have tested the code.. and I have found a problem in it.. the code only compares row by row from each file... so for example, if you move row 1 to the second place to make it row 2 and keep file 1 as it is in the provided dataset example...the output will be no match... I would highly appreciate if each value of column 11 in file 1 can be compared to all ranges of each row from file 2 ( 2nd and 3rd Column) as values from column 11 can be within the range of any row from file 2 . Thank you in advance"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "reply_to_user": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541720597, "post_id": 53198522, "comment_id": 93323342, "body": "Ok please see above.  It would be interesting to work on a more useful data-structure that can short-circuit more of that search.  But I tried to present a simple and understandable solution."}, {"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541722145, "post_id": 53198522, "comment_id": 93323663, "body": "The code is working perfectly fine now ! Thank you so much ! and it is really quick as well ! You were very helpful !"}, {"owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "edited": false, "score": 0, "creation_date": 1541722822, "post_id": 53198522, "comment_id": 93323832, "body": "I have another final question please. if I have file similar to file 1 and a second file from which I want to filter rows having the 4th column identical to the 7th column of file 1 however they hold /1 and /2.. so basically if file 1 7th column K00230:40:HNWJLBBXX:4:1101:1002:35936 and file 2 column four has K00230:40:HNWJLBBXX:4:1101:1002:35936/1 and (  in a second row ) K00230:40:HNWJLBBXX:4:1101:1002:35936/2 how can I print these rows using python code. Thank you in advance."}], "tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": true, "score": 0, "last_activity_date": 1541720460, "last_edit_date": 1541720460, "creation_date": 1541628101, "answer_id": 53198522, "question_id": 53198257, "link": "https://stackoverflow.com/questions/53198257/extract-rows-having-the-11th-column-values-lies-between-2nd-and-3nd-of-a-second/53198522#53198522", "title": "Extract rows having the 11th column values lies between 2nd and 3nd of a second file if 1st column matches", "body": "<p>A simple function to extract the Nth column from your text makes this reasonably straight-forward.  I've assumed when you say \"Column 11\" you mean, the 11 column counting from 1, not the index-11 column where the 1st item is index-0</p>\n\n<p>Pseudo-Code:</p>\n\n<pre><code>Until there's no data left ~\n    Read line1 from file1\n    Read line2 from file2\n    Extract Col11 from line1 as a real number\n    Extract Col2 &amp; Col3 from line2 as real numbers\n    IF Col11 is within Col2 &amp; Col3\n        do something\n</code></pre>\n\n<p>Python Code:</p>\n\n<pre><code>import sys\n\n# Given a space-separated row of data, return the Nth column as a real number\ndef getNthColumn(row, N):\n    # Single-space the row, removing tabs, double-spaces etc.\n    row = ' '.join(row.split())\n    fields = row.split(' ')\n    result = float(fields[N-1])   # fields are numbered 0-&gt;(N-1)\n    #print(\"Returning column %d from [%s] -&gt; %f\" % (N, row, result))\n    return result\n\nif (len(sys.argv) == 3):\n    fin1 = open(sys.argv[1], \"rt\")\n    fin2 = open(sys.argv[2], \"rt\")  #TODO - handle file-not-found errors, etc.\n\n    line1 = fin1.readline()\n    line2 = fin2.readline()\n    while (line1 != \"\" and line2 != \"\"):\n        # Get the columns from the two lines\n        f1_col11 = getNthColumn(line1, 11)\n        f2_col2  = getNthColumn(line2,  2)\n        f2_col3  = getNthColumn(line2,  3)  ### TODO handle errors\n        # work out if it's a keeper\n        # print(\"Is %f &gt;= %f and %f &lt;= %f\" % (f1_col11, f2_col2, f1_col11, f2_col3))\n        if (f1_col11 &gt;= f2_col2 and f1_col11 &lt;= f2_col3):\n            print(\"MATCH: \"+line1)\n        else:\n            print(\"NO-MATCH: \"+line1)\n        # Next rows\n        line1 = fin1.readline()\n        line2 = fin2.readline()\nelse:\n    print(\"Give 2 files as arguments\")\n</code></pre>\n\n<p>To be honest, if speed really is critical for this, it would be better to write it in a compiled language, e.g.: C/C++/Pascal, etc. etc.</p>\n\n<p>EDIT: tested and working, added some debug print()s</p>\n\n<p>EDIT2: Search file1-row against all rows in file2</p>\n\n<pre><code>import sys\n\n# Hold all the file2 Columns\nfile2_col23 = []\n\n# Given a space-separated row of data, return the Nth column as a real number\ndef getNthColumn(row, N):\n    # Single-space the row, removing tabs, double-spaces etc.\n    row = ' '.join(row.split())\n    fields = row.split(' ')\n    try:\n        result = float(fields[N-1])   # fields are numbered 0-&gt;(N-1)\n    except:\n        sys.stderr.write(\"Failed to fetch number column %d from [%s]\" % (N, row))\n        sys.exit(1)\n    #print(\"Returning column %d from [%s] -&gt; %f\" % (N, row, result))\n    return result\n\nif (len(sys.argv) == 3):\n    fin1 = open(sys.argv[1], \"rt\")\n    fin2 = open(sys.argv[2], \"rt\")  #TODO - handle file-not-found errors, etc.\n\n    # Load in the whole of file2, but just the column2 &amp; column3\n    # note the minimum col2 and maximum c3\n    line2 = fin2.readline()\n    min_c2 = None\n    max_c3 = None\n    while (line2 != \"\"):\n        col2 = getNthColumn(line2, 2)\n        col3 = getNthColumn(line2, 3)\n        file2_col23.append( ( col2, col3 ) )\n        # Note the min c2 and max c3 so we can quickly know if a search can\n        # possible produce a result\n        if (min_c2 == None or col2 &lt; min_c2):\n            min_c2 = col2\n        if (max_c3 == None or col3 &gt; max_c3):\n            max_c3 = col3\n        # next line\n        line2 = fin2.readline().strip()\n\n    # sort the columns to allow us to short-cut searching\n    file2_col23.sort()\n\n\n    line1 = fin1.readline()\n    while (line1 != \"\"):\n        col11 = getNthColumn(line1, 11)\n\n        matched = False\n        # is col11 is within any file2 row col2 or col3\n        if (col11 &gt;= min_c2 and col11 &lt;= max_c3):   # make sure the search is worthwhile\n            for col23 in file2_col23:\n                (col2, col3) = col23\n                if (col11 &gt;= col2 and col11 &lt;= col3):\n                    matched = True\n                    break\n\n        if (matched == True):\n            print(\"MATCH: \"+str(line1))\n        else:\n            print(\"NO-MATCH: \"+str(line1))\n\n        # Next row\n        line1 = fin1.readline()\nelse:\n    print(\"Give 2 files as arguments\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10620709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b81307226bcd2fa7c26fe597f53eb4b?s=128&d=identicon&r=PG&f=1", "display_name": "Smiley", "link": "https://stackoverflow.com/users/10620709/smiley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53198522, "answer_count": 1, "score": -5, "last_activity_date": 1541720460, "creation_date": 1541626893, "last_edit_date": 1541631997, "question_id": 53198257, "link": "https://stackoverflow.com/questions/53198257/extract-rows-having-the-11th-column-values-lies-between-2nd-and-3nd-of-a-second", "title": "Extract rows having the 11th column values lies between 2nd and 3nd of a second file if 1st column matches", "body": "<p>Hello I have two files </p>\n\n<p>file1 : </p>\n\n<pre>\nchr5 20311169 20311244 5 20311177 20311251 K00230:40:HNWJLBBXX:4:1101:1002:35936 255 + - 20311210.00\nchr5 26610220 26610295 5 26610221 26610296 K00230:40:HNWJLBBXX:4:1101:1022:24155 255 + - 26610258.00\n</pre>\n\n<p>file2 </p>\n\n<pre>\nchr5     20311200    20311220   Nucleosome:1    110    5.0    39.9    MainPeak    1.43492858    0.68583064\nchr5    801    861    Nucleosome:2    70    1.0    5.4    MainPeak    0.17076187    0.806538035\nchr5    1021    1091    Nucleosome:3    80    2.0    14.4    MainPeak    0.42430331    0.481579895\nchr5    1181    1251    Nucleosome:4    80    1.0    7.5    MainPeak    0.1362587    0.32626102999999995\nchr5    1361    1441    Nucleosome:5    90    2.0    14.7    MainPeak    0.34212933    0.291726595\nchr5    1621    1801    Nucleosome:6    190    2.0    26.1    MainPeak:doublet    0.37546564    0.353192625\nchr5    2011    2071    Nucleosome:7    70    1.0    5.7    MainPeak    0.15091517    0.396369735\nchr5    2161    2331    Nucleosome:8    180    1.0    17.2    MainPeak    0.08865312    0.42133046500000004\nchr5    2441    2561    Nucleosome:9    130    2.5    25.3    MainPeak    0.7368501    0.48843276\nchr5    2781    2851    Nucleosome:10    80    3.0    17.5    MainPeak    0.80818501    1.303005\nchr5    3271    3431    Nucleosome:11    170    3.0    34.5    MainPeak+Shoulder    0.72967697    1.348257495\nchr5    3521    3571    Nucleosome:12    60    1.0    5.8    MainPeak    0.1880739    0.504429705\nchr5    3641    3791    Nucleosome:13    160    1.0    12.5    MainPeak:doublet    0.10098579    0.363148215\n</pre>\n\n<p>I'm interested in printing rows from file 1 using a python code if the values of 11th column falls within the range start and end (2nd and 3rd columns )declared in the seconds file. As the position is only unique within a certain chromosome (chr) first it has to be tested if the chr's are identical... hence my desired output is  </p>\n\n<pre>\nchr5 20311169 20311244 5 20311177 20311251 K00230:40:HNWJLBBXX:4:1101:1002:35936 255 + - 20311210.00\n</pre>\n\n<p>I have tried awk codes.. it works perfectly fine but they are very very slow ! </p>\n\n<p>The files I'm testing ( from which I need to print the rows are around 4 GB ).</p>\n\n<p>I would highly appreciate if I can have some python code </p>\n\n<p>Thanks ! </p>\n"}, {"tags": ["python", "list", "dictionary", "for-loop"], "comments": [{"owner": {"reputation": 4128, "user_id": 1425689, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/08cc4f0cf7119eb82a36405b79691c98?s=128&d=identicon&r=PG", "display_name": "Roope", "link": "https://stackoverflow.com/users/1425689/roope"}, "edited": false, "score": 6, "creation_date": 1541626847, "post_id": 53198215, "comment_id": 93285112, "body": "Seems very simple, so why not try implementing it yourself instead of spending potentially more time looking for ready-made code online?"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 1, "creation_date": 1541626948, "post_id": 53198215, "comment_id": 93285158, "body": "in our target dict, why are the keys <code>1.0 ,2.0</code> etc. Why decimals? what is the physical significance?"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1541627464, "post_id": 53198215, "comment_id": 93285364, "body": "To @Srini &#39;s point, storing the keys as <code>floats</code> incurs extra overhead for no particular reason. Just store as <code>int</code>, it is smaller (from a data perspective) and makes it a bit easier to look up"}], "answers": [{"tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1541627002, "creation_date": 1541627002, "answer_id": 53198280, "question_id": 53198215, "link": "https://stackoverflow.com/questions/53198215/creating-a-list-of-lists-into-a-dictionary/53198280#53198280", "title": "Creating a list of lists into a dictionary", "body": "<p>The following should do the trick:</p>\n\n<pre><code>&gt;&gt;&gt; new_dict = {float(i): {list_one[0][j]:val for j,val in enumerate(list_one[i])} for i in range(1,len(list_one))}\n&gt;&gt;&gt; new_dict\n {1.0: {'id1': '1', 'id2': 'Cat', 'id3': '400', 'id4': 'Fur', 'id5': '50'},\n 2.0: {'id1': '2', 'id2': 'Dog', 'id3': '500', 'id4': 'Smelly', 'id5': '60'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": true, "score": 3, "last_activity_date": 1541627012, "creation_date": 1541627012, "answer_id": 53198285, "question_id": 53198215, "link": "https://stackoverflow.com/questions/53198215/creating-a-list-of-lists-into-a-dictionary/53198285#53198285", "title": "Creating a list of lists into a dictionary", "body": "<p>a simple dict-comprehension using enumerate:</p>\n\n<pre><code>list_one = [['id1', 'id2', 'id3', 'id4', 'id5'],\n            ['1', 'Cat', '400', 'Fur', '50'],\n            ['2', 'Dog', '500', 'Smelly', '60']]\n\nnew_dict = {float(i): dict(zip(list_one[0], items)) \n            for i, items in enumerate(list_one[1:], start=1)}\n\nprint(new_dict)\n</code></pre>\n\n<p>results in</p>\n\n<pre><code>{1.0: {'id1': '1', 'id2': 'Cat', 'id3': '400', 'id4': 'Fur', 'id5': '50'}, \n 2.0: {'id1': '2', 'id2': 'Dog', 'id3': '500', 'id4': 'Smelly', 'id5': '60'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "is_accepted": false, "score": 2, "last_activity_date": 1541627024, "creation_date": 1541627024, "answer_id": 53198289, "question_id": 53198215, "link": "https://stackoverflow.com/questions/53198215/creating-a-list-of-lists-into-a-dictionary/53198289#53198289", "title": "Creating a list of lists into a dictionary", "body": "<p>In your use case, the keys are the first list in your list, and the objects are the rest. You can zip them together and create that dictionary like so:</p>\n\n<pre><code>ks, objs = list_one[0], list_one[1:]\n\nmyobjects = {i: dict(zip(ks, l)) for i,l in enumerate(objs)}\n</code></pre>\n\n<p><code>zip</code> will take the element-by-element pairs and create tuples like <code>(x, y)</code> and <code>dict</code> will make <code>{x: y}</code> from that tuple. The docs can be found <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 1, "creation_date": 1541627071, "post_id": 53198292, "comment_id": 93285210, "body": "op said nothing about using pandas"}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 3, "creation_date": 1541627131, "post_id": 53198292, "comment_id": 93285233, "body": "@Srini to be fair: the OP said nothing against using pandas...."}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "reply_to_user": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "edited": false, "score": 0, "creation_date": 1541627232, "post_id": 53198292, "comment_id": 93285265, "body": "@hiroprotagonist true. But the original version of the answer did not make it clear that pandas was being used either. I just wanted to highlight that too :)"}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 2, "last_activity_date": 1541627577, "last_edit_date": 1541627577, "creation_date": 1541627035, "answer_id": 53198292, "question_id": 53198215, "link": "https://stackoverflow.com/questions/53198215/creating-a-list-of-lists-into-a-dictionary/53198292#53198292", "title": "Creating a list of lists into a dictionary", "body": "<p>If you are okay with third party library pandas</p>\n\n<pre><code>import pandas as pd\n{float(k):v for k,v in enumerate(pd.DataFrame(list_one[1:],columns=list_one[0]).to_dict('records'),1)}\n</code></pre>\n"}], "owner": {"reputation": 859, "user_id": 1821176, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/90f1c7f66502e016ddbed5fcb9920e70?s=128&d=identicon&r=PG", "display_name": "user1821176", "link": "https://stackoverflow.com/users/1821176/user1821176"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "closed_date": 1541628147, "accepted_answer_id": 53198285, "answer_count": 4, "score": -5, "last_activity_date": 1541627577, "creation_date": 1541626685, "question_id": 53198215, "link": "https://stackoverflow.com/questions/53198215/creating-a-list-of-lists-into-a-dictionary", "closed_reason": "Duplicate", "title": "Creating a list of lists into a dictionary", "body": "<p>I'm trying to find a code that transforms a list of lists into a dictionary. Lets say I have a list that is </p>\n\n<pre><code>list_one = [['id1', 'id2', id3', 'id4', 'id5'],\n            ['1', 'Cat', '400', 'Fur', '50'],\n            ['2', 'Dog', '500', 'Smelly', '60']]\n</code></pre>\n\n<p>The dictionary should have keys to number each list in dictionaries in this format</p>\n\n<pre><code>new_dict = {1.0: {'id1': 1,\n                 'id2': 'Cat',\n                 'id3': 400,\n                 'id4': 'Fur',\n                 'id5': 50},\n            2.0: {'id1': 2,\n                  'id2': 'Dog',\n                  'id3': 500,\n                  'id4': 'Smelly'\n                  'id5': 60}\n</code></pre>\n\n<p>Can such a conversion be done in list comprehension or through a for loop? </p>\n"}, {"tags": ["python", "csv", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541627766, "post_id": 53198201, "comment_id": 93285502, "body": "I couldn&#39;t replicate it, I get a csv file with 207 lines, so about 103 outputs"}, {"owner": {"reputation": 21, "user_id": 10598712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf7836a48c250bb2ba47ac7efaf1307?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan ", "link": "https://stackoverflow.com/users/10598712/jonathan"}, "reply_to_user": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541627878, "post_id": 53198201, "comment_id": 93285550, "body": "Huh? that&#39;s odd. Maybe it&#39;s something with the method I use to make a file.. BTW it could be 103 products, my 125 was an estimate."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541628203, "post_id": 53198201, "comment_id": 93285687, "body": "How certain are you that your file is only 25 outputs long, is it possible to scroll?"}, {"owner": {"reputation": 21, "user_id": 10598712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf7836a48c250bb2ba47ac7efaf1307?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan ", "link": "https://stackoverflow.com/users/10598712/jonathan"}, "reply_to_user": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541630765, "post_id": 53198201, "comment_id": 93286636, "body": "100% certain, just count the lines in the CSV output i have on the 3rd code output section. Each line is 1 product."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541630919, "post_id": 53198201, "comment_id": 93286688, "body": "I suggest you add a print statement <code>print(len(all_product))</code>, as well as add a counter which you print with each iteration. Just to check if your input is correct, if it is, something is wrong in your writing statement, if it is not something is wrong in your way of collecting it. But again: I have no trouble running it."}, {"owner": {"reputation": 21, "user_id": 10598712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf7836a48c250bb2ba47ac7efaf1307?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan ", "link": "https://stackoverflow.com/users/10598712/jonathan"}, "reply_to_user": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541631348, "post_id": 53198201, "comment_id": 93286818, "body": "I&#39;m an idiot, i had several different files that were named &#39;prod&#39;, and I was checking the wrong one every time. The right one was in a different location. Thanks for testing out my code, much appreciated. The only issue, now is, i still not have the headers of the categories!"}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541632432, "post_id": 53198201, "comment_id": 93287199, "body": "Glad you found the problem. I&#39;m not quite sure you mean with headers for the categories though"}, {"owner": {"reputation": 21, "user_id": 10598712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf7836a48c250bb2ba47ac7efaf1307?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan ", "link": "https://stackoverflow.com/users/10598712/jonathan"}, "reply_to_user": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541632724, "post_id": 53198201, "comment_id": 93287294, "body": "Near the bottom of the code &#39;writerow = ([&#39;Name&#39;, &#39;Brand&#39;, &#39;Packaging&#39;, &#39;Availability&#39;, &#39;Price&#39;])&#39;, this should implement the top row to say &#39;Name, &#39;Brand&#39;, &#39;Packaging&#39;, &#39;Availability&#39;, and &#39;Price&#39;. Instead the first row is the first product. I might be nit-picking but, it is stated in the code."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1541633139, "post_id": 53198201, "comment_id": 93287415, "body": "can you not simply add the line: <code>writer.writerow([&#39;Name&#39;, &#39;Brand&#39;, &#39;Packaging&#39;, &#39;Availability&#39;, &#39;Price&#39;])</code> before you initiate the loop?"}, {"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "edited": false, "score": 0, "creation_date": 1541642778, "post_id": 53198201, "comment_id": 93289718, "body": "you are asking a same question, i have already answered one. You only change a few that you can get what you excepted. <a href=\"https://stackoverflow.com/questions/53176773/trying-to-scrape-multiple-urls-can-only-scrape-1-any-way-to-generate-multiple/53184642#53184642\">Your question before</a>. If my answer solved you problem, close this one now  and accept the answer which solved your question."}, {"owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "edited": false, "score": 0, "creation_date": 1541646543, "post_id": 53198201, "comment_id": 93290515, "body": "Why are you putting the scraped data in a dict? Why not just assign them in a list of a list? I get the whole dict thing but I think it is useless at this point, right? I never assign any scraped data that way, I just assign each value a variable name, then append the list at the end `all_product.append([name, brand, etc, etc, etc]). Then when you loop through it usually doesn&#39;t have problems."}], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 6042206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMQZp.jpg?s=128&g=1", "display_name": "Kamikaze_goldfish", "link": "https://stackoverflow.com/users/6042206/kamikaze-goldfish"}, "is_accepted": true, "score": 0, "last_activity_date": 1541648447, "creation_date": 1541648447, "answer_id": 53201225, "question_id": 53198201, "link": "https://stackoverflow.com/questions/53198201/only-last-25-objects-from-scraped-data-being-transferred-to-csv-file/53201225#53201225", "title": "Only last 25 objects from scraped data being transferred to CSV file", "body": "<p>This gets me 125 products. Also, you weren't writing the header data on the first row. I changed that and it all seems to be good. Try increasing your range from a <code>5</code> to a <code>6</code> to get 25 more responses. </p>\n\n<pre><code>import csv\nimport requests\nfrom bs4 import BeautifulSoup\n\nall_product = []\n\nfor i in range(1, 6):\n    url = \"https://www.medplusmedicalsupply.com/exam-and-diagnostic?p=\"+str(i)+\"&amp;product_list_limit=25\"\n    html = requests.get(url).text\n    soup = BeautifulSoup(html, \"html.parser\")\n    products = soup.findAll('div', class_=\"product details product-item-details\")\n\n    for product in products:\n        name = product.find('a').text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip(\n            '\\n\\r\\t\": ').strip()\n        brand = product.find('div', {'class': 'value'}).text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip(\n            '\\n\\r\\t\": ').strip()\n        packaging = product.find('div', {'class': 'pack'}).text.strip('\\n\\r\\t\": ').strip(\n            '\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip()\n        availability = product.find('div', {'class': 'avail pack'}).text.strip('\\n\\r\\t\": ').strip(\n            '\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip()\n        price = product.find('span', {'class': 'price'}).text.strip('\\n\\r\\t\": ').strip(\n            '\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip()\n        packaging = packaging[9:].replace(':', '')  # here were cutting redundant part of string \"Brand: \\n\\n\"\n        availability = availability[16:]  # here we're cutting redundant part of string \"Availability: \\n\\n\"\n        all_product.append([name, brand, packaging, availability, price])\n\nprint(len(all_product))\nwith open('prod.csv', 'w+') as csvFile:\n    csv_writer = csv.writer(csvFile)\n    csv_writer.writerow([\"Name\", \"Brand\", \"Packaging\", \"Availability\", \"Price\"])\n    for product in all_product:\n        csv_writer.writerow(product)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10598712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf7836a48c250bb2ba47ac7efaf1307?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan ", "link": "https://stackoverflow.com/users/10598712/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 53201225, "answer_count": 1, "score": 0, "last_activity_date": 1541648447, "creation_date": 1541626610, "question_id": 53198201, "link": "https://stackoverflow.com/questions/53198201/only-last-25-objects-from-scraped-data-being-transferred-to-csv-file", "title": "Only last 25 objects from scraped data being transferred to CSV file", "body": "<p>Actual code: I am trying to scrape from several pages from a medical products website for each of their products based on different product detail features(name, brand, packaging, availability, and price). I am able to go through each of the pages and collect the data as demonstrated in the internal python output. However,  only the last 25 products are transcribed in the CSV file instead of all requested in the scraping process.</p>\n\n<pre><code>import csv\nimport requests\nfrom bs4 import BeautifulSoup\n\nall_product = []\nfor i in range(1, 5):\n    url = \"https://www.medplusmedicalsupply.com/exam-and-diagnostic?p=\"+str(i)+\"&amp;product_list_limit=25\"\n    html = requests.get(url).text\n    soup = BeautifulSoup(html, \"html.parser\")\n    products = soup.findAll('div', {\"class\": \"product details product-item-details\"})\n\n\n    for product in products:\n        product_details = dict()\n        product_details['name'] = product.find('a').text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ')\n        product_details['brand'] = product.find('div', {'class': 'value'}).text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ')\n        product_details['packaging'] = product.find('div', {'class': 'pack'}).text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ')\n        product_details['availability'] = product.find('div', {'class': 'avail pack'}).text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ')\n        product_details['price'] = product.find('span', {'class': 'price'}).text.strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ').strip('\\n\\r\\t\": ')\n        product_details['packaging'] = product_details['packaging'][9:] # here we're cutting redundant part of string \"Brand: \\n\\n\"\n        product_details['availability'] = product_details['availability'][16:] # here we're cutting redundant part of string \"Availability: \\n\\n\"\n        all_product.append(product_details)\n\n    print(all_product)\n\nwith open('prod.csv', 'w+') as csvFile:\n    writer = csv.writer(csvFile)\n    writerow = (['Name', 'Brand', 'Packaging', 'Availability', 'Price'])\n    for product in all_product:\n        writer.writerow([product['name'], product['brand'],product['packaging'], product['availability'], product['price']])\n</code></pre>\n\n<p>Output provided by python: </p>\n\n<pre><code>[{'name': 'Kimberly Clark Blue Nitrile Exam Gloves -100/BX', 'brand': 'Kimberly Clark', 'packaging': 'Kimberly Clark', 'availability': '1-3 Days', 'price': '$26.94'}, {'name': 'Pro Advantage Gloves - 200/BX', 'brand': 'Pro Advantage', 'packaging': 'Pro Advantage', 'availability': '1-3 Days', 'price': '$28.94'}, {'name': 'Kimberly Clark Powder Free Exam Gloves - 500/CS', 'brand': 'Kimberly Clark', 'packaging': 'Kimberly Clark', 'availability': '1-3 Days', 'price': '$136.99'}, {'name': 'Kimberly Clark Sterile Pairs Exam Gloves - 400/CS', 'brand': 'Kimberly Clark', 'packaging': 'Kimberly Clark', 'availability': '1-3 Days', 'price': '$205.99'}, {'name': 'Dynarex Multi Care Vinyl Exam Gloves Non-Latex - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$61.99'}, {'name': 'Dynarex Tillotson Powder Free Plus Latex Exam Gloves - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$109.99'}, {'name': 'Dynarex 6512 True Advantage High Risk Nitrile Exam Gloves, 8 mil - 500/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$105.99'}, {'name': 'Dynarex 6512 True Advantage High Risk Nitrile Exam Gloves, 8 mil - 50/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$20.99'}, {'name': 'Dynarex Tillotson Tru Advantage PF Nitrile Exam Gloves - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$101.99'}, {'name': 'Dynarex Tillotson Tru Advantage PF Nitrile Exam Gloves - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$18.99'}, {'name': 'Dynarex Tillotson Dental Care Powderless Inner Surface Latex Exam Gloves - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$110.99'}, {'name': 'Dynarex Tillotson Dental Care Powderless Inner Surface Latex Exam Gloves - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$21.99'}, {'name': 'Dynarex Ultra Care Powderless Inner Surface Latex Exam Gloves - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$110.99'}, {'name': 'Dynarex Ultra Care Powderless Inner Surface Latex Exam Gloves - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$21.99'}, {'name': 'Dynarex DynaPlus Nitrile Exam Gloves - 2000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$125.99'}, {'name': 'Dynarex DynaPlus Nitrile Exam Gloves - 200/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$24.99'}, {'name': 'Dynarex Black Nitrile Exam Gloves (non-latex) Powder Free - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$89.99'}, {'name': 'Dynarex Black Nitrile Exam Gloves (non-latex) Powder Free - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$17.99'}, {'name': 'Dynarex Sterile Latex Exam Gloves Powder Free - (Pairs) - 400 PR/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$201.99'}, {'name': 'Dynarex Sterile Latex Exam Gloves Powder Free - (Pairs) - 50 PR/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$41.99'}, {'name': 'Dynarex High Risk Latex Exam Gloves, 15mil Blue Powder Free - 500/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$131.99'}, {'name': 'Dynarex High Risk Latex Exam Gloves, 15mil Blue Powder Free - 50/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$25.00'}, {'name': 'Dynarex High Risk Latex Exam Gloves, 10mil White Powder Free - 500/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$120.99'}, {'name': 'Dynarex High Risk Latex Exam Gloves, 10mil White Powder Free - 50/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$23.99'}, {'name': 'Dynarex Black Arrow Latex Exam Gloves - 1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$104.99'}]\n[{'name': 'Dynarex Black Arrow Latex Exam Gloves - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$19.99'}, {'name': 'Dynarex Safe-Touch Vinyl Exam Gloves Powder Free -1000/CS', 'brand': 'Safetouch', 'packaging': 'Safetouch', 'availability': '1-3 Days', 'price': '$61.99'}, {'name': 'Halyard Health Purple Nitrile XTRA PF Extended Cuff - 50/BX', 'brand': 'Safetouch', 'packaging': 'Safetouch', 'availability': '1-3 Days', 'price': '$13.95'}, {'name': 'Dynarex Safe-Touch Vinyl Exam Gloves Powder Free -100/BX', 'brand': 'Safetouch', 'packaging': 'Safetouch', 'availability': '1-3 Days', 'price': '$13.99'}, {'name': 'Pro Advantage Vinyl Exam Glove, Powder Free - 100/BX', 'brand': 'Pro Advantage', 'packaging': 'Pro Advantage', 'availability': '1-3 Days', 'price': '$14.94'}, {'name': 'BSN Medical Therall Arthritis Gloves SM -1/PR', 'brand': 'BSN Medical', 'packaging': 'BSN Medical', 'availability': '1-3 Days', 'price': '$37.94'}, {'name': 'Kimberly Clark Exam Glove, PF Nitrile - 200 PR/CS', 'brand': 'Kimberly Clark', 'packaging': 'Kimberly Clark', 'availability': '1-3 Days', 'price': '$181.99'}, {'name': 'Dynarex Safe-Touch Latex Exam Gloves Powder Free -1000/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$89.99'}, {'name': 'Dynarex Safe-Touch Powder Free Latex Exam Gloves - 100/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$17.99'}, {'name': 'Molnlycke Health Care Biogel Surgeons Glove ST Latex P/F - 50/BX', 'brand': 'Biogel', 'packaging': 'Biogel', 'availability': '1-3 Days', 'price': '$119.95'}, {'name': 'Spectra 360 Electrode Gel - 60 Gram Tube', 'brand': 'Biogel', 'packaging': 'Biogel', 'availability': '199 in stock', 'price': '$1.99'}, {'name': 'Latex Surgeons Gloves Powder Free \u2013 Sterile Pairs - 200/CS', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$131.99'}, {'name': 'Latex Surgeons Gloves Powder Free \u2013 Sterile Pairs - 50/BX', 'brand': 'Dynarex', 'packaging': 'Dynarex', 'availability': '1-3 Days', 'price': '$47.99'}, {'name': 'Welch Allyn 97250 3.5 V Diagnostic Set with Coaxial Opthalmoscope / Diagnostic Otoscope Handle and Hard Case', 'brand': 'Welch Allyn', 'packaging': ' Welch Allyn', 'availability': '831 in stock', 'price': '$399.00'}, {'name': 'Chattanooga 4004 Stainless Steel Mobile Cart - 3 Shelves - 1/EA', 'brand': 'Chattanooga', 'packaging': 'Chattanooga', 'availability': '1 in stock', 'price': '$288.92'}, {'name': 'Chattanooga 4018 Stainless Steel Mobile Cart - 2 Shelves with Drawer - 1/EA', 'brand': 'Chattanooga', 'packaging': 'Chattanooga', 'availability': '1-3 Days', 'price': '$474.95'}, {'name': 'Chattanooga 630309-001 Saunders Education Manuals- Managing Back Pain -1/EA', 'brand': 'Saunders', 'packaging': 'Saunders', 'availability': '1-3 Days', 'price': '$5.95'}, {'name': 'Chattanooga Pnematic Stool with Back - 1/EA', 'brand': 'Chattanooga', 'packaging': 'Chattanooga', 'availability': '1-3 Days', 'price': '$149.95'}, {'name': 'Chattanooga 77062 Pnematic Stool without Back - Dove Gray - 1/EA', 'brand': 'Chattanooga', 'packaging': 'Chattanooga', 'availability': '4 in stock', 'price': '$129.95'}, {'name': 'Chattanooga 7706 Pnematic Stool without Back - Burgundy - 1/EA', 'brand': 'Chattanooga', 'packaging': 'Chattanooga', 'availability': '78 in stock', 'price': '$129.00'}, {'name': 'Welch Allyn 08800-U 4.6 V Halogen Lamp for KleenSpec Vaginal Specula Illumination Systems (#78812, #78814, #78816)', 'brand': 'Welch Allyn', 'packaging': 'Welch Allyn', 'availability': '1-3 Days', 'price': '$28.00'}, {'name': 'Halyard Health Fluidshield Fog Free Procedure Mask - Orange - Box of 40', 'brand': 'Welch Allyn', 'packaging': 'Welch Allyn', 'availability': '66 in stock', 'price': '$15.99'}, {'name': 'Welch Allyn 45008-0000 Welch Allyn Silver/Silver Chloride Resting Tab ECG Electrode - 1000/BX', 'brand': 'Welch Allyn', 'packaging': 'Welch Allyn', 'availability': '14 in stock', 'price': '$119.95'}, {'name': 'Welch Allyn 45008-0000 Welch Allyn Silver/Silver Chloride Resting Tab ECG Electrode - 100/PK', 'brand': 'Welch Allyn', 'packaging': 'Welch Allyn', 'availability': '141 in stock', 'price': '$13.95'}, {'name': 'Vermed A10009-100F Silverest Foam Resting Tab ECG Electrode - 100/PK', 'brand': 'Welch Allyn', 'packaging': 'Welch Allyn', 'availability': '5-10 Days', 'price': '$21.95'}]\n\n\n\n\n\n[{'name': 'Nikomed 0815 Nikotab Foam Resting Tab ECG Electrode Pediatric - 5000/CS', 'brand': '5000/CS', 'packaging': ': \\n5000/CS', 'availability': '5-10 Days', 'price': '$189.95'}, {'name': 'Nikomed 0815 Nikotab Foam Resting Tab ECG Electrode Pediatric - 500/BX', 'brand': '500/BX', 'packaging': ': \\n500/BX', 'availability': '5-10 Days', 'price': '$24.95'}, {'name': 'Nikomed 0515 Nikotab Foam Resting Tab ECG Electrode - 500/BX', 'brand': '500/BX', 'packaging': ': \\n500/BX', 'availability': '5-10 Days', 'price': '$29.95'}, {'name': 'Nikomed 0515 Nikotab Foam Resting Tab ECG Electrode - 100/PK', 'brand': '100/PK', 'packaging': ': \\n100/PK', 'availability': '5-10 Days', 'price': '$11.95'}, {'name': 'Nikomed 0315 Nikotab Foam Resting Tab ECG Electrode - 5000/CS', 'brand': '5000/CS', 'packaging': ': \\n5000/CS', 'availability': '37 in stock', 'price': '$199.95'}, {'name': 'Nikomed 0315 Nikotab Foam Resting Tab ECG Electrode - 500/BX', 'brand': '500/BX', 'packaging': ': \\n500/BX', 'availability': '379 in stock', 'price': '$22.95'}, {'name': 'Nikomed 0315 Nikotab Foam Resting Tab ECG Electrode - 100/PK', 'brand': '100/PK', 'packaging': ': \\n100/PK', 'availability': '37 in stock', 'price': '$9.95'}, {'name': 'Nikomed 5533-5 Trace 1 Foam Monitoring ECG Electrode - 300/BX', 'brand': '300/BX', 'packaging': ': \\n300/BX', 'availability': '2 in stock', 'price': '$62.95'}, {'name': 'Medline MDS616101A Medline Foam Resting Tab ECG Electrode - 5000/CS', 'brand': 'Medline', 'packaging': 'Medline', 'availability': '5-10 Days', 'price': '$199.95'}, {'name': 'Medline MDS616101AZ Medline Foam Resting Tab ECG Electrode - 500/BX', 'brand': 'Medline', 'packaging': 'Medline', 'availability': '5-10 Days', 'price': '$22.95'}, {'name': 'Covidien ES40281 Soft-E Cloth Monitoring ECG Electrode Pediatric - 450/CS', 'brand': 'Covidien, Soft-E', 'packaging': 'Covidien, Soft-E', 'availability': '1 in stock', 'price': '$154.95'}, {'name': 'Covidien ES40281 Soft-E Cloth Monitoring ECG Electrode Pediatric - 30/PK', 'brand': 'Covidien, Soft-E', 'packaging': 'Covidien, Soft-E', 'availability': '15 in stock', 'price': '$16.95'}, {'name': 'Covidien 22450 Medi-Trace 450 Series Foam Monitoring Electrodes - 50/PK', 'brand': 'Covidien, Kendall, Medi-Trace', 'packaging': 'Covidien, Kendall, Medi-Trace', 'availability': '5-10 Days', 'price': '$11.95'}, {'name': 'Covidien 30807732 Q-Trace Resting Tab ECG Electrode with Aggressive Adhesive - 2000/CS', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$90.00'}, {'name': 'Covidien 30807732 Q-Trace Resting Tab ECG Electrode with Aggressive Adhesive - 100/PK', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$6.50'}, {'name': 'Covidien 31447793 Kendall Resting Tab ECG Electrode - 4000/CS', 'brand': 'Covidien, Kendall', 'packaging': 'Covidien, Kendall', 'availability': '5-10 Days', 'price': '$249.95'}, {'name': 'Covidien 31447793 Kendall Resting Tab ECG Electrode - 100/PK 10PK/BX', 'brand': 'Covidien, Kendall', 'packaging': 'Covidien, Kendall', 'availability': '5-10 Days', 'price': '$64.95'}, {'name': 'Covidien 31447793 Kendall Resting Tab ECG Electrode - 100/PK', 'brand': 'Covidien, Kendall', 'packaging': 'Covidien, Kendall', 'availability': '5-10 Days', 'price': '$7.95'}, {'name': 'Covidien Ef00149 Kendall Foam Resting Tab ECG Electrode - 4000/CS', 'brand': 'Cleartrace 2, Conmed', 'packaging': 'Cleartrace 2, Conmed', 'availability': '5 in stock', 'price': '$169.95'}, {'name': 'Conmed 1700-005 Cleartrace Tape Monitoring ECG Electrode 5\" x 10\" - 600/CS', 'brand': 'Cleartrace, Conmed', 'packaging': 'Cleartrace, Conmed', 'availability': '1 in stock', 'price': '$149.95'}, {'name': 'Conmed 1700-005 Cleartrace Tape Monitoring ECG Electrode 5\" x 10\" - 50/BX', 'brand': 'Cleartrace, Conmed', 'packaging': 'Cleartrace, Conmed', 'availability': '5-10 Days', 'price': '$12.95'}, {'name': 'Conmed 1700-003 Cleartrace Tape Monitoring ECG Electrode 3\" x 10\" - 600/CS', 'brand': 'Cleartrace, Conmed', 'packaging': 'Cleartrace, Conmed', 'availability': '3-5 Days', 'price': '$159.95'}, {'name': 'Conmed 1700-003 Cleartrace Tape Monitoring ECG Electrode 3\" x 10\" - 30/BX', 'brand': 'Cleartrace, Conmed', 'packaging': 'Cleartrace, Conmed', 'availability': '3-5 Days', 'price': '$10.50'}, {'name': 'Burdick 015-0630-00 Blue Max Foam Resting Tab ECG Electrode - 100/PK', 'brand': 'Blue Max, Burdick', 'packaging': 'Blue Max, Burdick', 'availability': '3-5 Days', 'price': '$17.50'}, {'name': 'Burdick 047029 CardioSens Ultra II Silver/Silver Chloride Resting Tab ECG Electrode with Aggressive Adhesive - 5000/CS', 'brand': 'Burdick, CardioSens', 'packaging': 'Burdick, CardioSens', 'availability': '1 in stock', 'price': '$479.95'}]\n[{'name': 'Burdick 047029 CardioSens Ultra II Silver/Silver Chloride Resting Tab ECG Electrode with Aggressive Adhesive - 500/BX', 'brand': 'Burdick, CardioSens', 'packaging': 'Burdick, CardioSens', 'availability': '16 in stock', 'price': '$49.95'}, {'name': 'Bio-Protech T716 Telectrode Foam Resting Tab ECG Electrode - 4000/CS', 'brand': 'Bio-Protech', 'packaging': 'Bio-Protech', 'availability': '12 in stock', 'price': '$390.00'}, {'name': 'Bio-Protech T716 Telectrode Foam Resting Tab ECG Electrode - 1000/BX', 'brand': 'Bio-Protech', 'packaging': ' Bio-Protech', 'availability': '48 in stock', 'price': '$110.00'}, {'name': 'Bio-Protech Pt2334 PRO-TAB Tape Resting ECG Electrodes - 5000/CS', 'brand': 'Bio-Protech', 'packaging': 'Bio-Protech', 'availability': '33 in stock', 'price': '$189.95'}, {'name': '3M 2570-3 Red Dot Foam Monitoring ECG Electrode with Abrader- Pack of 3', 'brand': '3M, Red Dot', 'packaging': '3M, Red Dot', 'availability': '400 in stock', 'price': '$2.99'}, {'name': 'Clarity CT-DTG-PLUS2 HCG Pregnancy Test - 25 Tests - Urine Cassette', 'brand': '3M, Red Dot', 'packaging': '3M, Red Dot', 'availability': '33 in stock', 'price': '$24.99'}, {'name': 'BSN Medical Jobst Medicalwear Glove With Velcro - 1/EA', 'brand': '3M, Red Dot', 'packaging': '3M, Red Dot', 'availability': '5-10 Days', 'price': '$41.60'}, {'name': 'Welch Allyn ProBP 2400 Digital Blood Pressure Device', 'brand': '3M, Red Dot', 'packaging': '3M, Red Dot', 'availability': '5-10 Days', 'price': '$430.00'}, {'name': 'Covidien 31433538 5400 Diagnostic Tab ECG Electrodes- Case of 4000', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$160.00'}, {'name': 'Covidien 31433538 Q-Trace Foam Resting Tab ECG Electrode - 100/PK', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$48.00'}, {'name': 'Covidien 31433538 Q-Trace Foam Resting Tab ECG Electrode - 100/PK', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$4.99'}, {'name': 'Unistik 3 Normal Safety Lancets 23G X 1.88mm Yellow - Box of 50', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '73 in stock', 'price': '$9.99'}, {'name': 'SEK-141 Osom Dipstick Strep A Test Kit, 50/BX', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '5-10 Days', 'price': '$89.99'}, {'name': '3M-5639 Littmann Classic III Stethoscope, SS Finish Chestpiece, Pink Tube, 27\" ,1/EA', 'brand': 'Covidien, Q-Trace', 'packaging': 'Covidien, Q-Trace', 'availability': '1-3 Days', 'price': '$79.00'}, {'name': '3M-5621 Littmann Classic III Stethoscope, SS Finish Chestpiece, Gray Tube, 27\" ,1/EA', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '5-10 Days', 'price': '$79.00'}, {'name': 'Welch Allyn 97150-M 3.5v Diagnostic Set Opthalmoscope / Otoscope with Rechargeable Handle and Hard Case', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '2 in stock', 'price': '$515.00'}, {'name': '3M 5627 Stethoscope, Standard-Finish Chestpiece, Burgundy Tube, 27', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '1 in stock', 'price': '$79.00'}, {'name': 'Welch Allyn 23810-SET 3.5v Macroview Otoscope with Handle and Hard Case', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '6 in stock', 'price': '$265.00'}, {'name': 'Omron 7321-E M6 Comfort Digital Blood Pressure Monitor', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '10 in stock', 'price': '$120.00'}, {'name': 'Welch Allyn 06000-200N Braun Thermoscan Pro 6000 Ear Thermometer with Large Cradle', 'brand': '3M, Littmann, Littmann Classic III', 'packaging': '3M, Littmann, Littmann Classic III', 'availability': '3 in stock', 'price': '$199.00'}, {'name': 'Covidien Ef00149 Kendall Foam Resting Tab ECG Electrode - 1000/BX', 'brand': 'Cleartrace 2, Conmed', 'packaging': 'Cleartrace 2, Conmed', 'availability': '20 in stock', 'price': '$55.00'}, {'name': 'Covidien Ef00149 Kendall Foam Resting Tab ECG Electrode - 100/PK', 'brand': 'Cleartrace 2, Conmed', 'packaging': 'Cleartrace 2, Conmed', 'availability': '208 in stock', 'price': '$7.50'}, {'name': '3M 6158 Littmann Cardiology IV Stethoscope, 27\" Raspberry Tubing, 1/EA', 'brand': '3M, Littmann, Littmann Cardiology IV', 'packaging': '3M, Littmann, Littmann Cardiology IV', 'availability': '21 in stock', 'price': '$168.00'}, {'name': '3M 6157 Littmann Cardiology IV Stethoscope, 27\" Caribbean Blue Tubing, 1/EA', 'brand': '3M, Littmann, Littmann Cardiology IV', 'packaging': '3M, Littmann, Littmann Cardiology IV', 'availability': '9 in stock', 'price': '$168.00'}, {'name': '3M 6156 Littmann Cardiology IV Stethoscope, 27\" Plum Tubing, 1/EA', 'brand': '3M, Littmann, Littmann Cardiology IV', 'packaging': '3M, Littmann, Littmann Cardiology IV', 'availability': '103 in stock', 'price': '$168.00'}]\n</code></pre>\n\n<p>Output in CSV File:</p>\n\n<pre><code>Burdick 047029 CardioSens Ultra II Silver/Silver Chloride Resting Tab ECG Electrode with Aggressive Adhesive - 500/BX,\"Burdick, CardioSens\",\"Burdick, CardioSens\",16 in stock,$49.95\n\nBio-Protech T716 Telectrode Foam Resting Tab ECG Electrode - 4000/CS,Bio-Protech,Bio-Protech,12 in stock,$390.00\n\nBio-Protech T716 Telectrode Foam Resting Tab ECG Electrode - 1000/BX,Bio-Protech, Bio-Protech,48 in stock,$110.00\n\nBio-Protech Pt2334 PRO-TAB Tape Resting ECG Electrodes - 5000/CS,Bio-Protech,Bio-Protech,33 in stock,$189.95\n\n3M 2570-3 Red Dot Foam Monitoring ECG Electrode with Abrader- Pack of 3,\"3M, Red Dot\",\"3M, Red Dot\",400 in stock,$2.99\n\nClarity CT-DTG-PLUS2 HCG Pregnancy Test - 25 Tests - Urine Cassette,\"3M, Red Dot\",\"3M, Red Dot\",33 in stock,$24.99\n\nBSN Medical Jobst Medicalwear Glove With Velcro - 1/EA,\"3M, Red Dot\",\"3M, Red Dot\",5-10 Days,$41.60\n\nWelch Allyn ProBP 2400 Digital Blood Pressure Device,\"3M, Red Dot\",\"3M, Red Dot\",5-10 Days,$430.00\n\nCovidien 31433538 5400 Diagnostic Tab ECG Electrodes- Case of 4000,\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",5-10 Days,$160.00\n\nCovidien 31433538 Q-Trace Foam Resting Tab ECG Electrode - 100/PK,\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",5-10 Days,$48.00\n\nCovidien 31433538 Q-Trace Foam Resting Tab ECG Electrode - 100/PK,\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",5-10 Days,$4.99\n\nUnistik 3 Normal Safety Lancets 23G X 1.88mm Yellow - Box of 50,\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",73 in stock,$9.99\n\n\"SEK-141 Osom Dipstick Strep A Test Kit, 50/BX\",\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",5-10 Days,$89.99\n\n\"3M-5639 Littmann Classic III Stethoscope, SS Finish Chestpiece, Pink Tube, 27\"\" ,1/EA\",\"Covidien, Q-Trace\",\"Covidien, Q-Trace\",1-3 Days,$79.00\n\n\"3M-5621 Littmann Classic III Stethoscope, SS Finish Chestpiece, Gray Tube, 27\"\" ,1/EA\",\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",5-10 Days,$79.00\n\nWelch Allyn 97150-M 3.5v Diagnostic Set Opthalmoscope / Otoscope with Rechargeable Handle and Hard Case,\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",2 in stock,$515.00\n\n\"3M 5627 Stethoscope, Standard-Finish Chestpiece, Burgundy Tube, 27\",\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",1 in stock,$79.00\n\nWelch Allyn 23810-SET 3.5v Macroview Otoscope with Handle and Hard Case,\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",6 in stock,$265.00\n\nOmron 7321-E M6 Comfort Digital Blood Pressure Monitor,\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",10 in stock,$120.00\n\nWelch Allyn 06000-200N Braun Thermoscan Pro 6000 Ear Thermometer with Large Cradle,\"3M, Littmann, Littmann Classic III\",\"3M, Littmann, Littmann Classic III\",3 in stock,$199.00\n\nCovidien Ef00149 Kendall Foam Resting Tab ECG Electrode - 1000/BX,\"Cleartrace 2, Conmed\",\"Cleartrace 2, Conmed\",20 in stock,$55.00\n\nCovidien Ef00149 Kendall Foam Resting Tab ECG Electrode - 100/PK,\"Cleartrace 2, Conmed\",\"Cleartrace 2, Conmed\",208 in stock,$7.50\n\n\"3M 6158 Littmann Cardiology IV Stethoscope, 27\"\" Raspberry Tubing, 1/EA\",\"3M, Littmann, Littmann Cardiology IV\",\"3M, Littmann, Littmann Cardiology IV\",21 in stock,$168.00\n\n\"3M 6157 Littmann Cardiology IV Stethoscope, 27\"\" Caribbean Blue Tubing, 1/EA\",\"3M, Littmann, Littmann Cardiology IV\",\"3M, Littmann, Littmann Cardiology IV\",9 in stock,$168.00\n\n\"3M 6156 Littmann Cardiology IV Stethoscope, 27\"\" Plum Tubing, 1/EA\",\"3M, Littmann, Littmann Cardiology IV\",\"3M, Littmann, Littmann Cardiology IV\",103 in stock,$168.00\n</code></pre>\n\n<p>So, as you can see, there were only 25 of the remainder of the 125 product list written onto the CSV. Is there any way to include all of the data scraped that was output by Python?</p>\n"}, {"tags": ["python", "pandas", "scikit-learn", "pip", "miniconda"], "comments": [{"owner": {"reputation": 179, "user_id": 8226646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b2639ad2004d31b47f3d4df51e16f8?s=128&d=identicon&r=PG&f=1", "display_name": "nsaura", "link": "https://stackoverflow.com/users/8226646/nsaura"}, "edited": false, "score": 1, "creation_date": 1541626686, "post_id": 53198192, "comment_id": 93285055, "body": "Have you tried to pip unistall it and reinstall it ?"}, {"owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "reply_to_user": {"reputation": 179, "user_id": 8226646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b2639ad2004d31b47f3d4df51e16f8?s=128&d=identicon&r=PG&f=1", "display_name": "nsaura", "link": "https://stackoverflow.com/users/8226646/nsaura"}, "edited": false, "score": 0, "creation_date": 1541626799, "post_id": 53198192, "comment_id": 93285095, "body": "Uninstalling doesn&#39;t seem to work, I get multiple error messages. I first have to confirm, that I want to proceed with the de-installation, but then I receive this: PermissionError: [WinError 5] Access is denied: &#39;c:\\\\programdata\\\\...\\\\lib\\\\site-packages\\\\scikit_learn-0.19&zwnj;&#8203;.0-py3.6.egg-info&#39; -&gt; &#39;C:\\\\Users\\\\...\\\\pip-0k0t65vd-uninstall\\\\programdata\\\\...\\\\l&zwnj;&#8203;ib\\\\site-packages\\\\s&zwnj;&#8203;cikit_learn-0.19.0-p&zwnj;&#8203;y3.6.egg-info&#39;"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1541627048, "post_id": 53198192, "comment_id": 93285201, "body": "How about <code>pip install --user scikit-learn</code>"}, {"owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "edited": false, "score": 0, "creation_date": 1541627431, "post_id": 53198192, "comment_id": 93285350, "body": "This tells me the requirement is already satisfied in [path to directory]"}], "answers": [{"comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1541627465, "post_id": 53198342, "comment_id": 93285365, "body": "And if you get <code>PermissionError: [WinError 5] Access is denied:</code> try to add the <code>--user</code> flag"}, {"owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "edited": false, "score": 0, "creation_date": 1541627731, "post_id": 53198342, "comment_id": 93285480, "body": "Upgrading to the new pip worked. Even though it still gave me the old message that I was using the old version: &quot;Successfully installed pip-18.1. You are using pip version 9.0.1...&quot;. However, when I try to install scikit-learn now, it tells me &quot;AttributeError: module &#39;pip&#39; has not attribute &#39;main&#39;"}, {"owner": {"reputation": 179, "user_id": 8226646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b2639ad2004d31b47f3d4df51e16f8?s=128&d=identicon&r=PG&f=1", "display_name": "nsaura", "link": "https://stackoverflow.com/users/8226646/nsaura"}, "edited": false, "score": 0, "creation_date": 1541627820, "post_id": 53198342, "comment_id": 93285527, "body": "Try with sudo before pip install --upgrade pip"}, {"owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "edited": false, "score": 0, "creation_date": 1541628942, "post_id": 53198342, "comment_id": 93285956, "body": "You mean typing sudo in front of it? Doesn&#39;t seem to work"}, {"owner": {"reputation": 440, "user_id": 9108532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7a07d0e1abc5ad9c490e34fb980264?s=128&d=identicon&r=PG&f=1", "display_name": "user1394", "link": "https://stackoverflow.com/users/9108532/user1394"}, "edited": false, "score": 0, "creation_date": 1541630294, "post_id": 53198342, "comment_id": 93286450, "body": "Try iterations of <code>sudo python3 -m pip install sklearn</code> What does <code>pip --version</code> output?"}], "tags": [], "owner": {"reputation": 440, "user_id": 9108532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7a07d0e1abc5ad9c490e34fb980264?s=128&d=identicon&r=PG&f=1", "display_name": "user1394", "link": "https://stackoverflow.com/users/9108532/user1394"}, "is_accepted": false, "score": 3, "last_activity_date": 1541627241, "creation_date": 1541627241, "answer_id": 53198342, "question_id": 53198192, "link": "https://stackoverflow.com/questions/53198192/how-to-install-and-use-scikit-learn-in-python/53198342#53198342", "title": "How to install and use scikit-learn in Python", "body": "<p>Try running that last command to upgrade pip first?</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n\n<p>And then install scikitlearn afterwards. And possibly try this depending on what version of python you're using in your environment:</p>\n\n<pre><code>pip3 install scikit-learn\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "is_accepted": true, "score": 1, "last_activity_date": 1541630839, "creation_date": 1541630839, "answer_id": 53199074, "question_id": 53198192, "link": "https://stackoverflow.com/questions/53198192/how-to-install-and-use-scikit-learn-in-python/53199074#53199074", "title": "How to install and use scikit-learn in Python", "body": "<p>Solved it.</p>\n\n<ul>\n<li>Managed to roll-back to pip v9 using <a href=\"https://stackoverflow.com/questions/49839610/attributeerror-module-pip-has-no-attribute-main\">this</a> thread.</li>\n<li>Uninstalled scikit-learn (which was v0.19). Had to use Admin mode to avoid the PermissionError mentioned before</li>\n<li>Installed it again (which was v0.2)</li>\n</ul>\n\n<p>Code works now, thanks all who contributed.</p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 5447280, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205326841227863/picture?type=large", "display_name": "Matt Elgazar", "link": "https://stackoverflow.com/users/5447280/matt-elgazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1541868730, "creation_date": 1541868730, "answer_id": 53241207, "question_id": 53198192, "link": "https://stackoverflow.com/questions/53198192/how-to-install-and-use-scikit-learn-in-python/53241207#53241207", "title": "How to install and use scikit-learn in Python", "body": "<p>If you are on linux...</p>\n\n<p>1). download anaconda <a href=\"https://www.anaconda.com/download/#download\" rel=\"nofollow noreferrer\">https://www.anaconda.com/download/#download</a></p>\n\n<p>2). go to where the file is downloaded and type bash Anaconda-latest-Linux-x86_64.sh</p>\n\n<p>The new anaconda already comes with scikit-learn installed.</p>\n\n<p>If you need an older version of python like I did you can install that version by typing </p>\n\n<p><code>conda install python=3.6</code></p>\n"}, {"tags": [], "owner": {"reputation": 338, "user_id": 7419027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYi5q.jpg?s=128&g=1", "display_name": "Md.Rakibuz Sultan", "link": "https://stackoverflow.com/users/7419027/md-rakibuz-sultan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551989134, "creation_date": 1551989134, "answer_id": 55051995, "question_id": 53198192, "link": "https://stackoverflow.com/questions/53198192/how-to-install-and-use-scikit-learn-in-python/55051995#55051995", "title": "How to install and use scikit-learn in Python", "body": "<p>Actually, I was facing the same problem in windows10 recently for python3 then I try this it worked for me.</p>\n\n<pre><code>1.  python -m pip install -U pip setuptools\n\n2.  pip install scikit-learn\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Yf8He.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yf8He.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 709, "user_id": 2591138, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/24503772b92605bc72c29ad7fb5520fe?s=128&d=identicon&r=PG", "display_name": "Berbatov", "link": "https://stackoverflow.com/users/2591138/berbatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3799, "favorite_count": 0, "accepted_answer_id": 53199074, "answer_count": 4, "score": 2, "last_activity_date": 1551989134, "creation_date": 1541626554, "question_id": 53198192, "link": "https://stackoverflow.com/questions/53198192/how-to-install-and-use-scikit-learn-in-python", "title": "How to install and use scikit-learn in Python", "body": "<p>Note upfront: I tried following suggestions in other threads, but so far, haven't found anything that helps (<a href=\"https://stackoverflow.com/questions/28890418/error-installing-scikit-learn\">1</a>, <a href=\"https://stackoverflow.com/questions/43857322/installing-python-scikit-learn\">2</a>)</p>\n\n<p>I received a pandas file that I would like to run on my machine. In the beginning, the code references the sklearn package.</p>\n\n<pre><code>import re\nfrom sklearn.decomposition import FactorAnalysis\nfrom sklearn import svm\n</code></pre>\n\n<p>I do, however, get the following error when running this cell:</p>\n\n<pre><code>ModuleNotFoundError: No module named 'sklearn.decomposition'\n</code></pre>\n\n<p>I do have the scikit_learn-0.19.0-py3.6.egg-info and sklearn packages in my Python directory, so I'm not sure why it doesn't work. I tried reinstalling it, but both...</p>\n\n<pre><code>conda install scikit-learn\n</code></pre>\n\n<p>...and...</p>\n\n<pre><code>pip install scikit-learn\n</code></pre>\n\n<p>...don't work. The former crashes my Python (pop-up window telling my it has crashed), the latter produces a bunch of error messages:</p>\n\n<pre><code>&gt;pip install scikit-learn\nRequirement already satisfied: scikit-learn in c:\\programdata\\...\\lib\\site-packages\nException:\nTraceback (most recent call last):\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\commands\\install.py\", line 335, in run\n    wb.build(autobuilding=True)\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\wheel.py\", line 749, in build\n    self.requirement_set.prepare_files(self.finder)\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\req\\req_set.py\", line 380, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\req\\req_set.py\", line 666, in _prepare_file\n    check_dist_requires_python(dist)\n  File \"C:\\ProgramData\\...\\lib\\site-packages\\pip\\utils\\packaging.py\", line 48, in check_dist_requires_python\n    feed_parser.feed(metadata)\n  File \"C:\\ProgramData\\...\\lib\\email\\feedparser.py\", line 175, in feed\n    self._input.push(data)\n  File \"C:\\ProgramData\\...\\lib\\email\\feedparser.py\", line 103, in push\n    self._partial.write(data)\nTypeError: string argument expected, got 'NoneType'\nYou are using pip version 9.0.1, however version 18.1 is available.\nYou should consider upgrading via the 'python -m pip install --upgrade pip' command.\n</code></pre>\n\n<p>Any idea how I can get it to work? Thanks</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1541626397, "post_id": 53198127, "comment_id": 93284920, "body": "Please use the search before you ask a new question."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1541626413, "post_id": 53198127, "comment_id": 93284929, "body": "Did you blindly google the error? I got this on my first search <a href=\"https://stackoverflow.com/questions/44035799/cant-read-json-file-with-python-getting-type-error-json-object-is-textiowrap\" title=\"cant read json file with python getting type error json object is textiowrap\">stackoverflow.com/questions/44035799/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 10255615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YUwQna09JNw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4rbbSBRMeg848Wl0-uakOFfeo6A/mo/photo.jpg?sz=128", "display_name": "L. Yao", "link": "https://stackoverflow.com/users/10255615/l-yao"}, "edited": false, "score": 0, "creation_date": 1541626537, "post_id": 53198127, "comment_id": 93284988, "body": "yeah, i tried all the suggestions on line but still shows error. I dont know why."}, {"owner": {"reputation": 1, "user_id": 10255615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YUwQna09JNw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4rbbSBRMeg848Wl0-uakOFfeo6A/mo/photo.jpg?sz=128", "display_name": "L. Yao", "link": "https://stackoverflow.com/users/10255615/l-yao"}, "edited": false, "score": 0, "creation_date": 1541626593, "post_id": 53198127, "comment_id": 93285023, "body": "Do I need to write out first then read the file?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1541626720, "post_id": 53198127, "comment_id": 93285069, "body": "You need to use <code>json.load(infile)</code> instead. If you are still getting an error then it is for different reasons (maybe the JSON is not valid) and that would be different problem."}, {"owner": {"reputation": 1, "user_id": 10255615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YUwQna09JNw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4rbbSBRMeg848Wl0-uakOFfeo6A/mo/photo.jpg?sz=128", "display_name": "L. Yao", "link": "https://stackoverflow.com/users/10255615/l-yao"}, "edited": false, "score": 0, "creation_date": 1541643805, "post_id": 53198127, "comment_id": 93289926, "body": "Yeah, I tried that but does not work. My original file is a deserialized json format. I think that is the problem. I need to find a way to work on that."}], "owner": {"reputation": 1, "user_id": 10255615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YUwQna09JNw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP4rbbSBRMeg848Wl0-uakOFfeo6A/mo/photo.jpg?sz=128", "display_name": "L. Yao", "link": "https://stackoverflow.com/users/10255615/l-yao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 1, "closed_date": 1541626368, "answer_count": 0, "score": 0, "last_activity_date": 1541626304, "creation_date": 1541626248, "last_edit_date": 1541626304, "question_id": 53198127, "link": "https://stackoverflow.com/questions/53198127/not-able-to-open-json-formatted-in-txt-file", "closed_reason": "Duplicate", "title": "Not able to open json formatted in Txt file", "body": "<p>I am trying to open and load the json formatted information but it keeps telling error. I am not able to figure out why. I need help!!!\nHere is the code: </p>\n\n<pre><code>fname = \"this is file path\"\ntweets_data=[]\nwith open(fname,'r') as infile:\n    f = json.loads(infile)\n    for item in f:\n        tweets_data.append(item)\nprint (tweets_data)\n</code></pre>\n\n<blockquote>\n  <p>TypeError: the JSON object must be str, bytes or bytearray, not 'TextIOWrapper'</p>\n</blockquote>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1541679853, "post_id": 53198098, "comment_id": 93303327, "body": "Hey BIll. It looks like you got a bunch of answers. If the problem is solved, we  would appreciate if you selected one of the answers as accepted. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10620640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70180f79fbd97feaf9c9acd8d2a7f54b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Carson", "link": "https://stackoverflow.com/users/10620640/bill-carson"}, "edited": false, "score": 0, "creation_date": 1541626715, "post_id": 53198159, "comment_id": 93285067, "body": "Sorry should have mentioned that I have other columns as well. When I tried what you suggested it added the other columns into location also. Anyway to specifically join lon &amp; lat?"}], "tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1541626386, "creation_date": 1541626386, "answer_id": 53198159, "question_id": 53198098, "link": "https://stackoverflow.com/questions/53198098/how-do-a-join-two-columns-into-another-seperate-column-in-pandas/53198159#53198159", "title": "How do a join two columns into another seperate column in Pandas?", "body": "<p>I question the usefulness of this column, but you can generate it by applying the <code>tuple</code> callable over the columns.</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame([[1, 2], [3,4]], columns=['lon', 'lat'])\n&gt;&gt;&gt; df\n&gt;&gt;&gt; \n   lon  lat\n0    1    2\n1    3    4\n&gt;&gt;&gt; \n&gt;&gt;&gt; df['Location'] = df.apply(tuple, axis=1)\n&gt;&gt;&gt; df\n&gt;&gt;&gt; \n   lon  lat Location\n0    1    2   (1, 2)\n1    3    4   (3, 4)\n</code></pre>\n\n<p>If there are other columns than <code>'lon'</code> and <code>'lat'</code> in your dataframe, use</p>\n\n<pre><code>df['Location'] = df[['lon', 'lat']].apply(tuple, axis=1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1541680050, "post_id": 53198193, "comment_id": 93303442, "body": "&quot;This should be better than using <code>apply</code>&quot; &lt;- Can you please explain a bit more? Personally, I think <code>apply</code> is easier to read, is there a performance issue or something else I am missing?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1541685346, "post_id": 53198193, "comment_id": 93306243, "body": "<code>apply</code> is great particularly for the reason that it is very intuitive.  Therefore, if performance isn&#39;t an issue, it is a fine solution.  However, it is known that <code>apply</code> can have performance issues.  I try to avoid using a performance bludgeon for every question and answer but I do try to avoid using <code>apply</code> in my answers.  But I will admit that in some cases, it makes the answers more elegant.  Personally, I like zip.  It is a core component of the language and deserves understanding so that it too becomes &quot;readable&quot;."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1541627911, "last_edit_date": 1541627911, "creation_date": 1541626564, "answer_id": 53198193, "question_id": 53198098, "link": "https://stackoverflow.com/questions/53198098/how-do-a-join-two-columns-into-another-seperate-column-in-pandas/53198193#53198193", "title": "How do a join two columns into another seperate column in Pandas?", "body": "<h3>Setup</h3>\n\n<pre><code>df = pd.DataFrame(dict(lat=range(10, 20), lon=range(100, 110)))\n</code></pre>\n\n<hr>\n\n<h3><code>zip</code></h3>\n\n<p>This should be better than using <code>apply</code></p>\n\n<pre><code>df.assign(location=[*zip(df.lat, df.lon)])\n\n   lat  lon   location\n0   10  100  (10, 100)\n1   11  101  (11, 101)\n2   12  102  (12, 102)\n3   13  103  (13, 103)\n4   14  104  (14, 104)\n5   15  105  (15, 105)\n6   16  106  (16, 106)\n7   17  107  (17, 107)\n8   18  108  (18, 108)\n9   19  109  (19, 109)\n</code></pre>\n\n<hr>\n\n<h3><code>list</code> variant</h3>\n\n<p>Though I'd still suggest <code>tuple</code></p>\n\n<pre><code>df.assign(location=df[['lat', 'lon']].values.tolist())\n\n   lat  lon   location\n0   10  100  [10, 100]\n1   11  101  [11, 101]\n2   12  102  [12, 102]\n3   13  103  [13, 103]\n4   14  104  [14, 104]\n5   15  105  [15, 105]\n6   16  106  [16, 106]\n7   17  107  [17, 107]\n8   18  108  [18, 108]\n9   19  109  [19, 109]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1541626788, "creation_date": 1541626788, "answer_id": 53198235, "question_id": 53198098, "link": "https://stackoverflow.com/questions/53198098/how-do-a-join-two-columns-into-another-seperate-column-in-pandas/53198235#53198235", "title": "How do a join two columns into another seperate column in Pandas?", "body": "<p>Data from Pir</p>\n\n<pre><code>df['New']=tuple(zip(*df[['lat','lon']].values.T))\ndf\nOut[106]: \n   lat  lon        New\n0   10  100  (10, 100)\n1   11  101  (11, 101)\n2   12  102  (12, 102)\n3   13  103  (13, 103)\n4   14  104  (14, 104)\n5   15  105  (15, 105)\n6   16  106  (16, 106)\n7   17  107  (17, 107)\n8   18  108  (18, 108)\n9   19  109  (19, 109)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10620640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70180f79fbd97feaf9c9acd8d2a7f54b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Carson", "link": "https://stackoverflow.com/users/10620640/bill-carson"}, "edited": false, "score": 0, "creation_date": 1541627616, "post_id": 53198332, "comment_id": 93285425, "body": "Thanks for sharing."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1541627740, "post_id": 53198332, "comment_id": 93285486, "body": "OP does not state that they need to create a new dataframe.  I would not recommend the method you present.  You&#39;re creating 2 dictionaries then 2 dataframes only to join them together.  This is unnecessary.  However, none of the other answers mention actually joining as a string.  That is a valid interpretation but you are doing a lot of converting of types for very little benefit.  I&#39;d recommend sticking with a tuple."}, {"owner": {"reputation": 101, "user_id": 8094472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1501703936547955/picture?type=large", "display_name": "TonyRyan", "link": "https://stackoverflow.com/users/8094472/tonyryan"}, "edited": false, "score": 0, "creation_date": 1541687232, "post_id": 53198332, "comment_id": 93307429, "body": "I see what you&#39;re saying piRSquared. The creation of the 2 dictionaries and 2 dataframes was to get to the point where I thought the OP was starting from. I updated my post to create 1 dictionary and 1 dataframe. I agree that your solution is much more elegant...just taking a stab at it with the arsenal I&#39;ve learned up to this point lol."}], "tags": [], "owner": {"reputation": 101, "user_id": 8094472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1501703936547955/picture?type=large", "display_name": "TonyRyan", "link": "https://stackoverflow.com/users/8094472/tonyryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541686123, "last_edit_date": 1541686123, "creation_date": 1541627198, "answer_id": 53198332, "question_id": 53198098, "link": "https://stackoverflow.com/questions/53198098/how-do-a-join-two-columns-into-another-seperate-column-in-pandas/53198332#53198332", "title": "How do a join two columns into another seperate column in Pandas?", "body": "<p>I definitely learned something from W-B and timgeb. My idea was to just convert to strings and concatenate. I posted my answer in case you wanted the result as a string. Otherwise it looks like the answers above are the way to go.</p>\n\n<pre><code>import pandas as pd\nfrom pandas import *  \n\nDic = {'Lattitude': [41.864073], 'Longitude': [-87.706819]}\nDF = pd.DataFrame.from_dict(Dic)\nDF['Location'] = DF['Lattitude'].astype(str) + ',' +  DF['Longitude'].astype(str)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10620640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70180f79fbd97feaf9c9acd8d2a7f54b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Carson", "link": "https://stackoverflow.com/users/10620640/bill-carson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 53198193, "answer_count": 4, "score": 1, "last_activity_date": 1541686123, "creation_date": 1541626132, "last_edit_date": 1541626563, "question_id": 53198098, "link": "https://stackoverflow.com/questions/53198098/how-do-a-join-two-columns-into-another-seperate-column-in-pandas", "title": "How do a join two columns into another seperate column in Pandas?", "body": "<p>Any help would be greatly appreciated. This is probably easy, but im new to Python.<br>\nI want to add two columns which are Latitude and Longitude and put it into a column called Location.</p>\n\n<p>For example:</p>\n\n<p>First row in Latitude will have a value of <code>41.864073</code> and the first row of Longitude will have a value of <code>-87.706819</code>.</p>\n\n<p>I would like the <code>'Locations'</code> column to display <code>41.864073, -87.706819</code>.</p>\n\n<p>please and thank you.</p>\n"}, {"tags": ["python", "bokeh"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8896235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gUe6OWWPNZk/AAAAAAAAAAI/AAAAAAAAAEM/Kx4Cu2WFQrQ/photo.jpg?sz=128", "display_name": "Steffen", "link": "https://stackoverflow.com/users/8896235/steffen"}, "is_accepted": false, "score": 0, "last_activity_date": 1541678044, "creation_date": 1541678044, "answer_id": 53207221, "question_id": 53198051, "link": "https://stackoverflow.com/questions/53198051/bokeh-data-table-and-tap-tool-not-working-together/53207221#53207221", "title": "Bokeh: Data Table and Tap Tool not working together", "body": "<p>Problem solved. This was an issue in bokeh 0.13\nWith anaconda I couldn't update to 1.0.1, so I created a new environment, where bokeh can be 1.0.1 an the problem no longer exists.</p>\n"}], "owner": {"reputation": 11, "user_id": 8896235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gUe6OWWPNZk/AAAAAAAAAAI/AAAAAAAAAEM/Kx4Cu2WFQrQ/photo.jpg?sz=128", "display_name": "Steffen", "link": "https://stackoverflow.com/users/8896235/steffen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541678044, "creation_date": 1541625892, "question_id": 53198051, "link": "https://stackoverflow.com/questions/53198051/bokeh-data-table-and-tap-tool-not-working-together", "title": "Bokeh: Data Table and Tap Tool not working together", "body": "<p>I have the following problem when using bokeh's TapTool and DataTable together:</p>\n\n<p>As soon as one dot is clicked (TapTool used), selections on the DataTable do no longer get represented in the plot anymore.</p>\n\n<p>Here is the minimal example for a Jupyter Notebook:</p>\n\n<pre><code>from bokeh.plotting import show, output_notebook, figure\nfrom bokeh.models import ColumnDataSource, OpenURL, TapTool\nfrom bokeh.layouts import widgetbox, column\nfrom bokeh.models.widgets import DataTable, TableColumn\n\nsource = ColumnDataSource(dict(\n            x=[1, 2, 3, 4, 5],\n            y=[6, 7, 2, 4, 5],\n            url=[\"http://www.stackoverflow.com\"]*5))\n\np = figure(plot_width=400, \n           plot_height=400,\n          tools=\"tap,reset\",\n          )\n\np.circle(source=source, \n         x=\"x\", \n         y=\"y\", \n         size=20, \n         color=\"navy\", \n         alpha=0.5)\n\n\ncolumns = [\n    TableColumn(field=\"x\", title=\"X-Value\"),\n    TableColumn(field=\"y\", title=\"Y-Value\"),\n    TableColumn(field=\"url\", title=\"URL\")\n]\ndata_table = DataTable(source=source, columns=columns,\n                      width=400, height=400)\n\n\nurl = \"@url\"\ntaptool = p.select(type=TapTool)\ntaptool.callback = OpenURL(url=url)\n\noutput_notebook()\nshow(column(p, widgetbox(data_table)))\n</code></pre>\n\n<p>Expected behaviour: Selections from the DataTable get represented in the plot like before clicking one dot.</p>\n\n<p>Thank you all in advance.</p>\n"}, {"tags": ["python", "templates", "cherrypy", "mako"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5264598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-IBdYxq5dfVQ/AAAAAAAAAAI/AAAAAAAAAKU/45SX_NWJV2U/photo.jpg?sz=128", "display_name": "Nexitis", "link": "https://stackoverflow.com/users/5264598/nexitis"}, "is_accepted": false, "score": 0, "last_activity_date": 1541805376, "creation_date": 1541805376, "answer_id": 53234462, "question_id": 53198047, "link": "https://stackoverflow.com/questions/53198047/calling-json-inside-mako-template-without-for-loops/53234462#53234462", "title": "Calling json inside Mako Template without for loops", "body": "<p>didnt find an answer so i used a workaround:</p>\n\n<pre><code>% for projekte in liste:\n            &lt;tr&gt;\n                %for orga in liste3:\n\n                    %if orga['id'] == projekte['id']:\n                        ## do stuff\n                    %endif\n                 %endfor\n             &lt;/tr&gt;\n%endfor\n</code></pre>\n\n<p>its ineffictient but works\nbasically iterating through the whole list and checking ids. if they match then it does something</p>\n"}], "owner": {"reputation": 31, "user_id": 5264598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-IBdYxq5dfVQ/AAAAAAAAAAI/AAAAAAAAAKU/45SX_NWJV2U/photo.jpg?sz=128", "display_name": "Nexitis", "link": "https://stackoverflow.com/users/5264598/nexitis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1541805376, "creation_date": 1541625883, "question_id": 53198047, "link": "https://stackoverflow.com/questions/53198047/calling-json-inside-mako-template-without-for-loops", "title": "Calling json inside Mako Template without for loops", "body": "<p>im trying to figure out how to call something from a json file without using for loops.</p>\n\n<pre><code>% for projekte in liste:\n        &lt;tr&gt;\n            &lt;td&gt;${projekte['id']}&lt;/td&gt;\n            &lt;td&gt;${projekte['projektnummer']}&lt;/td&gt;\n            &lt;td&gt;${projekte['bezeichnung']}&lt;/td&gt;\n            &lt;td&gt;${projekte['beschreibung']}&lt;/td&gt;\n            &lt;td&gt;${projekte['bearbeitungszeitraumA']} bis ${projekte['bearbeitungszeitraumB']}&lt;/td&gt;\n            &lt;td&gt;${projekte['budget']}&lt;/td&gt;\n            &lt;td&gt;${projekte['kundenverweis']}&lt;/td&gt;\n            &lt;td&gt;${projekte['mitarbeiterverweis']}&lt;/td&gt;\n            &lt;td&gt;${projekte['aufwand']}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;ul class=\"buttons\"&gt;\n                    &lt;li&gt;&lt;a href=\"edit?key=${projekte['id']}\"&gt;Bearbeiten&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a href=\"delete?key=${projekte['id']}\"&gt;L\u00f6schen&lt;/a&gt;&lt;/li&gt;\n                    % for orga in liste3:\n                        &lt;li&gt;&lt;a href=\"/orga/edit?key=${orga['id']}\"&gt;${orga['bezeichnung']}&lt;/a&gt;&lt;/li&gt;\n                    % endfor\n                &lt;/ul&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    % endfor\n</code></pre>\n\n<p>orga has id's of the projects. The issue is that i cant figure out how to inluce them without a loop because this one will give me a link for every project i have inside very single entry.\nI want it to send me to another form with the projects ID to continue there.</p>\n"}, {"tags": ["python", "r", "regression", "logistic-regression"], "comments": [{"owner": {"reputation": 85935, "user_id": 211116, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf422e96227ee42abf42188feee10d9d?s=128&d=identicon&r=PG", "display_name": "Spacedman", "link": "https://stackoverflow.com/users/211116/spacedman"}, "edited": false, "score": 4, "creation_date": 1541626579, "post_id": 53198033, "comment_id": 93285014, "body": "Given you&#39;ve only got five data points and only one non-zero value in v2 I&#39;m surprised both systems don&#39;t scream some kind of error. There&#39;s not a lot of information there. If you do it with a bigger data set with a bit more data you&#39;ll find there&#39;s close, if not perfect, agreement."}, {"owner": {"reputation": 23370, "user_id": 6762755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/RjWGL.jpg?s=128&g=1", "display_name": "IceCreamToucan", "link": "https://stackoverflow.com/users/6762755/icecreamtoucan"}, "edited": false, "score": 1, "creation_date": 1541629011, "post_id": 53198033, "comment_id": 93285980, "body": "You have small enough data that you can just compute the log-likelihood by hand and look at it yourself. Here&#39;s a graph <a href=\"https://www.desmos.com/calculator/2vnvch2akx\" rel=\"nofollow noreferrer\">desmos.com/calculator/2vnvch2akx</a> . Estimating the maximum for that function doesn&#39;t converge the same because the graph flattens out pretty quickly as you go left, but keeps increasing. They have different ideas of when to stop. The fact that the SE is so large means the log-likelihood is almost completely flat in that region, which hints at the convergence problem."}, {"owner": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "edited": false, "score": 0, "creation_date": 1541629238, "post_id": 53198033, "comment_id": 93286065, "body": "I was doing it on a larger dataset of my own, but made this up just to make it verifiable. Results were still fairly far off, especially when comparing to multiple variables."}, {"owner": {"reputation": 23370, "user_id": 6762755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/RjWGL.jpg?s=128&g=1", "display_name": "IceCreamToucan", "link": "https://stackoverflow.com/users/6762755/icecreamtoucan"}, "edited": false, "score": 1, "creation_date": 1541629869, "post_id": 53198033, "comment_id": 93286296, "body": "Same idea, curvature of the log-likelihood and standard-error are inversely related, so if you see an estimate with a high standard error, that means the likelihood function around that area is very flat, meaning even slight differences in a convergence cutoff will yield very different estimates. In any case, the estimates won&#39;t be reliable so you shouldn&#39;t be using them."}, {"owner": {"reputation": 23370, "user_id": 6762755, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/RjWGL.jpg?s=128&g=1", "display_name": "IceCreamToucan", "link": "https://stackoverflow.com/users/6762755/icecreamtoucan"}, "edited": false, "score": 1, "creation_date": 1541630323, "post_id": 53198033, "comment_id": 93286471, "body": "This is one of the few times where SAS outperforms R and Python. Just tried running this in SAS with PROC LOGISTIC and got the correct warning: &quot;Model Convergence Status:  Quasi-complete separation of data points detected. The maximum likelihood estimate may not exist. &quot; (and as you can see in the graph, there function indeed has no maximum). For &quot;What is Quasi-Complete separation?&quot; see <a href=\"https://stats.idre.ucla.edu/other/mult-pkg/faq/general/faqwhat-is-complete-or-quasi-complete-separation-in-logisticprobit-regression-and-how-do-we-deal-with-them/\" rel=\"nofollow noreferrer\">stats.idre.ucla.edu/other/mult-pkg/faq/general/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "edited": false, "score": 0, "creation_date": 1541629370, "post_id": 53198267, "comment_id": 93286109, "body": "Thanks. This is helpful. I should have clarified that I just made the data up. I was struggling due to ignorance in R to make identical large datasets in python and R, but saw similar results on the real data that I am using."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "edited": false, "score": 2, "creation_date": 1541629665, "post_id": 53198267, "comment_id": 93286222, "body": "different implementations will (almost) always give different results, the difference in the <code>v2</code> estimates above are &lt;0.1% of the (estimated) standard deviation.  what do you mean by &quot;similar results on the real data &quot;"}, {"owner": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "edited": false, "score": 0, "creation_date": 1541694039, "post_id": 53198267, "comment_id": 93311656, "body": "Seems reasonable. I had roughly 80K rows and was seeing intercepts that were 50%+ different. I&#39;m very open to the possibility that I was interpreting them incorrectly. I&#39;ll try to reproduce my example with larger data that represents my own."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "edited": false, "score": 0, "creation_date": 1541698171, "post_id": 53198267, "comment_id": 93313940, "body": "you want to be comparing coefficient estimates and their standard errors.  I&#39;d only expect this effect to be noticeable for coefficients with z-scores near 0 / p-values near 1"}], "tags": [], "owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "is_accepted": false, "score": 2, "last_activity_date": 1541626913, "creation_date": 1541626913, "answer_id": 53198267, "question_id": 53198033, "link": "https://stackoverflow.com/questions/53198033/glm-r-vs-python/53198267#53198267", "title": "GLM R vs. Python", "body": "<p>at a guess they have different tradeoffs with regard to numerical stability.</p>\n\n<p>the variance of the <code>v2</code> estimate is enormous which is probably causing them both to struggle\u2026  I'd say they've basically given the same answer, at least to the limits available with double precision arithmetic.</p>\n\n<p>the R implementation allows you to pass a <code>control</code> parameter:</p>\n\n<pre><code>&gt; options(digits=12)\n&gt; model &lt;- glm(v1 ~ v2, data=d, family=\"binomial\", control=list(trace=T))\nDeviance = 4.67724333758 Iterations - 1\nDeviance = 4.5570420311 Iterations - 2\nDeviance = 4.51971688994 Iterations - 3\nDeviance = 4.50636401333 Iterations - 4\nDeviance = 4.50150009179 Iterations - 5\nDeviance = 4.49971718523 Iterations - 6\nDeviance = 4.49906215541 Iterations - 7\nDeviance = 4.49882130019 Iterations - 8\nDeviance = 4.4987327103 Iterations - 9\nDeviance = 4.49870012203 Iterations - 10\nDeviance = 4.49868813377 Iterations - 11\nDeviance = 4.49868372357 Iterations - 12\nDeviance = 4.49868210116 Iterations - 13\nDeviance = 4.4986815043 Iterations - 14\nDeviance = 4.49868128473 Iterations - 15\nDeviance = 4.49868120396 Iterations - 16\nDeviance = 4.49868117424 Iterations - 17\n</code></pre>\n\n<p>which displays its convergence, but I couldn't find anything similar in the Python code.</p>\n\n<p>seeing the above output suggests that they could also be using different cutoffs to determine convergence; R uses <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/stats/html/glm.control.html\" rel=\"nofollow noreferrer\"><code>epsilon = 1e-8</code></a></p>\n"}], "owner": {"reputation": 121, "user_id": 2368475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddbb2236568ed5c704292d368822d31?s=128&d=identicon&r=PG", "display_name": "ackshooairy", "link": "https://stackoverflow.com/users/2368475/ackshooairy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1577768490, "creation_date": 1541625828, "last_edit_date": 1577768490, "question_id": 53198033, "link": "https://stackoverflow.com/questions/53198033/glm-r-vs-python", "title": "GLM R vs. Python", "body": "<p>I am attempting to generate a logistic regression in Python that produces the same results as R. It seems close, but not the same. I made up the following example to illustrate that a difference exists. The data is not real.</p>\n\n<p>R</p>\n\n<pre><code># RStudio 1.1.453\n\nd &lt;- data.frame(c(0, 0, 1, 1, 1),\n                c(1, 0, 0, 0, 0),\n                c(0, 1, 0, 0, 0))\n\ncolnames(d) &lt;- c(\"v1\", \"v2\", \"v3\")\n\nmodel &lt;- glm(v1 ~ v2,\n         data = d,\n         family = \"binomial\")\n\n\nsummary(model)\n</code></pre>\n\n<p>R Output</p>\n\n<pre><code>Call:\nglm(formula = v1 ~ v2, family = \"binomial\", data = d)\n\nDeviance Residuals: \n       1         2         3         4         5  \n-1.66511  -0.00013   0.75853   0.75853   0.75853  \n\nCoefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)\n(Intercept)    1.099      1.155   0.951    0.341\nv2           -19.665   6522.639  -0.003    0.998\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 6.7301  on 4  degrees of freedom\nResidual deviance: 4.4987  on 3  degrees of freedom\nAIC: 8.4987\n\nNumber of Fisher Scoring iterations: 17\n</code></pre>\n\n<p>Python</p>\n\n<pre><code># Python 3.7.1\n\nimport pandas as pd # 0.23.4\nimport statsmodels.api as sm # 0.9.0\nimport statsmodels.formula.api as smf # 0.9.0\n\nd = pd.DataFrame({\"v1\" : [0, 0, 1, 1, 1],\n                  \"v2\" : [1, 0, 0, 0, 0],\n                  \"v3\" : [0, 1, 0, 0, 0]})\n\nmodel = smf.glm(formula = \"v1 ~ v2\",\n               family=sm.families.Binomial(link = sm.genmod.families.links.logit),\n               data=d\n               ).fit()\n\nmodel.summary()\n</code></pre>\n\n<p>Python Output</p>\n\n<pre><code>                 Generalized Linear Model Regression Results                  \n==============================================================================\nDep. Variable:                     v1   No. Observations:                    5\nModel:                            GLM   Df Residuals:                        3\nModel Family:                Binomial   Df Model:                            1\nLink Function:                  logit   Scale:                          1.0000\nMethod:                          IRLS   Log-Likelihood:                -2.2493\nDate:                Wed, 07 Nov 2018   Deviance:                       4.4987\nTime:                        15:17:52   Pearson chi2:                     4.00\nNo. Iterations:                    19   Covariance Type:             nonrobust\n==============================================================================\n                 coef    std err          z      P&gt;|z|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept      1.0986      1.155      0.951      0.341      -1.165       3.362\nv2           -21.6647   1.77e+04     -0.001      0.999   -3.48e+04    3.47e+04\n==============================================================================\n</code></pre>\n\n<p>There is a difference in the number of iterations. From what I can tell, there is some convergence method which may be different between the two, but I don't understand. Is there some other setting I might be missing?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1541625928, "post_id": 53198032, "comment_id": 93284714, "body": "Why do you need numbers to such a level of precision? <code>8.2e307</code> is indistinguishable from <code>np.inf</code> in any practical application I can think of."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1541626160, "post_id": 53198032, "comment_id": 93284810, "body": "If you need such large numbers with high precision you might need to move to an arbitrary precision floating point library. I&#39;ve thought of adding arbitrary precision floats to Numpy before but it&#39;s a non-trivial task and I haven&#39;t been sufficiently motivated to spend the time :("}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 1, "creation_date": 1541626320, "post_id": 53198032, "comment_id": 93284887, "body": "FWIW SageMath provides arbitrary precision floating point support in Python. Unfortunately, depending on your platform and your overall project, Sage can be non-trivial to install and use as a dependency, though we are working on improving that. Separating the MPFR Python wrappers out to a separate package is also on the horizon for me (though such packages may already exist too)"}, {"owner": {"reputation": 406, "user_id": 8806969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a397c6039334c3579a59073d340ceb8a?s=128&d=identicon&r=PG&f=1", "display_name": "IcedLance", "link": "https://stackoverflow.com/users/8806969/icedlance"}, "edited": false, "score": 0, "creation_date": 1541626586, "post_id": 53198032, "comment_id": 93285020, "body": "You could add a condition, that if <code>c*(t-t0)</code> is big enough, you disregard the 1 and calculate using simplified formula."}, {"owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1541626639, "post_id": 53198032, "comment_id": 93285040, "body": "@roganjosh While <code>8.2e307</code> is indistinguishable from <code>np.inf</code>, the comparison <code>8.2e307 &#47; 7.5e305</code> results in a resonable and useful number. That&#39;s what I&#39;m trying to get at, not the result of the exponential, but the comparison of two exponentials."}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 1, "creation_date": 1541626724, "post_id": 53198032, "comment_id": 93285071, "body": "One obvious thing to do would be to cancel the <code>exp(c * (t-t0))</code>: <code>result = (A * np.exp((b-c) * (t - t0))) &#47; (1 + np.exp(-c * (t - t0)))</code>. This will only overflow if the final result is too large."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1541626866, "post_id": 53198032, "comment_id": 93285118, "body": "Thanks for the clarification, that makes sense"}, {"owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "edited": false, "score": 0, "creation_date": 1541627453, "post_id": 53198032, "comment_id": 93285362, "body": "@WarrenWeckesser For example: A=5, b=1e10, c=1e9, t0=1e-8, t=5e-8. That will give a valid result, but if t = 5e-7 there&#39;s an overflow."}, {"owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "edited": false, "score": 1, "creation_date": 1541627766, "post_id": 53198032, "comment_id": 93285501, "body": "Am I missing something or why can you not take the log of both sides (ignoring the +1), compute the ratio (which is now a difference), and then convert back?"}, {"owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "reply_to_user": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "edited": false, "score": 0, "creation_date": 1541628595, "post_id": 53198032, "comment_id": 93285835, "body": "@PaulBrodersen I think that&#39;s what Sam Mason described below. That does seem to work. (I&#39;m rusty with the maths...) It is an approximation, but over the scale I&#39;m concerned with the error isn&#39;t significant."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "edited": false, "score": 0, "creation_date": 1541628317, "post_id": 53198411, "comment_id": 93285727, "body": "I think you&#39;re on to something, but does the result need to be scaled back to the real value after re-working on the log scale? I get a very different result for a known, non-overflow value between the original equation and yours."}, {"owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "edited": false, "score": 0, "creation_date": 1541628447, "post_id": 53198411, "comment_id": 93285787, "body": "Nevermind - I just have to put the result back into an exponent. Rusty with the maths... That does seem to work!"}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "edited": false, "score": 1, "creation_date": 1541628607, "post_id": 53198411, "comment_id": 93285840, "body": "@Sagasaki glad you got there!  it&#39;s worth checking out the other numerical stability helpers in numpy, e.g. <code>log1p</code> and so on.  John Cook has useful things to say about this <a href=\"https://www.johndcook.com/blog/2010/06/07/math-library-functions-that-seem-unnecessary/\" rel=\"nofollow noreferrer\">johndcook.com/blog/2010/06/07/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "is_accepted": true, "score": 1, "last_activity_date": 1541627583, "creation_date": 1541627583, "answer_id": 53198411, "question_id": 53198032, "link": "https://stackoverflow.com/questions/53198032/np-exp-overflow-workaround/53198411#53198411", "title": "np.exp overflow workaround", "body": "<p>keeping everything in the log scale is the common solution to this sort of thing.  at least that's what we do in statistics where you're often down in the 1e-10000 range, especially at the start before you're any where near convergence.  for example, all the <code>scipy</code> probability density functions have <code>logpdf</code> variants which work in the log scale.</p>\n\n<p>I think your expression would be rewritten something like:</p>\n\n<pre><code>d = t - t0\nlog_result = (np.log(A) + (b * d)) - np.logaddexp(0, c * d)\n</code></pre>\n\n<p>(untested)</p>\n"}], "owner": {"reputation": 483, "user_id": 9094687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ5xn.png?s=128&g=1", "display_name": "Shakes", "link": "https://stackoverflow.com/users/9094687/shakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "accepted_answer_id": 53198411, "answer_count": 1, "score": 2, "last_activity_date": 1541627583, "creation_date": 1541625816, "question_id": 53198032, "link": "https://stackoverflow.com/questions/53198032/np-exp-overflow-workaround", "title": "np.exp overflow workaround", "body": "<p>I have the following equation:</p>\n\n<pre><code>result = (A * np.exp(b * (t - t0))) / (1 + np.exp(c * (t - t0)))\n</code></pre>\n\n<p>I feed in an array of t values to get results out. <code>A, b, c, t0</code> are all constants (<code>b</code> and <code>c</code> are very large, <code>t0</code> is small but not as small as b and c are large). The problem is, I run into an overflow error because the exponential value quickly gets much too large to fit into a float64 beyond a certain range of <code>t</code>. I'm trying to find a workaround to this while still maintaining a decent level of precision. The <code>result</code> value is well within the range of a float64 container, however the overly large intermediate values of the <code>np.exp</code> calculation prevent me from getting as far as the result. </p>\n\n<p>Some thoughts I had:</p>\n\n<ul>\n<li>Scale down the t input to be able to get the desired range of values, and then de-scale the output so the result is correct</li>\n<li>Convert the exponential to a log function</li>\n</ul>\n\n<p>However I'm not sure how to implement either of these ideas, or if they would actually work. </p>\n\n<p>Essential this problem boils down to <code>result = np.exp(a) / np.exp(b)</code>, where a and b are in the range of 100-1000. <code>np.exp(709)</code> results in 8.2e307, right at the limit of a float64, but I have larger values that need to feed into it. While the comparison of the two exponentials produces a reasonable value, the exponentials themselves are too large to be calculated. </p>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10597162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6814a6bc7c63486acda9d21f161e30c9?s=128&d=identicon&r=PG&f=1", "display_name": "Light", "link": "https://stackoverflow.com/users/10597162/light"}, "edited": false, "score": 1, "creation_date": 1541626576, "post_id": 53198054, "comment_id": 93285013, "body": "Thanks wpercy. Saves my day! By the way, do you know a good beginner resource to learn this stuff? I am new at Selenium"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 2, "last_activity_date": 1541625906, "creation_date": 1541625906, "answer_id": 53198054, "question_id": 53197941, "link": "https://stackoverflow.com/questions/53197941/looping-over-selenium-webelement/53198054#53198054", "title": "Looping over Selenium WebElement", "body": "<p>In the line</p>\n\n<pre><code>fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[\"+ str(review_num)\"]')\n</code></pre>\n\n<p>you're searching for the element with xpath equal to </p>\n\n<pre><code>'//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[\"+ str(review_num)\"]'\n</code></pre>\n\n<p>with the <code>\"str(review_num)\"</code> hardcoded into the xpath.</p>\n\n<p>You want to do something like</p>\n\n<pre><code>xpath = '//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[{}]'.format(review_num)\nfixedelement = browser.find_element_by_xpath(xpath)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10597162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6814a6bc7c63486acda9d21f161e30c9?s=128&d=identicon&r=PG&f=1", "display_name": "Light", "link": "https://stackoverflow.com/users/10597162/light"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 53198054, "answer_count": 1, "score": 1, "last_activity_date": 1541625906, "creation_date": 1541625440, "question_id": 53197941, "link": "https://stackoverflow.com/questions/53197941/looping-over-selenium-webelement", "title": "Looping over Selenium WebElement", "body": "<p>I am not getting the expected results from the following iteration. The issue is the <strong>iteration value is not updating</strong> in the <strong>browser.find_element_by_xpath</strong> function (4th line of the code below). It always yields the first result. Note that I get the expected results when I manually run the iteration by assigning sequentially values 1,2,3,4 to the variable review_num instead of using the argument + str(review_num)</p>\n\n<pre><code>    review_num = 0\n    for review_num in range(216):   # for every review\n        review_num = review_num + 1\n        fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[\"+ str(review_num)\"]')\n        #fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[1]')\n        #fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[2]')\n        #fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[3]')\n        #fixedelement = browser.find_element_by_xpath('//*[@id=\"collapseReviews\"]/div/div[2]/div[2]/div[1]/div[4]')\n        R_title = fixedelement.find_element_by_xpath('./h4')\n        R_author = fixedelement.find_element_by_xpath('./div[2]/p[1]/span')\n        R_stars = fixedelement.find_element_by_xpath('./div[1]/div[1]/div[1]/span')\n        R_date = fixedelement.find_element_by_xpath('./div[1]/div[1]/div[2]/small')\n        R_comment = fixedelement.find_element_by_xpath('./div[1]/div[3]')\n        R_Yesvotes = fixedelement.find_element_by_xpath('./div[2]/div/div[1]/a[1]/span')\n        R_Novotes = fixedelement.find_element_by_xpath('./div[2]/div/div[1]/a[2]/span')\n\n        R_title_text = R_title.text\n        R_author_text = R_author.text\n        R_stars_text = R_stars.text\n        R_date_text = R_date.text\n        R_comment_text = R_comment.text\n        R_Yesvotes_text = R_Yesvotes.text\n        R_Novotes_text = R_Novotes.text\n        print(R_author_text)\n        with open(csvfile, \"a\", newline='', encoding='utf-8') as output:\n            writer = csv.writer(output, dialect='excel')\n            # writer.writerow([\"namerow_id\", \"Name\", \"Position_Location\"])\n            writer.writerow([review_num, R_title_text, R_author_text, R_stars_text, R_date_text, R_comment_text, R_Yesvotes_text, R_Novotes_text])\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "class", "user-interface", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541626544, "post_id": 53197938, "comment_id": 93284995, "body": "<i>&quot;Using the class rather than the method so I have commented them out&quot;</i> - this makes no sense. If they are commented out, you are <i>not</i> using classes. Is the problem you&#39;re solving using classes or not? If not, I recommend removing the commented code because it&#39;s very confusing as written."}, {"owner": {"reputation": 43, "user_id": 10564554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252aefcdabc41176102b83e87726f3c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythonewbie", "link": "https://stackoverflow.com/users/10564554/pythonewbie"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541627526, "post_id": 53197938, "comment_id": 93285386, "body": "I commented them out because if i left it in it would be classed as a non-functional code but i will try re-iterate this in the future."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541629630, "post_id": 53197938, "comment_id": 93286207, "body": "The problem is, removing the class <i>completely</i> changes the nature of the code under the class statements."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10564554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252aefcdabc41176102b83e87726f3c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythonewbie", "link": "https://stackoverflow.com/users/10564554/pythonewbie"}, "edited": false, "score": 0, "creation_date": 1541627682, "post_id": 53198296, "comment_id": 93285460, "body": "when would you suggest i could use place, could i read on these bugs if you have a link? I am new to python, but this was great help i shall study this code now and compare it to my question."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541628158, "post_id": 53198296, "comment_id": 93285666, "body": "I don&#39;t think it&#39;s fair to say <code>place</code> causes weird bugs. <code>place</code> is entirely deterministic and isn&#39;t buggy. The only problems it causes are that it requires  you to do a lot more work if you want your UI to be responsive and easy to maintain."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1541628195, "post_id": 53198296, "comment_id": 93285682, "body": "<code>place</code> should only be used when a floating widget is needed that partially covers up other widgets. It requires that the user defines ALL dimensions, so forgetting one makes the whole thing not work (which is what happens if you replace grid with place in the code above) or it makes things appear off screen with new fonts / versions of python / computers. For now forget that place exists and let tkinter do the hard work."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541628293, "post_id": 53198296, "comment_id": 93285720, "body": "No, that&#39;s not necessarily true that place is only for floating widgets. <code>place</code> is actually quite good when you want to stack widgets on top of each other. it has other uses as well. <code>place</code> is actually quite powerful and flexible. I don&#39;t recommend it for most work, and I especially don&#39;t recommend it for beginners, but it&#39;s definitely good for more things than just floating widgets."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541628989, "post_id": 53198296, "comment_id": 93285972, "body": "@BryanOakley I edited out the buggy comment, I agree that implied something wrong with tkinter not the user. But I disagree with your other comment; I have yet to find any other use for place that can&#39;t be solved more easily and neater with grid. (Mind floating widgets is a very important role; I&#39;m not advocating for never using place.)"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1541629574, "post_id": 53198296, "comment_id": 93286182, "body": "@Novel: there are other ways it is better than grid, but I guess the comment section isn&#39;t the right place to enumerate them. The point is, <code>pack</code>, <code>grid</code>, and <code>place</code> all have their uses, and each is superior to the other in one way or another."}, {"owner": {"reputation": 43, "user_id": 10564554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252aefcdabc41176102b83e87726f3c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythonewbie", "link": "https://stackoverflow.com/users/10564554/pythonewbie"}, "edited": false, "score": 0, "creation_date": 1541707400, "post_id": 53198296, "comment_id": 93318185, "body": "@Novel I was just curious to understand why the GUI starts at page 3 and not mainPage?"}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1541795201, "post_id": 53198296, "comment_id": 93352631, "body": "It should start at testOverlap since that&#39;s the last one to be laid out. You can add <code>self.menu.tkraise()</code> to the end of the <code>Controller.__init__</code> to force it if needed."}, {"owner": {"reputation": 43, "user_id": 10564554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252aefcdabc41176102b83e87726f3c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythonewbie", "link": "https://stackoverflow.com/users/10564554/pythonewbie"}, "edited": false, "score": 0, "creation_date": 1541852764, "post_id": 53198296, "comment_id": 93363774, "body": "@Novel How do you mean, sorry?"}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 2, "last_activity_date": 1541918732, "last_edit_date": 1541918732, "creation_date": 1541627049, "answer_id": 53198296, "question_id": 53197938, "link": "https://stackoverflow.com/questions/53197938/how-to-create-a-new-pages-using-classes-in-tkinter/53198296#53198296", "title": "How to create a new pages using classes in Tkinter?", "body": "<p>Creating a Frame (page) and raising it (bringing it to the top to view it) are 2 completely different operations. To create it you need to use a layout like <code>grid</code> on the class instance, and to raise it you need to use the <code>tkraise</code> method of the instance. We usually do this by dedicating a class to do nothing but handle all the pages. Try this: </p>\n\n<pre><code>from tkinter import *\n\nclass Controller(Frame):\n    def __init__(self, root):\n        Frame.__init__(self, root)\n\n        self.pageOne = mainPage(self)\n        self.pageOne.grid(row=0, column=0, sticky='nsew')\n        self.pageTwo = middlePage(self)\n        self.pageTwo.grid(row=0, column=0, sticky='nsew')\n        self.pageThree = finalPage(self)\n        self.pageThree.grid(row=0, column=0, sticky='nsew')\n        self.menu = testOverlap(self)\n        self.menu.grid(row=0, column=0, sticky='nsew')\n\n        self.menu.tkraise() # show the testOverlap Frame now\n\nclass testOverlap(Frame):\n    def __init__(self, root):\n        Frame.__init__(self, root)\n        self.topButtons()\n\n    def topButtons(self):\n        self.firstPage = Button(self, text=\"Go to Page 1\", background=\"WHITE\", height = 2, width = 16, command= self.master.pageOne.tkraise)\n        self.firstPage.grid(row=0, column=0)\n\n        self.secondPage = Button(self, text=\"Go to Page 2\", background=\"WHITE\",height = 2, width = 16, command= self.master.pageTwo.tkraise)\n        self.secondPage.grid(row=0, column=1)\n\n        self.thirdPage = Button(self, text=\"Go to Page 3\", background=\"WHITE\",height = 2, width = 17, command= self.master.pageThree.tkraise)\n        self.thirdPage.grid(row=0, column=2)\n\nclass mainPage(Frame):\n    def __init__(self, root):\n        Frame.__init__(self, root)\n        self.Label1 = Label(self, text=\" First Page \", height = 20, width = 52, background=\"Green\")\n        self.Label1.grid()\n\nclass middlePage(Frame):\n    def __init__(self, root):\n        Frame.__init__(self, root)\n        self.Label2 = Label(self, text=\" Second Page \", height = 20, width = 52, background=\"Blue\")\n        self.Label2.grid()\n\nclass finalPage(Frame):\n    def __init__(self, root):\n        Frame.__init__(self, root)\n        self.Label3 = Label(self, text=\" Third Page \", height = 20, width = 52, background=\"Red\")\n        self.Label3.grid()\n\ndef main():\n    root = Tk()\n    root.title(\"Tk\")\n    root.geometry('370x340')\n    app = Controller(root)\n    app.pack(expand=True, fill=BOTH)\n    root.mainloop()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Note also I removed your use of <code>place</code>. I recommend you stay away from place if you can, use <code>grid</code> or <code>pack</code> instead. Using place requires specifying the exact size in a lot of other places, and grid or pack can handle that for you. </p>\n"}], "owner": {"reputation": 43, "user_id": 10564554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252aefcdabc41176102b83e87726f3c9?s=128&d=identicon&r=PG&f=1", "display_name": "pythonewbie", "link": "https://stackoverflow.com/users/10564554/pythonewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 2, "accepted_answer_id": 53198296, "answer_count": 1, "score": 1, "last_activity_date": 1541918732, "creation_date": 1541625418, "last_edit_date": 1541625699, "question_id": 53197938, "link": "https://stackoverflow.com/questions/53197938/how-to-create-a-new-pages-using-classes-in-tkinter", "title": "How to create a new pages using classes in Tkinter?", "body": "<p>I have attempted to create a tkinter GUI which can overlap each page <code>Page 1, Page 2, Page 3</code>. I am struggling in two places:</p>\n\n<p>Using the class rather than the method so I have commented them out, but what I have tried at is putting the class in brackets within the command i.e. <code>command=(mainPage)</code> but this gives the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>builtins.NameError: name 'mainPage' is not defined\n</code></pre>\n\n<p>Second place I am struggling is not being able to overlap each class.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>from tkinter import *\n\nclass testOverlap(Frame):\n\n    def __init__(self, root):\n        Frame.__init__(self, root)\n        self.root = root\n\n        self.topButtons()\n\n        self.pageOne()\n        self.pageTwo()\n        self.pageThree()\n\n    def topButtons(self):\n\n        self.firstPage = Button(self.root, text=\"Go to Page 1\", background=\"WHITE\", height = 2, width = 16, command= self.pageOne())\n        self.firstPage.place(x=0, y=0)\n\n        self.secondPage = Button(self.root, text=\"Go to Page 2\", background=\"WHITE\",height = 2, width = 16, command= self.pageTwo())\n        self.secondPage.place(x=121, y=0)\n\n        self.thirdPage = Button(self.root, text=\"Go to Page 3\", background=\"WHITE\",height = 2, width = 17, command= self.pageThree())\n        self.thirdPage.place(x=242, y=0)\n\n#class mainPage(Frame):\n    def pageOne(self):\n        self.Label1 = Label(self.root, text=\" First Page \", height = 20, width = 52, background=\"Green\")\n        self.Label1.place(x=0, y=40)\n\n#class middlePage(Frame):\n    def pageTwo(self):\n        self.Label2 = Label(self.root, text=\" Second Page \", height = 20, width = 52, background=\"Blue\")\n        self.Label2.place(x=0, y=40)\n\n#class finalPage(Frame):\n    def pageThree(self):\n        self.Label3 = Label(self.root, text=\" Third Page \", height = 20, width = 52, background=\"Red\")\n        self.Label3.place(x=0, y=40)\n\ndef main():\n    root = Tk()\n    root.title(\"Tk\")\n    root.geometry('370x340')\n    app = testOverlap(root)\n    root.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "pandas", "parallel-processing", "cython"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1541625498, "post_id": 53197883, "comment_id": 93284516, "body": "<code>rdf = pd.DataFrame(itertools.permutations(&#39;abcdefghi&#39;,2), columns=[&#39;combo&#39;,&#39;value&#39;])</code> best I can think of."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1541625566, "post_id": 53197883, "comment_id": 93284547, "body": "Actually, that doesn&#39;t join the strings. I suspect that&#39;s the bottleneck. <code>i</code> is superfluous, you could use <code>enumerate</code>"}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1541625982, "post_id": 53197883, "comment_id": 93284744, "body": "No that&#39;s the thing, the i+=1 is just a dummy example. In reality, what&#39;s there is very expensive. In place of i+=1, I&#39;m opening files from the names in the permutation, reading them in as dataframes, running clf.predict from a classifier trained in sci-kit learn and storing a value from the prediction. That can&#39;t really change so I need to make everything else faster and/or parallelize"}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1541626161, "post_id": 53197883, "comment_id": 93284812, "body": "@roganjosh I edited the question to try to make this clearer"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541626694, "post_id": 53197883, "comment_id": 93285058, "body": "&quot;maybe I should initialize results with the proper length instead of using append but how much will that help?&quot; No help at all."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541626941, "post_id": 53197883, "comment_id": 93285153, "body": "&quot; I am opening files and getting results of clf.predict&quot; that is almost certainly the bottleneck. How many classifiers are you working with? A dozen? Hundreds? Thousands? I am guessing they are pickled in some way?"}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541626993, "post_id": 53197883, "comment_id": 93285181, "body": "@juanpa.arrivillaga I have one classifier (I train once) and then make several hundred thousand predictions, one for each permutation."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541628366, "post_id": 53197883, "comment_id": 93285751, "body": "@andbeonetraveler then <code>multiprocessing</code> might be a viable approach. There will be some overhead, though, of all inter-process communication"}, {"owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1542046083, "post_id": 53197883, "comment_id": 93419580, "body": "@juanpa.arrivillaga Yeah I need to parallelize this. I had taken a look at the multiprocessing module but I&#39;m rather lost. Can you point me to a tutorial? What kind of container would be best to intitalize--a list, pandas dataframe, or something else?"}], "answers": [{"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1541626692, "post_id": 53198123, "comment_id": 93285057, "body": "They don&#39;t <code>append</code> to a dataframe.... The dataframe constructor is called after the list is complete."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541626810, "post_id": 53198123, "comment_id": 93285099, "body": "They don&#39;t use <code>.append</code> on the data-frame. You are still using a &quot;for loop&quot;, it&#39;s just a list comprehension now. While this might be marginally faster, it isn&#39;t really a solution, since almost certainly, the bottleneck is not actually building the list."}, {"owner": {"reputation": 1002, "user_id": 10565773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40441b070c35533ffafe21809dfcf787?s=128&d=identicon&r=PG&f=1", "display_name": "kevins_1", "link": "https://stackoverflow.com/users/10565773/kevins-1"}, "edited": false, "score": 0, "creation_date": 1541626826, "post_id": 53198123, "comment_id": 93285103, "body": "The minimum working code does not need the append. This solution works and does not need append operation."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1541626842, "post_id": 53198123, "comment_id": 93285109, "body": "@kevins_1 yes, but it offers no significant advantage. If anything, yours is slower because of the way you are initializing your data-frame, but all of this is pretty irrelevant."}, {"owner": {"reputation": 1002, "user_id": 10565773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40441b070c35533ffafe21809dfcf787?s=128&d=identicon&r=PG&f=1", "display_name": "kevins_1", "link": "https://stackoverflow.com/users/10565773/kevins-1"}, "edited": false, "score": 0, "creation_date": 1541626998, "post_id": 53198123, "comment_id": 93285183, "body": "The advantage is significant and shows that the operation listed above for 1) is a good start. It is also faster than &#39;apply&#39;: <a href=\"https://tomaugspurger.github.io/modern-4-performance\" rel=\"nofollow noreferrer\">tomaugspurger.github.io/modern-4-performance</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1541627210, "post_id": 53198123, "comment_id": 93285255, "body": "The advantage is not significant at all. In any event, you haven&#39;t even bothered to profile it. What does this have to do with <code>.apply</code>? You seem to be thoroughly confused. What in that link do you think is relevant to your answer?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1541627257, "post_id": 53198123, "comment_id": 93285272, "body": "Where does the OP call <i>apply</i>? Whatever you&#39;ve taken away from that article, I&#39;m pretty sure you&#39;ve got some concepts confused."}, {"owner": {"reputation": 1002, "user_id": 10565773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40441b070c35533ffafe21809dfcf787?s=128&d=identicon&r=PG&f=1", "display_name": "kevins_1", "link": "https://stackoverflow.com/users/10565773/kevins-1"}, "edited": false, "score": 0, "creation_date": 1541627661, "post_id": 53198123, "comment_id": 93285449, "body": "As OP&#39;s question states <i>apply</i> is mentione in 2) above. Here is a reference for how a list comprehension is faster than an append. I&#39;d expect cython and parallelizing are also viable. <a href=\"https://stackoverflow.com/questions/22108488/are-list-comprehensions-and-functional-functions-faster-than-for-loops\" title=\"are list comprehensions and functional functions faster than for loops\">stackoverflow.com/questions/22108488/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1541628001, "post_id": 53198123, "comment_id": 93285608, "body": "@kevins_1 list comprehensions are <i>marginally</i> faster than append, and in this case, would make no appreciable difference. From your link: &quot;A list comprehension is usually a tiny bit faster than the precisely equivalent for loop &quot;"}], "tags": [], "owner": {"reputation": 1002, "user_id": 10565773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40441b070c35533ffafe21809dfcf787?s=128&d=identicon&r=PG&f=1", "display_name": "kevins_1", "link": "https://stackoverflow.com/users/10565773/kevins-1"}, "is_accepted": false, "score": -1, "last_activity_date": 1541627273, "last_edit_date": 1541627273, "creation_date": 1541626239, "answer_id": 53198123, "question_id": 53197883, "link": "https://stackoverflow.com/questions/53197883/parallelizing-or-otherwise-speeding-up-calculation-within-generator-and-pandas-d/53198123#53198123", "title": "Parallelizing or otherwise speeding up calculation within generator and pandas dataframe", "body": "<p>The <code>append</code> operation in pandas and <code>for</code> loop are slow. This code avoids using it.</p>\n\n<pre><code>import itertools\nimport pandas as pd\n\ncombos = itertools.permutations('abcdefghi',2)\ncombo_values = [('-'.join(x[1]), x[0]) for x in enumerate(combos, 1)]\n\nrdf = pd.DataFrame({'combos': [x[0] for x in combo_values],\n                    'value': [x[1] for x in combo_values]})\n</code></pre>\n\n<p>You can do this for each file and dataframe that you have then use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.concat.html\" rel=\"nofollow noreferrer\">pd.concat</a> to quickly generate results thereafter. You can also add the enumeration of the permutations afterward if you want.</p>\n"}], "owner": {"reputation": 603, "user_id": 2815937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d971bcd67df202d5a5555f0efa3fc93d?s=128&d=identicon&r=PG&f=1", "display_name": "andbeonetraveler", "link": "https://stackoverflow.com/users/2815937/andbeonetraveler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541628922, "creation_date": 1541625170, "last_edit_date": 1541628922, "question_id": 53197883, "link": "https://stackoverflow.com/questions/53197883/parallelizing-or-otherwise-speeding-up-calculation-within-generator-and-pandas-d", "title": "Parallelizing or otherwise speeding up calculation within generator and pandas dataframe", "body": "<p>I am doing a calculation on permutations of things from a generator created by itertools. I have a piece of code in this form (this is a dummy example):</p>\n\n<pre><code>import itertools\nimport pandas as pd\n\ncombos = itertools.permutations('abcdefghi',2)\nresults = []\ni=0\n\nfor combo in combos:\n    i+=1 #this line is actually other stuff that's expensive\n    results.append([combo[0]+'-'+combo[1],i])\n\nrdf = pd.DataFrame(results, columns=['combo','value'])\n</code></pre>\n\n<p>Except in the real code, </p>\n\n<ul>\n<li>there are several hundred thousand permutations</li>\n<li>instead of <code>i+=1</code> I am opening files and getting results of <code>clf.predict</code> where <code>clf</code> is a classifier trained in scikit-learn</li>\n<li>in place of <code>i</code> I'm storing a value from that prediction</li>\n</ul>\n\n<p>I think the <code>combo[0]+'-'+combo[1]</code> is trivial though.</p>\n\n<p>This takes too long. What should I do to make it faster? Such as:</p>\n\n<p>1) writing better code (maybe I should initialize <code>results</code> with the proper length instead of using <code>append</code> but how much will that help? and what's the best way to do that when I don't know the length before iterating through <code>combs</code>?)</p>\n\n<p>2) initializing a pandas dataframe instead of a list and using <code>apply</code>?</p>\n\n<p>3) using <a href=\"https://pandas.pydata.org/pandas-docs/stable/enhancingperf.html\" rel=\"nofollow noreferrer\">cython</a> in pandas? Total newbie to this.</p>\n\n<p>4) <a href=\"https://docs.python.org/3/library/multiprocessing.html\" rel=\"nofollow noreferrer\">parallelizing</a>? I think I probably need to do this, but again, total newbie, and I don't know whether it's better to do it within a list or a pandas dataframe. I understand I would need to iterate over the generator and initialize some kind of container <a href=\"https://stackoverflow.com/questions/7972295/python-generator-unpack-entire-generator-in-parallel\">before parallelizing</a>.</p>\n\n<p>Which combination of these options would be best and how can I put it together?</p>\n"}, {"tags": ["python", "encryption"], "comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1541625302, "post_id": 53197859, "comment_id": 93284432, "body": "Which row and what&#39;s the actual traceback say? <i>(also, pet peeve, could you correct the indentation so that there&#39;s 4 spaces/1 tab in each block? Thank you)</i>"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1541626357, "post_id": 53197859, "comment_id": 93284903, "body": "This is confusing as it looks like you write out the RSA-encrypted session key twice in succession. Is that intentional?"}, {"owner": {"reputation": 31, "user_id": 7128743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f296652ca7e94a52f0e6b517cb0f7a?s=128&d=identicon&r=PG&f=1", "display_name": "Fsxnerd", "link": "https://stackoverflow.com/users/7128743/fsxnerd"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1541695407, "post_id": 53197859, "comment_id": 93312426, "body": "@JamesKPolk This is unintentional and fixed my issue. Thank you for pointing this out!"}], "owner": {"reputation": 31, "user_id": 7128743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f296652ca7e94a52f0e6b517cb0f7a?s=128&d=identicon&r=PG&f=1", "display_name": "Fsxnerd", "link": "https://stackoverflow.com/users/7128743/fsxnerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541695283, "creation_date": 1541625009, "last_edit_date": 1541695283, "question_id": 53197859, "link": "https://stackoverflow.com/questions/53197859/python-receiving-mac-check-failed-when-decrypting-via-rsa", "title": "Python-Receiving MAC check failed when decrypting via RSA", "body": "<p>Here is my code for generating the RSA keys:</p>\n\n<pre><code>def rsakeys():\n key = RSA.generate(4096)\n encrypted_key = key.export_key(pkcs=8, protection='scryptAndAES128-CBC')\n\n with open('privatekey.bin', 'wb') as keyfile:\n    keyfile.write(encrypted_key)\n    keyfile.close()\n with open('publickey.bin', 'wb') as keyfile:\n    keyfile.write(key.publickey().export_key())\n    keyfile.close()\n\n prepath = os.getenv('APPDATA')\n path = (prepath + '\\\\PythonApps')\n shutil.move('C:\\\\Python\\\\privatekey.bin', path)\n shutil.move('C:\\\\Python\\\\publickey.bin', path)\n return()\n</code></pre>\n\n<p>This function is to encrypt a file:</p>\n\n<pre><code>def encrypt():\n prepath = os.getenv('APPDATA')\n path = (prepath + '\\\\PythonApps')\n\n if not os.path.exists(path):\n    print('Error: Must Have Valid RSA Keys')\n elif not os.path.isfile(path + '\\\\privatekey.bin'):\n    print('Error: No Private RSA Key Generated')\n elif not os.path.isfile(path + '\\\\publickey.bin'):\n    print('Error: No Public RSA Key Generated')\n else:\n    with open('C:\\\\Python\\\\encrypted_data.txt', 'wb') as out_file:       \n        file = filedialog.askopenfilename(initialdir = \"C:\\\\\",title = \"Select file\",filetypes = ((\"text files\",\"*.txt\"),(\"all files\",\"*.*\")))\n        print(file)\n        openfile = open(file, 'rb')\n        read = openfile.read()\n        print(read)\n\n        recipient_key = RSA.import_key(open(path + '\\\\publickey.bin').read())\n        session_key = get_random_bytes(16)\n        cipher_rsa = PKCS1_OAEP.new(recipient_key)\n        enc_session_key = cipher_rsa.encrypt(session_key)\n        out_file.write(cipher_rsa.encrypt(session_key))\n        cipher_aes = AES.new(session_key, AES.MODE_EAX)\n        ciphertext, tag = cipher_aes.encrypt_and_digest(read)\n        out_file.write(enc_session_key)\n        out_file.write(cipher_aes.nonce)\n        out_file.write(tag)\n        out_file.write(ciphertext)\n        out_file.close()\n        openfile.close()\n        shutil.move('C:\\\\Python\\\\encrypted_data.txt', path + '\\\\encrypted_data.txt')\n        print('Encryption Complete')\n return()\n</code></pre>\n\n<p>And this function is to decrypt data:</p>\n\n<pre><code>def decrypt():\n path = (os.getenv('APPDATA') + '\\\\PythonApps\\\\privatekey.bin')\n print(path)\n file = filedialog.askopenfilename(initialdir = \"C:\\\\\",title = \"Select file\",filetypes = ((\"text files\",\"*.txt\"),(\"all files\",\"*.*\")))\n with open(file, 'rb') as fobj:\n    print('test')\n    private_key = RSA.import_key(open(path).read())\n    print('test2')\n    enc_session_key, nonce, tag, ciphertext = [fobj.read(x)\n                                               for x in\n                                               (private_key.size_in_bytes(),\n                                                    16,16,-1)]\n    cipher_rsa = PKCS1_OAEP.new(private_key)\n    session_key = cipher_rsa.decrypt(enc_session_key)\n    cipher_aes = AES.new(session_key, AES.MODE_EAX, nonce)\n    data = cipher_aes.decrypt_and_verify(ciphertext, tag)\n    print('test3')\n    print(data)\n    fobj.close()\nreturn() \n</code></pre>\n\n<p>The traceback is here:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \nC:\\Users\\bsmith\\AppData\\Local\\Programs\\Python\\Python36\\lib\n\\tkinter\\__init__.py line 1702, in __call__\nreturn self.func(*args)\nFile \"C:\\Python\\tkinterlogin.py\", line 294, in decrypt\ndata = cipher_aes.decrypt_and_verify(ciphertext, tag)\nFile \"C:\\Users\\bsmith\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site- \npackages\\Cryptodome\\Cipher\\_mode_eax.py\", line 341, in decrypt_and_verify\nself.verify(received_mac_tag)\nFile \"C:\\Users\\bsmith\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site- \npackages\\Cryptodome\\Cipher\\_mode_eax.py\", line 293, in verify\nraise ValueError(\"MAC check failed\")\nValueError: MAC check failed\n</code></pre>\n\n<p>Everything works fine until I run the decryption function, at which point I hit MAC Check Failed. Previously, when I would use a passphrase with the encryption, I would receive RSA key format unsupported, so I switched, however, now I cannot figure out why it is receiving the current error. Any Ideas?</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 4923, "user_id": 992489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8568528b37ad2e84830c2c9aa9260369?s=128&d=identicon&r=PG", "display_name": "Alexandre Passos", "link": "https://stackoverflow.com/users/992489/alexandre-passos"}, "edited": false, "score": 0, "creation_date": 1541781153, "post_id": 53197828, "comment_id": 93346190, "body": "Can you show a longer stack trace? Also a sample of the offending line in the csv file?  Also, does the error still happen with the tf.data API?"}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 861974, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a826a65a8316eb0b8dce3f02b6f7cae5?s=128&d=identicon&r=PG", "display_name": "jmgardn2", "link": "https://stackoverflow.com/users/861974/jmgardn2"}, "is_accepted": false, "score": 0, "last_activity_date": 1542401361, "creation_date": 1542401361, "answer_id": 53345179, "question_id": 53197828, "link": "https://stackoverflow.com/questions/53197828/importing-data-from-csv-to-tensor-flow-invalid-argument-error/53345179#53345179", "title": "Importing data from CSV to tensor flow, Invalid Argument Error", "body": "<p>It appears to be a known issue with Tensorflow when reading CSV using the <code>UTF-8 + BOM</code> encoding.  You should use your favorite (non notepad) text editor to convert the file to a normal <code>UTF-8</code> encoding then it should read the csv properly.</p>\n\n<p>Issue for reference: <a href=\"https://github.com/tensorflow/tensorflow/issues/8415\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/issues/8415</a></p>\n"}], "owner": {"reputation": 225, "user_id": 3443786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f9887b45ec80245d142aed5b4cb637?s=128&d=identicon&r=PG&f=1", "display_name": "user3443786", "link": "https://stackoverflow.com/users/3443786/user3443786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542401361, "creation_date": 1541624836, "question_id": 53197828, "link": "https://stackoverflow.com/questions/53197828/importing-data-from-csv-to-tensor-flow-invalid-argument-error", "title": "Importing data from CSV to tensor flow, Invalid Argument Error", "body": "<p>I am trying to use data i have in CSV files for training.\nTo use them I'm following these instructions: <a href=\"https://www.tensorflow.org/api_guides/python/reading_data#_QueueRunner_\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/api_guides/python/reading_data#<em>QueueRunner</em></a></p>\n\n<p>since my data are no integers but decimals i have changed </p>\n\n<pre><code>record_defaults = [[1], [1], [1], [1], [1]]\n</code></pre>\n\n<p>to <code>record_defaults = [[1.], [1.], [1.], [1.], [1.]]</code>\nso it accepts floats.</p>\n\n<p>I still get following error though:</p>\n\n<blockquote>\n  <p>tensorflow.python.framework.errors_impl.InvalidArgumentError: Field 0 in record 0 is not a valid float: 15.5</p>\n  \n  <p>[[Node: DecodeCSV = DecodeCSV[OUT_TYPE=[DT_FLOAT, ... , DT_FLOAT], field_delim=\";\", na_value=\"\", select_cols=[], use_quote_delim=true, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](ReaderReadV2:1, DecodeCSV/record_defaults_0, ... , DecodeCSV/record_defaults_0)]]</p>\n</blockquote>\n\n<p>Which doesn't make sense to me, 15.5 is in fact the first cell from my CSV file and if it isn't a float, what else?</p>\n\n<p>any help on how to eat with this would be greatly appreciated</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 1, "creation_date": 1541624734, "post_id": 53197783, "comment_id": 93284167, "body": "show us your code? what data structure are you using to store record in your code before writing it to a fie?"}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "reply_to_user": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541625546, "post_id": 53197783, "comment_id": 93284539, "body": "I edited the post and added it to the bottom. I&#39;m new to this website, I will remember to add more detail next time, thanks."}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541625762, "post_id": 53197783, "comment_id": 93284642, "body": "is your <code>supplied_username</code> and score both stored as separate string? can you post further code? its better to use something like <code>dict</code> to store <code>username</code> as <code>key</code> and score as <code>value</code>"}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "reply_to_user": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541626028, "post_id": 53197783, "comment_id": 93284759, "body": "The code is for a project I am doing in school which need to have a login system involved. The supplied_Username is from when the user logs in and the score is from when the user completes the quiz. Yes they are separate strings. And I what is &quot;dict&quot;? Sorry, I am still learning the code."}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541626228, "post_id": 53197783, "comment_id": 93284845, "body": "<code>dictionary</code> is an unordered collection that allows you store data as key/value pair. please check my answer."}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "reply_to_user": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541626306, "post_id": 53197783, "comment_id": 93284881, "body": "I will do, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627073, "post_id": 53198075, "comment_id": 93285212, "body": "Thank you, I will try this out."}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627226, "post_id": 53198075, "comment_id": 93285261, "body": "So I get this code, thank you. But I have all the names and scores stored in an external file, so how would I sort them in the code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10071389"}, "reply_to_user": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627750, "post_id": 53198075, "comment_id": 93285492, "body": "@ThatDude I updated the code with a way to read each line and add it to a dictionary."}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627948, "post_id": 53198075, "comment_id": 93285582, "body": "Thank you, I will check it out."}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541628442, "post_id": 53198075, "comment_id": 93285783, "body": "the question was initially about writing to file not reading from a file. Its not a good practice to change your question entirely after people have answered. @ThatDude"}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "reply_to_user": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "edited": false, "score": 0, "creation_date": 1541628945, "post_id": 53198075, "comment_id": 93285957, "body": "@SufiyanGhori My question was about putting the values in size order. I&#39;m guessing from your answer that you do that while writing to the text file."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10071389"}, "is_accepted": false, "score": 0, "last_activity_date": 1541627734, "last_edit_date": 1541627734, "creation_date": 1541626001, "answer_id": 53198075, "question_id": 53197783, "link": "https://stackoverflow.com/questions/53197783/how-do-i-put-values-in-an-external-files-in-size-order-using-python/53198075#53198075", "title": "How do I put values in an external files in size order using python?", "body": "<p>If you're storing people and their scores in a dictionary, you can create a list of tuples from the dictionary that is sorted.</p>\n\n<pre><code>import operator\npeople = {'Jamie': 20, 'Ethan': 15, 'Daniel': 7, 'Ronald': 25, 'Jeff': 0}\nsortedPeople = sorted(people.items(), key=operator.itemgetter(1))\n</code></pre>\n\n<p>If you want to then write to a file, you just need to loop through the sorted list and write each value in the list.</p>\n\n<p>Here is an example of how to get a list of people containing their name and their score.</p>\n\n<pre><code>people = {}\n\nwith open('file.txt', 'r') as f:\n  for line in f:\n    splitLine = (line.replace(',','')).split()\n    people[splitLine[0]] = splitLine[1]\n</code></pre>\n\n<p>Each splitLine is a list of size 2, the first element is the name, the second is the score. You can then add to your blank dictionary by stating that the first element (the name) is the value and the second element (the number) is the key.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541626826, "post_id": 53198076, "comment_id": 93285104, "body": "Please would you be able to break this down a bit for me?"}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627093, "post_id": 53198076, "comment_id": 93285216, "body": "i am adding explanation @ThatDude"}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627540, "post_id": 53198076, "comment_id": 93285394, "body": "What does the x:x[1] do? When I put it comes up with invalid syntax and highlights the &quot;x&quot;."}, {"owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "reply_to_user": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 1, "creation_date": 1541627670, "post_id": 53198076, "comment_id": 93285455, "body": "@ThatDude please read about <code>lambda</code> to understand what <code>x: x[1]</code> is doing. essentially <code>lambda</code> is an anonymous function. In our case it is defining a key for sorting."}, {"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627748, "post_id": 53198076, "comment_id": 93285491, "body": "Right, I will go do some research on it, I appreciate the help a lot, thanks!"}], "tags": [], "owner": {"reputation": 15819, "user_id": 1149423, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KmNLc.png?s=128&g=1", "display_name": "Sufiyan Ghori", "link": "https://stackoverflow.com/users/1149423/sufiyan-ghori"}, "is_accepted": false, "score": 1, "last_activity_date": 1541628317, "last_edit_date": 1541628317, "creation_date": 1541626017, "answer_id": 53198076, "question_id": 53197783, "link": "https://stackoverflow.com/questions/53197783/how-do-i-put-values-in-an-external-files-in-size-order-using-python/53198076#53198076", "title": "How do I put values in an external files in size order using python?", "body": "<p>instead of using string to store username and score, use <code>dict()</code> to store it as key/value pair,</p>\n\n<p>First let's create a <a href=\"https://www.w3schools.com/python/python_dictionaries.asp\" rel=\"nofollow noreferrer\">dictionary</a>,</p>\n\n<pre><code>data = {\"Ethan\":15,\n        \"James\":20,\n        \"Daniel\":7}\n</code></pre>\n\n<p>Now use <code>sorted()</code> function to sort items of dictionary, you can get dictionary items using <code>dict.items()</code>. <code>dict.items()</code> gives you list of <a href=\"https://www.tutorialspoint.com/python/python_tuples.htm\" rel=\"nofollow noreferrer\">tuple</a> in this format, <code>[('Ethan', 15), ('James', 20)]</code>. This list of tuple has name on index 0, and score on index 1, hence we need to sort it on index <code>1</code>. You can use <a href=\"https://www.w3schools.com/python/python_lambda.asp\" rel=\"nofollow noreferrer\">lambda</a> for provide <code>key</code> you want to use for sorting.</p>\n\n<p>Finally use <code>reverse = True</code> because default behavior of <code>sorted()</code> is to sort in ascending order,</p>\n\n<pre><code>data_sorted = sorted(data.items(), key= lambda x:x[1], reverse=True)\n</code></pre>\n\n<p>Now open a file and write to it.</p>\n\n<pre><code>with open(\"d:/scores.txt\",\"a\") as score_file:\n  for k,v in data_sorted:\n     score_file.write(\"{}, {}\\n\".format(k, v))\n</code></pre>\n\n<p>Quick summary of what is happening above.</p>\n\n<ul>\n<li>Create a dictionary to store your data.</li>\n<li>use <code>data.items()</code> to get data out of dictionary in form of list of tuple.</li>\n<li>use <code>sorted()</code> function to sort this list of tuple on index <code>1</code>.</li>\n<li>use <code>reverse = True</code> for descending order.</li>\n<li>use <code>with open</code> to open a file and write sorted data to it.</li>\n</ul>\n\n<p>Complete code,</p>\n\n<pre><code>data = {\"Ethan\": 15,\"James\": 20}\n\ndata_sorted = sorted(data.items(), key=lambda x: x[1], reverse=True)\n\nwith open(\"d:/scores.txt\", \"a\") as score_file:\n    for k, v in data_sorted: \n       score_file.write(\"{}, {}\\n\".format(k, v))\n</code></pre>\n\n<p>It will write to a file <code>scores.txt</code> in <code>d:/</code> drive (windows).</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "edited": false, "score": 0, "creation_date": 1541627023, "post_id": 53198090, "comment_id": 93285194, "body": "Thanks, I will check out that link."}], "tags": [], "owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1541626094, "creation_date": 1541626094, "answer_id": 53198090, "question_id": 53197783, "link": "https://stackoverflow.com/questions/53197783/how-do-i-put-values-in-an-external-files-in-size-order-using-python/53198090#53198090", "title": "How do I put values in an external files in size order using python?", "body": "<p>Maybe consider to create a dictionary and then you can sort of 'sort' the dictionary.</p>\n\n<p>Here is a link with an example:\n<a href=\"https://docs.python.org/3/howto/sorting.html\" rel=\"nofollow noreferrer\">How to sort python dictionary by keys</a></p>\n\n<p>Example code is: </p>\n\n<pre><code>keylist = mydict.keys()\nkeylist.sort()\nfor key in keylist:\nprint \"%s: %s\" % (key, mydict[key])\n</code></pre>\n\n<p>Otherwise, there is also the function 'sorted' which sorts however the key, so in your case the names. </p>\n\n<p>Lastly, there is a good website from python.org:</p>\n\n<p><a href=\"https://docs.python.org/3/howto/sorting.html\" rel=\"nofollow noreferrer\">How To: sorting</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10620515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RQIEOCMkk34/AAAAAAAAAAI/AAAAAAAACbc/cphAReFcdc8/photo.jpg?sz=128", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/10620515/thatdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1541628373, "creation_date": 1541624620, "last_edit_date": 1541628373, "question_id": 53197783, "link": "https://stackoverflow.com/questions/53197783/how-do-i-put-values-in-an-external-files-in-size-order-using-python", "title": "How do I put values in an external files in size order using python?", "body": "<p>I am trying to create a leader board for a quiz that I am creating. I have wrote the code to write the users name and their score in an external file, and they are currently in the order of which they were sent there, like so:</p>\n\n<pre><code>Ethan, 15\nJames, 20\nDaniel, 7\n</code></pre>\n\n<p>I want to put them into size order so they look like so:</p>\n\n<pre><code>James, 20\nEthan, 15\nDaniel, 7\n</code></pre>\n\n<p>I have spent quite while trying to figure it out but I am having a lot of trouble. I would really appreciate it if someone could help.</p>\n\n<p>This is the code I am using to send the data to an external file:</p>\n\n<pre><code>file = open(\"Scores.txt\",\"a\")\nfile.write(supplied_Username)\nfile.write(\",\")\nfile.write(str(score))\nfile.write(\"\\n\")\nfile.close()\n</code></pre>\n"}, {"tags": ["python", "docker", "volume"], "comments": [{"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 2, "creation_date": 1541637733, "post_id": 53197738, "comment_id": 93288481, "body": "The <code>pfdfolder</code> in your service definition doesn&#39;t match <code>pdffolder</code> in the top-level volumes block; it looks like that should <a href=\"https://github.com/docker/compose/blob/master/compose/config/validation.py#L107\" rel=\"nofollow noreferrer\">produce a startup error</a>.  The paths you provide also look suspicious (forward vs. back slash, relative vs. absolute path).  Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the issue?"}, {"owner": {"reputation": 61, "user_id": 8779545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/704427b91541019f856c04f111419620?s=128&d=identicon&r=PG&f=1", "display_name": "Derilius", "link": "https://stackoverflow.com/users/8779545/derilius"}, "reply_to_user": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 1, "creation_date": 1541940562, "post_id": 53197738, "comment_id": 93382689, "body": "I changed the original question. There were indeed some problems in the spelling of &#39;pdffolder&#39;. I fixed that. I also changed the way that the paths are defined in the python code. I&#39;m used to developing on windows and realised that defining paths on linux is done differently. Just to be sure, I used os.path.join. I&#39;m still facing the problem that the consumer container can&#39;t find the file that was saved to the shared volume."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 8779545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/704427b91541019f856c04f111419620?s=128&d=identicon&r=PG&f=1", "display_name": "Derilius", "link": "https://stackoverflow.com/users/8779545/derilius"}, "is_accepted": true, "score": 0, "last_activity_date": 1541972049, "creation_date": 1541972049, "answer_id": 53253452, "question_id": 53197738, "link": "https://stackoverflow.com/questions/53197738/shared-volume-between-docker-containers-with-python-code/53253452#53253452", "title": "Shared volume between Docker containers with python code", "body": "<p>I think I figured out what was wrong. I used the following in both the Dockerfiles for the producer and consumer:</p>\n\n<pre><code>FROM python:3.7-slim\nWORKDIR /main\nADD . /main\nRUN pip install --trusted-host pypi.python.org -r requirements.txt\nCMD [\"python\", \"-u\", \"main.py\"]\n</code></pre>\n\n<p>Because I moved the python code to the /main folder in both containers, the temp folder created later (via docker-compose) was to be found at /main/temp, and not just /temp. A little bit weird because the main.py should be at the same level as /temp, but hey it works. I got it working with the following docker-compose.yml:</p>\n\n<pre><code>version: \"2\"\n\nservices:\n    rabbitmq:\n        image: username/rabbitmq\n        ports:\n            - 15672:15672\n            - 5672:5672\n    producer:\n        image: username/producer\n        depends_on:\n            - rabbitmq\n        volumes:\n            - pdffolder:/main/temp\n    consumer:\n        image: username/consumer\n        depends_on:\n            - producer\n        volumes:\n            - pdffolder:/main/temp\nvolumes:\n    pdffolder:\n</code></pre>\n\n<p>So i guess the steps to debugging this are:</p>\n\n<ul>\n<li>Check the spelling of all mentions of volumes in the docker-compose.yml file</li>\n<li>Check the way paths are being built/referenced in the python code (Linux uses a different format to windows)</li>\n<li>Check if the paths that have to be accessed from the python code actually exist</li>\n</ul>\n"}], "owner": {"reputation": 61, "user_id": 8779545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/704427b91541019f856c04f111419620?s=128&d=identicon&r=PG&f=1", "display_name": "Derilius", "link": "https://stackoverflow.com/users/8779545/derilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1434, "favorite_count": 0, "accepted_answer_id": 53253452, "answer_count": 1, "score": 1, "last_activity_date": 1541972049, "creation_date": 1541624445, "last_edit_date": 1541941417, "question_id": 53197738, "link": "https://stackoverflow.com/questions/53197738/shared-volume-between-docker-containers-with-python-code", "title": "Shared volume between Docker containers with python code", "body": "<p>Maybe i'm going at it wrong, but i can't seem to get a shared volume working between two docker containers running custom python code.</p>\n\n<p>I'm using the following docker-compose.yml:</p>\n\n<pre><code>version: \"2\"\n\nservices:\n    rabbitmq:\n        image: username/rabbitmq\n        ports:\n            - 15672:15672\n            - 5672:5672\n    producer:\n        image: username/producer\n        depends_on:\n            - rabbitmq\n        volumes:\n            - pdffolder:/temp\n    consumer:\n        image: username/consumer\n        depends_on:\n            - producer\n        volumes:\n            - pdffolder:/temp\nvolumes:\n    pdffolder:\n</code></pre>\n\n<p>The idea is that the producer service polls an exchange server for information and a pdf-file. The consumer service then has to send this information and pdf-file elsewhere. During this action I have to store the pdf locally temporally.</p>\n\n<p>I access the volumes from the custom python-code like this:</p>\n\n<p>producer</p>\n\n<pre><code># attachment = object I get when requesting attachments from an exchange server\n\n# path to pdf to be saved\npdf_path = os.path.join(\"temp\", attachment.name)\n\nwith open(pdf_path, 'wb') as f:\n    f.write(attachment.content)\n\n# now in this container, /temp/attachment.pdf exists. I then send this path in a message to the consumer (along with other information)\n</code></pre>\n\n<p>consumer</p>\n\n<pre><code># consumer tries to find path created by producer (/temp/attachment.pdf) via\npdf_path = os.path.join(\"temp\", \"attachment.pdf\")\n</code></pre>\n\n<p>Via the command line i can see that the producer-container is writing the files to temp/attachment.pdf like expected. The consumer-container however sees no files (resulting in errors).</p>\n\n<p>Btw, I am running the containers on docker for windows</p>\n"}, {"tags": ["python", "python-docx"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6656054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed874bbf77e40336cb706586eb82ba90?s=128&d=identicon&r=PG&f=1", "display_name": "Mad.Y", "link": "https://stackoverflow.com/users/6656054/mad-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1545433962, "creation_date": 1545433962, "answer_id": 53891748, "question_id": 53197716, "link": "https://stackoverflow.com/questions/53197716/adding-column-to-left-hand-side-of-table-python-docx/53891748#53891748", "title": "Adding column to left hand side of table - Python docx", "body": "<p>You can try LTR,  and also use Inches to define the column width so that the added column can be displayed correctly. </p>\n\n<pre><code>import docx\nfrom docx.enum.table import WD_TABLE_DIRECTION\nfrom docx.shared import Cm, Inches\n\nfile = 'test.docx'\ndoc = docx.Document(file)\ntbls = doc.tables \ntest = tbls[1]\ntest.table_direction = WD_TABLE_DIRECTION.LTR\ntest.add_column(Inches(1.0))\ndoc.save(file)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3601744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f912bd12b003352616f684b59545c29b?s=128&d=identicon&r=PG&f=1", "display_name": "Brill", "link": "https://stackoverflow.com/users/3601744/brill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545433962, "creation_date": 1541624348, "question_id": 53197716, "link": "https://stackoverflow.com/questions/53197716/adding-column-to-left-hand-side-of-table-python-docx", "title": "Adding column to left hand side of table - Python docx", "body": "<p>I have searched high and low (on various forums) and simply can't find the answer. I have a table in a docx file and would like to use the docx Python module to modify it.\nI need to add a column to the left side of the table. According to the documentation, using the add_column() function adds a column to the right side of the table.\nI have also tried changing the directionality of the table to a RTL table with the following code:</p>\n\n<pre><code>import docx\nfrom docx.enum.table import WD_TABLE_DIRECTION\n\nfile = test.docx\ndoc = docx.Document(file)\ntbls = doc.tables #this gives me 3 tables in a list of table objects\ntest = tbls[1]\ntest.table_direction = WD_TABLE_DIRECTION.RTL\ntest.add_column(1)\ndoc.save(file)\n</code></pre>\n\n<p>Upon opening the resulting file, I found that the code still adds a column only to the left side.\nDoes someone know how to add a column to the right side of a table?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["python", "multithreading", "constructor", "thread-safety", "python-multithreading"], "comments": [{"owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "edited": false, "score": 0, "creation_date": 1541624423, "post_id": 53197675, "comment_id": 93284012, "body": "probably because the time to initialize the thread took just as long to print the output"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8959296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YJbd.png?s=128&g=1", "display_name": "Parsa Fakhar", "link": "https://stackoverflow.com/users/8959296/parsa-fakhar"}, "edited": false, "score": 0, "creation_date": 1541686652, "post_id": 53197834, "comment_id": 93307063, "body": "test test test Send Send Send Send Receive Receive Receive Receive Nothing Nothing Nothing Nothing, that&#39;s the result every time , is it threading? since I&#39;m not getting a mixed of &quot;Receive&quot; and &quot;Nothing&quot; and &quot;Send&quot;"}, {"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "reply_to_user": {"reputation": 43, "user_id": 8959296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YJbd.png?s=128&g=1", "display_name": "Parsa Fakhar", "link": "https://stackoverflow.com/users/8959296/parsa-fakhar"}, "edited": false, "score": 0, "creation_date": 1541695467, "post_id": 53197834, "comment_id": 93312455, "body": "It&#39;s because of the ability of CPU to execute each thread quick enough so it looks like serial execution. One thing you can do is to increase the number of loop cycles and another is to force each thread to suspend for a randomly generated amount of time e.g. <code>time.sleep(random.random())</code>. Make sure to import the <code>time</code> and <code>random</code> modules for the latter option. Place <code>time.sleep(random.random())</code> in the <code>for</code> loop, before the <code>print</code> statement."}], "tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1541625190, "last_edit_date": 1541625190, "creation_date": 1541624869, "answer_id": 53197834, "question_id": 53197675, "link": "https://stackoverflow.com/questions/53197675/thread-and-init-at-the-same-time-how-it-works/53197834#53197834", "title": "Thread and init at the same time (how it works?)", "body": "<p>You need to get a reference to the current thread running and set its name. Then you can use that reference to print its name. Notice the changes in constructor and <code>run</code> method. As for the effect of serial execution, is due to the ability of each thread to be executed fast enough and finish before another takes place, because of the small amount of loop cycles:</p>\n\n<pre><code>import threading\n\nclass BuckyMessenger(threading.Thread):\n    def __init__(self, name):\n        threading.Thread.__init__(self)\n        self.name = name\n        print(\"test\")\n\n    def run(self):\n        curThread = threading.current_thread()\n        curThread.name = self.name\n        for _ in range(4):\n            print(curThread.name)\n\nx = BuckyMessenger(name='Send')\ny = BuckyMessenger(name='Receive')\nz = BuckyMessenger(name='Nothing')\nx.start()\ny.start()\nz.start()\n</code></pre>\n\n<p>Possible Output:</p>\n\n<pre><code>test\ntest\ntest\nSend\nSend\nSend\nSend\nReceive\nNothing\nNothing\nReceive\nNothing\nNothing\nReceive\nReceive\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 90, "user_id": 10608514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b267e06f817c5ddbd589b83539ddf44?s=128&d=identicon&r=PG&f=1", "display_name": "mhoffman2016", "link": "https://stackoverflow.com/users/10608514/mhoffman2016"}, "is_accepted": false, "score": 0, "last_activity_date": 1541624998, "creation_date": 1541624998, "answer_id": 53197856, "question_id": 53197675, "link": "https://stackoverflow.com/questions/53197675/thread-and-init-at-the-same-time-how-it-works/53197856#53197856", "title": "Thread and init at the same time (how it works?)", "body": "<p>Your initializer does not set the passed <code>name</code> to the <code>BuckyMessanger</code>. This is because you override the original <code>Thread.__init__()</code>, which handles <code>name</code> as you would expect. The default names for the threads are <code>Thread-1</code> and so on, in the respective order they are created. Change your initializer to something like the following to override the defaults:</p>\n\n<pre><code>def __init__(self, name):\n        threading.Thread.__init__(self)\n        self.name = name\n        print(\"test\")\n</code></pre>\n\n<p>As for why they are printed in that order, <code>BuckyMessanger.run()</code> runs after each <code>start()</code> and finishes before the next <code>start()</code> is called.</p>\n"}], "owner": {"reputation": 43, "user_id": 8959296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7YJbd.png?s=128&g=1", "display_name": "Parsa Fakhar", "link": "https://stackoverflow.com/users/8959296/parsa-fakhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 53197834, "answer_count": 2, "score": 1, "last_activity_date": 1541671590, "creation_date": 1541624139, "question_id": 53197675, "link": "https://stackoverflow.com/questions/53197675/thread-and-init-at-the-same-time-how-it-works", "title": "Thread and init at the same time (how it works?)", "body": "<p>I recently started to study threads and I know it is about multiple processing stuff I just don't get why this is happening</p>\n\n<pre><code>import threading\n\nclass BuckyMessenger(threading.Thread):\n    def __init__(self, name):\n        threading.Thread.__init__(self)\n        print(\"test\")\n\n    def run(self):\n        for _ in range(4):\n            print(threading.current_thread().getName())\n\n    x = BuckyMessenger(name='Send')\ny = BuckyMessenger(name='Receive')\nz = BuckyMessenger(name='Nothing')\nx.start()\ny.start()\nz.start()\n</code></pre>\n\n<p><strong>I Expected this to happen:</strong></p>\n\n<pre><code>test\nSend\ntest\nReceive\ntest\nNothing\n</code></pre>\n\n<p>from here on, I should have gotten 9 more prints of 3 random \"Send\" and 3 random \"Receive\" and 3  Random \"Nothing\", like the following: (rest of the  results)</p>\n\n<pre><code>Send\nReceive \nNothing \nNothing\nNothing\nSend\nReceive \nReceive \nsend\n</code></pre>\n\n<p><strong>But this is the result I got:</strong>\nI  mean why? why python acts this way?</p>\n\n<pre><code>test\ntest\ntest\nThread-1\nThread-1\nThread-1\nThread-1\nThread-2\nThread-2\nThread-2\nThread-2\nThread-3\nThread-3\nThread-3\nThread-3\n</code></pre>\n"}, {"tags": ["python", "package", "conda", "importerror"], "comments": [{"owner": {"reputation": 1793, "user_id": 6398487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1013337205416693/picture?type=large", "display_name": "Jason", "link": "https://stackoverflow.com/users/6398487/jason"}, "edited": false, "score": 0, "creation_date": 1541624296, "post_id": 53197674, "comment_id": 93283969, "body": "related question found here with better case description (<a href=\"https://stackoverflow.com/questions/51461944/cannot-import-packages-installed-in-new-conda-environment#comment93283513_51461944\" title=\"cannot import packages installed in new conda environment%23comment93283513_51461944\">stackoverflow.com/questions/51461944/&hellip;</a>). But I want to know how to append to sys.path in this situation."}, {"owner": {"reputation": 13817, "user_id": 1005215, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33a92149e35c60382fa24bcc2b20722e?s=128&d=identicon&r=PG", "display_name": "Nehal J Wani", "link": "https://stackoverflow.com/users/1005215/nehal-j-wani"}, "edited": false, "score": 0, "creation_date": 1541916330, "post_id": 53197674, "comment_id": 93377486, "body": "Please visit at least one tutorial to see which imports are actually valid <a href=\"https://build-system.fman.io/pyqt5-tutorial\" rel=\"nofollow noreferrer\">build-system.fman.io/pyqt5-tutorial</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "is_accepted": false, "score": 2, "last_activity_date": 1541690460, "creation_date": 1541690460, "answer_id": 53210792, "question_id": 53197674, "link": "https://stackoverflow.com/questions/53197674/python-found-no-module-named-package-that-is-installed-with-conda-install/53210792#53210792", "title": "Python found No module named package that is installed with conda install", "body": "<p>The issue is that you're using the wrong module name.  The correct import statement for <code>pyqt</code> is </p>\n\n<pre><code>import PyQt5\n</code></pre>\n\n<p>or whatever version you installed.</p>\n"}], "owner": {"reputation": 1793, "user_id": 6398487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1013337205416693/picture?type=large", "display_name": "Jason", "link": "https://stackoverflow.com/users/6398487/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541690460, "creation_date": 1541624137, "question_id": 53197674, "link": "https://stackoverflow.com/questions/53197674/python-found-no-module-named-package-that-is-installed-with-conda-install", "title": "Python found No module named package that is installed with conda install", "body": "<p>I do notice there are some similar question asked by different people about why python couldn't locate the packages that are installed using <code>conda install</code> command in their conda environment.</p>\n\n<p>Take pyqt for example.</p>\n\n<p>1 I create conda environment:\n<code>conda create -n myenv python=2.7 pip</code></p>\n\n<p>2 Activate environment:\n<code>source activate myenv</code></p>\n\n<p>3 install packages:\n<code>conda install pyqt</code></p>\n\n<p>4 run python:\n<code>python</code>\n<code>import pyqt</code></p>\n\n<p>Error report:\nImportError: No module named pyqt</p>\n\n<p>5 check out packages installed:\n<code>pip list</code> doesn't give pyqt\nbut <code>conda list</code> will show pyqt installed</p>\n\n<p>6 I just noticed that the <code>\"conda install\" packges are under /env/conda-meta</code>, but <code>\"pip install\" packges are under env/lib/python2.7/site-packages (and bunch paths sys.path gives)</code>. </p>\n\n<p>If we could simply append the /env/conda-meta to the path, it'll be great, but after appending operation, I eixt() python and re-run python, checking out the sys.path again, the /env/conda-meta is not there anymore.</p>\n\n<p>Does anyone know how to solve it?</p>\n"}, {"tags": ["python", "pdf", "pypdf"], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 3806464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a5a9cde04aba20047a9f508a530c28?s=128&d=identicon&r=PG&f=1", "display_name": "krflol", "link": "https://stackoverflow.com/users/3806464/krflol"}, "is_accepted": false, "score": 0, "last_activity_date": 1541624614, "creation_date": 1541624614, "answer_id": 53197780, "question_id": 53197642, "link": "https://stackoverflow.com/questions/53197642/center-the-page-number-in-a-footer-using-pypdf/53197780#53197780", "title": "Center the page number in a footer using PyPDF", "body": "<p>You Could make your cell the same size as the page so that the</p>\n\n<pre><code>self.cell()\n</code></pre>\n\n<p>can center it to that size/orientation </p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "edited": false, "score": 0, "creation_date": 1541625627, "post_id": 53197845, "comment_id": 93284577, "body": "Worked perfect, thanks so much. Out of curiosity, why was the right justified time placing correctly if the left justified text took up the whole page width?"}, {"owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "reply_to_user": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "edited": false, "score": 0, "creation_date": 1541627380, "post_id": 53197845, "comment_id": 93285331, "body": "After you placed the first box (which took up the whole width), the centered box and right-justified box both were forced to be jammed into the end of the line. This isn&#39;t a problem for something that is right-justified (since it forces it all the way to the right anyway.) Does that make sense?"}, {"owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "reply_to_user": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "edited": false, "score": 0, "creation_date": 1541635302, "post_id": 53197845, "comment_id": 93287931, "body": "@KieranPaddock did you delete your other question where I directed you to PyPDF?"}, {"owner": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "edited": false, "score": 0, "creation_date": 1541695507, "post_id": 53197845, "comment_id": 93312476, "body": "That makes sense, thanks. And I didn&#39;t delete it, I just looked at it and for some reason all the comments/answers are gone, though I didn&#39;t touch the post."}, {"owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "reply_to_user": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "edited": false, "score": 1, "creation_date": 1541699478, "post_id": 53197845, "comment_id": 93314502, "body": "@KieranPaddock Ahh, ok. Looks like a mod deleted my answer -- presumably because it was only a link? That&#39;s why I couldn&#39;t find it in my history. However, I still think it was a useful question and answer pair so I reposted an answer with a simple demo, for what it&#39;s worth."}], "tags": [], "owner": {"reputation": 784, "user_id": 6064179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5a75261a58000618815040627fab24c?s=128&d=identicon&r=PG&f=1", "display_name": "killian95", "link": "https://stackoverflow.com/users/6064179/killian95"}, "is_accepted": true, "score": 2, "last_activity_date": 1541624928, "creation_date": 1541624928, "answer_id": 53197845, "question_id": 53197642, "link": "https://stackoverflow.com/questions/53197642/center-the-page-number-in-a-footer-using-pypdf/53197845#53197845", "title": "Center the page number in a footer using PyPDF", "body": "<p>I think the issue is with how you are setting cell width. PyPDF by default places cells sequentially, starting at the far right of the previously placed cell. When you call <code>self.cell()</code>, the first argument is width -- by default if width is 0, it makes the width extend to the far right of the page. So when you place <code>self.cell(0, 5, \"Clinical Report: Confidential\", 0, 0, 'L')</code>, that text box is extending all the way to the right of the page. Then when you try to place <code>self.cell(0, 5, page, 0, 0, 'C')</code>, it is centering it in the remaining space on that line -- but there is no space left so it just places it at the end. Try giving your first cell some width like this:</p>\n\n<pre><code>def footer(self):\n    genDateTime = \"Report generated on: \" + datetime.datetime.now().strftime('%m/%d/%Y %I:%M:%S %p')\n    page = 'Page ' + str(self.page_no()) + '/{nb}'\n\n    self.set_y(-10)\n    self.set_font('Arial', '', 9)\n\n    self.cell(5, 5, \"Clinical Report: Confidential\", 0, 0, 'L')\n    self.cell(0, 5, page, 0, 0, 'C')\n    self.cell(0, 5, genDateTime, 0, 0, 'R')\n</code></pre>\n\n<p>You might have to make the width greater than 5 to display all your text, but you can play with that.</p>\n"}], "owner": {"reputation": 357, "user_id": 5095643, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1700938676784883/picture?type=large", "display_name": "Kieran Paddock", "link": "https://stackoverflow.com/users/5095643/kieran-paddock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 53197845, "answer_count": 2, "score": 0, "last_activity_date": 1541624928, "creation_date": 1541624001, "question_id": 53197642, "link": "https://stackoverflow.com/questions/53197642/center-the-page-number-in-a-footer-using-pypdf", "title": "Center the page number in a footer using PyPDF", "body": "<p>I'm using PyPDF to create a formatted report. I want the page number (e.g. Page 1 of 3) to be centered in the footer, pretty much exactly how the PyPDF tutorial shows. <a href=\"https://www.blog.pythonlibrary.org/2018/06/05/creating-pdfs-with-pyfpdf-and-python/\" rel=\"nofollow noreferrer\">Here's the tutorial I'm referencing.</a></p>\n\n<p>Below is the code I put in the footer method:</p>\n\n<pre><code>def footer(self):\n    genDateTime = \"Report generated on: \" + datetime.datetime.now().strftime('%m/%d/%Y %I:%M:%S %p')\n    page = 'Page ' + str(self.page_no()) + '/{nb}'\n\n    self.set_y(-10)\n    self.set_font('Arial', '', 9)\n\n    self.cell(0, 5, \"Clinical Report: Confidential\", 0, 0, 'L')\n    self.cell(0, 5, page, 0, 0, 'C')\n    self.cell(0, 5, genDateTime, 0, 0, 'R')\n</code></pre>\n\n<p>Here is a screenshot of the bottom of the page. As you can see, the Confidential and DateTime labels are showing up as expected, but the Page # label is right justified:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m6o9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m6o9g.png\" alt=\"Screenshot\"></a></p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "jupyter-notebook", "nltk"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541625408, "post_id": 53197625, "comment_id": 93284478, "body": "Example 1 &amp; Example 2 should not work. <code>FreqDist()</code> is a method of the <code>nltk</code> package, so those examples should also have from <code>nltk import FreqDist</code> somewhere in the code for them to work (should get error <code>NameError: name &#39;FreqDist&#39; is not defined</code>), otherwise the syntax <code>nltk.FreqDist()</code> should work and you may want to keep using this syntax to avoid confusion."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541625427, "post_id": 53197625, "comment_id": 93284485, "body": "Also,  what error message did you get? Please <a href=\"https://stackoverflow.com/posts/53197625/edit\">edit</a> include full text of errors in the question if the above suggestion does not help."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541625630, "post_id": 53197625, "comment_id": 93284579, "body": "Are you sure Example 1 worked just fine? Essentially it is identical to code in Example 2.."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541625811, "post_id": 53197625, "comment_id": 93284670, "body": "You may want to review <a href=\"https://docs.python.org/2/tutorial/modules.html#more-on-modules\" rel=\"nofollow noreferrer\">Python Modules</a>."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541625852, "post_id": 53197625, "comment_id": 93284686, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13476748/i-get-an-error-message-when-i-try-freqdist-in-nltk-nameerror-name-nltk-i\">I get an error message when I try FreqDist() in NLTK -- NameError: name &#39;nltk&#39; is not defined</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10590668"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541626388, "post_id": 53197625, "comment_id": 93284915, "body": "Included the error message above - Yes, I guess you&#39;re right and I&#39;ll include the <code>nltk import FreqDist</code> in the future. However, I&#39;m still wondering why it still worked in one file and not in the other one and I&#39;m working on them simultaneously. So, I just wanted to figure out whether there are some special rules I&#39;m not aware of."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1541626585, "post_id": 53197625, "comment_id": 93285019, "body": "Unless you leaving some parts out, the code in the first one does <b><i>not</i></b> work, see Demo here: <a href=\"https://repl.it/@downshift/WelloffSuddenArchive\" rel=\"nofollow noreferrer\">repl.it/@downshift/WelloffSuddenArchive</a> . If you can edit and show us how it <b><i>is</i></b> working for you that may help us diagnose the problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10590668"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1541628091, "post_id": 53197625, "comment_id": 93285644, "body": "Found the problem -beginners mistake. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": false, "score": 1, "last_activity_date": 1541662761, "creation_date": 1541662761, "answer_id": 53203219, "question_id": 53197625, "link": "https://stackoverflow.com/questions/53197625/when-using-nltk-before-a-nltk-function/53203219#53203219", "title": "When using nltk. before a nltk function", "body": "<p>Cite from <code>import this</code>:</p>\n\n<blockquote>\n  <p>Namespaces are one honking great idea -- let's do more of those!</p>\n</blockquote>\n\n<p>And from <a href=\"https://en.wikipedia.org/wiki/Namespace\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>In general when a module is imported then the names defined in the module are defined via that module's name space, and are accessed in from the calling modules by using the fully qualified name.</p>\n</blockquote>\n\n<p>For example, in Python, instead of:</p>\n\n<pre><code>import nltk\nnltk.pos_tag(nltk.word_tokenize('This is a sentence.'))\n</code></pre>\n\n<p>You can import do this:</p>\n\n<pre><code>from nltk import word_tokenize, pos_tag\npos_tag(word_tokenize('This is a sentence.'))\n</code></pre>\n\n<p>Going back to the question, somewhere above there should be <code>FreqDist</code> imported like such:</p>\n\n<pre><code>from nltk import FreqDist\n</code></pre>\n\n<p>so that you can see <code>FreqDist</code> without the \"fully qualified\" <code>nltk.FreqDist</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10590668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1541662761, "creation_date": 1541623913, "last_edit_date": 1541625524, "question_id": 53197625, "link": "https://stackoverflow.com/questions/53197625/when-using-nltk-before-a-nltk-function", "title": "When using nltk. before a nltk function", "body": "<p>I'm new to python and using nltk, so actually I have a very basic question, but couldn't find an answer anywhere to this. </p>\n\n<p>I'm wondering when to use <code>nltk.</code> before a function of the nltk module. I was working on some task and in some cases it worked without using it and in some it didn't. I'm using Jupyter Notebook. (In the examples I only wrote what I imported and the final command).</p>\n\n<p>Example 1:</p>\n\n<pre><code>import nltk \nprint (FreqDist(words).most_common(10))\n</code></pre>\n\n<p>This worked perfectly fine.</p>\n\n<p>Example 2:</p>\n\n<pre><code>import nltk\nimport math\n\nprint (FreqDist(words).most_common(10))\n</code></pre>\n\n<p>gives an error message</p>\n\n<pre><code>NameError                                 Traceback (most recent call last)\n&lt;ipython-input-21-e68f77c40897&gt; in &lt;module&gt;()\n----&gt; 1 print (FreqDist(file_words).most_common(10))\n\nNameError: name 'FreqDist' is not defined\n</code></pre>\n\n<p>if I insert the nltk before the FreqDist it works</p>\n\n<pre><code>print (nltk.FreqDist(words).most_common(10))\n</code></pre>\n\n<p>Is it not working without <code>nltk.</code> in the second example because I imported two modules? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list", "primes"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 2, "creation_date": 1541623903, "post_id": 53197603, "comment_id": 93283770, "body": "<code>if x%i == 0:</code> \u2014 <code>x</code> is a list here, so <code>x%i</code> makes no sense. Whatever you&#39;re trying to do, this isn&#39;t the way to do it."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1541623918, "post_id": 53197603, "comment_id": 93283780, "body": "<code>x</code> is a list. What are you intending <code>x%i</code> to do?"}, {"owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541624081, "post_id": 53197603, "comment_id": 93283859, "body": "I want to iterate through the list to see if its a prime number. Would there be a better way of going about it?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1541625010, "post_id": 53197603, "comment_id": 93284294, "body": "To see if <i>what</i> is a prime number?  I&#39;m not sure what &quot;it&quot; is supposed to be in that sentence; your antecedent is &quot;the list&quot;, and a list cannot be a prime number.  There are quite a few algorithms for finding prime numbers; we&#39;re not sure which one you&#39;re trying to use, so we can&#39;t &quot;fix&quot; your code.  You might refer to any of the thousands of prime-number programs available on line."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1541625237, "post_id": 53197603, "comment_id": 93284399, "body": "You need to loop through all the numbers up to <code>sqrt(i)</code>, and test if <code>i % number == 0</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1541625353, "post_id": 53197603, "comment_id": 93284458, "body": "You should split <code>prime_number</code> into two functions. Write another function <code>is_this_number_prime()</code> that takes a single number as a parameter, and returns whether it&#39;s prime. Then <code>prime_number()</code> can loop through <code>x</code> and call <code>is_this_number_prime(i)</code>."}, {"owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541633044, "post_id": 53197603, "comment_id": 93287394, "body": "I tried adding a function <code>is_prime_number(x)</code> that would return only a True or False statement and then having that be called in the <code>prime_number(x)</code> function. (what <b>Jtcruthers</b> recommended) However, it still won&#39;t test if each integer in the list is a prime number."}, {"owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541700141, "post_id": 53197603, "comment_id": 93314834, "body": "I added a function however, it is returning only odd numbers. What am I doing wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541632274, "post_id": 53197975, "comment_id": 93287154, "body": "What is the &#39;n&#39; in the line &quot;if n%i ==0&quot;? Also I am still getting the same problem as the &#39;list&#39; object cannot be interpreted as an integer"}, {"owner": {"reputation": 518, "user_id": 3462671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faSHW.png?s=128&g=1", "display_name": "Jtcruthers", "link": "https://stackoverflow.com/users/3462671/jtcruthers"}, "reply_to_user": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541701962, "post_id": 53197975, "comment_id": 93315707, "body": "It was a typo, it meant to say num. I edited the code"}, {"owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541736707, "post_id": 53197975, "comment_id": 93326726, "body": "Thank you! How would I include the list of prime numbers to also include the number entered if its a prime number? Right now if I enter &quot;31&quot; as the integer, it only displays up to prime number &quot;29.&quot;"}, {"owner": {"reputation": 518, "user_id": 3462671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faSHW.png?s=128&g=1", "display_name": "Jtcruthers", "link": "https://stackoverflow.com/users/3462671/jtcruthers"}, "reply_to_user": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "edited": false, "score": 0, "creation_date": 1541776709, "post_id": 53197975, "comment_id": 93343635, "body": "The method <code>is_prime_number</code> is what checks the number you give it. <code>for i in range(2,num)</code> is where it gets the range of numbers to check. Num is the number you passed into the function to check. Since it is going to num - 1 (which is what range does), just do <code>for i in range(2,num+1)</code>"}], "tags": [], "owner": {"reputation": 518, "user_id": 3462671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faSHW.png?s=128&g=1", "display_name": "Jtcruthers", "link": "https://stackoverflow.com/users/3462671/jtcruthers"}, "is_accepted": true, "score": 0, "last_activity_date": 1541701943, "last_edit_date": 1541701943, "creation_date": 1541625562, "answer_id": 53197975, "question_id": 53197603, "link": "https://stackoverflow.com/questions/53197603/display-prime-numbers-from-a-list-in-python-error-saying-unsupported-operands/53197975#53197975", "title": "Display prime numbers from a list in python. Error saying unsupported operands", "body": "<p>The problem is you're trying to find the remainder of diving a list by a number. That is why you are getting the error: % is an unsupported operand for types list and int. I'd suggest breaking out the logic to determine if a number is prime, then in your for loop, call that method. If it returns true, add it to the prime numbers list. </p>\n\n<pre><code>def is_prime_number(num):\n    for i in range(2, num):\n        if num % i == 0:\n            return False\n    return True\n\ndef prime_number(x):\n    prime_numbers = []\n    for i in (x):\n        if is_prime_number(x):\n            prime_numbers.append(i)\n    return prime_numbers\n</code></pre>\n\n<p>You don't need parenthesis around lists, and since you aren't using the composite numbers list, you don't need to keep track of it. Pulling the logic into its own function helps make the code cleaner and easier to look at. Feel free to make optimizations to the prime number function as well</p>\n"}, {"tags": [], "owner": {"reputation": 2465, "user_id": 2570277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0483cce5f2ea53671a36477fed79898b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/2570277/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1541625726, "creation_date": 1541625726, "answer_id": 53198018, "question_id": 53197603, "link": "https://stackoverflow.com/questions/53197603/display-prime-numbers-from-a-list-in-python-error-saying-unsupported-operands/53198018#53198018", "title": "Display prime numbers from a list in python. Error saying unsupported operands", "body": "<p>I think your code could be improved by eliminating the modulo calculation and looping.It is also better to use a tried and tested algorithm for generating primes called the  <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a></p>\n\n<pre><code>def main():\n    user_integer = int(input('Please enter an integer greater than 1: '))\n    integer_list = list(range(2,user_integer))\n    prime_numbers = prime_number(integer_list)\n\n    #display prime numbers\n    print('The prime numbers up to the integer you entered are:', prime_numbers)\n\ndef prime_number(nums):\n    highest = nums[-1] + 1\n    sieve = [True] * (highest)\n    sieve[0:1] = [False, False]\n\n    for i in range(2, highest):\n        if sieve[i]:\n            for j in range(2 * i,highest,i):\n                sieve[j] = False\n    primes = []\n    for i in range(2, highest):\n        if sieve[i]:\n            primes.append(i)\n    return primes\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10620500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HkNsso7WupI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD8LGsjdYDbnQ1Gn3aogqr7eqRFRA/mo/photo.jpg?sz=128", "display_name": "Julian Castillo", "link": "https://stackoverflow.com/users/10620500/julian-castillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53197975, "answer_count": 2, "score": 0, "last_activity_date": 1541701943, "creation_date": 1541623785, "last_edit_date": 1541700035, "question_id": 53197603, "link": "https://stackoverflow.com/questions/53197603/display-prime-numbers-from-a-list-in-python-error-saying-unsupported-operands", "title": "Display prime numbers from a list in python. Error saying unsupported operands", "body": "<p>I am trying to create a program that gets an integer from the user and then creates a list of integers starting after 1 to the integer the user inputed. For example, if the user inputs \"8\", then a list will be created [2, 3, 4, 5, 6, 7, 8]. After that I want it to go through each integer of the list and display only the prime numbers up to (or including) the user input. </p>\n\n<pre><code>def main():\n    #get user input of integer\n    user_integer = int(input('Please enter an integer greater than 1: '))\n    #call function that creates list of numbers up to user input\n    integer_list = create_list(user_integer)\n    #call function that returns prime numbers\n    prime_numbers = prime_number(integer_list)\n    #display prime numbers\n    print('The prime numbers up to the integer you entered are:', prime_numbers)\n\ndef create_list(x):\n    integer_list = []\n    numbers = 2\n    while numbers != x:\n        integer_list.append(numbers)\n        numbers += 1\n    return integer_list\n\ndef is_prime_number(num):\n    for i in range(2,num):\n        if num%i==0:\n             return False\n        else:\n             return True\n\ndef prime_number(x):\n    prime_numbers = []\n    for i in (x):\n        if is_prime_number(i):\n            prime_numbers.append(i)\n\n    return (prime_numbers)\n\nmain()\n</code></pre>\n\n<p>Edit: I edited the code to include a function that tests each number individually if its a prime number. However, it seems to be returning only odd numbers rather than prime numbers. For example, if I enter \"13\" it returns a list of [3, 5, 7, 9, 11]. Obviously 9 is not a prime number. </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1541623832, "post_id": 53197580, "comment_id": 93283738, "body": "What have you tried? What specifically do you need help with?"}, {"owner": {"reputation": 23, "user_id": 9745477, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204651096554133/picture?type=large", "display_name": "Rauno Ehasalu", "link": "https://stackoverflow.com/users/9745477/rauno-ehasalu"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1541623992, "post_id": 53197580, "comment_id": 93283817, "body": "@Carcigenicate - I just know how the program should work, but have no idea how to build it..."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 4, "creation_date": 1541624101, "post_id": 53197580, "comment_id": 93283870, "body": "This is far too broad for here then. This site is for helping you with existing, broken code. If you need general help, Reddit&#39;s <code>r&#47;learnprogramming</code> might be a good place to check out. Note though, most places you visit will require you to specify what exactly you need help with. &quot;How do I start this&quot; is pretty broad, even on sites with a broad focus."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1541625061, "post_id": 53197580, "comment_id": 93284321, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>, and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">... the perfect question</a> apply here. StackOverflow is not a design, coding, research, or tutorial resource. However, if you follow whatever resources you find on line, make an honest coding attempt, and run into a problem, you&#39;d have a good example to post."}, {"owner": {"reputation": 2123, "user_id": 7904315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1e59815b9d4466a8c1527486380128?s=128&d=identicon&r=PG&f=1", "display_name": "vencaslac", "link": "https://stackoverflow.com/users/7904315/vencaslac"}, "edited": false, "score": 0, "creation_date": 1541625806, "post_id": 53197580, "comment_id": 93284666, "body": "you are not far off the mark, take a look at your other thread and read the solutions carefully, you&#39;ll get it eventually"}], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 10651242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wN3qh.png?s=128&g=1", "display_name": "hhaefliger", "link": "https://stackoverflow.com/users/10651242/hhaefliger"}, "is_accepted": false, "score": 0, "last_activity_date": 1542199791, "creation_date": 1542199791, "answer_id": 53300659, "question_id": 53197580, "link": "https://stackoverflow.com/questions/53197580/giving-out-1000-answers-at-the-same-time-in-while-loop/53300659#53300659", "title": "Giving out 1000 answers at the same time in while loop", "body": "<p>You could write a program such as this:</p>\n\n<pre><code>import random\npercentage_accuracy = int(input(\"Input throwing accuracy here: \"))\nhits = 0\nthrows = 1\nwhile throws &lt;= 1000:\n    if random.randint(1, 100) &lt;= percentage_accuracy:\n        hits += 1\n        print(\"{}: Hit\".format(x))\n    else:\n        print(\"{}: Miss\".format(x))\n    throws += 1\nprint(\"\")\nprint(\"Player results:\")\nprint(\"{} Hits\".format(hits))\nprint(\"{} Misses\".format(1000-hits))\n</code></pre>\n\n<p>it would be more efficient to use a for loop such as:</p>\n\n<pre><code>for throws in range(1,1001):\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>throws = 1\nwhile throws &lt;= 1000:\n    throws += 1\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9745477, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204651096554133/picture?type=large", "display_name": "Rauno Ehasalu", "link": "https://stackoverflow.com/users/9745477/rauno-ehasalu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1542199791, "creation_date": 1541623717, "question_id": 53197580, "link": "https://stackoverflow.com/questions/53197580/giving-out-1000-answers-at-the-same-time-in-while-loop", "title": "Giving out 1000 answers at the same time in while loop", "body": "<p>(I'm starting to hate already <code>while</code> in my school work...)</p>\n\n<p>My issue now is, that I need to create a program where it asks from user a percentage for basketball throwing accuracy. And simulates 1000 throws - for every answer it gives hit or missed in result.</p>\n\n<p>The example for program work if user enters 45 as percentage</p>\n\n<pre><code>throwing_accuracy = int(input(\"Enter throwing percentage\")): 45\n\n#Somewhere here would be while :\n1. Throw hit\n2. Throw hit\n3. Throw hit\n5. Throw missed\n#.........#\n999. Throw hit\n1000. Throw hit\n   #And then prints also a result how many hits there were\nThere were 458 hits\n</code></pre>\n\n<p>The program must be built using <code>while</code>, I read some hints that could use <code>if</code> and <code>else</code> statements and should <code>from random import randint</code> because there could be possibility to use a line <code>if randint(1,100) &lt;= percentage</code></p>\n"}, {"tags": ["python", "gimp", "gimpfu"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 8148972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af98ed4ed1d2a41f2a1bc4edf6e4e12b?s=128&d=identicon&r=PG&f=1", "display_name": "bpilling", "link": "https://stackoverflow.com/users/8148972/bpilling"}, "edited": false, "score": 0, "creation_date": 1541705583, "post_id": 53209824, "comment_id": 93317319, "body": "Thank you! I discovered the CHANNEL_OP_REPLACE needing underscores caused the script to not work, fixing this meant the script ran. The other points mentioned have been very helpful, thank you."}], "tags": [], "owner": {"reputation": 5658, "user_id": 6378557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/GVoNt.png?s=128&g=1", "display_name": "xenoid", "link": "https://stackoverflow.com/users/6378557/xenoid"}, "is_accepted": true, "score": 2, "last_activity_date": 1541687441, "creation_date": 1541687441, "answer_id": 53209824, "question_id": 53197572, "link": "https://stackoverflow.com/questions/53197572/gimp-python-fill-path-vector-with-color/53209824#53209824", "title": "GIMP Python - Fill Path/Vector with color", "body": "<p>It's a trap... <code>pdb.gimp_image_get_vectors(image)</code> returns a list of integer ID for the paths, but the later calls require a <code>gimp.Vectors</code> object.</p>\n\n<p><code>image.vectors</code> is indeed a list of <code>gimp.Vectors</code> and you can iterate all the paths with </p>\n\n<pre><code>for vector in image.vectors:\n</code></pre>\n\n<p>More problems:</p>\n\n<ul>\n<li>You declare two args in register() but have three in your function. In practice you don't need the path argument, since you aere going to iterate them all anyway.</li>\n<li>The layer argument of your function is the active layer when the plugin is called, and is normally the one you want to paint</li>\n<li><code>gimp-edit-fill</code> takes a color source and not a color. When you go further with your code you will have to set the foreground color, and push/pop the context</li>\n<li><code>CHANNEL-OP-REPLACE</code> isn't a valid Python symbol, in Python you should use <code>CHANNEL_OP_REPLACE</code> (with underscores)</li>\n</ul>\n\n<p>Two collections of  python scripts <a href=\"http://sourceforge.net/projects/gimp-tools/files/scripts/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://sourceforge.net/projects/gimp-path-tools/files/scripts/\" rel=\"nofollow noreferrer\">there</a>.</p>\n\n<p>If you are under Windows, some hints to debug your scripts <a href=\"https://www.gimp-forum.net/Thread-Debugging-python-fu-scripts-in-Windows\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Your code with fixes:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom gimpfu import *\n\ndef plugin_main(image, layer):\n    for p in image.vectors:\n        pdb.gimp_image_select_item(image,CHANNEL_OP_REPLACE,p)\n        pdb.gimp_edit_fill(layer, FOREGROUND_FILL)\n\nregister(\n    \"create_polygon_art\",\n    \"Fills all the paths with the average color within path\",\n    \"Fills all the paths with the average color within path\",\n    \"Bryton Pilling\",\n    \"Bryton Pilling\",\n    \"2018\",\n    \"&lt;Image&gt;/Test/Fill all paths with average color\",\n    \"RGB*, GRAY*\",\n    [],\n    [],\n    plugin_main\n)\n\nmain()\n</code></pre>\n\n<p>You can make you code more user-friendly by painting \"strokes\" (so you have one path with several strokes). If you want individual selections on strokes, you can copy them to a temporary path. Code for this can be found in some scripts in the collections above.</p>\n"}], "owner": {"reputation": 133, "user_id": 8148972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af98ed4ed1d2a41f2a1bc4edf6e4e12b?s=128&d=identicon&r=PG&f=1", "display_name": "bpilling", "link": "https://stackoverflow.com/users/8148972/bpilling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 53209824, "answer_count": 1, "score": 1, "last_activity_date": 1541687441, "creation_date": 1541623680, "last_edit_date": 1541668105, "question_id": 53197572, "link": "https://stackoverflow.com/questions/53197572/gimp-python-fill-path-vector-with-color", "title": "GIMP Python - Fill Path/Vector with color", "body": "<p>I am trying to develop a script that i can run on opened SVG files. I want to iterate over all paths and fill the path with an arbitrary color ( I will be replacing this part of the code later). The first stage of this is just iterating over the paths, and I cannot seem to figure out how to do this. My code is below - why am I not seeing any paths being iterated over?</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom gimpfu import *\n\ndef plugin_main(image, layer, path):\n    vectors_count, vectors = pdb.gimp_image_get_vectors(image)\n    for n in vectors:\n        pdb.gimp_image_select_item(image,CHANNEL-OP-REPLACE,n)\n        foreground = pdb.gimp_context_get_foreground()\n        pdb.gimp_edit_fill(image.layers[0], foreground)\n\nregister(\n    \"create_polygon_art\",\n    \"Fills all the paths with the average color within path\",\n    \"Fills all the paths with the average color within path\",\n    \"Bryton Pilling\",\n    \"Bryton Pilling\",\n    \"2018\",\n    \"&lt;Image&gt;/Filters/Fill all paths with average color\",\n    \"RGB*, GRAY*\",\n    [],\n    [],\n    plugin_main\n)\n\nmain()\n</code></pre>\n\n<p>I have also tried a number of different approaches I have found by googling, including using something simpler for the iteration like:</p>\n\n<pre><code>for v in gimp.Vectors\n</code></pre>\n\n<p>But no matter what I try I cannot seem to get evidence of an iteration over the paths.</p>\n\n<p>I am using gimp 2.10.6 on Windows 10 64-bit.</p>\n"}, {"tags": ["python", "docker", "subprocess", "background-process"], "answers": [{"tags": [], "owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "is_accepted": true, "score": 0, "last_activity_date": 1541624136, "creation_date": 1541624136, "answer_id": 53197673, "question_id": 53197564, "link": "https://stackoverflow.com/questions/53197564/terminating-docker-container-on-sigterm-on-warping-script/53197673#53197673", "title": "Terminating docker container on SIGTERM on warping script", "body": "<p>Answering myself:</p>\n\n<p>This trick solved my problem: adding <code>preexec_fn=os.setsid</code> to the <code>subprocess.Popen</code> function:</p>\n\n<pre><code>p = subprocess.Popen(cmd, preexec_fn=os.setsid)\n</code></pre>\n"}], "owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 53197673, "answer_count": 1, "score": 0, "last_activity_date": 1541953443, "creation_date": 1541623625, "last_edit_date": 1541953443, "question_id": 53197564, "link": "https://stackoverflow.com/questions/53197564/terminating-docker-container-on-sigterm-on-warping-script", "title": "Terminating docker container on SIGTERM on warping script", "body": "<p>I have the following Python script that warps a docker container run:</p>\n\n<pre><code>import subprocess\nimport sys\nimport signal\n\ncontainer_id = None\n\ndef catch_term(signum, frame):\n    sys.stderr.write('Caught SIGTERM. Stopping container\\n')\n    if container_id != None:\n        cmd = ['docker', 'rm', '-f', container_id]\n        subprocess.call(cmd)\n    sys.exit(143)\n\nsignal.signal(signal.SIGTERM, catch_term)\ncmd = ['docker', 'run', '--cidfile', cidfile, '-i', image_name, container_process_cmd]\np = subprocess.Popen(cmd)\n# This function waits for the file to contain 64 bytes and then reads the container id from it\ncontainer_id = get_container_id_from_cidfile(cidfile)\np.communicate()\nsys.exit(p.returncode)\n</code></pre>\n\n<p>When I run the Python process on interactive mode, and kill that warping script during the run (<code>kill &lt;PID&gt;</code>), the <code>catch_term</code> function is called and the container is removed. Then my process exits.</p>\n\n<p><strong><em>However</em></strong>, when I run the warping process on the background, i.e. <code>my_warping_script_above.py &amp;</code>, and kill it in the same way, the <code>catch_term</code> function is not called at all and my script keeps running, including the container.</p>\n\n<ul>\n<li><p>Any idea how to make the <code>catch_term</code> function be called even when the script runs on background?</p></li>\n<li><p>I think it has something to do with the fact that <code>docker run</code> is a \"protected\" process. It should only be able to get killed using a docker command, such as <code>docker rm -f &lt;CONTAINER ID&gt;</code>, or using <code>Ctrl+C</code> if called with <code>-i</code>. That's the reason why I'm trying to catch the TERM signal and call <code>docker rm</code>, but my function is not called when the script runs on background... (I think it tries to first kill the child process, then as it fails, it does not reach to stage of calling my registered function).</p></li>\n</ul>\n"}, {"tags": ["python", "nlp", "nltk", "autocorrect"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 2, "creation_date": 1541623589, "post_id": 53197537, "comment_id": 93283591, "body": "&quot;Grammer&quot; -&gt; &quot;Grammar&quot; and &quot;mispelling&quot; -&gt; &quot;misspelling&quot;. :)"}, {"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1541624138, "post_id": 53197537, "comment_id": 93283887, "body": "NLTK, and most NLP tools in general, are notoriously bad at handling these cases, unless they were purpose built to do so, as Grammarly&#39;s tools are."}, {"owner": {"reputation": 1, "user_id": 10620386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s7SslsLhfyw/AAAAAAAAAAI/AAAAAAAAABk/yENMsY_NZtw/photo.jpg?sz=128", "display_name": "Jerri", "link": "https://stackoverflow.com/users/10620386/jerri"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 1, "creation_date": 1541624301, "post_id": 53197537, "comment_id": 93283973, "body": "@lurker thank you. see how much I need a grammar corrector?"}, {"owner": {"reputation": 1, "user_id": 10620386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s7SslsLhfyw/AAAAAAAAAAI/AAAAAAAAABk/yENMsY_NZtw/photo.jpg?sz=128", "display_name": "Jerri", "link": "https://stackoverflow.com/users/10620386/jerri"}, "reply_to_user": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1541624377, "post_id": 53197537, "comment_id": 93283991, "body": "@Ares Yes, as far as I know. I wish there is something like Grammarly in python."}, {"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1541624617, "post_id": 53197537, "comment_id": 93284104, "body": "This is a good question in general, and I&#39;ve taken a stab at an answer, but it is probably too broad for Stack Overflow&#39;s tastes; there&#39;s a lot of techniques that could be applied to solve the problem, so many that coming up with a &quot;right&quot; answer could be difficult."}, {"owner": {"reputation": 1, "user_id": 10620386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s7SslsLhfyw/AAAAAAAAAAI/AAAAAAAAABk/yENMsY_NZtw/photo.jpg?sz=128", "display_name": "Jerri", "link": "https://stackoverflow.com/users/10620386/jerri"}, "reply_to_user": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1541638373, "post_id": 53197537, "comment_id": 93288673, "body": "@Ares I agree with you that this can be broad. I appreciate any helpful idea that possibly leads me to my way out."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10620386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s7SslsLhfyw/AAAAAAAAAAI/AAAAAAAAABk/yENMsY_NZtw/photo.jpg?sz=128", "display_name": "Jerri", "link": "https://stackoverflow.com/users/10620386/jerri"}, "edited": false, "score": 0, "creation_date": 1541638075, "post_id": 53197748, "comment_id": 93288579, "body": "This could be a way to analyze whether &quot;tern&quot; (in my case) fits in the sentence. But we need to report an error first. Otherwise, scanning the whole document will be time-consuming. What I can think is to guess the POS first like when we filling the blanks: Then it ___ left. We know the blank will be more likely to be a verb based on the grammar. Still, it will require some labeled data to train the model."}], "tags": [], "owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "is_accepted": false, "score": 0, "last_activity_date": 1541624497, "creation_date": 1541624497, "answer_id": 53197748, "question_id": 53197537, "link": "https://stackoverflow.com/questions/53197537/grammar-spelling-checking-with-word-suggestion-python/53197748#53197748", "title": "Grammar/Spelling checking with word suggestion Python", "body": "<p>What you're describing here is a difficult problem, but it could be potentially solved by checking word <em>concordance</em>, or in other words, by checking the contexts in which the word is used in other environments. You can then make an educated guess based on the context if that word usage makes any sense where it is used in the subject sentence. Here's an example, from the <a href=\"https://www.nltk.org/book/ch01.html\" rel=\"nofollow noreferrer\">nltk docs</a>, using Moby Dick as a search space.</p>\n\n<pre><code>&gt;&gt;&gt; text1.concordance(\"monstrous\")\nDisplaying 11 of 11 matches:\nong the former , one was of a most monstrous size . ... This came towards us ,\nON OF THE PSALMS . \" Touching that monstrous bulk of the whale or ork we have r\nll over with a heathenish array of monstrous clubs and spears . Some were thick\nd as you gazed , and wondered what monstrous cannibal and savage could ever hav\nthat has survived the flood ; most monstrous and most mountainous ! That Himmal\nthey might scout at Moby Dick as a monstrous fable , or still worse and more de\nth of Radney .'\" CHAPTER 55 Of the monstrous Pictures of Whales . I shall ere l\ning Scenes . In connexion with the monstrous pictures of whales , I am strongly\nere to enter upon those still more monstrous stories of them which are to be fo\nght have been rummaged out of this monstrous cabinet there is no telling . But\nof Whale - Bones ; for Whales of a monstrous size are oftentimes cast up dead u\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Additionally, if you're not already using the Stanford POS tagger instead of the default NTLK tagger, it can generate better results at the expense of performance. </p>\n"}], "owner": {"reputation": 1, "user_id": 10620386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s7SslsLhfyw/AAAAAAAAAAI/AAAAAAAAABk/yENMsY_NZtw/photo.jpg?sz=128", "display_name": "Jerri", "link": "https://stackoverflow.com/users/10620386/jerri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541624497, "creation_date": 1541623496, "last_edit_date": 1541624220, "question_id": 53197537, "link": "https://stackoverflow.com/questions/53197537/grammar-spelling-checking-with-word-suggestion-python", "title": "Grammar/Spelling checking with word suggestion Python", "body": "<p>I am working on an NLP project that analyzes specifications in natural language.\nI am using NLTK toolkit and autocorrect for tokenizing, POS tagging and checking for misspelling. But I run into a problem recently. \nSo the example is \"Then it terns left.\" while the user actually means \"Then it turns left.\"</p>\n\n<p>The POS tagger from the NLTK toolkit recognizes the \"terns\" as an Adjective. But since the sentence itself is grammatically incorrect and  NLTK parser is still limited to corrected sentences, I won't blame it. And since \"tern\" is a correct English word, the autocorrect function also doesn't catch the error.\nWhen I use grammar tools like Grammarly to test the sentence, it gives me suggestion like: the word \"terns\" does not seem to fit this context, and suggest me to replace it with \"turns\".</p>\n\n<p>How can I fix this problem?\nFor example, report the error and give suggestion on the sentence \"Then it terns left.\" --> \"Then it turns left.\"</p>\n\n<p>My thought now is to check the grammar first. For example, maybe to say the word between \"it\" and \"left\" should be a verb. Then gives the suggestion based on the fact that we need a verb. The NLTK parser doesn't really tell which word cause the problem. I also tried grammar-check and language-check (which they are the same). It is too slow for my purpose. </p>\n\n<p>Any suggestion on how to solve this problem?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1015, "user_id": 9020666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sQtxU.jpg?s=128&g=1", "display_name": "Andrea Nagy", "link": "https://stackoverflow.com/users/9020666/andrea-nagy"}, "edited": false, "score": 3, "creation_date": 1541623643, "post_id": 53197530, "comment_id": 93283622, "body": "Your last condition is not correct: <code>amount &gt;= 0.01 and amount &lt; 0.01:</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2064, "user_id": 8805293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/588e24b3c672cc9524ffde816a983007?s=128&d=identicon&r=PG&f=1", "display_name": "Hampus Larsson", "link": "https://stackoverflow.com/users/8805293/hampus-larsson"}, "is_accepted": false, "score": 0, "last_activity_date": 1541626049, "last_edit_date": 1541626049, "creation_date": 1541624390, "answer_id": 53197723, "question_id": 53197530, "link": "https://stackoverflow.com/questions/53197530/listing-what-coins-are-needed-for-given-amount-python/53197723#53197723", "title": "Listing what coins are needed for given amount python", "body": "<p>What you're looking for, is a way to divide a number into smaller and smaller numbers. one way do do that is via <code>divmod</code></p>\n\n<pre><code>def pay_with_coins(amount):\n    twoer,rest=divmod(amount, 2) # \u00a32\n    onner,rest=divmod(rest, 1) # \u00a31\n    halfer,rest=divmod(rest, 0.5) # \u00a30.50\n    fifther,rest=divmod(rest, 0.20) # \u00a30.20\n    tenther,rest=divmod(rest, 0.10) # \u00a30.10\n    twenthier,rest=divmod(rest, 0.05) # \u00a30.05\n    fifthier,rest=divmod(rest, 0.02) # \u00a30.02\n    hundreder,rest=divmod(rest,0.01) # \u00a30.01\n    coinList = [twoer, onner, halfer, fifther, tenther, twenthier,fifthier, hundreder]\n    return [i for i in map(int, coinList)]\n</code></pre>\n\n<p>In the above code, i use <code>divmod</code> continually on the same variable, to separate the values into lower and lower denominations.</p>\n\n<hr>\n\n<p>It seems like I did not read the question quite fully before creating my \"solution\" for this. Reading the other answer to this question, where they recommend to do the calculation with cents, so as to not use unnecessary floating-points numbers, I've also edited my code to follow this:</p>\n\n<pre><code>def pay_with_coins(amount):\n    amount *= 100\n    twoer,rest=divmod(amount,200) # \u00a32\n    onner,rest=divmod(rest,100) # \u00a31\n    halfer,rest=divmod(rest,50) # \u00a30.50\n    fifther,rest=divmod(rest,20) # \u00a30.20\n    tenther,rest=divmod(rest,10) # \u00a30.10\n    twenthier,rest=divmod(rest,5) # \u00a30.05\n    fifthier,rest=divmod(rest,2) # \u00a30.02\n    hundreder,rest=divmod(rest,1) # \u00a30.01\n    coinList = [twoer, onner, halfer, fifther, tenther, twenthier,fifthier, hundreder]\n    return [i for i in map(int, coinList)]\n</code></pre>\n\n<p>The only real difference is that I multiply the given amount by 100, and did the same with the calculations so avoid floating-point numbers all together.</p>\n"}, {"comments": [{"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1541624618, "post_id": 53197754, "comment_id": 93284106, "body": "If you would like to see the behaviour for yourself, i would encourage you to look at the values stored in &quot;amount&quot; variable by the end of calculations when you start with an amount like 1.74 in your example."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1541625729, "post_id": 53197754, "comment_id": 93284631, "body": "When it comes to currency, you should always be able to manipulate the input (ie. multiply amount by 100) or output (divide final answer by 100 to convert cent to dollar/euro) and do all calculations without floats, as each calculation step with floats can introduce more error which creeps up. if you are dealing with something that has to be tackled in decimals though, take a look at <a href=\"https://docs.python.org/3.7/library/decimal.html#module-decimal\" rel=\"nofollow noreferrer\">Decimals</a> or <a href=\"https://docs.python.org/3.7/library/fractions.html#module-fractions\" rel=\"nofollow noreferrer\">Fractions</a> @ll17m2r"}], "tags": [], "owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1541624515, "creation_date": 1541624515, "answer_id": 53197754, "question_id": 53197530, "link": "https://stackoverflow.com/questions/53197530/listing-what-coins-are-needed-for-given-amount-python/53197754#53197754", "title": "Listing what coins are needed for given amount python", "body": "<p>Ah, i fear this is one of the worst ways to find out about the limitations of binary systems around floating point arithmetic. </p>\n\n<p>It is not possible to accurately represent every decimal number in binary notation. \n<a href=\"https://docs.python.org/3.7/tutorial/floatingpoint.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3.7/tutorial/floatingpoint.html</a></p>\n\n<p>To avoid the issue, when it comes to currency, use cents as your base unit and avoid floats completely.</p>\n\n<pre><code>def pay_with_coins( amount_in_cents ):\ncoins_list = [0, 0, 0, 0, 0, 0, 0, 0]    \nif amount_in_cents == 0:\n    return(coins_list)\nelse:\n    while amount_in_cents &gt; 200:\n        coins_list[0] = (coins_list[0] + 1)\n        amount_in_cents = amount_in_cents - 200\n    while amount_in_cents &gt;= 100 and amount_in_cents &lt; 200:\n        coins_list[1] = (coins_list[1] + 1)\n        amount_in_cents = amount_in_cents - 100\n    while amount_in_cents &gt;= 50 and amount_in_cents &lt; 100:\n        coins_list[2] = (coins_list[2] + 1)\n        amount_in_cents = amount_in_cents - 50\n    while amount_in_cents &gt;= 20 and amount_in_cents &lt; 50:\n        coins_list[3] = (coins_list[3] + 1)\n        amount_in_cents = amount_in_cents - 20\n    while amount_in_cents &gt;= 10 and amount_in_cents &lt; 20:\n        coins_list[4] = (coins_list[4] + 1)\n        amount_in_cents = amount_in_cents - 10\n    while amount_in_cents &gt;= 5 and amount_in_cents &lt; 10:\n        coins_list[5] = (coins_list[5] + 1)\n        amount_in_cents = amount_in_cents - 5\n    while amount_in_cents &gt;= 2 and amount_in_cents &lt; 5:\n        coins_list[6] = (coins_list[6] + 1)\n        amount_in_cents = amount_in_cents - 2\n    while amount_in_cents &gt;= 1 and amount_in_cents &lt; 2:\n        coins_list[7] = (coins_list[7] + 1)\n        amount_in_cents = amount_in_cents - 1\n    return(coins_list)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3809, "user_id": 3447515, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cPyHf.png?s=128&g=1", "display_name": "Cohan", "link": "https://stackoverflow.com/users/3447515/cohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1541625508, "creation_date": 1541625508, "answer_id": 53197962, "question_id": 53197530, "link": "https://stackoverflow.com/questions/53197530/listing-what-coins-are-needed-for-given-amount-python/53197962#53197962", "title": "Listing what coins are needed for given amount python", "body": "<p>As @Paritosh Singh stated in his answer, there is an issue with floats. But if you'd like a solution that is a bit more expandable, you could try the following approach which will save a lot of typing.</p>\n\n<pre><code># Create list of currencies\ncurrencies = [2.00, 1.00, 0.50, 0.20, 0.10, 0.05, 0.02, 0.01]\n\ndef pay_with_coins(amount):\n\n    # Initialize array\n    coins = [0 for i in range(len(currencies))]\n\n    # Adjust to integers to avoid floating point issues\n    amount = int(amount * 100)\n    values = [c * 100 for c in currencies]\n\n    # Loop throug values\n    for currency in values:\n        i = values.index(currency)\n        coins[i] = 0\n\n        # Dish out coins until you need to move to a smaller value\n        while amount &gt;= currency:\n            amount -= currency\n            coins[i] += 1\n\n    return coins\n\n\nprint(pay_with_coins(0.08)) #[0, 0, 0, 0, 0, 1, 1, 1]\nprint(pay_with_coins(8.02)) #[4, 0, 0, 0, 0, 0, 1, 0]\nprint(pay_with_coins(1.74)) #[0, 1, 1, 1, 0, 0, 2, 0]\nprint(pay_with_coins(1001)) #[500, 1, 0, 0, 0, 0, 0, 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10165906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81199131e1b889111cdc1f9b1f50a39a?s=128&d=identicon&r=PG&f=1", "display_name": "Jaakko2000", "link": "https://stackoverflow.com/users/10165906/jaakko2000"}, "is_accepted": true, "score": 1, "last_activity_date": 1541629716, "creation_date": 1541629716, "answer_id": 53198845, "question_id": 53197530, "link": "https://stackoverflow.com/questions/53197530/listing-what-coins-are-needed-for-given-amount-python/53198845#53198845", "title": "Listing what coins are needed for given amount python", "body": "<p>You can use Python's <a href=\"https://docs.python.org/3.7/library/decimal.html\" rel=\"nofollow noreferrer\">decimal</a>-module for that.\nIt represents numbers as decimals (base 10) instead of the normal base 2 used in computers and thus it can represent numbers like 1.1.</p>\n\n<p>Code would go something like this:</p>\n\n<pre><code>from decimal import Decimal\n\ndef pay_with_coins( amount ):\n    amount = Decimal(amount)\n    coins_list = [0, 0, 0, 0, 0, 0, 0, 0]\n\n    if amount == 0:\n        return(coins_list)\n    else:\n        while amount &gt; Decimal(\"2.00\"):\n            coins_list[0] = (coins_list[0] + 1)\n            amount = amount - Decimal(\"2.00\")\n        while amount &gt;= Decimal(\"1.00\") and amount &lt; Decimal(\"2.00\"):\n            coins_list[1] = (coins_list[1] + 1)\n            amount = amount - Decimal(\"1.00\")\n        while amount &gt;= Decimal(\"0.50\") and amount &lt; Decimal(\"1.00\"):\n            coins_list[2] = (coins_list[2] + 1)\n            amount = amount - Decimal(\"0.50\")\n        while amount &gt;= Decimal(\"0.20\") and amount &lt; Decimal(\"0.50\"):\n            coins_list[3] = (coins_list[3] + 1)\n            amount = amount - Decimal(\"0.20\")\n        while amount &gt;= Decimal(\"0.10\") and amount &lt; Decimal(\"0.20\"):\n            coins_list[4] = (coins_list[4] + 1)\n            amount = amount - Decimal(\"0.10\")\n        while amount &gt;= Decimal(\"0.05\") and amount &lt; Decimal(\"0.10\"):\n            coins_list[5] = (coins_list[5] + 1)\n            amount = amount - Decimal(\"0.05\")\n        while amount &gt;= Decimal(\"0.02\") and amount &lt; Decimal(\"0.05\"):\n            coins_list[6] = (coins_list[6] + 1)\n            amount = amount - Decimal(\"0.02\")\n        while amount &gt;= Decimal(\"0.01\") and amount &lt; Decimal(\"0.05\"):\n            coins_list[7] = (coins_list[7] + 1)\n            amount = amount - Decimal(\"0.01\")\n        return(coins_list)\nprint(pay_with_coins(\"1.74\"))\n</code></pre>\n\n<p>Notice that the call is now made with a string, but you can also pass it a Decimal object and it won't get angry at you.</p>\n"}], "owner": {"reputation": 57, "user_id": 10581916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4aa3734cf7273df452c11ef2eeb033c?s=128&d=identicon&r=PG&f=1", "display_name": "anon2000", "link": "https://stackoverflow.com/users/10581916/anon2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 53198845, "answer_count": 4, "score": 0, "last_activity_date": 1541629716, "creation_date": 1541623463, "last_edit_date": 1541625713, "question_id": 53197530, "link": "https://stackoverflow.com/questions/53197530/listing-what-coins-are-needed-for-given-amount-python", "title": "Listing what coins are needed for given amount python", "body": "<p>I need to write a function that prints the amount of UK coins needed for a given amount, in a list format (i.e. 8 values in the list for \u00a32 coins, \u00a31 coins, \u00a30.50, \u00a30.20, \u00a30.10, \u00a30.05, \u00a30.02, \u00a30.01).</p>\n\n<p>I have so far written the following:</p>\n\n<pre><code>def pay_with_coins( amount ):\n\ncoins_list = [0, 0, 0, 0, 0, 0, 0, 0]\n\nif amount == 0:\n    return(coins_list)\nelse:\n    while amount &gt; 2.00:\n        coins_list[0] = (coins_list[0] + 1)\n        amount = amount - 2.00\n    while amount &gt;= 1.00 and amount &lt; 2.00:\n        coins_list[1] = (coins_list[1] + 1)\n        amount = amount - 1.00\n    while amount &gt;= 0.50 and amount &lt; 1.00:\n        coins_list[2] = (coins_list[2] + 1)\n        amount = amount - 0.50\n    while amount &gt;= 0.20 and amount &lt; 0.50:\n        coins_list[3] = (coins_list[3] + 1)\n        amount = amount - 0.20\n    while amount &gt;= 0.10 and amount &lt; 0.20:\n        coins_list[4] = (coins_list[4] + 1)\n        amount = amount - 0.10\n    while amount &gt;= 0.05 and amount &lt; 0.10:\n        coins_list[5] = (coins_list[5] + 1)\n        amount = amount - 0.05\n    while amount &gt;= 0.02 and amount &lt; 0.05:\n        coins_list[6] = (coins_list[6] + 1)\n        amount = amount - 0.02\n    while amount &gt;= 0.01 and amount &lt; 0.05:\n        coins_list[7] = (coins_list[7] + 1)\n        amount = amount - 0.01\n    return(coins_list)\n</code></pre>\n\n<p>I am testing the function by passing the following:</p>\n\n<pre><code>print(pay_with_coins(0.08))\nprint(pay_with_coins(8.02))\nprint(pay_with_coins(1.74))\nprint(pay_with_coins(1001))\n</code></pre>\n\n<p>This is what I'm supposed to get:</p>\n\n<pre><code>[0,0,0,0,0,1,1,1]\n\n[4,0,0,0,0,0,1,0]\n\n[0,1,1,1,0,0,2,0]\n\n[500,1,0,0,0,0,0,0]\n</code></pre>\n\n<p>And this is what I actually get:</p>\n\n<pre><code>[0, 0, 0, 0, 0, 1, 1, 0]\n\n[4, 0, 0, 0, 0, 0, 0, 1]\n\n[0, 1, 1, 1, 0, 0, 1, 1]\n\n[500, 1, 0, 0, 0, 0, 0, 0]\n</code></pre>\n\n<p>As you can see, the last two values in the list is where it seems to mess up and I'm not quite sure what the issue is. </p>\n\n<p>I have a feeling that the last two values are messing up because they're 0.05 and 0.01 (2 decimal places). Any idea how to sort that out?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "databricks"], "comments": [{"owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 5, "creation_date": 1541680212, "post_id": 53197452, "comment_id": 93303528, "body": "What exactly is your <i>question</i>?"}], "owner": {"reputation": 191, "user_id": 7718273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba4c7ca7fc77f9b2e52a11be8700dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/7718273/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1583919891, "creation_date": 1541623086, "last_edit_date": 1541628342, "question_id": 53197452, "link": "https://stackoverflow.com/questions/53197452/reading-empty-csv-pyspark", "title": "Reading Empty CSV Pyspark", "body": "<p>I have a process to read csv files and do some processing in pyspark. At times I might get a zero byte empty file. In such cases when I use the below code</p>\n\n<pre><code>df = spark.read.csv('/path/empty.txt', header = False)\n</code></pre>\n\n<p>It is failing with error: </p>\n\n<blockquote>\n  <p>py4j.protocol.Py4JJavaError: An error occurred while calling o139.csv.\n  : java.lang.UnsupportedOperationException: empty collection</p>\n</blockquote>\n\n<p>Since its empty file I tried to read as a json it worked fine </p>\n\n<pre><code>df = spark.read.json('/path/empty.txt')\n</code></pre>\n\n<p>When I add header to the empt <code>csv</code> manually to the code reads fine.</p>\n\n<pre><code>df = spark.read.csv('/path/empty.txt', header = True)\n</code></pre>\n\n<p>In few places I read to use databricks csv but \nI don't have the data bricks csv package options to use as those jars are not available in my environment. </p>\n"}, {"tags": ["python", "list", "constants"], "comments": [{"owner": {"reputation": 1386, "user_id": 3688683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lBiI.jpg?s=128&g=1", "display_name": "scomes", "link": "https://stackoverflow.com/users/3688683/scomes"}, "edited": false, "score": 1, "creation_date": 1541623232, "post_id": 53197431, "comment_id": 93283431, "body": "You may find <a href=\"https://nedbatchelder.com/text/names1.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/names1.html</a> helpful. There is an example on it that is almost your exact code."}, {"owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "edited": false, "score": 0, "creation_date": 1541623263, "post_id": 53197431, "comment_id": 93283450, "body": "@clearshot66 answered the question, but I&#39;d suggest learning how lists are stored in memory."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541623354, "post_id": 53197473, "comment_id": 93283489, "body": "Please explain your answers. Don&#39;t just dump code."}, {"owner": {"reputation": 21, "user_id": 10620460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZOIwEC8wCvA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDfq8HyFwINlvVPpjrr6BWuO2ER8Q/mo/photo.jpg?sz=128", "display_name": "Pho Konte", "link": "https://stackoverflow.com/users/10620460/pho-konte"}, "edited": false, "score": 0, "creation_date": 1541623679, "post_id": 53197473, "comment_id": 93283641, "body": "Oh okay I understand now, thank you very much, it saves me !"}, {"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541623746, "post_id": 53197473, "comment_id": 93283685, "body": "@user2357112 this is probably <i>the</i> most self-documenting code I have ever seen though ..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "edited": false, "score": 0, "creation_date": 1541623955, "post_id": 53197473, "comment_id": 93283800, "body": "@TasosPapastylianou: It didn&#39;t have those code comments when I left my comment. Those were edited in afterward."}, {"owner": {"reputation": 2205, "user_id": 7600566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOS13.jpg?s=128&g=1", "display_name": "clearshot66", "link": "https://stackoverflow.com/users/7600566/clearshot66"}, "edited": false, "score": 1, "creation_date": 1541624494, "post_id": 53197473, "comment_id": 93284044, "body": "Yeah I added it after user told me to not just dump code. But I really don&#39;t think it&#39;s necessary..."}], "tags": [], "owner": {"reputation": 2205, "user_id": 7600566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOS13.jpg?s=128&g=1", "display_name": "clearshot66", "link": "https://stackoverflow.com/users/7600566/clearshot66"}, "is_accepted": false, "score": 1, "last_activity_date": 1541623570, "last_edit_date": 1541623570, "creation_date": 1541623171, "answer_id": 53197473, "question_id": 53197431, "link": "https://stackoverflow.com/questions/53197431/python-how-to-save-a-list-as-a-constant/53197473#53197473", "title": "Python - How to save a list as a constant", "body": "<p>Try this:</p>\n\n<pre><code># Set list 1\nlist1 = [1,2,3,4]\n# Make a copy of list one as it sits, not assigning list1 to list 2, \n# Previously, anything done to list1 will happen with list2 since list2 is \n# assigned AS list 1\nlist2 = list1.copy()\n# Add your 5\nlist1.append(5)\nprint(list1)\nprint(list2)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10620460, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZOIwEC8wCvA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDfq8HyFwINlvVPpjrr6BWuO2ER8Q/mo/photo.jpg?sz=128", "display_name": "Pho Konte", "link": "https://stackoverflow.com/users/10620460/pho-konte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1541623324, "answer_count": 1, "score": 0, "last_activity_date": 1541623570, "creation_date": 1541623017, "question_id": 53197431, "link": "https://stackoverflow.com/questions/53197431/python-how-to-save-a-list-as-a-constant", "closed_reason": "Duplicate", "title": "Python - How to save a list as a constant", "body": "<p>I started recently Python Language and i have a problem about lists.\nI was surprised not to find what i was looking for by searching on Google, I guess i couldn't explain with the right words because english isn't my native language.\nHere's my problem:</p>\n\n<p>When i create a list and i want to modify it but i want to keep the last value, I don't know how to do.\nI thought that i could save my list in a second list, but when i modify the other list, it doesn't stay constant.</p>\n\n<pre><code>list1=[1,2,3,4]\nlist2=list1\nlist1.append(5)\nprint(list2)\n</code></pre>\n\n<p>For exemple, here, I thought that my list2 will stay constant but no, it is synchronised to the list1 and when I print(list2), the 5 that i added in list1 appears.</p>\n\n<p>I really don't know how to solve this problem, if someone could help me it would be very cool, thanks !</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 1, "creation_date": 1541623143, "post_id": 53197418, "comment_id": 93283391, "body": "You are not actually writing a newline anywhere. The one you see is part of the prompt."}, {"owner": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "reply_to_user": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 0, "creation_date": 1541623237, "post_id": 53197418, "comment_id": 93283437, "body": "How would I go about adding the record to a newline then?"}, {"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 1, "creation_date": 1541623437, "post_id": 53197418, "comment_id": 93283525, "body": "You need to add a newline character to the end of each like you write. Like input(...)+&quot;\\n&quot;"}, {"owner": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "reply_to_user": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 0, "creation_date": 1541623592, "post_id": 53197418, "comment_id": 93283595, "body": "Do you mean like this?  storing_records.write(input(&quot;please enter your details in the following format followed by commas between each field: User ID, Name, Age, Position, Salary, Years employed: &quot;) + &quot;\\n&quot;)  It still won&#39;t work unless I am doing it wrong"}, {"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 0, "creation_date": 1541624577, "post_id": 53197418, "comment_id": 93284085, "body": "That appears to be correct to me. What text editor are you using to open the file? Are you running Windows?"}, {"owner": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "reply_to_user": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 0, "creation_date": 1541624813, "post_id": 53197418, "comment_id": 93284206, "body": "I got it to work by the solution below, but I am on windows and I am using pycharm"}, {"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 0, "creation_date": 1541629152, "post_id": 53197418, "comment_id": 93286033, "body": "The code you have in your comment probably should work, although sometimes programming typos are difficult to spot. In either case the idea is right, you can append the &quot;\\n&quot; to the return value of input(). Using a second variable is really a much better programming practice though."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "edited": false, "score": 0, "creation_date": 1541623954, "post_id": 53197557, "comment_id": 93283799, "body": "That got the records to start on a new line but when I am asking the user to enter their details it says &quot;please enter your details in the following format followed by commas between each field: User ID, Name, Age, Position, Salary, Years employed:  None&quot;  For someone reason the word none appears"}, {"owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "reply_to_user": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "edited": false, "score": 0, "creation_date": 1541624436, "post_id": 53197557, "comment_id": 93284022, "body": "My apologies, please remove the print()-function. I mistakingly thought it belongs there, but it does not :D I tried the code now myself and it was working."}], "tags": [], "owner": {"reputation": 1445, "user_id": 10294689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ace5f1e6d8a8387d0290f1eeffef00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_P", "link": "https://stackoverflow.com/users/10294689/alex-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1541624569, "last_edit_date": 1541624569, "creation_date": 1541623609, "answer_id": 53197557, "question_id": 53197418, "link": "https://stackoverflow.com/questions/53197418/cannot-add-record-in-new-line-in-text-file/53197557#53197557", "title": "Cannot add record in new line in text file", "body": "<p>What if you would create a variable first and .write the input in a separate line?\nI also added the line break after the input. It worked for me once like that.</p>\n\n<pre><code>def add_new_employee():  \n       with open(\"records.txt\", \"a\") as storing_records:\n           user_input = input(\"Please enter your details....\")\n           storing_records.write(user_input + \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10560684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d68705c782f604e9a565afc50ed357?s=128&d=identicon&r=PG&f=1", "display_name": "Darren_D19", "link": "https://stackoverflow.com/users/10560684/darren-d19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 53197557, "answer_count": 1, "score": 0, "last_activity_date": 1541624569, "creation_date": 1541622950, "last_edit_date": 1541623503, "question_id": 53197418, "link": "https://stackoverflow.com/questions/53197418/cannot-add-record-in-new-line-in-text-file", "title": "Cannot add record in new line in text file", "body": "<p>I am trying to let the user add records to a text file that I have created. The record already has a few records added to it.</p>\n\n<pre><code>def add_new_employee():  \n    with open(\"records.txt\", \"a\") as storing_records: \n        storing_records.write(input(\"\\n\" + \"please enter your details in the following format followed by commas between each field: User ID, Name, Age, Position, Salary, Years employed: \"))\n</code></pre>\n\n<p>The problem is when I add a record for the first time it will work perfectly, the created record will be on a new line, but if I rerun the code and add in a new record then it will just join onto the end of the previous record and it will ignore the <code>\\n</code>.</p>\n"}, {"tags": ["python", "tensorflow", "dataset", "conv-neural-network", "data-augmentation"], "comments": [{"owner": {"reputation": 334, "user_id": 8384504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b8d15e05a645333cea51faa1c752a7b?s=128&d=identicon&r=PG&f=1", "display_name": "T. Ogawa", "link": "https://stackoverflow.com/users/8384504/t-ogawa"}, "edited": false, "score": 0, "creation_date": 1541623476, "post_id": 53197383, "comment_id": 93283540, "body": "Are you looking for a way to do so with TensorFlow? Or is it OK with any other library like OpenCV?"}, {"owner": {"reputation": 312, "user_id": 9981271, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V_vH2OGYLPQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq23Q0KHrtI7jk_N9AOi286okHZF0A/mo/photo.jpg?sz=128", "display_name": "Moritz", "link": "https://stackoverflow.com/users/9981271/moritz"}, "reply_to_user": {"reputation": 334, "user_id": 8384504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b8d15e05a645333cea51faa1c752a7b?s=128&d=identicon&r=PG&f=1", "display_name": "T. Ogawa", "link": "https://stackoverflow.com/users/8384504/t-ogawa"}, "edited": false, "score": 0, "creation_date": 1541623525, "post_id": 53197383, "comment_id": 93283562, "body": "Sorry, I would be completely fine with OpenCV. Thanks for your comment"}], "answers": [{"tags": [], "owner": {"reputation": 334, "user_id": 8384504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b8d15e05a645333cea51faa1c752a7b?s=128&d=identicon&r=PG&f=1", "display_name": "T. Ogawa", "link": "https://stackoverflow.com/users/8384504/t-ogawa"}, "is_accepted": true, "score": 0, "last_activity_date": 1541624041, "creation_date": 1541624041, "answer_id": 53197652, "question_id": 53197383, "link": "https://stackoverflow.com/questions/53197383/automatically-make-a-composite-image-for-cnn-training/53197652#53197652", "title": "Automatically make a composite image for cnn training", "body": "<p>You can do it with OpenCV as preprocessing.</p>\n\n<p>The algorithm follows:</p>\n\n<ol>\n<li>Choose a combination of a natural scene image and a sign image randomly.</li>\n<li>Sample random position in the natural scene image where the sign image is pasted.</li>\n<li>Paste the sign image at the position.</li>\n<li>Obtain the pasted image and the position as a part of training data.</li>\n</ol>\n\n<p>Step1 and 2 is done with python standard <code>random</code> module or <code>numpy</code>.</p>\n\n<p>Step3 is done with opencv-python. See <a href=\"https://stackoverflow.com/questions/14063070/overlay-a-smaller-image-on-a-larger-image-python-opencv\">overlay a smaller image on a larger image python OpenCv\n</a>.</p>\n"}], "owner": {"reputation": 312, "user_id": 9981271, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V_vH2OGYLPQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq23Q0KHrtI7jk_N9AOi286okHZF0A/mo/photo.jpg?sz=128", "display_name": "Moritz", "link": "https://stackoverflow.com/users/9981271/moritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 53197652, "answer_count": 1, "score": 2, "last_activity_date": 1541624041, "creation_date": 1541622785, "question_id": 53197383, "link": "https://stackoverflow.com/questions/53197383/automatically-make-a-composite-image-for-cnn-training", "title": "Automatically make a composite image for cnn training", "body": "<p>i would like to train a CNN for detection and classification of any kind of signs (mainly laboratory and safety markers) using tensorflow. \nWhile I can gather enough training data for the classification training set, using e.g. The Bing API, I\u2018m struggeling to think about a solution to get enough images for the object detection training set. Since these markers are mostly not public available, I thought I could make a composite of a natrual scene image with the image of the marker itself, to get a training set. Is there any way to do that automatically? \nI looked at tensorflow data augmentation class, but it seems it only provides functionality for simpler data augmentation tasks.</p>\n"}, {"tags": ["python", "file", "for-loop", "operating-system"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1541622887, "post_id": 53197376, "comment_id": 93283279, "body": "If it only has one line, why would you need a loop?"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1541622934, "post_id": 53197376, "comment_id": 93283294, "body": "why not csv module?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1541622954, "post_id": 53197376, "comment_id": 93283305, "body": "@mad_: The input isn&#39;t comma-separated, or anything-separated at all."}, {"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 1, "creation_date": 1541623006, "post_id": 53197376, "comment_id": 93283340, "body": "Read the line and split it using regular expressions."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1541624320, "post_id": 53197376, "comment_id": 93283979, "body": "@user2357112 we can still specify which delimiter to use. Although I think a simple read would be enough in this case and (if there are multiple rows) loop through it"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1541624369, "post_id": 53197376, "comment_id": 93283989, "body": "@mad_: There is no delimiter. Any delimiter you specify would be wrong."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1541623077, "creation_date": 1541623077, "answer_id": 53197447, "question_id": 53197376, "link": "https://stackoverflow.com/questions/53197376/smarter-way-of-reading-from-a-txt-file-for-loop/53197447#53197447", "title": "smarter way of reading from a .txt file (for-loop?)", "body": "<p>You could read the whole file into a string variable, then use slice notation to get parts of it.</p>\n\n<pre><code>with read_file = open(file_name, read_mode):\n    line = read_file.read().strip()\n    initial = line[0]\n    last_name = line[1:7]\n    age = int(line[7:])\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9416817, "user_type": "registered", "profile_image": "https://graph.facebook.com/1686223011497246/picture?type=large", "display_name": "mitch", "link": "https://stackoverflow.com/users/9416817/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53197447, "answer_count": 1, "score": 0, "last_activity_date": 1541623077, "creation_date": 1541622763, "last_edit_date": 1541622975, "question_id": 53197376, "link": "https://stackoverflow.com/questions/53197376/smarter-way-of-reading-from-a-txt-file-for-loop", "title": "smarter way of reading from a .txt file (for-loop?)", "body": "<p>I'm reading from a .txt file that has one line of text (<code>YPerson18</code>) I'm wondering if there is a smarter way of writing this code preferably using a for loop.</p>\n\n<pre><code>import os\n\nparent_dir = \"../dirfiles\"\nos.chdir(parent_dir)\n\nfile_name = \"userdata.txt\"\nappend_mode = \"a\"\nread_mode = \"r\"\n\nread_file = open(file_name, read_mode)\n\nthe_lines = read_file.read(1)\nprint(\"Initial of the first name is: {}\".format(the_lines))\n\nthe_lines = read_file.read(6)\nprint(\"The last name is: {}\".format(the_lines))\n\nthe_lines = read_file.read(8)\nprint(\"The age is: {}\".format(the_lines))\n\nread_file.close()\n</code></pre>\n\n<p>How the output should look like:</p>\n\n<pre><code>Initial of the first name is: Y\nThe last name is: Person\nThe age is: 18\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "anaconda"], "comments": [{"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 1, "creation_date": 1541625718, "post_id": 53197337, "comment_id": 93284624, "body": "Most likely it is due to a different BLAS linked to numpy - e.g., see <a href=\"http://markus-beuckelmann.de/blog/boosting-numpy-blas.html\" rel=\"nofollow noreferrer\">markus-beuckelmann.de/blog/boosting-numpy-blas.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "edited": false, "score": 0, "creation_date": 1541630157, "post_id": 53198229, "comment_id": 93286401, "body": "Thanks. I think it is exactly the case. I&#39;m doing some heavy linear algebra calculation via numpy."}], "tags": [], "owner": {"reputation": 5785, "user_id": 7306999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9dNzL.jpg?s=128&g=1", "display_name": "Xukrao", "link": "https://stackoverflow.com/users/7306999/xukrao"}, "is_accepted": false, "score": 4, "last_activity_date": 1541627237, "last_edit_date": 1541627237, "creation_date": 1541626760, "answer_id": 53198229, "question_id": 53197337, "link": "https://stackoverflow.com/questions/53197337/running-quicker-for-numpy-and-pandas-installed-via-conda-than-via-pip/53198229#53198229", "title": "Running quicker for Numpy and Pandas( installed via conda) than via pip?", "body": "<p>Yes, most likely this difference is due to different compilation configurations. Numpy makes use of the low-level fortran libraries <a href=\"https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms\" rel=\"nofollow noreferrer\">BLAS</a> and <a href=\"https://en.wikipedia.org/wiki/LAPACK\" rel=\"nofollow noreferrer\">LAPACK</a>. The numpy that you get from pip is compiled with different implementations of BLAS and LAPACK than the numpy that you get from conda. The latter uses the <a href=\"https://en.wikipedia.org/wiki/Math_Kernel_Library\" rel=\"nofollow noreferrer\">MKL</a> implementation which is optimized specifically for Intel processors.</p>\n\n<p>You can check the implementation that numpy is using in a particular environment with:</p>\n\n<pre><code>import numpy as np\nnp.show_config()\n</code></pre>\n\n<p>Some comparison benchmarks can be found <a href=\"http://markus-beuckelmann.de/blog/boosting-numpy-blas.html\" rel=\"nofollow noreferrer\">here</a> (as already noted by <em>crisb</em>).</p>\n"}], "owner": {"reputation": 428, "user_id": 8840304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fb3fd239c0e5945e79d5e1b787303d9?s=128&d=identicon&r=PG&f=1", "display_name": "MTANG", "link": "https://stackoverflow.com/users/8840304/mtang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1541627237, "creation_date": 1541622570, "question_id": 53197337, "link": "https://stackoverflow.com/questions/53197337/running-quicker-for-numpy-and-pandas-installed-via-conda-than-via-pip", "title": "Running quicker for Numpy and Pandas( installed via conda) than via pip?", "body": "<p>I have two Python environments (3.6). </p>\n\n<p>I installed packages in one environment via conda, and in another environment via pip.</p>\n\n<p>Then I found that conda-provided numpy and pandas run quicker than pip version (for most of the scenario).</p>\n\n<p>Just wonder why this happens. Is that because they use different configuration during compilation?</p>\n"}]